ごめんなさいsharepointについては知識がないのでなんとも言えないのですが サーバー側の機能を利用する場合は、サーバー側で動くプログラムを組まないといけません 最初からそのような機能が提供されていればそれを利用すればいいでしょう （WEBメールなりそれに近しい機能？） もし思い当たるものがない場合、jQueryはあくまでもクライアントサイドの技術なので メール送信は難しいと思います
>自分のアドレスに飛ばす これはいかなExcelでも無理です。相手がそのとき利用するメールアドレス、そのとき利用可能なSMTPサーバの名前などを知らなければプログラムは組めません。 すべての情報を知っているなら http://www.asahi-net.or.jp/~ef2o-inue/vba_o/sub0 … でできそうです。 しかし情報がないのなら、自分のアドレスや件名などがすでに書き込まれた新規メール作成画面を開く、までしかできません。 http://kokodane.com/2013_kan_069.htm
趣味(自宅サーバ)レベルで…なら、Webサーバ稼働しているサーバにメールサーバ立てますかね。 外向けにメール配信が必要なら契約ISPのSMTPサーバにリレーするようにします。 自宅サーバ自体が契約ISPのネットワーク所属でOP25Bとなっていますので。 # もちろんリレー先は587ポートと認証が必要ですが。 レンタルサーバの場合だと…メール送信用にサービスが用意されている場合もあるんじゃないですかね。 勝手にSMTPサーバ立てて無制限にメール送信を許すとSPAM配信の温床になったりするかも知れませんし。
Mega bit per second ＝Mbps Mega bite per second=MBps 1bite=8bit たまに情報収集の際に間違われる方がいるので、いろんなサイトを見るときはきをつけてくださいねぇ～ あと、プロバイダ選びですが、同じプロバイダでもエリア環境、時間で非常に変わってくるので、radish speedのみんなの測定結果は時間、曜日、エリアにきをつけて判断するのをおすすめします。またエキサイトは安いですが、バックボーンが小さいので速度が安定しない所が多いみたいですね。 ですが、基本的にプロバイダなどネット回線環境は動いて当たり前で、一方で遅いと怒り心頭！みたいな方が多いので、悪く書かれる方が多いことは知っておくと良いですよ～。特にエリアの違うところでの口コミをみたところで意味は薄れますし、しっかりと吟味することが大事ですね。実際、遅すぎて使いものにならないような人だけの業者が生き残れるわけないですから
No.1です。 > この本ではCGIが元のhtmlのうち表示が変わるところだけ（ほんの一部）を修正し、そのhtml全体をまたブラウザに送っています。 　はい。HTTPの通信は1回ごとに完結しますのでそのようになります。 　通信をまたいでの情報のやりとりはCookieを使うしかありまえん。 > ブラウザはそれを読んで表示を一からやりなおすようですが、とても無駄なような気がします。これは普通でしょうか。 　はい。HTTPの通信規格でそう定められています。 　常に1ページ分まるまる送ります。HTTPの通信ヘッダー（<HEAD>タグのことではありません）に続き、通信本文として<HTML>から</HTML>までの1ページ分全てを送ります。 > それともなにか別に、CGIが一部のデータだけを送ってブラウザが現在の表示の一部を変える、という方法があるのでしょうか。それはJSなどブラウザ側との連携でしょうか。 　サーバーから前回表示していたページとの差分のみ送り、Webブラウザ側で合成してもらうという規格はありません。
パス（URLではなく、サーバ上の配置）がわかれば参照できるはずです。 CGIはapacheなどwebサーバの権限で動きますし、ドキュメントのディレクトリおよびその中にあるhtmlなどのファイルもその権限で参照できるようになっているはずなので。 パスがわからなければレンタルしているサーバー屋さんに確認してください。
netコマンドは、Windowsのコマンドです。 Cygwin上でWindowsのコマンドを実行すると、時々文字化けとか表示されない、とかがあります。 今回の場合は、net コマンドがShift_JISでメッセージを出力しているのが、文字化けの原因です。 現行のCygwinの標準端末では、UTF-8を使っているので、文字化けします。 対策としては、次のようなものが考えられます。 ○ nkf等を通して、コードを変換する 　実験の結果、そのメッセージは標準エラー出力に出力されているので、リダイレクトには工夫が必要 ○ cygrunsrv を使う 　※ 私は使ったことが無いので、詳細はわかりません。 ○文字コードが混在しても自動判別する端末を使う。 　ck( http://www.geocities.jp/meir000/ck/ )とか
phpやSSIじゃあるまいし、Includeはないです。 my $file="abc.txt"; open (IN, $file) or die "$!"; while (<IN>) { print $_; } とか・・
解らんかったら 諦めた方がえぇ！
蛇足ながら・・・ あんさんのしたいことは「ショッピングカート」じゃないでっか？ http://www.netshop7.com/cart/cart-freecgi.shtml PostMailじゃ無理〜！
あくまでもおおよそ・・・の話です。 ＞例えば ＞・1Mバイトのファイルをダウンロード 　列挙されている候補の中ではこれが大きいかな？と感じます。（帯域制限がなければ・・・）。 　ほかの可能性は呼び出し間隔の程度によるのでなんとも言えません。 　更新作業中のファイルは何時までもロックしないで用事が済んだらただちに解放するとかなど？でしょうか。 　これはどんな内容のスクリプトかは知りませんが。 ＞十数秒おきにしか呼び出せない制限を持たせるかで思案しています。 　たぶんですが、呼び出し間隔が短いような気がします。 　詳細はそれぞれのレンタルサーバの利用規約を確認してみないと不明です。
>if($m % 4 != 0){ $mを4で割って余りが0じゃなかったら >while($m % 4 != 0){ $mを4で割って余りが0じゃない間ループする >if($m % 4 == 3){print "<td width=\"128\" valign=\"top\">　</td>";} $mを4で割って余りが3だったらtdタグを出力 >else{ それ以外だったら ってところですかね。 ループ判定から抜けるためにこの続きで$mの変更が入っているはずですが。
前回、回答した者です。 　ふたたびこんにちは。 　先日の質問の続きですね。 ＞人工無脳と心のメカニズム [Kindle版] ＞http://www.amazon.co.jp/%E4%BA%BA%E5%B7%A5%E7%84 … 　先ほど、無料サンプルをダウンロードして内容を確認してみました。 　「人工無脳」について考察をしている人物による書籍です。 ＞例えばMeCabを入れて動詞や名詞がわかったとしてそれらをどう組み合わせて発音しているのですか？ 　質問に挙げられている疑問は書籍で解説があると思われます。 　ほかにお薦めの書籍としては、 ＞恋するプログラム―Rubyでつくる人工無脳 (Mynavi Advanced Library) [Kindle版] ＞http://www.amazon.co.jp/%E6%81%8B%E3%81%99%E3%82 … 　待望されていた書籍がキンドル版として復刻したようです。 　今までは重版がなく、待ち望まれていた人工無能の作り方を紹介している入門書です。（評判が高いだけに値崩れしそうにありません） ＞ランダムに組み合わせたとしても日本語としておかしくなるし ＞きっちり決めすぎてもおもしろくないので 　そうですね。 　ではどうするのか？ 　その場の話に沿ったテンプレートを大量に用意し、状況に応じて使い分ける。 　人工無能の人格の設定を工夫する。たとえば「私は女子高生」「僕はロシア人の中学生」など。（本当にロシア人というわけではない） LINEで提供されている人工無能会話アプリ「りんな」ちゃんなどが例としてあげられるでしょう。 　人工無能の作り方のコツは受け手である人間が応答メッセージを読んで解釈次第でどうとでもなる曖昧な回答を返すのが味噌だと思います。 ＞人工無能の作り方 ＞https://oshiete.goo.ne.jp/qa/9151557.html 　先日の質問でコメントに対する回答としては。 　厳密ではない応答で良ければもっと簡易な方法でカレンダー機能を使うなどの手法が考えられます。 　天気であれば、パソコンのカレンダー機能を用いて現在であれば「1月14日」であることを読み取る。 　1月であれば当然冬なので、「今日は寒い日ですね」と応答を返すなどが考えられます。
言葉の意味を理解したり辞書を作りながら応答パターンを増やすとなるとハードルが高くなるのではないでしょうか。 それでよければ「形態素解析」と呼ばれる技術を導入する必要がありそうです。 形態素解析とは？ http://gengoro.zoo.co.jp/ 　無償で利用することができる形態素解析ソフトの例。 ＞形態素解析システム MeCab ＞https://www.mlab.im.dendai.ac.jp/~yamada/ir/Morp … 　使用例の一つです。 ＞【natto・mecabで】5分で形態素分析に入門して、修造の「人生を強く生きる83の言葉」の頻出語を調べてみる。【形態素解析】 ＞http://vsanna.sakura.ne.jp/wp/2015/02/natto_mecab/ ＞例 ＞今日の天気は何ですか？　　→　　天気を答える 　クラウドのＩＴ技術ですね。 　人工知能／人工無能では外界を知るすべはないので公開ＡＰＩを組み込む必要がありそうです。 ＞[保存版]⽇本中の開発エンジニアに贈る！現在利用できるAPI⼀覧【2015年版】WebAPI対応 ＞http://tamezatu.com/apis-2015-all/ ※公開ＡＰＩは予告なく仕様が変更になったりサービスそのものが終了することがあります。 ＞りんご知ってる？　　→　知らない　　→　　果物だよ←これを覚える 　これはたぶん、無理かなぁー？人工無能に物の概念を教えるのは難しいかなぁー？っと。
案1)特権(root権限)でkillする。root権限をもっている必要がある。 案2)実行ユーザをuser1にしてkillする。user1のユーザ情報を知っている必要がある。 案3)別ユーザでもプロセスをkillできるようにプログラムを変更する。 ――などの手が思いつきますが、とりあえずroot権限を持っている人に相談してみては。
>home/test/www/が表示されない方法はございますでしょうか？ http://www.test.jp/aaa/a.html が、http://www.test.jp/home/test/www/new/aaa/a.html にリダイレクトされるということでしょうか？ home/test/wwwなど質問文中に一切記述がないのですが、いったいどこから登場したのでしょうか？ 現状で、http://www.test.jp/aaa/a.html で正常にアクセスできている物であれば、内容を new に移して、回答したとおりすれば問題ありません。 ドキュメントルートという言葉の意味はわかってますか？
HTTP通信、ウェブの仕組みをまず理解しましょう。 Common Gateway Interface( https://ja.wikipedia.org/wiki/Common_Gateway_Int … )は、サーバー上でデータを作成して送信してくる仕組みに過ぎませんから、HTMLをContent-type:text/htmlで書き出せば、受け取る側には区別はつきません。 　ここを確実に理解してください。 　Windowsで脳が犯されると、拡張子=プログラムという固定観念がついてしまいますが、ウェブや他のOSでは、拡張子なんてファイル名の一部以上の意味は持ちません。 例) http://hpcgi1.nifty.com/Iruka/ENV_FORM.cgi/hoge. … 　と拡張子をgifにしても・・ 　一方、<script>は、受け取ったブラウザが処理するコードですから、まったく問題ないです。 ちなみに、現在のHTMLを下記CGIの最後(END)のあとにそのままいれて、サーバーにアップロードして御覧なさい。 　その前にファイル名を適当にきめる。hoge.htmlだろうが、hoge.jpgだろうが、kitaoneるkitaone　だろうが好きに決める。 　それを置いたディレクトの.htaccess に次ぎの一行を付け加える。 AddType application/x-httpd-cgi ここにそのファイル名; 　たったそれだけです。 ★Perlへのパスはサーバーに合わせる。 /usr/local/bin/perl print "Content-type: text/html\n\n"; while(<DATA>){print;} __END__
valueの値は別に日本語でなくても単に1でもよい。 <input type="checkbox" name="plus" value="1">100円プラスとなります。 <input type="checkbox" name="plus" value="2">200円プラスとなります。 <input type="checkbox" name="plus" value="1.5">150円プラスとなります。 <input type="checkbox" name="plus" value="3">300円プラスとなります。 で良いです。 　受け取ったときに、配列に入れれば良いだけです。 Perlだと if($name eq "plus"){push @plus , $value;} スカラーではなく配列にいれればよいです。
こんにちは！ Excelでの一例です。 お使いのバージョンがExcel2007以降だという前提で・・・ ↓の画像のように元データはSheet1にあり、Sheet2に表示するとします。 尚、Sheet2の1行目「サイズ」・A列の「色」は入力済みだという前提です。 画像ではSheet2のB2セルに =SUMIFS(Sheet1!$D:$J,Sheet1!$B:$H,$A2,Sheet1!$C:$I,B$1) という数式を入れ、列・行方向にフィルハンドルでコピーしています。 ※　SUMIFS関数の 合計範囲・条件範囲1・条件範囲2　 がそれぞれ1列ずつずらしているコトに注意してください。m(_ _)m
2015/6/26現在の最新バージョンのTopicsBoard v4.2での改造なので、他のバージョンをお使いの場合は、それに合わせて改造するか、バージョンアップして下さい。 topics.cgi #----------------------------------------------------------- # 記事表示 #----------------------------------------------------------- 内に # 文字置換 for ($head, $foot) { s/!bbs_title!/$cf{bbs_title}/g; s/!([a-z]+_cgi)!/$cf{$1}/g; s/!page_btn!/$pg_btn/g; s/!homepage!/$cf{homepage}/g; } という部分があります。 これを # 文字置換 for ($head, $foot) { s/!bbs_title!/$cf{bbs_title}/g; s/!([a-z]+_cgi)!/$cf{$1}/g; s/!page_btn!/$pg_btn/g; s/!homepage!/$cf{homepage}/g; s|!page_num!|$pg != 0 ? 'の' . ($pg / $cf{pg_max} + 1) . 'ページ目' : ''|e; # ←この行を挿入 } のように、「# ←この行を挿入」と書いてある行を挿入し、テンプレートファイルのbbs.htmlファイルの <title>!bbs_title!</title> を <title>!bbs_title!!page_num!</title> に変更してください。 始めのページはタイトルだけで、2ページ目から「の○ページ目」が表示されます。 もしも、1ページ目から何ページ目かを表示したいのなら、先ほど挿入した s|!page_num!|$pg != 0 ? 'の' . ($pg / $cf{pg_max} + 1) . 'ページ目' : ''|e; # ←この行を挿入 を s|!page_num!|'の' . ($pg / $cf{pg_max} + 1) . 'ページ目'|e; # ←この行を挿入 に変更してください。 以上です。 ※ページは、常に最新のページが1ページ目となります。
> 問い合わせフォームから直接指定したメール宛に送られてくるものや、送信ログをサーバーからダウンロードするものがありますが、 > どのようなタイプがよりセキュリティが強いといえるのでしょうか。 この２つだと、情報が危険に晒される経路が一般的に短くなる後者の方がセキュリティ強度は高いことが多いです。 (前者例)１．フォーム　→　２．WEBサーバー　→　３．送信用メールサーバー　→　４．受信用メールサーバー　→　５．管理者PC (後者例)１．フォーム　→　２．WEBサーバー　→　３．管理者PC 発注時に気をつけること…発注先がどこまで攻撃(セキュリティ)に詳しいか。でしょうか。 機能要件を満たすだけの物はプロならすぐ作れますし、もっと言うと無料でそこら辺に転がってます。 ただ、セキュリティ面も考慮するとなると、技術的なハードルや金額が跳ね上がります。 世の中攻撃方法は無数に存在するのでその対策も上限がありません。 どこまでセキュリティにお金をかけるか、ある程度考えた上で打ち合わせされるのが良いと思います。
リファラーがないので403が出ているのかと予想します。 下記の書き方をするとどうでしょうか。 (動作確認はしていません) $options = array('http' => array( 'method' => 'GET', 'header' => "Referer: http://test.ne.jp/\r\n" )); $contents = file_get_contents("folder/text.txt", false, stream_context_create($options));
問合せの文面をみて、Sample-001.xlsx を作成してみました。 ご参考になれば幸いです。 アクセスは、http://1drv.ms/1KSEzaa　です。
私も同様に編集や新規投稿が出来なくて困っています。 ただ、予約投稿したものはアップされていますが、ブログランキングなどに反映されておらず、記事をスマホなどでは読むことが出来ません。
昔のページを見れるサイトで、 http://www.mytools.net/cgitools/formmail1.html を検索したところ、 http://web.archive.org/web/20121123134518/http://www.mytools.net/cgitools/formmail1.html にて、ダウンロードが出来ましたよ。 （リンクがちゃんと貼られないので、コピー＆ペーストしてください）
私の場合、＠を全角にしてメールアドレスを記載、「＠を半角に直して下さい」と注意書きをしました。 どこにでもある非常に原始的な方法なのですが、これが一番効果があったように思います。 フォームを使わなくてもよいなら、お勧めです。「迷惑メール対策のため」と書いておいてはいかがでしょうか。
前のサイトのアクセス解析を残せば、前のサイトにどのくらいの頻度でアクセスがくるか わかるので、あまり多いようであれば並行運用期間を延ばすなど検討する材料になります そのさいどこから飛んできたかわかるのでスタティックなリンクであれば リンク元に注意喚起することができるでしょう。 前のサイトのアクセス解析を残さなくても、新しいサイト側で転送されてきた件数などは 拾えると思うので、ある程度の指標にすることはできると思います。
お使いのバージョンを書いていただけるといいのですが、おそらく ホームタブ→右端の「検索と置換」を押す→オブジェクトの選択 で如何でしょうか？
リダイヤルの記述方法ならこちらのサイトに詳しく載っていますよ(^o^) 参考にしてみてはいかがですか？ http://www.saiin.net/setting/htacc.html
えぇと, つまり ・$yoto1 が「ある」ときには $yoto1 と $yoto をカンマ (なりなんなり) で区切る ・$yoto1 が「ない」ときには $yoto だけにする ってこと? もしそうなら, 何も考えず「そのような文字列」を作って変数に入れてしまえばいい.
いくつか方法はありますから併用します。 1) robots.txt (複数形です) 　に、掲示板のあるディレクトリでは検索結果を表示しない指定を書く 2) HTTP応答ヘッダに 　Header set X-Robots-Tag "index,nofollow" 3) 出力HTMLに 　<meta name="robots" content="noindex,follow" > 　を加える。 長くなるので、良いページを紹介します。 　⇒クローラーとインデクサの制御 | SEO 検索エンジン最適化( http://www.searchengineoptimization.jp/controlli … ) 今回は、.htaccsではなく、CGI側で処理すべき問題です。 どうせ、掲示板CGIが応答ヘッダを作りますから、.htaccessに書いてもうまく制御できません。 (2)と(3)はCGIが出力しますから・・ どこかに制御すべきIPアドレスを指定する正規表現を作っておいて、それをCGIが動作するときに読み込んで、該当すれば適当な内容のページを出力する。 　いちいちテキストファイルを作成するのは面倒なので、掲示板の管理画面から、荒らしと見られる投稿を見つけたら、[荒し]ボタンをクリックしたら、その投稿を削除すると同時に定義ファイルに追加されるようにすれば良いです。 　それが一番楽で確実でしょう。 　一般的なページではなく、掲示板と言うＣＧＩですから、.htaccessなんぞ弄らなくとも自在にプログラムで操れますよ。
ご参考にどうぞ http://www.dell.com/support/Manuals/jp/ja/jpbsd1 …
変数とは、中学校で学んでいるそのままです。 小学生が中学生になってはじめて学びますから、小学校を卒業してたら分かるはずです。 数学で言うところのxやyが変数でしたね。 　それに、許される形のデータを入れ(代入し)て、それを取り出して使うもの。 　y = 2x²　でしたら、xに任意の数字を入れて使いましたよね。 　これを関数と習いましたが、本来は函数と書くべきだと習いませんでしたか？函は箱と言う意味ですが当用漢字から外されたために"関"を使うから、「箱(函)のようなもの」という説明が理解できないのでしょう。 変数には、様々な形のものがあります。 数値がひとつだけ入る。スカラーと言います。 　整数型とか浮動小数点型とかの数値を入れる 　イエス・ノーの値だけ ブーリアン 　関数が入るとか プログラムにおいては、様々な形のものが入ります。CGIに良く使われるPerlでしたら、 $で始まるスカラー　文字や数値 @で始まる配列 %で始まる連想配列とか
%7B0%7Dは、 {0} の意味ですよ。URLエンコードされている。 URLに使える文字は、 unreserved = alphanum | mark mark = "-" | "_" | "." | "!" | "~" | "*" | "'" | "(" | ")" ですから、{と}は、%で始まるコードに変換されている。 ＞URLの本来であれば～～.pyと表示される部分が ではなくて、{0}が、%7B0%7D となっている。 .py は多分pythonのファイルだと思いますが、それがそきにでしたら、単純に実行権限を与えて、.htaccessに、CGIだと指定してやればよい。Windowsじゃなければ、ファイルの最初に書かれているパスでどのプログラム化はOSが判断する。 　もちろん、Windowsじゃなければ、拡張子はファイル名以上の意味は持たないので、拡張子は.cgiだろうが、htmlであろうが関係ありません。
SSIと混同されている？？ PHPから外部プログラムを実行する場合は、(この場合)execです。 ・PHP :: 外部コマンドを実行する関数「system」と「exec」の比較 [Tipsというかメモ]( http://tm.root-n.com/programming:php:etc:system_ … ) また、CGIでファイルを出力させて、それをPHPからファイル自体を読み込むとか・・ CGIの場合は、SSIとして動作させることはできませんから、CGIからシェル経由で動作させないと・・
echo に encoding 属性を指定してみたらどうでしょうか。私の利用しているプロパイダでは、文字化けせずに表示することができます。(ちなみに、HTML の文字コードは euc-jp で、サーバは Apache/2.2.25 です。) <!--#config timefmt="%Y年%m月%d日（%a）" --><!--#echo encoding="none" var="DATE_LOCAL" -->
// source = A[] var sort = from p in source orderby p.categoly. p.price, p.name select p; foreach(var ans in sort){ system.diagnostics.debug.writeline(ans.id); } こんな感じでどうでしょうか？ http://msdn.microsoft.com/ja-jp/library/bb383982 …
PHPだと、 $mess1 = rawurlencode('下痢腹晋ちゃんまたも途中退陣'); が使えます。
ん～。ANo.3の結果を見るとやっぱりHeaderを指定するのがダメっぽいですな。 とするとこれはもうどうしょうもないかな。 OCNにこだわりやお付き合いや政治的な圧力が無ければさっさと別の場所に移るのが吉かと。 どーーーーーしてもこのまま運用してかつno-cacheしたいんだい、となると・・・・例えばPHPとRewriteが使えるのであれば（←OCN メール＆ウェブ ビジネスの説明を見るとWordPressが使えるらしいのでこれはOKなはず）、no-cacheヘッダーを返した後ファイルを読んでその中身を返すようなphpを書き、それを.nocache.phpなどという名前でサーバーのドキュメントルートにアップロードする。 そしてドキュメントルートの.htaccessには以下のような設定を書く。以下の内容はFilesディレクティブの中に入れなくていいというか入れちゃいけない。 RewriteEngine On RewriteBase / RewriteCond %{REQUEST_FILENAME} -f RewriteCond %{REQUEST_FILENAME} \.(html|pdf)$ RewriteRule . /.nocache.php [L] これで.htaccessにHeaderディレクティブを書けなくてもあなたがやりたい事は実現可能だ。
同じデータ（assdata）を使っているからでしょう。 ディレクトリを分ければいいだけです。 |-index.html |-ass1 |　|-assdata |　|-ass10.cgi |　|-cgi-lib.pl |-ass2 |　|-assdata |　|-ass10.cgi |　|-cgi-lib.pl cgi-lib.plは１つにして共有してもいいです。
簡単に動作確認をしていますが、改造は、自己責任でお願いします。 動作がおかしいと思ったら、元に戻してください。 > という箇所があるのを見つけたのでここをいじれば何とかなるのかな ご質問に記述されている箇所の修正のみで出来ると思います。 larry.cgiの222行目付近と232行目付近にある &html_checkindi("user_alcheck.html","sitename"); と &html_checkindi("user_linkck.html","sitename"); のそれぞれ "sitename" の後に ,"banner" を追加して下さい。 &html_checkindi("user_linkck.html","sitename","banner"); このように。 204行目付近にある $sitename = $y3[5]; の前の行に、以下のどちらかを記述します。 （[サイトバナーの登録がない時]の対処方法の選択） ・仮バナーを表示する $banner = $y3[7] ? qq|<img src="$y3[7]">| : qq|<img src="仮バナーのアドレスを記述">|; ・仮バナーは表示しない $banner = $y3[7] ? qq|<img src="$y3[7]">| : ''; --------- そして、user_alcheck.htmlとuser_linkck.htmlをテキストエディタで開き <!--BANNER--> を好きな場所に記述してください。 これで多分、大丈夫だと思います。
　回答に自信が無い。 　検索結果によると過去にこういう事例が存在したらしい。 ＞Yahoo!ジオプラスで送信フォームが動かない ＞http://webdirector.livedoor.biz/archives/5196574 … 　送信ができたつもりで実はできていなかったか、意図せず設定を変更してしまったのか？ ＞Re:cmfmailのFromについて ＞http://cmf.ohtanz.com/cgi-bin/sbbs/supportbbs.cg … 　説明では動けるように見えてなにか制限が設定をされているような？ 参考URL：http://webdirector.livedoor.biz/archives/5196574 …
普通にリストとしてマークアップして、スタイルシートでフロートさせれば良いです。 文書の整形のためにtableを使用するのは禁忌でもあるし・・ 『単に文書内容を整形する目的だけで表を用いるべきでない。( http://www.asahi-net.or.jp/%7Esd5a-ucd/rec-html4 … )』 『ページレイアウトの目的で表を用いる。( http://www.asahi-net.or.jp/%7Esd5a-ucd/rec-html4 … )』 　それを、ウィンドウ幅に合わせて伸縮させれば良いです。mediaquery使ってウィンドウ幅で列数を変更することも可能になります。 [例] <ol id="PartyList"> 　<li>内容</li> 　<li>内容</li> ・・・ ol#PartyList,ol#PartyList li{list-style:none;margin:0;padding:position:relative;} ol#PartyList li{width:19%;float:left;}
＞mod_rewriteのリダイレクト機能を紹介されたのですが リダイレクト機能を使わずに、rewriteだけすればいいです。 R=301 と書いたと思うので、それだけを削除。
HTML::Entities の encode と decode 、もしくは CGI.pm の escapeHTML と unescapeHTML use HTML::Entities; use CGI qw(escapeHTML unescapeHTML); my $unescape = qq(<h2>"hoge"&' bar &lt;'</h2>); print "--- use HTML::Entities::encode ---\n"; my $escape1 = HTML::Entities::encode($unescape); print $escape1, "\n"; print HTML::Entities::decode($escape1), "\n"; print "\n"; print "--- use CGI escapeHTML ---\n"; my $escape2 = escapeHTML($unescape); print $escape2, "\n"; print unescapeHTML($escape2), "\n"; --- $ perl -w foo.pl --- use HTML::Entities::encode --- &lt;h2&gt;&quot;hoge&quot;&amp;' bar &amp;lt;'&lt;/h2&gt; <h2>"hoge"&' bar &lt;'</h2> --- use CGI escapeHTML --- &lt;h2&gt;&quot;hoge&quot;&amp;' bar &amp;lt;'&lt;/h2&gt; <h2>"hoge"&' bar &lt;'</h2>
で、 ./lib/menu_list.pl line 310. は何が書かれている？？
CGI.pmのマニュアルに書いてあると思います。 http://search.cpan.org/dist/CGI/lib/CGI.pm#Proce … 和訳: http://perldoc.jp/docs/modules/CGI-3.49/CGI.pod# … CGI.pmはアップロードされたファイルを一時的にファイルに保存し、$q->uploadでそのファイルのハンドルを取れるようにするようです。
error関数の引数に特殊変数「$!」を入れて実行してみてください。 作成できない原因がわかるはず。
では、元のファイルと、ダウンロードしたファイルを、バイナリー比較可能なツールを使って比較してみてください。 おそらく、違ったものになっています。 ファイルをテキストモードで開いて、「1行」ずつ読み込んで(<FILE>)、 テキストモードで出力(print)しています。 テキストモードでバイナリファイルの読み書きをすると、「文字化け」を起すことがあります。 binmodeでバイナリーモードにしましょう。 <>はバイナリーには向かないので、 read等を使いましょう http://perldoc.jp/func/read このプログラムに無い部分や、サーバーの設定によっては、別の対策も必要かもしれません。
ユーザーエージェント（HTTP_USER_AGENT）の値で判別できますが。 http://html-coding.co.jp/knowhow/tips/000218/
??? 二つ書けばいいんじゃない? <VirtualHost *:80> ServerName www.example.jp DocumentRoot /home/foo/htdocs </VirtualHost> <VirtualHost *:80> ServerName sub.example.jp DocumentRoot /home/foo/htdocs/sub </VirtualHost>
拡張子の.はあってもなくても同じです。 さくらは制約が多く使ったことありませんが、ひょっとしてhttp.confの LoadModule include_module modules/mod_include.so の行がコメントアウトされているとか。 option のoverwriteが、制約されているとか <Directory *****> AllowOverride All </Directory> ユーザーディレクトリでincludeが許可されていないとか そのうえで.htaccessにて、 Option +Includes 通常のサーバーは、それでSSI有効になるはずですが・・ 　さくら自身に聞いて見るしかないかと
ハッシュに代入するのですから、キーが同じでしたら値は上書きされてしまいます。 $hash{key} .= $value として追加するか、あらかじめ複数の値があるとわかっている場合はハッシュではなく、リストに入れるとかすると良いです。 送信先(actiom)を、 http://hpcgi1.nifty.com/Iruka/ENV_FORM.cgi#form_ … にして確認する。 　ここで分かるように、すべてのチェックボックスのnameを替えてしまうというのも手です。
Shift_JISにするとCGIが動作しなくなるのは、ほとんど常識です。 　スクリプト内に ―ソЫ噂浬欺圭構蚕十申曾箪貼能表暴予禄兔喀媾彌拿杤歃濬畚秉綵臀藹觸軆鐔饅鷭 あるいは ァА院魁機掘后察宗拭繊叩邸如鼻法諭蓮僉咫奸廖戞曄檗漾瓠磧紂隋蕁襦蹇錙顱鵝 な文字入ってたら必ず文字化けします。 したがって、スクリプト自身は、UTF-8ないし、EUC-JPで作成します。 それと、フォームやメールをどの文字コードで送信するかはまったく別の問題です。 メール本文は、iso-2022-jpで送ります。【必須】 メールのヘッダ部に日本語が含まれる場合も、iso-2022jpに変換した上でBASE64エンコードしなければなりません。 　この方、あまり詳しくはないみたいです。
本当に送られてますか？？ 送信先を http://hpcgi1.nifty.com/Iruka/ENV_FORM.cgi にして確認する。
デザイナー上がりでフリーの方ですか？ 「サーバ要件に合わせた制作の知識がある」というのであれば、 まずサーバの仕様書を貰ってください。 これはマストです。 逆に言うと、これだけでほぼ解決しますし、そもそもサーバの仕様も貰わないでどうやって作るんですか・・・ 最適化とかやってらっしゃいますか？インストーラが動けば終了とかなんじゃないんですか？ また、No.1の方が仰有るように、sshのログインを許可して貰ってください。これはベストですが、貰えないこともあります。 ただ操るスキルが無さそうですので、あっても無くてもでしょう。 正直ウェブ屋としてどうなんでしょうか。 補足を見れば見るほどどきどきしてきます。 PCにvirtualboxとcentos https://www.virtualbox.org/ https://www.centos.org/ でも入れて、最低限ウェブサーバの挙動くらい勉強してください。 分かっているはずのことが分かっていなくて、応えようにも応えられません。 単純にMTAが動いてないだけとかそんな感じはひしひしとしますが・・・。
本当に基本的な事ですが・・ HTTPプロトコルでの通信は GET /cgi-bin/form/contact/app.cgi?contact=01 以下省略 とGETで、サーバーに要求します。(POSTなどもある) ※#以下はブラウザ側に必要な情報なのでサーバーには送られません。 1) サーバーは、その要求・・に、?があればそれ以下の文字列をQUERY_STRINGという環境変数に格納します。CGIはそれを利用できます。$ENV{'QUERY_STRING'}ですね。 2) ついで、指定されたパスに従って 　/ 　|-- cgi-bin/ 　　　　|-- form/ 　　　　　　　|-- contact/ 　　　　　　　　　　|-- app.cgi 　というファイルを探します。 ※ここからがWindowsと大きく異なる部分 　app.cgiがファイルだったら、それを提供します。 　app.cgiが実行ファイルでしたら、実行権限があれば実行します。 　　実行するプログラムはファイルの最初に書いてあるか、サーバーの指定 　　すべて、サーバー側の設定です。Windowsのように拡張子もレジストリは使わない。 　app.cgiがディレクトリでしたら、それを開いてみる。 　　・内部にDIRECTRY_INDEXで指定されたファイルがあるとそれを提供、 　　　または上記の通り実行する。 　　・なければ、NOT FOUNDを返す。 　app.cgiがなければ、/appcgiは環境変数PATH_INFOに格納して上位のcontactを調べる。 　これを/cgi-binまで繰り返します。 　　極めて単純な文字通り機械的処理で/ルートまで進みます。 ＞app.cgiが実態っぽいという場合は、/form/contactは何のためにあるのでしょうか。 　どれが実体であるかは、ユーザーにはわかりませんし、知る必要もないです。 　たぶん、ディレクトリ(Windowsではフォルダー)を示しているものだと思われます。 　ひょっとして実体は/cgi-bin/form/contact、/cgi-bin/form、あるいは/cgi-binかもわかりませんし、/cgi-bin/form/contact/index.cgi、/cgi-bin/form/index.cgi、あるいは/cgi-bin/index.cgi、はたまた/cgi-bin/abc.php かも知れません。 ＞contactが実態っぽいという場合は、単に拡張子を消しているだけでしょうか。 　拡張子はWindows以外のOSでは一切関係ありません。contactが実行ファイルかもしれませんし、それはディレクトリかもしれません。 　このページのURLが http://oshiete.goo.ne.jp/qa/8588097.html 　であっても、8588097.htmlというファイルは実在しません。
MAIL も他のHTTPなどの通信と同じようにヘッダ部分と、空行を置いて本文になります。 ヘッダ部分に To: Subject: From: Reply-To: Content-Transfer-Encoding: 7bit Content-Type: text/plain; charset=ISO-2022-JP は揃ってますか？？？受信メールのソースを確認すること なお、基本的にiso-2022-jpで送信されますから、Subjectや差出人、あて先に日本語を含む場合は、Base64エンコードが必要です。それには、 MIME::Base64 モジュールの encode_base64を使用すると簡単で良いでしょう。 　ちゃんとしたフォームメールCGIには、これらはすべて含まれているはずです。また、上記のスクリプトでは同名のハッシュは上書きされてしまいますよ。 　ヘッダのSubject:については、カテゴリーを選択させて自動的にタイトルをつけさせるほうが良いです。CGIを使いまわし出来ますし、受信側で振り分けも出来ます。
そのサーバのマニュアルをお読みなさい。 そのサーバーを借りている貴方にしかわからないです。 　たぶんプレインストール済みのCGI用---あくまで推測
＞お支払総合計9,280円　が　9114+464+630= ＞10208円になるようにcgiデータがなるように変更したいのです。 それ、消費税を２重取りしてるよ。間違い。 ＞1 6668□500ml ヴィッラ・ピロ エクストラ・ヴァージン・オリーヴオイル 3,234 1 3,234 これは「本体3080円、税込3234円」ですよ。 ＞2 2152●750ml コルナス＜古木＞ 1996年 アラン・ヴォージュ 5,880 1 5,880 これも「本体5600円、税込5880円」ですよ。 なので、 ＞商品代金合計 　9,114 は「税込9114円」です。本体価格は「8680円」で、５％の税金は「434円」です。 ＞消費税 　464 この「464円」は「送料630円（税込）」の税の「30円」と、商品のみの消費税「434円」を足した「434＋30＝464」です。 ＞送料 ( 1 個口 ) 630 これは「税込」なので「本体価格600円、税30円」です。 お客が支払う「総合計」は「8680（本体）＋434（税）＋600（本体）＋30（税）＝9744円」です。 ＞お支払総合計 9,280円 + 464」 本体価格は「8680（本体）＋600（本体）＝9280円」です。 消費税は「434（税）＋30（税）＝464円」です。 なので「お支払総合計 9,280円 + 464」で正しいです。 ＞お支払総合計9,280円　が　9114+464+630= ＞10208円になるようにcgiデータがなるように変更したいのです。 それ、明らかに「消費税の２重取り」で、違法です。 商品明細を「本体価格」にして、送料も税別表示にして 1 6668□500ml ヴィッラ・ピロ エクストラ・ヴァージン・オリーヴオイル 3,080 1 3,080 2 2152●750ml コルナス＜古木＞ 1996年 アラン・ヴォージュ 5,600 1 5,600 商品代金合計　8,680 消費税　464 送料 ( 1 個口 )600 お支払総合計9,280円 + 464」 となるのが正しい。 なお 「商品代金合計　8,680」の「8680」は「本体価格合計である」事に注意。 「消費税　464」の「464」は「送料600円の税30円も含む」事に注意。 「送料 ( 1 個口 )600」の「600」は「税抜きの本体価格である」事に注意。 ＞$sougoukei = $sougoukei - $uchizei; ＞を ＞$sougoukei = $sougoukei + $uchizei; ＞にするこで解決致しまた。 ほら、引き算を足し算しちゃってるから「消費税の２重取り」になってる。 このまま続けたら「顧客からクレームの嵐」になるから、素人が訳も判らず弄り回すのは止めましょう。絶対に酷い目にあいます。 少なくとも「今のままでは、詐欺と言われても、弁解は不可能」です。
＞＞ホスト側にあるファイルとサーバー側にあるファイルが「同じ大きさ」の場合、 ＞　逆に、じゃないといけないですよね。 いいえ。「同じサイズだとNG」です。 .htaccessファイルは「テキストモードで転送」しなければなりません。 何故なら「転送元の端末と、サーバーで、改行コードが同じだと言う保証が、どこにもない」からです。 テキストモードで転送した場合、改行は「サーバー側が改行として解釈する文字コード」に変換されてサーバーに置かれます。 通常、サーバーが「LINUX系」で、端末側が「Windows系」の場合、テキストモードで転送すると、ファイルの行数と同じだけ、ファイルが小さくなります。 これは「Windows系の改行が２バイト、LINUX系の改行が１バイト」だからです。 例えば「５行のファイル」は、5個の改行が「２バイト×５個」から「１バイト×５個」になるので、５バイト短いファイルになってアップロードされます。 ＞　テキストでアップされなければならないから、同じでないと。 逆です。 テキストでアップされた場合は、端末とサーバーでサイズが変わります。 同じサイズで送られているなら、バイナリで転送されてしまっています。 ＞　実際には同じになっていますし、自分のサイトをdenyに入れてやってみましたが、 ＞　チャンと拒否されます。 その「自分のサイトの指定」は「一番最後の行」に書いてませんか？ 以下のようなファイルをバイナリ転送した場合を考えます。 order allow,deny<CR><LF> allow from all<CR><LF> deny from .microad.jp<CR><LF> deny from .amazonaws.com<CR><LF> deny from 自分のサイト[EOF]　　　←この「最後の行」の末尾は、改行していません。 このような「改行が<CR><LF>になっているテキストファイル」は「Windowsのメモ帖」でテキストファイルを保存した時に作成されます。 HTTPサーバーは order allow,deny<CR> を評価します。末尾に「<CR>」が付いているため order allow と解釈し「,deny<CR>」をエラーで無視します。 次に allow from all<CR> を評価します。末尾に「<CR>」が付いているため「all<CR>というサイトをアクセス許可」します。「すべてのサイトをアクセス許可」にはなりません。 次に deny from .microad.jp<CR> deny from .amazonaws.com<CR> をそれぞれ評価します。末尾に「<CR>」が付いているため「.microad.jp<CR>」と「.amazonaws.com<CR>」がアクセス拒否されます。 この時「.microad.jp」と「.amazonaws.com」は、一致しないため、アクセス拒否されません。 次に deny from 自分のサイト を評価します。一番最後の行で、末尾で「ファイルが終わった」ため、末尾に余計な「<CR>」は付着していません。正しく「自分のサイト」がアクセス拒否されます。 どうです？「間違ってバイナリで転送しちゃったけど、自分のサイトだけはちゃんとアクセス拒否された」でしょう？ そういう訳なので、ちゃんと「テキストモードで転送」して「サーバー側のファイルのファイルサイズが数バイト小さくなったのを確認」しましょう。 ちゃんと「テキストモード」で転送すれば、サーバーに order allow,deny<LF> allow from all<LF> deny from .microad.jp<LF> deny from .amazonaws.com<LF> deny from 自分のサイト[EOF] と言うファイルが送られ、それぞれの行が、ちゃんと order allow,deny allow from all deny from .microad.jp deny from .amazonaws.com deny from 自分のサイト と評価されます。 なお「転送元の端末も、サーバーも、どちらもLINUX系」であったり「転送元の端末も、サーバーも、どちらもWindows系」であった場合、どちらも「改行コードは同一」ですから、テキスト転送でもバイナリ転送でもサイズは変わりません。 但し、テキストファイルで漢字を使った場合は、テキストとバイナリで「大違い」ですから、漢字混じりのテキストは必ずテキストモードで転送しなければなりません。
(for /r /d %i in (*) do for %j in (%i\*.html) do echo Filename:%j & type "%j") > "C:\hoge\combine.html" もしくは(普通は)、 (for /r %i in (*.html) do echo Filename:%i & type "%i") > "C:\hoge\combine.html"
点（モノ）の数だけ処理するのを避けたいなら、 R木のように事前にデータを整理する必要があります。 いきなり探索するとしたら、総当りしかないでしょう。 また、「距離」は一般にはユークリッド距離を指します。 二つの点 (x1,y1) と (x2,y2) のユークリッド距離は 　√((x1-x2)^2 + (y1 - y2)^2) で求まります。 例として点(0,0)と(9,9)の距離は、約12.7になります。 つまり、(0,0)と(9,9)の距離は10を大きく超えています。 > ｘ+10, x-10,y+10,y-10を境界にifで処理すると とのことですが、それでは正しい判定はできません。 No.2さんの言うように、2点間の距離を計算して 2点間の距離をif文一回で判定すべきでしょう。 ユークリッド距離でなく、市街地距離やチェス盤距離で 内外判定したいなら、上の境界とif文ででもできますが。
すみません、勘違いしてました。 ln は自然対数 log_e でしたね。
No.1です。 いや、 ＞「あなたは<img src="./cgi-bin/houmon.cgi">人目の訪問です。」 に組み込めばよいだけだと申してます。 　ただ、その場合、当然ですがHTTR_REFERERはそのカウンターページになりますから、リンク元まで調べたければ、そのindex.htmlをCGIにしてしまえばすみます。 [例]index.html ★.htaccessで、index.htmlをCGIとして動作するよう指定する。 ★タブは＿に置換してあるので戻す。 #!/usr/bin/perl print q~ Pragma: no-cache Cache-Control: no-cache Expires: -1 Content-type: text/html\; charset=Shift_JIS ~; while(<DATA>){ s/<!--HTTP_REFERER-->/$ENV{'HTTPREFERER'}/; print; } __END__ <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html lang="ja"> <head> ＿<meta http-equiv="content-type" content="text/html; charset=Shift_JIS"> ＿<title>サンプル</title> </head> <body> ＿<div class="header"> ＿＿<h1>タイトル</h1> ＿＿<p>あなたは<!--HTTP_REFERER-->からきました。</p> ＿</div> ＿<div class="section"> ＿＿<h2>見出し</h2> ＿＿<p>・・・</p> ＿</div> ＿<div class="footer"> ＿＿<h2>文書情報</h2> ＿＿<dl class="documentHistry"> ＿＿＿<dt id="FIRST-PUBLISHED">First Published</dt> ＿＿＿<dd>2012-08-10</dd> ＿＿</dl> ＿</div> </body> </html> ￣￣￣￣￣￣￣￣￣￣￣￣￣ここまで 　拡張子は、Windowsというお馬鹿なOS以外、またネットワークでは関係ないです。 　まあ、ちゃんとしたウェブサーバーでしたら、ログは残っているのでそれを参照すのが効率的なのですが・・ ※javascriptでも良いでしょう。
関係あるかわかりませんが、2箇所tableタグが正しく閉じられていないようです。 以下、表示がくずれるの空白2文字を全角空白1文字にしていること注意。わかりやすい ようにインデントも入れた。 (1) 先頭のtableタグ <center> 　<span style="width:100%;font-size:35px;color:#FFA09B;Filter:Shadow();font-family:ＭＳ Ｐゴシック, Osaka;"> 　　謎解き情報BBS 　</span> 　<br><br><font color=#8187FC>01643</font><br> 　<table width="90%" bordercolor="#F5B687" border=1><tr bgcolor="#FFFFFF" align="center"> 　　<td><a href="../../../index.shtml">HOME</a></td> 　　<td><a href="../../../index.shtml">HOME</a></td> /center><br> <center> 　<table><tr><td> 　　<strong> 　　　■ 謎解きサイトの登録について、 　　　... 　　/strong> /td></tr></table> (2) 最後のtableタグ <center> 　<table width="90%" bordercolor="#F5B687" border=1><tr bgcolor="#FFFFFF" align="center"> 　　<td><a href="../../../index.shtml">HOME</a></td> 　　<td><a href="../../../index.shtml">HOME</a></td> 　　<br> 　　<!--著作権表示 削除しないでください--> 　　- <a href="http://www.cj-c.com/" target="_blank">I-BOARD</a> - </center>
単純なHTMLで試しても同じですか？以下のHTMLだと「hoge BEGIN」から「hoge LAST」 まで表示されますよ。firefoxとgoogle chromeで試してみました。 表示がくずれるので、空白2文字を全角スペース1文字にしていることに注意。 <html> 　<head> 　　<script type="text/javascript"> 　　　<!-- 　　　　window.onload = function() { 　　　　　window.alert('HOGE'); 　　　　} 　　　//--> 　　</script> 　　<title>hoge</title> 　</head> 　<body> 　　<p>hoge BEGIN</p> 　　<p>hoge</p> 　　<p>hoge</p> 　　 ... 　　 ... <p>hoge</p> を 1万行ぐらい繰り返し 　　 ... 　　<p>hoge</p> 　　<p>hoge</p> 　　<p>hoge</p> 　　<p>hoge LAST</p> 　</body> </html>
　文字をあらわすコードは、長さが一律でないですから単純に数では切れません。文字と文字の境界を知らないとなりません。 　また、URLを含むと言うことで、事前に他のキーワードに変換しておかなければなりません。具体的には 【引用】＿＿＿＿＿＿＿＿＿＿＿＿ここから $http_URL_regex = q{\b(?:https?|shttp)://(?:(?:[-_.!~*'()a-zA-Z0-9;:&=+$,]|%[0-9A-Fa-f} . q{][0-9A-Fa-f])*@)?(?:(?:[a-zA-Z0-9](?:[-a-zA-Z0-9]*[a-zA-Z0-9])?\.)} . q{*[a-zA-Z](?:[-a-zA-Z0-9]*[a-zA-Z0-9])?\.?|[0-9]+\.[0-9]+\.[0-9]+\.} . q{[0-9]+)(?::[0-9]*)?(?:/(?:[-_.!~*'()a-zA-Z0-9:@&=+$,]|%[0-9A-Fa-f]} . q{[0-9A-Fa-f])*(?:;(?:[-_.!~*'()a-zA-Z0-9:@&=+$,]|%[0-9A-Fa-f][0-9A-} . q{Fa-f])*)*(?:/(?:[-_.!~*'()a-zA-Z0-9:@&=+$,]|%[0-9A-Fa-f][0-9A-Fa-f} . q{])*(?:;(?:[-_.!~*'()a-zA-Z0-9:@&=+$,]|%[0-9A-Fa-f][0-9A-Fa-f])*)*)} . q{*)?(?:\?(?:[-_.!~*'()a-zA-Z0-9;/?:@&=+$,]|%[0-9A-Fa-f][0-9A-Fa-f])} . q{*)?(?:#(?:[-_.!~*'()a-zA-Z0-9;/?:@&=+$,]|%[0-9A-Fa-f][0-9A-Fa-f])*} . q{)?}; 　さて，ここまで長々と書いてきましたが，正確に正規表現を書くことを あきらめて，もっと簡単でいいやという人のための http URL の正規表現が以下になります． 　 s?https?://[-_.!~*'()a-zA-Z0-9;/?:@&=+$,%#]+ ￣￣￣￣￣￣￣￣￣￣￣￣￣ここまで［Perlメモ( http://www.din.or.jp/~ohzaki/perl.htm#URI )］より 　いったんこれでURLを見つけて、他のキーワードに変更しておきます。 　そのうえで、 ⇒特定の長さで折り返す( http://www.din.or.jp/~ohzaki/perl.htm#JP_Fold ) 　を行いますが、先のキーワードの問題がありますから、キーワードの前後で改行を入れておいたほうが良いでしょう。 　なお、フォームメールでしたら<textarea>をheardにしておいて、入力時に改行させて改行コードどもに受信するほうが楽かと思います。<TEXTAREA wrap="hard">
No.2,4,5,6です。 > 因みにnameの数もそうですが、当然渡すデータサイズも関係しますよね？ > max、20byteのパラメータが3個は・・・全行にあり、ここも不要な場合、削除しました。これは大きいですよね？(^^; もちろん渡すデータサイズがPOSTのサイズに関わってきますが、 max20バイトだったら、200行×8チェックボックス×20バイト=32Kバイト 程度のものですよ。POSTデータとしてはたいしたことないサイズだと思います。 (画像のアップロードにもPOSTを使いますが、そんなのは数メガ行く場合もあります) 追加の観点としては、そのCGIのパラメータ解析処理に問題がないかも 見た方がよいと思います。もしかして32Kの固定バッファを使って POSTデータを読み込んでいて、32Kバイト以上のPOSTデータを受信すると バッファオーバーフローでメモリ破壊してしまい、DBオープン処理や GetPrivateProfileStringが正常に実行できなくなっているという可能性は ないでしょうか?ということです。
クラウドサービスに投げてみる。 ランサーズ ( http://www.lancers.jp/ )とか色々あります
基本からやり直しですね。 <!--#include file="cgiファイルまでのパス" --> 　はSSIのコードですよ。PHPやCGIとは関係ない。サーバーがSHTMLと解釈してサーバーが指定された処理を行う。このコードは、指定されたファイルをそのまま出力する物ですから、拡張子には関係なくそのまま表示されます。 ★Windowsに犯されている人は拡張子を誤解されています。 ＞現在.htaccessファイルに下記のコードを記述して.htmlファイルにPHPのコードを埋め込んで実行させています。 　違います。 AddType application/x-httpd-php .htm .html 　はサーバーに、.htm　.htmlファイルがPHPだと知らせているので、拡張子がそれらのファイルはPHPとして動作する。 ＞AddType application/x-httpd-cgi .htm .html 　は、それらのファイルをCGI(Common Gateway Interface)・・実行ファイルだとサーバーに知らせている。サーバーはそのファイルを実行ファイル(Windowsだとexeなど)として処理しようとする。実行ファイルには先頭に使用するプログラムが指定されているはず #!/usr/local/bin/perl 　とか・・。Windowsとは全く異なる方式です。 ＞現在.htaccessファイルに下記のコードを記述して.htmlファイルにPHPのコードを埋め込んで実行させています。 　ではなく、拡張子.htm .httmlのファイルをPHPとして処理させています。 ＞別に.htmlファイルにCGIのコードを記述し動作させたいと思っているのですが、これは可能でしょうか？ 　これも違う。.htm .html拡張子のファイルをCGIとして動作させる 　です。
IEはXmlHttpRequestの結果をキャッシュするみたいですね。 ・cacheオプションをfalseに設定する 　$.ajax({ 　　url : "http://hogehoge/ajax", 　　cache : false, 　　data : {...}, 　　... 　}); こうすると"http://hogehoge/ajax?_=(ミリ秒単位の現在時刻)"というURLでリクエストが投げられるため、 毎回違うURLを生成することができ、キャッシュのデータは使われなくなります。 ・キャッシュが使われないようにヘッダをセットする 　$.ajax({ 　　url : "http://hogehoge/ajax", 　　data : {...}, 　　beforeSend : function(xhr){ 　　　xhr.setRequestHeader("If-Modified-Since", "Thu, 01 Jun 1970 00:00:00 GMT"); 　　}, 　　... 　}); このヘッダをセットすることで、常に最新のデータを取得することができます。
＞利用してるサーバーではImage::Magickの利用は可能 と言う事はインストールしてある。 perlを使うのでしたら、perlMagick経由で使用します。
いくつも方法がありますが、リンクにQUERY_STRINGを含めるか 例: https://www.google.co.jp/search?q=CGI%E3%81%AB%E … か、HTTP_REFERERの値でCGI側で判断させるか フォームを普通のAリンクの様にプレゼンテーションで表現する。 <form action="hoge.cgi"> 　<input type="submit" value="質問はこちら" style="border:none;background-color:transparent;text-decoration:underline;color:blue;"> 　<input type="hidden" name="category" value="keizai"> </form> とかね。 　もちろんPATH_INFOを使っても良いです。 　ただし、いずれにしても質問フォームはCGIから出力することになります。__END__を使用すると良いでしょう。 スクリプト if($FORM{'category'} eq "keizay"){ $CATEGORY = '経済";} ・・・・ ・・・・ while(<DATA>){ s/__CATEGORY__/$CATEGORY/; print $_; } ・・・ ・・・ __END__ <html> <head> ・・・ </body> </html>
肝心の$Gnameを設定する箇所が無いんですけど。 状況から判断するに、Shift_JISのままなのでしょう。 > Ｉｐｈｏｎｅでは、metaがutf-8出ないとだめらしい 本当ですか? 私が持っているのはiPadですが、別にUTF-8以外のサイトでも見れています。 何か別の情報と混同していませんか? > &Jcode::convert(\$wh,'sjis'); これをそのまま$messageの中に入れて、そのままsendmailしています 日本語のメールはISO-2022-JPで送るのが普通なのですが。 > 予\約 いわゆる「ダメ文字」対策です。UTF-8では無意味です。 https://sites.google.com/site/fudist/Home/grep/s …
cgi１行目のperlのパスが違うのだと思われます。 #! /usr/local/bin/perl になっていたらSAKURAサーバ仕様の #! /usr/bin/perl にしましょう。 参考(項目2) http://www.geocities.jp/merchant_center/kaizou.h …
＞一つのチェックボックスでは同じ番号が入ります。 　意味が分かりません。radioではないのですから、ひとつのcheckboxには個別のnameが入ります。「一つに同じ」では、日本語として成立しません。 　複数のcheckboxに同じ名前のnameを持つことは出来ますが、其の場合は use CGI; &ReadParse(*in); my @files = split(/\0/,$in{'files'}); として、\0でくぎって、改めてjoinなどで連結する。 それかcheckbokの名前を個別にして、 <input type="checkbox" name="■-01" value="jpn" />日本 <input type="checkbox" name="■-02" value="usa" />米国 として、頭に■がついているnameと値のセットからデータを作るとか・・
sub decode()　は、入力された文字列を保存するときに通るルーチンで、 保存された文字列を　テキストエリアに埋め込むときには通らないのでは？ それに、sub decode()に、$val =~ s/ / /g;　を入れても、なんの意味もないと思いますが・・・ 編集時に<br>を\nに変換しているルーチンがどこかにあるはずなので、 そちらを修正する必要があります。
「<br>」を「「<br />」にするだけです。
そのログからすると, スクリプトのファイル名は /home/httpd/cgi-bin/test.py でいいのかな? od -xc /home/httpd/cgi-bin/test.py ってできますか?
＞既にあるフォームを複製して内容を変更し新しく作る際の起きるであろう問題点。 ・入力項目数の増減にどう対応するのか？ ・変数名を勝手に変更してきちんと動かなくなるかも。 ・フォームの内容をどうするのか（メールで送るとかDBに格納するとか）が不明ですが、そのあたりの動作を既存の物とどう分離するのか。 ・「Thankyou」ページは同じでいいのか。 などなど。他にもいろいろ。 ＞他に素人の私でもできるフォーム作成方法がありましたら教えて頂けないでしょうか。 既存の物がベースとして良さそうなら、そのソースコードを徹底的に読むのが手っ取り早いと思いますよ。 当然そのcgiで使われている言語（perlとかshとか）の参考書と首っ引きで。 私も最初は数千行のperlのコードを追いかけてカスタマイズしましたが、エンジニアになった今でもその時の経験は役に立っています。 （まぁ15年以上前には参考書も先人も身近にないからそうするしかなかったんですけどね）
詳しく見ていませんが、 <img src="daycount.cgi?gif"> ではなく <img src="daycount/daycount.cgi?gif"> ではないですか？
とりあーえず、他の人から回答を得られていないところだけ担当しよう。 > それとwindowsなのでパーミッションは関係ないですよね？ 「読み込み権限」という意味では関係がある。Linuxでは755とかの昔ながらのパーミッションやSELinuxによって読み込み権限が制御されるが、Windows（Windows NT系＋NTFS）ではファイルやフォルダを右クリックしてプロパティを見た時のセキュリティタブがパーミッションの代わりとなる。Windows方式のアクセス制御は「パーミッション」の変わりに「ACL」という言葉を使うのが一般的だ。これを、CGIを動かすApacheがCGIを読み込めるようにしてやる必要がある。ローカルで開発をしている時はxampはあなたの権限で動くだろうし、本番環境では（おそらくデフォルトでは）LocalSystemアカウントの権限で動作する事であろう。Apacheを動かす時にapacheユーザーを作ってそちらでサービスを開始している、という場合にはCGIファイルに対してapacheユーザーの読み取り権限、ログ（カウンターのカウント）に対して書き込み権限を付与してあげる必要があるな。 動いている時には気にしなくていい事だが、いざ動かないという時にチェックするポイントの一つにはなるだろう。
何もしなければ、Perlは書いたままの文字を、バイト列として出力します。 たとえば、「 print "テスト" とShift_JISであれば print "\x83\x65\x83\x58\x83\x67" と同じです。 これを受けとった側で、Shift_JISとして解釈すると、 テスト になり、別の文字コードとして解釈すると「文字化け」になります。 これと同様に、UTF-8のバイト列にしたものを出力すれば、UTF-8の文字列になります。 $datafile='data.txt'; open(FH,">$datafile"); print FH UTF8に変換した$in{'name'}; close(FH); という感じに。 ただ、一般に出まわっているjcode.plはUTF-8に対応していません。 最近のPerlならEncodeモジュールを使って変換します
メールは、iso-2022-jp で送信しないと・・ 　MTAや経路のルーター(さーばー)がUTF-8に対応しているとは限りません。 　CGIの処理自体は、UTFで構いませんが、メール自体はiso-2022-jpが無難です。 　　へッダーのデーターは、BASE64エンコードします。 　⇒ ( http://www.akanko.net/marimo/data/rfc/rfc2045-jp … ) 　　本文はiso-2022-jpにします。
これは、KENT WEBさんで配布されているLIGHT BOARDの設置例（構成例）ですよね？ http://www.kent-web.com/bbs/light.html > これは、/は例えばlightというフォルダにlight.cgi、admin.cgi、regist.cgi、 > init.cgiを入れなさい、という解釈でよろしいのでしょうか？ そうです。 ダウンロードした圧縮ファイルを解凍すると、既にそのフォルダ（ディレクトリ）構成になっています。 > それと+と/ *.*はどう解釈すればよいのでしょうか？ No.1の回答を参考にして下さい。
＞TESTファイルに.cgiとつけてみたら正常に動きました！ 　と言うことは、CGIは動作する。 　そのディレクトリに Options に　+ExecCGI 　が指定されていて、かつ、 AddHandler cgi-script .cgi 　が指定されている。ということです。 この場合.htaccessに AddType application/x-httpd-cgi TEST; で、TESTというファイルはCGIとして動作するはずです。 ひょっとして、TESTの実行権限が666のままとか？？ あるいは、 SetHandler cgi-script を書く必要があるのかも／？？ 　いずれにしても、拡張子は動作には関係ないのです。Windowsとは異なり、すべての動作は設定ファイルでディレクトリごとファイル名ごと、拡張子こどに指定できる物なのですよ。 　拡張子の呪縛から解放されると良いですね。
CGIは全てソフトJISで書かれています。 しかし、commander.plと言うファイル321行目を見て見てください。 「STRING::etc2sjis」と言うルーチン名が使われています。 str.pl ファイルを見ますと「文字コードをＥＵＣに変換」と書かれています。 perlのシフトJISは、半角カナに弱い問題がありますので、EUCで処理をしているようです。 最近開発するならUTF-8を使えば、この手の問題は改善されていますが、EUCを使っているので、長い歴史のあるCGIなのですね。 コードを見ていて楽しかったです。
sendmailのログはroot権限を使えないと見れないとは思います。 一般的には/var/log/の下にあると思いますが、なければお使いのMTAの起動スクリプトや設定ファイルを見ればどこにログを出しているか調べは付くはずです。 察するにcgiスクリプトがsendmailに渡すまでは正常に動いている可能性が高いので、sendmailがリレーする際にエラーが出ていないか調べた方がよいと思います。
foreachを1からはじめてるからじゃなくてですか？
前にも説明しましたが・・ CGIであることと、それがHTMLであることは、全く無関係です。 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 　頭がWindowsに汚染されていると、よく間違われます。CGIはHTMLを出力します。拡張子は.cgiであろうが.plであろうが、.htmlであろうが、.jpgであろうが一切関係なく、サーバーの応答ヘッダにcontent-type="text/html"とあれば、HTMLとしてブラウザは受け取ります。 　単純にテンプレートとなるHTMLを用意して、該当する部分だけ書き換えては次に進めば簡単です。HTMLがたとえいくつあろうと・・ 極簡単な例です。 1) 一行目のPerlへのパスは適当に書き換えてください。 2) 質問や回答の文字列を直接記述していますが、変更部分だけのHTMLを記述したテキストファイルをopenしてprintで出力すれば良いでしょう。 　テキストファイルのファイル名を、送信された回答から算出できる文字列にしておくと分かりやすいでしょう。 ★文字コードはutf-8です。 ★タブは＿に置換してあるので戻すこと。 ★エラー処理も何もしていない本体だけです。このままでは実用にはなりません。 #!/usr/local/bin/perl my $ANS = ""; my $Que = "<form action=\"$ENV{'SCRIPT_NAME'}\">"; my $HIDDEN = ""; my @pairs = split(/&/,$ENV{'QUERY_STRING'}); foreach $pair (@pairs) { ＿my ($name, $value) = split(/=/, $pair); ＿$value =~ tr/+/ /; ＿$value =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack("C", hex($1))/eg; ＿$name =~ tr/+/ /; ＿$name =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack("C", hex($1))/eg; ＿if ($value =~ /\r\n/) { $value =~ s/\r//g; } ＿elsif ($value =~ /\r/) { $value =~ s/\r/\n/g; } ＿$FORM{$name}=$value; } my @keylist = keys(%FORM); my $keycount = keys(%FORM); my $inData = "<dl><dt>要素数は $keycount です。</dt>"; for (my $i = 0; $i < $keycount; $i++){ $inData .="<dd>$keylist[$i]:$FORM{$keylist[$i]}</dd>"; } $inData .="</dt>"; if($FORM{'Q3'} ne ""){ ＿$MESSAGE="質問です。"; } elsif($FORM{'Q2'} ne ""){ ＿$MESSAGE="質問です。"; } elsif($FORM{'Q1'} ne ""){ ＿$MESSAGE="質問です。"; } else{ ＿$MESSAGE="回答です"; } if($FORM{'Q3'} eq "W"){ ＿if($FORM{'Q2'} eq "M"){$ANS =qq^<p>あなたは西日本生まれの既婚男性です。</p>^;} ＿else{$ANS =qq^<p>あなたは西日本生まれの未婚男性です。</p>^;} } elsif($FORM{'Q3'} eq "E"){ ＿if($FORM{'Q2'} eq "M"){$ANS =qq^<p>あなたは東日本生まれの既婚男性です。</p>^;} ＿else{$ANS =qq^<p>あなたは東日本生まれの未婚男性です。</p>^;} } elsif($FORM{'Q3'} eq "F"){ ＿if($FORM{'Q2'} eq "M"){$ANS =qq^<p>あなたは太った既婚女性です。</p>^;} ＿else{$ANS =qq^<p>あなたは太った未婚女性です。</p>^;} } elsif($FORM{'Q3'} eq "S"){ ＿if($FORM{'Q2'} eq "M"){$ANS =qq^<p>あなたは痩せた既婚女性です。</p>^;} ＿else{$ANS =qq^<p>あなたは痩せた未婚女性です。</p>^;} } else{ ＿if($FORM{'Q2'} eq "M"){ ＿＿$Que .= qq~\t\t\t<p>あなたは西日本出身？それとも東日本出身？</p>\n\t\t\t<p>西日本：<input type="radio" name="Q3" value="W"></p>\n\t\t\t<p>東日本：<input type="radio" name="Q3" value="E">\n\t\t\t</p>~; ＿＿$HIDDEN .="<input type=\"hidden\" name=\"Q2\" value=\"$FORM{'Q2'}\"><input type=\"hidden\" name=\"Q1\" value=\"$FORM{'Q1'}\">"; ＿} ＿elsif($FORM{'Q2'} eq "N"){ ＿＿$Que .= qq~\t\t\t<p>あなたは太っている？それとも痩せてる？</p>\n\t\t\t<p>太っている：<input type="radio" name="Q3" value="F"></p>\n\t\t\t<p>痩せている：<input type="radio" name="Q3" value="S">\n\t\t\t</p>~; ＿＿$HIDDEN .="<input type=\"hidden\" name=\"Q2\" value=\"$FORM{'Q2'}\"><input type=\"hidden\" name=\"Q1\" value=\"$FORM{'Q1'}\">"; ＿} ＿else{ ＿＿if($FORM{'Q1'} eq "M" || $FORM{'Q1'} eq "F"){ ＿＿＿$Que .= qq~\t\t\t<p>あなたは未婚？それとも既婚？</p>\n\t\t\t<p>未婚：<input type="radio" name="Q2" value="M"></p>\n\t\t\t<p>未婚：<input type="radio" name="Q2" value="N">\n\t\t\t</p>~; ＿＿＿$HIDDEN .="<input type=\"hidden\" name=\"Q1\" value=\"$FORM{'Q1'}\">"; ＿＿} ＿＿else{ ＿＿＿$Que .= qq~\t\t\t<p>あなたは男？それとも女？</p>\n\t\t\t<p>男：<input type="radio" name="Q1" value="M"></p>\n\t\t\t<p>女：<input type="radio" name="Q1" value="F">\n\t\t\t</p>~; ＿＿} ＿} } $Que .= "$HIDDEN <input type=\"submit\" value=\"送信\">"; $COMMENT = qq~<div class="section">$ANS</div>~; print "content-type:text/html\n\n"; while(<DATA>){ ＿s/<!--Message-->/$MESSAGE/; ＿s/<!--inData!-->/$inData/; ＿if($ANS ne ""){ ＿＿s/<!--Comment-->/$COMMENT/; ＿} ＿else{ ＿＿s/<!--Question-->/$Que/; ＿} ＿print; } __END__ <!doctype html> <html> <head> <meta charset="utf-8"> <title>サンプル</title> <style media="screen"> <!-- --> </style> </head> <body> ＿<header> ＿＿<h1 id="title">Your title</h1> ＿＿<p><!--Message--></p> ＿</header> ＿<section> <!--inData!--> <!--Question--> ＿＿</form> ＿</section> <!--Comment--> ＿<footer> ＿＿<h3>A nice footer</h3> ＿</footer> </body> </html>
CGI使わなくてもHTMLとJavaScriptでできると思う こんなんじゃだめなの？ ---------------------------------------------------------------------------　ここから <html> <head> <meta http-equiv="Content-Language" content="ja"> <meta http-equiv="Content-Type" content="text/html; charset=shift_jis"> <title>ページ</title> </head> <script type="text/javascript"> <!-- function fDispChange(vl){ if(vl == "A"){ document.getElementById("page000").style.display = 'none'; document.getElementById("page001").style.display = 'inline'; document.getElementById("page002").style.display = 'none'; document.getElementById("page003").style.display = 'none'; }else if(vl == "B"){ document.getElementById("page000").style.display = 'none'; document.getElementById("page001").style.display = 'none'; document.getElementById("page002").style.display = 'inline'; document.getElementById("page003").style.display = 'none'; }else if(vl == "C"){ document.getElementById("page000").style.display = 'none'; document.getElementById("page001").style.display = 'none'; document.getElementById("page002").style.display = 'none'; document.getElementById("page003").style.display = 'inline'; }else{ document.getElementById("page000").style.display = 'inline'; document.getElementById("page001").style.display = 'none'; document.getElementById("page002").style.display = 'none'; document.getElementById("page003").style.display = 'none'; } } // --> </script> <body> <div align="center"> <center> <table border="1" width="300px"> <tr> <td width="100%"> <p align="center">選択</td> </tr> <tr> <td width="100%" valign="middle" align="center"> <form method="POST" action="#" name="f"> <p align="center"> <input type="radio" name="R1" value="A" onchange="fDispChange('A')">A　 <input type="radio" name="R1" value="B" onchange="fDispChange('B')">B　 <input type="radio" name="R1" value="C" onchange="fDispChange('C')">C　 <input type="radio" name="R1" value="C" onchange="fDispChange('Z')">初期 </p> </form> </td> </tr> </table> </center> </div> <p align="center">　</p> <div align="center"> <center> <table border="1" width="500px"> <tr> <td width="100%"> <p align="center">記事表示</td> </tr> <tr> <td width="100%"> <span id="page000" style="display:inline"> <p align="center">ここに記事が表示されます</p> </span> <span id="page001" style="display:none"> 記事A<br> 記事A記事A記事A記事A記事A記事A記事A記事A記事A記事A<br> 記事A記事A記事A記事A記事A記事A記事A記事A記事A記事A<br> 記事A記事A記事A記事A記事A記事A記事A記事A記事A記事A<br> </span> <span id="page002" style="display:none"> 記事B<br> 記事B記事B記事B記事B記事B記事B記事B記事B記事B記事B<br> 記事B記事B記事B記事B記事B記事B記事B記事B記事B記事B<br> 記事B記事B記事B記事B記事B記事B記事B記事B記事B記事B<br> </span> <span id="page003" style="display:none"> 記事C<br> 記事C記事C記事C記事C記事C記事C記事C記事C記事C記事C<Cr> 記事C記事C記事C記事C記事C記事C記事C記事C記事C記事C<Cr> 記事C記事C記事C記事C記事C記事C記事C記事C記事C記事C<Cr> </span> </td> </tr> </table> </center> </div> </body> </html> ---------------------------------------------------------------------------　ここまで インデントは消えると思うから適当につけてみてね ソースが見えてしまうことに支障があるならAjax使ってinnerHTMLとかで表示させればいいと思うけど・・・ 長々とスイマセン
> ひとつのCGIファイルに、 > 複数のページの条件分岐をまとめて書くことは出来ないのでしょうか？ できますよ。 > ページごとに別々のCGIファイルを作成しなければならないですか？ その必要はありません。 現状のプログラムをざっと見ましたが、これじゃずっとgo2.htmlにしか行かないですよね。 > ・ > else { > print "Location: ./go2.html\n\n"; > } 多かれ少なかれこのelseに引っかかると思うので。 この方式で行くとしたら、自分だったら今どの質問にいるかをフォームで送りますね。 <input type="hidden" name="stage" value="1" />のような感じで今どこの質問にいるのかを送ってもらい、それぞれの問いへ振り分けるための条件分岐を作るでしょうね。 if ($stage == 1) { # q1のための処理 #===================変数の設定=================== $q11 = $FORM{'q11'}; $q12 = $FORM{'q12'}; #=================条件分岐_質問１================= if ($q11 eq "q11_a") { print "Location: ./ba1.html\n\n"; } elsif ($q11 eq "q11_c") { print "Location: ./ba2.html\n\n"; } ・ ・ ・ else { print "Location: ./go2.html\n\n"; } } elsif ($stage == 2) { # q2のための処理 } elsif ($stage == 3) { ... } else { print "Location: ./unknown.html\n\n"; } 一応気になるところとしては、CGI.pmにパラメーターの解釈をさせたらどうかとか、いちいちq12などを手書きで取ってこずにfor文で回すなりすればどうかとか (例えば、$form{'q' . $stage . $idx}のような感じで) とか、テンプレートエンジン使ったらとか思うところはありますが。 まあ、そういうのは別途いろんな人のプログラムを読んで勉強してみてください。
エラーログを読むとか、CGI::Carpを使うとかして、エラーの内容を確認してください。 http://perldoc.jp/docs/modules/CGI-2.89/CGI/Carp … おそらく elsif ($q1 eq "" || $q2 eq "") { &error($error = "すべての項目に回答して下さい"); } のelsifが成立して、「&error($error = "すべての項目に回答して下さい");」を実行する際になんらかのエラーが発生したと思われます。
フォームの内容がどんなのかわからないのに、「不明な項目を処理」する「簡単な」CGIとか錬金術とか魔法じゃないのでちょっと無理があるかと思います 自分ではできないとはなから決めつけて、有料でもいいというなら専門業者に発注するのが一番かと思います 業者は検索すればすぐ見つかると思います
$q1 = $FORM{'radio'}; if ($q1 eq "A") { print "Location: http://www.a.html\n\n"; } else { print "Location: http://www.b.html\n\n"; } exit;
CGIでPOSTのデータを受け取るには、 read(STDIN, $data, $ENV{'CONTENT_LENGTH'}); のように受け取る必要があります。 この形で受け取ると、 $data の中に hen=20&submit=%91%97%82%e8 というようなデータが格納されますので、 この文字列を分割して、変数に分けて・・・ （詳しいコードは参考URLを参照ください！） という形で利用できるようになると思います。 PHPでは $_POST['hen'] の形で受け取ることができますが、 CGIではひと手間必要な形ですね。 参考URL：http://www.aimix.jp/cgi/syohofrmgetvw.html
問題が「はい」か「いいえ」などの単純な選択式ならプログラムは不要でリンクのみで実現できるはずです 問題数分のページを用意して > 1問目で生年月日が○年×月以前だったら2問目はこの問題、 > 2問目で回答がはいだったら3問目はこの問題・・・ １問目のページには「○年×月以前」のボタンに２問目のリンク、そうでないならそのボタンに自分の進ませたいページへのリンク ２問目のページには「はい」のボタンに３問目のページ、「いいえ」なら自分の進ませたいページへのリンク ということではないでしょうか？ 問題ページのMAPを作って、実際の各問題ページに「はい」か「いいえ」に対するリンクを張ってゆくだけかと思います ５問というか５階層を目途として、問題が２択とするなら最大３１問（ページ）ほど用意すれば良いわけです 問題がかなりたくさんあってランダムに表示して得点などを記録し競うようなものならプログラムを利用するという話はわかります。 ただしこれもCGIは不要でサーバに負担をかけないJavaScriptなんかで実現可能です。 CGIでなければいけないという理由を強いて見出すならば、問題解答の記録・集計結果などをサーバ上で一元管理するようなそこそこの機能を持ったものになってくるかと・・・そうなると趣味の域とは言い難く、管理者の趣味趣向によって管理機能が多彩となり得るものがフリーであるかどうかというのは疑問です。 問題ページや正解DBや判定、利用者管理などちょっとしたCMS規模なんじゃないかと感じますが・・・。 もう少しビジョンを具体的にした方が、フリーのサンプルを検索するにしろ参考サイトを探すにしろアクションが容易になると思います。
実際にやってみたこともないしPythonは門外漢ですが普通に考えると CGIっていうのはWebサーバの持つユーザ権限で通常のプログラムを実行して、実行結果を標準出力でブラウザに橋渡しするだけの仕組みなので、普通のソケットを利用したプログラムでも単体動作するものなら動作はすると思います。 ただ、深く追ってはいませんがサンプルのプログラムをざっと見る限りサーバとしてのプロセスを発生させようとしているのでこれは無理かと思います。 なぜなら、CGIで呼び出されるプロセスはWebサーバの子として呼ばれるためWebサーバの設定であらかじめタイムアウトの時間が設定されているからです。 たとえばApacheならデフォルトで300秒が設定されますので５分たてば切り捨てられます。 サーバ機能と兼任するようなプロセスはシステム上で実行させる以外ないと思います。 クライアント機能のみで短時間で処理が終了するものならOKかと思います。 この手のプログラムはJavaアプレットでならできるかもしれません（昔チャット用のクライアントサーバをブラウザ上で動かすものを作りましたが、CGIではありません）
#1です。 > プログラミングに関する知識は本気で皆無なのです。 でしたら、「入門」とか「○○でも分かる」とかそういう語を含むタイトルの書籍を1冊読んでみることが実際には近道になるでしょう。 出来れば目次を眺めて、「乱数」について書かれていそうなものを選んでみてください。 制御された乱数を使って表示を変更するプログラムはCGIプログラミングの初歩の初歩ですから、「占いサイト専用のプログラムの本」があるとしてもそれはあなたにはまだ高度すぎるはずです。 > 診断メーカーってどうやって作ればいいのでしょうか？？ 調べました？ http://shindanmaker.com/
CGIじゃないけどWordPressでできます。 CGIじゃなきゃだめというならMovableTypeとかありますが・・・ 質問がBlogの機能のまんまだと思うけど、ここのスペースじゃ説明できないので参考書やサイトなどで学習してください。
いや、単純に前後のページへのリンクを書き出すだけです。 どのような保存データ形式化は、掲示板CGIによって異なりますから、ソースを理解しなければなりません。 　それは、他の誰でもない、あなた自身がしなければなりません。誰かに依頼するとなると、十万円くらいかかるかな？？。自分が使用するものですから。 　Perlだと思いますから、Perlを勉強しましょう。
テーブルで定義している列と、INSERTしようとしているデータの列の数が食い違っているからかと。 処理ごとの戻り値や例外を確認するコードを組み込むと、いろいろ理解が深まりやすいと思います。
・利用者側がActiveDirectory環境にある ・ユーザープロファイルのリダイレクトがされている ・同じユーザーIDを使い回してログオンしている この条件が成立すれば、Cookieも同期されるかもしれません。 ---- Cookieの焼き方の問題な気がします。
NotFoundはよくわかりません。フォルダ2に実行できるcgiがないということを表しています。pgdmailform.cgiは他にもcgiを読み込んでいますが、これ（CGIが読み込んでいるCGIファイル）が見つからない場合はInternal Server Errorを返すはずなので、ファイルの構成を十分確認したいところです。 そこで、気をつけるべきことという観点から回答します。 このスクリプトは、pgdmailform.cgiだけで動作しているわけではないので、「フォルダ1」と同内容の構成でサブフォルダ込みで「フォルダ2」を構成し、フォルダ2のテンプレートを編集する必要があります。 CGI（Perl）を書き換えて、共通化を試みている場合は、変更点をお示しいただかなければ回答不能となります。
$cf{sendm_f} == 1 の時、どのような文字列を組み立てるのかが気になります。 以下のアドレスが参考になるかもしれません。迷惑メール対策によりsendmailに-fオプションの設定を求められているもので、この辺りはサーバーによります。 http://usaginohontaku.seesaa.net/article/4448678 …
メールは、必ずiso-2022jpで送信しましょう。 print MAIL "Content-Type: text/plain; charset=\"iso-2022-jp\"\n"; となっているのに、内容はutf-8に変換してる。 メールにはルールがあります。 ・iso-2022jpで本文は送ること ・一行は76文字以下(返信を考えるとさらに少なくすること)で折り返すこと ・ヘッダーに含まれる日本語は、必ずbase64エンコードすること 　以上の対応が一切されていません。
エクスプローラーの表示設定で、拡張子の表示がオフになっているだけではないでしょうか？ 「登録されている拡張子は表示しない」のチェックを外してみて下さい。
前回の質問の回答で > formのactionにGETを使用していないか？ > 通信内容はSSLで暗号化されますが、送信先のURLは暗号化されません。 > 暗号化したい場合は、POSTなどへ変更した方が良いです。 という回答をした人がいましたが、これはウソです。 SSLで暗号化すれば、GETでアクセスした時のURLもパラメータ含めて 暗号化されます。 (参考) http://www.atmarkit.co.jp/bbs/phpBB/viewtopic.ph … したがって、SSLを使うからといってPOSTに変更する必要はありません。 今のスクリプトで大丈夫です。 他の部分もGETをPOSTに変更する必要はありません。
　ロリポップでのＣＧＩの説明。 ＞CGI・SSI・PHPの設定に必要な情報や、各種CGI・SSI・PHPソフトの設定方法等をご説明します。 ＞http://lolipop.jp/manual/hp/cgi/ ＞403 Forbiddenエラーの原因、対処、解決法 ＞http://www.403-forbidden.com/?p=488 参考URL：http://lolipop.jp/manual/hp/cgi/
URLを相対パスで記載しているか？ よくある話が、画像用のサーバを分けていたりすると、 これらのURLが絶対パスで記述されていることがあります。 formのactionにGETを使用していないか？ 通信内容はSSLで暗号化されますが、送信先のURLは暗号化されません。 暗号化したい場合は、POSTなどへ変更した方が良いです。 そしてActionをGETから変更した場合、ログの出力に影響する場合があります。 アプリ自身としてはこんなトコロかな。
>うんともすんとも～ ということはjavascriptの問題ではありませんか? onsubmit="return sitesearch(this);" とありますが、必要なJavaScriptファイルは取り込んでいますか? Ajaxモードであれば、検索結果を表示するための <div id="search_result"></div> はHTMLのどこかに記入されていますか? あるいは onsubmit="return sitesearch(this);" を削除して送信すると結果はちゃんと表示されますか? (あるいは直接 http://～/index.cgi?q=aaaなどでアクセスしてみる)
500 Internal server Error ということは、admin.cgi実行時に問題があった場合に出るものです。 その理由は次の2つが主です。 ・admin.cgiが正常に実行できない。エラーになる。 ・CGIとしてのプログラムが正しくない。HTTPヘッダが無い、ヘッダが不正、出力自体が無い、等 まず、何が起こっているのか調べましょう。 そのためには、エラーログを調べます。 http://www.adexd.net/support/log/index.html
> あと、( 前の人の間違いなのですが) 一応弁解させていただくと、誤差が大きいことを承知した上で手を抜いたのです。プログラムが動く方が重要だと思ったので。 前の回答は、厳密さという点では、そもそも画像の端っこで値をいくつ合計するかカウントしていません。また計算誤差を問題視するなら、実数で求めて最後に四捨五入するべきでしょうね。 > ＋がokで、＊はだめ、それはなぜですか。 表示結果は確認されましたか。おそらく＋も期待される結果ではないのでは。 OpenCVの実装までは確認していないので推測ですが、Vec3bクラスを作った方が＊演算子を実装しなかったのでコンパイルエラーになり、＋演算子もベクトルの各要素の和を求めるようにはなっていないのでしょう。これは画像処理ではなくC++に関することですね。 上に限らず、この質問はCGIではなくC・C++カテゴリでされた方がよいでしょう。 グレー用に直したコードを載せます。 #include <opencv.hpp> #include <climits> #include <cmath> using namespace cv; int main( int argc, char** argv ) { 　Mat image = imread("test.png", 0); 　Mat new_image = Mat::zeros( image.size(), image.type() ); 　for( int y = 0; y < image.rows; y++ ) 　{ 　　for( int x = 0; x < image.cols; x++ ) 　　{ 　　　double count = 0.0; 　　　double ff1 = 0.0; 　　　for( int ll = -1; ll <= 1; ll++ ) 　　　{ 　　　　for( int mm = -1; mm <= 1; mm++ ) 　　　　{ 　　　　　if (x+ll >= 0 && x+ll < image.cols && 　　　　　　　y+mm >= 0 && y+mm < image.rows) 　　　　　{ 　　　　　　ff1 += static_cast<double> (image.at<uchar>(y+mm, x+ll)); 　　　　　　count += 1.0; 　　　　　} 　　　　} 　　　} 　　　ff1 = round(ff1 / count); 　　　ff1 = (ff1 > UCHAR_MAX) ? UCHAR_MAX : ff1; 　　　new_image.at<uchar>(y,x) = ff1; 　　} 　} 　namedWindow("Original Image", CV_WINDOW_AUTOSIZE); 　namedWindow("New Image", CV_WINDOW_AUTOSIZE); 　imshow("Original Image", image); 　imshow("New Image", new_image); 　 　waitKey(); 　return 0; }
> ご回答ありがとうございます。 > なれど、実行の結果は > Unhandled exception at at 0x76C8C41F in ConsoleApplication9.exe: Microsoft C++ exception: > cv::Exception at memory location 0x0016F1D8. メモリ関係の例外であることは分かりますが、アドレスの情報は他の人には無意味ですし、これ以上のアドバイスは難しいです。一応、わたしの手元の環境では正常に動作していますし。 それと基本的なことですが、まず全てを確認をされた方がよいでしょう。マニュアルなどをきちんと見て。at()の引数のような単純ミスが他にありませんか？ それでも分からなければ、デバッグモードでコンパイルしてどこで例外が起きているか、その時の座標値がどうなっているか、デバッガで追跡されるのがよいでしょう。
/var/log/httpd-error.log など、エラーログに詳細が出ていると思います。 この情報をいただけると、より回答がしやすくなります。 print "Content-type: text/html"; → print "Content-type: text/html\n\n";※ となります。 おそらく、エラーログには、※が原因で"Bad Header"など出ておりませんでしょうか。 Perl上正しくとも、CGI上間違っている場合、エラーログが参考になります。
メール本文は、iso-2022-jpでなければなりません。 ヘッダー内に 　日本語などを含む場合は、Base64エンコードをします。 　一行の文字数は、 75バイト以内です。 　他にも沢山、mailに対しては規定があります。これを守らないと・・
まず、CGIは仕組みの名前であって、仕組み通りに動作するなら言語を問いません。 言語が違えば、「grep関数」の仕様も違います。「grep関数」なるものが無い言語もあります。 以前は、CGIにはPerlがよくつかわれていたので、CGI=Perlと勘違いされている方がいらっしゃいます。 なので、Perlでやろうとしている、として回答します。 Perlのgrep関数は次の通りです。 http://perldoc.jp/func/grep なので、 grep { $_の日付と現在時刻を比較して「近い」なら真 } 元データのリスト として、「近い」ものを抽出することはできます。 ですが「一番近い」ものを抽出することはできないし、「近い」ものが無い場合もあります。 grepを使わずに 順番に走査して、「一番近い」要素番号を控える →その番号の前後を使う とするのがよいのでは?
「Web Memory」 http://www.web-liberty.net/download/memory/index … など如何でしょうか？ 新着何件かをjsファイルに書き出せるので、それをJavaScriptで呼び出せば、更新履歴として使えると思います。
.htaccessと.htaccess、(htgroupを使う場合も)の仕組みを理解してください。 ここに、サーバーに対する処理が書かれていきます。 　その内容--以下のディレクトリに対する動作指定(.htaccess)、ユーザー名とパスワードの位置など.htpasswordを書いていきますが、その内容が正しくないのでしょう。 　なお、htpasswordファイルは制限するフォルダーには置きません。直接URLを指定して読まれたらまずいですし、パスワード制限するディレクトリ以外の秘密の場所に置くものです。 CGI RESCUE チャレンジＣＧＩ - ベーシック認証( http://www.rescue.ne.jp/cgi/htpasswd/ )
必須ライブラリー(jcode.pl)が正しく組み込まれている 想定で話を進めます。 cgi本体が見られないので、何とも言えませんが、 表示や取り込み自体はうまくいっているようなので、 日本語コード変換の時に、自作ファイル内のデータに 不備があり、うまく変換できていないと推測されます。 この場合… バイナリとか、テキストのモードを変えてアップし直すと 文字化けしなくなる可能性はあります。 あとは… perlのバージョンによっては、EUCコードに変換する際の 記述が異なることもあると思うので、「yoyaku_1_e.cgi」の 中身を確認して変更する必要が出てくるかも知れません。 &jcode'convert(*○○,'euc');→jcode'convert(*○○,'euc');
>理由は、ほかの言語をこれから新たに勉強する経済的・時間的余裕がないからです。 C言語が初級者ということでしたらPerlなどを勉強された方がいいです。 C言語でCGIをするならPerlなどより覚えないといけない事は多いです。
片っ端から品番をキーにしたハッシュに追加していけばよいのでは?
メールは必ずiso-2022-jpにして送信します。 一行の文字数も規定があります。 また、ヘッダ部分はBASE64エンコードしなければなりません。 なお送信フォームの文字コードは（処理できるようにしてあれば）CGI側で処理できますから問題ないですし、FORMのaccept-charset属性で文字コードを指定しておけば良いです。 <form action="./" accept-charset="iso-2022-jp" metod="post">
＞メールフォームのCGIを、知人のホームページの掲示板にHTMLで書き込み、送信先を私のメールアドレスにしたい場合 見当はずれの解凍でしたらごめんなさい。 つまりタグが許可されている掲示板にCGIを貼り付けるという意味ですか？ それならまったく不可能です。 通常タグが許可されていても種類が限られています。 特にCGIはBBSに貼り付けるどころか、レンタルのサーバーでも制限されている場合があります。 CGIを張り付けられる条件 FTPなどでサバーに直接アクセスできること もちろん自分のホームページなら可能です CGIが許可されていること perlのパス、sendmailのパスがわかっていること が必要です。 掲示板への書き込みなら、メールで返事をもらう迄に留めるべきです
プラグインで実装するのが一般的だと思いますよ。 FTPでアクセス出来るなら、ダウンロードして本家のものと差分を取ればいいです。 こちらも参考にどうぞ。 https://github.com/movabletype/Documentation/wik …
このサイトはCSSアニメーションではなくJavascriptでのアニメーションです。 スキルとしてはHTML,CSS,Javascriptを学ぶ必要があります。 それとそのサイトはJavascriptのjQueryを使用しておりますので、jQueryも学ぶ必要があります。 学ぶと言ってもjQueryはJavascriptを便利にするもので記述方法を覚える感じですが。 もしそんなに勉強するのが、、、と思うなら最短ではHTML,CSS,CSSアニメーションを学んでもいいかもしれません ただデメリットとしてCSSアニメーションはブラウザの互換がマチマチでプロでも悩まされる代物です。 jQueryの参考サイト http://www.webopixel.net/javascript/507.html CSSアニメーション参考サイト http://unformedbuilding.com/articles/learn-about …
http://cc-room.net/cc/y4-2.html ↑ こちらをどうぞ。 頑張ってくださいね。
CSVというのはCSVファイルと予想しますが、ファイルからとフォームからでそんなに違わないと思うのですが。 ファイルは簡単に行ごとにわかれた配列として読み込むことができますよね。 フォームからデータを受け取って、行ごとの配列にするのもsplitを使えば簡単でしょう。 そうすると、行ごとの配列を受け取って集計するサブルーチンを作ればどちらにも使えると思いませんか？ あとは#1さんのおっしゃるとおりやると良いでしょう。 連想配列だけでやると整列して出てこないので、ちょっと工夫が必要です。 というわけで、ちょっと書いてみました。 use strict; sub aggregate { my $csvp = shift; my @csv = @$csvp; my %subtotal; my @order; foreach (@csv) { chomp; my ($id, $num) = split(/,/); if (!exists $subtotal{$id}) { push(@order, $id); } $subtotal{$id} += $num; } my $ret = ""; foreach my $key (@order) { my $value = $subtotal{$key}; $ret .= "$key,$value\n"; } return $ret; } use CGI; my $q = new CGI; my $csv = $q->param('csv'); if ($csv) { my @csv_array = split('\n', $csv); print $q->header('text/plain'); print &aggregate(\@csv_array); } else { print $q->header; print $q->start_html; print $q->start_form(-action=>$q->url, -method=>'post'); print $q->textarea(-name=>'csv'); print $q->submit; print $q->end_form; print $q->end_html; } まず、まじめにCSVを解釈するつもりがなかったのでCSVの値には英数字しか来ないと持っています。本気でCSVを解釈するなら、"の取り扱いを真面目にやる必要があるでしょう。あるいは、Text::CSVなどのモジュールを使ったほうが良いかもしれません。 ちなみに、このプログラムでは入力で出てきた順序を保って出力するようにしています。 例えば、 a,1 c,2 b,3 c,3 と入力すると、 a,1 c,5 b,3 と出します。 先に述べたように、aggregateサブルーチンに与えるデータは行ごとに分けて配列に入れたものであれば良いので、ファイルの場合はもっと単純なコードで使うことができます。 open(my $f, "example.csv"); my @c = <$f>; close($f); print &aggregate(\@c); 実際に使う場合はtext/plainでの出力ではなくpreあたりで出力して、下にフォームを表示するくらいしないと不便だと思いますが、そこは自分でやってみてください。
HTML出力する部分で $line =~ s/&lt;br&gt;/<br>/g; print OUT $line; とか・・・
Googleドライブを使えば楽だよ https://drive.google.com/
投稿データの保存場所が同じなのではないですか？同一フォルダ内にあって名前が同じとか。
自力作成の分と管理パネルでの作成分がこじれているかも知れませんね。 あまり難しく考えなくて大丈夫です。内容的には 1. htaccessで AuthTypeやパスワードファイルを指定する 2. パスワードファイルを生成する の２つです。本来解説ページのように自力でやる分を管理パネルでは自動でやっているだけです。 >abcのフォルダに 123.htmlとロリポップの設定で自動でできた.htaccessと.htpasswdがある状態です。 でしたら、★最初に自分で記述した分はすべて不要★になります。 解説ページhttp://allabout.co.jp/gm/gc/23780/2/ での作業分は一旦コメントアウトしてみてください。以下のように行頭に # を付ければ内容が無視されます。 # AuthType Basic # AuthName "Input your ID and Password." # AuthUserFile /home/nishishi/pw/passwd.dat # require valid-user これで問題なく動くようなら様子を見て後で削除してもかまいません。 また、パスワードファイルは .htpasswd になっていますから passwd.dat も不要です。 うまくいかないようなら、補足してください。 ※以下蛇足ながら(ご存知なら無視); Basic認証は暗号化はされませんので、アクセス時はSSLのURLにて接続した方が安全です。 SSLのアドレスは httpに「s」が付いて https://～のようになります。 共有SSLなら https://共有SSLドメイン名/abc/123.html (独自ドメインで https://独自ドメイン/ としたい場合は有料オプションになってしまいます)
>javascriptを利用すると、何か問題があるのでしょうか？ JavaScriptはあくまでもおまけ、無いよりはいいという程度のものです。 全体の流れとしては、 FORM入力 >> 送信 >> CGI側でチェック >> メール送信 となるのですが、送信前にJavaScriptチェックがあれば、 ・ユーザにとっては、送信した後にエラーとかいろいろ言われなくて済む ・サーバ側にとっては、無駄な処理回数が減る と両者にとってメリットがあります。 ただJavaScriptは閲覧者がOffにしていることがあるので、最終的にはCGI側での入力チェックは必須です。(JavaScriptはあくまでも予備車検のようなもの、とお考え下さい) サーバがCGIも許可していれば、以下のような必須項目機能がついた無料のCGI + JavaScript という手もあります。 http://www.kent-web.com/mail/postmail.html
IPアドレスが入っているか、ホスト名が得られるかは、Apacheの設定によります。 ホスト名を得る設定になっていてもDNSの逆引きがその時たまたま失敗すると、IPアドレスのまま設定されます。 なので、「ホスト名が入っていたら儲けもの」くらいの感覚で扱うのがよいかと。
・1時ぐらいに時間を設定して、1時間以上ロムされればユーザー管理から名前を消す（現実的かも、だけど最終発言から1時間名前が消えてくれない） ・5分に時間を設定して、5分以上ロムされればユーザー管理から名前を消す（他ユーザーは不思議がる） ・手動更新そのものを廃止する（う～～～ん悩む） 　もNo.2の回答ですむはずです。難しくしないこと、利用できる環境変数は使うこと。
■各データーを受け取ってからどのようにしたいかの処理 そういえば使い方を聞かれはしたけどどのように使いたいのかは聞いてないわ まあいいやそれでも説明はできるしね 先っきの書き込みで chek_name[3],*chek_value[3]; の中身はこんな感じになってるはず chek_name[0]==sel chek_name[1]==sel chek_name[2]==NULL chek_value[0]==Sel21 chek_value[1]==Sel23 chek_value[2]==NULL そしてさっきの分解法は チェックを全部ONにしようが一つだけONにしようがONにした数だけ配列に値がはいるようにしてるの そして次 while(chek_value[i]!=NULL){ check(&chek_value[i],&b,&c);//NO3で作ったHTMLの表示を変える関数 if(strcmp(chek_value[i],"Sel21")==0){ //やっぱりチェックボックスのvalueは数字がいいよ処理がめんどいswichもつかえないし //sel21がON担ったときどう処理したいかここに記述する //って言うか処理させたい事の関数を作ってまとめて処理するといいかも //失敗失敗 } if(strcmp(chek_value[i],"Sel22")==0){ //sel22がONになったときどう処理したいかここに記述する } if(strcmp(chek_value[i],"Sel23")==0){ //sel23がONになったときどう処理したいかここに記述する } i++; } 大体こんな感じだね まとめると ・チェックがonのとき（offでも処理できるならどうぞ）情報を送信してもらう ・送られてくる情報を分解して各配列に入れる（順番がバラバラでも内容にNUULが入っててもＯＫな用に） ・onの情報が送られてきたときようの表示変換関数と動作処理関数を作っておく ・HTMLのcheakのvalueは数字のほうが処理しやすい //・説明する時に作ったソースは私が作ったソースをアレンジして作ったけれどアレンジしたのはコンパイルして動作を確認していないからちゃんと動くか分からない上にバグがあるか分からない //・たぶんあってるけれど、多少書き間違えてるかもしれないから質問者さんが自分でどこがミスってるか考えてね　ミスがあっても本の少しだろうからね　アレンジしていない私のソースはバグなし、書き間違えなし ・C言語でCGI作ってる人少ないみたいだから同じC言語使い同士仲良くやろうね。また質問やききたい事があったらよろしくね 疲れました。 手が冷たいです。 今日は寝ます。
詳しい説明は省きますが、結論だけ言うと不可能です。 　簡単に言うと、ホスト名はIPアドレスと1:1で対応するネットワーク上のリストだと思っていれば良いです。ひとつのIPアドレスを使いまわしているに過ぎませんからね。 　そもそも「特定の個人をはじく」という考え方自体がウェブには存在しません。 【引用】＿＿＿＿＿＿＿＿＿＿＿＿ここから Webの背景をなす基本的な原理は次のようなものである。どこかの誰かが、 ひとたび文書、データベース、画像、音声、動画あるいはある程度まで インタラクティブな画面を準備したなら、もちろん使用許諾の範囲内のことだが、 いかなる国のどのようなコンピュータを使っている誰もが、この画面に対して アクセス可能でなければならない。そして、ほかの人たちが見つけることができる ように、リファレンスすなわちリンクをつくれるようにしなければいけない。 ￣￣￣￣￣￣￣￣￣￣￣￣￣ここまで［よいウェブページを書こうとする人のためのヒント( http://www.sal.tohoku.ac.jp/~gothit/webauthoring … )］より 　もしも、あるデータを特定の(複数の)限定された人々にのみ利用させたいのでしたら、パスワードをかけるなりして閲覧制限をかけるしか方法はありません。HTTPサーバーにはbasic認証と言う手段がありますし、cookie、CGIなどを利用した様々な方法があります。 　発想を逆にして、「許可された人だけが閲覧できる」方法を考えてください。（--ウェブの本来の目的とは外れますが）
その「完成品をダウンロード」したら、ソースコードも付いてないですか? というか、現在配布されているもののほとんどは、PHP,Perl等のスクリプト言語で「完成品=ソースコード」ですが。 C言語でCGIやっている人は少ないので、「C言語のソースコード」を見つけて解決しようとは思わないことです。
表示がくずれるの空白2文字を全角空白にしていることに注意。 #include <stdio.h> #include <stdlib.h> #include <string.h> #include <unistd.h> #include <sys/types.h> #include <sys/socket.h> #include <netinet/in.h> #include <arpa/inet.h> #include <netdb.h> #include <errno.h> void die(char *message) { 　　if (errno) { 　　　　perror(message); 　　　　exit(errno); 　　} 　　fprintf(stderr, "%s\n", message); 　　exit(1); } int creat_socket(char *proto, char *host) { 　　struct addrinfo hints, *res0, *res; 　　int　　　　　　 sock; 　　int　　　　　　 err; 　　memset(&hints, 0, sizeof(hints)); 　　hints.ai_socktype = SOCK_STREAM; 　　hints.ai_family　 = PF_UNSPEC; 　　err = getaddrinfo(host, proto, &hints, &res0); 　　if (0 != err) { 　　　　die("gai_strerror(err)"); 　　} 　　for (res = res0; res != NULL; res = res->ai_next) { 　　　　/* printf("%d\n", res->ai_family); */ 　　　　sock = socket(res->ai_family, res->ai_socktype, res->ai_protocol); 　　　　if (sock < 0) { 　　　　　　continue; 　　　　} 　　　　if (connect(sock, res->ai_addr, res->ai_addrlen) != 0) { 　　　　　　close(sock); 　　　　　　continue; 　　　　} 　　　　break; 　　} 　　freeaddrinfo(res0); 　　if (NULL == res) { 　　　　/* 有効な接続ができなかった */ 　　　　die("failed"); 　　} 　　return sock; } void recv_http_response(int sock) { 　　int　n; 　　char buf[32]; 　　n = 1; 　　/* サーバからのHTTPメッセージ受信 */ 　　while (n > 0) { 　　　　n = read(sock, buf, sizeof(buf)); 　　　　if (n < 0) { 　　　　　　die("read"); 　　　　} 　　　　/* 受信結果を標準出力へ表示(ファイルディスクリプタ1は標準出力) */ 　　　　write(fileno(stdout), buf, n); 　　} } void send_http_request_by_get(int sock, char *path, char *query) { 　　char buf[128]; 　　int　n; 　　/* リクエスト文字列を生成 */ 　　snprintf(buf, sizeof(buf), "GET %s?%s HTTP/1.0\r\n\r\n", path, query); 　　/* HTTPリクエスト送信 */ 　　n = write(sock, buf, (int)strlen(buf)); 　　if (n < 0) { 　　　　die("write"); 　　} } void send_http_request_by_post(int sock, char *path, char *query) { 　　char buf[128]; 　　char line[128]; 　　int　n; 　　/* リクエスト文字列を生成 */ 　　buf[0] = '\0'; 　　snprintf(line, sizeof(line), "POST %s HTTP/1.0\r\n", path); 　　strncat(buf, line, sizeof(buf)); 　　snprintf(line, sizeof(line), "Content-type: application/x-www-form-urlencoded\r\n"); 　　strncat(buf, line, sizeof(buf)); 　　snprintf(line, sizeof(line), "Content-Length: %d\r\n", strnlen(query, 128)); 　　strncat(buf, line, sizeof(buf)); 　　snprintf(line, sizeof(line), "\r\n"); 　　strncat(buf, line, sizeof(buf)); 　　snprintf(line, sizeof(line), "%s\r\n", query); 　　strncat(buf, line, sizeof(buf)); 　　/* HTTPリクエスト送信 */ 　　n = write(sock, buf, (int)strlen(buf)); 　　if (n < 0) { 　　　　die("write"); 　　} } int main(int argc, char *argv[]) { 　　int　 sock; 　　char *host,　*proto, *path, *query; 　　int　 n; 　　/* example */ 　　/* ./a.out http localhost / a=1 */ 　　if (5 != argc) { 　　　　die("Usage : prog proto dest"); 　　} 　　proto = argv[1]; 　　host　= argv[2]; 　　path　= argv[3]; 　　query = argv[4]; 　　/* GET */ 　　printf("--- GET\n"); 　　sock = creat_socket(proto, host); 　　send_http_request_by_get(sock, path, query); 　　recv_http_response(sock); 　　if ( 0 > close(sock)) { 　　　　die("close"); 　　} 　　/* POST */ 　　printf("\n--- POST\n"); 　　sock = creat_socket(proto, host); 　　send_http_request_by_post(sock, path, query); 　　recv_http_response(sock); 　　if ( 0 > close(sock)) { 　　　　die("close"); 　　} 　　return 0; } --- $ ./a.out 5000 localhost / foo=1 --- GET HTTP/1.0 200 OK Date: Sun, 16 Dec 2012 04:50:23 GMT Server: HTTP::Server::PSGI Content-Type: text/plain Content-Length: 21 Method : GET foo : 1 --- POST HTTP/1.0 200 OK Date: Sun, 16 Dec 2012 04:50:23 GMT Server: HTTP::Server::PSGI Content-Type: text/plain Content-Length: 22 Method : POST foo : 1
なんか的はずれなことを悩んでいるような気がします。 たとえこれを解決しても、この実装では次にモード0からモード1に移行するときに設定されたユーザー名が使えないという問題に直面するでしょう。なぜなら、これまでに何が行われたか (状態と言います) を覚えておくような処理があるように見えないから。 HTTPで状態を持った処理をさせたい場合、セッションを使います。 HTTPの特徴のひとつは状態を持たないこと(ステートレス)で、いつ、何度アクセスしても同じものが得られるというのが特徴です。しかし、会員向けページのようにログインした時にユーザー名や認証したという情報を維持しておきたい場合、ログイン時に割符のような値をユーザーに渡し、割符 (セッションID) を持っていることで本人だと確認するということをします。これをセッションといいます。例えば、ショッピングサイトなどではログインしなくても最初からセッションIDを渡しておき、そのセッションIDのユーザーが購入ボタンを押したものを覚えておくことでショッピングカートを実現します。 セッションではユーザーとセッションIDとなる乱数 (あるいはその他の値) を共有しますが、ブラウザにセッションIDを設定する方法として、おおまかに3つの方法が使われます。1つ目はURLに含める方法、2つ目はフォームのhiddenパラメーターに常に入れておく方法、3つ目はクッキーを設定する方法。どれにも利点欠点がありますが、今時は3つ目のクッキーを使う方法を使い、Cross Site Scripting (XSSと略される)やCross site request forgeries (XSRFと略される) 対策を十分に施します。 > どのようにしたらチャット画面から入れるのを防ぐ事が出来ますか？ モード0からモード1に移行した際にセッションIDをクッキーなどで渡すとよいでしょう。そして、モード1からモード2に移行した時に「退室しました」という画面を表示しつつ、セッションIDが入ったクッキーを破棄しましょう。 自分だったら次のようなロジックで作りますね。 クッキーからセッションIDを取得し、有効なものか判定 if (セッションIDが送られてきた) { if (退室ボタンが押されている) { モード2の処理 (クッキーを破棄するようHTTPヘッダで指示) } else { モード1の処理 } } else { if (入室に必要な条件が整っている) { モード0からモード1に移行し、セッションIDが入ったクッキーを設定 同じページにリダイレクトする返事をする } else { モード0の処理 } } これまでセッションIDとずっと言って来ましたが、お金のやり取りをするわけでもなし、セッションIDの代わりにモード0からモード1に移行するときに送ってもらった"名前"を設定しても問題無いですね。 日本語の文字をセットされる可能性があり、エンコードが気になる場合は16進数表示にして設定しておくとよいでしょう。(当然、送られてきたものは16進数表示から元に戻して表示します) > ドメインという物があればHPのアドレスがどこを見ても同じになると聞きましたがドメインはCでどのようにすれば、作れますか？ ドメインというのはDomain Name Systemのドメインのことでしょうか？ドメイン名を得て、適切に設定してあれば、プロバイダーが変わっても同じURLでアクセスできるという話ではないでしょうか。 今回の問題の解決とは全く関係がないと思います。 HTTPサーバーに接続するときはそのサーバーのIPアドレスを指定してつなぎますが、普段はだれもIPアドレスを直に指定しません。URLは大抵http://www.example.com/example/example.htmlのような感じだと思いますが、www.example.comというドメイン名からIPアドレスに変換するサービスをDNSといいます。ドメインを取得するというのは例えばこのwww.example.comのIPアドレスを自由に設定する権利を得るということで、サーバーのIPアドレスが変わってもそのIPアドレスを指すように変更しておけばIPアドレスが変わっても同じページが見えるということになります。 ドメイン名を得るにはレジストラーという業者にお金を払って設定してもらう必要があります。値段は1,000円くらいからですが、もう一度言いますが、今回の問題を解決するのには必要ありません。 あと、使っているプログラミング言語はCGIの基本的なロジックには全く影響を与えません。「C言語を使っていたら○○ができない」という話はほぼ技術が未熟な人間のデマだと思ったほうが良いでしょう。ただ、C言語だけでやろうとするとそれをサポートするような言語機構がPerlなどに比べて弱く、苦労するというだけです。例えば、CGIでありがちな"<"を"&lt;"に書き換える処理はPerlだと1行ですが、C言語だと何行かかかる処理になりますよね。 今回の問題を解くために、まずセッションについてちょっと調べてみることをおすすめします。あと、TCP/IPの入門書のようなものに目を通しておくこともおすすめします。
3さんへ http://www.weblio.jp/content/Google+Native+Client Native Clientはこれですね これ最近作られた造語ですか？ そういうの全く意識しなくても作れたのでそんな枠組みになってたとは知らなかったのですが そもそも最近公開するよってなんでしょう？ 別段宣言されなくても作りますよｊ
こういうやつですか？ http://www.ajaxtower.jp/js/event/index3.html ちなみに、こういうタイプのメニューをdrop down menu (あるいは、選択リスト) と言います。 また、何かを選択肢たり何かに値を入れたりしたらなにか処理をするにはHTMLタグにonChangeという属性を付け、そこからJavaScriptで書いた関数に飛ばすのが普通です。
普通こういうことをやるのはSSIではなく、CGIでやりますよね。 > search.html（プルダウン、チャックボックス、テキストボックス） >↓値を渡す >display.shtml CGIならformから値を渡して処理させることで望みの動作をさせることができると思います。SSIでCGIを実行する場合はexec cgiなどを使うと思いますが、その場合の引数は普通固定なので、上記のような動作はできません。 SSIを使いたい理由がよくわかりませんが、拡張子をhtmlで保ちたいという事なら、mod_rewriteを使う方法やAJAXを使う方法などがあるかもしれません。 どちらにしても、JavaScriptやCGIでプログラムを書けば結果が多い場合に複数ページに渡って表示をするような見せ方をするのも簡単に出来ます。
こんにちは！ 質問1 > 答えずともあっているといわれそうですが・・・。 よく分かっていらっしゃる。 認識は合ってますよ。 質問2 > 個別ごとに処理する事になりますか？ 場合によりけりです。 今回の例だと、3つチェックされていたら「食いしん坊ですね」とか 出すんであれば、個別に処理する必要はないですよね？ 逆にチェックされたものによって動作が異なるのであれば 個別に処理する必要があります。 例えばチェックされている画像を表示するとか。 ただ、CGIにもよりますが、for文で回せばいいかもしれません。 その場合でも、個別に処理していることに変わりはないので こちらに該当するかな？と思います。 って感じの答えで合ってますか？
これはCGIというよりHTMLの問題かと思います。 １： ゲーム面背景色はview.iniの中に思い切り書いてますね。 $gtibgcolorで指定されているのでそれを真似てその下に「$gtibgimg = './hogehoge.jpg';」(わかってると思うけどjpg/gif/pngのどれか)とでも書けば設定変更が楽になる ２： 本体は「wsame.cgi」の中で「$gtibgcolor」を探せば1485行目がゲーム板用のTableタグなのでそこにスタイルで背景画像を指定してやればいいのでは 例：（さっきの$gtibgimg を使う） print "<table border=\"0\" cellspacing=\"0\" cellpadding=\"0\" bgcolor=\"$gtibgcolor\" style=\"background-image : url($gtibgimg);background-position : center center;\">\n"; ３： 「none.gif」はファイルは設定から消したりせずに、ペイントツールなんかで透明化するだけ。
> ＜＜あくまでも「クライアントの指示」でサーバ側のプロセス開始オーダーがあったときのみ必要なデータをクライアント側が送信し、サーバはそこからプロセスに必要なデータから環境変数群を構成してプログラムを開始するのです。 > ここら辺をもう少し分かりやすく解説していただけませんか？ > もしくは分かりやすく書かれたサイトを教えていただけませんか？ まず、Ｗｅｂサーバ側(以下サーバ側)とＷｅｂページを見たい側(以下クライアント側)に分けて考えましょう。 普段はサーバ側は待ちの状態にあります。 クライアント側からページを見せろと要求があれば、その要求が真っ当なら、サーバ側はそのデータをクライアント側に返信します。 Ｗｅｂサーバというのは要求のあったデータを返信するだけの単純な仕組みに過ぎません。 次に、クライアント側が要求とともに送信するデータに応じて、サーバ側で返信内容を加工して動的なデータをクライアント側に返信するようなケースでは サーバ側では返信の前にクライアント側から送信されてきた内容を解釈して、それを元に処理を行い結果を返信する このとき、ＷｅｂサーバはＯＳの標準入出力（cでいうところのstdio）を通して指定プログラムの実行を要求します（Ｗｅｂサーバが直接実行するわけではないことに注意してください。動作するプログラムはＯＳ環境下でＷｅｂサーバというユーザ権限で実行されるのです）。 この仕組みをＣＧＩといいます。 このようにＷｅｂサーバはクライアントからの要求を単純に処理して返信するだけ(タレ流し)の仕組みで、基本的にサーバ側からクライアント側に対してなにかを行うものではありません。 タレ流されてくる先頭部分には、後にタレ流すデータの種類(HTML/画像/ベタテキスト/音楽・・・etc)とか、サイズ、ブラウザへの指示(キャッシュを利用するしないとか)、そしてcookie情報なんかがまとめてあって改行連続２回のその後に、ＨＴＭＬデータやなんかが送られてくる。 ここで送られてくるcookieに注目すると、ブラウザは受け取ってcookieエリアに保存するだけでおしまい。 サーバ側に対してその情報からアクションを起こすわけではないのです。 今度は少し戻って、サーバ側からの視点で見ると、クライアント側からＣＧＩの要求があれば、要求とともに送られてくる各種情報、返信用ＩＰアドレス(どこに返信するかわからないと困りますよね)、返信用ポート番号(同じマシンでブラウザ２個表示して同時に同じサイトに要求してもデータがごっちゃにならないように)、cookie情報(当然ドメインやパスが一致して期限切れでないもの)、フォームやＵＲＬのメソッドデータなどなどさまざまな情報を受信し終わった後に、処理を開始します。 受信した情報はその呼ばれたＣＧＩ専用のプロセスに環境変数や標準入力バッファを構築してシステムに実行オーダーを出します。 実行時の標準出力データを出力バッファに蓄えてクライアント側にヘッダ情報とともに垂れ流し終了です。 呼び出されるプログラムは、クライアント側のcookieを直接参照するわけではなく、クライアント側から初期呼び出し時に能動的に送られてきた情報を元に構築された環境変数を介して参照するのです。 サーバ側からのデータで書き込まれたcookieはサーバ側から直後に読み出すことは不可能なのです。なぜなら環境変数は処理前の初期状態をキープしているからです。 また、クライアント側でcookieが正常に書き込まれたかどうかなんていちいち知ったこっちゃないのです。それはクライアント側の問題であってサーバ側の問題ではないからです。 cookie情報はクライアント側にあって、サーバ側にあるわけじゃないのです。 たとえ話は誤解を生む可能性がありますがあえていうと この通信は電話ではなく手紙だと思ってください。 １．このプログラムを実行して結果をくれと手紙を出す ２．これが結果だと返信がくる。その中にはcookie情報があるので憶えておけと書いてある ３．クッキーを見せるプログラムを実行して結果をくれと２度目の手紙を出す(じつはその手紙にはいろんなものと一緒にcookie情報が書いてある) ４．その手紙からcookieを判別して、これがお前のcookieだと返信がくる。 > ＜＜セットしたクッキーを参照したいなら、そのプロセス終了後に新たなプロセス(プログラムを別にする)で参照するしかないでしょう。 > > 要するにクッキーを食わせるプログラムと、クッキーを参照するプログラムは分けて起動すること > > 後これは具体的にどのようにすれば分けて起動できますか？ > というよりも起動するのは一つまでする方法しかしらないのですが同時に起動するにはどうしたらできますか？ 要するに、「クッキーを書き込むＣＧＩ」と「クッキーを読み出すＣＧＩ」を別々に作ってブラウザから順にアクセスすればいいのです。 でも、直後に確認したいだけならサーバ側でＣＧＩ実行後、クライアントスクリプトを動作させてブラウザ上で表示すれば確認は可能です。 要するに「ＣＧＩでクッキー食わせて」から、そのＣＧＩからブラウザに表示させるＨＴＭＬ内に「クッキーを読み込んで表示させるJavaScript」を組み込めばよいのです。 出力するＨＴＭＬの例 <html> <head> <meta http-equiv="Content-Language" content="ja"> <meta http-equiv="Content-Type" content="text/html; charset=shift_jis"> <title>クッキー</title> </head> <body> <p>クッキー一覧（以下はブラウザ側で実行される）</p> <script language="JavaScript"> document.write(document.cookie); </script> </body> </html> 長文失礼しました。
http://www.dohm.jp/seat_cover-order_system/img/0 … http://www.dohm.jp/seat_cover-order_system/img/0 … http://yoheim.web.fc2.com/js/jquery/event.html 指定のページは　Javascriptで製作可能です ヘッド部分の色パターンを全て作成する サイド部分も全色用意する クリックしたら画像を入れ替える 画像を用意してから 分からないところがあれば補足を 詳しく説明します
画像やスクリプトではなさそうですが。 ページの中にページを埋め込むには、<frameset> とか、<iframe> とか使ってください。 http://www.tohoho-web.com/html/frameset.htm http://www.tohoho-web.com/html/iframe.htm
自分のサーバーにプログラムを設置し、監視したい掲示板のURLをチェックすれば良いです。 ただし、毎日、または毎時間確認しなければならないのでCGIではできません。 サーバーのスケジューラーに登録する必要がありますね。 web用のレンタルサーバーなどでは難しいと思われます。 自宅サーバーを立ち上げるか、ホスティングなどでサーバー設定権まで付いているサーバーを使う必要があります。
質問１ httpヘッダ出力パート ---------------------------------------- printf("Content-type: text/html\n"); get_Form(); set_cookie(); get_cookie(); printf("\n"); ---------------------------------------- の ---------------------------------------- set_cookie(); get_cookie(); ---------------------------------------- が"×"です。 クッキーの設定はhttpヘッダから可能ですが、参照は環境変数を介する必要があります(ソースコードもそうなってるはずですが)。 環境変数はクライアントからＷｅｂサーバに対して「ＣＧＩを介したプログラム」の起動オーダーが発生した際に、その実行プロセスの環境を構成するためにプロセス起動時に作り上げられるものです。（注：ＣＧＩはプログラムのことでは有りません。Ｗｅｂを介してプログラムを起動する仕組み→インターフェース：Common Gateway Interface のことです。だから標準入出力機能を持った言語なら何でもＯＫなのです。) クッキーセット直後、同一プロセスからクッキーの環境変数を参照することは無意味です。クッキーはブラウザ側に送られても、環境変数はサーバ側にあって自動更新はされません。ＣＧＩプロセスの途中でサーバ側からクライアントのデータぶっこ抜き放題ならセキュリティもクソもあったもんじゃないでしょう。 あくまでも「クライアントの指示」でサーバ側のプロセス開始オーダーがあったときのみ必要なデータをクライアント側が送信し、サーバはそこからプロセスに必要なデータから環境変数群を構成してプログラムを開始するのです。 セットしたクッキーを参照したいなら、そのプロセス終了後に新たなプロセス(プログラムを別にする)で参照するしかないでしょう。 要するにクッキーを食わせるプログラムと、クッキーを参照するプログラムは分けて起動すること。 あと「サーバサイドのプログラムまたはプロセス」と「クライアントサイドのプログラムまたはプロセス」の区別をつけて考えることです。 さらに、ＨＴＴＰをはじめとするＴＣＰ／ＩＰについてもプロトコルとは何ぞや程度は・・・。 C/Sやネットプログラミングに限らず言語だけ知ってても仕組みを知らんと実装はなかなか難しいということですね。 質問２ 関数「Data1」が挙動不審なので作り直してみました。 nameset[0]に全ＰＯＳＴデータを入れた後、共通のポインタから直にいじり倒しているので最終的にvaluesetの最後と同じになっています。 最適化はしてないので教科書みたいなリスト（しかも古いスタイル）になりますが・・・ --------------------------------------------------------- int Deta1(char *a,int b){ 　int i,nMax; 　char *aTmp[30]; /* とりあえず30個まで耐えられるように */ 　char *sTmp,*sSTW; 　sTmp = a; 　i=0; 　while((aTmp[i] = strtok(sTmp, "&")) != NULL){ 　　sTmp = NULL; 　　i++; 　} 　nMax = i; 　for(i=0; i < nMax; i++){ 　　sSTW = aTmp[i]; 　　nameset[i] = strtok(sSTW, "="); 　　valueset[i] = strtok(NULL, "="); 　} 　return nMax; } --------------------------------------------------------- インデントは全角にしてるのでコピペ時には注意 できれば関数名は別のを考えたほうがいいと思う。代入する変数名とかぶってるし。 あと、評判の悪いstrtok使ってるけど、この処理って基本半角文字だけだから適材適所ってことで できれば値はエンコードされてるはずだからデコードして出したほうが理にかなってるかも こんな感じで答えになってるかな・・・。 それにしても、あらためてＣの文字列・配列処理は読み書きがめんどくさくて歳を感じてしまいました。 perlで作ったほうが開発効率いいと思う。　正規表現の変態さ加減なんかはもう・・・。
CGIを使うにはまず開発環境を整える必要性があります。 後CGIに使う言語の選択によっても開発環境は少し違ってきます 使用言語はC言語、peal、PHP、それ以外があります。 C言語…早いし複雑なゲームを作るのに向いてる　けど複雑な処理がいろいろ必要 peal・PHP…遅い（といっても簡単なCGIならそこまで遅いとは感じないはず）けれど作りやすい（らしいけど私にとっては難しい）　比較的安全に使えて初心者向け 質問者さんの「 ページにURLと簡単な文章を記入するスペースを設けて入力更新後任意のテーブルにそのURLと文章を表示する様にしたい」 の質問は作り方自体は簡単ですが、何の言語で作りたいかで書き方が変わってくるため、答えられません そのため ・何の言語で作りたいのかを決めて ・その言語で開発可能な環境を整える必要性があります 開発環境に必要なら C言語ならコンパイラとApatch（webサーバーであれば他でもよし） PealならpealソフトとApatch PHPは私はつかったことがないので調べてください
実は、偶然たまたま組んでいたもののカケラを 利用したようなものなのですが・・・ その為に、書き方が一部いいかげんな部分があるかもしれません。 後は、これは無料サーバーでは動かない場合があるかもしれません。 （海外だと、文字コードの問題も出ることもありますが） ページを転送する部分を書き換えれば動くかとは思われます。 後は、自分の探しているCGIというのは、見つかるようで見つからない ことも結構あるようです。 ページを転送しない仕様でしたら、既存であるかもしれませんが 今回のは、HPビルダを使うことを前提にしましたので 転送するようにしています。 本当は、勉強して頂くのが一番ですが、最低でも、改造するスキルが あれば良いかもしれません。 最後に （使用する文字で、Shift-JISは化ける場合があります） と書きましたが、その場合、化けている文字の前に、半角の￥を 記述すると、化けがなおることがあります。
このサイトを参考にされてみてはどうでしょう？ 参考URL　：　http://webings.net/c/cookie/
> 最初に初期値を入れればいいのですか？ いいえ、何を作ろうとしているのか思い出してください。 クッキーに入れたいのは「フォームから受信した値」のはずです。 フォームからＧＥＴなりＰＯＳＴなりのメソッドで送られたデータを受信後に必要なものだけを取り出しクッキーに格納してから画面表示するのが目的（質問もそうなってませんか？）かと思いますが・・・。 最初に初期値を入れてもいれなくてもどうでもいいのですが、クッキーにセットする前に目的のデータを用意して代入しないと勝手に入ってはくれません。　最初のクッキーセットはデータ取得の前に行っていますよ。 蛇足ですが、初期値はどうでもいいと書きましたが、 Ｃの場合は宣言だけではメモリ上に実体が確保されるわけではないので、初期値をしっかり入れて実メモリ領域を確保しとくのは予期しないバグを生み出さないための常套手段だと思います。 > 確かにごちゃごちゃしてると言われればそんな気もします > うまくまとめているような参考例でもなければなかなかまとめ方がよく分からんのです ちゃんと動いて自身で全体を把握できてなおかつ人に見せるものでなければごちゃごちゃしていようといっこうにかまわないと思います。 参考例は書籍やその言語の解説サイトをみれば、人に見せるためのものがほとんどなので、ちゃんと整理されたサンプルになっているかと。 > 出力部と処理の部で分けたらまたごちゃごちゃしそうだと思いますしね うーん・・・。ごちゃごちゃさせないために機能を分類整理するんだと思いますが・・・。
http://beauty.geocities.jp/nishihama985/js-pass/ … http://beauty.geocities.jp/nishihama985/js-pass/ … Javascriptの簡易版ですが　同じようなことができます mydata.txtに　ID　PASS　見せたいPAGE　を指定しています ID　を変えると　PAGEが変わります URLが表示されないので分かりません CGI　PHP　で探しているでしょうか
横入りして申し訳ございません。 ご質問について、いろいろと回答が出ており、いまさらではありますが、質問者様の冒険的なこころみにいたく感心し、わたくしなりに回答してみたいと思います。 まず、ＣＧＩの利用についてはプロバイダが利用可と言っているなら遠慮なく使ってもいいと思います。 ただ、レンタルサーバの利用形態によって制限があるため、プロバイダの利用上の説明やＱ＆Ａは読んでおいた方がいいと思います。　そして禁止事項は守るようにお願いします。 なぜ、制限があるかというとＣＧＩを使ってシステム上のプログラムを実行させた場合に、メモリやディスクまたは回線などのサーバ資源をパンクするまで占有させるようなプログラムであった場合、他のお客様に迷惑がかかるからです。 例えば、メモリを多く使ったりディスクへのアクセスを頻繁にすると、複数の客で１機のサーバをシェアレンタルしている場合にサーバが重くなってシェアしている全サイトの各種処理サービスが遅くなるなどの問題が発生します。　実際には早々起こる事ではありませんが、その可能性があるというだけで脅威なのです。 割高ですが、１機のサーバを独占する占有サービスなどでも、ＳＰＡＭ業者のように秒間何千通ものメール発信してたら、回線があっという間にパンクします。　回線には何台ものサーバがつながってますので・・・。　サポセンに電話がつながりにくいようなもので、緊急の人にとってはもう泣きたい位の・・・。 まあ、利用はＯＫだけど気をつけてねとも書いてあると思います。 サーバになんかあった場合、極端な話、生活をそれに依存している人とかが損失のせいで首をつったりするケースもあるので、プロバイダに責任転嫁しないでちゃんと責任とってねというようなことをオブラートに包んで書いてあるかと・・・。 次に「Ｃ」言語で作ったプログラムをＣＧＩから動作させたい場合 これはまず、占有サーバを借りる以外無理かと思います 理由としては、プログラミングを学習した方ならご存知でしょうけれど、プログラム言語には大きく分けて「インタープリター型」と「コンパイル型」に分けられます。近年(といってもふた昔ほど)では、ＪａｖａやＶＢなどに代表される中間言語処理型のような「コンパイラ」と「インタープリター」の中間に位置する方式もありますが、こちらはまあ脇においておいて。 Ｃは基本的にはコンパイル型です。まず、実行ファイルを作る(以下ビルドといいます)ことが前提です。ソースの状態では実行できません。　実行ファイルは「マシンの環境に依存」しますのでサーバ側でビルドを行うことになりますが、一般の安いレンタルサーバでそんな操作をさせてくれるところは聞いたことがありません。 サーバと同じＣＰＵ・ＯＳの環境を仮に持っていたとして、staticモードでビルドをすれば動作する可能性は高いですが、言ってることが良くわからなければ事故の元です。　この手の事故は簡単に発生します。　事故で共用レンタルサーバをつぶした場合の損害額は個人では弁済できない額になると思います。　あなたがアラブの石油王なら大丈夫かも知れません。 perlはなぜソースのままで動くのかというと、そのソースが単体で動作するわけではないのです。　UNIX系サーバの場合、テキストファイルに実行権限がある場合、その１行目はシェバング行となります。これは、そのテキストデータをその行で指定されたプログラムから処理させますよというものです。 「#!/usr/bin/perl」という行がperlのCGI用ソースに入っていると思います。ここで指定されている「/usr/bin/」に入ってる「perl」という名前のperl言語を処理するインタープリターのバイナリ実行ファイルがＯＳ上で起動してそれ以下のテキストをperlのプログラムとして逐次実行されるという仕組みです（正確には中間言語にコンパイルしてから云々というのは後々の学習のためにとって置いて下さい）。 そんなこんなで、レンタルで、ある程度なにをやっても許される占有サーバをレンタルするのでなければ、ＣをCGIから利用するのはあきらめたほうがいいと思います。 できれば、ローカルでＬＡＮを組んで自前のサーバを構築してそこでやってみることをおすすめします。 蛇足ですがＣＧＩはプログラム自身ではありません。Ｗｅｂサーバからシステム上でプログラムを起動させてその結果をＷｅｂサーバに橋渡しする仕組みのことを指します。　また、プログラム言語は言語仕様だけを学んでも習得できた事にはなりません。それの取り巻く環境や開発ツールを使えるようになってスタート地点です。　がんばって学習してください。 長々と失礼いたしました。
CGIに使える言語を限定しているプロバイダーがありますので、 利用規約等を確認するか、問い合わせた方が良いと思います。 たとえば@Niftyホームページサービスでは、C言語を使えない旨が書かれています。 http://homepage.nifty.com/outline/ >ご注意 >C言語、シェルスクリプトはご利用いただけません。 自宅にコンパイル環境を用意して実行ファイルを作ったとしても、C言語で作られているCGIアプリを使用して利用規約違反としてアカウント停止等になったとしても、補償はされません。 XREAでは利用可能です。 http://www.xrea.com/spec/ >使用可能な言語は、Perl（Version5.6 / 5.8）、Ruby、Python、C/C++、PHP3/4（日本語化パッチ済み）。 >（C、C++はあらかじめコンパイルしてアップロードしてください。）
上に上がるだけになるのは、本当に携帯の戻るボタンですか？ 画面に表示される戻るボタンじゃないですか？ もしそうだとしたら、その画面だけ戻るボタンがjavascriptの戻る機能になっています。 インターネットで戻るで内容を維持するには3つの考え方があります。 キャッシュ　・・・表示した画面や入力した内容がパソコンや携帯に残っているので、戻った時に表示される。 クッキー　・・・・プログラムがパソコンや携帯の中に強制的にデータを保存させ、表示させる。通常戻るでこの機能は使わない。 クエリ　　・・・・戻るボタンを押したとき、画面にあるデータを一緒に戻す。 いずれも、テンプレートを変更するだけでは、データを残すことはできません。 基本的に携帯は、携帯の中にキャッシュが残るので携帯の戻るボタンで戻ってデータが残ります。 一方、WEB画面の戻るボタンは、「戻る」といっても新しい画面なので、戻るボタンを押したときにクエリでデータを送信なければなりません。 そのプログラムがそこまで考えて作られているかどうかわかりませんが、ないなら戻るボタンは作れません。
どのjcode.plでしょうか? 改造されていない限り、jcode.plはUnicodeに対応していません。 @contentsがUTF-8だったりしたら、jcode.plでは対応できません。 Perlが古い等の理由が無いのなら、Encodeモジュールを使いましょう。
>＜＜「ダウンロードさせるファイル」として認識させてはマズい。ということになりますね。 >それはなぜなのでしょうか？ CGIとして「サーバ側で実行」する必要があるファイルをユーザがDL実行したところでブラウザに結果は出ません。
IPアドレスはロシアのものです。 ロシアから本文無しで送信ボタンをクリックしたのでしょう。 日本語本文がある場合以外は送れないようにするとか、対策がないといたずらの標的です。
CGIスクリプトのソースがそのまま出力されるのは、そのファイル/URIがCGIとして実行できていないためです。 httpd.confの<Directory>ディレクティブや<Location>ディレクティブなどの指定箇所が間違えているか、 ファイルの拡張子を間違えているか、 httpd.confを書き換えてからApacheをリスタートしていないか。。。 Forbiddenが出てきたら.cgiファイルに実行権限が無い。 Internal Server Errorが出てきたら、Perlがインストールされていないか.cgi拡張子とPerlが関連づけられていない。 ということが考えられます。
HTMLやJavaScriptではBASIC認証はできませんよ。 #1の方が書かれている事もそういう事だと思いますけど。
コンソールアプリを作ればOKです。 ウェブサーバーがLinuxなら、Linuxで動くようにコンパイル（メイク）してください。 HTMLデータを出力するなら、"Content-Type: text/html\n\n"を出力してからHTMLデータを出力してください。 参考：C言語によるCGIアプリ作成 http://mewc.to/CGI/
あ、それと パス：24mvgr ってこれ生のパスワードじゃないですか？ .htpasswdファイルとしては ユーザー名:暗号化されたパスワード （上をユーザー数だけ繰り返し） です。 この暗号化パスワードは生のパスワード入力するんじゃなくて、 .htpasswdを生成するサイトを使います。 http://www.htaccesseditor.com/#a_basic を使うのなら、ユーザー名と実際のパスワードを入れて .htpasswdを生成というのを実行して、でてきた ユーザー名：暗号化されたパスワード をコピー＆ペーストで、.htpasswdファイルに転記します。
クーポンはどんなものでしょうか 全員に共通のものでしょうか ランダムに複数の種類から一つなどでしょうか 個人ごとに番号などがあるものでしょうか 複数回の回答は許可するでしょうか
コード判定に失敗しています。 自動判定は ・特定のコーディングにだけ出てくるバイトパターンがあったら、そのコーディングに確定 ・特定のコーディングには存在しないバイトパターンがあったら、そのコーディングを候補から除外 というのが基本的な方法です。精度を上げるために、統計を取る等もあります。 このため、文字数が多い程精度があがります。少ないと誤判定するケースが増えます。 手許にあるperl + Encode::Guessで試すと UTF-8でのあ「ああ」は 「shift_jis or utf-8 」となります。shift_jisかUTF-8か判断ができなかった、という意味です。 これは、shift_jisと誤判定される可能性があることです。 そうすると、 UTF-8「ああ」 →sjisと誤判定 →Jcode::convert($value,"sjis","sjis");と動作 →sjisからsjisなので変換されない = UTF-8「ああ」のまま →これをsjisとして出力した結果「縺ゅ≠」 となり、現象と一致します。 対策は ・文字列をもっと長いものにして、誤判定を防ぐ。複数単語の処理だったら、単語ごとではなく、全部を一気に変換してから単語に分割する ・入力が決まっているなら、 Jcode::convert($value,"sjis","utf8");などと変換元を明示する ・判定用の文字列を別途用意して、 入力のコーディングを確定しておく。例えば、判定用に「あ」を使って「%E3%81%82」だったらUTF-8。あとは↑と同様 等です
おそらく、ヘッダーと本文の区切りの空行が出力されていないからでしょう。 「print MAIL "$maintxt\n";」の行の前に「print MAIL "\n";」を追加すればよいかと。 ちなみに、提示されているロジックより前の方で 　open (MAIL, "| sendmailのパスとオプション") ・・・ とやっていると思いますが、デバグ時には一時的に 　open (MAIL, "> デバグ用のファイル") ・・・ の様にしてファイルに出力してやると確認が楽です。
名前は似ていますが、CGI-PLANTさんの「Petit Editor」など如何ですか？ http://wws.cside.com/cgi-plant/p_edit/ 修正するhtmlファイルの文字コードがShift_jisならば、ご希望のことが出来ます。 もしも、他の文字コードのhtmlファイルを編集したいなら、サポート掲示板でだめもとで聞いてみると良いかも。
JavaScriptを使えば可能ですね。
どうも、無事解決されて良かったです！ 私もホッと＆スッキリしました。 ベストアンサーはもちろんNo.2の方でおねがいします。 ここはGive and takeなサイトで良いですね。 というのも、私も自分の質問をしており、そのご回答待ち時間に、自分に出来る分野でご回答させて頂いております。 なので、次回は、私は質問者の立場でお会いするかもしれません！ ・・・ではまたサイト内のどこかでお会いする日まで・・・(^^)/
> (1) index.htmlと同じ階層にloginという名前のフォルダを設置。 このフォルダのパーミッションはどうなっていますか？ CGIを含むディレクトリは705もしくはそれ以上(755・777など)にしないとCGIはリクエスト要求に応答できません。 別の要因としては、万一サーバー側の設定に問題がある場合、CGIをバイナリモードで転送した時のみ動作したという例もあるようです。この場合、1行目のパスの末尾に" --"を付加すればアスキーモードで動作するかもしれません。
おそらくBOMだと思いますのでBOMなしのUTF-8で保存しなおせばよいかと(エディタによってはできないかもしれません)。 UTF-8にBOMは必要でないのですがWindowsのエディタではUTF-8だとBOMを付けるものは多いみたいです。
.htaccess は、HTTPサーバーに対して支持するファイルです。 パーミッションは、OSに対する設定です。 　Windows(MS-DOS)にUNIXのパーミッションと言う概念はありません。NT系以上はアクセス制御リスト ( http://ja.wikipedia.org/wiki/%E3%82%A2%E3%82%AF% … )を使用した特殊な方法で、UNIXで言うところのパーミッションとは別物です。 『ローカルでテスト用にwindowsでアパッチを動かしてるのです』と『コマンドでやってもいいのですが、』と矛盾しています。 　別の公開されているインターネット上のサーバーに転送した後での処理でしたら、多くのビジュアル系のFTPソフトは、拡張子によってパーミッションの変更には対応しているはずですが、転送と同時には勧められません。あくまでファイルを選択して行うべきです。もちろんコマンドを使うのではないですが。 『phpとかをつかって属性を変える方法はありますが URLを打ってアクセスするファイルのパーミッションを変えたいんです。 perlなんかだと777などに設定しないと403になってしまいますし。』 も意味不明です。 　phpよりは、perlのほうが楽なはずです。chmod(mode, filelist) 　後半はCGIプログラムのパーミッションだと思いますが777なんてしません。ハイセキュリティなら705、もしくは755ですし、ライブラリは644でよいです。 　perlでは、 　
以前、携帯を使っていたときのことですが、 googleで検索をして、リンクをクリックして該当サイトに行ったつもりでも、実際はgoogleがhtmlを取得して携帯用に変換して表示させていました。 今でも行われているかはわかりません。 coreserverであればアクセスログが見れるかと思いますので、その時刻のアクセスがどこからで、URL直接入力したときと違うかどうか確認してみてはいかがでしょうか。 参考サイトの記述には問題がなさそうですので思い当たるのはこれぐらいです。
せっかく貼ってもらった画像に何が書いてあるのか見えません.... 考えられるのはすでにApacheかその他のWEBサーバがインストールされていて、 Port80を占有しているという事はありませんか？ ブラウザで http://localhost といれて何か表示するなら すでにWEBサーバがインストールされているので、 XAMPPのApacheを使いたい場合は、Portを変更すれば良いと思います。 →httpd.confで調整してください。
Googleは自前で情報を収集しています。 そのクローラーにはGooglebotという名前がついています。 ちなみに，Googleの検索結果のスクレイピングは利用規約の > Google が提供するインターフェースおよび手順以外の方法による本サービスへのアクセスを試みてはなりません。 に反する可能性があります。現行の規約にはありませんが，以前の規約には > 5.3 Google が提供するインタフェース以外の手段で、本サービスのいずれにもアクセスしないこと（またはアクセスを試みないこと）に同意するものとします。 という文の後に， > 特に、ユーザーは、いかなる本サービスについても、いかなる自動化された方法（スクリプトやウェブ クローラーの利用によるものを含みます）によりアクセスせず、アクセスを試みないことに同意し、 とありました。
＞確認ですが、ローカルホストに入れた場合のcgiのurlは、 ＞http://localhost/*.cgi　ですよね？ httpd.confの記述内容にもよりますしcgiファイルをどこに置いたかにもよりますので http://localhost/*.cgiとは限りません。 httpd.confでどのような設定になっているかよくお読みになってはいかがでしょうか。
http://q.hatena.ne.jp/1170586489 http://www.securehtml.jp/utf-8/php_utf_mail.html
デコードされた「イチゴ」という文字を 更にデコードしているように思いますがいかがでしょうか？
CGIの説明書か、ダウンロード元にやりかたが書いてあるので、それに従います。 全てのCGIが同じではありませんので、そのCGIの指示に従ってください。 データを保存するタイプ（日記、掲示板、メモ帳、カレンダー、チャットなど）なら当然ですが書き込み権も必要です。 フォルダとデータファイルにはwwwユーザに対する書き込み権が無いとデータの保存ができません。 CGI本体は、自分とwwwユーザに読み出し権と実行権があれば良いです。 自分だけは書き込み権も与えておかないと書き換えや削除もできなくなります。 その他のファイルはCGIから書き込みをするのか読み出しだけなのかによって違います。
うまくいかないとは、どう、うまく行かないんですか？
できません。 この場合は、PHPを使わないか問い合わせフォームをPHPに移植するかどちらかになります。
似たもので　PHPでもいいでしょうか 設置するサーバのスペックはどんなものでしょうか
$qは何でしょう? おそらくCGIオブジェクトだと思います。そうであるなら http://perldoc.jp/docs/modules/CGI-2.89/CGI.pod より > 新しい問い合わせオブジェクトの作成(オブジェクト指向スタイル）: > $query = new CGI; > これは（POSTとGETメソッドの両方からの）入力を解析し、 $queryと呼ばれるperl5オブジェクトに格納します。 と、あります。つまり、 > if ($ENV{'REQUEST_METHOD'} eq "GET") {# GETでの受信 (略) > print "POST=$formdata"; >} の部分はまったく無意味なコードです。CGIモジュールを使う理由の一つは、こういうコードを書かなくても、簡単にパラメータ受けとれる、ということです。 内容はparamメソッドで取りだせます。 ・これが出力したHTMLを「ソースを見る」等で確認しました? pメソッドは<p>タグの構造をperl上で表現するためのものです。 $q->p( "aaaa", $q->strong("BBB") , "ccc" ) → <p>aaaa<strong>BBB</strong>ccc</p> といったように。こうすると、Perlでの文法の構造と、HTMLの文法構造が一致するわけです。 それをまったく無視してるので、できあがったソースが無茶苦茶になってます。 そのせいで、そもそものデータが送られてない可能性もあります。 formを書くなら http://perldoc.jp/docs/modules/CGI-2.89/CGI.pod# … あたりを読んでください。 正しい文法かどうかもわからないなら、各種チェッカーがありますから、使ってください。 http://validator.w3.org/ http://openlab.ring.gr.jp/k16/htmllint/index.html http://users.skynet.be/mgueury/mozilla/ (firefoxのアドオン) ・前の質問(http://oshiete.goo.ne.jp/qa/7453554.html)から > ラクダ本の上巻は必須でしょうか？ 下巻は、当然、上巻の続きですから、上巻を読んでいること前提で書かれています。 他の資料で上巻相当のことを理解しているのなら不要かもしれません。 が、これまでのやりとりを見ていると、とてもそうには見えません。 ラクダ本はあまり初心者向けではないので、今すぐに、とは言いませんが、将来続けていくなら読んでおいた方がいいです、
use strict; use warnings; use CGI; my $q = new CGI; my $user = $q->param('user'); my $age = $q->param('age'); $user = 'Anonymous' if !defined $user; $age = '?' if !defined $age; print $q->header("text/plain"), "Hello $user.\n", "You are $age years old.\n"; --- $ perl foo.cgi user=hoge age=123 Content-Type: text/plain; charset=ISO-8859-1 Hello hoge. You are 123 years old.
エラーメッセージ読んでます? そんな「1行ずつコメントアウト」なんかしなくても「at enncoding.cgi line 1.(encoding.cgiの1行目)」て書いてありますよ。「"-T" is on the #! line, (-Tが「#!」の行にある)」とエラーの原因になることも説明ありますし。 なぜ、エラーメッセージで検索したり、perldocを読んだりしようとしないのでしょうか? ただ「エラーを見つけるため」では無いのです。 それぞれに意味があって、結果「エラーを見付けるのに有用」ということです。 perlのオプションは、perldocのperlmanにあります。 perldocには和訳もあります。 http://perldoc.jp/docs/perl/5.10.0/perlrun.pod より -w (略)その他たくさんの疑わしい事に警告を出します。 -T 「汚染」チェックをオンにして、テストできるようにします。(略) セキュリティ上の理由から、このオプションは Perl にかなり早く渡さなければなりません。 これは通常コマンドラインの最初の方につけるか、#! 構造に対応する システムではここに書くかです。 で、ここです 「コマンドラインの最初の方につけるか、#! 構造に対応する システムではここに書くかです」 perl -c encoding と、コマンドラインで実行しているし、そもそもWindowsでの実行なので「#! 構造に対応する～」は無視していいです。なので「コマンドラインの最初の方につける」です。 先に-cオプションだけ起動して、あとから-Tを追加しているので「it must also be used on the command line(コマンドラインでも使わなければならない)」と出ています。 ついでに言えば、perl -c encodingのように実行するなら、#!の行は不要です。 やりたいことがさっさとやりたい、という気持ちはわからなくもないですが、もうちょっPerlの基本とCGIの基本を勉強してからの方がよくないですか? ここ数日わけもわからずコピペして見当違いなことやってた時間を、良書を読むのに回していたら、だいぶ違っていたと怖もいますよ。
> # wT付けるとエラー これは、すでに指摘があったように、文法ミスがあったので、perl -w (=use warnings)でエラーを検出して停止したんでしょう > require 'cgi-lib.pl';# cgi-lib.plを呼び出す > require "jcode.pl";# jcode.plライブラリを組み込む cgi-lib.plもjcode.plも使わないほうがいいです。古すぎます。どうしても使わなければならないという理由があれば別ですが。 CGI.pmを使えばcgi-libは不要になるはずです。日本語の文字列を処理したいときは、use Encodeしましょう。Encodeの使い方は http://blog.livedoor.jp/dankogai/archives/510315 … などが参考になるでしょう。 > $q->li('<FONT color="brack">テスト？</FONT><BR>'), li はhtmlで言うところの List Itemタグ(<li>)です。CGI.pmのタグ出力は必ずしも必須でないです。つまり、HTMLの出力を全部CGI.pmでやらなくてもいいです。 以下、空白2文字を全角空白していることに注意。use utf8しているので、CGIスクリプト中(perlスクリプト中)に日本語を埋め込むときはutf8で保存のこと。 binmode STDIN, ":encoding(cp932)"; binmode STDOUT, ":encoding(cp932)"; しているので、入出力はCP932(=Windows Shift jis)になる。 use strict; use warnings; use utf8; use CGI; use CGI::Carp qw(fatalsToBrowser); use CGI::Pretty; # Windows Shift JIS binmode STDIN, ":encoding(cp932)"; binmode STDOUT, ":encoding(cp932)"; my $q = CGI->new(); print $q->header( -charset => 'Shift_JIS', -type => 'text/html' ), 　　$q->start_html( -title => 'TEST' ); my $name = $q->param('username'); if ( !defined($name) or $name eq '' ) { 　　$name = 'Anonymous'; } print $q->h1("Hello $name"); print << "END_BODY"; <form method="POST" action="foo.cgi" enctype="multipart/form-data"> 　user name: <input type="text" name="username" value="$name" /> 　<br /> 　<input type="radio" name="look_behind" value="A" />Value A 　<input type="radio" name="look_behind" value="B" checked="checked" />Value B 　<input type="radio" name="look_behind" value="C" />Value C 　<br /> 　<input type="checkbox" name="checkbox" value="ON" lablel="checkbox_label" />checkbox 　<input type="hidden" name="sample" value="red"　/> 　<input type="hidden" name="sample" value="blue"　/> 　<br /> 　<input type="submit" name="Send" value="Send" /><div><input type="hidden" name=".cgifields" value="checkbox"　/> 　<br /> 　<input type="hidden" name=".cgifields" value="look_behind"　/> </form> END_BODY print $q->hr, "<pre>\n"; my @params = $q->param; for my $param (@params) { 　　print "$param:\n"; 　　my @values = $q->param($param); 　　for my $value (@values) { 　　　　print "　$value\n"; 　　} } print "</pre>\n"; print $q->end_html;
すごい原理的な仕組みを使って、CGIのパラメータを取得しようとしているみたいですけど、CGI.pmくらいは使いましょう。(cgi-lib.plじゃなくて) CGI.pmなどのモジュールを使わずPOSTが動いているのを確認したいだけなら、つぎのコードで確認できます。表示がくずれるので、空白2文字を全角空白にしていることに注意。 --- foo.html <html> 　<head> 　　<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" /> 　　<title>TEST</title> 　</head> 　<body> 　　<form method="POST" name="hoge" action="foo.cgi"> 　　　<div>TEXT DATA: <input type="text" name="NAME"></div> 　　　<input type="submit" value="SEND"> 　　</form> 　</body> </html> --- foo.cgi #!/usr/bin/perl print "Content-type: text/plain; charset=utf-8\n\n"; read STDIN, $data, $ENV{'CONTENT_LENGTH'}; print "$data";
前の質問の流れを見ての推測ですが、 HTMLの<form>って何ですか？ではないでしょうか？ もしそうなら、CGI、Perlの前に、HTML（とくにform関連）はどういうものかというのを勉強したほうがいいんじゃないかと思います。 （ブラウザの処理）formを送信 -> （サーバー（CGI,perl）の処理）HTMLを出力 -> （ブラウザの処理）<form action="form_input_post.cgi">を送信 -> （サーバー（CGI,perl）の処理） form_input_post.cgiを実行 という流れになると思います。 >前質問 <meta>でrefreshしてるようですが、送信した内容が表示されないというのはそれじゃないですか？ -------------- 以下、全くの余談。 /.J に聞け: プログラミングに関する質問はどこに寄せれば良い? http://developers.slashdot.jp/story/12/04/26/013 … 中程の回答 >Re:回答者の無意味な質問返しが超大嫌い。 それを承知で、こういう回答の仕方をしていますので、悪しからずご了承ください。
> うまく表示できません とは、何を期待していて、それと違ってどうなっていることを言っているのでしょう? 少なくとも、チェックボックスは表示されませんか? あとは、前後がどうなってる、とか、各変数に何がどんな風に入っているとか、そういうのが無いと正解には辿りつけません。 ○ for($xa = 1;～ と、1からになっているので、@list_eの先頭($list_e[0])が表示されないのかもしれない →これは、ラジオボタンの方でも同じ。 →@list_eの先頭にダミーが入っていて、[1]から使うようになっているなら関係無し ○if($form{'q2'} == $xa){ が正しくないのかもしれない →チェックボックスは複数選択できるので、受けとる側でも複数受け取るようになっているのが普通。 「$form{'q2'}の中に$xaがあるか」ということなら、==では判定できない。 →$form{'q2'}にどんな形式で入っているかわからないので、判定方法もわからない →そもそも$form{'q2'}が「name=q2のチェックボックスの状態」とは限らない
昔、nifty @homepage 用に html表示用サーバー と cgi実行用サーバーを分けてAN-HTTPDに構築して動作実験する方法を @homepage に公開していたが、そのページはすでに削除したので、とりあえず以下をチェックしてください。 バーチャルホストにはアクセスできてるようなので、.cgi でどのプログラミング言語を起動しようとしてますか？たぶんperlだと思うけど、そうでないときは、以下のperlのところを読み替えてください。 １．AN-HTTPD の設定を開いて「一般」タブ内「.pl, .cgi の実行」の右の欄に、インストールしたperlへの フルパス名（ドライブレターから、拡張子の手前まで）を入れましたか？ ２．「#! の行を調べる」のチェックは外しましたか？ このチェックがついたままだと、.cgi ファイルの一行目に、インストールしたperlへの フルパス名（ドライブレターから、拡張子の手前まで）を入れないとなりません。 ３．また「CGI出力を検査」にはチェックを入れておくと、実行時エラー内容がブラウザにも出力されます。公開用では、ブラウザにエラー内容まで表示するのはまずいですけど、localhost練習用なら、この方がデバッグは速いです。 ４．ブラウザのurl欄にcgiのurlを直接入れて、どんなエラー表示が出るかをまずはチェックしてください。cgiプログラムそのもののデバッグはそれからです。
変換演算子（tr///）はスカラ変数にしか適用できません。 配列の場合、@array[n]=~tr/+/ /; $array[n]=~tr/+/ /; はOKですが @array=~tr/+/ /; はエラーになります。
CGIとHTMLでサーバーが同じで、ディレクトリが違うというだけなら CGIやHTMLのaction=やhref=を相対パスで書いてしまえば、 テストサーバーでも本番サーバーでも同じファイルがそのまま使えるので テストもそのぶん簡単になります。 しかし、今例のように、HTMLとCGIでサーバー自身が異なるという場合は、 テスト環境を作るのは少々厄介そうですね。 案１） プライベートLAN内に、本番と同じURLになるWebサーバーを２台を立ち上げる。 （実際にはバーチャルドメインで１台のマシンで可能） （テスト時は、クライアント機のhostsファイルに、プライベートLAN内のIPアドレスを記述し、 本番環境をみるときはhostsファイルから削除する） 案２） HTMLやCGI中のURL記述部は、決め打ちにしないで HTMLはSSI、CGIはrequreで　別の設定ファイルを読み込んでURL部を確定させる。 本番機とテスト機で設定ファイルだけは内容が異なり、他のファイルは共通とできる。 案３） HTMLやCGI中のURLはテスト機のURLの決め打ちにして、 本番環境にアップするときに、手動で　書き換える。 （更新時の修正漏れや、CGI用/HTML用のURLの取り違えなど、トラブルは多いでしょう） という方法が考えられると思われます。
CGIの記述ミスというよりもタイムアウトだと思います。 負荷がかかっているとか、運用面での問題は考えられませんか。
メールヘッダの Subject を次のようにします。 use Encode; Subject: encode('MIME-Header-ISO_2022_JP',decode('cp932',${'場所'}))."\r\n";
WEB de アンケート（無料CGI）というのは、下記のcgiでよいでしょうか？ http://www.coolandcool.net/pcg/web_de/index.html 当方、cgi（perl）は以前にちょっと齧った程度なので、 的確な回答にはならないかもしれませんが、上記アドレスでのcgiを見て回答します。 fumikume さんが希望している動作は、 『2）．web_de.cgi内のtextに貼付け、CGI投句ボタンを押す』ということでしたが、 記述修正位の知識（私も毛が生えた程度ですが）ですと、お望みの動作は難しいのではと思われます。 希望動作を実行するための、２パターンの回答をしたいと思います。 【パターン１】　下記の動作を実行する ---------------------------------------------------------- 　1）．postmail.html内の「"投句1"」を 　2）．web_de.cgi内のtextに貼付け、CGI投句ボタンを押して、 　3）．元のpostmail.htmlに戻る ---------------------------------------------------------- web_de.cgi 側で、postmail.htmlに入力されたテキスト情報を受取る手段です。 web_de.cgi の 933～957 行の様なスクリプトを新規に書かないといけません。 postmail.htmlからのデータを受取って、変数に入れ込む処理です（仮に変数「$touku」とします）。 その後、質問のAの2に記述されていた、 　<input typep=text name=\"new_v\" value=\"\" maxlength=80 size=40>"; }　を、 　　↓ 　<input typep=text name=\"new_v\" value=\"$touku\" maxlength=80 size=40>"; } のように修正していきます。 しかし、普通に web_de.cgi から書き込んで投稿した場合と、 postmail.html 経由で投稿した場合との条件分岐しないといけないと思うので、 そのスクリプトも書かないといけません。 【パターン２】　投句ボタンを押さずにログファイルに書き込む 投句ボタンを押した際に、cgi側ではlogフォルダ内のテーマ毎に作成されるテキストファイル(*)にテキストボックス内の情報が書き込まれます。 こちらに直接書いてしまう方法です。 (*) 拡張子は「cgi」となっていますが、ただのテキストです。 　　「WEB de アンケート」の設置案内のページでは、 　　サンプルとして「1013061956.cgi」というファイルがありますが、 　　このようにテーマ毎のID番号の名前で作成されるファイルです。 テキストに書き込むスクリプトは、 web_de.cgi の898～909行目「ログテキストファイル書き込み」に当たります。 ここには「$id」という変数があるのですが、これはテーマ毎のID番号です。 『２.受取側（web_de.cgi?_mode=view&id=1329846611）』とありましたので、 $id = 1329846611 なのだと思います。 このあたりをふまえて、単純に書き込むだけの新規 cgi を作成することでも良いのかもしれません。 読み書きについては、参照URLのサイトが参考になるかと思います。 あまり参考にならなかったかもしれませんが、ここをちょちょいっとするだけで簡単にできるというものではないかと思います。 私も人様のスクリプトを見ながら勉強している立場なので、いたらない回答だったかと思いますが、 修正にチャレンジして頑張ってください！ 参考URL：http://www.geocities.jp/ky_webid/perl5/017.html
共通部分をテンプレート化してしまえばいいと思います。テキストファイルで（拡張子はなんでもいいです） <html> 　： 　： <div id="content"> <!-- inset contents here --> </div> 　： 　： </html> としておいて、そのファイルを読み込んで'<!-- inset contents here -->'までを出力→コンテンツ部分を出力（処理によって異なる）→以降を出力などとすればいいです。 あるいは'<!-- inset contents here -->'までを$herderに、以降を$footerに代入しておいて、 print $header; // 処理によって異なる出力 print $footer; でもいいでしょう。 一番簡単なのは「処理によって異なる出力」をいったん変数に代入する仕様であれば、ファイルを読み込んで'<!-- inset contents here -->'の部分をその変数で置換して返すことです。
これは、postfixの正しい挙動だと思います。 それは、 $to の定義において、 @の前に \ を置いてエスケープしているのにシングルクォートで括っているから、postfixは 「foo02\@bar.jp」をローカルパートと判断し、「@サーバー名」 を付加しているのでしょう。
＞　at ./yybbs.cgi line 56 yybbs.cgiの56行目で ＞Can't locate ./registpl.cgi in @INC registl.cgi の場所が見つけられません てあります どちらも使ったことがないので詳しくはわかりませんが、なんか根本的な使い方が間違ってないですか？ registpl.cgiはyybbsと組み合わせ使うものなのでしょうか？
結局のところ、エラーメッセージは 「Open Error: ./count.dat」 だけでしょ? ファイルがオープンできない、ということは、ディスクの故障等を除けば ・読み込め権利のないファイルを読もうとしている ・書き込み権利のないファイルに書こうとしている ・存在しないファイルを読もうとしている/ファイル名の指定が間違っている ・新規書き込み時にファイルを作れない。(権利がないディレクトリ、利用できないファイル名等) あたりが原因です。 CGI設置の説明に、そのあたり(特に権限(パーミッション))のことは書いてないですか? それと、この貼り付けた部分って、どこに表示されたのですか? ブラウザからCGIにアクセスしたら、 > <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> 以降だけがhtmlとして解釈されて、画面には ERROR ! Open Error: ./count.dat 前画面に戻る とだけ表示されるはずです。
まずは、他のサービスで良く使われているパスワードリセットの仕組みを学んでみてはどう？ パスワードリセットページに、登録した時の e-mail アドレスとキーワードを入力すると少しの間だけ(10分ぐらい？)有効な URL が e-mail でおくられてくるあれね。 ちなみに、手順だけまねしたって、まったく安全じゃないから。 安全性が自分で評価できるようになってからつくってね。
chmod も system も失敗しても致命的なエラーにならないので、自力でエラー処理をする必要があります。system に失敗しているようなら、当然同じプログラムからの chmod も失敗しているのではないかと思います。標準モジュールの CGI::Carp を使うと失敗の原因をブラウザの画面に表示してくれるので、原因の特定に役立つかもしれません。 create.cgi -------------------- use CGI::Carp qw(fatalsToBrowser); # 冒頭付近に追加 ... chmod(0755, "./create_file") or die "chmod error: $!"; system("./create_file") == 0 or die "system error";
まずはターミナルから、「 /Library/WebServer/CGI-Executables/test.cgi」として、直接実行してみてください。 ちゃんと実行できるか? Content-Type: text/html Hello Ruby と3行表示されるかどうか? 一つ気になるのは、test.cgiが「円記号n」となっていることです。 私はブラウザでは\はバックスラッシュで表示するようにしてあるので、改行を表わす\nならバックスラッシュnと表示されるはずがそうなっていません。 Macの場合、使ったエディタや設定によっては、円記号とバックスラッシュは区別されます。 もし、ターミナルで実行して「Content-Type: text/html¥n¥nHello Ruby」とか「Content-Type: text/htmlnnHello Ruby」などと一行で表示されてしまうようなら、option+円記号で\を入力する必要があります。
テストしてないので、漏れてるかもしれないけど、 気になったことだけ・・・・ １） Content-type: text/plain ↓ Content-type:application/pdf ２） Content-Disposition: attachment; filename="$filename" の$filenameはパス('./data/')を含まない、ファイル名('sheet.pdf')のみに。 ３） open(FILE,$source); をヘッダを printしている前にもってきて open(FILE,$source) or die("error :$!"); に変更。（ファイルの存在チェック）
サーバーの環境によってはパーミッションが異なることもあります。 755で動くのならそれでいいですよ。
他のカートでもよければ　残り在庫数を設定できるものがありますが
CentOSのバージョンが不明…ですけどねぇ…。 [user@localhost ~]$ rpm -qf /usr/include/sys/io.h glibc-headers-2.5-65.el5_7.1 [user@localhost ~]$ ということで、CentOS5.7では「glibc-headers-2.5-65.el5_7.1」のパッケージが入っている必要があります。 # というか既に入っているんじゃないですか？？ 上記のコードだけなら…io.hは要らないんじゃないかとも思いますが…… # 使うなら…<sys/io.h>ですかねぇ。 で…… ヘッダを修正しても、_O_BINARY等でエラーになります。 _setmode()自体が見当たらない……ですかねぇ。 stdoutに対してfwrite()で書き込めばバイナリモードで出力できる。 とありますけど。 まぁ、それでもこのコードには問題がありますけどね。 ・コンテンツのサイズが不明。(CGIの呼び出し元で付けてくれますかねぇ…) ・fopen()の時の失敗する可能性がある。(カレントディレクトリにimg1.jpg、img2.jpg、img3.jpgがありますかねぇ？)
>なかなか参考にできそうなサイトなどがありません。どなたかお勧めのサイトなどがあればお教えください 大抵の参考書には、「標準ライブラリ」のリファレンスマニュアルが載っています。 載ってなかったとしても、「C言語 標準ライブラリ」で検索すればいくらでも見つかります。 それだけで十分です。 いまは乱数でnoに0～2の値を入れ、文字列の配列imgfileから、添字noの文字列(=ファイル名)を選んでいます # 念の為に聞きますが、上記動作をしていることは理解していますね? これを、乱数ではなく、曜日をもとにすればいいだけです。 とにかく動くもの(if～elseの連続とか)だったら、非常に簡単です。 このヒントでわからないようなら、技術がぜんぜん足りません。 C言語とプログラミングの基礎をやりなおしてください。
CGIというより、CGIが出力したHTMLが正しいかどうかの問題ではないでしょうか。あるいは(使っているなら)CSSか。 とりあえず、そのCGIの結果をHTMLチェッカーにかけてみては? http://validator.w3.org/ http://htmllint.itc.keio.ac.jp/htmllint/htmllint …
あとは、ログインして実行するのと、CGIから実行するのとで、アカウントが違うでしょうから、権限や環境変数等に違いがあります。これによって動かない可能性はあります。 test.pyの実行の様子をログに残すなどして、より詳細に何がどう動かないのか調べてみては?
http://www.kinet.or.jp/hiromin/cgi_introduction/ …
RFC2822 に 「メールヘッダの宛先フィールド（To、Cc、Bcc）は、コンマで区切られた１つないし複数のアドレスのリストである」 と規定されています。
openは一つのファイルしか使えません。 なので、ファイルを変えつつ繰り返せばいいのです。 ファイルがその5つと固定なら foreach my $filename ('AAAA.js','BBBB.js','CCCC.js','DDDD.js','EEEE.js'){ open(IN,'<',$filename) or die ; while(<IN>){ .... } #whileの終わり fclose(IN); } #foreach の終わり ファイルが不特定なら、globやopendir→readdirを利用します。 あと、集計に使う変数の初期化位置に注意。
A1に例えば2011/11/30 13:25 のように日時が入力されているとしたら、次の式のようにします。 =IF(A1="","",IF(NOW()-A1<"1:00"*1,TEXT(NOW()-A1,"mm分"),IF(NOW()-A1<"24:00"*1,TEXT(NOW()-A1,"h時間"),IF(NOW()-A1<30,TEXT(NOW()-A1,"d日"),DATEDIF(A1,NOW(),"Y")&"年"&DATEDIF(A1,NOW(),"YM")&"月"&DATEDIF(A1,NOW(),"MD")&"日"))))
httpd.confに書き込みます ヒントを出したのだからGoogleで検索すればすぐ見つかるのにすべて人任せだとレンタルを利用した方がいいような気もしますが・・・ これでCGIが実行できるようになるかどうかは自分で状況を見てないのでわかりませんが。
画像が大きすぎる場合は、アップロードはできませんが・・・。 その場合は、その画像を編集して、大きさを小さくしてからやってみると、アップロードできるかもしれませんね。
修正 $text =~ s/($RE{URI}{HTTP}{-scheme =>'(https|http)'}(:?k:#$fragment)?)/$q->a({href => $1}, $1)/ge; ↓ $text =~ s/($RE{URI}{HTTP}{-scheme =>'(https|http)'}(:?#$fragment)?)/$q->a({href => $1}, $1)/ge;
https://www.google.com/search?q=wiki+%E3%83%95%E … ＞現在のウェブサイトに実装したいので、＠wiki等で新たに作るということは考えておりません。） ググればいろいろ出てくるものを自力で探せないレベルなら高望みはやめたほうがいいと思うけど。
CGIというのは「仕組み」であって、プログラム言語の名前ではありません。 RubyでもPythonでも、C言語やアセンブリ言語でさえも「CGI」として使用できます。 @で配列、というのと、過去の傾向からPerlだと予測しますが。 Perlのsortは、判定方法の指定ができます。 perldocとか検索とかして「perl sort」の解説を読んでください。 「技術部、Cさん、○歳」から「0個め」を抽出するのはできますよね?
CGIにデータを渡す方法に、QUERY_STRINGSとPATH_INFOとSDIN(標準入力)があります。 QURY_STRINGSはURLの一部として渡す方法で、?の後に続くURLエンコードされた文字列です。 PATH_INFOは、/で区切られたURLの一部です。サーバーが?より前の文字列を/で区切って下位から環境変数に読み込みながら保存し、CGIに出会ったらそれを利用します。 標準入力は<FORM action="URL" method="post">とpostが指定されているときに、HTTP要求ヘッダに続いて渡される値です。 CGI側では、受け取ったデータを処理して様々に利用します。 CGIはこうして受けった値を処理します。どのような値があるかは下記参照 例] http://hpcgi1.nifty.com/Iruka/ENV_FORM.cgi/worke … 　どのように処理されているかは、CGIプログラムをエディタで開いて見ることになります。
HTMLページ側 ( postmail.html ) の　つくり　次第では？ そのフォームの利用者が、入力エリアにどんな文字や、記号　を入力しても、 対応するようにしていますか？
CGIにはあまり関係ない話ですね。 どのようなnameでどのような形の値を取得しているかと、どのような方法で処理しているかの概略をつかめばよいです。 　大部分の問題は、HTMLのデザインの問題なので、CGIの中からその部分だけを取り出して書き直せばよいです。 　表示されたフォーム画面のHTMLソースを開いて、デザインしなおしたものを差し替えればよいだけかと思います。
フォームのHTMLソースに直接メールアドレスを記入していませんか？だとしたらＣＧＩ側に移動します。 　ついで、画像による認証をつけます。サーバーにimagemagickがインストールされていればそれを使っても良いでしょう。いずれにしてもフォーム自体もCGIから出力させると良いです。 　まったく入力なし(QUERY_STRINGSもSDINもない)ときは、フォームを出力するように書き換えて、そのときに画像と数値の組み合わせをいったんサーバーに保管する。データを受け取ったら、それを照合して相手がロボットでないことを確認する。
RSSベースのアンテナ「RNA」 http://www.semblog.org/wiki/?rna Web Libertyの 「Web Reader Ver 1.03」 http://www.web-liberty.net/download/reader/index … 上記なら可能かもしれません。 ※上記の2つは文字コードがUTF-8なので運営されているサイトの文字コードがUTF-8以外なら文字化けしてしまうので注意して下さい。
例えばこんな感じですか？ #!/usr/local/bin/ruby require "cgi" target_filename = "program_data.txt" def insert_line_before(lines, from, to) to_insert = lines.delete_at(from) to -= 1 if from < to lines.insert(to, to_insert) end def modify_file(filename, from, to) f = File.open(filename, File::RDWR) f.flock(File::LOCK_EX) lines = f.readlines insert_line_before(lines, from, to) f.rewind f.write(lines) f.truncate(f.pos) # may not be needed. f.close return lines end print "Content-type: text/html\n\n" cgi = CGI.new from = cgi.params['from'][0] to = cgi.params['to'][0] if from.to_i >= 1 and to.to_i >= 1 then modify_file(target_filename, from.to_i - 1, to.to_i - 1) print "<html><body>done</body></html>" else print "<html><head><title>Insert test</title></head><body>" print "<ol>" f = open(target_filename, "r") {|file| file.flock(File::LOCK_SH) while line = file.gets printf "<li>%s</li>", line end } print "</ol>" print <<EOS <form method="POST"> Move the line [<input type="text" name="from">] before the line [<input type="text" name="to">]. <input type="submit"> </form></body></html>" EOS end insert_line_before(lines, from, to)で全ての行が入った配列を受け取って、from行番目の文字列をto番目の行の前に挿入します。fromの方がtoよりも小さい場合はfromの部分を抜いたことでtoのところの位置が変わっているので、そのぶん減算します。また、modify_file(filename, from, to)はこのinsert_line_beforeを使うことで、ファイルを開いて指示された変更を行います。 余談ですが、このコアな部分をPerlで書くとこんな感じです。 sub insert_line { my ($lines, $insert_from, $insert_to) = @_; my @to_insert = splice(@$lines, $insert_from, 1); $insert_to -= 1 if $insert_from < $insert_to; splice(@$lines, $insert_to, 0, @to_insert); }
> $data=$comment =~ s/\s//g; これで置換すると、空白一文字ずつ置換されるので、 > （間にスペースが４つあります） の部分で、4回置換を行なっていることになります。 複数の空白をまとめるなら s/\s+//g と、一個以上を表す+を付けるとよいでしょう。 ところで。 空白の数を見るだけなら、置換せずとも m/\s+/g でマッチングだけやれば元の文字列を破壊しなくてもすみます。 あるいは、split(/\s+/,$comment)などとして単語のリストにしてしまうのも方法の一つです。
> http://www.kent-web.com/data/upload/upload.cgi > こんなような感じのものです。 > しかし上記のものは1ファイルあたりの容量制限がかけられています。 自分で設置するのであれば容量制限を5MB以上に設定すればよいだけではないでしょうか。
> どこで認証したいサイトの登録をしたらいいのでしょうか。。。 サイトを登録するのではなく、ユーザが作成したディレクトリにコンテンツを入れるだけです。 隅から隅まで良く読めば判りますよ。
CGIの配布サイトへ行って、ダウンロードする。
＃１です。 これも、 ・管理画面は下記ＵＲＬです。管理パスワードは初期値が「cgi」です。 って書いてあるんだから、16行目の $pass = &crypt('cgi'); を修正する。 ※「取り敢えず、中を見てみる」というのが結構重要。
厳密には不可能です。 案１：メールアドレスなどでユーザ登録してもらい、１ユーザ１回の投票にする。 ⇒問題点１：メールアドレスを複数持っている人が複数回登録できる 　問題点２：登録が面倒で投票してくれる人が減る 案２：cookieを使う。 ⇒問題点１：そもそもcookieを有効にしていない人をどうするのか？・・・投票不可にするしか無い 　問題点２：cookieをクリアすると何度でも投票できる 案３：TwitterとかmixiとかのIDで認証して、１ユーザ１回の投票にする。メールアドレスと違いIDを複数持っている人は少ないので ⇒問題点：そういうサービスを利用してない人は投票できない まあ、あまり厳密さを求めないで（意図的に何度も投票する人が居てもしょうが無いとあきらめ）、cookieでしょうか。 Cookieを扱うPHPでの具体的な記述は「PHP Cookie」で検索すればいくらでも情報があります。Perlなら「Perl Cookie」で。 処理の流れはこんな感じで： 0. Cookieの名前は投票回ごとに違う名前を決めます。例えば第一回だとponpoko001とか。 1. 投票を受け付けるときに、ponpoko001というcookieがあれば投票済みとみなします。 2. そのcookieが無い場合、Cookieを無効にしてないかチェックのため、checkというcookieを発行してみます。 3. 次のページに遷移して、checkというcookieが帰ってこなければブラウザ設定でCookieを無効にしているということなので「Cookieを有効にしてください」というメッセージを出してトップページなどに帰ります。 4. 投票を受け付けます。 5. 同時に、長い有効期限で、ponpoko001という名前のCookieを発行します。
ファイルのパーミッションが000 だと、CGIでのメール送信以前に、CGIの出すHTMLさえ表示できないので、とりあえず、CGI実行結果は見えているということは、 パーミッションの件は、見間違いか、 新しいサーバーのOSでは、パーミッションを扱えないファイルシステムなのか 新しいサーバのFTPサーバの設定ミスでパーミッションを正常に返していないか FFFTPのファイル一覧の取り出しオプションの設定ミス ってことではないでしょうか？ なお、肝心のsendmailですが、CGIが実行できているのにメールが送れないということであるなら、 ・CGIにエラーやバグがあってsendmailする前に終わっている。もしくはsendmail処理が通らない分岐に入る条件になっている。 ・古いサーバーとsendmailのパスが違っている。CGIもsendmailの実行結果をチェックしていない ・新しいサーバーではのsendmailが使えないので、、別のSMTPサーバーを使うようCGIを拡張する必要がある。 ・自宅サーバ等で　ISPによりOP25Bされていて、同様に別のSMTPサーバーをSMTP認証で使う必要がある。 って感じだと思いいます。 なお、プログラムにデバック用のprint文を入れて実際にどこまでOKなのかを 表示させると　原因がある程度絞り込めると思いますが sendmailまでいってそれのエラーチェックでも問題ないとすると、 サーバー管理者に　問い合わせしてみる他にないと思います。
＃２です。 > 悪意ある発言 > 攻撃的な書き込み > 公俗良序に反する内容の書き込み と有りますが、これをどうやって判断「させる」つもりですか？ 自分（手動）で削除するなら、その前の「許可式の掲示板」だけで十分ですよね？ その他に「排除」する機能が必要だということは、自動で削除してくれるものですよね？ 何をもって、「悪意」とするのか。 何をもって、「攻撃」とするのか。 何をもって、「公序良俗に反する」とすのか。 自然言語を解釈できなければ無理でしょう、ということです。
http://www.google.com/search?hl=ja&lr=lang_ja&ie …
リンクをクリックして訪問する人を.htaccessで弾く事が出来ますが、 リンクURLをコピーして直接訪問する人を.htaccessでさえ判別できません。 つまり、無理です。 ＞悪意のある文章 管理者に削除依頼しましょう。 または、 不本意でしょうが、削除や引越を考えましょう。
ログファイルというと通常は追記していくイメージがありますが、ここで書いてある操作はそれとはちょっと違いますね。 テキストに保存したデータ列といった感じでしょうか。 試しに書いたプログラムはこんな感じです。 use strict; use Fcntl qw(:flock); sub swap_lines { my ($lines, $index0, $index1) = @_; my $tmp; $tmp = $$lines[$index0]; $$lines[$index0] = $$lines[$index1]; $$lines[$index1] = $tmp; } my $filename = "program_data.txt"; my $fh; open($fh, "+<$filename") or die "cannot open $filename"; flock($fh, LOCK_EX); my @lines = <$fh>; swap_lines(\@lines, 0, 3); # write the lines to the file. truncate($fh, 0); seek($fh, 0, 0); print $fh @lines; close($fh); ちなみに、swap_linesではlinesの参照(\@lines)を渡すことで、swap_linesで値を入れ替えたのが呼び出し元で反映されるようにしています。 データを破壊しないためにファイルロックを取ります。なお、closeがアンロックするので明示的なアンロックは不要です。close直前にLOCK_UNするという間違いが多いですが、それをやるとプログラムのキャッシュに乗ったデータがファイルに反映される前にアンロックされる可能性があり、次にopenを読んでいたプログラムがそこが反映されていないデータを読む可能性があります。
500エラーはプログラム中のどこかの記述がおかしくて正常に動作しないエラーです。 おそらく、使用者の環境に合わせ書き換えるべき箇所を書き換えていないんでしょう。 ※「どうしても」や「できません」は何の情報も持っていません。 解決を望むのであれば、「やったこと」「やりたいこと」「どうなったか」を記述しましょう。 あと、エラーメッセージをブラウザが出してくれてるんだから、まずはそれで検索してみること。
ああ、なるほど。使ったことないですけど、コマンドラインでパスワードを設定できるqpdfとかを使って、パスワード付きのpdfを一時ファイルとして作って、それを前で書いてあるようにバイナリ出力すればいいかもです。
Yomi-Search http://yomi.pekori.to/yomi-search.shtmlを利用しています。 デフォルトではチェックボックスは付いていませんが、改造してつけることが出来ます。 最近はその改造サイトがなかなか見つかりませんが。。。 私はCC-ROOMさんのところを参考にチェックボックスを付けております。
＞if ($form{'before'} !~ /^[\w\+\.-]+@[\w\+\.-]*[A-Za-z0-9-]{2,23}\.[A-Za-z]{2,4}$/) これの意味は理解して(せめて知って)使っていますか？「半角英数指定」ではありませんよ？ 「メールアドレスの入力欄」が「未入力（空欄）」の場合、「$form{'before'}」がどうなるか分かりますか？ 「if ($form{'before'} !~ /^[\w\+\.-]+@[\w\+\.-]*[A-Za-z0-9-]{2,23}\.[A-Za-z]{2,4}$/)」は「$form{'before'}が/^[\w\+\.-]+@[\w\+\.-]*[A-Za-z0-9-]{2,23}\.[A-Za-z]{2,4}$/(以下、《A》)でない」場合エラーになるようにしています。なので、ここに「なおかつ空白でない」という条件を追加します。そうすると「《A》でなく、しかも空白でもない」場合のみエラーとなるので、当然「《A》であるか、もしくは空白」のときにエラーを出さずに処理を続行することになります。 以上、つまりどういうことかと言うと、「どこかの丸写しコードだかレンタルの改造したいのか知りませんが、今のレベルじゃメールフォームなんていう危険なものに手を出しちゃ駄目」ということです。
自動的にウェブ上のメールフォームを探して送信するプログラムがたくさん知られています。 これらSPAMロボット対策として、内容チェック画面、変形した画像にした数字や記号を入力させたり、いったんメールを送信して改めてそのメールに記載してあるリンクをたどって送信させるなどの工夫が必要です。
無理。 MACアドレスなんてルータを経由すれば(インターネットって事はルータはいくつも経由してる)変わります。元々の端末のMACアドレスなんて取得できませんよ。 それとも、ガラケーでいう所の固体番号みたいなやつ？これも無理だね。 IPアドレスもWifiやWiMAXだと変わるから無理。 >悪質な利用者を特定し、利用制限をかけようか パスワード制にでもしたらどうでしょうか。
>ＨＴＭＬによる外部ファイルによるスタイル設定は以下の通りです。これをＣＧＩ用にするには・・・ そのままCGIアプリケーションから出力してください。
Perlのスケジュールソフトでいくつかフリーのものがあるかと思います。 試してみてはいかがでしょうか？ http://www.vector.co.jp/soft/win95/net/se320417. … 参考URL：http://www.vector.co.jp/vpack/filearea/win/net/n …
＞ですが、お客様に対してメールを返信すると、 ＞送ったメールにこちら側のメールアドレスが記載され、 ダミーのメールアドレスを「送信元」に設定した上で返信し、返信メールの末尾に定型で 「このメールは、送信専用メールアドレスで送信されています。 このメールに返信されましてもメールは届きませんのでご注意下さい」 と書いておきましょう。 で、ダミーのメールアドレスを「存在しないアドレス」にしておけば、顧客が返信してもエラーメールが返るだけなので、ダミーアドレスに何かメールが来ているかチェックする必要はありません。 ＞メールサポートの回数、頻度を こういう細かい要望に沿ったシステムは既存の物では無理なので、WEB系のソフトハウスに発注して、専用フォームを作成し、自社サイトに設置するしかありません。
「何が良くなかったのでしょうか…」 　「sendmailのパスはサーバーサイトに書いていなかったので取り急ぎ空欄で設定しました。」です。メールを送るｃｇｉなのに、その手段(sendmailのpath)が設定されてないのですから、動かしようがありません。 　sendmailの使用は可能とサイトに書いてあるので、サポートにそのpathがどこなのか、問い合わせるしかないでしょう。
Apacheをインストールして、そこでCGIを動作させた例ならあるようですね。 https://aptanastudio.tenderapp.com/discussions/q … ちなみに、自分がPythonでCGIを書いたときは、Apacheが動作しているFreeBSDマシンにリモートログインして、そこでエディタを起動して書いていました。継承を使うと統合開発環境ないときつくなりますけれど、そういうことをしてないプログラムだったので。
→ http://oshiete.goo.ne.jp/qa/7030066.html こちらのつづきでしょうか。 それならば、CRにするのは解決にはなりません。 おそらく、最近の事情を知らずに「Macではテキストの改行はCR」だと思っているのでしょう。 たしかにOS9まではCRを使っていましたが、OSXではUnixがベースになっており、改行もUnixと同じLFを使っています。 Web共有で使われれうApacheも、CGIを実行するのに使うperlも、LFを改行とみなします。 実際、手許で実験したところ、 CRLF,CR→Internal Error 500 LF → 「ちわ！世界。」と表示 でした。 原因は他にも考えられます。 > perl -c /Library/Webserver/CGI-Executables/test.cgi 文法が正しくてもプログラムとして間違っている、ということはよくあることです。 -cをはずして実行したら、ちゃんとターミナル上に表示されるでしょうか? CGIでは、その実行ファイルを単体で実行しようとします。perlを探すのは、シェルの役目です。つまり、シェルからコマンドとして実行できる必要があります。ターミナルで /Library/Webserver/CGI-Executables/test.cgi とだけ入力したらどうなるでしょうか?
とりあえず、プログラムの置いてある場所に移動して $perl test.cgi を実行して見る。 スクリプトを次のように書き換える。 #!/usr/bin/perl print qq^Content-type: text/html <HTML> <HEAD><TITLE>CGI TEST</TITLE></HEAD> <BODY>ちわ！世界。</BODY> </HTML>^; __END__
「写メールBBS」で検索して出てきたところから。 http://php.s3.to/bbs/bbs7.php http://www.mt312.com/script/12/ スマホはPC用BBSのようなフォーム（ブラウザ）からアップロードはできませんので、 写メ（写真添付メール）でアップロードしなければなりません。
PHPでも大丈夫であれば、http://dou.moo.jp/ で配布しています。 １ファイルで動作するので簡単に設置出来ます。 ダウンロード・ページを参照下さい。 参考URL：http://dou.moo.jp/
RewriteRule の QSA フラグ。 参考URL：http://wiki.bit-hive.com/tomizoo/pg/mod_rewrite% …
実もふたもない答えになります。 CGIを提供して本人若しくはサイトに聞くのが一番の近道です。 皆があなたの使っているCGIを使っているわけではないのですから。
sendmailが稼働してますか？ 補足お願いします。 OSはWindows系ですね？ こちらのサイトが参考になりそうです。 http://sakaguch.com/CGIsendmail.html
start_htmlメソッドを使用していませんか？ 使用しているのであれば、「charset」「encoding」「lang」 などの引数を設定してみてください。
メールに反応してプログラムが動けばいいのでCGIとは関係ないです。 一般的に使われる方法としては、簡単に言えば下記の通りです。 １．メールサーバのaliases機能（または.forward機能）を使用して、受信したメールをプログラムに渡す。 ２．渡されたプログラムはメールデータから送信者情報を取得し、メールを返信する。 使用するプログラムはperlでもpythonでもシェルでも何でも得意なもので構いません。
現在は標準モジュールのEncodeを用いるのが一般的です。Encodeモジュールのdecode関数でテキスト文字列に変換してから文字列処理をします。 Encodeモジュールを使えば例えば以下のようにできます。 use Encode; $val = decode "euc-jp", $val; eval decode "euc-jp", '$val =~ tr/０-９Ａ-Ｚａ-ｚ＠．＿－/0-9A-Za-z@._-/'; if($@) { エラー処理 } $val = encode "euc-jp", $val; JcodeはEncodeのラッパーなので、おそらくJcode内部では上記と同じような処理が行われています。ただし、既にJcodeを多用されているようなので、Jcodeで解決できればそれでいいとは思います。 文字化けの可能性は他にも沢山あり、今回の全角スペース＋カタカナは氷山の一角です。No.9さんの「J(j)code::tr を使う方が良いかもしれませんね。」は、そのことも指しています。
location ヘッダを使う。 ただし、すでに他のヘッダを出している場合は javascript でリダイレクトする。
http://oshiete.goo.ne.jp/qa/1668012.html これ？
この方がいいか？ RewriteEngine on RewriteCond %{REMOTE_ADDR} !^127.0.0.1$ RewriteCond %{HTTP_REFERER} !^.*/index\.html$ [NC] RewriteRule .* /404.html [L]
Webからアクセスするのにパーミッションが偶数なのが気になる。 全部「777」とか「755」とかに変えてみたら？ （偶数のところは「実行」権限が有りませんよね？）
自分でも試してみましたが、隠しはsecret.htmlだけのようです。 そこに画像を載せる場合、公開ディレクトリにアップロードした画像を フルパスでsecret.htmlに記述、で表示はされます。 ただこの場合だと、入り口にパスワードが設けられるものの 画像そのものを隠しているわけではないので 画像を置いてある場所（URL）がばれてしまうと パスワードの意味がなくなってしまう可能性もあります。 画像を隠す場合、【強化タイプ】が対応しているようです。
個人的にお薦めする掲示板は http://bbs.fc2.com/ です
100人で締め切るのは簡単ですが、申し込みをすると言うことは、そのまえに、ユーザー登録しないといけないので、メールアドレスを管理したり、パスワードを管理したり、パスワードを忘れた人の対応する仕組みを作ったり等と、結構大変ですよ。 仕事でやるなら5万で引き受ける気はしませんね。まあでも、そういうのを何度も作って流用出来るコードを持っている人なら引き受けてくれるかも。画面デザインには全く手を掛けないという前提で（デザインはあなたがやればいいですよね）。 もっと楽なのは、とあるメールアドレスにメールを送ると申し込み番号が送り返されてくる。番号が100までの人が当選であとのひとはキャンセル待ちとかの仕組みかな。これだとユーザ登録とか要らないし。これなら1万円で引き受けても良い。 もっと手を抜いて、返送が即座でなくて良いなら、あなたが手動でやっても良いし。メール到着順に番号を振る。
まずjavascriptでチェックします。 すべて一旦送信してエラーを返すより良いと思います。 <script type="text/javascript"> function inchk(f){var ele=""; for(i=0;i<f.elements.length-1;i++){ if(f.elements[i].value=="") ele+=f.elements[i].name+"が未記入です\n"; } if(ele){alert(ele);return false;} } </script> <form method="post" action="CGI" onsubmit="return inchk(this)"> ただし、ユーザのブラウザが javascript OFF ですとこれは効きませんから、スクリプトでもチェックが必要ですけどね。 スクリプトは受信データを変数に格納しているところでチェックして確認ページにプリントします。 ここで説明するより、いろいろサンプルを見たほうがいいです。 参考URL：http://webmastertool.jp/
「メール送信失敗」と表示されるのであれば一応動いているはずなので、たぶん Sendmail (サーバにあるメール送信プログラム)のパスが間違っているかも知れません。 1.現在のサーバの sendmail のパスを調べます。 /usr/lib/sendmail のような感じで、レンタルサーバのサイトのどこかに明記されているはずです。 2.その postmail.cgi をメモ帳で開きます。　どこかに「sendmail」という設定欄があると思うので、正しいパスを記述してアップロードします。 もし KentWebさんのpostmail.cgiであれば、以下にサポートページがあります。 http://www.kent-web.com/data/postmail.html もしくは、そのcgiに著作者やURLが記述されていると思うので、そちらからたどってみてください。
「まったく認識しません」ってどういうことでしょう。 ブラウザには何も表示されないのですか。 エラーメッセージか何か表示されると思うのですが。 それとも、ずぅ～と応答待ち状態ですか。 それと、質問文は、 ＃！usr/bin/perl のように全角と半角文字が混じってますが、スクリプトファイルにもこのように書いてないですか。 #!usr/bin/perl と #!/usr/bin/perl 、 usr/sbin/sendmail と /usr/sbin/sendmail とではまったく違いますよ。 先頭に 「/」 があるのは絶対パス、先頭に 「/」 が無いか 「.」（ドット）1個か2個と「/」があるのは相対パスです。 ですから、 ＞ cgiの #!usr/bin/perl , sendmailはusr/sbin/sendmail に設定。 というのは、たぶん間違っています。 アドミッションはこの際意味が通じれば良しとして。
直接の回答ではありませんが、Webサーバ側で取得できる情報をすべて出力してみて、 識別できる情報があるか探してみるのはどうでしょうか？ 以下を実行するとREMOTE_ADDRやHTTP_USER_AGENTなどに何が入っているかチェック できるので、この出力をDBなりファイルなりに保存して後で解析します。 print "Content-type: text/plain; charset=utf-8\n\n"; for my $var ( sort( keys(%ENV) ) ) { my $val = $ENV{$var}; $val =~ s|\n|\\n|g; $val =~ s|"|\\"|g; print "${var}=\"${val}\"\n"; }
KENT-WEBさんのところのものは？ 色々ありますよ。 http://www.kent-web.com/index.html
管理者しか投稿できないのなら、普通の HTML ページでよいのでは？という気もしますが。 SUN BOARD 参考URL：http://www.kent-web.com/bbs/sunbbs.html
HTMLのMETAタグで出来るはずですが、、、ダメってことですか？ <META HTTP-EQUIV="Pragma" CONTENT="no-cache"> <META HTTP-EQUIV="Cache-Control" CONTENT="no-cache"> <META EQUIV="expires" CONTENT="0">
情報の種類が３種類あっても、cgiを３つ使う必要はないと思いますよ。 情報の登録の仕方、情報の読み出し方を工夫すれば、1つのcgiで足ります。 　↓ 同じような質問です。 http://okwave.jp/qa/q6841548.html 参考URL：http://okwave.jp/qa/q6841548.html
無名配列、無名ハッシュ、リファレンス 以上をキーワードに調べてみてください。 $listはハッシュの配列(もっと正確に言えば、「『ハッシュへのリファレンス』を要素にもつリスト」へのリファレンスになります) > foreach ($list) { これでは、$listが示すリファレンス一つだけのforeachになります。 $_ == $list となります。 また、Perlでは、インデックスを指定する場合に使うのは、リストには[],ハッシュには{}です。 $_['id'] では、'id'は数値0だと判定され、$_[0]の意味になります。 合せれば、$_['id']は $list[0] にあたり、{ id => '1', name => 'hoge' }(へのリファレンス)になります。 printでは そのことを示す HASH(0xXXXXXX) というような表示になったのでは無いでしょうか。 リファレンスから元の値にするには、デリファレンスと呼ばれる処理が必要です。 foreach (@$list) { # 配列のリファレンスを@でデリファレンス→リストになり、 #リストの要素であるハッシュのリファレンスが順番に$_へ入る print $_->{'id'} ; # ハッシュのリファレンスの中の特定要素へは->を使ってアクセスする。 # ハッシュのインデックスは{}で指定する。 > また「[]、{}」は何を意味するのでしょうか？ $list=[～ では、 []は無名配列、{}は無名ハッシュですが、どちらの記号も他の場面でも使われています。 その文脈で判断する必要があります。 Perlは不慣れ、とのことですが、PHPとは似ているようで結構違います。半端にやらずに、区別して覚えるようにしましょう。
(1)PHPが動作する(2)PHPのDBモジュールをアップできる(3)ｊQueryでもよい という3つの条件がクリアできればAjaxで同じことを再現することは可能だと思います。 具体的には下記のようなソースになります。 呼び出しているMySQLへのアクセス部分とテーブル内の項目を変更すれば動くはずです。 ▼html(JavaScriptはbody内に書く※headに書く場合はfunction以外をonloadで記述) <div id="search_data"></div> <script type="text/javascript" src="jquery-1.4.2.min.js"></script> <script type="text/javascript"> var search_msg_data; $("#search_data").html('Now Loading...'); $.ajax({ type: "GET", url: "hoge.php", // 呼び出すphp success: function(msg){ search_msg_data = msg; setTimeout('search_json()', 1000); } }); function search_json(){ var get_json = eval("("+search_msg_data+")"); if(get_json.results == null){ $("#search_data").html("該当するデータは見つかりませんでした。"); } else{ var hash = get_json["results"]; var search_html = ""; for(var i in hash){ search_html = search_html + '<li><a href="#"><b>' + hash[i].name + '</b>' + hash[i].address + '</a></li>'; } $("#search_data").html(search_html); } } </script> ▼php <?php require_once("DB.php"); $dbUser = "ユーザー名"; $dbPass = "パスワード"; $dbUserPass = $dbUser . ":" . $dbPass; $dbHost = "mysql.xxxxx.ne.jp";// ホスト名 $dbName = "データベース名"; $dbType = "mysql"; $dbTable = "テーブル名"; // データベース接続 $db = DB::connect("$dbType://$dbUserPass@$dbHost/$dbName"); if (DB::isError($db)){ die($db->getDebugInfo()); } // クエリ発行 $sql = "SET NAMES utf8"; // UTF8の場合 $result = $db->query($sql); $sql = "SELECT * FROM `$dbTable` ORDER BY name LIMIT 0 , 100"; // SQL文発行 $result = $db->query($sql); if (DB::isError($result)) { die ($result->getDebugInfo()); } $i=1; while ($rs = $result->fetchRow(DB_FETCHMODE_ASSOC)){ // テーブルの中身がidとnameとaddressの場合 $array_data[strval($i)] = array( "id" => $rs['id'], "name" => $rs['name'], "address" => $rs['address'] ); $array_data_html = "<li>{$rs['id']}:{$rs['name']}:{$rs['address']}</li>\n"; $i++; } $array_all = array( "results" => $array_data); print json_encode($array_all); // JSON出力 @$result->free(); $db->disconnect(); ?>
WordPress + EventCalendar３(plugin) が簡単かと思います
Cookie を使って、アクセスＰＣを特定し、各ＰＣ単位に 入力情報を記録するような手法を使うと思います。
すいません。返事が遅くなりました。 >Cookieを利用するとセキュリティー面での脆弱性があるとのことでしょうか。 その通りです。 >具体的にどのようなリスクが考えられますか。 ・クッキーの挿入の方法に問題があり、第三者のサイトで流出。 ・ブラウザの脆弱性による流出。 ・スパイウェアによる流出。 ・サイトが改ざんされ、悪意をもったプログラムを仕込まれることによる流出 ・ドメイン保有者が変わった時に、事前にクッキーを仕込んでいる方全ての情報が流出 などなど。 >また予防策はありますでしょうか。 クッキーで個人情報を扱うとしたら、必要最低限で実装することです。 # セッションIDだけとか WEBを利用するに当たり、完璧なセキュリティはありません。 ほとんどの利用者がセキュリティソフトを入れるなどをして、セキュリティ・個人情報流出防止に対する対応を行っていると思います。 それならショップ運営者は安易な考えでセキュリティホールを作っても良いのでしょうか？ また、クッキーに名前や住所、電話番号などを仕込んで、個人情報保護の為に努めていると胸を張って言えますか？ 流出してから、わからなかったじゃ、済まされませんよ。 個人情報を扱うということはそれだけ責任があるということです。 しっかりした対応を心掛けることをオススメします。
「URLエンコード」「URLエスケープ」などと呼ばれる形式ですね。 http://ja.wikipedia.org/wiki/URL%E3%82%A8%E3%83% … 「perl URLエンコード」 「php URLエンコード」 などで検索すれば、参考となるページが見つかることでしょう。
元々この掲示板には下記コード変換しか無い様ですので、プログラムを書き足すしかありません。 因に BBCode って言う規格も書き方も無くBBSで使うタグの通称の事でボードによって使える物はかなり変わります。 ■以下タグの抜粋 <a href="javascript:MyFace('(^^)')"><img src="./img/smile01.gif" border="0"></a> <a href="javascript:MyFace('(^_^)')"><img src="./img/smile02.gif" border="0"></a> <a href="javascript:MyFace('(+_+)')"><img src="./img/smile03.gif" border="0"></a> <a href="javascript:MyFace('(^o^)')"><img src="./img/smile04.gif" border="0"></a> <a href="javascript:MyFace('(^^;)')"><img src="./img/smile05.gif" border="0"></a> <a href="javascript:MyFace('(^_-)')"><img src="./img/smile06.gif" border="0"></a> <a href="javascript:MyFace('(;_;)')"><img src="./img/smile07.gif" border="0"></a> <a href="javascript:supphtml('b');" title="太字"><img src="./img/b.png" border="0"></a> <a href="javascript:supphtml('i');" title="斜体"><img src="./img/i.png" border="0"></a> <a href="javascript:supphtml('u');" title="下線"><img src="./img/u.png" border="0"></a> <a href="javascript:supphtml('s');" title="取消"><img src="./img/s.png" border="0"></a> <a href="javascript:supphtml('code');" title="等幅"><img src="./img/code.png" border="0"></a> <a href="javascript:supphtml('color','INPUT COLOR');" title="色字"><img src="./img/color.png" border="0"></a> <a href="javascript:supphtml('url','INPUT URL');" title="連結"><img src="./img/url.png" border="0"></a>
出力したい情報が出し終ったあと、fclose(stdout)すれば上手くいくかも。
「全角ハイフンを、住所欄や電話番号欄で使用するとエラー表示になり送信できない、という対応をしたいのですが、どうすればいいのでしょうか？ 」 　とりあえず、init.cgiに「$no_wd = '－';」を設定して、clipmail.cgiの「禁止ワード」のロジックで「if ($flg) { &error("禁止ワード「－」が含まれています"); }」としておけば、それが使えないことが、伝わると思います。もちろん、「clipmail.html」で「『－』は使用しないで下さい」と記載しておく出来ですが。 　既に、$no_wdを設定済みなら、clipmail.cgiの「禁止ワード」のロジックで「if ($flg) { &error("$_に禁止ワードが含まれています"); }」とすれば、禁止ワードが何かは分からないが、どこに含まれているかを表示できます。 　
>私は検索“結果”画面とは言ってませんけど。 逆切れですか（笑 言ってなくても普通は検索した画面って思うでしょ。 Googleの検索画面とか、Yahoo!の検索画面って言われて、トップページのこと言ってるんだ～ってわかる人そういないと思うけど。 自分にとってわかってることでも他の人は分からないことが多い。 回答者はできるだけ質問者にわかってもらおうと答えるけど、回答者側もそういう意識は必要だと思う。 っていうか、わざわざ回答して改善案まで提示した人に向って逆切れとか...ｒｙ まあ、何でもいいや。 こういうのは手っ取り早く終わらせよう。 予め言っておくけど、この部分、liをfloatしてレイアウトを整えてるだけなので、確実にレイアウトは崩れると思うよ。 崩れるのが嫌なら自力でやってね。 CSSは苦手なので。 とりあえず、改造案。 top.htmlを弄るから、search.cgiは自分で考えてやって。 質問者さんのファイル内容は見えないから私にはわからない。 # template/top.html 79行目 foreach $Gno(sort (keys %ganes)) { の上の行に $subcateName = ""; を追加 112行目付近 $bf_kt_no=$Gno; の下に $subcateName = ""; を追加 117行目付近からの if($gane_top{$Gno}) { @Gname = split(/:/,$Gname); if($gane_UR{$Gno}) { print <<"EOM"; <li><a href="$Ekt$Gno$Eend">$ganes{$Gno}</a></li> EOM } elsif($gct{$Gno}) { print <<"EOM"; <li><input type="checkbox" name="ct" value="$Gno" />$gane_NOT<a href="$Ekt$Gno$Eend">$ganes{$Gno}<small>[$gct{$Gno}]</small></a></li> EOM } else { print <<"EOM"; <li><input type="checkbox" disabled=\"disabled\" />$gane_NOT$ganes{$Gno}<small>[$gct{$Gno}]</small></li> EOM } } を以下に書き換え if($gane_top{$Gno}) { @Gname = split(/:/,$Gname); @dirlist = split(/_/,$Gno); if($#dirlist == 1){ $subcateName = $Gno; print "<li>\n<div>"; } elsif(!$subcateName || index($Gno,$subcateName) != 0){ print "<li>\n<div>"; $subcateName = ""; } elsif($subcateName && index($Gno,$subcateName) == 0){ print "<div>├"; } if($gane_UR{$Gno}) { print <<"EOM"; <a href="$Ekt$Gno$Eend">$ganes{$Gno}</a></div> EOM } elsif($gct{$Gno}) { print <<"EOM"; <input type="checkbox" name="ct" value="$Gno" />$gane_NOT<a href="$Ekt$Gno$Eend">$ganes{$Gno}<small>[$gct{$Gno}]</small></a></div> EOM } else { print <<"EOM"; <input type="checkbox" disabled=\"disabled\" />$gane_NOT$ganes{$Gno}<small>[$gct{$Gno}]</small></div> EOM } } # style.css（city） 396行目 height:25px; をコメントアウト /*height:25px;*/ 以上。
> パーミッションやPerlのパスも間違ってないと思うのですが原因が分かりません。 パーミッションの設定で注意した点を書きましょう。 ※ SuEXECを意識してないと正しく設定できなさそうな気がします。 http://www.toypark.in/faq/index.php?qid=85&catid … ショッピングカート側の指示通りに設定していれば動かないはずですよ。
昔作った検証用サンプルも入れときます 参考になれば幸いです [ファイル名：index.cgi：UTF-8]↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓ #!/usr/bin/perl my $sDT = '漢字です'; my $sDT_URL = './test.cgi?T1='.URL_Encode($sDT); print <<HTML_BODY; Content-type: text/html\n\n <html> <head> <meta http-equiv="Content-Language" content="ja"> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <title>TEST UTF-8</title> </head> <body> <p><a href="$sDT_URL">CLICK</a></p> </body> </html> HTML_BODY exit; ## URLエンコード sub URL_Encode{ my ($p01,@waste)=@_; $p01 =~ s/([^\w])/'%'.unpack('H2',$1)/eg; $p01 =~ tr/ /+/; return $p01; } ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑ [ファイル名：test.cgi：UTF-8]↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓ #!/usr/bin/perl my %hIN = readMethod(); my $ss = $hIN{T1}; print "Content-type: text/html\n\n"; print <<HTML_BODY; <html> <head> <meta http-equiv="Content-Language" content="ja"> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <title>TEST UTF-8</title> </head> <body> 送信内容：$ss </body> </html> HTML_BODY exit; ## ******************************************************** ## メソッド読み込み ## ******************************************************** sub readMethod{ my %rm_in; my $paramPost; if($ENV{REQUEST_METHOD} eq 'GET'){ my @tmpPrmt = split(/&/,$ENV{'QUERY_STRING'}); foreach(@tmpPrmt){ my ($p1,$v1) = split(/=/,$_); $v1 =~ tr/+/ /; $v1 =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack("C", hex($1))/ego; if(exists($rm_in{$p1})){ $rm_in{$p1} .= "\t".$v1; }else{ $rm_in{$p1}=$v1; } } }elsif($ENV{REQUEST_METHOD} eq 'POST'){ read(STDIN, $paramPost, $ENV{'CONTENT_LENGTH'}); my @tmpData=split(/&/,$paramPost); foreach(@tmpData){ my ($p1,$p2)=split(/=/,$_); $p1 =~ tr/+/ /; $p1 =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack("C", hex($1))/ego; $p2 =~ tr/+/ /; $p2 =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack("C", hex($1))/ego; if(exists($rm_in{$p1})){ $rm_in{$p1} .= "\t".$p2; }else{ $rm_in{$p1}=$p2; } } }else{ print "die for error..."; } return %rm_in; } ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑
3 use warnings; use strict; use URI::Escape; use CGI qw(escape unescape); print "--- use URI::Escape ---\n"; my $unescape = qq(<h2>"hoge"&' bar '</h2>); my $escape1 = uri_escape($unescape); print $escape1, "\n"; print uri_unescape($escape1), "\n"; print "\n"; print "--- use CGI escape ---\n"; my $escape2 = escape($unescape); print $escape2, "\n"; print unescape($escape2), "\n";
仕様でしょう。 サンプルを見てもそうなってますけど。
怖いのでダウンロードは遠慮しますが、エラー出してくれてるようなので1行ずつつぶしていけばよいのではないの？ [sub.pl:46:warn] Bareword found where operator expected at sub.pl line 46, near "print "<TR><TD>$text</TD" (Might be a runaway multi-line // string starting on line 37) [sub.pl:46:warn] (Do you need to predeclare print?) [sub.pl:48:warn] String found where operator expected at sub.pl line 48, near "print "" (Might be a runaway multi-line "" string starting on line 46) [sub.pl:48:warn] (Missing semicolon on previous line?) [sub.pl:61:warn] String found where operator expected at sub.pl line 61, near "$nowtime="" (Might be a runaway multi-line "" string starting on line 48) [sub.pl:61:warn] (Missing semicolon on previous line?) [sub.pl:61:warn] Scalar found where operator expected at sub.pl line 61, near "$nowtime="$year" [sub.pl:61:warn] (Missing operator before $year?) [sub.pl:61:die] Unrecognized character \x94 at sub.pl line 61. [login.cgi:3:die] Unrecognized character \x94 at sub.pl line 61. Compilation failed in require at login.cgi line 3. [test.cgi:5:die] Unrecognized character \x94 at sub.pl line 61. Compilation failed in require at login.cgi line 3. Compilation failed in require at /home/shimokyou/public_html/test.cgi line 5.
状況が不明ですが、 ・困ったサイト運営者に頼まれた。 って感じでしょうか。 > サーバーのFTP情報しかわからず、サーバーを管理していた会社は夜逃げ状態で連絡がとれません。。 多分、サーバを管理している会社はご存じないだけかと。 間に入ってくれてた会社(ウェブコンテンツの制作会社など)がサーバを借りてやってたのだと想いますので間に入ってくれてた会社を含めて事情を話し調整すれば(サーバを管理している会社と話をする)引き継げる可能性はあります。 ※夜逃げ状態の会社が運営してたら電気止まったりしてサーバもアクセスできる状態を保ってはいないのでは。IPやドメインから調べれば実際運用されている会社は調べられるかと。調整次第でアカウントの初期化なども対応してもらえる可能性は低くないかと。調整が付く様だと継続使用すれば良いですが、調整付かない場合には変えた方が良さそうな気はします。今後ドメイン管理費用の支払いも行なわれないでしょうから時期は不明ですが将来名前解決ができなくなったりする事が予想されますので。 > 接続して上の階層を見てみたら「cgi-bin」というディレクトリがありましたが、中身はtest.cgiというファイルが入っているだけでした。 > test.cgiは、おそらくcgiでHTMLを表示させるテストをしたかったようです。 > 上の階層なので、URLがわからずそこに接続して結果を確かめることもできません・・・ > ただ、そのファイルをそのまま制作中のディレクトリに入れてみたところ、記述内容がそのまま表示され、cgiとして動きませんでした。 『制作中のディレクトリに入れてみたところ』って何かな。 cgiって基本的にhtmlを出力するプログラムですよ。まぁ、最初にhttpの応答ヘッダを出力したりもするはずですが。 書かれている言語を調べてその言語で実行してみると動くかどうかはわかると。 例えばperlで書かれているcgiだとコマンドプロンプトなどで perl test.cgiで実行してhtmlが表示されれば動く可能性があります。 ftpのアカウントがあって、cgiが動かせる状態に設定されていればある程度の調査はできますよ。 例えば、perlのバージョンやサーバに入っているソフト(ファイル)を調べるcgi書いて動かせば多くの事がわかりますし。 『上の階層なので、URLがわからずそこに接続して結果を確かめることもできません・・・』って書かれていますが、通常は http://run-host.example.co.jp/cgi-bin/test.cgi にアクセスすれば確認できそうに想います。(Acacheは標準の設定で ScriptAlias /cgi-bin/ /var/webdata/cgi-bin 等とcgi-binでアクセスできる様な設定が入っている場合が多いです) 通常の方法かSuEXECかで設置する場合にパーミッション等に違いがありますので、その辺りも調べながら試験用のコンテンツを配置・調査すればある程度は対応できると想います。 http://www.aconus.com/~oyaji/www/apache_linux_su …
http://www.tohoho-web.com/wwwcgi.htm 良く参考にさせてもらっています
ないならば「ありあわせ」で行う対処法を。 画像掲示板を改造するという方法 画像掲示板というCGIがあります。 これらのうちには管理人のみアップロード可能 (パスワード入力しないと新規書き込みやアップロードできない) という機能があるものがあります。 それを使うというのがひとつです。 また、少しCGIがわかるのであれば、 ありものの画像掲示板を改造すれば簡単に作ることができると思います。 また、この形式の掲示板をレンタルするという手もあります。 この方法の欠点は「今までアップしたデータがほぼ使えなくなり、 新しくアップロードしなければならない」という点です。 フレームを利用する方法 そのページにインラインフレーム、あるいはフレームをつくり、 そのフレーム内に一行掲示板のようなCGIなりPHPを表示させ、 そこにコメントを書き込ませるという方法です。 この方法の欠点は「うまくやらないとサイトの構造が無駄に複雑になる」という点と、 「間違いがあってもものすごくわかりにくいこと」です。
No.1のkmeeさんが言及されてますように、コードの例がちょっと古いですね。 use strict; use warnings; のないコードはまず古いですね。レキシカル変数を使ってスコープを限定しないコードも古いです。リファレンスで済むところを型グロブを使うコードも古いです。 私の所有している本は以下です。 CGIプログラミング http://www.amazon.co.jp/dp/4873110440 これも古いのですが、まだ通用する本でお薦めです。 ただ、少し難しいかもしれません。 初心者用の良い書籍を紹介できないのが残念ですが、 サンプルコードによるPerl入門 http://d.hatena.ne.jp/perlcodesample/ の木本さんが書かれた かんたんプログラミング CGI/Perl http://www.amazon.co.jp/dp/4774139289 なら幾分ましかもしれません。 Perlについてなら定評のある結城浩さんの本がいいのではないでしょうか。 新版Perl言語プログラミングレッスン入門編 http://www.amazon.co.jp/dp/4797336803 上記2点の本は拝見したことがないので、はっきりと推薦はできませんが、お持ちの書籍よりはましかと思われます。 以下のオライリーの本は評価が高いです。かなりやる気があるのならこれがお薦めですが、ご自分で中身を確認されてからご検討ください。 初めてのPerl 第5版 http://www.amazon.co.jp/dp/4873114276 書籍を選ぶ最低限のポイントとしてサンプルコードに use strict; の記述があるのをお選びください。 余談はこれぐらいにして（Perlカテゴリで似たような質問があったため御託を並べてしまいました）、質問への回答をしたいと思います。 以下2点、ご確認お願いします。 まず、この↓行を削除（コメントアウト）したらどうなりますでしょうか？ $value = jcode::sjis($value); ←出来ればeucに直したい(基本サイトをeuc-jpで作成) 次に、 loadFormdata(); を、 use CGI; %FORM = CGI->new->Vars; にしたらどうなりますでしょうか？
かぶった
すみません。何に困っているのかよくわかりません。 文章からは、全部sendmailで $admin に入れたアドレスにメールを送信できている、と読めるのですが。 エスパーすると、可能性の一つは @ がリストを表わしていると解釈されています($でスカラー変数を表わすように)
No.1です。 >cgiもそうなのでしょうか、phpよりずっと難解で大変でしょうか、、、 少し、誤解されてるかもしれませんが、 cgiとは、Common Gateway Interfaceと呼ばれるもので、 ウェブサーバー上で、ユーザープログラムを動かすためのの 仕組みです。 仕組みですので、ある意味実体は伴いません。 実体を伴わせるために、質問者様がおっしゃられている phpや、Perl、Pythonなどの言語を使います。 ですので、phpを使ってcgiを書く事もできますし、 PerlやPythonを使ってcgiを書く事もできます。 phpで書かれたプログラムを単体で動かす事も可能ですし、 少しおまじないを書いてサーバーに設置してあげる事で、cgiとして動かす事も可能です。
unix系のファイルシステムでは、各ファイルやディレクトリに そのファイルの所有者(オーナー) そのファイルの所有グループ が設定されています。 オーナーは要するにユーザーです。 グループというのは、複数のユーザーの集まりに名前を付けたものです。 管理の方針で実際にどうなっているかは個別に違いますが 例えば、会社だったら部署毎とか、学校だったらクラスとか、プロバイダだったら社員と契約者の区別とか。 パーミッションは、 ・一致するオーナーに対しての許可 ・一致するグループに対しての許可 ・オーナーもグループも一致しない場合(その他)について許可 で設定できます。 ・メールはその本人だけが読み書きできるのがよい。他人には読み書きさせない → オーナーのみrw権,他は許可無し(600) ・グループで共同作業、他グループには秘密 →オーナー、グループにrw権、その他には無し(660) ・CGIはユーザー「nobody」グループ「nobody」の権限で実行されている事が多い。 CGIを実行した結果を個人のディレクトリに書き込んで欲しい →その他にrw権(xx6) 等といった使いわけをします。
niftyのホームページスペースが、LaCoocanスタンダードの方なら、perlの拡張モジュールにImage::Magickも入ってるようですよ。No1の方のご回答のソースで一行目に記述のパスを　 /usr/local/bin/perl 　に書き換えれば動くと思います。 参考 http://lacoocan.nifty.com/help/03perlrubyphp/ もし、古くからある@homepageの方だったら、標準モジュールすらも入ってないので、導入はかなり難しいと思います。
携帯端末は個別の識別IDを送信しているので特定はできますが、PCからの偽装が可能になるため各携帯キャリアのIPで制限する必要があります、まれにIPの帯域が変更されるのでメンテナンスが必要になってしまいます。 スマートフォンとPCは特定することができません。 cookieを使えば毎回入力を省くこともできるので、素直にIDとPASSで認証したほうがいいと思います。
べたなロジックですが cat ファイル名 | awk '\ BEGIN { FILE=-1 } { 　if (substr($0,11,3)=="OUT") { 　　LINE=NR 　} 　if (NR==(LINE+1) && substr($0,11,2)=="IN") { 　　print $0 　} } END {}' > 出力ファイル名 ではいかがでしょうか。(インデントのために全角空白が入っています) 「sh処理」は何を言っているのか分かりません。
＞cgiで日付が変わったことを確認する この手の質問が最近多いですね。この手とはCGIと日付とか抽象的な質問の事。 http://www.google.co.jp/search?hl=ja&q=CGI%E3%81 … とかみましょうね。これで答えられるという事は釣り、回答者＝質問者、自己顕示欲の強い（秋葉の無差別殺傷事件の犯人のような人）がすることですね。 その前に、日付とは何の日付なんでしょう。何の日付を知りたいのでしょうか。 １． クライアントからのアクセスユーザーのアクセス日時。 ２． そのサーバー側の日時。 ３． アクセスユーザー関係なく、サーバー側の日時。 ４． 各ページの更新日時（当然、サーバー側の日時が元になる） ざーと洗い出しただけでも、これだけ特定しないとだめですよね。 CGIは通常そのOSのシェル及びシェルで使えるコマンドで行います。その辺最初に習うはずなんですがね。 date time ｌｓ find サーバー側の日付習得できます.　これはWindowsでも同じ。さらにCGIに使われている言語でも同じ関数がある。 どうです。あなたが、どれだけ曖昧な質問したかわかります？
なんで「CGI」のところでシェルスクリプトやawkの質問をするのでしょうか。 { num = $1; if (getline > 0) print $1 - num;, $0 } 余計な行はないと仮定しています。
foreach $item (@list) { 以降の各場所でprintデバッグして、どこで化けるか確認したらどうでしょう？ &Jcode::convertの前後とか &tagの前後とか
> ※ftpで接続した後にあるディレクトリにあるファイル名が存在するかをチェックするのは厳しそうなので・・・・ 誤解じゃないかな。ftpのプロンプトでls lookdir とする事により lookdirディレクトリの内容を表示する事もできますよ。 ftpのプロンプトでhelpとすれば使えるコマンドの一覧が表示されます。 ftp> ls 接続先でlsした結果が表示される。 ftp> !ls ローカルでlsした結果が表示される。 > シェルからtelnet接続する方法がわかりません。 telnetコマンドを実行。 $ telnet open 接続先アドレス $ telnet 接続先アドレス ※接続に使うユーザ名をしていするなど様々なオプションがありますので詳しくはオンラインマニュアルをご確認ください。
ここからダウンロードしたものでしょうか？ http://plus-code.net/cgi-flash-enquete/web_enque … で、あればこちらが参考になると思います。 http://www.exout.net/forum/viewtopic.php?f=5&t=58 http://oshiete.goo.ne.jp/qa/6286285.html 上記のサイトからダウンロードしたのであれば、 サポート終了となっていますから、動かないのであれば諦めて他のCGIを探した方が 早いと思います。 少し厳しいことを言いますが、 あなたがどこからPerlスクリプトを持ってきたのかがわかりませんから、 殆どの方が答えかねる事と思います。 また、仮にスクリプト本体がどこにあるかわかったとしても、 人のソースコードを読む程骨の折れる作業はありませんから、 期待される結果は得られにくいと思います。 となると、推測に推測を重ねた曖昧な回答しか得られないと思います。 質問される際には、自ずと スクリプト本体のありか、 OS種別(WindowsXP,Vista,7,Linuxなど)と32bit/64bitの違い Perl種別(ActiveState,Strawberry)とバージョン などが求められるでしょう。
ご質問の中で、 「最初のHPでログインしてくれた人」という意味が分からなかったので、 的外れなことをいってるかもしれませんが・・・ http://aineko.com/php/program/access.php このサイトのように、アクセス解析すれば、誰が訪問してくれたかは分かります。 ただ、この場合、相手のIPアドレスとかブラウザなど、 誰かがアクセスしてくれた程度のお話ですね。 もし、顧客にIDやパスワードを配布していて、ログインしたのを知りたいというのであれば、 上記のアクセス解析に、IDの情報を加えるだけで実現すると思います。 もともとIDはそのページにアクセスするために、POSTやらCookieなどで分かっているはずですから、 修正箇所は少ないと思いますが、いかがでしょうか？
メールが送られたのかどうかわからないので、メールサーバのログを見てみたらどうでしょう。エラーでてたりしないですか。
まずは、使っているメールサーバのポート番号が 587 なのか 25 なのかをもう一度確認されては？ それから、どんな認証処理が必要かどうかも確認された方が良いかと。(SASL, POP before SMTPなど) また、Net::SMTP ではデバッグオプションが有るので、それを有効にして実行すると何か分かるかも知れません。 http://perldoc.jp/docs/modules/libnet-1.12/Net/S … 例) ----------------------------------------- #オブジェクトの作成 $smtp = Net::SMTP->new( Port=> $SMTP_Port, '********', #SMTPサーバ Hello=>'********', Debug => 1)|| die "Connect failed over tls"; #SMTPサーバのドメインを指定 ---------------------------------------------
HTTPのレスポンスコードを307にするとPOSTのままリダイレクトしてくれます 但し全てのブラウザで正常に処理されるかは不明です(追加規格のため) IE 6でも正常に機能するんでそれほど問題ないかも？ その他 IE 7 IE 9 Sarai 5 Opera 11 Chrome 9 FireFox 3.6 なんかでは問題ないようです
ブラウザ：サーバが返してくれた、"HTMLの形式で書かれたテキスト"を、きめられた形式で"きれいに表示する"プログラムです。URL（http://hogehoge/hoge.htmlとかhttp://hogehoge/hoge.cgiとか）をwebサーバにリクエストします。 サーバ： （本当は設定によりますが）ブラウザからリクエストされたURLで指定されているファイルが、 ".html"というファイルなら、ブラウザにそのまま送付します。 ".cgi"というファイルなら、プログラムファイルであり、処理が必要と判断し、サーバ内で処理した後、その結果をブラウザに送付します。 ブラウザは"HTMLの形式で書かれたテキスト"しか読めないので、 cgiのプログラムは責任をもって"HTMLの形式"の結果を動的に出すようにできています。
よくわかりませんが、、、 a.html b.html という２つのファイルがあるとすると、 訪問者が「a.htmlを見たい」というリクエストをすると、a.htmlが表示されます。 「b.htmlを見たい」というリクエストをすると、b.htmlが表示されます。 同様に、 bbs.cgiというファイルがあるとすると、 「bbs.cgiを見たい」というリクエストをすると、bbs.cgiが表示されます。
＞<tex>\squrt{2}\</tex> の \squrt は何ですか？ 平方根なら \sqrt ですよね。
ちょっと試してみました。 すると次のエラーが出ました。 kaiin_sub.pl did not return a true value at test.pl line 10. もしスクリプトがこの通りならば、kaiin_sub.pl の最後に次の１行を加えて下さい。 1; 私の所ではこれでinput_errorが表示されました。 require で別ファイルを読み込むときは、最後に真を返すことになっています。
・実行するディレクトリがCGIのあるディレクトリではない ・実行するユーザーに、そのディレクトリやtest.txtへの書き込み権が無い あたりが有力でしょう。 詳細な方法は検索でもしてください。 細かい点を言えば ・出力ファイルにINってハンドルは混乱のもと ・追記するだけなら '>>' が楽なのでは。通常は無ければ作成してくれますし。
CGI って、 Common Gateway Interface の略なのですが、大雑把に、「Webサーバでプログラムを動かすための共通した仕組み」ぐらいで認識していいと思います。 プログラム言語っていっぱい種類があると思います。（PHP とか Perl　とか） Web サーバでプログラムを実行してページを表示したいときに、それぞれの言語が独自にWeb サーバの拡張機能を提供していたら、面倒だしヤヤコシイので共通的な仕組みを用意しました。 この仕組みをCGIと呼んでいます。 PHPって、Web サーバの拡張機能とCGIとして利用する２パターン実行する方法が提供されています。 拡張子ですが、拡張子ってそのファイルがなんなのかを表していると思います。 例えば、XXXX.jpg だとすると jpeg データの画像だねとか。 ですから、XXXX.php ですとPHPのプログラムだねとわかるので、拡張機能がインストールされていればPHPの処理系に実行してもらおうということで、そう設定します。 ところが、Webサーバにもいろいろ種類がありまして、すべてに拡張機能が提供されているわけではありません。 それでもPHPを使いたいと言う場合は、CGIで実行するという手段は残されています。 CGIの場合は、いろいろなプログラム言語が選べますから、先に述べた拡張子はどうでもよくて、実行出来るかどうかで判断します。 このため、サーバにアップしたときにパーミッション（権限）の設定で、実行できますよという印の "x" が付いた物にします。 前置きが長くなりましたが、ご質問の回答としては > 自分のイメージとしては、ＣＧＩは機能でＰＨＰはそれを実現する手段と言うイメージ これは正解ですね。ですが、Webサーバの拡張機能で実現する方法もあるということです。 > ＣＧＩが使用可能とあった場合に、ＰＨＰが使用可能である。 は、PHPの処理系がインストールされていれば、CGIとして動かせるかもしれないということになります。 > ＣＧＩ不可の場合は、拡張子がＰＨＰのものは全て不可なのでしょうか？ 不可とは限らないですね。
投稿だけならフリーの掲示板スクリプトと、そのスクリプトの前提条件にあるレンタルサーバーを契約するくらいですが。 perlのCGIを使うならperlが動作するレンタルサーバーを契約すればいいし、phpとDBならそれが動作するレンタルサーバーを契約する。
\" と書けば、エスケープされるはずですが。
403 Forbidden　というエラーは、アクセス禁止である、 というエラーメッセージです。 サーバー側でcgiファイルへのアクセスを禁止する設定にしていると思われます。 サーバーに「.htaccessファイル」を置いて、そちらに詳細を設定します。 「.htaccess」で検索すれば、たくさんの情報を拾うことができますので 一度ご確認されることをおすすめします。
s|</?PRE>||g; でもだめですか? s/abc/ /g ; と空白が入ってるとかもないですよね?
> 掲示板の配布元に以下のような図でバーミッションについて説明されているのですが > + c-board.cgi [705 or 755] > ... これは一例と考えてください。 実際、その通りに属性設定すると動かない場合もあります。 設置場所でも制約がある場合があるので(otherに権限が付与されていれば動かない設定で運用されているサーバなど)設置する場所の設置手順なども合わせてご覧ください。 ※atherにread権限与えると同じサイトを利用している他の利用者がソースを見たりできる可能性もあります。ソースなら良いですが、個人情報の書かれた(例えば利用者から提出された)データが見えてしまう設定にするのは。その意味で705や755使うより700使う等が望ましい場合も多いです。 ※suEXEC使っているウェブサーバなどあります。 > c-board/デレクトリィにバーミッション（属性変更）は必要でしょうか 配布ファイルを展開した段階でアーカイブ内に作られていた属性が反映された属性となっているはずですから、変更が必要とはいえません。 配布されているアーカイブ内の設定が運用する状況と合わない様でしたら変更すれば良いかと思います。 実際に展開する時の環境や展開に使うソフトなどでも変わりますので、展開後に属性を確認するのが確実かと思います。
SSIが使えるならCGIなんか書く必要ないのでは？ hogehogeディレクトリの中のB.htmlの最終更新日なら、 <!--#flastmod file="hogehoge/B.html" --> という1行をindex.shtmlに書けば表示されると思います。 フォーマット変更は、 <!--#config timefmt="%Y-%m-%d" --> 等。（flastmodの行より上に書くこと） そういうことではない？
通常モードでCGIやSSIを実行すると、 WWWサーバ管理者のユーザID(nobodyなど)での実行になってしまいますので、 一般ユーザでは削除や書き換えができませんのでサーバ管理者に依頼するしか方法がありません。 また、ものによっては、サーバ管理者側のファイル等が破壊されるなどの問題があります。 それを防ぐのがsuEXECです。 suEXECを使用すると、サーバを実行しているユーザIDとは異なるユーザIDでCGIやSSIを実行することができます。 この「異なるユーザID」が各利用者の事です。 各利用者のIDで管理できるため、利用者にホームディレクトリの管理を任せることが可能になります。 SSIを記述するファイルと同じ階層か下層に制限されるのも、suEXECの特徴です。 要は、「他ユーザには迷惑掛けないでね」という事です。 ＞「実行ファイルは、SSIを記述するファイルと同じ階層か、下位のディレクトリに設置して頂きますよう」ということがわかりません。 トップページの「index.html」のファイルがある階層を含む下位の事です。
横から失礼します。 一度認証して、LocationでちがうＣＧＩを呼び出すのは　認証した意味がなくなると思うのですが・・ というのも、認証しないでいきなりＣＧＩ-Ａを呼び出したらどうなります？ 認証するということは、一度の処理ですべてを行わないと意味がなくなります。 なので、ＡとかＢとかに分けないで１つにするのが初心者向けですよー もうちょっと理解が深まれば、ＣＧＩ-Ａをrequireして１つのＣＧＩとしてあつかえることができます。 さらに簡単にするのなら、1つのＣＧＩ内でサブルーチンにして分けて処理を行う方向性が後々の変更のため そして、コード量を減らすことや　なによりエラーをなくすためにはいい方法です。 例) 認証サブルーチン、DB問い合わせサブルーチン、アンケートフォームサブルーチン、アンケート受け取りサブルーチンetc そしてこれらを１つのCGIで処理するページングを行いたいのであれば、引数としてURLに含めるのが一般的です。 例) xxx/B.cgi?que=form　(認証して入力用のアンケートフォームを表示するなど) xxx/B.cgi?que=input (認証してアンケートフォーム入力値を受け取り結果を表示するなど) 上記のように常に認証しないと、意味がなくなります。 それと、system関数やexec関数は同じプログラム言語を使うならお勧めできません。 環境によっては使えないことも多々ありますし、なによりコスト(サーバ負荷)とリスク(トンネル)が高いです。 この辺はもう少し言語に対する理解が深まってから手を出すべきです。(初心者に勧めるべきことではありませんよね) 横槍のようで何なんですけど、なんだか変な方向に行きそうなので、口を出してしまいました。
print qq!<INPUT TYPE="radio" NAME="$key" VALUE="$_">$_!; ↑の文を print qq!<INPUT TYPE="radio" NAME="$key" VALUE="$_">$_<br>!; に書き換えればいいと思います。
@url=();の直後に 以下の構文を入れれば、目的の動作をすると思います。 テキストファイル名はlist.txt 改行でURLを羅列 ###入力する構文 open IN ,"<./list.txt"; while( $line = <IN> ){ chomp($line); push(@url, $line); } close(IN); ###ここまで
> ネットなどで見るかぎり、UNIX系のサーバーではよく行われる方法のようなのですが、 > Windowsでの実装になにか違いがあるのでしょうか？ Apacheのソースコードを見てみました。Linuxでは Unix 独自のコード部分でepoll を 使ってディスクリプタの監視をしているようです。ただ、Windows には同じAPI はない ようで、別の実装がされているように見えました。 少なくとも、mod_cgi.cの中で、Windows 環境ではAPR_FILES_AS_SOCKETSが 定義されないのでこの部分で分岐が行われます。 ------ #if APR_FILES_AS_SOCKETS apr_file_pipe_timeout_set(script_in, 0); apr_file_pipe_timeout_set(script_err, 0); b = cgi_bucket_create(r, script_in, script_err, c->bucket_alloc); #else b = apr_bucket_pipe_create(script_in, c->bucket_alloc); #endif ------
system('A.cgi'); または `A.cgi`; このことでしょうか？ HTML、CGI、Perl、SSIはそれぞれ別物ですから、 それぞれの区別を付けて置いた方が良いです。
mt.cgi のパーミッションはどうなっていますか？ 755 でなければ chmod 755 mt.cgi でパーミッションを 755 にしてみてください。
「私の会社Ｘ社」とあり、業務内容が弁当の注文を行う事のようですので 質問者さんは、プログラム開発業務の会社では無いと判断して解答します。 もし自社で開発するつもりなのであれば、 ２重に注文した場合らどうなるか キャンセルしたい場合はどうするか 変更したい場合はどうするか さらには、セキュリティについても考慮する必要があり 例えば、第三者の愉快犯が、Ｚ社の社員を装い勝手に弁当を購入するような 事ができてしまうシステムにはならない仕組みにしないといけません そのような条件も合わせて質問の内容をまとめた見積もり/提案依頼書 を作成して、プログラム開発業者、数社に依頼して吟味した方が良いと 思います。
拡張子が変わってしまうと言うことですか？普通はそんなへんな事態にはならないです。 ダウンロードは静的なファイルのダウンロードですか？それともcgi等で生成したものをダウンロードするのですか？ 静的だとすると、拡張子 docx や ｘｌｓｘ に対しての定義が漏れている？ 定義が漏れていて、ブラウザがIEだとそういうおかしな事にもなるみたいです。IE以外のブラウザを使って拡張子が変わらないとしたら原因はそれです。 Office2007が出る前の古いバージョンのApacheを使っているとかですかね。バージョンアップ出来ないのなら、設定ファイルに、 AddType application/vnd.openxmlformats-officedocument.wordprocessingml.document docx AddType application/vnd.openxmlformats-officedocument.spreadsheetml.sheet xlsx などを追加してください。 cgiで生成したものだとするとプログラミングミスですね。
>CGIファイルはこちらのものをそのまま試しています＞＜ で、perlはインストールされていますか？ Windowsならcgiの1行目のperlの実行パスは修正する必要がありますが、そちらは処理していませんよね？ 前回回答した「windows apache cgi」で検索していくと、 http://pentan.info/server/windows/activeperl.html というページなどが見つかるハズですが……。
CGIなんて言語はありません。 一昔前なら、Perlだと思っておけば大丈夫でしたが、最近ではRuby(on rails),Python等もシェアが増えてます。 また、このような「国際化」絡みは同じ言語でもバージョンによって対応状況が違います。 > 今回のプログラムではutf8でないと日本語がうまく読み込めない状況です。 その確認方法は?「読み込めない」のはどのプログラム? > 色々と調べたのですが、エラーがでたりと解決できません。 どんなエラーですか? > 良い方法があれば、参考になるサイト等を教えていただけませんか 使用言語も実行環境も不具合の内容もわからないので、良い方法も参考になるサイトも教えられません。 強いて紹介するなら、BOMありなしの違いについて。 http://ja.wikipedia.org/wiki/UTF-8#.E3.83.90.E3. …
OSとか不明…ですな。 まぁ、localhostでIEだとか、 >’#’は内部コマンドまたは外部コマンド、操作可能なプログラムまたはバッチファイルとして認識されていません というエラーメッセージからWindows系だとは思いますが。 >今CGIをつくっているのですが、localhostで試したときにcgiページを開こうとすると、 そのcgiは何で作られていますか？ perlだとして、使っているWindowsにperlは入っていますか？ apacheでcgiが使える設定になっていますか？ 「windows apache cgi」で検索すれば、perlのインストールやapacheの設定など記述されているページが見つかるかと思いますがそういったページは参照していませんか？
OS掲示されないから、パーミッションの設定を指摘されるのでしょう。 http://oshiete.goo.ne.jp/qa/6454541.html Windowsですから、FTPソフトなどでパーミッションの設定はできません。 # NTFSアクセス権はあるでしょうが、今回の場合は無関係でしょう。 # Perlスクリプトは、Windowsでは「実行ファイル」と見なされませんし。
> デコードでしないで文字コードの方だけで処理する場合 そもそも文字列の各要素には文字コードが入っていますので， 各要素の値を単純に足していくだけです。 char name[] = "%C5%C4%C3%E6%C2%C0%CF%BA"; const char *p; int s = 0; for (p=name ; *p ; p++) { s += (unsigned char)*p; } printf("%d\n", s);
こんにちは。 うちのテスト環境では質問者様が思っている動きで確認できているつもりですので環境の問題かもしれません。 お力になれず申し訳ないです。
lock関数の初めに判定処理を移動してはどうでしょうか。 sub lock { if ($_[0]) { $lock_file = $_[0]; } else { $lock_file = $lockfile; } $past_lock = -M "$lock_file"; if ($past_lock * 24 * 60 * 60> 2) { &unlock("$lock_file"); ...
「/cgi-bin/acart/setcook.cgi」というファイルがみつからないというエラーなのでそのままだと思います。 大きなミスは「/cgi-bin」というサブディレクトリが見かけ通りの場所のものなのかどうかということです。 このサブディレクトリの所在としては客観的に考えて３種のサブディレクトリの存在が考えられます ひとつめはファイルシステムのルート直下にある「cgi-bin」ディレクトリですがメッセージを出力しているアプリがApacheであることからこの可能性はきわめて低いです(まあ設定でできないことはありませんが・・・)。 二つめはApacheで指定された「cgi-bin」ディレクトリでこれは任意の位置(どこに置くかは設定次第)で一般的にはドキュメントルート(ブラウザからドメインだけでアクセスされるディレクトリ)と同階層に置かれます。 三つめはApacheで指定されたドキュメントルート直下に自分で作ってしまったディレクトリです。 二つめのApacheで指定されたcgi-binが存在すると三つめの自作「cgi-bin」は無効になってしまいます。 もしかしたらあなたが正しいと勘違いしているファイル 「/var/www/html/cgi-bin/acart/setcook.cgi」(メジャーディストリビューションの場合) 「/usr/local/apache/htdocs/cgi-bin/acart/setcook.cgi」（標準インストールのApacheの場合） もしかしたらほんとはこっち 「/var/www/cgi-bin/acart/setcook.cgi」(メジャーディストリビューションの場合) 「/usr/local/apache/cgi-bin/acart/setcook.cgi」（標準インストールのApacheの場合） あるいはその逆にApacheの設定で指定されていなくて無効になっている可能性もなくはないと思います。 レンタルサーバだと設定上の関連付けは様々なので断定はできませんが 事前に用意されたCGI-BINというディレクトリが「他にある」または「他に指定されている」ことが原因ではないでしょうか？ ＞cgi内のパスの記述とファイルがある場所が間違いないことも確認しております ある条件下では間違っていなくても別の条件下の環境におかれている可能性を考慮してみましょう。 Apacheの設定を見ることができる環境なら「ScriptAlias」ディレクティブの存在とDirectoryディレクティブにおけるcgi-binとの関連性をチェックしましょう。
> 生年月日のようにすでに数値であるものはそのまま使いたい 文字列（数字）から整数型への変換は，strtol や sscanf などが使えます。 その前に，生年月日の部分を切り出す処理は必要です。 しかし，「ランダムだと一日の中でやり直しができてしまうからつまらない」 のを回避することだけが目的なら，氏名や，生年月日，性別の意味を解釈する必要はないので， 受け取った文字列をそのまま，簡単なハッシュ関数に突っ込んでしまってもいいでしょう。 各文字のコードを全部足して，最後に 20 で割った余りを取るとか，そんなんで十分やと思います。
＞URLがデコードできません。 の意味がわかりません。 　QUERY_STRINGSで受け取ったURLエンコードされた文字列を出コードできないという意味ですか？ $enCodedQUERY_STRING =~ tr/+/ /; $enCodedQUERY_STRING =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack("C", hex($1))/eg;
エラーの内容はEncode.pmというperlモジュールがないという意味です。 このモジュールは確かperl5.8以降しか動かないと思いますので、perlのバージョンをあげるのがもっとも早い解決方法と思われます。 そもそもMT5はperl5.8.1以降しかサポートしてないようです。 http://www.movabletype.jp/documentation/mt5/inst … したがって、その環境でMT5を使用することはできません。
CGIでももちろんできますが、javascriptのほうが簡単だと思います。 サンプル作ってみましたので、参考にしてください。 random.html ------------------------------------------------ <html><head> <title>今日の運勢</title> <meta http-equiv="Content-Type" content="text/html;charset=Shift_JIS"> </head> <body> <center> <script type="text/javascript"> <!-- var sample=new Array(); var line="5,15,50,75,100";//「,」区切りで点数データを書く。何個でも可 sample = line.split(","); var num=Math.floor( Math.random() * sample.length ); document.write("今日のあなたの運勢は",sample[num],"点です"); // --> </script> </body> </html>
[.htaccess]を、使うとできます。 簡単に作成したい場合は、 http://www.htaccesseditor.com/#a_access から 自分でつくる場合は、 http://htaccess.pasoa.com/ から、お願いします。
mailform/send.cgi の347行目、 > print MAIL "To: $mailto\n"; という行の下あたりにでも > print MAIL "Bcc: 送りたいメールアドレス\n"; という行を追加してください。
> METAタグのPRAGMAは使ってみたのですが、どうも上手くいきませんでした。 ブラウザによって聞かないものもありますが、もしも表示させるページがCGIやPHPならページ表示の前にHTTPヘッダを使ってやってみてはどうでしょうか？ perlなら 1.Pragmaの場合 print "Content-type: text/html", "\n"; print "Pragma: no-cache", "\n\n"; 2.Expiresの場合 print "Content-type: text/html", "\n"; print "Expires: Friday, 17-Dec-01 00:00:00 GMT", "\n\n";## 古い日付を指定 こんな感じ
LoadModule cgi_module modules/mod_cgi.so のコメントを外してありますか？
おそらく、No.3の_--_1l1_1_さんの回答が質問者さんが欲しい回答ではないかと思われます。 内容が少し高度？で、使い方がわからないのでは？と推測します。 かいつまんで書くと、No.3さんの回答は以下です（結果格納場所は配列にしてますが）。 my @pl; for my $count (1..31) { # 1～100ならここを1..100にする no strict 'refs'; my $day = eval '$day'.$count; push @pl, jd::Cal($day + 0.5); # ここが、$pl[0] = &jd'Cal($day1 + 0.5)に相当 } @plに欲しい情報が入っています（この場合、$pl[0]～$pl[30]に入ってます）。 jd::Cal（＝&jd'Cal）の引数は、$day1 + 0.5というのを想定しています。
試せる環境がないので、推測ですが。。。 mart_init.cgiのheader部分の<head>要素の中に以下のような文を追記すると 表示できると思います。 <link rel="icon" href="ファイルの指定"> <link rel="shortcut icon" href="ファイルの指定">
技術的にはフレームを使っています。以下、サンプルです。 1) それぞれファイルを同じ場所に保存する 2) ファイル名は正しく保存する 3) charsetにUTF-8を指定しているので、UTF-8で保存 4) 表示がくずれるので全角を空白2文字に置換して保存 5) index.html をブラウザで開く index.html <html xmlns="http://www.w3.org/1999/xhtml"> 　<head> 　　<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 　　<title>テスト</title> 　</head> 　<frameset rows="60,*" frameborder="NO" border="0" framespacing="0"> 　　<frame src="menu.html" name="menu" scrolling="NO" noresize /> 　　<frame src="page1.html" name="contents"/> 　</frameset> </html> menu.html <html xmlns="http://www.w3.org/1999/xhtml"> 　<head> 　　<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/> 　　<title>メニュー</title> 　</head> 　<body> 　　<div align="left"> 　　　<table width="500" border="0" cellpadding="0" cellspacing="0"> 　　　　<tr> 　　　　　<td width="500" height="60" valign="top"><br/> 　　　　　　<a href="page1.html" target="contents">ページ1</a> 　　　　　　<a href="page2.html" target="contents">ページ2</a> 　　　　　</td> 　　　　</tr> 　　　</table> 　　</div> 　</body> </html> page1.html <html xmlns="http://www.w3.org/1999/xhtml"> 　<head> 　　<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 　　<title>ページ1</title> 　</head> 　<body> 　　<p>ページ1の内容</p> 　</body> </html> page2.html <html xmlns="http://www.w3.org/1999/xhtml"> 　<head> 　　<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 　　<title>ページ2</title> 　</head> 　<body> 　　<p>ページ2の内容</p> 　</body> </html> 一般的な作成方法ですが、 1) 上のようにhtmlを直書きする 2) wysiwygなhtmlエディタを使う 3) 1)と2）を組合せて作る どちらにしろ、html を本かサイトで勉強して下さい。私はHTML/XHTML&スタイルシートレッスンブックという本で勉強しました。というかこれしか知りません。
文面からですが、そもそもCGIが何かご存じないと思われますが、違いますでしょうか。 質問のCGIが「Common Gateway Interface」であるとして、通常Perlを使って作成します。 1.Perlのフリーのソフトがありますので、まずこれをダウンロードして下さい。 2.そして、Perlでのプログラムですが、最初はprintf()などを使って、HTMLを出力するプログラムを作って下さい。 3.そして、それができたらそのprintf()で出力された文字を拡張子が.htmlにしてファイル出力して下さい。 4.できたそのファイルをダブルクリックすれば、ブラウザにPerlで出力したHTMLにより作成されたページが表示されるでしょう。 本来ならば、この流れを3以降はwebサーバーを立てて、わざわざファイルを作成しないようにしているだけです。 ですから、それは2のPerlプログラムをもっと自由に使いこなせるようになってからでも遅くないでしょう。 一応、ストレートに質問にお答えしましたが、私としてはPerlよりもPHPの方がweb用に作られた言語ですので、何かと便利でお勧めです。 もしかしたら、質問者さんはHTMLも良く、ご存じないのではと思いますが、もしそうであれば、HTMLとCSSをまず覚えられることが先決です。（最悪CSSは知らなくとも自分で作るだけなら何とかなりますが） このようなインターネット関連の知識はいろいろな技術の上に成り立っているので、CGIだけを学ぼうとしても無理で、幅広い知識が必要となります。 頑張って下さい。
http://www.kent-web.com/bbs/index.html 有償利用になる使用方法 ・有償で「レンタル」を行なう場合 ・無償レンタルで広告バナーを表示してのレンタル行為を行なう場合 ・有償を前提として第三者のWEBスペースへCGIを設置する場合 ・その他プログラムを使用することで直接的に利益を生じる使い方をする場合
以前見かけて購入したくなった書籍が一つの情報になりそうです。 http://www.amazon.co.jp/PHP%E3%81%A7%E4%BD%9C%E3 … ダウンロード完了判定も、 例えばその画面（ダウンロード）の</html>タグを出力したら完了と暫定判定して メールを送信。メールの中身に「ダウンロードが終了していなければ・・・」 といった文章をいれてみるのも一つの手。 でも、その本で紹介されている考え方を元に やっぱりＤＢを使ったほうが期待されているシステムを作るのは簡単そうです。
？？？？の部分には本来送信先のメールアドレスが記述されるものと思います。 ご質問の送信先メールアドレスをフォーム入力として云々というお話ですが、プログラムのソースと<form>タグの内容を見ないとわかりません。 ポイントとしては「フォームの送信方法はPOSTメソッドなのかGETメソッドなのか」と「CGIはフォームからの受信データをどの変数に格納しているのか」ということが判明しないと適切なアドバイスは不可能です。 機能そのものはともかく、送信先をフォームにすると、第三者がいたずらメールをあなたのコンテンツから匿名で送れてしまうというリスクが発生することを念頭においてください。
sendmailに-tオプションがついていますので、おっしゃるとおり print MAIL "Bcc: 企業のメールアドレス\n"; をToの次の行あたりに追加すればいいはずです。 これが何をしてもうまくいかないというのであれば、メール送信で使われているCGIがこれではない、という気がします。 まず他に影響が出ないFromやSubjectの内容を変更してみて反映されるか確認してみてください。 また、記入者に返すメールはまったく同じものを返すより、「メールを受け付けました」という別の形式にした方がいいんじゃないでしょうか。 いずれにせよCGIやHTMLの知識ですので検索を利用したり本を買うなど色々調べてみてください。
>上手く動いているページのソースをそのままコピーしてメモ帳に貼り付け 以前、そこに何も書いてなかった時に使っていた同一ページのソースを探し出し、それをソース表示にして 同じ場所を同じように削除して整えたんですが、全く違うページなってしまいました。 この作業にいくつか疑問があります。 >>上手く動いているページのソースをそのままコピーしてメモ帳に貼り付け これは実際にサーバで公開されているページにブラウザでアクセスして表示されたページのソースをコピーしてメモ帳に貼付けたという意味ですか？ それはcgiが作成した動的ページなので、オリジナルのインデックスページのソースと異なる可能性があります。 オリジナルのindex.htmlはないのですか？ もし無いならば、FTPソフトでサーバにアクセスし、cgi本体をダウンロードしてそれをコピーしてから書き換え作業を行ってみて下さい。 >>以前、そこに何も書いてなかった時に使っていた同一ページのソースを探し出し、それをソース表示にして 同じ場所を同じように削除して整えたんですが メモ帳で開いたのですよね？何故「ソース表示にする」動作が必要になるのですか？ メモ帳で開いた場合、そもそもHTMLのソース表示になるため、この行程はいりません。 cgiはサーバ側で動的HTMLを作成しますので、その作成されたHTMLをいくらいじってもcgi自体をいじらない限り デザインの変更は難しいと思います。 cgiの中でデザインを指定している部分を見つけ出してそれを書き換えるしかないですね。
問題があるといえばあるのですが このファイル「./perl/Cf/Part/Enquete.pm」の 「use strict;」を「# use strict;」のようにコメントアウトすればいいのですが 該当行でそのサブルーチン内で「$ref_array_hash」という変数の定義位置がおかしいためかもしれません。 875行目から3行の変数定義部分を869行より手前に移動してみてはどうでしょうか 上記どちらかで動作試験をしてみてはどうでしょう？
これを自動化させるには大幅な改造が必要です。 もしかしたら、希望に添えないかもしれませんが簡単な方法をお教えします。 バージョンは最新のWebPatio v3.22を使用しています。 patio.cgi 103行目にprint $TopThread;を追加。 変更前 102:EOM 103: 104:#スレッド表示 105:if ($p eq "") { $p = 0; } ↓ 変更後 102:EOM 103:print $TopThread; 104:#スレッド表示 105:if ($p eq "") { $p = 0; } init.cgi 56行目から追加 変更前 55:#=========================================================== 56: 57:# 外部ファイル 58:$jcode = './lib/jcode.pl'; 59:$upload = './lib/upload.pl'; 60:$editlog = './lib/edit_log.pl'; ↓ 変更後 55:#=========================================================== 56: 57:#TOPに持ってきたいHTMLを表示する 58:$TopThread = <<EOM; 59:（ここにHTMLを入れる） 60:（複数行そのまま入力OK） 61:EOM 62: 63:# 外部ファイル 64:$jcode = './lib/jcode.pl'; 65:$upload = './lib/upload.pl'; 66:$editlog = './lib/edit_log.pl'; これで（ここにHTMLを入れる）のところに掲示板のTOPに表で表示される掲示板の<tr>～</tr>部分をコピペすればOKです。
こんばんは。 少し意味がわからないので確認します。 ＞cgiディレクトリの中に幾つものcgiを入れることはできるのでしょうか？ cgi-bin「ディレクトリ」の中に幾つものcgi「ファイル」を入れることはできるのでしょうか？ と、言う意味ですか。 それならＯＫです。 別の意味なら、 /cgi-bin/a/***.cgi /cgi-bin/b/***.cgi /cgi-bin/c/***.cgi と、いうことでしょうか。 これもＯＫです。
>参考になるご意見を頂戴～ ということで。 アカウントはないのでこのサイトがどうかは分かりませんが、#や:はセパレータの感じがします。 cgiへの変数を渡す場合のクエリは、一般的には act=home&id=12345&lang=ja&ref=reg& ～ のような形ですが、 SEO対策のためクエリを短くしたい、キー名を隠匿したい、などの理由により、 home:12345:ja:regist などとして、スクリプト側でセパレータで分割してやる方法もよく取られます。 ( : に限らず | など変数の値に使用しない文字なら何でもかまわない) もし、そのサイト他のページを回ってみて、:12345::abcd: などと間に文字が入ることがあればセパレータで間違いないでしょう。 その場合、:::は単に「すべての値が空」ということです。 または、もしそのページのソースに <a name=':::'> や id=':::' が見つかれば、ページ内リンクのための単なるアンカーです。(それにしては不自然な命名ですが) >このサイトのページ遷移の方法～ ざっと見、URLが/install ,/tour といった形式で終わっているので mod_rewrite で内部で http://example.com/○○○ ==> http://example.com/コントローラ.cgi?page=○○○ のように変換しているかと。 方法は mod_rewrite で検索すればよい解説ページが沢山みつかります。
つまり、条件を満たしている掲示板を我々に探せ！ってこと？ だとしたらムリ 誰か知ってる人が入るといいですね。 w
全角スペースのあとに半角文字を入れると 文字コードの関係で文字化けを起こします。 全角スペースとTVの間に半角の￥を入れてみてください
誰もレスしないし、自分でEC用のCGIに興味があったので試してみました。 > 自分で、Freecart.jp　というところから同じCGIをダウンロードしたのですが、設置の設定画面に入ることができません。 このような質問のされ方だと、どこに設置しているかは設置した当人かその関係者以外わからないという回答しかないと思います。 自社商品のサイトなら管理画面用のアドレスくらい引き継いでいないのでしょうか？　それとも外部に完全委託していたのでしょうか？ どちらにしてもFTPなどでサーバに接続してどこのパス(MacやWinで言うところのフォルダ)に格納されているのかを地道にチェックするしかないと思います。 > yourdomain.com/cgi-bin/acart/maketag.cgi > からはいるとReadmeには書いてあるのですが、変な外国のサイトになります。 まさかこれをそのままアドレスに打ち込んでいないですよね？ yourdomain.comはあなたが運営しているサイトのドメインに置き換えてという意味です(あなたのドメインと書いてますよね)。 > どなたか、設置画面への入り方を教えてください。 まず、自分の運営しているサーバにFTPなりSCPなりで接続して、「manege.cgi」を探して、そのパスにブラウザからアクセスしましょう。 パスワードはそのファイルのある「conf」ディレクトリ内の「conf.txt」に書かれています。
?付けるとquery消えます。 RewriteEngine on RewriteCond %{QUERY_STRING} ^nd=dd&parent=([0-9]+)$ RewriteRule ^bbs.cgi$ /log1/%1.html? [R=301,L] http://xn--u8jxb9ib9150b2px.jp/htaccess/rewriteq …
「HTTP 500 内部サーバー エラー」はプログラムがエラーで停止したことを示してます。 設置した当初は動いていたのでしょうから、その後の何らかの変更でプログラムが動かなくなったのでしょう。 何のエラーが起きているかはログファイルに書かれているはずです。 ログファイルは、httpサーバがLinuxのApacheなら、/var/log/httpd/フォルダ内にあります。 WindowsのIISなら、C:\WINDOWS\System32\LogFiles\内にあります。 （※サーバ設定で変更されてない場合） そのログファイルをプログラムがわかる人に見せてもらうか・・・ または、いっそ今のお問い合わせフォームを捨てて、フリーソフトのCGIを探して新たに設置するかですね。
iframeを持っている親ページと iframeの中に表示されているページとはそれぞれ独立しています。 なのでそれぞれに適切な文字コード指定をしてやれば何も問題はありません。 適切に指定さえすれば、HTML文書と外部CSSが異なる文字コードでもきちんと認識されますよ。 むしろ編集する際にごっちゃにならないようにお気をつけくださいまし。
SEOの専門家ではないですが。 PHP による動的生成もCGIの一種です。 また、サーバーの設定次第で、URLが.htmlで終っていても、 実際にはCGIで作られたもの、ということもあります。 これらを区別する理由というのが見当たりません。 同じHTMLを作りだすCGIで、PHPで作られたものと、他の言語を使ったものがあった場合、PHPの方が必ず上位に来る、というデータがあるなら別ですが。
元のフォーム画面に問題が在るのでは？ <form>タグのパラメータに下記が記述されていますか？ ENCTYPE="application/x-www-form-urlencoded これが無いと、read()関数で読み込むとおかしくなりますね。
間違っている点 １．受信データをベタのまま使用している 　　たぶん学校の課題かなにかでしょうが、この状況では練習問題にもなりません。 　　POSTやGETのメソッドで受信したデータは名前と値にそれぞれ分離して扱いましょう。 　　現状ではボタンもフォームの一部なのでボタンデータの値(例：BT1=送信など)も受信文字列に入っているはずです。 　　それをそのまま正規表現でパターンマッチをとっても無意味でしょう。 　　さらに、エンコードされている可能性も考慮してデコード処理も必要でしょう。 　　連想配列に代入して処理するのが一般的です。 ２．ファイルを開く 　　書きこみの必要性がないなら出来るだけ「読み込み」だけで処理することです。 　　データ量にもよりますが「ファイルを開いている状況は出来るだけ短時間に押さえる」ように処理するのが吉です。 　　この場合データ量が少ないので、一気呵成に配列へ読み込んでファイルはさっさと閉じましょう。 　　配列のループで処理すればいいのです ３．ファイルを削除 　　オリジナルデータは出来るだけ残すようにする。 　　HDDの空き容量が問題にもなりますが、ここはunlinkよりもrenameを使って以前のデータを残すべきでしょう。 　　いまどきのマシンでテキストデータが圧迫するようなマシンならサーバなんぞには向いていません。 ４．書き込み処理 　　状況にもよりますが、前の回答者様が述べているようにファイルのブロック処理があったほうがいいでしょう。 　　ただし、シェバングをみるとWindows上で組んでいるようなのでPerlのファイルロックはあてにできません。 　　CGIでは古典的手法なのですが、外部ファイルのステータスを利用するなど、裏技を利用するのが良いでしょう。 　　「perl」「ファイルロック」などでググれば見つかるでしょう。 　　また出力データは丁寧に出しましょう。配列をベタでガバーではまともに処理ができていてもいなくても消された元ファイルは成仏できません。 　　せっかく出力イメージを提示しているのですからそのように出力するよう少しは努力してください。 ５．メインの処理の部分 　　正直、結果の部分とプログラムの内容があまりに乖離しすぎていて、どんな処理をしたいのかが汲み取れないので以下の点を明確にしてください 　　・受信データとファイルデータを比較しているが左辺が同一のデータ部分だけを上書きするような仕組みなのでしょうか？ 　　・フォームに入力値がなかった場合の処理は必要ないのか？→必要ないなら比較などせずにマルマル上書きすれば済む話ですよね。 追伸： 　まえの質問でも同じなんですが回答を受け取ったあとそこで生じた問題をその１時間後に別のスレで質問していましたが、そういう丸投げの姿勢では技術は身につきません。 　アドバイスするくらいのスペースしか有りませんので、アドバイスが可能なようにご自身で多少でも努力されるようお願いします。 　こうしたくてこうしましたがダメでした的な状況でのアドバイスなら回答ももう少し具体的かつ明確になるでしょう。
CGIで認証しても、認証したディレクトリーに在るhtmlをブックマークに登録されると、次回からは認証無しでアクセスされてしまうけど、それはどう考えているのですかね。 CGI1で認証すると全ページ、CGIで記述しないといけないことを知ってますか？
一枚のフォームに3つのテキストボックスを作るのが一番簡単みたいですが、 一つのCGIで3つのフォームを書かせて、submitボタンとhiddenタグを使えば似たようなことは できると思います。 <form>　　</form>は一枚のフォームに複数書くことが出来ますからね。
パーミッションには自分、グループ、他人の3種類あります コマンドラインから実行する場合は自分なので自分のパーミッションに書き込み権限があればできます HTMLで実行するのは他人なので他人に書き込み権限がなければできません 0644(rw-r--r--)ではだめで0666(rw-rw-rw-)でないとだめです
＞この４のようなアクセスの仕方をしたユーザーは,[www.school.html]をブックマークしていて飛んできたユーザだと考えていいのでしょうか？ 違います。 www.school.html内からwww.school.html/main.htmlにアクセス。 ブックマークは３のアドレス入力と同じ。 ４の前に４のアクセス者がwww.school.htmlにアクセスしたログがあるはず。 無い場合、以前アクセスした際のキャッシュからアクセスしている。
Ajaxに値を戻すなら、普通にブラウザへ表示（HTTPヘッダ付き標準出力）するようにします。 例： return("$counter"); 　の行を 　print "Content-type: text/plain\n\n"; 　print $counter; 　とします。 ただ、Ajax側のリストをよく見ていないので動くかどうかはやってみてください。
ひらがなのみなのか、漢字まじりでもいいのか、 サーバー側で音声合成をさせるのか、あらかじめ単語単位になった音声ファイルを用意してそれを連結するだけなのか でかなり　かわってくると思います。 たとえば、 HTMLのテキストフォーム上に、文章を記述 ↓ フォームからWebサーバーに submit ↓ PHPなりPerlなりが、テキストを受け取るので、それを一旦テンポラリファイル化する ↓ 分かち書きツールをシステムコールして、漢字仮名交じり文を平仮名の文に変換 (kakashiとかChasenとかMeCabとか） ↓ 結果をファイルから読みとって、音声合成ソフトの入力ファイルを作る ↓ 音声合成ソフト（コマンドラインで使えるもの）をシステムコールして、その出力ファイルを　サーバー上にファイル保存する ↓ その音声ファイルへのリンクボタンを含む、結果表示HTMLを作る ↓ ブラウザにそれが表示される って感じじゃないですかね。 作ったことないので　想像ですが。 ちなみに、mp3ファイルってID3タグを取り除けば、単純に連結できるんですが、 ５０音別のmp3を連結しても、抑揚ないので、 多分　日本語として聞き取れないんじゃないですかね。 課題は、音声合成ソフトとそれの音源ライブラリとして コマンドラインで使えるもので、出力結果に著作権が発生しないもの って点ですかね。 どっかありそうですけど、詳しく知りません。
作ってみました。同じディレクトリーに入れてください。 key.cgiはサーバーにあわせて属性変更してください。 form.html <html><head> <title>key</title> </head> <body > <form method="post" action="key.cgi"> <input type="text" size="20" name="keyword"> <input type="submit" value="移動"> </form> </body> </html> key.cgi #!/usr/bin/perl use strict; use warnings; use CGI::Carp qw(fatalsToBrowser); use CGI; my ( $q, $value, ); #「キーワード,ファイルアドレス」をスペース区切りでいくつでも可 my @key_ad = qw(a,a.html b,b.html c,c.html d,d.html); #ハズレのアドレスを入れてください。 my $hazure = 'index.html'; $q = new CGI; $value = $q->param('keyword'); foreach (@key_ad) { my ( $key, $url ) = split /,/; if ( $key eq $value ) { print "Location: $url\n\n"; } } print "Location: $hazure\n\n";
frameのことを言っているのかな？いずれにせよ、やりたいことはCGIじゃないと思います。 以下、表示がくずれるんで空白2文字を全角1文字の空白にしています。 --- index.html <html> <frameset cols="50%,*"> 　<frame src="a.html" name="a"> 　<frame src="b.html" name="b"> </frameset> </html> --- a.html <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 　　　　　"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitio … <html xmlns="http://www.w3.org/1999/xhtml"> 　<head> 　　<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" /> 　　<script type="text/javascript"> 　　　//![CDATA[ 　　　function showOtherFrame(){ 　　　　var text　 = document.getElementById('aForm').text1.value; 　　　　var otherText = top.frames['b'].document.getElementById('otherText'); 　　　　var node = document.createTextNode(text); 　　　　if (otherText.firstChild) { 　　　　　otherText.removeChild(otherText.firstChild); 　　　　} 　　　　otherText.appendChild(node); 　　　　otherText.style.display = "block"; 　　　} 　　//]]> 　　</script> 　　<title></title> 　</head> 　<body> 　　<form id="aForm"> 　　　<input type="text" name="text1" value=""/> 　　　<input type="button" value="反対に表示" onclick="showOtherFrame()"/> 　　</form> 　　<p id="otherText" style:display="none"></p> 　</body> </html> --- b.html <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 　　　　　"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitio … <html xmlns="http://www.w3.org/1999/xhtml"> 　<head> 　　<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" /> 　　<script type="text/javascript"> 　　　//![CDATA[ 　　　function showOtherFrame(){ 　　　　var text　 = document.getElementById('bForm').text1.value; 　　　　var otherText = top.frames['a'].document.getElementById('otherText'); 　　　　var node = document.createTextNode(text); 　　　　if (otherText.firstChild) { 　　　　　otherText.removeChild(otherText.firstChild); 　　　　} 　　　　otherText.appendChild(node); 　　　　otherText.style.display = "block"; 　　　} 以下文字数制限で表示できず。a.htmlと同じですが、id="bForm"です。
land.to の文字が見えますが、sendmeil は使用可能でしょうか？ sendmail は使用できないような記述があるので、socket もダメでしょうね。 まずは、その辺りを確認してください。
＞404 Not Found 指定した場所にそのファイルがないということです。 cgiの設置以前の問題です。 postmail.htmlというファイルが、public_htmlのディレクトリ（フォルダ）直下にあるはずのpostmailというディレクトリにあるかきちんと確認し、なければファイルをアップロードしてください。 ＞# SMTPサーバ ＞$server = "mail.server.sp.****.to.jp"; ＞# POP3サーバ【POP before SMTPのとき】 ＞$pop3sv = 'mail.server.xx.jp'; あなたが使っているメールのPOP3およびSMTPサーバ名をきちんと設定していますか？ ＞# 接続ID【POP before SMTPのとき】 ＞$user = 'user_id'; ＞# 接続パスワード【POP before SMTPのとき】 ＞$pass = 'password'; ＞としたままにしています。 Kentさんがサンプルとして書いているのをそのまま利用していませんか？ もしそうならエラーが出ます。 正直な感想を書きます。 Kentさんのcgiは設置は簡単な部類です。 解説ページすらが理解できなければ使わない方が無難です。
全てはまたさないまでも concrete5が目次を自動化出来る CMSです。 結構使えると評判ですよ。 http://concrete5-japan.org/ 参考URL：http://concrete5-japan.org/
引数の受け取りは、include virtualではブラウザurl欄で入力するときに書くquery と同じように書けば、$ENV{'QUERY_STRING'} で受け取れますよ。 include virtual="xsample.cgi?a=c" となっていれば、"a=c" が$ENV{'QUERY_STRING'} に入っています。 元のページのquery 情報　たとえば ex.shtml?xx=yy のurlならば $ENV{'QUERY_STRING_UNESCAPED'}に"xx=yy" が入っています。
恐らく2の条件がクリアできないのだと思いますが、 既に出ているように自身でカスタマイズした方が手っ取り早いと思います。 そんな簡単に言ってくれるなと思われるかもしれませんが、 投票結果を表示している部分はHTMLなので存外簡単です。 例えば、 　print "<tr> <td>$koumoku</td> <td>$hyou</td> <td>$percent</td> </tr>"; みたいな具合のちょっと不思議なHTMLがソース中に紛れ込んでいると思います。 なのでその部分を直接書き換えて、 　print "<tr> <td>$koumoku</td> <td>$percent</td> </tr>"; としてしまえば、表示結果から得票数は削除されます。 最初は失敗してしまうかもしれませんので、バックアップを取ってから行われるといいでしょう。 なおCGIの利用条件に「一切の改変禁止」などがないかもご確認ください。 1（ならびに3）の条件だけならば幾らでも見つかると思いますので、 具体的にどれを利用するかは質問者様のご趣味にお任せいたします。 うまく改造できないのならば別のCGIに乗り換えるというのもありだと思いますよ。
もう少し具体的にしたいことを書いてもらうと、みなさんの意見を伺いやすいと思います。 何かのフォームを作って送られた内容をページに反映したいとか、メールを受け取りたいとか そういう感じで。 設置するだけならば色々なサイトにフリーのCGIもありますのでご希望にあうものを設置するのが よいかと思います。イメージにぴったり合わなければ、自分で改造するのはOKのところが 多いので、イメージに近いものを改造するのがいいと思いますが、そのCGIの中身もある程度 わからないといけないです。 自作するならば、言語の問題もあります。昔はCGIならperlみたいな雰囲気でしたが、 今はperlだけでなくPHPやrubyや色々な言語で作成されている方がおられます。 まずは、言語をある程度決めて、簡単なCGIをサーバーに設置するところからはじめられるのが いいかと思います。「Perl CGI」「PHP CGI」とか検索かけたらたくさんサイト出てきます。 イメージに近いCGIを設置してみるといいと思います。
$hidden_key =~ s/\0/\|/g; ↑これは\0を\|に変更するという正規表現ですので$hidden_keyにしたところは縦棒になるはずです。 $in{$key} =~ s/\0/<br>/g; ↑これは\0を<br>に変更するという正規表現ですので$in{$key}にしたところは改行になるはずです。 縦棒にしたいのは登録＆メール送信データですので、$hidden_keyに（メールの改行は<br>ではありません）、 ブラウザ上で改行したいのは、テンプレートに入るほうですので、テンプレートに入るほうを$in{$key}にします。 メールは<br>では改行になりませんので、$hidden_keyで縦棒にしたデータをいったん送り、 sendmail.plの145行目で↓を追加して縦棒を\n\tに変換しています。 $in{$_} =~ s/\|/\n\t/g; ※\nはテキストの改行コードで、\tはインデント用のタブです。 送信メールで<br>が送られるということはhiddenに$in{$key}を入れている場合ですので、 修正部分の記述ミスか古いデータを上書きしないで使っている可能性があります。 FTP上のファイルをもう一度確認してみましょう。 (1)sendmail.plの145行目前後が、 # 本文内容 my $tmp; if ($in{$_} =~ /\n/) { $tmp = "$_ = \n$in{$_}\n"; } elsif($in{$_} =~ /\|/) { $in{$_} =~ s/\|/\n\t/g; $tmp = "$_ = $in{$_}\n"; } else { $tmp = "$_ = $in{$_}\n"; } になっているかどうか。 (2)preview.plの111行目前後が、 $hidden_key = $in{$key}; $hidden_key =~ s/\0/\|/g; $in{$key} =~ s/\0/<br>/g; $hidden .= qq|<input type="hidden" name="$key" value="$hidden_key" />\n|; になっているかどうか。 一見まったく同じように見えても、実は微妙に違っていたということは、 スクリプトに慣れていても、よくありますので、 エディターソフトの検索機能で検索して、 まったく同じかどうかを再確認してみるのも一つの手です。 スクリプトに慣れるまでは気長に触っていくしかないですが、 くじけずがんばってみましょう。
JavaScriptでチェックする手もあります。 <script type="text/javascript"> <!-- function check() { // パラメータチェック if ( document.form1.param1.checked == false && document.form1.param2.checked == false && document.form1.param3.checked == false && document.form1.param4.checked == false ) { alert("どれか１つは選択して下さい"); return (false); } return true; } // --> </script> 関数check()が送信ボタンが押されたら実行する様にするには、 フォームコントロールを書き換えます。 <INPUT type="button" name="" value="送信" onClick="return check();">
ディスクトップ→デスクトップですね。失礼しました。 他の方も説明されていますが、 Apacheから呼び出されるCGIに関しては、 CUIのツールなら、システムコールの手法で、標準入力や標準出力を Apacheへパイプすることが簡単にできるので、 CUIの出力結果をブラウザに出すことができます。 しかし、GUIのツールに関してはWindowsであればWindowsのAPIを使って 実行しているコンピュータへのグラフィック出力やマウスイベント取り出しなどに引き渡されるので、 ブラウザへ出力を引き渡すためには、それをそのまま、ラッパーして、 グラフィック命令から画面のサイズや作画命令に依存しない汎用的なコマンドに変換し、 それをブラウザ上で組み立てるか、 一旦仮想グラフィック画面に出力しておいて、それをビットストリームのイメージにして ブラウザ上で動画再生させ、 ブラウザ上のマウスやキーボードの動きを仮想グラフィック画面に戻すといったイメージになると　予測されます。 前者の方法が、メタフレーム（WindowsServertとメタフレームサーバーとメタフレームに対応したGUIアプリ） 後者の方法が、リモートデスクトップであると、私は理解しております。
ここら辺りでは。 http://cygwin.com/cygwin-ug-net/ntsec.html
取得したIPを照合用にどこかに吐き出したり、 日付別にログファイルを書き出したり、 ログファイルを参照するモードを追加したり、 いろいろな説明が必要そうなので、 既存のフリーCGIカウンターを参考にしたほうが早そうです。 バグも少ないですし。。 KENT WEBのDay Counter-EXあたりが近いのではないでしょうか。 参考URL http://www.kent-web.com/count/ init.cgiに、IPアドレスの二重カウントチェックのON/OFF機能も確認できました。
まず、htdocsフォルダのユーザ権限を確認してみましょう。 同様に、test.cgiファイルのユーザ権限も確認してみて、実行の許可チェックがなかったら、許可を与えます。 補足として、今後、ファイルの読み書きをさせたい場合も、書き込み・変更の許可チェックをしておかなければ、うまく動作しません。
#1です。 cgiの設定、もしくはcgiソースの書き方(1行目とか)がおかしそうですね。WindowsのApacheについては経験が無いのでどうすればいいかアドバイスできませんが、Apacheのエラーログに何かメッセージが出ているはずです。
そうでしたか、それでしたら、管理番号をhiddenタグで添付しておいて、 フォームデータを読み込み後、その番号に該当する行だけ飛ばしてpushした配列を 新しく上書きしてしまえば、削除できますよね。頑張ってください。
こんな方法でどうでしょう (手順) (1)まず、下記のようなPerlスクリプトをつくり、Webサーバーにアップする。 (2)一定時間ごとにスクリプトが実行されるようにセット。 A. crontabが使える場合 * 6 * * * perl /usr/local/apache/htdocs/test.cgi 1> /dev/null (毎日6時に/usr/local/apache/htdocs/test.cgiを実行) B. crontabが使えない場合 電源入れっぱなしのWindowマシンが用意できるのであれば、 タスクスケジューラをつかって、"start http://www.example.com/test.cgi"を定時に起動。 (ブラウザが立ち上がり、上記URLを表示。メールが送信される) ---------------------------------- test.cgi ---------------------------------- #!/usr/local/bin/perl print "Content-type: text/html\n\n"; $from = 'example@example.com';#メールの差出人 $to = 'example@example.com';#メールの宛先 $subject = "SUBJECT";#メールの件名(英語のみ)。日本語を使う場合は下記URLなど参照 #http://tech.bayashi.net/pdmemo/sendmailbyperl.html $body = "メールの本文"; open(MAIL, "| /usr/lib/sendmail -t"); print MAIL "From: $from\n"; print MAIL "To: $to\n"; print MAIL "subject: $subject\n"; print MAIL "Content-Type: text/plain;\n\n"; print MAIL "$body\n"; close(MAIL); exit; ------------------------------------------------------------------------------
エラーの詳細原因が$!変数に入っているので、これを表示してみたら対策が出来ると思います。
そのスクリプトは、古式ゆかしく文字コードの変換に jcode ライブラリを使用しているので UTF-8 のページには対応できません。 UTF-8 にも対応させる場合には、ユニコードも扱える Jcode や Encode といったモジュールを使って文字コードの変換を行うようにスクリプトを改造する必要があります。 Perl 5.8 以降なら標準で Encode がインストールされておりますので、これを使うのがベストなやり方だと思います。
「CGI+Flash」をよく知らないのですが・・・以下のものですか？ http://plus-code.net/cgi-flash-bbs/perlbbs/ そうだとすると、CGI+Flashに、 BASIC認証に使う.htaccessファイルを生成してくれるという機能があるっぽい。 まずは、Windowsサーバーが、Apacheを使ってるかどうか、確認してください (IISの場合は.htaccessが使えない)。 あとは、CGI+Flashの画面上からBASIC認証の設定をするか、 参考URLを見ながら.htaccessを設置すればアクセス制限できますよ。 参考URL：http://www.shtml.jp/htaccess/basic.html
こんにちは。 ------------------------------------ document.write(' RSSのurlを指定してください ', ''); ------------------------------------ 上記が表示されているということは、cgi自体は動作していると思います。 #use Jcode; を use Jcode; に直した（コメントアウトを外した）後、今度は http://ドメイン/cgi-bin/jsRSS/jsRSS.cgi?url=http://dailynews.yahoo.co.jp/fc/rss.xml でアクセスしてみて下さい。 （ちなみに、上記参照フィードはYahoo!ニュース・トピックスのものです） ------------------------------------ document.write(' ', ' ……… ', ' ', ''); ------------------------------------ のように出力されたら、RSSフィードも問題なく引き渡されているかと。 あと、JcodeはJcode.pmとJcodeフォルダ以外のファイルは必要ありませんが、 それ以外のファイルも一緒にアップロードしてはいませんか？
use Storable qw(nstore retrieve); my @towns = qw(TownA TownB TownC); my $file = 'serialize.dat'; nstore( \@towns, $file ) || die "$file:$!"; @towns = (); my $towns_ref = retrieve($file) || die "$file:$!"; print $_, $/ for @{$towns_ref};
汚いフローですが書いてみました ※　ワードで書いたのでフローというよりは単純な流れ図みたいになってますが 　　イメージだけ伝われば良いのでご愛嬌ということで 添付のようなフローで上手く動くのではないかと思います
HTMLが間違っているけど主題ではないのでスルーします。 　→Another HTML-lint gateway ( http://openlab.ring.gr.jp/k16/htmllint/htmllint. … ) 　それらの一連のページがほとんど同じものなら、HTMLはスクリプトの末尾の__END__の後にテンプレートを置くか、別ファイルにしておくとよいです。 # ここまでスクリプト __END__ <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html lang="ja"> <head> <meta http-equiv="content-type" content="text/html; charset=Shift_JIS"> ・・・【中略】・・・ </head> <body> <h1>title</h1> <!-- subTitle --> <p> 　<img src="sample.jpg" alt="01" width=800px height=600px> </p> <div id="form"> 　<form method="post" action="post.cgi"> ・・・【中略】・・・ </div> </body> </html> 　そのうえで、送られたデータを解析してデータベース(簡単なものなら配列をCSVにでも変換したテキストファイルでもよい)に追記して、テンプレートをパターンマッチを使って要素要素を書き変えて出力するとよい。 　スマートなのは、PATH_INFOやQUERY_STRINGSで渡すとよいでしょう。 action="post.cgi/p2.html"　とか、action="post.cgi?page=2"とか・・
1行目のperlへのパスと編集ファイル、編集ファイルの文字コードの部分を編集、 このCGIも編集ファイルと同じ文字コードで保存する事。 #!/usr/local/bin/perl $file = 'XXX.txt'; # 編集ファイル $code = 'UFT-8'; # 編集ファイルの文字コード read(STDIN, $buff, $ENV{'CONTENT_LENGTH'}); ($name, $value) = split(/=/, $buff); if($name eq 'str') { open(FILE,"> $file") or die("$file open error"); $value =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack("C", hex($1))/eg; $value =~ s/\r\n/\n/g; $value =~ s/\r/\n/g; print FILE $value; close FILE; } else { open(FILE, $file) or die("$file open error"); read FILE,$value,-s $file; close FILE; } print <<___HTML; Content-type: text/html; charset=$code <body> <form method="post"> <p><textarea name="str" cols="128" rows="24">$value</textarea></p> <p><input type="submit" value="更新" /></p> </form> </body> ___HTML
当然 Perl でも javascript でも実装可能ですが ＞エラー表示させるよう改造したいのですが、方法が解りません。 このような質問をされるくらいですから、Perl スクリプトの改造はちょっとハードルが高過ぎると思います。フォームの入力内容をチェックする javascript ライブラリならグーグル先生に聞いてみればたくさんヒットすると思いますので、好みのモノを選べば宜しいかと。 http://www.google.co.jp/search?hl=ja&source=hp&q …
GETはURLで送れるので情報ダダ漏れ。 但しURL文字列になってるのでURLとして1つにできる URLなので文字数の制限が有る POSTはURLとは別なのでダダ漏れには(見た目的に)なってなく、 文字数は余り関係ない 文字ではないので画像とかも扱える 簡単な情報送信やページングのみだったりするものはGETが未だに使われる formのデータやアップロードの場合はPOSTが普通(危惧しているセキュリティの事も有るから)
インストールはできるでしょうが、外部からアクセスするには注意が必要です。 ゲストOSをブリッジモードで動かすことができれば簡単で、何もしなくても外部からアクセスできるでしょう。ゲストOSをNATかホストオンリーの動かす場合は、ホストOSでプロキシかポートフォワードが必要です。
検索すれば、いくらでも見つかるのですがね。 １つだけですが。 参考URL：http://www.synck.com/index.html
「http://127.0.0.1/cgi-bin/print.cgi」を直接ブラウザで表示させるとど～なるのカナ？ もしこれで正常にスクリプトが動くようならフォームを記述した html ファイルへのアクセスが間違っています。 CGI の動作テストをしたいなら、呼び出す html も当然 http 経由で表示させる必要があります。単純にファイルのアイコンをダブルクリックしてブラウザに表示では駄目。 「http://127.0.0.1/cgi-bin/フォームを記述したhtmlファイル名.html」 でアクセスすると幸せ。
かなり惜しいです。 $in{"$key"} = $value; $in{'chikan'} =~ s/\Q$in{'a1'}\E/$in{'a2'}/g; } のところを $in{"$key"} = $value; } $in{'chikan'} =~ s/\Q$in{'a1'}\E/$in{'a2'}/g; にすれば希望の動作になると思います。 foreachの中で処理をするとループ中なので何回も置換処理されます。 １回目 $in{'chikan'}=定義済 $in{'a1'}=未定義 $in{'a2'}=未定義 　結果→a1が未定義のため置換対象がない ２回目 $in{'chikan'}=定義済 $in{'a1'}=定義済 $in{'a2'}=未定義 　結果→a1があるがa2がないのでa1とマッチする部分が削除というのと同じになる ３回目 $in{'chikan'}=定義済 $in{'a1'}=定義済 $in{'a2'}=定義済 　結果→a2が定義されたがchikanは２回目の時点で置換処理が行われたためa1とマッチする文字はすでにない という処理になっていた訳です。
僕の環境では引っかかったので、何か違う理由かもしれませんが、 配列ではない、ということで、\@してみて下さい。 これでもダメだったら、@を.(ピリオド)に変えて下さい。 ピリオドは正規表現で任意の一文字という意味です。
seekを使わない方法で open(DATA,">+ log.csv"); @DATA = <DATA>; print DATA "入れたい内容"; print DATA @DATA; close DATA; ※同じような質問をするのは、できるだけ避けましょう。
pythonはわからないので、アルゴリズムだけですが。 こういう他サイトからデータを取ってくるCGIは、データの取得に時間がかかることが殆どですから、 一定期間、自分のサーバーにキャッシュデータとして保存しておき、それを利用するようにしてはどうでしょうか。 もちろん一定期間が過ぎればキャッシュデータを更新するためにRSS/RDFファイルを取り直す必要がありますので、その時のみ時間がかかってしまいますが。
＞恐れ入りますが、openの成功・失敗の記述方法を教えて頂けないでしょうか？ open(FILE,"filename") || die "I can't open this file"; die 演算子は perl の初歩の初歩。 ＞パスはあっていました。 No.2さんの言う通りだと思うんですが、もう面倒くせぇから相対パスで指定すれば良いんじゃね？
この場での説明は無理なので割愛しますが、 メイルの受信は、「CGIで出きること」を逸脱します。 と思ったら、あるにはあるらしいですね。 私は試してません。 参考URL：http://www.ahref.org/cgi/acmailer/autoreg.html
Google Analyticsで解析をしたらどうでしょうか。 <http://www.google.com/intl/ja_ALL/analytics/#utm … 解析したいページにJavascriptを埋め込むだけです。
追加したプルダウン項目2つのHTMLソースの提示をお願いいたします。 また、CGIでフォームから送信されたデータをどのように処理しているかも 知りたいです。 (フリーの申し込みのフォームを利用されている場合は、それも教えていただければ・・・。)
プログラム的には簡単とはいえ、 unixコマンドとかhttpの予備知識がないとキツいでしょうね・・ とりあえずperlのサンプルです。 ただ書いただけで、動作確認はしてません。 ------------------------ #!/usr/bin/perl my $fn='largefile.flv'; my @ps=`ps ax | grep $fn | grep -v 'grep'`; if(@ps>2){ 　　print "Content-type: text/html\n\n"; 　　print "<html><head></head><body>Overloaded.</body></html>\n"; 　　exit; } print "Content-type: video/flv\n"; print "Content-Disposition: inline; filename="$fn"\n\n"; system("cat $fn"); exit; ------------------------- ・最初の'largefile.flv'は、公開したいストリーミングファイル名に変更して下さい。 　ただし、ファイル名が日本語だと、保存しようとした時に化けます。 　対応するとけっこうタイヘンなんです。詳しくは 　http://cydn.cybozu.co.jp/office/2008/07/post_1.h … ・Content-Typeをprintしている行のvideo/flvは、flv動画の場合です。 　ストリーミングファイルの種類に応じて、変更する必要があります。 　Content-Typeについては、 　「動画 content-type」でぐぐってください。 ・psコマンドについては、 　http://www.garunimo.com/program/linux/linux11.xh … このCGIを<a>タグなり、flashプレイヤーの<object>タグなりの もともとのストリーミングファイルの代わりに指定します。 #前回の回答には「同じCGI名を数える」と書いてましたが、 #cat使ったのでファイル名を数えました。
微妙な規模ですね。たぶんご希望にピッタリというものは難しいかも知れません。 なぜなら、通常は、 ●簡単なオーダーフォーム < ●簡単なカート < ●高機能カート(各種決済 + 会員機能 + メルマガ + ポイント制 + & more～) という感じで拡張機能が追加されていきますので…、 「 (将来も含めて)欲しい機能つきのカートを導入して、商品登録は1つだけにする」という考え方もあります。各機能を個別に導入してつなぎあわせるより管理しやすいはずです。不要な機能は使用しなければよいだけですから。また、もし少しづづいろいろな機能を追加して来られたのでしたら、管理も煩雑になっているかと思いますので、まとめてしまうのも手かと…。 (もしかするとピッタリの回答があるかも知れません。締め切らずにしばらくそのままで…。)
だいたいのCGI可能のレンタルサーバではCGIの外部呼出しは禁止されております。 したがって、そのような使い方は出来ないと考えたほうがよろしいでしょう。 レンタルで商用でも使えるメールフォームを利用してみてはいかがでしょうか？
楽メールProは使ったことないので、 動くかどうかはわかりませんが、 さくらレンタルサーバは使ったことがありますので、 ご参考になれば。 ファイルのアップロード場所は、 FTPでログインした際の初期ディレクトリとします。 絶対パスは「/home/あなたのユーザ名/www/」となります。 そこに、「distribute」というディレクトリをアップロードするわけですから 設定しないといけない絶対パスは「/home/あなたのユーザ名/www/distribute/」と なると思います。 なお、cronの設定ですが、 さくらのサーバ設定画面からでも可能だと思います。
<textarea>タグ内に<table>タグを記述しようなんて、初めて聞きました。 普通は逆なんじゃないですか。www
ページ移動は不要です。 移動させる手もありますが、どちらにしても一旦出力したものを書き換えるのでJavaScriptが必要になります。移動させる場合、直でリンクされてもこまるので、referrer調べたり sessionやcookie等で確認が必要になったり、またはjavaScript有効無効の考慮などかえって面倒になりますよ。 以下移動しないタイプの流れ ---------------------------------------------------------○○.cgi #!/usr/bin/perl $| = 1; #バッファ無効 # 考え方としては、処理の前にとにかく待機中画像までを表示。 # ただし途中まで。htmlは完了させない print "Content-type: text/html\n\n"; print <<EOL; <html><head></head><body> □□□□□□□□□□□□□□□□□□□□□□□□□<br> □□□□□□□□□□□□□□□□□□□□□□□□□<br> <script type="text/javascript"> document.write("<div id='watingDiv'>"); document.write("<img src='クルクル.gif'>ただいま処理中です。"); document.write("</div>"); </script> EOL # 時間のかかる本処理～ sleep 5; # 本処理が完了次第、JavaScriptで待機中divを消す print <<EOL; <script type="text/javascript"> document.getElementById('watingDiv').style.display='none'; </script> 処理が終わりました。<br> </body></html> EOL exit; --------------------------------------------------------------- ※□□□～はIE対策。(バイト数が少ないと勝手にバッファしてしまう) 　もろちん削除してかまいません。 ※移動がよければ、最後にdivを消すのではなく、 　location.href='完了ページ'; 等で飛ばしてやればよいでしょう。
No1の回答をしたものですが、誤解がありましたようです。 申し訳ありませんが訂正させていただきます。 サーバ側の文字コードがどのようであっても、 次の設定変更をしてEUCコードでファイル転送すれば 表示可能となると思います。 # 出力コード (euc / sjis) $output_code = 'sjis'; ↓ $output_code = 'euc'; OSがShift-JISであればファイルをShift-JISにすれば 文字化け解消と簡単に思っていましたが、 perlのスクリプトはperl本体のバージョン等の問題で Shift-JISの特定文字列に文字化けが起こることがあるようです。 (WinXP ActivePerl5.10 + apache2.2で検証) なのでこのCGIの作者は、EUC固定を想定してプログラム作成したのでしょう。 短慮の回答を重ねてお詫びします。
■識別用のクエリを付加する方法 あまり難しく考える必要はないですよ。index.htmlでアクセス元を調べていますよね。その時もし、 ・referrerが空で ・かつ from=Success が付いていれば 「認証OK」のページから飛んできた、 と判定するわけです。 もちろんクエリは from=Success に限らず、?referrer=http://認証OKページURL でも何でもご自分で分かりやすいものでかまいません。 ■専用ページに飛ばす方法 これも上と同じです。専用のindex2.htmlに来たものは、http://認証OKページURL から来たものと判定できますので 適宜処理をしてindex.htmlへ飛ばします。この時はRefreshで飛ばしても、すでに処理ずみですのでreffererが空でも構わないわけです。 適宜処理、というのはCookieを発行するなどで index.htmlでも判別できるようにする、ということです。 ■ついでに 例えばこの認証OKページに <img src='http://example.com/img.php'> などとして、単なるgifやjpgではなく、別のサイトに置いたプログラムで画像を出力してやります。このときクッキーやセッションを発行すれば、example.comの方で判定でるわけです。 あるいは直接 この認証ページから <script language="JavaScript" src="http://example.com/○○○.js"></script> としてJavaScriptで処理してもよいでしょう。 このOKwaveさんでも様々なサイトのクッキーが発行されていますよ。一度クッキーの設定を IEなら[ダイアログを表示する]に設定するとよく分かります。 でも単純な方法が一番ですね。やっぱり。 上記の方法は回りくどくてあまり学習する価値ないかもです。
前者はサーバサイドでwordなりexcelなりを生成して送り返してるやりかただね。 (pdf作成サイトとかと仕掛けは一緒) これはwordやexcelの書類形式が(バイナリ的に)どうなってるか知らないとできない。(最近のはxml形式みたいだからどうにかなる気がする) 後者は、textがユーザローカルの場合無理。formのfileでサーバ側に一度uploadしてもらいサーバサイドで処理して埋め込むなりクッキーにするなり。(通常は埋め込む) textというのがサーバ側のならjavascriptかクッキーで橋渡しが楽だと思う。
　refreshの場合は、それを受け取ったブラウザは、HTTP要求ヘッダ内にrefererを含めません。含んではならない。refererは能動的に参照するという意味があるからですね。したがってサーバーの環境変数HTTP_REFERERには値が入ってこない。 　したがって他の手段を用いる必要があります。良く使われる方法は ・Cookie　 　いわゆるtracking Cookieですが、この場合セキュリティソフトで消される場合がある。 ・Web ビーコン 　ジャンプ先のサーバーで画像を出力させる。セキュリティを高レベルにしていると、表示しているページのドメインと異なる場所の画像は読み込まない場合もある。 　手法については 　　　下記の様に、単一の画像ファイル「a.jpg」を呼び出して、 - CGI - 教えて！goo 　　　　( http://oshiete.goo.ne.jp/qa/5901567.html ) ・PATH_INFOやQUERY_STRINGSなどに含めて、refere先のサーバーで処理する。 　私は、この3つを併用しています。最後の方法については、 ・DirectoryIndexで、index.cgiを表示させるようにするか、index.htmlをCGIとして動作させる、あるいはindex.phpを使い、 　<meta http-equiv="Refresh" content="5;URL=www.abc.com/hoge.com/"> 　<meta http-equiv="Refresh" content="5;URL=www.abc.com?hoge.com"> のようにする。 　処理後直ちにページを閉じた場合なども含めて確実に補足するには、3つを併用するとよい。
Movable Typeではどうでしょう。sqliteが使えます。
メール送信フォームのHTMLで、フォームの提出先がHTML自身になってませんか？ ＞直接CGIから実行せず、htmlからメールフォームを表示して。 ・・・【中略】・・・ ＞アルファメールでは「700」が推進とあったので700にしてみたら ＞　　sendmail.htmすら、動かず、755に変更しました ・・・【中略】・・・ ＞送信ボタンを押すとエラーになります ＞　　「　internal Server Error　」 　以上から想像できるのは、 ・HTMLの他人権限がＯだと動かないけど、ソースがそのまま表示されるのをブラウザ(たぶんIE)は拡張子で判断して表示させている。標準的なブラウザだと、text/plainでおられてきたデータはテキストで表示されるので、そこで気がつく。 ・HTMLを実行プログラムとして実行しようとしてエラーになる。 　HTML内の<form action="[パス]sendmail.cgi" method="post">にすると良いはずでか。 　本来は、HTMLもCGIから出力させる方が良いです。スクリプトの __END__ 　以降にそのままHTMLのソースを記述して、 while(<DATA>{print;} 　とか・・
sqliteは、たしか、データベースではなく、ファイルだったと思います。
ここら辺が参考になるでしょう。 http://www.apache.jp/manual/howto/htaccess.html
基本的にWindows環境だと ・パーミッション ・ファイルロック など一部機能に関してのテストはできません。
基本的にhttpサービスが作動していないのではないでしょうか。 MacOSのファイアーウォールか、ApacheなどのWebサーバの設定を確かめて、 index.htmlの表示から再確認したらどうでしょうか。
アンケート　レンタル のキーワードでググってみましょう。 参考URL：http://www.google.co.jp/search?sourceid=navclien …
後ひと頑張りですね。 あなたのスキルは想像できますから、具体的なソースは書きませんが、サイズは$ENV{'QUERY_STRINGS'}を使います。 　指定方法は、紹介した(使用例)サイトの下の方に書いてあります。 　それをPerl CGIで解析して利用する方法は、PATH_INFOよりふんだんに情報があるので探せるでしょう。 <img src="[CGIへのパス][ファイル名]?width=100&height=100"> 　widthだけでなく、wやWIDTHなどでも指定できるようにするとよいでしょう。 なおサイズ変更は、 convertを使うほうが楽です。 convert a.jpg -resize 100x100 b.jpg; これで、100×100に収まるように、縦横比を変えずに縮小/拡大してくれます。
HTMLはともかく、CGIとしてはもちろん可能です。 その場合、通常は #!/usr/local/bin/perl use strict; use warnings; my $fileName = $ENV{'PATH_INFO'}; my $view = './images'.$fileName; my $extention; if( $fileName =~/.+\.(\w+)/){$extention = $1;} print "Content-type: image/$extention\n\n"; open IMG,"$view"; binmode IMG; binmode STDOUT; while(<IMG>){ print; } close IMG; __END__ かな。CGIのあるディレクトリにある/imagesフォルダー内のファイルを開きます。拡張子は何でもよい。 　アクセスはこのCGI名がimage.cgiだとすると、 <IMG src="image.cgi/abc.jpg" border="0"> 　となります。 ★サイズを調整するなら、サーバーにperlMagick、imageMagickが必要です。これがあると、imageMagickはPhotoShop程度の機能を持つ画像処理ソフトですから、ファイル形式を変換したりサイズを調整したり、色を変えたり画像を回転させたり、枠をつけたり、複数の画像を連結したりと様々な処理ができます。 【参考サイト】 ImageMagick - FSWikiLite 　 http://tuka.s12.xrea.com/index.xcg?p=ImageMagick … ImageMagick 　 http://mechanics.civil.tohoku.ac.jp/soft/node43. … Imagemagickの使い方 　 http://vision.kuee.kyoto-u.ac.jp/~nob/doc/imagem … 48. ImageMagickで簡単に画像処理 - PHP TIPS：ITpro 　 http://itpro.nikkeibp.co.jp/article/COLUMN/20070 … 使用例) Lacoocan用アクセスカウンター(LaCounter.cgi)：マニュアル ( http://iruka.la.coocan.jp/cgi/counter/LaCounter. … )
<a href="javascript:toi(問い合わせ番号)" target="_blank"> <img src="問い合わせボタンの画像.gif"> </a> <script> function toi(num) { location.href = "https://www.自分のサイト/FS-APL/FS-Form/form.cgi?Code=otoiawase&" + num; } </script> 例えばこのようにすると、クリックしてJavaScriptを呼び出します。そのときに問い合わせ番号も一緒に送ります。 スクリプトtoi()では、URLを呼び出すときに問い合わせ番号（num）をURLに取り付けています。（この部分はCGIに合わせて変更） otoiawase　の後ろに&があるのは、CGIが受信したデータを切り分ける目印です。（任意に変更可能）
その文字列は、perlのプログラムソースに　ダブルクォートで括って、記述しているのでしょうか？ perl では、 @example は配列なので、ダブルクォートで括って変数展開してしまうと、存在しない配列として空文字列に置換され、@とそれに続く記号以外の文字は消えます。 シングルクォートで括れば、@配列の変数展開はされません。
HTMLのformには、メールを送る機能は定義されていませんので、CGIを利用することになります。(ブラウザの機能として持っているものもありますが、問題が多すぎて使いません) 【引用】＿＿＿＿＿＿＿＿＿＿＿＿ここから HTTPスキームURI以外の値の場合のユーザエージェントの動作は、定義しない。 ￣￣￣￣￣￣￣￣￣￣￣￣￣ここまで［Forms in HTML documents (ja)( http://www.asahi-net.or.jp/%7Esd5a-ucd/rec-html4 … )］より 　メールフォームから送信されたデータを処理するCGIは沢山配布されていて、それ自体は最も簡単な部類に属しますから、自分で加工するのが良いです。一応、どのような処理が行われているかというと 1) 受け取ったデータのエラーチェック 2) インターネットメールの仕様に合わせてデータ変形 　一行の文字数、文字コードなど 3) MTA(メール配信エージェント--sendmailかpmayl)を呼び出してデーターを渡す ※いくつかのセキュリティ対策がされています。 　SPAMの踏み台にされないため 　複数の配信先に送信するときは、単純に宛先で区切ってMTAに渡せばよいです。(sendmail) 　固定した複数のアドレスに配信させるときは、フォームにはアドレスを書かず、CGI側で処理してください。具体的には<select multiple name="to" name="To"><option value="A">総務課<option value="B">企画</form>とか、もちろんcheckboxでもよい 　CGI側では、if ($FORM{'To'} eq 'A'){push @To,$ADDRESS{'A'};}elsif{*******}とか
配布元はそれぞれの名前をキーワードにして検索して下さい。 CMSとして--- Wordpress MovableType Nucleus CMS ブログとして--- ぶろぐんぷらす Drupal 日記CGIとして--- Nicky tDiary
すいません if($sCT gt $sST){ $sRet = 1; } の同じ部分もうひとつ間違え 本当は if($sCT lt $sDate){ $sRet = 1; } になります 何度も申し訳ありません。
conf.htmlとpostmail.htmlの設置階層は異なっていますが conf.htmlなどのcssファイルへのパスは、postmail.htmlと同じにするはずです。 （かなり前に使用していたので変わっているかも知れませんが）
> データの送信元のＨＴＭＬがUTF-8ならば、一旦cgi-lib.plで > デコードされた文字も私が使っているコードのままでUTF-8に > 再エンコードされるということでしょうか？ そのとおりです。 ただ、例外としてformにaccept-charsetを指定するなど 送信する際の文字コードを別途指定した場合はそれに従います。 EncodeもCGIもこれまでのライブラリーと同じように使えるようにする書き方と オブジェクト指向っぽくする書き方の両方ができるのでいろいろと試してみると 面白いと思います。検索するとドキュメントもかなり豊富ですよ。
いろんなケースがありますが ・PerlのスクリプトがShift_JIS以外のコードで書かれていて、出力時にShift_JISに変換するような仕掛けが無いとき ・スクリプトがShift_JISで書かれていて、いわゆる「ダメ文字」対策がされていなかったとき ・(記述してある位置が違う、ブラウザが対応していない、など)charset=shift_jisが上手く解釈されなかったとき ・上に加えて、自動判定に失敗したとき ・ブラウザの設定の方が優先されたとき あたりが頻度の高いものではないでしょうか
"と"の間とか、'と'の間とかは文字列として解釈します。 ""には変数や?の展開とかは行われますが、それ以外は書かれた文字がそのまま内容になります。 #は#という文字になり、コメントにはなりません。 コメントと「誤認識」されるのは、 引用符無しの文字列を書いたときや 引用符の対応がとれてなく、文字列の外になっているときです。
type=hidden かな
Yahoo!ジオプラスは特殊なようですね。 メール送信元の設定が必要なようですけど http://www.google.co.jp/search?hl=ja&source=hp&q …
「CGI」で検索すると幾らでもヒットしますよ。 例えば CGI　 【Common Gateway Interface】 http://e-words.jp/w/CGI.html 「Common Gateway Interface」 http://ja.wikipedia.org/wiki/Common_Gateway_Inte …
ID登録するタイプの掲示板のCGIに削除部分だけ作り込むのが簡単かもしれません。 ログにIDが残っているのだから、削除ボタンを押したら（確認画面はJavaScriptで作る）ログを全部検索して該当個所を消せばいいだけですし。 大抵は１行ごとに書込内容がログとして保存されているので、該当行を読み飛ばして新しいファイルに上書きします。
自分でカスタマイズするしかないんじゃないかな。 http://wws.cside.com/cgi-plant/bbs/ こーゆーのとか。 画像はimgタグのwidth,hightを調整するだけで実際に小さい画像を作る機能はないみたい。
メールを読み取るにはcronで定期的にスクリプトを実行してメールサーバからメールを読み取るか、 メール到着時に.forwardでメールをスクリプトに渡す方法が考えられます。（前者はあまり現実的ではなさそうだけど） php/CGI実行可能なサーバであってもこの仕組みを入れる事ができるサーバは限られていますのでまずはそこを確認。 実行できるレンタルサーバは少ないので配布されているものは多くないようです。（軽く検索したけど見つからなかった） メールではなくwebページにアクセスしてもらう事になるけど http://wws.cside.com/cgi-plant/p_edit/ こういうCGIもあります。
そのページは、トップページですか？ 　トップページの場合、ご利用のサーバーの設定でindex.htmlがないとき、index.cgiが表示されますか？ #!/usr/local/bin/perl print "content-type=text/html\n\n"; print q^<html><body>テスト</body></html>^; で確認するとよい。 　もしできなければ、自分ないしサーバー管理者に設定してもらう。 ★他のファイルなら、そのままCGIを置く。 基本的には同じ #!/usr/local/bin/perl print "content-type=text/html; charset=Shift_JIS\n\n"; print q^<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> ・・・【中略】・・・ </head> <body> ・・・【中略】・・・ </div> <ul>\n^; #ここからスクリプト my @list='<a href="****">なんたらかんたら</a>',・・・'; リストの数分、乱数作成 foreach(@list){ランダムに表示} print q^</ul> 以下HTML残りの部分^;
できません。 もしそれができたら、ユーザーのクリップボードにあるデータを、<input type="hidden" name="userClip">とかで入手されてしまう。 あくまで相手側の処理に任せるべきです。
通常、アクセス解析などではimgタグなどでcgiを呼び出すので単なるhtmlでも問題ありません。 cgiが使われるは動的なデータを表示する必要がある場合が多いです。 例えばデータベースなどからデータを読み込む必要があるページなどです。 このQ&Aサイトもデータベースとデータを読み出すPHPで構成されいます。 ホームページ全体がwiki風だったりブログ風になっていて簡単に記事やページの作成が出来るようにCGIを使用している場合もあります。 categoryやpegeなどの引数があるようなのでおそらくブログCGIなどで簡単に記事の追加や編集ができるようになっているのでしょう。 製作会社しかしらない管理ページがあり、そこから更新が簡単に出来るようになっているんだと思いますよ。
ご質問のページのようにJavaScriptだけで作ることができますが、どうしてもCGIやPHPなどのサーバサイド・スクリプトを使わなければいけませんか？ サーバサイド・スクリプトを使う方が、遅くなりますし、サーバに多少なりとも負荷がかかり、デメリットの方が大きいと思うのですが。 ご確認ください。
　nameが同じデータをハッシュに入れると、上書きされてしまいますから、順次、配列(リスト)に入れるか、$hash{'hoge'} .= $data;とつなげていくかしないとだめです。 　スクリプトはちらっと拝見しましたが、その部分ではなく受け取ったデータの格納部分の変更が必要です。
Yomi-Search　ver4.22の場合 regist_ys.cgiのオリジナル211行目に <select name=Fkt$kt_no size=7>という箇所があります。 ここのsize=7の7を希望行数に指定すれば可能だと思います。 挑戦してみてください。 間違っていたらごめんなさい。
Windowsをお使いならばコマンドプロンプトでパーミッションの変更を試してみてください パーミッションの変更は quote site chmod (パーミッションの値) (変更したいファイル名) です。 成功すると、「CHMOD command successful.」云々というメッセージが返ってきます。 　 　これでも属性が変わらないようであれば、おそらくサーバー側で何らかの制限(変更できないディレクトリのファイルを変更しようとした等)があるかもしれません。 　 参考URL：http://www.urban.ne.jp/tech/dosftp/index.html
改行の入っていそうな場所に↓(下矢印)が表示されているのなら、改行コードの違いです。 サーバーではlinux等のunix系のOSが使われることが多いのですが、その改行コードはLF(0xA)の1バイトです。 対して、Windowsの改行コードはCR+LF(0xD 0xA)の2バイトで改行を表します。 大抵のテキストエディタでは、これらを自動判別し、どれでも「改行」するのですが、メモ帳はWindows用のCR+LFしか改行とは考えてくれません。 ・改行文字修正ツールでWindows用のCRLF形式へ変換する という方法もありますが、CGIのプログラミングをするのなら、 ・低機能なメモ帳をやめて、他のテキストエディタに乗り換える のが良いでしょう。
そのチャットを試したわけじゃないけど紹介記事には「Ajaxを利用しており」って書いてありますね。 http://gigazine.net/index.php?/news/comments/200 … 単純に内部的に定期リロードしてるのか・・・うまく作れば他者の発言に合わせて非同期でロードもできるのかな。 http://www.google.com/search?q=chat+ajax+perl&lr …
ＦＣ２はcgi禁止だったと思いますよ。ＦＣ２で配布されているテンプレートしか使えなかったと思います。
http://www.netdeoshigoto.com/nso_support/2008/02 … 最低限 FAQ くらいは目を通してから質問するべきだと思うんだ
basic認証は、ディレクトリー毎なので、プログラムを分ける必要があります。つまり、そのままでは、無理ということ。 プログラムの改造が出来るなら、アクセスカウンターのログ取り用 画像のみ出力(非認証ディレクトリーに置く)と、解析結果表示用(認証ディレクトリーに置く)に分ければ、.htaccess対策は不要。 改造が出来ない場合でも、解析時に付けるクエリに決まった書式があるなら、 認証エリアと非認証エリアの２カ所に同じプログラムを置いて、 まず、非認証エリアのプログラム呼び出しして、そこの　.htaccess で解析用クエリが入っていたら、認証エリアのプログラムにとばす(modrewriteなど利用)とか出来そうな気もするけど。 結局、クエリ書式を追加のためのプログラム改造が必要になりそう。
イエスノーチャート と呼んだりもします。 この形式が出来る、とは「作成できる」の意ですか？ それとも「プレイ出来る」の意ですか？
どの程度の発行数を考えてらっしゃるのですか？ 相当量(100通とか)を越すなら、fmlできちんと管理すべきだと思います。 　購読者の追加や、削除も管理者がfmlにコマンドをメールで送るだけでできたり、受信者からのコマンド返信によって購読の停止とか、過去マガジンの再発行とか、さまざまなメールマガジンに必要な機能が設定できます。 　 fml メールマガジン - Google 検索 ( http://www.google.co.jp/search?hl=ja&source=hp&q … ) で参考になる情報はたくさん出てくると思います。 参考書も Amazon.co.jp： fmlメーリングリスト管理: 梅垣 まさひろ, 寺村 綾子: 本 ( http://www.amazon.co.jp/fml%E3%83%A1%E3%83%BC%E3 … ) Amazon.co.jp： fmlバイブル: 深町 賢一: 本 ( http://www.amazon.co.jp/fml%E3%83%90%E3%82%A4%E3 … ) とか。 　サーバーにログインしてインストールできない場合も、ローカルで展開して転送することでインストールできたはず。 　それらが難しいなら、freeMLゃgoogleグループのようなサービスも検討体仕様にした方がよいような気がします。 freeml - 無料で簡単！携帯対応！メーリングリストを楽しもう！ ( http://www.freeml.com/ ) 　　広告は入るが高機能 Google グループ ( http://groups.google.co.jp/grphp?hl=ja ) 　　広告は入らないが、他の機能が充実 Yahoo!グループ - 無料でメーリングリストを作成 ( http://groups.yahoo.co.jp/ ) 　いずれにしても、メールマガジンで探されるより、メーリングリストをキーワードにして探す方が見つかりやすいです。メールマガジンは管理者(投稿権限者)が一人ないしごく少数という設定が違うだけですから。 　私は、随分前(2年前)にfmlでメールマガジンを作成して、それっきりインストールなど詳しいことは記憶のかなたですが、ちゃんと動いています。一カ月程度四苦八苦(^^)記憶が・・・。次から次へ挑戦するけど、カタがついたらすぐ忘れてしまうたちなので申し訳ない。
＞初期設定からルートフォルダやcgiファイルのフォルダは変更したほうが良いのでしょうか？ 　私は、G:ドライブに、CYGWINとともにインストールしています。hostsは 127.0.0.1 ****.local *****.ne.jp.local *****.com.local local.host 　のようにローカル用のバーチャルホストを指定。 　apachehttpd.confで <VIRTUALHOST 127.0.0.1> DocumentRoot "/home/" ServerName localhost ServerAdmin webmaster@hoge.com AddHandler server-parsed .shtml Options All +Includes +ExecCGI ErrorLog logs/webtest_error_log CustomLog logs/webtest_access_log common </VIRTUALHOST> など、管理しているいくつかのサーバーのローカル版を設定。 　その他、apacheの細かい設定はたくさんあります。参考書をどうぞ 添付は、CygwinのシェルからG:ドライブの ls -l をしたところ。
＞この場合下記のタグをhtmlに添付するだけでいいのでしょうか？ セレクトタグなどはhtmlに添付させてもプログラム自体には、何ら支障も影響もありませんよ。 セレクトタグのようにhtmlから直接呼び出すものはcgiのプログラミングとは無関係ですね。
？？？ 見たままじゃないの？ 例えばサブジェクトを変更したいならば %PgdMailFormConfig::mail_subject = ( 'default' => 'メールフォーム', ); 「メールフォーム」って書いてある場所を好きに書き換える。 ただそれだけの話ですよ？ スカラー変数を使わずに直接サブルーチンに突っ込むのが解りづらいのでしょうか？ 一応書き換える例として、「こんにちは」というサブジェクトのメールを送信したいのならば %PgdMailFormConfig::mail_subject = ( 'default' => 'こんにちは', ); こう書くですよ。 そしてサブジェクトの設定よりも下には CC（カーボンコピー）、BCC（ブラインドカーボンコピー）、及び自動返信に関する設定ですから、必要があれば設定すれば良いでしょう（その際には # を削除する事を忘れない事。これ大事） まぁ単純に一箇所にメールを送るだけならばどれも必要の無い設定ですので、あまり気にしなくても良いと思います。 というよりそもそもあなたの提示するソースの箇所は、全く変更しなくてもとりあえずメール送信に支障をきたさない設定ばかりです。 もっと大事な設定を行う場所がある筈なのですが・・・ 宛先（ To ）の設定とか、メール送信に関する設定（sendmail コマンドを使うならコマンドパスとか、Net::SMTP を使うなら SMTP サーバーに関する設定とか）など、これを間違えたらメール送信できませんって感じの重要な設定が。 そっちの方は大丈夫なのでしょうか？
perl(CGI)なら「stat関数」でファイルの各種情報を収得出来ます。 my @fileStat = stat $fileName; ～以上の例文で「@fileStat」に情報が配列として格納されます。 必要なファイル情報を「$fileStat[n]」の形で参照し、並べ替えなどの処理を行って下さい。 複数のファイルに適用する場合は、 $i = 0; $DIR = "フォルダのURL"; opendir(DIR,"$DIR"); my @lines = readdir(DIR); closedir(DIR); foreach $line(@lines){ 　$list[i] = (stat("$DIR/$line"))[9]; 　$i++; } @list = sort{ (split(/\,/,$a))[1] <=> (split(/\,/,$b))[1] }@list; @list = reverse(@list); ～上記の構文でOKかなかな？？ perlを触るのが4～5年ぶりなんで、間違ってるかも…。これを土台に適宜修正して使って下さい。 何の事かさっぱりと言うのであれば。潔く諦める事もGeek道には必要です(笑)！
え・・・っ Can't locate pkLab.pm　→「pkLab.pmを見つけられません」 と明確に書かれているけど、それ以上は神様でも分かりません。 あなたしか分からない。 探し場所が違う 探し場所を指定していない そもそもない ・・・・・・ ・・・・・・
一度投稿した記事の編集は edit_log.pl 内の edit_log というサブルーチンで行っているみたいです。 このサブルーチンの適当なところ（めんどくさいので exit の寸前くらい）で sndmail というサブルーチンを実行することで実現できませんか？ （スクリプトをザっと眺めただけですので動作は未確認） &sendmail if ($mailing == 2); # ←こんな感じに exit; }
で、ですから ＞(#CHK:$moji[$CP{'mcnt'}])と変更したのですが、 シャープ（ # ）を使っているってことは、もはやコレはスクリプト内じゃないですよね？出力された後だと思われます（SSI か何かなのでしょうか？） さすがに出力後の HTML に直接スカラー変数をねじ込もうとしてもそれは無理な相談ってものです。 スクリプトが $CP{'mcnt'} （ mcnt に非ず）を吐き出す箇所にて $moji[$CP{'mcnt'}] を使用してください。
子プロセスがレスポンスを返して、親より先に死ぬようにしたほうがよいと思います。 また、レスポンスを返さないほうのプロセスは先にSTDOUTをcloseした方が良いでしょう。 以下perlですが、やることはほぼ同じだと思います。(半角スペースを全角にしてます。) #!/usr/bin/perl use strict; use warnings; use utf8; use CGI; use CGI::Carp qw(fatalsToBrowser); use CGI::Pretty; if ( my $pid = fork ) { 　　# Parent 　　# Close STDOUT 　　close STDOUT; 　　# Do heavy work 　　sleep 10; 　　my $file = '/tmp/tmp3.txt'; 　　open my $fh, '>', $file or die "$!:$file"; 　　print $fh "Hello CGI. I'm parent\n"; 　　close $fh or die "$!:$file"; 　　# Wait to finish child for safe 　　wait; } elsif ( defined $pid ) { 　　# Child 　　# HTTP Response 　　my $q = CGI->new(); 　　print $q->header( -charset => 'UTF-8' ); 　　print $q->start_html( 　　　　-lang　=> 'ja', 　　　　-title => ' T I T L E ' 　　); 　　print $q->p("Hello CGI. I'm child"); 　　print $q->end_html; }
> 「名前」しかメールに記載されていない状態です。 html を見たところ、タグに名前がついていません。 フォームの入力部分、3つの項目について (略) <INPUT type="text" name="" size="30" value=""> (略) <INPUT type="text" name="" size="30" value=""> (略) <TEXTAREA name="" rows="6" cols="73"></TEXTAREA> (略) とった表記がありますが、どれも name が空のままです。 <INPUT type="text" name="email" size="30" value=""> (略) <INPUT type="text" name="name" size="30" value=""> (略) <TEXTAREA name="message" rows="6" cols="73"></TEXTAREA> といった感じで、name を入れてください。
＞どのファイルがどの属性なのかがよく分かりません。 全て配布元のサイトに書いてあるような気がします http://www.kent-web.com/cart/cart.html
#3です。 ＞ 肝心の「入力状態のHTML」をそのまま受け取るにはどうしたらいいのでしょう？ ダウンロードして試してみられたのでしたら、管理ページの「データ参照」画面を開いて、参照したい日付とフォームを選択して受信データ一覧を表示します。 その一覧の「入力状態のHTML」を参照したいデータの日付をクリックすると、入力された状態のフォームが表示されます。
　エラーにならなくて、素のテキストで表示されるということは、そのディレクトリではCGIとして動作していないということです。 ・・・その場合、古いシステムではサーバーはテキストファイルとして送り返すのがデフォルトの場合が多い・・・ 　ですから、ご利用のサービスのマニュアルを読んでください。 　また、.htaccessファイルで、その設定を上書きできるかもしれません。それも確認すること。 　いずれも、ここで聞いてもわからない内容です。
>メモ帳を使って作成した数行を挿入して保存→500エラーが出たので、その数行を削除し保存（その数行以外はそのまま修正してません）。 修正手順の説明が足りません。 サーバーの中でメモ帳は使えないので、Windowsマシンにダウンロードして修正を行ったのでありませんか？ その場合、以下の可能性があります。 ・テキストファイルとして保存してアップロードしてしまった ・文字コードを変更してしまった また、アップロードの際に間違いをしたなら、 ・ファイルのアップロード先を間違えた ・パーミッションを変更してしまった >数行以外の修正してないところも、勝手に書き換えられることもあるのでしょうか？？ 勝手には書き換えられません。 質問者殿が何かを変更したはずです。
getenv()を使います。 CGIが起動したとき、サーバーから送られたデータも環境変数に入ってますから、それを呼び出して使います。 　簡単な例は C言語でCGI ( http://pub.cozmixng.org/~rwiki/index.rb?cmd=view … ) 　の中ほどに、 環境変数のおもなものは Enviroment Variable and FORM,COOKIE ( http://hpcgi1.nifty.com/Iruka/ENV_FORM.cgi ) 詳細は CGIプログラムに渡す環境変数 ( http://www.hitachi.co.jp/Prod/comp/soft1/manual/ … ) 　とか
直感での即答。回答間違い＆不足分あったらごめんなさい。 （誤）$mail_mes=$mail_name."様\nお問合せありがとうございました。以下の内容を受け付けました。\n".$toi; （正？）$mail_mes=$mail_name."様\nお問合せありがとうございました。以下の内容を受け付けました。\n".$toiawase; なのでは？（後半の変数誤り） メールの本文に問い合わせ内容が連結されていないようです。
お礼ありがとうございました。 まず、確認として http：//www.xxx.com/user/cgi-bin/test.cgi といった感じで、404エラーとならないような、URLを見つけます。 「送信」ボタンにそのURLを書いても動作するのではなかったでしたっけ？ また、もしHTMLとCGIを入れるフォルダーが同列に並んでいた場合、 HTML内のフォルダーからは "../cgi-bin/test.cgi" といった感じでアクセスできます。（相対パス指定） ".."が１つ上位のフォルダーへ移動するという意味です。 これは、Windowsでもまったく同じ考えなので、たとえばエクスプローラのアドレス箇所に相対パスを入れてみて考え方を確認してもいいでしょう。
HTMLの先頭に、 <html> <head> <title>....</title> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> </head> と言うのがあれば、 <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> のutf-8とか言うところを、HTML自身のエンコード形式にしてください。 ないなら追加してください。 コードをUTF-8で書いているなら上のまま（小文字です）。 Windowsのメモ帳とかで作っているなら、 <meta http-equiv="Content-Type" content="text/html; charset=shift_jis" /> です。shift_jis は全て小文字で書いてくださいね。_ はアンダーラインです。 あと、サーバーは大抵EUC-JPだったりもします。本来はサーバーにあわせるのがベターです。 日本語は文字種が多様なので現在はUTF-8が主流です。この部分はブラウザとCGIプログラムが識別する部分なのですが、ブラウザはほとんどのエンコードに対応しているので、CGIが解析するエンコード形式にあわせてください。
http://kirishima.cc/patio/ 改造版をお使いください。
>それ以外のファイルを他においています。 原因はどう考えてもコレ >cgiしか入れられないので、 これってHTMLや画像ファイルがNGって事ですよね？ スタイルシートも駄目なのだろうか・・・？ とりあえずスタイルシート（uploader.css）以外のファイルを同一ディレクトリにアップして様子を見てみましょう。それで多分動くと思います。 動いたら uploader.cgi のソースを検索して、HTMLのヘッダ部分の（多分）ヒアドキュメントを探し、スタイルシートへのパスを変更すれば完了。
IE8は、HTMLのフォーマット形式が変わりました。 基本的には XML1.1 形式に全て準拠してください。 Googleのクローラもそうなんですが、タグの入れ違いも間違いないようにします。 IE7だと以下はOKですが、 <b><a href="...">...</b></a> IE8は <b><a href="...">...</a></b> です。 また、<b>はそのままでもよいですが、<strong>が望ましい。 imgタグなどは、XML みたいに <img src="..." /> で閉じるようにします。 <a href=/web/pub/link/> のようなものも <a href="/web/pub/link/"> にしてください。 <font>等のタグも、<span style="font-...">にするとかです。 <div></DiV>みたいなものも前はOKでしたが、統一しないとダメです。 HTMLの先頭に、<!DOC-TYPE ...> みたいなのも入れるようにしてください。 万人向けではないですが、自分が見るだけだったら、IE8の開発者ツール(F12)というのでIE8互換モードとかIE7互換とかがあるのでIE7にしておくとよいです。
#$sendmail = 'usr/bin/sendmail'; のコメントアウト#をはずしたの？？ 　サーバーのマニュアルからsendmailの場所を確認すること sendmailのパスを確認 sendmailへの出力を標準準入力に出力してみる。 　いずれにしてもマニュアルには書いてあるはず
それはまったく正常ですよ。 QUERY_STRINGで値を渡すときは、URLに使えない文字はURLエンコードしなければなりませんので、 mode=find&word　という文字列は、mode%3Dfind%26word になるのが正しい動作です。 　ためしに、googleで検索欄に、mode=find&word　と入れれば、q=mode%3Dfind%26word という文字がURL欄にあるはず。 QUERY_STRING が、patio.cgi?mode=find&word=であって欲しいなら・・・逆に考えるのはおかしいが・・・・ [name]=[value]&[name]=[value]となるためには mode="find" word="" ですから、 <input type="hidden" name="mode" value="find"> <input type="text" name="word" value="" size="25"> とかになります。 　なお、QUERY_STRINGでデータ保渡す場合、 <FORM action="patio.cgi?" method="get"> ではなくて、 <FORM action="patio.cgi" method="get"> です。標準入力で渡すなら <FORM action="patio.cgi?" method="post"> です。
直接の回答ではありませんが、こんなサービスを使ったほうが早いのでは？ http://kanji.kodama.com/ http://www.densuke.biz/
画像の文字が見えません。 幅420px、高さ314pxでjpegで作成して示してください。
追記。 ＞print "<H2 align=\"center\">アンケートにご協力誠にありがとうございました！</H2>\n"; このprint文は、何を出力しますか？ <H2 align="center">アンケートにご協力誠にありがとうございました！</H2>＋「改行」 を出力しますね？ この時「"center"」を出力している部分は「\"center\"」になっていますね？ これが「"をエスケープしている部分」です。 「center」の両端の「"」は「文字列を括る特殊文字」ではなく「他の文字と同様にprint文で出力される、単なる文字」になっています。
ApacheとかじゃなくてTomcatのWebサーバー機能で、ということなんですよね？ TomcatのCGIはあまり実績が無いので自身は無いのですけども、 #! c:/perl/bin/perl っていうところは空白はあって大丈夫なのですか？ #!c:/perl/bin/perl とか？ あと、.xml ファイルのエンコーディングはあっていますか？ ファイルをシフトJISで書いているのに冒頭に<?xml version="1.0" encoding="UTF-8"?>とかなっているとか。 Tomcatってインストール直後のこの辺がでたらめなのでチェックしてみてください。 基本はUTF8で書いてエンコードもUTF8にするのがベターです。 お役に立ちましたら幸いです。
ISO-2022-JPに変換後Base64エンコードですから use MIME::Base64; **************** $encoded_data = encode_base64($data); で、 print MAIL "To: $email\n"; print MAIL "From: $myaddress1\n"; もbase64で変換すると 日本語 <abc＠hoge.com> も扱えるよ。
CPANを検索したらこんなのがありました。どうでしょうか？ MySQL::Backup http://search.cpan.org/~dmitry/MySQL-Backup-0.04 … Perlで何かしたいと思ったらまずはCPANを探してみるのがいいかもしれません。 参考URL：http://search.cpan.org/~dmitry/MySQL-Backup-0.04 …
需要がなさそうなのでないでしょうが、物自体は簡単にできますよ。 ・・実際はテキストエディタ使うほうが楽・・・ a) HTML自体のプレゼンテーションは外部スタイルシートで行う b) 外部スタイルシートはデフォルト、配置、カラーコーディネイトと分けておく 例:私が使っている方法 <link rel="stylesheet" type="text/css" href="./Css/general.css" /> <link rel="stylesheet" type="text/css" media="screen" title="標準" href="./Css/screenShape.css" /> <link rel="stylesheet" type="text/css" media="screen" title="標準" href="./Css/colorScheme.css" /> <link rel="ALTERNATE stylesheet" type="text/css" media="screen" title="大きな文字" href="./Css/BIG_Shape.css" /> <link rel="ALTERNATE stylesheet" type="text/css" media="screen" title="大きな文字" href="./Css/colorScheme.css" /> <link rel="ALTERNATE stylesheet" type="text/css" media="screen" title="反転" href="./Css/REVERS_Shape.css" /> <link rel="ALTERNATE stylesheet" type="text/css" media="screen" title="反転" href="./Css/REVERS_Color_Scheme.css" /> <link rel="styleSheet" type="text/css" media="handheld,tty" href="./Css/handheld.css" /> <link rel="styleSheet" type="text/css" media="print" href="./Css/print.css" /> とデモしておいて・・・それぞれのスタイルシートに何が書かれているかは、スタイルシートのファイル名から推測してください。 　あとは、手作業ないし、CGIを使って入れ替えればすみます。CGIにしても本体部分は１行ですむ。 　今のサイトは、HTMLでは基本的なマークアップをして、スタイルシートで一行書き換えれば、すべてに反映されるので、そのようなCGIは不要なのです。 例: 　body{ background-color:red;}→body{background-color:yellow;}で、すべてのページの背景は赤から黄色に変わる。 　また、これを訪問者に選択させることも可能です。【私の例もそうなっている】 参考サイトは私のサイトではないですが、例としてはすばらしいので・・ 【参考サイト】 サンプル　スタイルシートを切り替える 　 http://www.usamimi.info/~geko/arch_web/02_sample … で、 IE8の場合は、[ページ]→[スタイル]で任意のものに変更 firefoxの場合は、[表示]→[スタイルシート] ★一箇所の変更ですべてのデザインを変更できるようにするためにも、プレゼンテーションはスタイルシートを使いましょう。 【参考サイト】 14 スタイルシート 　 http://www.asahi-net.or.jp/%7Esd5a-ucd/rec-html4 … 　
カウンターファイルが同じだと、当然追加されますよ。 CGI自体はひとつでよいはずです。 カウンターファイルを別のものにして、呼び出し元　HTTP REFERER　でカウンターファイルを切り替えるか、CGIを呼び出すQUERY_STRINGで、切り替えるかえるすればよいでしょう。 　マニュアルをお読みください。
プログラムの規模によります。 単純な仕様ならバグの無いプログラムは作れます。 理論的な事を言えば、どんなプログラムでも細かい単位に分割し、それぞれの要求仕様を正しく実装すればバグを無くす事は可能です。 しかし現実的にはバグの全くないプログラムを作るのは非常に困難です。 質問者さんが言う様にテスト体制の問題だったり、時間や金額といった費用、実装者／テスターの人的資質、無茶な要求仕様など、その要因は様々です。 ですから我々は通常、仕様と成果レベルと合わせて、それが実現可能な諸条件を提示します。それを顧客が了解して始めて実装に入ります。 「バグやセキュリティホールがあってはいけない」のは当然ですが、現実問題として難しいので、条件を限定して、その中でなら可能ですがどうしますか？と問い、納得すればその条件下での動作のみを保証するわけです。 「ウソをついてはいけない」 子供でも知ってることですが、一生これを守るのはムリでしょう。 でも一週間に限定すればなんとか可能な気がしますよね？ 出来ない理由を並べて拒否するのではなく、どうすれば出来るかを考え、お互いに妥協できるポイントを探るのが良いかと思います。 （これって何もソフトウェア開発に限った話じゃないですね…）
よくあるアップローダーCGIを、お好みに改造されるのが一番簡単です。 アップされたファイル一覧を表示させないだけなのですが。出来ますか？
useragentで振り分けます。 具体的には、環境変数　$ENV{'HTTP_USER_AGENT'}に入っている値で、表示するHTMLを選択するか、他のURIへ渡すか・・301,302応答ヘッダ(305でも可能?) [Studying HTTP] HTTP Status Code ( http://www.studyinghttp.net/status_code#Redirect … ) 　ただし、膨大な、どんどん増え続けるHTTP_USER_AGENTに対処するのは無理で、しかもHTTP_USER_AGENTはいくらでも偽装も隠すこともできる。 　そもそも、 ＞PC用ホームページと携帯用ホームページ(i-mode版,au版,softbank版）を作成しました 　の時点で間違っている。たとえ、上記3XX応答ヘッダで振り分けたとしても、相手がPCユーザーで、視覚障害者が自分のスタイルシートを使っていると間違った場所に誘導されてしまう。 　HTMLは 【引用】＿＿＿＿＿＿＿＿＿＿＿＿ここから HTMLは、どんな環境からもWebの情報を利用できるようにすべきだという方針の下に開発されている。例えば、様々な解像度や色深度のグラフィックディスプレイを持つPCや、携帯電話、モバイル機器、音声入出力機器、帯域が広いコンピュータや狭いコンピュータ、等の環境である。 ￣￣￣￣￣￣￣￣￣￣￣￣￣ここまで［Introduction to HTML 4 (ja)( http://www.asahi-net.or.jp/%7Esd5a-ucd/rec-html4 … )］より 　これは、何種類も作れといっているのではなく!!、【HTMLは、】すべての端末(幅広のディスプレイでも、携帯電話でも、読み上げブラウザでも、検索エンジンでも)【きちんと読めるように作るためのもの】と言っているのです。 　HTMLの基本中の基本です。これを忘れたらHTMLじゃない!!! 　^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 　ひとつのHTMLで、それぞれの端末用にスタイルシートを振り分けたほうが、はるかに楽です。 ・何種類もページを用意しなくて良い ・デザインの変更が容易 ・軽い 　今週忙しいので、時間が取れたらサンプルでも・・
Wordpress http://ja.wordpress.org/ Drupal http://drupal.org/ ライセンスは両方GPLです。 GPLを一言で言えば、 自由に使用、改変が可能で、その代わりに、改変した物を誰かが見たいと言えば自由に見られ、さらに改変して再配布することを許す。 wikipedia コンテンツマネージメントシステム http://ja.wikipedia.org/wiki/%E3%82%B3%E3%83%B3% … wikipedia ブログ http://ja.wikipedia.org/wiki/Weblog これらのページに、多くのCMS/ブログツールにリンクが張られていますので、その中からGPLと書かれている物を選べば、まず問題はないと思います。
selected属性を追記すればできます <option value="3" $check3 selected>C</option> print "<a href=\"./rental.cgi\" onClick=\"henkyaku('$pass1')\">" ."ログインページへ戻る"."</a>"; も修正ですね
PHPはプログラミング言語 CGIはサーバサイドでシステムを動かす仕組みの一つ PHPをCGIモードで動かせばPHPはCGIとして動く PerlをCGIモードで動かせばPHPはCGIとして動く PHPやPerlはWebサーバのモジュールとして動かす事もできる。
開示いただいたところでは判断つけることは出来ませんでした。 一般に公開されているものかと思ったのですが、専用に作成したものですから 直接見ることが出来れば良いのですが、現状では作成者へ相談してもらうしかないでしょうね。
1です どうやらスクリプトを直接編集してやるのが一番わかり易いでしょうね。 ２さんのおっしゃる通り JavaScript や DOM を使う方法もありますが、未経験ではちょいとハードルが高いでしょう。 スクリプト内で問題の table エレメントを生成する箇所（提示していただいたソースには table なんか無いっスよ…）を探して直接 name などを割り当てれば良いんじゃないでしょうか？もしくは左側のセルを全部 th 要素にしてしまうとか。 ただ単に送信完了画面を変更したいというだけなのなら（その完了画面が動的に変更されない場合に限りますけど）HTML ファイルを別途作成し &replace('表示したい HTLM へのパス'); sub replace { my ($str) = $_[0]; print "Content-type: text/html\n\n"; print "<html><head>"; print "<meta http-equiv=\"refresh\" content=\"0; URL=$str\">\n"; print "</head></html>\n"; exit; } こんなルーチンでふっ飛ばすというのもアリかも
＞このセッション管理はcgiなどのアプリでチェック・認証しないといけないのでしょうか？ 　いえ、これはサーバー側で行います。 CGI RESCUE - ネットサーフレスキューＷｅｂ裏技 ( http://www.rescue.ne.jp/ ) さんの、 　→ネットサーフレスキュー[Ｗｅｂ裏技] - 技の裏 - CGI-BBS - 基本認証 ( http://www.rescue.ne.jp/CGI-BBS/auth/ ) 　あたりをよく読んでください。 　十数年来、ここで勉強させていただきました。
気軽に答えてるので参考程度にしてください。 えっと、貸出登録後にリロードすると返却処理をするということは、 貸出処理と返却処理は同じロジックを使ってるってことですかね？ 「貸し出されてた場合は返却、返却されている場合は貸出」なのかな？ ご指定のようにセッションに保存してチェックしても良いでしょうし、 最初の処理の前に一意のキーみたいなものを用意できるのであれば、 そのキーが一致した場合には処理しない、みたいにもできるでしょう。 （その処理以前に生成しないと、リロードで別のキーが生成されちゃいますけど） で、私のよくやる回避策ですが、 貸出処理を行った後、Locationを別の画面、例えば「完了しました」と表示 するだけの画面にとばしちゃいます。で、この画面では何の処理もしません。 この画面をリロードしても何の問題も無いですからね。 Walrus::Session::Lite は、ちょっと使ったことありましたけど忘れちゃいました。 ごめんなさい。 他にもCGI::SessionやApache::Sessionも探してみてください。 ちなみに私は上記3つとも、アクセスが集中した時に誤動作を起こしたので、 セッション管理は自前でシンプルに行ってます。
・習得 Perl = PHP > C/C++ C/C++の場合ポインタがひとつのネックになってこれが理解できれば早いけどこれが理解できないとドツボにはまってしまって自滅。 ・柔軟性 C/C++ > Perl >= PHP PerlとPHPでできることはほぼ同じです。 C/C++はOSの制御からOSそのものの開発までいろいろできます。 そもそも一つの言語ですべてやるプロはいません。 適材適所で言語を使い分ける。 一芸のプログラマはダメですね。(その一芸が他の人の数倍すごいなら別ですが) 言語的には構文の書き方などPHPとC言語は似ています。 Perlは独自路線な構文の書き方です。 C/C++は環境毎(OS)にコンパイルし直す必要があります。 レンタルサーバではセキュリティー的にC/C++で作られたCGIの動作は許していない場合がよくありますし 許可している場合でもローカルにレンタルサーバと同じ環境をコンパイル環境として用意しておく必要があります。 その点PerlやPHPはインタプリタですからコンパイルの必要はありません。 >高度なパフォーマンスを要求される場合を除いて >C/C++が使われることはあまりないと言ってよいと思います。 PHPに関して言えばPEARというPHPで書かれたPEARというモジュール意外に 速度を求める物に対してCで書かれたPECLと言うモジュール集があります。 必要があれば自分で開発して登録してもいいでしょう。 PECLで開発されたモジュールも有用な物などはPHPに標準的に組み込まれる物もあります。
私がPerlでプログラムを書く場合は、 ソースに色を付けてくれるエディタを使用しています。 （Windowsの場合は、Tera Padやサクラエディタなどフリーのエディタがたくさんあります。メモ帳は基本使いません。） （Macの場合は、miというエディタを使用しています） ちなみにeclipseにもPerlのプラグインがありますので、それをインストールすれば、開発は可能です。 （私は、エディタで開発するのに慣れてしまっていたので、馴染みづらかったですが。。。）
画像を置けない場所に画像を置いているか 画像のURL指定が間違っているか の単純ミスをまず疑う。 　画像が表示されるであろう場所で右クリックして「プロパティ」ないし「画像だけを表示で」画像のURLを確認した結果は？
無料のサーバで、負荷のかかるCGIゲームの設置を許可している所自体が皆無だと思いますが。 なので、あなた自身が自分でサーバー立てるのが一番だと思いますよ。 固定IP無くてもDDNS使えば良いだけですから。 余ってるPCにLinuxでも入れてサーバ立てれば良いのでは？ CUIだけなら低スペックなPCでも、それなりに使えるでしょうし。 自分で遊ぶために必要なだけなら、自分のPC内（Windowsで可）でサーバー立ててローカルで動かせば良いですし。
(略) RewriteRule ^$ /mobile/index.html [R,L] RewriteRule ^$ /pc/index.html [R] Rオプションは必要に応じて。 [R=301]かアクセス拒否の方がいいんじゃないかな？っぽい書き方な気もしますが。
おそらく２つ前の行 tie(%session_data, 'Walrus::Session::Lite', $session_dir); が上手くいっていないと思われます・・・・が すみません、Walrus::Session::Liteについて知識がないので 別スレを立ててWalrus::Session::Lite　経験者様からアドバイスを頂いた方が早いと思われます。 別のサイト（参考URL）をみると書き方が前回の参考URLと違うので こちらを参考にしてみるのもありかと思います。 的確な回答ができなくてすみません。 参考URL：http://digit.que.ne.jp/work/index.cgi?Perl%e3%83 …
CGIとPHPはそもそもの動作する仕組みが違うため、そのままではできません。 一応、CGIの拡張子をPHPとして実行することは可能ですが、その場合はCGIとしては機能しません。 PHPは仕組みが違うと書きましたが、PHPにはCGIモードやコンソールモードといったものもあります。 たとえば、CGIモードの場合、perlのようにCGIの拡張子にして、ファイルの先頭部分に#!/usr/local/bin/phpのようにphpのコマンドラインのパスを入れてあげればCGIとして動作するはずです。 また、Perlやそのほかの言語で作成したCGIに.phpファイルのようなものを読み込みたい場合、少し手間ですが、コマンドラインのphpに.phpファイルを引数にして渡してあげれば、phpとして動作した結果のHTMLを受け取ることができるはずです。 はずばっかりですが、実際には、そういう動作は用意されているのは知っていますが、どう考えても普通にphpやperlを実行した方が早いので私はやったことはありません。 そもそも、そんなに言語をまぜこぜにする利点はあまりありませんので・・・苦労の方が多いですよ。
私の環境では時刻表示がなされていることを確認しました。 正常に動いています。（そういえば、もう2010年ですね） 未だエラーメッセージが見えるようなら、たぶんキャッシュです。 Ctrl+F5でリロードしてください。 実は私もiswebライト利用者ですが、index.htmlの件は知りませんでした。 質問文に明記してあるにも拘らず的確な回答ができず申し訳ございませんでした。
むしろ最近は関数に&をつけない方が主流なようです。唯一&を付け るのが、コードリファレンスを作るときです。省略するときは、既に 書かれているようにシンボリックリファレンスを使います。 my $code_ref = \&func2; # コードリファレンスを作る func1( 5, $code_ref ); # コードリファレンスを渡す sub func1 { my ( $var, $code_ref ) = @_; # コードリファレンスを実体化(デリファレンスという)し # 元の関数を呼び出す my $sum = $code_ref->($var); print $sum, $/; } sub func2 { return $_[0] + 10; }
ソースに書いてよいなら <input type="checkbox" name="mailto" value="hoge@hoge.com">Ａさん<br> <input type="checkbox" name="mailto" value="hoge2@hoge.com">Ｂさん ですし、 <select name="mailto"><option value="hoge@hoge.com">Ａさん <option value="hoge2@hoge.com">Ｂさん</select> ただしこれが使えるためにはCGIで同名のnameについては、,でjoinするようになっていないとならない。MTAの仕様による。 　ソースにも書きたくなければCGI側で if ($FORM{'mailto'} eq 'A'){ push @mailto , 'hoge@hoge.com';} 　などの改造が必要 メールフォーム、および処理プログラムは、掲示板と並んで、CGIを使い始めて最初に挑戦するものです。 　挑戦してみてください。
CGIではなく、HTML側の記述です。 <input name="***"> を <select name="***"><option value="">AAAに変えればよいだけです。 【参考サイト】 Forms in HTML documents (ja) 　 http://www.asahi-net.or.jp/%7Esd5a-ucd/rec-html4 …
これだけではわからないですが……。 W3Cの評価というのは， SITE: The W#C Markup Validation Service http://validator.w3.org/ での検証結果の事でしょうか。 これであるならば，英語ではあるものの， ・行 ・桁 ・理由 ・場所 ・説明 (無い事もある) が表示されますから，それを参考に修正するといいと思います。 英語ではわからない場合は，Another HTML-lintで検証してみるのもよいでしょう。 SITE: Another HTML-lint gateway http://htmllint.itc.keio.ac.jp/htmllint/htmllint … こちらで文法上の問題をクリアしたならば，おそらくW3Cの検証器でもエラーになる事はないと思います。
No1ですが、管理者側に送られてくるメールと同一のものを送信者にも送ればいいってことですかね。 であれば、4行目に送信者のアドレスが入っている変数を入れればいけるはずです。 変更前） $head .="To: $mailto\n"; 変更後） $head .="To: $mailto, $送信者アドレスの変数\n"; まぁこれだと管理者のアドレスもバレちゃうので、できれば送信者アドレスだけをTo:に入れて、管理者アドレスはBCc:あたりに入れる方が見栄えは良いかもしれません。
まったくのあてずっぽうですが、 rl_renew.cgiの19行目を以下に変更。 my $footerbuffer = &r_foot; ↓　　　↓　　　↓変更 my $footerbuffer = &r_foot(@timedata); templete.cgiの68行目に以下を追加。 my $year=$_[5]; my $mon=$_[4]; my $day=$_[3]; my $hour=$_[2]; my $min=$_[1]; my $sec=$_[0]; これでうまくいけばラッキーです＾＾；
xoops cube http://xoopscube.jp/ MovableTpye（以降MT）やWordpress（以降WP）のようなウェブサイト制作ツールの１つですが、 フォーラム（BBS）をメインにするものです。 言語はPHPです。 > このプログラムはPHPですか？CGIなのでしょうか？ たぶん誤解されているようですが、PerlとCGIは別物です。 CGIでPHPを動かすことも出来ますし、CGIではないPerlの動かし方もあります。 MTの再構築は、最新バージョンでは再構築するのとしないのを選択できるようになっていると思います。 （再構築しない方法だけになっているかもしれませんが。） 再構築しなければ、投稿がすぐに終わりますが、表示の時に時間がかかります。 再構築すると、投稿に時間がかかりますが、表示がすぐになされます。 （といっても、おそらく体感は出来ないと思います。サーバーの機器そのものの性能が十分あると思いますので。 MTは何年も前のパソコンの状況の時からありますので、そういう作り方がしてあります。） それでも、月数百円の安いレンタルサーバーなど、動作が重いようなところではMTの再構築する方が閲覧者に優しいと思います。 WPは再構築しない方法しかありません。 厳密には機能面で全く違うのですが、これを意識しないと行けないのはたぶん制作会社くらいだけだと思いますので割愛。 MTとWPのどちらが初心者向けかと聞かれれば、WPだと思います。
decode関数でPOSTフォームを読み込んでいて、STDINのポインタが進んでいるのが原因ではないかと思います。 以下のようにseek関数でこれを元に戻せばうまくいくのではないでしょうか？ my @kanji_names = CGI->new->param('kanji'); ↓　　　↓　　　　↓追加 seek STDIN, 0, 0; my @kanji_names = CGI->new->param('kanji');
ついでに、 \n NewLine　　LF(Line Feed:行頭へ戻る) \r Return　　 CR(Carriage Return:次の行へ) 　WindowsではCR+LF[\x0D\x0A]、Mac OSではCR[\x0D]、UNIXではLF[\x0A]を使います。厳密にはもっとやややこしいけど、PerlでCGIを書くときはこれでよい。
仕様の詳細が書かれていないので、不明な点は想像で書いてみました。 新規ファイルを作成し、以下のように末尾に漢字名が入るようにしました。 yamada<>100<>山田 yoshida<>96<>吉田 ueda<>76<>上田 sakurai<>77<>桜井 以下、そのコードです。 ファイル名は、質問者さんの環境に合わせて適宜変えてください。 use CGI; use Fcntl qw(:flock); my $org_file = 'score.txt'; # オリジナルファイル（漢字名なし） my $new_file = 'new_score.txt'; # 新規作成ファイル（末尾に漢字名あり） my @students; open my $fh, -f $new_file ? $new_file : $org_file or die $!; flock $fh, LOCK_SH; while ( my $line = <$fh> ) { chomp $line; my %data; @data{ qw(name score kanji) } = split /<>/, $line, -1; push @students, \%data; } close $fh; my @kanji_names = CGI->new->param('kanji'); if (@kanji_names) { open my $out, '>', $new_file or die $!; flock $out, LOCK_EX; for my $i ( 0..$#students ) { print {$out} "$students[$i]{name}<>$students[$i]{score}<>$kanji_names[$i]\n"; $students[$i]{kanji} = $kanji_names[$i]; } close $out; } print "Content-Type: text/html\n\n"; print qq{<form method="post"><p>\n}; for my $student (@students) { print qq{$student->{name}<input type="text" name="kanji" value="$student->{kanji}">$student->{score}<br>\n}; } print q{<input type="submit" value="送信"></p></form>};
regist_ys.cgiをメモ帳などのテキストエディタで開くと「リンク切れ報告フォーム」の編集が出来ます。 (9)リンク切れ報告フォーム(&no_link) というところです。 (当方改造していますので、何行目と答えることが出来ません) $mes=<<"EOM"; ～ EOM 内は基本的にHTMLタグなので お好きなところにTOPページへのリンクをつければいいのではないでしょうか？ 「前の画面に戻る」ボタンの下辺りに入れてみるのも良いでしょう。
ハイフンの前後に半角スペースが入るとのことですが、これはそのスクリプトの実装がそうしているからだと思います。 スクリプトの中身を少し見てみましたが、おそらく以下の部分を変更すればいいのではないかと思います。 lib/preview.plの111行目の $in{$key} =~ s/\0/ /g; 　　　↓　　　↓ $in{$key} =~ s/\0//g; に変更。
おそらく、Shift-JISの文字であっても強引にUTF-8と解釈して変換したのが文字化けの原因ではと思います。 文字コードを推測して変換するようにしました。 これでも文字化けは起こりますでしょうか？ 642、643行目の以下を &jcode::convert(\$key, 'sjis'); &jcode::convert(\$val, 'sjis'); 　　　↓　　　↓ use Encode qw(from_to); use Encode::Guess qw(cp932); for my $data ( $key, $val ) { my $enc = guess_encoding($data); my $char_code = ref $enc ? $enc->name : $enc =~ /utf8/ ? 'utf8' : 'cp932'; from_to($data, $char_code => 'cp932'); } に変更。 ＞No.2さん useを使うとモジュールをロードをして必ず実行されるので、必要なときにロードされるrequireにしてみました。 ただコードをよく見ると、この部分は必ず実行されるようなので、requireにしてもパフォーマンスの改善にはならないかもしれません。
selectならこんな感じになると思います。 <script type="text/javascript"> <!-- onload = function() { var select = document.getElementById("year"); var thisYear = (new Date()).getFullYear(); var years = [thisYear - 1, thisYear, thisYear + 1]; for ( var i in years ) { var option = document.createElement("option"); option.value = years[i]; option.appendChild( document.createTextNode(years[i]) ); select.appendChild(option); } } --> </script> <form> <p> <select id="year"> </select> </p> </form>
#!/usr/bin/perl use strict; use warnings; use LWP; use HTTP::Response; use HTTP::Request; use HTTP::Request::Common; use constant UPLOAD_CGI => 'http://localhost/cgi-perl/CGI.pm/upload.cgi'; use constant REFERER => 'http://localhost/'; my $file = 'upload_file'; my $ua = LWP::UserAgent->new; $ua->agent('Mozilla/5.0'); $ua->timeout(10); my $req = POST( UPLOAD_CGI, Content_Type => 'form-data', Content => [ upload_file => [$file], submit => 'Upload' ], Referer => REFERER ); my $res = $ua->request($req); $res->is_success or die UPLOAD_CGI, ": ", $res->message, "\n";
ご使用のcgiが分からないので、想像ですが。 upする前に「指定のIDとパスワード」を設定する必要があるのに、設定していない（デフォルトのまま）のではないか、もしくは最初は「デフォルト」で入力のどちらかだと思います。 「入力してくれ」とcgi側から要求があって、あなたが「IDとパスワード」を入力したが、「IDが見つからない」と言われたのであれば、まさにこれです。 それなら、IDとパスワードを設定するファイルがある（もしくはcgiファイル内で設定する部分がある）はずですし、説明書にもその旨記載されています（場合によってはないかもしれませんが、わかるはずです）。 また、最初はデフォルトで入力しなくてはいけない場合も、そのように書かれているはずです。 >でもどこに入力すればいいのか？ cgiから請求されるはずです。設定した上での請求なので、あなたが事前に設定、もしくは最初はデフォルトで入力しなくてはいけません。 「設定方法」は分かりません。それはここの回答者でも分かりません。 ご提示頂いた部分は「表示部分」であり、「設定部分」ではありません。 どういったcgiを使用しているのかわからなければ回答が難しいです。 初心者関係なく、質問の仕方は相手もわかりやすく流れを説明して下さい。
うーん、変数や文字列が分からない感じなのでプログラミング自体を知らないようですね(or釣り？) 超入門的なものでいいので書籍かサイトで勉強した方がいいと思います。 $usr_file　＝　変数　　＝　いろんな物を入れることのできる「箱」 "/****"　＝　文字列　＝　単語や文章のような文字の連なったもの 「print "hello"」は「"hello"と表示しろ」という命令ですが、これだと毎回"hello"としか表示できません。 でも変数という箱を使えばいろいろ表示できる事になります $hensu = "hello"　　　←$hensuという箱(変数)に"hello"という文字列を入れた(＝代入) print $hensu 　　　　　←$hensuという箱(変数)の中身を表示しろ("hello"と表示される) と書く事ができ、結果"hello"と表示できます。 ここで"hello"の代わりに"byebye"と入れれば同じ「print $hensu」という命令で別の言葉を表示できます。 $hensu = "byebye"　　　←今度は$hensuという箱(変数)に"byebye"という文字列を代入 print $hensu 　　　　　←$hensuという箱(変数)の中身を表示しろ(今度は"hello"ではなく"byebye"と表示される) これは文字列(文章)に限った事ではなく数字(計算)などでも使えます。 $num1 = 10 $num2 = 25 $sum = $num1 + $num2　　←$nu1の中身と$num2の中身を足して$sumに代入 print $sum　　　　←$sumの中身を表示しろ これで10＋25の合計35が表示されますが、$num1と$num2の中身を入れ替えればいろいろな数字の合計を計算できますよね。
あなたが素人だったら一番の対策方法は、これが一番簡単、現実的、超お勧め。 (1)スパムがきだしたらメールアドレスを変える。 あなたが改造できる人だったら考えられる対策方法は、 (1)メールフォームのURLが検索エンジンに引っかからないように、HTMLにボット拒否を記述する。 (2)URLでpostmail名を使用しない。 (3)ログを保存して、一定時間内の連続投稿を拒否する。 (4)ログを保存して、連続投稿してきたIPを拒否する。 (5)ボットに読まれないようにjavascriptに改造する。 (6)postmailをやめてflashのメールフォームを採用する。 (7)postmailをやめてsession付きのメールフォームを採用する。 (8)postmailをやめて画像認証機能付きのメールフォームを採用する。 といったところ。 postmailだったら(1)～(4)までできると思うよ。 個人的には、postmailはお勧めできない。セキュリティ対策がほとんどなされていない性善説に立ったメールフォームだから。 今ならメールフォームもフリーで色々いいのがあるから検索してごらん。 検索キーワードは、 cgi メールフォーム flash メールフォーム など
Perlの本といえばオライリーが定番ですが、 初めてのPerl 第5版 http://www.amazon.co.jp/dp/4873114276/ CGIプログラミング http://www.amazon.co.jp/dp/4873110440/ ちょっと難しいかもしれません。 SQLはあまり勉強したことがないので、どの本がいいかはわからないです。 お役に立てなくてすみません。
>&error('システム異常','\申し訳ありませんが何らかの原因で処理できません.'); >「\申し訳ありませんが・・・」の \ は不要です。これですと \ そのものが表示されます。 多分このスクリプトは Shift_JIS で書かれているのでは？ まぁそうだとしてもエスケープする位置が間違っているのですが。 &error('システム異常','申\し訳ありませんが何らかの原因で処理できません.'); おそらくこうしたかったのでは？
<IMG>タグのSRC属性値を相対URLで書かれていると思いますが、これを絶対URLにしてみたらいかがですか。
open(FH,"member.txt");・・・(1) while(<FH>){・・・・・・・・(2) 　if(/^(\d+),/&&$1!=$flg){・・・(3) 　　$famly.=(split(/,|\n/))[1].',';・・・(4) 　} 　$flg=$1;・・・(5) } close FH; (1)member.txtファイルを、ファイルハンドル「FH」に結び付けて読み込みモードでオープンする (2)ファイルハンドル「FH」から1行ずつ読み込む (3)行頭に数値、続いてコンマがあったら、（条件1） 　　数値の部分は()で括ってあるので特殊変数 $1 に代入される 　　$1値と、変数$flg値を比較して違っていたら（条件2） 　条件1合致、かつ（&&）条件2合致ならば (4)変数$famly に、行の文字列をコンマか改行文字で分割した2番目の要素にコンマを付けた文字列を連結する (5)変数$flg に 特殊変数$1 の値を代入する (3)(4)は、 　chomp;・・・改行文字を削除 　if(/^(\d+),(.+)/&&$1!=$flg){ 　　$famly.=$2.','; 　} としても良さそうですが、これだと、データが文字コードShift_JISで特定の文字を含むときエラーになるから注意！
サブルーチン decode の 　$in{'code'} =~ s/\r\n//g; 　$in{'code'} =~ s/\r//g; 　$in{'code'} =~ s/\n//g; 　$in{'msg'} =~ s/\r\n//g; 　$in{'msg'} =~ s/\r//g; 　$in{'msg'} =~ s/\n//g; ですべての改行文字を削除していますから、ここを 　$in{'code'} =~ s/\r\n/<br>/g; 　$in{'code'} =~ s/\r/<br>/g; 　$in{'code'} =~ s/\n/<br>/g; 　$in{'msg'} =~ s/\r\n/<br>/g; 　$in{'msg'} =~ s/\r/<br>/g; 　$in{'msg'} =~ s/\n/<br>/g; にすれば、とりあえずご希望は叶うでしょう。
上はHeartRails Capture　http://capture.heartrails.com/、下はMozShot　http://mozshot.nemui.org/を利用したサムネイルを使っているようです。 PHP版ならあるみたいですが、当方PHPは無勉強でよく分かりません。 http://yomiphp-mod.sweet82.com/modules/d3forum/i … Perlでも改造スキルがある程度あるなら、ソースを見れば出来そうな気もします。。。 Riseさんhttp://www.w-art.org/のCSS Yomi-searchが一応サムネイル表示が出来るみたいです。
「パーミッションの設定やファイルのアップロードは間違いなくできて」とは書かれてますが、動作環境はＯＫなのですか？ 　具体的なエラー内容をBIGIN{}で補足してみましたか？ #/usr/local/bin/perl BEGIN{ close(STDERR); open(STDERR,">>./error.log"); } END{ close(STDERR); } ここからは今のまま。 実行後FTPでできているはずのerror.logをダウンロードしてその内容をチェック
BEGIN { push(@INC, '/usr/lib/perl5/5.10.0/x86_64-linux-thread-multi/'); } use R.pm; でもだめ？ 　ひょっとしてCGIとローカルテスト？で位置が違う？？ telnetで接続して、 locate　　find では？？
以下のような変更で所望の結果は得られるでしょうか？ use CGI; 　　↓ use CGI qw(escapeHTML); $Name4 = $q->param('txt'); 　　↓ $Name4 = $q->param('txt'); $Name4 =~ s/\n/\0/g; @BOX = split(/,/ ,$FILE_FOR[$Y - 1]); 　　↓ @BOX = split(/,/ ,$FILE_FOR[$Y - 1]); for my $item (@BOX) { $item = escapeHTML $item; $item =~ s/\0/<br>/g; }
たぶん、質問者さんは http と ping(ICMP) がごっちゃになっているようで す。 ところで、 > ブログの記事投稿時に下記cgiにping送信して というのは、どうやって実現していますか？ ブログでCGIが動いていて、そ れを使って、別のサーバに ping を送っているということでしょうか ?
初歩的なことですが、 　フォルダーオプションで、「登録されているファイルの拡張子は表示しない」のチェックを外していないのでは？？ 　Windowsｋおせっかいで、アプリケーションに関連付けられていると「登録されているファイルの拡張子は表示しない」となってしまう。基本的にこれは無用なのでいつも拡張子は見えるようにしておきましょう。 「名前をtelnet.cgiとして保存致しました。」 つもりが 「名前をtelnet.cgirtfとして保存された。」 とだけではないかと 　telnet.cgiは、私もtelnetの使えないサーバーでシェルを使うために作ってますが、初心者向きではありません。 添付ファイルは私の使っているもの(自作)
GETとPOSTの違いを理解されているとして。 ★　もちろん、hiddenで渡せば済むという話ではないですよね。 CGI::new()では、POSTで要求された場合のQUERY_STRINGSは無視されるはず。マニュアルをチェックすること 　そこで、 cgi.params.merge!(CGI::parse(cgi.query_string)){|key, self_val, other_val| self_val } name = cgi.params['name'] 　などを一行追加すればよい。それともCGI::newを使わない。 たとえば、こんなふうに 　http://hpcgi1.nifty.com.local/ENV_FORM.cgi?ref=5
@の直前にドットがあったり、@の前にドットが連続しているメールアドレスは本来使用してはいけないものになります。 （RFCというインターネット関係の技術仕様に反している） 最初にこの規則を破ってしまったのは各携帯電話キャリアで、このようなメールアドレスを使ってもいいものだと思って使用している人も結構います。 で、メールサーバーによってはRFCに厳格に対応しているためこのようなメールアドレスが来た場合に処理せずにエラーとして弾く場合があります。（本来正常な働きですが） 逆に処理できてしまう（送信できてしまう）方が本来はNGということになります。 ですので、こういったメールアドレスの使用は控えるのがあるべき対策になります。 http://www.google.co.jp/search?sourceid=navclien …
下記スクリプトを　up.cgi　の名前で設置します 画像のアップロードだけではなく動画でも音楽でもなんでもアップロードできます スクリプトを簡略化した為にパスワード制限などは行っていません 取り扱いには注意してください #!/usr/bin/perl #----------------------設定---------------------- # ＣＧＩファイル名 $cgi = "up.cgi";# このスクリプトの名前 #----------------------ここまで---------------------- use CGI; $query = new CGI; $UPfire = $query->upload('upfire'); if(!$UPfire){ print <<"HTML"; <form action="$cgi" method="post" enctype="multipart/form-data"> <input type="file" name="upfire"> <input type="submit" value="アップロード"> HTML exit; }else{ @names = split(/\\/,$UPfire); $firename = $names[$#names]; open (OUT,">$firename"); binmode (OUT); while(read($UPfire, $buffer, 1024)){ print OUT $buffer; } close (OUT); print <<"HTML"; アップロード完了 HTML exit; }
cornが使えるサーバ(Winodws系だとタスクスケジューラ)とメール送信できる言語であればなんとでもなると思うけど
No.1さん、質問者さんが借りているinextというサーバーのFAQを見ると、 ●telnetの使用について セキュリティ上できません。しかし、初心者にもやさしい操作で設定可能な管理 画面がありますのでメールアカウントの追加やFTPアカウントはもちろん、掲示 板の作成やカウンター設置も簡易操作で可能です http://www.inext.jp/home/hosting/faqans.html#403 と書いてあるので、telnetによるCPANのインストールはできないのではないでし ょうか？ なので、まず、お借りしているサーバーに必要なモジュールがインストールされ ているかを、以下のCGIを設置して確かめられてはいかがでしょうか？ サーバーアナライザー - futomi's CGI Cafe http://www.futomi.com/library/servana.html 多分、GD::SecurityImage::ACだけは、入っていない可能性が高い気がします。 その場合は、FTPを使って手動でインストールする必要があると思います。 まず、CPANからこのモジュールを入手します。 下記URLから[Download]をクリックして、ファイルをダウンロードします。 Burak Gursoy / GD-SecurityImage-1.70 - search.cpan.org http://search.cpan.org/~burak/GD-SecurityImage-1 … Benjamin Franz / GD-SecurityImage-AC-1.11 - search.cpan.org http://search.cpan.org/~snowhare/GD-SecurityImag … ダウンロードしたファイルを解凍します。 解凍すると、"lib"というフォルダができます。その中にあるファイルやフォルダ を、FTPを使って設置予定の掲示板CGIと同じディレクトリにアップロードします。 XSなどを使っているとダメですが、Pure Perlならこれでうまくいくと思います。
無理です。 楽天の買い物かご自体が、一度のクリックでひとつの商品情報しか受け取らない設計になってます。 あとカートのHTMLを触るのは、楽天ではサーバ負荷のため禁止事項だったはずですよ。某カーテン屋など、警告例があります。
mimew.pl は導入されていますか。 http://www.cc.rim.or.jp/~ikuta/mime_pls/document …
利用しているレンタルサーバにフォームのオプションとかありませんか？ 例として http://www.fsv.jp/function/cgi/form-cgi.html 利用しているレンタルサーバ、もしくはホームページを公開する領域のサービスをご確認ください。
GET リクエストをシーケンシャルにやっているのが一番時間がかかってい ると思います。Coro なり POE なり AnyEnvent なり使うんでしょうが、 とりあえず use strict; use warnings; use LWP; use HTTP::Response; use HTTP::Request; my $url1 = 'http://www.google.co.jp/'; my $url2 = 'http://www.google.co.jp/dummy'; my $url3 = 'http://www.yahoo.co.jp/'; my ( $reader1, $pid1 ) = is_success_async($url1); my ( $reader2, $pid2 ) = is_success_async($url2); my ( $reader3, $pid3 ) = is_success_async($url3); # Wait the end of all child process waitpid $_, 0 for ( $pid1, $pid2, $pid3 ); print "$url1 success\n" if divide_status_string($reader1); print "$url2 success\n" if divide_status_string($reader2); print "$url3 success\n" if divide_status_string($reader3); sub divide_status_string { my $reader = shift; my $status = <$reader>; close $reader; chomp $status; return $status; } # Return file descripter and process ID sub is_success_async { my $url = shift; # create pipe pipe my $reader, my $writer; if ( my $pid = fork ) { # parent close $writer; return ( $reader, $pid ); } elsif ( defined $pid ) { # child close $reader; my $status = is_success($url); print $writer "$status\n"; exit 0; } } sub is_success { my $url = shift; my $timeout = shift || '5'; my $ua = LWP::UserAgent->new; $ua->agent('Mozilla'); $ua->timeout($timeout); my $req = HTTP::Request->new( GET => $url ); my $res = $ua->request($req); return $res->is_success; }
No.1さんがおっしゃるように、EUC-JPかUTF-8で処理するのが一番スマートかと思い ます。 おそらく正規表現のところでエラーが出ているのだと思います。 まず、どこでエラーが出ているのかを以下の文を追加して特定してください。 use CGI::Carp qw(fatalsToBrowser); そして、エラーの出ている正規表現で、quotemataをするか、/\Q～\E/でメタ文字を 無効化してみてください。
初心者の方には多少、難しいかも。 http://sakura-editor.sourceforge.net/ 貴方の環境が不明ですので、上記の公式サイトを参考にして下さい。
一番シンプルな方法は、formのactionにmailto:hoge@example.com というふうにする方法です。 http://siriasu.s10.xrea.com/hpsakusei/mail_form. … 但し、これは相手のメールソフトを使って送信させる方法で、 文字のエンコードなどを行ってくれません。受信後に 変換する必要があります。 次にシンプル？なのは、メール送信のサービスを使う方法です。 http://www.auc.jp/php/formmail/sample.html cgiを自作せず、そちらのサービスに丸投げする感じです。 自作する場合には以下のがシンプルです。 http://www.komonet.ne.jp/~perl/script/chap4.htm 古い書き方ですが、Perl4以上なら動きますね。 DreamWeaverで作成しているのであれば、PHPのほうがいいかなと 思いましたが、シンプルなのがなかなか見つかりませんでした。
>＞個人ではほとんどいないと思います。 >　会社組織として運営している物がほとんどです。 >　いや、個人で掲示板だけで生計を立てている人は結構居ます。 そのような掲示板が有るなら参考のためにURLを教えてください。 >会社組織として運営している物がほとんどです。 この場合の物は、掲示板自体を指します。 よって、者は、間違いとなります。 もう一つマルチ的に質問している中にはちゃんと、 >回答ありがとうございます。やはり考えが甘かったようです。 >もうちょっと、「運営」ということに対していろいろと考えていかなければならないと感じました。 と素直に反省してますね。 その言葉通りです。 考え方が・・・「あまい」 そういうこと。
CGIでもできますが、JavaScriptの例があるのでそれを活用されてみてはいかがで しょうか？ データを別ファイルに記述すれば管理しやすいのではないかと思い、JSON形式の ファイルを用意してAjaxで読み込むように作ってみました。 まず以下のようなデータファイルを作ってください。 ＜ファイル : data.json＞ { "time": ["昨日", "今日", "明日"], "endphrase": ["した。", "することになっている。", "する予定。"], "people": ["私", "友達", "見知らぬ人"], "where": ["家", "トイレ", "学校"], "what": ["うんこ", "野球拳", "キス"] } そして、HTMLファイルは以下です。 <HTML> <HEAD> <TITLE>いつどこゲーム！？</TITLE> <SCRIPT language="JavaScript"> <!-- //-- ご自分の環境に合わせて変更してください -- data_file = "data.json" // JSONデータを記述したファイル名 //-------------------------------------------- function createHttpRequest() { if(window.XMLHttpRequest){ return new XMLHttpRequest() } else if(window.ActiveXObject){ try { return new ActiveXObject('Msxml2.XMLHTTP') } catch (e) { try { return new ActiveXObject('Microsoft.XMLHTTP') } catch (e2) { return null } } } else { return null } } function make_par(){ var data var http_request = createHttpRequest() http_request.open( "GET", data_file, true ) http_request.onreadystatechange = function () { if ( http_request.readyState == 4 ) { if ( http_request.status == 200 ) { try { data = eval( "(" + http_request.responseText + ")" ) } catch (e) { alert("JSONデータの形式に問題があります") } show(data) } else { alert("ファイルに問題があります") } } } http_request.send(null) } function show(data) { var day_num = Math.floor(Math.random()*data.time.length) //いつ？ var peo_num = Math.floor(Math.random()*data.people.length) //誰と？ var peo2_num //誰が？ while ( (peo2_num = Math.floor(Math.random()*data.people.length)) == peo_num ) {} var whe_num = Math.floor(Math.random()*data.where.length) //どこで？ var do_num = Math.floor(Math.random()*data.what.length) //どんなことを？ text.innerText = "「" + data.time[day_num] + "、" + data.people[peo_num] + "と" + data.people[peo2_num] + "は" + data.where[whe_num] + "で" + data.what[do_num] + "を" + data.endphrase[day_num] + "」"; } //--> </SCRIPT> </HEAD> <BODY onLoad="make_par()"> <!--表示部分--> <SPAN id="text">　</SPAN> <!--ここまで--> </BODY> </HTML>
そのままでも、もしファイルがなければ新たに作成してくれるはずですが。 どうしてもファイル存在チェックをしたければ「ファイルテスト演算子」で検索してみてください。
JavaScriptソースの隠蔽のことを言っているのでしょうか？ 残念ながら私はしたことがないのでわからないです。 「JavaScript 難読」や「JavaScript 圧縮」で検索するとお望みのものが引っ かかるかもしれません。 JavaScriptの質問ページがあるのでそこで質問されてみるといいと思います。
登録されている機種だったら古い機種。 登録されていない機種だったら新しい機種。
項目名が違う(項目1<->項目6)ので、別項目のように思えてしまうのですが、 項目1と項目6が「同じ項目のデータ一つ目、二つ目」という関係であれば、 foreach my $line(@lines){ 　my @colomns = split /\,/,$line; } これでカンマで区切られた各値が@Colmnsに格納されます。 $colomns[0]で項目1、$colomns[1]で項目2が取り出せます。 今回の場合の項目6は、一行目(項目1～5)の処理が終わった後に、繰り返し処理で$colomns[0]に上書されます。 上書される前にprintなどの望む出力を入れましょう。
＞indexからAのページをクリック→戻る→indexページに隠しリンクが表示される。 このバージョンも作ってみました。 まず、トップページ表示用の”top.html”ファイルを作ってください。 隠しリンクは、<!--hidden ～ --> で囲みます。 以下、その例です。 【top.html】 <html> <body> <p><a href="top.cgi?guid=on&mode=regist">最初に見るべきページ</a></p> <!--hidden <p><a href="http://www.yahoo.co.jp">次に見ることができるページ</a></p> --> </body> </html> それから、以下の”top.cgi”というファイルを作ってください。 冒頭の設定部分はご自分の環境に合わせて書き変えてください。 そして、トップページに表示させるファイルですが、”top.html”でなく "top.cgi?guid=on"ですので注意してください。”top.html”は訪問者からは アクセスできないファイルです。 要するに、訪問者がアクセスするURLは以下のような感じとなります。 http://www.ri-an.jp/top.cgi?guid=on 【top.cgi】 #-- 以下を自分のページに合うように設定してください ---------------- my $top_page = 'top.html'; # トップページに表示させるファイル my $must_see_page = 'http://www.google.com'; # 最初に見るべきページ my $valid_duration = 30; # 見るべきページを見た後の有効期間（分単位） #------------------------------------------------------------------ use Fcntl qw(:DEFAULT :flock); use CGI; my %carrier_info = ( docomo => { re_ua => qr/DoCoMo/i, env_uid => 'HTTP_X_DCMGUID' }, au => { re_ua => qr/UP. ?Browser/i, env_uid => 'HTTP_X_UP_SUBNO' }, Softbank => { re_ua => qr/J-PHONE|Vodafone|SoftBank/i, env_uid => 'HTTP_X_JPHONE_UID' }, WILLCOM => { re_ua => qr/WILLCOM/i, env_uid => 'REMOTE_ADDR' }, EMOBILE => { re_ua => qr/emobile/i, env_uid => 'HTTP_X_EM_UID' }, ); my %user; while ( my ($carrier, $info) = each %carrier_info ) { if ( $ENV{HTTP_USER_AGENT} =~ $info->{re_ua} ) { $user{carrier} = $carrier; $user{uid} = $ENV{ $info->{env_uid} }; last; } } $user{carrier} = 'other' unless $user{carrier}; $user{uid} = $ENV{REMOTE_ADDR} unless $user{uid}; sysopen my $in, "$user{carrier}.cgi", O_RDONLY | O_CREAT or die $!; flock $in, LOCK_SH; my @registered_uids = <$in>; close $in; my $mode = CGI->new->param('mode') || q{}; if ( $mode eq 'regist' ) { regist(\%user, \@registered_uids); } else { show_top_page(\%user, \@registered_uids); } sub regist { my ($user, $registered_uids) = @_; my $uid_is_registered; for my $registered_uid (@$registered_uids) { my ($uid) = split /\s|\n/, $registered_uid; if ( $uid eq $user->{uid} ) { $registered_uid = "$user->{uid} $^T\n"; $uid_is_registered = 1; last; } } if ( not $uid_is_registered ) { push @$registered_uids, "$user->{uid} $^T\n"; } open my $out, '>', "$user->{carrier}.cgi" or die $!; flock $out, LOCK_EX; print {$out} @$registered_uids; close $out; print "Location: $must_see_page\n\n"; } sub show_top_page { my ($user, $registered_uids) = @_; my (@updated_uids, $uid_is_found); for my $registered_uid (@$registered_uids) { my ($uid, $time) = split /\s|\n/, $registered_uid; next if $^T - $time > $valid_duration*60; push @updated_uids, $registered_uid; $uid_is_found = 1 if $uid eq $user->{uid}; } open my $out, '>', "$user->{carrier}.cgi" or die $!; flock $out, LOCK_EX; print {$out} @updated_uids; close $out; open my $html, '<', $top_page or die $!; my $top_page_html = do { local $/; <$html> }; close $html; if ($uid_is_found) { $top_page_html =~ s/<!--hidden(.*?)-->/$1/sg; } else { $top_page_html =~ s/<!--hidden(.*?)-->//sg; } print "Content-Type: text/html\n\n"; print $top_page_html; }
> 画面を2,3複数表示させて画面をとじていくときに少しおかしなことがおこります。 > というのは、最後に表示した画面しかディレクトリから消されないのです。 JavaScriptの場合、処理が終了しきらないうちに、別の窓に制御を移した場合はどういうわけか処理そのものがなくなったりします。 Ajax(非同期通信)をSjax(同期通信)に変えても、タイマーでタイミングをとっても、故意にフォーカスを別の窓に移されるとおしまいです。 例えアラートを出しても、タイミングが合わなければ無理のようです。 検索をしてみると国内外問わず同じ悩みがある方がいらっしゃるようで、onBeforeUnloadなども試してみましたがダメでした。 もしかしたらどなたか達人が解決策を回答してくれるかもしれませんのでJavaScriptのカテで問い合わせてみてはいかがでしょうか。
”list.cgi”の561～562行目に名前を表示する部分があります（以下）。 if($name){ print"<td width=$show_name><a href=\"$cgipath?id=$num&mode=show\">$name</a></td>";} else{print"<td><a href=\"$cgipath?id=$num&mode=show\">---</a></td>";} それから、同じく”list.cgi”の732～736行目に画像を表示する部分があります（以下）。 if($gazou && $tail){ if($imgflag){ $tail ="<a href=\"$imgdir2$imgno$tail\"><img src=\"$imgdir2$imgno$tail\" border=0 width=$imgw height=$imgh alt=\"$imgno$tail\"></a>"; } else{ $tail ="<img src=\"$imgdir2$imgno$tail\" border=0 width=$imgw height=$imgh alt=\"$imgno$tail\">"; } print "<TR><TD class=\"left\">$gazou</TD><TD class=\"right\">$tail</TD></TR>\n"; } なので以下のように、画像を表示するコードを名前を表示するコードにくっつけてみては いかがでしょうか？ if($name){ print"<td width=$show_name><a href=\"$cgipath?id=$num&mode=show\">$name</a></td>";} else{print"<td><a href=\"$cgipath?id=$num&mode=show\">---</a></td>";} 　　　　↓　　　　↓ if($name) { print"<td width=$show_name><a href=\"$cgipath?id=$num&mode=show\">$name</a>"; if($gazou && $tail){ if($imgflag){ $tail ="<a href=\"$imgdir2$imgno$tail\"><img src=\"$imgdir2$imgno$tail\" border=0 width=$imgw height=$imgh alt=\"$imgno$tail\"></a>"; } else{ $tail ="<img src=\"$imgdir2$imgno$tail\" border=0 width=$imgw height=$imgh alt=\"$imgno$tail\">"; } print "<br>$tail</TD>\n"; } } それから、同じく”list.cgi”の535行目のデータを変数に入れる部分を以下のように変えてみてください。 ($num,$name,undef,$last_time,$time1,$imgno,undef,$mail,$mailflag,$url,$imgurl,$tail,undef,undef,undef,undef,undef,undef,undef,@item) = split(/,/); 　　　　↓　　　　↓ ($num,$name,$pass,$last_time,$time1,$imgno,$host,$mail,$mailflag,$url,$imgurl,$tail,$imgw,$imgh,$imgflag,$comment,undef,undef,undef,@item) = split(/,/);
あまりにも省略しすぎて情報が少ないので推測として書きます。 ・ＰＨＰセーフモードになっていませんか。 ・suExecに準したパーミッションになっていますか。 本当は、エラーログを見ると一発で解決するのですが、さくらさんはみれないのでしょうか。 それと、共有サーバーは殆ど「ＰＨＰセーフモードがＯＮになっています。」からご確認下さい。
「あたり」「はずれ」の画像を用意し同一ディレクトリーに 「atari.gif」「hazure.gif」の名前とする 参考までにjpeg画像の場合は「atari.gif」を「atari.jpg」に 「Content-type:image/gif」を「Content-type:image/jpeg」にします #!/usr/bin/perl $rand = int(rand(10)); if($rand == 0){$img = "atari.gif"} else{$img = "hazure.gif"} open(IMG,"$img"); binmode IMG; print "Content-type:image/gif\n\n"; print while (<IMG>); close(IMG);
出来ますよ～。
> 丁寧な説明でしたのでこんな僕でもディレクトリのお話を掴めて > きました！！ところで、cgiは特別index.htmlみたいに固定の名前 > って必要なのでしょうか？？サーバーには特に何も書かれてなくて、 > cgi-binというディレクトリ以下でなくても作動すると書いてあるの > ですが・・・・。すみません、質問ばかりで申し訳ありません（＞＜） CGIに関しては、一般的には拡張子(ファイル名のうちピリオド以下最後の3文字)が「cgi」となっていれば、Webサーバによってそう認識されるような設定になっています。 ただ、べつに他の名前に設定することは可能です（混乱を招くだけですけど・・・）。 拡張子以前のファイル名はこれも一般的には半角英数と一部の記号文字となります。 Apacheという名前のWebサーバソフトでは「Options　ディレクティブ」という設定項目で「ExecCGI」というパラメータでもってCGIが使えるのかどうかを指定します。 不自由なレンタルサーバなどでは「cgi-bin」以外の場所にCGIを置くことを禁じていることもあります。 初期状態では使えなくとも「.htaccess」を置くことを許されていると、その置き場所以下にWebサーバのオプション機能を追加できますので、質問者様のように AddType application/x-httpd-cgi .cgi Options +ExecCGI という内容の「.htaccess」を置けば、それ以下のディレクトリで「.cgi」という拡張子でCGIが使えるようになりますが、プロバイダの方で許可されているならこのファイルは必要ないでしょう。 > あとは先のお方の欄で書かせていただいたエラーとパーミッションが > どうも分からないです。本当にすみません（＞＜） パーミッション(属性)の指定は、ユーザ権限とかも一緒に理解していないと訳がわからないと思います。 ・オーナーは持ち主 ・グループはユーザーがシステム上で所属するグループ(例えば開発プロジェクト別でグループの権限を持たせて同じグループに所属しているユーザにのみ操作権限を与えるとか・・・) ・その他は上記以外の権限も含めてすべてのひと それぞれに、「読める権限」と「書き込む権限」そして「実行する権限」、を割り振ることができます。 例えば「700」としてしまうと、オーナーには読み書き実行が出来ますが、それ以外の人は出来ないことになります。 ここで、注意して欲しいのはオーナーというのを自分という人間を指すのではなく、サーバに接続している状態でのユーザを指します。 メールを受信したりFTPなどでファイルをやり取りするために接続するには、ユーザアカウントというIDとパスワードがあります。 そのIDで接続しているものの権限を指すのです。 Webの場合は通常IDとパスワードを求めたりしないので、匿名アクセスとなり、Webサーバによって指定されたユーザIDになりますので、それがオーナーであるとは限りません。 逆にオーナーと同じであるなら、オーナーとなって権限が強くなるため、改ざんなど悪いことのし放題です。 public_html・・・755 これはディレクトリファイルで誰もが読める状態でなければならないので７５５(ディレクトリの場合実行権限が必要)で正解 .htaccess・・・・700 これは設定用テキストファイルなので実行権限は不要でオーナーも誰かわからないので「644」の方が正解 cgi・・・・・・・711 これはディレクトリファイルですがオーナーがわからないので「755」の方がよい test1.cgi・・・・700 これもオーナーがわからないので「755」の方がよい この3桁の数字について蛇足ながら 左から「オーナー」「グループ」「その他」となります 数字の意味は2進数に例え、これも3桁とし、左から「読み」「書き」「実行」となります。 0 -> 000　なにもなし 1 -> 001　実行あり 2 -> 010　書き込みあり 4 -> 100　読み込みあり 4(読み) + 2(書き) + 1(実行)　＝>　7 4(読み) + 2(書き) 　＝>　6　(実行が不要な場合) 4(読み) + 1(実行) 　＝>　5　(変更が出来なくても実行はしたい：CGIは実行が出来なくてはいけないけれども赤の他人に改ざんされては困りますよね) という感じでしょうか。 ながながとすいませんでした。
ＣＧＩで観覧制限をかけるなら下記のようなスクリプトはいかがでしょうか （簡単なスクリプトなので一つのＨＴＭＬしか保護してませんが） #!/usr/local/bin/perl #################　設定　################# $script = 'test.cgi'; #このスクリプトの名前 $password = '1234'; #パスワード #################　スクリプト　################# use CGI; $query = new CGI; $pass = $query->param("pass"); if($pass eq $password){&html}; &pass; #################パスワード入力ページ################# sub pass{ print <<"HTML"; Content-type: text/html <html> <head> <title>パスワード入力</title> </head> <body> <form method="post" action="$script"> パスワード：<input type="password" name="pass"> <input type="submit" value="送信"> </form> </body> </html> HTML exit; } #################パスワードで保護されたページ################# sub html{ print <<"HTML"; Content-type: text/html <html> <head> <title>タイトル</title> </head> <body> ここにパスワードで保護するページを書く </body> </html> HTML exit; }
定番のphpBB3が使いやすいと思います。 ※サーバー環境を書いた方が明確な答えがでるかと思います。何故なら、冒頭アプリを紹介してもＰＨＰ・データーベース対応サーバーなのか不明です。
・他のサーバーでは正常 ・送信内容確認メールは届く という事は、ＣＧＩスクリプトは正常、サーバーのsendmailも正常のようですね 案外管理者（あなた）のメール側でそのサーバーのドメインを拒否しているとか？ 管理者のメールアドレスを変えて試してみてはどうでしょう
現在、Apacheのダウンロードは http://httpd.apache.org/download.cgi からできます。 しかし、最新版のtarballをざっと眺めても printenv は見付かりませんね。 make で生成されるんじゃ無いでしょうか。 Apacheをインストール済のマシンが身近にあればそこから引っこ抜くのが手軽です。 あるいは最新版をダウンロードしてビルドしてみる手もあります。 しかし、printenv を欲がる人なら、サーバーアナライザーの方が良かったりしませんが? ちょっと重いですが、環境変数以外にもいろいろレポートしてくれます。 http://www.futomi.com/library/servana.html
まず、このエラーは500番のInternal Server Errorになります。 内部エラーですね。 WebサーバがCGIを動作しようとしたときに、 エラーになってしまいクライアントに情報を返せないときにでるエラーです。 どのようなCGIを動かしているかわかりませんので回答はしかねますが、 以下のようなことを怪しんでみてください。 ・perlのスクリプトは正しいか 　＃Terminalは使えているようですので、./go.cgiなどとして実行してみてください。エラーが出るようでしたら修正する必要があります。 ・パーミッションは正しいか 　設定されているようですけど、Perlの中から違うPerlのスクリプトを呼び出していて、そのスクリプトのパーミッションが正しくないとか ・HTTPヘッダは書かれていますか 　一番先頭に、以下のような文を表示していますか？ 　print "Content-Type: text/plain\n\n"; 　＃私も結構忘れます。。。 　＃詳しいことは、参考URL等をお読みください。 お分かりかもしれませんが、 初めてということですので、参考になればということで、 PerlでCGI書く場合は、以下のような手順でやっています。 １．Terminalから実行して文法エラーがないか確認する ２．Webサーバに置いて、パーミッションをいじってから 　　ブラウザで確認する わからない場合は、ネットで検索すれば、かなりの数の情報を得られると思います。 参考URL：http://www.tohoho-web.com/ex/http.htm
使ったことはありませんが、GoogleSpreadはどうでしょうか。
Apache であれば、 cgi-bin のローカル上の所在は特別な場所なのが普通(デフォルト)です。 http://host/aaaa/ と http://host/cgi-bin/ はURL上では兄弟ですが、サーバー内のローカルパスは兄弟で無いと言う事です。 デフォルトのまま運用するかどうかはサーバーの管理者が決める事です。 さらに、サーバーのローカルパスをどういうWindows共有でアクセスさせるかもまたシステム管理者が決める事です。 つまり、管理者さんに問合せるのが正攻法だとは思います。 しかし、場合によっては、これまで管理者から与えられた情報をあなたが理解できずに放置している可能性があるなら、発掘調査という選択肢もあります。 前回書いた様に、OK事例を集めて眺めていれば法則が見えてくるかも知れません。 その時は、No.5補足に書かれた様な文章説明はとても読み辛いので、私がNo.5に書いた様な一覧形式をお勧めします。 # ここに書く場合は、一覧形式でないと私は読みません。
CGIのソースが先頭から表示されるんじゃ無く、HTMLのソースが見えるんですね？ これ、もの凄く重要です。 直接の原因は、ブラウザが「CGIが吐いたHTML」をプレーンテキストと認識してるんでしょう。 その原因はWebサーバーソフトの設定がそうなってる可能性が高いかと。 簡便に対策するには、CGIが出力するレスポンスヘッダに Content-type: text/html; charset=Shift_JIS を追加してください。 # もしも既に Content-type: を出力してるなら、その内容を教えてください。 Content-type: の追加で解決したなら、サーバーの設定が以前と違うのが原因と断定できます。 Apacheなら、設定ファイルや .htaccess で本対策できるでしょう。 もう少し説明が必要ですか？
$titlelogoを参照している部分があるはずですが、そこはどうなっていますか。 >$titlelogoのところにバナーをいれたくて：： タイトルを画像リンクにするという意味ですよね。 「いれたくて」と書かれますと、追加と解釈されますが。
> ファイルを一旦出力して読むという手段 これは、最後の手段ですね。 なぜかと言うと、大変な処理になるからです。 CGI と言うものは、複数の閲覧者から前後してあるいは同時にアクセスされる状況を想定せにゃなりません。 閲覧者対応に一時ファイルを管理したり用済みの一時ファイルを消す処理は、かなり大変です。 ではどうするかと言うと、条件によって複数の方法を使い分けます。 記憶すべきデータの容量(バイト数)が多い場合には、一見無駄な様でも再度データを作り直すのが良いでしょう。 容量が少い場合は、CGIパラメーターとか Cookie とかを使います。 CGIパラメーターというのは、URL末尾の「?」以降の部分です。 FORMを使ってるなら、 <input type="hidden" name="aaa" value="bbb"> とか書きます。 Cookie は、CGIパラメーターに慣れてからの方が良いかと。
> gethostbyaddrで調べられるクライアント専用ですが というのは、「クライアントPCのIPアドレスとホスト名が DNS に登録 されている場合やhostsファイルに登録されている場合など」という意味で す。常に、IPアドレスからホスト名が解決できるわけではありません。 DNSに登録されていない場合では、getnameinfo や Net::DNS でもホスト名 は引けません。 > お薦めはありますでしょうか？ 通常の使用でしたら、gethostbyaddr でよいと思います。
サーバー設定により必ずしも755が正しいとは限りません。 他の動作しているCGIを見て、そのパーミッション（アクセス権）に 合わせるか、無ければサーバー管理者に尋ねるのがいいですよ。
http://www.kent-web.com/ 基本的なという事であれば、有名どころとしてKENTさんののどうですか？
こういうのは、配布先の公式サイトでご質問されることをお奨めします。 http://www.cgi-amigo.com/cgi-bin/support/forum.c …
やぁ　miyura88さん、おひさー。 miyura88さんて女の子？俺は女の子以外は興味ないんだけどー。 miyura88さんは一見さんじゃないからぁ。特別扱いしてあげるよ。 しかしよみずれーなｗ。　まずインデントしないとね。 うんとね。ページをどのようにしたくて、今はどのように呼び出しているか分からないので回答が難しいけど、大体想像はできましたよ。 ここを # ★実際の表示タグ。（デザイン変更時はここをカスタマイズ） print "document.write(\"<a href=$jump_url target=_blank><img src=$Slog[12]></a>\")\;\n"; このようにするだけでいいかもしれない。 # ★実際の表示タグ。（デザイン変更時はここをカスタマイズ） print "document.write(\"<a href=$jump_url target=_blank><img src=$Slog[12]></a><br>\")\;\n"; 希望と違ったらいってください。
Mozilla のバージョンがわからないのですが、 最近のMozillaの初期設定ではfile://は開けません。 設定は大丈夫でしょうか？ ↓のサイトに設定の仕方やAdd-onが紹介されています。 http://kb.mozillazine.org/Links_to_local_pages_d … 参考URL：http://kb.mozillazine.org/Links_to_local_pages_d …
メール受信を自動でできるようにすればできると思います。 質問にあるリンクでみると 「受信スクリプトが手動で取り込みます」 を自動化したいのだと思いましたので。 linux系であればシェル等で対応する等。 自動化が無理な場合、 別の方法で対応してはどうでしょうか。 メール送信後 携帯でPHPの画面を表示する時にメール受信するなど。
sqliteの経験はないのですが、LIMIT句が使えるみたいですね。 SELECT文の最後に「LIMIT n, (p-1) * n」（ページ番号がp、各ページの件数がnの場合）と付けると表示したいデータだけが取れるはずです。 注意点として、ORDERの指定が曖昧だと期待通りに動かないことがあります。 最後に主キーを付けるなどして、必ず同じ順番になるようにしてください。 参考URL：http://net-newbie.com/sqlite/lang.html#select
アンケート結果は公開されますが、それ以外は対応出来ていると思います。 http://www.xup.jp/ 参考URL：http://www.xup.jp/anc/index.cgi
既存のものにちょっと手を加えるだけでできると思うが。 たぶん５～１５行くらい。 ＰＷってパスワードのことだよね？略さないで欲しい。 わかりずらいから。
XML::RSS を使えばできます。CGI というか、Perl モジュールですけど --- #!/usr/bin/perl use strict; use warnings; use LWP; use HTTP::Request; use XML::RSS; use utf8; my $uri = shift || 'http://dailynews.yahoo.co.jp/fc/rss.xml'; my $ua = LWP::UserAgent->new; my $req = HTTP::Request->new( GET => $uri ); my $res = $ua->request($req); $res->is_success or die "$uri: ", $res->message, "\n"; my $rss = XML::RSS->new(); $rss->parse( $res->content ); binmode STDOUT, '::encoding(utf8)'; print $rss->channel("title"), "\n"; print $rss->channel("link"), "\n"; print $rss->channel("description"), "\n"; for my $item_hash_ref ( @{ $rss->{items} } ) { while ( my ( $key, $val ) = each %{$item_hash_ref} ) { print '$rss->{items}->{', $key, '}', ' => ', $val, "\n"; } } --- 実行結果 Yahoo!ニュース・トピックス - トップ http://dailynews.yahoo.co.jp/fc/ Yahoo! JAPANのニュース・トピックスで取り上げている最新の見出しを提供しています。 $rss->{items}->{link} => http://rd.yahoo.co.jp/rss/l/topics/topics/*http: … $rss->{items}->{item} => ... $rss->{items}->{title} => 消えた年金 基準緩和し救済へ $rss->{items}->{pubDate} => Sat, 19 Sep 2009 16:04:07 +0900 $rss->{items}->{link} => http://rd.yahoo.co.jp/rss/l/topics/topics/*http: … ...
＞CGIがノートになっており使えません（汗 ＞関連付けもしようとしたのですがPerlが出てきません。 「CGIがノートになっている」「Perlが出てこない」とはどういう意味でしょうか？ CGIはウェブサーバー上でプログラムを動かすための仕組みです。 PCの中でローカルでPerlによるCGIプログラムを使いたいということでしょうか？ その場合、例えばWindows環境なら ・ApacheやAN HTTPD等のソフトでローカルなサーバーを構築 ・ActivePerl等をインストールしサーバーでPerlをCGIとして利用できるように設定する。(Apacheならmod_perlとかも利用できます) ・Perlプログラムの先頭でPerlインタープリターのパスを入れる。 といった流れです。
Lolipopのパーミッションは700でいいですよ。
>ファイルは以前動作したサーバから引っ張ってきました 簡単なcgiスクリプトで試すのが先ではないでしょうか。 それで、そのcgiファイルは、FTPでアップロードされたのでしょうか？ アスキーモードで転送されていない場合は改行コードが問題なります。 #!/usr/bin/perl -- これで動作するのなら、サーバの設定でアスキーモードでのアップロードが許可されていないと思います。
Ajaxからコールして受信内容を破棄すれば良いです。 こんな感じ function HogeHoge(){ var xmlhttp = createHTTPRequest(); var CGIURL = 'CGIのフルURL「http://」から記述'; var sDT; xmlhttp.open('GET', CGIURL, true); xmlhttp.onreadystatechange = function(){ if (xmlhttp.readyState == 4) { if (xmlhttp.status == 200) { sVOID = xmlhttp.responseText; } else { // 通信に失敗 } } else { // 通信中… } } xmlhttp.send(null); }
ShiftJIS コードの場合、漢字コードの２バイト目に正規表現の区切り文字やメタ文字と同じ コードがあるためうまくいかないことがあります。英単語のみ正規表現を使って、それ以外は index を使えばうまくいくかもしれません。 > if (index($_, $wd) >= 0) { 上の行を次のように変更してみてください。なお、英単語に can't や Dr. などがある場合は、 /^\w+$/ を /^[\w.']+$/ などに変更する必要があります。 if ($wd =~ /^\w+$/ ? $_ =~ /$wd/i : index($_, $wd) >= 0) {
お、大人じゃんｗ　えらいじゃんｗ 敬意を表して一つだけ分かった事書いてやるよ。 　管理人に通知画面　じゃなくて　管理者に通知画面 じゃないかい？　違ってたら知らんけど。 この編集は　regist_ys.cgiの650目　以降の付近と templateフォルダの　mes.html で出来るようだよ perl構文部分を誤って編集しなければhtmlみたいなもん だから、編集できるでしょ。 で？彼氏はなんだって？ｗ
「UTF-8対応版」と明記されているなら、画像以外のすべてのファイルの日本語文字コードを「UTF-8」で、改行コードを「LF」で保存して、それをASCCIモードでサーバーへ転送すれば良いと思いますよ。
> ただ、なぜか画像へのパスを書いても、とどかないんですよ。。。。よく > わかりません。 Web サーバが任意のディレクトリのファイルを外部に表示できるとセキュリ ティ上問題があるので、それはそうです。とりあえず、画像ファイルを CGI スクリプトと同じ場所にコピーして、表示できるか確認したらどうでしょ う。
No.1 です。 $query->uploadInfo(filename)->{'Content-Type'} とありますが、filename は $filename の間違いですよね？ まず、それを直してください。 うまくいかなければ、 http://perldoc.jp/docs/modules/CGI.pm-2.89/CGI.pod を開いて uploadInfo を文字列検索してください。 その前後に、関係する事柄が書かれています。 ご自分のコードが間違って無いか確認してください。 特に、$filename に設定する内容が重要です。 それから、 http://chaichan.web.infoseek.co.jp/qa4000/qa4373 … の中の 5:[回答] の内容も確認してみてください。 この件に関しては、そのCGIが動いている Webサーバーを疑うのはもう少し後で良いと思います。
そのCGIアプリケーションの作り方に依ります。 fopen('http://localhost/aaa.cgi');としないと行けないかもしれませんし、 exec('aaa.cgi');かもしれません。 http://jp2.php.net/manual/ja/function.exec.php file_get_contents()はファイルの内容を読み込むだけで、実行するわけではありません。
CGI::Session を使えばいいと思います。 以下のサイトあたりが参考になると思います。 http://www.dab.hi-ho.ne.jp/sasa/biboroku/perl/se … http://digit.que.ne.jp/work/wiki.cgi?Perl%E3%83% … http://www.ksknet.net/cgi/cgisession.html 私のゴミみたいなテストプログラムも載せておきます。 #!/usr/bin/perl -T use warnings; use strict; use utf8; use CGI; use CGI::Carp qw(fatalsToBrowser); use CGI::Pretty; use CGI::Session; # 異なるipからのアクセスは認めない場合 # use CGI::Session qw/-ip_match/; # http://search.cpan.org/dist/CGI-Session/ # http://www.dab.hi-ho.ne.jp/sasa/biboroku/perl/se … # http://digit.que.ne.jp/work/wiki.cgi?Perl%E3%83% … # http://www.ksknet.net/cgi/cgisession.html use constant SESSION_DIR => '/tmp/session'; if ( ! -d SESSION_DIR ) { mkdir SESSION_DIR or die "$!"; } # Clean Session File CGI::Session->find( undef, \&purge, { Directory => SESSION_DIR } ) or die CGI::Session->errstr(); sub purge { my ($session) = @_; next if $session->is_empty; # already expired # Delete 1 hour old if ( ( $session->ctime + 3600 ) <= time() ) { $session->delete(); $session->flush(); } } my $q = CGI->new(); my ($login) = $q->param('login'); if ( defined $login ) { # Recv Form if ( $login eq 'login' ) { my ($user_name) = $q->param('user_name'); # Clean Old Session File CGI::Session->find( undef, sub { my ($session) = @_; next if $session->is_empty; # already expired # $user_name my ($session_user_name) = $session->param; if ( ( defined $session_user_name ) || ( defined $user_name ) || ( $session_user_name eq $user_name ) ) { $session->delete(); $session->flush(); } }, { Directory => SESSION_DIR } ) or die CGI::Session->errstr(); my $s = new CGI::Session( undef, $q, { Directory => SESSION_DIR } ); $s->expire('+1m'); # 1 Minute $s->param( -user_name => $user_name ); # set user_name print $s->header( -charset => 'UTF-8' ), $q->start_html(), $q->p( "New session! Session ID = ", $s->id ), create_login_form( $q, 'logout' ), $q->end_html; } elsif ( $login eq 'logout' ) { my $s = CGI::Session->load( undef, $q, { Directory => SESSION_DIR } ) or die CGI::Session->errstr(); $s->close; $s->delete; $s->flush; print $s->header( -charset => 'UTF-8' ), $q->start_html(), $q->p("Your session closed!"), create_login_form( $q, 'login' ), $q->end_html; } else { die "Unknown Form $login"; } } else { # Not Recv Form my $s = CGI::Session->load( undef, $q, { Directory => SESSION_DIR } ) or die CGI::Session->errstr(); if ( $s->is_expired ) { print $q->header( -charset => 'UTF-8' ), $q->start_html(), $q->p( "Your session timed out!. Session ID = ", $s->id ), create_login_form( $q, 'login' ), $q->end_html; } elsif ( $s->is_empty ) { print $q->header( -charset => 'UTF-8' ), $q->start_html(), $q->p("You don't have session!"), create_login_form( $q, 'login' ), $q->end_html; } else { my $sid = $s->id; my $s = new CGI::Session( undef, $sid, { Directory => SESSION_DIR } ); if ( $sid != $s->id ) { # Create New Session ID -> Unknown Session # Delete Temporary Session $s->close; $s->delete; print $q->header( -charset => 'UTF-8' ), $q->start_html(), $q->p( "Your session id don't match!. Session ID = ", $sid ), create_login_form( $q, 'login' ), $q->end_html; } else { print $q->header( -charset => 'UTF-8' ), $q->start_html(), $q->p( "Your session id match!. Session ID = ", $sid ), create_login_form( $q, 'logout' ), $q->end_html; } } } sub create_login_form() { my $q = shift || die "Require CGI object"; my $login = shift || 'login'; if ( ( $login ne 'login' ) && ( $login ne 'logout' ) ) { die "$login doesn't match login or logout"; return 0; } my $form = $q->start_form( -method => 'post', -action => $ENV{SCRIPT_NAME} ); if ( $login eq 'login' ) { $form .= $q->textfield( -name => 'user_name' ); } $form .= $q->submit( -name => 'login', -value => $login ) . $q->end_form; return $form; }
#///画像ファイルのURLを指定する (0=no 1=yes)/// 上記を指定するから、画像名が変更されるのではないでしょうか。 ↓ /image0006.jpg"のところが/image/0006.jpg"となっていれば 正常に表示されそうです。 通常は、 $ImgDir = "/homepage/vcgi/image/"; のパスを調べてきちんと指定したらどうでしょう。
よくカウンターなどに使われているCGIのように、imgタグで呼び出せばいいと思います。そのCGIの出力を空の1px×1pxの画像にしておけば、問題ないでしょう。
えーと # ドキュメントに書き込む。 print "document.write(\"<a href=$jump_url target=_blank><img src=$Slog[12]></a>\")\;\n"; ""を抜いてください。 それと print "document.write(\"</ul>\")\;\n"; この部分もいりませんね。
>RedhatLinuxというのは初めて聞いたので同じものなのか違うものなのかすら分かりません。 今時RedhatLinuxを使っているかは疑問ですが RedhatLinuxはLinuxディストリビューションの超大手の一つでした。 今はサーバ向け製品のRed Hat Enterprise Linuxを販売しています。 Linuxを使っていてRed Hatを知らないというのは日本に住んでいて 東京都が首都だと言うのを知らないレベルです。 >テストサーバのOSはLinux 2.4です。 カーネルのことですか?ディストリビューションのバージョンですか? その場合、ディストリビューションはなにを使っていますか? >テストサーバのOSが違ったらプログラムを直す必要あるかもと言われましたが、意味が分かりません。 可能性はあります。 特にCPANでインストールされている外部ライブラリを使っていた場合 それが使っている双方でインストールされているか確認したりなど
しょうがないなぁ。特別ですよ？ 3行ってのは3行目ではなくて3箇所書き換えればいいって事です。 以下、書き換え方法 （書き換える前にバックアップをとってくださいね） print "document.write(\"<ul>\")\;\n"; を削除。 # ドキュメントに書き込む。 print "document.write(\"<li><a href=$jump_url><img src=$Slog[12]></li>\")\;\n"; を以下に書き換え # ドキュメントに書き込む。 print "document.write(\"<a href=$jump_url><img src=$Slog[12]></a>\")\;\n"; print "document.write(\"</ul>\")\;\n"; を削除。 これでいいはずですが、こちらの環境でテスト出来ないので動かなかったらいってください。というかこれ質問文にあるコード。これはオリジナルじゃないんですか？質問者さんが書き換えたのを張ったのですか？Aタグが閉じてないのでおかしいですよ。
管理室のテンプレートファイルの編集で kt.html、search.html、rank.html、を編集します。 テンプレートファイルのログ表示エリアの EOM } if($Slog[12]){ # (↑修正不可↑)--> print<<"<!--HTML-->"; <br><img src="$Slog[12]" border="0"> <!--HTML--> #<!--(↓修正不可↓) } という箇所を探してください。 そして下のようにタグを書き換えます。 EOM } if($Slog[12]){ # (↑修正不可↑)--> print<<"<!--HTML-->"; <br><a href="$jump_url"><img src="$Slog[12]" border="0"></a> <!--HTML--> #<!--(↓修正不可↓) } 改造しまくっているので何行目と答えることが出来ません。 タグとログ変数をヒントに探してください。 ちなみに $Slog[12] → バナーURL $Slog[2] → URL です。
XOOPS用のモジュールですが希望ぴったりでしょう http://dev.myht.org/
>解除の仕方 入力必須にしなければいいだけの話ですが、どうしたいのですか？ 項目自体を表示しないとかですか、それならそのタグを削除すればいいし。 まぁ、説明は下記のようにあなたが示されたページに書いてありますのでご覧ください。 ・タグの記述 (5) E-mail <input type=text name="_email" size=25> → name値の先頭に「アンダーバー 」を付けると、その入力値は 「入力必須」となります。 上記の例では、「メールアドレスは入力必須」となります。
CGI(perlやPHP)を動かすには HTTPサーバーソフトが必要です、IISやApacheやhttpdなどです。 無料で手に入りますのでインストールしてください。 その上で、perlやphp等のインタプリタ言語を動かす場合は perlならActivePerl、phpならphp本体が必要になります。 これも無料なのでイントールしてください。 両方インストールが終わったら ドキュメントルートにファイルを置いて、 ブラウザでlocalhost、もしくは127.0.0.1(ループバックアドレス)で アクセスすれば動作確認できます。 他の言語の場合も基本は同じです。 HTTPソフトと、その言語を動かすソフトを入れていください。
以下のcpan モジュールをサーバに入れられるなら、できると思います。 Net::SMTP Authen::SASL Module Net::SMTP::SSL MIME::Entity #!/usr/bin/perl use warnings; use strict; use utf8; use Carp; use Encode; use Net::SMTP; # Require Authen::SASL Module use Net::SMTP::SSL; use MIME::Entity; my $smtp_server = 'smtp.gmail.com'; my $smtp_port = '465'; my $smtp_acc = shift || croak "Require Gmail Acount"; system "stty -echo"; print "Password: "; chop( my $smtp_pwd = <STDIN> ); print "\n"; system "stty echo"; my $mail_to = $smtp_acc; my $mail_bcc = $smtp_acc; my $mail_from = $smtp_acc; my $mail_attached = shift || undef; my $mail_subject = '件名'; my $mail_body = << 'END_MAILBODY'; 本文1 本文2 END_MAILBODY $mail_subject = encode( 'MIME-Header-ISO_2022_JP', $mail_subject ); $mail_to = encode( 'MIME-Header-ISO_2022_JP', $mail_to ); $mail_bcc = encode( 'MIME-Header-ISO_2022_JP', $mail_bcc ); $mail_from = encode( 'MIME-Header-ISO_2022_JP', $mail_from ); $mail_body = encode( 'ISO_2022_JP', $mail_body ); my $mime = MIME::Entity->build( From => $mail_from, To => $mail_to, Bcc => $mail_bcc, Subject => $mail_subject, Type => "text/plain; charset=ISO-2022-JP", Data => $mail_body ) or croak "mime build error : $!"; if ($mail_attached) { if ( -f $mail_attached ) { $mime->attach( Path => $mail_attached, Type => "application/octet-stream", Encoding => "Base64" ) or croak "mime attach error : $!"; } else { croak "no such file exsits : $mail_attached"; } } my $smtp_ssl = Net::SMTP::SSL->new( $smtp_server, Port => $smtp_port, Debug => 1 ) || croak "smtp ssl conn error : $!"; $smtp_ssl->auth( $smtp_acc, $smtp_pwd ) or croak "smtp ssl auth error : $!"; $smtp_ssl->mail($mail_from); $smtp_ssl->to($mail_to); $smtp_ssl->bcc($mail_bcc); $smtp_ssl->data(); $smtp_ssl->datasend( $mime->stringify ) or croak "data send error : $!"; $smtp_ssl->dataend() or croak "data end error : $!"; $smtp_ssl->quit;
個人的におすすめは、ありません。 検索で入手して試すしかないと思います。 検索語： 携帯対応　フォームメール　CGI 配布
社内（イントラネット）だけで利用とのことですが、全員がMSインターネットエクスプローラを使っているのなら次のようなフォーム（HTML）で送信できます。 文字コードは Shift_JIS でないと文字化けします。 他のブラウザではうまく動作しません。 【form.html】 <html> <head> <meta http-equiv="content-type" content="text/html; charset=Shift_JIS"> </head> <body> <form method="POST" action="mailto:受信するメールアドレス" enctype="text/plain"> お名前：<br> <input type="text" name="件名" size="50"><br> 件名：<br> <input type="text" name="お名前" size="50"><br> 本文：<br> <textarea name="本文" cols="35" rows="5"></textarea><br> <input type="submit" value=" 送信 "> </form> </body> </html> 　 ※入力項目は適宜に。ラジオボタン、チェックボックス、プルダウンも使えます。
CGI(perlかphpでしょうか？)を改造できるほどの技術をお持ちでしたら アンケートフォームくらいなら簡単に作れると思います。 勉強のために一度作ってみるのもよいかもしれないですよ？ もしそちらに興味がないようでしたら 以下のようなサイトから無料レンタルフォームを使ったほうが早いと思います。 http://muryou-de.com/fom.htm http://google-mania.net/archives/1039 ご希望のアンケートフォームだと やはり「アンケートフォーム」等の文字で検索するのが 目標を達成する最短の道でしょう。
こんなのは、どうでしょう。 http://cathand.asia/jp/htpasswds/ プログラムのソースコードはありませんが、100人まで一括登録できるようです。 参考URL：http://cathand.asia/jp/htpasswds/
#1の者です。たびたび失礼します。 質問者さんのお話から推測すると、現在お使いのサーバーは、 ・無料もしくは格安のもの ・CGIはプロバイダ提供のものしか使えない ・サーバーは共有で、使える容量も少ない のではないかと思いました。 特に2番目のCGIが使えないとなると、画像アップロードはおろか、アンケートを自力で作ることも難しいですね。もし、アンケートを自作して、その結果をメールで送ることを考えた場合、 ・CGIが少なくとも1種類(Perl、PHPなど)の使用が許可されている。 ・SMTPやIMAP、POPなどと呼ばれるメールサーバーも一緒に使える。 ・画像をアップロードするなら、CGIはセーフモードでないもの。 という条件が最低でも必要ですね。 これを借りるとなると、無料ではまず無理で、少なくとも月額500円ぐらいは必要になってくるのではないかな、と思います。さらにCGIを自分で組むとなれば一朝一夕にはいかないでしょう。一生懸命勉強しても1～3ヶ月はかかるかな、と思います。 これ以上は掲示板などでやり取りするのも限界がありますので、お知り合いの方でパソコンに詳しい方などに相談してみることをオススメします。多くの場合、サーバーの質問サービスはあまり良くないので。
どういった物を作るかにもよりますが カテゴリ分けして考えれば良いかと思います。 拝見したものは、いわゆる条件によって絞込みをしていっているだけだと思うので、それを行えばokだと思います。 たとえばですが、大カテゴリーとして以下の三つを用意します。 ・洋食[yosyoku.txt] ・和食[wasyoku.txt] ・中華[tyuuka.txt] と三つから選んだとき、その後ろのtxtファイルを読み込むとします。 txtファイルの形式はたとえばですが「wasyoku.txt」を以下とし お肉,豚のしょうが焼き/おろしハンバーグ/鶏肉の和風ソース和え 野菜,野菜炒め/キャベツの和風和え/和風サラダ お魚,アジの開き/秋刀魚の蒲焼/マグロの刺身 次に中カテゴリーとしてtxtファイル中身を読み込みます。 仮に和食を選択したとすれば、wasyoku.txtを読み込み ・和食 ├ お肉 ├ 野菜 └ お魚 「大カテゴリー＞中カテゴリー」と選択が進んだわけですね。 中カテゴリーの「お肉」を選択した場合は、さっきのテキストファイルのカンマ区切りの後ろの部分を「/」区切りで出してやるといいでしょう。split関数なんか使えば一発ですね。 ・和食 ├ お肉 　　├豚のしょうが焼き 　　├おろしハンバーグ 　　└鶏肉の和風ソース和え ├ 野菜 └ お魚 これで小カテゴリーまでたどり着きました。かなり絞り込めました。 本来はもっと簡潔な方法等あるかと思いますが考え方はこのような感じでいかがでしょうか。 エクセルなどで編集しやすいようにカンマ区切りでもっとデータの形式を整えても良いと思いますし、全て別ファイルに保存するのもありかと思います。 本当に参考までに書き込みさせていただきました。 ちなみに参考URLのような1ページでの動的な操作をお望みであればCGI単品ではなく、他のスクリプトJava/JavaScript/DHTML/Flash etc.. 必要となるかと思います。
スクリプト、テンプレートが見えないので何ともいえないのですが、 job_num <-> jobnum がうまくいってないんじゃないですか。 いちどステップを print してみたらどこに問題があるのかわかると思います。
ブラウザがキャッシュしているからではないでしょうか？
まず、Perlが正常に動いているか否かは次のように確認します。 コマンドプロンプトを開き > perl -v [Enter] これでPerlのバージョン等が表示されれば、perl.exeへのパスが通っていると判断できます。 さて、PerlのCGIをブラウザから呼び出すとコードが表示されてしまう件ですが、 初期設定のcgi-binディレクトリ内で実行するのであれば、#6さんが回答されているとおり、 httpd.conf内の「#AddHandler cgi-script .cgi」の先頭の#を取ればOKです。 cgi-binではなくhtdocs内で実行したいのであればhttpd.confのhtdocsにあたる ディレクティブ設定内（例：<Directory "C:/Apache22/htdocs">）のoptionsに ExecCGIを追加する必要があります。 ※ここまでは Apache1.3系（正確には1.3.9以降）、2.0系共通です。 ※以下はApache2.2系に限った説明になります。 初期設定のcgi-binでもhtdocsでもない、httpd.conf内にてディレクティブ設定を 行っていない場所で実行させたい場合は、extraディレクトリ内にある userdir.conf で 設定を行い、この設定ファイルをhttpd.conf側で読み込んでやる必要がありますが、 失礼ながら質問者さんにはまだ敷居が高いと思いますので割愛します。 ※どうしてもこの設定を行いたいのであれば、引き続き質問してください。 ※1.3系、2.0系であれば、上記の説明すべてをhttpd.confで行います。
CGIそのものよりも やはりセキリティ等ではじかれている可能性が高いと思います。 一度、セキリティやメール運用担当者に聞いてみては？
回答番号：No.1 にも書きましたが Kent Webさんのは、文字コードがShift_JISですので、文字コードがUTF-8で動作するCGIを使用してください。 ただし、HTML（最低限フォームメールのページ）もUTF-8で作成しなければなりませんので、文字コードに関する少しばかりの知識が必要です。 検索： 中国語 フォームメール UTF-8
@data = split(/<>/,$DATA[0]); の前に chomp($DATA[0]); @data = split(/<>/,$DATA[0]); として下さい。
Perl/CGIでしたら多少お力添えできそうです。 color情報をデータに書き込み、読み込むときにそのデータを取り出してタグの内部に利用してやれば良いかと思います。 主に読み込み時に一度配列にファイル内容を取り込み その後、split関数でデータを分けてtemp_dataという一時的な配列に格納、それを出力。みたいな感じでいかがでしょう。 動作テストしてないので動かないかもしれませんが、考え方の手助けになれれば幸いです。 HTML <form action="XXX.cgi" method="post"> NAME<input type="text" name="name" /> TITLE<input type="text" name="dai" /> <textarea name="comment">Please Type Any Comment!</textarea> COLOR red<input type="radio" name="color" value="red"/> blue<input type="radio" name="color" value="blue"/> green<input type="radio" name="color" value="green"/> <input type="submit" value="書き込み"> </form> とでもして CGI側 #書き込み処理 #------------------------------------------------------------ # 登録データ書き込み処理 #------------------------------------------------------------ sub writeData() { #　$DATAFILEをオープンする open(FILE, ">> $DATAFILE") or die("error:$DATAFILE open error!"); eval{ flock(FILE, 2); }; $timestr = &getTimestr(); $in{'comment'} =~ s/\n/<br>/g; print FILE "\n$in{'namae'},$in{'dai'},$in{'comment'},$in{'color'},$timestr,"; #↑不要だったら先頭の\n消してください close(FILE); } # ファイル読み込み sub readData() { my @file_data=(); my @temp_data=(); #　$DATAFILEをオープンする open(FILE, "< $DATAFILE"); eval{ flock(FILE, 2); }; @file_data = <FILE>; close(FILE); foreach(@file_data){ #@file_dataを元に一行毎に処理させます @temp_data = split(/,/); print "$temp_data[1] (by $temp_data[0] / $temp_data[4]) : <div style=\"color:$temp_data[3]\">$temp_data[2]</div>\n"; } }
httpd.conf がでてくるというのは、Apache でしょうか？ マニュアルによると SetEnv ディレクティブは .htaccess でも使えるそうですが、そういうご質問ですか？ http://www.apache.jp/manual/mod/mod_env.html#set …
SSIであれば、そのincludeを記述している元のhtmlに書いてください＞スタイルシート。 ただし、CGIから出力するtable要素にclass属性を付加してそのclassだけに適用するとかにしないと、元ページの他の部分に影響が出る可能性があります。 元ページ（予約カレンダー以外）でtable要素を使っていなければ問題ありません）。 参考URL：http://lolipoking.lolipop.jp/cgi/patio.cgi?mode= …
> 今cgi-binの中でしかcgiが動かないサーバーを借りていてcgi-binの中からcssや画像を呼び出そうと考えております。 cssや画像をcgi-bin以外の所に置けばいい問題だと思いますが。 そして通常はそのようにします。 HTMLではcssや画像をcgiと同じディレクトリに置かなければいけないというような仕様にはなっていないはずです。
> 書く場所は<head>と</head>の間でしょうか？ > 間に書いたら何も表示されなくなったのですが。（苦笑い） 記述する場所は間違ってませんが、あのソースをそのままコピペしたら、styleタグが閉じてない事になりますので、そりゃ何も表示されないのも無理ありません。最後を終了タグ</style>できちんと閉じてみて下さい。
そのURLを提示して頂けると嬉しい、というか常識。 Shift-JISでは一部の文字に「\」を追加しないと文字化けします。 例：表\示
プログラムしだいです。 フォームから渡されてくる変数をjisだと信じて処理するだけなのか、変数の文字コードが何であれ一定のコードに変換してから処理するか。 後者の処理が実装されていればHTMLの文字コードを気にしないで使用できます。
横から申し訳ありません。 良くあることなのですが、もしかしてCGIファイルをバイナリモードでアップしてはいないでしょうか？ FTPソフト側で強制的にASCIIモードでアップしてみてはいかがでしょうか。
「登録」ボタン押下後、ブラウザにはどのような表示がされますか？
EUC にない文字を使ってるとか, そういうことはないですよね? あと, 揺らぎなく完全に一致しなければならないので元のデータベースに入っているデータはチェックしてますか?
僕も同じ本購入し、同じ問題が起こりました（XPユーザです。） なんども本を読み直したらわかったのですが、項目「Apacheの起動と終了」で説明されていました。 Apacheはconfファイルに設定される前から起動しているため、Apacheを再起動しない限り反映されないようです。 一度Apacheを「Restart」し、confファイルの内容を反映させなければいけないようです。
机上で考えただけですので、間違ってるかもしれませんが・・ DirectoryIndexの最初にindex.phpを置いておられるということは、 header("Location: http://www.○○○○○.com/"); の部分でindex.phpを読み出すことになり、ループすることは当然かと思いますが。 該当部分をheader("Location: http://www.○○○○○.com/index.html"); にしてやって、PC用のindex.htmlを作成すればいいんじゃないかと。
「データファイルが見つかない」だけでは、漠然としていて状況がよくわかりません。 Perl にはグロブや opendir やファイルテスト演算子などが用意されているので、 簡単な CGI を作って調べてみてはいかがでしょうか。次の CGI プログラムは、パスが 間違っていればその旨を、パスが合っている場合はそのディレクトリのファイルリスト をブラウザに表示します。 #!/usr/bin/perl use strict; use CGI::Carp qw(fatalsToBrowser); opendir DIR, "../../httpdocs" or die "Can't open $!"; print "Content-type: text/html\n\n"; print "<html><head><title>Path Check</title></head><body>\n"; while (my $file = readdir DIR) { print "$file<br>\n"; } print "</body></html>\n"; closedir DIR;
一見するとスキン式ではないので無理だと思います。 直接ＣＧＩ内部のデザイン部分をいじれば可能。 ＣＧＩが分からない場合はＣＧＩ自体が動かなくなるので触らないほうがいいと思います。 スキン式（テンプレート式）掲示板を探すことをお勧めします。
> print "Content-type: text/html\n\n"; htmlで改行する場合は、再度テキストエリアなどに表示しない場合、 <br>といったhtml用のタグを用いるのが通例です。 ですので、そのまま出力して改行を反映させるならば text/html から text/plain に変え、 print "Content-type: text/plain\n\n"; print $area; としてください。 htmlとして表示するなら、改行を<br>に置換すれば表示できるでしょう。 #全て置換する $area =~ s/\r\n|[\r\n]/<br>/g; print "Content-type: text/html\n\n"; print $area;
ほかのCGIが作動していると言うことでしたよね。 後は考えられるのは、ＵＰの方法の間違いでしょうか？ あと　７５５- test.html　は644 ホルダーは　７５５ cnt.cgi　を直接指定して、カウンターの　数字が出れば、成功です。 例　＞＞　print "document.write('000006');"　　
メニューが隅々までしょっちゅうちょこちょこ変わって、 CSVでなら簡単に最新のデータがもらえる場合、 CGIで、そのCSVからメニューと個別ページを作るようなプログラムを専用に作ったほうがいいと思います。 ベースにするために、CSVをデータベースとして読み込んでくれるCGIから初めても、表示とかを調整している間に本末転倒になりそうな気がします。 もし、今回作成するだけでしたら、 一種のテキストファイルだと思って置換とかを駆使して力ずくで処理してしまった方が…。
xoopsにモジュールで http://xoopscube.jp/ http://xoopscube.jp/module?category_id=42
No.3 です。 すみません、ご質問を誤解した様です。 更新日表示専用の軽い CGI は知りません。 ある程度の技術のある人なら作れると思いますが。 一方、更新日*も*見れる CGI に対象を広げると、調べたい URL から返ってくるレスポンスヘッダの表示機能があれば良い訳です。 例えば以下で、調べたいURLを入力して『URL指定のときHTTPレスポンスヘッダを表示します。』ON にして、『チェック』を押してください。 http://openlab.ring.gr.jp/k16/htmllint/htmllint. … 「チェックの結果は以下のとおりです。」の下に Last-Modified: で始まる行があれば、それが document.lastModified 相当の日時です。
この質問の本質がHTML側に重きを置いたCGIに多少関連する程度のことなので良いのですが > ヒアドキュメントの部分は以下でよいでしょうか > <form> > <input type="text" name="T2" value="$FORM{'T2'}"> > </form> >再度質問ですが、CGI-B.cgiにボタンが２つあって１つ（例えば”OK”）を押すとCGI-A.cgiにおいてT1の文字全体を別の文字に変化させるにはどうするのでしょうか こちらは明らかにHTML(DHTML)およびJavaScriptに関するまったく異なる質問です。 ずるずるとこちらでやってゆくより、別のカテゴリで質問するべきでしょう。 そうしないと同じような悩みや疑問を持っている方へのケーススタディ履歴や対応処置データベースとしての機能をはたさなくなります。 それと、できるだけトライアンドエラーで試行錯誤した状況というのをもう少し質問に反映した方が良いと思います。 ご健闘を祈ります。
つかぬ事をお伺いしますが、環境変数はきちっと設定されてるでしょうか？
私が実際にサイトで使っているCGIですが、こちらのものはどうでしょうか？ 何通りか種類があり、中には画像アップロード機能が付いているものもあります。とてもシンプルな作りなので、改造もしやすいかと思います。 また未来の予定以外にも、固定した記念日（例えば誰かの誕生日など）を登録できる機能もあり、おすすめです。 参考URL：http://cgi-design.net/
私も一度TOK2で作ってみたことがあったのですが、正常動作しなかったので別のサーバーで運営中です。 (もしかしたらあの時何かヘマをしでかしかたもしれませんが。。。) 忍者アドの存在も気になります。外してみてそれでもダメでしたら別サーバーを探してみるといいと思います。
標準モジュールの Time::Local を使うと、日付からエポック秒を得ることができます。 use Time::Local; $time = timelocal($sec, $min, $hour, $mday, $mon, $year); $mon に１を引いた値を、$year には 1900 を引いた値を指定します。2009 年 7 月 5 日の 場合は、localtime(0, 0, 0, 5, 6, 109) でエポック秒を取得できます。他の比較したい日 付も同じような方法で取得できますので、秒数の差をチェックすれば判断できるのではない かと思います。
可能ですし、処理自体は難しいものではないはずです。 CGIとjavascriptを組み合わせて管理画面を作ることになると思います。 ただ、ファイル作成・保存あたりの処理よりも、管理画面を作るほうがよっぽど大変です。 「誰でも管理可能」という管理画面ほど、エラー処理が面倒なんです。 パソコンの初心者みたいな人って、想定しない操作をやってくれますので。考えてみると、自分も昔はそうだったはずです。私なんか、今でも変なことしますが、、、 個人的には、既存のCMSをカスタマイズして使うのが良いと思います。 あと、自動更新（って、日時指定のことですよね）は、作り方によります。 表示されるページがHTMLではなく、.cgiとか.phpとかであれば普通に可能です。 .htmlとかの、完全な静的ファイルでやりたければ、サーバで設定をしなければできません（javascriptとか組み込んでいれば、不可能ではないですが、あまり現実的じゃない方法のような気がします）。 cronというヤツで、何時何分にどのプログラムを自動的に実行するといったことができますので、それを使ってHTMLファイルを書き換えてやらなければなりません。 レンタルサーバ会社によってはcronは提供していない場合もありますので、注意してくださいね。
MT-BOARD v2って、書籍の付録でしか手に入らないようなので、詳しくはわからなかったのですが、その本にはそういった機能が付いていることについて書いてありませんでしたか？ 書いてあれば、そのとおりにやればできるはずですし、書いてなければ、おそらくその機能はないので、プログラム自体を書き直さなければ実現できません。
直接の回答ではありません。 かつていくつか試しましたが、なんだかんだいって手間もかからず利用者に評判良かったのはYahoo!カレンダーでした。1カレンダー内でのグループ分けはできないと思いますが、今のところタイトルに【】等をつけて対応しています。
正規表現で調べてごらん その例文のやつは正規表現だけどアルファベットを検知する方が書き方は簡単だから。 http://www.kt.rim.or.jp/~kbk/regex/regex.html
ファイル追加書き込み以外の処理は、本当にきちんと行われていますか？ プログラムの中でメール転送もしているのですか？　そのメールがきちんと転送されていれば、プログラムは起動していることになりますよね。。。 ちなみに、サーバによっては、forward等からプログラム起動できないこともあります（権限の問題ですね） 同じように、実行者の権限の問題で、パーミッションエラーを起こすこともあるのかな、と思います。ディレクトリやファイルの権限等々はいかがでしょうか？ 一旦、メールからPerlにパイプするときに、sudoを挟んでみてはいかがですか？　root権限で実行して結果が違えば、原因が絞れるような気がするので。
貴方が示したHTMLでFirefox2とIE8で試してみましたが、 なんら支障ありませんでしたよ。 それと、 「../../../top.htm」はアドレスをカットしているのですか？ サーバパスでリンクを張るのが正しいと自分は思います（../top.htm）。
> そういった仕組みはjavascriptってことでしょうか？ 検証していませんが、そのような仕組みは仰る通りと思います。 もしかしたら、HTMLだけの機能である可能性もありますが。
winXP、Firefox3ではずれてるように見えませんが どのブラウザで確認するとズレます？
結構要求が細かいので、それを完全に満たすプログラムってフリーで落ちているようなものの中では無いような気がします。 近いものがあっても、確実にカスタマイズが必要なんじゃないでしょうか。 処理自体は簡単なものなのですが。。。 以下、CGIとかPerlとかとは関係ない部分について、ご回答いたしますね。 >1.空メール送受信CGI なんとなくわからないのですが、、、 空メールを送るのに、 >アクセスされたURL内に記述されたボタンを押すと、メール送信用画面が立ち上がり がなぜ必要になるのでしょうか？ QRコードとかでいいような気がしますが。。。 というか、携帯電話から直接送らせないと、メールアドレス詐称し放題です。 空メールを受け取った時に処理をする方法ですが、これはプログラムのみでは無理です。 サーバで、forwardとかaliasesとかいうファイルを編集します。 これは、メールを転送するために使うものなのですが、メールが届いたときに特定のプログラムを起動するという設定をするためにも使えます。 この設定は、権限の問題で簡単にできない場合もあり、レンタルサーバによっては不可能だったりもします。 >3.アラート用CGI これっていうのは、毎日毎時、人間が張り付いていて送信ボタンを押したりせずに、一定時間ごとに自動的にプログラムが動く、ということですよね。 それだとやはりこれもCGI単体では不可能です。 サーバーの設定で、cronというものがあり、それを使う必要があります。 指定日時・一定時間ごとにプログラムを起動するというものです。 >そのCGIとHTMLを連結させるための方法をご教授いただけませんでしょうか？ やり方はいろいろありますし、人それぞれですが。。。 フォーム関係のものでしたら、単純にフォームを設置してやって、 <form action="path/name.cgi"> で、submitしたときにそのcgiファイルを起動するようにできます。 それ以外で、HTMLベースにしたければ、HTML内にscriptタグを入れて、指定する スクリプトをcgiファイルにしてやることで動作させることができます。 もしくは、cgiファイルをベースに考えて、cgiファイル内にHTMLを記述する方法もあります。 私自身、0から独学でやってきていて、まだまだレベルが低いのですが。。。 厳しいことは言うべきではないのかもしれませんが、yu-i-ri-3さんの現時点でのレベルでは、今回の件を解決させるのはかなり大変な作業になると思います。 大変かと思いますが、頑張ってくださいね。 CGIそのものについては、他の方にお任せします。
関数に分離すれば…？ sub printTag{ $jsFdr = "../js/"; $cssFdr = "../css/"; if($_[0] =~ /\.js$/){ return "<script type=\"text/javascript\" src=\"$jsFdr$_[0]\"></script>\n"; } if($_[0] =~ /\.css$/){ return "<link rel=\"stylesheet\" href=\"$cssFdr$_[0]\" type=\"text/css\" media=\"all\">\n"; } } んでもって #これでjavascript出力 print &printTag("prototype.js"); #これでcss出力 print &printTag("style.css"); あんまり利点はない様に思いますが…
こんちは。 CGIの記述方法に関しては勉強不足ですが。。。参考程度に。 「$mailbody .=」 と 「$mailbody =」 の違いでは？ 毎回、「$mailbody =」で、変数格納してますが、単純に内容が上書きされてってるだけじゃないかと。。。 >>「$mailbody = "-------------------------------------------\n";」を さらに、for文の箇所でも消してみたら、「《応募内容》」だけが送られてくると思いますよ。 正しい記述としては、 $mailbody .= "追加したいもの"; もしくは $mailbody = $mailbody."追加したいもの"; かな？
<font color="#ffd700">■</font>今月の休業日です。<br><br> <IFRAME src="sche38.cgi" width="167" height="162" frameborder="0" scrolling="no"></IFRAME> の次に <font color="#ffd700">■</font>来月の休業日です。<br><br> <IFRAME src="sche38.cgi?year=2009&mon=7" width="167" height="162" frameborder="0" scrolling="no"></IFRAME> を追加すれば良いのでは、、、 毎月初めにパラメータ year=xxxx&mon=xx を書換えるのが面倒なら javascript で書き出すとか、 横並びにするなら teable を使うとか、ですね。
なるほど、nameもデコードしちゃって日本語で扱うんですか。 国産ブラウザの特徴を活かした面白い使い方ですね。。 エラーでないで動きますよ？ チェック用にprintする際にHTTPヘッダの出力を行っていますか？
CGIというより、MTA(Message Transfer Agent)の仕様に従って記述します。 　MTAがsendmailなら、,で羅列すればよい。qmailだと半角スペースというふうに。 　相手の名前を入れるときは、名前は""で括り間をあけずに<メールアドレス>にすればよい。 　詳しくは、それぞれのMTAのmanを参照してください。 FreeBSD man | sendmail http://www.pinkdragon.net/DocumentsLibrary/conte … qmail-1.03 付属文書 http://man.qmail.jp/ なお、なかアドレスに日本語などを含むときは、Base64エンコードしてください。
perlのCGIプログラムが実行できない場合の原因はたいてい次のようなものです。 （元々CGIが使えないサーバは別にして） (1)構文エラー 　-ｗ スイッチで確かめてみましょう。 (2)perlインタプリタのパス不正 　たいがいのサーバは、#!/usr/bin/perl、#!/usr/local/bin/perl、どちらでも良い、のいずれかです。 (3)改行コード不正 　サーバがUNIX系OSなら 0x0A です。Windows(DOS)の 0x0D0x0A、MACの 0x0D のままでは 1行目に書いたperlを見つけられずエラーになります。 　Windows、MACのパソコンからアップロードするなら、改行コードを 0x0A に変換してから転送するか、FTPのASCII（TEXT）モードでアップロードします。 (4)アクセス権（パーミッション）不正 　今のレンタルサーバはほとんどがユーザ権限で動くように設定されていますから 700 で良いはずです。これでだめなら、701か、705 にしてみてください。 (5)requireするライブラリ、useするモジュールがあるべきところに無い、または壊れている。 (6)まれに、.htaccessファイルでCGIを使うための設定が必要なサーバがあります。
$str = "id<>hogehoge<>"; ($key,$val) = split(/<>/ , $str); ${$key} = $val; print "Content-type: text/plain\n\n"; print '$id = ' . $id;
＞ 訪問者の所在地である都道府県を解析できるものがありますが これは、環境変数から訪問者の IPアドレスを得て、そのアドレスがどこ（のアクセスポイント）で使われているものか調べて判断します。 perlやjavascript、phpなどにこういった関数は無いと思いますよ。 参考URL：http://jprs.jp/
方法はいくつかあるでしょうが、回答項目の type属性値がcheckboxで、name属性値が同じなら、フォームからの投稿データは単純に保存しているだけでしょうから、次のように、たとえば name属性値に連番を付けて追加すれば、質問はいくつでも増やせるでしょう。 ◆質問２<br> <input type=checkbox name="regist2" value="項目２１">項目２１<br> <input type=checkbox name="regist2" value="項目２２">項目２２<br> ◆質問３<br> <input type=checkbox name="regist3" value="項目３１">項目３１<br> <input type=checkbox name="regist3" value="項目３２">項目３２<br> 　： 　：
半角・全角スペースだけを問題とするのであれば、 半角・全角スペースを削除してからパターンマッチすればよいかと思います。
日本語文字を含むメールは、文字コードをISO-2022-JP（&#x2252;JIS）にするのが基本原則です。 また、ヘッダにASCII文字以外を使う場合はその部分のみをMIMEエンコードする必要があります。 SJIS、EUC、UTF-8を解釈できないメーラ（メールクライアント）はまだまだ多いです。 規格はずれの相当いいかげんなフォーマットでも適当に表示してくれるOutlook Expressでも UTF-8だと一部文字化けします。
そりゃ無理です。 何事も、必要ならそれについて勉強しなけりゃ・・ ただ、例に挙げられたサイトのCGIはそんな複雑なものではない。通常は カテゴリを選択すると、そのカテゴリ内でとどんどんと絞込みをしていくものです。 　そのようなものを作ろうとすると、データベースやデータベースを扱う言語(PHP)等の知識が必要ですが、希望されている程度なら、Perlだけで簡易データベースを作ればよい。 　通常の検索システム、たとえばデータをキーワードを入れて一行ずつ登録しておいて、それから抽出するものでよい。 　たとえば 自動車,ガソリン,200cc,2500000,・・・・,/data/car1.html のようなもの。ExcellのCSVと併用できる形に整形しておくと、CSVをアップロードすりゃすむ。 たとえばCGI RESCUE - ネットサーフレスキューＷｅｂ裏技 ( http://www.rescue.ne.jp/ )さんの、CGI RESCUE チャレンジＣＧＩ - 簡易ナビゲータ ( http://www.rescue.ne.jp/cgi/webnavi/ )あたりを改造するとか・・ 　このCGIは特殊なネットサーフレスキューさんがよく使われるタイプのデータ構造ですが、先に言ったようにCSV型にするほうがよいかも。 　Perlだと、Pascalのように厳格でなく自然言語に近いので、勉強しやすいかと 　
<!-- ここまで --> _SUB_MSG_ #============# # 設定完了 # #============# のずっと下にある #----------------# # 投稿フォーム # #----------------# の部分の内容を改変すれば何とかなるのではないか？と思います。
画面表示系の部分しか示されていませんが、メール送信処理のところはどの文字コードにして送信していますか？　メールもutf8のまま送信しているのであれば、jisに変換して送信してみてください。
１行目の最期のほう、 charset=shift_jis を、 charset=UTF-8 に書き換えればＯＫです。 そこは、「この文書のエンコーディングはｘｘです」と宣言している部分なので。 ここを見て、システムはエンコーディングを決定します。 UTF-8に保存しても、そこがshift_jisのままだと、shift_jisだと思って処理してしまいます。
「%necessary_list」という連想配列に必須項目のリストが書かれているのではないでしょうか。
自作CGIは無理みたいなので、たぶんだめです。
> RewriteRule ^/hoge/(.*)\.html$ /$1\.php [L,R=permanent] RewriteRule ^/hoge/(.*)\.html$ /hoge/$1\.php [L,R=permanent] なんじゃない。 .htaccess なら hoge ディレクトリに置いて RewriteRule ^(.*)\.html$ $1\.php [L,R=permanent] でいいはずです。
遅くなって申し訳ありません。 回答が付いていたんですが検証が遅くなってしまって・・・。 とりあえず参考用スクリプトを以下に記述いたします。 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS"> <title>TEST</title> </head> <SCRIPT Language="JavaScript"> <!-- var FrameContent_TEST; var sFramePageURL = 'http://web.vago.jp/test_1962/ok_wave/20090610/Fr … var sWinName = 'TestPage'; function fShowFramePage(){ FrameContent_TEST = window.open(sFramePageURL,sWinName,'width=800,height=700,scrollbars=1'); FrameContent_TEST.focus(); CheckFrame(FrameContent_TEST); } function CheckFrame(w){ if(typeof(w.main) != 'undefined'){ // alert(typeof(w.main)+"を確認しました"); document.f1.target = "main"; document.f1.action = "http://web.vago.jp/test_1962/ok_wave/20090610/te … document.f1.submit(); }else setTimeout(function(){CheckFrame(w)}, 1000); } //--> </SCRIPT> <body> <form method="POST" name="f1"> <input type="hidden" name="TEST_TEXT01" value="試験"> </form> <br> 試験フレームのみ【ページ開く】<input type="button" value="新しい窓を開いてFrame確認" name="B1" onClick="fShowFramePage();"><br> 試験フレームのみ【フレームチェック】<input type="button" value="新しい窓のFrame確認" name="B2" onClick="CheckFrame(FrameContent_TEST);"><br> <br><br> </body> </html> 参考URL：http://hiroba.kodate.jp/qa5037537.html
何かの課題ですか？ 丸投げって・・・。 でも暇だったのでちょっと追ってみました。 ---------------------------------------------------- $coin = --$coin; $bet = ++1; ↓ $coin -= 1; $bet += 1; ---------------------------------------------------- if($a==$b||$b==$c) { if ($a == 7) {$coin = $coin + $bet * 50;} elsif ($a == BAR) {$coin = $coin + $bet * 10;} elsif ($a == @) {$coin = $coin + $bet * 5;} else {$coin = $coin + $bet * 2;} } ↓ if($a eq $b||$b eq $c) { if ($a eq '7') {$coin = $coin + $bet * 50;} elsif ($a eq 'BAR') {$coin = $coin + $bet * 10;} elsif ($a eq '@') {$coin = $coin + $bet * 5;} else {$coin = $coin + $bet * 2;} } ---------------------------------------------------- print<<EOF ↓ print<<EOF; ---------------------------------------------------- とりあえずこれで動く？ 動きがおかしいのは考えてね。
正直なところ、どちらでも、、、といったところです。 あえて「旬」というならば、PHPなんでしょうね。きっと。 どちらも既に「旬」ではないと思いますが。。。 PHPの場合、CGIで立ち上がるワケではないので、動作はPerl/CGIと比べて軽快です。 ですので、動的なページ生成を考えるならば、PHPのほうが良いでしょう。 正直、PHPはプログラムの一部を改造する程度しかできませんのでなんとも言えませんが、Perlは文字列処理が強力なのは、Webにたくさん情報があるとおりで、私も実感しています。 その一方、グラフィック的な処理は、Perlは不向きです。 Perl5系はオブジェクト指向が、だいぶふわっとした感じで、オブジェクト指向を理解しきれていない私にはちょっと使いづらいです（オブジェクト指向をカチッと勉強するには向いていないと思います）。 Perl6系になったら、もっとしっかりしたオブジェクト指向になるそうですが、、、 で、私自身は、最近はCGIでサーバ上のデータを整形してjavascript（Ajax）に渡すという流れがお気に入りです。 または、javascriptでデータを取得して、CGIに渡して、サーバ上に蓄積する、といったカンジですね。 javascriptはブラウザ上でページ遷移なしに画面を変更できることと、サーバにかかる負荷が低いというのが良い点ですね（あまりすごいことすると、今度はユーザに大きな負担を強いることになりますが、、、） ただ、javascriptはブラウザによって実装が違うので、その辺が面倒なところです。 結局、用途に合わせて、良いところを組み合わせて使うというのが一番いい方法かなと思っています。 回答になっていますでしょうか？
フリーCGIがどれか補足した方が有効な回答がつくと思いますよ。
＞知りたい内容は、自サイトの各ページを、URL表記ではなく、 自分でページタイトルをつけて、表記したいというのが一つですね。 URL表示をタイトル表示にする事を「URLマッピング」と呼んでいるようです。 通常、インプレッション数には自分のサイトのタイトルが自動で検出されて表示してくれます。 もしタイトルが自動で表示されないような時は以下の設定が必要なようです。 ご自身で設置されたアクセス解析の管理画面内一番下に「設定情報」項目があります。その中のCGI設定でマッピング設定を行います。 マッピング設定はマニュアルの「詳細設定」項目にある「URLマッピング機能」に設定方法が詳しく載っておりますので是非チャレンジしてみて下さい。 パスの設定と言うところで詰まるようでしたら、参考URLを見て相対パスを覚えて下さい。パスとは何かわかれば設定方法が理解できると思います。 設定の際は"絶対パス"ではなく"相対パス"を設定すると易しいです。 参考URL：http://www.shoshinsha.com/hp/1hour/know/pass.html
配列に格納する際に、 > $KEYWD{$name} = $value; のように、マッチする文字列の方を添え字にして、 値にキーワードグループの番号としているようなので、 文字列的に前の方に来るのが先にヒットしてしまうようです。 どうやら キーワードの優先順位などを格納するようにしたり、 この部分のキーワードマッチの方法を改良するなどしないと、 ご希望の動作はしないようです。
すいません。あげあし取られそうな回答しちゃったんで訂正です。 > その自宅サーバにそれを参照するCGIなりAjaxなりを設置すれば良いと思います。 参照するのはCGIとかAjaxじゃなくて、サーバ側から定期的にその手のクライアントアプリを作ってまわさないと(cron)意味がありませんでした。 perlで作る場合はCGIでページ参照するのとあまり変わらないのでやはり過去のQ&Aをご参照ください。
管理者と同じメールを決まったアドレス（例:bbb@bbbbb.com）にも送信するのなら、 $master = 'aaa@aaaaa.com'; を $master = 'aaa@aaaaa.com,bbb@bbbbb.com'; にすれば行けませんか？
データの受け渡しにGETを使うかPOSTを使うかは 受け渡すデータ量で決定するのがセオリーではないでしょうか。 あとはデータ量がGETの範囲を超えているけど 見た目的にformボタンではなくテキストリンクにしたいとか、 i-modeなどはだいたい100KBまでブラウザで表示できるのでそれを超える場合（テキストではまず無いと思いますが）、一度ファイルに書き出してしまうしか無いと思います。 その場合はテキストリンクのクエリにセッションIDを持たせる事で実現できますよね。 モバイルサイトに関してはパケット代節約と表示を高速にする目的のユーザービリティの為か？セッションIDでデータを管理する傾向が多く見られる気がします。 特にPHPに関してはPHP4からセッション管理機構が実装されてるようですので、それもあるかもしれません。 参考までに、自作でセッション管理する場合は下記のような感じでどうでしょう。 入力画面1 　⇒セッションIDが無いならば何かユニークなIDを新規生成 　⇒「次へ」のリンクのクエリにIDを仕込む 　⇒入力完了で「次へ」を押す 　⇒セッションIDつきのファイルネームで入力したデータを保存 入力画面2 　⇒★クエリからセッションIDを受け取る 　⇒「戻る」「次へ」のリンクのクエリに受け取ったセッションIDを仕込む 　⇒★該当セッションファイルからデータ取得 　⇒★入力画面2のデータがあれば画面内に配置 　⇒入力完了で「戻る」または「次へ」を押す 　⇒セッションIDつきのファイルネームでデータを保存 こんな感じでしょうか。 入力画面2で「戻る」を押した場合は入力画面1でも★印の操作が必要ですね。 セッションファイル削除のタイミングはご自由に。 ご質問からちょっと日が経っているので解決済みかもしれませんがご参考までに。
うまく動かないとはどのような症状でしょうか。 test.cgi にアクセスした時の画面にエラーが表示されていれば記述して下さい。
<a href="/*****/downcnt.cgi/Sample001.lzh">Download</a> ↑これを↓こう変更してみてください。 <a href="./downcnt/downcnt.cgi/test000.lzh">Download</a> たぶん正常に動作するハズです。
沢山の条件に影響されるのでうまくいくかどうかはわかりませんが、以下の様にすればできるかも。 sub go{ if( $lct =~ m/\.cgi/ ) { require $lct; exit; } print "Content-type: text/html\n\n"; open(IN, $lct); print <IN>; close(IN); }
バナーのサイズは、管理室→環境設定→登録処理関係の設定の バナーURLの縦サイズ、バナーURLの横サイズを確認して、 一度、この部分の更新するボタンで更新してみてください。 表示部分の説明 <img src="$Slog[12]" width=$EST_reg{Mbana_w} height=$EST_reg{Mbana_h}> width=$EST_reg{Mbana_w}→バナーURLの横サイズ height=$EST_reg{Mbana_h}→バナーURLの縦サイズ どうしても直らない場合は、直接、width=88 height=31 と入力すれば 指定サイズ表示どうりに表示されます。 <img src="$Slog[12]" width=$EST_reg{Mbana_w} height=$EST_reg{Mbana_h}> 上記部分を↓ <img src="$Slog[12]" width="88" height="31">
きっと経路によって遅延したりしなかったりが濃厚ですが、 ・遅延するほうのドメイン（＠△△.co.jp） ・メール配信CGIソース どっちかに問題があるんでしょう。 これ以上情報がないので、なんともいえない
patchコマンドを使います。 diffファイルの内容がわからないと不正確ですが、 XXX.diffとyyy.cgiを同じディレクトリにおいて、 $ patch < XXX.diff とやったらあたりませんか。
ん～。。。 多分、そもそも全部CGIで組んであるんじゃないかと。 HTML側の処理。。。ってのは、CGIプログラムの中に、HTML表示させるコマンドというか、タグがそのまま埋め込んであるだけかと。 ということで。。。 >>投稿したコメントが書き込まれた状態のＷｅｂページにするのはＨＴＭＬ側の処理なのでしょうか？ そもそも、日記を表示するCGIページがあって、そのCGIには、日記を表示することと、追加されたコメントを順次、表示していくプログラムが組んであって、 ボタン押して投稿されたら、管理ファイルに書き込まれたコメント欄内容を、そのまま表示するだけ。かと。 あえて表現する？なら 【管理ファイルへ書き込まれている文章を読み出す】処理があって、HTMLで、それが表示されるようにしてある。 ですかねぇ。
"jcode.pl"の記述を"./jcode.pl"としてもだめですか？ できればこういうライブラリは専用のディレクトリ一箇所に集めてパス指定で組み込んだ方が良いと思います。 仮想サーバの場合フルパスがわかりにくいので管理者が教えてくれないなら環境変数を解析取得して組み込んじゃいましょう。
>mondai.cgiを開いてもエラーページになってしまいます。 エラーコードはなんでしょう？４０４とか >「まず、cfg.cgiをお使いのサーバに合わせて、編集してください。そして、すべてのファイルをアスキーモードでアップロード＆パーミッション設定してください。」というところまで設定した それしかやっていないのであれば、CGIが動いていないか設定が間違っているのでは 設定の大事でない部分を晒すと早く答えが見つかるかも
可能です。というか、いまどきのショッピングサイトはほとんどそう言う機能を持っていると思いますが、そういうサイトをご覧になったことはないのでしょうか？ 「CGI　ショッピングカート」などで検索すればいろいろ出てきます。フリーのものをいくつか選んでソースを研究すると、それぞれがどんな方法で実装しているかわかると思います。 下記、一例です。 http://module.jp/dist/web+db-press1-mod_perl02.pdf
非USASCII文字を生でURLに入れてうまくいく方が、むしろ少数派でしょう。 まず、非USASCII文字を含む(かもしれない)場合は、CGI::escape() しましょう。 文字コードとして SJIS が良いか UTF-8 が良いかはOSやWebサーバーの種類や設定により異ります。 私の経験では、CentOS5 + Apache2 では UTF-8 で、WinXP + Apache2(Cygwin) では Windows-31J でした。 さらに、CGI.pm はバージョンによって Encode 絡みの使用法が変る様です。 超えるべき壁が多いかも知れませんが、頑張ってみてください。 # ディレクトリやファイルの名前はUSASCIIでという選択肢があるなら、ベストだと思いますが。
　renlenが使用されているサーバがレンタルサーバなのか、自宅に設置している公開サーバなのか、そのサーバのO/Sは何なのか等によって、cgiの動作環境は異なります。 　cgiを公開している「http://www.cj-c.com/cgi_s/index.html」に書いてある「Check Point」がクリアできるか、理解できるかが全てです。 　これ以上の細かな手順や説明は、出来ないと思って下さい。私も別のサイトで、同程度の説明を読んで掲示板を運用しています。
ここまで作り込むには、 CGIにとても詳しくなる必要があります。 （CGIじゃない方法でもいいですけど。 　書き込まれてるページもphpですし） それは、HTMLとかテンプレートとかという話以前の段階ですので、 まずはサーバー側でデータを処理するしくみのいずれかを勉強されることをおすすめします。
Dreamweaverの画面を見たことがないのでわからないのですが この問題が1回だけで、その後発生していないのなら 何らかの勘違いか操作ミスがあったのか程度で、重要視する必要はないと思います。 サーバーですが「さくら」なら、私も過去に使用しましたが、勝手にパーミッションが変わることもなかったので、心配はいらないでしょう。 もし、何度も発生するようなら、考える必要があると思います。
それはCGIが作ったディレクトリではないですか？ だったらユーザーが違うのでしょう。 その場合、ディレクトリを削除するCGIを作ってください。 例えばfooというディレクトリなら rmdir 'foo'; で削除できます。
http://www.deiyu-studio.net/gms.shtml ゲームのギルド・グループメンバー紹介用ですが、 オリジナルのスキンを作ればサークル・部活メンバー紹介にも良いと思います。
> PATHは，printenv PATHで表示される物と同じですよね． ひょっとして、落とし穴にはまられました？ PATH 変数の役割や概念は共通です。 しかし、PATH変数の値(内容)はプロセスによって違います。 だから、Perl の CGIから起動できるコマンドを調べるには、telnet 等でログインした時の PATH 変数を調べてもほとんどの場合役に立ちません。 CGI自身で『現在のPATHの内容』を調べてください。 > cgiプログラムと同じところある物は動きますが，それを/binや/usr/binに移動させると動かなくなります． まずは、CGIプロセスの PATH変数中に /bin や /usr/bin が含まれているかどうかです。 次に、CGI から見える /bin や /usr/bin はあなたがコマンドをインストールした /bin や /usr/bin と同一かどうかが問題になりますが、他人が設定したサーバーのこのあたりの事をユーザーが調べるのは難しいかも知れません。 状況から察するに、レンタルサーバーですよね？ 使える外部コマンドとか自作コマンドのインストール先とかが開示されて無ければ質問しましょう。
CGI表示にしてカテゴリページを自分で作らなきゃいけません。 そのページ(カテゴリ出力のやり方)の前のページをちゃんと読みましたか？ 詳しいやり方はそこに載っています。 参考URL：http://www.yomi-search.net/050yomi-custom/070.html
No1です。ほかの回答者の通り、その文字列自体にプログラム的な意味はないです。ここで指定された「2222」とか「サーバーエラー。#101」という文字列が、errorサブルーチンの中の print "<font color=#ff0000>$atencion</font><p>"; の$atencionに置き換えられるだけです。 要はデバッグ用につけた文字で、「あ、#101てことはあそこがエラーだな」とわかりやすくしてるだけではないかと。
Yomi-Searchを設置していますが、サイト内検索には向いていません。 外部リンク集のようなプログラムなのでサイト内検索として使うにはかなりの改造が必要で初心者にはとても難しいと思います。 通常設置でさえ中級向きです。 またYomi-Searchヘルプでは設置例として「@niftyでの設置」が載っていますが、@niftyの規約を読むとあまり薦めできなさそうです。 Yomi-Searchは高負荷CGIです。@niftyの規約では高負荷CGIで他人のサービス利用に支障を来たすと判断された場合、一時的に閲覧できない状態にされるそうです。 Yomi-Searchを使った検索サイトのほとんどは有料サーバーにて運営されてます。 ページ数がどのくらいか分かりませんが、サイト内検索ができる別のCGIを探した方がいいですよ。 http://www.synck.com/contents/download/cgi-perl/ … CGIを使わなくてもできる方法もあります。 http://allabout.co.jp/internet/hpcreate/closeup/ … http://allabout.co.jp/internet/hpcreate/closeup/ …
public_html/xxx.html と public_html/test/xxx.html はパーミッションが同じだそうですが、所有者も同じでしょうか？ public_html/test ディレクトリの所有者・パーミッションはOKですか？ public_html/test/.htaccess が存在するなら、それも所有者とパーミッションを適切にしましょう。 .htaccess の中身に文法エラーとか変な事は書いてませんよね？ confファイルにディレクトリ句を書く時、「/home/*/public_html」は固定では無い、つまり OS にログインするユーザーのホームディレクトリ位置は環境依存というのはご存知ですね？
SMTPの"553"(5.3.0)のメッセージは、おそらく送信に何らかの認証 (POP before SMTPなど)が必要な時に出る事があります。 一度、サーバを管理している会社におたずね下さい。
> 注意事項ぜひお聞かせください！ CSV文法の基本規則は特にむづかしくありません。 http://www.kasai.fm/wiki/rfc4180jp セルデータ中に 「,(カンマ)」、「"」、改行のいずれかを含む時は、セルデータ全体を「"」で囲む。 セルデータ中の「"」は「""(2個連続の")」に変換する。 それだけ守れば最低限の役には立ちます。 しかし、MS-Excel と CSV データを交換するにはもうちょっと工夫が必要です。 私も一部しか知りませんが、例えば 1 文字コードは Windows-31J (CodePage932 の事) 2 書き込み処理では改行コードは全て CRLF。 読込処理では、LF と CRLF の混在に耐えられる様に。 (あるバージョンの MS-Excel は、行区切りに CRLF を、セル内改行に LF を使います) 3 MS-Excel の「自動形式認識」は多くの場合有害。 例えば「1/2」というセルを持つCSVをMS-Excelで入力すると「1月2日」に化けたりします。 これを避ける為に強制的に文字列解釈させる方法はMS-Excelのバージョンで違っていて、Excel2003 の場合には「"=""1/2"""」 と書きます。 4 MS-Excel のCSV入力は、規則違反でもそこそこ面倒を見てくれます。 しかしそれでOKと思わずに規則は守りましょう。 以上、言葉で説明するのはまだ良いんですが、完全対応の入力処理を書くのは少々ムズいです。
無料配布の掲示板などの場合は表示できるページ数を設定できるようになってるはずです。 設定したページ数以降のものは古いログとして残すことも出来ますが古いログを残すことでサーバーに負担が掛かるので残さないようにした方が容量にも余裕が出来るので参考程度ですが
少々質問が抽象的でよくわからないのですが・・・ ＞カテゴリー別にランキングを表示したい 特に改造しなくても各カテゴリページに「人気ランキング」と「アクセスランキング」のリンクがあります。 そのリンクが出ないということでしょうか？ それともTOPページなどに表示したいということでしょうか？ ＞カテゴリーに[in][out]の設定をしました。 というのは検索結果ページの各リンク欄に[in][out]の表示ができるように設定したということでしょうか？
inputタグの name属性値が日本語文字ですから、入力文字コードと受信データをパースする文字コードが違うと認識できません。そのせいではないですかね。 それから、余計なことですが、type属性値が hidden の size属性は何の意味もありません。
javaを使えば出来ると思います。 メール送信側はcgi(perl)で、本分に画像をアタッチするように作り、PC側はjavaでドロップできるように作る感じでしょうか。
http://www.yomi-search.net/030yomi-setting/030.h … パーミッションは、上記ページを参考にして、サーバーの規定に従ってください。 ディレクトリとは、Windowsでいうフォルダです。 実行ファイルとは、1行目にパールのパスが書いてあって、直接URLを指定して表示させるファイル。 データーファイルとは、データーを保存したり、実行ファイルに取り込まれるファイルです。 エラーの出ていないページがあるので思ったのですが、広告が表示されている影響もなきにしもあらず？ そのホスティングサービスに「困ったときは親切丁寧なネットサポート」と書いてあるので、利用されはいかがですか。 2.サーチエンジン・データベースなどの、サーバーに著しく負荷の掛かるCGI・PHPの設置行為の禁止。 上記事項にもご注意を。
No.2 です。 Apacheのコントロールパネルというのはピンと来ないのですが、IIS なんでしょうか？ HTTPでそのCGIにアクセスするのを全面禁止したいという事でしょうか？ そのとおりであれば、そう明記された方が有用な回答が付き易いと思いますよ。 # 私はIISを知らなくて何とも言えませんが。
何もわかっていただけなかったようで・・・ ループ処理というのは本来規則性のある処理に対して使うものです。 @a=unpack("C*","わらやまはなたさかあ");print "@a"; を実行してみてください。 わらやまはなたさかあ　を１バイトずつ文字コードの数字に変えるものです。 あなたが使う文字コードは知りませんが、数字を見てみてください。 同じ数字が何度か出るでしょうが、２バイト文字ですので必然です。 それ以外に、その中に規則性を見出すことができますでしょうか？ それらがきれいな数列に見えますでしょうか？ 計算式でそれらの数値をはじき出すことができますでしょうか？ 九九表のようにきれいな世界ではありません。 規則性の無いものにループ処理を適用しようとすると、条件分岐だらけになり、 処理も遅くなる、スクリプトファイルの容量が肥大化。デメリットだけが残るのです。 どうしてもというなら @a=( "わ","ら","や","ま","は","な","た","さ","か","あ", "　","り","　",（略）); のような各要素一文字の最初から五十音表を見越した配列でも作って きれいなループ処理のように見せかけておけばいいです。 そうすると今度はメモリを喰うだけという悲劇もついてきますがね。 もういちど、「手動」をお勧めします。
うーーん・・・どうしたら良いんだろう。 最後まで面倒を見てあげたいのですが、先ずはご利用のレンタルサーバー会社を教えて頂けませんか。 インストール自体は簡単なのですが、ＰＨＰが使える事と、MySQLDATABASEが使える事が必須です。 本気で挑戦されるならば、このまま回答を続けて下さい。
> $init->{sendmail_path} = '/usr/local/bin/sendmail -t -f ' メールアドレス' '; これだとシングルクオートでくくられた文字列中にシングルクオートが入っていて、正しい文字列になってません。 > $init->{sendmail_path} = '/usr/local/bin/sendmail -t -f "メールアドレス" '; としたらどうなりますか?
＞独自ドメインで動く物に移行したいと考えております。 正しくは、ご契約のレンタルサーバーで動作するプログラムとお考え下さい。 私個人の意見ですが、phpとMySQLで動作するプログラムは嫌ですかね。 例えば、EC-CUBEなどです。 やはり、MySQLデーターベースが使える方が管理が楽だと思います。 phpとMySQLが使えるかは、サーバーによります。 その意味で、独自ドメインで動くかは関係ないと書きました。 サーバーの仕様になります。
PDFファイルを＜IMG＞タグでリンクしていませんか。＜A＞タグにしないと、、、 e.g. ＜img src="$uploadfile"＞の前に、 if($uploadfile=~/\.(gif|jpe?g|png)$/){ $link=qq(＜img src="$uploadfile"＞) }else{ $link=qq(＜a href="$uploadfile"＞$uploadfile</a>) } を挿入し、 ＜img src="$uploadfile"＞ を $link にする。
捕捉にあったURLからダウンロードしてみましたが、バージョンが違って書き方も変わっているようです。 > 2009-02-09 > サニタイジング処理を追加 とあるので、新しいものを使ったらどうですか
新しいパソコンで、ディレクトリレイアウトを変更していませんか？ 不具合が発生した CGI の絶対パスは、新旧パソコンで同じですか？ ここで言う絶対パスは、ローカルファイルとしてのパスで、「c:\foo\bar」の格好です。 私はWindows版 Apache も『１０日で覚えるperl/CGI』も全く知らないので的中しそうな例を出せないですが、鍵は「新旧のパソコンの違いは何か」だと思います。 ただ、OSの種類・バージョンとか他のインストールソフトを疑うのは最後でいいです。 自力でいろいろ調べる場合には、旧パソコンで CGI が正しく動いたのが 「ScriptAlias」 のおかげか「Options +ExecCGI」のおかげかが判っていると、調べ易いと思います。 参考URL：http://httpd.apache.org/docs/2.0/howto/cgi.html
ローカルで実行してみましたが、ホームディレクトリを555にした状態でも ログインを確認できましたよ？ ログイン先への鍵登録(authorized_keys)もしてありますよね？ 1点嘘ついたかもしれません、鍵はwww-dataで作成してください。 よく考えたら、鍵の作成は本人でないとだめな気がしました^^;; のこるは、ホストベース認証(.shosts)くらいしか思い浮かばないです。 # サーバ同士の接続ならホストベースもありかなと。。。 参考までに僕が実験したときの情報です。 $ pwd /tmp/webuser1_ssh $ ls -la total 12 drwxr-xr-x 2 webuser1 wheel 512 Apr 14 22:33 . drwxrwxrwt 8 root wheel 512 Apr 14 21:51 .. -rw------- 1 webuser1 wheel 219 Apr 14 22:33 config -r-------- 1 webuser1 wheel 1675 Apr 14 21:53 webuser1_rsa -r--r--r-- 1 webuser1 wheel 409 Apr 14 21:53 webuser1_rsa.pub -r--r--r-- 1 webuser1 webuser1 599 Apr 14 22:21 known_hosts.global $ cat config Host TEST Hostname localhost User sshuser1 IdentityFile /tmp/webuser1_ssh/webuser1_rsa UserKnownHostsFile /tmp/webuser1_ssh/known_hosts.global # GlobalKnownHostsFile /tmp/webuser1_ssh/known_hosts.global BatchMode yes $ ssh -F /tmp/webuser1_ssh/config TEST ---- $ ls -la ~ total 22 dr-xr-xr-x 2 webuser1 webuser1 512 Apr 14 22:23 . ← 555 drwxr-xr-x 4 root wheel 512 Mar 30 20:59 .. -rw------- 1 webuser1 webuser1 2017 Apr 14 22:23 .bash_history -rw-r--r-- 1 webuser1 webuser1 751 Mar 30 00:22 .cshrc -rw-r--r-- 1 webuser1 webuser1 248 Mar 30 00:22 .login -rw-r--r-- 1 webuser1 webuser1 158 Mar 30 00:22 .login_conf -rw------- 1 webuser1 webuser1 373 Mar 30 00:22 .mail_aliases -rw-r--r-- 1 webuser1 webuser1 331 Mar 30 00:22 .mailrc -rw-r--r-- 1 webuser1 webuser1 766 Mar 30 00:22 .profile -rw------- 1 webuser1 webuser1 276 Mar 30 00:22 .rhosts -rw-r--r-- 1 webuser1 webuser1 975 Mar 30 00:22 .shrc
下記のサイトなどが参考になるかと。 http://www.tohoho-web.com/wwwcgi1.htm http://www.rfs.jp/sb/perl/ なお、CGIとは仕組みのことであり、特定の言語を指すわけではないのでご注意を。(下記「CGIに関するよくある誤解」を参照) http://ja.wikipedia.org/wiki/Common_Gateway_Inte …
設置したサーバーはどちらでしょうか？ たいていの無料サーバーはCGIの直接呼出し呼び出しを禁止しています(多分規約などに書いてあるはずです)。 URLだけを入れて見ることは出来ません。 .htmlページからリンクして飛ばないと見られません。 まずindex.htmlを作ってそこからリンクするといいでしょう。 パーミッションというのはCGIを動かすための信号で大体は755です。 詳しくはhttp://www.cj-c.com/cgi_s/cbbs.htm#testに書いております。 FFFTPをお使いならば、右側の転送したファイルを右クリックして属性の変更をクリックすると変更できます。 詳しいやり方は「FFFTPの使い方」の下のほうに書いてあります。 http://siriasu.s10.xrea.com/ffftp/ffftp.htm
こんにちわ。 開発会社はたくさんありますが、信頼できる会社は少ないでしょう。 当然大手が開発すればそれなりですが費用は莫大です。 （おそらく、ん百万ではできないでしょうね。桁がもうひとつ上でしょう） 小さい会社は安いでしょうが、はずれも多いのでいろんな会社が 優良開発会社を日々探しているのです。 がんばって探してみてください。 どういう目的で、どの程度のお客さん（会員数）を見込んで開発するかでも 費用が変わってきますね。 例にあるこれらサイトは広告収入（アフェリなど）を見込んで運用しているようですが、ハード・回線費用等結構かかると思いますよ。 流行らすための初期投資も必要でしょうから、結構大変そうです。 いかがでしょうか？
↑を見る限りでは 「CGIで画像を出力」ではなく 「CGIで画像を表示するHTMLを出力」かなと思いますが．．． （間違っていたらすみません）。 ということは、Webサーバが画像ファイルはキャッシュ可能なように設定してやれば良いように思います。 ※通常の画像ファイルであれば、キャッシュ可能なハズなので、特に設定は不要なのではと思いますが．．．。
ANo.2です。 > べリサインは見たことがありました！ > けっこうお金かかるんですね。（そりゃそうですよね・・・） ベリサインは有名どころ、という事もあって安価な方ではないですね。もう少し低価格の会社もありますよ。下記の様なサイトで各社の比較チャートを見ることもできますのでご検討されてみてはいかがでしょう。 【参考】http://sslreview.jp/content/table/index.html > XSSとSQLインジェクションを調べました。 > WEBサーバとクライアント間はSSLで守られても、WEBサーバにあるデータベースから個人情報を盗んだりすることはできる そんな感じです。あとは、データを盗む以外にもサーバに対して攻撃をしかけてサイトに意図しないコンテンツを表示させる、といった行為も可能になります。 ごく大雑把に説明すると、入力フォームの欄は、クライアント（閲覧者の端末）側からデータをいれてサーバ側に送信する事ができますよね。その時に、XSS対策を何も施していないと、普通のテキストデータではなく実行力を持ったスクリプトを入力して送信する事も可能なんですね。 例えば、以下はWikiに載ってた例をそのまま引用させて頂きますが、文章を書き込めるBBSの様なものがありますよね。 そこの入力欄でただ”Hello”と入力した場合は単に、ブラウザには「Hello」と表示されるだけですが、入力欄にJavaScriptのコードで”<script>alert("警告")</script>）”と入力した場合、ブラウザ側はこの「スクリプト」を実行してしまうので、画面上に「警告」というメッセージがポップアップで表示されてしまいます。 【参考】http://ja.wikipedia.org/wiki/%E3%82%AF%E3%83%AD% … SQLインジェクションは、やはり入力フォームから”別のSQL文（SQLというのはDBにアクセスして情報を引き出したり登録したりするのに特化した言語とでも解釈しておいて下さい）を「注入 (inject)」”する事で、制作者側が本来意図していなかったSQL文を発行してDBの操作をする事ができる攻撃方法です。注入されたSQL文によって、DBに登録された情報の漏洩・改竄・破壊という事も可能になってしまうのです。 【参考】http://ja.wikipedia.org/wiki/SQL%E3%82%A4%E3%83% … これらの事態を防ぐ為に、通常は制作段階で入力された値をそのまま受け取らない様に各種サニタイズ（入力されたデータの危険な部分を無力化する操作）というのが施されます。例えば、HTMLタグを埋め込まれても実態参照に置き換えてただの文字列にしたり、SQL文が入力された場合は実行力のある文字に対して適切なエスケープをする事などで無効化したり、といった様な事です。 > XSSとかSQLインジェクション対策をする必要があるのだけど、それだと、専門家に頼むのもやむをえない 社内でそれに対応可能なスキルを持つ方がいるとか、それらの対策の為に必要な学習をして習得をした後に設置する、という事が可能な状況でなければそれしか選択肢がない様に思われます。 「安全」にはそれなりの対価を払う事が必要でしょうし、「安価」にはリスクを抱える事への覚悟もしくは社内で賄える様になる為の時間が必要でしょう。
教えていただいたＵＲＬのサイトを見ましたが 指定されたＨＴＭＬソースを記述してアップロードするだけなんですね。 ＨＴＭＬソースに間違いはありませんか？指定された形になっていますか？ ↓のＣＧＩの基本設定のは試されましたか？ http://www.auone-net.jp/support/hp/infocgi/case2 … ダメでしたらプロバイダのサポートに聞いてみた方が早いかと思われます。
CGIを始めて最初に挑戦するのが掲示板かオートレスボンダー、あるいは両方。 仕組み自体は、フォームで送信されたデータを処理して、受注処理なり、掲示板に書き込むなり、あるいはメールを送ったりしたときに、続いて訪問者にもメールを送り返すものです。 ・掲示板に書き込まれたらその内容を利用者にも送る。 　---他人のメールアドレスを偽証した書き込みを防止 　---本人確認のため、そのメールから再度サイトに訪問させて投稿を受け付ける 　---メーリングリストとの併用 ・受注処理の確認 　---受注データベースに登録と同時に申込者にメールを送る。 　---本人確認 ・問い合わせメールの返信 　---メールが送信されたことをとりあえず返信する。 ・メーリングリスト 　---メーリングリストの処理 　色々な場面で、それ単独というより他の処理に付随して、よく使われるシステムですが、プログラム自体は数行から十数行で書けますから、簡単といえるかもしれませんが、 　サーバーのsendmailなりqmailなどのプログラムを呼び出するですが、セキュリティには気をつけないと、spamやウィルス散布の踏み台にされることもあります。 　まあ、それ自体を単独で使用するものではないです。あくまで他のシステムへ付随させて使用するものです。 ＞その設置方法の流れを教えていただけないでしょうか？ 　とはならないです。あくまで他のシステムの付録ですから、そちらをまず・・ 　ですから、掲示板や注文フォームプログラム、あるいはfml等のメール配信システムをインストールすれば、自動的に付いてくるものですから、
管理室の簡易デザイン設定・5ログ表示テーブルの設定 「テーブルの横サイズ」で設定してみては？ width=8000の値は大きすぎだと思います。 せいぜい1500 簡単なのはwidth=100％で、どんなモニターサイズでもフィットする大きさになります。
貴方のような短期で粗暴な方は、掲示板の管理者には向きません。
http://www.milkkids.com/saru_flash/ http://w5.abcoroti.com/~gomaabura/ http://www.rescue.ne.jp/cgi/beginners/ http://www.aimix.jp/cgi/ …こんな感じですかね。 『初心者　ＣＧＩ』とか『サル　ＣＧＩ』とかそんな語句で検索すれば色々出てくると思いますよ。
誰か答えてくれるかと思ったらいなかったですね。 私も詳しくないですけど、なんだか投げっぱなしになってしまったので、 分かる範囲で。 EUC-JPで保存されている「失敗」は、Shift_JISで開くと「シコヌヤ」ですね。 「(2)csvへのはきだし」の時に、EUC-JPで出力しちゃってるんだと思います。 CSVへの出力はどのように行っていますか？ あとPerlのバージョンはいくつですか？
写メール掲示板CGI『PicChaBo』 昔使ったことがあります。 特定アドレスで受信したメールをソケットで読み出し、掲示板に 出力しています。タイミングは確か、手動（掲示板上に、「投稿を更新する」みたいなリンク）だったと思います。 cronが使用出来たり、メール転送を.qmailなどで設定できるようならば、 そのように改造が必要です。 また、古いので、もしかしたら現行のキャリア用に修正が必要かもしれません。 でも参考にはなると思います。 参考URL：http://www.kemokemo.com/products/picchabo/
> 無料のフォームデコードを使って、フォームメールを作りました。 そのようなものかは分からないので予想になりますが、 subject をつければいいと思います。 多分その「無料の」ものの説明書に書いてあると思うので、説明書を読み返してみてください。
plフォルダのcfg.cgiを見てみるとわかると思います。１７０行目ぐらいからカテゴリが表示されています。抜けている＜を追加して見てください。
初心者ですと難しいというよりも、短期間では無理ではないでしょうか もちろん、１年２年と勉強すれば可能かもしれませんが… 一番簡単なのが、パッケージを購入する事ではないでしょうか 既に組まれているシステムを販売してる所があります http://win.mileagea.com/ http://www.asin2000.com/point/ 他にも探せばあると思いますが、サーバーは自分で契約してこういったパッケージを買うのが最も安いと思います 下手に業者に一からの構築を依頼すれば数十万～数百万ととんでもない金額を請求される事もあります どんなネットビジネスにしても、新規参入は厳しい物があるので無謀というよりも自身の戦略やアイデア、ネットワークにかかっているんじゃないかな？と思います 他とは違ったアイデアもパッケージを購入すればオプションで安値で追加相談を受けてくれる所もあるでしょう
　それでしたら、さすがに、配布されているものはないでしょう。 　Perl得意の正規表現を使うだけですから、CGIというよりパターンマッチの例題として作成してみたらよいのでは？ 　キーワードの数は不定、また/はURLに含みうる文字なので、^などURLに含まない文字を使うか、CSV(ただし、"や,はエスケープする必要がある)ファイルで、一行データなら 　URL＊タイトル＊説明文＊太陽,夏＊夏の画像・・キーワード の形にしたほうがよいでしょう。＊は区切り文字を示す。 なお、要望にあうか判らないですが、ネットワークレスキューさんの簡易ナビゲータ( http://www.rescue.ne.jp/cgi/webnavi/ )が近いでしょう。 　
CGI RESCUE - ネットサーフレスキューＷｅｂ裏技 ( http://www.rescue.ne.jp/ )などにあるCGIをちょっと改造すればすむのではないかと・・ 　このサイトだと、下のほうにある 　　ケータイ/検索/ＳＳＩ 　　　　簡易サーチエンジン | 簡易ナビゲータ 　　情報収集　/　メールフォーム 　　　　 簡易データベース | 簡易データベースII簡易型カード式データベース など、できればi,ageMagick等を使ってサムネイルを作ればよりベストかも。
> ＣＧＩの知識はないため分かりやすく教えて頂けるとありがたいです。 これはきっと、何をどうすれば良いか具体的にという意味ですね？ 使用されてるカウンタを偶然ご存知の方や回答する為に調べてくださる方が現れない限りご希望の回答は付かないかと思います。 # ちょっとだけ見ましたが、複数の CGI が連携してる気配で、理解するのに時間がかかりそうであきらめました。 このまま回答が付かなければ、そして本当に説明事項がサッパリ分からないのなら、処理を 1台のサーバーで実行する事をお勧めします。 これを機会に勉強されるのなら、お付き合いさせて頂きますが。
ちと古い情報ですが、mixiではPerlをmod_perl(Apacheのモジュール)で動かしているそうです。(参考URL) したがってCGIでは無さそうです。 ただし、CGIを使っていないとは書いていないので、部分的に使っている可能性は有ります。 参考URL：http://itpro.nikkeibp.co.jp/article/NEWS/2006033 …
　「犬とペットの呼び戻し方は違う」、「いや違わない」と言い合っているようなものですね。 　このたつは明らかに違うものです。他の方のコメントを読んでいても、特にCGIに対する理解が間違っているものを見受けます。 　ＣＧＩとは、Coomon Gateway Interface の略で、サーバーに対してクライアントから要求があった場合、その要求を「他のプログラム」に渡してそのプログラムに処理を任せる仕組みのことです。 　他のプログラム、Perlやシェルスクリプト、Python、Ruby、C;;など色々な言語が使えます。・・・これらを【CGIプログラム】というが、【CGI】とは別。 　PHPは、その意味では普通はＣＧＩに含めることはしません。特にapacheユーザーは。 　なぜなら、apacheでは、PHPは、mod_phpを使用するため、どちらかと言うと、SSI(Server Side Includes http://ja.wikipedia.org/wiki/Server_Side_Includes )に近いと考えたほうがよいからです。ただし、サーバーにAN-HHTTPDを使用する場合は、CGIとして動作させますし、WindowsIISで動作させる場合はISAPIを使用します。・・・apacheで動作している場合はCGIではないということです。 　結論から言うと、CGIとPHPは別のものです。 　
No.1 訂正です。 りんご の 2箇所の "checkbox" を "radio" に訂正。 失礼しました。
＞いくつかの無料のメールフォームを使っていますが フリーのCGIを使っているということ？ ＞自分に送られてくるメールで、こちらである程度フォームを ＞カスタムできるレンタルCGIはありますか？ 　レンタルとはどういう意味ですか？？？上と矛盾すると思いますが？？？ 　 そもそも <input type="radio" name="○○" value="○○" />○○ <input type="radio" name="△△" value="△△" />△△ <input type="radio" name="□□" value="□□" />□□ のソースはおかしいのでは、radioですから <input type="radio" name="○○" value="○○" />○○ <input type="radio" name="○○" value="△△" />△△ <input type="radio" name="○○" value="□□" />□□ ではないですか？ checkboxなら <input type="checkbox" name="○○" value="yes" />○○ <input type="checkbox" name="△△" value="yes" />△△ <input type="checkbox" name="□□" value="yes" />□□ いずれにしても if($value="" || $value="yes"){next;}と飛ばせばよいのでは？？ selectなら値が"選択してください"なら飛ばすとか・・ i
　　#! /usr/bin/perl 　　 　　print "Content-type: text/plain\n\n; 　　print "Hello Perl!" これでは表示されません、コピペミスですか?。 カッコが閉じてないし、セミコロンもないし。
> 上記のように複数行にわたるupdate文を一回のQueryで処理させたいのです。 それはできないです。 > 行1行クエリーしないといけないのでしょうか？ そういうことです。 ただ、１回、１回同じようなSQLを解析させるとオーバーヘッドが高くなるので、形が同じでリテラルだけが異なるようなSQLを何度も発行する必要がある場合はprepared statementというものがよく使われます。 すると、こんな感じになるでしょう。 $sql = "update postageFee set aaa=? ,bbb=? where id = ?"; $result= $dbh->prepare($sql); $result->bind_param(1, 1); $result->bind_param(2, 2); $result->bind_param(3, 1); $result->execute; $result->bind_param(1, 3); $result->bind_param(2, 4); $result->bind_param(3, 5); $result->execute;
>http://www.310f.com/exocet/hiki/ はリンクがなくなっていたので、 あせらずにそのページに表示された目次(Table of Contents)にさえ目をやれば， 「Windows版Apacheでshebang行を無視する設定」へのリンクが見つかります。
ifは関数じゃなくて制御構造の制御文です。 方法はたくさんあります。 if ～elsifを使って全部の条件を制御する。 if ～elsifと論理演算子(or ||)を使って複数条件で制御。 elsif ($suuji == 2 || $suuji == 4 || $suuji == 6 ) switchモジュールで制御 elseif＋論理演算子が一番スマートでしょうかね？
リンク先が古かったようです。 こっちなら見れると思います。 http://htmltag.1.tool.ms/141/
＞自動的にPOPサーバーから取り込んで、掲示板に携帯からの ＞メールを反映してくれるのかと思ったのですが、 　そういう仕組みではないようです。この程度の掲示板では無理 ＞なにか、手動で、やるべきことがあるような 　普通に記入すればよさそうですが、POPなんて関係ないはずです。 　このCGIはユーザー登録しないとソースを取得できないし、あなた自身がソースを解釈しないとダメなようですね。
　本体HTMLを書き直さず、画像だけを入れかえるCGIは探したけど見つかりませんでした。本体HTMLを書き出すものはいくつかあるようですが・・ 　たぶん、簡単に出来るものなので需要がないのだろうと。 　仕組みからすると、 　背景画像のディレトリ内の画像の一覧を取得する。 　日付をseedにした乱数を発生し画像を選択する。 　その画像をHTTP応答ヘッダをつけて出力する。 　というシンプルなものなので、10行そこいらですむのではないかと 　いずれにしても、このサイトでは個人情報を提示する形での回答--作成したCGIを提示することは禁止されていますので、他のそれが可能な掲示板をお探しいただくのがよいかと・・ folomy - みんなでつくるコミュニティ - ( http://folomy.jp/heart/?m=pc&a=page_cf_home&targ … ) 　とか。
「ファイルのダウンロード」が出る場合はWebサーバーがCGIとして認識してないことがほとんどです。 .htaccessに AddType application/x-httpd-cgi .cgi を追加してもダメですか？ サーバーの環境がわからないので、サーバー管理者に聞くのが一番ですが。
もっと詳しく状況を説明しなければアドバイスは無理です。 あと迷惑メールボックスに入るのはメールソフトの設定なのでcgiの設置とは無関係です。
すみません、もっと初歩的かも知れません。 m/staff_form.html の <form action="./clipmail.cgi"> の部分が違うのではないかと思います <form action="./clipmail/clipmail.cgi"> 参照しているディレクトリがずれてますね。 お時間が無いということですのでとりあえずこれを報告してから また分かったことがあったら書き込みますね。
firefoxだと動かないとのことで確認してみましたが、IEtabのプラグインがあれば動きました。 要するに色の指定が特殊なので、この部分をコードで入力させるなどに改造すればIEtabがなくても普通に使えるかと思います。
Perl/CGIですが #!/usr/local/bin/perl open(IN,"sample.txt"); @log=<IN>; close(IN); print "Content-type: text/html\n\n"; print @log; とかで多分表示できると思います。 ただ、これだとファイルロックなどはまったくしていませんし エラー処理も書いてないので、ファイルが読み込めないときに支障がでるかもしれません。
$ENV{'CRIPT_FILENAME'}がないとして、 絶対パスを知りたいということでしたらFindBinモジュールでどうでしょうか？ #!/usr/bin/perl use FindBin; print $FindBin::Bin, "\n"; print $FindBin::Script, "\n";
HTMLデータはキャッシュされずに毎回読み直しが行われていても、 その中にある画像ファイルやBGMファイルはキャッシュが効いている事があります。 ・方法1 Shift+再読込ボタンをクリック でどうでしょうか。 ・方法2 IEの場合は、Windowsエクスプローラーでキャッシュフォルダを表示しておき、 （ツールメニューのインターネットオプションから、キャッシュフォルダを表示） 手作業でBGMファイルを削除する。 インターネットオプションダイアログからでも削除できますが、 いちいちダイアログを表示しないといけないのと、ダイアログを表示する間、IEの操作ができないので。 ・方法3 BGMファイルをCGIを使って出力してみる。 <body bgsound="xxx.cgi"> xxx.cgi #/usr/bin/perl binmode STDOUT; # for windows server print "Expires: -1\n"; print "Content-Type: audio/mp3\n\n"; open(FP, 'bgm.mp3'); print $_ while(<FP>); close FP; ・方法4 サーバーがApacheなら.htaccessを設置。 ExpiresByType audio/mp3 "access plus 1 second" などとすれば、.mp3ファイルのキャッシュ有効期限がアクセスから1秒になると思います。 "access plus 1 seconds"かもしれません。 http://httpd.apache.org/docs/2.0/ja/mod/mod_expi … HTTPヘッダを直接指定する場合はheaderモジュールというのがあります。 これも拡張機能です。 <Files bgm.mp3> Header set Expires "-1" </Files> http://httpd.apache.org/docs/2.0/ja/mod/mod_head … mod_expires、mod_headersともにインストール時に追加インストールを指定しなければなりませんので、 一般のレンタルサーバーなどでは使えないと思いますが、ご参考まで。 方法3は公開用のHTMLと違ってしまうので（ファイル名が.cgiになるので）あまりおすすめしません。
以下をメモ帳などテキストエディタに貼り付け、例によって全角→半角に 直してから、abc.htmlなどと名前を付けて保存し、そのファイルを Ｗクリックしてみてください。 それでもうまくいかないでしょうか？ <html> <body> <form method="get" action="ｈｔｔｐ：／／ｗｗｗ．ｎａｍａｚｕｏｒｇ／ｃｇｉ－ｂｉｎ／ｎａｍａｚｕ．ｃｇｉ"> <strong>検索:</strong> <input type="text" name="query" size="20" value=""> <input type="submit" name="submit" value="Search!"> <input type="hidden" name="whence" value="0"> <input type="hidden" name="lang" value="ja"> <input type="hidden" name="idxname" value="ｗｗｗ．ｎａｍａｚｕ．ｏｒｇ．ｊａ"> </form> </body> </html>
技術力のある人がそのサイトだけをターゲットに工数を惜しまない攻撃をかけてきたら防げないでしょう。 しかし、金銭の絡まない単なる掲示板とかだとそこまで考える必要は無くて、JavaScript が動かないと投稿できないというのはあるいは有効かも知れません。 JavaScript 処理系を内蔵した Spam書き込みロボットが普及するまでは大丈夫かと思いますね。 さらに、自動入力されるパスコードは表示と非表示とどっちが有利かとか JavaScript が走らないと送信ボタンが生成されなくて投稿 URL もわからないとか、ajax を絡めた処理が成功した時だけ送信を許可するとか、いろいろ工夫できると思います。 ただ、公開コードのまる写しよりも自分で独自のコードを書いた方が防御率が上りそうな気がします。
秋分の日など、不確定なものありますし、 祝日自体が増えたり減ったりするものなので、 ネットワーク上のカレンダーデータの APIサービスを使うのが楽だと思います。 http://www.google.co.jp/search?q=Google+Calender …
環境変数QUERY_STRINGから、?から後ろの文字列（この場合は123）を取得できますので、 その文字列に応じたURLをLocationヘッダとして出力してください。 > 具体的にどのように記述すればいいのでしょうか？？ #!/usr/bin/perl my $q=$ENV{'QUERY_STRING'}; if($q eq '123'){ print "Location: http://www.example.com/\n\n"; }else{ print "Location: http://www.example.net/\n\n"; }
No.4です。間違えました。（質問をよく読んでから答えなきゃだめじゃん！） printf("%1d月%1d日",substr($start,0,2),substr($start,2)."\n"; ですね。
えっと これはJavaよね？ まず言いたいのは APIドキュメントくらい読みなさい ということ。 Calendarのsetの説明のトコを見なさい。 理由がちゃんと書いてあるわよ。 http://sdc.sun.co.jp/java/docs/j2se/1.4/ja/docs/ …(int,%20int,%20int) それと今後のアドバイスとして addする前にsetした値をきちんと確認する癖をつけたほうがいいわよ。 ある処理が思った通りに動かないときって その処理自体よりもそれ以前の処理に問題があることって すっごく多いの。 ガンバよ。
PHPなどでHTTPクライアントを作成して、相手側HTMLの内容を取得、 構文、タグ解析などをして処理したい、ということですかね？ 例えば検索エンジンのクローラーのような。 http://noongoro.main.jp/note/note0056.html 基本的にはソケットで相手サーバーに接続し、HTTPリクエストをPUTして、 応答をGETするだけです。
よくわかりませんが、 ループはforかwhileだと思います。
消してもどうもなりません。 しかし配布元が本気で訴訟起こす気ならば条件的に不利。 ダウンロードした人を特定することは裁判沙汰になれば当然可能。 まあですが善意で公開しているものですし、ありがたく頂戴する身分ならば、配布元の主張をできるだけ尊重しましょう、という話です。
ソフトバンクモバイルのUser-Agentは４つあるので以下のようにした方がいいと思います。 #次にJ-Phone端末かどうかチェック } elsif ($ENV{'HTTP_USER_AGENT'} =~ /^J-PHONE|Vodafone|SoftBank|MOT-\/\d/) { $ua = 2;
Windows環境からメール送信cgiを動かすのはかなり難易度が高いので、まずは簡単なcgiが動作するかを目標に設定してみてください。 print "hello\n"; みたいな。 いろいろと情報が不足しているので、どこを直せばできる、というようなアドバイスは無理です。
文字列同士の AND というのは、CGIの分野で一般的に通じる言葉では無いと思います。 例えば Perl なら ("abc" and "東西南北") は真です。 AND の意味をちゃんと説明しないと、本来回答できる人が回答してくれないかも知れませんよ。
＞今の状況は日付を過ぎても次のアクセスがない限りcount.txt(ログファイル)の中身にはアクセス数値が残ったままなので日付が変わったら自動でcount.txtの中身を0(ゼロ)にしたいのです。 これは、アクセスしなくても0に戻すと言う意味です。 これをするには、CGIでやるよりもサーバで常駐タスクを設定し、日付が変わるごとに0に戻すと言うやり方がよいと思います。 ただ、見ている人がいない場合0でもそうじゃなくても特に意味はないので、日付が変わって最初にアクセスしたときに0にすればいいと思いますが。 記録ファイルが count.txtのみならば、カウントアップするときにカウントアップする日付を一緒に記録し、日付が違う場合に0に戻せばいいと思います。 表題をクリアできればいいだけならば、一般的な日毎のカウントをするカウンタを設置して、全体数を表示しないで、本日のカウントのみを表示すればいいと思います。
通常1つのサーバーに多数のユーザーがcgiを設置するので、よほど変な自作プログラムを組まない限り個人レベルでレスポンスを上下させるほどの大きな負荷は発生させられないかと思います。 あと、cgiは設置するだけでは負荷はかかりません。 なので設置数ではなく、どのくらいの頻度でアクセスされるかが問題です。 設置して運用してみて、重いと判断されたなら別の場所に移転するというような考え方で大丈夫です。
FTPの設定ですが、FTPフリーソフトのFFFTPについての使い方は、下記URLの中ごろに説明がされています。 http://www.iroirojoho.net/isweb/isweb_sample001. … あと、無料でCGIを使えるのはiswebとland.toが今のところお勧めです。 どちらか一つといわれましたら、land.toの方がMySQLも使えるのでお勧めです。 isweb： http://www.iroirojoho.net/isweb/isweb.html land.to： http://www.iroirojoho.net/land_to/jaran_csv.html 以上、参考までに。 参考URL：http://www.iroirojoho.net/isweb/isweb_sample001.html,http://www.iroirojoho.net/land_to/jaran_csv.html
「一般的に」とのことですので。 通常はサイトの構造などが一月単位で変化することはないので、そのようなことは通常のサイトでは「一般的に」は行われていないと思われます。
ちょっと補足です。 回答No.3でsendmailの-fオプションを解説されていますが、 これが、Envelope From を指定する方法です。 MTAとしては、sendmail が先発で圧倒的なシェアがあるため、 qmail や postfix などの後発の MTA は、乗り換えしやすくするため、「sendmail」という名前の、sendmail互換のプログラムを用意しています。 acmailer は、実際に使用するMTAに関係なく、sendmail を使うようになっている(qmailやpostfixもsendmailというプログラムがあるので、それで動作は問題ない)のですが、 MTAが「QMAILである」と設定した場合には、-fオプションを付けてsendmail を起動するようになっているのです。
単純にあなたのPCがスウェーデン語が使えないか、ソースを見るテキストエディタがスウェーデン語に対応してないという可能性はありませんか？ 変更場所やファイルなどはそのものがどのようなものなのか皆目検討もつきませんので解答不能です。
>> どうしてもうまくできません。 何が、どのように、うまくいかないんですか。 現状のままで、入力（選択）された値はCGI側に渡っています。 ハッシュ %in に入力タグの name属性値をキーとして格納されています。 つまり、 　キーワード → $in{word} 　地域 → $in{word1} 　ジャンル → $in{word2} 　AND/OR → $in{sel} です。 以上、質問のみにお答えします。
参考に http://www.rescue.ne.jp/cgi/2shot4/
＞スパム投稿対策（英文のみの投稿禁止 / 本文中のURL投稿禁止） cond.cgiの90行目あたりにスパム投稿可否を設定する項目があります。 これにひっかかっているとお考えでしょうか？ この場合は「日本語で記入してください」といったエラーが返されるはずですので 403になるということはアクセス権の設定が正しくないのが主な原因でしょう。 念のため該当するCGIの内容を確認しましたが、質問に書かれているような エラーメッセージを返す部分の記載が実行ファイル内にはありませんでした。 http://www.buttobi.net/?n=rule&l=ja CGIテストのための利用や、特定のCGIコマンドを拒否しているサーバのようですから、そのためかもしれませんね。
≫しかし、送信ボタンを押した後、サーバーを通って指定メール先へテキストメールとして飛ばしたら、そのテキストメールが文字化けなのです。（文字コードが表示されます）英語は問題ありません。 　これは、届いたメールが読めないということですね。 　メールソフトで、ソース表示をするか、メールソフト側のエンコーディングで文字コードを変更すると、どういうトラブルかは分かります。Tunderbirdでしたら、表示→文字エンコーディング。 フォームメール用のCGIでの処理は、 受け取ったデータをメールサーバーへ渡す変換 ★ヘッダ内には、RFC 2047 ( http://www.akanko.net/marimo/data/rfc/rfc2047-jp … )で許されている文字しか入れられないので 　=?ISO-2022-JP?B?・・・・となっているか？ ★ヘッダ内に本文の文字コードの指定 Content-Type: text/plain; charset=ISO-2022-JP Content-Transfer-Encoding: 7bit が含まれているか？ ★本文がその文字コードで書かれているか？ なお、フォームメールCGIが処理できる文字コードにあわせて、<from acept-charset=""を指定する。また、これを解釈しないブラウザのためにHTML自体を、その文字コードで作成するとよいでしょう。 　ブラウザは、HTMLの文字コードにあわせて送信するので・・・ 【引用】＿＿＿＿＿＿＿＿＿＿＿＿ここから accept-charset = charset list [CI] この属性は、入力データについて、当該フォームを処理するサーバが受け入れる文字符号化方法のリストを指定する。 クライアントは、このリストを排他関係リストとしてインタープリトしなければならない。すなわち、サーバは受信する【メッセージ】実体毎に、どの1つの文字符号化方法をも受け入れ可能である。 この属性のデフォルト値は予約文字列「UNKNOWN」(不明)である。ユーザエージェントは、この値を、当該FORM要素を含む文書の伝送に使われた文字符号化方法であるものとしてインタープリトしてよい。 ￣￣￣￣￣￣￣￣￣￣￣￣￣ここまで［Forms in HTML documents (ja)( http://www.asahi-net.or.jp/%7Esd5a-ucd/rec-html4 … )］より
　もちろん可能ですが、CGIを作成する程度の作業にツールを使ったことはないので・・ 　検索結果を表示するときに表示されるフォーム内に、<input type="hidden">でデータを含め、フォームをCGIで出力させるとき、そのデータを、<input type="text">や<textarea>内に書けばよいだけです。 　PATH_INFOやQUERY_STRINGSで渡しても良い。 　Cookieも使えますが、訪問者がCookieを停止していると利かない。 　javascriptでCookieを発行して、フォームでjavascriptで書き出すことも可能だが、さらに制約が多くなる。
画像掲示板でしたら下記を参考に http://tusinbo.okwave.jp/qa4684757.html あと、知恵袋のほうの質問については、ご自身で取り消されたようですね。 チップ25の勘違いでした、すいません。
http://heim.s112.xrea.com/cgi/sample1/tchat.txt 4日に回答したもののソースコードです。 改造の参考程度になればいいな
.htaccessで全てdenyでいいんです CGI等からの利用には支障出ません 許可エントリがなければプロキシ経由とか関係ありません
まさかとは思いますが、 <form method="POST" action="test.cgi?abc=def%26ghi%26jkl"> なんて書いたんじゃ無いですよね？ <a href="test.cgi?abc=def%26ghi%26jkl">送信</a> だと、画面の体裁以外に問題がありますか?
> 現在のところ、チェックボックスをいくつチェックしても > 先頭のひとつの値しか受け取れてないようです 多くの中途半端なデータパースの例では、「最後」のひとつの値しか受け取れないです。 もし、本当に「先頭」のひとつの値しか受け取れてないようなら、意図的にそうしてあるようですから、あなたの手には負えないとおもいますよ。
今調べましたところ、ホスト名で記述するときには後方一致でないとだめらしいです。 つまり、「ircnet.○○.△△」と最後まで書かないとだめ、○△が変わればその全パターンを書かないとだめ、ということのようです。
インデントなくなっちゃうのですね・・・ 今回の回答のサンプルのソースです http://heim.s112.xrea.com/cgi/sample2/imgboard.txt
SSLを利用する以外では、 JavaScriptとCGIを連携させるというのもありかもしれません。 SSLと比べて安全性はどうか知りませんが、平文で流すよりかはいいかも。 JavaScript(Ajax)とCGI間で通信するようにして、その間に独自の暗号化とかかけます。 受信者は、メールとして受け取るのでは無く、 そのCGI上の管理画面なりにログインしてみるようにするとか。 駄目ですかね、やっぱり。
if (@check1 eq "黄","紫","黒"){ print "貴方は素敵ですね。";} これがまずいんでは？ 以下のようにすればどうでしょう。 my $check = join "," ,@check1; if ($check =~ /黄/ && $check =~ /紫/ && $check =~ /黒/) { print "貴方は素敵ですね。"; }
CGIでメール送信をするならこちらが参考になるかと思います http://d.hatena.ne.jp/chaichanPaPa/20070620
それだけだったら、メーリングリストですむと思いますが・・・ 　ご利用のプロバイダーないしは、Freeml( http://www.freeml.com/ )のような無料のメーリングリストサービスを利用したらよいと思います。 　または、googleのGoogle グループ ( http://groups.google.co.jp/grphp?hl=ja )とかもよいですし。 　CGIで行いたかったら、掲示板CGIにメール送信機能を追加してもよいし、レンタルサーバーをお使いなら、fml ( http://www.fml.org/software/fml4/menu.html )をインストールする手もあります。 　上に上げたどれも使っているか、使った経験がありますが、freemlあたりから始めてみるのがよいかと・・・
出来なくはないですけど、今ひとつ何をしたいのかがわかりません。 javascriptで実現可能な範囲かもしれませんし 場合によってはFLASH使った方が良いかもしれません
cgiカテゴリじゃなくて、PerlとかPHPとかRuby等の各言語のカテゴリの方が適切な回答をもらえると思いますよ？ 因みに、論理積(and)を使用して３項目の条件を結合します。 全部のフォームが空の時だけ真になります。 一つでも未入力があったらメッセージを表示するときは論理和(or)を使用します。 一つでも空のフォームがあったら真になります。
.htaccessファイルを作成してサーバへアップするなら以下をコピーしてメモ帳にでも保存してください。 ファイル名はhtaccessで拡張子はtxtのままで、 FFFTPで作成したhtaccesstxtをサーバへアップしたのちにhtaccess.txtから.htaccessに名前の変更をしてください。 order allow,deny allow from all deny from ntoskaxxxx.oska.nt.ftthx.ppp.infoweb.ne.jp deny from 194.x.xx.xxx' ※ただし自動でアクセスするように制御されていた場合は、IPが変わったりするので効果は期待できないですよ。 あと、迷惑書き込みばかりしてくる、について助言ということで、 詳しい内容は分かりませんが英文で書かれたものはウイルスなので不用意にクリックしないように
@aaa = ('01_02_03','01_10','02','02_11_09'); while(<@aaa>){ s/(0)(\d{1})/$2/g; print "$_\n"; } while(<@aaa>){ s/(0{1})([0-9]{1})/$2/g; print "$_\n"; } 他にも色々・・
多分、test.cgi のシンタックスエラーでしょう。 見たところ、「"」の閉じ忘れが 2箇所あります。 まずはそれを直してみてください。 シンタックスエラーの確認は、CGIとして実行しなくともできるのはご存知ですね？
類似の質問がありましたので、参考までに 参考URL：http://oshiete1.goo.ne.jp/qa4549067.html
> CGIの知識も無い私に簡単に設定ができるものなのでしょうか？ できません。 > または業者に依頼すればよいのでしょうか？ はい。 CGIの設置代行業者へ依頼してください。 > その際の費用はどのくらいかかるのでしょうか？ 費用は見積もりを出してもらってください。 > また専門業者をご存知の方は教えてください。 このページの上の方にホームページ制作会社の広告が出ていると思いますので、それをクリックしてください。
初心者でも、知識が無くても、簡単にできるのは、レンタルです。 『ＳＳＬ メールフォーム 無料』などと検索すると、ＳＳＬの組み込まれたメールフォームをカスタマイズできて、尚、無料のレンタルサイトがズラリと出てきます。 カスタマイズ次第では、無料のレンタルフォームを使っていると気付かれにくいものもあるでしょう。 気になる料金は、当然、０円です。
≫本を確認し変更したところ、無事、訪問回数が表示されるようになりました。 ≫でも、その意味合いが良く分かっていないのですが・・・。 ≫あなたは1回目のご訪問です。 ・・・【中略】・・・ ≫$cookie ≫count=1 ≫$key ≫count ≫$value ≫1 ≫$count ≫1 　CGIの修正方法の原則は途中過程を表示させてミスの場所を探すということです。ですから、私が提示した方法は必須のテクニックです。 　うまくカウントしなかった原因は、 if( $key == ""){ $count = 0; } $count++; 　ですよね。$keyではなく、$countの値をチェックしないとなりません。だとすると if ($count == "" || $count ==0){ 等のほうが・・
>間違いなくCGIモードで動作しています これはどうやって確認したのかな？ 通常のHTML埋め込み型で駆動してしまうようならCGIではない筈だけど？
使ってるHTTPサーバーソフトは何ですか SSIの設定は終わっていますか ブラウザで見てるアドレスはちゃんとhttp://で始まってますか
表示→エンコード　で、EUCを選択したら、正しく表示されますか？ だとすると、metaタグで文字コードを挿入してみる。 <meta http-equiv="content-type" content="text/html; charset=EUC-JP"> もし、それで表示されないなら、テキスト自体かEUCでないので、EUCで保存しなおしてアップロードする。
私も経験が豊富とは云えませんが… 携帯で表示に拘るサイトなんかの場合は、ＰＣでプラウザ毎の表示エンジンの違いなんて可愛いもんに思えてきますよ。。。 何かのスクリプトでUser AgentやRemote Host所得して振分けて、エンジン毎に調節しないと殆ど不可能です＾＾； キャリア・機種を問わずという事なら、それしかないでしょうね。 あとご存知かもしれませんが、最近の疑似ビューワソフトは良くなったので利用価値ありますよ。 それと一つ思い出したのですが ＰＣサイトならパディングやマージンで簡単に調節可能な縦の行間も携帯では厄介だった記憶があります…。 個人サイトなら「まぁいいや…」で済む事ですが、機種によってはデフォで行間が殆ど０なのもあり、くっつき過ぎて読み難くなります。 バックを色指定でもすれば変わりますがテキストだけだと逆に読み難い事もあるのでご注意を＾＾；
こちらはどうでしょう？ http://tackysroom.com/cgi_pulinpulink.htm 上記の機能が全て揃っており、＋管理人の承認機能 もついていますよ！！ cgiの設置が難しいようであれば下記にも無料レンタルとして 取り扱っていますよ^^ http://www.cgiget.com/
定番のNAMAZUにも http://www01.tcp-ip.or.jp/~furukawa/pnamazu/pnam … 携帯電話モードがありますが・・・
サーバーが持っているHTTP(BASIC)認証を使うのが楽です。 ユーザー登録はそのサイト内でないと出来ないので、ルートディレクトリ以下のアクセス制限をかけたいディレクトリに、設定すればほかに設定は不要です。 　パスワードをかけたいディレクトリに、 【参考サイト】 CGI RESCUE チャレンジＣＧＩ - ユーザ毎パスワードでアクセス制限 　 http://www.rescue.ne.jp/cgi/htpasswd/
訂正 正　文字エンコード 誤　文字コード
再度の回答です。 ＦＣ２というのは↓こちらのことではないのですか？ http://fc2.com/ 『無料のホームページを置けるFC2』というのをこちらだと思っての回答でした。違いましたらスルーしてください。他のＦＣ２でしたらそちらのアドレスを貼り付けた方が回答を得られると思いますよ。 あっていればＦＣ２＝ＦＣ２ＷＥＢだと思って大丈夫だと思うのですが…。質問者様のＨＰアドレスがhttp://????.fc2web・・・みたいなアドレスなのでしょうかね？(＾＾；) で、こちらのＦＣ２はＣＧＩ禁止なのでいくらやっても無理です。 無料でＣＧＩがＯＫのところを１つご紹介しますので、webPatioというのをこちらにＵＰして元のページからそちらに飛ぶように設置するか、このＣＧＩ・ＯＫのところで全部のＨＰ作るしか方法はないです。 http://www.abcoroti.com/~rent/rspace/
はじめまして。 注文をどういう形のデータで受け取るのかによって違うのですが、注文を任意のメールアドレスで受け取って写真は添付ファイルになっている、というような形でいいのなら簡単にできます。 下記URLにフリーのCGIプログラムがありますので試してみてはいかがでしょうか。 参考URL：http://www.rescue.ne.jp/cgi/form2mail/
ご質問中のコードは抜粋されたもののようですので、的を射たお答えになっているか自身がないのですが、まず 　＞ push(@DATA_KS,$name); 　＞ push(@DATA_VS,$value); のように$nameと$valueを別管理するのではなく、$nameと$valueのハッシュにまとめてしまうことをおすすめします。 具体的には 　my %DATA_VS; 　while ($nameと$valueのループ？) { 　　push @DATA_KS, $name; 　　$DATA_VS{$name} = [] if not exists $DATA_VS{$name}; 　　push @{$DATA_VS{$name}}, $value; 　} のように $DATA_VS{$name}=[値, 値, ...] とまとめたのち、 　for my $name (@DATA_KS) { 　　for my $value (@{$DATA_VS{$name}}) { 　　　print qq{<input type=hidden name="$name" value="$value" />\n}; 　　} 　} や 　for my $name (@DATA_KS) { 　　print qq{<tr>}, 　　　　　qq{<td bgcolor="#009900">$name</td>}, 　　　　　qq{<td bgcolor="#ffffff">}, join(',', @{$DATA_VS{$name}}), qq{</td>}, 　　　　　qq{</tr>\n}; 　} などのようにしてみてはいかがでしょう。 なお上記では、($DATA_VS[($_)] eq '') のような空文字チェックやHTMLエンコード処理などを省略していますので、適宜読み替えてください。 （というか、上記のコードは即興で書いたもので一度もテストしていませんので、バグどころか文法エラーがあるかもしれません・・・笑） それでは、ご検討ください。
ソースを開いて適宜改造をすればいいとおもいます。 手順としては、 １、ソースをエディタで開く ２、改造箇所を編集 ３、保存 ４、動作テスト となると思います。
CGIを作ったり設定するためには、以下が別物であるのを理解している必要があります。 いずれにも絶対指定と相対指定があります。 その区別が怪しいと前途多難です。 1 http でアクセスする URL 絶対パスの例 http://host.domain/dir/file 2 CGIがサーバー内ファイルにローカルアクセスするためのパス 絶対パスの例 /var/www/htdocs/dir/file 余計なお世話だったらすみません。
osCommerce、ZenCart、EC-CUBEなどが有名かと思います。 > 私はCGI？という初心者ですが、自分で調べてみたところ、 とのことですので、設置、設定は無理だと思います。 それぞれのショッピングカートのデザイニングや設置代行サービスをしている会社にお願いするか、 今まで通りASPのサービスを受けるのが良いと思います。
文字化けの修正時に文字コードを変えてしまっていませんか？ もしそうならそれが原因である可能性が高いと思われますが… できるなら、修正前の状態に戻してテストしてみて下さい。
○個体情報を取得できないと書き込めない と言うのと、 ○PCも可 は矛盾してるように思います。 とりあえず高機能な掲示板を探すのではなく、 用途に合った機能を取捨選択しないと見つけられませんよ。 低機能な掲示板でも、運用次第では不自由なく使用出来るかも知れません。
またしても質問の前提条件が大きく変ってしまいましたね。 その事は、理解できますか？ 隠しフィールドって、CGIの実体の事ですか? それが必要な局面には、まだ突き当たっていないと思います。 今必要なのは、CGIの実体がサーバー上のどのディレクトリにあるか、そのディレクトリは HTTPでアクセスする為のURLではどう表現されるかでしょう。 それを知るためには、普通はサーバーにログインできるアカウントが必要です。 アカウントが無ければ本当にダメかもまた「サーバーの個別事情」です。 そこを何とかする技術は人様のサーバーに不法侵入する技術そのものなので、例え知っててもここには書けません。 万策付きたら、駄目元で action="nantoka.cgi" を試してみましょう。 ダメだったら、「相対パス」の意味を理解した上で再度 action="nantoka.cgi" の意味を考えてください。 余計なお世話かもしれませんが、あなたがやろうとしている事はあなたの身の丈を大きく超えているかも知れません。 あなたに命令をだした上司さん(？)に「事態、楽観できず」の報告は済んでいますか？ その報告をしないのは、任務失敗そのものとはまた別の失態ですよ。
<Files> ディレクティブや <FilesMatch> ディレクティブ は .htaccess にも書けるみたいですが、それでもうまくいかないんでしょうか？ あるいは ErrorDocument ディレクティブで CGI に処理させる方法は、PATH_INFO の代替手段として使えないんでしょうか？ # 私は PATH_INFO を使った事なくてできるはずかどうかも知らないんですが...
配列を単にスカラーで参照すると、格納している要素数になります。 例： while( @array > 0 ) { my $element = shift(@array); (1件の要素の処理) } 「スカラーで参照」がわかんなければ、 0 + @array で @array の要素数が得られると覚えてください。
read(STDIN, $buffer, $ENV{'CONTENT_LENGTH'}); を undef($/); $buffer = <>; に直してみると、どうでしょうか？ うろ覚えの記憶ですが、 IIS は Content-Encoding: chunked で返すので、CONTENT_LENGTH はあてにならなかったと思います。 デコードは、マルチパートも含めて自分でやると面倒なので、 CGI.pm とかがお勧めです。
たぶん文字コードはShift_JISをお使いだと思います。すると、 「予」の2バイト目は 0x5C （\）ですから、これが次の字のエスケープ文字として働いているためその誤が文字化けするのです。 この場合、「予」の後に \ を置けば一応文字化けは回避できます。
期待されている回答ではないかも知れませんが、 単品処理しかできないものを、複数品処理できるように変更するより、最初から基本的なところがご希望に叶ったものを探した方が良いと思いますよ。 たとえばこんなの↓ http://www.vector.co.jp/soft/dl/unix/net/se25815 … フリー版もあるようです。
その前に、今貴方が使用しているサーバーがＣＧＩ使用可能なサーバーですか？　ほとんどのサーバーがＣＧＩ使用禁止です、又は、プロバイダーなどによっては、ＣＧＩをアップする　サーバーを別に設けているところも有ります。
my $year = shift; $yearにサブルーチンの引数の一つ目を代入（shift @_） getEto($year02)とあるので、my $year=$year02という処理が行われる。 return( $label[$year % 12] ); getEtoの戻り値として、$label[$year % 12]を返す。 $label[$year % 12] @label配列の　$year % 12　番目を参照 $year % 12 引数として入ってきた年数の数字を12で割ったときの余り 干支は１２あるので１２で割る
PEARのFile_Archiveを使う。
CGI.pmを使えば、あなたがされている処理はすべてCGU.pmで可能です。 こちらに詳しい説明があります。 CGI - 簡単なCGI（Common Gateway Interface）クラス http://homepage3.nifty.com/hippo2000/perltips/Cg … フォームから受け取ったデータをCGI.pmで順番にキーの配列と値の配列に入れ、それを順番にShiftで取り出せばよいです。
回答1でも問題ないと思いますが、別解。 $number1 =~ s/(^|\D)0+/$1/g; $number2 =~ s/(^|\D)0+/$1/g; 回答1の方は「数値」を「その数値に1をかけた値」に置換することで、頭の0を取り除く方法 この方法は、「(数字以外の文字)のあとに続く0」を「マッチした(数字以外の文字)」に置換することで、頭の0を取り除くというものです。
たいていの「新着情報更新ソフト」なら、それだけで(1)～(4)はできると思います。 ここにURLを書くことはできませんのでググって確めてください。
次の３方法があります。 (1)自社サイトにCGIプログラムを設置する (2)モール出店契約をしてそこのシステムを使う (3)レンタルフォームサービスを利用する どれを使うかはいろいろな事情や条件によりますが、会社のホームページでという場合ですと信用ということも考慮しないといけません。見ている人はこういうところもちゃんと見ています。
配布されているスクリプトを使って、お好みの背景色や文字色に変更することはカンタンなことですよ。 失礼な言い方ですがこの位のことができないようでは、設置や管理は無理ですからグァンパってください。
貴方以外誰も知らないのでは？ カウンター用画像の置き場所はカウンターCGIによって皆異なります。 そのCGIの説明をよく読みましょう。
新着情報更新ソフトを使えばカンタンです。 「新着情報更新ソフト」でググればいくらでも出てきます。
CGI ROOMさんのランキングCGIもしくは逆探知リンクマネージャーはどうでしょうか？ http://cgiroom.nu/list/link/ あとはここの「ナビス」とか。 http://pink.obi.ne.jp/pages/CGI4.html 参考URL：http://cgiroom.nu/list/link/
実際に記号を挿入した文字列を作ってしまうのが、手っ取り早いと思います。 sub ConfirmHTML { &Header; my $sss_text = join '---',@sss; # 配列の要素を'---'で繋げる ～～～ <ul><li>$sss_text</li></ul>
例えばApacheではRLimitCPUでCGIで起動されたプロセスの時間を制限します 無限ループしてしまったCGIや意図的な負荷をかけるCGIからサーバーを守るためです
「×××」に入る部分が$EMAILという変数だとしたら、単に、 print "Content-type: text/html\n\n"; print "<html><body>\n"; print "<img src=\"https://sample.com/contract.php?num=1&order=$EMA … width=\"1\" height=\"1\">\n"; print "</body></html>\n"; でだめですか？
CGIをいくつ設置してもサーバーにかかる負担はそのCGIプログラムのファイルサイズだけです。 備え付けのだったら設定ファイルだけですね。 まあ一億個は置けますから みっつくらいは・・ サーバーにかかる負担はアクセス量です。 掲示板(文字オンリー)で負担がかかるほどのアクセス量なら アフィで大もうけ。
結局、何をしたいのですか。 ＞いわゆるnamaeの値である山田がわたされないということです。 inputタグの name属性と、Aタグの name属性は何の関係もありません。
>CGIの設定の仕方がわかりません。 htmlのページにCGIのアドレスをリンクするらしいのですが そのアドレスはどのように設定すればいいのでしょうか？ htmlのページにというのはトップページ(index.html)のことですから トップページのソースにリンク先として <A href="http://*****/*****/sche27.cgi">スケジュール表</A>を挿入 但しパーミッションの設定で動作を確認してから行なって下さい。 あと、パーミッション数値ですが755、777、600と明記されてますが必ずしも正しい数値とは限りませんサーバーによっての違いがあります。 下記についても同じ様な事が言えます。 cgiのファイル内の、perlのパスは、「#!/usr/bin/perl」または「#!/usr/local/bin/perl」のどちらでも動作致します。 このように明記されていても実際にはどちらか1つしか使えないこともありますので
多少なりとも自力でCGIが書けるのなら、カウントしてから単に「301 Moved Permanently」を返せば良いです。 簡単すぎて、完成品の配布は無いかも???
>はい、それはやっているのですがsendmailやpopあたりの設定が分からないのです・・・ ここに書いてありますよ。 以下によるとpop形式はないようですね。 $send_type = 1; 　（メールの送信形式を指定します。「1」はsendmail送信、「2」はPerlモジュールを使った送信方法になります。「2」を利用する場合、プロバイダ側でPerlモジュールによるソケット通信が可能である必要があります） ※あと、sendmail形式の場合フリーメールだと上手く送信されないこともあるので確認をされるといいですよ。
以前、こちらで「auty」氏から教わった方法はどうでしょう(参考URL)。 かなりショッキングなコードでかなりおどろきました。 HTMLのタグへの記述は関数呼び出し以外すべてJS内で処理できると思います。 ついでに実験用にいじったサンプルコードも載せときます <html> <head> <script type="text/javascript"> <!-- function formSubmit() { var MyForm = document.createElement("form"); document.body.appendChild(MyForm); with(MyForm) { var T1 = document.createElement("input"); T1.setAttribute("name","T1"); T1.setAttribute("value","TEST T1"); appendChild(T1); method = 'post'; action = './test.cgi'; submit(); } } //--> </script> </head> <body> <a href="#" onclick="formSubmit();return false;">create form and Submit</a> </body> </html> 参考URL：http://hiroba.kodate.jp/qa4146385.html
それでよいと思いますがどのようにうまくいかななかったのでしょうか？ <SCRIPT～の部分は何をしているのでしょうか？
質問文のコードは、禁止メールアドレスおよび禁止用語に該当するかどうかをチェックしている部分ですから、それ以前に No.1解答者が示されたように設定するところがあると思います。 ところで、使っている日本語文字コードが Shift_JIS の場合は、定義した禁止用語によっては「禁止用語のチェック」のところでエラーになります。 エラーを回避するには、禁止用語、$in{'sub'}、$in{'comment'}ともに EUC-JPなどに変換しておいてチェックするとか、正規表現の $ngword を \Q,\E で括るとかの工夫が要ります。
「新着情報更新ソフト」（CGI）を使えばご希望のことができると思います。 ググればいくつでも出てきます。
$inがすでに配列になってるので入れ替える必要ないように見えます。 数字の添字で参照したいとのことでしたら、せっかく連想配列になってるので、設計を見直した方がよいかと。 でも一応foreachでループ回してカウンタ取ればできますね。 >ある1文字だけ抽出する どんなことがやりたいかちょっとわからないので「正規表現」を調べてみてください。
C で result = 'a' - 1; と書くところは、Perlでは以下の様に書きます。 $result = chr(ord("a") - 1); または $result = pack("C", (unpack("C", "a") + 1);
もう十数年の利用になりますが、CGI RESCUE - ネットサーフレスキューＷｅｂ裏技( http://www.rescue.ne.jp/ )さんの下のほうにある、マルチパート対応フォームメール( http://www.rescue.ne.jp/cgi/form2mail/ )でよいのでは？
本文をinputからtextareaに変更、あとは改行コードを<br>に置換してあげればよいかと思います。 この説明で分からなければあきらめた方がよいかと。
動く筈のCGIが動かない件、本当にスクリプトは大丈夫ですか？ perl -wc は、スクリプトの 1行目の妥当性もチェックしてくれますか？ これは、Perl言語のシンタックスの枠外です。 ご自分の環境に合った内容が記述されていますか？ あるいは、suexec 関連は疑ってみましたか？ もしも、Windows版Apache と Cygwin版Perl の組合せだったりすると、苦労も多いでしょう。 一般に、インターネットから取得した情報やコード類が自分の環境にドンピシャリであることはそんなに多くは無いですよ。
> htmlを生成し この条件により、ケータイでは、 > 「ページが移動しない場合はコチラをクリックして下さい。」 方式でしか実現できません。理由は、ケータイではrefreshもJavaScriptも対応してないからです(機種によっては対応)。
書かれている付近の動きは問題ないように見えます。 そのほかの部分がおかしいか、データ自体に問題があるのではないでしょうか。 $setumei_1の中身を表示させるなどしてデバッグしてみてください。
うーーん、そうですか。。。 javaScriptの実行を切っていると、こちらではこの現象を確認できるのですが。。。 他のPCのブラウザでも同様の現象なのでしょうか？？ こういう言い方は好きではありませんが、（どこかに原因があるとは思いますが）環境依存・・・なのかも知れませんね。 またアクセスカウンターなどでは - SSIを利用する方法 <!--#exec cgi="./cgi-bin/counter.cgi" --> - IMGタグを利用する方法 <IMG SRC="./cgi-bin/counter.cgi"> が一般的でしょうか。。 cgi(perl)では「Content-Type image/gif」や「Content-type: image/jpeg」をhttpヘッダーに付加の上、 画像のバイナリを送信してやればよいかと思います。 この場合、必ずしも「SCRIPTタグ」や「javaScript」を使う必要は無いでしょう。 #お力になれず申し訳ありません。 #何か解りましたらまた書き込みます。
＞フォームにTESTと入力してエンターを押すとcgiのファイルが開いてしまいます。 ・・・【中略】・・・ ＞cgiの知識が全くないため原因がわからないです。 　こればっかりは、『最低限ＣＧＩの知識を身につけてください』としか言いようがありません。 　車のエンジンがかかりません。車の知識はまったくないのですが・・・キーがどこにあるか、ハンドルがなにか、そもそもどちらに向いて走るのかも知らない。 ★「cgiのファイルが開いてしまいます。」 　の一言で、貴方がＣＧＩを使う、ある程度どころか最低限の知識がないことが明らか・なのですよ。 　ＣＧＩは、ある意味とても危険で、他の共用ユーザーに迷惑をかけたり、SPAMの足がかりにされたり、運用するための、最低限の知識を身に着けてください。今のあなたは、車の免許も知識もないのに、高速道路に乗り入れようとしている状況です。 　
＞出来ればメール以外の形での携帯からのアップロード これは不可能です。携帯電話が対応していません。 フルブラウザとか使えば別ですが。 参考URL：http://q.hatena.ne.jp/1160200035
「hoge1」という名前で発行したクッキーを確認（読み出し）するなら、 if ($ENV{'HTTP_COOKIE'} =~/hoge1=true/){ $AAACookie = 'true'; }else{ $AAACookie = 'false'; } でいいんじゃないですか。 ※この場合、￥は全部要らないです。（付けるのはおかしい）
ヤフーフォトでアップロード用のソフトを使うってのはダメなの？ http://help.yahoo.co.jp/help/jp/photos/upload/up …
>LoadModule cgi_module module/mod_cgi.so は、無いなら指定しないでも良いと思います。 拡張子とディレクトリでCGIを指定することも出来ますので まずは、httpd上でperlのCGIが動作するか確認されてみては 如何でしょうか？ Windows 98に拘りが無いのなら、他のOS(Linux,FreeBSD)を インストールした方が、環境は作りやすいと思います。 もしくは、Windows上で動作するCigwin環境を導入するなど。 参考URL：http://httpd.apache.org/docs/1.3/howto/cgi.html# …
なるほどHTMLソースは同じでしたね。 ではHTMLより前に来るヘッダーが単に Content-type: text/html; だけか、 Content-type: text/html; charset=Shift_JIS のようにコード指定があるか。
substr は、 バイトでの切り出しを行います。 よって ＞1.半角英数のみと日本語のみで長さが全然違う。 半角英数(1バイトコード)と日本語(マルチバイト)では 切り出した後のバイト数は同じでも人間が見た文字数は異なります。 ＃日本語1文字は、SJIS,EUCコードで2byte、UTF-8で3byteです ＞2.半角英数+日本語で日本語で切れるとき、最後の文字が文字化けする。 バイトで切り分けますので、マルチバイト文字の途中で切られた 文字は文字化けします。 詳しくは、Googleなどでperl マルチバイト で検索してみてください。
10年前ぐらいにはタグが有効な掲示板が結構ありました。 しかし世の中には悪い人もいて、大きなフォントを使ったり不適切な画像を貼り付けたりするいたずらが多く、やがて掲示板ではタグを無効化する処理を加えるようになりました。 現在はほとんどの掲示板でタグは使えないでしょう。 中には独自の記号でタグの代用ができるものもあります。 ＞掲示板に、タグとかのプログラムソースを書き込んでも何もおきないのは何故ですか？ いたずら防止のため何も起きないように処理を加えているからです。
カウンターはCGIなのに .gif としてアクセスするでしょう。 .html でもCGIなのかな。
ほかのウェブサイトのCGIアプリケーションを利用させてもらうのであれば、ANo.1のような方法で可能です。（そのサイトが提供しているAPIを使う） 自分で設置する（またはAPIを提供する方に回る）のであれば、 CGIアプリケーションとIEなどのブラウザを連携させ、さらにスクリーンショット撮影ソフトとも連携させる必要があります。 利用者がCGIアプリケーションにアクセスしてくると、 そのURLを解析しサーバーで待機させているブラウザにアクセスさせます。 アクセスが完了するとスクリーンショットを撮影し、それを画像として保存します。 その後CGIアプリケーションはその画像を利用者に返します。（サムネイル画像のタグを発行します） > そのようなCGIってあるでしょうか？ たぶんありません。 自動でブラウザを動かしたり、スクリーンショットを撮影するなどのオリジナルのソフトウェアを作られていると思います。
アンケート集計って、簡単なのでこのくらいは作ってみたら？？ とりあえず、 CGI RESCUE - ネットサーフレスキューＷｅｂ裏技 http://www.rescue.ne.jp/ さんのところの CGI RESCUE チャレンジＣＧＩ - アンケートを採る(WebAN) http://www.rescue.ne.jp/cgi/weban/
０からのスタートなら、ざっとこのくらいかと思います。 ・HTML、CSS（CSSはデザインだけの物なので任意） ・CGIアプリケーションを作るための言語（一般的にはPHPやPerl）の知識 ・CGIの知識（Cookie/セッションの扱い方、ブラウザから送信されてきたデータの処理方法、HTTPヘッダ、文字コード、改行コードの問題など） ・データベースの知識（データベースの種類、SQLや正規化、その方法など、.iniファイル、CSV/TSVファイルもデータベースです） ・データベースソフトの知識（MySQLやPostgreSQLなどの使い方と、PerlやPHPとの連携の仕方、もしくはCSVファイルなどをデータベースとして扱うためのライブラリを作成できること） ・CGIアプリケーションとしてのセキュリティーに関する知識 プラスアルファとして ・ユーザーインターフェースを考えられること（使いやすいフォームを作れること） ・JavaScript（ユーザーインターフェースの延長） > このプログラムは制作する難易度の目安としてどの程度なのでしょうか？ CGIアプリケーションとしては、簡単ではありませんが難しいというものでもないと思います。 練習としてBBSをつくられることが多いと思いますが、ちょっと高機能なBBSと同じくらいだと思います。 セキュリティーを除けば早ければ１ヶ月で作れると思いますが、 １年から、プラスアルファの部分も考えれば２～３年ほど見ておいた方が良いと思います。（業務などで専念できるとして） 言語仕様やセキュリティー情報などを公開しているサイトもたくさんありますので、そういうのを読めば、まぁ、そこまで難しくはないと思います。 （昔はそういう情報はほとんどなかったので、それから考えれば簡単に作れるようになったなぁと思います） > (自社のサイトを制作できる程度です。） 自社の、とありますが、今後、CGIアプリケーションの制作を業務としてやっていこうというのでなければ、 おそらく誰かに制作を依頼するか、 一般に公開されているスケジュールサイト（ANo.1のような）を利用されるのが良いと思います。
n回に1回と言う処理は、剰余を使うのがセオリーです。 $b++ if $a % 4 == 0; ただ、今回の目的って「4年に1回」ではなく「閏年だけ」+6ですよね？ $aが閏年か判定する関数を作った方がいいと思われます。(参考URL) 参考URL：http://d.hatena.ne.jp/perlcodesample/20081012/12 …
お使いの文字コードがShift_JISだとすると、「申」は \x90\x5C で2バイト目の \x5C は「バックスラッシュ」（日本語キーボードでは「￥」）です。 そのため、次の字をエスケープするものと誤認してエラーになります。 この場合は、とりあえず「申\」としてやればエラーは回避できます。 これ以外にもShift_JISではいくつかの文字でこういうエラーが発生します。「文字コード Shift_JIS」などでググってみましょう。
長文になってしまいました。m(_ _)m 該当のサイトの解説文を読みました。 http://openlab.ring.gr.jp/k16/htmllint/explain.h … > 165 > TYPE=TEXTなどのように、VALUE属性の値が固定的でないものに対して、同じ名前の要素がひとつのFORM内で複数存在すると、CGI側ではそれらを区別できません。 「TYPE=TEXTなどのように」となっていますね。 ですが、CGIはこれらを区別できますので、解説文が間違っているようです。 もちろん、区別しないように作ったり、言語仕様として区別しない物（PHP）もありますが、 HTMLの解説として「できない」と限定して書くことではないと思います。 テキストフィールドの場合にのみ区別しない、という作り方をするのは、 「全て区別しないか全て区別する」よりもはるかに難しいですし、場合によっては不可能です。 > VALUE属性の値が固定的な、TYPE=RADIO/CHECKBOX/SUBMIT/RESET/BUTTON/IMAGEとHIDDENについては警告されません。 このように書かれていますので、hiddenやcheckboxで警告がでるようなら、このチェッカーのバグと思われます。 「hiddenとcheckboxの両方で使っている場合」については言及されていませんので、あながちバグとも言い切れませんが。 質問とは関係ないことですが、 > SUBMITにNAMEがない場合は無効 (If the NAME attribute is not present, this element does not contribute a form field.) だとされています。 調べたところ、HTML2.0でこの定義がされているようですが、HTML4.01やXHTMLではこの定義はありません。 特定のHTML/XHTMLのバージョンだけの内容を、全てのバージョンに適用してしまっているようです。 （このサイトは、こういう不具合や語弊のある書き方が多いです。） なお、ボタンとしては機能しますが、valueを送信しなくなります。（文法とは関係ありませんが） さらにHTML2.0の文法書を読んでみると、 http://www.w3.org/MarkUp/html-spec/html-spec_8.h … 「does not contribute a form field」の意味は「無効」ではなく、 HTML4.01と同じ、「サーバーに値を送信しない」の意味で使われていると思います。 > RESETの項目の例より When you are finished, you may submit this request: <input type=submit><br> You may clear the form and start over at any time: <input type=reset> via: contribute http://dic.yahoo.co.jp/dsearch?p=contribute&styp … > CGIの部分も間違っているのか不安なのです・・・難しいですね。 CGIを使用していても、ブラウザが見ているのはそこから出力されたHTMLですので、扱い方法は同じです。 HTMLの文法としては、全く問題はありません。 オリジナルのスクリプトでsw_refやsw_aressを何度も使われているなら、 むしろ複数あることで正常に動作する物と思われます。
DNS逆引きタイムアウト時間に見えます。 CGI内でlookupしてませんか
状況から見ると、フォームの送信ボタンを押した際に、postmail.cgiという名前のCGIが呼ばれるようになっていて、 そのCGIでフォームの内容をメール送信するような感じなのでしょう。 で出ているメッセージから判断すると、何らかのセキュリティがかかっており、You don't have permission to accessというのは、「貴方には送信する資格がない」ということでです。 Apache/1.3.37 Server at premura.co.jp Port 80 の部分のApacheというのはオープンソースの最もメジャーなWebサーバの名前 1.3.37はバージョンですね。 アクセスしているサイトは http://www.premura.co.jp/ ってサイトでしょうか？ 問題が貴方にあるか相手にあるかは状況次第です。 要するにpostmail.cgiというCGIへのアクセスを禁止されているわけですが、 (1) 何らかの認証を通らないとアクセスできない仕様になっている場合、 例えばユーザIDとパスワードを入れてからでないと送信が出来ないようになっている場合、 貴方がその手順を踏んでいないためエラーになっているという状況かもしれません。 [貴方に問題がある] (2) あるいは、相手側が設定を間違えていて、postmail.cgiが実行できなくなっていると言う状況でも同じエラーになる場合があります。 [相手に問題がある] (3) Forbiddenエラーはまれにですがアクセスが立て込んでいる場合にも起こる場合があります。 (1)のような状況でないのであれば、(3)の場合も考えられるので、 何度かアクセスするタイミングを変えて試してみてそれがダメなら(2)の可能性が考えられます。 その場合、ホームページの管理者でないと対処のしようがないので、管理者に直接問い合わせるしかありません。 電話等の問い合わせ手段はありませんか？
まあそんなもんです。 以前日本のインターネット管理総本山のJPNICのサイトでもそんなことがありましたね。 そっとしておいてあげてください。
配布掲示板といってもいろいろな種類があります。 どの掲示板を使っているのでしょう？ まずはそれが分からないと答えようがないと思いますが。 どの変数を変えたいのか、変数名を変えたいのか、変数の値を変えたいのかも質問から読み取れません。。
合宿なら件数も少ないので、わざわざデータベースを使わなくてもできるでしょう。 ただ、Perlにしろ、きちんとフローチャートを描いて、プログラムできる技能があれば、簡単ですが、そうでない人には不可能・・・ 　このようなソフトを作りたいのですが・・・と言われたって、本を何冊も読んで勉強しないと無理。かといって作れる人には、数日時間をいただければできる程度。 　あまりにもギャップが大きすぎて・・ ＞このような仕様をCGI+HTMLで実現可能でしょうか？ ＞またどのように作ってよいか全く想像ができません。 　フローチャートを書いて見ましょう。
サブルーチンのエラー処理 sub error { （略） はありますよね？
多分\r\nを<BR><BR>と読み取っているのではないかと思います。 >$body =~ s/<br>/\n/g; はデコード（LOGから表示する形式に戻す）側なので、エンコード（入力されたものをLOGに保存する形式に変更）しているところで余計な改行が入るのかと推測されます。 しかし、具体的にはソースを見ないと分かりません。
画面遷移をしないと言うのはCGIのみでも無理です。 AjaxかFlashまたはJavaアプレットを併用しないとできないと思います。
>素晴らしいものが多くあるのもわかるのですが、もしもその会社自体がなくなったりしてしまったら・・・　 オープンソースのZenCartとか使えば解決するのでは? プロジェクトが廃止になっても自分で改良し続ければいいだけですから
ご希望にピッタリなのがありますけど、OKWaveは「はてな」のようにURL書けないんですよね。 フォームの入力項目などいくつでも自由に作れます。 「F2MAIL」なんかでググってみてください。
プログラムで使うためのダウンロードですね。 操作してみたのですが、(エラーメッセージを見る限り)ファイルがなくなっているようです。
http://wws.cside.com/cgi-plant/ こちらのUPLOADERはどうですか？
CGI(Perl?)だけで実現するのであれば、GD::GraphというPerlの モジュールがあります。 http://search.cpan.org/search?query=GD%3A%3AGrap … <以下参考まで> Google Chart API を使用する Perl のモジュールもあるようです http://search.cpan.org/search?query=google%20cha … CGIとJavascriptを使われるとのことでしたので Google Chart API ＋ GChart を考えていました。 http://solutoire.com/gchart/ http://codezine.jp/article/detail/1976?p=1
「エラーページテンプレート」で検索するのがよろしいかと。
えーと、多分キャリアもそうですが機種判別まで含んだ話じゃないですかね。 きせかえはキャリア及び機種によってかなり差がありますので、間違ったものをダウンロードさせるとエラーになっちゃうんですよ。 そのことだとしたらエンジンと呼ぶほど大したものではなく、ユーザーエージェントを取得することで概ね解決です。 PCサイトの世界でも、ブラウザ判定などで使ってますね。 一般で作る場合には通常CGIを用います。 こんな感じです。 http://opqr.jp/2007/09/phppc.html どういう振り分けにするかは目的次第ですので自由に作り変えてください。 そうではなく、きせかえコンテンツに埋め込むような話だとしたらそれはよく分かりません。仕様書を読み込むしかないんじゃないかと思われます。
> print "$nameさんの金額は合計$kyaku{$name}[4]", > join( ',', keys %{$kyaku{$name}[1]}),"円です<br>\n"; この結果が > cocoa23さんの金額は合計5200,1800円です だと思いますが、１つ確認を。 join()とは、何をどうするための物ですか？ そして、何をどうしたいのですか？ # 何をどうしたいかはわかりますが、質問者さんに再確認してもらうためです。
それはWindowsでいうタクススケジューラーで行います。 UNIX系なからcronというものがあります。 指定した時間になればあるプログラムが動くようにしておいて、そのプログラムの中でやりたい処理を記述します。 参考URL：http://homepage1.nifty.com/cra/linux/cron.html
PERLBBS/フォーラム型掲示板(携帯対応) http://plus-code.net/cgi-flash-bbs/perlbbs/ ×ツリー式 ○検索機能 ○ID表示 △固体情報の取得なしでは書き込み不可 ○IPによる検索機能(管理者のみできればOKです) ？トリップ ×できれば画像のUP 携帯対応掲示板 REP-BBS http://www.mt312.com/script/11/ ×ツリー式 ○検索機能 ○ID表示 ？固体情報の取得なしでは書き込み不可 ？IPによる検索機能(管理者のみできればOKです) ？トリップ ×できれば画像のUP 携帯絵文字対応BBS「SmallPICT」（Ver2.41） http://wap2.jp/download/spict/ ○ツリー式 ○検索機能 ○ID表示 ？固体情報の取得なしでは書き込み不可 ？IPによる検索機能(管理者のみできればOKです) ？トリップ ×できれば画像のUP
サーバの設定によってはファイル名を指定しないとディレクトリ一覧が 表示されることがあります。 この場合、ディレクトリにアップされているファイルが一覧として 表示されてしまいますので、CGIが使用しているデータファイルとか まで見られる可能性があります。 それを防ぐために空のindex.htmlを置いたりすることはよくあります。 ディレクトリ一覧が表示されないサーバや.htaccessで表示しないように できるサーバならなくても構わないかも知れません。
ANo.1です。 とりあえず貴殿が使用されているCGIを参考にすると 以下のような形になります。 # $year 　: 現在の年 # $month　: 現在の月 # $Y2 　　: 翌月の年 # $month2 : 翌月の年 # $Y3 　　: 翌々月 # $month3 : 翌々月 $month2 = $month + 1;　　#翌月は現在の月＋１ $Y2 = $year; 　　　　　　#翌月の年は現在の年 if ($month2 > 12) {　　　#翌月が12より大きい場合は $month2 -= 12;　　　 #翌月 = 翌月 - 12 $Y2 = $year + 1;　　 #翌月の年は、現在の年 + 1 } $month3 = $month2 + 1; 　#翌々月は翌月＋１ $Y3 = $Y2; 　　　　　　　#翌々月の年は翌月の年 if ($month2 > 12) {　　　#翌々月が12より大きい場合は $month2 -= 12;　　　 #翌々月 = 翌月 - 12 $Y3 = $Y2 + 1;　　 　#翌々月の年は、翌月の年 + 1 } 翌月の年月を算出する部分は関数にしたほうがスマートでしょう。 また、現在時刻からの換算で年月を割り出す方法もあります。 勉強してください。
"?"にしておけば問題のCGIのファイル名が変わって i.cgi となってもi.cgi? に展開してくれるからです。 或いは単に記述の手抜きか。 "" にすると 駄目ですね。 ?はCGIにパラメーター(コマンドラインだとオプションと呼ぶ)を渡すための区切りなのは皆さんご存知でしょうが、単独で使えるとは ここらへんの仕様はMSのプログラマーあたりが勝手に決めたことなのでしょうが、悪くはないと思います。
今までどんな用途のCGIをダウンロードして使われていたのか解りませんが、 おっしゃる様な機能のCGIをいくつも作るのは大変なことです。関数を列挙するだけでは何の役にも立たないと思います。htmlとの親和性を考え、なおかつ初心者が入門しやすい言語はPHPがいいと思います。 入門書や、解説サイトもそれなりにあります。 　また、あなたがやりたい事については、自分で全部作らなくても、無償のパッケージのような物（CMS:CMS:Content Management System）があります。 PHPの代表的なCMSとして、Xoops(ズープス)とかPukiWkiとかがあります。 CMSのもと自分で作ったCGIプログラムやhtmlをテンプレートやプラグインとして取り込めます。 参考URLを除いてみてください。 参考URL：http://xoopscube.jp/overview/features,http://puk …
＞トップページからリンク先をクリックするとディレクトリ名が ＞ttp://ww.*****.com/local/このように変わったのを覚えていますが ＞これはどんな方法で設置しているのでしょうか？ 　それは単純に、そきにの出力したHTMLにリンクが記載されていただけです。 ★複数のCGIを ・プロトコル://[ドメイン]/path/([CGI_1]) ・プロトコル://[ドメイン]/path/[path/([CGI_2]) 　　()内のCGIファイル名指定はなくても良い と置いたり 　プロトコル://[ドメイン]/path/[CGI][/PATH_INFO] と置けたりすることは、HTTPサーバーの動作手順を学べばよいです。極めて単純で機械的な処理です。 　例を挙げますが、自身でサーバーを作ってみないとこんがらがるでしょうから、参考までに 　ブラウザから次のような要求がサーバーにあったとします。 http://[ドメイン名]/ABC/EFG/HIJ?KLM/OPQ 　この要求を受け取ったサーバーはまず?以下を環境変数{QUERY_STRING}に代入して、 　　この時点で、$ENV{QUERY_STRING} = KLM/OPQ /ABC/EFG/HIJというファイルを探します。 　1) /ABC/EFG/をディレクトリとみなしてされをさがす。 　・・あれば、それがファイルなら提供する 　・・実行ファイルならそのプログラムに処理を任せる 　2) ファイルでなければ、ディレクトリであるか調べる 　・・ディレクトリならそのディレクトリを開き、 　　そのディレクトの処理方法を調べる 　　a) インデックスを探すならindex.htmlとかindex.cgi 　3) ファイルもディレクトリもなければ、 　・・/HIJを切り捨てて、環境変数{PATH_INFO}に/HIJを代入 　　この時点で、$ENV{QUERY_STRING} = KLM/OPQ 　　　　　　　　#ENV{PATH_INFO} = /HIJ 　4) (1)から(2)の作業をする。 　5) ファイルもディレクトリもなければ、 　・・/HIJを切り捨てて、環境変数{PATH_INFO}に/EFGを代入 　　この時点で、$ENV{QUERY_STRING} = KLM/OPQ 　　　　　　　　#ENV{PATH_INFO} = /EFG/HIJ 　4) (1)から(2)の作業をする。 ・・・これをサーバーのトップまで実行します。・・・ ですので、ドメイン名以降の[/******」は、実体はなくても良いのです。極端な話、トップに[CGI]が置いてあって、それをディレクトリインデックスとして認識させていれば、ドメイン名以降の[/******」は実在の必要もないのです。 ・・だから難しいといったでしょ・・・ 例］こちらに良い見本があります。 http://hpcgi1.nifty.com/Iruka/ENV_FORM.cgi の後ろに任意のURLに使用できる文字を入れてみてください。 http://hpcgi1.nifty.com/Iruka/ENV_FORM.cgi/Lawye … とか・・・/Lawyer_41以降は任意の文字列
ラジオボタンでなくて checkbox ですよね。 ラジオボタンは 一つしか選択できないのでは。 checkbox をいくつチェックしたかは submit してからサーバー側で見るのが基本ですが、その前に調べるにはブラウザ側のスクリプトを使う必要があります。 しかしスクリプト切ってる人も多いのでサーバー側で調べる必要はあります。 同一ホスト(IP)のチェックは簡単ですが携帯等だと駄目です、が PCと違って携帯識別IDを取れる場合もあります。
その人がどのような意図で使っているのかはその時の状況や内容を 見ないと分かりませんが、単に今まで正常に動作していたCGIが正常に 動作しなくなったことを指しているんじゃないでしょうか。 ユーザーが何もしていないのにいきなり動作しなくなったのなら、 外部からの攻撃または誰かが意図しない操作をしてCGI側の不具合が でた場合か管理者がサーバの設定を変更したりバージョンアップしたり などで仕様が変わり正常動作しなくなったということが考えられます。 掲示板などはデータをサーバ側に保存しますが例えば投稿された時に タグをちゃんとエスケープ(エンティティ化)しないと script タグ などが埋め込まれてページを表示する度にJavaScriptが実行される 羽目になったりといろいろ問題が起こります。 サーバの仕様が変わった場合、その仕様に合わせるようにCGIを修正 する必要があります。 意図的に仕様を変更したのなら大抵はサーバの管理者がその情報を 公開しているはずですのでそれを参考にしてください。 ただ、バージョンアップやサーバマシンの変更などで偶発的に仕様が 変わった場合、原因が不明になる場合も多いです。
#1です。Apacheでの、とかあまり難しく考えないで、 ～/cgi-bin/abc.pl?URI=%2ftest%2fstart%2ehtml%235000 で大丈夫だと思います。(*) CGIがデコード処理をサボっていると、CGIを改造しないといけませんが * 適当に「エンコード」で検索したページで変換しました。 http://www.tagindex.com/tool/url.html
use utf8; を指定しなければ文字化けせず出力されるでしょう。 UTF-8で保存することと，use utf8; 宣言することは違いますので。 http://okwave.jp/qa4257517.html の私の過去の回答 ANo.2
http://okwave.jp/qa4413021.html の私の過去の回答 ANo.3
またまたまた失礼します。 前の回答で「なら」を2回繰り返しているミスに赤面しております。 フォームを強制的に設定したい場合の簡単なJavaScriptサンプルを以下に置いときます。 <html> <head> <title>TEST</title> </head> <script language="JavaScript"> <!-- function fInit(){ 　　// それぞれ2番目の要素を強制選択 document.f.S01[1].selected = true; document.f.R01[1].checked = true; } //--> </script> <body onLoad="fInit()"> <form method="POST" action="test01.cgi" name="f"> <select size="1" name="S01"> <option value="AAAAA">AAAAA</option> <option value="BBBBB">BBBBB</option> <option value="CCCCC">CCCCC</option> <option value="DDDDD">DDDDD</option> </select><br> <input type="radio" value="AAA" name="R01">A　 <input type="radio" name="R01" value="BBB">B　 <input type="radio" name="R01" value="CCC">C　 <input type="radio" name="R01" value="DDD">D <br> <input type="submit" value="送信" name="B1"> </form> </body> </html>
>すでにある投稿も見ることが出来ず 投稿内容のURLを直接打ち込んでも見れませんか？ 現状では、どんな感じに表示されてるんでしょうか？ >auもHTMLとして認識されているようです。 HTMLと認識される、意味が分からないです htmlはHPを構成する言語のことであり、htmlとして認識されるとPC表示になる、って言うことはないです(携帯のHPもhtml言語で作ります) 他のau携帯も同じなのでしょうか？ なお、URLの一番最後は「cgi.」となるはずですがあってますか？
ANSI=Shift_JISです。 ANSI(≒ASCII)に日本語文字を追加したのがShift_JISです。 なのでWindowsのメモ帳などではANSIという名でShift_JISを保存します。 原因は他の所にありそうです。
これでどうですか。 【A.html】 <html> <head> <title>A.HTML</title> <script type="text/javascript"> window.onload=function(){ document.links[0].href+="?"+window.location.search.substring(1); } </script> </head> <body> <a href="b.html">b.html</a><br> </body> </html> 【B.html】（メールフォーム） <html> <head> <title>B.HTML</title> <script type="text/javascript"> window.onload=function(){ var query=window.location.search.substring(1); document.links[0].href+="?"+query; var parms=query.split('&'); for (var i=0;i<parms.length;i++){ if(parms[i].match(/(\w+)=(\w+)/))document.forms[0].elements[RegExp.$1].value=RegExp.$2; } } </script> </head> <body> <a href="a.html">a.htmlへ戻る</a><br><br> <form method="post" action="mail.cgi"> <input type="hidden" name="cid"> <input type="hidden" name="bid"> </form> </html>
以下というのは、中という意味です。 つまりディレクトリ（フォルダ）の中に入れてくださいということ。 ちなみに、public_htmlディレクトリに入れるindex.htmlファイルがトップページとして表示されます。 FTPソフトの設定で、ホストの初期フォルダをpublic_htmlにしておくと間違いがないと思います。
＞ $c_dcheck = $COOKIE{'dcheck'}; $c_dcheck はどこに使っていますか。 ＞ if ($dcheck) { $dcheck = $dcheck;} この if文には意味がありません。 ＞最初に選んだ種族の複数作成はうまくできたのですが、 ＞別種族を選択した際に、一度別種族で作成した後、前に選んだ種族にチェックが入ってしまいました。 前に選んだ種族にチェックが入ってしまうというのは思い違いではありませんか。 サンプルでは 無条件で「人間」が選択されるようになっています。 クッキーで取得した「$c_dcheck」をフォームに反映させるには該当の radio タグに 'checked' を付ける必要があります。 次のようにすればよいでしょう。 (1)タグの出力部分を次のように修正します。 人間＜input type="radio" name="dcheck" value="1"$chk1＞ エルフ＜input type="radio" name="dcheck" value="2"$chk2＞ ハーフエルフ＜input type="radio" name="dcheck" value="3"$chk3＞ ドワーフ＜input type="radio" name="dcheck" value="4"$chk4＞ グラスランナー＜input type="radio" name="dcheck" value="5"$chk5＞ (2)クッキーを取得し、$c_dcheck に代入した後に次の１行を挿入します。 if($c_dcheck){${"chk$c_dcheck"}=' checked'}
ページソースを見ましたが「tel」は必須に指定してないですよ。 「need」項目の value に「tel」を加えれば良いかと思います。
今現在 apache が動いてるアカウントはおそらく login 禁止設定になっています。 たとえばこんなふうに。 www:*:80:80:World Wide Web Owner:/nonexistent:/usr/sbin/nologin この /usr/sbin/nologin を /bin/csh 等にして コンソールからログインできるようにします。 login したら問題のスクリプトを手動で起動してみてください。 なんらかの結果を得たらまた nologin に戻すのをお忘れなく。
他の回答者様に追記です。 MySQLなどの設定はビルダーからもFFFTPからも不可能です。レンタルサーバーのFAQなどを参照してください。 「ファイルを参照」して「権限（パーミッション）を変更」するだけならばビルダーでもFFFTPでもどちらでも構いませんが、ビルダーのない環境で作業しなければならない可能性があるのならば、FFFTPに慣れておくというのもいいかもしれません。 自分も以前、コマンドプロンプトでしかFTP接続ができない環境で、解説サイトを見ながらちまちまとタイピングして泣きそうになったことが……。
どのように作ろうと自分がしやすいように。 私は同じような記述を繰り返すのは嫌いなのでひとつのファイルで行います。あくまでヒントですが。 /cgi-binに[HTML]というファイルを起きます。これは拡張子はないですがCGIです。 /cgi-bin/HTML/index.html をクライアントから要求されると、サーバーは、そのようなファイルはないので、index.htmlを切り捨てて環境変数{PATH_INFO}に格納し、/cgi-bin/HTMLというファイルを探します。それがファイルであり、かつ実行可能なら、HTMLというCGIを実行します。この時点で/index.htmlが環境変数にあります。 　CGIプログラムの中で、環境変数{PATH_INFO}からindex.htmlを取り出してきて、HTMLファイルを作成します。ソースは、CGI末尾の__END__以降に書いておいても良い(<DATA>)し、別のファイルでも良い。 　クライアントがその出力されたHTML内のリンク使ってサーバーに要求する、たとえば、/cgi-bin/HTML/content/page1.html?a;123を要求された場合も同様に、環境変数{PATH_INFO}には、/content/page1.htmlが、環境変数{'QUERY_STRING'})にはa;123が入っているわけですからねCGIはこれらの情報を元に新たにHTMLを作成します。 　これを応用すると、HTML/index.htmlでフレームセットを書き出して、フレームはHTML/content1.html～content10.html,/HTML/menue.htmlで書き出すとか、CSSというCGIを呼び出すと、リンク元のHTMLのソース内の<head>要素内のスタイルシート記述を参照してCSS/default.cssを書き出したりと様々に利用できます。もちろんサイト全体をたった一つのCGIで作成することも可能です。というか、今の大企業のサイトは基本的にこの方法が多いでしょう。ASP( http://e-words.jp/w/ASP-2.html )のひとつの手法です。 　とても高度な内容ですみません。CGIを使うと何でもできるのです。極端な話、メールに貼り付けてある/hoge/images/123456789/test.jpgというファイルを見ているつもりが、それはhogeというCGIの出力したファイルで、そのCGIは特定の相手--あなた--のアドレスを捕捉できるのです。だからメールの画像がリモートの場合は表示させてはならないのです。 　私は60前ですが、数年の独学でここまで来ました。勉強してください。私にできたのですからね。
Perlですかね？ PerlのCGIにおけるエラーはその殆どがInternal Server Errorで返ってきます。 なので500で調べても千差万別で解決には至らないでしょう。 それよりもどの行でエラーが発生しているかを見つけないと原因すらわかりません。 eval{}ブロックを使って例外を捕捉し、エラー内容と行番号を表示するようにすればとりあえずどこで何が発生しているのかは掴めると思います。 ローカルでのテストはクリアしているということなのでサーバ上にモジュールが無いとかパスが通っていないとか、WEBサーバの設定が異なるとか、要するにサーバとローカル環境との違いが引き金になっているように思いますが…。
＃１です。 「メモ帳に移動できますか」 は質問としておかしいですよ。 メモ帳で開くのです。 どうしても開けなかったら、「c-board.cgi」を右クリック→「名前の変更」→「c-board.txt」に変更してダブルクリック。 修正が終わったら逆の操作をして「c-board.cgi」に戻しましょう。
的外れな回答かもしれませんが テンプレートならCGIは使えませんよ。
この場合CGIは本質的に必要ないのですが、 「東北」のリンク先には東北にカテゴライズされるページ（CGI）を作っておくだけでもいいのではないでしょうか。
確かに、ファイルを除いて構成を見られるのは嫌ですよね。 rank.html自体は人気ランキングのページのみを個別に構成しているものなので取り除いてもおそらく大丈夫です。 ざっとファイル内を見てみましたが他ページに干渉しているものはないようです。
data.datを読み込むだけなら、 use LWP::Simple; $data = get("http://*****.com/cgi/data/data.dat"); で何とかできるかと思います。 しかし、毎回自サーバー1のdata.datを自サーバー2にダウンロードすることになりますし、書き込みはこの形ではできません(つまり、書き込みをすべて自サーバー1で処理しなくてはいけません。)し、アクセス数が多くなるとダウンロードが負荷の要因になると思います。
Map BBSにある、 hokaidou.gif などを他の地図の画像に差し替えればいいのではないでしょうか。
CGIのカテゴリで言語が書いてないので言語はPerlと仮定します。 まず、Perlで文字列比較演算子は == ではなく eq です。 あと、血液型は調べていない人など不明な人やA/B/AB/O型以外の 血液型の人もいるのでそういった人のことも考慮しましょう。 <form action="xxx.cgi"> <div><select name="blood"> <option value="a">A型</option> <option value="b">B型</option> <option value="ab">AB型</option> <option value="o">O型</option> <option value="unknown">不明</option> <option value="etc">その他</option> </select></div> <input type="submit" value="見る"></form> my $blood = "$in{'blood'}"; if($blood eq 'a') { print "私はA型です。"; } elsif($blood eq 'b') { print "私はB型です。"; } elsif($blood eq 'ab') { print "私はAB型です。"; } elsif($blood eq 'o') { print "私はO型です。"; } elsif($blood eq 'unknown') { print "私の血液型は不明です。"; } else { print "私はその他の血液型です。"; }
もし自分が改造するのならregist.cgiとdel.cgiにある $mail_regex の直後のあたりに手を加えます。 (例えば、超簡易なやり方として、お勧めは出来ませんが、すぐ下のif文を#でコメントアウトするとか。) 他の選択肢としては、ほんの数件のことでしたらメールアドレスを保存しているファイルを直接書き換えます。 (名前から推察すると、たぶんuser.cgiでしょう。) 改造して動作チェックするほど暇ではありませんので、CGIの匠さんのカスタマイズ依頼で頼むか、ご自身でperlの初歩を学んで改造してください。 ##### RFC違反をしているメールアドレスを使っている方々は不便を感じないのでしょうかね。
08が、8進数って解釈されたのかと "08"のように数字を全部囲んだらどうでしょう。
続けて入力させないでそれぞれ分けてフォームを記したらどうでしょう。 <input type=text name=your_year size=10> <input type=text name=your_month size=10> <input type=text name=your_day size=10> そうしたら、$your_monthに月だけ、$your_dayに日だけが入りますが。 また、月と日が必ず2桁の数字が入るとするのなら $srt = '19800102'; $srt =~ /^\d\d\d\d(\d\d)(\d\d)$/; で、$1 には 01、$2 には 02 になります。
対症療法的にその都度考えるのではなく、専門的なことは要りませんから、基本的な知識は得ておく必要はありそうです。 それと、ホームページでプログラムを使うときは、セキュリティのことも考えないと、とんでもないことが起きかねません。 CGIプログラムを触るのは初めての様子なので要点を説明しておきます。 ホームページのフォームに入力された内容は、「項目名＝入力内容」という形で送信されてきます。 なお、送信方法（METHOD）が「GET」の場合と「POST」で送信形式（ENCTYPE）が「application/x-www-fprm-urlencode」の場合は、入力内容に、「英字」「数字」「ピリオド」「マイナス」「アンダーバー」以外の文字や記号が含まれている場合は「パーセントエンコード」されます。スペースは「プラス」に変換されます。 送信される項目が複数ある場合は、これが「＆」で連結されて送信されてきます。 項目名＝入力内容＆項目名＝入力内容＆項目名＝入力内容＆項目名＝入力内容＆項目名＝入力内容 という具合ですね。 ですから、受信したデータはファイルに保存したり、メールで送信したりするために、 (1) ＆ごとに分割し、 (2) さらにそれぞれを＝で分割して、項目名の変数にその入力内容を代入して、 (3) パーセントエンコードされた部分を元に戻す ことが必要です。これを「ポストデータのパース」といいます。 以下、ポストデータをパースするプログラムの一例です。 #-------------------------------- # 送信方法が「POST」のデータ #-------------------------------- if($ENV{'CONTENT_LENGTH'}){ 　read(STDIN,$query,$ENV{'CONTENT_LENGTH'}); 　if($ENV{'CONTENT_TYPE'}=~/multipart\/form-data; boundary=(.+)/i){ 　　$boundary=$1; 　　binmode(STDIN); 　　foreach(split(/\-+$boundary\-*\x0D*\x0A*/,$query)){ 　　　#------------------------------------------------ 　　　# 送信形式が multipart/form-data のパース 　　　#------------------------------------------------ 　　　($header,$val)=split(/\x0D\x0D|\x0A\x0A|\x0D\x0A\x0D\x0A/,$_,2); 　　　$header=~s/^(\x0D\x0A|\x0D|\x0A)+//; 　　　$val=~s/(\x0D\x0A|\x0D|\x0A)$//; 　　　if($header=~/ name="(.+?)"/i&&$val){ 　　　　$key=$1; 　　　　if($header=~/filename=".+[\\\/:]+([^\\\/:]+)"/){ 　　　　　#-------------------------------- 　　　　　# アップロードファイルの保存 　　　　　#-------------------------------- 　　　　　$FORM{$key}=$filename=$1; 　　　　　open(FILE,">$filename"); 　　　　　binmode FILE; 　　　　　print FILE $val; 　　　　　close FILE; 　　　　}else{ 　　　　　($FORM{$key}=$val)=~s/(\x0D\x0A|\x0A|\x0D)/\n/sig; 　　　　} 　　　} 　　} 　　$query=""; 　} } #-------------------------------- # 送信方法が「GET」のデータ #-------------------------------- if($ENV{'QUERY_STRING'}){ 　if($query){$query.='&'} 　$query.=$ENV{'QUERY_STRING'}; } #----------------------------------------------------- # 送信方法が「GET」のデータと # 送信形式が application/x-www-form-urlencode のパース #----------------------------------------------------- if($query){ 　for(split(/&/,$query)){ 　　($key,$val)=split(/=/); 　　$val=~s/(%0D%0A|%0A|%0D)/\n/g; 　　$val=~s/<[^>]+>//sg; 　　$val=~s/\+/ /sg; 　　($FORM{$key}=$val)=~s/%([A-F0-9][A-F0-9])/pack("C",hex($1))/ige; 　} } これで、データは「項目名」をキーとして連想配列 %FORM にセットされます。 データをファイルに保存したり、メール文に引用する場合は、$FORM{項目名} で自由に加工できるわけです。 なお、上の例ではセキュリティ上、HTMLタグの入力をすべて無効にしています。 タグの入力が必要な場合は、確認画面などにタグをそのまま表示する場合はくれぐれも安全性を考えて対策してください。
メイン部分はFlashですね。 セリフが飛び出る様な仕掛けや音もFlashの一部です。 CGIを使っているかどうかは分かりませんが、データベースなどと連携させる為に使っている可能性はあるでしょう。 詳細な作り方まではさすがに解説しきれませんが、それほど高度な技術は使っていなさそうです。ただスクリプト部分に動きを軽くする工夫がされているのだとは思いますが。 別に中学生でも必至でやれば作れる範囲だとは思いますが、Flashを手に入れるのが難しいかもしれませんね。 他社による安いソフトもあるのですが、ちゃんと本家のソフトでやろうと思うと約８万円もします。
＞私の求めているものに近いアドバイスだと思います。valueの値をリンクで ＞設定することはhtmlでも可能ですか？ ＞例）​http://www.​・・・・.net/form.html?addr=mailad@user.jp​ 　可能ですよ。 　というか、普通、あるＴＨＭＬのページから<a>タグを利用してリンクを張る場合、そうやって、次のページにパラメータを渡します。 　よくある事例では、このｏｋ　ｗｅｂのページでも、質問のリンクをクリックするとその質問が表示されますよね。「?」以降のパラメータに、質問番号が埋め込まれているわけです。で、このパラメータをみて、該当する質問を表示するようにします。 　あなたのご存じの言語で掲示板のｃｇｉが入手可能でしたら、そのソースをみてみることをおすすめします。やっていることは全く一緒です。 　ただ、そのＵＲＬがメールの内容として書かれているか、ｈｔｍｌに<a>タグのhrefパラメータとして書かれているか・・・単にそれだけの違いです。
(1)フォームから入力したデータをファイルに保存しておいて、 (2)ページに、IFRAME、JAVASCRIPT、SSI のどれかのタグを挿入して読み込ませればいいんじゃないですか。 記事ごとに、指定日時になったら表示するとか、表示期間を設定しておいてその期間中だけ表示するとか、削除日時を設定しておいてその時がきたら自動削除するとか、作り方しだいでいろいろできるでしょう。
前回の質問に回答した者です。 前回の回答ではご理解いただけなかったようなのでもう一度。 名前項目の $name、$value それぞれリストの先頭に置くようにしたい、ということですよね。 ならば、スクリプトの、フォームから受信したデータをパースしている部分、つまり、データを分解して push(@DATA_N,$name); push(@DATA_V,$value); の処理をしているところです。 ここを次のようにすればいいと思います。 $queryは、STDIN または $ENV{'QUERY_STRING'} を代入した変数です。変数名とコードの書き方は違うかもしれません。 for(split(/&/,$query)){ ($name,$value)=split(/=/); #decode if($name eq 'Yourname'){$val=$value} else{push(@DATA_N,$name);push(@DATA_V,$value);} } unshift(@DATA_N,'Yourname'); unshift(@DATA_V,$val);
アクセスログを取る方法と同じで、静的htmlでは、imgで埋め込むとかになるので、表示上見えなくてもソースを見れば解るのでユーザー側でカウントされてることも解らないということはあり得ません。 ただ、ソースを見れば何かやってるなと解っても、空白画像出力にすれば、アクセスログ取ってるのか、カウントしてるのかは解らなく出来るでしょう。 また、動的ページ(SSIや、サーバープログラムperlやphpなどによる出力)であれば、ページにデータを出力しないでカウントすることは可能でしょう。 管理者は、管理者用ページからその情報をチェックする必要があるでしょうね。
ＨＴＭＬ側の並び順で入力データが送られて来ることを期待して、ということであれば、 foreach (0..$count-1) { の前に、 push(@DATA_N,shift @DATA_N); push(@DATA_V,shift @DATA_V); を挿入すればよろしいかと思います。
こんにちは。 私もyomi-searchで検索サイトを運営しています。 何かきっかけはありましたか？（CGIをいじったりHTMLを更新したり） 何もしていないのに突然エラーになった場合は、パーミッションが正しいか今一度確認して見て下さい。 パーミッションの再設定でエラーが直った経験があります。 頑張って下さい。
Location: ヘッダに記述し出力した時の動作は、 ・サーバ側(CGI)が、Location: ヘッダをクライアントに返す ・クライアント側(WWWブラウザ)は、Location: ヘッダ付きのデータを受け取ったら、改めてそのURLにアクセスする という流れになります。リダイレクト先のサーバ側が生きていようが死んでいようが、Location: ヘッダの出力そのものはただの文字列ですので、それに失敗することはありません。 (そのため、例としてあげられたコードは、サーバのチェックとしてまったく意味がありません) CGI側でリダイレクト先のサーバが生きているかどうか調べるには、 実際にそのサーバにアクセスしてみるしかないです。 CGI側でソケット通信が出来るのであれば、それでアクセスできますが、 それが無理となると、サーバの生死確認は不可能です。
がると申します。 純粋に「可能か不可能か」であれば可能ですが、楽か難しいかといえば、少なくとも「ある程度の技術力は必須」だと思われます。
オンラインカウンター http://www.yumemaboroshi.net/cate65/ ではどうでしょう。
//こっちで使っているのC# 2.0とかC# 3.0なので //動かなかったら申し訳ない。自分ならこう書くということで。 //画像作るの面倒だからDrawPolygonを使ってますが，Graphics使っているところまであればわかるよね。 //無理にMouseClickで使おうとしなくてもいいんじゃない？ってこと。 //ひょっとしたらSystem.Windows.Forms.Form.CreateGraphicsとか出来るかもしれないけど //使い方をよく知らない namespace Q4325074A { class Q4325074A:System.Windows.Forms.Form { System.Collections.Generic.List<System.Drawing.PointF> plist = new System.Collections.Generic.List<System.Drawing.PointF>(); Q4325074A(){ plist.Add(new System.Drawing.PointF((float)100,(float)100)); plist.Add(new System.Drawing.PointF((float)200,(float)200)); plist.Add(new System.Drawing.PointF((float)200,(float)300)); this.MouseClick += new System.Windows.Forms.MouseEventHandler(Q4325074A_MouseClick); this.Paint += new System.Windows.Forms.PaintEventHandler(Q4325074A_Paint); } public void Q4325074A_MouseClick(object sender, System.Windows.Forms.MouseEventArgs e){ plist.Add(new System.Drawing.PointF((float)e.X,(float)e.Y)); this.Refresh(); } public void Q4325074A_Paint(object sender, System.Windows.Forms.PaintEventArgs e){ e.Graphics.Clear(System.Drawing.SystemColors.Control); if (plist.Count >= 3){ e.Graphics.DrawPolygon(System.Drawing.Pens.Black,plist.ToArray()); } } public static void Main(string[] args) { Q4325074A Form1 = new Q4325074A(); Form1.ShowDialog(); } } }
やりたいことは、こんな感じでしょうか #------------ここから #/usr/bin/perl $ng = 'バカ,アホ,馬鹿';　　#禁止ワード。カンマ区切りで設定 $nesnew = "馬鹿じゃないの";　　#実際は投稿されたメッセージ。テスト用 @ng_arr = split( /,/ ,$ng ); foreach my $tmp ( @ng_arr ){ 　　if( $nesnew =~ /$tmp/){　 　　　　&error;　　#禁止ワードにマッチングしたので error( )に飛ばす 　　} } print " ご利用ありがとうございました。\n "; exit; sub error{ 　　print " 不適切な発言がありました。\n "; 　　exit; } #------------ここまで 設定されている禁止ワードの数分、チェック対象の文字列と マッチング処理をすればいいかと思います。 $ng に代入するところを、設定ファイルから読み込むように 変えれば、メンテも簡単かと。
xoopsなら全てできそうな気もします http://jp.xoops.org/ xoopsを利用して、そういったサイトを運営されている所を何度か目にした事があります 各種モジュールを組み合わせたりすると希望通りの動作も可能でしょうが、仮に希望する機能のモジュールがなかった場合、そのモジュールの開発を頼んだほうがコスト的にもかなり低く押さえれると思います 参考URL：http://jp.xoops.org/
データベースへinsertする時点でエスケープ処理が必要です $quoted_str = $dbh->quote($str); これで ヒソカ が 'ヒソ\カ' にエスケープされます
>>$text =~ s/<br>|<BR>|<Br>|<bR>/\n/; >そんなに一生懸命自分で組み合わせを列挙しなくても 油断しちゃダメよという意味でわかりやすく書いたつもりなんですが。 それなら「ｇ」オプションもつけるべきかと
PerlCGIに対応しているサーバでしょうか。 Perlのパスはあっていますか。 init.cgiに書かれているパーミッションは一般的なものです。 サーバによってはこのパーミッションでしか動作しないとかいろいろ 異なる場合があります。 最終的にはサーバ側のマニュアルを見て設定してください。 サーバによってはスクリプトのディレクトリがカレントディレクトリに ならない場合があります。 そのときに require で相対パスにより指定しているとファイルがない ためにエラーになるかも知れません。 絶対パスが書かれているなら絶対パスで指定してみてください。 例 require "init.cgi"; ↓ require "/etc/www/home/webpatio/init.cgi"; あと、サーバにFTPでアップする際にバイナリモードでアップしないと ファイルが壊れるサーバがあるようです。 (Fedoraなどで遭遇したことがあります) もし、正常に動作しないようなら使用しているCGIファイルをすべて LF改行のみで保存し直し、バイナリモードでアップしてみては どうでしょうか。 (init.cgiやデータファイルなどは変換する必要はありません)
while (<IN>) {$masg = join('',$_); 　　　　　　 $massage = $masg; } そもそもこのループで何をしたい? と言うか何をしているのかわかっていますか? それがわかれば自ずとどうすればいいのかわかるはずです。
アイコン画像として事前に絵文字的なものを用意してから、 チャット文字中にimg srcタグでその画像を挿入するように、CGIを作れば可能です。
(1)受信メールサーバにアクセスすることができる。（ソケットが使える） (2)メールを送信することができる。（sendmailが使える、または直接 送信メールサーバにアクセスすることができる） この2点が満たされる環境であれば、perlでも、phpでも、他の言語でも、ご希望のプログラムはできます。
スミマセン、前の質問と合わせワザだったんですね ;;; debukuro さんのおっしゃるようにプロバイダ側の問題かもしれません。時間を置いて再アクセスしたり、プロバイダ側に連絡することですでに解決されていれば申し訳ありません。以下はお読み捨てください。 前の質問も見させていただいたところでは、正確なところは powermail.pl というこの CGI を処理している Perl のスクリプトが入力されたメールアドレスをどのように解析して処理しているかを見ないとわからない気もします。 少し厳しい書き方になることをお許しください。 インターネットメールを処理するシステムはお客様の個人情報や御社のサーバーの情報などの、セキュリティにも関わる慎重な扱いをするシステムですよね。 それをご自分の知識に自信をお持ちでない状態で、このような誰でもアクセスできるサイトで情報を小出しにして質問なさっている状態に危ういものを感じます。 やはり前任者の方か、CGI システムの専門家の方を雇って、システム全体を見ていただいた方がいいと思われます。 あまりお役に立てず申し訳ありません。
http://www.cgi-amigo.com/ これで自分用にカスタマイズすればいい。
参考サイトを拝見しましたが、どこを見れば良かったのでしょうか？； なので、勘違い回答でしたらすみません。 エキサイトブログ等のRSSを、CGIで自分のHPに出力させる、って事で良いのでしょうか？ 検索しましたら、以下のページを見つけましたので、貼っておきます。 ブログの件名しか、出力されないみたいですが…。 http://homepage.mac.com/travellers/blog/C8590125 … RSS、CGI、表示で検索すれば色々出るかと思います。 http://www.google.co.jp/search?hl=ja&lr=lang_ja& …
「差出人の箇所」とは、あなたが使用されているメールソフトの話でしょうか？ From: にアドレスが入ってメールが届いていれば、CGI は正常だと思います。
.htaccessが使用できるならこれでcgiディレクトリのみを ディレクトリ一覧非表示にできますよ。 また、.htaccessが使用できない場合は空のインデックスファイルを 置いておくとそれが優先して表示されるのでディレクトリ一覧は表示 されなくなります。
直接的な回答ではありません（すみません）。 スキン対応のメールフォームCGIでしたら、比較的簡単に実装可能かと思います。 『さらに見積りをする』のボタンをクリックで、 JS等で不可視にしていた『見積り2』のフォームが出現→繰り返し、な感じで。
基本的な考え方としては、・・・ 　各利用者ごとにログイン・アカウントを貸与します。 　そのログイン・アカウントごとにアクセス可能なディレクトリを限定させます。
「存在しているアドレスなのに送れなくてエラーとして帰って来てしまう」理由をそれぞれ確認しましたか。 存在するアドレスであっても、エラーで不達になる場合はいろいろあります。 TOでも、CCでも、BCCでも同じです。
Apacheで言えばmod_cgi.soを介して呼び出されるシステム。 PerlやC言語などまたPHPもCGIモードで動かせる 逆にPerlもPHPもCGIモードではなくてWebサーバのモジュールとして直接呼び出すことができる。
携帯ブラウザは INPUTのTYPE属性は「IMAGE」、「BUTTON」には未対応のようです。
＃3です。 すみません。 　　前回答者さんが指摘されたように、比較演算子 「==」を「cmp」に修正するとして、 は、 　　前回答者さんが指摘されたように、比較演算子 「==」を「eq」に修正するとして、 に訂正です。
一度、そのファイルをサーバから削除してページの更新をしてみて 下さい。 それで、ファイルが表示されなくなる(デッドリンクになる)ならパスは あっているでしょうけど、ならないようならパスがどこか間違っている 可能性が高いと思います。 似た名前のディレクトリにアップしているとか.htaccessでURLを 書き換えてしまっているとか何らかの原因が考えられます。 あとは、プロキシ経由でアクセスしている場合、プロキシのキャッシュが 効いてしまって更新されないだけということもあります。 プロキシ経由でないと外部ネットワークに接続できない環境でなければ 直接、ネットに繋いで確認してみてください。
「html側のプルダウンの記述が具体的には書かれていないことで不明な点が多いから」との事ですが、ANo.1の方が、そのものズバリの記述がしてありますが、そこはお読みになっていないのでしょうか？ それとも、読んだけれど理解できなかったのでしょうか？ CGIの「$form{'soshinsaki'};」で、HTML側で名前を"soshinsaki"に設定したフォームオブジェクトからデータを取得しているのは理解出来ていますか？ ANo.1の方が書いているSELECTの名前を"soshinsaki"に変え、各OPTIONのVALUE値を、ANo.1の方が書いてあるメールアドレスから、数字に変えて、CGI側で数字を判定して、数字に置き換えたメールアドレスが指定されるようにするだけなのですが。 それが理解出来ていないようなので、HTMLの基礎すら判っていないと表現しました。
ロリポップのヘルプページを見てみましたが、sendmailは使えるようです。 SENDMAILのパス /usr/lib/sendmail もしくは /usr/sbin/sendmail どちらでも利用可。 参考URL：http://lolipop.jp/?mode=manual&state=hp&state2=cgi
パーミッションに問題がなければ、あとは、管理画面が編集できないというとクロスドメイン絡みを想像するのですが… ・管理画面に入る際のホスト名（ドメイン） ・mt-config.cgiに書かれているCGIPath・StaticWebPath ・mtのシステムディレクトリが属するホスト名（ドメイン） が同じかを確認してみては。 #mt-staticディレクトリはmtのシステムディレクトリの中にありますよね？（外だったらまた違うので…）
http://allabout.co.jp/internet/hpcreate/closeup/ … http://jp2.php.net/manual/ja/ref.image.php
アンカータグで値を渡せるのは基本的にGETメソッドのみなので POSTメソッドで送信するにはフォームを使用するかAjaxなどを 使用するしかないと思います。 JavaScriptは環境依存があるのでなるべくなら使用しない方がいいですね。 単に見た目だけの問題だったらボタンをCSSでリンクに見えるように してみたらどうでしょうか。
相手が固定IPサービスを使っているのでなければ、相手がインターネットに 接続するごとにホスト名やIPアドレスの情報はかわりますので それを指定して拒否してもさほど意味はありません。 相手が外部プロキシ経由である可能性もありますしね。 プロキシを通してなさそうならば、相手のIPアドレスの先頭6桁ぐらいで 指定する手もありますが、それだとその範囲にある人すべてはじかれます。 どうしてもそういった人間を防ぎたければ、登録制にしてクローズドなサイトにするしかありません。
地域を選択したら<input type="submit">を押してもらい、 その後、１つ目のselectフィールドには、選択された地域の部分を<option selected>を指定、 ２つ目のselectフィールドに店舗リストを出力。 JavaScriptを使うのは、単に１つのselectフィールドを選択するごとに送信する手間を省くためだけの物です。
Piasa Web Albumを使用するという方法はダメですか？ http://webos-goodies.jp/archives/51006356.html
うーん、基本的に設置した階層と管理室の設定以外、さわる場所はないので、そのどちらかがおかしいのだと思うのですが、見ることができないだけに曖昧なアドバイスになってしまっております。申し訳ありません。 ビギナーズガイドさんのやり方でcgiを設置されたんですよね？ そうなると階層を浅くするために少しフォルダ等が動いていると思います。 その場合、一番上の階層にTOP用のhtmlを設置しなければなりません。 つまりサーチすべてが入っているys4と同じ階層にトップ用htmlがあるのであればそれで正しいです。 なお、その状態でTOPは正しく表示されるのでしょうか？ そうであれば、あとは初期と同じようにcgi検索が正しく動けばそれで解決だと思うのですが。 トップのhtmlファイルは手作りとのことですし、恐らくはタグを抜き出して記入されただけだと思うので、cgi本体の動作自体には関係しません。 ですのでcgi検索に不具合があるのであれば、設置自体に問題があると思います。 あと、改造前のcgiファイルは残っていませんか？ さわりすぎて、どこがおかしくなったか判らないファイルが多すぎる場合、全くさわっていないcgiファイルを上書きすることで解決することがあります。 もしあるのであれば、念のため、現在アップしている改造後のファイルのバックアップを取り、改造前のcgiファイルをアップしてみてください。cgiファイルのみを、です。 とにかくcgiが正しく動かないことにはどうにもなりません。 cgiは一行ずれたり、空欄が一個入ってしまったりしただけで正しく動かなくなることも多いのです。 なお、htmlファイルの場所ですが、動く場所はありません。 ですからデザインを改造されたhtmlファイルの場所は動かしてはいけません。 トップ用のhtmlファイルは新規で作ることになっているのでこれもまた動くことはありません。新規で作成したhtmlファイルをys4フォルダと同じ階層に置くだけです。
ご質問から推測すると、 〇映画レビュー投稿プログラム 〇ログはCSV形式ファイルに書き出す（タイトルごとに1ファイル） ということのようですから、 「投稿された数」は、ログファイルの行数です。 「平均レビュー点数」は、各行の点数を合計して行数で割れば出ます。 点数を加算して保持したり、投稿数をカウントして保持する必要は無いのでは。
使用しているサーバーにもよると思うのですが、レンタルサーバーであればサーバーのホームページのどこかにアクセスログの見方やアクセス解析の見方等があると思います。 もし見つからないようであればサーバーを教えて頂ければこちらでも探してみます。
作成するCGI側ではアクセス元のユーザーエージェントを判別し、 ブラウザ名や携帯電話の端末名などを判断しておきます。 対象サイトが仮にユーザーエージェントで振り分けているとすれば、 ・インデックスにCGIを使って振り分けているパターン ・Javasciptで振り分けているパターン の２つが考えられます。対象サイトからダウンロード後、 該当記述があるか判別し、あればアクセス元に合ったHTMLを返すことになるでしょう。 ユーザーエージェントは簡単に偽装が可能なので、 リモートホストを判別基準としていたり、併用しているサイトもあります。 まずは『CGI ユーザーエージェント』等で検索してみて下さい。 参考URL：http://www.openspc2.org/userAgent/
apache2/logs/error.log に何かヒントとなるようなものがありませんか？
cgi のプログラム (カウンター) が index (ページ) に埋め込まれているわけではないので、index を書き換えてもカウンター数がリセットされることはありません。 ちなみに、cgi のプログラム自身がカウンター数を持っているわけでもありません。カウンター数はデータファイルもしくはデータベースに保存されていると考えるべきでしょう。
> それとコンマ区切りというのはvalue="AAA@yahoo.co.jp,BBB@yahoo.co.jp"という風でいいんですよね？ そうです。上のようにコンマ区切りでアドレスを記述すればどれだけでも送信先は追加できます。 ただし、お使いのスクリプトのメール送信ルーチンがどのようにプログラムされているのかわかりませんので確かなことはいえませんが、各送信先に全送信先アドレスが明示されるかも知れません。 現状では、お客様への返信と担当者への転送の２アドレスに送信しているようですが、別々に２回で送信するか、担当者のアドレスは Bcc にして送信しているなら上記のことは考えなくていいのですが、２アドレスを To にして１回で送信している場合は、メール送信ルーチンを修正しないと各送信先に全送信先アドレスが明示されます。 【修正例】 ※$subject、$messageはエンコード処理済みとします。 $set_to_address.=",$e-mail"; foreach $to (split(/,/,$set_to_address)){ open(MAIL,"| $sendmail -t") || &error($to); print MAIL <<SM; To: $to From: $set_from_address Reply-To: $set_reply_to Subject: $set_subject MIME-Version: 1.0 Content-type: text/plain; charset=ISO-2022-JP Content-Transfer-Encoding: 7bit\n $message SM close MAIL }
SEO目的のURLで、実際にディレクトリ構造を作成しているわけではないと思います。 mod_rewriteなどを使って、実際のコンテンツを返すURLにリダイレクトしていると思います。
「403　Forbidden」 は、このファイルへのアクセスは許可されていませんってことです。 ですから、次の原因が考えられます。 (1) CGIアプリケーションの実行が許可されていない。 　　この場合は、.htaccessファイルを使ってCGIアプリケーションの実行が可能になるサーバーもあります。 (2) CGIアプリケーション実行ファイルのパーミッション指定が間違っている。この場合、通常は「500　Internal Server Error」になるんですけどね。 いずれにしても、レンタルサーバーにはマニュアルページがあるはずですからよく見てみましょう。
ショッピングカートと言うからには、自分でオンラインショップを開くか、または人や企業に依頼されてショップ構築をされているのだと思います。 著作権表示を消そうとされているのですから、研究目的ではありませんよね？ 人が苦労して作ったものを自分のものとしてタダで使おうなんて、そんな都合のいいものがあるわけない。 …と言いたいところですがｗ ショッピングカート機能に限定はしていませんけど、オープンソースのosCommerceでは条件付で著作権表示を消しても良いようです。 「osCommerce 著作権告知」について http://lists.sourceforge.jp/mailman/archives/tep … ちなみに配布サイトはこちら。 http://www.bitscope.co.jp/tep/
戻した regist_ys.cgi の改行コードが不適切ではありませんか。 通常、サーバーOSはUNIX系ですから、Windows改行（CRLF）、Mac改行（CR）になっていると、先頭行の #!/usr/bin/perl が認識できません。
上記のコードから言語はPerlでしょうか。 大抵、CGIの開発言語はPerlですが、言語を正確に書いた方がいいですよ。 その予約希望日が含まれている変数(キー)が分かりませんので正確には 書けませんが正規表現部分は↓こんな感じでしょうか。 # フォーマット # 数字4桁/数字1桁か2桁/数字1桁か2桁 数字1桁か2桁:数字2桁 /^\d{4}\/\d{1,2}\/\d{1,2} \d{1,2}:\d{2}$/ 同じ状況になったときのために正規表現を勉強した方がいいと思います。 (ぼくも正規表現はよく分からないところがありますが)
フォーム入力データのデコードがうまくできてないのか、 メールデータのエンコードがうまくできてないのか、を確かめるのが先決ではありませんか。 入力データのデコード処理の前と後のデータを書き出してみたらどうでしょう。 それから、修正を考える方が良いと思います。
>>javaのコードを書いていただけないでしょうか。 JavaとJavascriptは別なものですが、求めうる細かい条件が分からないので書きようがないのが実際です。 　携帯からだと、Javascriptは厳しいのでcgiになると思います。 　それぞれ携帯のuser_agentは、各携帯サイトに記されています。 以下、cgiだと #!/usr/bin/perl print "Content-type: text/html\n\n"; print "<html><head>\n"; ・・・・・・ $agent = $ENV{'HTTP_USER_AGENT'}; if($agent =~ /^DoComo/){ $imege = aaaa.jpg; }elsif($agent =~ /^J-PHONE/){ $imege = bbbb.jpg; }elsif($agent =~ /^UP.Browser|^KDDI/){ $imege =cccc.jpg; ・・・・ ・・・・ else{ $imege =zzzz.jpg; #PC用 } print "<img src=\"./imege/$imege\">\n"; ・・・・・・ print "</body>\n</html>\n"; 　たしか、携帯機種によってjpgやらpng、gifのみとかありましたね。
その作られた方に修正してもらうわけにはいかないのでしょうか。 とりあえず、Vodafone及びSoftBankのUAが何になっているかが ちょっと分からないので明確に答えられませんが $jphone='J-PHONE'; を $jphone='(J-PHONE|Vodafone|SoftBank)'; みたいな感じにすればいいじゃないでしょうか。 (Vodafone及びSoftBankのUAがそれぞれVodafone/SoftBankであった 場合) ただ、UAだけで判断する場合はUAは偽装したりできますしあまり 信頼性は高くないと思います。 その点はご注意ください。
直接の回答ではありませんが、 HTTPプロトコルでの「Location:」ヘッダは、規格上は絶対URLを指定することになっています。相対では指定できません。 http://www.studyinghttp.net/rfc_ja/rfc2616#Sec14 … 実際には相対URLでもたいていの場合うまく動作するようですが、 規格外のデータを受け取った時のブラウザの挙動は当てにするべきでないと思います。 まずは絶対URLを返すようにしてみてはどうでしょうか?
ホンットに自信ないですが、 そのページ(CGI)の呼び出しをPOSTで行っているなら、GETに変更するか、 HTTPステータス:303(See Other)でジャンプさせてみてはどうでしょうか？？ HTTPステータスについて http://www.onflow.jp/cyano/archives/161 303を吐き出す例 print "Status: 303 See Other\n"; # 追加 print "Location: ./?min=$min\n\n";
エラーメッセージが出ているわけですからそのエラーメッセージで 検索してみれば見つかることも多いと思います。 http://www.cj-c.com/sp/cbbs.cgi?mode=al2&namber= … 因みに、使い方が書いてあってそれでも理解できないようなら SSIは(理解できるようになるまで)下手に使わない方がいいような 気もします。 とりあえず、実行ファイルを絶対パスやカレントディレクトリより 上位(../～/～なんてのも含)にアクセスしていないか確認してください。 上のURLによるとどうやら./指定による相対パスも不可能のようですね。 ./～/～ のような感じにしていたら ～/～ に修正してみてください。
何らかの掲示板CGIの部分でしょうけど、何のスクリプトを使用して いるのかなど詳細を書いた方がいいです。 あと、ここはCGIのカテゴリですのでPerl構文に関することはCGIとは 直接関係ないのでPerlのカテゴリの方に投稿した方がいいかと。 上の内容を見た限りでは情報が不足しているだけでなく、なんか 意味不明な記述になっているように思うのですが...。 Perlについて分からないことはまだ多いのですが (my $body)or(my $name)or(my $subject) = @tokumeikinshi これって何をしているのでしょうか。 (my $body) (my $name) (my $subject) はfalseで(この変数を定義している意味がまず分からない)、 (my $subject) = @tokumeikinshi は内容が'アホ'ですので全部をorで演算すると上記の結果は当然 trueですよね。
あ、蛇足ですがこの場合はCGIに関する質問ではなく完全にPerlに 関することですので(PerlとCGIはイコールじゃない)Perlのカテゴリの 方に投稿した方がよかったかも。 参考URL：http://ja.wikipedia.org/wiki/Common_Gateway_Inte …
CGIを検索するサイトがありますのでそういったところで探してみては。 http://www.i-say.net/cgi/ http://www.yumemaboroshi.net/ http://www.the-cgi.com/ など。 探してみた限りでは http://www.minicgi.net/ の何でもアンケートっていうのが理想に近そうですが、ほとんど サイトは閉鎖に近い状態みたいなのでサポートは期待できません。
シェルからは大丈夫なのにCGIスクリプトからはダメということは サーバ(Apache?)が動いているコンピュータとシェルが動いている コンピュータとが異なってマウントの位置が違っているとか...。 本当に合っているか use File::Spec; print File::Spec->rel2abs('../../../home/XXX/YYY/ZZZ.dat'); として調べてみたらどうでしょうか。 サーバの設定などによってはCGIの実行するディレクトリの起点が ファイルのある場所と違う場合があります。
可能ですよ。 ただしブログが吐き出すxmlファイルの中にカテゴリーの情報がないとだめです。 jsRSSが見に行くブログのxmlを見て下さい。その中にカテゴリーの情報が入っているはずです。ちなみにMT3.2だと<category>foo</category>という感じで<category>タグの中にその記事が属しているカテゴリーが情報として入っています。 しかしこれはすべてのブログで共通しているわけではなく、ばらばらです。しかしどこかに入っていればjsRSSを改造することで、あるカテゴリーの記事だけ表示させることはできます。
更新日時を記憶しておいて参照すればいいだけでは?
ローカルにxxxフォルダ以下がある場合はそのままxxxフォルダごとFTP転送ツールでアップすれば良いです。 Root\ ｜ ＋xxx\ 　｜ 　＋・・・ とするのが望ましいかと思います。 またxxxというフォルダがローカルに無い場合は、FTP転送ツールでフォルダを作成後、その中にyoyaku.cgi～holiday.txtを転送すれば良いです。 パーミッションはアップ後調整すれば問題ありません。
CGIを設置するサーバも無料でと考えているのならあきらめた方が良いです． 基本的にCGIを使ったゲームは多くのサーバが負荷の増大を理由に禁止しているところが多いです． CGI利用のためだけにサーバを利用することも掲示板などで許可しているところはありますが ゲームCGIまで許可しているサーバを無料で探すのは大変です． まず，CGIというものがプログラムをサーバ側で実行させる仕組みであること 掲示板のようなものでもサーバの負荷が問題になることがあるのにゲームを動かしたらどうなるか？ このあたりを理解したほうが良いと思いますよ． あと，サーバ側ではなく，クライアント側でプログラムを動作させることもできるのでそちらの方を検討してみては？ JavaScriptや，Javaアプレットなどがそれにあたります．
> その確認画面で７月25日の月と日も表示したいんです。 えっと、だから、その「確認画面」をどう出力しているのか提示してくれないと、なんとも答えようがないってことなんですが。 データの流れとしては、 1. サーバ→ブラウザ: 入力フォームのHTML出力(質問で提示されている部分) 2. ユーザーの作業: 必要事項を入力、送信ボタンをクリック 3. ブラウザ→サーバ: フォームに入力された情報の送信 4. CGIのデータ処理: CGI が、受け取ったデータを処理してHTMLを生成 5. サーバ→ブラウザ: 確認画面のHTML出力(ここが今問題になっている部分) となっています。 この5の部分で出ているHTML情報を修正したいとう要望ですから、対処すべきは、そのデータを生成している4の部分です。 この4の部分では、1で表示されているHTML情報は一切使われません。 フォームに入力された個々の項目データだけがCGIに伝わっています。 ですから、1の部分のHTMLをいくら書かれても、何の説明にもなりません。
猫板紹介したものです。 サンプルのページ見つけました。 http://web.archive.org/web/20041012064256/networ …
こんにちわ。 >MovableTypeは無料でお試しできないのでしょうか？ 個人使用とかなら無料です。 ライセンスを確認してみてください。 http://www.sixapart.jp/movabletype/license.html# … ↑ダウンロード先もリンクされています。 エラーの原因は、もう少し噛み砕いて順序よく記載しないと回答できないと思います。
recipientの判断部分がおかしいんじゃない？ としか言いようがない・・・
> http://www.mti.co.jp/decopc/decotomo.html > HTMLのみであれば作成できるのですが、 上記はフォームから送られるデータをASPで処理しているので、「HTMLのみ」作成しても無意味です。 > それだとユーザーの入力した宛先が入力されず、またメーラーも立ち上がってしまいます。 上記、ちょっと意味不明なのですが…「メーラーも立ち上がって」という事は、もしかして<form～ action="自分のメールアドレス">にされてますか？ もしそうでしたらそれはおやめになった方が宜しいです。入力されたデータをサーバに送信してサーバ側で処理する某かのスクリプトを使って下さい。「メールフォーム 無料」のキーワードでググれば山の様にフリーのスクリプトがヒットしますから。
すみません。 前の投稿を見たら、ディレクトリ構成が間違ってました。 正しくは、「data」ディレクトリ、「tmpl」ディレクトリ、「lib」ディレクトリは「postmail」ディレクトリの下に置いて下さい。 +- index.html (トップページ） | +-- postmail[705]　/　postmail.cgi [705] |　　　　　　　　　postmail.html 　　| 　　+-- lib[705]　/　jcode.pl 　　|　　　　　　　　mimew.pl ... 任意 　　|　　　　　　　　io-socket.pl 　　| 　　+-- data[705]　/　log.cgi [606] 　　| 　　+-- tmpl[705]　/　body.txt 　　　　　　　　　　　conf.html 　　　　　　　　　　　err1.html 　　　　　　　　　　　err2.html 　　　　　　　　　　　thx.html （※無印は全てパーミッション[604]） です。
> あと、メモ帳から開くと文字化けしていました・・・； CGIスクリプト(大抵はPerlを使用)はスクリプトのエンコードが SJISでないことも多いのでSJISなどOSのロケール設定のエンコードを 想定するメモ帳ではあまり編集に向かないと思います。 (スクリプト自体がSJISで書かれていれば編集できないことはないです けど) なお、WinNT系OSではUTF-8とUnicodeも扱えますがUTF-8はまだしも Unicodeで書かれているCGIは恐らくないと思います。 PerlCGIを編集するならPerlを始めよう!をお勧めします。 このPerlエディタはローカルマシンにPerlをインストールすれば エディタから実行しながらデバッグできます。 対応しているエンコードはSJIS/JIS/EUC-JP/UTF-8です。 突然強制終了するなどのバグが少々ありますけど。 参考URL：http://homepage3.nifty.com/aokura/
定番はperlでしょう。Net::FTPを使えば簡単にftpアクセスできます。 http://perldoc.jp/docs/modules/libnet-1.12/Net/F … rubyにも同様のライブラリがあります。 http://www.ruby-lang.org/ja/man/html/net_ftp.html ftpクライアント用ライブラリがない言語でも、外部プログラムを呼び出せば簡単に実現できます。ですから「使い慣れた言語を選ぶ」というのもアリかと思います。 その場合は、wget を使うのが便利でしょう。起動時の引数指定で、ファイルの取得ができます。 http://www.bookshelf.jp/texi/wget/wget-ja_7.html …
いろいろやってみたのですがどうやらファイルのダウンロードをすると onloadは効かないようですね。 なので、どうしてもダウンロードを待ってページの推移を行うって できそうにないのですが...。 力不足ですみません。 > ネット回線の速度を測定するＨＰでは、データをＤＬ後に次の処理に進まないと、速度を表示出来ないのだと思いますけど、そのページのように > 完全にＤＬが終わってから、メッセージを表示させたいと思っております。 その用途だと回線速度を計測するためだけにファイルをDLしたいと いうことでしょうか。 ファイルを実際にローカルに保存する必要がないようならAjaxを 使用すればできそうな気がしますがあいにくAjaxはよく分からないので サンプルを作れません。
私も、ちょっとご質問の意味がいまひとつ解りませんでしたが、 「既存のプログラム」とおっしゃる部分、探せばたくさん見つかるツールなど使ってはどうですか？ 「amazonのような」とは具体的にどの部分のことか解りませんが、たとえば、おっしゃっているようなカテゴリ検索とか商品詳細ページとかは、どのツールにも付いている基本機能だと思いますよ。 無料のOSSがいいなら、有名どころはEC-CUBEとかですかね。 参考URL：http://www.ec-cube.net/
subject は、ISO-2022-JP に変換した上で base64 でエンコードしましょう。 参考 : http://perltips.twinkle.cc/perl/encode_jis_subje … 本文も ISO-2022-JP に変換するのが無難です。 $StringBuffer に入っている本文の文字コードは何でしょうか。 EUC-JP だとすると $smtp->datasend(encode('ISO-2022-JP', decode('EUC-JP', $StringBuffer))); となるのかな。 参考 : http://hikoboshi.org/perl/doc/encode.html
Perl CGIで作ってみました。 解釈を間違っていなければ以下の用件は満たしています。 1. 携帯でも見れるシンプルなもの (確認はしていませんが恐らく) 2. ファイルの並び順(名前順や最新順)を設定できる 　(自由にソートできるようにしてありますのでどうしてもいやなら 　自分で修正してみてください) 3. 1ページに表示するファイルの数を設定できる 4. 指定ディレクトリ内にディレクトリがあった場合それもリンク 　(ディレクトリ内のファイル一覧表示) > あとできれば画像ファイルを開いたときに「進む」で次のファイルに移動などの機能があればうれしいです これは意味が分からなかったので実装していません。 かなり要求しているものと全く異なる可能性もありますがせっかく 作ったので載せておきます。 #!/usr/bin/perl use strict; use CGI::Carp qw(fatalsToBrowser); use File::Spec; use File::Basename; my $cgi = &getreq(); my $script = (fileparse(__FILE__))[0]; print "Content-type: text/html; charset=shift_jis\n\n"; # 表示するディレクトリ my $dir = $cgi->{'dir'} || '.'; # Win のディレクトリ区切りをスラッシュに変換する # (MacOS 非対応) $dir =~ s/\\/\//g; # ディレクトリリストの取得 my $dir_list = &dir_list($dir); $dir .= '/' if($dir !~ /\/$/); # 絶対パスに変換しておく my $view_dir = File::Spec->rel2abs($dir); # 表示するファイルの上限数 (0=無制限) my $limit = 0; print <<'HTML'; <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <html lang="ja"> <head> <meta http-equiv="content-type" content="text/html; charset=shift_jis"> <title>ディレクトリのファイル一覧</title> </head> <body> <div><a href="#note">注意</a></div> HTML print "<table border=\"1\" bordercolor=\"black\" cellspacing=\"0\">\n"; print "<caption>表\示中のディレクトリ: $view_dir</caption>\n"; print &th($cgi, $view_dir); my $type = 'NAME'; if($cgi->{'type'} eq 'fn') { $type = 'NAME'; } elsif($cgi->{'type'} eq 'type') { $type = 'TYPE'; } elsif($cgi->{'type'} eq 'ts') { $type = 'TIME'; } # カウントフラグ (表示上限数用) my $i = 0; # ループ foreach(&sorting($dir_list->{'DIR'}, $type, $cgi->{'sort'}), &sorting($dir_list->{'FILE'}, $type, $cgi->{'sort'})) { my ($sec, $min, $hour, $mday, $mon, $year) = (localtime($_->{'TIME'}))[0 .. 5]; $year += 1900; $mon++; my $time = sprintf('%04d/%02d/%02d %02d:%02d:%02d', $year, $mon, $mday, $hour, $min, $sec); my $fn = $_->{'NAME'}; my $vdir = File::Spec->abs2rel("$view_dir/$fn"); if($_->{'TYPE'} eq 'DIR') { $vdir =~ s/\\/\//g; $vdir =~ s/(\/)/'%' . unpack("H2", $1)/eg; $fn = "<a href=\"$script?dir=$vdir&amp;type=$cgi->{'type'}&amp;sort=$cgi->{'sort'}\">$fn</a>"; } else { $fn = "<a href=\"$vdir\">$fn</a>"; } print "<tr>\n"; print "<td>$fn</td><td>$_->{'TYPE'}</td><td>$time</td>\n"; print "</tr>\n"; $i++; last if($limit && $limit <= $i); } print "</table>\n"; print <<'HTML'; <div id="note">注意: </div> <ul> <li>DIR: ディレクトリ</li> <li>BIN: バイナリファイル</li> <li>PLAIN: プレーンテキストファイル</li> <li>BIN/PLAIN は正確には判断できません</li> <li>LINK: シンボリックリンクファイル</li> </ul> </body> </html> HTML exit; # CGI リクエスト取得 sub getreq { # 環境変数取得 my $cgi = {}; my $query = ''; read(STDIN, $query, $ENV{'CONTENT_LENGTH'}) if($ENV{'CONTENT_LENGTH'}); $query = join('&', $query, $ENV{'QUERY_STRING'}); # デコード my @args = split(/&/, $query); foreach my $i (@args) { my ($name, $val) = split(/=/, $i); $val =~ tr/+/ /; $val =~ s/%(\w{2})/pack('C', hex($1))/eg; $val =~ s/(\x0d\x0a|\x0a|\x0d)+$//; $name =~ tr/+/ /; $name =~ s/%(\w{2})/pack('C', hex($1))/eg; $name =~ s/(\x0d\x0a|\x0a|\x0d)+$//; if(exists($cgi->{$name})) { $cgi->{$name} = [(ref($cgi->{$name}) eq 'ARRAY' ? @{$cgi->{$name}} : $cgi->{$name}), $val]; } else { $cgi->{$name} = $val; } } delete($cgi->{''}); return $cgi; } # ディレクトリリストの取得 sub dir_list { my $dir = shift || '.'; my $sort = shift; my @dir = (); my @file = (); opendir(DIR, $dir) || return; $dir .= '/' if($dir !~ /\/$/); foreach(readdir(DIR)) { my $time = (stat("$dir$_"))[9]; if(-d("$dir$_")) { # カレントディレクトリ ('.') は表示しない next if($_ eq '.'); push(@dir, { 'NAME' => $_, 'TYPE' => 'DIR', 'TIME' => $time}); } elsif(-f("$dir$_")) { my $type = ''; if(-T("$dir$_")) { $type = 'PLAIN'; } elsif(-B("$dir$_")) { $type = 'BIN'; } push(@file, { 'NAME' => $_, 'TYPE' => $type, 'TIME' => $time}); } elsif(-l("$dir$_")) { push(@file, { 'NAME' => $_, 'TYPE' => 'LINK', 'TIME' => $time}); } next; } closedir DIR; return { 'DIR' => \@dir, 'FILE' => \@file }; } # ソート sub sorting { my $sort = shift; my $key = shift; my $flg = shift || 'up'; return sort { $flg eq 'dn' ? $a->{$key} cmp $b->{$key} : $b->{$key} cmp $a->{$key} } @$sort; } # テーブルヘッダ sub th { my $cgi = shift; my $dir = File::Spec->abs2rel(shift); $cgi->{'type'} ||= 'fn'; $cgi->{'sort'} ||= 'dn'; my %header = ( 'fn' => 'ファイル名', 'type' => '種類', 'ts' => 'タイムスタンプ', ); my $sort = '<sup>' . ($cgi->{'sort'} eq 'up' ? '↑' : '↓') . '</sup>'; while(my ($key, $value) = each(%header)) { my $st = ($key ne $cgi->{'type'} || $cgi->{'sort'} eq 'dn' ? 'up' : 'dn'); $header{$key} = "<a href=\"$script?dir=$dir&amp;type=$key&amp;sort=$st\">$value</a>" . ($key eq $cgi->{'type'} ? "$sort" : ''); } return "<tr>\n<th>$header{'fn'}</th><th>$header{'type'}</th><th>$header{'ts'}</th>\n</tr>\n"; } 1; 結構いい加減ですのでもう少し修正できればよかったのですが...。 動作確認したのもWinのみですので他のOSでの動作は保証しません。 (特にMacOSのパス区切りに対応できていません)
>どうもうまく記録されません。 具体的にどうなるのか欲しいところですね。 推測になりますが、それだとセパレータ無しで表示されるのでは？ $name = "hoge"; $email = "hoge@hoge.com"; hogehoge@hoge.com みたいな感じになってしまうというのがうまく記録されないってことですかね？ foreach $tmp (@mailnaiyou){ print OUT $tmp . "<>";} print OUT "\n"; とでもかくか print OUT "$name<>$email<>$subject<>$body<>$host<>$agent<>$eznumber<>$sbnumber<>$imobilenumber<>$imodeid\n"; とかで行けませんか？
私が設置してる掲示板ではこの様にしてます。 }elsif ($UA =~ /J-PHONE|Vodafone|SoftBank/) {
CGIというのは Common Gateway Interface の略称で Webブラウザ(HTTPC)とWebサーバ(HTTPD)との間の通信方式の一種です。 この仕様に従ってさえいれば基本的にはどの言語で開発することも できますし、環境も問いません(勿論、動作するHTTPD側の環境仕様に 基づきます)。 その気になればCなどでもCGIは作成できます。 (その環境下でコンパイルする必要がありますが) その代わりに実行する度にメモリ上にロードして終了する度にメモリ から削除されるので速度は遅く、安定性なども低いとされます。 モジュール版というのは恐らくはApacheサーバでのことですよね。 その場合、サーバソフトウェアはApacheのみに限定されてしまい、 動作自体もApacheに大きく依存します。 (一部、他のサーバ=CGI版と動作が異なる部分がある) Apacheを使用するなら無難にモジュール版を使用した方がいいとは 思いますが、モジュールが用意されているとは限りません。 因みに、IISにもISAPIという専用のモジュール実行機構があります。 (PerlやPHPなどをISAPIで実行するかCGIとして実行するかを選べます) 参考URL：http://www.studyinghttp.net/cgi,http://ja.wikipe …
76行目付近より push(@date,"$now,$addr\n"); $count = @date; @date配列にログとして出力される予定のものが追加されています。 （$now,$addrともにコメントアウトにより未定義） その次の文で$countに@date配列の個数を代入しています。 ここで、カウントアップに当たる処理が行われています。 ついでに言うと、@date配列はどこかで定義されることも無く、（@dataならありますが） 76行目付近で突然現れ、要素が一つだけ入ったかと思えば以降増減は無く、 このＣＧＩの中では配列の個数が常に１個のまま処理が行われます。 この個数で画像を出力してるわけですから、 誰もアクセスしていなくても全人類がアクセスしても「1人閲覧中」でしょう。 上で指摘した２行を $count = @data; にしてみてください。
「レンタルサーバー推奨のアクセスカウンター」に、 テキストで表示するような設定ができればいいのですが、それにはレンタルサーバーの説明を探してください。 それらしい説明がなければテキストで表示する機能がないので自分でテキストで表示できるカウンターを探してきて設置する必要があります。 http://www.yumemaboroshi.net/ ↑CGIのリンク集です。自分で探すときに。
>よい本なら時代遅れでもかまわないです。 なるほど でわ 「CGIプログラミング入門」 http://www.amazon.co.jp/CGI%E3%83%97%E3%83%AD%E3 … かなり易しい内容です 私が初めて勉強したのがこの本の'97発行の初版本です。 それ以前に大昔のBasicなどはやったことはあるもののラクダ本など読んでもさっぱり判らず 途方にくれていたときに出会ったのが、この本でスラスラ頭に入る易しさで感動したのを覚えています。 現在のは改訂/改版されているので内容も多少違う筈ですが
yomi-searchでサーチエンジンを運営している者です。 yomiのテンプレートを配布されているところでは、こういったスタイルのは見たことがないですね。 そのサイトのソースを拝見したところ、テーブルを使って横向きに並べてあるようです。 <table> <tr> <td>登録情報1</td> <td>登録情報2</td> <td>登録情報3</td> <td>登録情報4</td> </tr> </table> の繰り返しです。 いじるファイルとしては、templateフォルダ内のカテゴリ表示結果の「kt.html」、検索結果表示の「search.html」、ランキングも実施しているのならそれぞれのファイルも同じように書き換える必要があります。 ただし、テンプレートファイルをいじる時は、記述を1つ間違えただけでも表示されない場合がありますので、十分にバックアップをとりながら進めたほうがいいと思います。
シンプルなもの(CGI)なら参考URLのところにあります。 ソフトハウスができないと言うのはよっぽどだと思います。 セキュリティ上の問題や個人情報の隠蔽など、一定の品質条件がクリアできない物は納品できない等、大人の事情があるのではないでしょうか。 レンタルサーバは共用型だったりすると安全面で不安が残ることしばしばです。 参考URL：http://www.tohoho-web.com/wwwsoft.htm
正直、どのようなことを望んでいるのかが分からないため、 回答することが出来ないような気がします。 もし、別フレームのウィンドウのページを変更したい場合、 JavaScriptを使用するなら、 top.ウィンドウ名.location.href = 'ページ'; でできますし、HTMLオンリーならtarget属性を使用してアクセス します。 なお、HTTPの仕様ではURLに日本語など非アスキー文字列類が含まれる 場合はURLエンコードしなければいけません。 しないでも動作することはありますが仕様に反していますし、環境 依存になります。
さくらインターネットの様にSuexecを採用している場合は jcode.plのようにCGIから読み込むfileは 600でOKです。 同様に .cgiは 700　で動きます 詳しくは http://oshiete1.goo.ne.jp/qa2202319.html?ans_cou … また、.htaccessで Filesコンテナにて制限することも出来ますが その方法だと同じサーバーのほかのユーザーからは制限できませんので 上に書いたようにパーミッションを600にするのが確実です。
そういうのはやろうとしているそのサービスの提供元に質問してみたら どうでしょうか。 通常、簡単な方法を提供しているはずですので。
CGIをわざわざ設置しなくても、googleカレンダーでいいんでは。
今ひとつ様子がはっきりわからないんですが、見たところ、入力フォームが用意されているようですね。→mail.html そのmail.htmlの中身に各入力項目があって、送信ボタンを押すと送信される・・・ というような”流れ”に見えます。 だったらmail.htmlに必ず<form action=でmail.cgiが指定されているはずだと思うんですが・・・ 要するに二つのフォーム（例えばmail.htmlとmail2.html）が存在し、各々がmail.cgiとmail2.cgiを呼び出していると考えられるんですが・・・ 違いますか？
えっと、これは質問者さんはフォームデータ受け取りのCGIをいじれる環境なのでしょうか？ HTML書き換えれるって話なら大丈夫なのかなぁ。。。 もしそれが可能であれば、5分以内(変更可)に同一ホストから、同一の内容のポストを受け取ったときは、そのデータは破棄するってCGIに書けばいいのではないでしょうか。
この質問の場合は ”画像リンクのクリック” と有りますので よそのページから <A HREF="http://self.example.com/image.jpg" > hoge画像</A> と言う状況を想定してとなるでしょうね <IMG SRC で呼ばれた場合は おそらく#6さんの言われたようになると思います。 よそのページから勝手にIMGタグで呼ばれた場合のことも考慮するなら TOPPAGEに飛ばすのではなく 「＊＊.example.com 以外からの画像呼び出しは禁止です」 などと書かれた画像を表示するのも一つの手かも知れませんね
ほぼ間違いなく、 ポータルサイト制作・作成　専門の会社が作ったページでしょう。 このページのこのサイトについて、に記入されているように、 JavaScriptやCSSといったスクリプトや、 HTML、XMLなどのマークアップランゲージを駆使して作られています。 さらに参照先（個別の店情報）のページは、 javaアプレットでコーティングされているので、 製品　ではない可能性が高いです。 数人のプログラマと、 数人のWebデザイナーとの共同作業、 まさにプロの仕事だと思います。 似たような技術を持った会社↓（デモサイト閲覧） http://www.autumn-tec.co.jp/websystem/portalsite … 個人でも作ることは不可能ではないですが、 プログラマでも大変だと思います。
readme.txtの505行目にある、以下の部分がディレクトリーエラーを出させる要因になっているようです。 -----　ここから　----- "bbsname_dir" => "./bbsname", 記録ファイルのディレクトリー名 変更すると、ファイル自体を覗かれることが無くなります。 ディレクトリーの構成が丸見えなサーバをお使いの方は、変更することを強くお 奨めします。そして、そのディレクトリーには、仮のindex.htmlファイルを各デ ィレクトリーに置いて下さい。 ※このディレクトリーは自動で作成されます。 -----　ここまで　----- このディレクトリーは自動作成のようですが、自動作成ができない場合などにでるエラーなのかもしれません。(すべてのcgiファイルを解析したのではないので推測です) 仮にディレクトリー名で指定したディレクトリーを自分で設置した場合にはどうなるでしょうか？ 設定間違いもしくは、ディレクトリーを作成できない要因がないか確かめ見るのもいいかと思いますよ。
追記 printは「,」で区切って繋げる事もできるので次のような書き方もできます。 print '<input type="submit"',($x)?' checked':'','>';
回答としては的外れかも知れませんがご容赦。 そうしている（この場合、CGIへの直リンク防止）目的は何ですか？ 直リンクによってフレームが構成されない、またはフレームが解除される、というのを防ぐのが目的なら javascript を使えばカンタンです。
迷惑メールの送信者が同じであれば、 IPアドレスで弾くことが可能です。 下記レンタルフォーム（無料）でおそらく対応できると思います。 http://mailform.mface.jp/ 参考URL：http://mailform.mface.jp/
$email = "$formdata{'dayl'}"　　の行末にセミコロンがありません。 のでエラーに１票！ なお、数字で始まる変数名は作れません。（特殊な意味がある変数です）
試しにActivePerl5.10.0を入れてスクリプトのみ動かしてみました。 結果、コピペ時の問題なのかわかりませんが、3行目の$ref_url設定箇所にUnicodeの制御文字らしきものがあって動きませんでした。 このスクリプトをコマンドプロンプトで実行すると以下のようなエラーが出ます。 Search pattern not terminated at C:\***\test.pl line 3. これと同一原因なら、メモ帳などで一度エンコードをANSI(ASCII)またはShiftJISにして保存して開き直すと、3行目が以下のような感じで表示されるはずなので、「?」2カ所を削除してください。 $ref_url = '?http://www.yahoo.co.jp';? 同一原因ではなくても、コマンドプロンプトで実行することで前記のようなエラー表示がされますので、原因解析が楽に出来ると思います。
それは、「まぐまぐ」のようなメールマガジンサイトの購読、解除フォームをつくりたいのでしょうか？ それとも他のマイナーサイトか、自作プログラムでしょうか？ 補足をお願い致します。
CGIとFlashの連携は無駄に手間がかかる(そうするぐらいなら、Flashで全部作り直した方が早いぐらい)なので、 CGIにこだわるなら、CGIとJavaScriptの連携で作るのが簡単でしょう。 手持ちのカードをクリックする ↓ (JavaScriptを使って)カードが場に出るアニメーションが流れカードが場に出る ↓ ブラウザが更新されて(CGIで)カードが場に出た状態に切り替わる。 って感じになります。 JavaScript中では、 カードのクリックでイベントを発生させ、 　　・カードが場に出るアニメーションを行う 　　・CGIにパラメータを渡して画面更新 といった処理を行うだけにすれば、ゲームのルール管理はすべてCGI側で処理できます。 「カードの移動」は、1からJavaScriptで記述すると結構面倒ですが、 そういう処理を簡単に実現できる便利なライブラリがいろいろありますので、 それを利用すれば数行で作れます。 http://allabout.co.jp/internet/javascript/closeu … http://www.openspc2.org/JavaScript/Ajax/index.html
$day = '昭和54年6月3日 '; $book = '平成20年度業務部資料20-1 '; $name2 = '山田海雄 '; printf "<li><b>生年月日</b>: %s </li>\n", $day; 以下略 とすると当たり前ですが何の問題も無く表示されます。 要するに$day等に値が代入されていないということですが FORMから受け取ったデータをデコードしたときに そもそも入っていないのか？ 或いは変数名が違うのか？ コマンドラインで $ perl -wc mail.cgi として1回しか出てこない変数があれば 例えば $test なら Name "main::test" used only once: possible typo at env.cgi line 29. みたいに表示されますがねえ あと 参考にもならないかもしれない最低なサンプルですが メールフォームの確認画面について http://oshiete1.goo.ne.jp/qa4066141.html に載せています
メールフォームの確認画面については http://oshiete1.goo.ne.jp/qa4066141.html に最低なやつですがサンプルを載せています。 もしPerlじゃないのなら ゴメンなさいですってことで、、 で、補足画面に使用言語を書いていただければ 他の方が回答いただけるかもです
　meil送信をcgiでお作りになっているとすれば文字コード変換などのjcode.pm(pl)、また送信時の　7bitに変換する mimew.pl などのライブラリなどをお使いになっていますでしょうか。 　そこのところへのrequereのパスなどが違っていたり、またはそれ自体をFTPし忘れている。 　他には、初期設定にてパスなどを記述した時などに、つい ' や ; などが抜けていたなどがありますが。
>KENT WEBさんのpostmailは公式ダウンロードサイトではないのでしょうか。 ？？ 意味が良くわからないんだけど？ とりあえず公式 http://www.kent-web.com/data/postmail.html 渡したファイルが何かの原因で欠けてるとかそういうオチじゃなくて？
yomi-searchを使用して検索サイトを運営している者です。 私も「Yomi-Search 改造支援」さんの認証キー設定を試してみたのですがkazu567890さんと同様うまくいきませんでした。 そちらより、以下のサイトさんの方が簡単で、当方でも実際に活躍してもらってます＾＾ http://azl.at.webry.info/200605/article_3.html
おそらくsendmailだと思いますが、 お使いのサーバはsendmailが利用可能な環境でしょうか？ 利用不可の状態でもsendmailの部分の処理がスルーされて正常に動作しているかのように見えたりします。 サーバの設定を確認してみてください。
rewriteのサブディレクトリとの関係については http://www.nurs.or.jp/~sug/homep/rewrite/rewrite … が参考になるかと思います。 http://oshiete1.goo.ne.jp/qa4083790.html にも同様の質問が有りますが 私の環境でTESTして回答したものの質問者さんのほうではうまくいっていない様子、、
Futomiのサーバアナライザがおすすめです。 参考URL：http://www.futomi.com/library/servana.html
確認したいのですが、 パーミッションの設定は、お使いのサーバーに合わせていますか？ お使いのサーバーによっては、postmailのマニュアルの設定では正しく動作しないことがあります。 パーミッションはサーバーの推奨に合わせてください。
&headerがどのような関数か分かりませんが、引数を取って分けてはどうでしょう。 &header(); # 通常起動時 &header('printScript') #スクリプトを挿入時 sub header { my $arg = $_[0]; my $script = ''; if($arg eq 'printScript'){ $script = qq|<script>...</script>|; } 出力処理 }
訂正です。 multipart/form-data でした。m(_ _)m
言語が書かれていませんがPerlの場合。 セキュリティー面その他一切考慮せず。 index.html <form action="batch.cgi"> <input type="submit" value="バッチ起動"> </form> batch.cgi #!/usr/bin/perl system "バッチファイルのパス"; exit;
設置したサーバのsendmailパスなど確認されましたか？ sendmailパスが間違っていると送信しましたという画面が表示されますが、実際には送信されなかったなんて事もありえるかもしれません。 まずは、ご使用になられているHPスペースでsendmailが使えるのか？ 使えるならsendmailパスは間違いないかを確認してみてください。
携帯オンリーではなく、PC用で携帯からも可というものでしたら以前私が使用していたものがご希望に近いのではないでしょうか？ 携帯対応画像掲示板 http://www.bashikko.com/takasan/ > １．画像がアップロードできる（静止画のみで可） メールにてアップできます > ２．レスが、できるもの レスもできます > ３．投稿時管理者の認証がいるもの 使った事が無いので定かじゃないですが… ・管理者による検閲機能（管理者による任意選択）があります。 とありますので、大丈夫かと > ４．AU　docomoに対応しているもの 当方docomoユーザーで、docomo以外の携帯を試せていません ただ、「携帯に当掲示板のURLを送る」という所の例にezwebと記載があるので、大丈夫じゃないかな…？と思います 参考URL：http://www.bashikko.com/takasan/
<#!/usr/local/bin/perl5> ⇒削除 とありますが、これも 消さずに変更だけでよいですよ。
単に「yahoo に飛ばしたい」んだったら、 print "Location: http://www.yahoo.co.jp/\n\n"; と出力するだけでいけます。
HTML(form)側がどうなってるのかイマイチわからないんだけど subjectに取込みたいやつの名前やvalueが変なんじゃない？ あとこれ、ラジオボタンじゃなくてチェックボックスに見えるんだけどそれはどうでもいいのかな・・・？
＞​http://www.gnbnet.com/​ ＞ こちらのCGI＞メールフォームの「designform」というものです。 テストしてみましたが、正常に動作しました（シミュレータですが） au用のXHTMLの記述が正しいか確認してください。
反映させたい、というのがちょっとわかりづらいんですが、 別サーバのHTML（iframe）内にCGIを読み込ませたいという事でしょうか？ CGIを置いているサーバが外部からの呼出しを禁止していなければ大丈夫です。 禁止されているならできません。 CGIを置いているサーバの利用規約や制限事項などを確認してみてください。 あるいは利用しているサーバを明かせば同じサーバの利用経験のある人が答えてくれるかも。
まず先に >無料のレンタルフォームサイトなどご存知でしたら、教えてください。 http://oshiete1.goo.ne.jp/qa4019498.html にて紹介しています(回答２内の 項目２．) >すでにあるメールフォームに、CGI等で組み込むことは可能なのでしょうか？ 可能ですが、セキュリティ面を考慮すると 質問者さんの場合はすぐには無理でしょう 要するにFormにメールアドレスや注文などを入力して貰い 自社でメールを受け取ると同時に 入力されたアドレスにも「注文承りました」などのメールを送信するのだと思いますが ただ単にそういう機能をつけるのは簡単ですが まず間違いなく悪用されます。 CGIの入門書では作ってはイケナイプログラムの例として説明されているほどです 簡単なクラッキングスクリプトを書けば第三者に対して 一晩で数千通のいたずらメールを送ることが可能となります。 しかもそちらの会社の営業時間外を見計らってです まさか24時間有人監視するわけでも無いですよね？ 　(もっともそれなら逆に自動返信機能も不要だが) ですので業務でCGIによる自動返信を使うなら現実的には １．一定時間(数分～数十分)経過しないと同じアドレスにはメールを送れなくする ２．自動返信メールの文面に 責任の所在を明記しておく ３．FORM入力者の情報をログに記録し、簡単には消えないようにする ４．プロクシを拒否、リモートアドレスによっては拒否 などの設定を管理者側で簡単に出来るようにしておく 　ぱっと思いついただけでもこの程度の機能も無いと厳しいと思いますよ
文面からすると、CGIの開発言語はC言語でしょうか? その前提で話をすすめます。 出力はどうやってますか? もしかして、puts を使っていませんか? ・fgets は、改行文字までを1行として、改行文字込みで読み込みます。 ・puts は、引数で指定した文字列を出力したあと、改行文字を出力します。 そのため、fgetsで読んでputsで出力すると改行文字がダブります。 もしそうであれば、puts ではなく fputs でstdoutに出力すればOKです。(fputs は引数文字列のみ出力し、改行文字の追加出力は行いません。) なお、「'\0'を削除」というのは明らかに間違ってます。 (そもそも「削除」というのが具体的にどういう操作をしているのか、かなり意味不明ですが) '\0'は、C言語において「文字列」の終わりを示します。 fgets は、1行読み込んだあと、読み込んだ文字列が全部で何文字あるのかを示すために、最後の文字(普通は改行文字)の次に'\0'を入れます。そして、puts やfputsなど、入力として指定した引数の示すデータのうち、'\0'の前までを「文字列」として認識します。
@array = map { s/AAA//g; $_; } @array;
foreach $data (reverse(@NEW)) { これで どうですか？
javascript？CGIをいじるんじゃないのかな 状態とか出身とかを選択できるような物って無いかな？ それの応用になるよ http://www.tohoho-web.com/js/what.htm
電子メールサーバーソフトのこと。メールサーバーにおける代表的なソフトウェアのひとつ。メール転送エージェント (Mail Transfer Agent) とも呼ばれ、インターネット上でのメール送受信や転送など電子メールの仕組みの基本的な役割を担っている。CGIシステムでは、フォームからメールを送信するために主に使われています。 ま、大体のホームページでは cgiが可能か、sendmailが可能か書いてますので、 マナーとして、調べてから設置しましょう。
ちょっと情報が不足していますね。 プログラムが完璧なら、 cgiのパーミションとヘッダーの記述の確認、 sendmail使っていれば、使えるかの確認、 くらいで大丈夫ですね。 あとはオフラインでcgiを一応呼び出してくれるか プログラムの確認ができればと。
どうやらこのCGIは付属のHTMLをテンプレートとして読み込んでいるだけなので、テキストリンクなんかにしちゃえば問題なく動くはずです。 ですがそれはそれで「書いた内容が消えちゃう！」問題が起こるかもしれませんので（携帯ブラウザがそこんとこどう対応しているかちょっと存じかねます）、最善を望むなら制作者さんにメールするのがいいでしょうね。
一応つけたし >.htaccess中で setenv やsetenvif を使うことは可能ですが allowoverrideで記述が許可されていればです http://httpd.apache.org/docs/2.0/ja/mod/core.htm …
使わない変数も、そのまま放置しておくのが一番安全だと思います。 見た目では「この変数どこにも使ってないから要らないんじゃない？」と思っても、 実際に削除してしまうと、上手く動作しなくなる危険があります。 もし、どうしても使わなくなった変数を削除してみたいのであれば、 No.1さんが回答されているとおり、コメント化(言語がperlであれば行の先頭に#)して、 動作に影響しないのを確認してから削除したほうがいいと思います。 あと、不具合のあるＣＧＩをサーバーにアップすると サーバー全体に多大な影響を及ぼす場合があるので、 ローカル環境で十分テストした方がいいです......となると、面倒ですよね(^^ゞ 自作ＣＧＩではなく、フリーのＣＧＩを改造されているということは、ローカルでのテスト環境もないですよね。 そんなわけで、ほったらかしにしておく事をオススメします。
http://wws.cside.com/cgi-plant/ こちらのPetit-Editorはどうでしょうか？ あらかじめ、更新するHTMLの更新する部分に制御文みたいなものを仕込んでおいて使います。 特に携帯対応は謳ってませんが、HTMLが表示できる携帯なら問題ないと思います。
その後どうなったのか判りませんが 今日少し時間がありましたので apache1.3.41をコンパイルしてみました(2.0や2.2と違ってコンパイルがすぐ終わるね) /usr/local/uie/apache-root/cgi-bin/ ディレクトリを作って #5の下に書いたスクリプトを env.txtとして保存 さらに同じ内容で拡張子無しの 0 というfile名でも保存して chmod 705 * /usr/local/apache/conf/httpd.conf に ScriptAlias /cgi-bin/ "/usr/local/uie/apache-root/cgi-bin/" <Directory "/usr/local/uie/apache-root/cgi-bin"> AllowOverride None Options None Order allow,deny Allow from all #AddHandler text/plain .cgi .pl .txt 　 ##↑の行頭の#を取るとCGIではなくプレーンテキストとして扱われます。 </Directory> port:8134 #↑80から8134に変更 と記述してから /usr/local/apache/bin/apachectl start http://ホスト名:8134/cgi-bin/env.txt http://ホスト名:8134/cgi-bin/0 　ともに問題なく CGIとして動きます。 次に 上記 #AddHandler　行頭の # を取ってから /usr/local/apache/bin/apachectl restart すると http://ホスト名:8134/cgi-bin/0 　はCGIとして動作しますが http://ホスト名:8134/cgi-bin/env.txt 　はプレーンテキストとしてソースが表示されます 　(↑FireFOXの場合　MSIEだと文内にHTMLタグが有るのでtext/plainでサーバーから送られてもHTMLとして表示してしまいます) ###まとめとして １．ScriptAlias内ではデフォルトで全てのfileを拡張子とは無関係にCGIとして扱われる ２．逆にScriptAlias内でCGI以外として扱ってほしい場合は AddHandler で指定する あと、もしも/usr/local/apache/conf/httpd.confをいじりすぎて訳が判らなくなったら mv httpd.conf test-httpd.conf などと名前を変えてから /usr/local/apache/conf/httpd.conf.default をhttpd.confとしてコピーすれば 初期状態に戻ります(apache2系なら conf/の下の original/httpd.conf)
「特定のCGI」とは？ご自分で設置したCGIからということであれば、設置したサーバは既知ですからRemoteHostを使って制限がかけられるのではないでしょうか？
探してなければ、この程度であれば フリーのフォームとかで余計な項目消して、 できると思いますよ。
１個の Google ID で複数のサイトを管理出来ると思います。ご確認ください。
すみません。 すでにNo.1さんがNo.3とかぶる答えを出されていたようですね。 たいへん失礼しました… （ダウンロードして保存するときに拡張子が編集できればそれでいけそうですが…）
>それにしても、なぜサーバー上では動いていたのかわかりません。 あ～ そういえば、すっかり忘れてましたけど思い当たる節が ひょっとしてヒアドキュメントで print<<HTML; <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <HTML lang="ja">以下略 みたいに書いていませんでした？ これだとprint<<HTML; の下が一行空いてますので 空行を出力しています (もしくはスクリプトの上のほうに print"\n"; とだけ書いても空行 ) Content-type: text/htmlがないので宜しくない状態ですが 空行だけ出力すると　ヘッダが終わり と言う事だけはApacheは理解するので 確か DefaultType text/plain(設定によるがほとんどのサーバーはこのまま) で出力したはずです。 で、MSIEの場合はtext/plainヘッダを貰っても 文中にHTMLタグが有るとHTMLとして表示します (FireFoxなどMozilla系はプレーンテキストとして表示) 今、LinuxのとXPのApacheで試してみましたがやはりそうなりました。 そのあたりAnhttpdは違うのかも知れません
ユーザー権限でモジュールのインストールと言うことですよね 試していませんが 参考になるかどうか、、 １．「一般ユーザでモジュールインストール」 http://d.hatena.ne.jp/magicalhat/20061005/116002 … これでインストールできればいいのですが ２．>ダウンロードを何処で行なえばいいのか解らない物もあります。 「CPAN検索」 http://search.cpan.org/ 取り合えず質問文にあるものは全てありそうです ３． ライブラリのパスは特殊配列 @INC に入っていますが 例えば /home/tarou/lib/ をライブラリパスに加えるなら スクリプトの先頭を #! /usr/bin/perl -I /home/tarou/lib とします。
前の回答や他の選択肢とごっちゃになっているのでは？ もういちど整理して書き直します。 #5の選択肢２．で htmlファイルのパーミッションを600にする場合 *-- .htaccessの内容--- DirectoryIndex index.cgi --以上の１つだけ 　(CGIを動かすためにOptions ExecCGI や 　　AddHandler cgi-script .cgi .pl 　　と言う記述が必要ならそれも合わせて 最大でも3行の記述) *-- index.cgi の内容(最小限のサンプルです) #! /usr/bin/perl print"Content-type: text/html\n\n"; my $ref = $ENV{'HTTP_REFERER'}; if ( $ref =~ m!(hoge.example.com/HOGE_A|hoge.example.com/TEST_B)! ) { print `cat topb.html`; } else { print `cat topa.html`; } __END__ `cat topa.html` の ` はバッククォートです(Shiftを押しながら@キー) 　勿論 open文を使って htmlを読み込み＝＞表示でもいいですが Locationヘッダではなく Content-typeヘッダを表示＝＞REFERERで分岐＝＞条件に合う方のhtmlを読み込んで表示です これで うちのほうで(Linux＋apache2.2＋Suexec有効)でパーミッションは cgi＝ 700 html ＝ 600 で行けてますよ 前の回答と混同して Locationヘッダでtopa.html に飛ばしているのなら cgiでの読み込みではなく htmlに直接ブラウザがアクセスすることになりますので 当然、アクセス出来ません 尚、htmlファイルを設置せずに HTML文をcgiスクリプト中に記述して それを表示することも出来ますが htmlの内容を変更したり 表示の確認(サーバー上ではなくあなたのPC上での確認ですが)をするために不便なので 別fileで読み込む方法を取っています
一応Perlカテゴリーでの質問ですのでPerl側の対処法を説明します。 ■forkを使ってバックグラウンド処理にさせる。 http://www.stackasterisk.jp/tech/program/perl04_ … ブラウザ上での応答だけはすぐに行うが、実際はサーバー内の別プロセスでじっくり最後まで実行させることができます。 途中経過や最終結果のレポートを表示しないといけない場合は、上記方法ではだめです。
ちょっと自信無しですが、、 httpd.confの <VirtualHost *:80> ServerAdmin webmaster@hoge.example.com DocumentRoot /var/www/hogehoge/ ServerName hoge.example.com SuexecUserGroup hogehoge hogegrp ErrorLog logs/hogehoge-error_log CustomLog logs/hogehoge-access_log common </VirtualHost> SuexecUserGroupって設定してますか？ http://httpd.apache.org/docs/2.2/ja/mod/mod_suex … あと docrootを適当なところにしちゃうとエラーになり suexec.logに command not in docroot になるんじゃないかと思います http://www.aconus.com/~oyaji/bbs/past/0004/B0002 … 見当違いならゴメソです
補足をお願いします。 「SSIが使用できない」のであれば、どうやって埋め込む予定でしょうか？携帯ということなのでJavaScriptで埋め込むことも出来ませんよね。 ページ全体をCGIやphpで作ってしまうのでしょうか。外部のhtmlを取り込んでカウンタ一緒に表示するようなイメージですかね？
1です。少し調べてみたら、 http://okwave.jp/qa3521993.html こちらの内容でいけるようです。 ただ、正規表現が長くなってしまいましたし、 書式もhtaccess用になっているか未確認です。 手馴れた人ならもっと短くできるかも… RewriteEngine on RewriteBase /cgi/ RewriteRule ^/index.cgi\?([id|no]=[0-9a-zA-Z]+)?([mode|eid]=[0-9a-zA-Z]+)?([&id|&no]=[0-9a-zA-Z]+)?([&mode|&eid]=[0-9a-zA-Z]+)?([&id|&no]=[0-9a-zA-Z]+)?([&mode|&eid]=[0-9a-zA-Z]+)?([&id|&no]=[0-9a-zA-Z]+)?$ /index.cgi?$2$4$6 [R=301,L]
> cgiで作成したフレーム分割した画面に > 結果を表示させる方法を教えてください。 HTMLの解説書や解説サイトには書かれてなさそうな、これを実現するアルゴリズムだけ補足します。 フレームのないページ（TESTt.html）からフレームページ（AA）へ移動し、その中の１フレーム（BB）で結果を表示する場合、 TEST.htmlからAAへはデータを送られますが、AAとBBはデータを共有することはできません。 そこで、<frame src="BB?（この部分）">に記述することで、AAからBBへデータを渡せます。 BBは環境変数 QUERY_STRING からこのデータを受け取れます。
> open(OUT,">./data/a.cgi") or このオープンの仕方では、以前にあった内容はまるきり消去されます。 >これをその行だけ編集して上書きすることはできないでしょうか？ 行が固定長であれば何とかできなくもないですが、長さが可変なら できないと見たほうがいいでしょう。 一旦全部読み取って編集後に書き戻すなどのようにするしかないです。
Wordpressと携帯の振り分けの２つしかないなら、Wordpressより上に有ればどこでも良いです。 携帯サイトでFileNotFoundになると、もしかするとWordpressが実行されるので、 携帯サイトの一番上のディレクトリに.htaccessを作成して、 RewriteEngine off しておいた方が良いかもです。
> cout << "<frame name=\"AAA\" src=\"aaa.cc?name=\"value\">" << endl; クォティション対応がおかしくない？
以前、僕がiswebライトを使用していた頃、 友人も同じiswebライトでサイトを作っていましたが、 チャットCGIのフレームの上下フレームともに広告がついていたので、 isweb事務局へ質問したところ、メールが返ってきたので、 僕も試したところ、一方のフレームの広告を消すことができ たので、以下の方法を試してみてください。 iswebのサーバーでは通常、CGIの実行結果にも広告が挿入される のですが、フレームなどでCGIを呼び出す場合は、 SSIを利用したページ(拡張子.shtmlのファイル)から CGIを呼び出すことで広告挿入を抑制することができます。 質問者様がどのCGIを利用しているのかわからないので、 KENTWEB様のYY-CHATというチャットCGIを例に 手順を書いておきます。 まず、YY-CHATのyychat.cgiというファイルが本体ですので、 そのCGIファイルを開き、「フレーム出力」という項目 を見つけてください。 その中に、<frameset rows="135,*">というようなフレームの タグがあります。 次の行の <frame name="form" src="$script?mode=form&retime=$cret&line=$clin"> というタグは上部フレーム、 <frame name="log" src="$script?retime=$cret&line=$clin">というタグは、下部フレームですので、 上部フレームの広告を非表示にする場合は、 frame name="from"の src=""内にある文字を利用します。 yychat.cgi本体と同じフォルダに 以下の記述をした.shtmlファイル(仮にform.shtmlだとします。) を作成してください。 <html> <head> <title>タイトル</title> </head> <body> <!--#include virtual="yychat.cgi$script?mode=form&retime=$cret&line=$clin" --> </body> </html> 上のように記述したら、.shtmlファイルを保存して、 yychat.cgiの先ほど利用した、frame name="from"のsrc=""内の 記述をform.shtmlと書き直し、サーバーにアップロードしてください。(form.shtmlは、 yychat.cgiと同じフォルダにアップロードしてください。) form.shtmlのパーミッションはそのままで、その他の.cgi等のファイルのパーミッションは、 yychat.cgi内の記述どおりに各ファイルのパーミッションを変更してください。 アップロード後、yychat.cgiファイルにアクセスしますと、 上部フレームの広告が非表示になっているはずです。 #1さんが広告を消すことは、契約上まずいことではないかと書かれていますが、 http://help.www.infoseek.co.jp/isweb/204.html#5 には、フレームページの大部分のページの広告を消さないのであれば、 非表示にしても良いようなことが書かれているので、大丈夫のはずです。 説明が下手ですが、↑のことができたなら、それを応用して、 設置してみてください。
>cgiが使えてphpが使えないこと・・・なんてないですよね・・・ いや、けっこうありますよ。でも「認証失敗」と表示されているということは動作しているので、大丈夫です。 >log.cgiなど、700じゃダメなんですね。 >やはり606などにしてみようと思いますが >PHPのパーミッションが分からないことには >どうにもならないですよね（涙） phpスクリプトは（今もそうでしょうけど）htmlと同じパーミションでOKです。cssファイルなどと同様に604もしくは644ですね。拡張子が.cgiのものだけ606に変えてみてください（それでダメなら666を試す）。 dataディレクトリのパーミッションについては、phpからファイル作成するようなら707にするのですが、配布元で言及されていないので705（もしくは755）のままでいいと思います。
他のサーバで問題がなく特定のサーバのみダメなのは、ftp サーバの設定が原因だと思います。 CGI の１行目は #!/usr/bin/perl (または #!/usr/local/bin/perl) になっているかと思いますがが、 末尾の改行を変換していないと、Unix のシェルは #!/usr/bin/perl(CR)(LF) から (LF) のみを除去して、 /usr/bin ディレクトリに perl(CR) というファイルを探しに行き失敗します。 #!/usr/bin/perl を #!/usr/bin/perl -- のように変更すると、アスキーモードでもうまく行くかもしれません。
セッション管理が難しいとおもうなら、「セッションぽい管理」から初めてはいかがでしょう。 例） xzkajekdas id1 ueiudekzam id2 quzuesikes id3 aiamelzilk id4 　　　： のような対応表を作っておき、認証後には、ランダムな文字のほうを引き渡し続けるようにします。 対応表を元に、ランダムな文字⇒IDとして読み換えることで、個人を識別できます。
自分のアクセスといっても、ブラウザから表示したページアクセスは、サーバー側にとっては、全て外からの通常アクセスです（ftpでのアクセス権を持ってる管理者かどうかは感知しない）ので、それが記録されているなら、そのcgiはちゃんと動いてると言うことではないでしょうか？ 気長に待てば、そのうち誰か検索サイトからアクセスがあると思いますけど。 IPアドレスの違う物が無いのが不安の要因なのかな？とも思うので、友人に、アクセスをお願いしてみるとか。ネット喫茶から、アクセスしてみるとか。してみては？
「smtp.yahoo.co.jp」が外部からのSMTP接続を無条件に許可するとは思えません。POP before SMTPもしくはSMTP認証が必要だと思います。でないとspamの踏み台にされてしまいます。 ＃自宅サーバからISPのSMTPサーバとかであればいいんでしょうけど。 sendmailが使えるならsendmailを使うべきです（他のSMTPに丸投げすべきではありません）。
実際に中身を確認したわけではありませんが、kakasi-2.3.4.tar.gz は kakasi のソースコードだと思います。 示されたリンク先を見る限りでは、Windows 用バイナリは kakasi-2.3.4.zip ではないでしょうか？
携帯は画面が小さいですからね・・・ 端末のほうで指定にかかわらず最小に表示するようになってるのかもしれません。 そもそも縦幅を広げる目的が複数行入力のためだとしたら <input type="text"> ではなく <textarea> を使ってみると、もしかしたら大きめになってくれるかもしれません。 （検証する環境が無いのでうまくいくかわかりません）
> 画像をアップロードするのは、不特定多数のウェブ利用者になり、 このあたりの回答は、 ・システム側はセッション管理を行うことで解決 ・画像処理に対するサーバーの負荷はスペックに影響 ということになります。 > また携帯からの利用にも対応したいので、 ・jpg,png,gifなど、一般的な画像形式は一通りサポートされています。 > メールに添付する形でアップロードを行い、 おそらくこの方法しかないでしょうね。 CGIからメールボックスに接続をしてメール受信し、添付ファイルから画像のバイナリデータを抽出するという手順で可能です。 メールボックスからメールを読み取るには Net::POP3　というモジュールで可能になります。 添付ファイル部分から、画像のバイナリデータを抽出するには、 MIME::Base64 というモジュールで可能になります。
PDFから画像を抽出するという視点ではなく、PDFをHTML化することで、画像もファイル化されるという方法があります。
http://qwik.jp/tritonn/about.html http://naoya.dyndns.org/~naoya/mt/archives/00163 … システムを作りこむのも、別アプリを設定するのも工数的にはさほどの代わりがないと思いますけどね... XMLデータベースにすればNamazuでもなんとかならないかな。
スタイルでいろいろできます。1em＝1文字分の大きさです。 横サイズ10文字、縦サイズ5文字分の場合 <input type="text" style="width:10em;height:5em"> フォントサイズで調整する場合 <input type="text" style="width:10em;font-size:50%"> パディングで余白を調整する場合 <input type="text" style="width:10em;padding:1em"> 組み合わせることも可能です。 ※ブラウザにより表示が多少違うのでご注意ください。
＃ごく簡単なものでもダメでしょうか？ そうであればパーミッションの設定が違うとかではありませんか（実行権限は与えていますか）。
ANo.1です。 検索は既に試されていたのですね、ごめんなさい。 「メール送信 携帯電話 CGI フリー」をキーワードにしたところ、いくつか出てきました。 # cgoレンタルとありますが、CGIプログラムを設置するという事で良いのでしょうか。
>レンタルcgiフォームメーラーで ということで「プログラミング」カテゴリ向けではないように思います。正直、自分で作るのであれば、どうにでも出来る話です。レンタルCGIを使っているからの制限事項ですから。 お使いのwebサーバは「CGI設置不可」なのでしょうか？そうでなければご自分で設置されることをお勧めします。その上で困ったことがあれば、このカテゴリで尋ねられればよろしいかと思います。
ざっと見た感じ、そりゃあそうだろうと思うのですが、 「SoftBank」の文字列がどこにもありませんよね。 J-PhoneもVodafoneも確かにソフトバンクですけど、それだけじゃ不十分というのはお分かりでしょうか？現行機種が入ってない事になります。 説明文を見た感じでは、プログラム自体がボーダフォン時代のものなんじゃないですかね。
試しにスクリプトの冒頭を #!/usr/bin/perl $| =1; print"Content-type: text/html\n\n"; open(STDERR,">&STDOUT"); と3行書き足してアクセスするとどうなりますか？ あと >Amazonのデータを取得し、HTMLに表示させる サーバーによってはCGIなどからの外部サーバーへの接続を禁止している場合も有ります 　(今はわからんけどRapidSiteは数年前そうなっていた)
No.1様の通りですが、少し付け加えさせていただきます。 入力フォームのHTMLページに、それぞれ隠しフィールドを設置することによって、どのページから送信されてきたかを区別することができます。 ＨＰＢ１１の場合ですと、フォームのエリアの部分を右クリックし「属性の変更」を選択します。次に「タグ」を「フォーム」にきりかえ、「隠しフィールド」タブにセットしてください。 名前と値があると思いますが、なんでもいいです。名前を name 値を 1 としておきましょう。(それぞれ、違うページには 2 3 …とつけます) そして、うけとる側のＣＧＩで調整をします。 フォームデータを受け取ると、要素が１つ増えています。 この要素によって、ページを分岐することが可能ではないでしょうか。 こんな感じで require "jcode.pl"; read (STDIN, $form_data, $ENV{'CONTENT_LENGTH'}); $form_data =~ tr/+/ /; $form_data =~ s/%([A-Fa-f0-9][A-Fa-f0-9])/pack("C", hex($1))/eg; @data = split(/=/, $form_data); @data1 = split(/&/, $data[1]); @data2 = split(/&/, $data[2]); @data3 = split(/&/, $data[3]); ・ ・ ・ とわけていくと、要素を$data1[0]・$data2[0]…と簡単にわけれます。 ここでif関数で分岐すればよいかと。 if ($data**[0] eq "1"){ print <<HTML; ************** HTML } その他にも効率よいやり方はいろいろあると思いますので、研究してみてください。 それと文字化けする件ですが、あいだに「\」を入力することによってなおせます。たとえば、「申\込」とか。
もともとのテーブルの文字コードにあわせないと解決しませんし よくわかりませんがなんかエラーが出ましたとか言われましても どんなエラーがでたのかわかりませんよ？ もともとの文字コードはなんだったのか？どんなエラーが出たのか教えてください。 phpMyAdminでも文字化けしているとの事ですが、phpMyAdminで設定している文字コードもあっていないとダメです。 解決のヒントは文字化けしている文字がどのコードの文字なのか判明させる事です。
まず、仕様を固めてください。 重複防止の手段は？ 　　・一定時間内の同一IPは重複とする 　　　　IP以外の情報（UserAgentなど）も含めてチェックするかどうか 　　・一定時間保持のCookieを出して、Cookieの有無でチェックする
状況的には #2 に書いた http://q.hatena.ne.jp/1120403127 （mobile外しました）の #4 と同じ気がするんですが… DirectoryIndex index.html index.cgi cgi-bin/index.cgi と /home/w/WYTIS002827/htdocs/.htaccess または httpd.conf へ書いてみても駄目でしょうか？
レンタルのサンケートシステムなら発行されるタグを、ご自身のhpに貼り付けるだけです。 参考urlは一例ですが「清き一票」というアンケートシステムです。 これはftpでアップロードした後にパーミッションの設定をし、cgiファイルにアクセスするとアンケートが表示されるタイプのものです。 hpのデザインに合わせてサイズ変更することも可能です。 一度cgiファイルを開いて研究されるといいかと思います。 cgiは素人にはとっつきにくいですから根気がいりますよ。 参考URL：http://www.futomi.com/library/kiyoki.html
sendmailではなくてsendmane.exeだから
パーミッションはCGI提供サイトと、 レンタルサーバーで異なる場合があります。 644や755を604や705など、グループの値を0にすると 動く場合もあります。
>kent-webを流用しています。 どのCGIか書かれていませんが、たとえばpostmailであればpostmail.cgiの111行目の 　　$max_field = 300; の値を変えてみればどうでしょうか？
曜日で内容をちょこっと変えるぐらいならCGIやphpを使うまでもなく、SSIで出来ますね。 SSIが利用できる。 拡張子がshtmlになってもかまわない、またはhtmlのままSSIを適用できる(htaccessが使える)。 って条件が揃えば、ですが 例) <!--#config timefmt="%a" --> <!--#if expr="$DATE_LOCAL = 'Mon'" --> 月曜の内容 <!--#elif expr="$DATE_LOCAL = 'Thu'" --> 木曜の内容 <!--#else --> 以外、の内容 <!--#endif --> http://www.tohoho-web.com/wwwssi.htm http://mikeneko.creator.club.ne.jp/~lab/web/htac …
> 逆にこれはフリーなのかどうか調べるサイトってご存知ですか？ 探せばあるかも知れませんが、既知の物を順次登録していっているだけでしょう。 新しいアドレス（ドメイン）がフリーかどうかを調べるのは、たぶん無理です。 フリーだから禁止というのではなく、 どのアドレスだから許可、またはどのアドレスだから禁止という感じで１つずつチェックするのが確実だと思います。 たとえば@yahoo.co.jpや@nifty.comなど、 いわゆるプロバイダーメールアドレスとフリーメールアドレスが同じドメインも禁止にすると、 YahooBBやNiftyを利用されている方は全て禁止することになります。 また、YahooBBから提供される初期アドレスは、"ランダムな英数字@yahoo.co.jp"です。 > できましたらフリーだけでなく間違いもエラーが出るようにできるんでしょうか？例えばドットがひとつ抜けただけでもとか・・・ できません。 @user.mail.example.com @usermail.example.com もし両方存在するドメイン（サブドメイン）なら、両方正しいアドレスだからです。 http://www.atmarkit.co.jp/bbs/phpBB/viewtopic.ph …
Perlはテキストを扱う処理なら何でもありですが、（実際はバイナリデータも扱える） Perl解説書とすると、CGIアプリケーションは作れないのか、ということになると思います。 特にHTMLの出力や、HTMLフォーム/HTMLアンカーからの受信やメールなど、CGIアプリケーションとしての専用の処理が必要になりますが、 そういう処理はPerl解説書には載っていません。 （PerlアプリケーションのサンプルとしてCGIアプリケーションを作っている解説書もあります） PHPはどちらかというとWeb用の言語ですし、わざわざCGIと銘打たなくてもPHPだけでWeb用の解説書だと理解してもらえるため、 CGI/PHPという書き方はしていない物と思われます。 また、広く一般的に「PHP」という言葉が使われているため、 「CGI/PHP」と書くと、「PHP」とは別の言語なのか、と思われる方もいらっしゃるかも知れません。 マーケティングとかそう言う方面のカテゴリーで聞かれると、その関連の回答が得られるかもです。 個人的にはCGI、ASP、Apacheモジュール、SSI（Apacheはモジュールで実現している）、Servlet等を全てひっくるめて、「CGI」または「CGIなど」と呼んでます。 そのプログラムは、スクリプト言語ではない言語で作ることもありますから、CGIスクリプトではなくCGIアプリケーションと呼んでます。 WebアプリケーションというとJavaScriptやFlash、JAVAアプレットなど、クライアント側（ブラウザなど）も含めることになると思います。 どうでもいいが、キーボードを替えたら打ちにくくてかなわない・・・
705でもだめでしょうか？
index.cgi?id=○○で正確なout数を把握したいと思われているようですが そんなのはいくらでも偽造できますよ？ それよりもロリポップにはアクセス解析がついてないんですかね？ アクセス解析を見ればそのランキングサイトから何回飛んで来たのかが【正確】にわかりますよ。
携帯電話の個体識別情報を取る場合は 送信側の携帯に個体識別情報を送信するか確認画面が出たり 送信側が個体識別情報を送信しないと設定していると送信されませんのでイタズラメール対策としては有効ではありません。 書いていないのでわかりませんが あなたがメールフォームをパソコンで設置して 書き込む側は携帯電話で書き込んでいたとします。 その場合はメールフォームに禁止ワードやIDなどによる拒否相手を設定してフィルターするしかないでしょうね。
Byte Order Mark という特殊な一文字 ・・・ソフトによっては対応して無いけどね
Bcc: $administrator ――の方が良いのでは。 掲示板投稿者に知られても構わないのであれば、Toでも良いですが。
http://www.google.co.jp/search?hl=ja&lr=lang_ja& … sendmailへのパスが間違ってるとか　そういうオチじゃなくて？
#1です。 文中「Pearl」とあるのは、「Perl」の誤記です。 失礼しました。
CGIの中で、その$mailtoにセットされている内容をどう使っているかを見ないと確実なことは言えませんが、一般的には 　　$mailto = 'xxx@example.com, yyy@example.com'; などとカンマで区切って書けると思います。ただしそのままの内容がToにセットされるCGIが多いでしょうから、2通に分けたいとか（Bccとして）隠したいということであれば、送信部分をカスタマイズすることになります。
「端末暗証番号」とは何でしょうか？ 各キャリアとも端末を特定するための固有番号の取得方法はありますので、キャリアのサイトで確認してください。 docomoだとフォームにutnだったかな 　　http://www.nttdocomo.co.jp/service/imode/make/co … 　　http://www.nttdocomo.co.jp/service/imode/make/co … AUは以前はサブスクライバIDだったけど、今はどうなってますかね（ちょっと追いかけてません）。 　　http://oshiete1.goo.ne.jp/qa3794605.html
> この必須項目を送信側が選択出来るフリーのメールフォームCGI …と仰っているのは、 1. クライアント側（送信側）で画面上から「どの項目を必須にするか」を（わざわざ）任意で選ばせる。 2. 入力させ、仮にそのユーザ自身が必須として設定した項目が未入力だったらエラートラップに引っかかる。 3. 2の段階がクリアになったら送信される。 という様なイメージですか？もしそうであれば、単純に考えるとちょっと意味不明な仕様だと思いますが。 こういう仕様を「敢えて」一から作成しようとすれば不可能ではないとは思いますが、わざわざそれをするメリットというのが見当たりません。 > 例えば「メールアドレスは教えても良いけど電話番号は教えられない人」と「メールアドレスは教えたくないけど電話番号は教えてもいい人」 上記の様な場合は通常はスクリプト側（つまりクライアント側ではなく、サーバに設置する側）で、予め1つのフィールドに対してではなく複数のフィールドに対して条件分岐をさせることで対応しておくでしょう。つまり、項目A or 項目B or 項目Cの内、いずれか1つ以上のデータが入力／選択されていなければNG（送信できない）、というエラートラップを設定しておくという事です。 そういう仕様でなければ結局、 > まぁ必須項目を無くして、一文「いずれかを入力してください」と入れておけば良いだけかも知れませんが・・・ となってしまい、場合によっては自分が（最低限）必要としている情報を含まないデータを受け取る事になるかもしれないからです。 ですので、これらの理由により、 > 私自身、CGI等の知識が皆無なものですから、フリーソフトで対応しないと設置できないのです。 > できますれば、スクリプトを「書く」よりも、既存のフリーソフトがあればいいなと思っています。 と仰っていますが、ご希望の様な仕様を簡単にカスタマイズできる様な既存のスクリプトというのはちょっと望み薄ではないかと。 一番多く提供されているのは、やはり単一の項目毎に対してどれを必須にするかという事を設置する側が任意で決めておける、という仕様のスクリプトでしょう。どうしてもご希望の様な仕様にしたければ、ANo.2の回答者様の仰る様な解決策しかないと思いますよ。
作りたい・・・ってのは、設置したいって事ですよね。 いくらでもあると思いますよ。 http://www.core-p.com/cgi-search/search/search.c … も、 http://www.core-p.com/cgi-search/search/search.c … も、そうかな。 http://www.yumemaboroshi.net/ http://www.core-p.com/cgi-search/ http://piece.s201.xrea.com/ この辺で探してみると、なおお好みの物が見つかるかもしれません。
・　間違いが幾つかありましたので、 　　以下のコードを参考にしてみてください。 ------------------------------------------------------------ <html> <head> <script type="text/javascript"> var a=10; var b=20; document.write("<form name='form1' action='p_query.jsp' method='post'>"+ "<input type='hidden' name='state' value=''>"+ "<input type='hidden' name='state2' value=''>"+ "<input type='button' value='送信' onClick='tocgi(a,b);return false;'></form>"); function tocgi(n1,n2){ document.form1.state.value=n1; document.form1.state2.value=n2; document.form1.submit(); } </script> </head> <body> <h1>TEST</h1> </body> </html>
アクセスカウンタとは別の、メール送信数専用カウンタを新たに作る、ということなのですが、認識は合っていますか？
どのような警告でしょうか？　アクセス解析のcgiがhttp://なら、sslのページの中にsslでないものが含まれているという警告がでると思いますが、それならcgiの記述もhttps://にすれば警告は消えるはずです。
#1さんに加えて。 >2. 投稿フォームなんかはbbs.cgiに向けてpostしていたら、スクリプトやテンプレートの改造が必要になるかもしれない。 スクリプトによってはこれは不要かもしれないし、 設定部分をいじる必要があるのかもしれない。要はスクリプトしだい。
コマンドラインでPHPが実行できる環境で、尚且つWEBからのアクセス権限でパスが通っていてPHP本体が実行可能でさらに「sample.php」にPHP呼び出しの命令があれば(Perlで言うところの「#!/usr/bin/perl」みたいなの)可能だと思いますが でもほんとはこうしたかったりするんじゃないでしょうか？ ********************************** #!/usr/bin/perl print "Location: ./php/sample.php\n\n"; exit; **********************************
> ビルダー11でフォームを作成したのですが、フォームはここで作成するのではないのでしょうか？ > もしそうなら、ただ単に作成するだけではだめですよね、それが分からなくて。 いや、別に作成に使うのは何のオーサリング・ツールでもテキスト・エディタでも構わないのですが… 質問者様はビルダーをご使用との事ですのでお聞きしておきますが： ・デザイン・ビューではなく”実際にHTMLコードを見て”編集できるか？ ・"<form>"タグを使用する入力画面を今までに作成した（<form>とその各部品のタグを用途をわかった上で扱える）事があるか？ もしもこの2つとも未経験、特に前者ができない様であれば、残念ですが私は回答は致しません。私自身がビルダーを使用しておりませんし、コードを直接編集する以外の方法を取らない為、「ビルダー11でのデザイン・ビューでのフォームの作成の仕方」を具体的にお教えすることができないからです。後者であればフォームの書き方を一からお教えしなければならない事になってしまうので、（この様なやりとりの場では）ちょっとそれは勘弁して下さい。 > postmailのフォームのどの部分を変更すればいいのか全く分からなくて、やはりムリなのでしょうか？初心者には。 少なくとも先述した様な条件がクリアできているのであれば、postmail.cgiの様なお膳立てされたスクリプトの使用なら無理ではないと思うのですが、どうもレスの内容を見ていると、失礼ながらそれ以前の段階にいらっしゃる様にお見受けされますので、かなり厳しいかもしれません。 まず、HTML文法の解説本なり解説サイトなりで、<form>周りのコーディングの仕方について、よく理解をされる事をお奨めします。それが理解できれば、カスタマイズは容易になる筈です。 ※なお、ビルダー11での具体的な操作法をお聞きになりたいのであれば、このカテ（[技術者向] コンピューター > プログラミング >）ではなく、「デジタルライフ > ソフトウェア > ホームページ作成ソフト」のカテの方が相応しいでしょう。
先ずは、過去の質問／回答を緑色枠の窓に「Perlパス」と入れて検索しましょう。 --------- cgiファイルをテキストエディタで開いて、１行目にあるPerlのパスを下のいずれかで試してみて下さい。 #!/usr/bin/perl #!/usr/local/bin/perl
ANo.1です。 旧URLのcgi変更をアドバイスした目的（旧URLのperlgate.cgi）は、本来のperlgate.cgiを動作させるものではなく、単に新URLへ飛ばす為のcgiです。 ※変更アドバイスした内容の変数（少なくとも$newurlは、適切な新URLに）設定されましたか？ ※従って、旧URLのサイトには必要なディレクトリと内容変更したperlgate.cgiだけ置いておけば良いという事です。 ◎39callさんのサイト内容が分かりませんので、私が勘違いをしているのかもしれませんが、Yahoo検索から旧URLのperlgate.cgiへアクセスされた方を、新URLへ自動転送させるというものです。
> ・既存のページにメールフォームを埋め込めるもの（デザインは既存ホームページのものを利用したいので） kent-webさんのpostmail.cgiも基本、そうだと思いますが。エンコーディングさえShift_JISで合わせておけばHTMLの方のデザインは如何様でも関係ありませんので。 > ・文字化け対策済み 他のメールフォームCGIであっても、エンコーディングの面で矛盾したHTMLファイルを組み合わせてしまったら文字化けすると思います。 http://www.kent-web.com/data/postmail.html 上記で提供されているファイルはエンコーディングがShift_JISとなっています。 質問者様がカスタマイズされたHTMLもShift_JISになっており、設置の手順に間違いがないのであれば文字化けは起こらない様に思われますが… とりあえず、HTMLをカスタマイズしたものではなく、提供されているテンプレートのままで一度サーバへアップして検証されてみてはいかがでしょう？ もしそれで文字化けが起こらない様であれば、やはりカスタマイズしたHTMLのエンコーディングに問題がある可能性が高いですし、そのままで文字化けが起こる様であれば、HTML側ではなく他の部分（環境や設定等）に原因があると推測できるのではないでしょうか。 「長時間頑張ってみましたが文字化けは解消でき」なかった対策の中に、上記が既に含まれているのであればこの回答は無視して下さい。
CGIPathやStaticWebPathというのは、テンプレートタグやCGIファイルと連動します。この値を元に、スタイルシートへのリンクやトラックバックURLを出力したり、コメント投稿画面へ飛んだりします（mt-mail-form.cgiへのURLもこれによって決まる） テキスト表示になるのは、StaticWebPathの値を元に静的ファイルに出力される外部スタイルシートへのリンク（mt-staticディレクトリへのパス）が通ってない（=StaticWebPathが適切でない）ためです。 一番楽な方法は、どちらもさくらのアカウントで指定することだと思います。 例えばサーバーのmtディレクトリにMTのシステムをインストールした場合、 CGIPath http://example.sakura.ne.jp/mt/ StaticWebPath http://example.sakura.ne.jp/mt/mt-static/ となります。 ただ、コメント投稿画面やプラグインのCGI、トラックバックURL、そしてソースの中のスタイルシートやjsファイルへのリンクは、さくらのアカウントURLが使われるということになります。（体裁がよくないだけで動作に支障はないと思います） 体裁を気にするのでしたら、難しいかもしれませんが 「さくらインターネットで、ひとつの Movable Type を使って、複数ドメインのブログを構築する方法」 http://smashmedia.jp/blog/2008/03/001139.html 「複数ブログのトラックバックURLを、ブログごとの独自ドメインで公開する方法」 http://blog.aklaswad.com/2007/000107.html このあたりの話が参考になるのでは。 ※サイト（静的ファイル）を確認される場合は、必ず再構築を行ってください。mt-config.cgiの値が変わると、テンプレートタグが出力する値も変わるので。
例えばpublic_htmlにあるcgi-lib.plというライブラリを、/aのディレクトリ内にあるxx.cgiから呼び出す場合のxx.cgiでの記述↓ require '../cgi-lib.pl'; ではダメですか？
/cgi-bin/xxx/diary.cgi や /cgi-bin/diary.cgi cgi-binディレクトリにcgiはアップしますよね。 直接、○○.htmlと呼び出しても、htmlは表示できませんが スキンで、diary.cgiで呼び出した場合 htmlはcgi-binディレクトリに入れておいても、かまわなかった気がします。 （できないなら、cgi-binディレクトリには入れないでください） ただし、画像を入れる、フォルダを、新たにつくります。 cgiを編集するとき 画像フォルダの指定をしますが '/public_html/xxxx/upfile/'; などとしてあげれば、いいです。 どのスクリプトを使おうとしているのかわかれば もう少しアドバイスはできるかと思いますが 現在、wakwakサーバーは解約してしまったので、確実とは言えないのですが。
試していませんが、下記ではないですか？ <img src="mcnt.cgi?type=hide">
有料ですが商用利用で著作権非表示料が安いこちらのサイトなどいかがでしょうか。 futomi's CGI Cafe http://www.futomi.com/library/mpmails.html 商用サイトですと\2,100です。 機能によって3バージョンあるようです。 http://www.futomi.com/library/mpmail_compare.html 参考URL：http://www.futomi.com/library/mpmails.html
ANo.4に誤記がありました。(6)に「$from」とあるのは、「$form」の誤りでした。 失礼しました。 誤：　(6) 90行目（$from～）から93行目(空行)まで削除 正：　(6) 90行目（$form～）から93行目(空行)まで削除
「テスト環境用」ということであれば、メールサーバとして「XMail」をインストールすると、コマンドラインで使える「sendmail.exe」が同梱されています。 http://xmailserver.jp/documentation/
ANo.1です。 表示したい元データが各サーバに分散されているということですね。各サーバでそのデータへのhttpでのアクセス許可と適切なmimeタイプの設定（text/plainでいいと思います）をしてやれば可能です。ただし利用するCGIを設置したサーバに限定するようにしておきたいと普通の製作者なら思うでしょう。そのあたりをキチンと説明すればいいと思います。 データを持っているサーバ側の設定さえ出来れば、使う側は簡単ですね。ただphpならallow_url_fopenになっていればファイルアクセスと変わりませんが、Perlだと自前のsocketを使ってhttp通信から書かないといけないかもしれません。多分適切なライブラリがあったとは思いますが、Perlは門外漢なので（汗
#1です。 ＞XMLHttpRequestというものを使って実装すれば はい。 ただ、ブラウザ間の実装の違いなどがあるため、その辺りの問題を解消し、 かつ、付加機能を付けたライブラリ(prototype.js,jQuery.js等)を使う場合も多いです。 例えばjQueryを利用した場合、 http://www.mikage.to/jquery/jquery_basic.html こちらの「6.Ajax」のサンプルのようにファイルからの読み出し、ページ内の一部を書き換えて表示、という機能が非常にシンプルなコードで実現できます。 （サンプルはクエリ固定で呼び出していますので、実際にはページの制御などを加える事になります）
また具体例忘れてました。 出力HTMLの先頭にMETAタグで <meta http-equiv="Refresh" content="15;URL=http://www.test.com/パス/cgiY.cgi"> などとすれば表示１５秒後に指定のCGIにとびます。 追伸： 前の回答でREFRESHのつづり間違えてました。スイマセン。
No.1です。 それでは、以下はいかがでしょうか？ 1．rubyへのパスはあっているか？ 例）#!/usr/bin/ruby 2．サーバー設定でファイルの拡張子がrubyを実行する様になっているか？ 辺りを確認してみて下さい。 参考URL：http://rubycgi.org/
> ソースをみると<form method="POST" action="http://～"> > となっていますが、これを県twebさんのものを同時に使用することは可能でしょうか？ 自ら引用された http://www.kawa.net/works/ajax/ajaxzip2/ajaxzip2 … に、ちゃんと「既存 HTML の住所入力フォームをたった3行書き換えるだけで利用できます。」と書いてあります。 actionのところに、現在使用しているスクリプトのパスが入る、という意味です。 > また、これって難しいですか？ http://www.kawa.net/works/ajax/ajaxzip2/ajaxzip2 … に詳細な手順が書いてあります。質問者様にとって、この手順が「理解」できる様であれば「難しくはない」という事になるので、トライしてみれば宜しいでしょうし、「理解」できないのであれば現状では「難しい」のでしょうから（できる様になるまで）やめた方が宜しいでしょう。
CGI を変更するのに何を使っていますか。 notepad でしょうか。 > 他のＣＧＩとの違いをあえて言えば、このＣＧＩプログラムは改行され > ずに書いてあります。 とのことですが、意図的に改行しないで書いたとは考えにくいです。 Linux で作成したテキストを Windows の notepad で開くと、OS の 改行コードの違いから、複数行のテキストが 1行になります。 notepad ではなく、例えば 秀丸を使用して開くと改行コードの違いを 認識し、正しく表示してくれます。 秀丸のようなエディタで編集してみてはどうでしょうか。
いずれにせよサーバーが無ければ動きませんよ。 セキュリティについてですが、ネットワークやサーバーそのものに対するセキュリティはプログラム(CGI）には関係ありません。 プログラムの記述ミスやセキュリティに甘い記述をしていれば、簡単にハッキング/クラッキングされます。 つまり、 ・ネットワークのセキュリティ ・サーバーのセキュリティ ・プログラムのセキュリティ これら全てが強固でなくてはなりません。
超能力で推測すると、 SwapImg で文字化けでもしてるんじゃなかろうか。
的をはずしていたらスイマセン。 絶対パス指定のつもりがバーチャルサーバなのでフルパスが見えていなかったりしてるのではいのでは。 面倒でも相対パスで指定してみてください。 もし、絶対パスが知りたいのならFUTOMIもサーバアナライザを使ってみるのも手かもしれません。
その迷惑メールが機械的に送られているのならば、そのフォームに 今日の月日を入力してもらうフィールドを追加して、メールを送信 する前にそれをチェックして本当に今日の日付に間違いないかを 判断してから送信すれば、プログラムからの迷惑メールの送信は 止まると思います。
愛用品はhttp://www.web-liberty.net/download/diarypro/ind … です。多機能で設置も難しくないので初心者の方にも親切です。 データベースも含めるならMovableTypeもいいですが、個人的にはWordPressの方がさくさく動くのでオススメです。
googleで「携帯電話　アクセス解析」で検索するとかなり上の方に出てきたこのサイトをご一読ください。 http://markezine.jp/a/article/aid/1511.aspx リファラが取れない機種があるので、リンク元、検索エンジン・ワードの解析は完全にはできないそうです。 携帯電話だとしても普通にHTTPでの通信なので、携帯の端末情報を判別してくれる機能を持った普通のアクセス解析CGIで要は足りると思うのですが、どうしても携帯電話専用が良いのであれば、「携帯電話専用　アクセス解析」で調べてみては如何でしょうか？ 参考URL：http://markezine.jp/a/article/aid/1511.aspx
　テキストボックスにHTMLタグが入力されていたのであれば、クラッカーにCGIを試された可能性が大きいです。 　入力確認画面表示時にタグが効けばサーバ側で実行可能なスクリプトを埋め込んだりして悪いことができるケースがあります。 　CGIのセキュリティ対策(クロスサイトスクリプティング対策など)ができているかよく確認したほうがよいと思います。 　CGI製作現場では試験時に、でたらめな記号文字、異常に多い文字、機種依存文字、JavaScript、HTML、PHP、外部サーバからの呼び出しなどかなり邪悪な方法で異常が生じないか試しますのでチェックしてみてください。
Jcode.plなら読み出しだけですから600が妥当だと思います。 また、ご利用の「サーバ」のCGI/パーミッションの説明を調べてみる事をお勧めします。 パーミッションの設定はCGI配布元の推奨値よりはサーバの推奨値を優先します。 例えばスクリプト本体(.cgi)のパーミッションも755より制限しても(701とか)動作し、それが推奨されている場合も多いです。
http://d.hatena.ne.jp/Mars/20071109 とか。 「連動 select」「連動　プルダウン」とかで検索すると色々みつかります。
それはCGIではなくてJavascriptの領分です。 例） <select ～ onchange="this.form.submit()">
なぜ配布元に直接訊かないのですか? 第三者が判断したって、配布元がどう考えてるかなんて関係ないじゃないですか。
27行目の chmod($filename, 0666); を # chmod($filename, 0666); としてみてください。 もしくは、 chmod($filename, 0707);; ですかね？
うーん、有料でかまわないとのことですが、ヨミサーチは広告が入らないと思います。大抵のフリーCGIは広告が入りません。 今まで広告が入る無料のサーバーに設置してご利用だったのでしょうか？それで安定したサーバーを知りたいとのことでしょうか？ それとも有料のいわゆるシェアウェアのいいサーチ（CGI）を知りたいとのことでしょうか？ もしくはレンタルタイプの有料CGIですか？ お手数ですが、返答お願い致します。
＞3番はCGI設置代行等で金をとるな、 ＞4番は使用料などをとるな、というニュアンスなんでしょうが、 そうですね。 ＞1番と2番は具体的にはどういうことになるでしょうか？ ＞多分1番はレンタルサービスでお金をとるな、 そうですね。 ＞2番は無償レンタルサービスを行い、 ＞そのレンタルページに自分の広告を乗せて ＞利益をえるな、という意味だと思っております。 「自分の公告」に限りません。自社、他社の公告などを掲載する事により「間接的に何らかの利益を得る行為」を制限しています。 つまり「ＨＰに当社の公告バナーを貼ってくれたら、報酬を払います」などの他社アフィリエイト・サイトのバナーを貼るのも該当します。 制限の１～４は「直接的にも、間接的にも、どんな形だろうが、このＣＧＩを利用して、利益を得るような行為は一切するな」と言う事なのでしょう。
ブログでなく、ＨＰ（サイト）ですね。 ブログならブログペット（ http://www.blogpet.net/ ）なんかをお勧めするのですが。 最近では、ブログパーツなるものが流行っています。手間はかかっても作るのは好きというならお勧めです。なんとか占いとか脳内メーカーとかも流行りました。また最近のＰＣでは、閲覧するとしゃべるサイトも製作可能だそうです。 また、珍しい路線では、Linux Zaurusで動くことを前提としたJava作品などはあまり見かけませんし、アスキー文字のみで作るJavascriptゲーム・ジョークプログラムなどもあまり見かけません。 レンタルサーバーでは難しそうですが、Ｗｅｂ上でユーザーが、手持ちJPEG４枚を使って、４コマ漫画フラッシュ動画作成のページとかも、作れなくはなさそうです。 面白そうなものは、アイデア次第でまだまだ出てくると思います。
MT管理画面、設定の ・サイトURL ・サイトパス mt-config.cgiに書かれている ・CGIPath はそれぞれどうなっていますか。（個人情報になる部分は伏せで結構です） ※「サイトを見る」は「サイトURL」と連動しています。 静的生成ファイルは「サイトパス」で設定された場所に生成されます。サイトURLとサイトパスが合ってないのではないかと想像するのですが…。
>>データがどこで受け渡されているかも 　フォームHTMLからCGIがデーターを受け取って処理する場合、例えば以下の2つがあるように思えます。 1) if ($ENV{'REQUEST_METHOD'} eq "POST") { 　read(STDIN, $buffer, $ENV{'CONTENT_LENGTH'}); } @pairs = split(/&/,$buffer); foreach $pair (@pairs) { 　($key,$value) = split(/=/,$pair); 　$key =～ tr/+/ /; 　$key =～ s/%([a-fA-F0-9][a-fA-F0-9])/pack("C",hex($1))/eg; 　$value =～ tr/+/ /; 　$value =～ s/%([a-fA-F0-9][a-fA-F0-9])/pack("C",hex($1))/eg; 　・・・・・・ 　・・・・・・ 2) 「cgi-lib.pl」などのライブラリーを併用して、 require './lib/cgi-lib.pl'; &ReadParse(); $value =～ s/&/&amp;/g; $value =～ s/"/&quot;/g; $value =～ s/</&lt;/g; ・・・・・・ 　・・・・・・ 片方が頼んでもらったcgiで、もう片方が本に載っているのとか？
この本が参考になると思います。 FlashとCGIとの連携がかなり詳しく解説されています。 http://www.amazon.co.jp/ActionScript-CGI%E3%83%9 …
2です。 絶対パスが無難なので、フルパスが「/home/hatena/search.cgi」ならば <form method="GET" action="http://www.aaa.aa/hatena/search.cgi">ではないでしょうか。 「/home」の直下がwwwルートだった場合。
&errer("ポイントが不足しています。");　のところで、$in{'price'}と$in{'point'}も表示するようにしてみたらどうなりますか？
絶対パスと相対パスは、ディレクトリ（フォルダ）の位置をあらわすあらわし方の違いをいいます。 絶対パスとはディレクトリ構造の一番上（ルートディレクトリ）から目的のディレクトリまたはファイルを表記したもの。（パスのはじめは"/"から始まります。） 相対パスとは今いるカレントディレクトリからの目的のディレクトリまたはファイルを表記したものです。（基本的には、パスのはじめが"./"またはディレクトリ名から始まります） CGIの場合は、CGIプログラムをおいてあるディレクトリがカレントディレクトリとなります。 例として、自分のホームディレクトリが"/home/hatena"であった場合で、この下にサブディレクトリ（CGI_home）があるとします。 CGIプログラム（hate_CGi.cgi）はこのサブディレクトリのCGI_homeにあります。 この場合で絶対パスと相対パスは以下のようになります。 絶対パス："/home/hatena/hate_CGI.cgi" 相対パス："./hate_CGI.cgi" これは好みによりますが、 基本的にはサブディレクトリ内でCGIが閉じるのであれば、相対パスを使用していたほうが、後にディレクトリを移した場合でもそのまま使用できるので、私は相対パスを使うようにしています。
１００％は、無理でしょう。やっぱり。 えーと、ファイル全体を暗号化？偽装する方法があったような気がするのですが、忘れてしまいました。（うろ覚え。 ↑すいません、詳しい人がいたら、教えてあげてください。 古典的な方法としては、改行をなくして、スクリプトを２行にして、パクられ防止にするとか、著作権表示部分を、変数にして、スクリプトに組み込んで、正否を判断させるとか。 メタタグを、特殊なワードにするとか。 メタタグの内容を変数にして、スクリプトに組み込んで、正否を判断させるとか。 設置先のアドレスを入れさせて、それがあっていないと、動かないようにするとか(ＰＨＰ本体を、ＰＨＰスクリプトで変更させる)、あとは、メールを送信さえるとかかなー。 自分の位置はＰＨＰでわかる訳だから、それをこっそりメールさせれば、分かると言えば、わかるか。 定期的に、パスワードを入れないと動かないようにするとか。ｗ 年と月のハッシュ値を、入れないと使えなくなるとか。 でも、ＰＨＰは、配布する以上中身が見えちゃいますので、パクられるのは多少は覚悟ですかねー。 かくゆう私も、パクるまでは行かなくても、参考にはしていましたし。
まず、言語を決めてください レンタルサーバーなどで運用するのであれば、そのレンタルサーバーで動作できる言語を選択することになります CGIは動作するための仕組みや概念の名前であり、言語名ではありません。 言語を決めたら、その言語を習得してください そうすれば作れます。
実際に使ったことは無いので適切かどうかわかりませんが・・・ shiromukuさんのCGIでしたら、「config.txt」で指定しているのではないでしょうか。 もし「config.txt」を使用していれば、ファイル内を「stylesheet」で検索して、STYLEの指定値「font-size:XXpt」を変更すれば良いかと思います。
拡張子が「.php」なので、cgiではなくてphpだと思います。 cgiだと拡張子が、.cgi .plとかです。 >>何かの配列みたいな感じがしますが 　これはディレクトリ(フォルダやファイル)の配置例で、 ------------------------------------------ ├ ××××.php（本体ページ） │ +└ 【cutlinks】 　│ 　│ 　├ index.css 　│ 　├ index.php 　│ 　├ manager.css 　│ 　├ manager.php ------------------------------------------ は、本体ページの××××.phpと同じディレクトリにフォルダ「cutlinks」があって、「cutlinks」の中に、index.cssや index.phpなどが入っていることだと思います。 　良い解答が得られませんでしたら、カテゴリー違いですので、phpの方で改めて聞くのが宜しいかと思います。
>おそらくフリーのブログか何かを使っていたと思うのですが、 blog.cgiに何か参考になるような記述はありませんか。普通は配布サイトのURLをかBlogの名前とかがコメントされていると思いますが・・。 おそらく全部相対パスでアクセスしているとは思えないので、設置URLやサーバパスの記述などを書き替えないといけないと思いますが、提示された情報だけでは何とも言えません・・。
どのくらいのレベルなのでしょうか？ サーバはあまり詳しくないのですが、サーバ運用、Ｌｉｎｕｘ、Ａｐａｃｈｅ、ＰＨＰの知識は必要かと。＾＾； というのも、フリーのスペースでは、他人への譲渡やレンタルを禁止していると思うので、無理かと。 そうなると、自分でサーバを運用するか、サーバを有料でレンタルするかと。 あう言うのって、どういう仕組みになっているかは分かりませんが・・・、オブジェクト指向で、似たようなのを作っているのではなく、Ｗ２Ｋのグループと、デフォルトユーザみたいな感じで、新しくユーザーを作ると、初期の設定がコピーされるんだと思いますよ。 ブログだったら、Ｘｏｏｐとかでいけるのかな？ こちらの方がまだ、デフォルトで用意されているので、・・・、どうでしょう。 あとは自分で調べてみてください。 とりあえずは、ローカルサーバで検索かなー。
うーん、一通り探してみましたが、その掲示板を使用されているどのサイト様からもリンク先が切れていたので、現在は配布されていない可能性が高いように思われます。 なお、全く同じではないのですが、似たBBSを存じていますので、もしかすると使えるかもしれません。一応、参考までに配布先のサイト様をあげておきますね。 http://paoron.jp/ （掲示板名　Step Bank） http://www.cj-c.com/ （有名なツリーBBSがあります。アイボードの方が初期設定にて各記事の種類を選べるように設定でき、近い感じにできるようです）
>やはり入力画面から確認画面は同じデザインで、エラーがある場合は横や上に >赤文字が出るような感じにしたいので、勉強します。 そうですね・・。私も自分が作るときはそんな感じにします（汗）。そういうパターンは（多分）phpの方が作りやすいです。自分では書けるけど「解説しているサイト」ってあまり見た記憶がないし、さりとてここで書ける分量では限界があるし・・。
ホームページのソースコードの辿り方を覚えるといいかも知れません。 ここでは、<dl><dt></dt><dd></dd></dl>が使われているようです。 以下を参考にしてみてください。 ---------------------------------------------------------------------- http://www.good-zakka.com/のソースコード ---------------------------------------------------------------------- <dt class="news_site"><a href="http://pyonpyoko.sumomo.ne.jp/" target=_blank>ぴょんぴょこ堂</a>...2008/03/09</dt><dd class="news_com">新作和風ピアスUPしました♪</dd> <dt class="news_site"><a href="http://freett.com/bsmarket/" target=_blank>BACKSTREET MARKET</a>...2008/03/09</dt><dd class="news_com">オリジナルキャラクターNUCK５ひきupです☆★</dd> <dt class="news_site"><a href="http://www.natural-zakka.co.jp/" target=_blank>ナチュラル雑貨店 Natural Comfort Life</a>...2008/03/09</dt><dd class="news_com">カフェラテ　スクエア　ランチボックス</dd> <dt class="news_site"><a href="http://murachan-ya.com/" target=_blank>handmade shop * 村ちゃん屋</a>...2008/03/09</dt><dd class="news_com">stamp sale キャンペーン♪</dd> <dt class="news_site"><a href="http://comfort-life.seesaa.net/" target=_blank>Chouette シュエット</a>...2008/03/09</dt><dd class="news_com">ラッキー日和　ランチボックス</dd> <dt class="news_site"><a href="http://www.kriti.or.tv/shop/" target=_blank>クリーティ　クリエイション</a>...2008/03/09</dt><dd class="news_com">パッチワークリネン手さげバッグをＵＰしました</dd> <dt class="news_site"><a href="http://www.eonet.ne.jp/~sugarbrown/index.htm" target=_blank>sugarbrown</a>...2008/03/09</dt><dd class="news_com">たて長台形バッグ、エスニック柄</dd> <dt class="news_site"><a href="http://babyflower.jp" target=_blank>Baby Flower</a>...2008/03/09</dt><dd class="news_com">シンプルリネンシリーズ～オーダー承ります♪</dd> <dt class="news_site"><a href="http://www.jeanstaste.com" target=_blank>Jeans Taste</a>...2008/03/09</dt><dd class="news_com">アンティーク60点更新</dd> <dt class="news_site"><a href="http://www.chottofutto.jp" target=_blank>雑貨や◆chotto futto◆</a>...2008/03/08</dt><dd class="news_com"> ★“セレブ御用達” New ウォッシンググローブ登場！！</dd> ---------------------------------------------------------------------- <link href="css/style_main2.css" rel="stylesheet" type="text/css" /> ---------------------------------------------------------------------- dt.news_site{ padding:0 10px; font-size:10px; background: url(../imgs/new_point.gif) no-repeat 3px 4px; } ----------------------------------------------------------------------
ちょっと質問の下記サイトが見当たらないのですが、おそらくインラインフレームを使って表示しているということなのでしょうかね？ <iframe src="xx.cgi" height=300 width=300>フレーム対応のブラウザでご覧ください。</iframe> こんなタグをHTMLに埋め込めばＯＫだと思いますよ。
フレームを解除する 　　　target="_top" のことでしょうか。Iフレームが残ったままになっているような気がします。 target="_top"はフレーム内ではなくウィンドウ全体にリンク先を表示します。
Googleを使って、自分のサイト内を検索する方法 http://www.hyuki.com/netserv/google.html >自分で用意したキーワードの中から選択させるような方法 この場合は小細工が必要かな？ 通常は下記の説明が役に立つ http://www.google.co.jp/intl/ja/searchcode.html スマートではないが、サイト検索を下記のように修正すれば・・・ <!-- SiteSearch Google --> <center> <form method=get action="http://www.google.co.jp/search"> <input type=hidden name=ie value=Shift_JIS> <input type=hidden name=oe value=Shift_JIS> <input type=hidden name=hl value="ja"> <input type=submit name=q value="キーワード"> <input type=hidden name=sitesearch value="YOURSITE.CO.JP"> </form> </center> <!-- SiteSearch Google --> 複数の場合はチェックボックスにでもすれば <!-- SiteSearch Google --> <center> <form method=get action="http://www.google.co.jp/search"> <input type=radio name=q value="キーワード1"> キーワード1 <input type=radio name=q value="キーワード2"> キーワード2 <input type=radio name=q value="キーワード3"> キーワード3 <input type=hidden name=ie value=Shift_JIS> <input type=hidden name=oe value=Shift_JIS> <input type=hidden name=hl value="ja"> <input type=submit name=btnG value="検索"> <input type=hidden name=sitesearch value="YOURSITE.CO.JP"> </form> </center> <!-- SiteSearch Google -->
>ユーザーが受講する講義を選択すると、それを時間割にして この時点で、今現在習得されているXHTML・CSS・Javascriptでは、不可能です。 No1・2で書かれているＡＳＰ，ＮＥＴ（ＶＢ）、ＪＡＶＡ、もしくは、PHPやPerl等サーバ側で動的に時間割表を作成出来る言語を習得しなければなりません。 PHPでPDFファイルを作成するには下記サイトが参考になるかと http://builder.japan.zdnet.com/news/story/0,3800 … Perlでは http://www.ksknet.net/perl/pdflib_pdf.html >どんな環境が必要 習得すると決めた言語が動作する環境を
たとえば、そのURLのHTMLを定期的に読み込んで、その中に検索したい文字があるかどうか判断、あれば通知にすればいいとおもいます。 たとえばHTMLをよむなら Private Declare Sub Sleep Lib "KERNEL32.dll" (ByVal dwMilliseconds As Long) Sub HTML() Dim obj As Object Set obj = CreateObject("InternetExplorer.Application") obj.Navigate "http://okwave.jp/qa3834848.html" Do While obj.busy = True Sleep 100 Loop MsgBox obj.Document.Body.InnerHTML obj.Quit End Sub
それぞれダウンロードして、ファイルを眺めただけですが、 「超ぷちの」方は、呼び出しにqueryを付ければ、テンプレート切り替え可能ですね。 <SCRIPT type="text/javascript" SRC="http://●●●●/chopetit.cgi?form=1"></SCRIPT> 「データベースファクトリー」の方は、テンプレート内の記述をページに応じて書き変えるとなると、profile.cgiの改造も必要となります。 解れば、たいした変更ではないですけど、perlプログラムを自分で書いた経験がないと(つまりperl文法が判らないと)無理でしょう。 自己責任での改造はokのようなので、「超ぷち」の切り替えを数値のみとして、1.html、2,html,,,を十分な数（ページ数分）準備するなら「データベースファクトリー」の方は、以下の２箇所書き換えでいけるかな？ １．「view.html」 ■1■ より手前に上記scriptタグを入れるとして、書き換えたい番号部分を■petit■など「データベースファクトリー」で使っていないコードにする 例 <SCRIPT type="text/javascript" SRC="http://●●●●/chopetit.cgi?form=■petit■"></SCRIPT> ２．「profile.cgi」380行目付近、$head部分の文字列置き換えのところに以下の一行を加える $head =~ s/■petit■/$now_page_num/i; ※　$now_page_num　はその10数行手前で計算している現在のページ番号 ３．別解　　ページの後尾に置く場合 ３－１「view.html」 ■3■ より後方に１のタグを置く ３－２「profile.cgi」 455行目付近「# フッダ表示処理 」の行の後に $hoot =~ s/■petit■/$now_page_num/i; 動作実験はしてないので、書き換え間違いには十分注意して行って下さい。
ヒアドキュメントの事？ 例はPerl print <<EOS; Content-Type:text/html; <html><head></head><body> ここに書いた内容が 表示されます。</body></html> EOS
難しく考えなくていいよ。 ポップアップの文字化けはPerlエラーがどうだとかじゃなく、多分charsetの相違でしょう。 <script type="text/javascript" src="mailform.js" charset="***"></script> charset="***"の箇所を正しい文字エンコーディングにしてください。 予想では「Shift_JIS」にすればいい気がする。
>print "Content-type: text/html\n\n"; >これはどこの部分に挿入すればいいんでしょうか？ >一応ソースの一番最後の行に挿入してみましたが…。 最初のprintの前までに出力していないといけません。なので 　　print "Content-type: text/html\n\n"; 　　if ($span > 3) { 　　　　print "目的の日まであと ",$span," 日です"; 　　} elsif ($span > 0) { 　　　　： 　　　　： といった感じでしょう。
やはり人気ランキングのモードですね。試しに私のサーチでやってみたところ、同じurlになりました。 何らかの理由で人気ランキングが解除されず、実施するの状態になっているのだと思います。 私の運営するサーチでは管理室→人気ランキングの解除で登録サイトさまのURLが最初から表示されるように戻りました。 やはりその辺りに原因があるのではと思います。
ぱっと思いつくのは wikiに画像uploadを組み込んで使う事かな。 配置、キーワード(というか本文)設定、検索、がそれぞれできるし、wiki接地に関してはそれなりに記事が多いから探しやすいと思うよ。
探してみようかと思ったのですが…うーん…。 ええと、まとめると、「画像と更新履歴を希望のページに入れて、ブログ感覚で更新？」ということでしょうか。 それをFTPの知識が無くても使えるもの？ CGIをお探しということは設置されることはできるということでしょうか？けどFTPの知識がない？ すみません、ちょっと意味が判りません。 サイト全体を管理するような大きなものでしたらあったような気がしますが、それではないんですよね？ 更新履歴の方は一行掲示板辺りを埋め込むという方法をとればいいんじゃないかとは思うのですが、そういう感じのとは違うのでしょうか？
plファイルは触る必要がありません。 初期にアップした状態のままで大丈夫なはずです。 つまり604のままでOKです。 もしこれでもダメだったら一度すべてを最初からやりなおしてみてください。長く触っている間に他のところまでいつの間にかいじっている可能性があります。そういう場合はおかしなところを探すよりも、少し面倒ですが最初からやりなおした方がうまく行く場合があるのです。
＞色々調べたのですが、なかなかみつからなくて・・・ ＞おわかりになる方も少ないみたいで・・ http://www.google.com/search?hl=ja&q=%E3%83%A9%E … 「ランダムリンク」でググるとかなり見つかりますよ。
何時から何時までの表示を消して日付のみの予約システムにしたいということでしょうか？ もともと時間を絡めて組まれてるものなので単純なものなら変更すればいいですけど この場合でしたら改造しないで作りなおしたほうが早いと思います。 そうでなくて 00時00分から00時00分を削除したいのであれば <select name="from_min" size=1> <OPTION VALUE="00" selected>00</OPTION> <OPTION VALUE="10">10</OPTION> <OPTION VALUE="20">20</OPTION> <OPTION VALUE="30">30</OPTION> <OPTION VALUE="40">40</OPTION> <OPTION VALUE="50">50</OPTION> </select>分から <select name="to_hour" size=1> <OPTION VALUE="01" selected>01</OPTION> EOF foreach (2..23) { if ($_ < 10) { $_ = "0$_"; } print "<OPTION VALUE=$_>$_</OPTION>\n"; } print <<"EOF"; </select>時 <select name="to_min" size=1> <OPTION VALUE="00" selected>00</OPTION> <OPTION VALUE="10">10</OPTION> <OPTION VALUE="20">20</OPTION> <OPTION VALUE="30">30</OPTION> <OPTION VALUE="40">40</OPTION> <OPTION VALUE="50">50</OPTION> </select>分まで<br> このあたりの00を削除してやればいいだけですけど そうすると予約システムの意味をなしませんが・・・ どうしたいのかよく分からないです。。。。
IDとPASSによるログインは割合簡単に作る事が出来ます。 http://www.kent-web.com/pwd/ ただしCGIだけだと個別のIDとPASSが多くなった場合に対応出来なくなりますし、そもそもセキュリティとしてはさほど高いレベルとは言えません。 （一般的な範囲では充分ですが） 個人レベルのサイトでよくある方法としては、一定期間ごとにIDとPASSを変更し、それを会員にメールで知らせる方法です。
public_html/bin-cgi/test/ cgi-binでわ？ bin-cgiなど聞いたこともない
多分FTPソフトを最初に設定した時にユーザ名、パスワード的な物を入力したと思いますが、それが所有者です。 IEなどのWebブラウザからhttp://でアクセスした場合は、 誰がアクセスしようと、ファイルへのアクセスはWebサーバが行なうことになるので、 アクセス権限としては所有者でもグループでもなく、「その他」の権限が使われると思います。(suuffreさんがいうところの「ユーザー権限」のことだと思います) (ftp://というアクセス方法を使った場合などは自分にはどうか分かりません) グループ権限に使われるグループについては、 はっきりとは分かりませんが、 おそらく、suffreさんのみからなるグループがレンタルサーバ内に作成されているのだろうと思います。 自分はFFFTPというFTPソフトを使っていて、それでは確認出来ないようでしたが、 コマンドプロンプトから手でFTP接続をしたらgroupも表示出来たので、groupも表示可能なソフトを使えば見られると思います。 もし、telnetとかsshとかでサーバーにログイン出来るなら、 もっといろいろ見られるかとは思いますが、FTPしか使えなくても、 多分見られるはずです。
あまりお役に立てなくて申し訳ありません。 もしかすると、このCGIはご自分で作成したものではないのでしょうか？ 今更Jcode.plのテストをしてもしょうがないですね。 調べる時間の節約なら、UTF-8対応のperlのメールフォームフリーCGIをダウンロードして、その中身を見るのが早いかも、ですね。
ご質問から随分時間が経っておりますが、 最近、私も同じ改造をしたので、その時に変更した箇所を記します。 data.datをカンマ区切りにして2,4,5,6,7,8番目（パスワード、UNIXタイム、IPアドレス、メールアドレス）を検索対象外（""）にしてから、検索するように変更しました。 変更前1（tool.cgiの70行目付近） --------------- { $flag = 0; --------------- 変更後1 --------------- { @db = split( /,/, $_ ); $db[2] = ""; $db[4] = ""; $db[5] = ""; $db[6] = ""; $db[7] = ""; $db[8] = ""; $db2 = join(',',@db); $flag = 0; ----------------- 変更前2（tool.cgiの90行目付近） ----------------- foreach $pair (@pairs){ if (index($_,$pair) >= 0){ $flag = 1; ----------------- 変更後2 ----------------- foreach $pair (@pairs){ if (index($db2,$pair) >= 0){ $flag = 1; ----------------- 変更済みのtool.cgiを、参考URLに置いときます。 参考URL：http://www.blackhikky.org/download/OK_tool_cgi.zip
CPANは「Comprehensive Perl Archive Network」の略です。つまりPerl専用です。 ＃phpにはPEAR（PHP Extension and Application Repository）があるし・・
stat()を使って「更新日時」を取得して、現在日時までの日数を計算すればよろしいかと思います。 　　http://www.rfs.jp/sb/perl/05/stat.html
うーん……インラインフレームを使えば近い感じにできそうですが、これは対応ブラウザが限られていたと思います。IE６以上じゃないと対応していなかったと思うので、IEの最新を持っている人などじゃないと見れない可能性があります。
その画像は拡張子がjpgなので静的な画像ファイルかと思われるのかもしれませんが、 実際はCGIでPerlとかPHPとかで画像を生成しているんだと思います。 sr.dw=40となっているのが画像のサイズなんじゃないでしょうか http://snap-i.gws.st/mlimg/product/TIT08S0001/TI … http://snap-i.gws.st/mlimg/product/TIT08S0001/TI … のように、その部分を変えてみると実験出来ると思います TIT08S0001/TIT08S0001_mz_a001.jpg みたいに画像の種類だけプログラムをコピーするのも面倒なので、 apacheだったらmod_rewriteやaliasにあたるものも利用しているだろうと思います。
>１．ＰＣ、携帯両方から送信できる というのはメールフォームとしては、ごく普通ですが >２．メール受信のほかにＣＳＶ保存 そもそもメール受信は普通のメールフォームの範疇ではありませんよね？SquirrelMailとかRoundCubeとかのようなシステムになると思いますけど。アカウントやパスワードはサーバ側で管理するのでしょうか？それとも毎回入力ですか？ >３．自動返信メール メールサーバに到着と同時に自動返信となるとメールサーバが限定されますよね。それとも定期的に（cronなどで）チェックするということでしょうか？ >１～３の機能があるものはあちこちにある というのがちょっと納得できないので、補足をお願いします。
webサーバの生ログなどは閲覧不可ということでよろしいですね？ 多分掲示板か何かだと思いますが、言語はPerlでしょうか。それともphpでしょうか？書込みと一緒にIPアドレスを書き込んだりしているようなCGIであれば、「環境変数：Remote_IP」と一緒に「環境変数：X-Up-Subno」を繋げて保存するように改造すれば、あとでチェックできるかとは思います。まったくそういう機能がないCGIだと、書込みのログのどのあたりに保存するかから考えないといけません。 ＃どういうCGIか（配布元、CGI名）を書かれるといいかもしれません。
URLのやつを少しいじればいいかと？ 参考URL：http://www.joy.hi-ho.ne.jp/cgi-bin/user/renew/qn …
>う～ん・・・文字列検索してみましたが、requireはありませんでした。 いや、sendmail.cgiの80行目と82行目ですよ。sub startのちょっと上なのですが・・。ひょっとして私が（提示されたURLから）ダウンロードした基礎メール（v.1.05）と違うソース・・ってことはありませんよね。
「noscript」を使っているだけでスパム扱いと言うことはあり得ないと思います。 私のサイトも、検索キーワードを取るために、JavaScriptでの解析プログラム呼び出しと、JavaScriptオフでアクセスしてきた来訪者の記録を取るために「noscript」を使っていますけど、最近検索サイトからのアクセス増えています。 よって、もっと別のところに原因があると思います。 せっかく解析プログラムを入れているんだから、どのページのアクセスが落ちたのかとか、 これまでに検索されていたキーワードとどこが違うのかなどを分析した方がよいのでは？ 「グーグルダンス」といって、検索順位は、月単位で結構変動するらしいですから、余り気にせず、まずは内容の充実に力を注いだ方がよいでしょう。 私の経験から、あるキーワードで来訪者があった場合に、そのページのそのキーワードに関する記述をより充実させることで、同様の情報を求める来訪者が増えていきます。
下記ＵＲＬにて公開しているCGIがよろしいかと。 ↓↓↓ http://www.cgikon.com/search/detail.php3?cgi_id= …
単純に保存済み枚数をカウントしてファイルに持つ・・ではダメですか？ 保存済み枚数 % 10 が 0 だったら、int（保存済み枚数 / 10）+1の番号で作成するだけだと思いますけど。
あ、すみません。数値比較だったですね（汗 　　if (length($in{'name'}) < 4 || length($in{'name'}) > 10) { &error("4文字以上10文字以内で入力してください");} でいいと思います。
あー、ＣＧＩ＝Ｐｅｒｌと仮定すると、現状でＰｅｒｌの利点はほぼないです。 ちょっと前までは、Ｐｅｒｌの方が過去の資産がたくさんあったのですが、今はそんな事もないかなー。 サーバも、Perlが使える所はPHPも使える所が多いし。 スピードなんかも、少なくとも体感できるほど、差はないと思いますよ。 多くの場合は、遅いのは言語のせいではなく、サーバやネットワーク状況、作り方の３つのうちのどれかが、悪いからです。 すくなくとも、素人が作り始めるのなら、全く関係ない。 分かりやすい利点もPHPの方が多いです。 しいていえば、Ｐｅｒｌは・・・とｈｔｍｌに埋め込みと、音とか、かなりマニアックな事を書こうとしましたが、やめました。 これから勉強しようと思っているのなら、PHPで問題なしです。 うだうだ質問しないで、PHPの初心者本を買いに走りましょう。ｗ
> 一つのプログラムで、複数のページに設置可。 --> ちょっと意味が良くわかりません。設置するサーバーによりますが、ＣＧＩなら基本的にどのページからでもＵＲＬのリンクを付ければ大丈夫ですけど。 > 評価ができる（アイコンで★を表示するなど） --> これが一番ネックですね。既存のフリーＣＧＩでは見たことないです。 口コミレビューですから、例に挙げられた各温泉をスレッド扱いし、口コミをレスで書き込めるスレッド式ＢＢＳを改造されてはいかがですか。 さて本題です・・・・スレッドへのレス題名っていらないと思いますので、これを評価用（selectタグでoption valueに★、★★、★★★・・・を）に使いましょう。 > 携帯電話からも閲覧可。 携帯対応のスレッド式ＢＢＳをベースにご使用下さい。（参考ＵＲＬ） > できれば画像ＵＰ機能 上記ＣＧＩは、スレッドのみ画像ＵＰ機能対応です。 以上、ご検討お祈りします。 参考URL：http://bbs.capture-game.com/cgi/mobile.html
CGIとはCommon Gateway Interfaceの頭文字を取ったものです。 これだけじゃ何のことか判られないと思います。 下の方々も書いておられますが、掲示板などに使用されています。 さて、極力簡単に説明しますが、通常、WEBサイトは「見る」ことしかできません。 お作りになっているページもHTMLで書かれていて、サイトに来られる方々もそのページを「見る」だけですね。 CGIは受け取った情報を書き込んでくれるプログラムと思ってくださればいいんじゃないかと思います。 掲示場のほか、アクセスカウンター、メールを送るためのフォームメール、日記など、いろんな種類のものがあります。 通常はプログラムを組まなきゃいけないのですが、すでに設置され、レンタルとして配布されている物が多くあります。 素人にはプログラムを組むなど到底無理ですから、ヘタに無理して設置しようとするよりも、無料レンタル品を借りてくるのが一番の近道で確実です。（多くの方がそうされていると思います） HTMLにレンタルしたCGIのURLを組み込むだけで使えるものが多いです。（設置方法もレンタルサイトに書いてある場合が殆どです） 「CGI」「無料レンタル」で検索すれば、たくさんのレンタルサイトが検索できますよ。興味あられましたらお試し下さい。
makunoです。 データベースで調べていったところ、正にぴったり当てはまる物が見つかりました。 アドレスを載せておきます。 これもkoroloさんのお陰です。有難うございました。 参考URL：http://www.yumemaboroshi.net/cgi4930/
ＨＴＭＬが問題ないのであれば デザインやフォームはＨＴＭＬで作成し 受け渡し先のｃｇｉを設置するのが一番簡単だと思います。 参考ＵＲＬにオススメのものを記載します。 参考URL：http://www.kent-web.com/data/postmail.html
「ニュースCGI」で検索してみてはいかがでしょうか。 一言や更新情報などを表示するための、ご希望にあう物があると思います。 規模が小さすぎて一般的にはCMSに分類されないですが、CMSの一種です。 自分で設置出来なければ制作会社さんの方でやってもらえると思いますが、制作代行、設置設定代行等、何をするにしても、料金は発生すると思います。 ま、料理代行（いわゆる外食）と同じなので、コンピューターだけの話ではないです。原材料費はかかりませんけどね(^^; 通常、ホームページの更新は、 パソコンに保存されているファイルをWindowsならメモ帳やDreamweaverなどを使って書き換え、保存し、サーバーにアップロードする作業になりますが、 これらCMSはウェブブラウザなどを使って書き換えたり、アップロードの作業を自動化するためのものです。 言い換えれば、CMSを導入しなくても、メモ帳やアップロードソフト（FTPソフト）、またはホームページビルダーのような総合オーサリングソフトがあれば、だれでも更新することは出来ます。 > また、できれば自分のスキルにしたいという思いも少しですが・・・（笑 そういうことなら、お店のホームページではなく、 無料ホスティングサービスなどを利用して、 簡単な物を作ってみたり、無料配布されているCGIスクリプトを設置、動作テストをされてみてはいかがでしょうか。 テストして、設置の仕方がわかってからお店のホームページを作り直しても、遅くはないと思います。
配布元情報を記述しないと、回答するのに検索してまわらないといけません（汗 　　http://www.bannaguro.net/pagelog/PageHelp.html 　　http://www.bannaguro.net/pagelog/PageHelp.html#i … Windows専用のexeとdllで構成されたもののようですから、ActivePerlは不要のようです。 リンク切れは・・リンクがどのように誤っているのかを（普通のPerlやphpのスクリプトと同じように）確認していくしかないと思いますけど。
とりあえずはメールの宛先をPCのアドレスに変更して、届いているメールがどういう状態かを確認するのが先ですね。 ・・って設置したのはこれ↓ですか？ 　　http://ssl.kodama.com/ja/ UTF-8での多言語対応と書かれているのがちょっと気になります。フォームならいいですが、メールがUTF-8だとAUでは読めないハズです。PCのメーラでも非対応のものがまだあります＞UTF-8。 フォームからPCへ送ってヘッダのContent-type（のCharset）をチェックしてください。
ページを保存（ソースの表示などで）して 広告のタグを消去して確認されては、いかがですか。
エンコードをシフトJISにしてみる。
２．に関してともかく １．の確認画面がないことについて 　・いたずら防止が面倒(当然対処しなきゃ) 　・入力の受け渡し記述が面倒(当然・・・) 　・エラー画面が面倒(デザイナーさんデザし忘れないで！) 　上記3点を作りこむとCGIが本体よりも大きくなったりして・・・。 ３．確認メール 　・いたずら防止が不可能(入力者ではない者のメアドを次から次へと入力されたらどうなりますか？)なのでリスクを負うのはちょっと・・・。 　３に関しては発注元に欲しいと言われればしょうがないのですが、 作る側も仕組みが仕組みなだけにいやなもんです。マルチ送信でき ないようにしてあっても確実に1通は飛ぶわけですから、某国大統 領のメアドなんか入れられた日には・・・。変なサイトの申し込み フォームにあなたのメアドを誰かに入れられて、大量に確認メール が届き、その後の処理を想像してみてください。
futomi's CGI Cafe で配布されているperlのアクセス解析のことを言っているのなら、 以前にも似たような質問に答えたおぼえがあるのですけど、 自前PC内にローカルサーバーを構築して、ローカルサーバー経由で解析プログラムを呼び出せばよいかと思います。 http://oshiete1.goo.ne.jp/qa1379257.html 参考URL：http://www.futomi.com/
ここから探してみてはどうですか？ 参考URL：http://www.kooss.com/hp/freeserver_p2.html
とりあえず基本は押さえておきましょう。 　　http://perl.misty.ne.jp/08.html
この中から探してください。 http://pc.2log.net/mozilla/link.html
横から失礼します。 Perlについて 　Perlはプログラム言語です。 　Perlの言語仕様にしたがって記述されたプログラム(手順書)を解釈実行するプログラムです。 　HTMLで書かれた内容を解釈処理して表示するIEやOperaのようなブラウザに相当するプログラムと考えてください。 PerlとActivePerlの違い 　もとはUNIXシステム管理用に作られた広義のプログラム言語をPerlと呼称し、ActivePerlはActiveState社が開発したWindows上で動作するPerlの処理プログラムです。Perl5については開発者の「Larry Wallによる簡単なPerl史」で検索してみてください。 　ブラウザにも種類があるのと同じです。 　もともとPerlはUNIXというシステム上で開発されたものですので、Windows上で利用するには無理な点があります。 たとえばディレクトリの階層表記等、UNIXでは「/home/hogehoge/public_html/robots.txt」、Windowsでは「c:\home\hogehoge\public_html\robots.txt」のような相違です。 よってWindows用に作成されたActivePerlのプログラムはUNIX上では動作しないケースが発生します(Windows用ソフトがMac上でそのままでは動作しないのと同じ)。 CGIを稼動させるサーバのOSが何でPerlのバージョンがどうなのかはわかりませんが、下位互換を意識して制作するならほぼ大丈夫かと思います。　ただ、5.8独自の機能を使って制作したプログラムはそれ以下のバージョン環境で正常動作しません。 ホームページにたとえると、最近のCSSやAjaxを駆使したホームページでは、同じメーカーのブラウザでも動作させる環境やバージョンが異なると表示自体もがらりと変わってしまうのと同じことです。シンプルなHTMLで構成されたページであればどれでも同じ表示になりますよね。 ただ、練習程度のCGIならバージョンはあまり問題にならないかもしれません。 そちらよりも環境構築やCUIの使い勝手が大変かと思いますのでがんばってください。 浅学なもので間違いがあったらすいません。
http://www.k-php.com/script/kcount/ これとかなら、今日、昨日、合計でそれぞれ、表示・非表示できますねー。 お使いのＣＧＩでも、cgiの中を開いて、”今日”とか検索して、そこら付近の文字部分を消すと、まぁ、最悪動かなくなることはあっても、周りにご迷惑をっける事はないでしょう。ｗたぶん。
GIF画像を生成するためのライブラリです。 http://www.tryhp.net/onthefly.htm CGIと同じディレクトリ（WinPCのようですからフォルダでいいかな？）に置いておくだけでOKです。
何もかも、No.2さんの仰っている通りですので、以下は参考までに。 【注】「自分でレンタルサーバを借りようと思っています。」という一文を、専用サーバを借りて自分でカスタマイズするのではなく、各種設定がなされた共用サーバでのホスティング・サービスの某かのプランを契約する、という意味で解釈しています。もし万が一前者であれば、無視して下さい。 通常、どこのホスティング・サービスでも、ユーザ自身が独自に設置するCGI等に関してはサポート対象外となっています。 つまり、業者を移管したならば、移管前の環境で使用していたオリジナルの動的コンテンツの動作確認・調整等は自分で対応しなければならないということです。 大変失礼ながら、このお問い合わせ内容や、public_htmlフォルダを削除してしまった別件を拝見した限り、ご自身での動的コンテンツのメンテナンスは、（少なくとも現状では）難しいのではないかと見受けられます。 ただ、そういったユーザの便宜を図る為に、ホスティング・サービス側が、管理画面等から簡単に設定できるメールフォーム的なシステムを予め用意してある場合が多いです（契約するプランのグレードにもよりますが、大概は）。個人ユーザが使用する様なシンプルなお問い合わせフォーム程度の内容であれば、そういったお膳立てされたもので充分まかなえるのではないかと思います。 ですので、移管を考えているホスティング・サービスのプラン内容をよく検討されて、サービス内容に上記の様なシステムが含まれているかを確認の上、新たにそのシステムを使って構築し直された方が容易なのではないでしょうか。そちらは業者のサポート対応内ですから、使い方についての質問も受け付けてくれるでしょうし。
> $sendmail = '/usr/sbin/sendmail'; ↑↑↑↑↑ sendmailパスの変数は、$mailprog ではないのですか？ $mailprog = '/usr/sbin/sendmail';
私の場合以下のようにしてます。 $form{command}=~ s/\x0d\x0a|\x0d|\x0a/<br>/gi; @command = split("<br>",$form{command}); 参考URL：http://www.din.or.jp/~ohzaki/perl.htm#CRLF_2BR
こちらの過去ログをご参照ください。 ↓↓ http://okwave.jp/qa3700119.html
どのCGIにsubmitしたかはエラーメッセージでなくURLで確認されてますよね？つまりsubmitしたあとのURLがformmailer-theme.cgiになってしまっているんですよね（念のため確認） 実際のHTMLソース全体がないので何ともいえませんが、HTMLソースをエディタなどで「form」を検索してみてください。4箇所しかないハズですが、他にHitしませんか？
一つのページに、二つのCGIって事は、htmlに埋め込み式って事なんですかねー。 きちんとCGIを囲む形で、<form>CGIの内容</form>・・・・<form>CGIの内容２</form>としてやれば、正常に動くかと。 おっちゃんには、想像できない点。 formmailer.cgi-theme.cgi　ってなに？ 「coment2」って？できれば、抽象的な言葉ではなく、具体的にフォーム１の名前の欄とか、コメントの欄と書いた方がわかりやすいかと思いますよ。
うーん・・ソースを読むと $listfile = "$SYS{'DATA_DIR'}$listname"; となっていますから、標準だとdata/list.cgiというファイルにメールアドレスを追記・削除しているようです。一度このファイルの中身を（FTPなどで）確認してみるといいかもしれません。 ＃単純に「そのまま」書き込んでいるようなので、出力は難しくないと思います。
WebSpaceのツリータイプ掲示板はどうでしょうか。 http://www.webspace.ne.jp/ PC・携帯（Docomo・Au・SoftBank）から画像アップロードも可。
どうも xamppのperlを呼び出しているような気がしますねえ。 すみませんが、以下のスクリプトを適当な名前の cgiファイルにして、 c:\xampp\htdocs\ においてブラウザから実行してください。 ---ここから #!ここのPerlのパスはお使いのものに合わせてください print <<EOM; content-type: text/text EOM print "version = $]\n"; print "OS = $^O\n"; print "EXECUTE_NAME = $^X\n"; $" = "\n"; print "\@INC=@INC\n"; ---- ここまで コマンドラインからも実行できて、こんな感じになります。 わたしの環境での ActivePerlの場合 c:\xampp\htdocs>perl test.cgi content-type: text/text version = 5.008008 OS = MSWin32 EXECUTE_NAME = c:\Perl\bin\perl.exe @INC=c:/Perl/site/lib c:/Perl/lib . xamppに入っていたPerl D:\xampp\htdocs>..\perl\bin\perl.exe test.cgi content-type: text/text version = 5.008007 OS = MSWin32 EXECUTE_NAME = ..\perl\bin\perl.exe @INC= Cygwin版 content-type: text/text version = 5.008007 OS = cygwin EXECUTE_NAME = /usr/bin/perl.exe @INC=/usr/lib/perl5/5.8/cygwin /usr/lib/perl5/5.8 /usr/lib/perl5/site_perl/5.8/cygwin /usr/lib/perl5/site_perl/5.8 /usr/lib/perl5/site_perl/5.8/cygwin /usr/lib/perl5/site_perl/5.8 /usr/lib/perl5/vendor_perl/5.8/cygwin /usr/lib/perl5/vendor_perl/5.8 /usr/lib/perl5/vendor_perl/5.8/cygwin /usr/lib/perl5/vendor_perl/5.8 . とりあえずはCGIでやったときの結果だけでOKです。
>/usr/perl5/5.8.4/lib/sun4-solaris-64int >/opt/csw/lib/perl/5.8.8/auto/GDBM_File/GDBM_File.so: Perlのバージョンが違いますけど、コンパイルした条件が違ってたりしませんか? CGIのスクリプトの先頭にあるshebang行(#!... ってやつです)と シェルのコマンドラインで which perl とかしたときのperlの位置はそれぞれどうなってますか? 以下FAQから http://hio.jp/translation/perldoc/pod/perlsolari … Dynamic Loading Problems With GNU as and GNU ld If you have problems with dynamic loading using gcc on SunOS or Solaris, and you are using GNU as and GNU ld, see the section GNU as and GNU ld above. ld.so.1: ./perl: fatal: relocation error: If you get this message on SunOS or Solaris, and you're using gcc, it's probably the GNU as or GNU ld problem in the previous item GNU as and GNU ld. dlopen: stub interception failed The primary cause of the 'dlopen: stub interception failed' message is that the LD_LIBRARY_PATH environment variable includes a directory which is a symlink to /usr/lib (such as /lib). See LD_LIBRARY_PATH above. #error "No DATAMODEL_NATIVE specified" This is a common error when trying to build perl on Solaris 2.6 with a gcc installation from Solaris 2.5 or 2.5.1. The Solaris header files changed, so you need to update your gcc installation. You can either rerun the fixincludes script from gcc or take the opportunity to update your gcc installation. sh: ar: not found This is a message from your shell telling you that the command 'ar' was not found. You need to check your PATH environment variable to make sure that it includes the directory with the 'ar' command. This is a common problem on Solaris, where 'ar' is in the /usr/ccs/bin/ directory.
> 掲示板をレンタルしています。 レンタルCGIは、改造出来ません。 配布しているCGIスクリプトという事を前提に以下。 > 返信画面のファイル送信・メールアドレス・ホームページなどの項目を無くしたいのですが 「返信画面のファイル送信」については、同CGIの[■設置方法]に説明があります。 「メールアドレス・ホームページなどの項目を無くしたいのですが」については、『htmlのソースを削る』ではなく、スレッド画面の返信フォームをHTMLで書き出すCGIの記述を必要に応じて削除。 （この場合も、当該項目の入力チェックをＯＦＦにする必要がありますので、同CGIの[■設置方法]を良くご覧下さい。
何を以って重複と判断するか判りませんが、名前の重複が有った場合に撥ねるのであれば、下記ＵＲＬで公開しているCGIでしょうか。 http://www.minicgi.net/cgi2/list.html
うーんと、おっしゃられている意味がよく判りませんが、ようするにTOPページをcgiではなくhtmlにしたくてやってみた…というわけでしょうか？ 一応、ヨミサーチビギナーズガイドのURLをいれておきますね。 すでにご存じかもしれませんが、判りやすくてよく出来ているサイト様だと思います。 さて、以下は私がヨミサーチ検索窓部分に入れている部分です。 シンプルですが、カテゴリ検索が多く、さほど文字検索の必要がないサーチですので、極力不要な部分は削除し、一般検索などgoogleしか入れていなかったりします。 <form action="http://●●●.jp/ys4/search.cgi" method=get target="" name="form1"> <input type=hidden name=mode value=search> <input type=hidden name=page value=1> <input type=hidden name=sort value=mark> 　　　<input type=text name=word size=20> <select name=engine> <option value="pre" selected>●●サーチで <option value="google">Googleで </select> <input type=submit value=" 検 索 "> <input type=reset value="リセット"> </form> なお、階層ですが、最初にindex.html（私はこれを検索窓の入ったサーチのトップページに使用している） それの隣にys4フォルダ。（admin.cgiやyomi.cgiなどが入っている） そのys4フォルダにはlock、log、pl、templateのフォルダが入っています。なお、私はlinkとimgのフォルダは取り出して、ys4フォルダと同じ列に入れ替えています。（一階層上に移動している） まぁそのままでもいいんじゃないかと思います。 参考URL：http://www.yomi-search.net/index.html
何度か同じcgiを設置したことがある者です。 最初から全部設置しなおしてみる。 メルアドを全角や小文字と大文字の部分を間違って記入している。 …などで解決することがあります。 案外盲点かもしれませんので、やってみられてはいかがでしょうか？ （全部設置しなおして解決などわけが判らないかもしれませんが、案外それで解決することが多いものです）
No.1の方の文が全てですが、正確には >multipart/form-data これに対応している携帯がないからです。 携帯で画像を送信したい場合は、サーバのMTAをperlなりphpなりに紐付けさせ クライアントはmailの添付として送信しstdinから取得した画像バイナリをファイルとして保存するのが今の一般的な手法です。
IPとタイムスタンプをアクセス時に保持してアクセス毎に当該IPのタイムスタンプの差をチェックするというのが一番ポピュラーな対策だと思います。
http://httpd.apache.org/docs/2.2/ CGIについては、右側、How-ToのCGIの項目をどうぞ。
拝見しました。 下記ＵＲＬで公開しているCGIは如何でしょうか？ ↓↓↓ http://www.webpower.jp/websofts/message_boards/m … 私もこのCGIを使っていますが、用途に応じて改造等されたらよろしいでしょう。
強制更新の都度、次の更新時間が延びるのは当然ですが? 異常ないと思います。
自前で作れば簡単そうに思います。 パスワードはデータベースに入っていると思いますが、 ログインすると同時にパスワードをランダムな文字列に更新してしまえば 良いのではないでしょうか？ 多分、パスワードがあるシステムならパスワード変更の インターフェースも用意されていると思うので、 すぐ出来そうな気がします。
JavaやASPでは、直接ローカルホストのSMTPに接続してやりとりするハズです（sendmailというコマンドは不要です）。 コマンドラインで引き渡す必要があればXmail（参考URL）などにsendmail.exeが同梱されていたと思います。 参考URL：http://xmailserver.jp/documentation/
これだけですとわかりにくい説明ですよね。推測になりますが…。 ホームページを開設しているページがBIGLOBEで無い場合 いきなりそのページからCGIへのリンクをしても見ることができない という意味じゃないかなと思いました。（そういうサーバはよくありますし） http://xxx.yyy.zzz/aaa.htmlから http://www**.biglobe.ne.jp/~ホームページアカウント/xxxxx.cgiへと いきなりCGIへリンクしても駄目という意味なのでは？ ワンクッションおいてhttp://xxx.yyy.zzz/aaa.htmlから http://www**.biglobe.ne.jp/~ホームページアカウント/index.htmlへリンクし http://www**.biglobe.ne.jp/~ホームページアカウント/xxxxx.cgiだと可能だとか。自信はありませんが。
方法1： サーバ側のアプリ（Perlでもphpでも）でメール受信処理に起動をかけないといけませんね。別途所定のURLにアクセスするなどのアクションが必須になります。もちろんメール受信をトリガに出来るサーバであればいいですが、レンタルサーバなどでは少数派でしょう（皆無ではない）。 方法2： テキストエリアの入力を受け取って並べ替えて表示する程度であれば、ある程度慣れた方であればすぐ作れると思います。ご自分で作るのであればスキルと相談（習得の日数も要るでしょう）ということで・・ 方法3： 寡聞にして知りません（汗
>今回はCGIが動作するための設定・整備から携わり、手探りで調べながらやっています。 構築をすっ飛ばして何故設定整備をするのか非常に疑問ではありますが // 構築を経験していればこういう不明点は沸きません さておき。 >FTPソフトからの属性の変更が出来ない事がわかりました。 何をしたいのかよく分からないのですが、Windowsにはlinuxと違いpermissionの概念がありません。 属性の変更とは何を指すのですか。 ユーザ権限の問題であれば管理している人に 「Apacheが動かないので該当ファイルのユーザ権限を全て適切にしてくれないか」 でＯＫでしょう。仕事でしたらそれくらいはすぐにやってくれます。 // 趣味だったらなんともいえませんが。
Tacky's Roomさんの「ぽすとまん」などはいかがでしょうか。 http://tackysroom.com/cgi_postman.htm 「デザイン編集可能であること」はスキン仕様の掲示板でないと無理なので こちらではできませんが。 「sendmailを使用しないこと」は「使用しない・使用する」の両方設定が可能です。 ご希望に添っているか不明ですが、ご参考までにどうぞ。
以前、そのpcchek.cgiを使ったことがありますが、 >>これもアクセスするとInternal Server Errorと出てしまいます。 　アクセス自体でエラーが出るということは、perlパスが違う、またはそのサーバーに合ったパスではない可能性もあります。 　Winサーバー用にbinmodeとかもありますけれど、Kentサイト配布のはその辺フォローしてあったと思います。 　この段階では、ostkさんお使いのサーバーがsuExecとかでなければ、755とか666で問題がないです。 　で、改めて最初のご質問を見ますと >>http://～～/patio/patiocgi? にアクセスするとInternal Server Errorとでてきます。 　「patio.cgi」では？ 　後は、patio.cgiの改行コードと漢字コードは合っていますか。 　即効性のない回答で済みません。
>ソースはどこに公開されているのですか？ ソースはどこで配布されているのですか？ 「箱庭諸島 配布」「バトルロワイアル CGI 配布」で検索してください。 また、そのゲーム画面の中に配布サイトへのリンクがあるはずです。 ただし、元祖箱庭諸島のサイトでは配布されていません。
こんにちは こんな感じのやつですか？ <style type="text/css"><!-- input { display:block; } --></style> <script type="text/javascript"><!-- window.onload=function() { document.getElementById("fs").f3.focus(); } //--></script> <form id="fs"> <input type="text" name="f1"> <input type="text" name="f2"> <input type="text" name="f3"> <input type="text" name="f4"> <input type="text" name="f5"> </form> ※javascriptを使用しているのでoffにしていると使えません
最初の認証時に、「□パスワードを記憶する(R)」にチェックを入れたからそうなるのです。 ＩＥのインターネットオプションからパスワードのクリア。
てんぷらづくし　というスクリプトがＤＢ使用無しのperlだけで動いた筈です ＳＮＳなのか？と聞かれるとちょっと違うかもしれませんが… 元々のサイトが消えてしまっているようで、はっきりした事が分からないのですがアーカイブから辿ればなんとかファイルとかもＤＬできそうです ［参考］ http://oshiete1.goo.ne.jp/qa1272424.html もちろん、元サイトが消えてしまっているので、サポートとかも無いでしょうし使用に関しても自己責任になってしまうでしょうが… ［元サイト］※消えています http://tempura.scopesd.jp/ ［インターネットアーカイブ］ http://www.archive.org/ ※中央上段にあるフォーム（httpと既に記載されている箇所）に元サイトＵＲＬを入れれば、過去のページを閲覧できます
「WonderCatStudio」さんで配布されているCGIスクリプトのようですね。 http://wondercatstudio.com/html/v8.html で同様のものがダウンロードできます。 設置方法やカスタマイズ、FAQなどのページもありますからこちらを利用されてみてはどうでしょうか。 マニュアルのページ：http://wondercatstudio.com/manual/v8/
<input>にnameをつけないか、<button type="submit"><img src=""></button>を使ってはいかがでしょうか。
#1です。追記がありました。 連続した文字を入力して、その中の一部分のみ「赤い下線」を引きたい場合は 下線をつけない部分 <span style="color : red ; text-decoration : underline ;"> <span style="color : black ; text-decoration : none ;">赤い下線をつけたい文章</span></span> 下線がない部分 と記述されるといいですよ。ご参考までにどうぞ。
CGI = Perl　の誤用かな。 Perlの事であれば、同じく、Eclipseで提供されています。 http://www.atmarkit.co.jp/fjava/rensai3/eclipsep … http://okwave.jp/qa3284374.html?ans_count_asc=2 私は使ってないので、詳細は分かりません。（＾＾； ------------------------------------------------------------ 補足： CGIはプログラムを動かす仕組みを指します。 CGI自体は、プログラミング言語ではありません。 最近は、PHPも多いですが、昔は、Perlが主流でした。 （その他の言語でも可能です。） CGI で動かす Perl のソースの拡張子が、"cgi" である事もあり、 CGI = Perl　と勘違いしている人は非常に多いです。 Webサイト等でも、間違って使われている事があるので、ご注意下さい。
またお邪魔いたします。しつこくて申し訳ありません。 Method Not Allowed The requested method POST is not allowed for the URL /intra/aaa/bbb/ccc/postmail/postmail.cgi のエラー表示ですが、KENTさんのサイトで確認してみましたところ、以下3つの原因が考えられるそうです。 (1) .htaccessが必要にも関わらず設置されていない (2) CGIの置き場所（ディレクトリ）が正しくない (3) サーバ自体がCGIを設置できない もしかすると、cgiを設置するディレクトリが決められているのかもしれませんし また、(3)の要因が強いような気がします。（管理者の方もはっきりされませんでしたし） あるいは、POST methodが利用できないサーバーかもしれません。これも可能性が強いです。 こうなってしまうとcgiを設置できないので、管理者の方に可能なように設定していただくしか…。 以下、余談なのですが http://～/intra/aaa/bbb/ccc/postmail/ の中に「enquete.html」を入れて <form action="./postmail.cgi" method="POST">にしてみてはどうでしょうか。 （たぶんこれでもエラーが出るかもしれませんが念のため）
お待たせしました。 ご希望の仕様でしたら、下記ＵＲＬで公開しているCGIがよろしいかと思います。 http://www.t-okada.com/shu1_note/shu1_note/27_11 … 「携帯対応のアンケートフォームシステム」、「できれば結果を見せる見せないの設定ができれば嬉しい」については、表示上のレイアウトや結果表示のボタン等（現行仕様のままですと投票項目の追加機能もあり）、用途に応じてカスタマイズされればよろしいでしょう。
新たに「ccc」ディレクトリの中に「postmail」ディレクトリを作られているので http://～/intra/aaa/bbb/ccc/postmail.cgi?mode=check としてはcgiのページが見つからなくなってしまいます。ですので http://～/intra/aaa/bbb/ccc/postmail/postmail.cgi?mode=check でチェックしてみてください。 $server = "mail.server.xx.jp"; $pop3sv = 'mail.server.xx.jp'; については、その上の方に 「##【注】sendmail送信の方は設定はここまでで終了。これより下は設定不要です。」 と書いてあります通り、 $send_type = 1;　←ここを2にしない限り194行以下は触る必要はありません。 #!/usr/local/bin/perl /usr/lib/sendmail についてはあまり色々と設定せずにとりあえずそのままでやってみてはどうでしょうか。
自作によるものでしょう。 ring2004さんが手っ取り早く同じような事をしたければ、HTMLを書き出すだけのCGIを作成し、下記ＵＲＬにあるようなサイト管理用のCGIを別途設置されてはいかがですか？ http://www.t-okada.com/shu1_note/shu1_note/26_11 … Web上でファイルの作成・編集・削除、ディレクトリの作成・削除、ファイルアップロード等が出来ますよ。
HPBを使用したことがないので、どのようなHTMLが吐き出されるかはわからないのですが。。。 HTMLでFORMタグを使用した文をCGIを利用してメール送信することは可能ですよ。 ただし、CGIを動かすためにはCGIを許可したサーバーが必要です。 会社内ということであれば、サーバー管理者にCGIの利用可否を問い合わせてみてください。 CGI利用可能であれば、Perlのバージョン、設定、パーミッションの設定などサーバーにあわせた設定も聞いておくほうがいいと思います。 例えば下記のようなメールを送信するCGIを参考にして、設定などすればわかるかと思いますよ。 http://www.kent-web.com/data/postmail.html もしわからなければ、サーバー管理者に委託する方がいいかと思います。 CGIの設定を間違えると、動作しないばかりかサーバーを動作不能にさせるようなことにもなることがありますよ。
Rubyスクリプトとして実行されず、ソースがそのまま送信されてるみたいだから、apache側の問題では。 ScriptAliasとかAddHandlerとかの設定を見直してみては。
特に知識はないのですが、質問だけさせてください。 cygwin上のgccでコンパイルして、cygwin上で動かすと動くことを確認した、と読みました。 すると、もしコマンドプロンプト(cmd.exe)から動かしたら動くのでしょうか？ gccのオプションを変える、もしくは、cygwinのsetup.exeでインストールするgccの種類を変更するなどして クロスコンパイル的なことをしないと動かないんじゃないか、ということを考えました。 mingwとか何とか、そんなのを探すと何か進むんじゃないかと思いました http://www.geocities.jp/turtle_wide/tools/gccwin …
さくらインターネットのサポートを見ましたところ 「ディレクトリパーミッションは755 または 705」と記されていました。 http://support.sakura.ad.jp/support/manual/rs/te … ですのでパーミッションの設定を data/ (777)　→　data/ (755) lock/ (777)　→　lock/ (755) に変更してみてください。 「推奨するファイルロック関数」は「flock」が可能のようですので 「$lock_method = 1;」は変更する必要はありません。 他には lib/ (755)の中に「ap_mimeenc.pl (644)」と「jcode.pl (644)」を入れてください。 （たぶん書き間違いだと思いますが念のため書かせていただきました） あと「$mail_to_addr = '*****.sakura.ne.jp';」ですが 『$mail_to_addr = '*****@sakura.ne.jp';』が正しい表記です。 【@】マークが抜けています。 当方のサーバで試してみましたがこれできちんと表示されましたよ。
「自動クリック」というのがわかりにくいのですが、単純なページ切り替えなら、METAタグで十分かと思います。 <meta http-equiv="refresh" content="秒数; url=次のページ"> を各ページの頭のほうにつけてやればいいと思いますが・・・ ってCGIのカテだから回答が的外れかも。
2apeのapeboard+などの、CGIとHTMLが分離しているものを探せばよいのでは。「掲示板　CGI　スキン」で検索すると出てきますよ。
http://ringworld.x0.com/ http://webfrog.pupu.jp/index.php ↑こちらのCGIが該当すると思いますよ。 複数人で書き込めるBlogです。 参考URL：http://ringworld.x0.com/,http://webfrog.pupu.jp/index.php
私も探していましたが、どうやらサイトのリンクがすべておかしいようです。 キャッシュで取れると聞いたこともあります。 私にはできませんでした。
詳細にといわれても？無いものは無いと言ってるだけなんですけど。 まずは %form の内容を表示してみたら？ それとも、ハッシュ配列の性質すら解ってない？掲示板で簡潔に説明するのは困難なので、まずは、入門書などで初歩の知識を得た上で、どのあたりが解らないのかを詳しく述べてみて下さい。
これはnoachikoさんが書かれたコードですか？ 携帯サイト用の振り分けをユーザーエージェント（ブラウザ情報）で考えるなら、 SoftBankに関してはSoftBank、Vadofone、J-PHONEを指定したほうが良いです。 noachikoさんがご利用になられているブラウザのユーザーエージェントが分からないので、 PCでアクセスすると携帯専用のindexへ…の部分の動作までは確認出来ませんが、 sub go { より上の部分のコードですが、これでどうですか？ （コメント部分はちょっと省略してます） $vjump='./mi.html'; #SoftBank用 $ijump='./mi.html'; #i-MODE用 $ejump = './mi.html'; #EZWEB用 $pcjump = './index.html'; #PC,その他 $USR = $ENV{'HTTP_USER_AGENT'}; if ($USR =~ /^DoCoMo/) { $lct = $ijump; } elsif ($USR =~ /UP\.Browser/) { $lct = $ejump; } elsif ($USR =~ /^SoftBank/ || $USR =~ /^Vodafone/ || $USR =~ /^J-PHONE/) { $lct = $vjump; } else { $lct = $pcjump; } &go; exit;
postman_menu.cgi 64行目の編集ですが間違いないですか？ postman.cgi を編集しても大きくなりませんので。 表示された画面を右クリック-ソースの表示で body,tr,td { font-size: 20pt;} この部分が反映されているか確認してください。 その他の部分を変更したいのなら、ソースを見ながら同じ部分を探して変更するしかないでしょう。
GIFを出力しようとしている中でリンクを設定することはできないので、 HTMLを出力する別CGIを用意するのがわかりやすいと思います。 そのHTML出力CGIの中でIMGタグを用意して、そのsrcにcount.cgiを指定すればうまくいくかと思います。 または、別CGIではなくて、 そもそもcount.cgiでHTMLを吐くメソッドを追加して、ひとつのCGIですますのも可能だとは思いますが。
情報が足りなすぎます。このままでは、だれも回答しないでしょう。 land.toは、取得時期によって、使えるperlのversionが違います。自分のサーバーで利用出来るプログラムのversionくらい自分で調べて下さい。 metcha.cgiもどこで配布されてるものなのかなども、質問者が提示すべきです。
これかな? RubyScript2Exe - A Ruby Compiler http://www.erikveen.dds.nl/rubyscript2exe/
たんに、ボタンを押した時の飛ばし先のHTMLの記述に間違いがあるのでは？ たぶん、こうなっているんだと思います /aaa/cgi-bin/namazu.cgi ./aaa/cgi-bin/namazu.cgi こうすれば解決できる可能性が大きいです apacheとかCGIとか関係なく、HTMLの記述のミスだと思いますよ
>>という部分に自分の追加した項目の$jyuusyo,$yoteibiとかを >>書き込んでいくということでしょうか？ 　いや、そうではなく、PHPのスクリプトではちゃんとデーターが入っているのかのチェックで申しました。 　ちゃんとデーターは来ているのに送信で空になってしまうのか、または最初からデーターが入っていないとかです。 @mb_send_mail($conf['mailto'],$title,$mail_str,'From:'.mb_encode_mimeheader("{$conf['sitename']}").$conf['mailto']); 　ここでメール送信をしているので、例えば、$titleや$mail_strの中身を確認してみては？ということです。 これの前に、 print "\$title=".$title. "<hr>"; print "\$mail_str=".$mail_str. "<hr>"; exit; というのを記述してダミー的に書き込んでアクセスしてみてはどうでしょうか。 $title=○×□・・・・ ------------------------------------ $mail_str=★×■・・・・ ------------------------------------ などと表示されたのなら、送信まではデーターが来ているので、送信箇所を調べてみれば分ります。 $title= ------------------------------------ $mail_str= ------------------------------------ だと、データーが空なので、もっと手前を同様にチェックするということになります。 　そして、その箇所が分ったら、またここで質問などをしていると、完動まで時間がかかり、もし、お仕事で使われているのでしたら、それなりの方に頼むとかシェアウェアのを使うなどをした方が宜しいように思えますが。
高々数十万程度のデータでメモリが確保出来ないのかな、というのが不思議なのですが、 1データあたり、どれくらいのサイズがあるのでしょうか？ たとえば、次のようなプログラムはコンパイル/実行出来るでしょうか？ #define SIZE (1000000) #include <stdio.h> #include <stdlib.h> int main(){ int *a; int i; a = (int *) malloc(SIZE * sizeof(int)); for(i=0; i<SIZE; i += SIZE/10 ){a[i] = i;} for(i= 0; i<SIZE; i += SIZE/10 ){printf("%i\n", a[i]);} free(a); }
せめて「どの項目を増やしたのか」くらいは書いておいてほしいですね。 住所を例に取ると、 <li>ご住所<BR><input type="text" name="jyuusyo" size="35">必須</li> で場所を作って、 if($jyuusyo == ""){$in_check_ok = FALSE; $msg[9] = "ご住所が入力されていないようです。";} else{if(strlen($jyuusyo) > 100){$in_check_ok = FALSE; $msg[9] = "ご住所が５０文字を超えています。";}} でチェックしていますが、ここにいたるまでに $jyuusyoに値を設定しているところがありません。 ですので、ここに来た時点で(テキストエリアにデータがあろうがなかろうが)常に $jyuusyo == "" となってしまいます。 $name = $_REQUEST['name']; $mail = $_REQUEST['mail']; $url = $_REQUEST['url']; $title = $_REQUEST['title']; $comment = $_REQUEST['comment']; $upfile = $_FILES['upfile']['name']; $vol = $_FILES['upfile']['size']; $dllimit = $_REQUEST['dllimit']; if($dllimit > 0 && is_numeric($dllimit)){$zan = $dllimit - $dlcount;} else{$zan = "-"; $dllimit = "-";} $dlkey = $_REQUEST['dlkey']; //eregi("(\jpg|\jpeg|\png|\bmp|\gif)$",$_FILES['upfile']['name'],$ext);//ユーザファイル名から拡張子抜出し preg_match("/\.[^.]*$/i",$_FILES['upfile']['name'],$ext);//ユーザファイル名から拡張子抜出し $pass = $_REQUEST['pass']; $dlcount = 0; $host = $_SERVER['REMOTE_ADDR']; ↑この辺で値を取り出して変数に設定しているので、 自分の追加したフィールドに対しても同じようにしてください。 これは元の作者に言うべきことかもしれませんが >function regist(){//▼regist >case 'regist'://▼regist >regist(); 'regist' なんて英単語はありません。
httpでのやり取りにMIMEという概念があります。 通信されている情報の種類やサイズなどを予め宣言するものです。 content-type:text/html;　←これ 文字化けの多くの場合、このMIMEで指定された文字コードとソースの文字コードが異なっていることに起因します。 MIMEを指定する場所は多岐に渡りますが、まずは 1.CGI内部で一番最初にprintされている箇所 2.吐かれるHTML内部の<meta> を見ましょう。 content-type:text/html;charset='Shift_JIS' となっていることを確認しましょう。Shift_JISは綴りが違うと文字化けします。 次に吐かれるテキストとCGIファイル、CSSなど日本語を使う全てのファイルがきちんとSJISで統一されていることを確認しましょう。 全て設定しているのに文字化けするというのであれば、クライアント側のブラウザが強制的に文字コード変換している可能性があります。 そちらも確認すると良いでしょう。 特定の文字が文字化けするのは原因が異なるので その際はどの文字が化けるのか調査した上で質問すると良いでしょう。
単純に「10000」と入れるのはダメなんですか？
>日本の人は正確に表示できるが他の国の人は正確に表示できないものしかありません 具体的にどんなものでしょうか。 htmlのみだとクライアントPC側の時刻が表示されるので、サーバから 正しい時刻を送る必要があります。 使用されているプロバイダのサーバの時刻が正確（誤差1秒以内）であれば サーバから時刻を送るCGIを探せばよいでしょうが、正しくは以下の 方法のように、標準時を取り込んでサーバからクライアントに送る 必要があります。 以下を参照してください。 http://www2.nict.go.jp/w/w114/tsp/JST/ いずれにせよ簡単には実現できないと思われます。 ＃PCやサーバの時刻は定期的に合わせないとあてになりませんから・・
「Tackynote3」Tacky's Roomさん http://tackysroom.com/cgi_tackynote3.htm 「Diary Note」KENT WEBさん http://www.kent-web.com/variety/diary.html 「Simple Olive Diary2　ver2.0」Olive Design CGIさん（登録が必要） http://www.olive-design.com/~cgi/simple_diary2.h … Perl CGI's By Mrs. Shiromukuさん（http://www.t-okada.com/cgi/） にも多くの種類がありましたよ。（但しサムネイル表示ができるかは不明です）
全く同じものではありませんが 「Web Patio」（KENT WEBさん） http://www.kent-web.com/bbs/patio.html サンプル：http://www.kent-web.com/bbs/patio/patio.cgi 「Child Tree」（CJ-Clubさん） http://www.cj-c.com/cgi_s/cbbs.htm サンプル：http://www.cj-c.com/sp/cbbs.cgi?H=F&no=2 を「トピック表示」にしてみるとか…。
EUC-JPで書かれてるのは、日本語表記にかかわる部分だけなのでメールそのものには影響ないはずです。 CGIの内部ではEUCの２バイトコード（全角文字）を変換しているでしょうけど、半角英数文字に文字コードは関係ありません。 ＃１の方のように表示部分が日本語だけならどこに何を記入したらよいかわからないでしょうから、その部分だけが問題ですね。 フォーム自体がHTMLファイルなら日本語部分の下に英語表記を付けとけば大丈夫でしょう。
がると申します。 httpd.confの設定次第ではあるのですが。通常、Webなどで書かれているような設定をしているかぎりですと、おっしゃるとおりの挙動になります(つまりバグではなくて想定されている挙動です)。 PHPは、<?phpという文字列でスタートしますので。そのあたりはPHP関連をお調べください。 どうしてもshebang lineで動かされたいようであれば、httpd.confでの.php拡張子の挙動を変えてやる必要があります。 以上参考になれば幸いです。
すなおに Amazon.co.jp： たのしいCocoaプログラミング: 本: 木下誠 http://www.amazon.co.jp/dp/4861004438/ この辺の本から始めたほうがよかないですかね。 この本は2007年6月発行なのでそこそこ新しいです(このほかのCocoa本は 2002年とかになる)。
はじめましてralf124cと申します。 CGIでは環境変数を参照することでリファラ情報は取得可能ですが、HTTPにおいてリファラー情報は必須情報ではありません。 個人情報としてみる向きもあり、セキュリティソフト（例：NortonSecurity）などをエンドユーザーがインストールしているとデフォルトでこの情報はブロックされてしまいますし、Netscapeなどでは設定でブロックすることもできます。 よってリファラ情報を当てにしたページ作りは避けることをおすすめします。どうしてもそういう特殊な環境の方を除外するということが前提であれば環境変数を参照して判定文で振り分ければよいと思います。 perlでは foreach(sort keys %ENV){ print "$_: $ENV{$_}\n"; } でリファラを含む一部の環境変数を参照できます。
10年近く Web 系のエンジニアをやっています。 まずは、どの言語から習得するかを決めるところからじゃないでしょうか。 CGI と言っても、Perl/PHP/Ruby/Python/C/JAVA/SH など様々な言語があります。CGI はあくまでもインターフェイスですので。 趣味で始めたいのか、生業にするために始めたいかによって、お勧めの言語は変わります。 既出のオープンソースのソフトである、ZenCart や、XOOPS など、流行っているソフトの殆どは PHP で書かれていますし、未経験者が取り組むには一番とっつきやすい言語だと思います。ただ、同時に、セキュリティホールを作ることがたやすい言語でもありますので、セキュリティについて十分に理解したうえで実運用する必要もあります。PHP で書かれた、オープンソースで大流行してるソフトも中を覗けば酷い状態になっているものも珍しくありません。 Ruby や ActionScript プログラマは、これからの Web 制作業界でニーズが上がってくると思います。とくに、受託業務がメインの会社では。RoR も盛り上がってきています。 Perl も再燃してますよね。私は PHP を見限って Perl に戻りました。Ruby にもそろそろ手を出そうかなとも思っています。 どの言語を勉強するにしても、まずは、お使いの PC に、その言語をインストールし、オフィシャルのリファレンスマニュアルを第一章から順番に、実際にプログラミングしながら、読み進めていくことです。 どの言語のリファレンスも探せば無料で読めます。
>type sample.pl #!/usr/local/bin/perl use strict; use CGI; my $file=new CGI; open(DATA,"/home/data.txt"); $file=<DATA>; close=(DATA); print "Content-type: text/html\n\n"; print "data=$file"; >perl -c sample.pl Can't modify close in scalar assignment at sample.pl line 7, near ");" Bareword "DATA" not allowed while "strict subs" in use at sample.pl line 7. sample.pl had compilation errors. サーバーに持っていって実行する以前の問題。 入門書をもう一回よく読むことをオススメします。
forbidden になるってのがよくわかりませんが、 拡張子は .cgi にしてますか? あと、ヘッダを出力してないのが気になります #が、別にこれはエラーになる類の問題じゃないよなあ iswebでCGIを利用しよう　＜後編＞/魅せるホームページ作成講座/infoseek isweb http://iswebmag.hp.infoseek.co.jp/sample021.html > 編集が終了したCGIファイルは拡張子を「.cgi」にして保存しておきましょう。
ScriptAlias ディレクティブで指定したパスでは、拡張子に関係なく、全てのファイルを実行ファイルとして Apache は実行しようとします。 （なので、.cgi という拡張子を付けなくても実行されます） ですので、HTML ファイルも表示ではなく、実行しようとしてエラーになります。 No.1 さんが書かれているように、AddHandler を使えば、指定の拡張子のファイルを CGI として認識しないように指定できます。 http://httpd.apache.org/docs/2.0/mod/mod_mime.ht … 例） AddHandler default-handler .html .htm .gif .png .jpg .swf .css .js .xml .rdf CGI の実行に関しては以下を参考にしてください。 http://httpd.apache.org/docs/2.0/howto/cgi.html Windows 上で動いて、Linux 上だと駄目ということは、おそらく Perl のパス指定か、改行コードの問題でしょう。
仕様や業者により金額は上下しますのであくまで主観ですが。 項目を追加したり対象を追加したりする管理ページ的なインターフェィスも必要だと思います、尚且つ盛り込むＨＰにあわせて製作するとなれば業者によりけりですが８万～と言った印象です。 ＣＧＩ部分を触らずにHTMLはご自分で変更できるようなテンプレートHTML仕様となるとさらにＵＰと言った所です。 で、データベースの部分だけをご自分で構築するのはお勧めしません。データベースのテーブル設計はCGIよりも重要ですし、含めて業者にまる投げするのが一般的です。 あと必ず必要なのは、構築する対象のレンタルサーバー等が(PHP及びCGI、Mysql及びpgSQL)を利用できるものであることが条件となります。
&ReadParse(*MYDATA) の後ろに ; が無いのでは？
【その１】 ここでメールアドレス抽出用のcgiが配布されています。 http://www.gangansearch.com/sea/tool.html CGIですので登録数が多いとサーバーに負担がかかるかも知れません。 また書き出したメールアドレスは.txt形式のファイルでサーバーに保存されるので そのままにしておくと他人も見る事も可能です。 書き出したらすぐにダウンロード、削除するようにしてください。 【その２】 yomi-searchのログであるys4.cgiをFTPソフトなどでローカルに落としてください。 次にローカルに落としたys4.cgiをメールアドレス抽出ソフトにかければＯＫです。 メールアドレス抽出ソフトは探せばいくつか出てきます。 （↓シェアウェアですが、試用でも30個まで抽出できます） Win：http://www.vector.co.jp/soft/win95/net/se367553. … MAC：http://www.vector.co.jp/soft/mac/net/se342721.html 【その３】 yomi-searchのログであるys4.cgiをFTPソフトなどでローカルに落としてください。 ys4.cgiの.csvファイルに変換して（データ区切りの<>を","に置き換えて）表計算ソフトで読み込めば、 メールアドレスだけ抜き出す事が可能かと思います。 ■CSVって何？ http://homepage3.nifty.com/dkcsv/soft/csv/index. … ■Yomi-searchでのメールアドレス取得 http://yomi.pekori.to/bbs2/wwwlng.cgi?print+2003 …
どこをどう修正したのかが分からないので適切な回答が出来ません。 CGI的なエラーが出てないと言うことはメール送信構文のエラーと言うことになるので、メール送信部分を見ればいいと思います。 ただし、メール送信のルールを分かってないとみても分からないと思いますが。 なにか改行\nを削除してしまって添付ファイルが本文と同じパートで送信してしまったとかではないですかね。 ソースか受け取ったメールがあればもう少し詳しく分かるかもしれません。
kentさんのcgiプログラムなら、ロジック中に注釈が細かに書かれていると思いますよ。 たとえばpost mailだったら、容量制限にmax_fieldという名称の変数でバイト量制限を掛けている事が注釈にも書かれています。 こういった変数をチェックして、数値を変更したらいかがですか?
カウントの正常表示とは、JavaScript実行後の画像表示のことを言っているならば、まだ認識が不十分かと思います。 　http://******.hp.infoseek.co.jp/cgi-bin/count/co … への直接アクセスでは、JavaScriptソース表示にしかなりません。 IEだと勝手にhtml表示するかもしれませんので、「ページのソースを見る」で、このJavaScriptソースの前後に、iswebの宣伝挿入タグが無いのを確認したら、 本番ページのカウンターを表示させたいところに以下の様に埋め込んで、JavaScript onで表示させてみて下さい。 <script type="text/javascript" src="/cgi-bin/count/count.cgi?js"></script>
フォルダではなく、BBS.cgiというプログラムの中に書く必要があるのだと思います。 お使いのCGI（http://www.rescue.ne.jp/ の中のどれであるか）を教えていただければ、アドバイスできるかと思います。
とりあえず、Apacheのログをご覧になったらどうでしょうか？ もうちょっと詳しいエラーの原因が出ていると思いますよ。 または、コマンドラインから0001Windows.cgiを実行してみるとか。 perl ./0001Windows.cgi パーミッションの設定漏れなんて初歩的な原因ってことも考えられますよ。
勘違いしているようなので言っておきます。 ＞CGI部分がどの機種の携帯でも問題なく表示出来るものを探しています。 CGIは表示部分としては関係なく、HTMLを吐き出しているだけなので、表現が間違っています。 CGIがHTMLを書き出していると言う感じです。 探せばテンプレート式のものがあるのでそれを探してみてください。 ＞私自身がCGIに詳しくありませんので、色々なフリーCGIをDLして使って見たのですが、必須項目が付けられなかったり、複数に送れなかったりと、やりたい条件が一致しないものでしたので、質問の条件が全て当てはまるものがありませんでした。 以下でテンプレート式のメールフォーム（フォームメール）を探してみてください。 http://www.i-say.net/cgi/ http://www.yumemaboroshi.net/
AuthUserFileパラメータは、認証に使用するユーザ名とパスワードの組み合わせが書いてあるファイルの「サーバ上での」保存場所を指定する必要があります。 ですので、「＿＿＿＿＿」の部分は、.htpasswdをアップしたフォルダ名を記入します。 お使いのFTPソフト上で、フォルダ名を確認して、それを記入してください。 ＞/home/は必ず記載するということなんでしょうか？ そんなことはありません。 レンタルサーバの場合、ユーザのホームディレクトリが、「/home/」ディレクトリ以下に作られることが多いので、例としてあげてくださっただけですね。 あくまでも、あなたがお使いのサーバの設定に沿う必要があります。
連想配列というのを使うのが簡単です。 my %total = (); open(IN, "CSVファイル.csv"); while(<IN>){ (年,月,日,摘要,入金,出金,備考) = split(/,/, $_); # 摘要毎に集計 $count{ 摘要 }+= 入金; } close(IN); #表示 foreach(keys %total){ print "$_,$total{$_}"; }
>「誰なのか情報」を取得できるのは、docomoの公式サイトのみということでしょうか？ そのとおりです。 NTT Docomoとコンテンツを配信するベンダーとの間で契約がなされ、 正当な公式サイトであると認められている場合のみ取得できます。 認められていないサイトは俗に「勝手サイト」と呼ばれ、申請するまでもないキャンペーンページや 個人的なサイトが該当します。 こちらは明示的にユーザを判別するロジックを設計する必要があります。 まぁ普通のWebサイトを公開している感覚ですね。 >docomoの公式サイト = iモードメニューに掲載されたサイト　という理解で正しいでしょうか？ 正しいです。
出力するhtmlのcharsetが euc-jp になっていますか？ また、euc-jp とするところを、shift_jisのように、euc_jpとか？ jcode.plなどの設定が合っていて、文字化けが起きるとすれば、今のところ上記ぐらいしか、思い浮かびませんが。
ここから探せばご提示の CGI より優れたものが沢山見つかると思いますよ。 http://www.google.co.jp/search?q=%E3%83%95%E3%83 … グループウェアは他にも便利な機能が沢山ついてますし。 海外製のものでも日本語のランゲージパックが付いているものもありますし。
うろ覚えで申し訳ありませんが、「さくらインターネット」の「さくらのブログ」で出来たような気がします。 しかしこちらは有料サービスですので利用するためにはスペースをレンタルする必要があります。 「さくらのブログ」と同じシステムのブログがseesaaブログだと聞いた気がしますので試されてみるといいかもしれません。こちらは無料ブログです。 曖昧な情報で申し訳ありません。
IEの挙動がおかしいんですけどね。 http://web.sfc.keio.ac.jp/~t03920hm/diary/index. … USER_AGENTを取得し、そこで分岐させる方法がスタンダードです。 当方はPerlから離れて久しいのでどう取るかは失念しましたが・・・ 他の方に期待。（調べた方が早そうですが^^;) >では、attach.cgiの (snip) >print "Content-type: application; charset=Shift_JIS\n"; >というふうにContent-typeにも文字コードを指定してあげるようにしてはいかがでしょう？ 出力されるファイルの文字コードを変えても解決しませんよ。 >print "Content-type: application\n"; >とありますが改行という意味の\nは二回つける方が多く見かけます。 すべてのコードには意味があります。 意味が分からないうちになんとなく使うのは危険だということを認識しましょう。 HTTPの仕様は「最初の空行まではヘッダ」となってます。 // 少し違いますが Perlの場合はヘッダを明示的に書かねばならないので空行(\n\n)を書くのです。
Windows の改行コードは CR+NL なので、テキストエディタで開いた際に、perl のパスは、#!/usr/bin/perl のように見えますが、実は /usr/bin/perl\x0D を実行しようとします。/usr/bin/perl -w など、スイッチを指定する場合はスイッチに付いた \x0D は無視されるので実行されます。 また、ターミナルで Linux にログインし、chmod コマンドで実行権限を CGI ファイルに付けてください。使い方は $ man chmod もしくは、chmod --help で確認して下さい。 その先もまだ正常に動かすのは時間がかかるとは思いますが、Apache のエラーログを確認しながら動かしたり、Apache から動かさないで、コマンドラインから実行してみたりして頑張ってください。 まだ Linux で Perl/CGI を動かすレベルまで行ってないように見受けられますので、Linux の基礎的なところから学習されることをお勧めいたします。
http://www3.nict.go.jp/cgi-bin/JST.pl のように、標準時を提供しているサービスを探して、そこに表示された時刻を SSI で読み込むなどが簡単な実現方法だと思います。使用許可が必要ですが。 一番確実なやりかたは、自前のサーバーに ntp クライアントを用意して、サーバーの時刻を CGI で表示する方法ですね。
多分 $ENV{'REMOTE_HOST'} が取得できないサーバなのでは ないでしょうか。 サーバ屋さんに問い合わせてみると良いと思います。
下記URLでご希望のものがあると良いのですが…。 http://piece.s201.xrea.com/p/search.cgi?mode=sea … なかなかPCと携帯の両方で対応したパスワード掲示板は少ないのですね。
.htaccess の allow についてはサブネット表記が許可されていますので > 121.111.231.3～121.111.231.18 をご希望のように記述すると 121.121.231.3/28 になります。 なぜ、サブネット部分が(/ より後の部分)が、この場合 28 になるのかは サブネットマスクについて、お勉強なさってください。
もしご自身に若干のCGIのスキルが有るならその程度は自作されても良いと思いますよ! Perl での場合ですが、 cgi-lib.plを用います。 チェックボックスのチェックが入れられると、$in{'チェックボックスの名前'}は1の値が入るので、それを利用して、 （ここで、チェックボックスの名前はcheck1,check2・・としておきます） if( $in{'check1'} and $in{'check2'} and ... ){ 次のページを表示 } else { エラーメッセージを表示 } のように、単純なスクリプトですみます。 また、check3はチェックしてはいけない場合、 if( $in{'check1'} and $in{'check2'} and ... ){ unless ( $in{'check3'} ){ 次のページを表示 } } else { エラーメッセージを表示 } としてしまえば良いでしょう。Perlでは、未定義の変数や、0は、false、つまり「偽」、文字が入っていたり、数字が入っていればtrue、「真」となるからこのような書き方が出来ます。 参考にしていただければ幸いです。
httpd サーバの種類は、何でしょうか。 Apache ならば、httpd.conf で、 SetEnv ディレクティブによって環境変数を設定すればよいと思います。 SetEnv PERL5LIB /usr/local/lib 参考URL：http://httpd.apache.org/docs/2.2/mod/mod_env.htm …
すみませんちょっと間を空けてしまいました。 エラーメッセージの内容から判断すると if( $tmp_up_file->openTempFile() && $tmp_up_file->checkSessionID( $this->{'req'}->getParam("session") ) && $tmp_up_file->readFile( $this->{'req'}->getParam("key"), $file ) ) { か if( $tmp_up_file->openTempFile() && $tmp_up_file->readBoundaryByAdminMode() && $tmp_up_file->readFile( $this->{'req'}->getParam("key"), $file ) ) { の 判定でエラーが起こっていて、多分ファイルオープンで引っかかっているのだろうと 踏んだのですが違うみたいですね。 質問文を読み返すと管理者画面…とあるので後者の判定でしょうか。 とりあえずは原因を特定しないとどうにもできないので、 if( $tmp_up_file->openTempFile() && #$tmp_up_file->readBoundaryByAdminMode() && $tmp_up_file->readFile( $this->{'req'}->getParam("key"), $file ) ) { のように、チェックの一つをスルーしてみてください。 これでメッセージが出なくなればここでのチェックが 怪しいと絞れるのですが。
Downloadsをクリック ↓ 最下部の「ActivePerl 5.8.8.822 and ActivePerl 5.6.1.638」をクリック ↓ 右上の「Get Active Perl」のボタンをクリック ↓ 一番上の「Active Perl」の項目の「Download」をクリック ↓ 各項目に記入(名、姓、メールアドレス、国名)して、Continueをクリック ↓ リストからバージョンとOSを選んでダウンロード でokです。 Windowsなら「Windows」の「MSI」をダウンロードすればインストーラー付きの物がダウンロードできます。
＞基本的には本来のページにはアクセスしていない で間違いないです。 Googleのキャッシュは簡単に言うと、Googleがサイトに訪問した時のデータをGoogle自体に保存するというものです。 なので、「キャッシュを閲覧＝Googleに保存されたデータを閲覧」となり、実際にそのサイトへのアクセスは行われません。 但し保存されるのは一部のデータ(htmlやcss等)だけなので、画像などは別途読み込まれた筈です。 なので、キャッシュが保存された日時が古く、元の画像が既に存在しない場合なんかは画像が表示されません。 アクセスカウンターの中には画像の読み込みによるカウントという方法を取っているものがありますので、そういうカウンターであれば有効になると思いますが、基本的には一般的なアクセス解析の類ではキャッシュ閲覧分は無効になります。
今の時点ではどなたが実際に例を出して回答しても内容を理解できないでしょうし、先にも進めないと思います。Perl で作りたいか、PHP で作りたいかは分かりませんが、言語の基礎的な勉強から始めることをお勧めいたします。
セッションも一種のデータベースですから、セッションIDに関連づければどんなデータでも保存できます。 関連づけたデータの方にアクセス時刻やアクセス回数を保持しておきます。 > １　CGI全てのPOST、GET指定に、 > 　　セッションID（ユニーク）を付加させる。 > 　　　ID+time IDがユニークなはずですから（でなきゃ「ID」じゃない）、timeは不要では？ よくユニークにするためにtimeを付加することがあると思いますが、 サーバーへのアクセスは、２人のクライアントが同時にアクセスすることもあるので、 ユニークな文字列が作れなければ、IPアドレス＋timeでIDにできます。 > いつセッションIDの生成するのか？、 最初にアクセスしたとき。 セッションIDが存在しなければ、それが１回目のアクセスと言うこと。 > いつセッションIDをチェックするのか？、 アクセスしたとき。 > いつセッションIDを削除するのか？ 任意。 自分（CGIアプリケーション制作者）が不要と判断したとき。 たとえば、このくらいの時期が過ぎれば古すぎて使えないデータになるだろう、という期間。 > 最初の１回目、または、３回目のPOSTだけを有効にしたい場合 ３回目のアクセスを有効期限としても良し、４回目以降のアクセスを全て無効にするなら数日とか数年とか。 ただし、ネカフェから別の人が１時間後にアクセスすることもありますので、IPアドレスで管理するなら、有効期限の調整は結構考えさせられます。 > （２）セマフォ制御 何時、何人がアクセスしてくるかわからないセッション管理にセマフォは無駄、 有効期限が１年なら、その１年間、メモリが使いっぱなしになります。 ホスティングサービスを利用すれば、間違いなく過負荷によるアカウント剥奪ですね。 通常はファイルに保存して管理します。 また、forkによって起動したアプリケーションも一定時間でOSにより強制終了させられることもあります。 この辺はサービスの利用規約やサーバーの仕様書を確認してください。
ToraX3さんの「一言メッセージ」などはどうでしょうか？ http://www.torawaka.jp/ToraX3/messe.html 設定方法もわかりやすく説明されています。 下記サイトさんではいろんなCGI配布サイトさんのスクリプトを一言メールフォームにする方法が書かれています。 http://ag5.net/~roten/s/index.html
こちらで確認しましたが、うまく動作しているように思われます。 もう少し詳しく聞かせてください。 例えば、どこのページを開くと、ページ内容が現れてしまうのか？ もしくは設定している直リンク許可の部分を書いてくださるとか？
こんな感じはどうでしょうか？ http://www.wsj21.net/cgi-bin/_sample/ecobbs/ecob … もしくはもう少し、どのような事がしたいのかあげてください。 この開発者のページ http://www.wsj21.net/index.html 参考URL：http://www.wsj21.net/index.html
sjisのまま扱いたいということなら、 ShiftJIS　「脳」の文字コード -OKWave http://okwave.jp/qa3306321.html の回答 No.2 にあるようなパターンで、ダメ文字の中に隠れている '\' をエスケープすればうまくいきませんか? デバッグのときなんかはいろいろ見落としがちですからね。 謝るこたないですよ♪
chmod 0606 しておくことで対処できませんか？
>正直、サーバのエラーログの見方も分からない初心者なので、少し時間がかかりそうです。 逆に言えば、エラーログの見方さえ分かってしまえば脱初心者はすぐそこだと言うことです。 レンタルサーバだと見れないかもしれませんが、 /usr/apache2/log/error_log /usr/httpd/log/error_log など探すと良いでしょう。 見れない場合はローカル環境でCGIが動く環境を作ってみるのも良いでしょう。
うはぁ、なんか凄いミスしてる（￣□￣） $mode=$_GET['mode']; に訂正。 submitボタンの名前をsmtにするいつもの癖です○|￣|＿
GETではアドレスで値を渡します。 ですから、ttp://～/log_viewer.cgi?name=16.cgiでも構いません。 フォームからGET属性を付けて送っても結局は上と同じことになります。 結局、エラーの内容はなんですか？ 500エラー(内部サーバーエラー)でしょうか。404エラー(そのファイルがない)でしょうか。それとも他のでしょうか？ 上のようにエラー内容・Viewer.cgi(log_viewer.cgiかも？)と1.cgiの中身・使っているサーバーの名前の4つを教えていただけますか？ くれぐれも著作権に当たらないように。 あと、最初は Viewer.cgi?name=hogehoge&…(略　なのにリンクは log_viewer.cgi?name=16.cgi　ですがそこらへんのミスとかではないのでしょうか？
横から失礼します。 このサイトに行き、設定部分などを見ましたが、 フォルダ名を変えても、そのまま動きそうです。 今動いているCGIを、FTPなどで一度自分のPCにすべて落として、 フォルダ名を変えてFTPにアップして、 パーミッションを変更すれば動くのではないかと。 もちろんデータファイルも一緒にアップしてしまうと、 新しく設置した掲示板にも、前のデータが出てきてしまいますが、 管理画面等で記事を消していけばよいかと思います。 （もしくはデータファイルを空にする。） ただどちらにしろ、FTPとかパーミッション変更などの知識があれば、 と思います。
($mtime) = (stat($file))[9]; とすると$fileの更新時間を取ってくれるので、それで判定すると自動でやってくれるので面倒では無い気もします。 @file=('a.htm','b.htm'); $time = time; $i = 0; foreach(@file){ ($mtime) = (stat($file))[9]; $mtime += 60*60*24*1; # 更新時間の一日後 if($time < $mtime){ $span[$i] = 'New'; } とかすると自動でいい感じになるやもしれませぬ。 実運用だとデータをテキストで持って 0\お知らせ\tinfo.htm\tmynu/\n 1\tニュース\tnews.dat\tnews.cgi\n 2\tblog\tblog.dat\t./blog/\n とかして、 foreach $data (@data) { chomp($data); ($a,$b,$c,$d) = split(/\t/,$data); ($mtime) = (stat($c))[9] + 60*60*24*1; print qq|<p><A HREF="$d">$b</A>|; if($time < $mtime){ $span[$i] = 'New'; } print qq|</p>\n|; } とかやればメンテがしやすいと思います。
もう一度同じ内容ですが http://www.pref.tottori.jp/kouhou/sphoto/ ページ見ました カテゴリー　キーワードはこのサイトと「ほぼ同じ」ということですが まったく同じなのでしょうか　少し違うのでしょうか 具体的には　どういうカテゴリ　どういうキーワードですか レイアウトはそっくりにも作れますが完全に同じものでしょうか 同じものを作ることに問題は無いでしょうか　法律など 同じとはどこまで同じでしょうか　具体的に 全何枚あるのでしょうか　1ページに何枚表示しますか ＰＨＰで作ることになると思います　PHPを用意してください
これでいかがでしょう。 ------------------------------------------------------------- RewriteEngine on RewriteBase /cgi/ RewriteRule ^pv/([0-z]+)\.html$ past/$1.html [R=301,L] # この行を追加 RewriteRule ^([0-z]+)/([0-z]+)\.html$ index.cgi?mode=$1&no=$2 ------------------------------------------------------------- R=301 は、ステータスコード 301 を指定 L は、このルールがマッチしたらURL変換を終える、という指定
無事に解決なさって、きちんと動作しましたこと良かったですね。 お疲れ様でした。CGIは慣れてくると設置も簡単に出来るようになると思いますよ。 当方も以前は全くの初心者でしたが、今では楽に設置できるようになりました。 そして、大変差し出がましいことを申しまして申し訳ないのですが…。 無事に問題解決なさったようですので「回答受付の締め切り」をされた方がよろしいかと思います。 未だ受付中というのも他回答者様（または質問者様）を困惑させてしまうかもしれませんので。 差し出がましいことを申しまして本当に申し訳ございません。
ぱっと思いつくのは以下の方法。 １、クッキーを発行する ２、IP（やE-mailなどの一意な値）と結果をサーバで保存する ３、内部パラメータを持って回す（用意に偽装可能）
ほどんどコードを理解できる脳が俺にはありませんが,思いついたことだけ。 CygwinとかUNIXマシンで走らせていて, かつ,ファイル自体をWindowsマシンのメモ帳等CRLFのみを想定したエディタで見ているなら それらの環境の改行コードがLFだからなのですが自信がありません http://d.hatena.ne.jp/bopperjp/20060808
2です。 〉cgiエディターを開いて１行目を修正する。 〉と書いてましたが、修正とは下記のような/usr/local/bin/perlパスの設定という事でしょうか 確かにそうです。 〉txtファイルの中の１部ですが、見て頂けると助かります。 〉気づいた点がありましたら、意見をお聞かせください。 どのファイルの中身ですか？どこを修正したのかや前後の処理がわからないので意見の言いようがありません。 それに、丸々と書くと著作権の侵害と問われることがあるので注意して下さい。 キリがないので正直言わせてもらいますが、とりあえず親切すぎるヘルプ(http://www.skullysoft.com/ssc-board/index.php?Ba …)を無駄にせずこれにそって設置して下さい。 それでヘルプを読み直したり検索しても解決できないようなどうしてもわからないことと内部サーバエラー等がでるようでしたらまた聞いて下さい。 一つ作業をして聞いてもらっていたんじゃ私の体が持ちません。。 あなたの専用サポート役ではないんですから…
サーバの知識、perl,phpの知識はお持ちでしょうか。 perlではどうやるか失念しましたが、（ソケットを自分で開いて制御せねばならなかった気がする） phpで超簡素にやろうとすると以下になります。 メールアドレスを既に入れておきたいならば<select>を使うなど工夫が出来ます。 javascriptを使ったり<button>を使ったりすることでメアドを直書きするのを回避すると言った工夫も出来ます。 // 単純に回避したいならメールアドレスはphp側で持たせたほうが良いでしょうが。。 [form.html] <form id='f1' action='mail.php' method='POST'> <input type='text' name='to' /> <input type='text' name='subject' /> <textarea name='body'></textarea> <input type='submit' /> </form> [mail.php] <?php $to = $_POST["to"]; $subject = $_POST["subject"]; $body = $_POST["body"]; if(! mb_send_mail($to,$subject,$message) ) 　echo "送信エラー"; else 　echo "送信完了"; ?> ただ、上記のコードでは危険除外や文字化けに対する処置を行っていないので そこら辺を追加する必要はあります。 // といっても２～３ロジックな気がしますが割愛 参考URL：http://jp2.php.net/mb_send_mail
#1です。 送る事だけを考えておられるようですが、 フォームから送信後は、その結果（レスポンス）を受取る為、待ちの状態になります。 ですからHTMLでは一つのフォーム（ウィンドウ）で二つのCGIに送るというのは不可能なのです。（二つに送れないというより、二つの結果を同時に受取れないのです） Javascriptで思いつく方法は二つ。 １つはフォームの送信を契機に子ウィンドウを開き、元のウィンドウと子ウィンドウの二つからそれぞれに送信するという方法。 もう一つは通常の送信ではなくjavascriptの非同期通信機能を使い、バラバラに二つのCGIにpostを送りバラバラに帰ってくる二つのCGIからのレスポンスを受取る事という方法。 前者はウィンドウを開く、自動でフォームを送信するという割と昔からある技術の組み合わせです。 後者は「Ajax」と呼ばれる技術です。近年、解説サイトなどが多数あります。 参考サイトについては回答文の主要単語を組み合わせて検索してみてください。
ちょっと話がそれますがいくらなんでも強制ゲストブックっていうのはよくないのではないでしょうか？ もちろんわかりやすいところに名前を書いて送信するとサイトに表示され不特定多数の人に回覧されますとか書くならいいと思うけどいちいち名前を聞いてくること自体が回覧者の立場から言うと気持ちのいいものではないと感じます。 特に小学生の方は本名を書いてしまい、書いた後に気がついたもののすでに時遅しとかなりそうですけど。そこら辺の対策はどうするのでしょうか？
以下は直接関係の無い内容です　すいません 法人ではなく　個人で回答をしています　参考までに以下は過去の回答です 「anotherone」 http://oshiete1.goo.ne.jp/qa3407338.html http://oshiete1.goo.ne.jp/qa3467012.html http://oshiete1.goo.ne.jp/qa3492070.html?ans_cou … Excel　Access　などOffice系ソフトを中心に使っています Excelマクロ　VBAから発展して　VBS　WSH　Javascriptなど JSP　サーブレット　を使ったWeb開発でJAVA　MySQL　Apache　を勉強しました PHPは最近はじめました　まだ自由に書けるというところまではいってませんが ある程度形にできるようになりました 　1.　使わないと忘れるものもあるので「復習」として回答するものや 　2.　他の回答より,良い解決案を持っているときに「押し売り」したり 　3.　勉強中のとき「課題」として回答しています 今回は3番目です　部品として　個別の知識はありますが 組み合わせて1つの形にしたことはないので 良い機会だと思って回答しました あてがなく困っているなら作らせてください　個人的には良い勉強になります アレルギーで困っている方も多いと思います 少しでも役に立つもの　使いやすいものが作れたら　と考えています
　済みません、スクリプトを良く見ないでコメントしてしまいました。 このスクリプトが全てではなく、@NEWがどのようにcsvとかブラウザーに表示するのかが分らないのですが。 push(@NEW,$data2); の @NEWに入れ込んでいるので、 else { push(@NEW,$data2); $hit++; } } の下に、 $goukei = ",,,$nkin,$skin,"; または、 $goukei = "$nkin,$skin"; と記して、 push(@NEW,$goukei); ではどうでしょうか。 またテストとして、push(@NEW,$goukei); の下に、 $test = join("\n", @NEW); &error('エラー',"$test"); の2行を追記して、アクセスすると、エラー表示のところにズラズラ出て最後に合計金額とかがでていませんか？ 　出ていてもいなくても、あとでこの2行を削除してください。 　教えて頂いたhtmlのソースの方は、@BASE = ; と記述ミスがありました。@BASE = <IN>; だと思います。
まずはじめに、CGIって何だかを理解してください よく、CGIをプログラム言語の一種だと勘違いしてる方が多く見受けられますが、プログラムの事ではありません プログラムを起動する（動かす）ための仕組みであり概念の名前です http://ja.wikipedia.org/wiki/Common_Gateway_Inte … 1. 最近ではCGIに限らず他の方法でもプログラムを動かす仕組みがあります ですから、ここでは インターネット上でプログラムを使うと何が出来るか ということを簡単に説明します ます、一番分かりやすい例として、この質問サイトも「PHP」というインターネット向けのプログラム言語で動いています このサイトの場合、たぶんCGI方式では動いていません（関係者ではないので詳しい内容はわからないため、私の推測です） 言語は他にも何種類かあります。 有名どころでは、、C言語、Perl、Ruby、などがあります。（他にもいくつかあります） その昔、Perl(パール)というプログラム言語がインターネット用のプログラム言語としてよく使われていた時代があり、このPerlを動かすための仕組みとしてCGIが使われていたため、Perl=CGIと思い込んでしまう人が多いのです ちなみに「PHPをCGIで動かす」等ということも可能ですしこういう表現も正しいです。 同時にさまざまな人が書き込みしたり閲覧したりする仕組みをプログラムで作ることができます。 他にも通販サイトやブログ、銀行のオンライン振込み、などの多岐にわたって使われています。 ヤフーやGoogle等のポータルサイトと呼ばれるジャンルのサイトもさまざまなプログラム言語を駆使して作られています。 正直な話、ブラウザ(インターネットエクスプローラー等）で閲覧できる形でさえあれば、何でも出来ます。 2. CGIそのものを理解するというよりは、各プログラム言語を理解するということになります プログラムそのものの概念を理解できていないと初心者の方がいきなりプログラム言語を使ってさまざまな仕組みを作るのはかなりの努力と時間を要します ＊プログラム言語を駆使してさまざまな仕組み（システム）を作るお仕事をプログラマー等と言います 得にインターネット上の仕組みを作る人たちを「webプログラマー」等と言います。
電話番号利用・指定状況 (総務省) http://www.soumu.go.jp/joho_tsusin/top/tel_numbe … │ ├→ 電話番号に関するＱ＆Ａ │ ├→ Ｑ２ 市外局番・市内局番とはどのようなものですか？ │ │ └→ 固定電話番号の桁数は10桁 │ └→ Ｑ５ 携帯電話やPHSに電話するには？ │　　　　　└→ 携帯電話の場合は「080」又は「090」、 │　　　　　　　　PHSの場合は「070」から始まる11桁の番号です。 └→ 電気通信番号指定状況
http://okwave.jp/qa3500282.html これもふまえて、 その程度のことが出来ないようでは、アカウント情報他、信用を扱う上で問題が出そうなので、やめた方が良いと思います。 業者に制作依頼を出すことをおすすめします。
勘違いしているかもしれませんが…。 「ＦＣ２ＷＥＢでは、ＣＧＩ・ＳＳＩの利用を完全に禁止しております。」 だそうです。 また、 「ファイル形式は、html.htm.hdml.wml.gif.jpg.jpeg.css.swf.ico.csv.js. class.mel.jar.au.dor.txt.png.htaccess.htpasswd.dat.rss.rdf.xml 以上のようになっています。動画やmp3などは使えません。 ※有料版にアップグレードして頂ければ、アップロードできるファイル形式の制限はなくなります。但しCGI、SSI・PHPはご利用になれません。」 だそうです。 参考まで http://web.fc2.com/q&a.html 参考URL：http://web.fc2.com/q&a.html
安心出会い検索 http://www.deaikensaku.net/ cgiに関係の無いサイトのように見えますし、タイトルからも「え？」と思うかもしれませんが、下のほうに 「無料CGI配布」 という項目があります そこにある 「PCから携帯のURLを送信フォーム」 というのが希望のものだと思います 他にも… http://chankaz.net/php/script/send_uri.htm http://tsubakuro.xii.jp/htm/help/kmail/kmail.html 参考URL：http://www.deaikensaku.net/
おそらく文字コードShift_Jisにおいて、 一部の文字で起きる現象ではないでしょうか そうだとしたら詳細はこちらが参考になると思います http://www.kent-web.com/pubc/jcode/ （対象となる文字の一覧の中に「申」の字もあります） 対処例： 申し上げます -> 申\し上げます
アドレスや電話番号は送信されません。 参考URL：http://www.kawa.net/works/perl/phone/phone.html
それって、クッキーつかってないっすか？ DoCoMoはそこらへん遅れてるのでクッキーつかえないっす 失礼な言い方ではありますが、現時点でのあなたの力ではどうすることも出来ないかと思われます
> jcode.plをjcode.pmに変換すればよいらしいまでは分かったのですが、 > どこをどう変換すればいいのか CGI プログラム中に、 &jcode'convert(\$line, "euc", "sjis"); とか &jcode::convert(\$line, "euc", "sjis"); のような記述がないでしょうか？ jcode.pl によって、 「どの変数」を「何の文字コード」から「何の文字コード」へ変換しているのかを、まず知る必要があります。 jcode.pl の使い方については、 「jcode.pl の私的な解説書」が詳しいです。 ↓参考URL 参考URL：http://mikeneko.creator.club.ne.jp/~lab/kcode/jc …
CGIでやりたいなら、 例えばPerlなら便利なモジュールがあります。 http://www.kawa.net/works/perl/feedpp/feedpp.html http://www.kawa.net/works/perl/treepp/treepp.html ただ、文章全体から察するにRSSを配信したいとのことなので、 Yahoo!Pipesが一番お望みに叶うかと。 参考URL：http://www.google.com/search?hl=ja&q=Yahoo%21Pipes
http://www.futomi.com/lecture/env_var/http_user_ … http://opqr.jp/2007/09/phppc.html http://memorva.jp/memo/mobile/http_user_agent.php ＰＨＰでもできます $_SERVER['HTTP_USER_AGENT']　を区別します テストできる環境はあるのでしょうか サンプルを用意します
・PHP プログラミング言語の一つ ・CGI サーバサイドでプログラムを動かす仕組みの一つでプログラミング言語ではない。 CGIモードでPHPも動かせるしさらにはCでも作れるし Winodws環境でならVB(ASPではなくて)でもCGIを動かせる。 >PHPの方がCGIより軽量で動作が速い、データベースへ簡単に接続できるということ。まではわかりました。 PHPでもCGI(Perlなど)でもデータペースに接続できる。 CGIはオーパベッドが発生する上。 >CGIとPHPはいったいWEBで何をするのでしょうか？ サーバサイドで動的サイトを作る。 これに対してクライアントサイドで動的ページ作るには JavaScriptなどを利用する。(最近はやりのAjaxもJavaScriptの応用型)
ランダムに広告を表示するCGIは、バナー広告用CGIを探せばありますよ。 http://www.01nni.com/free.html ここで配布されている「ランダムTEXT広告配信ＣＧＩ」も良さそうですね。 使い方によっては、画像のバナーも表示できるのかも。 あとは掲示板の表示したい箇所に、このCGIを記述すれば良いかと思います。
まずSmartyはPHPで使うもの >あるCGIのランキング登録の場面で使用したいのです このCGIはPHPで書かれているものか? PHPで書かれているものなら >{$xoops_userid}>を定義している部分をXoopsのソースから ごっそりと持ってきてそのランキング登録にソースごともって来れば良い。 でもXoopsのライセンスはGPLだからそのソースを組み込んだCGIのプログラムも強制的にGPLになりソース公開義務が発生します。 http://xoopscube.jp/modules/xhnewbb/viewtopic.ph … しかもマルチですか。
簡単な掲示板やメールフォームで言えば、入力して投稿ボタン（送信ボタン）を押すと、確認画面が出るようなタイプのCGIであれば、確認画面に設置してある「もどるボタン（訂正ボタン）」を押して、入力画面に戻れるようになっているタイプであれば、入力した内容が消えてしまうと言う事は少ないと思います。 完全に消えないとは言い切れませんが、一応代用できるかと。 ※JavaScriptで全画面に戻るようなタイプであれば、消えてしまう事もあるかも 入力する側も、入力には気を付けていると思いますので、商用での利用でなければそれほど気にする事でもないかもしれません。 では。。。
希望のものは可能だと思いますが　まずはテストが必要です ＰＣにPHPが実行できる環境を用意してください http://www.apachefriends.org/jp/xampp-windows.html 用意が無ければ　これが簡単です　無料です http://cowscorpion.com/dl/XAMPPforWindows.html ダウンロードしてインストール http://www.thinkit.co.jp/free/article/0701/12/3/ http://www.thinkit.co.jp/cert/article/0701/12/3/ … Apacheだけ使います　 インストールしたらデスクトップにアイコンが作成されます アイコンから起動して　Apache　だけ起動してください ＜テスト＞ http://localhost/　これを開いて表示されるか確認してください http://localhost/xampp/phpinfo.php　これも確認してください この2つが確認できたら　PHPの準備完了です もしできなくてもＯＫです どこで　どのようにできなかったか教えてください そこからもう一度説明します
＜リンクについて＞ 画像からのリンク　申し込みのリンク 両方とも可能ですが　アフィリエイトだと思うのですが 単純なリンクなのでしょうか <a href=>タグでよければ簡単ですが 他に処理があるなら　ボタンなどになります どうしますか　何をしたいですか ちなみに　http://card.1192.tv/subcon_brand7.html このページでは　申し込みページのリンクは単純なリンクではありません
もちろん　レンタルサーバを使う人は多いと思いますが ほとんどの人は　一度自分でテストしてから　サーバにＵＰします もしおかしいものだった時　 サーバを使っている人全員に　迷惑をかけるかもしれないからです できれば最初は　ちゃんと動くか　よく確認することをおすすめします 確認のために　自分のＰＣにＰＨＰが動く環境が必要です XAMPPは無料で簡単に準備することができます　用意してみてください アットページ　http://atpages.jp/　 XAMPPが用意できない時は　こちらを利用してください　無料で　簡単です　 使い方　http://www10.atwiki.jp/atpagesguide/pages/23.html UP後必ずパーミッションを修正　フォルダ=707 .php=705　.txt=606 ページの上に 「ブラウザからはhttp://www*.atpages.jp/(ユーザ名)/ でアクセスできます 」 というところがあります　開いて　UPしたファイルまで進むと見れます まずは新規登録してください　用意ができたら　 まずは簡単なものを動くようにテストしてみます
パーミッションが指定されていない、フォルダやファイルは通常、変更の必要はありません。 特殊なサーバーもありますので、必ずとは言い切れませんが。 suEXEC の設定がありますので、必要があれば変更しますが >ちなみにcgiファイルは705、logファイルは606、フォルダーは707でアップしてます。 suEXEC ではなさそうですので、そのままでよいと思います。
「普通に拒否設定をする」というのは、 HTTPステータスコード で 403 Forbidden を返すようにしているのでしょうか。 だとすると、.htaccess 次の１行を追加すればＯＫ ErrorDocument 403 /~user/404.html ( /~user/404.html で表示したいファイルを指定する ) 参考URL：http://mikeneko.creator.club.ne.jp/~lab/web/htac …
perl-lib.pl をよくよくのぞいてみましたところ、 sendmailコマンドで-fオプションを指定できるように書き換える必要があります。 perl-lib.pl 212行目付近の send_email 関数は、 以下のような構造となっています。 （かなり省略しました） ------------------------------------------------------------------------------ sub send_email { my($sendmailpath, $uuencodepath, $subject, $from, $to, $cc, $bcc, $body, $files, $encoding, $separator) = @_; ... 略 if ( $sendmailpath =~ /blatj/i ) { ... 略 } elsif ( -e $sendmailpath ) { ... 略 if (open(MAIL,"| $sendmailpath -t")) { ... 略 } else { $err = 'Error Open sendmail Failure'; } } else { $err = 'Error Not sendmail Utility'; } $err; } ------------------------------------------------------------------------------ この if (open(MAIL,"| $sendmailpath -t")) { という行を、 if (open(MAIL,"| $sendmailpath -f $from -t")) { と書き換えればよい。 ところで、回答ANo.1 の補足に貼り付けられたコードで、 CGIプログラム中での send_email 関数の呼び出し箇所 if ($sendmail) {send_email($sendmail,'',$subject,$masteremail,$masteremail,'','',$msg) if ($sendmail) {send_email($sendmail,'',$subject,$masteremail,$masteremail,'',$bcc,$news) のように、from と to の両方に同じ変数 $masteremail を渡しているのですが、これは問題ないのでしょうか？？
cgiをテキストエディタで開き、「パーミッションに誤りがあります。」の文字でエディタ内検索をしてみると該当の辺りがヒットしそうで、そこを抜粋してくれると、分る方がたくさんいると思いますが。
var date=new Date() ; var mm=date.getMonth()+1; var dd=date.getDate(); document.write("test") ; document.write("<img src='"+mm+"-"+dd+".gif'>") ; Javascriptのお約束に従って記述。（動作確認：IE6）
> 数字が含まれるのが悪いのかと思い、「namea」や「aname」等に変えてみても結果は変わりません。 GETメソッドのパラメータや、ハッシュのキーに数字を含むことについては、問題ありません。 --- 「name」を「name1」に変えたのは、どの箇所の「name」でしょうか。 if ($name =~ /^([\x00-\x7F]|[\x8E\xA1-\xFE][\xA1-\xFE]|\x8F[\xA1-\xFE]{2})*$FORM{'name'}/i) { next; } ひょっとして、↑この $name =~ を $name1 =~ に書き変えた ということはないでしょうか。
とりあえず、質問のCGIが動かない理由を探しましょう。 と言う事で、FTPの時、テキスト形式でFTPしてますか？ 一番最後のEOFの後が何もない改行になってますか？ EOF[空白やTAB][改行]とか、改行なしになってませんか？ それと、2行目にエラー表示を追加してみてください（下記のように）。 どういうエラーが表示されますか? それともサーバエラーになりますか? #!/usr/bin/perl use CGI::Carp qw(fatalsToBrowser); p.s. 個人的には EOFの後ろがあやしいような・・・ >最初、print"<html>\n";等、全部区切って書いてみた時は、 の方は、ソースが無いとわかりません。
WordPressにTinyMCEが使われています。 参考URL：http://wordpress.xwd.jp/
http://tokyo.atso-net.jp/index.php?UID=1120964584 http://www.google.co.jp/search?q=%E6%90%BA%E5%B8 …
同一ページ上だと、一つ目の送信が行われた時点で、処理が中断すると 思います。 <form name="nform" method="POST" action="./5-2.cgi" target="_blank"> で、別画面にすれば、元のページも残っているので、中断されません。 別画面を閉じたり、隠しフレームにするなりして動きの見栄えを よくする必要はあるでしょう。
メモリ 512MB だと、そんなもんかもしれません。 レンタルサーバと比較して遅いとのことですが、 そのレンタルサーバのスペックはどんなもんなんでしょうか。 単純にcgiの動作速度を向上させたいなら、FastCGI や mod_perl というソリューションはありますが、 これらの効果を得るにも、充分なメモリが不可欠です。
アスキーモードでアップロードしてますか？ 参考URL：http://tok2.com/study/faq/04-06.html
> ディレクトリ単位というのは、 > 例えば、index.htmlと同じ場所ではなく > フォルダを作成し、サブページは、そのフォルダにいれ、 > （中略） > をメモ帳などで、入力し、 > .htaccessという名前のファイルを置くのでしょうか？ それでいいです。 > Allow,Deny なら、許可-拒否の順 > というのが、・・・わからないのですが、 「の順」の意味がわかりませんが、和訳すると Allow : 許可 Deny : 拒否 Orderの書き方は、先に書いた方が後で書いた方に上書きされます。 Order Deny,Allow # 全て拒否し、全て許可する（結局の所全て許可） Order Allow,Deny # 全て許可し、全て拒否する（結局の所全て拒否） 許可したいのにAllowを先に書くとか、拒否したいのにDenyを先に書くとか言う書き順を間違えなければどっちでもいいです。 Allow from allとかDeny from allを追記していれば、Orderはそれらに上書きされます。（Orderの書き順を間違えても再確認できる） もうちょっと詳しく解説してるサイトなら詳しく解説してると思います。 参考URL：http://httpd.apache.org/docs/
サーバは決まっているのでしょうか ＰＨＰでもよければできます プロフィールの内容は　どんなものでしょうか 名前　趣味　．．
一見関係の無いサイトのように見えますが、下記のサイトで著作権表示義務無しのcgiを配布しています http://www.deaikensaku.net/ 参考URL：http://www.deaikensaku.net/
回答がついていないようなので、私のサイトで使用しているものをご紹介します。 Tackey's Room様「お遊び系：ドラまんぼ」です。 掲示板でもチャットでもありませんが、もしcgiが設置可能でしたら、検討してみてください。メンテナンスは管理者のみのようですが。 あ、レンタルでもあるみたいです。 参考URL：http://www.tackysroom.com/
はじめまして、こんにちは。 先程URLよりチャットの方、拝見させて頂きました。 こちらのCGIの配布元サイト様へお伺いしてみたのですが、随分と細かい設定のCGIですね！ …と、雑談はさておきまして…。 肝心の「入室画面にだけ」表示させるといった方法ですが、設置解説からは完全に切り離す方法は載っていないように思います。 ただし、チャット内に入室した際、画像を「上部のフレームにのみ」表示する方法はあるようですよ。 該当する説明を載せておきますね。 ページでの設定：部屋毎に変更します。 「Ｃｈａｔ表紙ページ」－「管理専用（Ｃｈａｔ室・メンテナンス）」－「部屋属性の変更」を開きます。 部屋背景設定にて<BODY>タグを直接記入（第一設定）します。また、チャット部屋でのフレーム利用の場合で、上下フレームで別設定したい場合は文字「,」を追加し、更に<BODY>タグを記述（第二設定）します。第一設定の<BODY>タグはフレーム上段に適用されます。第二設定の<BODY>タグは下段に適用されます。 …とのことです。 他にも解説があるのですが、混乱されるといけないので不要な部分はカットしました。 ようするに、penpen0608さんの方法ですと、スタイルシートで全てのバックグラウンド（背景）に訴えてしまっているのでこのような現象が起こってしまうのではないでしょうか？ 該当する設定部分（ページでの設定：部屋毎に変更します。「Ｃｈａｔ表紙ページ」－「管理専用（Ｃｈａｔ室・メンテナンス）」－「部屋属性の変更」を開きます。の部分ですね）に、単純に <body background="画像ファイル名" bgcolor="お好みのカラー" text="お好みのカラー" link="お好みのカラー" alink="お好みのカラー" vlink="お好みのカラー">,<body bgcolor="お好みのカラー" text="お好みのカラー" link="お好みのカラー" alink="お好みのカラー" vlink="お好みのカラー" と言う記入をすれば、入口と上部分にのみ画像が入り、下には入らないという設定が出来るのではないでしょうか。 また、こちらのCGIを自ら直接設定した事がなく、また詳しくは調べていないためもう一つの可能性ですが、入口部分と入室後の背景とで設定場所が異なる場合は、入口部分の設定にのみ画像を入れるBODYタグ、部屋の設定には色指定のみのBODYタグを入力する事で問題回避が出来るのでは…？と思います。 見当違いな回答でしたら申し訳ありません。 もしまだ解決されていないようでしたら、一度試してみてくださいね。
まがＣＧＩ http://www.chama.ne.jp/download/mail/maga4/ 昔、ずっと使い続けていましたが、自動で分割配信してくれるようになったり、サブ管理人を使えたりかなり高機能です 配信予約や任意のタイミングで配信しようと思うと、cronを使ったりアクセスの多いサイトにcgiを埋め込んだりする必要もあるので… また、配信数が多いとサーバーに大きく負荷をかけたり、エラーメール等の処理に困ったり… 同じお金を出すなら有料のASPのほうが格段に機能は上です …ですので、私自身は有料ASPに乗り換えました 以下、参考までに http://www.bizmail.jp/ http://www.combzmail.jp/
このcgiではないのですが、以前同じようにメールフォームを利用した際に同じような事が起きたので… sendmailのパス及び、保存されるファイルcsv等のパーミッション等にミスはないですかぁ？ 送信ボタンを押す→保存される→メール送信（ここでエラー？）という流れのように見えます 私の場合はsendmailのミスでした
私も昔同じように、探した事があります その結果、TakasanBBS XGというものを使う事に決め使用していました TakasanBBS XG http://www.bashikko.com/takasan/ 参考URL：http://www.bashikko.com/takasan/
/htdocs/step1.htm /cgi-bin/cart_name/shop.cgi ルートからのパスが上記構成なら、相対パスの階層がずれてるようですけど ↓ $html1 = '../../htdocs/step1.html'; ## 相対パス２階層戻る $html1 = '/htdocs/step1.html'; ### 絶対パス、こっちも使えると思うけど？ サーバーの変更内容も、詳しく記述されると、より詳しい回答も得られるでしょう。
言語をまたぐ場合は、それら全ての言語でエラーをなくさないと、期待通り動かないです。 どうやらSSI、Perl、HTML、JavaScriptの４つが使われているようですが、 SSIでエラーが無くなったなら、Perl、HTML、JavaScriptのどこかにエラーがあるということです。 コードはあまり見てませんが、 Perlの文法エラーがないなら、HTMLやJavaScriptの文法エラーがあるのでは？ cfg.cgiの中身もわかりませんし、HTMLがどのように書かれてるのかもわかりません。 本当にこのまま書かれてるなら、文字列が閉じられてないような気がしますので、 PerlにもJavaScriptにもエラーがあるような気がします。
＞ScriptAlias /cgi-bin/ "C:/www/cgi-bin" 上記のように関連付けてるなら http://localhost/cgi-bin/hello.pl なのでは？
tell で現在位置を調べて、truncateでファイルサイズカット。 参考URL：http://www.presso.jp/text/perl/file.html
いや　この場合CGIではなくjavascriptのままの方が良い。 具体的には「cookie」を用いて情報を保存、ページ読込時にcookieの情報を読み取る試行を行い再現する。 応用するとメニューの開閉を別ページへ持ち越す等に使える http://www.tohoho-web.com/wwwcook.htm
hiddenを使うのもいいかと思います。 <input type="hidden" name="mode" value="a"> というように。 参考URL：http://news.joho.boo.jp/?day=20070907
おそらく単純なHTMLを生成するようなCGIではなく何らかのscriptが必要です(java script等) しかし携帯サイトですのでそれもムリかと 県　市町村　番地　などを複数のテキストボックスで入力させて CGI側で繋げるようなコードはいかがでしょ～か >改行したまま送信してしまってもcgi側で改行を無くすようにする方法などは有りますでしょうか？ perlでしょうか？正規表現を使えば $string =~ s/\r//; $string =~ s/\n//; $stringから\rを抜く $stringから\nを抜く でいかがでしょ～か
カテゴリ編集ボタンのところまでたどり着けたんですね。 お疲れ様です。 panel.cgiはWebarchiveから持って来ようとすると余計なコードが紛れ込んでくるようです。 手元の動作するpanel.cgiと比較すると、 23行目の 　　<BASE HREF="http://painter.homeip.net/~raelian/tag/panel.cg_"> と、最後のほうの 509行目から 　　<SCRIPT language="Javascript"> 中略 569行目 　　</html>\n"; までを削除して、 508行目の 　　print "</body> を 　　print "</body></html>\n"; に置き換えると正しい内容と同一になるようです。
> ＞<script type="text/javascript" src="counter_js.cgi"></script> > の行で CGI が実行され > その CGI の標準出力に JavaScript で HTML タグを出力する記述をする。 > その後、出力された JavaScript のスクリプトがブラウザで実行されて > ここで仕様通りのカウンタ表示、ツールチップなどの表示が行われる。 > という解釈であっていますか？ はい、時系列はそれであっています。 > つまり CGI は２つ用意して > 『counter_js.cgi』は JavaScript で HTML タグを出力する処理のみ。 > 『counter.cgi』で実際のアクセス・カウンタの処理と画像を出力する処理。 > という仕組みになるのでしょうか？ 私は、counter_js.cgiでアクセスカウントの処理もまかなうつもりでANo.2の回答をしました。 そうでないと、画像出力（今回の例ではcounter.cgiの役割。名前と役割があってないけど。）が 必要ないテキストカウンタで アクセス数をカウントすることができなくなってしまうので。 > 最初は１つの CGI で作り上げるのかと思いました。 > ２つ必要なのですね。 counter_js.cgiが出力したJavaScriptだけでは画像を作成できませんから 何らかの方法でカウンタ画像を作成する必要があります。 今回の場合は、画像作成を別のCGIスクリプトに行わせる方針にしたため2つ必要になってます。 （引数によって動作モードを変えるようにすれば1つのCGIスクリプトにまとめられますが、 今回の場合は分けた方が素直な気がします。） またJavaScriptでは画像を作成できないと書きましたが 以下のような感じで数字(0～9)の画像を並べてカウンタを表現することはできるので、 そのような実装をするなら画像生成CGIは必要なくなりますね。 　<img src="0.gif"><img src="1.gif"><img src="2.gif"><img src="3.gif"> まあ、やり方は1つではありませんからいろいろ試してみるのもおもしろいと思いますよ。 もし時間があるなら、ソースコードが公開されているアクセスカウンタを探して読めば 有用な情報を得られるかもしれません。 # ここでの回答は、私ならこうするというものなので一般的かどうかまでは分かりませんしね。
一般的にCGIはWEB用のサーバにインストールされている Perl や PHP、Rudy・・・などのプログラムを スクリプトで動動かして使うものです。 そのスクリプトをWEBサーバにアップロード （ファイルを別のPCにコピーするのと同じ。でも作業内容はちがいます） 誰かがCGIで書かれたページへアクセスすると CGIはログファイルを読み込んでその時点でのデータを表示させます。 何かデータを送信する作業を閲覧者が行うとログファイルに追記又は書き換えて 再表示したり、メールフォームならメールを送信したりと スクリプトで指示されてるとおりに動作します。 というわけで、WEB用なのですが、 ＞デスクトップ上でアンケートフォームを作成したいのですが、 可能ですよね？ 擬似的に、WEB上ではなくても1台のパソコンの中で動かすことは可能です。 ただし、WEB用のサーバに作られている環境とほぼ同じ環境を作らなければなりません。 ＞CGIをアップロードするということはどういうことですか？ のところからスタートですと、環境を作って実際に動かすところまで行くには道のりが長いですが・・・。
写メール掲示板 IMG-BBS http://www.mt312.com/script/12/ 画像添付にはPOP3サーバが必要です。 パスワードに関しては対応していません。
っと、、まだ閉じられてないようですね。 SSIからの実行そのものが禁止されてるとどうしようもないですけど、 iswebライトのアカウント登録メールが届いたので、実験してみましたが、動くみたいです。 ANo.5のHTTP_REFERERを入れるコードを使ってますが、 HTTP_REFERERを入れても入れなくても動いてるようです。 ANo.4の回答のところで問い合わせたらしいですけど、設定が変わったんでしょうか？（そう簡単なことじゃないはず何ですが、、、） 上位ディレクトリへのアクセスも試してみましたが、これも動きました。 なんかよくわかりません。。。（´・ω・`） http://*****infoseek.co.jp/cgi-bin/hello.cgi #!/usr/local/bin/perl print "Content-Type: text/html\n\n"; print "Hello\n"; http://*****infoseek.co.jp/index.shtml http://*****infoseek.co.jp/test/hoge.shtml ともに <!--#include virtual="/cgi-bin/hello.cgi" --> これでHelloと表示されました。 （念のため、index.shtmlとhoge.shtmlの２種類）
> <input type="submit" value="送信する"> これで送信されます？IE6は送信されましたっけ？ name属性があると、そのフィールドのvalueがname=valueという形で送信されますが、 name属性がなければ送信されないはずです。 submitボタンが複数ある場合は、押したボタンのname=value、１つだけが送信されます。 &submitだけでvalueなしなら <input type="hidden" name="submit">という値無しの隠しフィールドが紛れてるとか、 formmail.cgiが勝手に付加してるとかじゃないでしょうか。 ともかく、サーバー側で無駄なデータは省く様にしないと行けないです。 自分が用意したフォームでデータを送ってもらえるとは限りません。 （スパム投稿とかスパム投稿とかスパム投稿とか）
>(1)なぜ CGI は Perl 言語が一番多いのか？→PHP、Cもあるのに Cのコンパイルはどうする気ですか? 共有型のレンタルサーバでSSHログインができてCのコンパイルまでさせてくれる サービスは自分は知りません。 PHPに関してはサーバの方針でしょうね。 infoseekはinfoseekになる前のfreewebの頃からPerlだけ利用できました。 途中から仕様変更して全サーバに対してPHPをインストールするのは手間でしょうから >(2)なぜ無料サーバーの多くが Perl 言語しか使えないのか？ PerlもPHPも使えるサーバも結構ありますよ。 >(3)処理の重い CGI を使うとサーバーがダウンするので使わないようにと 今の利用規約は知りませんが自分の知っているときは 箱庭系、チャット系、CGIゲーム系はだめですね。 >modによりperlの難点であった実行速度も改善されていますし。 CGIモードとmod_perlのそれぞれバージョンで挙動が違うみたいで 普段はあまり利用しないですね。
すみません、この前答えたの私ですが、multipartのデータを送るんでしたね。 基本的には、 http://oshiete1.goo.ne.jp/qa2808695.html なんですが、Content-Typeの指示と、$dataの中身が違います。 上記に付け加えてみました。 以下でどうでしょうか。 エラーチェックはしてません。 考え方は正しいと思いますが、とりあえずチェックしていないので・・・ #!/usr/local/bin/perl use strict; use CGI::Carp qw(fatalsToBrowser); use CGI; use Socket; my $host = "http://www.サーバーB.jp"; my $path = "Server_B.cgi"; my $file="c:\data.bin"; #バイナリデータ読込み my $fdata; open(IN,$file); read(IN, $fdata, -s($file)); close(IN); #送信データ作成 my $boundary = "----------boundary"; my $data; #バイナリデータ $data.="--$boundary\r\n"; $data.="Content-Disposition: form-data; name=\"file\"; filename=\"$file\"\r\n\r\n"; $data.=$fdata."\r\n"; ##他にもバイナリデータがある場合($file2を$fdata2に読んでいた場合） #$data.="--$boundary\r\n"; #$data.="Content-Disposition: form-data; name=\"file\"; filename=\"$file2\"\r\n\r\n"; #$data.=$fdata2."\r\n"; ##他にも通常変数がある場合（aaa=123を渡す場合) #$data.="--$boundary\r\n"; #$data.="Content-Disposition: form-data; name=\"aaa\"\r\n\r\n"; #$data.="123\r\n"; #終わりマーク $data.="--$boundary--\r\n"; #----------------接続処理------------------- socket(SOCKET, PF_INET, SOCK_STREAM, 0); connect(SOCKET, pack_sockaddr_in(80, inet_aton($host))); select(SOCKET); $|=1; select(STDOUT); #------------HTTPリクエスト送信----------------- print SOCKET "POST /$path HTTP/1.0\r\n"; print SOCKET "Content-Type: multipart/form-data; boundary=$boundary\r\n";#ここが増えてる print SOCKET "Content-Length: ".length($data)."\r\n"; print SOCKET "\r\n"; print SOCKET $data;#$dataがmultipart用データ #------------サーバからのデータを受信 ----------------- while (<SOCKET>){print $_;}
あと私の方から申し上げることができるのは、ANo.2 でも記しましたように、 「適当なフリーのカウンタをダウンロードして、そのプログラムを参考にされるとよいと思います。」 ということと、くれぐれもセキュリティ面に関する調査を怠らないでください、ということくらいです。 ANo.1で紹介されています、 http://www.kent-web.com/count/index.html などは、Perl で書かれたカウンタCGI ですので、適当なものをダウンロードして、ソースを参考にされればよいと思います。質問者様は、プログラム経験をおもちですので、サンプルで学ばれるのが手っ取り早いのではないでしょうか？ では、頑張ってください！！
もしperlの知識があって自作できる力があれば、そんなに難しいプログラミングではありませんよ。 １．仮登録の際、自動返信メールを送る →このとき個々にランダムなパスワードを発行し、それを本登録用の際に使わせることもできます（＝「本登録する場合はhttp://yousite.com/toroku.cgi?pass=ランダム文字列、をクリック」という自動返信を送る） →裏ではランダム文字列、メールアドレス、個々に発行したパスワード、登録時刻をファイルに記録しておく ２．本登録 →パスワードを入れさせる画面を用意し、１．で作ったファイルのパスワードと同じかどうかチェック、一定時間経過していないかチェックして本登録する といった感じです。 本来は配布されているものをお探しなのでしょうからまともな回答になっているとは思いませんが、resがなかなかつかなかったのでアドバイスがてら返信させていただきました。
>どこをどう直したらうまくとぶようになるのでしょうか？ 何をどうアドバイスしたらいいんでしょうか？ 最近postmailの質問に答えたばかりなので、わかる事ならアドバイスしたいけど、アドバイスしようが無いです・・・ ここはまず、postmail.htmlには手を加えず、postmail.cgiの最小限の初期設定をして、メールが届くかチェックしてください。 ただ、 >うまくリンクしないのです って言葉が気になるんですが、cgiが呼べない(エラーが出る)って事でしょうか？
http://oshiete1.goo.ne.jp/qa2808695.html は、どうでしょう？ 参考URL：http://oshiete1.goo.ne.jp/qa2808695.html
多分ですが・・・ httpd.conf って設定しました？ それ編集しないとデフォルトでcgi動かなかったと思う・・・ googleで"windows apache cgi httpd.conf"で探して見ては・・・ 設定してたらすみません。 （設定してたら、どう設定しましたか） cgiの勉強のためだけならAN Httpdがお手軽簡単ですよ。 本当に勉強するなら、apacheの方が良いとは思います。 でも、それなら自宅サーバはlinuxの方が・・・
テストする環境が無いので、結果はわからないのですが・・・ 228行目の $ret = &decode; の後に @addrList = ('aaa@aaa.com', 'bbb@bbb.com', 'ccc@ccc.com', 'ddd@ddd.com', 'eee@eee.com', 'fff@fff.com'); $mailto = $addrList[$in{'mailto'}]; を入れてみてはどうでしょうか。
普通（_,a-z,A-Z,0-9以外) $str =~ s/([^_a-zA-Z0-9])/sprintf("%%%02X",ord($1))/eg; _,0-9以外 $str =~ s/([^_0-9])/sprintf("%%%02X",ord($1))/eg; 全部 $str =~ s/(.)/sprintf("%%%02X",ord($1))/eg; もっとスマートな変換方法もあるかも
色々な方法があると思いますが、cookieを使う方法です。 cookieが無効の場合には機能しませんが・・・ #!/usr/bin/perl use strict; use CGI::Carp qw(fatalsToBrowser); use CGI; my $cgi = new CGI; #cookie(access_log)の取得 my @access_log=split(/,/,$cgi->cookie(-name=>'access_log')); #現在日時取得 #time関数は、GMT（世界標準時）の1970年1月1日0時0秒からの秒数を返します my $now=time; my $ret; #5回前のアクセスと比較 if($access_log[4] eq ''){ $ret=0;#まだ５回アクセスしてない }else{ $ret=$now-$access_log[4]; } #cookie(access_log)の保存 splice @access_log,0,0,$now;#先頭に今回の時間を入れる splice @access_log,5; #6番目からの要素を削除 my $cookie=$cgi->cookie(-name=>'access_log',-value=>join(',',@access_log)); print $cgi->header(-charset=>'Shift_JIS',-cookie=>$cookie); #headerは１回しかできないので、文字出力の前に保存する #チェック print "$ret<br>\n"; if(($ret>0)&&($ret<10)){ print"もう少し時間をあけてアクセスしてください<br>\n"; exit; } #ok print"いらっしゃい<br>\n"; exit;
泥臭いやり方ですが… $col = 10; #列数 print qq(<TABLE BORDER="1">\n); $i = 0; foreach $csvdata (@csvdata) { if (!$i) { print qq(<TR>\n);} print qq(<TD>$csvdata</TD>\n); $i++; if ($i == $col) { print qq(</TR>\n);$i = 0;} } if ($i != $col) { print qq(</TR>\n);} print qq(</TABLE>\n);
www.?●●●●.com/nicky.cgi?New と、nicky.cgiの後ろに「?New」を入力してみてください。 http://www.din.or.jp/~raelian/ReadMeNicky.html こちらのページはご覧になったことがありますよね？ こちらのページの9.コマンド一覧を見ると困ったときに使えるコマンドが 一覧として載っています。
#1です。参考URLだけ。 http://www.rfs.jp/sb/perl/index.html ↑ここの中でも http://www.rfs.jp/sb/perl/03/02.html こちらの3,4項あたりを中心に読んでおくと改造の参考になる…かも。
＞割り当てられたアドレスそのままを打つと トップページ（index.html）が表示されないということですか？ それとも、index.htmlを用意してないんでしょうか？ とりあえず、存在しないURLに接続された時にディレクトリ構成（Index of /~）を表示されないようにするには、 「404 エラーページを作る」 http://www.koikikukan.com/archives/2006/01/18-23 … こちらが参考になると思います。 ただし、お使いのサーバーで.htaccessを使えなければこの方法は使えませんので、ご確認下さい。 ＞CGI この中で一番強固なのはベーシック認証のようですが、やはり.htaccessを使いますので、それが無理なら強化タイプということになるでしょうか。 とても守りたい内容でなければ、簡易タイプや標準タイプでもいいかも。 ちなみに私はベーシック認証は使ったことはあります。
迷惑メールの温床になると言う理由で、プロバイダーの多くがsendmailの機能を制限したり、仕様を変更しています。レンタルサーバーの場合も同様です。サーバーの管理会社に問い合わせてみてください。
自動ではないですが、参考までに。 http://www.kent-web.com/pwd/index.html 参考URL：http://www.kent-web.com/pwd/index.html
それってIEのキャッシャが悪さをしているってことはないですか？ 一度キャッシュをクリアしてみて下さい。 キャッシュのクリアはツール、インターネットオプションの一時ファイル、ファイルの削除でできます。
＞元のウィンドウも拍手画面に変わってしまいます return falseを入れます。 <a href="http://サイト名/webclap/clap.cgi" onclick="window.open('http://サイト名/webclap/clap.cgi','webclap','width= 360,height=420,scrollbars=1,resizable=1');return false"><img src="clap.gif" width="61" height="49"></a> ＞アイコン周りに黒い枠 リンク（aタグ）に、borderが付くブラウザのデフォルト設定が反映されているのではないかと思います。 スタイルシートに a img { border: 0; } とするか、 border=0をimgタグに入れるか・・・
こんなのはどうでしょうか。 我流プログラマなので、おかしかったら読み飛ばして下さい。 考え方はhtmlをcgiでデータ部分を書き換えて書き出す方法です。 test.htmlの、$～$で囲まれた部分を、cgiが書き換えます。 selectedの部分は、あるデータがある値のとき、$selected_データ名=値$ を'selected'に書き換えます。 checkedの部分は、$checked_データ名=値$ を'checked'に書き換えます。 ファイルの読み書きで、改行を\nにしてます。 言葉で説明するのが難しいので、プログラムを見てください。 下のtest.htmlと、test.cgiと、空のtest.datを用意してください。 test.cgiは、パーミッションを705(か755）にしてください。 #!/usr/bin/perlの部分は適当に書き換えてください。 test.datは、パーミッションを606(か666）にしてください。 perl5.8の標準モジュールCGIを使ってます。 perl5.6とかなら、cgi.pmをインクルードしてください。 --- test.html ここから --- <form action="./test.cgi" method="post"> data1:<input type="text" name="data1" value="$data1$"><br> data2:<input type="text" name="data2" value="$data2$"><br> data3:<textarea name="data3">$data3$</textarea><br> data4:<select name="data4"> <option value="" $selected_data4=$>選んでね <option value="1" $selected_data4=1$>その1 <option value="2" $selected_data4=2$>その2 </select><br> data5:<input type="checkbox" name="data5" value="1" $checked_data5=1$><br> data6: <input type="radio" name="data6" value="1" $checked_data6=1$>aaa <input type="radio" name="data6" value="2" $checked_data6=2$>bbb<br> <input type="submit" name="regist" value="登録"> </form></form> --- test.html ここまで --- --- test.cgi ここから --- #!/usr/bin/perl use strict; use CGI::Carp qw(fatalsToBrowser); use CGI; my $query = new CGI; print $query->header(-charset=>'Shift_JIS'); my %data; if(defined $query->param('regist')){ #データの登録 $data{data1}=$query->param('data1'); $data{data2}=$query->param('data2'); $data{data3}=$query->param('data3'); $data{data4}=$query->param('data4'); $data{data5}=$query->param('data5'); $data{data6}=$query->param('data6'); #改行変更 foreach my $key(keys %data){$data{$key}=~s/\n/\\n/g} #データ書き出し open(OUT,'>./test.dat'); print OUT join("\n",%data)."\n"; close(OUT); } #フォーム読込み open(IN,'./test.html'); my $form=join("\n",<IN>); close(IN); #データ読み込み open(IN,'./test.dat'); %data=grep(chomp,<IN>); close(IN); #改行変更 foreach my $key(keys %data){$data{$key}=~s/\\n/\n/g} #selectedデータ作成(select) $data{'selected_data4='.$data{data4}}='selected'; #checkedデータ作成(checkboxとradio) $data{'checked_data5='.$data{data5}}='checked'; $data{'checked_data6='.$data{data6}}='checked'; #フォームへデータ書き込み $form=~s/\$(.+?)\$/$data{$1}/g; #フォーム表示 print $form; exit; --- test.cgi ここまで ---
要は今回の目的に関して言えば、Aサーバはインデックス生成用（mknmz用）、Bサーバを検索用のWebサーバ（namazu用 or namazu.cgi用）として利用したいという事でしょうか？？ であれば、仰るとおりでいいと思います。 単にAからBへcopyすれば利用できるはずです（たぶん） ※でも何で分けるんですか？？両方に同じデータがあるのに。。。←質問には関係ありませんが
サンプルページで試してみると連動しますね。 興味深いのでソースを見てみると > #一時ファイル（IPアドレスを使用） と書かれていました。 やはりクッキーではなくIPアドレスで管理してるようですね。 > こういう風に同じ家からだと連動するとかあるんでしょうか？ 同じパソコン、同じブラウザで、新しいウインドウでアクセスした場合に限り、連動することがあります。 違うパソコンやブラウザを変えるだけでも連動することは通常はありません。 > これがマンションタイプのケーブルとかだと、それも連動したりするんでしょうか。 > ネカフェとか会社でも連動しちゃうんでしょうか。 初めてアクセスしたら既にカートに満載という様な、かなり怪しいことになりそうなので、このCGIはやめた方がいいのでは？ 改良できるならそれでいいと思いますが。。。 > 別マシンからアクセスした場合、セキュリティ上の欠陥がない限り同じcookieは使われることはありません。 たしかに同じcookie（セッションID）は使ってませんが、 違う意味でセキュリティー上の欠陥だと思います。(^^;
ブログシステムでも使えばいい。
私もさくらインターネットを一年以上利用しております。 メールは送信されるということは、CGIに何かが起こっているものと思われます。 以下のことを実行してみて下さい。 ・ファイルやフォルダのパーミッションをすべて確認 ・でもだめなら、もう一度サイトからダウンロードし直して、なるべく初期設定のまま(必要最小限に設定)にして再アップロードし、ファイルのアップし忘れを確認
ロック処理と言ってもいろいろあります。 これはあくまでも私の経験ですが、ロック処理の中には指定したディレクトリーにファイルを作成するものがあります。 その場合そのディレクトリーのパーミッションが777になっていなければファイルが作成できません。 一度確認してみて下さい。
Perlのサンプルです。 ===sample.cgi #! perlのパス %list = ( google => 'http://www.google.co.jp/', yahoo => 'http://www.yahoo.co.jp/', goo => 'http://www.goo.ne.jp/', ); $ENV{QUERY_STRING} =~ m/.*?=(.*)/; $key = $1; print 'Location: ',$list{$key},"\n\n"; exit; ===sample.html <html><head></head> <body> <form action="sample.cgi" method="get"> <select name="f"> <option value="yahoo">yahoo</option> <option value="goo">yahoo</option> <option value="google">google</option> </select> <input type="submit" value="JUMP"> </form>
失礼しました。 #1の補足でSSIの展開もうまくいっていると書いてありましたね。 ちょっとわからないです。
参考 http://katsubemakito.net/cgiperl/scalar/string/- …
>SendmailでHTML形式のメールを送る そもそも勘違いがあるのでは? SendmailはSMTPサーバーでメールを作成する機能は本来ありません。 メールクライアントから送信された内容を、他のホストに送信するものです。 HTML形式のメールを作成するのはメールクライアント(例OEなど)の役割となります。 (例外として、メーラーデーモンよりの自動応答用の内容をスクリプト等により決まった宛先に送信するという場合はありますが) #OEでHTML形式のメール作成方法はご存知かと思いますので説明いたしませんが
チェックボックスの事でしょうか？ http://www.tagindex.com/html_tag/form/input_chec … チェックが入ってる場合のみvalueに設定した値がとんできます。 #cgi-lib使用例 #以下HTML <input type="checkbox" name="input1" value="value1"> <input type="checkbox" name="input1" value="value2"> #以下CGI(Perl) &ReadParse; $in{'input1'} #←にチェックボックスで選択した値が入る あとは$in{'input1'}をsendmailなどの本文で使用してメールを送信すればいいのではないでしょうか？ 的外れな回答だったら申し訳ない・・・。
　こんにちは。 　実は私も似たようなCGIプラグラムを探したことがあるのですが、見つかりませんでした（結局自作したのですが）。そのまま使えるもの、ということでしたらご期待には添えませんが・・・・・。 　Perlの知識があるなら、下記で配布されているフォームメールかWebメーラーなどを改造すれば比較的簡単にできるのではないかと思いますが、いかがでしょうか。 参考URL：http://www.rescue.ne.jp/
携帯はあまり興味がないのであまり知らないんですが、探してみたらこんな記事がありました。 「w3Analyzerの携帯機種解析」 http://www.inetsrv.com/～hamati823/index.php?e=41 普通のPCサイトへの携帯からのアクセスはimageからの取得になるようです。 携帯サイトは全くわかりませんねえ… moguraならこういう記事を見つけました。 「携帯サイト用にPHPアクセス解析「mogura」を導入」 http://www.multiburst.net/project-multiburst/arc … w3Analyzerでもできるような気がしますが…。imageでも取得できるので。
#Perlの場合 フォームを受け取ってからチェックボックスを確認して処理 &error if !$in{'agree'}; #javascriptの場合 <script type="text/javascript"> function check(){ if(document.form1.agree.checked == true){ return true; }else{ alert("利用規約に同意してください。"); return false; } } </script> <form action="test.html" method="POST" name="form1" onsubmit="return check();"> <input type="checkbox" name="agree" value="1">利用規約の同意 <input type="submit" value="submit"> </form> Javascriptだけの場合ブラウザの設定次第ではフォームがとんでしまうので、CGI側のみ or 両方使うのがいいと思います。
No3での回答は「絶対パスが使えない」の記述から、プログラム設置場所が全然異なるものを対象にしようとしていたのかと早合点したのですけど、 niftyなら私もホームページスペースを持っていますので、経験者としてさらなる解説を試みてみます。 １．「絶対パス」は使えます。ただ、絶対パスのルートディレクトリーを勘違いして使えないと思っている方は結構おられるようです。 ftpソフトで　/　を指定して自分のホームページスペースを開くと /cgi-bin /homepage の２つのディレクトリーが見えますよね（他のディレクトリーはユーザーには使えないから無視） このディレクトリー表示が実行中のcgiから見た絶対パスとなります。 よって、御記載のチャットデータファイルは /cgi-bin/x/01.ent としてアクセスします。 dream.cgiでは以下の指定 dream.cgi?size=/cgi-bin/x/01.ent 応用　/homepage内のファイルも更新時刻やサイズ表示出来ます。 例　サイトトップの更新日表示 dream.cgi?file=/homepage/index.html ２．数値用画像は、cgiで読み込むものについては、/cgi-bin内に置き、相対パス指定で読み込みます。httpからの絶対URI指定は、imgタグや背景画像のURIに指定するときのことであり、cgi読込用とは意味が違います。 ３．pcheck.cgiもエラーってことは、cgiファイルのアップロード時のモードを間違ってバイナリーにしていませんでしたか？ もう一度、アスキーモードでアップロードし直してみて下さい。 niftyのホームページスペースは、cgiエラーの内容を教えてくれる機能がないのでこういうときはなかなか原因究明が大変ですよね。 ４．「他のプログラムで上書きモードでopen中のファイルはサイズ０に見える」 これは、niftyがunix系サーバーなので、しょうがないですね。 ご利用のチャットプログラムでは、同時上書き防止の為にどういった実装をしているのでしょう？ それにあわせたプログラムを書かないと、単純にdream.cgiでサイズを調べだけでは無理のようですね。 私も、そこまで考え至っておりませんでした。よけいな混乱を招いたようで済みません。 チャットの本体を調べるところまでは時間が取れないので、とりあえずの回答をしておきます。
Webサーバ側で 「CGIを実行する」という設定になっていない、とか 拡張子 cgi のファイルが Perl に関連付けられていないのだと思います。 いずれにしても、Webサーバの設定の問題。IIS か Apache か anHTTPD か何か知らないけど、一度、設定を眺めてみたらいかがでしょう？
サービスですが、NINJA TOOLSに忍者滞在時間というサービスがあります。 使っていましたが、とても便利です。 参考URLの上がNINJA TOOLSのTOP・下が忍者滞在時間の紹介ページです。 参考URL：http://www.ninja.co.jp/,http://love.ninja.co.jp/ …
'＆'のついている「&msg」などは全てサブルーチンです。 このサブルーチンはおそらく'event.cgi'に書かれているので require 'event.cgi'; ↑ここで全て読込まれています。 ＞上記のように「&msg」に文字を入力したら画面上に反映させる方法をしたいのですがどのうような技術で可能なのでしょうか？。 技術とかではなくて「&msg」に引数として文字データを渡して表示しているだけです。
apololoさん、初めまして。 先ほど同じような質問を拝見し、お答えしたのですが、 その時は疎覚えで後になって自分のＨＰを確認したのですが、 ＰＣ用のサイトをフレームで作って index.html に <NOFRAMES>～</NOFRAMES>で囲んだページを作っておけば ａｕなどの携帯はＰＣサイト側を表示しません。 私もＣＧＩでパスワード設定したのに、携帯からだと どんなパスワードをいい加減に入れてもアクセス出来て しまったので困っていましたが、一度フレームで試され てみてはいかがでしょうか？
> 重にエンコードというと$val1でunpackした結果が要因したのでしょうか？ ちがいます。 多分euc-jpを使っていると思いますが、それだと “ガム”は A5 AC A5 E0 ですよね。 で、これを質問にあるエンコーディングで変換すると %A5%AC%A5%E0　 となります(期待している結果でもありますが)。 ここで、さらにこれに対して同じ処理を加えると %25A5%25AC%25A5%25E0 になりますので、「二重にエンコーディングをかけていないか?」 と書いたのです。 #% は %25 に変換され、その他はそのままになります ということなので > デコードすると文字として「%%A5%AC%A5% E0」が表示され、本来の「ガム」が ここでデコードしているつもりでもう一回エンコードしているんじゃないでしょうか? 変換しないでそのまま出すとどうなりますか?
前の方が書かれているように、CGIはHTMLとは別物ですので、初心者の方がゼロから作るのはちょっと難しいと思います。 ですが、 > チェックボックスのチェックされたの数によって、 > ジャンプするページを変えるには、 これだけでしたら、CGIを使用せずにJavaScriptのみで実現できます。 HTMLはある程度理解できるとのことですが、JavaScriptはどうでしょうか？ 一応サンプルを掲載しておきます。（本来であればクロスブラウザ対策なども記述する必要がありますが…） ---------------------------------- <html> <head> <title>Sample</title> <script language="JavaScript"> <!-- function jump() { count = 0; for (var i=0;i<document.sampleform.elements["check"].length;i++){ if ((document.sampleform.elements[i].name == "check") && (document.sampleform.elements[i].checked)) { count ++; } } if (count == 0) { // 一つもチェックされていない場合 location.href("http://www.yahoo.co.jp"); } else if (count <= 3) { // チェックが3個以下の場合 location.href("http://www.google.co.jp"); } else { // チェックが4個以上の場合 location.href("http://www.msn.co.jp"); } } //--> </script> </head> <body> <form name="sampleform"> <input type="checkbox" name="check" value="A"> A<br> <input type="checkbox" name="check" value="B"> B<br> <input type="checkbox" name="check" value="C"> C<br> <input type="checkbox" name="check" value="D"> D<br> <input type="checkbox" name="check" value="E"> E<br> <input type="button" value="送信" onclick="jump();"> </form> </body> </html>
Perlで良かったでしょうか？ 良いやり方かどうかは分かりませんが、サンプルを書いてみました。 #!/usr/local/bin/perl　　←環境に合わせて下さい。 $folder = './images';　　# 画像フォルダの場所 $gettime = 0;　　# 最終更新日時初期値 opendir(IN, $folder); while ($file = readdir(IN)) { if ($file eq "." or $file eq "..") { next } @fileinfo = stat("$folder/$file"); if ($gettime <= $fileinfo[9]) {　　# $fileinfo[9]が最終更新時刻 $gettime = $fileinfo[9]; $newfile = $file;　　# 最終更新時刻が新しければファイル名を記録 } } closedir(IN); #// HTML出力 print "Content-type: text/html\n\n"; print "<html><head>\n"; print "</head><body>\n"; ($sec, $min, $hour, $mday, $mon, $year, $wday, $yday, $isdst) = localtime($gettime); $date = sprintf("%04d年%02d月%02d日", $year + 1900, $mon +1, $mday); $time = sprintf("%02d時%02d分%02d秒", $hour, $min, $sec); print "最新ファイル「$newfile」の最終更新日時は<br>「$date $time」です。<br>\n"; print "<img src=\"$folder/$newfile\">\n"; print "</body></html>\n"; exit; 注）上記だと同時刻の場合は後に参照したファイルが最新となります。
Apacheは詳しくないんですが、検索してみたところ 次のような記事がありました。 http://www.site-cooler.com/tips/apache_cgidirect … こちらを参考にApacheの設定を変えればいいようです。 ですが、ローカルはともかく利用するサーバの設定をいじれないようなら画像ファイルをcgi-binの外に出してやるしかないですね。
こんにちは ↓で記述されているようにパラパラパラみたいです（＞＜） http://www.perl-labo.org/other/gifcat/
＞ペイント機能等のついたお絵描き掲示板等もこのCGIでつくれるのでしょうか？ CGIだけでは無理です。 今あるお絵かき掲示板のほとんどはCGIと「javaアプレット」、もしくわ「Flash」を用いられています。 ＞0から始めるのであればどういったことから勉強すればいいのでしょうか？ CGI（Perl）の知識や「java」といった言語の知識が必要です。 入門書等を何冊か買ってそれで勉強するのが良いかと。 ＞自分で作成した掲示板を友人にレンタル掲示板のように配布する場合には そこはCGIの知識だけでいけます。
フォームを設置し、送られてきたパスワードを見て判断する、そういうCGIを書けばいいです。 サーバの種類とか言語とか何も書かれていませんが。
Win32エラーコードの5は以下の通りです。 5 ERROR_ACCESS_DENIED Access is denied. アクセスが拒否されました。
見かけ上別々のcgiながらも実際には******.cgiという同一のcgiで処理することは可能でしょうか .htaccessのRewiretRuleってのを使って下さい。 補足に疲れたので説明終わり。m(_ _)m
情報が少ないので分かりません。 charsetは出力していますか？ Content-Type: text/html; charset=Shift_JIS <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
http://www.cgi-down.com/ がお勧めです。
Perlでしょうか？PHPでしょうか？ 「CGI」とおっしゃっているので、Perlかな。 Perlは忘れてしまったのでなんですが・・・ 表に連番をつけます。 で、Perlだったら、配列の添え字が確か０なので、 表を出力する前に連番をチェックして、連番÷あまりが０のとき、 改行する、でいいかと思います。 Perl忘れたので、分かりづらい説明かもしれませんが、 アルゴリズム的にはこれでOKなはずです。
特にperlの構文は自由度が高く解析に難儀するので、変換ツール作成は難しいようです。 関数の対応表ならあるので、これを見ながら、自力変換ということになるでしょう。 perl文法を知っているなら、php文法の方はそう難しくはないと思いますけど。 Perl/Php Translation http://www.cs.wcupa.edu/~rkline/perl2php/ 参考URL：http://www.cs.wcupa.edu/~rkline/perl2php/
それぞれのディレクトリーの.htaccessをどのように記述したのかを示してくれないことには、なぜそうなるのか、原因も対処法も解りません。
こんな感じで。 {if(/DataSu='([^']*)/){print $1;last;} ↓ {if(/(\d+)/){print $1;last;}
＞Mozillaって聞いたこと無いですし いえいえ、普通にPCからのアクセスならほとんどMozillaになるでしょう。 ブラウザがIEやFirefoxならMozillaです。 ＞CLRもよく分りません。 あなたにとっては無意味なことですが.NET Frameworkのバージョン情報です。 ご自身の環境変数を知りたいのなら、 http://cyberpatrol.no.land.to/
「too much data」ですのでファイルサイズが大きすぎるということです。 cgi-lib.plの中を見てみるとわかりますが、 $cgi_lib'maxdata = 131072; と記述したところがあります。ここが一度に受信できるデータの量を制限しているところです。131072byteですから128Kですね。
$a[5] = 1; は、@a = ('0','0','0','0','1') では無く、@a = (undef,undef,undef,undef,1); になります。 undef とは未定義という意味です。 $a[3] などを defined() してみると、違いが分かります。
こんにちわ。 UTF-8環境でjcode.plは対応していなかったはずです。 jcode.pmモジュールを使用しないといけないはずです。 私も問い合わせフォームをRED　HAT環境で使用したときUTF-8に悩まされたことがありました。 的外れだったらすみません。
4ヶ月前の回答にお礼が来たと思ったらそういうことでしたか。 ごめんなさい。 getMonth()は1～12月についてそれぞれ0～11を返します。 なので、以下のように+1してあげる必要があります。 変更前のソースは、12月になったからおかしいのではなく一年中1ヶ月ずれます。 これは<script><!-- x = new Date; x.setDate(x.getDate()+7); document.write((x.getMonth()+1)+'月'+x.getDate()+'日'); --></script>までの限定△△個！ 手元にはホームページビルダー9しかありませんが、 HTMLソースタブの適切な位置に書けば動きます。
＞if ($sex eq '$otoko') { &Sendmail; } $sexや$otokoとは何なのか説明がありませんけど、前段階でちゃんと処理はされているのでしょうか。 しかもなぜ '$otoko' ？ それにそのエラーは自作のエラー表示なのかInternal Server Errorなのかで話もかわってきますが、Internal Server Errorならあなたの文法自体が間違っていることになります。 何れにしてもソースの一部分だけを抜き出されても情報不足ですね。
ここで使われてるのはAmigoDatabaseですね フリーで配布されている高機能データベースcgiです 初心者にはハードルが高いですが、データベース系はどれも同じようなもんですよぉ
ディレクトリィには書き込み権限と言うのがあります。 書き込み権限には、owner、group、otherがあり otherに書き込み権限が無いとWebから実行しても ファイルは作成出来ない場合があります。 ”同名のファイルをあらかじめ用意”とありますが これの書き込み権限には、otherに書き込み権限があったんでは ないのでしょうか？
とりあえず open(FILE,"$file"); ← open に失敗してたりしませんか? binmode(FILE); read(FILE,$buf,10); ← 10バイト読めてますか? close(FILE); if (!defined $buf) {return;} ($x,$y) = unpack("x6 vv",$buf);###←line 476### open はファイルのオープンに失敗した場合にはundef を返しますのでそれをチェックしてください。 CGIでなければ open FILE, $filename or die $!; とかやるんですけど。 httpサーバのログが見られるのならこれをそのままでも良いです。 readの方も、読み込んだ文字数が戻り値で返ってきているので、 10バイト読めているか確認してください。 $cnt = read FILE, $buf, 10; if ($cnt < 10) { die "読み込みがなんか変"; } という感じで。
$op_value11 eq "" だと　$op_value11　に　値が入っていない場合なので $op_value11　に値が入っている場合は $op_value11 ne "" と書きます。 eq -> ne に変更しましょう。
キャッシュコントロールじゃないですか？ Expiresを数時間後に設定してみてはいかがでしょうか。
#2です >、「メチャ簡単」に出来るのではないかと思ったのですが、 自動的にcgi（フォームの内容など）がhtml内に表示されないということ自体が問題なのでしょうか？（実際はそのままアップロードしただけでは真っ白な画面しか表示されません・・・） 　どうもそういうことのようですね。(cgiの中にform.htmlが表示されると言ったほうがより正しいのでしょうが) 　cgiの知識がなくても、「メチャ簡単」に出来るとお考えなら誤解が有ります。先にも述べましたように、参考URL程度の知識は必要です。 >現在は www.****.com/form/form.cgi (ここにアクセスするとフォームが表示されます)という状態で設置(実行)は出来たのですが、・・・ 　どうも、これは単にファイルをアップロードしただけの意味のようですね。 　お使いのサーバーにより、設置の方法はいろいろ異なるので一概には言えませんが、本来ならcgiファイルの設置場所は決まっていますからたとえば、 www.****.com/cgi-bin/form/form.cgi のような感じになるはずです。↓ http://www.wakwak.com/info/setup/homepage/cgi/cu … 　#2にも書きましたように、cgiに関してどのような知識をお持ちかがわかりませんが、下記URL程度の知識はお持ちででないと、ご希望のファイルを利用するのはトラブルの元ですし、少なくともファイル転送先を守らないとセキュリティ上極めて危険です。 　なお、どの程度の知識があって質問しているのかを回答者によく理解させないと、思った回答は得られないと思いますが。 参考URL：http://www.tohoho-web.com/wwwcgi.htm
実際どういうCGIにするかは置いておいて、CGIで対応できるインターフェイスですが、誰かを知るにはユーザー登録してもらって、その情報を記録するしかないと思います。なので、WEBでログインしてもしなくてもサイトは見れるけど、ダウンロードする時点でログインしていなければログインする画面に行って、ログインしたらダウンロードの画面に行くようにする。 ユーザー登録もしていなければ、そこからユーザー登録もできるようにする。 複数のダウンロードであっても、一つだけのダウンロードであっても、ログインさえしていれば、ユーザー情報を記録することはできると思いますし、ダウンロードのアクションの前にログイン画面を挟む事で対応できると思います。
ためしにcgi-binの外にcssをおいてみてはどうでしょう？ C:\Program Files\Apache Software Foundation\Apache2.2\css\test.css $css = '../css/test.css';
携帯が登場して暫くは単純にフレームで処理していましたが、 現在の携帯（ＰＣビューワーではく）はフレームサイトも 表示出来るのでしょうか？。 <NOFRAMES>～</NOFRAMES> ↑の間に携帯用のトップページを書けば、ＰＣからは見られず 携帯からはＰＣフレームサイトは表示されなかったはずです。 最近の携帯事情に詳しくありませんので定かでなく申し訳ありません。
＞http://○○○.comで機種判別する方法 その　ほにゃらら.com のデフォルトページは index.htmlだということでしょうか？ 単にデフォルトページをcgiにすればいいだけのような気がしますので、 そちらで対応されたほうがよいでしょう。 携帯はJavaScriptが動作しないので、htmlファイルだけで携帯種別を切り替えるのは無理なんです。
まず( )に変数を並べたものですがこれはリスト(list)と呼ばれるものです。 でリストとは何かですが配列の内容を並べて表記したものと考えればよいでしょう。 逆に言えば配列はリストを1個の変数で表したものといえますね。 @times = ($sec,$min,$hour,$mday,$mon,$year,$wno); 次にlocaltime( )ですがこれは引数の値を9個のリストとして返す関数です。 質問では7個のリストで受け取っていますが余った分は無視されます。 ちなみに残りの2個は年内の通し日数と夏時間かどうかです。
以前、似たようなスクリプトを改造して遊んだ事があります 以下のサイトは、そういったスクリプトも多く改造しやすい物やそのまま使える物も多いですよ http://www2u.biglobe.ne.jp/~micky/saver/ 参考URL：http://www2u.biglobe.ne.jp/~micky/saver/
こんにちは 思いつく方法は5つかな？（まだあるかもしれないけど（－－；） 画像反転は『画像反転　ソフト』などで検索すると希望のが見つかるかもしれません 【1】ImageMagickを使ってページ更新させて表示させる http://katsubemakito.net/cgiperl/image/imagemagi … これは『画像反転　cgi』で検索したらHitしたものなので詳しい利用法など分からないです 概略としてはformにkeyなどをつけてページを更新してif文で表示させるようにすればよいかと思います 【2】反転画像(***(反転).gif)を別に用意してif文を使って画像表示を描き分ける if($in{'mode'} eq "反転") { print "<img src='***(反転).gif'>\n"; }else { print "<img src='***.gif'>\n"; } print <<"EOM"; <form action="○○.cgi" method="post"> <input type="hidden" name="mode" value="正転"> <input type="submit" value="正転画像"> </form> <form action="○○.cgi" method="post"> <input type="hidden" name="mode" value="反転"> <input type="submit" value="反転画像"> </form> EOM 【3】javascriptでstyle="filter:fliph()"、style="filter:flipv()"を変更して反転させる <script language="javascript"> <!-- function change(n) { obj = document.getElementById("img").style.filter = n; } //--> </script> <img src="***.gif" id="img"> <input type="button" value="正転" onclick="change('fliph()')"> <input type="button" value="反転" onclick="change('flipv()')"> ですがこれはIE専用となります 【4】javascriptでdisplay:none;block;を使う 反転画像(***(反転).gif)を別に用意して <script language="javascript"> <!-- function change(m,n) { document.getElementById(""+m+"").style.display = "block"; document.getElementById(""+n+"").style.display = "none"; } //--> </script> <img src="***.gif" id="img0"> <img src="***(反転).gif" id="img1" style="display:none;"> <div style="clear:both;"></div> <input type="button" value="正転" onclick="change('img0','img1')"> <input type="button" value="反転" onclick="change('img1','img0')"> 【5】javascriptを使って画像を差し替える これも反転画像(***(反転).gif)を用意しておいて <script languge="javascript"> <!-- function change(n) { document.getElementById("img").src = n; } //--> </script> <img src="***.gif" id="img"> <input type="button" value="正転" onClick="change('***.gif')"> <input type="button" value="反転" onClick="change('***(反転).gif')">
＞No such file or directory: exec of '/html_files/cgi-bin/any.cgi' failed ↑ これを解決してください。
CGIにもいろいろ言語がありますけど、cgi-lib.plを使うなら、perlで以下のようなスクリプトになります。 require './cgi-lib.pl';# directoryは実情に合わせる ### 送信量全体でのmax size 制限があるので注意、必要なら書き換える。 # $cgi_lib'maxdata = 131072; # maximum bytes to accept via POST - 2^17 $ndata = 'gazo';# input type="file" のname属性値 if(&MethPost){ # $ENV{'REQUEST_METHOD'} eq "POST" の真理値 &ReadParse(); ### cgi-lib.pl の関数 multipart/form ok ### %in=data; %incfn=filename; %inct=filetype $ftype = $inct{$ndata}; $fname = $incfn{$ndata}; $fdata = $in{$ndata}; ### あとは適切なファイル名で$fdata を書き込む ### ファイルタイプや、ファイル名が適切か、重複チェックなども適宜行うこと }
指定した送信先に対してメールを送るようなCGIはなかなか見つからないのではないか思います・・・。 WEB上でそれを可能にしてしまった場合、自分以外の第三者(スパム業者等)が利用してしまう危険性がありそうですし・・・。 個人で使うだけでしたら配布する理由も見当たらないような・・・。 と、指摘な意見ではありますが、探すよりもあるものを改良してしまった方が早いような気がします。
基本的にどのようなアップローダーでもアップロー＾ドするファイルの容量に制限をかけていますので、その値を変更すれば可能です。 ただしアップロードするファイルの容量が１GBにもなるとアップロードに時間がかかり、大抵のサーバーではタイムアウトになってしまうような気が・・・。
HTMLからメーラーを起動する場合には以下のような方法があります <A HREF="mailto:hoge@hoge.com?subject=HiThere&cc=fuge@fuge.com&bcc=fuga@fuga.com&body=test">mailto</A> ただメールフォームでメールを送信する場合はフォームにて入力された情報を元にサーバー側のプログラムでメールの送信を行うと思うので、そのプログラムに複数のアドレスを指定できるような機能が実装されていなければ記述を変えるだけで送信先を複数指定する、というのは難しいかもしれません・・・。
ImageMagickを使ってるのではないでしょうか？ 検索してみてください。
>...下記が表示されません。 403 404 500 などのエラーメッセージは表示されていませんか？ 403：パーミッション間違いの可能性 404：アドレス間違いの可能性 500：CGI設置時のミスの可能性 >「パーミッション（属性）」の設定についての所で間違っていると思いますが オンラインマニュアルを見てください。
print qq{<td bgcolor="#ffffe8">}; とか。 参考URL：http://allabout.co.jp/internet/cgiperl/closeup/C …
確認ですが、CGI言語は perl ですよね。以下は perl として説明します。もっとも、PHP とかは、私は分かりませんので。 seek 関数の書式は、 seek FILEHANDLE,POSITION,WHENCE です。POSITION がバイト数、WHENCE が基準の位置です。 WHENCE=0 (SEEK_SET)のとき、ファイルの先頭から POSITION バイト目から読み込めるよう、ファイルポインタをセットします。 WHENCE=1 (SEEK_CUR)のとき、現在のファイルポインタの位置 + POSION バイト目から読み込めるよう、ファイルポインタをセットします。 WHENCE=2 (SEEK_END)のとき、ファイルの終端位置 - POSITION バイト目から読み込めるよう、ファイルポインタをセットします。 こんな感じで分かりますでしょうか。
./のパーミッションは書き込み可能になっていますか？ アクセスカウンターで一番ありがちなミスです。 あと、ロック処理を行っていませんが、これではたくさんのアクセスが集中した場合に正しくカウントアップされないことがあります。 開かれた後まずロックファイルがあるかどうかを確認し、あればウェイト、なければロックファイルを作り、その間にcount.datの読み書きを行う、という流れにしないとダメです。
ファイルのバックアップは無いのでしょうか？ 無いとすると復旧は難しいですね・・・ もう一度作り直すしかないと思います。 バックアップがあれば、サーバーにアップし、属性の変更を行えば動きます。 消えてしまったのは誰かが間違えて削除してしまったとかとか・・・
Lunascapeというブラウザがあります。 User-Agentを自由に設定出来ますので、それで動作確認できると思います。
JavaScriptを利用したCometと言う技術を使えば可能ですが、非常に難しい技術ですので初心者が使うのは不可能です。 擬似的に行うには、perl側で各クライアントへレスポンスを送るタイミングを計算して、refreshをさせる時間を計算するって方法が考えられます。 例えば、0:00 丁度にリロードさせたいときは、 23:50:49 にリクエストが来たブラウザには11秒後にリスタートするように指定したMETAタグを返し、23:50:53 にリクエストが来たブラウザには7秒後にリスタートするように指定するって感じです。
まず、お使いのサーバーはSuexecが設定されていますか？ じゃないのなら、今時無料スペースですらSuexecが常識になりつつあるので さっさと引っ越しましょう。 その上で ディレクトリのパーミッションは 全て 701にしましょう。 詳しくは http://oshiete1.goo.ne.jp/qa2202319.html それでも駄目と成ると、、、rootさんや あなた或いはrootパスワードを盗まれちゃっている可能性もありますけど CGIのバグでCGI自体のパーミッションを書き換えちゃっているようなことはありませんか？
ホームページ側の問題です。 あなたが設置(作成)したホームページでなければ、 ホームページの管理者が直すのを待つしかないと思います。
無い。 仕掛けからして別物。 実現したいなら　件のようにFLASHあるいはjavascriptあるいはjava等のようにクライアント側で処理させるクライアント型になる。
若干質問が漠然としておりますが、 インタフェースが同一のものであることを希望するのであれば、まず、 ・機能を満たす検索エンジン を探してきて、改造してインタフェースを同じにするしかないと思います。 もしくは、検索エンジンのアルゴリズムだけを持ってきて、組み込むかですね。 （もちろんこの場合は引用元の提示を行う） 結論としては可能です。
手元にあるTeraPadとサクラエディタで改行コードがLFでもいけることを確認。 書き換えてくれるんじゃなく、改行コードを正しく認識してちゃんと改行として表示してるだけですが。 …と、一週間振りにこのコミュニティへやってきた人が答えてみました。
呼び方が違います ～/light/data/1.dat です。
> どういうプログラムを組めばクライアントPCでリストを作成し、サーバに送れるのでしょうか。 > 何か参考になるURLなどご存じないでしょうか。 適当な URL は知らないのですが、次のようになるかと思います。 1)手作業でリストファイルを作成するのも１方法です。エディタで作成する、dir (DOS 系) 　または ls (Unix 系) の出力を編集する、といった方法があります。また、Perl はこの 　分野も得意ですので、プログラムで自動化することもできます。 2)リストファイルをサーバーに送るのは、CGI ファイルを送ったのと同じ方法が使えるで 　しょう。その際、リストファイルの文字コードをサーバーの文字コードと合わせておき 　ます。リストファイルが ASCII コードのみで、FTP のアスキーモードで転送する場合は、 　(たぶん) FTP が改行文字を変換してくれるので大丈夫でしょう。 3)CGI をリストファイルを見ながら処理を進めるように修正する。 なお、容量制限には対応できませんが、振り分けだけならばいったんサーバーに受け取って、 その後振り分けるという処理が、CGI でできます。こっちの方が、簡単かもしれません。 どのみち容量オーバーのファイルは、そのままでは送ることができないので、除外しておけ ばよいと思います。
ごめんなさい、いただいた情報だけで適切な回答をできる自信がありません。ド素人と仰っていますが、プログラムを改造しようとされているわけですから基本的は事は理解されているものと思います。 そういう場合は、パートに分けて不具合箇所を切り分けていくしかないと思います。 ・Formを表示するところできちんと表示されているか（表示されたページのソースで確認） ・入力してSubmitしたものが次のCGIに渡されているか ・渡された変数を取得できているか（print文で表示だけさせてみるなど） ・取得した変数を元に判断する部分は正しく動作しているか（if分岐に変数を使わずにパスワード文字列を直接指定させてみるなどｄ） ・ソース中に文字の打ち間違いは無いか（_と-の間違いとか、スペースの有無など） 地道にやるしかありませんね・・・
ファイルのリンクがおかしい原因としては、サーバー側のファイルの配置とPC側のファイルの配置が異なっている場合があります。 CGIファイルだけサイトの中に入れずに、他の場所に保存して使っていませんか？ リンクを手動で直すなら、目的のファイルへのリンクをソースコードから編集することになります。 参考URL：http://wakabano.cool.ne.jp/dream/
書かれているコードは見てませんが、 http://cachu.xrea.jp/perl/ こちらの「ImgResize.pm」を組み込んだ方が楽そうです。
こんにちは どういう状況なのかよくわからないのですが・・・ res:0のときに返信フォームが下にいっていることを指しているのでしょうか？（res:0とresがついているときとどちらが正規でしょう？） ソースを見比べてみると <P> <table width='536'><tr><td class=num>Page: 1 </td></tr></table> ではなく <tr><td><br></td></tr> となっています。それが原因では？ pure.cgiの中身が分からないのでこの部分の書き出しをどのようにしているのか分からないのでこれ以上のアドバイスはできないです（＞＜） 多分　<tr><td><br></td></tr>　を除去すればいいかと思うんですけど・・・
#execha　　？ #execは　というところ「は」をローマ字のまま入力決定したように思われるので、たぶん使えるのでしょう。 まずは、テスト用「.shtml」拡張子のページをトップページと同じディレクトリーにおいて表示チェックしてみましょう。 cgiスクリプト書き換えは、配布サイトの説明をよく読んで行って下さい。 一行目のperlパスは、此までに設置したcgiと同様にして下さい。 あと、トップページに本番を組み込む時に、トップページの拡張子が変わることになるので、ファイル名まで指定したリンクをされている相手サイトには、ページURL変更のお願いが必要になるでしょう。 / で終わるリンクの場合は、大概はindex.htmlを消して、index.shtmlのみとしておけば、index.shtmlの方が表示されるはずなので相手側の変更は必要ないでしょう。
こんにちは　No.4です 別のことしててなんで文字化けするのかと思ったら1箇所間違えてました（－－；） <META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=Shift-JIS"> です いつもはUTF-8でやってるので変更したらスペルミスをしてしまいましたｍ（＿ ＿）ｍ
以前、私もyomisearchを独自ドメインで運営しておりました 設定で、トップページをhtmlにしてアドレスを設定できたはずです この設定は、cgiがhtmlに何か影響を与えるというものではなく、各カテゴリ等の上部に ホーム > と表示される、ホームのリンクがトップページになるというだけです また、yomi.cgiにアクセスするとhtmlのページに自動的に飛ばされるようになります その為、index.htmlに書くカテゴリへのリンクや新規登録へのリンクをご自身で付け加えておく必要がありますよ
http://sakaguch.com/utf2.html を参考になさってください もし、見てもよくわからなければShift_Jisのまま使うか CGIの配布元作者に要望/問い合わせしてください。
こんなのは使えないでしょうか？ 参考URL：http://search.cpan.org/~clms/HTML-PrettyPrinter- …
CGIと一口に言っても、perlとかPHPとかrubyとか一般の実行モジュールとか 何でもCGIを実現できますので、これだけではわかりません。 test.cgiってのは何ですか？ ※ANo.1の方はすごすぎます・・・この言葉だけでperl CGIだと見抜いているなんて(^-^;
http://www.infoteria.com/jp/contents/xml-data/RE …
基本的な仕様はここにあります。 http://homepage.biglobe.ne.jp/manual/shiyou/inde … 具体的に何でてこずっているのか分かりませんが、 > CGIを呼び出す際のアドレス　という部分だけ条件があります。 biglobeのサーバーにCGIを置いて、これをbiglobe以外のページから呼び出すことはできません。そのようなエラーメッセージが出るはずです。biglobeに置いたCGIはbiglobeのページから呼び出す必要があります。 その他の条件は、biglobeは制限が少ない方だと思います。特に、古いサーバーほど何でもできます。
こんにちは 質問文からでは文字の出現場所が分からないですね・・・ 同一ページですか？それともformの送信先ですか？ 同一ページでもhoge.cgiを送信先に指定すれば（No.1様のように）可能ですが送信せずに出現させるのであればCGIでは無理でjavascriptを使うことになります print <<"EOM"; <script language="javascript"> <!-- function radio(n) { obj = document.getElementById("ans"); if(n == 1) { obj.innerHTML = "はいそうです"; document.f.elements[1].disabled = true; }else { obj.innerHTML = "いいえ、違います"; document.f.elements[0].disabled = true; } } //--> </script> <form name="f"> <input type="radio" name="sel" value="1" onClick="radio(1)">…ですか？<br> <input type="radio" name="sel" value="2" onClick="radio(2)">…じゃないですか？ </form> <div id="ans"></div> EOM
#1の補足　サブドメインについて触れていませんでした http://test.example.com と http://www.example.org　では#1に書いた画像CGIでも使わない限りは cookieの受け渡しは無いはずですが 　 http://test.example.com と http://www.example.com http://cgi.example.com のような同じドメインのサブドメイン同士なら受け渡しが可能です。 http://www.futomi.com/lecture/cookie/specificati …
htmlspecialchars対策を行っていないから、html構文として崩れたりしてるんじゃないのかな？ クロスブラウザー対策としても、<>"&　は、&lt;、&gt;、&quote;、&amp; に変換すべきです。 あとは、sjisのせいとか？２バイト目がx5c(=\バックスラッシュ)となる文字がvalue値内にあると、html構文解釈に支障を来すおそれがあります。でも、JavaScript構文でなければ、こっちは大丈夫だったと思ったけど。
メールを送信するのは携帯電話で、 ウェブサイトを見るのはパソコンでしょうか？ それとも、すべて携帯電話だけとか、パソコンだけとかでしょうか。 あまりやる人はいないと思いますが、 自分のメールアドレスを変更してから送信したり、存在しないアドレスに送信してもカウントされるのでしょうか。 また、メールの送信の方法は、携帯のメール機能やパソコンのメーラーを使うのか、 指定されたウェブサイトのフォームを使った送信でしょうか。 フォームを使った送信なら、そのフォームへのアクセス状況を調べれば簡単にカウントできます。 技術的には難しいと思いますが、通信データの傍受は可能です。 だから個人情報やクレジットなどの情報は、HTTPではなくいちいちHTTPSなどを初めとした暗号化を行う必要があります。 メールを傍受して、送信者のメールアドレスと本文を照合し、チェーンメールと確認できればカウント、 という方法を採れば、カウントは可能です。 携帯電話の場合は、携帯電話の識別コードなどを判断できるかも知れません。
Template Toolkit というのがどういったものか知りませんが、たぶん名前からして、CGI でテンプレートを読み込んで HTML 生成する類いのものでしょうか？ だとすると、SSI はCGI で生成される HTML には呼び出せなかったと思います。 アクセスするファイル名が xx.html か xx.shtml である必要があります。 やろうとされている事を実現するには、○○.cgi の処理を Template Toolkit の中で処理して、HTML 生成と一緒に出力するしかないと思います。 CGI で生成しているのですから、同じ CGI 内で処理するのが定石かと？
こんにちは 色々な方法があると思います HTMLで作ってもいいですがこれだと毎月日付を書き換えたりイベントを書き込んだたくさんのhtmlファイルが必要になったりします javascriptでもできますがスケジュールの追加や変更に規制ができたりしますね CGIでは規制とかあまりないとは思いますがhtmlファイルには直接組み込めないのでiframeなどを使って表示させることになります まぁhtmlファイルではなくcgiファイルでHTML表示させればいいのですけど・・・ それらを組み合わせてイベントの表示処理の部分だけをCGI処理させることも可能です プログラムができないのであれば理想に近い配布カレンダーcgiを組み込むのも良いでしょう とまぁやろうと思えば可能性はいくらでもあると思いますので自分にあったものを試してみたらよいのではないでしょうか？
Dream Weaverでcgiを読み込むことはできました。 ただガイドはつきませんでした…
CGIプログラムはどのくらいおわかりでしょうか。 どこらへんがわからないかが曖昧なのですが、とりあえず下記のリンク先に詳しく解説が書いてあるのでご覧ください。 参考URL：http://www.web-liberty.net/improve/perl/input.ht …
PhotoBBS Ver4.00 is Freeを探してみましたが、どこにそのスクリプトがあるのか分かりません 著作権表示の　http://www.php4.jp/　にアクセスしてもダウンロード元がない為、確認のしようがないです どこでダウンロードされたのか教えて貰えますか？
まあ、たぶんロボットが拾い上げた可能性が高いですが もし意図的にやったとすれば、セキュリティホールを探したのかもしれません。 気になるのなら、直接アクセスされた場合 　(例えばSSI呼び出しで使っているのに 環境変数REQUEST_URIに 　アクセス解析CGIの仮想パスがあれば、直接アクセスされたことになると思います) 404 not foundを偽装すればよいかと思います。 http://oshiete1.goo.ne.jp/qa2628919.html を参考に
ソースを見落としていました。 $path = '​http://xxx.xxx/cgi-bin/atc/user/'; とありますが、ここをそのサーバーでの絶対パスに書き換えたらどうでしょうか？ 例えば $rootdir= $ENV{DOCUMENT_ROOT}; $path = "$rootdir/…"; といったように。 また、cgiの設置ディレクトリと同じディレクトリ内にファイルがあるのなら $path = "./…"; でいかれると思います。
> spliceは、splice(対象配列、削除の開始位置)ではないのでしょうか？ splice は 1～4個の引数を取ります。 2個の場合はその通りですね。 で、配列の中身は期待通りになっているけれども、ファイルはそうじゃないのでは? ということです。 つまり、ファイルポインタを先頭までまき戻して、そこから配列の内容を書き出しましたが、 ファイルのサイズは変わっていないので、仮に元のファイルのサイズが 書き出したサイズより大きければゴミが後ろにくっつくことになります。 で、そのサイズの調整をするのが truncateです。 spliceと同じく組み込み関数ですので、調べてみてください。
プログラムには特におかしなところはないと思います。 強いて言うならX-Mailerにdummyを入れるのはどうだろう？くらいで…。 メール自動送信システムを使う限り、迷惑メールソフトをよける確実な方法は 基本的にはないと思ったほうがいいです。 だって、そんな方法があれば、それは「迷惑メール検出逃れ」の手口でもあるわけでしょう？ 少なくとも簡単にあったら、むしろ困ったことです。 もしかしたら、検出ソフトはReceivedに記録される内容 (送り手が最も完全な細工をしにくいフィールドでしょう) を見ているかもしれません。 そうなったら、送信段階でのヘッダをいくら編集してもどうしようもないですよね。 なので、受け取る側の迷惑メール検出ソフトのほうで、 そのメールの発信アドレスをホワイトリストに入れてもらうしかないと思います。
フォームから入力されたパスワードが正しいかどうか判定し、正しければＯＫページへ、間違っていればＮＧページへ、という感じのスクリプトを書けばいいのではないでしょうか。 例えば http://easycgi.xrea.jp/perltips/pwdlimit.htm
かなり前のご質問なので、解決してたらごめんなさい。 私と同じＯＣＮのフォームメールＣＧＩをご使用でしたら、これで記入チェック出来ると思います。 項目は増やせるのでご自由に。 <HTML> <HEAD> <META http-equiv="Content-Type" content="text/html; charset=Shift_JIS"> <META http-equiv="Content-Style-Type" content="text/css"> <TITLE>ページタイトル</TITLE> <SCRIPT language="JavaScript"> <!-- function subm(){ res=in_check(); if(res==true){ 　　document.myform.submit(); } } <!-- function in_check(){ if(document.myform.namae.value==""){ alert("名前を入力してください"); return false; } if(document.myform.jyusyo.value==""){ alert("住所を入力してください"); return false; } if(document.myform.tel.value==""){ alert("電話番号を入力してください"); return false; } return true; } // --> </SCRIPT> </HEAD> <BODY> <CENTER> <FORM METHOD="post" ACTION="/cgi-bin/formmail.pl" name="myform"> <INPUT TYPE="hidden" NAME="subject" VALUE="受信メールの件名"> <INPUT TYPE="hidden" NAME="recipient" VALUE="***@***.ocn.ne.jp"> <TABLE border="0"> <TBODY> <TR> <TD>名前<INPUT size="40" type="text" name="namae"></TD> </TR><TR> <TD>住所<INPUT size="40" type="text" name="jyusyo"></TD> </TR><TR> <TD>電話<INPUT size="40" type="text" name="tel"></TD> </TR><TR> <TD align="center"> <INPUT type="button" value="　送信　" onClick="subm()">　　　 <INPUT type="reset" value="　クリア　"></TD></TR> </TBODY> </TABLE> </FORM> </CENTER> </BODY> </HTML> 参考URL：http://www.sumnet.ne.jp/domp/jsbs/kaisetsu/form3 …
どんな言語でもできますが、言語は何でしょうか？
ソースを見る限り wz_bbs.cgi wz_lib.cgi wz_arm.cgi _.cgi 上記４つのCGIファイルの最初の部分に $lckfile = "/tmp/wz_.lck"; という設定部分があります。 この設定値 "/tmp" で始まる部分にロック用ファイルを作成できていないようです。 $lckfile = "./tmp/wz_.lck"; と書き変えてCGIのある場所に tmp というディレクトリを作成してアクセス権を777にするとかしてはどうでしょうか？
携帯本体にファイル転送機能が無いので仕様自体が存在しません。 通常は、携帯用の画像掲示板の場合はメッセージ書込後にメールを使って画像を送信するのが普通です。
＞N.toriiさんのスキンを（余りデザインを変えず）カスタマイズして配布されているサイトさん これは、二次配布になるので、無料の素材配布サイトでは、必ず禁止事項に入っていますので、皆無かと思います。 あと、追跡してみましたが、元々が同人サイトであるようです。 サイト名とハンドルネームがわかりましたので、それを元に検索しましたが、「DNS エラー」を返されるか、真っ白画面を返されるxreaサーバーのもの（スキンに記載されているアドレスと同一のもの）の２種類でした。2007年1月までは、その二つのサイトで運営されていたようです。 そんな感じで、関連同人検索サイトからもリンク切れの状態ですし、同人サイトということは、TOPページ以外は徹底的に検索よけされていたとも考えられますので、これ以上の追跡は無理かもしれません。
排他ロックは結構頻出ですけど。プログラム言語がperlやphpならそれぞれの掲示板で検索すると出てきますよ。 100%完全は難しいようですけど、アクセス頻度によってどれをとるか考慮することになると思います。 http://oshiete1.goo.ne.jp/qa2472004.html http://oshiete1.goo.ne.jp/qa1677355.html http://oshiete1.goo.ne.jp/qa2024319.html 参考　web と CGI のひみつ >> 排他処理 http://x68000.q-e-d.net/~68user/webcgi/lock.html Perlの排他制御 http://homepage1.nifty.com/glass/tom_neko/web/we … 追記：商品管理システムならば、SQLデータベースにして、SQLサーバーのロック制御に任せる方が楽かもしれません。
根本的にHTMLとCGIの関係をあらためて勉強された方がいいのではないでしょうか。 HTMLファイル内に動的に何かを表示させたい（今回であればカレンダー）のであれば、（perlということであれば）SSIを使うのが一般的でしょう。 また、SSIを使わないのであればperlのスクリプト内でHTMLを書き出してあげるしかないでしょう。 いずれにしても「カレンダーを表示させるスクリプト」や「何かを入力してその結果を表示させるようなスクリプト」をダウンロードして解析して感覚をつかむことをおすすめします。
lengthを使えば文字列の長さを取得できますのでそれでエラーを返すという方法があります。 http://cocohome.hp.infoseek.co.jp/perl_ref/lengt … lengthだとちょっとご希望の通りにはいかないかと思いますので、全角半角を正確に認識して文字数をカウントしたり文章の途中で切ったりするにはJcodeモジュールを使うのがいいでしょう。 参考 http://katsubemakito.net/cgiperl/scalar/string/- …
CGIのプログラミングミスでしょう imgを置いているディレクトリと cgiに設定しているimgのパスが一致していないのだと思われます またcgi-binは通常インディクスリストは表示されないように 設定されています設定をいじっていないかぎり Forbidden You don't have permission to access /cgi-bin/ on this server. と表示されるのはあたりまえです インディクスリストを表示するようにもできますが セキュリティー上の観点から好ましくないでしょう もし表示するようにしたかっらた httpd.congに <Directory "/usr/local/www/apache22/cgi-bin"> AllowOverride None Options None Order allow,deny Allow from all </Directory> などと書かれている行があるかと思います (環境により一部かわるcgi-binで検索すると見つけやすいかも) そこのOptionsにIndexesを付けることで表示できるようになります 例 <Directory "/usr/local/www/apache22/cgi-bin"> AllowOverride None Options Indexes Order allow,deny Allow from all </Directory> またcgi-bin以外でもcgiを使えるようにすることもできます 実行できるようにしたいディレクトリの設定のところにいき そこのOptionsにExecCGIを付けることでできます。 また上記の回答者でパーミッションと言う話がでてきていますが これはLinuxなどUnix互換OSなどでの話しですので WindowsVistaを使われているあなたには関係いたしません もしcgi-binないにあるすべてのファイルがYou don't have permission to access と言われるのであればフォルダのプロパティーのセキュリティから セキュリティの設定を変更する必要があります ついでにもって言うと 私は英語が苦手でまったくできませんｗ そんな私ができるのですからたぶんできるはずｗｗ 検索のしかたであなたにわかりやすい回答が得られると思います 私はGoogleを使って検索しています たとえばApacheの設定について調べたかったら 「httpd.conf わからないこと」 で簡単に見つけることができます わからないことにはあなたが調べたいことに変えてくださいね！！
予想されるのは、 ・perlのバージョン ・perlのPATH ・利用可能なperlモジュール ・sendmail のPATH くらいですかねえ？ 後は、そもそもCGIが使えるのかって話もあります。後、納品に関しては最終的に設置して動くかを確認した方がいいです。そう言う意味では、少なくとも開発の完成前にはサーバを借りてなければなりません。 まずは、制作会社と話をしてみるといいのではないでしょうか。その時に、サーバのレンタルをいつころすれば大丈夫なのか聞くといいと思います。ついでに、設置も制作会社に依頼するとトラブルが少ないと思います。
cgiがきちんと表示されている　という事を前提で… ビルダーを使った事がないので、確かな事が言いにくいのですが、アップロードした際にきちんと上書きされているのでしょうか？ 広告を表示させるページを開いた時、何も表示されていないのであれば、そのページのソースを見て下さい ご自身が広告タグを書いた場所に広告タグが記載されていますでしょうか？ ソースにも記載されていなければ、改造した物が更新されていないという事になります もしくは、ＰＣのキャッシュの影響かもしれません
どうやって取得しているか、具体的なソースコードを教えて下さい。また、どううまくいかないのか、具体的なエラーメッセージも教えて下さい。この２点があれば、早くいい回答を得られるようになると思います。 さて、ここからは勝手に貴方の環境を予想して答えますが・・・CGI.pmだとすると、 my $check = $cgi->param('check'); ってしてますか？ my @check = $cgi->param('check'); とするといいかもしれないです。
エラーの根本解決にはならないと思いますが、 foreach の外でconnect&disconnectして、select命令に$dbhを引き数として渡すようにしてはいかがでしょう？ 用は、DB接続を約1600回から1回に減らすと言う案です。
条件を全部満たしていたかわかりませんが、カラーミーショップなどはいかがでしょう。コストパフォーマンスは高いと思います。
1.です。補足します。 このプログラム、理論的には比較的きちんとしているほうだと思います。 実際私も同じ手法で識別しています。 障害が発生する可能性があるとすれば、ロジックではなく実装方法(たまたま変な機種が登場したなど)の可能性が考えられます。 仮に障害が発生した場合、自力で修正をかける事ができるなら、充分に価値があると思います。自力で修正をかける事ができないのなら、そのリスクを誰にどのように担保させるかの問題だけです。
ご希望通りの細かな設定ができるフリーのCGIはなかなかみつからないと思いますよ。 私はクライアントの要望でメールフォームをたびたび設置してきたので、結局のところ、外観（デザイン）とフォームの項目を外部に記述し、入力→確認→送信→thanks画面のコア部分のみのスクリプトを作るにいたってしまいました。 もしかしたら探すよりも作ってしまった方が早いかもしれません。
***.cgiに問題があると思います 【***.cgi】 #!/usr/bin/perl if ($ENV{'REQUEST_METHOD'} eq "POST") { read(STDIN, $buf, $ENV{'CONTENT_LENGTH'}); } else { $buf = $ENV{'QUERY_STRING'}; } undef(%in); my @buf = split(/&/, $buf); foreach (@buf) { my ($abc, $val) = split(/=/); $val =~ tr/+/ /; $val =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack("H2", $1)/eg; # エスケープ $val =~ s/&/&amp;/g; $val =~ s/"/&quot;/g; $val =~ s/</&lt;/g; $val =~ s/>/&gt;/g; $in{$abc} = $val; } print "Content-type: text/html\n\n"; if($in{'pass'} eq "001") { print "<META HTTP-EQUIV=\"refresh\" CONTENT=\"0; URL=./001.html\">\n"; } elsif($in{'pass'} eq "002") { print "<META HTTP-EQUIV=\"refresh\" CONTENT=\"0; URL=./002.html\">\n"; } elsif($in{'pass'} eq "003") { print "<META HTTP-EQUIV=\"refresh\" CONTENT=\"0; URL=./003.html\">\n"; } else { print "ERROR：パスワードが違います"; } これで動作すると思います 参考URL：http://kent-web.com/perl/
以下で多分平気だと思います。 sub sendmail { if (!(open(OUT,"| $sendmail -t"))) { &error('エラー'); } print OUT "X-Mailer: WebFORM v4.0 by ​www.rescue.ne.jp​\n"; print OUT "X-HTTP_REFERER: $ref\n"; print OUT "Errors-To: $mailto\n"; print OUT "To: $mailto\n"; print OUT "From: $email\n"; &jis("Subject: $subject"); print OUT "$msg\n"; print OUT "Content-Transfer-Encoding: 7bit\n"; print OUT "Content-Type: text/plain\; charset=\"ISO-2022-JP\"\n\n\n"; &jis("--- ここから ---"); print OUT "$msg\n\n"; $count = @DATA_N; foreach (0..$count-1) { if ($DATA_V[$_] =~ /\n/) { &jis("$DATA_N[$_] =\n\n$DATA_V[$_]\n"); print OUT "$msg\n"; } else { &jis("$DATA_N[$_] = $DATA_V[$_]"); print OUT "$msg\n"; } } &jis("--- ここまで ---"); print OUT "\n$msg\n\n"; $host = $ENV{'REMOTE_HOST'}; $addr = $ENV{'REMOTE_ADDR'}; if ($host eq $addr) { $host = gethostbyaddr(pack('C4',split(/\./,$host)),2) || $addr; } print OUT "\n"; print OUT "----------------------------------------\n"; print OUT "送信日時 　 : $date_now\n"; # print OUT "Server-Name : $ENV{'SERVER_NAME'}\n"; # print OUT "Server-Protocol : $ENV{'SERVER_PROTOCOL'}\n"; # print OUT "Server-Port : $ENV{'SERVER_PORT'}\n"; # print OUT "Gateway-Interface : $ENV{'GATEWAY_INTERFACE'}\n"; # print OUT "Request-Method : $ENV{'REQUEST_METHOD'}\n"; # print OUT "Script-Name : $ENV{'SCRIPT_NAME'}\n"; # print OUT "HTTP-Referer : $ref\n"; print OUT "HTTP-User-Agent : $ENV{'HTTP_USER_AGENT'}\n"; print OUT "Remote-host : $host\n"; print OUT "Remote-Addr : $ENV{'REMOTE_ADDR'}\n"; print OUT "----------------------------------------\n"; print OUT "\n"; close(OUT); # 二通目の送信処理 if (!(open(OUT,"| $sendmail -t"))) { &error('エラー'); } print OUT "X-Mailer: WebFORM v4.0 by ​www.rescue.ne.jp​\n"; print OUT "X-HTTP_REFERER: $ref\n"; print OUT "Errors-To: $mailto\n"; print OUT "To: $email\n"; print OUT "From: $mailto\n"; &jis("Subject: $subject"); print OUT "$msg\n"; print OUT "Content-Transfer-Encoding: 7bit\n"; print OUT "Content-Type: text/plain\; charset=\"ISO-2022-JP\"\n\n\n"; &jis("--- ここから ---"); print OUT "$msg\n\n"; $count = @DATA_N; foreach (0..$count-1) { if ($DATA_V[$_] =~ /\n/) { &jis("$DATA_N[$_] =\n\n$DATA_V[$_]\n"); print OUT "$msg\n"; } else { &jis("$DATA_N[$_] = $DATA_V[$_]"); print OUT "$msg\n"; } } &jis("--- ここまで ---"); print OUT "\n$msg\n\n"; $host = $ENV{'REMOTE_HOST'}; $addr = $ENV{'REMOTE_ADDR'}; if ($host eq $addr) { $host = gethostbyaddr(pack('C4',split(/\./,$host)),2) || $addr; } print OUT "\n"; print OUT "----------------------------------------\n"; print OUT "送信日時 　 : $date_now\n"; # print OUT "Server-Name : $ENV{'SERVER_NAME'}\n"; # print OUT "Server-Protocol : $ENV{'SERVER_PROTOCOL'}\n"; # print OUT "Server-Port : $ENV{'SERVER_PORT'}\n"; # print OUT "Gateway-Interface : $ENV{'GATEWAY_INTERFACE'}\n"; # print OUT "Request-Method : $ENV{'REQUEST_METHOD'}\n"; # print OUT "Script-Name : $ENV{'SCRIPT_NAME'}\n"; # print OUT "HTTP-Referer : $ref\n"; print OUT "HTTP-User-Agent : $ENV{'HTTP_USER_AGENT'}\n"; print OUT "Remote-host : $host\n"; print OUT "Remote-Addr : $ENV{'REMOTE_ADDR'}\n"; print OUT "----------------------------------------\n"; print OUT "\n"; close(OUT); print "Content-type: text/plain\n\n"; print 'Check=ok'; exit; }
WINサーバーはアクセス権設定出来ないので現在 VineLinux使用でWINは昔の勉強で？ Apche--CGI設定出来てますか？ 参考サイト http://y-kit.jp/saba/xp/perlsetup.htm
Sugar DB Proは良く知りませんが・・・ http://www.sugawa.org/takayuki/shop/shop_main.html ここからダウンロードして、インストールマニュアルの --------------------------------------------- 設定ファイル： ・kanri.plを開いてカスタマイズしてください。 --------------------------------------------- の記述どおり、「kanri.pl」を見てみると、 いきなり、 ----------------------------------------------- #************** 1.機能の設定 ************** #1-0.デモモード(0=off, 1=on ) $demo=1; ----------------------------------------------- こういう設定箇所がありますけど・・・ ここを変更すれば済むのではないでしょうか？ ＃なお、私は、実行できる環境が無いので試してません。
エクセルデータをそのままWEBで使用することは不可能ではありませんが、初心者がそのようなものを作れるかというと不可能でしょう。 http://www.phppro.jp/news/331 PEAR :: Manual :: Spreadsheet_Excel_Writer::Spreadsheet_Excel_Writer http://www.go-pear.org/manual/ja/package.filefor … Googleの Docs & Spreadsheets を使用すればいいと思います。 https://www.google.com/accounts/ServiceLogin?ser …
使ったことないので知りませんが、パーミッションの設定がおかしいだけだと思います。 OS XでCGIは動きます。インストーラが動いているみたいなので、パーミッションだけ設定すれば行くと思います。 予想： .DS_Store はOS Xが勝手に作るファイルで、親ディレクトリにもinstallディレクトリにもできてしまっている。.DS_Storeのパーミッションは作業ユーザの書き込み権限になってると思うので、このメッセージになる。 ターミナル.app を使って、.DS_Store を削除してインストールしてみるとうまくいくかもしれません。もしくは、ドキュメントを見ながら手動インストールで。
「移動」というボタンを押すと.cgiに移動しますけど？ それはいいとして、 Apacheをお使いなら.htaccessなどを使って、 htmlという拡張子をCGIスクリプトとして実行させることができます。 サーバーによってはこの設定を許可していないところがあります。 Apache2.x系の場合 Options +ExecCGI AddHandler cgi-script html 参考URL：http://httpd.apache.org/docs/2.2/ja/howto/cgi.html
効率よくというと、既存のシステムを流用もしくは活用する事が一番だと思います 大手の不動産屋や宿泊サイトは、オリジナルのシステムを組んでると思います SQLデータベースを利用した、不動産等とは異なるサイト構築を仲介した事があります 数年前ですが、開発には半年近くかかり費用も何百万とかなりの高額でした それならば、既存のデータベースcgi等を利用したほうがいいのではないでしょうか？ 一般の不動産業者等がよく利用しているのは、AmigoDatabaseではないでしょうか 以前にも不動産に関する質問に答えた事がありますので、参考URLに記載しておきます 参考URL：http://oshiete1.goo.ne.jp/kotaeru.php3?q=1314661
patio.cgi内の 84行目　85行目の間にアフィリエイトソースを入れると一覧の上部に表示される筈です </table> ここに入れる <p> 著作権表示の上に…という事は 162行目　163行目の間にソースを書けば大丈夫な筈です print <<"EOM"; ここに入れる <br><br> 後は、デザインを考えながら、<br>や<table>等で調整したほうがいいでしょう もしも、アフィリエイトを固定ではなく、たまに変えたい場合や他の箇所に表示させたいのなら、init.cgiに #------------------------------------------------- # ad #------------------------------------------------- sub ad1 { print <<"EOM"; ここにアフィリエイト用のソースを書いておく EOM } 等と記載しておき、表示させたい箇所に &ad1(); というように呼びだすという事もできます
ファイルサーバでCGIは動きません CGIはWEBサーバで動かすものです。
http://memorva.jp/memo/mobile/http_user_agent.php http://www.openspc2.org/userAgent/
ちょっと追加。 細かい事ですが、紹介したサイトはperl専門でした… 恐らくphpの方が作りやすいと思います。 って、作る訳ではないのでしょうけど。
デメリット １．ファイル数の制限 ２．read処理の低下 ３．データ管理の不便さ メリット １．ファイル破損を避ける この辺でしょうか。 普通、汎用的な掲示板の場合、メリットであるファイル破損を避けるために、最大行数を設けていると思います。 1000行で削除するとかってアレですね。 データ量が多くなればなるほど破損しやすくなるかと思うので、ログを消したくない場合は何らかのファイル分散処理が必要になると思います。 ただし、多くの人はレンタルサーバーを使用すると思いますので、汎用的な物として考えた場合必ず容量制限の問題が発生します。 また、サーバー環境によってはファイル数の制限にかかる場合もあります。 それを考えると、ファイルを分散化してもログの自動削除という処理が必要になると思います。 削除を行うには古いデータから消す手法になると思いますので、各ファイルの時間情報やシーケンス情報などから削除する順番を知っておく必要があると思います。 多くのファイルの順序を取得するのは結構なコストになると思いますので、その辺もデメリットになるかも知れません。 また、検索処理などでreadが多く発生する場合、iowaitが高くなります。 人気が高いサイトになると、ファイルだけに頼ってしまうとどうしても限界があり、メモリに頼らざるを得なくなります。 　掲示板の構成に合わせたファイル分散化を行う 　　スレッド単位でファイルを分ける 　　日付単位でファイルを分ける 　　カテゴリ単位でファイルを分ける 　ファイル数が膨大になるような場合に別途処理を設ける 　　検索や一覧表示用の処理 　　更新順序の取得 こんな仕様であればファイルの分散化は効率が良いのかなと思います。 そのため、各掲示板ごとに仕様が決まっていて、いくつかの手法が取られているんじゃないでしょうか。 １．１つのファイルで扱う ２．削除時は最後の行を削除する これは単純で明快であると思うのです。
Perl CGI's By Mrs. Shiromuku http://www.t-okada.com/cgi/ ↑こちらにある、「サイト管理」のコンテンツ内の shiromuku(u2)List shiromuku(u3)List は、いかがですか？ shiromuku(u3)Listならば、表示がhtmlなのでサーバーの負担も軽いのでは？ 参考URL：http://www.t-okada.com/cgi/
サーバ環境によってCGIの設置は違います。 pathをきちっと通す事は最初にやらなければならない事だと思いますが、通常、初期設定のままでOKという場合が多いですね。 動かない原因が考えられるのは、#1さん指摘のパーミッションの変更をまず確認すべきです。 また、cgi-binのようなフォルダにいれなければ動かない場合もあります。 サーバ環境によって違いますので、ココで質問するよりプロバイダに問い合わせした方が近道じゃないかと思います。 参考まで。
aite.cgiを改造するというのはあっていますが、場所があまりよくないと思います。 aite.cgiの最初、kaiという関数内で処理する方がいいでしょう。 kai関数を解説しますと、(V1.8です) sub kai { $keitou = $FORM{'keitou'};　←部屋の系統、0なら通常の部屋、1ならスライム系の部屋 if($keitou == 0){　←0のとき、つまり通常の部屋を選んだ場合のモンスター決定処理をする if($inkai >= 1 && $inkai <= 25) {　←$inkaiは階数です。ここでは1階から25階までの場合 @ransu = (1,2,3,...省略...);　←遭遇するモンスターの番号一覧です $ten = $ransu[(rand(23))];　←上の行で決めたモンスター一覧からランダムで一つ選ぶ。23は上の行の()の中の数字の個数。 } こんなかんじでわかるでしょうか。 １階で必ず150番のモンスターを出すなら、 if($inkai == 1) { $ten = 150; } となります。 これを通常の部屋でのみ出すなら49行目に追加、全ての部屋で出すなら423行目に追加すればよいです。 syswriteはデータを書き込むための関数です。 読み込み用にファイルを開いているので影響ありませんが、下手するとファイルを壊しかねませんので注意してください。
CGIカテゴリへの質問なんでちょっと違うかもしれませんが SSIを使うのも一つの手段かと思います。 http://www.tohoho-web.com/wwwssi.htm
他のサイト経由でもいいというのであれば、こんなのもアリですかね。 http://djmp.jp/ 「短縮URL　携帯」で検索すればいろいろあります。
どんなCGIで、中身はどのようなものなのかがないと正確にはわかりませんが、多分「シリアルデータファイル」のパーミッションが違うか、そのものがないかとかではないでしょうか。
・・・ちょっと違うけど　wikiとかどう？ http://pukiwiki.sourceforge.jp/
ごめん CGIでHTMLを生成してると思ってた CGIは飛ばしてるだけなのね それなら飛ばす前にクッキーを吐き出してjavascript側でそれを拾ってNo1の補足のような方法で突っ込んだら良いと思うよ クッキーがうまく行かないなら　ちょっと乱暴だけどjsファイル(という名のテキスト)を吐き出してそれをHTML側で取り込むとかかな。(飛ばす前に生成しないと読めないと思う) (掲示板のキャッシュでHTMLを吐き出すというのは見かけると思う。それの応用)
>perlとＰＨＰではどちらを先に学ばないとダメなんですか（どちらかだけで足りるのか、両方学ばないとダメなのかもよくわかりません。）？ どちらかひとつ学べば大丈夫です。ネット上にたくさんの講座があります。
webサーバはapacheですよね？ BASIC認証はディレクトリに対して行いますので、 アクセス制限を設けたいページをこのディレクトリに入れておけばOKです。 まず、パスワードファイルを作成します。(詳細は参考URLみてね) # htpasswd -c /home/hogehoge/basicpasswd hogehoge でhogehogeユーザのホームディレクトリにbasicpasswdというファイル名で、hogehogeユーザを追加しつつファイルを新規作成します。 ※このファイルはwebで直接参照可能な場所においてはいけません。 GETメソッド等で取得できてしまう可能性があるからです。 次に認証をしたいディレクトリの.htaccessファイルに AuthType Basic AuthName "Secret area" AuthUserFile /home/hogehoge/basicpasswd Require user hogehoge を追加します。 最後にhttp.confの LoadModule auth_basic_module modules/mod_auth_basic.so LoadModule authn_file_module modules/mod_authn_file.so LoadModule authz_user_module modules/mod_authz_user.so を追加します。 最後にapache再起動して完了です。 だけど、レンタルサーバのようですね。 BASIC認証が使用可能なのであれば、 .htaccessの修正とパスワードファイルの作成で可能だと思います。 レンタルサーバだと無理っぽいかな・・・ 参考URL：http://httpd.apache.org/docs/2.2/ja/howto/auth.h …
このご質問だとさすがに完璧に回答するのは難しいと思いますよ。もう少しご自分でソースを解析し、ポイントを絞ってから質問された方が答える人も答えやすいと思います。 そこで、導入部だけちょこっとアドバイスさせて頂きます。 まず、 localtime(time)で時刻を取得しているところで今日の日付を何らかの変数に格納しておきます。 「#カレンダー表示」とコメントされているところの foreach $nday (1 .. $days[$lmonth]) { が1日から末日までループさせているところですので、そこを当日の日付から7日後というループに変更します。 例えば（当日の日付を「$Xmday」だとすると） foreach $nday ($Xmday .. ($Xmday+7)) { という感じです。 但しこれだと月にまたがる場合正しく動きません。 その対応に関しては大幅な改造が必要となるでしょう。
onclick　を検知して　・・・・・できそうだけど　とっても面倒or重そう
こちらは如何でしょう。 http://www.mavensecurity.com/achilles/ このページの「achilles-0-27.zip」になります。 英語ですが、直感的に扱えると思います。 自分が発行しようとしたリクエストをキャプチャして、ストップ、 自分で内容を好きなように書き換えて送信できます。 ですので、通常の画面遷移をさせながら、例えばこのボタンを押したときのリクエスト内容はこうで、こう書き換えたらどうなるといった事が可能です。
中身を見ないと分かりません。
URLを受け取ってそのURLを表示させ（案内ページ表示）、METAタグでジャンプさせてあげるというスクリプトでいけるのではないかと思います。 HTMLが <HTML> <HEAD> <TITLE>test</TITLE> </HEAD> <BODY BGCOLOR="#ffffff"> <A HREF="cgi-bin/test.cgi?url=http://yahoo.co.jp/">jump to yahoo.co.jp</A> </BODY> </HTML> 案内ページとジャンプのCGI（Perlだとすると）が #!/usr/bin/perl require './cgi-lib.pl'; &ReadParse; $url = $in{'url'}; print "Content-type: text/html\n\n"; print <<HERE; <HTML> <HEAD> <TITLE>test</TITLE> <META HTTP-EQUIV="Refresh" CONTENT="3; URL=$url"> </HEAD> <BODY BGCOLOR="#ffffff"> <A HREF="$url">$url</A> </BODY> </HTML> HERE exit; という感じでいけるのではないかと思います。
全く理解しないで　すぐに！　簡単に！ という事なら「諦める」が最も確実で最も早く、かつ簡単。 そうでないのならCGIについて学ぶ。 今ならperlよりPHPのが人気あるよ
ScriptAlias ではなく Options のExecCGIでCGIを実行するようにしたらいいと思います。 httpd.conf------------------ DocumentRoot "C:/Program Files/Apache Group/Apache2/htdocs" ・ #ドキュメントルートのディレクトリでOptionsにExecCGIを追加 <Directory "C:/Program Files/Apache Group/Apache2/htdocs"> Options FollowSymLinks ExecCGI ・ #ファイル名省略時に表示するファイルをここに追加 DirectoryIndex index.html index.cgi ・ #ScriptAlias ～～ この行は先頭に#をつけてコメントにします ・ #CGIとして実行するファイルタイプを指定 AddHandler cgi-script .cgi -----------------
＞日記のレンタルCGIです。 (1)何がシンプルなのですか？ (2)有料でもよいのですか？ (3)「極めてシンプル」とは、どのような意味でしょうか？（何を重要視しているのでしょうか？） 質問が漠然としすぎてて回答できません。 http://www.google.com/search?hl=ja&lr=lang_ja&ie …
ソースを見てみました。 キャラクタ更新フォームのデータを読むところで、 $_ =~ s/<(.*?)>([^<]+)<\/.*?>/$pc{"$1"} = $2;/egi while <IN>; と、しているためデータ内に<br>が入っているとその項目が読み込み出来ません 下記の様に変更してみてください sub htmlunquote{ my $text = shift; $$text =~ s/&lt;/</g;$$text =~ s/&gt;/>/g; $$text =~ s/\n/<br>/g; } sub htmlquote{ my $text = shift; $$text =~ s/&/&amp;/g;$$text =~ s/"/&quot;'/g; $$text =~ s/</&lt;/g;$$text =~ s/>/&gt;/g; } 表示時は<br>に変換、記録時は改行をそのまま残します。 キャラクタ更新フォームのデータを読む箇所は 改行が入っているとwhile <IN>が分割されてしまうため下記のように変更 open(IN, "$chardatadir${file}.cgi") or error('システムエラー',"キャラクターファイル($file)が開けません。"); $_=join("",<IN>); $_ =~ s/<(.*?)>([^<]+)<\/.*?>/$pc{"$1"} = $2;/egi; close(IN); これでOKになるはず
念のため・・・ No.4は表示するときではなく、 >formからのデータ取得時にタグを解析して<b>や<font color="～">以外のタグは変換する 方法のつもりで書きました ※<>→&lt;&gt;変換処理の直後に入れる。 いちいち<font color="～">と記述するのは大変なので、 <色=red>赤文字</色>などと覚えやすいタグにするのも親切でいいかも #<色=red>～</色>を<font color=red>～</font>に =~ s/&lt;(色)(.*?)&gt;(.*?)&lt;\/\1&gt;/<font color$2>$3<\/font>/gi;
このサイトから探してみて下さい。ただしレンタルCGIではなく、設置型のCGIです。 御記述の「アクセス制限」でレンタルCGIは恐らくレンタルサーバに付属機能がないと厳しいでしょう。何故なら、他社のレンタルサーバに対し、別の他社がアクセス制限を提供するのは違法ではありませんが少し厳しいものがあります。 CGIが設置出来ないのであれば、ジャバスクリプトで制御出来る場合もあります。ジャバスクリプトで再度探されてみるのも一つの手段かと思います。 参考URL：http://www.i-say.net/cgi/
Yahooでもヒットしない事はないようですよ。 （試しました…http://～～～～/xxx.cgi?page=1 とか出ます。） ただ、query付きのURLにある情報はSEO的に不利といわれているのを聞いた事があるので SEOを考えるならHTMLファイルに吐き出すか、 queryの代わりにエキストラパス(PATH_INFO)で動作するようにするとか なんか工夫はした方が良さそうです。 http://q.hatena.ne.jp/1148956316
データベースではなく単に掲示板に項目追加した感じですが 一応それっぽいもの。 http://wws.cside.com/cgi-plant/bbs/koredou/bbs.cgi 「専用スクリプトではないので親記事の投稿主が名前を変えて高評価を付ける、連続投稿して評価を下げるといった不正に対するチェック機構はないのでアソビ半分で。」 …製作者のコメントから引用 http://wws.cside.com/cgi-plant/bbs/ ↑こちらがCGI本体 http://wws.cside.com/cgi-plant/bbs/skin_list/bbs … ↑こちらがCGI本体に組み合わせるスキン
No.2です。　記述ミス修正を… cgiの中に埋め込むhtmlの記述で下記の場所は１行あけてください。 あけないとcgiが動かないと思います。 print << "END_OF_HTML"; Content-type: text/html 　　　　　　　　　　　　　　←ここは必ず１行あける。 <HTML> <HEAD>
ご質問の意図が理解できました。説明不足ですみません。 お知りになりたいのはmod_proxyとmod_rewriteの組み合わせによる動作のようですね。 mod_proxyは具体的に通信を各サーバーに振り分ける役割だと思ってください。 mod_rewriteはどのサーバーに具体的に振り分けるかを決定する役割を持っていると思ってください。（実は機能的には違うのですが，いただいたURLの説明を読むと，そのことで使用しているみたいなので・・・） >>上記の様なサーバー構成の場合 >>CGIファイル自体はどちらのサーバーに置くのですか？ リバプロ側には極力負担をかけたくないので，このような構成の場合にはCGIなど重い処理が走るものはすべてアプリケーションサーバー側（気軽に台数を増減できる）におきます。 >>リバースプロキシに置いて >>アプリケーションサーバーのCPUだけ借りるのですか？ そういえないこともありませんが，アプリケーションサーバー側でCGIを設置するのでそのCGIを動作させるPerlなどの言語もアプリケーションサーバー側で動作していますから，「CPUだけ借りる」という表現よりも「CGI部分の処理だけをアプリケーションサーバー側に行わせる」という表現のほうがより近いと思います。 >>アプリケーションサーバに置く場合 >>リバースプロキシに置いてあるHTMLでは >>CGIの場所をどの様に指定するのでしょうか？ 一台のサーバーにHTMLやCGIをおくのと同じ表現方法です。 >>またCGIではHTMLの生成場所をどの様に指定 >>するのでしょうか？ これも上記と同様，一台のサーバーにHTMLやCGIをおくのと同じ表現方法です。 わかりづらいので，上記2つのご質問を簡単に説明すると www.testdomain.com というドメインのドキュメントルートにindex.htmlがあるとします。 index.htmlには，ひとつの画像とひとつのCGIが指定されているとします。 この環境にはサーバーが2台あり，ひとつはmod_rewriteとmod_proxyを組み込んであるapacheが動作しておりこれを1号機とします。もうひとつはmod_perlが組み込んであるapacheが動作しているとし，これを2号機とします。 index.htmlとimgは前者，CGIは後者に保存されているとします。 クライアントが「http://www.testdomain.com/index.html」を呼び出すと，サーバーはとりあえずindex.htmlのテキスト文書をクライアントに返します。 受け取ったクライアントは，返却されたHTMLの中身を読み取り，とりあえず画像ファイルを読み出しに行きます。 index.htmlで画像ファイルを./img/test.pngなどと指定している場合には，リクエストは「http://www.testdomain.com/img/test.png」とリクエストされます。 このリクエストを受け取ったapacheはmod_rewriteに解析を依頼します。mod_rewriteの定義で/img/を含むURLがリクエストされた場合には，そのリクエストは1号機の方で処理するように指定がしてあると，1号機のimgフォルダにあるtest.pngを返却します。 また，クライアント側でユーザが，CGIを動作させるような操作をした場合リクエストは「http://www.testdomain.com/cgi-bin/test.cgi」などとなるわけですが，前者と同様mod_rewriteの定義で/cgi-bin/を含むURLがリクエストされた場合には，そのリクエストは今度は2号機の方で処理をするように指定がしてあると，そのリクエストは2号機のapacheに受け渡され，2号機のCGIコンテンツが処理を行い，リクエストを1号機のリバプロ経由でクライアントに返却します。 上記のように，クライアント側からは1台のサーバーで動作しているようにしか思えない，URLの仕方でも，実は2台のサーバーで処理を行うことが可能となります。 後は上記の応用だけなので，CGI専用やIMG専用，動画専用などのサーバーを立てておき，それぞれの処理を専用マシンに行わせるであるとか，が可能となります。 以上です。
すみませんNo.1の補足です(汗)。 skin ディレクトリ内の admin_paint.html 中の <applet mayscript code="${CANVAS_CODE}" archive="${CANVAS_ARCHIVE}" name="paintbbs" width="500" height="450"> を <applet mayscript code="${CANVAS_CODE}" archive="${CANVAS_ARCHIVE}" name="paintbbs" width="750" height="750"> にするという意味です。
質問者様の使っているサーバーはCGIが本当に使えますか? 使える場合でも、「cgi_bin」フォルダ以下のみとか指定してある場合がありますので、確認しておいてください。パソコンから閲覧できれば、たぶん携帯でも問題なく表示できると思います。（cgiはサーバー側で処理をするので、基本的に端末は関係なかったはずです…／この部分に関しては確証がありません） そして、質問者様が使っているサーバーのCGIのパスを調べてください。レンタルサーバーのホームページに必ず明記してあるはずです。それを、各cgiファイルの、 !/usr/local/bin/perl の部分に置き換えてください。 パーミッションは、CGIの場合は通常「755」です。しかし、レンタルサーバーによりパーミッションの指定をしてある場合もありますので、サーバーに一応確認してください。 また、当たり前のことなのですが、サーバーにFTPでアップする時に拡張子が「.cgi」になっているか確認してください。 ポイントポイントを説明したつもりですが、何か手助けできていれば幸いです。
> 2つ以上のフォームメールを１つのcgiで管理したい というのがどういう物を想像していいのかが分かりませんが、純粋にformを2ページ用意しそこから一つのcgiにデータを送り処理するという事で返信致します MP Form Mail CGI eCommerce 版 http://www.futomi.com/ こちらのサイトにあるフォームメールであれば、管理画面で詳細の設定ができますし、添付も可能ですし自動返信メールに HTML メールが可能です シェアウェアですが、ダウンロードし使う事はできます http://www.futomi.com/library/share.html こちらにシェアウェアの手続きについて記載されています 納得いただいてからお支払い　という形ですので、納得してからお支払いすればどうかと思います 使ってみて納得できなければ、他の物を探されてはいかがでしょうか？ 参考URL：http://www.futomi.com/
さくらでは、ユーザはOptionsを使えないようになっています。（そのためエラーになる） AddType行だけでSSIを使えるようになるはずです。 http://support.sakura.ad.jp/support/manual/rs/te …
スケープの部分を削除すればよいですが、それは大変危険になってしまいます。 例） <form action='***.cgi'> <input type=hidden value="前のページで書き込んだもの"> <input type=text name=id><input type=text name=pass><INPUT type="submit"></form> 前のページで書き込んだものが、 「"></form><form action="害のあるスクリプト」と入力すると、 <form action='***.cgi'> <input type=hidden value=""></form><form action="害のあるスクリプト"> <input type=text name=id><input type=text name=pass><INPUT type="submit"></form>となり偽フォームができてしまいます。 なので、私は、タグを使えるようにするということはお勧めできません もし、<a>タグが使用したい場合スケープ部分を消してください
cron設定すればよいです
＞下記のようなものでしょうか？ 微妙に違います。IDをメールアドレスなどユニークな値にしてしまうと、その管理の為に結局DBを持つ事になります。 だからIDとパスは全員共通です。 JavaScriptでも簡単なIDとパスを設置出来ますが、一応ベーシック認証にしておくのが一番確実ですね。 ※ベーシック認証を行うには、htaccessを操作出来る必要がありますので、この辺はお使いのレンタルサーバ業者に相談しましょう。
No.1の方の回答で解決されていれば幸いですが、 もし分からなかった場合、 最終的にどういう結果になって欲しいのか (例：投稿された内容のメールが自分に届き、且つ投稿主にメールの控えが送信される) をもう少し整理して書いて頂けると、こちらも答えやすいです。
以下のページにあるようなものでしょうか。クリックするリンクを、任意に設置した評価ボタンに設定しておくとよいかと思います。 参考URL：http://piece.s201.xrea.com/p/02_08.html
猫でいいです　猫っとニュース http://nekomi.info/index.html 前に使用してましたが、設置等も簡単で使いやすかったです
改造…　というのでしたら、スクリプト自体をいじらないとだめですので、アップロード後ではなく、改造したものをアップロードというようになりますよ 改造までは、管理画面でできないですから 下記のサイトで改造方法等を説明してくれてますよ http://ysfan.sumidir.com/
交換日記ではありませんが、これなどはいかがでしょうか。 http://mawashimono.com/web/dlcgi/nik.html
おはようございます。No.1です。 再度の補足ありがとうございました。 ＞＃Perl のパスを記述します。と書いていますので ＞プロバイダーの何かを記述する必要があるのだと思います。 これは質問者様が借りてらっしゃるWEBスペースのプロバイダに聞けばわかることです。 というよりやはりPCのネットを接続しているプロバイダは関係ありません。 「プロバイダ=現在インターネット接続に利用しているプロバイダ」という意味ではありませんよ。 参考URLにこのPerlのパスについての詳しい説明が書いてあるページを上げておきましたので、一度ご覧になってみてはいかがでしょうか。 参考URL先のページには「プロバイダにメールで問い合わせするのが一番」と書いてありますが、CGIが使えるところであれば必ずわかりやすいところ (ヘルプページなど) に書いてあると思いますので探してみてください。 CGIの設置の解説を読まれて、今回のようなご質問に至ったのですね。 他のCGIをダウンロードされるとわかると思うのですが、このような「Perlのパスを記述なんとかかんとか～」という説明は、どのCGIでも必ず同じようなことが書いてあります。 大きなお世話かもしれませんが、CGIを設置する上でごくごく初歩的なことですので、No.4の方もおっしゃっていますが一度いろいろなサイトで設置について勉強された方がよろしいかと思います。 ●ＣＧＩのいろは（ＣＧＩ設置講座）： http://www7.big.or.jp/~jawa/tips/index.html ●ＣＧＩのＦＡＱ： http://www7.big.or.jp/~jawa/faq/index.html ↑このFAＱは特に参考になると思います。 CGIは下手に扱うとたくさんの方に迷惑をかけたり、結構危険なものです。 慎重にがんばってくださいね。 参考URL：http://www7.big.or.jp/~jawa/tips/perlpath.html
CGIのカテゴリで質問されてますけど、使っている言語はPerlですよね? $query = $ENV{'QUERY_STRING'}; $query = ~s/A/0/g; print $query 2,3行目の行末のセミコロンがないのは単なるうち忘れだと思いますが、 本当に $query に 'AAA' という文字列が入ってきていますか? 上記の部分をセミコロンを補って my $query = "AAA"; $query =~ s/A/0/g; print $query; とすると '000'が出力されます。 置換を疑うよりも入力を疑った方がよいような気がしますがどうでしょうか? 最後に 教授 × 教示 ○ です。
W32Hという機種を持ってますがEZwebでPOSTは使えてます ちょっと検索してみましたが下記のURLが参考になるのではないでしょうか http://antun.net/tips/mobile/commonweb.html
そのCGIの事はわかりませんが、 一般的にはサーバからまるごとダウンロードし、 新しいサーバに転送すればおおむね、元通りに再現されます。
>今すでに別のCGIを設置しているのですが，ディレクトリを変更するとこのCGIが動かなくなります。 ＣＧＩで新しいのを利用する時、そのＣＧＩのルールにあわせる必要が有ります。もし、新しいＣＧＩのルールが、別のディレクトリーで無いと困るなら、今動いているディレクトリーを変更するのでなく、新しくそのＣＧＩの為に　ディレクトリーを作ってやら無いと、名前変えちゃうと、旧（動いている）ＣＧＩは　リンクが切れて、とまりますよ >CGIってそれぞれのパーミッションがあるのでしょうか ＣＧＩには、難しいパーミッションは無いと思いますよ。読み込み実行するだけですから、それより、前の回答のように、参照する　ページに答えを、書き込むなら、書き込み可能なように変えないと。 >（※サーバよりCGI置き場が決められていますので移動できない・・・ですよね） その決められた、場所しか使えないなら、ＣＧＩを参照しているページのＣＧＩ呼び出し部分を、自分のサーバーの合わせたようにその部分のみ（リンクアドレス）を書き換えてやる必要が有るわけです。
ご自分のメールアドレスをスクリプトの中に書いてから、とりあえずそのページと同じディレクトリーに mvi.cgi を入れてから、 ページのどこかに、<img src=./mvi.cgi> と入れてみてください。
完全に要望に一致するのは見つかりませんでした・・・ ちなみに↓はgoogleで「小説 cgi」と入れて検索して見つかったものです http://htmldwarf.seesaa.net/category/2061132-1.h … を見ると要望に応じて携帯で見るためのcgiなど作ったようなのでさらなる要望をしてみては？ (perlが解れば自分で改造もありだと思います)
ご質問に最適なプログラムソースがあります。 プログラムが自動でリンク申請者の入力ＵＲＬを巡回し、自サイトのリンクが存在すれば登録されるという仕組みを持っています。 また、Yomi-Searchのように審査登録モードにしておくことも可能です。 わたしも以前Yomi-Searchを使っておりましたが、参考ＵＲＬの楽-サーチに切り替えました。 参考URL：http://www.seo-ch.com/raku-search/
外部データファイルの扱い方はご存知ですか？ open(READ,"data.txt"); @lists = <READ>; close (READ); ってすれば@listsの中にテキストファイル(ここではdata.txt)の内容が一行ごとに$lists[0],$lists[1]…として格納されていきます。 つまり、テキストファイルの中身を aaa@mail.com bbb@abc.net ccc@hoge.com ： ： としておけば変数にメアドを代入することができます。
さしあたり、すぐ見つかったものを。。 http://www.tryhp.net/download/bubu/bubu.cgi これは1ページに10問全て表示されるみたいですが、そうじゃないほうがいいですか？ もう少し探せば別のもありそうです。引き続き探してみますね。 参考URL：http://www.tryhp.net/bubu.htm
はい、mod_rewriteが入っていないと「RewriteEngine On」以下の行がエラーになってしまうのです。 対応しているなら問題ないみたいですね。 （私が以前使用していたサーバーは未対応でした） 私はindex.cgiを置いて振り分けしてますが、htaccessで飛ばせるならその方がスマートかもしれませんね。 設置頑張ってくださいね。
私もDelphiで作成した実行形式CGIプログラムが起動できません。仕方ないのでVurtualPC2007でWindows2000PROをインストールし、2000のIIS5を使ってデバッグしています。 良い解決策を私も知りたいです。
CGIで、となるとここくらいしかサンプルを見つけられませんでした。 http://mdstoy.vis.ne.jp/program/cgiscript/countd … 処理的にはあまり難しくないのですが、手軽さからやはりJavaScriptのサンプルが多いです。 動的に（分や秒まで表示）となると、JavaScriptかJavaでしょうね。 （METAタグのRefreshで更新はやや反則ぎみか？）
こんにちは 記事を3つのファイルに分けたりしてるみたいなので全部見てないですけど・・・ タイトルと名前には文字数制限がついているみたいですよ？ タイトル(maxlength=30)、名前(maxlength=20)　{patio.cgi 553行目,569行目) まぁ、確かに名前を長くしてトリップつけると半分(400)くらい使うみたいですけど・・・ スレッド一覧だけでトリップを表示しないのであれば patio.cgiの117行目くらい # スレッド表示 if ($p eq "") { $p=0; } $i=0; open(IN,"$nowfile") || &error("Open Error: $nowfile"); $top = <IN>; while (<IN>) { $i++; next if ($i < $p + 1); next if ($i > $p + $menu1); ($num,$sub,$res,$nam,$date,$na2,$key) = split(/<>/); の後ろに foreach($nam) { ($nam,$***) = split(/◆/);} foreach($na2) { ($na2,$***) = split(/◆/);} を入れ込むと表示しませんでした(***には適当になんか付けてください）
CGIのカウンターのログファイル程度であれば ############################## $tmp = "\nカウント ： \[ $pcount \]\n日　　時 ： \[ $time \]\n"; open(DATA,"+<$logfile2"); @array = <DATA>; unshift @array, $tmp; seek(DATA,0,0); print DATA @array; close DATA ; ############################### ということも"あり"です。 ただし，ファイルサイズが大きくなると，それなりに処理に時間がかかってしまいますので，お気をつけて。
配列を使うところだけでも・・・・。 # name1.txt の中身 aaa bbb ccc # 参考にしていただきたいスクリプト open IN,"name1.txt" or die $!; #ファイルを開く my @Array = <IN>; #一行づつ配列に格納する。 foreach $words ( @Array ){ #配列からひとつづつ要素を取り出す chomp $word; #行末の改行を取る print "<option value=\"", $words, "\">", $words, "</option>"; } # 参考にしていただきたいスクリプトはここまで 上記を実行すると <option value="aaa">aaa</option> <option value="bbb">bbb</option> <option value="ccc">ccc</option> が出力されます。 ファイルの大きさにもよりますが， 上記のforeachの部分は @array = map ("<option value=\"".$_. "\">".$_."</option>" , @array); print join "\n",@array; print "\n"; と書き換えることも可能です。
パーミッション、init.cgi等の記述の修正（cgiのパスや管理者パスワードの設定など）、ディレクトリの構成が間違ってなければ私には分かりません。 お力になれなくてすいません。
#1です。アンケートの質問で順位付けできるだけでなく、回答ごとに順位付けされて結果表示されないとダメなんですね。把握できてなくてすみませんでした。 作り方はわからないのですが、↓こちらの「webランキング」というのは回答ごとに順位付けできるようです(「－＞」からサンプルが見られます)。でも逆に全体をまとめて項目ごとに集計することはできないかも、ですが…… http://www2u.biglobe.ne.jp/~micky/saver/dl.htm こちらは主旨が違うかと思いますが、投稿者が項目とそのランキングを決められるスクリプトのようです。 http://tackysroom.com/cgi_sukisuki.htm 何かしらご参考になればよいのですが。
↓はいかがでしょうか。 2.については「過去ログ」から見ることができますがサンプルを見る限り、締め切ったものについてはグラフ表示ではないようです。また、3.では、個々の承認作業はできない(項目の追加を認めるか認めないかを選べるだけ)かもしれません。 http://www.minicgi.net/cgi2/vote.html 参考URL：http://www.minicgi.net/cgi2/
CGIは仕掛けの話であって実際の駆動物の事を指していない。 C言語製の実行形式かもしれないしbatファイルである場合もある。 何であるかが判らないが使用環境とリネームで検索すれば出てくる筈 例えばperlの場合 http://www.google.co.jp/search?q=perl%20%E3%83%A …
最初の注意書きにもありますが --------------------------------------------------------------- このＣＧＩを扱うには、ＨＴＭＬ(特にFORM)の知識が最低条件です。 またonlyone(オリジナルで配布中)の使用経験が無い方は、最初戸惑うかもしれません。 そういった方は、Ver1のデータベースをご利用になることをお勧めします。 使用経験がある方は、onlyoneと同じ要領で使用してください。 --------------------------------------------------------------- ver1をご利用になってみてください。 ちなみに自分も設置しましたが何も変更しなくても動作しましたよ？ html.htmlファイルを変更されませんでしたか？
URLを圧縮していると言うことですが、実際はリダイレクト（ページをジャンプ）させているだけです。 PCと携帯でリダイレクト先を変えるというプログラムを作ることは可能 ですが、携帯にはリダイレクトに対応していない物もあると聞きます。 理想を言えば、質問者さんが123.comといった短いドメインを取得してそこにサイトを置くのがいいと思います。 例えば、VALUE DOMAIN（http://www.value-domain.com/）などは年額千円以下でドメインを取得でき、xreaという無料サーバと組み合わせれば簡単に独自ドメインのサイトを開設できます。 短いドメイン名にすればそれだけで圧縮URLの意味と同じですし、自分で決めたドメインなら愛着がわくでしょう。
こちらの方法ではどうでしょうか。イメージされてるものとは違うかもしれませんが…… 参考URL：http://hello.oceannet.jp/modules/blog/index.php? …
GETで送信して、環境変数QUERY_STRINGから取り込むのはだめですか？ POSTにしなければならないなら、送信先をSSIを施したHTMLファイルではなく、CGIスクリプトにしないと行けないと思います。
”定刻での優先予約が出来ず”も条件であれば、 4項目の条件でなく5項目の条件ですよね？ ここで出来ている。 ”レギュラーで予約”は、利用者が登録するものでなく 管理者（提供者）が代理に処理するようにしないと ものすごく複雑な条件が絡み合ってかなり困難だと思います。 今後の参考になればと思い、回答しました。
私も、nifty@homepageを利用していますが、 No2の方のおっしゃるように、スタイルシートファイルは、homepageディレクトリーにアップロードして下さい。 cgi-bin側では読めません。 転送モードは、バイナリー、アスキーどちらでもかまわないと思います。（テキストファイルなので、改行コードはあとでブラウザが適宜対処する） パーミッションは、604または644、通常のhtmlファイルと同じです。 次に、スタイルシートを読み込むためのリンク先設定を、http://homepage?.nifty.com/***/test.css のように絶対URLで記述して下さい。 カスタマイズページの「２スタイルシートを読み込むタグを追加する。」のところ。 http://www.din.or.jp/~raelian/UserCustom.html ブラウザで確認する時、元のページのhtml内容に変更が無く、cssファイルしか更新されていないと、新たに読み込みにいかないことがあります。（古いブラウザではよくあったんですけど） 一時キャッシュをクリアして再表示してみて下さい。
もちろん可能です。 パスの変換などもいりませんから、ほとんどnamazu側の設定は不要なんじゃないでしょうか。
内容から察しますにレンタルサーバで提供している ショッピングカートをご利用なんでしょうか？ 在庫は管理者だけでなくお客さんにも見せたいのでしょうか？ 回答を申しますと商品一覧ページ内に表示することは可能です。 しかし、レンタルサーバーが提供しているCGIを改造しないと無理です。 改造するにはＣＧＩの知識も必要ですし 提供されているCGIの改造が可能かどうかも確認する必要があります。 管理者で在庫のみの確認が必要なら別途CGIを作成する手段もありますが・・
＞KENT-WEBでダウンロードしたショッピングカート http://www.kent-web.com/cart/index.html どれですか？
例えば $name,$mail,$comment に値が入っているとして、hoge.logに加える場合 open(OUT,">>hoge.log"); print OUT "$name<>$mail<>$comment<>\n"; close(OUT);
エスケープ記号が全角（＼←このように）なってます。 多分投稿する際に自動的に直されたのでしょうね^^;; エラーはそこにきてるはずです。 その文字を半角に修正してみてください！
Apacheのhttpd.confでCGIファイルを置いてあるディレクトリがCGI実行のオプションが付いていないのでは？ Ubuntuを使った事が無いので解りませんが、/home/httpd/htmlにCGIファイルがあるとだめで、/home/httpd/cgi-binになら大丈夫とかなら、設定の問題ではないかと思います。 /home/httpd/htmlにCGIを許可するなら、 <Directory /home/httpd/html> Options Indexes Includes FollowSymLinks </Directory> などとある、OptionsにExecCGIを追加してみて下さい。 <Directory /home/httpd/html> Options Indexes Includes FollowSymLinks ExecCGI </Directory> とこんな感じです。 ユーザーディレクトリなら <Directory /home/*/public_html> とかだと思います。 私の環境で試したら、CGIのソースが表示されました。 ただ、私の環境はApacheが1.3系なので、他の問題かもしれませんが...。 頑張ってください。
負荷はかかります。 アクセスがわずかであればわずかの、かなりであればかなりの負荷です。 しかし、掲示板を実行するよりは負荷は少ないでしょう。 気にすることはないと言ったのは、あなたが気にしてもしょうがないのでは、という意味です。 もっと負荷を軽くしたいのであれば、サーバーを増強するといった方法がありますが、それはISPの担当者が考えることでしょう。 根本的には自動書き込みソフトがアクセスしてこないことですが、自動書き込みソフトが404を検知したらリストから削除（以後のアクセスをしない）、という仕組みになっていればよいですが実際はわかりません。 負荷がかかることに対するあなたの心配事はなんですか？
>私の場合「セーフモード」と表示されないのですが大丈夫でしょうか 出ないみたいです、大丈夫です。 きちんとした説明書もありますし設置は大丈夫だと思いますが・・ それにCGIではなくこれPHPですね。
これが、あなたが求めているものと違ったら申し訳ございません。 http://dream.lib.net/room/cgi/e_srh.html 頑張ってください。 参考URL：http://dream.lib.net/room/cgi/e_srh.html
＃１です。 フォルダ構成は全部「cgi-bin」に入れたのですか？ http://www.kent-web.com/cart/cart.html によると、「jcode.pl」と「cgi-lib.pl」は「./lib/」フォルダに入っていることを前提として「init.cgi」は作られていますので同じフォルダ構成にしないとエラーが出ます。 「cgi-bin」の中に「lib」フォルダを作成して、その中に「jcode.pl」と「cgi-lib.pl」を入れましょう。 また、「data?.cgi」「stock.dat」「raw.dat」ファイルは「data」フォルダを作成してその中に入れましょう。 同じく、「img」フォルダも作成しておきましょう。 http://www.kent-web.com/cart/cart.html を参考に同じようなフォルダ構成にしてみましょう。 参考URL：http://www.kent-web.com/cart/cart.html
ちょっと訂正、データファイルはパーミッション0600で保護でした。 では、頑張ってみて下さい。
今更ですが、アクセスログについて > 「○○○.com/○○.cgi」から動的ページを作るとログは > 「○○○.com/○○.cgi?=1023」というようになるのでしょうか？ ここでいう「ログ」というのがhttpd（Apache、IIS、AnHttpdなど）のアクセスログのことでしたら、 GETで送ればそのようになります。 > そうなればサーバーにはそのログが残るのでしょうか…？ httpdのアクセスログにはそのまま残ります。 アクセス解析プログラムの解析ログにはおそらく残らないと思います。 そこから解析に必要なデータを抜粋して、その部分だけを残すと思いますので。 もちろん解析プログラムの仕様によっては、全て残すかも知れません。
下記を補足してください。 ・仕様がどう変更されたのか？ ・該当プログラムのソースは？
こんにちは。 こういうCGIでチェックされてみてはいかがでしょうか。 http://appoh.execweb.cx/soft/check.htm
googleなどで link:自分のサイトアドレス と入力すれば、被リンクサイトが出てきます。 以下のツールもいかがですか？ http://www.vector.co.jp/soft/win95/net/se078643. … リンク切れした場合は解除すれば良いと思います。 まぁ、自動化は難しいですかね。
<input size="40" type="file" name="filename"> 上記の記述をしても、そのデータを受け取る先（←これがCGIプログラム）がないわけです。 従って、実行不可能です。 どうしてもやりたい場合は、独自CGI（PerlなりPHP）が動かせるサーバに移転した上で、フリーのソースコードを拾ってきて、設定変えて、アップして動かすしかないでしょう。
#1です。 書かれたfor入りのコードを実行しましたがエラーは起きませんでした。 for の有無は影響しないようです （これはPerlですよね？他を知らないので念のため） 文字列の開始～終了の記号として「!」を使っていますので、 forではなくて どこかに「!」を入れてしまっていませんか？？ yesなら以下のようにヒアドキュメントを使った書き方に変えてはどうでしょう？ print <<__HTML__; <HTML> ～略～ </HTML> __HTML__
#1 の補足として 利用者:Tietew/携帯電話のIPアドレスリストhttp://ja.wikipedia.org/wiki/%E5%88%A9%E7%94%A8% … この情報が新しいかどうかは、確認していません。 また、「携帯端末の自動判定」CGIが見つかりました。 http://www.quick-s.net/cgi-sample/download/judge …
CSSです。 http://www.nextindex.net/web/CSS/pseudo.html
あるサイトがMixiの事でしたら　これ使ったほういいですよ。 Mixiアクセス用のLWP::UserAgentモジュール WWW-Mixi-0.48 WWW::Mixiのクックブック http://search.cpan.org/~tsukamoto/WWW-Mixi-0.48/ … ちがったら　LWP Cookie でググルと出てきます。
<html lang="ja"> <html> は分かりますね？ lang="ja" は日本語が基準言語だという事です。 <style type="text/css"> style sheet は色々な種類がありますが、css形式（textデータ）を利用します、という宣言です。 a:hover{ color:#99CCCC; } はcss形式ですね。 上下の 　<!-- / --> はコメントアウトで… 直前の<style type="text/css">と合わせて、cssに対応していないブラウザーなら、これに囲まれた部分をコメントとして無視（表示しない） という意味です。
こんにちは jcode.plとsub decode{ }については前回の質問を見てください $dateと$errorはどんな値が入っているのか分からないのですが・・・ print <<"EOM"; の前に $date = "*****"; $error = "******"; のようにして文字(？)を入れてください ループ処理の部分は何がしたいのかよく分からなかったので省略しています 多分データファイルから名前のリストを読み込んで『名前(リンク付き)、行き先、帰社時間』のリストをテーブル表示したいのだと思うのですが・・・ あとTAGは小文字で書いたほうがよいかもしれません(コピペして加工したので大文字のままです) #! c:/perl/bin/perl require './jcode.pl'; &decode; &html; sub html { print "Content-type: text/html\n\n"; print <<"EOM"; <HTML> <HEAD> <TITLE>行動予\定表\</TITLE> <META Http-Equiv="Content-Type" Content="text/html;charset=shift-jis"> </HEAD> <BODY link="#0000ff" vlink="#0000ff" alink="#0000ff"> <CENTER> <TABLE BORDER="0" WIDTH="90%"> <TD WIDTH="20%"> <FONT SIZE="4"> <IMG src="../../image/mrd3.gif" width="80" height="27" border="0">　</FONT> </TD> <TD WIDTH="60%" ALIGN="center"> <B><U>行動予\定表\</U></B> </TD> <TD WIDTH="20%" ALIGN="right"> <FONT SIZE="4"><U>$date</U></FONT> </TD> </TABLE> <FONT COLOR="#FF0000"><B>$error</B></FONT><BR> <TABLE BORDER="1" WIDTH="650" CELLPADDING="2" CELLSPACING="1"> <TR ALIGN="center"> <TD WIDTH="150" BGCOLOR="#DDDDDD"> <FONT SIZE="2"><B>名前</B></FONT> </TD> <TD WIDTH="300" BGCOLOR="#DDDDDD"> <FONT SIZE="2"><B>行　　先</B></FONT> </TD> <TD WIDTH="150" BGCOLOR="#DDDDDD"> <FONT SIZE="2"><B>帰社時間</B></FONT> </TD> </TR> EOM print <<"EOM"; <TR> <TD colspan="4"> ここの処理はよく分からないです？？ </TD> </TR> EOM print <<"EOM"; </TABLE> <HR> <FONT SIZE="2"><B>ご利用のヒント</B></FONT><br> <FONT SIZE="2"><B>■名前</B></FONT> <FONT SIZE="2">　編集したい名前を押すと、登録画面が表\示されます。</FONT> <P> <FONT SIZE=2><I> <A HREF="http://999999">イントラネットトップページへ </A> </I></FONT> </CENTER> </BODY> </HTML> EOM exit; } sub decode { # 前回の質問の内容をコピペしてください }
今、質問者の方の書いたURLをクリックしたら ちゃんと表示されましたよ？
name属性に使えない文字を使っているのでは？ http://www.h7.dion.ne.jp/~rayboy/dioncgi/mail2/i …
[～]の鍵括弧って < と > ですか？ 普通にhtmlって言語の要素（エレメント、通称タグ）ですが。 （まぁ文脈不明なのでxhtmlかもしれないしxmlかもしれませんが） 鍵括弧（<,>）自身は何という言語？という質問ならマークアップランゲージ（htmlとかxmlとか全てまとめた）の要素をしめす記号です。 以下htmlだとして補足しています。 <a>と</a> なら anchor の始まりと終わりです。 hrefは<a>の属性で、この場合なら 返信 という表示テキストをクリックすれば指定しているURL（imgboard.php?res=☆☆）にジャンプします。
<インターネットを介さない場合でも～ インターネットを介さない=webサーバを介さない？ イントラネット内（内ってつけるのもおかしな言い方ですが）、社内ネットワーク内でということですか？ なんだか希望されるシステムの全体像や方向性が見えなくなりました。 また、この時点（あなたがいる時点）ではスマートかどうか検討する必要があるのでしょうか。
こんにちは 以下をコピペして≪test.cgi≫をSAフォルダに保存してみてください #! c:/perl/bin/perl require './jcode.pl'; &decode; &html; sub html { &header; print "testです\n"; &footer; exit; } #---------------# # HTMLヘッダー # #---------------# sub header { print "Content-type: text/html\n\n"; print <<EOM; <html> <head> <META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=Shift_JIS"> <title>test</title> </head> <body> EOM } #------------------# #　HTMLのフッター　# #------------------# sub footer { print "</body></html>\n"; } #--------------------# # フォームデコード # #--------------------# sub decode { if ($ENV{'REQUEST_METHOD'} eq "POST") { read(STDIN, $buf, $ENV{'CONTENT_LENGTH'}); } else { $buf = $ENV{'QUERY_STRING'}; } undef(%in); my @buf = split(/&/, $buf); foreach (@buf) { my ($key, $val) = split(/=/); $val =~ tr/+/ /; $val =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack("H2", $1)/eg; # SJISコード変換 &jcode::convert(\$val, 'sjis'); # エスケープ $val =~ s/&/&/g; $val =~ s/"/"/g; $val =~ s/</</g; $val =~ s/>/>/g; $val =~ s/\r\n/<br>/g; $val =~ s/\r/<br>/g; $val =~ s/\n/<br>/g; $in{$key} = $val; } } それでブラウザでhttp://127.0.0.1/SA/test.cgi もしくはhttp://localhost/SA/test.cgiと入力してみてください 『testです』とブラウザ表示されると思うのですが・・・ jcord.plは同一ディレクトリ内(SAフォルダ内)に保存してくださいね http://mikeneko.creator.club.ne.jp/~lab/kcode/jc … PHPの方もApacheでやっていたのですかね？ Apacheのほうでやっててhttd.confの設定だけを変えているのであればPHPファイルを置いているフォルダの方にcgiファイルを置いてみてはどうですか？ http://tech.bayashi.net/faq/nodl.html http://sakaguch.com/pastbbs/0035/B0017909.html
FORMで送っているのならばHIDDENで送ってやればよい。 Aで送っているのならば URL?B=Bについて （日本語はURLエンコードをしましょう） とGETで送ってやればよい。
#1です。 早とちりしました;; えっと、簡易的なPerlスクリプトを作って実験したところ、 $Param{'file'} にはセットされたファイルがガッツリはいってます。 $Param{'chk'}には、チェックボックスがチェックされている項目が順番に入ってるみたいです。 >チェックボックスには１と３にチェックが付いています。 という状態であれば、$Param{'chk'}は13です。 １だけなら、1、１と２なら12のように変化します。 もしかしたら環境で変わるかもしれません。
nifty では　use Socket; が使えないようです。 niftyでsendmailを使う http://homepage2.nifty.com/ders_soft/sendmail01. …
ファイルに保存する部分だけを説明すると。 ・ファイルを開く ・ファイルに書き出す ・ファイルを閉じる という処理が必要になります。 上記の処理は、以下の通り。 open FH, "<< $fileName"; print FH $stored; close FH; ※例外処理は記載していません。 問題は、ファイルフォーマット。 １つの文章をどのように格納するか。 それによって具体的な出力処理が変わってくるでしょう。 また実際には、ファイルを開くときにもチェックが必要でしょう。 ファイルがあるかどうかチェックして、あれば追記モードで、なければファイルを作ってから追記モードで開くか上書きモードで開いてファイルを同時に作らせるかなど。 質問者さんの書かれている処理で、ファイルに出力できない理由は、２つあります。 open FH, "< $fileName" or die; この部分で、読み込み専用でファイルをひらいていること。 print $stored; というところで、ファイルハンドラを指定しておらず標準出力に出力していること。 openのときに書き込みができるモードで開き、printでファイルハンドラを指定することで、ファイルに出力できるようになります。 とりあえずファイルへの出力に関しては以上でできるはず。
フリーウェアという程ではなく、PHPマニュアルの基本的な事項に例があります。 http://jp.php.net/manual/ja/features.file-upload … 参考まで。
> $story = $_POST["story"]; これはPHPの書き方です。 「cgi perl フォーム」などで検索すれば、すぐに見つかると思いますが、 CGIモジュールを使って、以下でいいと思います。 use CGI; my $html=new CGI; my $story=$html->param('story'); GETとPOSTの違いはありません。 $in{'story'}という書き方はcgi-lib.plをキーワードに追加してみてください モジュールを使うのではなく自分で取得する方法を知りたい場合は 「cgi perl サンプル」でどうぞ。
私もサブジェクトが文字化けしてしまい苦しみました。 携帯での文字化けということなので役に立つかわかりませんが、 以下のサイトを参考にして、 http://www.securehtml.jp/utf-8/perl_utf_mail.html メールフォーム用に書き直してみたものです。 <!-- ここから --> ##Perlの冒頭に入れる1行 ##MIME::Base64がインストールされていることが前提 use MIME::Base64; ##送信処理 local($msub,$mbody,$headers); $msub = $_[0]; $mbody = $_[1]; $headers = $_[2]; # メールタイトル $msub = "テスト送信完了通知"; $mbody .= "メール送信テスト\n\n"; $mbody .= "名前：$in{'name'}\n\n"; $msub = $subject; $headers = "From:$email\nMIME-Version: 1.0\nContent-Type: text/plain; charset=utf-8\nContent-Transfer-Encoding: base64\n"; $eol = ""; $msub_b = encode_base64($msub,$eol); $msub_b = "=?utf-8?B?" . $msub_b . "?="; open(MAIL,"| $mailprog -t") || &error("メール送信に失敗しました"); print MAIL $headers; print MAIL "To: $mailto\n"; print MAIL "Subject: $msub_b\n\n"; print MAIL encode_base64($mbody); close(MAIL); <!-- ここまで --> $msubがサブジェクトで、$mbodyが本文です。 $msub_bがエンコードされたサブジェクトということになります。 エンコード対象外（半角英数のみ）の部分を$headersにまとめています。 参考サイトのソース順のまま流用しようとすると文字化けします。 参考URL：http://www.securehtml.jp/utf-8/perl_utf_mail.html
(1) POSTなら $story = $_POST["story"]; GETなら $story = $_GET["story"]; (2) POSTかGETでデータを受けってからSQLでINSERTなりUPDATEなりを発行する。
ここで"ポイントサイト" と検索してみてください。 前者よりは有料ですが格段に安いです。 参考URL：http://www.yumemaboroshi.net/
http://www.google.co.jp/search?hl=ja&lr=lang_ja& … 検索しただけ。希望のが混ざっているかは保証しない。
外部ファイルに記述するには、 require './xxx.cgi'; などとすれば出来ますよ。 禁止文字が増えれば外部ファイルのほうがいいかもしれません。 参考URL：http://joho.boo.jp/memo/writer.cgi?mode=detail&n …
モジュールがインストールされてないとかではないですか？ この場合、サーバをいじらないといけない為、対処が出来ない場合が多いです。 文法チェッカーというものがどのようにチェックするものなのかがわからないので、どうすればいいというのは分かりません。
私はいろいろ試して、掲示板に独自で組み込みましたよ。 こんな感じでカスタマイズできませんか？ 初期設定ここからの掲示板設定の中に、 #--この掲示板についての設定--# # 登録不可E-mailドメイン $denymail[0] = "yahoo"; $denymail[1] = "hotmail.com"; $denymail[2] = "excite.co.jp"; $denymail[3] = "weblog.ne.jp"; $denymail[4] = "mail.goo.ne.jp"; $denymail[5] = "geocityes.co.jp"; $denymail[6] = "infoseek.jp"; $denymail[7] = "goomail.com"; $denymail[8] = "livedoor.com"; $denymail[9] = "gmail.com"; $denymail[10] = "amazon.co.jp"; $denymail[11] = "rakuten"; $denymail[12] = "freemail"; $denymail[13] = "with.love.ne.jp"; $denymail[14] = "mailfriend.net"; 実際の登録処理の中↓ ###+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ ## SUB >>> 実際の登録処理 ###+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ # 禁止ワードチェック if ($deny_word) { &deny_word($in{'name'}); &deny_word($in{'risou'}); &deny_word($in{'title'}); &deny_word($in{'comment'}); } sub deny_word { local($word) = @_; local($flg); foreach ( split(/,+/, $deny_word) ) { if (index($word,$_) >= 0) { $flg=1; last; } } if ($flg) { &error("禁止語句($word)があるため投稿できません"); } } 私は、見つけては試し、見つけては試しで、毎日いろんな機能を追加してますよ。 Perlて共通する部分があるから、試してたらできました。
＃２です 言葉足らずだったので、念のため補足します。 ＞＃１はイベントを増やす方法です。 これはイベントの【種類】を増やす方法です。 イベントの【発生頻度】を増やす方法ではありません。 7mbさんの質問「kboardのイベントを増やしたい」は、 【発生頻度】に関する事だと思います。 しかし、7mbさんが見た、サイトの質問箱の質問、 ＞サイトの質問箱にもイベントを増やしたいと、質問があったのですが ＞ここの場所をご自分で改造してくださいとの返事でした。 （↑この部分ですね。） これは【種類】に関する質問です（プログラムの内容より推測）。 7mbさんの知りたい内容ではなかったと言うことですね。 ですので、この部分を改造しても解決しないと思います。
>そのhtmlファイルに直接記述してあるものは全部読めました・・・が、cssやimageファイルは全く読み込んでくれません。 HTMLの基礎的な内容だと思いますが・・・(^^; HTML内に相対アドレスで指定されているファイルは当然そのままでは開けません。絶対アドレスに書き換えるか、参照している全てのファイルをCGI側のサーバにコピーするかどちらかです。 >お手間おかけしますがあともう少しだけアドバイスください。 私の分かる範囲でしたら、時間の許す限り何でもお答えしますが、先行きが怪しくなってきたので一度整理させて下さい。あと少しでは済まない感じがしますよ(^^; >cgiでhtmlファイルを読み込みたい 最初の質問は解決しました。別サーバのhtmlファイルを読み込むことは出来ました。 で、それを使って最終的に「何がしたいのか？」が分かりません。 現在htmlが有るサーバ：サーバＡとします。 現在CGIが有るサーバ：サーバＢとします。 サーバＡはインターネット上に公開済みですよね？ サーバＢもインターネット上に構築中でしょうか？それともローカルでテスト中でしょうか？ サーバＢのCGIでサーバＡのhtmlファイルを読み込んで、一部を修正して、その先は？ ひょっとしてサーバＡのサイトを丸ごとサーバＢ上に再現しようと言う計画でしょうか？
http://www.rescue.ne.jp/cgi/private/sample/ たとえばこのＣＧＩを利用したとして 401.htmlを自分で編集すればいいんじゃないですか？ ・・・・違います？
114行目の $value =~ s/\n//g; これで改行をNullに変更しているので これを削除すれば改行はクリアされなくなるはず
auの人が来てないんじゃないでしょうか？ これだけではこんな回答しか出来ませんので ・どこにカウンターを設置しているのか？ ・CGIはどこのものか？(フリー、プロパイダ提供など) を教えてください。
↓RFC2616 (Hypertext Transfer Protocol -- HTTP/1.1) の抜粋です．ご参考まで． (3.2 Uniform Resource Identifiers, 3.2.1 General Syntax より) The HTTP protocol does not place any a priori limit on the length of a URI. Servers MUST be able to handle the URI of any resource they serve, and SHOULD be able to handle URIs of unbounded length if they provide GETbased forms that could generate such URIs. A server SHOULD return 414 (Request-URI Too Long) status if a URI is longer than the server can handle (see section 10.4.15). Note: Servers ought to be cautious about depending on URI lengths above 255 bytes, because some older client or proxy implementations might not properly support these lengths. RFC2616 (Hypertext Transfer Protocol -- HTTP/1.1) http://www.rfc-editor.org/cgi-bin/rfcdoctype.pl? …
パーミッションをチェックしてください。
CGI経由で動かせばどの言語もCGIを利用している。 ただしWebサーバのモジュールとして動かしている場合は CGIではない。 perlもphpもモジュールで動かせばCGIではない。 PHPあたりはCGIで動かすよりサーバのモジュールとして 動かすことが多いですけどね。
できますが、禁止されているところが殆どだと思います。
http://www.yo.rim.or.jp/~m_masa/ この中のサンプルCGIの中にあるBBSはダメですか。 デザイン変更はちょっとややこしそうですが。
いろいろ原因は考えられますので、とりあえずメール送信部分だけでもスクリプトを公開してください。
文字コード変換する場合、jcode.plの導入で解決できます。 http://homepage2.nifty.com/BASH/WWW/make_code.html
ホームページスペースをどこに置いているか書いたほうが説明を受けやすいと思います。 プロバイダのホームページスペースは、CGI設置不可の所が多くありますから、そちらの詳細をよく読まれることもおすすめします。 　　　 > 3G2ファイル そのような説明はリンク先のも見当たりませんが？？？
どの程度ソースを読めるのかが分からないので、簡単に書きます。これで分からないのであれば、下手に直さない方がよいでしょうし。 RSSブロガーはRSS2.0のpubdate形式に対応していないようですね。新着ブロガーのソースと対応させると修正できると思います（デフォルトでは$dateを表示していないみたいですが）。 単一サイトの複数投稿を表示したいなら、こちらを直す方が楽でしょう。繰り返しますが、インラインフレームにする必要はなく、枠組みとしては新着ブロガーと同じ方法（HTMLを返すプログラムにしてinclude）で表示すればOKです。 RSSを取ってきてパースし、表示するというところは同じなので。 まあ、やっていることはそれほど難しくはないんですが、なかなか使いやすいツールが公開されていないですね。役に立たなくてすみません。
自分はテキストデータの保存形式(拡張子)を.cgiにしています。 そうすればそのURL直打ちされてもファイルを開くことができないから (cgiとして処理しようとしてcgiではないからエラーで開けない。)
ビジネスで使うのであれば、こんなところで質問しても意味がないですよ。サービス提供元に確認しましょう。 詳しい使い方が分かりませんが、リンクするだけならもちろん問題はありません。 APIを使ってGoogleMapをサイトの一部に組み込んでいるなら、利用規約は下記のページです。考えられることとして、会員制で一部の人しか見られないものは駄目ですし、対価を取るのは駄目ということになっています。 Google Maps API: http://www.google.com/apis/maps/terms.html 規約の文言が理解できないなら、問い合わせるしかないでしょう。あとでダメージを被っても良いんですか？
こちら↓で配布している改造版CGIが該当するのではないかと思います。 http://vvv.ciao.jp/yy/index.html 参考URL：http://vvv.ciao.jp/yy/index.html
曜日を変えたいのなら以下を書き換えてください。 if( tday != "火" && tday != "土" && hour >= 19 && hour <=22 ) hour >= 19 && hour <= 22 これが19時以降22時59分59秒以内の指定です。 すいません今まで間違ってました。 これだと21時から23時までです。 tday != "火" && tday != "土" これが曜日の指定です。 「火曜日」でも「土曜日」でも「ない」ときジャンプします。 つまり火曜日と土曜日を「例外指定（!=）」しています。 && で条件をつなげるとANDで || でつなげるとORです。 ORは条件を絞るのが難しくなるので使わないほうがよいかと。 火曜日の夜9時から夜10時までindex2.htmlにジャンプさせたければ if( tday == "火" && hour == 21 ) document.location.href = "index2.html"; です。 今日が火曜日で（tday == "火"）かつ 時間が21つまり21時00分00秒から21時59分59秒までの間（hour == 21） index2.htmlにジャンプさせます。
>cgiフォームの制作費 どのようなフォームなのか？ 名前と質問、メールアドレスがメールが送られて来るだけの物ならば数万程度ではないかと思います。 私のところならば3～5万程度。納期：3日程度（本当は数時間で作れます） >メールマガジン読者のための専用ホームページのユーザー認証プログラムの発注 これは大雑把すぎて仕様が固まってないようなので見積もり不可。 メールマガジン読者データの取得の仕方とか、どのような専用ホームページにするのかとか、認証の持たせ方、読者データが何件くらいになって、利用想定がどのくらいなのかなどがないとわかりません。 >PHPで作った管理ページ１ページあたりの平均報酬 どのような管理ページを作るかによるのでなんとも言えません。 数万程度になるのかな・・・？ 具体的に何がやりたいのか、何をしなくてもいいのかという仕様が固まればある程度の見積もりは出せると思いますが、どこまでやるかを固めてない状態だと、最悪その仕様を固めるため（仕様書製作のため）の見積もりが必要になる場合があります。
メッセージをみると、 BEGINでこけてます。 MT::Bootstap.pm は、 sub BEGIN { my $dir; require File::Spec; if (!($dir = $ENV{MT_HOME})) { if ($0 =~ m!(.*([/\\]))!) { $dir = $1; my $slash = $2; $dir =~ s!(?:[/\\]|^)(?:plugins[/\\].*|tools[/\\])$!$slash!; $dir = '' if ($dir =~ m!^\.?[\\/]$!); } elsif ($] >= 5.006) { # MT_DIR/lib/MT/Bootstrap.pm -> MT_DIR/lib/MT -> MT_DIR/lib -> MT_DIR require File::Basename; $dir = File::Basename::dirname(File::Basename::dirname( File::Basename::dirname(File::Spec->rel2abs(__FILE__)))); } unless ($dir) { $dir = $ENV{PWD} || '.'; $dir =~ s!(?:[/\\]|^)(?:plugins[/\\].*|tools[/\\]?)$!!; } $ENV{MT_HOME} = $dir; } unshift @INC, File::Spec->catdir($dir, 'extlib'); } となっているので、 File::SpecがないかとかFile::Basenameがないかとかですかね？ mt-config.cgi でちゃんとシステムチェックできてるならば、 上記は問題ないはずなんですがね？ 途中になにか変なことをされてるようだと、はしょらずに最初からきちんと入れなおしたほうがいいかも知れません。
Version 1.5.3 ・BASEタグが利用できない携帯電話対策としてBASEタグを利用しないモードを追加 http://www.yumemaboroshi.net/cgi236/ base タグが使えない条件があるなんて知りませんでした。
今おすすめなのは私も使っているこの掲示板です。 トリップ機能・投稿キーもありセキュリティに関しても断然一押しです http://vvv.ciao.jp/yy/yyboard.htm
とりあえず complete.c:1: error: stray ‘\357’ in program complete.c:1: error: stray ‘\273’ in program complete.c:1: error: stray ‘\277’ in program complete.cの最初の行(の多分先頭)に ごみが入っていませんか? エディタで見てもわからないようなら hedumpコマンドとかでみてみてください。
こんにちは $a は何処から出たのでしょう？ やってみましたけど表示できなかったです（＞＜） $a = $in{'a'}ですか？ <test0.cgi> print "<a href='test.cgi?a=1&b=2'>test</a>\n"; <test.cgi> print "$in{'a'}<br>$in{'b'}\n"; としたら『1』と『2』が表示されましたけど？
index.html <tr> <th class=r>希望ログインID</th> <td class=r><input type=text name=id size=10> <font color="green">(英数字で4～8文字)</font></td> </tr> <tr> <th class=r>追加項目</th> <td class=r><input type=text name=aux size=30></td> </td> </table> <p> <input type=submit value="新規登録する"> </form> ================================================================= pwmgr.cgi: # 会員ファイル open(IN,"$memfile") || &error("Open Error: $memfile"); local(@file) = <IN>; close(IN); unshift(@file,"$in{'id'}<>$in{'name'}<>$in{'eml1'}<>$in{'aux'}<><>\n"); open(OUT,">$memfile") || &error("Write Error: $memfile"); print OUT @file; close(OUT); # ロック解除 &unlock if ($lockkey); ============================================================= ============================================================= ※パスワードはご自分で自由に変更可能\ですので、覚えやすいものに 変更しておくことができます。 ▼登録内容 登録日時 : $date ホスト情報 : $host お名前 : $in{'name'} E-mail : $in{'eml1'} 追加項目 : $in{'aux'} ▼ログイン情報 ログインID : $in{'id'} パスワード : $pw --- $title管理人 <$master>
＃１です。 すみません、フレームだったのでトップページにつながってましたね。 このページから左のメニューの「スケジュール」ですね。
こんにちは ありゃ！どうもすみません。いつもの癖で<>をつけてました（－－；） そのまま 北海道(ENTER Key 押す) 青森(ENTER Key 押す) という風に47都道府県を縦に並べて ken.dat の名前で保存 で mati_1.dat　に北海道の市町村 mati_2.dat　に青森の市町村 という風に ken.dat で書いた都道府県の順番に番号を振って47個mati.datを作ってください 書き方は ken.dat と同じです 旭川(ENTER Key 押す) 札幌(ENTER Key 押す) という感じで それで表示中身ですが top.cgiでken.datを読み込んでセレクトボックスで47都道府県選択するようになり 選んだ項目によって***.cgiでその都道府県に関連するmati.datを読み込み、市町村の選択をセレクトボックスで表示します 北海道を選択したらmati_1.datを、青森を選択したらmati_2.datをよみこむ、という風に ###.cgiは最後の処理部なのでここをお好みに変えてください ***と###は適当な名前付けてくださいね（＾＾） ・・・とまぁmati.datを47個作ってるわけですがこれを1個のmati.datでやることもできますがそのファイルがかなり大きいものになりますし表示処理もややこいことになるので別々のファイルでやることにしました（＾＾）
外部CGIのあるサーバーに対して、 POST /xxxx.cgi HTTP/1.0 Content-Length: 渡したい文字列の長さ (空行) 渡したい文字列 のような要求を送ればOK #perlで作るとこんな感じになります #"http://localhost/xxxx.cgi"に対して"testdata1=test"をPOSTで送る use Socket; $host = "localhost"; $path = "xxxx.cgi"; $data = "testdata1=test"; #----------------接続処理------------------- socket(SOCKET, PF_INET, SOCK_STREAM, 0); connect(SOCKET, pack_sockaddr_in(80, inet_aton($host))); select(SOCKET); $|=1; select(STDOUT); #------------HTTPリクエスト送信----------------- print SOCKET "POST /$path HTTP/1.0\r\n"; print SOCKET "Content-Length: ".length($data)."\r\n"; print SOCKET "\r\n"; print SOCKET $data; #------------サーバからのデータを受信 ----------------- while (<SOCKET>){print $_;}
今、WordPressというPHP+MySQLで動くブログシステムを自分のサーバーで試しているのですが、これなどはテンプレートの柔軟性が高いので、閲覧部分だけFlashと連動させるように作りやすいかも知れません。Flashがあまり分かっていないんですけど。 投稿回りは、そのままWordPressのものを使えれば、楽になりますしね。MovableTypeなどでも同様のことができるかもしれません。 WordPress Japan: http://wordpress.xwd.jp/
> Unrecognized character \x90 at ./miuinit.pl line 100. > Compilation failed in require at miumgr.cgi line 11. > > でもCGI初心者なので、”\x90”が何をさすのか、2番目の文ではどこを直せばいいかわかりません。 ファイル miumgr.cgi の 11 行目に 　require ～～～; と書いてあるはずなので、その行自体か、その行から参照しているファイルに問題があるはずです。参照しているファイルが miuinit.pl だったなら、1行目のエラーが周囲も巻き込んでエラーを起こしています。 これは CGI というより Perl 言語での失敗です。 yuu78 さん自身がプログラマなら Perl 言語の経験をつむか、あるいは得意なプログラミング言語が他にあれば乗り換える、のがいいと思います。 yuu78 さんが CGI 設置専門だとすると、なるべく壊さないように転送するマニュアルを作る -手順をメモして、失敗がどこで起きたか分かるようにする- のがいいと思います。
変わらないとは思いますが、 $in{'kouc1'} =~ s/\x0D\x0A|\x0D|\x0A/<br>/g; と、してはどうでしょうか？ ちなみに、修正画面で新しく文章を入力して保存した場合はどうなりますか？ 意図しない改行が入ってしまう場合は保存処理、 意図した通りの改行が入る場合は修正画面を出す処理に問題があると切り分けられると思います
Apache 公式サイトは日本語ドキュメントが豊富です。2.2.X, 2.0.X, 1.3.X どれでもあります。記述が一部古いという警告を Apache 公式サイト自身が出すページもありますが、無いよりはるかに良いです。 Apache Tutorial: CGI による動的コンテンツ # 2.2.X での CGI コンテンツ作成チュートリアル http://httpd.apache.org/docs/2.2/ja/howto/cgi.html Apache チュートリアル: Server Side Includes 入門 # 2.2.X での SSI コンテンツ作成チュートリアル http://httpd.apache.org/docs/2.2/ja/howto/ssi.html
ご質問に対する回答というよりアドバイスですが，何のためにカウンタを 設置したいのかということをよく考えられた方がいいと思います． > 訪問者が最初にアクセスするのはメインページだと思うのですが、 私もホームページを開設していますが，そうでもありません． 確かに開設当初は，プロバイダのホームページ一覧からメインページに来る訪問者が たまにいた程度でしたが，検索エンジンで検索できるようになってからは，ほとんど 検索エンジン経由の訪問者で，メインページ以外の各ページに直接訪れます． そして，そのページ以外は見ずに帰ってしまう人が多いです．(苦笑) したがってメインページではカウントされません． 私はホームページ開設当初から，すべてのページにカウンタとアクセス解析用タグを 設置しています．参考までに現在のカウントを示すと，メインページが約 1,100 なのに 対し，来訪者の多い別の２つのページはそれぞれ約 1,400，約 1,600 となっています． そういうわけで，メインページだけにカウンタを設置しても， ほとんど意味がないと思います. ではどうすればいいのかという話になりますが，それは何のために カウンタを設置したいのかという目的によって変わってくるでしょう． 単に訪問者が多いか少ないかを知って一喜一憂するだけなら， 各ページにカウンタを設置するだけで十分でしょう． しかし訪問者を増やしたいというのが目的であれば，単なるカウンタでは全く不十分です． 訪問者数を調べて，訪問者数の多いページの内容をさらに拡充するにせよ， あるいは訪問者の少ないページをテコ入れするにせよ， どのように改良すればいいかという情報はカウンタからは全く得られません． ホームページ改善のヒントを得るには，カウンタよりもアクセス解析タグを設置 すべきです．これから得られる一番重要な情報は，訪問者がどういう検索語句で 検索して自分のページにやって来たかということだと思います． 検索語句がそのページのテーマに合致していれば，その内容をさらに充実させれば いいわけですし，テーマに近いが現在の内容から少しはずれているということであれば その方向の内容を追加することで訪問者やリピーターを増やすこともできるでしょう． フリーのカウンタやアクセス解析ツールは色々あるようですので， それらを利用するのが一番簡単で効果的だと思います． (なお，これらは訪問者がブラウザの画像表示と JavaScript を OFF にしていると， 　カウントもされず，アクセスログにも足跡が残りません． 　したがって上で示した私のホームページのカウントも正確ではなく， 　実際はもっと多いはずです．) ┌ちなみに私は，ここのカウンタとアクセス解析タグ， │および Google Analytics を使っています．(いずれも無料) ↓ http://www.ninja.co.jp/
おそらくパスミスです。 「cgi-bin」（一つ目のiとgが逆）フォルダにいれてみてください。 参考URL：http://isweb.www.infoseek.co.jp/Icont?pg=iw_spec …
正規表現のところで日付のところをカッコで囲んでやれば出来そうですね。 $line=~s/<[^>]*>//ig;#タグの抜き取り $line=~s/</&lt;/ig; $line=~s/>/&gt;/ig; $line=~ /^([^\s]+) (&gt;|\|&gt;) (.+)\((\d+\/\d+\(.+\)\d+\:\d+).+\).*\n$/; $HTMLbuff .=qq([$1] ); $HTMLbuff .=qq([$4] ); $HTMLbuff .=qq($3<BR><hr>); としてみてはいかがでしょうか？ （$4に日付が入ると思う・・・） ちなみに ＞自分で作成した日時フォーマット(mm/dd hh:mm:ss) は、補足を見る限りでは秒数を記録していないように見えるのでssを表示するのは無理だと思います。
IE設定にしていてなにが危険なのだか、まったく理解できませんが、アイコンが変わっていても、とにかくメモ帳なんかで開く設定になっているので、編集の際困ることは無いと思います。 もう解決されておられると思いますが、マイクロソフトのサポート記事に方法が載っていましたよ。 http://support.microsoft.com/kb/307859/ja
FORMMAIL用（送信用）のCGIだけ探してきて、FORM自体はHTMLで自作したほうが早いと思います。 参考URL：http://www.i-say.net/cgi/listview.php3?category=11
> こちらの商用利用は可能でしょうか？ 公式サイトのFAQに載ってますよ。 http://www.namazu.org/FAQ.html#commercial-use
問い合わせフォームのＣＧＩの名前は、test.cgiですか？ もしtest.cgiでないのに、本当に 「チェックしようとしたＣＧＩ(test.cgi)が見つかりません。」 と出るならば、 check.cgiの 　$cgiroom_cgi = "test.cgi"; この行を書きかえ忘れているのではないでしょうか。 "test.cgi"の箇所を 問い合わせフォームのＣＧＩの名前に書き変える必要があります。
[Perlメモ] を参照してくだい 参考URL：http://www.din.or.jp/~ohzaki/perl.htm#AutoLink
目的が大切ではないでしょうか 「プログラムを学ぶ」と言う目的よりも 「ゲームをつくる」と言う目的のほうがあきらめずに続けられると思います 追記 具体的に本当に何をしたいのかを考えることが必要ではないかと感じました 以上
やりたい事と言語がイマイチ分からないので、テキトーなものを PHPで書いてみました。Perlは一度しか触った事なくて覚えていないので・・・。 コメントから推測して、応用してみて下さい。 //行数定義 define("_ROW", 100); //行数分繰り返す for($i = 0; $i < _ROW; $i++) { //件数がセットされていなければ0をセット if (empty($cnt[$i])) $cnt[$i] = 0; //$categoryと一致すればカウント if ($category == $i + 1) $cnt[$i]++; } 単純に$categoryに一致する行のカウントを増やしたいなら、 //行数定義 define("_ROW", 100); //件数がセットされていなければ0をセット if (empty($cnt[$category - 1])) $cnt[$category - 1] = 0; //$category行のカウント $cnt[$category - 1]++; //出力時に件数がセットされていなければ0とみなす for ($i = 0; $i < _ROW; $i++) { if (empty($cnt[$i])) $cnt[$i] = 0; echo $cnt[$i]."<br>"; } とか？
任意の場所に $in{'mode'} = genre; $in{'genre'} = 1; require 'count.cgi'; と入れてもだめですかね？
Perlメモ http://www.din.or.jp/~ohzaki/perl.htm#Character が詳しいです。 ただし、utf-8は無いようですが。 EUCにエンコードしてからチェックすれば大丈夫でしょう
このメールマガジンの登録解除する際、メール本文の一行目に予め設定された「キーワード」を書いて送信してもらうと自動解除される仕組みになっていますので、解除の際の「キーワード送信フォーム」を同時設置することはできないでしょうか。 送信CGI keyword.php: <HTML> <HEAD> <META http-equiv="Refresh" content="15;URL=http://example.com/index.html"> <title>キーワードを送信</title> </HEAD> <BODY> <? // メール送信先を指定します。 $to = "ml@example.com"; // フォームの値を取得します。 if ($_SERVER["REQUEST_METHOD"] == "POST") { foreach($_POST as $k => $v){ if (get_magic_quotes_gpc()) { $v = stripslashes($v); } $$k = $v; } // メール本文を組み立てます。 $title = "subscribe"; $naiyou = "keyword"; if (mail($to, $title, $naiyou, "From:$from")) { echo "メールを送信しました"; } else { echo "メール送信失敗です"; } }?> </BODY> </HTML>
確認です。 (1)「自分が今公開しているサイト」というのは 　自分のMacではなく、どこかのサーバのレンタルスペースのことですか？ 　つまり、前回の質問と今回とでPHPやHTML等の置き場所が違うのか？ということです。 (2)(1)が同じ環境だとして、 　前回の質問では 　　<Directory /Users/*/Sites/> 　　　AddType text/html shtml 　　　AddHandler server-parsed shtml 　　　AddHandler cgi-script cgi 　　　AllowOverride FileInfo AuthConfig Limit 　　　Options Indexes MultiViews 　　　Order allow,deny 　　　Allow from all 　　</Directory> 　でOKだったんですよね？今回はこれではダメなのですか？ 　というか、そもそも何故変えたのでしょうか？
http://apps.cside.com/cgi/mail/ こちらなんかどうですか？ まだメールを扱う予定が無いので動作確認はしていないのですが・・・ アップ方法とかも詳しく書かれてあるのでいいかと・・・ 基礎メール2nd　くらいだったらテキスト、ラジオ、オプションと揃ってるみたいですし（＾＾） あとは『input.html』を好みに変えてやればいいみたいです（＾＾）
まず"SSIが動作しているページ"をブラウザで閲覧しソースを見てみて下さい (IEなら右クリック -> ソースの表示 等) ソース内に制作側が記述したSSI用の構文を見ることはできず、 H1部分が出力されているはずです 検索ロボットが見るのは、そのようなサーバー側が出力したソースなので、 外部ファイルから読み込んでも特に悪影響はありません 悪影響が出る一例としては、javascriptですね javascriptはサーバー側で処理するものでなく、 ローカル（閲覧しているブラウザ等）が処理するものなので、 サーバー側ばjavascriptの構文をそのままソースとして出力します ロボットはjavascript部分を他のタグとして見立ててはくれないので、 H1タグを記述するjavascript文を書いてもそこは「あくまでもjavascript」となってしまうのです 要するに重要なのは、内部処理や視覚的部分ではなく、 読み込んだ際どのようにソースが出力されているかということです
こんにちは（＾＾） >更新はしてるのですが、その先のＵＲＬへうまくリンクしません。 表示先のURL(相対パス)は正しいですか？ 僕は特に<head>内には入れてないのですが・・・ <body>の下に↓をいれて飛ばしてます if (5 != 0) { print "<META HTTP-EQUIV=\"refresh\" CONTENT=\"5; URL=sample.html\">\n"; } 他にもJavascriptを使って飛ばしたりもしてます print <<"EOM"; <body onLoad="setTimeout('jump()', 5000)"> <SCRIPT language="JavaScript"> <!-- function jump(){ location.href="http://###/sample.html"; } //--> </script> EOM こちらは『print <<"EOM";・・・・EOM』仕様で書いてくださいね（＾＾） print "<body onLoad='setTimeout('jump()', 5000)'>\n"; では正常に動きませんので・・・ あとURLは絶対パスで（＾＾） 参考URL：http://masaboo.cside.com/new_html1/ht_67.htm
Mac の日本語ファイル名は　UTF-8ですので 確実に動作します Windows の日本語ファイル名は、Shift_JISですの 動いたり動かなかったり、Webサーバーの設定によります。 日本語ファイル名を使用しないか 日本語ファイル名を使えるサーバーにするか　２つにひとつです
メールフォームで送信した内容をCSV形式で残せるCGIを いくつか提示してみては？ おそらく、ソースがあれば簡単に答えられるけど なにもないと答えようがないです。 月別で残す処理ってという質問は簡単でが 月別で残せるCGIは？って方が難しい
五月雨式に書いてしまってすみません。 CGI でトラブルを起こしたときに確認するべきことが Apache HTTP サーバのマニュアルにまとめられていました。 http://httpd.apache.org/docs/2.0/ja/howto/cgi.ht … 順番に読んでいくと今は見出し「プログラムエラー」と見出し「エラーログ」の間ぐらいまで確認が済んでいます。 ウェブサーバのエラーログを読めるでしょうか。そもそもファイルを見られない状況だと、開発方法を考え直す必要があります。 それと、すみません。 先に書いた「"Content-type" の "type" を "Type" に直して」は無意味でした。上のドキュメントも "Content-type" のままですし、自分で Apache 2.2.4 (Linux 上でビルド・実行)でも問題ありませんでした。 参考URL：http://httpd.apache.org/docs/2.0/ja/howto/cgi.ht …
ちは（＾＾） 僕もまだあまり詳しくないので基本的な感覚で$in{'NAME'}の答えを出したのですが(自分はいつもこれで使ってるので・・・） 『WwwMail Ver3.26 - メール送信フォーム』ですか？ 僕も初めDLして表示しようとしたらサーバーエラーが出ました（＞＜） #!/usr/local/bin/perl 僕はアパッチを使ってるのでここの記述が違ってて (まだ僕はHP公開はしてないのでデバック表示しかしてないので↓は使えないかもしれないですけど) #! c:/perl/bin/perl としたらwwwmail.cgiスクリプト内の『自己診断機能』というところが表示されました mimew.pl jcode.pl BLATJ.EXE が無い状態で表示しようとしたため（－－；） 元の(何も手を加えていない)ほうは正常に機能するのでしょうか？ wwwmail.htmlは普通に表示されるでしょうからwwwmail.cgiのほう・・・ デフォルトで表示されないのなら行頭の部分が違うと思います 表示されて 『CGIは正常に動作しています。 ～～～～ がありません。』 という風に表示されるのであれば・・・まぁフォルダそのまま使うのでしょうからplファイルはあるので『/usr/lib/sendmail がありません。』が表示されるかな？ ↑が表示されてるなら『readme.html』を開いて『設置方法』の２か３を試してください あと『&err』 つつかないのであれば『&errexit』でエラー表示画面になります デフォルトは使えるというのであれば手を加えた方のどこかに記述ミスがあるのだと思います ん～sendmail機能はまだ使う予定無いので動作確認はしてないですけど・・・ 思いつくのはこれくらいかな？ デフォルトが使えるならJavascriptで未入力チェックをすることもできますよ（＾＾）↓ 参考URL：http://javascript.eweb-design.com/1207_ma.html
cgiファイルの中にphpファイルを読み込むということですか？ それだったらそのままcgiファイルでいいと思いますよ 拡張子.phpにしたらcgiファイルの中身もphp仕様にしないといけないので・・・ 画像の読み込みと一緒です 僕もphpでグラフを作ってcgiファイルの中に埋め込んでますがきちんと表示されてます（＾＾）
全く当てずっぽうですが、 「\公式ページ」としてみてうまくいきませんか？
前後の行を見る限り、フォーム変数の一時取得先変数として $FORM{} を使っているCGIスクリプトであると推測されますので、 if ($in{'guard'} ne "0123") { &error(bad_guard); } #スパム対策用●●●●●●●● ↓ if ($FORM{'guard'} ne "0123") { &error(bad_guard); } #スパム対策用●●●●●●●● としてみては如何でしょうか。:-)
inputタグの中の二重引用符が、print文の文字列を壊してます。 二重引用符をエスケープルするか、qq使って文字列を表現しては。 こんな感じ： print qq|<input type="text" name="guard" size=8 />|;
メールを送信する時の動作は、 １．メールサーバーに接続する ２．メールを送信する ３．接続を切る これを非効率に繰り返しているので遅いのです 接続、切断は、コストがかかりますので １～３を１０回繰り返すのではなく １をやって　２を１０回繰り返して　３で終了する プログラムにするべきです
月額料金の安いところはCGIは利用可でもsendmail不可のサーバはたくさんあります。 http://geocities.yahoo.co.jp/v/originalcgi
フォームに何も入力しないで送信しようとした時にちゃんと エラーは出ますか？ 出るのであれば、入力チェックには問題が無くて ただ単に、入力内容をメール本文に入れてないだけでは 無いでしょうか？
> もしよろしければこの件について参考になるサイト、および本来の画像認証のスクリプトなど配布しているサイトなどありましたらお教えいただけませんでしょうか。 この手のものはいろいろあります（自分で実装・モジュールを使う・サービスを使う）が、おすすめとしては以下のサイトのサービスがあります。 画像の生成とかはやってくれるので自分でしなければならないのは秘密鍵の取得と認証機構を付けることだけです。（これは日本ですが海外で同様のサービスを行っているところもあります） サンプルもありますのでいいでしょうね。 http://captcha.jp/ 自分で実装するのは面倒・・・とはいえ画像生成も自前でというのであればモジュールを使うという手もあります。 http://search.cpan.org/dist/Authen-Captcha/ または http://search.cpan.org/dist/GD-SecurityImage/
http://www.kent-web.com/data/postmail.html http://www.2apes.com/ はsendmailは必須。 作らずに借りて htmlは自分でつくる。
> HTMLファイルにSSIで表示させる場合、HTMLファイルのパーミッションをご存知ないでしょうか 644の様なパーミションであれば、自分以外はReadしかできないので問題ないと思いますよ。 グループに対するアクセス権が必要なさそうなら、もうちょっと厳しくして604でもいいかも。 # ANo.3～4の方法はもう使う必要はないと思うけど # なんで動かないのか気になるので、一応。 バッククォートですが、これでコマンドを囲むと そのコマンドが出力した内容が帰ってきます。 例えば、timeコマンドは（環境によりますが） 「2007年 2月16日 金曜日 04時01分12秒 JST」 の様な内容を出力するので、perlで 　$t = `time`; の様にして呼び出すと、 $tに「2007年 2月16日 金曜日 04時01分12秒 JST」が入ります。 > そして、「print `./txtdayc1.cgi`;」と記述して試しましたが、やはり動作しませんでした。 これですが、ANo.2の補足のようにtxtdayc1.cgiを書き換えた結果、 txtdayc1.cgiを呼び出しても何も出力しないようになっていると言うことはありませんか？
YukiWiki http://pukiwiki.sourceforge.jp/?YukiWiki と、 PyukiWiki http://pukiwiki.sourceforge.jp/?PyukiWiki かな。
http://www.google.co.jp/search?q=Perl+PDF&start= … http://www.google.co.jp/search?hl=ja&client=fire … http://www.google.co.jp/search?hl=ja&client=fire … なんでまったく調べない?
nameをidに変えてみる。
こんちは。なかなか書いてくれる人出てきてくれませんね（＞＜） 未熟ですが参考までに・・・ 年利(1年に1回だけ増える？)というのであれば借金時計のようなリアルタイムなものでなくてもいいような気がするので・・・ CGIカテゴリーに質問なのでcgiファイル(perl)は使えますよね？ $start_year=107; #localtimeでの2007年表示です $gankin=500000; #元金50万 $ENV{'TZ'} = "JST-9"; my ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = localtime(time); #現在の時間を取得 $nen=$year-$start_year; #経過年数計算 for(1..$nen){ $gankin=$gankin + int($gankin * 0.2); } #年利計算 print "$gankin\n"; #HTML表示 これで年が変わっていけば増えていくと思います 2007年　500000 2008年　600000 2009年　720000 2010年　864000 という風に(1月1日基準です) ＃～は説明ですのでそのままコピペしても使えますけど邪魔なら削除してください htmlファイルの場合には使えません（－－；）そちらだとJavascript表記になります
<head><script src="check.js"></script></head> <body> <form onSubmit="MyCheck(this)"><input type="submit"></form> </body>
ScriptAlias で指定された場所においては、Apache は全てのファイルを CGI スクリプトとみなしてしまいます。 なので、拡張子が .cgi、.pl のファイルだけ CGI とみなして欲しいのであれば、CGI スクリプト以外のファイルを別のディレクトリに置くか、以下のように設定してあげる必要があります。 Alias xxx yyy <Directory yyy> AddHandler cgi-script .cgi .pl Options ExecCGI </Directory>
一つ気になった事があります。 先に頂いた　daycount2.cgiの入っているフォルダのURLと dietフォルダのURLが違うのですが、同じpublic_htmlの中に 入ってますか？ もしも違う場所にあるpublic_html下にdaycount.cgiがあれば 相対パスではなく、絶対パスでタグを入れる必要があります。 No4に書いた相対パスと絶対パスの違いを読み直してみて下さい。 違うサーバーにあったとしたら、出発地点が北海道と沖縄 といった感じで、全く違う場所から　駅を出て右に進んで 2つめの角を左に曲がった所という道を進んでいる事になります。 一度 <TD><img src="daycount2/daycount.cgi?gif"></TD> ↓ <TD><img src="http://ginmidou.sakura.ne.jp/daycount2/daycount. … と3カ所とも書き換えてみてはいかがでしょう。
>他に勉強しておいた方が良いもの 可能ならデータベース(SQL)
私も上記スプリクトを使用しておりますが、ＡＵでもちゃんと使用できます。ただＡＵの場合、キャッシュを残す仕組みになっておりますのでブラウザ履歴の削除をすることにより違うページを表示させることが可能です。 どのようなＨＰでお使いかはわかりませんが、履歴を削除していないユーザーに対してでもランダムに表示させたい場合は、一度リダイレクトをかけてランダムリンクのＵＲＬを踏ませるようにすれば大丈夫だと思います。
CGI配布スクリプトには大抵『CGIに自信のある方以外はこれ以降は変更しないでください』みたいな注意書きがされてあると思います しっかり勉強して改造を始めてくださいｍ（－－）ｍ またDLして1から調べるの面倒なので概略だけ・・・ ・決められた階にボスを出現 battle.cgiの中のmonster.ini(モンスター設定ファイル)からモンスターを読み込むところで 指定された階のときmonster.iniからボスモンスターの番号を読み込ませます ・モンスターを仲間にすると自動的に登録される図鑑 モンスターが仲間になったとき（どういう状況でなるのか分からないですけど）そのときにzukan.cgi（なんでもいいですけど)に書き込めばいいです ・ユーザー同士で戦闘ができるシステム キャラファイルを読み込んでselect boxで選んだ後battle.cgiに飛ばすとかします battle.cgiでmonster.iniの代わりにキャラファイルを読み込んですればいいです このときはbattle.cgiの中身(戦闘ログ、ダメージ計算など)は適宜変えなければなりません もしくは新しくキャラ用のbattle.cgiを作ります
こんにちは。 解決済みならすみません。 (1)まず、nicky以外のしいペインターのフォルダを全部削除してください。nicky単体で正常に日記を書き込んだり出来ますか？ もしＯＫならnickyの設置は正常です。 （なんとなく、nickyの時点で設置が間違ってるのかな？と感じました。）もし、この時点でnickyが正常に作動してなければnickyからいれ直して下さい。 (2)つぎにしいさんのページに行って、オールインワンパックではなく、 複数ファイルバージョンを入手してください。 フォルダを解凍したら、まず、「spainter.jar」のみ必ず バイナリモードでアップロード。 ＲＥＡＤ　ＭＥを除く全てのファイル（※resファイルも含む。）を こちらは「ファイル名で転送モード切替」でアップロード。 ※特にパーミッションの変更なし。 (3)これで再度、nickyの新規作成ボタンをクリック。 新規作成画面の下の方にしいペインターを呼び出す 画面が表示されたらＯＫ！ ちなみに私のnicky cgiディレクトリの中身は resフォルダ755 NickyAdmin.cgi　644（自動作成されます。） NickyHF.cgi cgi　644（自動作成されます。） nicky.cgi 755 nicky.html 644（自動作成されます。） sp.js 644 spainter.html 644 spainter.jar 644 spainter_pro.html 644 ファイトです！ （※cgiフォルダはきちんと作成されてますよね?）
SSIはサーバ側の挙動だからブラウザは無関係では？？？ http://www.google.co.jp/search?q=ssi%E3%81%A8%E3 …
>どうすればいいですか？ 超絶個人的な意見でごめん(´д｀;; 希望する使い方が許されない＝そこのサービスでは要求を満たせない であるので可能なサービスを受けるまたは可能な場所へ引っ越しをする、というのが解決策。 恐らくそこのSSIの利用法はその階層から呼べば事足りるような些細なものしか使用しないで欲しいと言っているのだと思われる。 (具体的にはアクセスカウンタや外部からTOPへの来歴記録など)
xreaはLinuxなのでbinmodeは関係ないですね。 拡張子を.xcgにしてみてはいかがでしょうか。 参考URL：http://www.xrea.com/?action=ad
<<EOM; から　EOM　までのソース文が　$html　ということなのでは？ 1行であれば　my $html = ".HTMLの言葉"; となるのだけど多分『HTMLの言葉』が何行もあるから『EOM』がでてくるまでが全部$htmlですよという意味だと思います print <<EOM; ～～ ～～ EOM と同じ考えでいいと思います
info@xxx...にメールが来ているのなら、メール転送の問題と考えるのが妥当ですよね。 ・ユーザがメール転送の設定をする画面があると思うので、そこを再確認／再設定 ・ネットショップの送るメールのヘッダ情報が、おかしくないか確認 ・サーバ会社に再度サポート依頼 それくらいですね。思いつくのは・・・。
XPhome＋IE6の場合でですが C:\Documents and Settings\ユーザー名\Cookies\ユーザー名@ホスト名(但し省略形).txt　です。 例えば tarou と言うユーザー名でwindowsにログインしていて umasika.co.jp にアクセスしてcookieを受けたならば C:\Documents and Settings\tarou\Cookies\tarou@umasika.co[1].txt Cookieの値が判るならば C:\Documents and Settings\ユーザー名\Cookies を右クリックして検索し 「ファイルに含まれる単語または句(W)」 に 値を入れて検索すれば出てくるかと？
私も詳しくないのですが、SSIを使ったアクセス解析ソフトの場合、 <!--#exec cmd="./access.cgi"--> を<BODY>~</BODY>間に記述します。 この場合は、ソースを見てもコマンドは表示されません。 アクセス・アナライザー(SSI版） http://happy.honesto.net/cgi/download/access_ssi …
サーバによってはcgiはcgi-binなどの特定のフォルダに入れなければ動作しない設定しているところもありますが今回のケースはまったく関係なさそうですね。 よって、何の問題もありません。 あなたが勝手に不安に思っているだけです。
javascriptですよね？ ＞Locationで画面を遷移させる際に、targetを指定したいのですが これは ○target_blankのように新しいウィンドウを開きたいということですか？ ○サブウィンドウのURLを変えたいということですか？ ○target_inlineのようにiframe内のURLを変えたいということですか？ そこのところがよくわかりませんが・・・
open(IN,"csv2"); @csv2 = <IN>; close(IN); open(OUT,">>CSV1"); print OUT @scv2; close(OUT);
CSVがどのような形式になっているかは分かりませんが、 単に横にカンマ区切りの場合。 $csv = ('file,file,file,file'); (@file_name) = split(",",$csv); foreach (@file_name) { if (-e $_) { #存在します } else { # 存在しません }
http://lolipop.jp/?mode=manual&state=hp&state2=cgi こちらをよくお読みください。 パーミッションを777にすると動かないようです。 あとは「コミック検索」のマニュアルを参照してください。 データフォルダとかも作ってありますよね？
CGIを使っても結局は、ブラウザはCGIから出力されたHTMLを見ているだけなので、 Perlは<applet ...>の内容を適宜調整して出力、JAVAアプレットの方でその内容に応じて動作が変わるようにしておけば、 実質、サーバー側で制御しているように見えると思います。
書籍じゃないですが、、、 http://www.e-and-a.ws/ の「PHP超入門」 http://www.scollabo.com/banban/php/ 「PHP入門」 http://www.php.net/manual/ja/ 「PHPマニュアル」 あたりが参考になるかと？
ユーザーエージェントで判別してるサイトは行けるかもしれませんが、IPで判別してる所は無理だと思いますよ
ログの書き込みは一般に$logfile="./log.dat"となってDATファイルに格納されてると思うのですがDATファイルだと開きにくいので log.cgiとかlog.txtなどの空ファイルを作って $log.file="./log.cgi"にして記事がどのように格納されているか確認してみてはどうでしょうか？ 僕はこの方法でどのように書き込まれてるかいつも確認してます ($no,$reno,$date,$name,$email,$sub,$com,$url)なのでおそらく http://www.supra.cx/cgi-bin/joyful2chMe/joyful2c …　の1件目だったら (10<>1106<>2007/1/13(土)23:33<>free<><>test<>テスト通信<><>) のように格納されていると推測されます(多分) なので親記事判定を別に作ってみてはどうでしょうか？ ($no,$reno,$date,$name,$email,$sub,$com,$url,$oya) ←$oyaは何処でもいい 書き込みのときに親記事だったら　$oya=1;　とかにしてそれで判別してみてはどうでしょう?
# $sendmai => sendmailのパス # $mailto => あて先 # $email => 送信元 if (open(CALL,"| $sendmail $mailto")) { print CALL "To: $mailto\n"; print CALL "From: \"" .$email ."\n"; print CALL "Subject: $subject\n"; print CALL "Content-Transfer-Encoding: 7bit\n"; print CALL "Content-type: text/plain\n\n\n"; print CALL "$MailBody\n"; close(CALL); } これで分からなければ分からないところを具体的に質問してください。
CGIはWebサーバと繋がりやりとりをすることによって 動的ページを作ることのできるフレームワークの一つ。 (他にもASPやJSPなどのフレームワークもあります。) PerlもPHPもCGIモードで動かせばCGIを介して動きますが 直接Webサーバのモジュールとして動かすように設定すれば CGIのシステムを介さないで動きます。 PerlはCGIモードで PHPはWebサーバのモジュールとして動かすことが多いです。
レンタルBBSでは、KENTさんの有名なBBSがありますよ。 ソースなどを参考にされてはいかがでしょうか。 http://www.kent-web.com/ もちろん、著作権には十分注意を払ってください。 作者への敬意も忘れずに。 参考URL：http://www.kent-web.com/
Apachは再インストールの必要などまったくないですよ。 httpd.conf にperlのパスを指定してやればＯＫです。 デフォルトでは #!c:/program files/perl/perl となっていると思いますが、ここを自分でインストールしたActivePerlのインストール先に変更し、Apathを再起動すれば良いはずです。
こういうことはあまり明確に書くのは問題があるみたいなのでちょっと推測が混じりますが、 多分メールのヘッダ部分に細工を加える余地があるかないかだと言うことだと思います。 たとえば宛先が入力可能になっているとして、 hogeho@example.co.jp, victim1@example.com, ... とカンマで区切られて入ってきたりしたらどうなりますか? 入力をきちんとチェックしないでsendmail に流すと、列挙した宛先すべてに メールが行くことになり、そのフォームはspma送信の踏み台と化します。 改行のほうも同じで、宛先入力に hanamogera@example.co.jp とあったら TO: hanamogera@example.co.jp というデータが組み立てられることになると思いますが、 宛先入力のところに改行があることをチェックしていないと、 改行のあとにヘッダコマンドを置かれてこれまたspamの踏み台にされる 可能性があります(ちょっとぼかしてますごめんなさい)。 これに限らず、セキュリティ関係の本を何冊か読んでみるといいかもしれません。
Ajaxを利用してはいかがでしょう？ 比較的簡単に利用できます。 http://www.openspc2.org/JavaScript/Ajax/Ajax_stu … http://www.itmedia.co.jp/enterprise/articles/060 … http://allabout.co.jp/internet/javascript/closeu … http://allabout.co.jp/internet/javascript/closeu …
おそらく http://○○○.com/ でアクセスすると index.cgiによって PCなら http://○○○.com/index.html に 携帯なら http://○○○.com/i.htm にリダイレクトさせているのだと思いますが (この場合当然ながらDirectoryIndex で index.cgiを最優先させておく必要がありますが) リダイレクトせずにindex.cgi 自体で PC用、携帯用それぞれの画面を表示させれば ご質問のような事は出来ます。 但し、サーバーの負担を考えると、リダイレクトだけを行うCGIよりも(特にアクセス数が多い場合) 負担が大きいので、あまりいい方法とは言えないかと思います。 >#フレームを利用すれば可能かも知れません、ご検討してみてください。 私も以前はフレームによって振り分けていました。 私自身、上記のようなCGIは書けますが、サーバー負担など総合的に考えて その方が良かろうと判断しましたので、、、 やり方は、判ると思いますが <frameset中略 　　PC用のページをframeで指定 </frameset> <noframes> 携帯やPDA用のHTML文をここに記述 </noframes>
念のため確認ですが、3行以上無効ではなくて 「4行以上の改行は4の倍数分削除される」 （例:7行改行すれば3行、9行改行すれば1行の改行になる） ですよね？ 違っていたら違うファイルを拾ってきたのかもしれないので以下は無視してください。 ソースをチラ見しただけで実行確認はしておりませんが CGI（apeboard_mt,apeboard_plus）のファイル中に $value =~ s/\r\n/\r/g; $value =~ s/\n/\r/g; $value =~ s/ \r \r//g; $value =~ s/\　\r\　\r//g; $value =~ s/ \r/\r/g; $value =~ s/\　\r/\r/g; $value =~ s/\r\r\r\r//g; となっている所があるかと思います。 その内の $value =~ s/\r\r\r\r//g; をコメント（先頭に#を付ける）にするか消してください。 これはデータ中に4つ連続改行(\r)が続く所があればとその部分を消すというものです。 逆に\rの量を増やせば制限値を増やすことも出来ます。
もし改造できなかったら 改造しようとするやつの アドレスを張っていただければ 面倒みますよ～
＞(3)→(4)への受け渡し時に問題があるようです。 同一CGIでの処理かと思っていましたが、 (3)ブラウザで表示→フォーム送信→CGIで受け取る(4)　ですか？ >つまり、ブラウザを通すとデコードされます。 ＃５の回答に書きましたが、そういうことです。 ブラウザを通した段階で、デコードされますので、(4)で再度エンコードの必要があります。 ＞splitで分割した物も$writelogに反映されてしまうのでしょうか？ splitしたものは、別の変数に入れてますよね？これは関係ないと思います。 ＞(3)→(4)へは$writelogをそのまま受け渡していたので問題ないと思っていたのですが、 そのままとは、 $writelogをformのhiddenで渡しているって事でしょうか？何にしろ、ブラウザがHTMLを解釈する段階でデコードされますので、ブラウザを経由したら再度エンコードの必要がありますよ。 ＞ためしに(4)の段階で再度、置換作業をしてみたところ掲示板でもうまくいきました。 これは必要な処理ですね。問題解決かな。 お疲れ様でした。
すいません、訂正します。 誤） $now_tm = ("%04d/%02d/%02d %02d:%02d", $ts[5], $ts[4], $ts[3], $ts[2], $ts[1]); 正） $now_tm = sprintf("%04d/%02d/%02d %02d:%02d", $ts[5], $ts[4], $ts[3], $ts[2], $ts[1]);
#1です。 基本的に#1で紹介させて頂いた手段で設定します。 #2で書いている場合分けとは「Webサーバの設置位置条件」により、どれを適用するかが決まります。 「Webサーバの設置位置条件」とは、 １．実際にサーバの置かれている物理的な場所 ２．そのサーバに割り振られているネットワークアドレス（ＩＰアドレス） ３．システム内（以下「内」と略）とそのサーバがどういったネットワーク経路で繋がれているのか。 　→例えば「VPNである」とか「NIC二枚挿しで一方に内のネットワークアドレスを割り当ててある」とか「内とは全く異なるネットワークアドレスである」等 ４．内のネットワークアドレス及びゲートウェイアドレス １～４の条件について、一度ネットワーク管理者にご相談してみた方が良いかと思います。
ログファイルが DataSa='***';　 DataSb='***';　 DataSu='***';　 のように成っているのなら、取り合えず、、、 print "Content-type: text/html\n\n"; open(IN,"./a.txt"); while(<IN>) {if(/DataSu='([^']*)/){print $1;last;} } close(IN); __END__
初めましてI_kazuakiです。 私もamigodatabaseを使用してデータベースを構築していますが意味が分かりません。 >データ登録はどうやるんでしょう？ >素人質問ですみません。 amigodatabaseは管理者登録機能は無いので、管理者もユーザー登録しなければデータ登録はできません。
pmはモジュールなので 最新版はサーバー側のCpanから導入する必要があります （ユーザーが手動で入れることもできますが） またモジュールを使うならstaticで書かないと意味がありません 上級者で自宅サーバを構築しているのであれば perlが実行時にモジュールを読みにいくので CGI.pmの方がより速く動くでしょう しかし、初心者やクライアントでサーバを借りているのであれば CGI.pmを入れるのは困難です（一見動いていても 裏でエラーをはいていてサーバーに負担を書けていることもある） のでcgi-lib.plをお進めします。
Perlの仕様上、制限はありません。 制限がありませんが、体感出来ない程度に遅くなったり、メモリ使用量に無駄が出ます。 20kb程度で影響が出ることはないと思いますが、最悪サーバーがメモリ不足で動作が遅くなったり、止まったりします。 （サーバーが止まると言うよりも、500 InternalServerErrorが出る事の方が多いと思います） 解説すると長いので割愛させて頂きます。
DynamisH さん、明けましておめでとうございます。 さて、画面のポップアップは Javascript か何かで　されているのだと思いますが、以下の３つの状態について JavaScript の内容（特に　孫画面を表示する部分）が異常になっていないかチェックしてみてください： （１）最初の「子画面」 （２）塗り替え後の「子画面」 （３）（２）から戻った後の「子画面」 すると、原因が見えてくるかもしれませんね。 …よいお年を！
No.1 SAYKA さんのおっしゃる、 >> そのgif、ブラウザからURL直打ちして表示できる？ に対し、 > URLは表示できませんでした。 との回答ですが、それは、404エラーが出るのであれば、 「http://(ご自身のサイトURL)/img/icon/i_onnanoko_fl.gif」 が存在しないということになります。 GIFファイルのアップロードをしなおしてください。
わざわざ自分で作るまでもなくて Xoopsと汎用データベースモジュールあたりを 使えば構築できそうな物だと思うけど
全部CGIによってページを生成すれば良いのでは？ パスワードで認証されていない状態ではログイン画面しか出力しないようにCGIを書けば・・・
その本に索引があるかわかりませんが、「ハッシュ」で項目がありませんか? もし載っていないようならこの辺も解説している本も買ったほうがよいかも。
「cgi 時間 画像変更」で検索するといくつかあるようです
えーとCGIは言語じゃないので(いろんな言語で書ける)、見た感じで Perlということで判断します。 > ($a,$b,$c,$G1,$G2,$G3,・・・$G799,) = split(/<>/,$P); ($a, $b, $c, @G) = split /<>/, $P; のように配列使って受けるのに何か不都合でもあるのでしょうか?
＃１，２です。 >Apatch 1.3.35 >IIS 大きな違いはこれでしょうか。 IISは使ったこと無いので、まったく分かりません。申し訳ないですが、私はここでリタイヤします。ごめんなさい。
> perlで > 生成したHTML上の > submitを実行することは出来ますか？ JavaScriptを使えばできますよ。 HTMLでは・・・できなくは無いですがGETメソッドオンリーになります。
まず最初に。 コマンドラインで動かした場合、CGI関連のモジュールが正常に動作しない場合があります。 今回のエラーはその辺が関係しているかもしれません。 ちなみに、perl に -w オプションを指定すると、 ・一度しか出現しない変数名(宣言のみで未使用) ・初期化されずに参照される変数 ・危険、無駄と思われる処理 などをチェックして警告を出します。 最初の「Use of uninitialized value ～」は $cgi->param('mode')の中身が無い（＝不定）だからでしょうね。 これはコマンドラインで実行したからだと思います。 この手のエラーメッセージは、単語の意味を調べたり 英文を(変数名、サブルーチン名は除いて)検索に掛けてみたりすると 何がわかるかもしれません。 ところで、今の時点ではブラウザ上ではCGIは動作していますか？ もしそちらで表示できるのなら、以降の動作確認/デバッグは ブラウザを介してやった方が良いでしょう。 前回書き忘れましたが、ApacheのログにもCGIのエラーは出ますので （確かlogというフォルダに）そちらを参考にしてください。 コマンドラインでのチェックは、CGIモジュールの問題があるので、 あくまでも文法チェック、HTMLの出力確認程度に留めてください。
こんなのでいいんですか？ -----------------------------------------------------ここから my @aTMP; for(1..600){ my $k = "aaa".$_; push(@aTMP,$FORM{$k}); } my $sTMP = join('<>',@aTMP); $a = "$FORM{'b'}<>$FORM{'c'}<>$FORM{'d'}<>".$sTMP; -----------------------------------------------------ここまで -----------------------------------------------------ここから $a = "$FORM{'b'}<>$FORM{'c'}<>$FORM{'d'}"; for(1..600){ my $k = "aaa".$_; $a .= '<>'.$FORM{$k}; } -----------------------------------------------------ここまで ハッシュ全部に対して行うならFOREACHなんていう手もありますが・・・
初めましてI_kazuakiと言います。 お勧めはCGIROOMさんが制作されたCGI拡張機能でメンバーという物があります。 参考URL：http://cgiroom.nu/
わたしもいくつかサイトを所有しており、色々なリンク集CGIを試した中で一番使い勝手がよいものを紹介します。 参考ＵＲＬのサイトの楽-相互リンクです。 おすすめする理由は３つあり、 １つ目は、管理画面上で、リンク集のデザインがボタン一つで変更できる。 ２つ目は、トップページに戻るなどのサイトナビゲーションが管理画面で編集できる。 ３つ目は、相互リンクされているサイトかどうかをCGIでチェックしてくれる機能もある。 以上の理由で楽-相互リンクをおすすめします。 少々、設置の難易度は上がりますが、「Yomiサーチ」もおすすめです。 参考URL：http://www.seo-ch.com/raku-link/
CGIは755（705）、LOG系は666（606）、ライブラリ系は644（604）です。 購入したのでしたら、購入元にサポートがあるでしょうから、そちらで聞かれてはいかがでしょうか。
> 毎回ランダムに画像が変わるような複雑なもの 毎回変わるようにしないとそのうちOCRのように読み取られて投稿される恐れがあります。 とはいえ、画像認証機構を作るのは面倒ではあるので、既存のモジュールやサービスを利用するといいでしょうね。 モジュールを使うなら Authen::Captcha GD::SecurityImage サービスを利用するなら http://captcha.jp/ http://www.protectwebform.com/ http://captchas.net/ など
書き忘れたのでもうひとつ > $url = "b.cgi"; とされていますが、これではダメです。 LWPは普通のブラウザ同様にHTTPでアクセスするものですから http://～とちゃんとURLで記述してください。 （そもそもそうでないとPOST/GETで投げることなんてできません）
＞ホストで訪問者のホストアドレスを確認できるのですが、同一人物かを判断するにはどうしたらいいのでしょうか。 生ログの中にユニークキーという項目がありますね、ホスト名が異なっていてもユニークキーが同じならば同一人物です。 ただしCookie 利用設定で使うを指定していないとこの機能は働きません。 Cookie 利用設定を読んでいただければわかりますが、サイトにアクセスすると相手のＰＣにＩＤ入りのクッキーを仕込みます。 再びアクセスしてきたときにクッキーのＩＤを読んで同一ならばＩＰアドレス（＝ホスト名）が違っていても同一ＰＣ（＝同一人物）と判断します。 このＩＤがユニークキーです。 ＞また、都道府県が表示されないホストがいるのはどうしてなのでしょうか。 恐らく次のような場合だと思われます １．都道府県を登録していないプロバイダーである ２．都道府県を登録する必要のないプロバイダーである 必要がないというのは大手のように全国展開をしているのではない、サービスエリアが狭いプロバイダ例えばサービスエリアがある一つの県だけにとどまっているプロバイダなどです。 極端な例ですがケーブルテレビなどは県どころか、郡が単位だったりすることも多いですから、都道府県を登録する必要はないですね。
Perlは、十ン年前に独学で勉強しました。 当時は、参考書もろくに無かったのでシステムに付いてた英語のMANやネット上で出回っていた人の作ったソースを調べたりして大変だったように記憶しています。 その後、良書がたくさん出てきてうれしいやらくやしいやら・・・ ただ、その前には「C」「Pascal」「BASIC」「FORTRAN」「8/16ビットMPU系アセンブラ」などの経験はありました。 Rubyはまだ仕事で使うことはありませんが、ひまのあるときにはさわってみて遊んでます。 やっぱり、「お題」がないとプログラミングは学習する気が起きないので、まずはアルゴリズムの本や情報処理系の練習問題などであそんでみてはいかがでしょうか？　この業界、最近アカデミックな経験をされている方が少なくなりましたので寂しいかぎりです。
CGI「プログラム」ですから、 ブラウザで表示された時点で すでにプログラムの実行は終わっています。 (ブラウザに表示されるのはプログラムを実行した結果です) ですから、#1さんのおっしゃる通り、 設定ミスや意図的に提供されている場合をのぞき、 CGIプログラム本体をダウンロードすることは不可能です。
申し訳ないですが、 もっとPerlの仕組みについて学ぶことをお勧めします。 質問を見ると、 ・Perlソースが実行されるまで仕組み(bytecodeを知っていますか？) ・Perlモジュールの仕組み(*.pmに関連した*.soや*.alの存在を知っていますか？) など、話を進める上で必要な知識が欠けているように感じられます。 一回腰をすえて、正規のドキュメント類に目を通してみてください。 ちなみに、メモリのことなど気にせずに使うのもPerlプログラマの美徳の一つです。:-) # 事実、Perlを理解することは(巷で難しいと噂の)C言語より難しい。 # しかし、Perlを使用するは遥かに簡単。 以下、Perl manpagesより >プログラマの 3 つの美徳は、無精、短気、傲慢です。　理由は、 >キャメルブックを参照してください。 参考URL：http://www.harukaze.net/~mishima/perl/man/autolo …
整数として扱うと、大きい数ではオーバーフローしてしまうので、 $aaa2 = sprintf("%012s",$aaa); のようにすればよいです。
「dataedit.cgi」の30行目に設定があります。 ◇ 新規データをデータ1行目に挿入するなら 1 。0なら最後尾 デフォルトでは新規データを１行目に挿入するとなってるみたいですが変更されましたか？
CGIを喜寿湯津市ているのに使っている言語はなんですか? (CGIは言語名ではありません) Perlだと仮定すると、 "${no}m" と書けば、noを変数名として扱い、mは除外されます。
>携帯版の検索フォームとして ​http://www.google.co.jp/imode​ が検索対象にされ、PC版検索フォームとして ​http://www.google.co.jp/​ が検索対象にされないだろうと思ったんですが違いますか？ 検索対象は基本的に同じです。 携帯サイト検索（ベータ版）をしたいのなら さらに、 <input type="hidden" name="site" value="mobile"/> を追加すればいいようです。
ご質問者さんが使いたいカウンターは、KENT WEBさんの「夢カウンター」ですね。でも、文中に記載されてるのは、「e-counter」のdatとcgiですね。取り違えないようにご注意を。。。 Perlのパスやパーミッションは、ご利用になるサーバでご確認ください。サーバーの「ご利用規程」もしっかり熟読理解してください。また、KENT WEBさんではメールサポートは受け付けていなかったと思います。掲示板でのサポートじゃなかったかと。。。その際は、要らない言葉を省き、簡潔に質問すればレスも付きやすいかと。。。 KENT WEBさんの利用規程、スクリプトの設置方法、サーバーの利用規程を、必ず、よく読み、自己責任で設置してください。
日毎っというか、１記事づつhtmlになりますが。
フォームメールの仕組みを余りよく理解されていないと見受けます。 入力フォーム(html記述ページ)から、サーバーのメール送信用プログラムにデータが渡されて このプログラムが、メールデータを整形して、さらに、指定のメールサーバーへメール送信が行われます。 よって、メール送信用プログラムの方に改造または、それようの設定項目がなければ、受け取り形式の変更は無理でしょう。
携帯といってもPC用ページ同じくタグで構成されていますので、 apeskinを書きかえればよいでしょう。 ただし、 ・携帯では使えないタグ（属性）があります。 ・容量の大きなページ（画像多用、記事多数表示etc）は表示できません。 （表示できたとしても利用者のパケ代を考慮するなら余計なもの（タグ、画像）はなるべくない方が親切でしょうけど。） このあたりはキャリア・機種によっても違いますので携帯サイトの造り方を調べるとよいでしょう。 基本的には#1さんの回答どおりシンプルな造りにすれば大丈夫だと思います。
遅くなって申し訳ありません。 TrueOfficeなるCGIを見さしていただきました。 CGIはものの見事にELFバイナリ(Cをコンパイルしたもの)でした。 CGIそのものはフリーには違いありませんが、Cのソースコードとサポートは有償のようです。デザインそのものはCGI直下の「0000」ディレクトリ内のHTMLをいじればよいようですが、どうなるのかちょっとやってみないとわかりません。いじり回してみてください。 そちらのサーバでPHPが動作するかどうかわかりませんが完全なオープンソースのグループウェアもあるようです。「http://www.atmarkit.co.jp/flinux/special/ctl_gw/ …」 ただし、get3さんの要求を満たすものかどうかは保障できませんが…。
> 通販開業Ｘ 販売されている製品に関しては販売元（開発元）に問い合わせてください。 ここは販売元のサポートではないのでわかる人はまずいません。 また、販売されている製品のソースコードを公の場で載せるのはまずいですので販売元でサポートを受けられた方が良いです。 （もっとも、投稿されたソースコードのみでは情報不足でアドバイスできません）
print "<hr width=\"90%\"></div>\n"; この行を次のように変えてみてください。 print <<SETUMEI; <hr width="90%"> 説明文・・・ <hr>と</div>の間にタグとかテキストとか適当に書き足す。 </div> SETUMEI
printfというより、HTMLの仕様の問題です。 連続する半角スペースはレンダリング時には一つにまとめられるので %-10s %7s などで整形する行為は無効です。 次のように<pre>で囲えば一応スペースでの整形も反映されます。 print "<hr><pre>"; foreach(keys(%color)){ printf("%-10s %7s<br>",$_,$color{$_}); } print <<END; print <<END; </pre></body> </html> END
前に同じような質問に答えたな... で、発見しました。これでどうでしょうか。 http://oshiete1.goo.ne.jp/qa2468896.html
No.1です。 どちらのことを仰っているのかわからなかったので、両方載せておきます。 http://www.microsoft.com/japan/windows/windowsme … http://www.tmpgenc.net/ja/j_download.html ちなみに、PCでわからないことがあれば、Googleなどの検索エンジンでキーワードを入力して検索すると、 大抵解決のためのサイトが検出されるものです。 例えば、今回のようにダウンロードできるはずなのにできなかった場合、 「media エンコーダ　ダウンロード」などのキーワードを入れて検索するという感じです。 （キーワード間に半角スペースを入れると、全てのキーワードに合致するものを検索します） わからない言葉を調べるとき、Googleで「○○とは」と入力して検索するのは、今では常識になっているようです。
テキストエリアでしたら、 <textarea cols=65 rows=8 name=com style=\"ime-mode:active;\">$com</textarea> でよいかと。
わかりにくく書いてしまい失礼しました。 以下のスクリプトを試してみてください。 削除に行く前にlockディレクトリ以下のパーミションを再帰的に変更するようにしました。 #!/usr/local/bin/perl $delete_dir='./lock/'; `chmod -R 757 $delete_dir`; `rm -rf $delete_dir`; print "Content-type: text/html\n\n"; print "END\n"; __END__
if ($resub !~ /^Re\:/) { $resub = "Re\: $resub"; }　を if ($resub !~ /^Re\:/) { $resub = "Re\:$resub"; }　にする。 半角スペースを取るだけだと思うけど？
はははっ、さすがにわかりませんねー。 どんな形なスクリプトなのか、ちょとっろ書いてプリーズ♪ 質問を配列にいれて、それをランダムに取り出せばいいのでは？ array_rand これって重複せずに、とりだせたんだっけかなー。 配列をシャッフルする関数もあったはず。 では、補足プリーズ♪
もしかして、name固定で押されたボタンのvalueをとりたいということでしょうか。 それならnameを同じにすることで出来ますが。 <input type="submit" value="ボタン１" name="button"> <input type="submit" value="ボタン２" name="button">
人の物の改造方法を教えるのはどうかと思いますが・・・ (1)38行目あたり @wcolor = ($holi_color,$text_color,$text_color,$text_color,$text_color,$text_color,$sat_color); で決定しているので、$text_colorを '#ff9999'とかで直接色指定すればいい。 (2) １とおなじところ。 @wcolor = ($holi_color,$text_color,$text_color,$text_color,$text_color,$text_color,$sat_color); $sat_colorが土曜日の色なので、左から数えて４つめを差し替える (3)意味がわからない。月の日を増やすのならば14行目あたり @mdays = (31,28,31,30,31,30,31,31,30,31,30,31); (4)つければ？ 69行目あたりで設定しているので、その辺を編集 if ($home) {if ($home_icon) {print "<a href=\"$home\"><img src=\"$home_icon\" border=0></a>";} else {print "<a href=\"$home\">[HOME]</a>";}} (5)lastのリンクを消すだけでいいのでは？ $last_iconで検索すれば設定しているところが分かると思います。
いくつもの原因が考えられます。ありがちな例としては、 ・そのCGIが出力するHTMLコード内に、他サイトから画像を読み込むようなコードが含まれていませんか？ ・アクセス解析CGIなどを利用していませんか？ これ以外の原因を追及するには、サーバのログファイルを見たり生成されたHTMLコードを丹念に追いかけるしかないですねぇ。
下の方が書かれているように本当の事はサーバーの設定fileを見ないと判りません。 あるいはレンタルサーバーなどでしたら、そこの説明ページをご覧になるか、管理者に聞いてください。 なぜならfileシステム上のpathや、file/フォルダ名とは別の URL上のpath、file名を指定することも出来るからです。 例えば /home/html/www/ にindex.htmlを置いてtoppageである http://www.****.net/ でアクセスできる場合 http://www.****.net/cgi-bin/ が /home/html/www/cgi-bin/ であるとは限りません。 /home/html/www/cgi-DIR/　かもしれないし /var/cgi-bin/html/ かもしれません。 もし独自サーバーで、お使いのhttpdの種類がApacheと言うものでしたら 設定file(httpd.conf)のScriptAlias行を見れば良いのですが、、、 ScriptAlias /cgi-bin/ "/home/www/html/cgi-DIR/" と成っていたら、 http://www.****.net/cgi-bin/ の実際のフォルダは /home/www/html/cgi-DIR/ だと言うことです。
んーむしろCGI側の処理の問題もしますが。 <form action="jump.cgi" method="post"> <select name="junre"> <option value="none">カテゴリを選択</option> <option value="junre1">カテゴリ１</option> <option value="junre2">カテゴリ２</option> <option value="junre3">カテゴリ３</option> </select> <input type="text" name="keyword" size="30"> <input type="submit" value="検索"> </form> これで希望通りの表示になるとおもいますが。 （単にテキストボックス追加しただけ） 後は、受信する側のCGIで、junle（カテゴリ）とkeyword（検索キーワード）を受け取り、カテゴリを範囲として検索すれば良いかとおもいますが。
リンク元はrefererを参照することで得られますので、.htaccessで以下のように 記述することで制御は可能です。 SetEnvIf Referer "^http://www.xyz.com" ref_ok order deny,allow deny from all allow from env=ref_ok この例では、refererがhttp://www.xyz.comで始まる場合のみアクセスを許可します。 ただし、refererを持っていないと全て拒否してしまいますので、例えば ノートンインターネットセキュリティのようにインストールしてあるPCからアクセスで refererを隠してしまうような場合、拒否されてしまいます。
#! /usr/bin/perl use CGI::Carp qw(fatalsToBrowser); print"Content-type: text/html\n\n"; print"<html><body>\n"; print"<h1> TEST </h1>\n"; open (U,"url.txt"); while($Url=<U>) {if($Url =~m|http://([^/]*)(/.*)|) {$Srv = $1; $Uri = $2; $Ghb = (gethostbyname($Srv))[4]; $Con = pack("S n a4 x8", 2, 80, $Ghb); socket(S, 2, 1, 0); connect(S, $Con); binmode(S); select(S); $| = 1; select(stdout); # ここから空行までがリクエストヘッダ print S "HEAD $Uri HTTP/1.1\r\n";# リクエストヘッダの改行は\r\nである print S "Host: $Srv\r\n"; print S "Connection: Keep-Alive\r\n"; print S "\r\n";# ヘッダの終端なので空行も出力 while(<S>) { if(m|HTTP/\d\.\d\s+([\d]+)\s.*|) { print "Status=[ $_ ] ";# TEST用、不要ならコメント化 if($1 == 200){print "<A href=\"$Url\">$Url</a>　<BR>\n";} # ↑ステータスコードが200の場合のみリンク表示 else{print "$Url <BR>\n";} # ↑ 200以外はURLをテキスト表示(不要ならコメントアウト) last; } } } } close(U); __END__ ステータスコードが200(正常なアクセス)のときのみリンク表示します。 Statusコードについては http://www.studyinghttp.net/status_code 転送、サーバーエラー, Not Foundなどの場合は200以外のコードを返します。 もしコード200のままで、エラーメッセージを表示するようにしていると ヘッダだけではなく本文をチェックして分岐処理しなくてはいけません。 >http://www.xxx/xxxxooo oの部分のみ異なる場合はどうすれば良いのでしょうか？ 同じサーバー内に複数のページがあるのでしたら 上のようにリクエストヘッダの中にConnection: Keep-Aliveを含めれば 効率的にアクセスできます。 その上で普通に http://www.xxx/xxxxoo1 http://www.xxx/xxxxoo2 http://www.xxx/xxxxoo3 と列記すればよいと思います。
＃１です。 「サーバが見つかりません」ということは、サーバが動作していないことが考えられます。 Apacheの設定は関係ないと思います。 まず、http://127.0.0.1/で、「It worked!」のページは表示されますか？ 私の予想では、それすら表示されない（サーバが見つかりません）になると思いますが？ となると、原因は ・Apache(httpd)が動作していない ・ApacheのListenポートが80になっていない 位しか考えられません。
がるです。 んっと…記述されているコードでNGだとすると、恐らく $soshinsaki = $form{'soshinsaki'}; のところで、値が取れてないのだと思います。 とりあえず $soshinsaki = $form{'soshinsaki'}; の次に print $form{'soshinsaki'} . "\n"; と入れてみてください。これで、値が取れているかどうかがすぐに判断できるかと思うので。
CGIで使用している言語はPerlでよろしいでしょうか？ 文法、パーミッション以外にチェックが必要なのは文字コード、改行コードとなります。 メモ帳で日本語が文字化けしていないということは文字コードはShift-JISかJISあたりだと思います。 他のファイルの文字コードと統一されているなら一応は大丈夫かと思います。 また、ＦＴＰでアップロードするときアスキーモードで転送していないと改行コードの問題でＣＧＩが動かないことがあります。 とりあえず、ＦＴＰの転送設定を確認して、バイナリモードの場合、アスキーモードにしてもう一度アップロードしてください。 あと、ダウンロードの設定で文字コードが変わるような設定があるかもしれないのでご使用のソフトを確かめてください。 ＣＧＩのファイルを編集するなら無料のエディターを使うことをお勧めします。 以下のサイトで色々紹介されていますが、 NoEditor TeraPad サクラエディタ あたりが良いかと思います。 http://cooltool.jp/free-editor.html おせっかいついでにグーグルで「500 エラー CGI」のようなキーワードで検索した結果の1ページ目のサイトだけでも 目を通せば上記で書いたことと同じことが書かれていますので試してみてください。 http://www.google.co.jp/
例の部分あんまり理解してないけど一応ドロップダウンにする方法を。 petit.cgi 320行目のinputタグをselectタグに変更すればとりあえずご希望の形になります。 例えば <select name=sub> <option value="hoge1">HOGE1 <option value="hoge2">HOGE2 <option value="hoge2">HOGE2 </select> と書き換えれば、投稿画面ではHOGE1, HOGE2, HOGE3がドロップダウンメニュー内に表示されますが、実際のタイトルはhoge1,hoge2,hoge3が送信されます。 参考URL：http://www.tohoho-web.com/html/select.htm
http://www.tsukaeru.net/faq/cgi_perl.html FTPで転送するときのモードは？
「CGI 登録」などで検索してみてください。 CGIスクリプト配布サイトがたくさんありますから、その中から適した物が見つかると思います。 自分で設置出来なければ誰かに代行してもらわないと行けないので、 「CGI 設置代行」かなにかで検索すると、代行してもらえる会社があると思います。 ただし、設置代行はCGIスクリプトの制作者が条件を設けていることもあるため、 ご希望のCGIスクリプトを設置してもらえないこともあります。
普通に上書きopenすればOKかと。 open D, "> data.dat"; print D "\n"; close D; chmod 0666, "data.dat"; # これは無くてもいいです これでdata.datが生成されます。 パーミッションは基本的に変更しなくても読み書きできます。
File/MMagic.pmというファイルが、 .(カレントディレクトリ) C:/Perl/lib C:/Perl/site/lib のいずれにも見つからない、というエラーです。 MMagic.pmで検索してみたら、同じエラーが出ている人がいました。 http://chiba.cool.ne.jp/goromaru/bc/ateam/namazu … ここを見ると、どうやら、namazuをインストールしたディレクトリの下にFileというディレクトリがあり、その下に、MMagic.pmというファイルがあるのではないでしょうか。 となると…環境変数に設定する値が間違えている可能性が高いような気がします。 質問で紹介されているURLのC:\Autoexec.batの内容です。 ＞SET NAMAZURC=C:\namazu\etc\namazu\namazurc ＞SET NAMAZULOCALEDIR=C:\namazu\share\locale ＞SET MKNMZRC=C:\namazu\etc\namazu\mknmzrc ＞SET HOME=C:\namazu このC:\namazuの部分が、実際に、namazuをインストールしたところと違っているのではないでしょうか？ コマンドプロンプトで、 >set と打ちこんで、実際の環境変数の値を見てみたほうが良いと思います。 はずしてたら、すいません。
NO3、ちょっと間違いがあります。 $PHP = '!/usr/bin/php'; #PHPのパス びっくりマークはいらないですね。 $PHP = '/usr/bin/php'; #PHPのパス
サーバはLinuxという前提ですが、 パーミッションが正しく設定されているでしょうか？ FTPでASCIIモードで転送されていれば問題無いと思いますが、改行コードはLFだけに なっているでしょうか？
それなりに手抜きで、こんな感じでどうでしょうか？ -- #!/usr/bin/perl use Time::Local; #基準日 $base_date = "2006-11-04"; #基準日から今日まで何日目か算出 ($y,$m,$d)=split(/\D/, $base_date); $basetime = timelocal(0,0,0,$d,$m-1,$y-1900); ($d, $m, $y) = (localtime(time()))[3..5]; $nowtime = timelocal(0,0,0,$d,$m,$y); $nisu = ($nowtime - $basetime) / (60 * 60 * 24) + 1; #画像ファイル名をつくる。 $img = sprintf("%03d.gif",$nisu); #ファイル有無をみて、なければ、000.gifを選択 unless(-f $img){ $img = "000.gif"; } #画像ファイルを読みこむ open(IN,$img); binmode(IN); read(IN,$data,-s IN); close(IN); #画像データを出力 print ("Content-type: image/gif\n\n"); binmode(STDOUT); print $data; -- 使いかたは、カウンターのように使用します。 HTML内で、 <img src="cgiのurl"> という感じで。 なお、 $base_date = $ENV{QUERY_STRING}; と設定する場合は、 <img src="cgiのurl?2006-11-01"> のような感じで使います。 あと画像はCGIと同じところに置いてください。
Ajaxを使うと言ってもたぶんわからないと思うので、CGI（サーバー側）だけで出来る処理を、、、 前回の投稿内容をサーバー側で保存しておき、 投稿がある度にその保存した内容と、新しく投稿された内容を合わせて出力してください。 ・投稿１回目 「5」 　サーバー側で「5」をファイルに保存、5を表示するHTMLを出力 ・投稿２回目 「8」 　１回目の時に保存したファイルから「5」を読み込み、今回の「8」とあわせて「5,8」を表示するHTMLを出力 　ファイルには「5,8」を保存 ・３回目以降も２回目と同様にファイルの内容と投稿の内容を合わせてHTMLの出力とファイルの保存をしていく セッション（クッキー）を使うことで、保存した内容が誰が投稿した物かを判断することができます。 BBSのCGIがたくさん公開されていますから、それを参考にしてみて下さい。
＞print MAIL "Content-type: text/plain; charset=ISO-2022-JP\n"; ＞をprint MAIL "Content-type: text/plain; charset=euc-jp\n"; ＞にしたら文字化けも治りました。 ＞これで問題ないのかな？ 微妙に問題があるような… 昔のインターネットのメールは、文字データは、7bitで送信していました。(今はどうなのか知らないですが) この為、メール送信に使用する文字コードは、7bitで日本語を表わせるJISコードが使われています。(半角カナがNGなのはこのせい) ということは、8bit使用している、シフトJISやEUCだと、昔の仕組みを使用しているサーバーを通ったときに、文字ばけしてしまいます。 また、日本語はJISコードでくるだろ！と決めうちしているメーラーが存在するかもしれない(ないと思うけど)ので、その手のメーラで受けとったら、文字化けしまくるでしょう。 という問題があると思うので、メールの送信内容は、もう一度、JISコードに変換してあげてから、送ったほうが、良いと思います。 とりあえず、適当に検索したものですが、参考にしてみてください。 http://www.watch.impress.co.jp/Internet/www/arti … http://www.atmarkit.co.jp/fwin2k/win2ktips/711ma … http://tech.bayashi.net/pdmemo/sendmailbyperl.html
ブログのシステムを利用するのであれば、RSS出力機能はほぼ標準でついているので問題ないとして、HTMLファイルでサイトを作成している場合は参考URLのようなツールを利用して生成するのが簡単かと思います。 参考URL：http://www.forest.impress.co.jp/article/2005/11/ …
どのくらいの頻度で、取得しているのでしょうか。 もし、インターバルを全然入れずに行っていると、 悪意のあるロボットとして認識される場合があります。 参考になればと思い、書きました。
＞エラーがでないようにソースを直して下さい エラーなんてでません。 そのzipファイル内cgiを何も手を加える必要もなく、 「ようこそ あなたは ○ 人目のお客様です」 とカウンター表示できます。 ＞あとパーミッションも御願いします あなた頭は大丈夫ですか？ 他人のサーバのパーミッションを第三者が知るはずないでしょ。 とりあえず本の通りでいいんじゃないの。 こんな簡単なcgiをアップロードすらできないようならcgiに手をつけるのはまだまだのようですね。
ただ、試合結果を書き込むんだったら ブログか日記のレンタルでいいんじゃないですか？ 掲示板では、部員のみは難しいかもしれないし。 「レンタル　日記」で検索してスキなのをお使いください。
１． そのHTML文で　こちらのサーバーでは正常に表示されました ２．　そのURLの index.htmlは見つからないようですが？ 　尚、自分のページのURLを投稿すると、削除対象となります(過去数回経験しています)
cssシートは１つしか編集画面がないので カテゴリー・アーカイブのhtmlで その要素を使っているかどうかです。
共有型のレンタルサーバでしょうか。 他のユーザの負荷も考えられますので、 時間帯を変えて（アクセスが比較的少ない６時頃とか、１４時頃とか）様子を見てはいかがでしょうか。 それでもアクセスができない様でしたら、レンタルサーバの管理会社に ・自分が設置したＣＧＩ名 ・アクセスを試した日時 ・レスポンスが遅いなどの状況 　（他のサイトがアクセスできるかも添えた方がいいでしょう） を送って調査依頼されてみてはいかがでしょうか。 （管理会社によっては調査依頼を受け付けてくれないところもあります） Movabletypeを設置したことによる負荷とも考えられませんし‥。
fprintf関数に渡しているのはJISコードですね。 JISコードの『テスト』は、『%F%9%H』となります。 これはprintf関数系のフォーマット指定子ですよね？
　＃１です。 　根本的なところで用語の使い方に誤解があるようです。 　ここでは「読み込む」とは、どのような動作を指していますか？ 　通常は、「メディアやサーバーに記録されたデータ等を、パソコンで処理可能な状態にする」ことをいいます。 　互いに連携させたり、またはデータを別のデータに埋め込んだりすることを「読み込む」とはいいません。 　あなたがどのような意図でこの言葉を使っているのか、もう１度補足してみてください。
この問題は、かなり以前にわたくしもぶつかったことがあり、他人事と思えなかったので解答させて頂きたいと思います。 URL(現URI)の中には半角文字といえども使うと不都合が生じる文字があります。 たとえば、「?」や「&」は用途が限定されているので変換しないと受け渡される側で問題が生じます。 日本語の場合は全角文字として2バイト以上のコードを使いますので見かけ上は文字列でも見えない部分で禁則文字が使われる可能性があります。 よって、GETメソッドなどで限定されないパラメータをCGIに受け渡す場合は、URLエンコードを行うのが基本となります。 cgi-lib.plのReadParseには自動でデコード機能がついておりますので、受け取り時のデコードは気にしなくても良いと思います。 ただし、上記のものは強制できることではありませんので、問題が生じるリスクを覚悟で、やる・やらないは自由にしてください。 文字化けに関しては、利用されている環境が不明なので(というか普通は誰がどんな環境でアクセスするかわからないですね。)、こちらのサンプルの場合、出力内容がHTMLではないのに「text/html」となっており、redfox63さんの仰る通りに強制的に文字コードを指定したHTMLを出力するのがまず「ありき」かと思います。 上記点で解決しないのなら、ご自身のブラウザの表示設定がおかしいと思って間違いありません。 HTMLでなく「text/plain」として出力を行うのであれば、かならずブラウザ側の表示設定にて日本語コードを調整する必要があります。 CGIに渡すパラメータは出来るだけPOSTメソッドにすることをおすすめいたします。
>全てのPCで同じ症状が見られました。 私には判りませんが、グループポリシーとかローカルセキュリティポリシーとかで そのあたりの抑制も出来るのだとすると、 一時的にそれらの設定を変えてApacheをinstallし、そのあとでポリシーを復旧するなどの作業が必要なのでしょうか？ 会社でActive Directory を使うようになったなんてことは有りませんか？ そうなると システム管理者か、出入りのシステム業者に相談するようになるかと思いますが？ ＃＃＃＃以上、ポリシーとかいじった事無いので全然あてずっぽうです
SMTPに接続する。 そんなに多いのでしたら専用のメールサーバを使ったほうがいいと思いますが？
結局はメールがメールサーバに届いたことをきっかけにプログラムが動作しなければいけないので、CGIだけの技術では不可能です。 CGIが起動された後、CGI側でPOP接続を行い、必要な情報を処理しましょう。 以下サンプル。（文字が多いので一部だけ） 詳しくはRFCのメールに関するところを調べてください。 use Socket; # Socket モジュールを使う use MIME::Base64; # プロトコルは POP3 を使う $port = getservbyname('pop3', 'tcp') || 110; # ホスト名を、IPアドレスの構造体に変換 $iaddr = inet_aton($connect_host) || &error("$connect_hostは存在しないホストです。\n",''); # port と IP アドレスをまとめて構造体に変換 $sock_addr = pack_sockaddr_in($port, $iaddr); # ソケット生成 socket(SOCKET, PF_INET, SOCK_STREAM, 0) || &error("ソ\ケットを生成できません。\n",''); connect(SOCKET, $sock_addr) || &error("$connect_host のポート $port に接続できません。\n",''); # ファイルハンドルSOCKETをバッファリングしない select(SOCKET); $|=1; select(STDOUT); # POP3サーバにユーザ名とパスワードを送る print SOCKET "USER $username\r\n"; print SOCKET "PASS $passwd\r\n"; $buf = <SOCKET>; # メールの一覧を取得 print SOCKET "LIST\r\n"; while (<SOCKET>){ # 「.」のみの行が送られてきたらループを抜ける m/^\.\r\n$/ && last; # 「メール番号 バイト数」という行なら if ( m/^(\d+) (\d+)\r\n$/ ){ $num=$1; $size=$2; # メール番号を @mails に push push(@mails, $num); } } # 各メールについて foreach ( @mails ){ # メールの内容を送信するようリクエストを送る print SOCKET "RETR $_\r\n"; print SOCKET "DELE $_\r\n"; while (<SOCKET>){ # 「.」のみの行が送られてきたらメールの終り。 m/^\.\r\n$/ && last; # ここでメール取得 } } # サーバとの接続を切る print SOCKET "QUIT\r\n"; close(SOCKET);
おそらく、 <TEXTAREA name="Q1-お名前" rows="1" cols="45"></TEXTAREA> ではなく、 <TEXTAREA name="Q1-name" rows="1" cols="45"></TEXTAREA> と、日本語を使わなければうまく動くのではないでしょうか？
No.2ですが、紹介しようと思った URLが抜けていました。 http://www.tohoho-web.com/wwwcgi.htm http://www.scollabo.com/banban/cgi/index.html http://www.kent-web.com/perl/
難易度が低いと言ってもあくまでcgi等を管理するならと言うことです。 初めてならわからなくても別に恥ずかしいことではありません。 誰でもいきなりわかるはずもありませんし、PCを知っていても、この類のことを 知らない人はいくらでも居ます。 皆、それなりの時間をかけて勉強したり情報収集したりしています。 本が無理なら、下記のようなサイトで勉強してみてください。 他にもあると思いますが、いくつか紹介しておきます。 http://www.tohoho-web.com/wwwcgi.htm http://www.scollabo.com/banban/cgi/index.html http://www.kent-web.com/perl/
どうもです。 「FlashVarsの使い方」 http://oshiete1.goo.ne.jp/qa2488169.html 　↑教えて！goo　↓OKWave　（同じです） http://okwave.jp/qa2488169.html の＃１で回答した者です。 実現したいことを整理しましょう。 やりたいことをすごくおおまかに書くと次のようになります。 　JavaScript で HTML の URL取得 　　　　　　　　　↓ 　　　　　　SWF に送信 　　　　　　　　　↓ 　　　　　　CGIに送信 　　　　　　　　　↓ 　　　　　CGI でデータ保存 FlashVars と getURL() の役割部分は， 　　　　　　SWF に送信　… FlashVars 　　　　　　　　　↓ 　　　　　　CGIに送信　　… getURL() ここの部分だけです。 ここは最も簡単で，ご質問で書かれている状態で大丈夫だと思います。 前回のご質問では， > どのようにすればよいのか、ご教示いただければ幸いです。 と書かれているので， 次の段階は 　　　　　　CGIに送信　　… getURL()　（完了） 　　　　　　　　　↓ 　　　　　CGI でデータ保存 の「CGI でデータ保存」なので， サーバサイドプログラミングのカテゴリで >　『URL に GET で送られてきた変数を， >　どのようにすれば アクセスログ として >　サーバ上に残せるのか。』 という質問をしてみてくださいとアドバイス差し上げたわけです。 しかし，その前に， 　JavaScript で HTML の URL取得 の方もできていないのであれば， まずそちらを探さねばなりません。 これは，こちらの質問スレッドの＃１の方の書かれている方法でも良いと思いますし， FlashVars を使う場合も， FLASH-JP.COM - フォーラム 「フラッシュが表示されてるページのURLを取得する方法教えてください」 http://www.flash-jp.com/modules/newbb/viewtopic. … のようになります。 つまり， > バナーを貼って頂くサイト様のHTMLに、 > かなり手を入れてもらわなければならなくなってしまい ということになってしまいます。 とにかく，実現したいことを明確に整理し， 　JavaScript で HTML の URL取得 　　　　　　　　　↓ 　　　　　　SWF に送信 　　　　　　　　　↓ 　　　　　　CGIに送信 　　　　　　　　　↓ 　　　　　CGI でデータ保存 これを１つずつクリアしなければ， 書かれているようなことは出来ません。 これはかなり難しいことだと思います。 JavaScript は環境に大きく左右されますし， クライアントサイドで JavaScript を無効にしていたら， URL を送る以前に， Flash の バナー自体が表示されなくなる可能性が十分あります。 その辺もふまえなければなりません。 ですからかなり難しいことなのです。 リンク用バナーの場合， だから普通そんなことはしないでしょう。 アフィリエイトなどのリンクバナーで，Flashを使用する場合は， 　Aさんには FlashVars="text1=a" 　Bさんには FlashVars="text1=b" 　Cさんには FlashVars="text1=c" などと書くように 値を割り振って置いて， a が来たら，Aさんに 10円加算， c が来たら Cさんに 10円加算… のようにしていると思います。 しかし， HP に置いてあるだけの Flash 配布バナーであればこの方法は無理です。 だから普通はそういうことはしません。 -　-　-　-　-　-　-　-　-　-　-　-　-　-　 普通はそういうことはしないので， 代案を２つほど出させていただきます。 ◎代案１「Flash をやめてGIFアニメのバナーにする」 GIF だとリファラーが簡単に取れます。 また，imgタグ で HTML に貼り付くので，ユーザーが使うのもすごく簡単です。 Flash のパブリッシュで GIF アニメにもパブリッシュできます。 反面， GIF アニメにすると画像が汚くなるのと，ファイル容量が重くなるのが問題です。 ◎代案２「SWFのURLをサーバに送信する」 ActionScript には _url (MovieClip._url プロパティ) があって， ムービークリップ（_rootを含む）のURLが取得できます。 SWF が貼り付けられている URL ではありません。 SWF 自体のURLです。 「Flashドキュメンテーション 　_url (MovieClip._url プロパティ)」 http://livedocs.macromedia.com/flash/8_jp/main/0 … 上記サイトは Flash 8 のヘルプサイトですが， _url 自体は，Flash 4 から使用できます。 これを書かれている物に対応させるとこうなります↓ on (release) { var test1 = this._url getURL("http://～hogehoge.com/", "_self", "GET"); } ローカルで実験した場合， URLが文字化けするかもしれませんが，これで， http://～hogehoge.com/?test1=file○○/△△/××.swf という感じで SWF のある場所が送信されます。 -　-　-　-　-　-　-　-　-　-　-　-　-　-　-　-　 上の 代案１ or 代案２ の方法を使うと， 　JavaScript で HTML の URL取得 の部分が省略できます。 あとは，CGI でそのURLをどう保存するかという問題になります。 と言う感じで， 実現したいことを明確にし， ある程度妥協案も考えたうえで プログラムのコーディングをしてください。 この最も重要である「コーディングの前段階」がしっかりしていないと， 質問をしてもまともにちゃんとした回答は返ってきません。 私は CGI に関しては素人なので， この辺で退散致します。
何を聞きたいのかは判りませんが、どっちみち答えでは有りませんけど 入力したアドレスにメールを送るCGIというのは、CGIの入門書では 「作ってはいけないCGIの例」として書かれていることがあります 何故なら、スパムや連続メールで他者(あるいは他者のサーバー)を攻撃するものとして利用されてしまうからです。 どうしても作るのでしたら、同じ人からは一定時間が経過しないと2通目のメールを送れなくするとか 内容をよくチェックするようにするとかの注意が必要です。 年寄りのいらん心配だったかな？？、、、
「ヒミツの小部屋」ってのがよくわかりませんが… こんなのでしょうか？ http://tackysroom.com/cgi_i-chan.htm
それは普通はcgiではなく単なるスクリプトだけでやりますね。 .forwardかaliasesファイルを使用して受信メールをスクリプトに渡し、行頭が「Subject:」で始まる行に含まれる文字列を判断して返信するメールのテンプレートを選択するだけです。 スクリプトとしては比較的簡単な部類だと思いますが、これをcgiでやる仕組みは私には思いつきません。
まだ、どのようにおかしいのかわかりません。 インラインフレームは表示されていて、中身が表示されないのでしょうか？ それとも、何かエラーが表示されているのでしょうか？ URLは「http://～memo.cgi」というように絶対パスで指定しているでしょうか？ html埋め込みのインラインフレームではなく、ブラウザで直接cgiを指定した場合は どのように表示されるでしょうか？ （IFRAME src="～"で指定したURL） FTPではASCIIモード（テキストモード）で転送されていますでしょうか？（これも重要です） >別の場所(サーバー)にUPして、そのURLを貼る方法でも見た目は変わらず表示出来るものなのでしょうか？ 上記の「src=」でURLを指定するだけなのでどこのサーバにおいても同じです。 ただ、そういう使い方（他所からリンクされるだけのファイルを置くこと）を 禁止しているサーバも多いので確認してください。
上のページでセッション内のクッキーを与え、page1.html, page2.html (相当のもの)を動的にcgiで作り出し、その cgi でクッキーのチェックをすればよいかと。
system("test.bat"); を バッククォート(shift+ @キー)に変えて `test.bat`;　　　ならどうでしょうか？ それでも駄目ならgpgをフルパスで記述するとかしたらどうでしょうか？
ご自身のPCなどで作業することをローカルで作業するといいますが、 CGIをウンヌンするためにご自分のマシンの環境を整えます。 Windowsマシンなどを例にとって 　１．FTPソフト(サーバにCGIファイルなどをアップロードするために必要です)：例：FFFTPがおすすめ 　２．CGIの内容を編集するため各種マルチバイトコード(Shift-JIS・EUC・Unicodeなど)に対応した「テキストエディター」が必要です。：例：EmEditorなど(メモ帳などは不可) 　３．ブラウザ(これはありますね) 　４．サーバ（これも・・・） 以上を準備して作業を行います。 まず、先だってのCGIをあなたの環境に合わせてテキストエディタで編集します。 index.cgiをEmEditorなどで開いてください。日本語が文字化けしていたら対応コードが自動で認識できていないのでEUCを指定して読み直しします。 まず、一行目のPerl言語を処理してくれるプログラムの指定が「#!/usr/local/bin/perl -w」記述されています。これを適切な形、サーバがRedHat系のLinuxというOSとかですと「#!/usr/bin/perl」などに変更(サーバの設定によって異なります)します。 問題なども設定可能ですが、まずはそこで保存します。 もうあるとは思いますが、FTPソフトでサーバに接続して、先ほどのファイルをアップロードします。 「cgi-bin」では、他のCGIとファイル名がかぶるおそれがあるので、「cgi-bin」の中に「test_200612」などのディレクトリ(フォルダ)を作成しそこにアップロードします。 アップロードできたなら、CGIファイルの属性(パーミッション)を変えてやります。 FTPサーバ設定にもよりますが通常は以下のような状態になっています。 rw- r-- r--　(持ち主　グループ　全て　の順に割り当てられています。通常Webの場合誰もが特殊な場合を除き認証なしでアクセスしますので全ての部分が大事です) ｒ：読み込み権限が有効 ｗ：書き込み権限が有効 ｘ：実行権限が有効 rwx r-x r-x にしてやればよいわけです。 文字のあるところを「1」無いところを「0」として数値で表現すると 2進数「111 101 101」＝＞10進数「7 5 5」 となります。 実行権限をつけるにはもうご存知の通りにしてください。 「http://www.******.net/cgi-bin/test_200612/index. …」などとして動作を確認します。 正常に動作しない場合は、テスト用に簡単なCGIを用意して試して見ます。 例としてファイル名「test.cgi」で以下の内容のファイルを作成し同様のことをします。 ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓　ここから #!/usr/bin/perl print "Content-type: text/html\n\n"; print "<HTML><BODY>\n"; print "Hello... TEST OK !\n"; print "</BODY></HTML>"; ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑　ここまで 「http://www.******.net/cgi-bin/test_200612/test.cgi」で動けばOK 動かなければエラーメッセージ次第ですが、1行目の「#!/usr/bin/perl」が異なっていたりするケースや、CGIのファイルアップロード時にバイナリ形式でアップされている可能性(FFFTPなら「オプション」→「環境設定」→「転送1」の設定)、またはサーバ側の規制(ちょっと無いかな？)などを疑って確認します。 トライしてみてください。
No.2ですが、もうひとつ追加です。（何度もすみません） サーバがLinuxの場合、転送方法によっては改行に注意が必要です。 Linuxでは改行はLFのみです。 Windowsの改行はCRLFで、そのまま転送されるとやはりエラーになります。
ちず丸のサービスがドンピシャかと思います。 http://www.chizumaru.com/czm/currentadr.aspx?x=5 …
#4です。 もうちょっと問題の切り分けをしてみます。 エラーの出るページをHTMLファイルとして保存し携帯で見た場合はどうでしょうか？ エラーが出るなら、出力したHTMLに問題があります。 もし、エラーが出ないようでしたら。ヘッダーの出し方に問題があるような気がします。 どうぞ、試してみてください。
基本的にその方法でOKな筈です。 あと、res_file.htmlのdate<!--s-->も書き換えですよね。 上手くいきません、だけなのでどのような状況になっているのかちょっと分かりませんが… 必要なタグとか消しちゃってませんか？ <!--cut-->とか。 そのスキンの書き込みファイル(write.html)にはタイトル(subject)を書き込むところがあるのに、何故か表示する為のsubject<!--s-->がないので、mail<!--s-->をsubject<!--s-->に置き換えてみてはどうでしょうか。 もしくは、name<!--s-->とurl<!--s-->もスキン内で使用されていないようなので、この二つでも試せますよ。
どうしてもMySQLを使いたいということでなければ、mt-config.cgiの中のMYSQLの設定を全て（5行くらいかな？）行頭に#をつけてコメントアウトし、BerkeleyDBのところのコメントを外してやってみれば動くかも知れません。 サーバ管理者がいるのならそちらに訊くのが一番ですけど。 お役に立てずすいませんでした。 がんばってください。
よくわからんですが、 $data{"色名"}=個数 のようにハッシュで持つようにしたらどうでしょうか
自分で設置と言うことで回答がずれてしまいますが、、、 google adwordsについているgoogle Analyticsは非常に高機能かつ無料で使えていい感じです。 https://adwords.google.com/
　プログラムを組むとき、なーんも考えなければ化けます。 　Perl の場合、最新の cgi-lib.pl はそれに対する対処が入っており、化けません。
問題点をわかりやすくするために、ファイルアップロード処理の部分を 標準入力ストリームをboundaryで切り分けしないでそのまま ファイル保存するシンプルな処理に置き換えるなりしてSSLと非SSLで 比較してみてはどうでしょうか？
少し気になったのでNo1を補足します。 $fhにundefが入っているならば、$fhにundefが入る理由として、 ・<input type="file" name="file">のname="file"になっていない。 が思いつきますが… ＞添付部分は、type="file" name="file"です とあるので、違うでしょうね…。 実は一番気になるのが、 ＞・確認画面まではうまく表示されます という部分です。 処理は以下のような感じなのでしょうか？ 1.アップロード付メールフォーム (ここでファイルをアップロード) 2.確認画面 (ここではファイル名を出力して、アップロードは行っていない) 3.メール送信処理 だとすると、「2.確認画面」後に、 $fh = $query->upload('file'); としているならば、うまくいきません。 この流れで組むのならば、確認画面を出力する前(1のあと）に、一度、アップロードしたファイルを保存して、３でその保存したファイルを添付してメールで送るようにしないと、うまくいかないと思います。 （もしくは、上のときに、メール内容を全部、そのままメールで送れる形にして、保存しておくとか） ただ、この場合、いろいろと考慮しないと問題が発生する可能性がでてきます。 例えば、 ・2の確認画面にhiddenで一時保存したファイルを特定する為の情報が必要になる 　下手にファイル名を付加しておくと、セキュリティ上、問題がある（その値を変えることで、重要なファイルがメールで送られてくる可能性も…） ・保存したファイルをいつ削除するのか？ などです。 参考URL：http://www.ss.iij4u.or.jp/~somali/web/_perl_uplo …
count.dat以外のパーミッションの変更はできたということなんですよね？ なんか不思議な現象だとは思いますが、とりあえずの対処(?)として考えられるのは… ・count.datを置いてあるフォルダのパーミッションを見てみる。 設置フォルダのパーミッションに実行権限がないと、そのフォルダ内のファイルのパーミッションは変更できなかったと思います。 ・count.datを削除して、もう一度アップロードして試してみる。 ・FTPソフトを変えて試してみる ・時間を置いて、試してみる ・カウンタの機能をオフにして利用する ・もしかしたら、766でも動作するかもしれないので、そのまま使用してみる ・他のファイル名のものが変更できるのなら、count.datを別の名前にして、yyini.cgiの # カウンタファイル $cntfile = './count.dat'; を、そのファイル名にする どうしてもダメそうだったら、サーバーを借りてるところに聞くのが一番良いと思います。
通信経路的には全て暗号化された状態といえます。 細かいことを言えば、サーバ上に保管されているファイルは暗号化されていない状態ですが、通常はアップロードとダウンロードでSSLを使用していればシステム的には「安全に通信している」という言葉を使っても差し支えないと思います。
Perlでもphpでもbatでも可能。 PerlやPHPなら、アクセスしてきた時に、指定フォルダ内のファイル一覧を取得して、一つ一つ更新時間とかチェックしていき、動的に一覧ページをはき出せば良いかと。 batなら、一定時間置きに指定フォルダのファイル一覧を取得して、更新時間など条件をチェックしていき、条件に合うものをHTMLファイルにはき出すとか
使ったこと無いのでオススメとかありませんが参考までにリンク集を。 http://www.yumemaboroshi.net/guest/us-re-search1 … （カテゴリ：メールで「添付」を検索すると20件程度見つかります） 使用実績があってのオススメを求めているのでしたら失礼。
ちょっとよく解らないのですが…、順に書いてみます。 ●valueOfはオブジェクトメソッドです。単に「999」を取り出したいなら、 print 'window.alert(document.form1.sno.value);'; とか print 'window.alert(document.getElementsByName("sno")[0].getAttribute("value"));'; で、どうでしょうか。 ●気になるのが、 > 「print」だけで表示されると勘違いしていました とおっしゃる部分です。 「表示」とは何のことを言っているのかによって、大きく異なるからです。 質問者さんは今、サーバーサイドのスクリプト（CGIスクリプト）と、クライアントサイド（ブラウザ）のスクリプトの両方を（間接的に）作っているわけですが、この点を十分に理解する必要があります。 「alert」は、クライアント（ブラウザ）が、ユーザーに対して出力します（document.writeも同じ） 「print」は、サーバー（CGIスクリプト）が、クライアントに対して出力します ようするに、 『「ブラウザに出力させる命令」をCGIスクリプトに出力させる命令』を、書いている ということです。 説明が解りにくいかもしれませんが…。 ●上記を踏まえて、「表示」とおっしゃる点は実現できたとしても、おそらく本来の目的にならないように思います。alertやdocument.writeはクライアント側で完結したもので、サーバーには何ら関係ないからです。 正直、失礼ではありますが「呼び出す」や「CGIへ使うには、単純に変数に代入」や「入力値を呼出し表示」などの表現が抽象的で解らないのですが…、今書いているスクリプトの中で値を扱いたいのではないですか？（ちがったらすみません） 言い換えると、 『ユーザーが画面上のテキストボックスに入力した値を、CGIスクリプト側で取得したい』 ということだと思います。 もしそうではなくて、単にブラウザ内だけで入力値を確認のために表示させたいだけ、というだけなら、前述のようにalertやdocument.writeで可能です（valueOfの部分は上のように変更して）。 もし意図を読み違えていたら、すみません。
＃ハッシュのキーを大文字か小文字に統一してチェックするのがポイントになるでしょう。 while (<DATA>){ $check{"\L$_"}++ and next; print; } __END__ AAA aaa AaA
　こうなります。 $str ='※第25回Ski Festival開催'; #$str =~ s/[\x81-\x9f\xe0-\xef]./ /g; #Shift-JIS の場合のみ $str =~ s/[^0-9a-zA-Z ]/ /g; $str =~ s/ {2,}/ /g; print $str; 　１つめの正規表現は、全角文字を全てスペースに置き換えています。 　次の行では全角以外の英数外文字をスペースに置き換えています。 　最後に、連続するスペースを１つにまとめています。 　文中に漢字が混じっているため、もし使っている文字コードがシフトＪＩＳであれば、これを正確にスペースに置き換えるためには漢字だけ別に処理しなければいけません。 　コメントになっているところはそのための処理ですので、適時外してください。 　使っているコードがＥＵＣであれば、漢字のテイルバイトが半角文字を含むことはありませんので、コメントを外す必要はありません。
＞文字コードはＥＵＣ、改行コードはＬＦなら良いのでしょうか？ サーバがUNIX系であれば、LFでいいと思います。 文字コードはプログラムなどを見ないと正確にはわかりませんが、たぶんEUCで動くには動くはず（メールやブラウザ画面が文字化けとかはするかもしれません）。 FTPアップロードはバイナリモードでやってみてください。
CGI自体がWebサーバとその他のプログラムをつなぐインターフェースなのでWebサーバがなければ成り立ちませんね。
最初のスクリプトが質問文の通りだとすると 末尾に改行が必要です </HTML> HTML_EOF　　＜＝FILEがここで終わるとエラー </HTML> HTML_EOF 　＜＝ここでfileが終わりならOK #####　で、何らかのHTTPDをお使いのようですから エラーログに Can't find string terminator "HTML_EOF" anywhere before EOF at スクリプト名　と記録されたはずです コマンドプロンプトで c:\hogehoge>perl -w スクリプト名 と打っても同じエラーメッセージが出たはずです
がると申します。 んっと…１の段階では、「ヘッダ」と呼称される部分に、Content-typeという形でMIMEの情報が載っております。 そのために、取得が可能です。 ２番で「データ(これはボディ部と呼称されます)」だけを保存していると思われるので。 だとすると、ヘッダ部がロストしてますから、３番での取得は難しくなります。 ですので、方法としては ・データ保存のタイミングでContent-type情報も一緒に保持するようなロジックにする ・#1さんが書かれているような「拡張子を基準にしたMIME type取得にする」 のいずれかになると思われます。
ありません。フリーのメールアドレスはいくらでも取れるし、ネットカフェなどでやられたら特定できません。
たとえばこんなとこ。便利ですよ。 http://www.future-s.com/site_construct/form_mail …
エラー表示がどのレベルで出ているか分かりませんが、通常は（CGIが一定時間で処理を返さないため）ウェブサーバーがエラーを出していると思われます。何故それが起きるかというと、CGIを処理しているサーバー（小規模システムだとウェブサーバーと同一のこともありますが）に対する処理要求が多すぎることに起因します。 したがって、そういう状態がエラーの原因であれば、#1さんがお書きのようなやり方でも、同じようなエラーが出ると思います。もし似たような形でやるなら、まず「処理をしています」というページを表示してしまい、そのページが一定間隔でリロードするようなスクリプトなりを入れておき、そのスクリプトが結果が出ているかどうかを確認するような手法を取らないといけません。非常に重たい検索システムなどで、時々見かけるやり方です。 通常は、「混雑しています」というような処理は、CGIではなくウェブサーバーが表示しています。以前私か関わったシステムの場合、ウェブサーバーの処理能力を超えるアクセスがあったときに、自動的に一定のアクセスを間引くような形で「混雑」メッセージを返していました。自前でサーバーを立てているのでなければ、自力でそのような表示をすることは難しいと思います。 このあたりはCGIの仕組みに関わることなので、いろいろ調べてみてください。
送信失敗の理由は出ていませんか？ 原因はいくつか考えられますが、メールサーバの設定（$server）が 適切でないか、perlのソケットモジュールが使えないか、プロバイダの セキュリティポリシーに引っかかっていてメール送信できないように なっているか、などいくつか原因がありえます。
いわゆるSJISの5Cの問題で文字化ける場合は、化ける文字の後に\を入れれば解消されます。 http://wwwfs.acs.i.kyoto-u.ac.jp/~tsuka/memo/per … http://www.rescue.ne.jp/CGI-BBS/beginners/beginn …
しつこくてスマン、、更に付けたし、、、 御判りかと思いますが 普通のISPなどパブリックなスペース上で、 ディレクトリを707などにすると 他のユーザーのCGIからも、あなたの方のディレクトリ内に 任意のfileを置くことが可能になりますので、気をつけてください
fxdwg99氏の言うように、FLASHにして載せたらどうでしょうか。 参考URL先のMotionSWFでmpeg、avi形式をFLASHに変換できるようです。 ※自分は使ってないのでわかりませんが※ 載せるときには読み込み時間も考慮してなるべく圧縮したほうがいいと思います。 参考URL：http://www.vector.co.jp/soft/win95/art/se226046. …
virtualとcmdでは記法が違います。 <!--#exec virtual="/cgi-bin/hello.exe?ryo+kei+yoko" --> <!--#exec cmd="/cgi-bin/hello.exe ryo kei yoko" --> あと、すみません、-->の前のスペースが抜けていました。 Apache2.xでは-->の前にスペースを入れずに <!--#exec cmd="/cgi-bin/hello.exe ryo kei yoko"--> となっているとエラーになります。
CGIはサーバ側で動作する仕組みですので、CGIの機能そのものは特に変更の必要はありません。 ただ、HTMLや画像、JavaScriptなど端末側で処理しなければいけないものを出力するような場合、その端末(ここでは携帯電話)の仕様に合わせた内容のものを出力してやる必要があります。 これが、機種によってさまざまなので、どこまでサポートするのか線引きをするのが頭がいたいところです。
>?を付けただけでもssiがエラーとなります。何か方法があるでしょうか? 呼び出しもとのページごとに別々のログを取りたいってことなら 例えば URLが http://localhost/~test/1.shtml ならば 環境変数のうち DOCUMENT_NAME = 1.shtml DOCUMENT_URI = /~test/1.shtml REQUEST_URI = /~test/1.shtml と呼び出しもとのページが入るはずですが、これを利用できませんか？
#1>JavaScriptでも上記処理（Webブラウザからサーバ上のデータにアクセス、更新）をすることは可能でなのでしょうか？ #1>あくまでもクライアント側で処理をすることしか出来ないと思っていたのですが…。 javascript で質問文のような動作を実現する場合 ブラウザで保持している<table>オブジェクトを直接操作できますので、サーバーのＤＢにアクセスする必要はありません。
>$fileのURLを絶対パスにすると と書かれていますがURLはだめでしょう ファイルの絶対パスなら /home/user/public_html/tekito.swf のように先頭が"/"から始まるものですが混同されてませんか
外部スクリプトを使ってはどうでしょうか。 参考URL 参考URL：http://www.microsoft.com/japan/msdn/workshop/aut …
> SSL対応のファイル ↑そのようなファイルはありません（厳密には）。 ANo.1さんもおっしゃっているように、SSL自体はプログラムと関係がなく、Webサーバー（httpd）が「このディレクトリのデータは暗号化して送受信する」というように動くだけなので。 おそらくですが、パス指定あたりでミスがあるのでは。 たとえば「絶対パス」で指定したとのことですが、ドキュメントルートからだとか、ユーザーのホームからだとか、そのあたりの関連では。
ANo.2さんもおっしゃってますが、LWPモジュールで簡単にHTMLを取得できます。 サンプルコード use LWP::Simple; $url = 'http://www.yahoo.co.jp/'; $data=get($url);
画面が正常に表示される場合、IE の JavaScript によるもので、利用上は問題ないようです。 参考URL：https://www.ezsite.ne.jp/v4/ez3_contents.nsf/v16 …
環境に依存すると思いますが、とりあえず思いつく方法で <script type="text/javascript" language="javascript"> <!-- document.write("<A href='mailto:?Subject=サブジェクト &amp;body=" + document.title + " " + document.URL + "'>このページを友達にメールで送る</A>"); // --> </script> htmlは、S-JISが無難かな～
リダイレクトされていたらリダイレクト禁止にして改めてurlを取り出すとか if($response->previous()){ #リダイレクトされたならば $browser->requests_redirectable([]); $browser->get($url)->content()=~/<a href=[\"\']?([^\"\']+)[\"\']?>/i; open (OUT,">>RedirectLog.txt"); print OUT $1."\n"; close(OUT); } #ちょっと処理的にアレな感じですがとりあえず動きました
すみません。 No1の回答は間違ってたことが分かりました。
.htaccessが利用可能なサーバーなら.htaccessというファイル名でHTMLがあるフォルダに以下の要領で書いたテキストを置いておけば振り分けできます。 ----------.htaccessここから------------ RewriteEngine on RewriteCond %{HTTP_USER_AGENT} ^KDDI [NC,OR] RewriteCond %{HTTP_USER_AGENT} ^Up.Browser [NC] RewriteRule index.html index_au.html [L] RewriteRule page2.html page2_au.html [L] RewriteCond %{HTTP_USER_AGENT} ^DoCoMo [NC] RewriteRule index.html index_do.html [L] RewriteRule page2.html page2_do.html [L] RewriteCond %{HTTP_USER_AGENT} ^Vodafone [NC,OR] RewriteCond %{HTTP_USER_AGENT} ^MOT [NC,OR] RewriteCond %{HTTP_USER_AGENT} ^J-PHONE [NC] RewriteRule index.html index_vf.html [L] RewriteRule page2.html page2_vf.html [L] ----------.htaccessここまで------------ index_au.html　がauトップページ index_do.html　がドコモトップページ index_vf.html　がボーダトップページ page2_au.html　がau2層目 page2_do.html　がドコモ2層目 page2_vf.html　がボーダ2層目 2層目へのリンクはpage2.htmlで、キャリアを判別して該当HTMLを表示します。
追加で・・ cgiでしたら環境変数のHTTP_USER_AGENTをみて専用ページを表示するようにするのもいいかも知れません 他にも色々方法があるようです http://www.math.tohoku.ac.jp/~kuroki/keijiban/Ro …
先に足すか後に足すかの違いです。 $a = 1; $b = $a++;　# $b -> 1 # $bに代入してから$aを足す。 $a = 1; $b = ++$a;　# $b -> 2 # $aを足してから$bに代入する と、結果が違ってきます。 単独で使う場合はどちらを使っても同じです。
> use CGI::Carp qw(fatalsToBrowser); > とファイルに記したらコンパイルエラーを表示してくれるのですか？ モジュール自体がインストールされていないなどで使えなかったら どうしようもありませんが、使える状態なら、httpサーバーのログに 吐かれるような情報が表示されるページを作ってくれます。 ただし攻撃の情報を与えることになりかねないので、デバッグが終わったら このモジュールの使用をとめるようにしたほうが良いです。 スクリプトの問題についてはPerlのところに移って質問しなおしているようなので 省略します。
No1と2の方も仰っていますが、実行されないと思われます "ある例題"ということから、勉強用に出されているものだと思いますが、 問題制作側としてはより多くの比較演算子を例として出したいがために そうなってしまったのではないでしょうか ただ、質問者さんが考えているように、実際は通らないので、 特に疑問に思わない方（まだそこを勉強し始め）にとっては、不適切な例だと思います もっと根本的に考えてしまうと、$aと$bへ他からひっぱってきたものでもなく、 定数を代入しているのにも関わらず比較するのはおかしい、とも思ってしまいます （例題だからしょうがないとも思いますが） しかし、質問者さんがこの例題を通じて、 そういう風に疑問に思い、考えるのも、 立派な収穫があったと考えても私はいいと思います さすがに問題制作側がそこを狙って出したものとは考えられませんけどね＾＾；
パールパスの次の行に require 'b.cgi';ではだめなんでしょうか
失礼しました。他のCGIが動作しているとのことですのでパス指定の問題ではないですね。 しかも素っ頓狂なことを書いてました。すみません。 Win鯖では全てのファイルのパーミッションが777になるのですが、そのcgiはFAQによるとインストール先ディレクトリが777だと上手く動作しないようです。 また、cgi作者の方が動作確認しているバージョンのApacheを使ってみて解決するかもしれません。 参考URL：http://sugachan.dip.jp/download/snfaq.txt
良くある話だと、\r\nで改行コードを読み取ってしまうので、どちらとも改行されてしまうことです。 $hoge =~ s/\r\n/\n/; $hoge =~ s/\r/\n/; で改善されると思います。 細かく言うと構文が間違っているようですが、通常は動きます。 （参考URL参照） 参考URL：http://www.din.or.jp/~ohzaki/perl.htm#CRLF_Unify
>もし他に対処法を思いつかれるようでしたら是非お教え下さい 一点思いつきました。 送られてきたメールのヘッターをみてください (OutlookExpressであればメールを選択し右クリック→プロパティ→詳細) Content-type: text/plain;charset="ISO-2022-JP" が記述されているでしょうか？ もし、 Content-type: text/plain; だけでしたら、 "Content-Type: text/plain;\n\n"; と記述されているところを探して、 "Content-type: text/plain;charset=\"ISO-2022-JP\"\n\n"; に書き換えてみてください
"_"は２つです。あとENDは大文字ですね。すみません。
クッキーはパスごとに共通で、それ以上は分けられないはずです。 同じパスのうちで、どのファイルがどちらのコンテンツに属してるのかをｗｗｗサーバが 全て把握でもしない限り制御できませんので当然でしょう。 そこで、なんとかコンテンツ毎に取得できるように判別するしかありません。 例えば "Ａ" というコンテンツには頭に "A_" をつけるルールを自分で決める方法があります。 「例」A_id=1; A_name=taro; A_age=15 このルールを決めた上で、以下のように頭に "A_" が付くコンテンツＡの値のみを取得する感じになります。 @cookdata= grep(/^A_/, split(/;\s*/, $ENV{HTTP_COOKIE}));
ざくっと見たところ、このＣＧＩはＳＪＩＳで設置するように書いてあるようです。 ＣＧＩおよびＣＳＶをＳＪＩＳでアップしてみてください。 余談ですが、検索処理こそ内部でＥＵＣ処理されてるようですが、 ＣＧＩをＳＪＩＳで設置するように作るのはきついですね。 （例えば表示を表\示と記述してたり・・）
確か・・・どっかにそのままのパッケージが売ってたぞ。 ラブホテル向けのだったかなぁ。画像も載せられたと思う。
<body>側の背景ということですよね。 その場合は、451行目の $css に設定すればよいかと。 ざっと見なので、間違ってるかも。ゴメン^-^;
＃だいたいこんな感じですかね？ my(%cache, @cols); while (<DATA>){ chomp; (undef, undef, undef, @cols)= split(/\t/); @cols or next; grep($cache{$_}++, @cols) and next; print $_,"\n"; # print result } __END__ あ PC 100 a b c あ HIw 100 f g h あ HIw 100 あ sHI 130 i j f あ sHI 100 k a あ sHI 100 z ab cd あ sHI 100 a ab cdd い sgI 100 ga adb ced
がるです。 んっと……… > 使用できるnameの数が決められているFORMを使用しています。 の部分が限りなく奇異には感じられるのですが(正直なところ、初耳です。length(長さ。バイト数と呼称する事もあります)が制限されているケースってのはありえるのですが…)。まぁ環境は人それぞれ状況それぞれってことで。 この状況ですと、可能な手段としてはJavaScriptが考えられます。…ただ、基本的に(最近かなりマシになったとはいえ)業務で使うにはあまり好ましいと考えていないので、不得手なジャンルではあるのですが。 やり口としては、 ＜form name="data"＞ <!-- 項目A --> ■項目Ａ<br> <input type="radio" name="checkA" value="佐藤" checked="checked" />佐藤 <input type="radio" name="checkA" value="鈴木" />鈴木 <br><br> <!-- 項目B --> ■項目Ｂ<br> <input type="radio" name="checkB" value="太郎" checked="checked" />太郎 <input type="radio" name="checkB" value="次郎" />次郎 <br><br> <input type="submit" value="送信" onClick="適当な関数名" /> ＜/form＞ ＜form action="URL" name="send_form"＞ <input type="hidden" name="checkC" value=""> ＜/form＞ ってな感じにしておいて。 送信ボタンがクリックされたときのJavaScriptの記述を ・dataという名前のformの各情報を取得＆文字列連結 ・連結した情報を、send_formというformのcheckCというObjectのvalueとして設定 ・send_formというformがsubmitされた挙動を行う って感じにしてあげるとよいのかなぁ、と。 まぁ、概ね#2さんがおっしゃってるのと同意見なのですが。 後は、JavaScriptの書き方などを調べていただいて、になるかと思います。
正しい書き方は $fruits{'apple'}->{'甘い'} = "リンゴ"; です。 $fruits{'apple'}{'甘い'} = "リンゴ"; これは、ハッシュを多次元配列風に表現するための略式、ですね。 $fruits{'apple'} には２次元目のハッシュのリファレンスが入ります。 この場合、「keys %fruits」は、１次元目のキーとなりますが、「values %fruits」は２次元目へのリファレンス（の配列）なので、代入した文字列は表示されません。 keys, valuesで２次元目を取り出すには・・・ ２次元目のキー ： keys %{$fruits{'apple'}} ２次元目の値 ： values %{$fruits{'apple'}}
IMG タグを使う場合は、読み込む HTML ファイルを画像に変換しなければなりません。 （アクセスカウンタも送るデータは画像データです） したがって、この場合スクリプトを使っても IMG タグで表示させるのは難しいと思います。 OBJECT タグが使えるようであればそれで代用することも出来ます。 <object data='http：//www．nantoka.or.jp/tobisaki.html' type='text/html' width='500' height='400'></object> ブラウザによって見え方が違いますので注意が必要です。
http://www.openpne.jp/ ですか？
t140さん wrote > @array = grep(!$count{(split(/\t/, $_, 2))[1]}++, @array); # おお！　こちらの方が断然いいですね。 # 勉強させてもらいました！
例えば７５５であると こういう事 ーーーーー本人ーーグループーー他人 読取OKが４●ーーーー●ーーーー● 書込OKが２●ーーーー×ーーーー× 実行OKが１●ーーーー●ーーーー● 足算すると７ーーーー５ーーーー５ これが７７７だとグループや他人から書込みOKだから プログラムそのものが改ざんされちゃう可能性があるって事 逆に書込みファイル（ログファイル）を６６６や６０６にするのもにするのも、もしログファイルに実行可能な記述があればそれを実行するのもよろしくない そのファイルは実行形式なのか？ 読取専用なのか？書込みOKなのか？そのすべてなのか？ ってのが結構明確に決めておくわけです。 CGIをやるなら、スクリプトファイルに書き込まれるとまずいし ログファイルを実行する必要もない ファイルそのものの特性を属性としてあらわしてるんす
>[contact.cgi:126:die] Can't locate ./inc/contact_error.inc これはライブラリファイルが見つからないと言う意味です。 例えば contact.cgiを置いているディレクトリが /home/tarou/www/testcgi/ だと仮定すると、その下の /home/tarou/www/testcgi/inc/ に contact_error.inc と言うライブラリファイル(大雑把に言うとCGIの部品として読み込むFILEの事) を置かなければいけません。 contact_error.inc を contact_error などとFILE名の一部を変えても駄目ですし Contact_error.inc　などと一部を大文字にしても駄目です。 また、そのパーミッションは特にいじっていなければ、取り合えずそのままで構いませんが sakuraインターネットのようなSUEXEC環境であれば /home/tarou/www/testcgi/inc/ は 700 /home/tarou/www/testcgi/inc/contact_error.inc は600 にすれば安全性は高まります。 　(その辺りの話は http://oshiete1.goo.ne.jp/kotaeru.php3?q=2202319 )
・phpまたはperl ・SendMail がサーバーに入っている必要がありますが大丈夫ですか？
検索すればすぐに以下のサイトにたどり着きますが、 どうでしょうか？
CGI(Perl)はページを作るのに 1から構築しなければならないのに対し、 PHPは 1から構築したり、JavaScript(以下JS）のように HTMLに部分的に組み込むことができます。 機能としては、 CGIは基本機能と拡張機能があり、 モジュール(関数集みたいなもの）というものを利用することによりあらゆる機能を使うことができます。 逆にPHPは 拡張機能がないといってもいいでしょう ただ拡張機能は自分で作ろうと思えば作れるのですが。 速さは、状況にもよりますが PHPのほうが早いといわれています ただ、サーバのほうで設定によっては Perlのほうが早くなっていることもあります。 PHPは新しく ヴァージョンが新しくなるにつれていろいろな機能が増えています。しかしサーバを管理している人が常に新しいヴァージョンに設定していなかったり、設定により使えなかったりすることもあります。 その点Perlは古くから存在しているので サーバを変えて使えなくなるということはありません。 セキュリティー的には 断然Perlのほうが強く PHPはいまだにバグがあるといわれています。 最後にまとめとして、 どっちもどっちなので 上を参考に簡単なプログラムなら PHPのほうが楽かと思いますが サーバの状況により使えないと考えたら Perlに変えたほうがよいと思います。
時間が出来たので試してみました。 結論から云えばそのままで動作しました。 配布元の説明を参考にアップすると 確かに「ファイルがロックされています」と表示されます。 で、lockdirのフォルダをbbsフォルダの中にして、 その中にlockfileを入れると正常に動作しました。 つまり、フォルダやファイルの位置が間違えていたと云う事になりますね。 パーミッションは、 lockdir [777]、lockfile [664]or[666] lockfileはどちらでも良いようです。 dinit.cgiの修正をお忘れ無く。 管理人パスワードなどの設定がありますので。 私が試したのはinfoseekですが、 多分、他サーバでも動作すると思います。 久しぶりに、perlのコードをマジマジと見ました。 結構忘れているんだなぁ・・・と自分自身に感心(^^;; でも、良い気分転換＆勉強になりました。 参考になれば幸いです。
もし.htaccess ができれば AddType "text/html; charset=Shift_JIS" .html にしてしまえば .htmlは常にShift-JISになりますよ
作るしかないと思います。 自分もこれに似たのを作ったことがあります。 まずPOP3の利用できるメールアカウントが必要です。 フリーだとYahooメールがPOP3を利用できます。 CGIは NET::POP3のモジュールを利用して http://search.cpan.org/~gbarr/libnet-1.19/Net/PO … 空メールがきているか確認します。 そして空メールがきていたら あらかじめアドレスと人の名前の書いたファイルなどから 該当するのを探し出し、フラグを確認し、 フラグがたっていれば削除 たっていなければ　フラグを立てておく 確認ページからは その登録されているファイルを見ればよろしいかと。
>ダウンロードしますか？というダイアログがでて それをダウンロードしてどこかに保存し terapadなどのテキストエディタ ( http://www5f.biglobe.ne.jp/~t-susumu/library/tpa … ) で開いてみてください。 perlのCGIだと仮定すると3つの状態が想定できます。 １． CGIの実行結果が記述されている場合 　ヘッダの不良 　またはContent-type:text/plain\n\nと言うヘッダの場合、文法的には正しいのですが 　MSIEのおかしな仕様により開けません。 　 Content-type:text/html\n\n をつけて 　HTML文を出力しましょう ２．　実行結果ではなく #! /usr/local/bin/perl などを含む 　スクリプトのソースそのものが記述されている場合 　httpd.confまたは有効な .htaccessで AddHandler cgi-script .cgi が効いていません ３． エラーメッセージが記述されている場合 　error.logを見て参考にしましょう　場所はデフォルトなら C:\Program Files\Apache Group\Apache\logs 　内容を見ても判らなければ logの一番下から3行分を 　補足に貼り付けてください
探すより作ったほうが早いと思います。 作り方は、 ランキング項目を登録し初期値を0にして ファイルに書き込んでいく ランキングをするときに 選ばれた項目の値を加算していくだけで 立派なランキングができますよ。
カウンタCGIの仕様しだいで使えない手ですが、 フレーム内のページのjavascriptで親(parent)フレームのrefrerを取得してcgiに渡すというのが割とよく見る方法です。 <script type="text/javascript"> var ref; if(parent)ref=parent.document.referrer; else ref=document.referrer; document.write('<img src="count.cgi?refrer='+ escape(ref)+">"); </script>
基本的に#1さんの言われるとおりで サーバーAのperlスクリプト中で、 普通のブラウザが行うのと同じような通信をサーバーBに対して行うしか有りません ・perlでsocket 　 http://ash.jp/perl/socket_http.htm ・LWP 　 http://homepage3.nifty.com/hippo2000/perltips/LW … ・lynxなどコマンドラインから使えるブラウザをperlスクリプト中で呼び出す ＃＃気になったのですが >サーバーBにあるスクリプトファイルを読み込んで、 ネットワーク的にAとBがどのような関係にあるのでしょうか？ 同じLAN内？ それとも全く別の場所？
>質問欄に書いたコードでファイルがどんどん減ってしまう原因 copyとunlinkの組み合わせの場合、 ・copy先に同じファイル名のものがある場合→上書きcopyされたファイルが消える ・copy元とcopy先が同じ名前になった場合→unlinkで消える だと思います
> 配布先はhttp://www.idm-ne.comだと思うのですが、 ここは普通の通販サイトでCGIの配布はしてなさそうですけど。 > 誰が作成したというのはどこを見れば解かるのでしょうか？ 著作権表記とか説明書（Readme）に書いてありませんか？
メモリー上に全て読み込むのがマズイのでは？と思います 読んだその場でprintしてしまえば？とか・・・ open(IN, "INfilename.txt"); open(OUT, ">Outfilename.txt"); while(<IN>){ if(!exists($count{$_})){$count{$_}++;print OUT $_;} } close (IN,OUT);
補足で。。。発言ランキングも必要なのですね。そうすると、私が紹介したプログラムもいじらないといけないですね。うーん。時間かかります。
CGIはサーバで実行されるので、携帯、非携帯は関係ありません。 携帯電話の仕様は返されたHTMLなり、XHTMLなりを読み込むときに気にすればいい話なのでCGIの処理自体は気にする必要はありません。（CGIから出力する形式を携帯電話用にあわせる必要があるという意味です） 携帯電話の仕様は各キャリアのHPを探せば載っています。
http://www.i-say.net/cgi/tips_view.php3?id=27 複数画像がアップロードできるCGIを解析したほうが早いかもしれません。
http://○○○.com/y-search/yomi.cgiのソースをindex.htmlというファイルに保存してhttp://ドメイン○○○.co.jpのトップフォルダにセットすればできます。 ＨＴＭＬを変更すればデザインも自由に変えられますし。 あくまでもＣＧＩで表示したいのであればYOMI-SEARCHを改造しかつ、サイトのトップページとしてindex.cgiが使えるサーバーを使う必要があります。
回答１の方に似てますが、コメントをチェックするのがいいのでは、 ・さい ・する ・ます ・ました いずれかが含まれてないと、投稿データは保存せずに終了するようにするとか。 どうでしょうか？ 参考URL：http://joho.boo.jp/memo/writer.cgi
#1さんのにもう少しつけたさせていただきます。 windows版Apacheで PerlのCGIを動かすために必要な設定は １．ScriptAliasで設定されたcgi-binなどのフォルダに入れてしまうか ２．httpd.confの該当ディレクトリコンテナに AddHandler cgi-script .cgi と Options ExecCGI (またはOptions All) の2つを記述するか 3. httpd.confの該当ディレクトリコンテナに AllowOverride All などと記述して .htaccessを有効にしておいて .htaccess に　 AddHandler cgi-script .cgi と Options ExecCGI (またはOptions All) の2つを記述するか の3つ方法があります ### あと >print "Content-type: text/plain\n\n"; 文法的には正しいのですがMS-IEでは正しく表示されないかもしれません 　(ダウンロード画面になってしまう場合がある) その場合は print "Content-type: text/html\n\n"; print "<html><h1>Hello Perl !</h1>"; などとhtml形式にしてみてください
（外部Captchaサービス利用） minibbs.php http://atashi.net/inu/ja/software/minibbs.html imgbbs.php http://atashi.net/inu/ja/software/imgbbs.html （拙作） 改造版はてなまん for MySQL / PostgreSQL / SQLite http://www.ethersky-online.net/cgi/hatenaman.htm
多分　ランダムを使えばすぐにできる。 ただし　ちゃんとあたるような占いのCGIやPHPは 配布してないはず 乱数でよければ おみくじみたいなプログラム（PHP)は <?php omikuji[]={'大吉','中吉','小吉','吉','凶'}; x=rand(0,5); echo(omikuji[x]); ?> とか
ActivePerlということはWindows環境ですよね。 C:\/Program Files/Apache Group/Apache2/conf/ にあるhttpd.confをテキストエディタで開いて、 書き換えることにより設定を行います。Perlの インストールのときにも設定をされていると思います。 たぶん、httpd.default.confというファイルが同じところに あるのではないかと思います。こちらがデフォルトの 設定ファイルになります。ファイル名を変更するなり、 中身をコピーするなりして設定を初期値にもどして、 Perlの設定をやり直してみてください。
cgi(guildmember.cgi)の入っているフォルダにindex.htmlが無いとダメだと思います guildmember.cgiをindex.cgiに名前を変えてcopy(700設定)しても良いと思います(とりあえず2つ作っておく) あとロリポップのcgi設置の所をみると、 ・お客様のディレクトリ内でしたらお好きなところに設置していただけます。 ・cgi専用のディレクトリを作成する必要はありません。 と書かれているのでcgi-binを作る必要はないようです ("ロリおじさんに聞く"ってメニューに受けました…関係ないけど) たぶんもうちょっとで動くと思うのでがんばってください
これとか？ http://www.core-p.com/cgi-search/search/search.c …
で、何を尋ねたいのでしょうか？ 肝心な質問内容が抜けていますよ。
両方のURIを試してみましたが、私の場合どちらでも取得できました。 ので何故できないのかわからないのですが、以下のことを試すと原因がわかるかもしれません。一般的な話になっていますが… ・use strict; を入れる。 ・use warnings; を入れる。 ・エラーハンドリングをする。例えば$browser->get($url)をしたあとのコードを以下の様にする。 if ($response->is_error) { print $response->error_as_HTML; } else { print $response->content; }
OS-Xはいじったことありませんが、、 httpdはApacheですよね？ (たしか標準かオプションでApacheが入るはずと思ったが、或いは自分で入れたか) ならばhttpd.conf内の該当ディレクトリコンテナのAllowOverride の記述を変えます ScriptAlias /cgi-bin/ "/var/www/cgi-bin/" ＜＝ここに記述されたのと同じディレクトリーコンテナに <Directory "/var/www/cgi-bin"> AllowOverride AuthConfig Limit 　#　　　　　　 つまり↑ここが最初Noneの筈なので、このように書き換える http://httpd.apache.org/docs/2.0/ja/mod/core.htm … cgi-bin内で制限するなら 普通は .htaccessを有効にせずに httpd.confに直接書く方が多いんじゃないかと思います。
まずはBASE64デコードしたデータを確認されてはいかがでしょうか？
CGI側の問題なので、サイトの管理者でないと対応できません。 該当サイトの管理をしている人に報告してください。
特定文字をはねる場合は @haijyo = ( '禁止文字列' ,'を入れる' ,'適当に増やす。' ); foreach $haijyo (@haijyo) { if ($comment =~ /$haijyo/) { &error_message('あなたには投稿する権利がありません'); } } 上記だと結構書き込まれてしまうので、私は以下の物を使用しています。 日本語が書き込まれてない場合エラーを返します。 （変な記号を使うと通りますが） &EROOR("内容の記入不足です") if $FORM{'comment'} !~ /[^a-zA-Z0-9\-\.\=\_\/\:\;\@\%\&\?\!\+\~\(\)\|\*\$\'\"\#\r\n\<\>\ ]/;
スクリプトの中のどこにもチェンジディレクトリが行われていませんが。 data.datを絶対パス名で書くか、チェンジディレクトリを行う必要があるのでしょう。
画像をランダム表示するサンプルをどこかから見つけてきて、アレンジすればよいのではないでしょうか？
use CGI_Lite; my $cgi= new CGI_Lite; my $form= $cgi->parse_form_data(); とすれば、 my $p= $form->{index}; の $p は ARRAY へのレファレンスになり、 @$p に、10 と 40 が入ります。(順番は無保証)。 index=10 だけで CGI を呼ぶと、$p はスカラになります。 input type="checkbox" を複数設置したときと同じことです。 参考URL：http://search.cpan.org/~shgun/CGI_Lite-1.8/CGI_L …
HTMLで、 <form method="POST" action="xxx.cgi"> <div>攻撃力：<input type="text" name="attack"></div> <div>防御力：<input type="text" name="defense"></div> ～省略～ <input type="submit" value="決定"> <input type="reset" value="取消"> </form> と、CGIに入力データを送るように設定します CGI側では、 read(STDIN,$query,$ENV{'CONTENT_LENGTH'}); foreach (split(/&/,$query)) { ($l_set,$value) = split(/=/,$_); $form{$l_set}=$value; } $attack=$form{'attack'}; $defense=$form{'$defense'}; などと送られてきたデータを取り込み、 $damage=$attack-$defense; みたいな感じでテキトーに計算すれば良いでしょう。
がると申します。 そういった計算は、一度ユリウス日というものに変換してから計算すると非常に楽になります。 http://web.kyoto-inet.or.jp/org/my-art/library/c … http://www.dinop.com/vc/getjd.html ユリウス日は１つの数値なので、該当の日付をユリウス日に変換して＋９０してグレゴリウス歴(通常の年月日)に変換しなおすと、非常に簡単に、ｎ日後を求めることが出来るようになります。
ちょっと検索して探してみましたが、例えばここのレンタルCGIサービス（http://www.acpit.com/~rental1/webmail/webmail.sh …）は 基本はメールフォームですが記入する項目を設定することでアンケートに使えたりお問い合わせに使えたりします。 実際に利用したわけではないのですが、記入項目を「名前」「年齢」「特技」などにすれば プロフィールの登録フォームとして使えると思います。 こちらのサービス（http://www.formman.com/）だと、記入項目を設定できるだけでなく 送信された内容をCSVで保存できるようなのでデータ管理が出来ていいかもしれません。 もし、仮登録機能をもったWEB上などで公開あるいは管理できるようなデータベースを探しているということでしたら、 無料でというのは厳しいと思います。サーバーの容量もかなり使いますし、負荷もかかりますし、 ビジネス用ならかなりの出費が必要かと思われます。 CGIスクリプトを自分で設置することが出来れば無料のものもありますが、レンタルではなかなか無いですね。 的はずれなアドバイスでしたらすみません。
求められている答えそのものではないですが…。 CGIプログラムがアクセス制限機能を備えていなくても、 .htaccessを用いたBasic認証などによるアクセス制限は可能と思われますが、 このような方法ではだめなのでしょうか？
for ( $i=1; $i<=$count; $i++) { ${"log$i"} = './test'.$i.'.log'; } これで行けるかと。
FTPがパーミッションを拡張子にあわせて 自動で適切にアップしてくれるからでは? zipから解凍しただけだとそんなパーミッションを 設定されてないからとか
処理のタイミングの問題ではないでしょうか 先ほどここを読破しましたが参考になりましたよ http://jn.swee.to/cano/lock/index.shtml
画像の場合はアップされた画像ファイルの拡張子で分岐し バイナリでオープンしてヘッダ情報を取得すれば画像のサイズが解ると思います ヘッダのフォーマットは画像形式によって異なりますので調べて見てください
やり方は、色々あると思いますが、１つの方法 @a1 = ("a","b","c"); @a2 = ("a","y","oo","pp"); foreach $e (@a1,@a2){ $count{$e}++} @array = grep($count{$_} < 2, keys %count);
＞具体的にどうするんですかね？ http://www.tohoho-web.com/cgi/wwwupl2.txt のものでは複数アップロードに対応してないように思いますが、どのようにしようしていますか？（詳しく見てないので間違っているかも） 具体的な処理が分からなければ具体的な対応策も回答できません。 ただ、やることはファイル名を変えるだけなので、それ以上の説明はないのですが・・・
2apes.comさんのFAQは見ましたか？ http://www.2apes.com/products/faq.html#q17 上に書いてある様に、datファイルのパーミッションが間違っていないか確認してみて下さい。 サーバーの環境に合わせて設定する必要があります。 (設定したパーミッションもサーバーの仕様も書いて無いので、「間違ってないですか？」としか書けないです…) いったんdatファイルを削除し、アップロードし直す(ちゃんとdatファイルの中身が空かどうかも確認を)という方法も試してみて下さい。
> そのレンタルサーバーですが、MacのIE5とIE6だけがだめなんです。 > safariではOKで、WinでIEはうまく出力されます。 ブラウザごとに違う動作なら、ますますブラウザの設定に関係してると思うのですが？ JavaScriptでdocument.cookieの内容を調べたり、 クッキーのファイルを直接調べてみてはいかがでしょうか。
自分で作ったほうが早いかと・・・ 登録がただ単にURLとタイトルを管理人が入力して ユーザーからはそれが見えるというような類でしたら 管理人のページに textを2つ配置し(URLとページ名) CGIでフォームをデコードしファイルに追加書き出し ユーザーからは ファイルを読み込んで表示させればいいのではないでしょうか？
　パスの設定は合ってますか？ 　自信がなければ、スタイルシートのパスを http: から始まる絶対パスにしてみてください。
私も先日インストールしたところです！！ Windowsですが・・・・ Network Domain＝localhost Server Name= localhost これで。。。。 ＯＫでしたよ＾＾ 参考URL：http://y-kit.jp/saba/xp/apachetest.htm
.htaccessが使えるサーバで、404エラー画面のカスタマイズが許可されていれば可能です。 こちらを参考にしてください。 http://www.shtml.jp/htaccess/404.html ・404エラー画面のアドレスをトップページに設定する ・トップページに自動的にジャンプするページを作成し、そのページを404エラー画面として設定する このどちらかでご要望は満たせると思います。
昔お世話になりました。 北京紅楼通信さんのUNI BBS 3Lを利用したことがあります。 中国語メインに作っていらっしゃいますが、UTF-8ならば他言語でも大丈夫なはずです。 僕はメニュー等の設定をいじって日韓両用掲示板として使ってました。 参考URL：http://download.bjkoro.net/
$ENV{'HTTP_USER_AGENT'}で機種名を取得できるので 必要な部分だけをsplitしてやって 記事の書き込み部分を探して 最後に付加させるか 日付の変数に付加させてやればいいのでは
MovableTypeはhtmlに書き出しますが、裏でDBが必要です。(DBはMySQLでもPostgresでもBerkeleyDBでも何でもOKです）
多分CGIが動作できるような設定になっていません。 サーバでCGIが使える設定になっていますか？ .htaccessを設定しないと動かない場合もありますし、cgi-bin/ディレクトリのみCGI動作許可がある場合もあります。 パーミッションは正しいですか？
なにで？ メールで？ 掲示板のようなもので？ 探していると言うことは自作や改造はできないと言うことですか？
こんにちは。 windows環境みたいなので、はっきりしたことは言えませんけど、Linuxなどの場合の話をします。 そのメッセージはImage::Magickが＠INCで示される場所に存在しない場合に表示されます。 @INCにPathを追加しても使えますが、メッセージに表示されているPathにImage::Magickのモジュールを 移動すれば動作するはずです。 メッセージを読むと分かるのですがCan't Locate Image/Magick.pm.... なんです。 要はモジュールが@incで示すPashに存在しないことを示しています。 ∴@INCで示すPathにモジュールを移動させれば動作するはずです。 （上記のメッセージだと C:/usr/local/lib　または　C:/usr/local/site/lib の中に必要ということです） 参考になれば幸いです。
コメント機能を活用して やればいいのではないでしょうか？ テンプレートでスタイルなどはいじれますよ もし、ツリー型やアイコンなどを使いたいなら 掲示板を設置し MTのテンプレートの個別記事で コメントの部分を消し iframeで掲示板を埋め込んでやるのが 簡単だと思います。
参考にされているファイルアップロードのソースなのですが、アップロードされたファイルを書き出す処理（22行目ぐらいから？）でOPENした後、書き出す前に「binmode　F」が必要なのではないでしょうか？
>お客様のIPアドレス: 61.114.86.177 管理画面で表示・非表示を設定可能です。 一般設定＞レイアウトの設定＞レイアウトの設定 >Copyright(c) 2004-2005 Zen Cart Powered by zen-cart.com / zen-cart.jp は\includes\languages\japanese.php(382)のFOOTER_TEXT_BODYかな。 >キャッチコピーincludes\languages\japanese\classic\header.php(35)の define('HEADER_SALES_TEXT', '<h1>ここにタグライン・キャッチコピーなどを入れてください。</h1>'); を define('HEADER_SALES_TEXT', ''); にすれば消えるかと思います。 カスタマイズは公式のカスタマイズの基礎知識に一通り目を通してソースをGrepすれば、ある程度はできるようになると思います。 細かい事しだすとそれだけじゃ難しいかもしれませんが。 参考URL：http://www.zen-cart.jp/pukiwiki/pukiwiki.php?cmd …
>CGIとPHPを一緒くたにするような知識レベルで、商用のサイトを構築するのは無謀です。 セキュリティーレベルでも#2さんと同じで無謀でしょう。
まず 本当に/usr/bin/以下に有るのなら危険なので /home/ か/var/www などの下のディレクトリに移してください。 それとfedora5標準の(またはyumで入れた)httpdならsuexecが有効ですので.cgiは755ではなく700で動きます。 You don't have permission to accessになる原因は.cgiのパーミッション以外では １． options の設定がされていない　＝＞httpd.confか .htaccessでOptions ExecCGI ２． 上位ディレクトリのどこかが700　(701でOK) ３． selinuxで制限されている ＝＞ルート権限で setenforce 0 を試してみる
どれくらい、、、っていうのは人によると思います。 素人でも要領良い人は、その日に出来ます。 個人的には、JavaScriptやPHPが簡単だと思うので、そちらを勉強したらいかがでしょうか？ 方法はいくらでもあるので、、、、なんとも言えません。 私は携帯サイトであれば、PHPでHTMLを吐き出すのがすきです。
ホームページを設置するプロバイダがBIGLOBEということで そのホスト名が知りたいということであれば http://homepage.biglobe.ne.jp/manual/shiyou/inde … 実際のホスト名は管理画面で確認してください FTPの設定についてはこちら http://homepage.biglobe.ne.jp/manual/ftp/index.h …
スキン式の掲示板 http://wws.cside.com/cgi-plant/bbs/ これ、プラス http://wws.cside.com/cgi-plant/bbs/skin_list/bbs … このスキンとか。（他のスキンでも設定すれば返信の制限は出来るようです）
高機能のアクセス解析ＣＧＩです。 http://www.futomi.com/library/acc.html 参考URL：http://www.futomi.com/library/acc.html
そのページで充分わかりやすく書いてあると思いますが・・・ Analogを動かしているサーバのOSと、そのページのどこがわからないのか書いてもらえれば答えようがあるかも。
HTML の charset は、EUC になっていますが、 スクリプトの出力はShift_JIS になっているようです。 要するに、文字コードの不整合ということですね。
OSやhttpd、Perlなどの種類やバージョンを書くようにして下さい まあ、大体のことは推測できますがね。 で、この辺りの設定の理屈が判らないとセキュリティ的にも厳しいものがあるので、公開することをお考えなら慎重に。 さて、本題ですが ・何もかんも構わずどこのフォルダでもCGIが使えるようにする方法 　httpd.confの　<Directory /> 行の上あたりにでも以下の4行を追加してから、Apacheを再起動してください <Location "/"> Options ExecCGI AddHandler cgi-script .cgi </Location> ・それとは別にcgi-binでもhtmlを使う方法 http://oshiete1.goo.ne.jp/kotaeru.php3?q=2047461 ・perlのパスの問題 Apacheをインストールしたのと同じドライブ(C:とかE:とか) に \usr\bin フォルダを作り、そこにc:\perl\bin\ にあるperl.exeをコピーしてください(C:なら c:\usr\bin\perl.exe になります) 本当はperlのインストール時に c:\usr　などを指定した方が良いのですが もしもApache1.3系なら http://mm.apache.or.jp/pipermail/newbie/2003-Jul … の方法も有ります
がると申します。 えっと………つまり、たとえば「あ」という文字が入ってたら、この文字を「あ」と書いてある画像にして出力したい、っていうイメージでしょうか？ だとすると、 GDライブラリ Imagemagick あたりが或いはご希望に近しいものかもしれません。 これらは、文字列を渡すと、その文字列をグラフィックにして返してくれます。 もし「そうじゃない」ようであれば、もうちょっと詳細に内容を伺えれば、なにかアイデアが出せる…かもしれません。
こんなんでいかが？ http://www.rescue.ne.jp/CGI-BBS/cgi/perl/2003032 …
一番簡単なのは、 <input type="hidden" name="EntryNo" value="12345"> でなければ、 ・クッキーに保存する ・サーバーのファイルに保存しておき、クッキーにキーワードを保存、 そのキーワードをもとにファイルから取得する（いわゆるセッション） セッションを使うと、サーバーのファイルを削除するタイミングや、キーワードの生成方法の問題も出てきますが、 モジュールなどがありますので、それらを使えば簡単に作れると思います。（モジュールの使い方の知識が必要ですが） 余談ですが、www.test.comというサイトは実際に存在します。 例としてあげるなら、他人のサイトを勝手に使うのではなく、 ”例”用に用意された www.sample.com や、 自分のサイト、 またはそのBBSに関連するサイト（itmaedia.okwave.jpなど）（存在しないファイル名はNG。これについては人によって見かたが変わるかも） を使うようにして下さい。
「今すぐ導入！PHP+MySQLで作る最速Webシステム、星野努著」CD-ROM付き 技術評論社刊　ISBN4-7741-1825-7 C3055 \3280E 何冊か購入した本では一番理解しやすかったです Apache 2.0.45、PHP4 4.3.2、MySQL 4.0.14 完成サンプルが付いています。先ずはこれを動作するようにします これを基本ベースにOKWeb（教えてgoo）を眺めながら変更を加えてゆけば進化する過程が解り結構楽しいです XP,2000に導入して「裏で動いています」より、98SEに入れて一手間増やし、「これからシステムを起動します」て動作させるのも勉強になります
TMEspionです。 性別、血液にそれぞれ数値が与えられていて、その数値を掛け合わせた値によって、結果が分岐する・・・とかいう条件式でもあれば、選択する意味は出てくると思うんですが・・・ >サンプルソースなど拝見させていただけたらと思います。 サンプルです。ぶっちゃけ、性別と血液型選択する意味ありません。 <html> <head> <title>javatest</title> <SCRIPT LANGUAGE="JavaScript"> <!-- function Check( ){ /* 初期化 */ var sex=new Array(); var blood=new Array(); var resultr=new Array(); var r=new Array(); var resultg=new Array(); var g=new Array(); var resultb=new Array(); var b=new Array(); /* 占い結果R */ resultr[0]="R-1"; resultr[1]="R-2"; resultr[2]="R-3"; resultr[3]="R-4"; resultr[4]="R-5"; /* 占い結果G */ resultg[0]="B-1"; resultg[1]="B-2"; resultg[2]="B-3"; resultg[3]="B-4"; resultg[4]="B-5"; /* 占い結果B */ resultb[0]="C-1"; resultb[1]="C-2"; resultb[2]="C-3"; resultb[3]="C-4"; resultb[4]="C-5"; /* ランダムで結果を選ぶ */ var r=Math.floor(Math.random()*resultr.length); var g=Math.floor(Math.random()*resultg.length); var b=Math.floor(Math.random()*resultb.length); /* 性別が選択されていない */ if(document.sample.sex[0].checked == false && document.sample.sex[1].checked == false){ window.alert("もしやおカマの方でしたか？"); return false; } /* 血液型が選択されていない */ if(document.sample.blood[0].checked == false && document.sample.blood[1].checked == false && document.sample.blood[2].checked == false && document.sample.blood[3].checked == false){ window.alert("あんたには血も涙も無いのか！"); return false; } /* 確認表示性別 */ if(document.sample.sex[0].checked == true){ var sex="男性"; }else if(document.sample.sex[1].checked == true){ var sex="女性"; } /* 確認表示血液型 */ if(document.sample.blood[0].checked == true){ var blood="Ａ"; }else if(document.sample.blood[1].checked == true){ var blood="Ｂ"; }else if(document.sample.blood[2].checked == true){ var blood="Ｏ"; }else if(document.sample.blood[3].checked == true){ var blood="ＡＢ"; } /* 結果発表 */ window.alert("性別は"+sex+"、血液型は"+blood+"でした\n"+resultr[r]+"\n"+resultg[g]+"\n"+resultb[b]); return false; } //--> </SCRIPT> <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS"> </head> <body bgcolor="#FFFFFF" text="#000000"> <form name="sample" method="post" action="" onSubmit="return Check()"> <table border="0" cellspacing="0" cellpadding="0"> <tr> <td><input name="sex" type="radio" value="boy">男</td> <td><input name="sex" type="radio" value="girl">女</td> <td></td> <td></td> </tr> <tr> <td><input name="blood" type="radio" value="A">A</td> <td><input name="blood" type="radio" value="B">B</td> <td><input name="blood" type="radio" value="O">O</td> <td><input name="blood" type="radio" value="AB">AB</td> </tr> </table> <input type="submit" name="Submit" value="うらなう"> </form> </body> </html>
> 探し方が悪いのか、 「スレッド式BBS」「フォーラム BBS」で検索してみてはいかがでしょうか。 「一覧表示」をキーワードに追加してみても良いかも。 言い方は人それぞれですが、他のBBSの種類には、 ツリー式（ツリービュー）、ゲストブック（ゲストブック型、ノーマル）などがあります。 > 「OKWave」のような凝ったもの PHPBBとかXOOPSとか OKWaveと同じITMedia（@IT）が管理する @IT会議室もPHPBBを使われています。 (@ITはITMediaの登録商標です。。。一応記述)
表示自体はメールフォームのような感じになると思うのですが↓ http://garden.s60.xrea.com/cgi/fakeform.html あと、ロケットBBSでカスタマイズによっては管理人のみ閲覧という形にできます↓ http://www.rocketbbs.com/skin/gallery.cgi?catego … 同様にapeboardなどでも、カスタマイズ次第で閲覧を管理人のみに制限することが出来ます。スキンは、↓のサイト様などで配布されています。 参考URL：http://cool.fem.jp/cute-e/
＞最初に読んだマニュアルに無料レンタルの場合は CGIが使えないところが多いと書いてあったので考えていませんでした。 ＨＰの事ではなく、掲示板システムを無料で利用できるところがあります。 ＨＰから設定した掲示板のURLにリンクを張るだけです。 http://www.kooss.com/bbs/all.html
osCommerceというのもありますね。 参考URL：http://www.os-commerce.jp/
そのCGIがどのような動作をしているか分かりませんが、 ただ単に文字列を検索ページに渡しているだけならば、実際に検索をしたページのURLを加工すればいけるはずです。 単にGETで飛ばしているだけのようですので。 例えば英和だと http://dictionary.goo.ne.jp/search.php?MT=test&k … となり、MTが検索文字みたいです（日本語の場合はURLエンコード必須）
プロバイダーのsendmailを使用していると推察します。 一行の長さが1000バイト（500字）を超えるとサーバによっては変なところで改行をしてしまい、文字化けを起こすことは、衆知のバグだそうです。適当なところで改行を入れましょう。 プロバイダーに問い合わせたほうがよいと思います。
　俺はいつも unlink 関数でやってます。 　rm を使うと背後でシェルを起動することになりますし、するとその分のメモリも起動時間も無駄になります。 　たとえロジック単体の性能として rm の方が優れていたとしても、unlink の方が効率がいいはずです。
レンタルであれば、ロケットBBS（http://www.rocketbbs.com/）が携帯対応ですしHTMLのカスタマイズできますし、軽いです。 perlでフリーウェアのCGIですと、２apes（http://www.2apes.com/）のapeboard/apeboard+やsolo.design（http://solodesign.jp/index.html）のCLEVER BBSあたりが、スキンと呼ばれるHTMLテンプレートが豊富ですし、自分で作ることも可能というところで有名ドコロではないでしょうか。（携帯に対応しているかは不明） PHPでフリーウェアのCGIですと、レッツPHP（http://php.s3.to/）の写メールBBSあたりが扱いやすそうです。スキンの変更も出来ますし、PHPですから軽いです。
まず、不用意にSSIを有効にするとセキュリティ面で、あまりよろしくない事は承知して置いてください 拡張子htmlと htmでSSI有効にするには .htaccessに AddHandler server-parsed html htm と記述すれば良いのですが、記述して設置後3つの現象が有り得ます。 いきなりtoppageで行わずに、サブディレクトリなどで試すと良いかと思います。 現象１． 問題なくSSI有効になる 現象２． SSI無効のまま 　htmと同じ場所に.htaccessを置きましたか？ 　また .htacess などfile名を間違えていませんか？ 　以上を確認しても駄目なら .htaccess に test と記述してください。 　　↑.htaccessが有効なら500errorになります。普通にアクセス出来るなら間違いなく.htaccessが無効です。 現象3． 500errorになった 　文法に間違いが無いかチェックしてください 　それでも駄目なら .htaccessは有効ですが 　AddHandler を記述することを許可されていません 以上の .htaccess有効、無効、一部の記述のみ許可はhttpd.confに記述されており、通常は管理者にしか設定できません http://httpd.apache.org/docs/2.0/ja/mod/core.htm …
cgi-lib.plか、CGI.pmを使用すれば比較的簡単に作れると思います。 使い方さえ分かればいいのですから。 検索すればいくつか出てくると思います。 それでも掲示板を作れる程度は必要ですが。 セキュリティーを考えない、限定条件（日本語のファイルを使うなどのめんどくさそうな条件（笑）を排除）でいいならばそう難しいと言うことはないと思います。 参考URL：http://www.tohoho-web.com/lng/199808/98080055.htm
連想ゲームで、単純に連想するものではなくアレンジしたものってのが、いまいちイメージ的に判りませんが、 マジカルバナナのＷｅｂバージョンである、Web BananaというものがCGI-Station（http://www7.big.or.jp/~jawa/）というサイトで配布されています。現在、サイト閉鎖と言いつつも放置状態で、サイトそのものが残っているため、CGIは配布されていますが、問題があってもサポートは受けられません。 上記のサイトに触発されて、KENT WEB（http://www.kent-web.com/)で、Monkey Banana（http://www.kent-web.com/variety/monkey.html）という、連想ゲームのCGIが配布されています。最近、新たに設置され始めている連想ゲームCGIは、こちらのもののようです。 CGI-Search http://www.core-p.com/cgi-search/ こちらは、CGI専門の検索サイトです。 このサイトに登録されているCGIであれば、検索可能です。 Vectorは、基本的にソフトの配布を目的としている部分があり、パソコンゲームの配布、あるいはCGIを形作るPerlスクリプトを書くためのツールが多く、CGIがあってもWebをサポートする感じのもの（買い物かごCGIやBBSなど）が主となっているため、ゲーム系のCGIを探すのにはあまり適切とは言えません。
CSVファイルにしたほうが簡単ですが。 どうしてもHTMLでやりたい場合は、 open(IN,"<HTMLファイル"); @line = <IN>; close(IN); foreach (@line) { if ($_ =~ /県/) { print $_; } } とかやれば一行丸まる表示できますが。 ちなみにテストをしてないので動かないかもしれません。
もうお探し当てになったかもしれませんが、「楽メ」はいかがでしょうか。 有償で、初期費用に5,250円かかりますが、月額利用料2,100円で利用できるようです。デモページもあるので、のぞいてみてください。 参考URL：http://ms1.rakume.jp/usr/home/index.jsp
>data[フォルダ]・・・売り上げ情報を格納しています。 >　　777 この777が、「誰でも読み出し・書き込み・削除可」である、という意味が分った上で、このページを設置しようとしているのでしょうか。 認証を必要とする程の重要データを扱う cgi の動作結果が、同一階層からたどれるディレクトリに保存される(らしい)のは、到底安全な設計とは言えません。一昨年あたり、この手の甘い設計のページからの情報流出事件がさんざん起きています。 メールで平文のパスワードを送るのも、やめた方がいいでしょう。 この「素材」によるページ設置自体を考え直した方がいいと思います。
外してたらすみませんが もしも、なさりたい事がライブラリのパスを追加すると言うことなら スクリプトのshebang文を #! /usr/bin/perl を #! /usr/bin/perl -I /usr/local/newlib/perl 等としてみたらどうですか？　 追加されたか確認するには print '@INC = ' .join("<BR>\n",@INC) . "<BR>\n";
> 内部に、同時アクセス禁止？の設定でもあるのではないかと思っています。 必ずあります。 > そこで、これを何とか回避する方法は無いでしょうか？ 処理を軽くする。それしかありません。 > また、特に、重いCGIを動作させているときにこれを実行させると、確実に、ページの読み込み中にサーバへの接続がリセットされましたとでて表示ができなくなります。 ということですので、残念ながら処理が重いことが原因なのは、ほぼ明確ではないでしょうか。 JavaScriptのページで対策を書かれていますが、 その対策をされるなら、こちらは終了させた方が良いのではないでしょうか？ ダミー用のHTMLファイルを５つつくって、 それぞれに <meta http-equiv="refresh" content="1;url=sample/iframe_q.php?q=1"> <meta http-equiv="refresh" content="2;url=sample/iframe_q.php?q=2"> 等と書いていくと、１秒ずつ遅れて表示されます。 （1秒単位でないと指定できません。また、１つのファイルで管理できないというデメリットがありますが、 JavaScriptを切っていても表示できます） ただ、このような対策は根本的な解決策ではありません。 あなた一人しか接続しないのであれば、これで十分かもしれませんが、 ５人が同時に接続すれば、５つのiframe_q.phpが同時に呼び出されることになり、結局タイムアウトします。 また、同じサーバーを利用されている、ほかの方がタイムアウトになっているかもしれません。 もしこのまま使用し続ければ、サーバーに負荷をかけるプログラムを使用しているとして、あなたのアカウントが凍結される可能性もあります。
http://wws.cside.com/cgi-plant/ ここの B-Chat は条件を満たしているでしょうか？ 以下、説明より引用 会話ログの閲覧制限 会話ログを参加者以外見えないように設定することができます。（参加者はcookieの受け入れが必須になります。） 人数・参加者表示 Javascript又はSSIを利用し、別のHTMLに入室中の人数、参加者の名前を挿入することができます。
そのレンタルサーバで mod_rewrite が使えるなら、 .htaccess に次のように書けば、192.168.1.2, 172.18.1.3 の人だけ some.example.com へ飛ばせます。cgi は不要。 RewriteEngine On RewriteCond %{REMOTE_ADDR} ^192\.168\.1\.2$ [OR] RewriteCond %{REMOTE_ADDR} ^172\.18\.1\.3$ RewriteRule ^/(.*)$ http://some.example.com/ [R=301,L] 参考URL：http://www.net-newbie.com/trans/mod_rewrite.html
何の予約か分からないので、参考URLにいくつかあるので見てみてください。 参考URL：http://www.yumemaboroshi.net/cate79/
No.1の者です。 PC版との補足を返信されておりますが、きちんと携帯にも対応しております。 一度設置してみてご確認いただけたらと思います。 それにi-Net Cruiserの方にはサンプルも用意されていますので、一度携帯からアクセスしてみる事をお勧めします。 http://ne.lib.net/i/inet/
こちらで試しましたが、ちゃんと本文も送られるようです ためしに$Subject1 には日本語ではなく半角英数字のみを入れたらどうなりますか？ 例： test など あと、この件とは違うかと思いますが sub mailの下の方にある print OUT "\n"; は print OUTMAIL "\n"; ですよね？ また、この作り方だと文字化けは避けられないとおもいますがねえ スクリプトのソースをISO-2022-JPにしちゃうと文法エラーになるでしょうし、、、
http://usd.littlestar.jp/060616-4.gif このマークは改行コードLFっぽいですね。 出来るかどうかわかりませんが、このマーク（または１件の終わり）を「改行」に置換して、 改行コードLFで保存してみてはいかがでしょうか。 文字化けの原因は文字コードですので、改行コードとは別物です。 ただし、改行コードを文字の一部と見なしている場合も文字化けすることがあります。
私も可能だと思います。 絶対必要なのは、ユーザーが増えても耐えうるサーバーとセキュリティではないでしょうか？ フリーがサーバーまで含まれているのでしたら、難しいと思います（スパム対策ということで、メルマガスクリプトを禁止している所も多いと思いますので）。 参考になれば幸いです。
たぶん、その問題は「クッキー」で解決するんじゃないかと思います。 私自身が今、そのクッキー勉強中なので詳しく説明できません。ごめんなさい。 少しでもお役に立てれば幸いです。
>３．また確認ページが表示されてしまいます。 ・ログに書き込まれていない場合 　確認画面でhiddenタグにより入力ページで入力された内容だけを送信すればそうなります 　あるいはRefererをCGI中でチェックし 　Referer＝入力ページ＝＞確認画面の表示 　Referer＝確認画面＝＞ログ書き込みとThanksページの表示　なんて事をしていると, 　Refererをちゃんと吐かないクライアントでは誤動作します＜＝環境変数に依存しすぎてはいけません 　いずれにしろ確認画面のhiddenタグで項目を増やし 　CGI中でログの書き込み処理モードに進むように値をいれてやればOK ・ログへの書き込みは出来ているが、Thanksページではなく確認ページが表示されてしまう場合 　上記のような書き込み処理をする値がformで送られてきた場合には確認ページを表示しないように作る ##質問内容からすると、この程度の漠然とした答えしか書けません どこかで配布されているCGIなら、配布URLと どの部分を書き直したか補足してもらえば具体的なことも書けるかもしれません。
例えば test.shtmlに<!--#exec cmd="./hoge.cgi" -->と記述して呼び出したときに "test.shtml"を得たいと言うことなら環境変数に入ってますよ。 $ENV{'SCRIPT_FILENAME'} = /home/hoge/public_html/test.shtml $ENV{'SCRIPT_NAME'} = /~hoge/test.shtml となりますよ。 cmdではなく<!--#exec cgi="./hoge.cgi" -->で呼び出した場合は 呼び出しもとの.shtmlではなく hoge.cgi自体のパスが環境変数に入ってしまいます。 あと、もしも掲示板のログとしてSSI有効なページに表示するのだとしたら危険なのでご注意ください 特にApache1.3系は <!--#exec cmd="./hoge.cgi"　(つまり --> が無い状態でも) これだけでもSSIとして表示してしまいますので注意が必要です (Apache2.0系では<!--#exec cmd="./hoge.cgi" --> のように きちんとした書式で無いとエラーが出るようになっているようです)
最低限 print "Content-type: text/html\r\n\r\n"; が無いと、CGIが動いても、CGIの結果をブラウザに送出サーバーが困ると思いますが。 これはCGIのソースの抜粋した一部ですよね？ 出てるエラーが print "Content-type: text/html\r\n\r\n"; が無い時っぽいので…。
もちろん、blatj単体でのメール送信の確認はしてありますよね？ エラーログがあるのならば、私にはわからなくとも 他の人が見れば判るかもしれませんよ
がると申します。 ./を明示的に書くのは基本的に「セキュリティ」が理由です。 そうですねぇ。例えば。./がpathに入っているために、./を書かない癖が付いているとします。 いつも自分のホームディレクトリにある、hogeという実行ファイルを hoge と実行してみました。普通に実行されます。 ………で。もし、pathが /home/akui/yabai/ ってpath(悪意ある攻撃者が仕込んだディレクトリ＆ファイル)を先に指し示していた場合。 /home/my/hoge を起動しているつもりで、実は /home/akui/yabai/hoge を実行していた、なんてことが起き得てしまいます。 そのために、特にセキュリティ上の理由などから、原則フルパスで打ち込むか、最低でも相対ディレクトリ指定で、./からスタートさせてコマンドを打つのが通例となっています。
【猫でいいです】 http://neko.s18.xrea.com/index.html にある、「FAQみたいです」はどうですか？ 参考URL：http://neko.s18.xrea.com/index.html
参考にならないかも…ですが 今まで経験したことのある事例です。 ・サーバー管理者が、サーバーの設定を変更した為→サーバーに問い合わせる（サポートBBS等で変更箇所を知る）等をして、パーミッション等の変更を行なう ・BBSや日記等の書き込むタイプのCGIの場合に、'や記述ミスのタグを投稿してしまった→ログを直接書き直す
もしperlでしたらSendmailモジュールを使う手も有りますね http://oshiete1.goo.ne.jp/kotaeru.php3?q=2126143
>ブラウザのＵＲＬ欄に、[http://..(略)../txcount.cgi?check]でtxcount.cgi >an error occurred while processing this directive 平たくいえばスクリプトエラーです。 文法に誤った記述をしている場合や、 .cgi や .pl ファイルをバイナリモードで転送している可能性があります。 または、ファイルの設置構成と初期設定ファイルでのパス指定が間違っているなどの原因が考えられます。 パーミションなどもプログラム配布元が公開している仕様が正しいとは限りません。 >直接kent-webからダウンロードをして設置したい つまり、日計式テキストカウンタを自分（さくらインターネット）のサーバー上に設置して動作させたい・・・ ということでしょうか？ カウンタのダウンロードやアップロードは出来ていますか？ ＳＳＩを使うのは結構難しいところがあります。
何度もすみません。ひとつだけ追加を…… http://tamamo.honesto.net/cgi-park/tail_review/i … あと、ロケットBBSはtxt形式ですがログをダウンロードできます。ただし無料版は保存が200スレッドまでなので、そのつど保存していく必要がありますが。 http://www.rocketbbs.com/bbs/x/index.html 急いでおられないとのこと、お望みのものが見つかるとよいですね。
「Location: ヘッダ」で検索されては。
動的にバイナリファイルを作成する場合、対象が何であれ外部のユーティリティをCGIから呼び出しています。 作成する元となるデータはテキスト形式となり、そのファイルをパラメータとしてユーティリティに渡し結果を返すようにしています。 では、そのユーティリティは何で作成するかというと、UNIX/Linux系ならgcc、Windows系ならVC++がメインだと思います。 フリーの画像投稿掲示板でサムネイルを自動で生成する機能があるものだと、セットアップの手順書の中に必要となるユーティリティの記述があったりします。 フリーのレンタルサーバー(Infoseekなど)だと、使用できるユーティリティの説明があったりします。
意味不明な点が数点あります。 >フォームの内容をサーバーへ送信させる際の設定がわからず、そこで止まっています。 >実際にサイトをアップロードしたりという経験はありません。 (1)　ＣＧＩの設置について聞きたいのですか、単にファイルをレンタルスペースにアップロードする方法が知りたいのですか？ >HTML形式のフォームを作成していきましたが、 (2)　ＣＧＩフォームというと、HTMLの送信フォームと、そのフォームから送信されたデータを受取って何らかの処理をするＣＧＩファイルの２つがいるのですが、ＣＧＩファイルの存在が質問上出てこないのですが、ひょっとしてHTMLフォームだけアップロードすれば動くと誤解されていませんか。 >よくわからないままインストールを行ないました。 (3)何をどこにインストールしたのですか？レンタルサーバースペースに勝手にシステムをインストールなんて出来ないでしょうから、自分のパソコンにインストールしたのでしょうが、PerlのシステムとかWebサーバーソフトとかですか？ >別途レンタルしているサーバーを使用してCGIを設置する場合でもプロバイダでの確認というものが必要なのでしょうか？ 一番最初の質問に関連しますが、もし単にファイルをアップロードしたいだけなら、レンタルスペースのホストアドレス、自分のユーザー名、パスワードがわかっていないと出来ません。 CGIを動かすということなら、PerlのパスやCGIファイルのパーミッションの設定方法、もし送信内容をメール転送させて受取るなどするならSendMailのパスなどを教えてもらう必要があるでしょう。 ちなみに以前アンケートフォームのＣＧＩを作りたいという質問に私が答えた過去ログがあるのでご参考にどうぞ 　 参考URL：http://oshiete1.goo.ne.jp/kotaeru.php3?q=1476792
写メ日記、ということはやはり「携帯対応」ということで探してらっしゃるのですよね。残念ながらそれではないのですが、また年間2,500円と有償なのですが……<img>タグで貼り付けられるものでしたら↓があります。 参考URL：http://www.moeom.com/diary/
そのページのソースを表示して、全文をコピー、 BBSのメッセージ欄に貼り付けて、URLにはそのページのURLを記述。 そのまま投稿すれば、一般的なタグ禁止BBSではソースがそのまま表示されて、 URLも表示されますが、、、？
スキンを使って設置できる 掲示板にかえてみるのもひとつの手かと。 http://www.2apes.com/ http://solodesign.jp/cbp/index.html とか。 スキン次第で、そのようなことが可能になりますし ログを共有すれば、普通の表示も可能です。
プロバイダはどちらでしょうか。 プロバイダによって、CGIを置くフォルダ（cgi-bin）が指定されていることが多いです。 アップロードできたら、属性（パーミッション）というものを変更しなくてはいけません。FFFTPなどのソフトであれば、アップロードしたファイルを右クリックしたメニューに「属性を変更する」のようなものがあるはずです。これを「７０５」とか「６０６」とか、どう設定するのかは、それぞれの掲示板が公開されているページに解説があると思いますのでそちらを参考にします。（なければ、自力でパーミッションを判断するのは難しいので、解説のあるスクリプトを使うことをお勧めします。） KENT-WEBなどは、設定などが親切に書いてあるので私はよく利用させていただいています。 （ところで、お使いのプロバイダはCGIを許可しているのでしょうか？オリジナルのCGIを不許可としているプロバイダが多くありますので・・・） 参考URL：http://www.kent-web.com
ただ単にメルマガを発行したいのでしたら、 まぐまぐ http://www.mag2.com/ などを利用するのが一番手っ取り早いでしょう。
まずはOSの勉強からはじめましょう。おそらく Linuxでサーバ立てるんだと思いますが。 SMTPサーバにはsendmailとかqmailとか いろいろあるんで、それを覚えること。 次にメーリングリスト管理ソフトの調査に 入りましょう。これは私もよくしらないので 調べてください。FML?とかいろいろあります。 それからCGI組む前にWebサーバ立てないと いけないのでApacheの導入法を覚えましょう。 次にCGIを組むのでPerlとCGIの基礎を 勉強をしましょう。個人的にはCGIを つかわずにPHPのほうがいいと思います。 道のりは果てしなく遠いようですが、 わからなくなったら質問しながら地道に がんばりましょう。
https://asahi-net.jp/service/hp/ Asahiネットではプロバイダ側で用意されたCGIしか使えません いっその事 プロバイダとは別にレンタルサーバーを借りたらどうでしょ？ http://www.sakura.ne.jp/rs/02.shtml 初年度：年間\2500 次年度より\1500/年
質問者さんがCGIのカスタマイズができるのなら みつけたとこでも十分だと思います（登録件数の上限） ただ、公開したくない（住所詳細、氏名等）ものは同列のデータベースに登録しない方がいいと思います。 内部（CGI）を知ってる人なら予想をつけて非公開の部分にアクセスする可能性もあると思いますから。
#1さんの回答で問題ないですが、Apacheはちょっと扱いが面倒なので、An HTTPd（http://www.st.rim.or.jp/~nakata/）をおすすめします。 使い方はこんな感じです。 １　Perlをダウンロードしてインストール。 ２　An HTTPdダウンロードして適当な場所に解凍。 ３　An HTTPdを起動して、「ドキュメントルート」に自分のPC内のホームページデータ保存場所を指定する。 ４　ブラウザから「http://localhost/３で指定したフォルダからCGIへのパス」にアクセス。 （トップページからCGIにリンクしているなら、http://localhost/からリンクを辿ればOK） ちなみに、KENTさんの「自宅マシンWWWサーバ計画」にもこれと同じことが書いてありますよ。 http://www.kent-web.com/www/index.html
結論から書きますと ディレクトリを削除するためのCGIを設置して、 実行させればうまくいくと思います(もしSuexecならこんなの不要) 以下 /home/tarou/public_html にcgiを置き /home/tarou/public_html/01/02 以下を削除したい場合のスクリプト例 #! /usr/local/bin/perl print "Content-type:text/html; charset=Shift_JIS\n\n"; print "<HTML><pre>\n"; $cd='./01'; # public_html から見た消去dirのある場所(そこに移動してから消去する) # 尚、事前に このディレクトリは707にしておく必要がある # 705などの場合 下の$rmdの中身は削除できるが $rmd自体を削除できない # suexecでは不要なCGIである $rmd= '02'; # 上記$cd内にある消去したいディレクトリ chdir $cd; #作業dirに移動する print "<h2>削除前のfile一覧</h2>\n"; print `ls -l`; print "<HR>\n"; print `rm -rf $rmd`;#実際の削除作業 print "<HR>\n"; print "<h2>削除後のfile一覧</h2>\n"; print `ls -l`; __END__ ###理由ですが #2さんのでほとんど当たりなんですけど CGIによって生成された(つまり所有者がnobodyやApacheの) ディレクトリが空っぽならいいのですけど、その中にさらに 自動生成されたファイルやディレクトリがあると削除出来ません >…名前が変えれるんなら、それはないかなあ？ いや、試したところ、上記の状態でも削除は出来ないけど名前の変更は出来ます Suexecの場合はCGIによって生成されたfileも所有者がユーザーになりますので こういった作業は不要なのです
http://www.taquino.net/cooltaq/vbcgi/ 質問者はVBでCGIをおこないたいのでしょうか 入出力に関係するところさえわかれば VBでのCGIは基本的にはいままでどおりにVBで プログラミングすればいいのです。
こんなとこでしょうか。 http://www.nmt.ne.jp/~mamiko/scripts/cafebbs/ind …
今日同じように掲示板の対策でプログラムを書き換えていました。掲示板はJoyful Noteではないのですが同様の処理が出来ると思います。 禁止文字ファイル利用 ---------------------------------- 書き込み時に本文の文字をチェック ↓ 書き込み処理を飛ばし、終了させる。 ※ポイント！ 書き込み処理後のメッセージを同じにしてあたかもメッセージが投稿されたかのようにする。 設定は以下の３箇所 ---------------------------------- １）掲示板CGIの設定 # 禁止文字ファイル指定 require './xxx.cgi'; ２）掲示板CGIの書き込み処理：　必要に応じて$FORM{'title'} タイトルなどもチェック。 # 本文チェック ～ 禁止文字と照合 (afterは終了時の表示。) $n = 0; while ($n <= $#ng) { $ng = "@ng[$n]"; if ($FORM{'msg'} =~ /$ng/i) { &after; } $n++; } ３）禁止文字ファイル：　必要に応じて文字を増やす。 xxx.cgi 内 #いやがらせ対策・禁止文字 @ng = ('報酬','暴力','盗撮'); おまけ afterの表示ではなくて他のページにジャンプさせたい場合は、&jumpとする。 # ディズニーへジャンプ sub jump { print "Location: http://www.tokyodisneyresort.co.jp/\n\n"; } 禁止文字内はアダルト用の単語やURLを入れるといいと思います。 お試し下さい。 参考URL：http://joho.boo.jp/memo/writer.cgi
メタ文字が含まれてるので文字化けしてます。 予約の間に \ を入れれば文字化けしなくなると思います 『御予約』を『御予\約』に変更
表示する画像を、背景と同じ画像にすれば、見えなくなりますよ。
以下のForm mailerっていうのはいいですよ。セキュリティーも結構配慮されていますし。 http://www.psl.ne.jp/perl/form_mailer5/ 参考URL：http://www.psl.ne.jp/perl/form_mailer5/
＞ただ、２チャンネル純正のとかは、無いのですか? う～ん・・・・似ているようなものはいくつかあるみたいですが、 純正と言われますと・・・・たぶん無いかと・・・・・
こんなんでどうでしょうか？ 管理者による検閲が可能です。 検閲後に掲載させることが出来るようです。 参考URL：http://www.rescue.ne.jp/cgi/imgbbs/
プロバイダによってはcgi-binから画像が参照できないところや cgiが使えないところもありますので どこにHPを設置してるのかも補足した方が回答がつきやすいと思います
思うに、maki_yoshinakaさんはその業者の記入してくるメールアドレスを書き込み不可にしたいとかそういうことだろうか？ ちょっとそのCGIをダウンロードしてきて自分なりに改造してみた。 ・システム設定に許可メールアドレスと禁止メールアドレスを設ける。 ・許可メールアドレスが設定されてる場合、その許可メールアドレスのいずれかを含むメールアドレスしか書き込みできない。 ・禁止メールアドレスが設定されてる場合、その禁止メールアドレスのいずれかを含むメールアドレスは書き込みできない。 というふうにしてみた。 具体的にはどうしたかっていうと ダウンロードしてきたFRIENDS BOARD-i Ver.2.40のf_board.cgiを以下のように修正。 ○223行目と224行目の間に以下を追加 # 2006/05/26追加 $SYSTEM[23] =~ s/,/\n/g; print <<"EOM"; □ 許可メールアドレス<BR> ※複数指定の場合は改行で区切ってください。<BR> <TEXTAREA rows="10" cols="30" name="SYSTEM23">$SYSTEM[23]</TEXTAREA><BR> EOM $SYSTEM[22] =~ s/,/\n/g; print <<"EOM"; □ 禁止メールアドレス<BR> ※複数指定の場合は改行で区切ってください。<BR> <TEXTAREA rows="10" cols="30" name="SYSTEM22">$SYSTEM[22]</TEXTAREA><BR> EOM # 2006/05/26追加 ○315行目と316行目の間に以下を追加 $FORM{'SYSTEM22'} =~ s/\r\n/,/g; $FORM{'SYSTEM22'} =~ s/\r|\n/,/g; $FORM{'SYSTEM23'} =~ s/\r\n/,/g; $FORM{'SYSTEM23'} =~ s/\r|\n/,/g; ○342行目と343行目の間に以下を追加 $FORM{'SYSTEM22'} $FORM{'SYSTEM23'} ○406行目と407行目の間に以下を追加 □ 許可メールアドレス<BR> $SYSTEM[23]<BR> □ 禁止メールアドレス<BR> $SYSTEM[22]<BR> ○1012行目と1013行目の間に以下を追加 @KYOKA = split(/,/,$SYSTEM[23]); if (@KYOKA ne "") { foreach (@KYOKA) { if (index($mail,$_) < '0') { &error("メールアドレス不正。処理を中断します。"); } } } @TABOO2 = split(/,/,$SYSTEM[22]); if (@TABOO2 ne "") { foreach (@TABOO2) { if (index($mail,$_) >= '0') { &error("メールアドレス不正。処理を中断します。"); } } 行数はダウンロードしてきた未改造のファイルの行数なので注意ね。
書籍などの参考情報ではありませんが、Perlで記述されたcgi型HTTP-proxyが存在します。 http://www.jmarshall.com/tools/cgiproxy/ ソースの難読化などはされていないはずなので（少なくとも以前はされていませんでした）、商用利用でないならば、参考にするか、もしくはそのまま利用してみては如何でしょうか。 参考URL：http://www.jmarshall.com/tools/cgiproxy/
管理はしていませんが、作ったことはあります（ほんのあそび程度）。 プロバイダ IPアドレス ホスト名 使っているOS ブラウザの種類、バージョン などが分かります。 常時接続になっていればIPアドレスとかホスト名は変わらないので、たとえ掲示板に書き込む名前が変わっていても、同じ人であることが分かります。
ここに関連のCGIがありますよ。 http://www.ex-e-rent.com/retated.html 参考URL：http://www.ex-e-rent.com/retated.html
最後に記述した規則表現では携帯以外のメール アドレスは通らないので、その前のものについてでしょうか。そうでないとしたら、それ以外の部分に何か誤りがあると思います。 > 送信元アドレスと入力アドレスが一致するcgiチェックの方法はありますでしょうか 環境変数の REMOTE_HOST を参照することによって可能ですが、HTML ファイルと CGI スクリプトの双方の全部を見ないと、上の点も含めて、こちらで解決することはできません。
参考URLはアクセス制御ができるcgiです。 自宅に設置する場合はいいのですが HPを設置するプロバイダによっては利用規約で特定の人だけを対象にしたwebページ作成を禁止してるところもありますので注意が必要です。 参考URL：http://www.kent-web.com/pwd/index.html
