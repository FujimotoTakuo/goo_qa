現在、とある表計算を作っているのですが、どうしても分からないことがあります。 【表】 　0 1 2 　1 2 4 　2 4 8 このような足し算をしていく表を作りたいと考えています。 （１＋１＝２、２＋２＝４、４＋４＝８･･といったように、答えの真上と左の数を足していく表。） 外枠は作り終えていているのですが、中味(上の表の場合、数字の2,4,4,8を表示するコード）をどのように記述するか困っております。if文を使ったらできるのでしょうか。
プログラム単語のsetageとかのageと他単体でageがあり、合計8か所あると思うのですが！ 最初からあるagと紛らわしかったので、統一したほうが分かり安いので変えたところ実行結 果は同じでした。・・・今回たまたま同じになったのか！それとも統一したらプログラム志 向的にヤバいのか！？がよくわかりません・・・ 　こういった場合統一しても問題はないのでしょうか？ 以下プログラムです。 　　よろしくお願いいたします。 ------------------------------------------------------------------------ <!DOCTYPE html> <html> <head> <title>P251 Sample8-3 メンバーを保護する</title> </head> <body> <?php $pr= new Person; $pr->setname("鈴木"); $pr->setage(56); ?> <table border="2"> <tr bgcolor="#AAAAAA"> <th>名前</th> <th>年齢</th> </tr> <?php echo "<tr><td>"; echo $pr->getname(); echo "</td><td>"; print $pr->getage(); print "</td></tr>"; ?> </table> <?php class Person { private $name ="姓名"; private $age =20; public function setname($nm) { $this->name = $nm; } public function setage($ag) { if($ag>=20 && $ag<=60){ $this->age = $ag; } else $thas->age = -1; } public function getname(){return $this->name;} public function getage(){return $this->age;} } ?> </body> </html>
　メルマガ登録とありますが・・登録方法を教えていただけないでしょうか？ 　よろしくお願いします。
任意のサイトのテキストボックスに値を自動で入力、submitさせるプログラムをphpで作りたいのですが、ソースコードの書き方がわかりません。初心者です。よろしくお願いします┏○┓
以下のコードを修正、表示したいと思っているのですが私には難解すぎて困っています。 現在PHPで作成したRSSを配信しているのですが、その中で、もともとあるコードを加工したいと思っています。 （例） ▼現 <img class="aa bb cc etc" src="https://hogehoeg.com/○○○.jpg" alt="○○○" width="○○○" height="○○○" />出典：https://△△△.com ↓ ▼改 <figure><img src="https://hogehoeg.com/○○○.jpg" alt="○○○" /><figcaption>出典：https://△△△.com</figcaption></figure> 上記現から改のように、imgタグのsrcとaltのみを残したまま<figure>内に入れ込み、かつ「出典」部分のテキストのみを<figcaption>内に入れ込むという正規表現、置き換え方法をご教示いただければ幸いです。 なお、出典直後の「：」は全角（：）と半角（:）の場合があります。 img直後は必ず「出典」文字列が付与されていますが改行タグやスペースが入っていることもあります。 何卒どうぞよろしくお願い致します。
以下のプログラムの中に public $name = "姓名"; public $age = 20; 　があります。なくても表示自体に影響はないのですが、何の目的であるのでしょうか！？ 以下問題のプログラムです。　よろしくお願いいたします -------------------------------------------------------------------------- <!DOCTYPE html> <html> <head> <title>P251 Sample8-2 複数のオプションを作成する</title> </head> <body> <?php #$は変数の宣言 $pr1 = new Person; $pr1->name = "鈴木"; $pr1->age = 56; $pr2 = new Person; $pr2->name = "佐藤"; $pr2->age = 38; ?> <table border="2"> <tr bgcolor="#AAAAAA"> <th>名前</th> <th>年齢</th> </tr> <?php print "<tr><td>";#特に<tr>がなくてもOK print $pr1->getnam(); print "</td><td>";#特に</td>がなくてもOKでした。 print $pr1->getage(); print "</td></tr>";#特になくても表の２行目表自体は影響はなかった。 print "<tr><td>"; print $pr2->getnam(); print "</td><td>"; print $pr2->getage(); print "</td></tr>"; ?> </table> <?php class Person { public $name = "姓名"; public $age = 20; function getnam(){return $this->name;} function getage(){return$this->age;} } ?> </body> </html>
すみません、初歩的な内容なのですがうまく理解できずアドバイス願います。 PHPでechoやprintで表示する際に、””や''が混在している場合にはどのように表示させればよいでしょうか？具体的にはWP上でリンク画像を表示させたいです。 例えば… <a href="<?php the_permalink(); ?>"><img src="<?php bloginfo('stylesheet_directory'); ?>/images/hoge.png" /></a> 当たり前かと思いますが、そのまま echo <a href="<?php the_permalink(); ?>"><img src="<?php bloginfo('stylesheet_directory'); ?>/images/img_077.png" /></a>; とか書くとエラーになってしまいます。 すみません、アドバイスお願いいたします。><
以下ですが、 「#表定義し外枠サイズ2を定義 」のみですが！ 　#でコメントアウトしてしていますがクロムブラウザでは表示されます。 　他の＃は表示されません・・ちなみに//も同じ結果でした。 　よろしくお願いいたします。 <!DOCTYPE html> <html> <head> <title>P251 Sample8-2 複数のオプションを作成する</title> </head> <body> <?php #$は変数の宣言 $pr1 = new Person; $pr1->name = "鈴木"; $pr1->age = 56; $pr2 = new Person; $pr2->name = "佐藤"; $pr2->age = 38; ?> <table border="2">#表を定義し外枠サイズ2を定義 <tr bgcolor="#AAAAAA"> <th>名前</th> <th>年齢</th> </tr> <?php print "<tr><td>"; print $pr1->getnam(); print "</td><td>"; print $pr1->getage(); print "</td></tr>"; print "<tr><td>"; print $pr2->getnam(); print "</td><td>"; print $pr2->getage(); print "</td></tr>"; ?> </table> <?php class Person#クラス名 { public $name = "姓名"; public $age = 20; function getnam(){return $this->name;} function getage(){return$this->age;} } ?> </body> </html>
調べてみるのですが、情報が全く見つからず、お知恵をお借りできないでしょうか…。 現在、「Advanced Custom Fields」というWPのカスタム投稿プラグインを利用しています。 このプラグインより生成した、ラジオボタンやチェック項目によって、javascriptにて条件の処理を行おうと考えています。 しかしながら、javascript自体をどこに記述すればよいものか、プラグイン内も色々と調べてみるのですが、さっぱり分かりません…。 プラグインの機能にPHPで出力するものがあるのですが、とても独特の出力内容なのですが、このPHPに直接記述を行い、functions.phpに貼り付けるのでしょうか？ その場合、どのように記述したらよいか、これまた分からず…。 何か決まった書き方や、PHP側の記述のルールがあるのでしょうか？ どなたか、お詳しい方、またご経験された方いらっしゃいましたら、何卒アドバイスを頂けないでしょうか。とても困っております。 何卒、よろしくお願いいたします。
ワードプレスで構築したサイトで、PC（モバイル以外）からのアクセス時のみ、ページ全体の表示倍率を75%にしたいと考えています。 そこで、以下のようにwp_is_mobileの機能をfunctions.phpに追記したのですが、 syntaxエラーが起き、原因として、上記のwp_is_mobileの行に問題があると表示されました。 <?php if( wp_is_mobile() ) { // } else { // <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=0.75, maximum-scale=1" /> } ?> おそらく書き方に問題があるとお思うのですが… どなたかご指摘をいただけませんでしょうか？ よろしくお願いいたします。
プログラミングPHP 第3版は、具体的にどのような方に進めるべき書籍なのでしょうか。 初級者であったり、上級者であったり、あるいは復学するためのものであったり、どのような書籍なのでしょうか。
< 項目名 > 内容 を、<tr><th>項目名</th><td>内容</td></tr> へ変換したい。 --------------------------------- 例えばですが、フォームにて < 項目名1 > 内容1 < 項目名2 > 内容2 < 項目名3 > 内容3 と入力すると、 PHPで下記のように表示するにはどうすれば良いでしょうか？ --------------------------------- <table> <tr><th>項目名1</th><td>内容1</td></tr> <tr><th>項目名2</th><td>内容2</td></tr> <tr><th>項目名3</th><td>内容3</td></tr> </table> ※項目名の数は、0～不定
下記のプログラムで絞り込み検索をした後、結果画面でも 1.タグと 2.検索テキスト文字が表示されるようにしたいのですが、どのような記述を加えればいいのでしょうか。phpの基礎がわかっていないので、結論だけで結構です。1か2の片方だけでもかまいません。よろしくお願いいたします。 <form method="get" action="<?php bloginfo( 'url' ); ?>"> <p>絞り込み検索</p> <?php wp_dropdown_categories('depth=0&orderby=name&hide_empty=1&show_option_all=カテゴリー選択'); ?> <?php $tags = get_tags(); if ( $tags ) : ?> <select name='tag' id='tag'> <option value="" selected="selected">タグ選択</option> <?php foreach ( $tags as $tag ): ?> <option value="<?php echo esc_html( $tag->slug); ?>"><?php echo esc_html( $tag->name ); ?></option> <?php endforeach; ?> </select> <?php endif; ?> <input name="s" id="s" type="text" /> <input id="submit" type="submit" value="検索" /> </form>
皆様初めまして。基本的な質問で申し訳ないのですがwordpress codexを読んでもいまいちファイル構造が理解出来ないため皆様のお力を借りれればと思いました。 私は現在wordpress（テーマはtwentysixteen）を使用しホームページを作成中です。 ですが新規追加した固定ページを管理画面ではなくhome.phpやhome.htmlのようなファイルを直接編集したいのですがファイルをどこから読み込んでいるのかがわからず、ファイルの場所が分からなくて困っています 質問としては 質問１ 管理画面で固定ページを新規作成するとファイルも新規作成できるのか？ （仮にタイトルをwordpress1とwordpress2とするとwp-contentの中にwordpress1.phpとwordpress2.phpというファイルができあがるのか？) 質問２ もし出来上がるのならそのパス構成 例）wp-content/themes/twntysixteen/index.php 申し訳ありませんが教えていただけますでしょうか？
phpの質問です。 私はphpにあまり詳しくないのですが、、 やりたいことは、html上に出力された金額の数字に足して 3桁でカンマを付けたいのです。 例：1000　→　1,000 プログラムをみるとphpでヒアドキュメント内にある項目に対して 3桁でカンマを付けるのだろうと思い 調べたところ　php関数で　number_formatがあるのはわかったのですが、 ヒアドキュメント内のためか、実行しても文字すら表示されません。。 例： $html .= <<<EOT <div class="price" style="color:#565656;text-align:left;font-weight:bold;"> {$res['name']} {$res['price']}円 </div> </div> EOT; 他の方法でもいいので、カンマを付けるような方法はありませんでしょうか？ よろしくお願いします。
あるシステムを引き継いで自前のサーバーで運用しているのですが、あるプログラムでメモリの使用量が非常に多い箇所が見つかりました。 　既存のシステムでプログラム修正を行う時間等がないため、サーバーのメモリ容量を引き上げることになったのですが、その際PHPのmemory_limitも引き上げる予定です。 　そこで質問なのですがPHPのmemory_limitの引き上げに伴う副作用というのはあるのでしょうか？教えていただければ幸いです。 　またメモリが8G搭載のサーバに対してどこまでPHPのmemory_limitを設定してもよいでしょうか。例えばmemory_limitを８Gに設定したり、無制限に設定しても問題はないのでしょうか？ご教授いただければ幸いです。 ※PHPのmemory_limitの値が小さいほうが良いのは重々承知していますが、当方ものっぴきならない状況なのでご理解ください。
独学で始めたphpでつまづいて困っています。 phpで配列に入れた値をキーを数字で直接取ることは出来るのですが、変数で取ると意味不明な値が入ってきて困っています。 教えて頂けると助かります。よろしくお願いします。 print_r($ary['header']['h']); Array ( [0] => 組織1, [1] => 2, [2] => 3, [3] => 組織名, [4] => 倉庫C, [5] => サブC, [6] => 倉庫名, [7] => 売上金額,n [8] => 消費税,n [9] => 粗利額,n ) print $ary['header']['h'][9] とすると 粗利額,n が返ります。 この状態で、下記のようなループで配列を取り出すとき、 $cnt=odbc_num_fields($rst); for ($i=1; $i<=$cnt; $i++) { $val = odbc_result($rst,$i); print $i."-->".$ary['header']['h'][$i]; print "<br>"; (中略) } 0-->組織1, 1-->2, 2-->3, 3-->組織名, 4-->倉庫C, 5-->サブC, 6-->倉庫名, 7-->売上金額,n 8-->消費税,n 9-->4307131 のように、なってしまいます。 キーの指定の仕方がおかしいのでしょうか？
今利用しているサーバー(Leo Server)では、php.iniの編集が直接できないようで、そのかわり、 .htaccess ファイルを作成し、「php_value、php_flag」を使用することにより php.iniの設定を変更することが可能というような記述がありました。 php.iniの中にある　extension=php_intl.dll　を有効にして拡張したいのですが、上記の手法により、可能なのでしょうか? 可能だとしたらどのようにやるのか教えてください。よろしくお願いします。
PHP初心者ですが、古いプログラムのコード解析をしています。 その中でいまいち理解できないコードがありましたので、今回質問させて頂きます。 ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー① function update_set(){ var chkFDel; if(document.getElementById("chkFDel")){ chkFDel = document.getElementById("chkFDel").checked; if(chkFDel){ document.getElementById("chkFDel").value = "1"; }else{ document.getElementById("chkFDel").value = "0"; } }else { document.getElementById("chkFDel").value = "2"; } document.getElementById("f01").submit(); ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー② if(trim($m_filePath)==""){ 　　print("<INPUT type="file" id=\"filePath" name="filePath">"); }else{ 　　print("<INPUT READONLY type="text" id="fileDel" name="fileDel" value="".$m_filePath">"); 　　print("<INPUT type="checkbox" id="chkFDel" name="chkFDel" value=\"削除\">削除"); } ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー ↑一部抜粋したものですが、 初心者の私から見るとたぶんチェックボックスが表示されてない場合に ("chkFDel").value = "2"を行うのではないかと思いますが、どうなのでしょうか？ 詳しい方、ご教示の程よろしくお願い致します。
ｐｈｐプログラムでsqlを使いサーバに画像を上げるコードを作成しています。 が、DBにリンクパスは登録されるも肝心の画像が保存されず表示できませんでした。 下のコードでずっといろいろいじってきましたが問題点や改善点はありますでしょうか？ 初心者なので内容もあやふやかもしれませんがご教示お願い致します。 for ($i=1; $i<=5; $i++){ if(is_uploaded_file($_FILES["photoPath".$i]["tmp_name"])){ var_dump(is_array($_FILES["photoPath".$i]["tmp_name"])); //写真ファイルアップロード？ $updir = $path.$_FILES["photoPath".$i]["name"]; $filename = mb_convert_encoding($updir, "SJIS", "AUTO"); var_dump(is_array($_FILES["photoPath".$i]["tmp_name"])); if(move_uploaded_file($_FILES["photoPath".$i]["tmp_name"],$filename) == FALSE){ echo "Upload failed"; echo $_FILES["photoPath".$i]["error"]; } } }
ブラウザでサーバーにあるExcelファイルをURLを指定してダウンロードするとファイルが開けない（エラーもでない）が、同じファイルをFTPでダウンロードするとファイルが開けます。 何が原因なのでしょうか？？ あまり関係ないかもしれませんが、Excelは2010で、オプション設定で 「Dynamic Data Exchange (DDE) を使用する他のアプリケーションを無視する」をOFF にしています。 ブラウザは、chromeとIE11です。 以前はブラウザからのダウンロードでも開けていましたが、最近開けなくなりました。 他のPCでも同様の事象なので、Excelの関連ファイルるが壊れたとも考えにくいです。 恐れ入りますがご教授お願いいたします。
①削除ボタンを押したら「ほんとによろしいですか？」というメッセージボックスの表示の仕方 ②ログイン画面でログインを無視してURLで直接メニューにとんだとき、ログインをしていないため強制的にログイン画面に戻す方法 サンプルなどがあるとわかりやすいと思います。 よろしくおねがいします
以下のサイトのURLは連番になっています。この５つの各ページ中の各商品名を、１ページずつ取得するのでは無く、一括で取得する事は出来ますか？ ゴリラはいつもオーバーオール http://honto.jp/netstore/pd-book_27774441.html タックスヘイヴン http://honto.jp/netstore/pd-book_27774442.html 去年の冬、きみと別れ http://honto.jp/netstore/pd-book_27774443.html 偽りの森 http://honto.jp/netstore/pd-book_27774444.html 心がほどける小さな旅 http://honto.jp/netstore/pd-book_27774445.html
取得したい情報が２つのページにばらけている時、２つのレンタルサーバを用いて、各ページで必要な情報を取得し、最後に同一の情報であるURLで２つのページを関連付けて、２つのページの情報をまとめて出力する事は出来ますか？ 例えば、タックスヘイヴン （幻冬舎文庫）という商品で、一覧ページと詳細ページで必要な情報を取得し、最後に同一の情報であるURL http://honto.jp/netstore/pd-book_27774442.html で２つのページを関連付けてまとめて出力するという事です。 一覧ページ http://honto.jp/netstore/search_10%E3%82%BF%E3%8 … 詳細ページ http://honto.jp/netstore/pd-book_27774442.html
phpの関数である、引数を16進数に変換するbin2hexと、asciiコードに変換するordの英単語としての意味とプログラムとしてbin、2、hex、ordの英単語が使われることに 何かつながりはありますか。いずれの単語も意味や訳が記載されている辞書サイトで調べてみましたがいまいちピンと来ませんでした。
クラスを利用するのプログラムで質問があります。 ----------------------------------------------------------------------------------- <body> <?php $pr = new Person;//②オブジェクトを作成します $pr->name = "鈴木";③//メンバ変数に値を代入します $pr->age = 56;//③メンバ変数に値を代入します ?> <table border="2"> <tr bgcolor="#AAAAAA"> <th>名前</th> <th>年齢</th> </tr> <?php print "<tr><td>"; print $pr->getname();//③メソッドを呼び出す print "</td><td>"; print $pr->getage();//③メソッドを呼び出す print "</td></tr>"; ?> </table> <?php class Person//①クラスを定義です { public $name = "姓名"; public $age = 20;//メンバ変数を定義します function getname(){return $this->name;}//以下２行はメソッドを定義します function getage(){return $this->age;}//$自分自身のメンバ変数を利用する場合は$this->を付けます } ?> </body> ------------------------------------------------------------------------------------ 「画像を添付」は以上のプログラムの実行画面ですが！ public $name = "姓名"; public $age = 20; がなくても実行結果に影響はありません何の目的あるのでしょうか・・・ 　よろしくお願いいたします。
phpバージョンアップで、文字化けが発生サーバーからphpファイルをダウンロードして、検証し、改善は見られなかったので、追加した文字を削除してサーバーへ戻したのですが下記エラーが表示されるようになりました。 Warning: require_once(DBConnect.class): failed to open stream: No such file or directory in /home/vuser10/1/8/0089181/ホームページアドレス/search/member.php on line 6 Fatal error: require_once(): Failed opening required 'DBConnect.class' (include_path='.:/usr/local/php56/lib/php') in /home/vuser10/1/8/0089181/ホームページアドレス/search/member.php on line 6 サーバー内の「search」フォルダーに「member.php」は存在するのですが、原因がわかりません。
初めて質問させて頂きます。 現在apache2.0 pho5.1.6で運用しているのですが データを<br>を含めて文字列でＤＢで管理しています。 現在はそのデータをphpでhtmlに書き出して問題なくブラウザで改行されて表示されています。 php5.3.3にバージョンを上げるとブラウザで改行でなく文字列で表示されます。 ソース、データは同じで環境のみ違います。 Php.iniもためしに5.1と同じものをいれましたが 結果は変わりませんでした。 OSもバージョンが上がりREDHAT5.6からREDHAT6.6にしています。 回避は改行コードを変換するだけで簡単なのですが 原因がわからないまま逃げるのは他の影響も判断できないのではっきりさせたくて悩んでいます。 バージョンアップなどで同様の経験をされた方がいました情報をいただければと思います。 よろしくお願いいたします。
NetBeansでPHPの練習をしたいと思いますが、利用する場合は、NetBeans以外にも　Apache サーバー、PHP エンジン、MySQLをあらかじめインストールしておく必要があるのでしょうか? なのでNetBeansをインストールしただけでだめなのでしょうか?
PHP スクリプトを修正していて、コメント行を１行入れただけで、 Warning: Cannot modify header information - headers already sent by (output started at mylist.php:96) in mylist.php on line 125 というエラーが出るようになり、困っています。 既出の問題だとは思いますが、ヒントでも頂ければと思い投稿しました。 直接の関係は無いと思いますが、コメント行は、先頭に以下のように入れています。 <!-- ################################################## ID : mylist.php Update : (中略) Update : 2016/07/05 *********** Upda →　これ以上の文字を入れると、Warningになる。 ################################################## --> 既出の質問やネット上の記事で調べてみると、HTTP ヘッダーを変更する関数の呼び出しより前に、すでに何かがアウトプットされているために発生するという情報があるのですが、該当する部分がどうしても見当たりません。 ちなみに、 (output started at mylist.php:96)　にある96行目には、 94: </head> 95: <body oncontextmenu='return false'> 96: <?php in mylist.php on line 125 にある125行目には、 124:// 呼び出し元をCookieに保存 125:setcookie('THISFORM',basename(__FILE__),0,'/'); 126:(改行) <body>タグから、125行目までsetcookieまで、printとかechoとかの命令はありません。 余分な空白行を削ってみましたが、結果は同じでした。 php5.4 Windows2008R2上で動作しています。 また、あまりよろしくないと思いつつ、ソースコードはsjisで書いています。 <?php ob_start(); ?> を先頭に入れて、取りあえずは解決したのですが、原因がはっきりしないので気色悪いです。
データベースハンドルという単語についてネットで調べてみると、私と同じような考えをもった方が質問されているサイトを見つけました。そこには。車の操舵などを行う部位と同じ意味だ、と記述してありました。 車のハンドルは、この社会に生きていれば右に回すと車が右に曲がり、左に回せば左に曲がるということ、ということは常識ですが、データベースハンドルが車のハンドルと同じと言われても 全くピンと来ません。そもそもデータベースに車のハンドルはありませんので、ハンドルと言われても中々想像するのが難しいです。車のハンドルに例えられる何かだと思うのですが、いったいデータベースハンドルとは、何なのでしょうか。 http://www.phppro.jp/qa/944
色々調べてみたのですが、今ひとつ理解できず 組み合わせてみてもエラーになってしまいます。 半角英数字と全角カナ　かどうかを判定する正規表現はどう書くのでしょう？ 宜しくお願い致します。
毎度お世話になっております。 　以下プログラムですが・・・ 　「２乗した値を返す関数square($x)を作成し、整数の２乗を出力するコードですが」 　プログラムの結果かは 　「５の２乗は２５です。」と表示されます。 以下のプログラムの流れですが 　１）最初の２行の変数を元に流れて行くと 　２）5行目の{$num}は「５」と表示 ※３) 5行目の{$ans}の流れがいまいちわかりません！？ 　 よろしくお願いいたします。 ---------------------------------------------------------------------------- <body> <?php $num = 5; $ans = square($num); print "{$num}の2乗は{$ans}です。<br/>\n"; function square($x) { return $x * $x; } ?>
PHPの勉強会で、dreamweaverで趣味でPHP開発している人に出会いました。やたら便利だからと進められるのですけど、実際私自身使った経験はありません。調べて見るといろいろ機能があり、便利なのは分かります。プロの開発の現場でdreamweaverを使って開発しているような会社はあるのでしょうか?
お世話になります。 毎分テキストや背景画像などの内容が変わるwebサイトを作りたいと思っています。60分×24時間＝1440の条件分岐をするのではなく、PHP等を使ってもっと効率のよいやり方があれば、ソースのサンプルも含めてご教示いただけると幸いです。 どうぞよろしくお願いします。
いちからMVCの概念でWEBサイトを構築し管理する場合、いろいろやりかたはあると思われますが、もっとも参考になる書籍やサイトはありますでしょうか?　 書籍に関しては、私はこれまで、見てきものでは、単にクラスの使い方の説明のみにとどまり、MVCでいちからWEBサイトをつくる場合の構造に関しては書かれていません。Amazonの場合は、立ち読みができないので、中身がわからないですし、もしおすすめがあれば購入したいと思いますので教えてください。 私が唯一MVCの解説で今参考にしているサイトは　http://www.objective-php.net　こちらのサイトの説明によると、index.phpより、URLからのコントローラーのクラス名とそのメソッド名と同一名のパラメータを受け取り、そのクラスをindex.phpで実行して処理するというやり方です。今のところ、このサイトだけ参考にしているのですけど、こういう index.phpで集中的に処理するやり方は、主流なのでしょうか? 私はこれだけしかしらないので、私はなんともいえませんが、まだいろいろ効率のよいMVCでの管理のやり方がありましたら概要だけでも教えてください。又は書籍やURLを教えてください。よろしくお願いします。 今回はフレームワークの使用については触れていません　あくまでいちからMVCでWEBサイトを管理する場合についてです。
記述書では、効率的にクラスで管理できるMVCという概念が述べられていますが、プロの方はどのように使い分けしているのでしょうか? 用途に合わせてということになってくると、どういった場合がMVCで管理するほうがよいのでしょうか?　また、他にも、MVCではなく単にクラスで管理するという場合や、クラスは一切つかわない場合の3つについてお聞きしたいです。 今の私の理解では、 ◆MVCでの管理する。 　　　大規模なサイト(業務システム、SNSなど) ◆MVCではないがクラスを利用する。 　　　ロジックとビューを分けたいサイトを作る場合。　　　 ◆クラスは一切使わない。 　　　…　webページの一部にお問い合わせフォームや一部の機能を追加する場合。 のように理解しています。プロとして実務でやられている方も このような考えなのでしょうか? おそらくツッコみどころがいっぱいあるかと思いますが、いろいろ指定いただけるとありがたいかぎりです。
初心者です。あるカラムから複数のレコードの値を取り出すにはどのように書けばよいかどなたか教えていただけますでしょうか。 下記のコードではcalendartblというテーブルから1レコードのみ取り出せます。 テーブル：calendartbl holiday(カラム名) 2016/9/12（レコード1行目） 2016/9/14（レコード2行目） 2016/9/20（レコード3行目） 2016/9/26（レコード4行目） 2016/9/28（レコード5行目） コード： $sql = "SELECT calendartbl.holiday FROM calendartbl"; $ret = f_db_select($sql); foreach ($ret as $h){ $holiday = $h['holiday']; } 結果＝2016/9/12 では複数のレコード、つまり「2016/9/12、2016/9/14、2016/9/20、2016/9/26、2016/9/28」を取り出して、上記の$holidayに代入させるにはどのように書けばよいでしょうか。 どなたか教えて頂けたら幸いです。 よろしくお願い致します。
初心者です。下記for文を書いてみたのですが、当月は出来て翌月のはできませんでした。 どなたか教えて頂けますでしょうか。 $tsuki = '月'; for($i = 0; $i < 3; $i++){ $m = date("n",mktime(0,0,0,date("m")+$i,1,date("Y"))); $list .= <<<EOF <h2>$m$tsuki</h2> <table> <tr> <td>日</td> <td>月</td> <td>火</td> <td>水</td> <td>木</td> <td>金</td> <td>土</td> </tr> <tr> EOF; print $list; <!--下略：日の処理-->
PHPでは多くの標準で備わっている関数がありますが、もしかしたら、これらの関数は、どこかのフォルダにあるファイルで定義されているのでしょうか? 私の場合は、Xamppを使っていますが、探したのですが、よく分かりませんでした。
http://homepage3.nifty.com/mtaiyo/Sample7-ren-1. … 　上記のアドレスのリンク先にあります、PHP　プログラムで質問します。 else 　 return $y; 　ですが・・参考書にはありますが、特になくても実 　　行結果は同じでした。・・？ 　　特に不要で、蛇足ではないでしょうか? 　よろしくお願いいたします。
php mysqlで作ったデータを テーブルtestにて、id=>1, id=>2、id=>3と登録してまして、それを google chart 縦棒グラフを使用してid=>1, id=>2、id=>3でそれぞれに一つのグラフで表示したいですが最新データid=>3しか表示されませんでした。 テーブルが別々ならそれぞれで縦棒には表示できますが一つのテーブルにあるいくつかのデータをそれぞれに縦棒グラフで表示できますでしょうか？ ソースコードは下記です、 <?php $query = "SELECT * FROM test"; $all = mysqli_query($con, $query); while($row = mysqli_fetch_assoc($all)){ $test_date = $row['test_date']; $test_sales = $row['test_sales']; ?> <script type="text/javascript" src="https://www.google.com/jsapi"></script> <script type="text/javascript"> google.load("visualization", "1", {packages:["corechart"]}); google.setOnLoadCallback( function() { var data = google.visualization.arrayToDataTable([ ['', '売上高'], <?php $elements = [$test_date]; $element_data = [test_sales]; for($i=0;$i<3; $i++){ echo "['{$elements[$i]}'" . "," . "{$element_data[$i]}],"; } ?> ]); var options = { title: '売上高(百万円)', hAxis: {title: ''}, colors: ['#FF6666'] }; var chart = new google.visualization.ColumnChart(document.getElementById('gct_sample_column')); chart.draw(data, options); } ); </script><div id="gct_sample_column" style="width:100%; height:auto" ></div> <?php } ?>
$number = array(1,2,3,4,5,6,4,8,9,10,11,12,13,14,15); このようにarray()の中に1から連続した数字があるときに、もっと効率のよい書き方はありますでしょうか?　よろしくお願いします。　(上記は、15まで連続していますが、これが仮に、100とか1000まで連続させて配列にいれようとすると、とても長くなるとなと思ったもので…)
質問させていただきます。 PHPの勉強を始めたばかりで、環境変数の設定のところで躓いています。ネットで調べてみると（http://www.phpbook.jp/install/install/index3.html）さいごにc:¥php;を追加すればいいと書いてあるのですが、複数の環境変数が出てきて、どれに追加すればいいのかわかりません。 使用OSはwindows１０です よろしくおねがいします。
ワードプレスに設置します。phpもワードプレスも初心者です。 やりたいことは いつもは 月から土曜日の１時から２３時の時間だけ表示しています。 そこに 「臨時に日時を指定してその期間は非表示にしたい。」 ということです。 臨時の日時をｐｈｐを描いてみたのですが表示されなくて；どなたか教えてください。。 下記はいろいろ間違ってるとか無意味だよという部分もあるかと思います、すみません。 <?php $today = date_i18n("w"); $time = date_i18n("Y-m-d H:i:s"); if(in_array($today,range(1,6)) and in_array(date_i18n('H'),array_merge(range(1,23))) and !($time() >= ("2016-06-09 00:00:00") && $time() < ("2016-06-12 13:30:00"))): ?> 月から土曜日の　１時から２３時の時間だけ表示されます。 2016-06-09 00:00:00　から　2016-06-12 13:30:00　までは非表示です。 <?php endif; ?> よろしくお願いします。
1つのformの中で1つ目のactionではデータベースから検索して結果を別画面に表示させる。 ２つ目のactionはその選択肢をメールで送りたいのです。 どうしたらまとめられるのでしょう？？ 結果が表示されて、メールで選択肢を送ったのが検索した人にはわからないようにしたいのです。 たすけて～ 以下は１つ目のactionです。この中に２つ目のaction（メールで送信）を組み込みたいのです。 <form name="search_form" action="http://○○/●●php" method="post" target="_blank" onSubmit="return check()"> <p>　 <select name="volume" required> <option value="">大きさ</option> <option <?php if( $_REQUEST["vol"] == "大" ){ print( "selected" ); } ?>大 </option> <option <?php if( $_REQUEST["vol"] == "中" ){ print( "selected" ); } ?>中 </option> <option <?php if( $_REQUEST["vol"] == "小" ){ print( "selected" ); } ?>小 </option> </select> <br> </p> <p> <select name="color" required> <option value="">色</option> <option <?php if( $_REQUEST["color"] == "1h以上" ){ print( "selected" ); } ?>ピンク </option> <option <?php if( $_REQUEST["color"] == "1h未満" ){ print( "selected" ); } ?>白 </option> </select> </p> <p> <input type="submit" name="button" id="button" value="検索"> </p> </form> お願いしますっ
レンタルサーバーのCron設定についてですが、Hellow World! とメッセージを送るphpファイルをつくり、１時間おきに送信するように設定しました。ただひとつだけ問題がありまして、cronの設定だけで、phpファイルを実行したいのですが、そのphpファイルに直接アクセスしただけでもメール送信が実行されてしまうので、phpファイルをcron設定からの命令だけのみで実行されるようなことは可能でしょうか? ファイル構成としては public_html/ + test.sh　　←mail.phpを実行するためのシェルスクリプト + mail.php　　← hello world とメッセージを送信するプログラム ※test.shの中に、php mail.php と書き加えて、レンタルサーバーのCron設定より、 0 */1 * * * /home/testsever/public_html/test.sh と指定して実行しています。 ただ、公開した www.testsever.com/mail.php に直接アクセスしても、プログラムが実行されるので困っています。
Cronの使い方について、はじめて使うのですが、 時間を設定して、その時間に実行してくれるCronというものを知りました。そこで、使い方を知りたいので、レンタルサーバーで試しています。Hellow World!! というメッセージを送信するプログラム(public_html/ に mail.php )を書きました。そして、これを一時間おきに自分のメールアドレスに送信するようにCronの設定をしたいと考えています。 Cronの設定は、レンタルサーバー側の管理画面より設定が可能で、Cronの実行の結果を知らせるメールアドレスの設定(自分のアドレスを設定)と、Cronの命令の設定の2つがあり、命令には、 0 */1 * * * 　/home/--[自分のFTP user アカウント]--/public_html/mail.php と設定しました。 ただうまく実行できていないようで、Cronの実行結果を設定したメールアドレスで受け取っていますが、どうやらうまくいっていないようで、下記のようなメッセージが実行結果としてかえってきます。 /home/--[自分のFTP user アカウント]--/public_html/mail.php: line 1: ?php : No such file or directory /home/--[自分のFTP user アカウント]--/public_html/mail.php: line 2: : command not found (↑　mail.phpに書いた行数分だけエラーのlineが返ってきます。) command not found とかでてくるので、Cron設定とは、phpファイルを指定するものではないのですか?　このあたりがよく分からないので、教えてください。宜しく願いします。 補足 (メール送信の命令を書いたphpファイル)　直接ファイルにアクセスすると、実行されて、自分のメールアドレスにメールがくるので、こちらは大丈夫だと思います。 public_html/mail.php <?php $mailTo = 'test01@gweb.com'; $returnMail = 'test02@gweb.com'; $name = "【TEST】"; $mail = 'test02@gweb.com'; $subject = "【TEST】"; $body = <<< EOM Hello World! EOM; mb_language('ja'); mb_internal_encoding('UTF-8'); $header = 'From: ' . mb_encode_mimeheader($name). ' <' . $mail. '>'; mb_send_mail($mailTo, $subject, $body, $header, '-f'. $returnMail); ?>
質問させて頂きます。 つい先週から、PHPの勉強を独学で始め、一番最初のプログラムを書いたのですが、コンパイルエラーが起きます。エラーメッセージは "php" is not recognized as an internal or external command, operable program or bach files. です。 何が問題なのでしょうか？ よろしくおねがいします。
例えば、PHPとMysqlを使用した掲示板システムを納品した際、納品先のサーバーのみで動作するようにすることは可能でしょうか？ 要は、phpのプログラムを他のサーバーへコピーして使われる事を防ぐ方法がるのかなと考えておりました。
こんにちは。 以下の様なコードを書いています。 本来処理するロジックの前に色々なチェックをして全部OKなら目的の処理をする、 と言うコードのつもりなのですが、例外を複数発生させスタックするようなこの書き方は、 良い書き方ですか？「良い」と言うのは、バグの発生を抑えつつ、拡張性、保守性に優れ、 他人にも読みやすいという意味です。 class Foo { private $exception; public function __construct() { try{ $this->__init_check(); if($this->exception){ throw $this->exception; } }catch(Exception $e){ die(implode("<br />\n", $this->__exceptionToArray($e))); } 目的の処理・・・ } private function __stackException($message, Exception $previous = null) { return new Exception($message, 0, $previous); } private function __exceptionToArray(Exception $e) { do { $errors[] = $e->getMessage(); } while ($e = $e->getPrevious()); return array_reverse($errors); } private function __init_check() { if(is_writable('/foo') === false){ $this->exception = $this->__stackException( 'xxxに書き込み権限がない', $this->exception); } if(あのチェック){ $this->exception = $this->__stackException('あのチェックおかしい', $this->exception); } if(このチェック){ $this->exception = $this->__stackException('このチェックおかしい', $this->exception); } などなど。。。 } }
関数を使って、 外部サイトより取得した値のカンマと円を取り除いていますが、その中で、わからないことがありますので質問します。下記のコードは、Simple HTML Domを利用して、たからくじ発表サイトより(ロト6)の結果を取得したものです。取得したものをそれぞれ変数$info[ ]に入れて、それらを関数に入れて、カンマと円を取り除いています。下記のコードでは、$info[20]に入っているものを表示しています。 【コード】 <?php function val($str){ if(!preg_match("/^[0-9]+$/",$str)){ $str =intval(preg_replace('/[^0-9]+/', '', $str)); } $str = intval($str); return $str; } require_once('simple_html_dom.php'); $html = file_get_html( 'http://www.mizuhobank.co.jp/takarakuji/loto/loto … ); $number = $html->find( '.typeTK th')[1]; for($i = 0; $i < 21; $i++){ //配列に格納 $info[$i] = $html->find( '.typeTK td')[$i]; } echo $info[20]."<br>";　　　　//取得した値。254,791,972円 と表示 echo val($info[20])."<br>";　 // 2147483647　と表示される ??? なぜ $test = '254,791,972円';　　　 //関数のテストの為 $info[20]と同等の値を$testに入れます。 echo $test."<br>";　　　　　　//254,791,972円 と表示 echo val($test)."<br>";　　　 //関数はしっかり機能しています。254791972 と表示 ?> 例えば、$info[20]で 取得した値は　echoで　254,791,972円　と表示されるので、これに関数を適用して、val($info[20])　とすると、表示値が、2147483647　本来なら、254791972　とカンマと円が抜けた値が表示されるはずなのですが。 そこで、関数val()に問題があるのかと思ったので、テストとして、 同等の値を　$test = '254,791,972円';　作り、同様に表示を確認してみました。こちらは、しっかりと、カンマと円が抜けた値が表示されるので、関数には問題ないことが分かりました。 従って、どこが悪いのかがわかないので、アドバイスください。よろしくお願いします。
<?php $test1 = 'test01'; $test2 = 'テスト02'; $test3 = '実験03'; if( $handle = fopen( 'test.csv', 'a' ) ){ fputcsv( $handle, Array($test1,$test2,$test3) ); } fclose($handle); ?> ↑のように csvファイルに変数にいれた文字列を挿入しています。このままでは日本語が文字化けします。日本語が文字化けする対処法をおしえてください。よろしくお願いします。
<?php $str= '第1076回'; preg_match_all("/[0-9]+/",$number,$match); foreach($match[0] as $number) print $number; ?> ↑のようなコードで、preg_match_all関数を使って、数値だけをprintしたいのですが、 出力結果は、 67771076 と出てきます。　この1076はまだしも、6777って何なんだろう見たいなことになっています。もし分かりましたら教えてください。よろしくお願いします。
以下のプログラムで質問します。※画像添付がありますので参考にされてください。 ----------------------------------------------------------------------------------- <!DOCTYPE html><html><head> <title>P224 Sample7-8 見出しを作成する関数</title> </head><body> <?php creat_headline("商品のご案内",1); print "在庫があります場合は３営業日以内お届けいたします。<br/>\n"; print "在庫がある場合は24時間以内に納期のご連くをいたします。<br/>\n"; creat_headline("商品送料のご案内",2); print"全国一律1000円にて発送いたしております。<br/>\n"; function creat_headline($head,$num) { 　　　print "<h$num>{$head}</h$num>"; print "<hr/>"; } ?> </body></html> ----------------------------------------------------------------------------------- 以上のプログラムですが、 　print "<h$num>{$head}</h$num>";は参考書の説明では、 「見出しを作成する処理をします」としかありません! 　　<h$num>はどんな処理をしているのですか？ 　　{$head}]はどんな処理しているのですか？ 　よろしくお願いいたします。
APIを公開しているわけでもなく、RSSが存在するわけでもない、サイトより指定のデータをPHPで取得することは可能なのでしょうか? といいますのも、ロト6などを予想するサイトを観覧していて、どうやら動的に、当選番号を取得しているようで、APIやRSSからなのかの情報取得かと思ったのですが、みずほ銀行の当選発表ページを観覧しましたが、いずれでもないようで、どうやって取得しているのだろうと疑問に思いました。
下記の関数は、gooの別のトピックで教えていただいたものです。関数の入れ子になっています。　htmlspecialchars関数でエスケープした後に利用する関数になります。エスケープした img と　a　のタグを許可する関数です。 私の知識不足で分からない点なのですが、入れ子の関数の書きかたなのですが、3行目の $replacement=function($a){return htmlspecialchars_decode($a[0],ENT_QUOTES);};　の理解についてですが、function($a)の部分と、なぜディコードする部分がなぜ　$a[0]　になるのかが調べたのですが分かりませんでした。もし分かりましたら教えてください。よろしくお願いましす。 function s($s){ $pattern="/&lt;((a|img|p) .+?|\/(a|p)|p)&gt;/"; $replacement=function($a){return htmlspecialchars_decode($a[0],ENT_QUOTES);}; return preg_replace($pattern,$replacement,$s); }
下記の関数は、gooの別のトピックで教えていただいたものです。関数の入れ子になっています。　htmlspecialchars関数でエスケープした後の処理になりますが、 img と　a　のタグを許可する関数です。$patternで指定した後に、$replacementに、htmlspecialchars_decode関数でディコードしたものを指定しています。　実行すると、　Catchable fatal error: Object of class Closure could not be converted to string in～　で最後のreturnの句が指摘されます。　原因が分からなかったので質問してみました。よろしくお願いします。 function s($s){ $pattern="/&lt;((a|img|p) .+?|\/(a|p)|p)&gt;/"; $replacement=function($a){return htmlspecialchars_decode($a[0],ENT_QUOTES);}; return preg_replace($pattern,$replacement,$s); }
テスト環境でメールの送信テストをしています。 【環境】 OS=Amazon Linux(AMI 2016.03.1) インストール環境 sendmail.x86_64　＝ 8.14.4-8.12.amzn1 php.x86_64 ＝ 5.3.29-1.8.amzn1 php-cli.x86_64 ＝ 5.3.29-1.8.amzn1 php-common.x86_64 ＝ 5.3.29-1.8.amzn1 httpd.x86_64 = 2.2.31-1.7.amzn1 httpd-tools.x86_64 = 2.2.31-1.7.amzn1 【状況】 windows環境からsshで接続して操作しています。 AWS　EC2から社内の自分のメールアドレスへ向けて送信テストをしています。 【内容】 mail()を使った関数では、社内アドレスにメールは届くのですが、mb_send_mail()を使うと、実行したWEB画面が真っ白で、メールも届いておりません。 社内アドレスに届くソース（mail関数) ------------------------------- <?php #日本語メール送信 $to = "xxxxxx@xxx.co.jp"; #宛先 $subject = "送信テスト"; #題名 $body = "本文テスト"; #本文 $from = "test@localhost.localdomain"; #差出人 if (mail($to, $subject, $body, "From:".$from)){ print ("成功"); }else{ print ("エラー"); } ?> ------------------------------- php.ini　を編集し以下を設定 mbstring.language = Japanese mbstring.internal_encoding = UTF-8 mbstring.func_overload = 7 ------------------------------- 届かないmb_send_mailソースは、上記ソースの「mail」の部分を「mb_send_mail」へ変更したものです。 あと、現在利用可能な関数リスト出したところ、mb_send_mailの記述がありませんでした。 関数リストを確認したソース ------------------------------- <pre> <?php print_r(get_defined_functions()); ?> </pre> ------------------------------- 関数リスト、mailは829で定義されていますが、mb_で始まる関数が１つもありませんでした。 Array ( [internal] => Array ( [0] => zend_version [1] => func_num_args [2] => func_get_arg 　＃中略 [829] => mail 　＃中略 [1012] => zip_entry_compressedsize [1013] => zip_entry_compressionmethod ) [user] => Array ( ) ) ------------------------------- おそらく、この「internal」へmb_send_mailが登録されれば、mb_send_mail()関数が使えると思うのですが、いろいろサイトを巡回してもmb_send_mailを定義するような記述はなく、通常はデフォルトで登録されているのかな？と思いました。 mb_send_mail()関数を使ってメール送信出来るようにするにはどうすれば良いでしょうか？ もしくは、mb_send_mailを自身で定義する場合はどうすれば良いでしょうか。 PHPの学習をはじめて2週間目ですが、問題が解決せずずっと悩んでおります。 良きお知恵を拝借出来ればと思い、質問させて頂きました。 よろしくお願い致します。
ワードプレス初心者です。 <?php $today = date_i18n('w'); if($today == 1 || $today == 2 || $today == 3 || $today == 4 || $today == 5 || $today == 6) : ?> 日曜日以外表示される <?php endif; ?> <?php if ( date_i18n('H') >= 17 && date_i18n('H') <= 24 || date_i18n('H') >= 0 && date_i18n('H') <= 8) : ?> 午後5～朝の8時の間だけ表示される <?php endif; ?> 別々ならきちんと動作しますが、 これをドッキングさせた条件の「日曜日以外の17から8時の間表示させる」としたいのですが記述がわかりません。 どなたかおしえてください。
htmlspecialchars関数でエスケープしたものをstr_replace関数で指定した文字だけ有効なものに置き換えたいと考えています。下記のように関数で定義しました。一つ目の関数で、エスケープし、２つ目の関数で指定したタグを許可します。この２つ目の関数のときに、<p></p>を有効にすることは可能なのですが、<img src="">や、<a href="">を置き換えるときに、うまくいきません。特殊文字の表記に問題があるのでしょうか? 【関数】 function h($s) { return htmlspecialchars($s, ENT_QUOTES, 'utf-8'); } function s($s){ $search = array('&lt;p&gt;' ,'&lt;/p&gt;','&lt;imgsrc=&quot;','&lt;ahref=&quot;','&quot;&gt;'); $replace = array('<p>','</p>','<img src="','<a href="','">'); return str_replace($search,$replace,$s); } 【表示】 <?=nl2br(s(h($content))?><br> ※関数hとs ・nl2brは一つにまとめて関数にできますが、表示するものの用途によっては変更したいので、バラバラに書いていますのでちょっと汚い書き方かもれません。
PHPで、変数aに文字が入力されたとき、 その変数の中に「はい」「いいえ」等の単語が入っているかどうかを 調べるには、どうすれば良いでしょう？ 人工知能の開発に使います。 【例】 例えば、変数aに「こんにちは、あなたは誰ですか？」という 文章で重要なのは「あなた」と「誰」なので、これが入っているかどうかを 調べ、入っていれば「私は〇〇です。」と返し、入っていなければエラー。 という風にしたいのです。 回答宜しくお願いします。
<textarea></textarea>より入力した文章をMySQLデータベースから取り出して表示するときに、 このように↓表示しています。 <?=nl2br(h($row['content']))?><br> ※h は関数にしたhtmlspecialcharsです。 function h($s) { return htmlspecialchars($s, ENT_QUOTES, 'utf-8'); } ただ全てのタグがつかえなくなるので、指定したタグ<p> <img> <a>　などよくつかうものだけ 許可するにはどのようにすればよいでしょうか? やはり、strip_tags関数でデータベースに入れる前に指定したものを許可するしかないですか?
phpのファイル制御関数について　　　　　　 　　　　　　　　　　　　　　　　　　　　　　 　　　　　　　　　　　　　　　　　　　　　 多重アクセスによるカウンターなどのズレを防止するため、phpのfopen関数で開けたファイルをflock関数でロックする処理についてなんですが、 fopenで開いてからflockでロックするまでの間に別のプロセスがfopenで開けてしまう… という事はあり得るのでしょうか？ なかなか検索ワードが思いつかず検索し辛かったので質問しました
以下のプログラムで教えていただけないでしょうか <!DOCTYPE html> <html><head> <title>P222 Sample7-7 小計を求める関数</title> </head><body><?php $product = array(array(100,5),array(20,16),array(25,40)); ?> <table border="2"> <tr bgcolor="#AAAAAA"> <th>単価</th> <th>個数</th> <th>小計</th> </tr> <?php for($i=0; $i<3; $i++){ $p = $product[$i][0]; $n = $product[$i][1]; $t = total($p, $n); print "<tr><td>{$p}円</td><td>{$n}個</td><td>{$t}円</td></tr>\n"; } function total($pr,$n) { return $pr*$n; } ?> </table></body></html> ------------------------------------------------------------------------------------------- 以上ですが、 for($i=0; $i<3; $i++){ $p = $product[$i][0]; $n = $product[$i][1]; 　の部分の[0];[1];ですが、配列の”要素”か”添え字”に該当する部分の[0]と[1]ですが 　どんな働きがあるのでしょうか？ 　以上よろしくお願いいたします。
MySQLについての質問ですが、下記のように複数の同じような命令がある場合に、 スッキリする書き方はありますでしょうか?　 try{ require_once("db.php"); $sql="SELECT * FROM info WHERE cat = 10 "; $stmt = $pdo->query( $sql); $cat10 = $stmt->fetchAll(); $sql="SELECT * FROM info WHERE cat = 20 "; $stmt = $pdo->query( $sql); $cat20 = $stmt->fetchAll(); $sql="SELECT * FROM info WHERE cat = 30 "; $stmt = $pdo->query( $sql); $cat30 = $stmt->fetchAll(); }catch(PDOException $e){ die($e->getMessage()); }
PHPとMySQLは始めたばかりの初心者です。 UPDATE構文を使っていたのですが、これだと中身がないよとFatal errorがでます。 bindParamについては中身は確認済みでnullもエラーは無い状態です。 DBへの接続は全て同一ファイルにアクセスするためこちらもエラーはありません。 申し訳ありませんがご教授頂けると嬉しいです。 以下DB接続後のphpコード try{ $db =new PDO($server,$user,$password); $db->setAttribute(PDO::ATTR_EMULATE_PREPARES,false); $stmt = $db->prepare(" UPDATE member SET name=:name, invol=:date, birth=:birth, bloodtype=:blood, gender=:gender, address:address, free=:free WHERE user=:user "); $stmt->bindParam(':user',$username,PDO::PARAM_STR); $stmt->bindParam(':name',$name,PDO::PARAM_STR); $stmt->bindParam(':date',$addate,PDO::PARAM_INT); $stmt->bindParam(':birth',$birth,PDO::PARAM_INT); $stmt->bindParam(':blood',$blood,PDO::PARAM_STR); $stmt->bindParam(':gender',$gen,PDO::PARAM_STR); $stmt->bindParam(':address',$address,PDO::PARAM_STR); $stmt->bindParam(':free',$free,PDO::PARAM_STR); $stmt->execute(); } catch(PDOExption $e){ die('エラー：'.$e->getMessege());}
例えば次のような丁目以降が若干異なる3つの住所があったとして 東京都千代田区神田神保町1丁目103 は 「東京都千代田区神田神保町」「1」「103」 東京都千代田区神田錦町3丁目14-12 は 「東京都千代田区神田錦町」「3」「14」「12」 東京都千代田区神田錦町3丁目14-12-110 は 「東京都千代田区神田錦町」「3」「14」「12」「110」 をpreg_match関数を使って抽出したいのですが どのようなマッチ条件を記述すれば良いのでしょうか？
以下２個のプログラムは結果は同じですが、関数を使用しての文章が出力される過程を知りたい。 ----------------------------------------------------------------------- 　「自作プログラム」 <!DOCTYPE html> <html> <head> <title>P198 Sample7-1 (自作)関数省略での文章出力</title> </head> <body> <?php print "<hr/>\n"; print"商品をおかいかげいただきました。<br/>\n"; print"<hr/>\n"; ?> </body> </html> ---------------------------------------------------------------------------- 　「参考書通りのプログラム」 <!DOCTYPE html> <html> <head> <title>P198 Sample7-1 関数追加後の文章出力</title> </head> <body> <?php buy(); function buy() { print "<hr/>\n"; print"商品をおかいかげいただきました。<br/>\n"; print"<hr/>\n"; } ?> </body> </html> --------------------------------------------------------------------- 　以上の２種類のプログラムの結果は同じですが、後半の「参考書通りのプログラム」 は関数を使っています。その関数の参考書関数の説明で理解に苦しんでおります。・・ 　buy(); function buy() { 　　print・・・・ ｝ 　以上の「関数」を使った文章の出力に伴い、 　ここでいう関数の役割を”わかりやすく”説明いただけないでしょうか・・・ 　　理解力に弱い私にとりまして助かります。 　よろしくお願いいたします。
こんにちは・風薫る5月で・・お久しぶりです。 　めげずにPHPをやっております。現在参考書の 　「関数の戻り値のしくみを知る」辺りで解説に苦労しております。 　さて・・以下ですが・・・ ------------------------------------------------------------------------ 第1(本命)(参考書通り) ・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・ <!DOCTYPE html> <html> <head> <title>P218 Sample7-6 戻り値を持つ関数</title> </head> <body> <?php $product = "鉛筆"; $price = 50; $num = 10; $total = buy($product,$price,$num); print "合計{$total}円です。<br/>\n"; function buy($pr,$pc,$nm) { print"<hr/>\n"; print "商品｢{$pr}｣を{$pc}円で{$nm}個お買い上げいただきました。<br/>\n"; $tt = $pc * $nm; print "<hr/>\n"; return $tt; } ?> </body> </html> ------------------------------------------------------------------------------------ 第２(案)(自作) ・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・ <!DOCTYPE html> <html> <head> <title>P218 Sample7-6 戻り値を持つ関数</title> </head> <body> <?php $product = "鉛筆"; $price = 50; $num = 10; $total = buy($product,$price,$num); print "合計{$total}円です。<br/>\n"; function buy($product,$price,$num) { print"<hr/>\n"; print "商品｢{$product}｣を{$price}円で{$num}個お買い上げいただきました。<br/>\n"; $tt = $price * $num; print "<hr/>\n"; return $tt; } ?> </body> </html> ----------------------------------------------------------------------------------------- 以上ですが、「第1(本命)(参考書通り)」と「第２(案)(自作)」は結果は同じでした。 　「第２(案)(自作)」が引数(”引数”と言うのかが微妙!)の文字列を全部同じにして統一する 　と分かりやすいのかなと”私的”には思うのですが・・・ 　　皆様どう思われますでしょうか・・ 　　よろしくお願いいたします。
同じ配列の中のキーをその同じ配列の中の別のキーの値にいれることはできますでしょうか? ↓このように書きました。しかしできませんでした。 <?php $x = array( 'test1' => 'Good', 'test2' => 'Very'. $x['test1'] ); print_r($x); ?>
データベースに「id」「name」「age」「comment」があります。 ウェブ上でデータベースを呼び出し一覧表示させ、各行に更新と削除ボタンを設けています。 そしてその下に新規追加出来るよう入力欄とボタンを設けています。 データベースの呼び出し、更新、新規入力はうまくいくのですが「削除」のみうまくいきません。 以下のPHPですがどこがおかしいでしょうか？ もしエスパー回答を求める質問になっていましたら必要な情報書きますので教えて下さい。 宜しくお願いいたします。 <?php $pdo = new PDO('mysql:dbname=dbname', 'root', 'pass'); switch ($_SERVER['REQUEST_METHOD']) { case 'GET': $st = $pdo->query("SELECT * FROM meibo"); echo json_encode($st->fetchAll(PDO::FETCH_ASSOC)); break; case 'POST': $in = json_decode(file_get_contents('php://input'), true); if (isset($in['id'])) { $st = $pdo->prepare("UPDATE meibo SET name=:name,age=:age,comment=:comment WHERE id=:id"); } else { $st = $pdo->prepare("INSERT INTO meibo(name,age,comment) VALUES(:name,:age,:comment)"); } $st->execute($in); break; case 'DELETE': $st = $pdo->prepare("DELETE FROM meibo WHERE id=?"); $st->execute($_POST['id']); break; }
ブログの投稿画面にあるエディタ機能をつくりたいのですが、いろいろ探して見ると、jQueryプラグインにWYSIWYGエディタ 「CLEditor」とよばれるものがあるようで、試してみましたが 簡単にエディタ機能をinputフォームに加えることができます。しかし、 画像に関しては、画像のURLを指定してリンクさせて表示させる機能はあるのですが、直接エディタから画像をアップしてエディタ画面に表示できるような機能はないので、このあたりをどのように作っていくかを考えています。　PHPでアップロードしたものをエデッタメニューより画像一覧を選択してエディタ画面に載せるような形を考えていますが、javascriptの習熟度が低いので実現はまだまだ先になりそうです。そこで、参考になるようなサイトや作り方がありましたらアドバイスください。よろしくお願いします。
PHPでの開発で、XAMPPだけを使っています。ただコーディングしているときは、いろいろな関連しているファイルを開いているので、時々どれがどれか分からなくなってきてしまい、自分で作っておきながら、非常に管理しづらくなってきました。一方で、最近知ったのですが、PHP開発はEclipseでも利用できるとのことで、… いろいろやり方があることを知りました。 　一般的にWEB開発を職業としている方はどのような開発環境で開発しているのでしょうか?　 もしかしたら 小さなサイト 中ぐらいのサイト 大きなサイト それぞれ開発環境を変えているかも～なんて勝手に想像しています。PHPの教則本を数冊もっていますが、中にはXAMPPについてだけしか書いていないので、気になったので質問してみました。よろしくお願いします。
$_GETで送るときに問題が発生してしまいまして、下記のようにボタンで送っていますが、下記のように。 <input type="button" value="削除" onClick="location.href=index.php?&no=<?php echo $test['test'] ?>'"> 受け渡す値が、 $test['test']= '&2&87dbdf2060362c433737c84b526a750a4bb3d6ca.jpg' の場合には、 index.php?&no=&2&87dbdf2060362c433737c84b526a750a4bb3d6ca.jpg　このようになってしまい。 ＆2＆となっている部分が邪魔をしてしまって、$_GET['no']で受け取ることができません。 print_rで配列を確認してみると & のせいで GETArray( [no] => [2] => [87dbdf2060362c433737c84b526a750a4bb3d6ca.jpg　] => ) このようになっており、 私がやりたいのは、 [no] => &2&87dbdf2060362c433737c84b526a750a4bb3d6ca.jpg 　なのですが、　 こののような問題に対処するにはどようにすればよいでしょうか?
$_POST['SA']は選択した答えです。（文字列） $_POST['ca']は正確な答えです。（文字列） $_POST['SA']と$_POST['ca']を比較し、 同じ文字列であれば点数をつけます。 そうじゃなければ点数は付けません。 以下のPHPのプログラムを作りましたが、上手く文字列を比較できません。 <?php $count = count($_POST['q']); for ($i = 0; $i < $count; $i++) { if(strcmp($_POST['SA'][$i],$_POST['ca'][$i]) == 0 ){ $point = 0; }else{ $point = 15; }
require_onceで読み込む場合、相対パスなら読み込めるのですが、絶対パスで指定した場合は、読み込めないのはなぜなのか?分かりますでしょうか。 XAMPP5.5.19 のローカルで作動させていますが、 定数 HOMEに https://localhost/ を設定して、 https://localhost/test/form.php より　違う場所にあるフォルダのファイルhttps://localhost/common/fanctions.php を読み込んだ場合に2つの警告と1つのエラーがでます。 <?php require_once(HOME.'common/fanctions.php'); ?> Warning: require_once(): https:// wrapper is disabled in the server configuration by allow_url_include=0 in ～ Warning: require_once(https://localhost/common/fanctions.php): failed to open stream: no suitable wrapper could be found in ～ Fatal error: require_once(): Failed opening required https://localhost/common/fanctions.php' (include_path='.;C:\xampp\php\PEAR') in ～ 他にも <?php include_once "https://".$_SERVER['HTTP_HOST']."/header.php"; ?> <?php include_once $_SERVER['DOCUMENT_ROOT']."/header.php"; ?> で試してもエラーがでます。
phpスクリプト内でエラーチェックを行って、エラーが有れば、そのスクリプトでエラー表示し、 エラーが無く、結果を画面表示する場合は、そのまま画面表示、 エラーが無く、結果をCSV出力する場合は、別のスクリプトにリンクさせたいと思っています。 いろいろ考えた末、スクリプトを二重に記述する部分を少なくするため、php内で、Javascriptでリンクし、画面表示とCSV出力の部分だけを二重化するだけで済むのではないかと思いたちました。 呼出先のスクリプトにパラメタを渡したいのですが、下記のようにPOSTでやっても、location.hrefでGET渡しにしてもうまくいきません。 javascriptが実行されず無視された状態で、phpの以降の行が実行されてしまいます。 パラメタの無い場合は、location.href でリンクさせることは出来ており、出来上がったソースを見ても、問題は無いように見えるのですが、パラメタとして渡す文字の内容に問題があるのでしょうか？ ----------- ★呼出元 [db_out.php] 　(前略)　エラーチェック処理　SQL文生成処理 <?php $sql="select * from mylib.mydata where myrows='%リベート%' and *********"; if ($_POST['csv'] == 1){ ?> <script type="text/javascript"> // location.href = "./db_out2.php?parm=<?php echo $sql; ?>"; var frm = document.createElement('form'); document.body.appendChild(frm); var inp = document.createElement('input'); inp.setAttribute('type','hidden'); inp.setAttribute('name','parm'); inp.setAttribute('value',"<?php echo $sql; ?>"); frm.appendChild(input); frm.setAttribute('action','./db_out2.php'); frm.setAttribute('method','post'); frm.submit(); </script> <?php （後略）画面表示処理 ----------- ☆呼出先 [db_out2.php] <?php $sql = $_POST['parm']; $down_file = date('Ymd').'.csv'; $rst = odbc_exec($cn,$sql) or die("SQLエラー\n".$sql); $cnt = odbc_num_rows($rst); while(odbc_fetch_row($rst)){ $i = 1; for ($i=1; $i<=odbc_num_fields($rst); $i++) { if ($i == 1) { $csv_data.= ","; } $csv_data.= odbc_result($rst,$i); } $csv_data.= "\n"; } } header("Content-Type: application/octet-stream"); header("Content-Disposition: attachment; filename={$down_file}"); header("Content-Type: text/csv; charset=Shift_JIS "); // データの出力 echo $csv_data; odbc_close($cn); ?> ----------- どうぞよろしくお願い申し上げます。
MySQLに接続して、下記のようにデータ(id,名前, 時間)を新しい順に $rows = $stmt->fetchAll();　で取得しているときに、 Array ( [0] => Array ( [id] => 8 [name] => 山田 [time] => 2016-05-03 17:25:36 ) [1] => Array ( [id] => 9 [name] => 田中 [time] => 2016-05-03 17:25:28 ) [2] => Array ( [id] => 8 [name] => 山田 [time] => 2016-05-03 17:24:16 ) [3] => Array ( [id] => 9 [name] => 田中 [time] => 2016-05-03 17:24:06 ) [4] => Array ( [id] => 200 [name] => 西野 [time] => 2016-05-03 17:20:21 ) [5] => Array ( [id] => 10 [name] => 武田 [time] => 2016-05-03 17:02:30 ) ) HTMLで下記のように出力します。 <ul> <?php foreach ($rows as $row) { ?> <li>　<php ehco $row['id']; ?> ">　<?php echo $row['name']; ?>　</li> <?php } ?> </ul> ↑　ただこの場合は、 ・8　山田 ・9　田中 ・8　山田 ・9　田中 ・200　西野 ・10　武田 と表示されます。 8 山田 と　9田中は　2回登場するので、同じidが複数登場する場合は、時間が新しい方の行だけのこして、古いほうを非表示にしたいのですがどうすればよいでしょうか? array unique()関数で粘ってみたのですが、やり方がまずいのか、できなかったので、教えてください。または、他のやり方もあるかもしれません。よろしくお願いします。
以下のＰＨＰコードをワードプレスに張り付けましたが、うまく表示されません。また、参照したページのしたに使い方が書いてあるのですが、どのようにクラスと関連付けするのかわかりませｎ。 <PHP ?>まで記載していただける方、どうか助けてください。 参照先ＵＲＬ http://inspire-tech.jp/2012/02/nine_star_ki_php_ … ＜以下：上記ＵＲＬへの記載内容＞ <?php class NineStarKi { protected static $_names = array( 1 => '一白水星', 2 => '二黒土星', 3 => '三碧木星', 4 => '四緑木星', 5 => '五黄土星', 6 => '六白金星', 7 => '七赤金星', 8 => '八白土星', 9 => '九紫火星' ); protected static $_monthStartDay = array( 1 => 5, 2 => 4, 3 => 6, 4 => 5, 5 => 6, 6 => 6, 7 => 7, 8 => 7, 9 => 8, 10 => 8, 11 => 7, 12 => 7 ); protected static $_numberTable = array( 0 => array( 1 => 9, 2 => 2, 3 => 1, 4 => 9, 5 => 8, 6 => 7, 7 => 6, 8 => 5, 9 => 4, 10 => 3, 11 => 2, 12 => 1 ), 1 => array( 1 => 6, 2 => 8, 3 => 7, 4 => 6, 5 => 5, 6 => 4, 7 => 3, 8 => 2, 9 => 1, 10 => 9, 11 => 8, 12 => 7 ), 2 => array( 1 => 3, 2 => 5, 3 => 4, 4 => 3, 5 => 2, 6 => 1, 7 => 9, 8 => 8, 9 => 7, 10 => 6, 11 => 5, 12 => 4 ), ); public static function yearly($year, $month, $day) { if (!in_array($month, range(1, 12)) || !in_array($day, range(1, 31))) { return false; } if ($month <= 2 && $day <= 3) { $year = (int)$year - 1; } if ($year < 1) { return false; } $sum = $year; do { $sum = array_sum(str_split((int)$sum)); } while ($sum >= 10); if ($sum == 1) { $sum = 10; } $num = 11 - $sum; return self::$_names[$num]; } public static function monthly($year, $month, $day) { if (!in_array($month, range(1, 12)) || !in_array($day, range(1, 31))) { return false; } $eto = ((int)$year + 9) % 12; if ($eto == 0) { $eto = 12; } if (self::$_monthStartDay[$month] > $day) { $month = $month == 1 ? 12 : $month - 1; } $etoGroup = $eto % 3; $num = self::$_numberTable[$etoGroup][$month]; return self::$_names[$num]; } } 使い方 NineStarKi::yearly(int year, int month, int day) で、本命星が算出されます。 NineStarKi::monthly(int year, int month, int day) で、月命星が算出されます。
PHPをマスターするにはどうすればいいですか❓
PHPでブログのようなものを作成してますが、 記事にFacebookのように「いいね」をつける場合に関しては、今実践していることは、ボタンを押したら、データベースのテーブルに記事idと、「いいね」を押したユーザーidが挿入されるようにしています。そして「いいね」を押した後は条件分岐で、「いいねを外す」というボタンに変わるようにしてあります。 この場合は、「いいね」を押した後に「いいねを外す」ボタンに移り変わりたいので、「いいね」ボタンを@_POSTで、自分自身のページに受けて渡して、データベースに挿入し、header()で自身自身のページを指定して戻ってくるようにしています。 機能的には、おもったとおりに動いてくれているのでよいのですが、私の頭では、このくらいの方法でしか「いいね」機能の実装考える知識がないので、他にも、どのような方法があるのか知りたいので、もし知っていましたら、イメージすることができるアドバイス又はヒントをください。よろしくお願いします。 他にもよく似た例として、Facebookで例えるなら、リアルタイムで更新されるタイムラインや、友達申請や友達認証ボタンなど、ページを更新することなく、リアルタイムで切り替わるしくみについては、私が実装したしくみとは、異なると思うのですが、このあたりも推測になると思うのですが、どのような技術がつかわれているのでしょうか?。よろしくお願いします。
PHPの入力フォームでサブミットボタンを押すと、データベースのあるカラムに1が入力されるようにしたのですけど、ここで変な自体が起きてしまいまして、。。 POSTで受け渡先のページが自分自身の場合になっておりますが、　submitボタンを押していないにもかかわらず、画面の更新をするだけで、データーベースに同じ情報が更新した回数分だけ、登録されてしまうのですが、なんでなんでしょうか　教えてください。よろしくお願いします。 <?php if (@$_POST['friend_req']) { try{ require_once("../../db/connect_db.php"); $sql = "INSERT INTO friend(user_i, req_fg, user_you, add_fg) VALUES(?,?,?,?)"; $datas=array($user_id, 1, $_GET['no'], 0 ); $stmt = $pdo->prepare( $sql); $stmt->execute($datas); }catch(PDOException $e){ die($e->getMessage()); } } ?> <form method="post" action="<?=HOME?>universe/users/profile.php?no=<?php echo $_GET['no'];?>"> <input type="submit" name="friend_req" value="友人申請" > </form>
PHP5.3で複数の画像ファイルをアップロードし同時にファイル名をデーターベースに入力したいのですがファイル名を取得できません。 <form action="" method="post" enctype="multipart/form-data"> <input name="imgfile[]" type="file" /><br /> <input name="imgfile[]" type="file" /><br /> <input name="imgfile[]" type="file" /><br /> <input type="submit" name="imgup" value="upload" /> </form> <?php if (isset($_POST["imgup"])){ foreach( $_FILES["imgfile"]["error"] as $key => $error ){ if( $error == UPLOAD_ERR_OK ){ $tmp_name = $_FILES["imgfile"]["tmp_name"][ $key ]; $name = $_FILES["imgfile"]["name"][ $key ]; move_uploaded_file( $tmp_name, "../img/$name" ); echo "$name"; } } } ?> 画像ファイルが複数になった場合の処理はどうなるのでしょうか？ ご教授お願いいたします。
よくある不動産物件検索サイトで、建物が同じ場合には、その１つの建物の中に家賃や階数などの部屋情報をまとめて表示するための方法が分からなくて困っています。DBはMYSQLを使っており、テーブルには、ID番号や建物名、家賃や専有面積など、既にたくさんのデータが入っています。 やりたい事は、例えばPHPのwhile文やforeach文などでのループの中で、建物名が同じであれば、建物の表示に関しては１度だけに限り出力し、あとは家賃や階数などの部屋情報に限ってまとめて出力したいです。SQL文やPHPで、どのような工夫をすべきでしょうか？ このような構造をイメージしています。 while(){ <?php 建物情報を出力 ?> while(){ 　　<?php 部屋Aの情報を出力 ?> 　　<?php 部屋Bの情報を出力 ?> 　　<?php 部屋Cの情報を出力 ?> } } 建物情報のテーブルと、部屋情報のテーブルに分けてDBを管理するとして、DBからどのようなSQL文を発行し、PHPではどのような処理をすればよいのか。。 現在運営している不動産物件サイトの表示の仕方を上記のようにしたいのですが、何かヒントになるような助言が頂ければ幸いです。よろしくお願いいたします。
下記のような、MySQLの命令が5つあり、数字の部分だけ連続して1～5あるので、行数を減らしたいので、forでループすることにして短縮したいと思います。 <li> <SELECT name="cat1" > <OPTION value="0" >--カテゴリを選択してください--</OPTION> <?php foreach ($cats1 as $cat1) { ?> <OPTION value="<?=$cat1['cat_id']?>" <?php if( $cat1['cat_id'] == $row['cat1'] ){ echo "selected" ;}?> > <?=$cat1['name']?></OPTION> <?php } ?> </SELECT> </li> <li> <SELECT name="cat2" > <OPTION value="0" >--カテゴリを選択してください--</OPTION> <?php foreach ($cats2 as $cat2) { ?> <OPTION value="<?=$cat2['cat_id']?>" <?php if( $cat2['cat_id'] == $row['cat2'] ){ echo "selected" ;}?> > <?=$cat2['name']?></OPTION> <?php } ?> </SELECT> </li> 　　　　　　　　　　　　　　・・・・あと3回　続く 上記の文を 下記のように可変変数で変えたのですが、うまくうごきませんでした。可変変数のつかいかたが悪いのかもしれません。原因がわかりましたら教えてください。よろしくお願いします。 <?php for ($i = 1; $i <= 5; $i++){ $a = 'cats'. $i; $b = 'cat'. $i; ?> <li> <SELECT name="<?=$b ?>" > <OPTION value="0" >--カテゴリを選択してください--</OPTION> <?php foreach ($$a as $$b) { ?> <OPTION value="<?=$$b['cat_id']?>" <?php if( $$b['cat_id'] == $row[$b] ){ echo "selected" ;}?> > <?=$$b['name']?></OPTION> <?php } ?> </SELECT> </li> <?php } ?>
phpでiniファイルに定義したSQL文とパラメタを読んで抽出結果を画面表示する、もしくはCSV出力するという汎用スクリプトを作成中です。 [dbselect.php] iniファイル上の定義情報を読み、フォームで条件パラメタを入力させて、dbget.phpに渡す （条件パラメタの中には、データベースの選択条件に加え、画面表示かCSV出力かの選択も含む） [dbget.php ] postで受け取った値でエラーチェックを行い、 エラーがある場合は、エラーのある選択条件と原因を画面表示、 エラーの無い場合は、条件パラメタに従い、画面表示、もしくはCSVに出力 という仕様です。画面表示をするまでは凡そ出来上がっています。 CSVを出力する時には、<tr><td>等のテーブルタグを出力せず、 header("Content-Type: application/octet-stream"); header("Content-Disposition: attachment; filename={$down_file}"); header("Content-Type: text/csv; charset=Shift_JIS "); echo $csv_data; のようにヘッダファイルを出力すれば済むと思ったのですが、画面表示するために、 すでに先頭部分でヘッダファイルは出力済みです。 こんな処理分岐をしようと思ったら、ヘッダファイルの異なるスクリプトをもう一つ作るしか方法は無いでしょうか？（画面表示用とCSV出力用） 本来ならエラーチェックは選択側でJavascriptで行うべきなのかもしれませんが、 定義ファイルから読み取った情報で処理する必要があり、そこまでの知識が無いので断念しました。 出来れば、二重管理をしたくないため、何か方法があればと思い質問させて頂きました。 よろしくお願いします。
<?php try{ //～接続情報～ 省略 $sql = "SELECT user_id, content FROM comment WHERE post_id = ? "; $datas=array($post_id);　//記事のid $stmt = $pdo->prepare( $sql); $stmt->execute($datas); $posts = $stmt->fetchAll(); }catch(PDOException $e){ die($e->getMessage()); } ?> <h3>コメント一覧</h3> <?php foreach ($posts as $post) { ?> <p><?php echo nl2br($post['content']) ?></p> <?php } ?> 上記のコードは、ある単一記事のidとひもづけて、記事のコメントの一覧を表示しています。この場合は、表示されるのは、コメントの一覧だけですが、コメントに投稿者の名前を表示したいと思います。 そこで、別にあるprofileテーブルを参照します。 コメントにある投稿者のuser_id と profileテーブルにあるuser_id　が一致すれば、profileテーブルにあるuser_nameを表示するようにしたいのですが、( このように ⇒ "SELECT profile.user_name FROM profile LEFT JOIN comment ON profile.user_id = comment.user_id" )、これを上記のコードといっしょに書くには、どのようにかけばよいでしょうか?
<form>タグのメールアドレス入力箇所のname属性の値の設定。 $Email = "Email";　　←これは何を入力すればいいんでしょうか？ ちなみにテストメール送信しても管理者充てに来ません よろしくお願いします
引き継いだサイトの問い合わせフォームで使われているファイルの中に、 ～.htmp　となっているファイルがたくさんあるのですが、 何のファイルか分からずに困っております。。 外部から読み込みされるファイルとして使われているもののようで、 中はhtmlかなと思ったのですが、一か所、 <!--::htmls{status_err}::--> のような記述もあるので、プログラムファイル？？かと思うのですが プログラムの知識はなくわからずですが、PHPになるのかな？とか調べてみるものの 分かりません・・・ 詳しい方、ご教示いただけますと幸いです。
いつもお世話になります。関数についての質問です。 掲示板のコメント内にURLが含まれていたら自動的にaタグをつける　という処理として、ネット上で公開されている以下の関数をアレンジして使わせてもらってます。 function change($mojiretu2){ if(preg_match("/(http|https):\/\/[-\w\.]+(:\d+)?(\/[^\s]*)?/",$mojiretu2)){ preg_match_all("/(http|https):\/\/[-\w\.]+(:\d+)?(\/[^\s]*)?/",$mojiretu2,$pattarn); foreach ($pattarn[0] as $key=>$val){ $replace[] = "<a href='".$val."' target='_blank' style='font-size:0.9em;'>".$val."</a>"; } $mojiretu2 = str_replace($pattarn[0],$replace,$mojiretu2); //$mojiretu2 = str_replace("<br>","",$mojiretu2); } return $mojiretu2; } これは問題ないのですが、同じようにコメント内に含まれるものを探し出してその文字列にタグをつけるという処理をこの関数の中に追加するって出来ますでしょうか？ 具体的には、コメント内に ＞○○さん という文字列が入っていたら、その部分を太字にする　という処理がしたくて、それ自体は $keyword_start = ’＞’; $keyword_end = ’さん’; if(preg_match(’/’.$keyword_start.’(.*?)’.$keyword_end.’/’, $mojiretu2)){ preg_match_all("’/’.$keyword_start.’(.*?)’.$keyword_end.’/’, $mojiretu2,$match); foreach ($match[0] as $key2=>$val2){ $futoji[] = "<span style='font-weight:bold;'>".$val2."</span>"; } } みたいな感じのを使えばいいのかな？と思うのですが(おかしかったらすみません)、これをどのように関数の中に入れればよいのかを教えていただけると嬉しいです。 よろしくお願いします！
質問です。 wordpressでカスタムフィールドを使いサイトを制作しています。 複雑な絞込みではなく、特定の値が含まれているカスタムフィールドをリンク先をして設定したいのですが、調べても方法がわかりません。(phpまったくの初心者です…) 例えば、以下のような場合 カスタムフィールド名：month ①投稿A：month＝8月 ②投稿B：month=7月 と、このような投稿がいくつかあるのですが、monthに8月が含まれているカスタムフィールドを一覧で表示させたページをリンク先として指定したいのです。 トップページに 7月　/　8月 / 9月 という項目を設け、各月をクリックしたときに該当の一覧(8月であればmonthに8月が含まれている投稿)が表示されるようにしたいのです。 7月用・8月用・9月用のように一つ一つページを作るしかないのでしょうか。 「トップページなどにmonthが8月の投稿一覧を表示させる」といったところは実装できました。 おわかりの方いらっしゃいましたらご教示いただけないでしょうか。 よろしくお願いいたします。
オブジェクト指向型で $new_id = $mysqli->insert_id; としているのですが、実際に挿入されるレコードのIDは正しいのですが、 $new_idにはゼロが返されてしまいます。 insert_idで取得したIDを変数へ代入することは可能なのでしょうか？ 検索しても見つからずここに頼る事にしました・・ ちなみに、$new_idに正しいIDがはるのであれば、 ID番号.jpgやID番号.pdfのようにファイル名に利用しようと考えています。
PHPで、あるフォルダ内で、特定の文字列を含むファイルの有無を確認する場合において、何らかの関数や他の関数と組み合わせることによって実現可能でありますでしょうか? 例えば、下記のような構成で、imageフォルダに3つの画像ファイルがあり、ファイルの名前に　abc001 を含むものがあれば、True なければ　false　というような形にしたいです。　 image/ + abc0018974512.jpg + 4565456556667.jpg + ff456d565s6f5fff.jpg
早々おはようございます・・ https://oshiete.goo.ne.jp/qa/9251403.html　のプログラムの中に １）for($i=0; $i<count($word); $i++){ ２）if($word[$i] == "a") ３）$word[$i] ="b"; 　があります。以上でございますが！ 箇条書きでもいいですし、ひとまとまりの文章表現でもいいですので 文章で、１）～３）のプログラムを日本語の文章にした場合どんな感じになるのでしょうか 　だいたは、わかるのですが、優秀なお方が表現された場合！”よりいっそう”理解がますと存じます。 つきまして、よろしくお願いいたします。
初心者です。PHPを勉強しています！何かいい参考書などがあれば教えて下さい！
共有サーバーを利用していますが、 public_html/index.php より　一つ上のpublic_htmlの階層にあるimageフォルダの中のファイル(phpファイルとjpgファイル)にアクセスしたいのですが、phpファイルは読み込めるのですが、画像ファイルを読み込むことができません。原因が分かりません。もし何か気付きましたら教えてください。よろしくお願いします。( imgaeフォルダと画像ファイルのパーミッションは777にしています。phpファイルは644です。) <!--index.php-> <?php require_once("../image/HelloWord.php"); ?> <!DOCTYPE html> <html> <head> <meta charset="utf-8"> <title>TEST</title> </head> <body> <img src="../image/HelloWorld.jpg"/> </body> </html>
MySQLでの挿入についてですが、 テーブル1に、1つ目の命令で挿入したデータに、AUTO_INCREMENTで番号をつけて、テーブル2に2つ目の挿入命令で、1つ目の命令でAUTO_INCREMENTでつけられた番号を、カラムに挿入するやり方がわかりません。 例えば、下記のように1つ目の命令で、Postテーブルにデータを挿入していますが、挿入されたデータには、AUTO_INCREMENTで post_idカラムに自動で連番されます。 そして、2つ目の命令で、一個目の命令で自動にAUTO_INCREMENTされた post_no の値を、item_01テーブルのpost_noにカラムに挿入したいのですが、そのやり方がわからないでいます。よろしくお願いします。 　try{ 　　//接続情報 $dsn = 'mysql:host=localhost; dbname=test'; $user = 'root'; $password = '********'; $pdo = new PDO($dsn, $user,$password); $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); 　　// 命令 挿入1　データベースではpost_noとして自動に連番されている。 $sql = "INSERT INTO post(member_id,display_name,title,content) VALUES( ?, ?, ?, ?)"; $datas=array($_POST['id']$_POST['display_name'],$_POST['title'], $_POST['content']); $stmt = $pdo->prepare( $sql); $stmt->execute($datas); // 命令 挿入2 $sql = "INSERT INTO item_01(post_no, member_id, name, number) VALUES( ?,?,?,?)"; $datas=array(　※ここの部分がわかりません ,$_POST['id'],$_POST['name'], $_POST['number_list']); $stmt = $pdo->prepare( $sql); $stmt->execute($datas); catch(PDOException $e){ die($e->getMessage()); } }
例えば、下記の場合は、フォームからsubmitした$_POSTのデータの中身ですが、 配列 key の　name_list を含むものだけカウントすることは可能でしょうか? この場合は、3つあるので、3だけ返すような関数または、やり方はありますでしょうか? よろしくお願いします。　 Array ( [post_title] => Hello! [post_explain] => Hello! World! [name_list_0] => test01 [number_list_0] => test01 [name_list_1] => test02 [number_list_1] => test02 [name_list_2] => test03 [number_list_2] => test03 [image_list_0] => test01 [explain_list_0] => test01 [add_id] => 1 [add_display_name] => Daisuke [submit] => POST )
curl -X POST --compressed -H "Token: ●●●●●●●●●●●●" -H "Content-Type: application/json; charset=UTF-8" --data-binary '{"operations":[{"method":"GET","path":"/days","query":{"date":"2016-01-01","id":"11111","format":"cal","end":"1"}},{"method":"GET","path":"/data/111","query":{}}],"transaction":false}' https://hoge.jp というのをPHPで使いたいのですが、どういう風に書き換えればいいのでしょうか？ 特に--data-binaryのところがわからないです。。。。 curl初心者ですがよろしくお願いします。
<!DOCTYPE html> <html> <head> <title>P174 P489 Sample6-ren3 "a"という文字を"b"に置きかえる</title> </head> <body> <table border="2"> <?php $word = array("a", "l", "g", "e", "b", "r", "a"); print "<tr><td>変換前</td><td>"; foreach($word as $value){ print $value; } print "</td></tr>\n"; for($i=0; $i<count($word); $i++){ if($word[$i] == "a") $word[$i] ="b"; } print "<tr><td>変換後</td><td>"; foreach ($word as $value){ print $value; } print "</td></tr>\n"; ?> </table> </body> </html> --------------------------------------------------------------------------------------- 以上ですが・・いじくるのが好きで・・・ print "<tr><td>変換前</td><td>";の<tr>と 終わりタグのprint "</td></tr>\n";を削除しました・・ それで！以下の「画像添付」でお分かりですが、参考書のとおりちゃんと表が出ます。 　削除したHTML的には/の終わりタグが必要と思いますが・ 自動でブラウザが修正してくれているのでしょうか？ 　それとも必要がないので削除してもOKなのでしょうか？ なぜ削除しても参考書通りに表示されてしまうのでしょうか？ 　よろしくお願いいたします。
練習用としてデータベースを使ったブログのようなものをつくりましたが、単品の機能を集めただけのよせあつめ状態になってしまい少しわかりにくくなってきました。　機能が増えてくれば増えてくるほど、フォルダを増やしていこうとおもっていますが、さらに複雑になってきて、自分でも管理しきれなくなると思ってきました。そこで、どうにかよい整理方法はないのか考えています。作ったブログの構造は同じ階層に4つのフォルダをおいて、その中にそれぞれの機能のファイルを置いてます。cssで編集はまだやってないので、どこに配置しようかも迷っています。 publiec_html / +記事関係フォルダ /　index.php edit.php post.php. delete.php ...など　 +ログインのフォルダ/　login.php admin.php logout.php +新規登録のフォルダ / new.php. new_check.php. +プロフィールのフォルダ/ profile.php edit.php
宜しくお願い致します。 下記のサンプルをご覧頂きたいのですが、 <?php function division($a,$b){ try{ if($b === 0){ throw new Exception("cannot divide by 0"); } echo $a / $b; } catch (Exception $e){ echo $e->getMessage(); } } division(7, 2); division(5, 0); ?> 下記の部分について教えてください。 if($b === 0){ throw new Exception("cannot divide by 0"); } 上記はcatch部分にエラーを投げているのはわかるのですが、なぜ、throwが必要なのでしょうか？ エラーが起こりそうな個所をtry～catchで囲むだけで例外処理が行えると思っておりました。 throwは例外を発生させて投げるとありましたがイメージがしにくいです・・・。 もう、一点教えて頂きたいのですが、下記のプログラムの例外処理についてどう思われますか？ 無駄な処理等があればご教示頂きたいです。 <?php $lock = 'test.csv'; foreach($_POST as $value){ $data[] = $value; } mb_convert_variables('SJIS','UTF-8',$data); try { $file = new SplFileObject($lock, 'ab'); if ($file->flock(LOCK_EX)) { $file->fputcsv($data); $file->flock(LOCK_UN); } else { echo "ロックを正常に行えませんでした"; } } catch (Exception $e) { echo "CSVファイルを閉じてください。"; exit; } header("Location: ./thanks.html"); ?> 最後まで、ご覧下さりましてどうもありがとうございました。
ログイン後の各ページでセッションをスタート session_start(); させていますが、ログインしているユーザーとログインしていないユーザーの双方に同一ページを見せてたい場合は、どのように記述すればよいのでしょうか?　 例えば、アメーバブログやFC2ブログのようなものでログインしていなくても記事は読めますが、ログインすると記事は読めて、加えて、編集機能へリンクされています。 要は、ログイン済みユーザーは、記事の表示と、記事を投稿・編集・削除できるボタンがある。しかし、ログインしていないユーザーは記事の表示と、投稿・編集ボタンは非表示。 疑問点 ・同じページを見せたい場合でもログイン済みユーザーと、非ユーザー向けに2つのページを作らないとだめなのか? ・ログイン済みユーザーと非ユーザーには同一ページを表示するが、ログイン済みユーザーだけに部分的に編集ボタンを表示するようなことは可能なのか?
プロフィールページなどでよくみる、セレクトメニューで誕生年を選択して更新するだけのコードを考えています。profileテーブルより、profile_idが 1のユーザーを更新します。 下記の場合、更新ボタンを押すと、データペースに登録されますが、　その後に、データを取り出したものを、セレクトフォームのオプションに設定しようとすると、表示上では初期状態にもどり、うまくいきませんでした。オプションの初期状態を指定するselectedをどのように書いたほうがよいでしょうか? または、私のかき方自体に問題があるかもしれません。アドバイスよろしくお願いします。 <?php //　練習用 001.php try{ require_once("../db/connect_db.php"); //接続情報 $sql="SELECT birthyear, profile_id FROM profile WHERE profile_id=1"; $stmt = $pdo->query( $sql); $row = $stmt->fetch(PDO::FETCH_ASSOC); }catch(PDOException $e){ die($e->getMessage()); } if (@$_POST['submit']) { $row['profile_id'] = strip_tags($_POST['profile_id']); $row['birthyear'] = $_POST['birthyear']; try{ require_once("../db/connect_db.php"); $sql="UPDATE profile SET birthyear=? WHERE profile_id =? "; $datas=array( $_POST['birthyear'], $_POST['profile_id'] ); $stmt = $pdo->prepare( $sql); $stmt->execute($datas); }catch(PDOException $e){ die($e->getMessage()); } } ?> <!DOCTYPE html> <html> <body> <?php print_r($row) //確認用 ?> <form method="post" action="001.php"> <p>誕生年：<select name="birthyear"><option value="<?php echo $row['birthyear']= null ?>" > ---- </option> <?php optionLoop('1950', date('Y'));?></select>年</p> <?php function optionLoop($start, $end){ for($i = $start; $i <= $end; $i++){ echo "<option value=\"{$i}\">{$i}</option>"; } } ?> <input type="hidden" name="profile_id" value="<?php echo $row['profile_id'] ?>"> <p><input name="submit" type="submit" value="更新する"></p> </form> </body> </html>
ブログ記事をお気に入りリストに追加する機能でよいアイデアはありますか? PHPの練習として、ミニブログ記事一覧を作っています。ログイン認証や権限などはなくユーザーは投稿するもの全員になってますが、今後進めていくなかで上記の機能も設置しようと思います。現段階では、 ★ファイルの構成として下記のとおりで同じ階層にあります。 index.php (タイトルと内容の一覧を表示するページ) post.php (タイトルと内容を投稿するページ) article.php (index.phpよりリンクされていている個別記事ページ) edit.php (個別記事編集ページ article.php よりリンクされています。) ★データベース情報 dbname=blog 記事を入れるテーブル: post (カラム: no / title / content) 上記のような構成になっています。そこで、個別記事ページに「お気に入に追加する」ボタンを設置して、それを押すと、お気に入りページに一覧として表示できるようにしたいと思います。 そこで、加えて favorite.php(お気に入りページ)をつくり、記事番号とユーザーを結びつけるテーブルと、ユーザーのテーブルを作って、お気に入り一覧ページを作成しようと思いますが、私はこれまで、作成経験がないので、よいわるい方法が分からないので、もしよい方法がありましたイメージだけでよいので教えてください。
新事業でフリーマーケットサイトを作ることになったのですが、 私はもともと組み込みエンジニアでWEB開発はまったくやったことがありません。 以下のことについて調べているのですが、公式のドキュメント以外に情報がまとまっている おすすめの本やwebサイトなどがあれば教えていただけると嬉しいです。 ・レンタルサーバー 　AWSのEC2, RDS ・PHP 　cakephp ・WEBサーバー 　nginx ・DB 　Mysql ・その他EC業務で必要な知識 　特定商取引法 　決済
タイトルと本文だけを投稿するミニブログを作ってMySQLとPHPの練習しています。そこで記事を更新するページedit.phpを作成していますがうまくいきませんでした。下記のコード edit.php(個別記事編集ページ)について指摘・アドバイスください。よろしくお願いします。 ★ファイルの構成として下記のとおりで同じ階層にあります。 index.php (タイトルと内容の一覧を表示するページ) post.php (タイトルと内容を投稿するページ) article.php (index.phpよりリンクされていている個別ページ) edit.php (個別記事編集ページ article.php よりリンクされています。) ★データベース情報 dbname=blog 記事を入れるテーブル: post (カラム: no / title / content) 【わからない部分】 ・分からない部分は、タイトルと内容のフォームに数値を入れると更新できるのですが、文字を入力するとエラーがでてしまいます。・それと、だんだん こんな書き方でいいのだろうかという思ってきました。 教則本や教えてgooでアドバイスを受けた方のコードを参考にして作りましたが、おそらく、私のコードの書き方が良くないと思います。下記は更新ページのedit.php ですが、更新のためには、SELECT と UPDATE を使わないといけないと思ったもので、SQLの接続を２つに分けました。 一つ目のtry{}では、index.phpより$_GETでURLからno 情報を取り出して、それを元に他の情報を取り出しています。そして2つめのtry{}では、更新情報を入力フォームより受け取り更新しています。そこで、一般的に、更新する際は、どのうよにやっているのだろうという疑問もあります。 <!-- ↓edit.php --> <?php try{ $dsn = 'mysql:host=localhost; dbname=blog'; $user = 'root'; $password = '*********'; $pdo = new PDO($dsn, $user,$password); $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); $sql="SELECT no,title,content FROM post WHERE 1 "; $sql.=" AND no=?"; $datas = array(); $datas[]=isset($_GET["no"])?$_GET["no"]:""; $stmt = $pdo->prepare( $sql); $stmt->execute($datas); $row = $stmt->fetch(PDO::FETCH_ASSOC); }catch(PDOException $e){ die($e->getMessage()); } $error = $title = $content = ''; if (@$_POST['update']) { $title = $_POST['title']; $content = $_POST['content']; if (!$title) $error .= 'タイトルがありません。<br>'; if (mb_strlen($title) > 80) $error .= 'タイトルが長すぎます。<br>'; if (!$content) $error .= '本文がありません。<br>'; if (!$error && isset($_POST['update'])){ try{ $dsn = 'mysql:host=localhost; dbname=blog'; $user = 'root'; $password = '********'; $pdo = new PDO($dsn, $user,$password); $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); $sql = $pdo->query("UPDATE post SET title={$_POST['title']}, content={$_POST['content']} WHERE no ={$_POST['no']} "); header('Location: index.php'); $stmt = $pdo->prepare( $sql); $stmt->execute($datas); }catch(PDOException $e){ die($e->getMessage()); } } } ?> <!DOCTYPE html> <html> <head> <meta charset="utf-8"> <title>記事更新 Blog</title> <link rel="stylesheet" href="blog.css"> </head> <body> <form method="post" action="edit.php " onsubmit="return confirm( '更新してもよいですか' )";> <h2>記事投稿</h2> <p><input type="hidden" name="no" size="40" value="<?php echo $row['no'] ?>"></p> <p>題名</p> <p><input type="text" name="title" size="40" value="<?php echo $row['title'] ?>"></p> <p>本文</p> <p><textarea name="content" rows="8" cols="40"><?php echo nl2br($row['content']) ?></textarea></p> <p><input name="update" type="submit" value="更新"></p> <p><?php echo $error ?></p> </form> </body> </html>
ローカル環境：PHP Version 5.5.15 レンタルサーバ：PHP Version 5.3.3 レンタルサーバでfile_get_contentsを実行すると、 ステータスは正常なのですが、結果が途中で切れてしまいます。 ローカル環境で同じファイルを読み込むと全て読み込めます。 .htaccessでmemory_limit、post_max_sizeを ローカル環境の値にあわせてみましたがダメでした。 stream_get_contentsに処理を変えてもダメでした。 結果のサイズを調べると毎回変わります。 少ない情報で申し訳御座いませんが、 ヒントをお持ちの方よろしくお願いします。
PHPが初めて学ぶ言語です 変数だったり基礎を少しやって軽く文字列も覚えて来て実際に組んでみようと思い手を出したのですが どこの行が何の役割を持ち,処理してるのかが全く分かりません そこでどの様な勉強をすればいいのでしょうか また解説を行っているサイト,本なのも出来れば紹介してもらいたいです
phpにて在庫記録を作成していますが、データ入力後の確認画面にて<input type="button" onclick="history.back()" value="戻る">のボタンを押下すると、mysqlにデータが登録されてしまいます。 データ確認画面にて入力確定ボタン<form method="post" action="k-thanks.php"><input name="nyryoku1" type="submit" value="入力確定"></form>の『入力確定』ボタンを押下した時だけにDBに値を登録したいです。 ちなみに、データ確認画面にて、『戻る』ボタンを押下後、値を修正し、またデータ確認画面にて『入力確定』ボタンを押下すると、修正前と修正後のデータ2つがDBに登録されてしまいます。 『戻る』ボタンでDBに値が登録されないようにする方法や、何かしらのヒント、アドバイスをいただけますようお願い致します。
この度、デスクトップPCとノートPCでXAMMP7.0.4を使用しようと考えています。 OSは両方ともWindows７　64bitです。 そこで、USBメモリなどにデータをインストールして両方のPCで使えるようにするための質問です。 xampp-win32-7.0.4-0-VC14.zipとxampp-portable-win32-7.0.4-0-VC14.zipがありましたが、どちらをインストールしたらよいのでしょうか。 また、サイズが異なっていますがどのような違いがあるのでしょうか。 初心者ですので詳しく教えて下さい。 よろしくおねがいします。
XAMMPについて この度、デスクトップPCとノートPCでXAMMP7.0.4を使用しようと考えています。 OSは両方ともWindows７　64bitです。 そこで、USBメモリなどにデータをインストールして両方のPCで使えるようにするための質問です。 xampp-win32-7.0.4-0-VC14.zipとxampp-portable-win32-7.0.4-0-VC14.zipがありましたが、どちらをインストールしたらよいのでしょうか。 また、サイズが異なっていますがどのような違いがあるのでしょうか。 初心者ですので詳しく教えて下さい。 よろしくおねがいします。
初心者です。 ログイン管理画面の上にエラーが出ており、 ログインができなくなってしまいました。 サイトは通常通り表示されています。 以下がエラー文です。 Warning: Cannot modify header information - headers already sent by (output started at /home/sites/heteml/users/m/u/r/～～/web/～～/wp-includes/class-wp-error.php:1) in /home/sites/heteml/users/m/u/r/～～/web/～～/wp-login.php on line 424 Warning: Cannot modify header information - headers already sent by (output started at /home/sites/heteml/users/m/u/r/～～/web/～～/wp-includes/class-wp-error.php:1) in /home/sites/heteml/users/m/u/r/～～/web/～～/wp-login.php on line 437 エラー: 予期しない出力により Cookies がブロックされました。ヘルプが必要な場合はこちらのドキュメンテーションを読むか、サポートフォーラムをご利用ください。 何をどうしたらよいのか分からず困っております。 よろしくお願いします。
https://oshiete.goo.ne.jp/qa/9231613.html　から 　$test = array(0=>80,1=>60,2=>22,3=>50,4=>75);　のご回答をもとに $test = array(80,60,22,50,75);を$test = array(22,60,80,50,75);に変更しました。 　結果が”最高得点22です。”と予想しておりました・・しかし、変わらずに 　”最高得点は80です。”のままでした！？この場合ですが、考え方はとしまして、 　$test = array(2=>22,1=>60,0=>80,3=>50,4=>75);となったので、以上の結果となっ との考えで間違いないでしょうか？ 　よろしくお願いいたします。
PHP初心者です。 post で name 属性の受け渡しでTDのbgColorの件で教えて下さい。 現在、テーブルを作ってJavascript　onclickでbgColorが変わるものを作りました。 そして、その中にinputで文字を打てるようにしています。 変更したものをMysqlにデータ保存したいと考えました。 $result1 = mysqli_query($db,'SELECT pi,bg FROM bbi where id=1'); <td bgColor="<?= (htmlspecialchars($data1['bg'],ENT_QUOTES)) ?>" id="ch1" onclick='chgColor1()'> <input type="text" name="a1i" value="<?= (htmlspecialchars($data1['pi'],ENT_QUOTES)) ?>" /> </td> postで受け渡す時に”文字”は $bbc= $_POST["a1i"];で出来るのですが、背景色のbgColorができません。 postはname属性でvalueを持ってきているようですが、tdのbgColorはどうやって持ってきて良いのか分かりません。 いろいろ調べたのですがどうしても分かりませんでしたので教えて下さい。 宜しくお願い致します。
お世話になります。 テキストファイルからメールタイトルと本文を読み込みしてメール送信しているのですが テキストファイルには以下のようになっております。 タイトル 本文<br>本文 ２行にまとまってますのでそれぞれ読み込みして整理してメール送信するのですが 何故かタイトルの先頭にハテナマークが出てしまってどうしても消せません。 mb_language("Japanese"); mb_internal_encoding("UTF-8"); $mail_title = file("mail_data.txt");//文字コードUTF８ $mail_title2 = trim($mail_title[0]); //print $mail_title2 >> タイトルとハテナなしでちゃんと表示されます。 mb_send_mail(省略・,$mail_title2) で送信すると「？タイトル」となってしまいます。 ちなみに文字化けは一切ありません。ハテナがおおいだけです。また $mail_title2 = 'タイトル';と指定するとハテナがなくちゃんとしたメールになります。 $mail_title2をアンエスケープや文字コード変換などして見ましたがだめでした。 お手上げ状態でどなたかお願いします。
XAMMP portable win32-5.6.15-2-VC11.zipを解凍後USBメモリーに移行したのですが、下記エラーのためApacheとmysqlのＳtartボタンが点灯していません。 13:39:35 [Apache] Problem detected: Apache Not Found! 13:39:35 [Apache] Disabling Apache buttons 13:39:35 [Apache] Run this program from your XAMPP root directory! 13:39:35 [mysql] Problem detected: MySQL Not Found! 13:39:35 [mysql] Disabling MySQL buttons 13:39:35 [mysql] Run this program from your XAMPP root directory! 13:39:35 [filezilla] Problem detected: FileZilla Not Found! 13:39:35 [filezilla] Disabling FileZilla buttons 13:39:35 [filezilla] Run this program from your XAMPP root directory! 13:39:35 [mercury] Problem detected: Mercury Not Found! 13:39:35 [mercury] Disabling Mercury buttons 13:39:35 [mercury] Run this program from your XAMPP root directory! 13:39:35 [Tomcat] Problem detected: Tomcat Not Found! 13:39:35 [Tomcat] Disabling Tomcat buttons 13:39:35 [Tomcat] Run this program from your XAMPP root directory! 13:39:35 [Tomcat] Problem detected: Required Tool catalina_start.bat Not Found! 13:39:35 [Tomcat] Problem detected: Required Tool catalina_stop.bat Not Found! 13:39:35 [Tomcat] Problem detected: Required Tool catalina_service.bat Not Found! そこで、USBメモリーに再度、xampp-win32-5.6.15-2-VC11.zipをインストールしました。 前回同様『xampp-control.exe』を実行し起動できましたが、前回同様エラーメッセージが出てしまいました。 また、setup_xampp.batのある場所にphpフォルダの確認をしたところ、下記エラーが出てまいりました。 [XAMMP]:Test php.exe with php\php.exe-n-d output_buffering=0--version... 指定されたバスが見つかりません。 [ERROR]:Test php.exe failed !!! [ERROR]:Perhaps the Microsoft C++2008 runtime package is not installed. [ERROR]:Please try to install the MS VC++2008 Redistributable Package for the Microsoft page first [ERROR]:http://www.microsoft.com/en-us/download/details. … ########## END XAMMP TEST SECTION ######## 続行するには何かキーを押してください... phpフォルダ内にphp.exeは存在していました。 この場合、どのようにしたらよいのでしょうか。 順を追ってお教え下さいましたら幸いです。 宜しくお願いいたします。
PHPの初心者です。 下記のコードがありますが、m_magazine（DBのテーブル名）の中にそれぞれの月のmagazine_id(1、2、3…と番号順に登録してあります。)と月刊のurl、タイトルであるmagazine_titleなどのカラムを収納させてあります。 生成させた今月号の月刊ページには来月号のリンクと先月号のリンクを自動的に取得させたいのですが、どのようにすれば取得できますでしょうか。 たとえば、今月号のテンプレートに下記のように記述しますと <a href ="%%m_magazine:url%%">%%m_magazine:magazine_title%%</a> で今月号のURLとタイトルを取得することができます。 先月号と来月号の表示は以下のようにしようと考えております。 「 来月の月刊へ：<a href ="来月の月刊のIDを見てurlを取得”>来月の月刊のIDを見てmagazine_titleを取得</a> 先月の月刊へ：<a href ="先月の月刊のIDを見てurlを取得”>先月の月刊のIDを見てmagazine_titleを取得</a>」 どなたか教えて頂けたら幸いです。 よろしくお願い致します。
こんにちは^^お世話になります。 　以下のプログラムでわからないところがあります。 ------------------------------------------------------ <!DOCTYPE html> <html> <head> <title>P191 P448 Sample6-ren1▸ 配列</title> </head> <body> <?php $test = array(80,60,22,50,75); $max = 0; ?> <table border="2"> <tr bgcolor="#AAAAAA"> <th>番号</th> <th>点数</th> </tr> <?php foreach($test as $id => $value){ if($max < $test[$id]) $max = $test[$id]; print "<tr><td>{$id}</td><td>{$value}</td></tr>\n"; } ?> </table> <?php print "<br/>最高得点{$max}です。<br/>\n"; ?> </body> </html> --------------------------------------------------------------------- 以上ですが・・ 　foreach($test as $id => $value){ if($max < $test[$id]) $max = $test[$id]; print "<tr><td>{$id}</td><td>{$value}</td></tr>\n"; 「＄id」で質問があります。 　以下の”画像を添付で”「＄id」に当たるのは矢印で指すしいる”番号の列の”0～4” 　を担当しているのでしょうか？ 　よろしくお願いいたします。
PHPの初心者です。 下記のコードは月刊のテキスト文面を登録してバックナンバーページに生成させるphpのコード例です。 magazine_inputに月刊のテキスト文面を入力してmagazine_confirmの確認画面に行き、magazine_doneに行って登録完了画面の後に、生成の処理があります。 月刊のテキスト文面は登録が完了したら「magazine_text」としてDBに収納される構造です。 magazine_inputに入力したテキスト文面の空行を<br/>に変換するにはどう書けばよろしいでしょうか。 イメージは 「 月刊タイトル あいうえお かきくけこ さしすせそ 」 がmagazine_confirmにおいて下記のような表示になり、実際に生成するページにも反映してきちんと改行する感じです。 「 月刊タイトル <br/> あいうえお <br/> <br/> かきくけこ <br/> <br/> <br/> さしすせそ 」 nl2br($h["magazine_text"]);を書いてみたのですが、動作しませんでした。 どなたか教えて頂けますでしょうか。 コード例： // -> 月刊 入力 } else if ($mode == "magazine_input") { // -> 月刊情報参照 if ($para['magazine_id'] == "") { $data['ctl_add'] = 'y'; } else { $sql = "select * from m_magazine where magazine_id = '%%1%%'"; $ret = f_db_select($sql, $para['magazine_id']); $data = array_shift($ret); } // magazine_id をリードオンリーにする $data['READONLY_magazine_id'] = 'readonly'; } // -> 月刊 確認 if ($mode == "magazine_confirm") { // 妥当性チェック require 'lib/validate_magazine.php'; $err = f_validate_magazine_confirm(); if (count($err) > 0) f_err_exit($err); nl2br($h["magazine_text"]); // -> 月刊 完了 } else if ($mode == "magazine_done") { // 妥当性チェック require 'lib/validate_magazine.php'; $err = f_validate_magazine_confirm(); if (count($err) > 0) f_err_exit($err); // DB更新 require 'lib/dbupdate_magazine.php'; f_dbupdate_magazine_done(); よろしくお願い致します。
PHPでログイン機能を作成しています。 エラーが出てしまって上手くログインできません。 以下の情報から分かることがありましたら教えて下さい。 レンタルサーバーはフレンドサーバーです。 PHPmyadminのバージョンは4.5.5になります。 作成と言っても、 http://516.jp/2827 を参考にほぼ丸写しなのですが・・・ ログインユーザーの登録ページ（insert.php）では $link = mysql_connect('localhost', 'hogehoge', 'hogehoge'); if (!$link) { die('接続失敗です。'.mysql_error()); } はデータベースに接続が出来て、問題なくユーザー登録は行えます。 しかし、ログインページ（login.php）で 上のページで登録したユーザーIDとパスワードでログインしようとするのですが、 login.phpのユーザーID入力の欄には Notice: Undefined index: userid in /var/www/vhosts/********.com/login.php on line 86 と表示されます。 ユーザーIDとパスワードを入力してログインを押すと Unknown MySQL server host 'localhost' (1) と表示されます。 接続のソースは上記参考にしたページの転載になりますが、以下になります。 <?php //require 'password.php'; // セッション開始 session_start(); ini_set("display_errors", On); error_reporting(E_ALL); // エラーメッセージの初期化 $errorMessage = ""; // ログインボタンが押された場合 if (isset($_POST["login"])) { // １．ユーザIDの入力チェック if (empty($_POST["userid"])) { $errorMessage = "ユーザIDが未入力です。"; } else if (empty($_POST["password"])) { $errorMessage = "パスワードが未入力です。"; } // ２．ユーザIDとパスワードが入力されていたら認証する if (!empty($_POST["userid"]) && !empty($_POST["password"])) { // mysqlへの接続 $mysqli = new mysqli('localhost', 'hogehoge', 'hogehoge'); if ($mysqli->connect_errno) { print('<p>データベースへの接続に失敗しました。</p>' . $mysqli->connect_error); exit(); } // データベースの選択 $mysqli->select_db('*****（データベース名）'); // 入力値のサニタイズ $userid = $mysqli->real_escape_string($_POST["userid"]); // クエリの実行 $query = "SELECT * FROM *****（テーブル名） WHERE name = '" . $userid . "'"; $result = $mysqli->query($query); if (!$result) { print('クエリーが失敗しました。' . $mysqli->error); $mysqli->close(); exit(); } while ($row = $result->fetch_assoc()) { // パスワード(暗号化済み）の取り出し $db_hashed_pwd = $row['password']; } // データベースの切断 $mysqli->close(); // ３．画面から入力されたパスワードとデータベースから取得したパスワードのハッシュを比較します。 //if ($_POST["password"] == $pw) { if (password_verify($_POST["password"], $db_hashed_pwd)) { // ４．認証成功なら、セッションIDを新規に発行する session_regenerate_id(true); $_SESSION["USERID"] = $_POST["userid"]; header("Location: main.php"); exit; } else { // 認証失敗 $errorMessage = "ユーザIDあるいはパスワードに誤りがあります。"; } } else { // 未入力なら何もしない } } ?> よろしくお願いします。
PHPの初心者です。下記のコードはDBに月刊情報を収納させて、$sqlやSQL文でやり取りする構造です。 構造や意味が理解できないコードがありますので、断片的な内容となりますが、どなたか解説をお願いできますでしょうか。質問が多くてすみません。 回答するのに追加情報が必要の場合は教えてください。 よろしくお願い致します。 ⑨コード： 「for ($wk=1; $wk<=2; $wk++) { if ($dir = opendir("template_cms/")) { while (($inc_file = readdir($dir)) !== false) { if ($inc_file != "." && $inc_file != "..") { if (preg_match('/%%include:'.$inc_file.'%%/', $buff)) { $inc_buff = file_get_contents('template_cms/'.$inc_file); $buff = preg_replace('/%%include:'.$inc_file.'%%/', $inc_buff, $buff); } } } closedir($dir); } }」 質問：「($wk=1; $wk<=2; $wk++)」の条件の指定、「readdir($dir)」の意味、「if ($inc_file != "." && $inc_file != "..")」の「"."」と「".."」の違い、「$buff = preg_replace('/%%include:'.$inc_file.'%%/', $inc_buff, $buff);」の意味と「closedir($dir);」の意味は何でしょうか。 　closedirに関して調べましたらディレクトリハンドル（ディレクトリ名）をクローズすると解釈されましたが、なぜクローズするのか合わせて教えて頂けたら幸いです。 ⑩コード： 「$cdirs = array(); foreach ((array)$m_magazine_m as $m) { array_push($cdirs, '/'.$m['magazine_id'].'/'); } foreach ($cdirs as $cdir) { if ($handle = opendir('..'.$cdir)) { while ($fname = readdir($handle)) { $filename1 = $cdir.$fname; $filename2 = '..' . $cdir.$fname; if(! preg_match("/^\./", $fname) && is_file($filename2) && $url_list[$filename1] == '' && $fname != 'index.html') { unlink($filename2); magazine_cms_log("removed ".$filename1); } } } }」 質問：$cdirs = array();の指定は「foreach ((array)$m_magazine_m as $m) {」以降の指定のように配列するという意味でしょうか。 　「$m_magazine_m as $m)」の「_m」と「$m」はどういう意味でしょうか。 　「array_push($cdirs, '/'.$m['magazine_id'].'/');」には月刊IDという要素を$cdirsに追加する意味でしょうか。 ⑪「fwrite($fp, $dt . " " . $msg . "\n");」の中の「" "」はどういう意味でしょうか。 　「 " " 」の両脇の「. 」と「 .」は変数を繋げるための記述でしょうか。 ⑫コード： 「 global $conf; global $para; global $staff; global $data;」 質問：グローバル宣言する理由はほかのPHPファイルでも使えるようにする意味かと思いますが、この4つの変数は独自で改変可能な変数でしょうか。 ⑬「$sql = "select count(*) as cnt from m_magazine where magazine_id = '%%n%%'";」の「%%n%%」のように「%%%%」で囲ったらDBを参照する意味になりますでしょうか。 ⑭コード： 「if ($h['cnt'] > 0) { array_push($err, "その「月刊ID」は既に利用されています。"); }」 質問：「$h['cnt'] > 0」の中の「cnt」はCOUNTでしょうか。「 > 0」は0より大きいIDということでしょうか。 ⑮ コード： 「$sql = "insert into m_magazine (magazine_id, url, meta_description, magazine_datetitle, magazine_title, magazine_text, create_staff_id, modify_staff_id, create_datetime, modify_datetime, is_deleted) values ('%%n%%', '%%n%%', '%%n%%', '%%n%%', '%%n%%', '%%n%%', '%%n%%', '%%n%%', now(), now(), 'n')";」 質問：%%n%%は任意数という意味でしょうか。 ⑮コード： 「foreach ($arr as $key) { if ($wk[$key] == "") { $sql = "insert into m_conf (var, val, comment, create_staff_id, modify_staff_id, create_datetime, modify_datetime, is_deleted) values ('%%1%%', '%%2%%', '', '%%3%%', '%%4%%', now(), now(), 'n')"; $ret = f_db_update($sql, $key, time(), $staff['staff_id'], $staff['staff_id']); } else { $sql = "update m_conf set val = '%%1%%', modify_staff_id = '%%2%%', modify_datetime = now() where var = '%%3%%'"; $ret = f_db_update($sql, time(), $staff['staff_id'], $key); } }」 質問：「$wk[$key] == ""」はどういう処理になりますでしょうか。 「%%1%%」はDBに入れる順番で「''」はどういう意味でしょうか。 「%%」や「''」など演算子ではなく、ネットで検索しても見つけなかった符号または記号が理解しにくかったのですが、何かオススメのリファレンスはありませんでしょうか。
PHPの初心者です。下記のコードはDBに月刊情報を収納させて、$sqlやSQL文でやり取りする構造です。 構造や意味が理解できないコードがありますので、断片的な内容となりますが、どなたか解説をお願いできますでしょうか。質問が多くてすみません。 回答するのに追加情報が必要の場合は教えてください。 よろしくお願い致します。 ①コード： 「 $sql .= " from m_magazine "; if ($para['is_deleted'] == "y") { $sql .= " where m_magazine.magazine_id is not null "; } else if ($para['is_deleted'] == "yonly") { $sql .= " where m_magazine.is_deleted = 'y' "; } else { $sql .= " where m_magazine.is_deleted = 'n' "; } 」 質問：こちらのif文の意味は何でしょうか。 　「 else if ($para['is_deleted'] == "yonly") {」の「yonly」の指定はどういう意味でしょうか。 ②コード： 「$sql .= " and m_magazine.magazine_id = '" . f_db_escape($para['magazine_id']) . "' ";」 質問：「. 」と「' "」はどういう意味と役割でしょうか。 ③コード：「「if ($para['orderby'] == "magazine_title_desc") { $sql .= " order by m_magazine.magazine_title desc"; } else if ($para['orderby'] == "magazine_title_asc") { $sql .= " order by m_magazine.magazine_title asc";」 質問：「desc」と「asc」を両方指定する意味は何でしょうか。 ④「$sql .= " , m_magazine.magazine_id asc";」はDBからとってきた月刊IDが昇順で並ばせるような指定でしょうか。 ⑤コード： 「$data['ct_total'] = 0; $data['ct_min'] = 1 + ($conf['CT_PER_PAGE'] * ($para[page] -1)); $data['ct_max'] = $conf['CT_PER_PAGE'] * $para[page]; $ret = f_db_select2($sql); while ($h = mysql_fetch_array($ret)) { $data['ct_total']++; if ($data['ct_total'] < $data['ct_min']) continue; if ($data['ct_max'] < $data['ct_total']) continue;」 質問：$dataはDBのパラメータ（設定値）を見る関数として設定されていますでしょうか。 　「['ct_total'] = 0;」はどういう意味でしょうか。 　「$data['ct_min'] = 1 + ($conf['CT_PER_PAGE'] * ($para[page] -1));」の式の意味は何でしょうか。 　「$conf」は「CT_PER_PAGE」を設定するための関数でしょうか。 　「ct_」という記述はどういう文法でしょうか。 　['ct_min']と['CT_PER_PAGE']のように小文字と大文字を区別する意味は何でしょうか。 　$retはDBからの出力で、$resはDBへの入力という理解でよろしいでしょうか。 ⑥「if ($data['list'] == "") $data['list'] = '<tr><td class="bg_cont" colspan="6">データがありません</td></tr>';」の「""」は初期化という理解でよろしいでしょうか。 ⑦コード： 「 if ($para['magazine_id'] == "") { $data['ctl_add'] = 'y'; } else { $sql = "select * from m_magazine where magazine_id = '%%1%%'"; $ret = f_db_select($sql, $para['magazine_id']); $data = array_shift($ret); }」 質問：「$data['ctl_add'] = 'y';」はどういう意味でしょうか。 「%%1%%」という指定はidを「1」からセレクトするという意味でしょうか。 「array_shift」を調べますと、配列から先頭の要素を取り除くとありますが、先頭の要素はこの場合ではIDではなく、どの要素を指しますでしょうか。 「$data['READONLY_magazine_id'] = 'readonly';」は月刊IDを読み出し専用指定という意味でしょうか。 読み出し専用指定にする意味は何でしょうか。 ⑧コード： 「 require 'lib/validate_magazine.php'; $err = f_validate_magazine_confirm(); if (count($err) > 0) f_err_exit($err);」 質問：こちらの処理は「エラーはvalidate_magazine.phpを通して、もし1個以上ありましたらvalidate_magazine.phpで設定しましたエラーメッセージを出す」という意味でしょうか。 　「f_err_exit」の「exit」は出力という意味でしょうか。
XAMMP portable win32-5.6.15-2-VC11.zipを解凍後USBメモリーに移行したのですが、下記エラーがでていてApacheとmysqlのＳtartボタンが点灯していません。 どのようにすれば使用できますか。 初心者ですので詳しくお教え下さい。 宜しくお願いいたします。 13:39:35 [Apache] Problem detected: Apache Not Found! 13:39:35 [Apache] Disabling Apache buttons 13:39:35 [Apache] Run this program from your XAMPP root directory! 13:39:35 [mysql] Problem detected: MySQL Not Found! 13:39:35 [mysql] Disabling MySQL buttons 13:39:35 [mysql] Run this program from your XAMPP root directory! 13:39:35 [filezilla] Problem detected: FileZilla Not Found! 13:39:35 [filezilla] Disabling FileZilla buttons 13:39:35 [filezilla] Run this program from your XAMPP root directory! 13:39:35 [mercury] Problem detected: Mercury Not Found! 13:39:35 [mercury] Disabling Mercury buttons 13:39:35 [mercury] Run this program from your XAMPP root directory! 13:39:35 [Tomcat] Problem detected: Tomcat Not Found! 13:39:35 [Tomcat] Disabling Tomcat buttons 13:39:35 [Tomcat] Run this program from your XAMPP root directory! 13:39:35 [Tomcat] Problem detected: Required Tool catalina_start.bat Not Found! 13:39:35 [Tomcat] Problem detected: Required Tool catalina_stop.bat Not Found! 13:39:35 [Tomcat] Problem detected: Required Tool catalina_service.bat Not Found! またsetup_xampp.batを実行すると コマンドプロンプトにはこのように表示されました。 Sorry...cannot find php cli! Must abort these process! 続行するには何かキーを押して下さい...
現在PHPで一般ユーザーが利用できる写真投稿システムを作成しています。 その投稿された写真データのセキュリティ対策についての質問です。 現在のシステムではファイル拡張子と容量をチェックした後、 imagecreatetruecolor()で空の画像データを作成し、 imagecopyresampled()でリサイズ後に出力させてます。 上記処理の後、サーバのpublic_html以下に保存し、 掲載ページから読み込んで表示させる仕様です。 （参考記事） http://news.mynavi.jp/news/2013/08/30/113/ 昨今ではWebサーバを遠隔操作するバックドア型の不正プログラムを JPGファイルのExif情報に仕込まれている場合があるそうですが、 これについては上記の処理で排除されている認識でよいでしょうか？ この他、Exif情報以外にウィルスなどの不正プログラムが感染し、 サーバやアクセスしたＰＣに悪影響を及ぼす可能性はないでしょうか？ 例えば、投稿された画像は一旦ウィルスチェックソフトで検査し、 問題なかった画像データのみをWeb上で公開すべきでしょうか？ （参考記事） http://detail.chiebukuro.yahoo.co.jp/qa/question … システム側で取るべきセキュリティ対策について、 諸々ご教示いただけますと助かります。 よろしくお願い致します。
XAMMP portable win32-5.6.15-2-VC11.zipを解凍後USBメモリーに移行したのですが、下記エラーがでていて起動しません。 それに伴い、ApacheとmysqlのＳtartボタンも点灯していません。 どのようにすれば使用できるようになるのでしょうか。 初心者ですので詳しくお教え下さい。 宜しくお願いいたします。 13:39:35 [Apache] Problem detected: Apache Not Found! 13:39:35 [Apache] Disabling Apache buttons 13:39:35 [Apache] Run this program from your XAMPP root directory! 13:39:35 [mysql] Problem detected: MySQL Not Found! 13:39:35 [mysql] Disabling MySQL buttons 13:39:35 [mysql] Run this program from your XAMPP root directory! 13:39:35 [filezilla] Problem detected: FileZilla Not Found! 13:39:35 [filezilla] Disabling FileZilla buttons 13:39:35 [filezilla] Run this program from your XAMPP root directory! 13:39:35 [mercury] Problem detected: Mercury Not Found! 13:39:35 [mercury] Disabling Mercury buttons 13:39:35 [mercury] Run this program from your XAMPP root directory! 13:39:35 [Tomcat] Problem detected: Tomcat Not Found! 13:39:35 [Tomcat] Disabling Tomcat buttons 13:39:35 [Tomcat] Run this program from your XAMPP root directory! 13:39:35 [Tomcat] Problem detected: Required Tool catalina_start.bat Not Found! 13:39:35 [Tomcat] Problem detected: Required Tool catalina_stop.bat Not Found! 13:39:35 [Tomcat] Problem detected: Required Tool catalina_service.bat Not Found!
<!DOCTYPE html> <html> <head> <title>P185 Sample6-15▸ 多次元配列</title> </head> <body> <?php $data[0][0] = "東京"; $data[0][1] = 32;//$data[0][●]に東京のデータを格納します。 $data[0][2] = 25; $data[1][0] = "名古屋"; $data[1][1] = 28;//$data[1][●]に名古屋のデータを格納します。 $data[1][2] = 21; $data[2][0] = "大阪"; $data[2][1] = 27;//$data[2][●]に大阪のデータを格納します。 $data[2][2] = 20; $data[3][0] = "京都"; $data[3][1] = 26;//$data[3][●]に京都のデータを格納します。 $data[3][2] = 19; $data[4][0] = "福岡"; $data[4][1] = 27;//$data[4][●]に福岡のデータを格納します。 $data[4][2] = 22; ?> <table border="2"> <tr bgcolor="#AAAAAA"> <th>都市名</th> <th>最高気温</th> <th>最低気温</th> </tr> <?php for($i=0; $i<count($data); $i++){ print "<tr>"; for($j=0; $j<count($data[0]); $j++){ print "<td>{$data[$i][$j]}</td>";//配列の要素を出力する。 } print "</tr>\n"; } ?> </table> </body> </html> 　以上ですが 　 　以下の添付ファイルを参考にされて、 　for($i=0; $i<count($data); $i++){　は表のどこの部分をカウントしているのでしょうか？ 　for($j=0; $j<count($data[0]); $j++){　は表のどこの部分をカウントしているのでしょうか？ 質問になっているのか定かではないのですが！？　 　よろしくお願いたします。
phpexcelをダウンロードして使用しています。以下がphpexcelにてexcelのデータを出力させる方法と認識しておりますがどうやってsubmitボタンを押下した際にこのコマンドが実行されるのかが分かりません。初心者で申し訳ございませんが、ご教示頂けますようお願い致します。 $book = new PHPExcel(); //シートを設定する $book->setActiveSheetIndex(0);//一番最初のシートを選択 $sheet = $book->getActiveSheet();//選択シートにアクセスを開始 $sheet->setTitle('sheet1'); //シート名を設定する // テーブルヘッダを書き込む // テーブルヘッダを書き込む $sheet->setCellValue('A1', '製造日'); $sheet->setCellValue('B1', '賞味期限'); $sheet->setCellValue('C1', '商品'); $sheet->setCellValue('D1', '個数'); $row = 2; foreach ($result as $item) { $sheet->setCellValue("A$row", $item['seizoubi']); $sheet->setCellValue("B$row", $item['syoumi']); $sheet->setCellValue("C$row", $item['syouhin']); $sheet->setCellValue("D$row", $item['kosu']); $row++; } //Excel2007形式で出力する準備 //「vnd.ms-excel」だとブラウザによってはそのまま開いたりするのでこの方が良いかと header('Content-Type: application/octet-stream'); //ダウンロードするファイル名を設定 header('Content-Disposition: attachment;filename="test.xls"'); $writer = PHPExcel_IOFactory::createWriter($book, "Excel5");//EXCEL2007形式 $writer->save('php://output');//出力開始
<!DOCTYPE html> <html> <head> <title>P185 Sample6-15▸ 多次元配列</title> </head> <body> <?php $data[0][0] = "東京"; $data[0][1] = 32;//$data[0][●]に東京のデータを格納します。 $data[0][2] = 25; $data[1][0] = "名古屋"; $data[1][1] = 28;//$data[1][●]に名古屋のデータを格納します。 $data[1][2] = 21; $data[2][0] = "大阪"; $data[2][1] = 27;//$data[2][●]に大阪のデータを格納します。 $data[2][2] = 20; $data[3][0] = "京都"; $data[3][1] = 26;//$data[3][●]に京都のデータを格納します。 $data[3][2] = 19; $data[4][0] = "福岡"; $data[4][1] = 27;//$data[4][●]に福岡のデータを格納します。 $data[4][2] = 22; ?> <table border="2"> <tr bgcolor="#AAAAAA"> <th>都市名</th> <th>最高気温</th> <th>最低気温</th> </tr> <?php for($i=0; $i<count($data); $i++){ print "<tr>"; for($j=0; $j<count($data[0]); $j++){ print "<td>{$data[$i][$j]}</td>";//配列の要素を出力する。 } print "</tr>\n"; } ?> </table> </body> </html> 以上ですが・・・だんだん難しくなってきました！ 　さて 　 print "<td>{$data[$i][$j]}</td>";の　$dataと「直接関係」があるところは 　１） for($j=0; $j<count($data[0]); $j++){　　 　２）$data[0][0] = "東京";～$data[4][2] = 22; 　　の１)２)のどちらと「直接関係」があるのでしょうか？ 　以上よろしくお願いいたします。
バックナンバー一覧のタイトルを年別に生成させた上に、該当の年月の日記を該当年のバックナンバーに所属させて日記のタイトルだけ表示させたいです。 イメージで下記のコーディングを書いてみましたが、どなたか教えて頂けますでしょうか。 よろしくお願い致します。 【生成イメージ】 「 バックナンバータイトル：2016年バックナンバー 2016年3月の日記 2016年2月の日記 2016年1月の日記 （中略） バックナンバータイトル：2011年バックナンバー 2011年12月の日記 」 【コード】 // 日記バックナンバー一覧の置換 $buff = preg_replace('/%%list%%/', $wkbuff, $buff); $thisyear = date('Y'); //想定：2016 $str = diary_id'; //想定例：201601(年月ごとにidを付けています、) $substr = substr($str, 0, 2); //想定：2016 $num10 = intval($substr); //2016を数値化 $otheryear = date("$thisyear" > "$num10"); //想定例：2015以前 //想定：2011以後の年ごと生成かつ同じ年のものは生成しない foreach ($otheryear as $num10 <= $thisyear <= 2011) { if ($otheryear = $thisyear){ $h['date_backnumber']; } else if ($otheryear > $thisyear <= "2011") { $h['date_backnumber']; } else if ($otheryear = $otheryear !== false); } $wkbuff .= <<<EOF <h4>{$h['date_backnumber']}年日記バックナンバー</h4> <dl class="dl1"> <dt><a href="{$h['url']}">{$h['diary_datetitle']}</a></dt> EOF; よろしくお願い致します。
はじめてphpをくんだものです。 フォーム記入者に送信完了メッセージをおくることは出来たのですが、 入力されたフォームの内容を管理者のメールに届くようできません。 どのようにしたら、フォームの内容を管理者のメールに届くようにできますか？ ぜひ教えてください。 宜しくお願い致します。 ちなみに送信完了ページのコードは下記のようになっています。 <!DOCTYPE html> <html> <head> <meta charset="utf-8"> <title>送信完了画面</title> </head> <body> <?php $mailto = "mikuronbomber@gmail.com"; $onamae=$_POST['onamae']; $mail=$_POST['mail']; print $onamae .'様<br>'; print $mail .'に確認メールを送りました。お問い合わせありがとうございました。<br>'; $mail_mes=$onamae."様\nお問い合わせありがとうございました。\n"; $mail_sub='ECCベストワン'; $mail_head='From:mikuronbomber@gmail.com'; $mail_mes=html_entity_decode($mail_mes,ENT_QUOTES,'UTF-8'); mb_language('Japanese'); mb_internal_encoding('UTF-8'); mb_send_mail($mail,$mail_sub,$mail_mes,$mail_head); ?> </body> </html>
PHPでの質問です。 $objectにはあるオブジェクトが入っており、 print_r($object)を実行すると以下の ２つのパターンが返ってくるとします。 パターン1（中身あり） stdClass Object ( [item] => abc ) パターン2（中身なし） stdClass Object ( ) 以下のif文において 中身があるかどうかを判定するには どうしたらいいでしょうか？ if(×××){ echo "中身あり"; }else{ echo "中身なし"; } ※ただし中身ありの場合、 [item] => abc は、 [fruit] => apple などのように どんな要素が入っているかは分かりません。 //間違い例 //下記のコードだとどちらも「中身あり」が出力されます。 if(isset($object)){ echo "中身あり"; }else{ echo "中身なし"; } またオブジェクトや要素などの言葉の使い方が間違っていたら そちらも指摘して頂いたら幸いです。 以上よろしくお願いいたします。
phpでウェブ上にある画像リンクから画像を自分のサーバーに保存するときに、決まった大きさにして保存したいのですが、どうやってやればいいかわかりません。 保存したい画像は決まったサイズでもなく、縦横比もそれぞれ違います。 これを決まったサイズ＆縦横比も合わせたいと考えています。 例えば、 設定したいサイズ：（縦）500px - （横）500px 元の画像A：（縦）1000px - （横）1000px 元の画像B：（縦）1000px - （横）700px 画像Aであれば、縦横を半分にするだけなので簡単にできるのですが、 画像Bを500px - 500pxのサイズにするのですが、縦横比を維持したままにしたいです。余白は設定した色にする。 なので、 （縦）500px - （横）350px のサイズにして、左右中央に設置して余白は背景色を設定して、 （縦）500px - （横）500px のサイズにしたいのです。 どうすれば良いか分からず困っています。 ご教授お願いします。
ネットから情報を自動的に取得する「スクレイピング」ですが、どのような言語で動作するのでしょうか？ ネットを拝見しますと、phpで「スクレイピング」という記事を見ました。 phpはサーバー上で動作する言語だと思うのですが、仮に動作させようとした場合は、どのような流れで「スクレイピング」を行うのでしょうか？ 教えて頂けると助かります。
<!DOCTYPE html> <html> <head> <title>P178 Sample6-13▸ 配列と変数を変換する</title> </head> <body> <?php $city = array("東京","東京","名古屋", "京都","大阪","福岡"); extract($city,EXTR_PREFIX_ALL, "c"); ?> <h3>変数で表示する</h3> <table border="2"> <tr bgcolor="#AAAAAA"> <th>都市名</th> </tr> <?php print "<tr><td>{$c_0}</td></tr>\n"; print "<tr><td>{$c_1}</td></tr>\n"; print "<tr><td>{$c_2}</td></tr>\n"; print "<tr><td>{$c_3}</td></tr>\n"; print "<tr><td>{$c_4}</td></tr>\n"; $world = compact("c_0","c_1","c_2","c_3","c_4"); ?> </table> <h3>配列で表示する</h> <table border="2"> <tr bgcolor="#AAAAAA"> <th>番号</th> <th>都市名</th> </tr> <?php foreach($world as $id => $value){ print "<tr><td>{$id}</td><td>{$value}</td><tr>\n"; } ?> </table> </body> </html> 以上ですが 　$city = array("東京","東京",・・・);とわざと重複しました。 　　それで 　１）extract($city,EXTR_PREFIX_ALL, "c");/*すべてプレフィックスをつける*/ 　　から 　２）extract($city,EXTR_OVERWRITE, "c");/*重複があった場合上書きする*/ 　としたところ　エラーになりました。なので、今のところ以上のプログラムにしたら「添付ファイル」の表と通りとなりました。はじめてすることはよくわからないのですが２）にしたら、”東京が上書きされて”「C_1」行には名古屋が入ると期待していたところ的外れでした・・そもそも違った使い道をしているのでしょうか・・よくわかりません。教えていただけないでしょうか。よろしくお願いいたします。
<!DOCTYPE html> <html> <head> <title>P174 Sample6-12 ｷｰをｿｳｰﾄする</title> </head> <body> <?php $stock = array("みかん"=>80,"いちご"=>60, "りんご"=>22,"もも"=>50,"くり"=>75); ?> <h3>並べ替え前</h3> <table border="2"> <tr bgcolor="#AAAAAA"> <th>商品名</th> <th>個数</th> </tr> <?php foreach($stock as $key => $value){ print "<tr><td>{$key}</td><td>{$value}</td><tr>\n"; } ksort($stock); ?> </table> <h3>並べ替え後</h3> <table border="2"> <tr bgcolor="#AAAAAA"> <th>商品名</th> <th>個数</th> <?php foreach($stock as $key => $value){ print "<tr><td>{$key}</td><td>{$value}</td><tr>\n"; } ?> </table> </body> </html> 　以上のプログラムですが・・！ 　「あいうえお順」に「並べ替え後」は以下の「ファイル添付」でもお分かりですが並べ替えになっています。 　試に「abcde順」でも結果は同じでした。日本語も対応しているみたいで、”韓国語”、まして、”アラビア語”も対応しているのでしょうか？　もし対応でしたら、それは既に≪XAMPP≫でプログラムされているので、「ksort」が働くとの理解でOKなのでしょうか・・・プログラムの理解を深める上でふと疑問に思いました。よろしくお願いいたします。
<!DOCTYPE html> <html> <head> <title>P171 Sample6-11 配列ｿｳｰﾄ</title> </head> <body> <?php $test = array("22","80", "75","60","50"); sort($test); ?> <h3>昇順</h3> <table border="2"> <tr bgcolor="#AAAAAA"> <th>番組</th> <th>点数</th> </tr> <?php foreach($test as $id => $value){ print "<tr><td>{$id}</td><td>{$value}</td><tr>\n"; } rsort($test); ?> </table> <h3>昇順</h3> <table border="2"> <tr bgcolor="#AAAAAA"> <th>番組</th> <th>点数</th> <?php foreach($test as $id => $value){ print "<tr><td>{$id}</td><td>{$value}</td><tr>\n"; } ?> </table> </body> </html> 以上の「配列ソート」プログラムは結果が以下の”画像添付”の昇順・降順で”降順”を”昇順”になっていますが了承くださいませ。 　さて、以上のプログラムで、”番号”の項目で”01234”をつかさどっているプログラムはどこになるのでしょうか？ 　よろしくお願いいたします。
<!DOCTYPE html> <html lang="ja"> <head> <meta charset="UTF-8"> <title>Document</title> </head> <body><br> <?php $title=htmlspecialchars($_post['title'],ENT_QUOTES); $message=htmlspecialchars($_post['message'],ENT_QUOTES); $mail=htmlspecialchars($_post['mail'],ENT_QUOTES); $result = mb_send_mail('siawase840@gmail.com',$title,$message,'From:'+$mail); If ($result){ echo'you have send mail'; }else{ echo'failed'; } ?> </body> </html>
<!DOCTYPE html> <html lang="ja"> <head> <meta charset="UTF-8"> <title>Document</title> </head> <body><?php $title = $_post['title']; $email =$_post['email']; $message =$_post['message']; $result = mb_send_mail('siawaseXXX@gmail.com',$title,$massage,$email); If ($result){ echo'you have send mail'; }else{ echo'failed'; } ?> </body> </html>
上記のエラーがでます。 色々試してみましたが、どうしても解決できそうもありません。 if(PEAR::isError($stmt)){ die($stmt->getMessage()); } これで調べてみたところ、 MDB2 Error: syntax error このように表示されました。 以下の記述でおかしいところがあれば、ご指摘頂ければと思います。 また、そういった問題でなくエラーなのであれば、どのような原因が考えられるか教えてください。 よろしくお願いします。 //DB接続 $db = MDB2::connect($GLOBALS['DNS']); //プレースホルダで SQL 作成 $sql = "SELECT COUNT(*) AS CNT FROM AUTO_LOGIN WHERE TOKEN = ? AND REGISTRATED_TIME >= ?;"; //パラメーターの型を指定 $stmt = $db->prepare($sql, array("text", "timestamp")); if(PEAR::isError($stmt)){ die($stmt->getMessage()); } //2週間前の日付を取得 $date = new DateTime("- 14 days"); //パラメーターを渡して SQL 実行 $rs = $stmt->execute(array($token, $date->format("Y-m-d H:i:s"))); while ($row = $rs->fetchRow(MDB2_FETCHMODE_ASSOC)) { $count = $row['cnt']; } $db->disconnect();
PHP＋MySQLでこれから構築を考えているところです。 ログイン後、プロダクトの設定ページに移動した際に、プロダクトIDで詳細情報をDBから引っ張ってこようと思っていますが、ページ遷移するごとにDBにアクセスしてプロダクトIDを取得して一致しているか判別するのもなんだなぁと思ったのですが、よい方法はあるでしょうか。 ぱっと思いつくところでは、phpのセッション変数に載せることと、クッキーに保存することなのですが、どちらも書き換えが容易なので・・・ と、ここまで書いたところでふと思ったんですが、ログインのIDとパスワードもどう扱えばいいんでしょうか。 こちらもセッション変数とクッキーが一般的だと思いますが、こちらもページ遷移するたびに合致しているかDBに問い合わせるものなのでしょうか。 ちょっとメールアドレスも含まれるデータなので慎重な扱いが必要です。 よろしくお願い致します。
いつもお世話になります。 いろいろとこちらで教えていただいたお蔭で現在レンタルサーバーを借りてPHPの掲示板を運用しているのですが（その節は教えてくださった皆様どうもありがとうございました）、先日そのレンサバのHPをあちこち見てたら今まで見てなかったページに、PHPのパスが書いてあるのを見つけました（/usr/local/bin/php）。 きちんと調べてからアップしなかった私が悪いのですが、これって各ファイルに記述しないといけないものなのでしょうか？何も記述なしに普通に使えてるのですが、気になってます。 ちょっとネット上で調べたらCGIでPHPを使う場合に　みたいなのもみかけたのですが、それがどういう意味なのかもわかりません。 もし記述しないといけない場合ですが、ファイルの拡張子はhtmlであっても、中身にPHPの記述がある場合も記述しないといけないのでしょうか？ あと、sendmailを使っているページは、#!/usr/lib/sendmailを頭につけているわけですが、その上、あるいは下に同じようにしてつければよいのでしょうか？ 愚問で恐縮ですが、linux系がまったくわからないので教えていただけると大変嬉しいです。 どうぞよろしくお願いいたします。
プログラミング超初心者です。 よろしくお願いいたします。 $keyword = urlencode(mb_convert_encoding($prms['keyword'], 'EUC-JP', mb_detect_encoding($prms['keyword']))); $str = str_replace("%A%A1", "%20", $keyword); $str_array = explode ("%20", $str); $last = end($str_array);
C言語,C#ではネットを調べるとでてくるのですが、PHPでの記述は可能ですか？
fuelPHP1.7で他の人が作ったソースの改修を行っているのですが、不可解な症状が 出ているので、アドバイスを頂ければと思います。 ある処理のサブルーチンで関数を呼び出し、引数を渡して戻り値を取得する、という ものです。 サブルーチンは他のサブルーチンと一緒に別ファイルにまとめてありますが、その サブルーチンへは引数もわたっており、returnする変数の中には求めている戻り値 が入っているのは確認できているのですが、呼び出し元の戻り値を格納する変数に は値が取得できません。 同様のサブルーチンがこのサブルーチンとは別ファイルにあり、そちらでは取得で きているのですが、二つのサブルーチンを比較しても、やっていることに大きな違 いはなく、問題が切り出せずにいます。 問題がfuelPHPなのかも特定できないのですが、今までサブルーチンに引数を渡せば returnで戻ってくるもの、と決め込んでいましたが、returnする変数にきちんとした 値が入っているにもかかわらず、受け取り側で取得できないのは、どんな原因が考え られるでしょうか？ アドバイス頂ければ幸いです。
質問させて頂きます。 codeigniterで複数のモデルをまたいでトランザクションを設定したいと考えています。 ・Aモデル(Aテーブルの処理を実装) ・Bモデル(Bテーブルの処理を実装) codeigniterのトランザクション処理を調べると下記のようなサンプルを見つけました。 ----------------------------------- $this->db->trans_start(); $this->db->query('SQL クエリ...'); $this->db->query('もう一つのクエリ...'); $this->db->query('さらにもう一つのクエリ...'); $this->db->trans_complete(); ----------------------------------- 上記の方法でトランザクションを設定することが出来ると思うのですが、 この方法だと、Aモデルの中で、Aテーブル、Bテーブルの処理をしないといけないということでしょうか？ ----------------------------------- 【Aモデル】 $this->db->trans_start(); $this->db->query(Aテーブルのクエリ); $this->db->query(Bテーブルのクエリ); $this->db->trans_complete(); ----------------------------------- 個人的にAモデル・Bモデルを呼び出すコントローラー側でトランザクションの設定が出来ればと考えていたので、何かしらの方法があればご教授頂けると助かります。 もしそのような方法が無い場合は諦めたいと思います。 質問の内容に足りない点や矛盾した箇所などあった場合はお伝え下さい。 よろしくお願いいたします。
<!DOCTYPE html> <html> <head> <title>P161 Sample6-7 array()を使う</title> </head> <body> <?php $stock = array("みかん"=>80,"いちご"=>60,"りんご"=>22, "もも"=>50,"くり"=>57); ?> <table border="2"> <tr bgcolor="#AAAAAA"> <th>番号</th> <th>個数</th> </tr> <?php foreach($stock as $name => $value){ print "<tr><td>{$name}</td><td>{$value}個</td></tr>\n"; } ?> </table> </body> </html> 以上の　foreach($stock as $name => $value){　 　のforeach文は特殊な繰り返し文で$stockは”変数名”・$name"はキー(引出し)用の変数・ 　ここまでは何となく意味がわかります。最後のは$valueは”値用の変数”・・とあります。 　ここで言う、”値用の変数”の値とは何のことなのでしょうか？　 　よろしくお願いいたします。
質問させて頂きます。 下記のような2つの配列があったとして、それぞれの配列内に入っている[id]を元に、 ・配列AにだけあるID ・配列BにだけあるID ・両方の配列にあるID と分けたいのですが、どのような方法で取得するのが良いのでしょうか。 配列A array(2) { [0]=> array(4) { ["id"]=> int(1) 1 } [1]=> array(4) { ["id"]=> int(1) 2 } } 配列B array(2) { [0]=> array(4) { ["id"]=> int(1) 1 } [1]=> array(4) { ["id"]=> int(1) 3 } } 【結果】 配列A array(2) 配列B array(3) 共通 array(1) 急ぎのため、質問が雑になってしまい申し訳ありません。
if(isset($post_data['submit'])){ $placeholders[':userid']=$post_data['userid']; $placeholders[':date']=$post_data['date']; $placeholders[':extext']=$post_data['extext']; $sql='insert into extra(userid,date,extext) values(?,?,?) ON DUPLICATE KEY UPDATE extext=extext'; $stmt=$dbh->prepare($sql); $flag=$stmt->execute(array($placeholders[':userid'],$placeholders[':date'],$placeholders[':extext'])); var_dump($flag); if($flag){ print('update succeded<br>'); }else print('update failed<br>'); } 上記の文で、ON DUPLICATE KEY UPADATE extext='placeholders[':extext']' としたいのですが、 うまくいきません。duplicate key update 構文の中に、他からの引数を指定するにはどうしたらいいですか？
on duplicate update構文を使ってみたのですが、 うまくいきません。 update failed になります。 if(isset($post_data['submit'])){ $placeholders[':userid']=$post_data['userid']; $placeholders[':date']=$post_data['date']; $placeholders[':extext']=$post_data['extext']; $sql='insert into extra(userid,date,extext) values(?,?,?) ON DUPLICATE UPDATE extext=extext;'; $stmt=$dbh->prepare($sql); $flag=$stmt->execute(array($placeholders[':userid'],$placeholders[':date'],$placeholders[':extext'])); var_dump($flag); if($flag){ print('update succeded<br>'); }else print('update failed<br>'); }
下記の条件を満たしたリストを作成したいのですが、 どう作成すればいいのかわからず、混乱中です＞＜ お手数掛けますが、ご教授お願い致します [条件] 金額1-金額2で引いたときにプラスの場合 　金額1： 計算した値を入れる 　金額2： 0 金額1-金額2で引いたときにマイナスの場合 　金額1： 0 　金額2： 計算した値を入れる ※重複した値は削除する [データ] id　商品　　金額１　　金額２ 1　 あ　　　１００　　　　０ 2　 い　　　０　　　　２００ 3　 う　　　２００　　　　０ 1　 あ　　　０　　　　２００ 2　 い　　　４００　　　　０ ---------------------------------- [結果] 商品　　　金額1　　　金額2 あ　　　　　０　　 　　100　　　 い　　　　 200　　 　　０ う　　　　 200　　 　　０
if(isset($post_data['submit'])){ $placeholders[':userid']=$post_data['userid']; $placeholders[':date']=$post_data['date']; $placeholders[':extext']=$post_data['extext']; $sql='insert into extra(userid,date,extext) values('.$placeholders[':userid'].','.$placeholders[':date'].','.$placeholders[':extext'].')'; $stmt=$dbh->prepare($sql); $flag=$stmt->execute($placeholders); var_dump($flag); if($flag){ print('update succeded。<br>'); }else print('update failed<br>'); } 上記の文でインサートすると、update failed になり、インサートできません。 テーブルには他にidカラムがあり、auto incrementしています。 phpmyadmin からsql文でインサートすると、できました。
以下のコードをforeachでループしてphpmyadminからデータのやり取りをするためには どのようにコードを書けばいいでしょうか？ <article> <ul> <li><div><a href=""> <div>プレスリリース</div> <div>キャンペーン開始</div> <div>2015.12.02</div></a> </div></li> <li><div><a href=""> <div>プレスリリース</div> <div>キャンペーン開始</div> <div>2015.12.02</div></a> </div></li> <li><div><a href=""> <div>プレスリリース</div> <div>キャンペーン開始</div> <div>2015.12.02</div></a> </div></li> </ul> </article>
少し御無沙汰しております^^ めげづにほぼ毎日PHPを頑張っております。 　さて以下のプログラムで分からない部分のご解説のお願いで投稿いたしました。 <!DOCTYPE html> <html> <head> <title>P132 Sample5-8 if文などと組み合わせる </title> </head> <body> <?php $ch = 0; for($i=0; $i<5; $i++){ for($j=0; $j<5; $j++){ if(ch == 0){ print "<img src=\"{$ch}.jpg\"/>"; $ch = 1; } else{ print "<img src=\"{ch}.jpg\"/>"; $ch = 0; } } print "<br/>\n"; } ?> </body> </html> 　以上のコードですが！今いち！の日光の手前です。 　質問ですが 　　　 $ch = 1;は何の働きがあるのでしょうか 　以上教えていただけないでしょうか？ 　　よろしくお願いいたします。
XMLは以下のように書いてます。 <link> <title>りんご</title> <url>ringo.html</url> </link> <link> <title>いちご</title> <url>itigo.html</url> </link> <link> <title>メロン</title> <url>meron.html</url> </link> <link_list> ーーーーーーーーーーーーーーーーー PHPは以下のように記入しています。 <?php $xml = "link.xml"; $data = simplexml_load_file($xml); foreach ($data->link as $val) { echo "<li>", $val->title, "</li>"; } ?> と記入しています。 そこで質問ですが今の状態だとxmlの中のタイトルを３つリンゴ、いちご、メロンが表示しますよね？ 2つリンゴ、イチゴだけ表示させたい時はどう記入したらいいですか？ 分る方教えてくださいませ。 それとここをこう変えた方がいいよとかあればそれもご指導お願いします。 いつかリンク一覧のページング作る為の前の練習なので柔らかい感じでお願いします。
掲示板を作ろうと思い、レコード全件表示＋指定件数区切り＋ページリンクのロジックは理解していますが、これに検索フォームを付けた場合のページリンクの記述が分かりません。 他にもこのコードの問題点があったらお願いします。 php初心者です、宜しくお願いします。 <?php require_once("function.php");　　　　 //現在ページ if(isset($_GET["page"]) && preg_match("/^[1-9][0-9]*$/", $_GET["page"])){ $page = (int)$_GET["page"]; }else{ $page = 1; } //1ページ内表示記事数 $limit = 5; //各ページ表示位置 $offset = $limit * ($page - 1); //検索ワード下処理 $_POST = vari($_POST); $keyword = isset($_POST["keyword"]) ? trim($_POST["keyword"]) : ""; $word = explode(" ",mb_convert_kana($keyword, "s")); $word = array_filter($word, function ($str){ return $str != ""; }); sort($word); //全件表示クエリ if(empty($word)){ try{ $db = db_connect(); $stmt = $db->prepare(sprintf("SELECT sql_calc_found_rows * FROM test ORDER BY No DESC LIMIT %d, %d", $offset, $limit)); $stmt->execute(); $rows = $stmt->fetchAll(PDO::FETCH_ASSOC); $ctmt = $db->query("SELECT FOUND_ROWS()"); $total = $ctmt->fetchColumn(); $last = ceil($total / $page); }catch(PDOException $e){ echo $e->getMessage(); exit; } //検索処理クエリ }else{ try{ $db = db_connect(); //条件構成 $where = ""; foreach($word as $key => $value){ $where .= sprintf(" AND comment like :comment%d", $key); } //prepare実行 $stmt = $db->prepare(sprintf("SELECT sql_calc_found_rows * FROM test WHERE 1 ".$where." ORDER BY No DESC LIMIT %d,%d", $offset, $limit)); //検索ワード数分ループ for($i = 0; $i < count($word); $i++){ //検索ワード内%,\エスケープ $like = preg_replace("/([_%\\\\])/u", "\\\\$1", $word[$i]); $stmt->bindValue(":comment".$i, "%".$like."%", PDO::PARAM_STR); } $stmt->execute(); $rows = $stmt->fetchAll(); $ctmt = $db->query("SELECT FOUND_ROWS()"); $total = $ctmt->fetchColumn(); $last = ceil($total / $page); }catch(PDOException $e){ echo $e->getMessage(); exit; } } ?> <!DOCTYPE HTML PUBLIC"-//W3C//DTD HTML 4.01 Transitional//EN"> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <title></title> </head> <body> <div id="text"> <h1>コメント一覧</h1> <FORM method="POST" action=""> <INPUT type="search" name="keyword" value="<?= $keyword; ?>"> <INPUT type="submit" value="検索"> <?php foreach($rows as $row): ?> <li> <?= htmlspecialchars($row["comment"]); ?> </li> <?php endforeach; ?> /////以下は検索フォーム無し全件表示の場合のコードです。　検索フォームを設置した場合はこれをどうしたらいいのでしょうか。////// <?php $prev_page = $current_page - 1; $next_page = $current_page + 1; $disp = 3; //先頭ボタン echo "<a href='?page=1'>First</a>|"; //前ボタン if($current_page == 1){ echo "Prev|"; }else{ echo "<a href='?page=".$prev_page."'>Prev</a>|"; } //各ページボタン for($i = $current_page - $disp; $i <= $current_page + $disp; $i++){ if($i > 0 && $i <= $last_page){ if($current_page == $i): echo $i; else: echo "<a href='?page=".$i."'>$i</a>"; endif; } } //次ボタン if($current_page == $last_page){ echo "Next|"; }else{ echo "<a href='?page=".$next_page."'>Next</a>"; } //最後尾ボタン echo "|<a href='?page=".$last_page."'>Last</a>"; if($last_page > 1){ echo "<a href='?page=".$last_page."'>Last</a>"; }else{ echo "Last"; } ?> <a href="">全件表示</a> </div> </body> </html>
静的ファイルの一部を複数ファイルと共有したいのですが（メニューやグローバルナビ部分などインクルード化して共有）、拡張子がhtmlだとインクルードできないからphpとかに変更しても問題はないのでしょうか。 昔、プログラム処理が書かれていないファイルをむやみにphpとかに変更すると、毎回サーバへよみに行って負荷がかかるからしないほうがいいといわれたことがあるので・・・。 また、htmlファイルでもphpとして処理したい場合は、サーバがアパッチの場合は.htaccessにhtmlをphpとして変換する処理？を書いたらできるとあったのですが、これをするにあたり何か懸念点はありますでしょうか。 また、アパッチであればOKとあったのですが、別のサーバ　例えば、Postgresqlの場合は同じようなことはできないでしょうか。 htmlはわかる程度、サーバやプログラミングに関しては初心者で質問なので、分かりやすく説明いただけると幸いです。 詳しい方、どうぞよろしくお願いいたします。
PHPで括弧内のカンマを別の文字に置換したいのですが、どのようにしたらよいか困っています。 条件は次のとおりです。 ------------------------------------------------------------ 対象文字列：（＊＊，＊＊，＊＊，…） 対象文字列は、「（），」を含めすべて全角です。 ＊＊の文字数は、０～ｎです。 ＊＊には、「（），」の文字は含まれません。 括弧は、「（＊＊，＊＊（＊＊，＊＊，＊＊，…），＊＊）」のように、入れ子になることがあります。入れ子の階層には特に制限はありません。 カンマ「，」を別の文字（例えば「$$comma$$」）に置換したい。 ------------------------------------------------------------ preg_replace()で実現できるものでしょうか。 ご教示の程よろしくお願いいたします。
共有のレンタルサーバを使用しているのですが、 一度に送信できるメール数が100件で、 続けて送信する場合は、1時間開けないといけない 決まりになっています。 このルールに従うのが正解ですが、 時間がかかってもよいので、負荷をかけずに 1度の処理で、数千件送れる方法はありますか？
NetBeans IDE 8.1は下では文字のみの6行目の ｝で構文エラー　予期しないエラー出て サクラエディタでは Parse error: syntax error, unexpected '}' in C:\xampp\htdocs\YPHPSample\05\Sample5-10.php on line 19・・は下から文字のみの6行目の”}”の部分です 　以上のエラーがでます。すみません_ _ 　以下毎度のこととは存じますが誤字脱字等で、参考書のサンプルの通りなりません！ 　先に進まなにので仕方なく書き込みました。以下よろしくお願いいたします。 　 <!DOCTYPE html> <html> <head> <title>P137 continue文でブロックの最初に戻る 5-10</title> </head> <body> <?php $stop = 3; print "商品{$stop}までしか販売しておりません。<br/>\n"; print "<hr/>\n"; for($i=0; $i<5; $i++){ if($i == $stop) continue; print "商品{$i}を表示します。<br/>\n;" } print "<hr/>\n"; print "商品は以上です。<br/>\n"; ?> </body> </html>
いつもご助言いただき、ありがとうございます。 現在、PHP、Mysql、Cronでデータベースの自動バックアップに挑戦しています。 プログラム自体はできたのですが、バックアップされたSQLファイルのファイルサイズがゼロになってしまいます。 作成したプログラムは下記のサイトを参考にして作成しました。 http://www.tailtension.com/php/1494/ （１）プログラムファイルに直接アクセスすると、問題なく作動します。 （２）CRONで動作させるとファイルサイズがゼロになってしまいます。 使用しているサーバーはさくらサーバーなのですが、サーバー側の使用なのでしょうか・・・。 詳しい方がいらっしゃいましたら、ご助言いただけないでしょうか。 よろしくお願いいたします。
こんにちは^^いつもお世話になっております。 　さて、以下のプログラムと同じフォルダ内にCircle.jpg・triangle.jpgの画像を作成しまして 　以下のプログラムを実行したところ、画像が出てきません？ 　　参考書の実効画面にはjpgの画像が出力されています。 　 <!DOCTYPE html> <html> <head> <title>P132 ifnなどと組みあわせる 5-8</title> </head> <body> <?php $ch = 0; for($i=0; $i<5; $i++){ for($j=0; $j<5; $j++){ if($ch == 0){ print "<img src=\"{$ch}.ipg\"/>"; $ch = 1; } else{ print "<img src=\"{ch}.jpg\"/>"; $ch = 0; } } print "<br/>\n"; } ?> </body> </html> -------------------------------------------------------------------- 以上ですが参考書通りに入力後 print "<img src=\"{$ch}Circle.jpg\"/>"; print "<img src=\"{ch}triangle.jpg\"/>"; 　としても画像が出力されません？ 　皆様のパソコンで画像は出力されましたでしょうか？ 　よろしく、お願いいたします。
アルゴリズムの勉強をしています。そこで、擬似言語を実際PHPで書いて見ようと思い以下に書きました。配列をカウントする関数です。しかし、うまくカウントされません。教えてください宜しくお願いします。原因が分かりません。 <?php $num = array(10,15,26,45,78,45,47);　　//配列カウントする function count($num)　{ $count =0; for($n= 0; $n = $m; $n++){　　　　　　　　//$mは番兵 $count = $count + 1; } echo $count; } ?>
さくらのVPSを使用しており、SSLを導入するためにRapidSSLを使用することにしました。 以下のサイトを参考に証明書発行などは完了し、いざApacheの再起動をかけようとしましたが、[失敗」となり立ち上がりません。 http://dounokouno.com/2011/04/07/%E3%81%95%E3%81 … 環境としては以下です。 ・さくらVPS ・CentOS6.7 ・Apache2.2.15 ・特記事項： s1.mydomain.jp（mydomain.jpは仮の名称） というサブドメインのみを等サーバーに割り当てしており、上記のサイトでwww.example.html　となっているところは s1.mydomain.jpで設定をしております。 環境設定に不慣れで、Apacheのログもどのように見てよいか分らず、どのように調査し、対応すればよいか教えて頂けないでしょうか？
phpのimap関数を使ってgmailからメールを取得するプログラムを作っています。 しかし、imap_open()でgmailを開こうとすると Can't connect to gmail-imap.l.google.com,993: Permission denied というエラーが出ます。gmailでimapの許可や低セキュリティアプリのアクセス許可も行っています。 どのように直せばいいのか教えてください。 ソースは次のようになります。ただgmailに接続して閉じるだけです。 <?php $server = "imap.gmail.com"; $port = 993; $account = "hogehoge@hogehoge.com"; // Gmailアカウント $password = "hogehoge"; // パスワード // メールサーバ接続 if (($mbox = imap_open("{".$server.":".$port."/novalidate-cert/imap/ssl}INBOX", $account, $password)) == false) { var_dump(imap_errors()); } imap_close($mbox); ?>
いまいちビット演算の目的が分からないのですが、 １)　6＆13→４→１００　 ２)　５＆12→４→１００ 　ノートに真面目に計算したところ 　１)と２)はともに同じ値となりました。 オペランドが変わってもビット(＆)演算すると値は同じものが存在する意味を 教えていただけないでしょうか・・・ 　少し哲学的になりましたが、難しと存じますが・・・ 計算ミスでしたらご了承くださいませ。 　 以上よろしくお願いいたします。
以下のリンクを参考にして、ExcelのデータをCSVに書き出すプログラムを作ったのですが、データが数字の場合はダブルクォーテーションが入ってきません。Excel上でデータとフォーマットを文字列型にしてプログラムを走らせてもだめでした。数字の場合もダブルクォーテーションで囲みたいのですが、どこをどうなおせばよろしいでしょうか？ http://www.asahi-net.or.jp/~ef2o-inue/vba_o/sub0 …
P-105 　のビット演算子の役割を教えていただけないでしょうか！？ ５＆12＝４＝１００(単位不明) 以上よろしくお願いいたします。
いつもお世話になっております。またバカな質問をさせていただきます。 　基本的なことですが！？ $a==6 || $a>=12 ですが5以下でfalseで6以上だとtrue　との考え方で間違いないでしょうか？ 　｜｜はどちらかが条件を満たしていたらら　true(真) 極端な話&a==6 || $a>=1000000000000でもどちらかが条件を満たしていたらな true(真) 　という考え方でよろしいでしょうか！？ 　参考書は凡人用なので、私は凡人ではないので、参考書の参考書が必要でございます。 　よろしくお願いいたします。
PHPのセッション機能に関して質問させて頂きます。 質問の内容におかしな部分などあるかもしれませんが、その場合はご指摘頂けると助かります。 PHPのセッション機能を用いて、よくある、「入力」→「確認」→「登録」の処理を実装したいと考えています。 行いたいこととしては、「入力」画面で入力した内容を「確認」画面へ渡す。 その際、入力した内容をセッションに保存する。 「確認」画面から「入力」画面に戻るボタンなどで戻った際に、セッションに保存していた内容を、 「入力」画面のフォームに入れてあげる(初回の入力画面では、セッションに何も保存されていないので、フォームに何も入らない)。 ここでひとつ、どのように対応するべきか悩んでいる部分があります。 それは、『「入力」→「確認」』をして、データがセッションに保存された状態で、画面を閉じたとして、再度新しく「入力」画面を開いた場合、以前のセッションが残っており、フォームにデータが入ってしまうということです。 あえてそうする場合もあるのかもしれませんが、個人的に戻るボタンなどを使用した場合のみ、セッションのデータを入れてあげたいと考えているので、新規で「入力」画面を開いてあげた場合は、まっさらな状態で表示したいと思っています。 上記の処理を行う場合の解決手段などご存じの方がいらっしゃれば、ご教授頂けると助かります。 また、もっと詳細なことが知りたいなどあればお伝え下さい。 よろしくお願いいたします。
会員サイト作成にあたって、仮登録をユーザーへ送るようにしたのですが うまく機能しません。ご教授よろしくお願いします。 //メールヘッダーインジェクション対策 $mail = str_replace(array("\r\n","\r","\n"), "", $mail); $url = "https://" . SERVER . "register_confirm.php?" . $url_pass; $msg = "以下のアドレスからアカウトを有効にしてください。" . PHP_EOL; $msg .= "アドレスの有効時間は１０分間です。" . PHP_EOL; $msg .= "有効時間後はパスワードのリセットを行ってください。" . PHP_EOL . PHP_EOL; $msg .= $url; mb_send_mail($mail, "ユーザー登録", $msg, " From: " . SENDER_EMAIL);
以前質問をさせて頂きましたが、現状もわかっていない状況です。 Fatal error: Call to undefined method MDB2_Error::execute()register_check.php on line 39 ご指摘があったDNS→DSNに変更しましたが変わらない状況です。 function.php <?php define("DNS","mysql://root@localhost/mihon?charset=utf8"); define("SERVER", "127.0.0.1"); define("SENDER_EMAIL", "root@localhost"); define("STRETCH_COUNT", 1000); register_check.php //DB接続 $db = MDB2::connect(DNS); if (PEAR::isError($db)) { die($db->getMessage()); } //プレースホルダで SQL 作成 $sql = "SELECT COUNT(*) AS CNT FROM USERS WHERE ID = ? ;"; //var_dump($sql); //パラメーターの型を指定 $stmt = $db->prepare($sql, array('text')); //パラメーターを渡して SQL 実行 $rs = $stmt->execute(array($id)); 　　←ココがエラー //var_dump($rs); while ($row = $rs->fetchRow(MDB2_FETCHMODE_ASSOC)) { $count = $row['cnt']; } $db->disconnect() ?> var_dumpで確認すると以下の文が出てきます object(MDB2_Error)[3] public 'error_message_prefix' => string '' (length=0) public 'mode' => int 1 public 'level' => int 1024 public 'code' => int -18 public 'message' => string 'MDB2 Error: no such table' (length=25) public 'userinfo' => string '_doQuery: [Error message: Could not execute statement] [Last executed query: PREPARE MDB2_STATEMENT_mysql_b347dce676c5b552469498333641d692 FROM 'SELECT COUNT(*) AS CNT FROM USERS WHERE ID = ? ;'] [Native code: 1146] [Native message: Table 'mihon.users' doesn't exist] 参考サイトは以下です。このサイトを見て作成しています。 http://www.websec-room.com/2015/03/15/2153 データベース名はmihonに変更しています。 どうぞよろしくお願い致します。
配列変数と定数の見分け方 こんにちは。 タイトルに関して知りたいのでよろしくお願いいたします。 下記の様に定義されているとします。 //始まり $defined_a=array(59,'osaka','06-xxxx-yyyy','978-xxxx','male'); $my_array=array( 　　/*1*/ array(26,'tokyo','03-xxxx-yyyy','253-xxxx','male'), 　　/*2*/ $defined_a, 　　/*3*/ array(69,'chiba','043-xxx-yyyy','986-xxxx','female') ); //終わり $my_arrayが定義されて$defined_aが出てきた時点でarray(59,'osaka','06-xxxx-yyyy','978-xxxx','male');がセットされると思います(認識が違っていたらすみません)。 それで、今回/*2*/に使われている$defined_aを取得する必要が出てきました。 上手く説明できなくてすみません、 $my_arrayの中に$defined_aの様な配列変数があったら例えばAとechoする必要があります。 例として //例の始まり foreach($my_array as $v){ 　if($v==定義されている変数が使われているとき) 　　echo 'A'; } //例の終わり こんなこと可能ですか？ 自分としては不可能と考えているので //項目チェンジの始まり $my_array=array( 　　/*1*/ array(0,array(26,'tokyo','03-xxxx-yyyy','253-xxxx','male')), 　　/*2*/ array(1,$defined_a), 　　/*3*/ array(0,array(69,'chiba','043-xxx-yyyy','986-xxxx','female')) ); //項目チェンジの終わり 上記の様に、配列を更に多次元にして配列変数が定義されているなら1・・の様にしないとPHPは分からないのではないかな？って思っています。 ただ配列を複雑にはしたくはないのです。 良い方法がありましたら教えて下さい。お願いします。
たびたび質問させていただきすみません。 sendmailというものを初めて使うのですがやり方がよくわかりません。 基本的には、phpのファイルにコードを書いて他のファイルと同じフォルダ内にアップすればよいのですよね？それもよくわかりません。 レンタルサーバー側でパスは /usr/lib/sendmail　　です　と書いてあって、書き方を調べて以下のコードにしました。 /usr/lib/sendmail <?php $subject = "新着のお知らせ"; $body = "新しいコメントの書き込みがありました"; mb_language("Ja") ; mb_internal_encoding("UTF-8"); $header = "MIME-Version: 1.0\n"; $header .= "Content-Transfer-Encoding: 7bit\n"; $header .= "Content-Type: text/plain; charset=ISO-2022-JP\n"; $header .= "Message-Id: <" . md5(uniqid(microtime())) . "@bbb.net>\n"; $header .= "from: aaaaa@bbb.net\n"; $header .= 'Return-Path: aaaaa@bbb.net'; $header .= "X-Mailer: PHP/". phpversion(); mb_send_mail(ccccc@ddd.net, $subject, $body, $header, "-f aaaaa@bbb.net"); ?> これでやってみたのですが、エラーメッセージではなく　サーバーエラー５００が出てしまいます。 書き方におかしいところがあったら教えてください。 またサーバーのQ&Aに Q：メールの送信ができない A:smtpのサーバのポート番号の設定を 25 から 587 に変更してみてください とも書いてあったのですが、具体的にはこれは何をどうすればよいのかも、 教えていただけると嬉しいです。
PHPからOpenOfficeを経由してWord文書をpdfに出力する場合についての質問です。 （サーバは、redhatのLinuxです。） 前述の手順でWord文書をpdf出力した際に作成されたPDFファイルは、 文字のコピー＆ペーストできるフォーマットでしょうか。 それともスキャンした画像イメージのように文字がコピー＆ペーストできないフォーマットに なるのでしょうか。 初歩的な質問で申し訳ありませんが、ご教示願います。 　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　以上
CakephpとSmartyで開発しております。 Viewを表示させるとコンパイルファイル生成されると思いますが、システム構成上element分けが膨大でコンパイルに時間がかかってしまう状況です。 Viewを表示せずにSmartyのTplファイルのコンパイルファイルを手動で生成したいのですができるものでしょうか？色々試してみたのですが、エラー等でなかなかうまくいかない状況です。
phpのhex2binについて phpで、utf-16の文字をbin2hexに通し、 hex2binに再度かけると、その16進数をutf-8と捉えられ、漢字等が上手く戻りません。 対策等無いですか？ 文章では分かりにくいかと思いますので、コードの一例を載せておきます。 <? $deta = "漢字"; $a = bin2hex(mb_convert_encoding($deta,"UTF-16LE")); //$aは226f575b echo hex2bin($a);//ここで「漢字」とechoされて欲しい ?> 実際表示されるのは "oW[ で、これはutf-8では226f575bとなります。
宜しくお願い致します。 HTMLのフォームデータをPHPで取得して、CSVに書き出すというプログラムを作成しました。一応仕様通りには動くのですが、ソースに冗長な部分があると感じます。処理の流れもこれで本当に良いのか心配です。 ・$pieces = explode(",",$data); $list2 = array($pieces[0],$pieces[1],$pieces[2],$pieces[3],$pieces[4]); で分割したデータを配列に格納してる処理について、効率のよい記述の仕方があるのではないか？ ・try～catchの記述はこれで良いのか？ ・全体を通して、今度どのような感じにプログラムを学習していけば良いと思いますか？ 現在は書籍やWebでの情報収集、ドットインストール等の学習サイトで主に勉強しております。 下記にソースを記しますのでアドバイスを頂けませんか？ ---------------------------------------------------------------------------- <?php //セッションの開始 session_start(); //正常遷移か判定 if (!isset($_POST["flag"])) { //不正の遷移なのでトップページへ移行 header("Location: index.html"); exit; } header("Content-type: text/html; charset=UTF-8"); mb_language("Japanese"); mb_internal_encoding("UTF-8"); $judge =""; $data = ""; $judge = $_POST["flag"]; if($judge == 1){ $lock = './attendance.csv'; } elseif($judge == 2){ $lock = './absence.csv'; } //$file = $lock; foreach($_REQUEST as $value){ $comma = str_replace(",", '', $value); $data .= $comma.","; } $data = str_replace("\r\n", ' ', $data); $data = mb_convert_encoding($data.",","SJIS", "UTF-8")."\n"; $pieces = explode(",",$data); try { $file = new SplFileObject($lock, 'a'); if ($file->flock(LOCK_EX)) { // 排他ロックを行う if($judge == 1){ $list = array($pieces[0],$pieces[1],$pieces[2],$pieces[3],$pieces[4],$pieces[5],$pieces[6],$pieces[7],$pieces[8],$pieces[9],$pieces[10],$pieces[11],$pieces[12],$pieces[13],$pieces[14],$pieces[15],$pieces[16],$pieces[17]); $file->fputcsv($list); } elseif($judge == 2){ $list2 = array($pieces[0],$pieces[1],$pieces[2],$pieces[3],$pieces[4]); $file->fputcsv($list2); } $file->flock(LOCK_UN); // ロックを解除する } else { echo "ロックを正常に行えませんでした"; } }catch (Exception $e) { echo "CSVファイルが開かれているために正常に処理が終了しませんでした。CSVファイルを閉じた状態で再度実行してください。"; exit; } header("Location: ./thanks.html"); ?> ---------------------------------------------------------------------------- 最後までご覧頂きましてどうもありがとうございました。
お問いあわせフォームを作っているのですが、色々、試行錯誤の末一つだけ分からない事があります。 下記のたtableタグ内の最後にお問い合わせ欄を設けたい(widthとheightの設定）のですがうまくCSSを設定する事が出来ません。 ご教授よろしくお願い致します。 HTML ********************************* <section id="contact"> <form action="" method="post" class="touroku_form_all"> <table class="touroku_form"> <table class="touroku_form"> <tr><th>お名前（漢字）</th><td> <input type="text" class="fm" name="name" ></td></tr> <tr><th>Eメールアドレス</th><td> <input type="text" class="fm" name="email" ></td></tr> <tr><th>電話番号</th><td> <input type="text" class="fm" name="tel" ></td></tr> <tr> ※ココの部分です。<th>お問い合わせ内容</th> <td> <input type="text" id="ta" name="toi" > </td> </tr> </table> CSS(現在設定中） ************************************* #contact table td { text-align: left; padding-left: 10px; overflow: hidden; overflow-x: hidden; overflow-y: hidden; position: relative; } #contact table .input .z1{ float: left; width: 100px; margin-right: 20px; padding: -8px; text-align: center; letter-spacing:1px; } #contact table .input .z2{ width: 100px; height: 30px; text-align:center; padding: 0 10px 0 10px; } #contact table td input[type="text"], #contact table td input[type="password"] { font-family: "メイリオ", width:50%; letter-spacing:1px; background:#fff; border:solid 1px #bec7d6; border-radius:3px; padding:6px 10px; float:left; font-size: 14px; } #contact input[type="radio"] { width:1em; height:1em; vertical-align:middle; margin-left:10px; } .touroku_form .input select { width:6em; font-size:14px; margin-right:6px; <!-- background:url(img/select_arrow.png?20150901) 55px 50% no-repeat;--> } .touroku_form zip21[name="post1"] { width:7em; height:34pm; background-position:152px; padding:5px 10px; border-radius:3px; } #input zip22[name="post2"] { width:7em; height:34pm; float:center; background-position:152px; padding:5px 10px; border-radius:3px; } select#pref21[name="add1"] { width:25.5em; height:34px; background-position:152px; padding:5px 10px; border-radius:3px; } ************************* #contact table .input .ta×.tourokuform.input#ta×でした。
以下のprint "<img src=\"0.jpg\/>\n";の0てなんでしょうか？ 　ファイル名でしょうか？以下プログラムです。 　　よろしくお願いいたします。(馬鹿な質問ばかりですみません_ _) <!DOCTYPE html> <html> <head> <title>P121 指定した多数の画像を出力する 5-4</title> </head> <body> <?php $num = 10; for($i=0; $i<$num; $i++){ print "<img src=\"0.jpg\/>\n"; } ?> </body> </html>
【環境条件】 XAMPP1.8.3 [PHP: 5.5.15] 【SQLite Managerダウンロード】 SQLite Managerのホームページ(http://sourceforge.net/projects/sqlitemanager/fi …)から SQLiteManager-1.2.4.zipをダウンロードした 【インストール】 SQLiteManager-1.2.4.zipを下記のフォルダーに展開する C:\xampp\htdocs￥SQLiteManager 【php.ini】 extension=php_pdo.dll extension=php_sqlite.dll を設定する 【SQLiteManagerの起動】 ブラウザのアドレス欄に http://localhost/SQLiteManager/index.php　を入れる 【エラー表示】 Strict Standards: Non-static method sqlite::getDbVersion() should not be called statically, assuming $this from incompatible context in C:\xampp\htdocs\SQLiteManager\include\SQLiteAutoConnect.class.php on line 12 どうすれば、うまく表示できますか？誰か教えて下さい
PHPによる文字列の全パターン分割の方法を教えてください。 abcdefといった文字列があった場合に a,b,c,d,e,f a,bc,d,e,f a,bc,de,f a,bc,def といった感じで全てのパターンで文字列を分割した配列を作りたいのですが、 うまくいきません。
現在、PHP、JavaScriptを使ってブラウザ上で画像にスタンプを貼り付け ドラッグアンドドロップでスタンプを動かすプログラムを作成しようと思っています。 PHPとJavaScriptで開発しようと考えているのですが 可能なことでしょうか？ 自分なりに調べてみたのですがドラッグアンドドロップで動かす方法が よくわかりませんでした。 皆様の知識をお借りしたいです。 よろしくお願いします。
たびたびお世話になります。 連想配列でプルダウンメニューを作るのに、ネットで公開されているコードを使わせていただきました。 以下がそのコードです。 function arrayToSelect($inputName, $srcArray, $selectedIndex = "") { $temphtml = '<select name="'. htmlspecialchars($inputName).'">'. "\n"; foreach ($srcArray as $key => $val) { if ($selectedIndex == $key) { $selectedText = ' selected="selected"'; } else { $selectedText = ''; } $temphtml .= '<option value="'. htmlspecialchars($key). '"'. $selectedText. '>'. htmlspecialchars($val). '</option>'. "\n"; } $temphtml .= '</select>'. "\n"; return $temphtml; } $tempArray = array( '5.gif=>'星５','4.gif'=>'星４', '3.gif'=>'星３'); echo arrayToSelect("hyouka", $tempArray); で、メニューから選択されたら、$keyの値（つまり、5.gif,4.gif,3.gifの中の選択されたもの）だけ（$valの値はいりません）を書き込み用のページに渡したいのですがどうしたらよいのかわかりません。 作っているものが掲示板なので他に名前やタイトルなど<form>内に記述してますが、そこの中に一緒に書いてよいのか？別個に<form>が必要なのか？ とか、具体的にどう記述すればいいのか？など、教えていただけると嬉しいです。 どうぞよろしくお願いいたします。
Fatal error: Call to undefined method MDB2_Error::execute() エラーが発生しております。解決が出来ず半日が経ち、困っております。 どなたかご教授願います。内容は会員登録確認画面から（データベース登録)会員確定画面の際にうまく機能していません。よろしくお願いします。 tourokucheck.php //DB接続 $db = MDB2::connect(DNS); if (PEAR::isError($db)) { die($db->getMessage()); } //プレースホルダで SQL 作成 $sql = "SELECT COUNT(*) AS CNT FROM USERS WHERE ID = ? ;"; //var_dump($sql); //パラメーターの型を指定 $stmt = $db->prepare($sql, array('text')); //パラメーターを渡して SQL 実行 $rs = $stmt->execute(array($id)); //var_dump($rs); while ($row = $rs->fetchRow(MDB2_FETCHMODE_ASSOC)) { $count = $row['cnt']; } $db->disconnect() ?> touroku_submit.php <?php require_once 'MDB2.php'; require_once("function.php"); session_start(); header("Content-type: text/html; charset=utf-8"); //CSRF チェック if ($_SESSION['token'] != $_POST['token']) { $_SESSION = array(); session_destroy(); session_start(); $_SESSION["error_status"] = 2; header("HTTP/1.1 301 Moved Permanently"); header("Location: login.php"); exit(); } //エラー情報のリセット $_SESSION["error_status"] = 0; $name = $_POST['full_name']; $name_kana = $_POST['furigana']; $birthday = ($_POST['birthday']); $postcode = ($_POST['postcode']); $address = ($_POST['address']); $mail = $_POST['mail']; $telephone = $_POST['telephone']; $password = $_POST["password1"]; $salt = get_salt(); $url_pass = get_url_password(); $hash = strechedPassword($salt, $password); //DB接続 $db = MDB2::connect(DNS); if (PEAR::isError($db)) { die($db->getMessage()); } //プレースホルダで SQL 作成 $sql = "INSERT INTO USERS (name,name_kana,birth,postcode,address,MAILADDRESS,telephone,PASSWORDSALT,TEMP_PASS,LAST_CHANGE_PASS_TIME,RESISTER_TIME) "; var_dump($sql); $sql .= " VALUES (?,?,?,?,?,?,?,?,?,?,?);"; //パラメーターの型を指定 $stmt = $db->prepare($sql, array('text','text','text','text','text','text','text','text','text','timestamp','timestamp')); //パラメーターを渡して SQL 実行 echo 'name:'; $res = $stmt->execute($name,$name_kana,$birth,$postcode,$address,$mail,$telephone,$password,$salt,$hash,$url_pass,date('Y-m-d H:i:s'),date('Y-m-d H:i:s')); //var_dump($res); //ID重複の可能性があるのでチェック if (PEAR::isError($res)) { $db->disconnect(); $_SESSION["error_status"] = 4; header("HTTP/1.1 301 Moved Permanently"); header("Location: register.php"); exit(); } $db->disconnect(); //ユーザーにメールの送信 //メールヘッダーインジェクション対策 $mail = str_replace(array("\r\n","\r","\n"), "", $mail); $url = "https://" . SERVER . "/register_confirm.php?" . $url_pass; $msg = "以下のアドレスからアカウトを有効にしてください。" . PHP_EOL; $msg .= "アドレスの有効時間は１０分間です。" . PHP_EOL; $msg .= "有効時間後はパスワードのリセットを行ってください。" . PHP_EOL . PHP_EOL; $msg .= $url; mb_language("ja"); mb_internal_encoding("UTF-8"); mb_send_mail($mail, "ユーザー登録", $msg, " From: " . SENDER_EMAIL); ?>
大阪市24区と24区の602町名をそれぞれ区名、町名のみ変更し、リンクでつなげるPHPプログラムを制作中ですが、なかなか前に進まず、分かる方いましたら宜しくお願い致します データベースはMY SQLを使用 テーブル：city　フィールド:id(区のID)、region_id(大阪市のID)、city(区名)、station(駅名)、overviem(概要) テーブル：town　フィールド:id、town(町名)、city_id(区のID) //top.php（大阪市24区を表示し、各24区へリンク） <?php $recordSet = mysqli_query($db , "SELECT id,region_id,city FROM city where region_id=24"); ?> ★<?php while($data = mysqli_fetch_assoc($recordSet)){ print '<li><a href="ward.php?id='.$data["id"].'">'.$data["city"].'</a></li>'; } ?> //ward.php（区ごとの情報{町名・駅名・概要}） <?php $recordSet = mysqli_query($db , "SELECT town FROM town"); $data=array("id"=>"","region_id"=>"","city"=>"","station"=>"","overview"=>"","town"=>"","city_id"=>"");//初期化 try{ $pdo = new PDO($dsn, $user,$password); $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); $id=isset($_GET["id"])?$_GET["id"]:""; $input=array(); $input[]=$id; $sql="SELECT city.id,city_id,city,station,overview,town.id,town,city_id FROM city,town WHERE city.id=town.city_id and city.id=?"; $stmt = $pdo->prepare($sql); $stmt->execute($input); $data= $stmt->fetch(PDO::FETCH_ASSOC); }catch(PDOException $e){ die($e->getMessage()); } ?> <title><?php if($data["city"]!=="") print htmlspecialchars($data["city"],ENT_QUOTES);?>の主な概要</title> <h1><?php if($data["city"]!=="") print htmlspecialchars($data["city"],ENT_QUOTES);?>の情報</h1> <h2><?php if($data["city"]!=="") print htmlspecialchars($data["city"],ENT_QUOTES);?>の町名</h2> ★<p><?php while($data = mysqli_fetch_assoc($recordSet)){ print '<li><a href="ward.php?id='.$data["id"].'">'.$data["town"].'</a></li>'; } ?> </p> <h2><?php if($data["city"]!=="") print htmlspecialchars($data["city"],ENT_QUOTES);?>の駅名</h2> <p><?php if($data["station"]!=="") print htmlspecialchars($data["station"],ENT_QUOTES);?></p> <h2><?php if($data["city"]!=="") print htmlspecialchars($data["city"],ENT_QUOTES);?>の概要</h2> <p><?php if($data["overview"]!=="") print htmlspecialchars($data["overview"],ENT_QUOTES);?></p> ★印をしたループ２箇所が分からない ・一つ目の★、現状はtop.phpの24区のリンクをクリックすると、全件ループされ、24区それぞれの町名が表示されるように指定文を入れる（もしくは受け取り側のward.php） ・２つ目の★も一つ目の★同様で、こちらはward.phpからward.phpへの受け渡しでプログラムを実現させたいが、受け渡しプログラムが分からない
PHP初心者です。会員サイト作成しており、register_check.phpファイルにWarning: htmlspecialchars() expects parameter 1 to be string, array givenのエラーが出ており調べた所「isset関数」を使えば良いとのことですが、どこの使えば良いのかもわからず困っております。ご教授頂ければ幸いです。よろしくお願いします。 touroku.php <table> <label for="birth_y">生年月日</label> <td class="birthday"> <select name="birth_y" id="birth_y"> <select name="birth_m"> <select name="birth_d"> <input type="text" id="zip21" name="zip21" size="4" maxlength="3" class="z1"> <span id="pref21_error"><label for="pref21" class="Error" generated="true"></label><span>数字は半角で入力して下さい。</span></span> <b class="postal_code">郵便番号を入力すると住所が自動的に入力されます。</b> <th><label for="pref21">都道府県</label></th> <select id="pref21" name="pref21"> <th><label for="addr21">市区町村・番地</label></th> <input type="text" name="addr21" id="addr21" class="required inp" size="60"> <th><label for="street">マンション・建物名</label></th> <input type="text" name="street" id="street" title="例）くにおビル3号室"> </table> ************************************ register_check.php <?php require_once 'MDB2.php'; require_once("function.php"); session_start(); header("Content-type: text/html; charset=utf-8"); $_SESSION['token'] = get_csrf_token(); $name = $_POST['full_name']; $name_kana = $_POST['furigana']; $birthday = array($_POST['birth_y'],$_POST['birth_m'],$_POST['birth_d']); $postcode = array($_POST['zip21'],$_POST['zip22']); $address = array($_POST['pref21'],$_POST['addr21'].$POST['street']); $mail = $_POST['mail1']; $telephone = $_POST['tel']; $password = $_POST["password1"]; $confirm_password = $_POST["password2"]; if ($password != $confirm_password) { $_SESSION["error_status"] = 1; header("HTTP/1.1 301 Moved Permanently"); header("Location: register.php"); exit(); } $db = MDB2::connect(DNS); if (PEAR::isError($db)) { die($db->getMessage()); } $sql = "SELECT COUNT(*) AS CNT FROM USERS WHERE ID = ? ;"; $stmt = $db->prepare($sql, array('text')); $rs = $stmt->execute(array($id)); while ($row = $rs->fetchRow(MDB2_FETCHMODE_ASSOC)) { $count = $row['cnt']; var_dump($row); } $db->disconnect(); if ($count != 0) { $_SESSION["error_status"] = 2; header("HTTP/1.1 301 Moved Permanently"); header("Location: touroku.php"); exit(); } $_SESSION["error_status"] = 0; ?> <!DOCTYPE html> <head> <meta charset="utf-8"> </head> <html lang="ja"> <body> <input type="hidden" name="name" value="<?php echo htmlspecialchars($name , ENT_QUOTES, "UTF-8") ?>"> <input type="hidden" name="name_kana" value="<?php echo htmlspecialchars($name_kana , ENT_QUOTES, "UTF-8") ?>"> <input type="hidden" name="birthday" value="<?php echo htmlspecialchars($birthday , ENT_QUOTES, "UTF-8") ?>"> <input type="hidden" name="postcode" value="<?php echo htmlspecialchars($postcode , ENT_QUOTES, "UTF-8") ?>"> <input type="hidden" name="address" value="<?php echo htmlspecialchars($address , ENT_QUOTES, "UTF-8") ?>"> <input type="hidden" name="mail" value="<?php echo htmlspecialchars($mail , ENT_QUOTES, "UTF-8") ?>"> <input type="hidden" name="telephone" value="<?php echo htmlspecialchars($telephone , ENT_QUOTES, "UTF-8") ?>"> <input type="hidden" name="password" value="<?php echo htmlspecialchars($password , ENT_QUOTES, "UTF-8") ?>"> <input type="hidden" name="token" value="<?php echo htmlspecialchars($_SESSION['token'] , ENT_QUOTES, "UTF-8") ?>"> <input type="submit" value="登録"> <input type="button" value="戻る" onclick="history.back();"> </form></body></html>
正規表現初心者です。 iframeタグの中がyoutubeとniconico以外のものを抽出する(削除したいので)正規表現を組みたいのですが上手くいきません。 正規表現に全く詳しくない為、リファレンスの説明などもご教授いただけると助かります。
お世話になります。 laravel5.2を用いて、検索システムを作っています。 viewで作ったテキストボックスに値を入れたら controllerのセレクト文でwhere句のところに テキストボックスの値が入るようにしたいです。 ajaxというものを使えば良いのでしょうか・・・。
html、css、JavaScript、PHP…違いがよくわかりません。 自分自身、WEBで表示するために必要な言語、というニュアンスでしか受け止めておらず それぞれ調べてみても奥が深すぎて悩んでいます… 小学生や50代以上の年配の方でもわかるように説明したいのですが、 どういった違いがあるのでしょうか？ それぞれなんのために、どういったことができるのか知りたいです。 よろしくお願いします。
<!DOCTYPE html> <html> <title>P64文字列連結の自作版</title> </head> <body> <?php $product1 = "鉛筆"; $product2 = "を販売しています。"; $product3 = "消しゴムを" $product4 = "を販売しています。"; print "$product1.$product2</br>\n"; print "$product3.$product4</br>\n"; ?> </body> </html> 　以上でございますが、結果が以下となってしまいます。 Parse error: syntax error, unexpected '$product4' (T_VARIABLE) in C:\xampp\htdocs\YPHPSample\02\Sample3-2-1.php on line 13 　どうしたうまくいきますでしょうか！？ 　　よろしお願いいたします。
現在、PHPからWordを起動して、文書印刷もしくは、Word保存を実施するプログラムを運用しています。WordについてはVBscriptで起動しています。 IE8からIE11へのバージョンアップ作業を実施していますが、IE11ではWord起動ができなくなりました。関連サイトを検索すると、<head>に <meta http-equiv="X-UA-Compatible" content="IE=8"> <script language="VBScript"></script> を追加すればいいと書いてあったのですが、これを記述しても動きません。 なお、互換表示を設定しても動きません。 なお、エラー等は出力されません。 何が悪いのでしょうか、お手数ですがご教示いただけたらと思います。 ちなみに、Wordは2010です。
bootstrap3 のcssとjs を使ってサイトを作っています。 そこに、Foundation5のcssとjsを組みこんだのですが、　Foundation5が機能しません。 この場合どこに問題があるのでしょうか。
my sqlのテーブル内の全件データを取り出すには下記のプログラムで取り出せますが、 <?php while($data = mysqli_fetch_assoc($recordSet)){ print '<li><a href="a.php?id='.$data["id"].'">'.$data["city"].'</a></li>'; } ?> 例えば、IDの1～24のみを取り出したい時は、どのような条件分を書けばよいですか？
参考書には 「タブ」記号を表すエスケープシーケンス(\t)を使って、次のように画面に出力するコードを記述してください。 　・123 　・456 　とあります。！？ 　　そもそも、同参考書には、(￥t)は　水平タブとあります。 　強いて言うならば 「\xhh 16進数hhの文字コードを持つ文字」などを使えばできるような気がします。 　　ほんとうに参考書通りすると、・123　・456　と表現できるのでしょうか！？ 　以下で表すと簡単に表せますが！　 　　以上よろしくお願いいたします。 <!DOCTYPE html> <html> <head> <title>サンプル5</title> </head> <body> <?php print "<ul>\n"; print "<li>123"; print "<li>456"; print "</ul>\n"; ?> </body> </html> </html>
<div><input /><label>ラベル名</label></div>という形式になっているHTMLの順序をpreg_matchやpreg_match_allなどで変更したいと思います。 途中、一部分はできたのですが、完成には至っていません。 下記に掲載する求める結果のように出力するにはどのようにしたら良いのでしょうか。 [元になるテキスト] $text=‘<div class="form-control"><input type="checkbox" name="data[City][name][]” value="1" id="CityName1" /><label for="CityName1">渋谷</label></div> <div class="form-control"><input type="checkbox" name="data[City][name][]” value="2" id="CityName2" /><label for="CityName2">秋葉原</label></div> <div class="form-control"><input type="checkbox" name="data[City][name][]” value="3" id="CityName3" /><label for="CityName3">東京</label></div>’; 1.上記のソースを<div>〜</div>で1行ずつ取得して配列（$textArr)に入れる 2.配列から１行ずつデータを取得し、１行毎にタグの位置を入れ替える 例）１行目の場合 <div class="form-control"><input type="checkbox" name="data[City][Name][]" value="1" id="CityName1" /><label for="CityName1">渋谷</label></div> のdivタグを取り除き、「渋谷」の前にある<label for="CityName1">タグを先頭に持ってきて、先頭のラベルに「class="checkbox-inline”」を追加して下記のように変更したいです。 <label class="checkbox-inline" for="CityName1"><input type="checkbox" name="data[City][name][]” value="1" id="CityName1" /></label> 3.求める結果（最終的な出力として） <label class="checkbox-inline" for="CityName1"><input type="checkbox" name="data[City][name][]” value="1" id="CityName1" />渋谷</label> <label class="checkbox-inline" for="CityName2"><input type="checkbox" name="data[City][name][]” value="2" id="CityName2" />秋葉原</label> <label class="checkbox-inline" for="CityName3"><input type="checkbox" name="data[City][name][]” value="3" id="CityName3" />東京</label> ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー [現状で出来ているところ] //1行のソースのdivタグを取り除く $text=‘<div class="form-control"><input type="checkbox" name="data[City][name][]” value="1" id="CityName1" /><label for="CityName1">渋谷</label></div> if (preg_match_all('/<div class="form-control"(.*?)<\/div>/s', $text, $match) ){ echo $match[1][0]; } （結果） <input type="checkbox" name="data[City][name][]” value="1" id="CityName1" /><label for="CityName1">渋谷</label> //labelタグの前半<label for="CityName1">だけを切り出して、ソースの最前に持ってくる部分がうまくいきません。 ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー ご回答よろしくお願い致します。
phpで以下のような独自タグで挟まれた文字列を、変換したいのですがやり方が分かりません。 どのようにしたら良いのでしょうか？ $str="[font red]&quot;あいうえお&quot;<br />かきくけこ<br />さしすせそ<br />[/font]"; ↓変換後 $str="<font color="red">"あいうえお"\nかきくけこ\nさしすせそ\n</font>";
XAMPPのローカル環境でメール送信をしたいのですが、mb_send_mailを使って送信できてるはずなのに、メールが届きません。 php.iniやsendmail.iniもいじってみたのですが送信できません。 php.iniは、 ;SMTP = localhost ;smtp_port = 25 sendmail_path = "\"\xampp\sendmail\sendmail.exe\" -t" に変えました。 sendmail.iniは、 ;smtp_server=mail.mydomain.com smtp_server=smtp.gmail.com ;smtp_port=25 smtp_port=587 smtp_ssl=auto error_logfile=error.log auth_username=Gmail_メールアドレス auth_password=Gmail_パスワード force_sender=メールアドレス のように変えました。 以下を実行したら’送信完了’が表示されます。 <?php if (mb_send_mail('送信先メールアドレス', 'TEST SUBJECT', 'TEST BODY')) { echo '送信完了'; } else { echo '送信失敗'; } XAMPPの設定が間違っているのでしょうか？ よろしくお願いします。
お世話になります。 アドセンスの消費税に関してですが、 アドセンスでの売り上げはすべて非課税対象になるのでしょうか？ 現在、青色個人事業主として消費税は簡易課税方式で納税しておりますが アドセンスの売り上げについても今まで消費税を納めておりました。 しかしネット上で色々調べてみますとアドセンスの売り上げは今年の10月から 非課税対象になると言うのを見かけました。 色々混乱する所があるのですが、例えば アドセンス以外の消費税がかかる売り上げ　600万円 アドセンスの売り上げ　500万円 と言う状況で、簡易課税方式をとっている場合でも 600万円のみに消費税がかかると言う事なのでしょうか？ それとも簡易課税方式の場合は対象外で1100万円が消費税課税対象になるのでしょうか？ また、上記の場合でアドセンスが非課税対象であった場合、 課税対象の売上は600万円になるわけですが、1000万円以下になるため 消費税の納税義務がなくなるのでしょうか？ それとも売上自体は1100万円になるので課税対象にはなるが、 600万円に対してのみ簡易課税で消費税を計算すれば良いと言う事でしょうか。 お手数をおかけしますがご教授いただけますと幸いです。
PHP初心者です。PHPでMY SQLの連想配列をリンク先に受け渡す方法を質問します。 //area.php <?php $db = mysqli_connect('localhost' , 'root' , '' , 'area') or die(mysqli_connect_error()); mysqli_set_charset($db , 'utf8'); $recordSet = mysqli_query($db , "SELECT * FROM osaka"); while($date = mysqli_fetch_assoc($recordSet)){ // var_dump($date); } ?> <p><a href="text.php?id=1&town&station">大阪市</p> //text.php リンク先 <p><?php echo ($_GET['id']); ?></p> <p><?php echo ($_GET['town']); ?></p> <p><?php echo ($_GET['station']); ?></p> 上記のプログラムでは連想配列の中身がリンク先に受け渡すことができず、リンク先に受け渡すプログラムやリンク先の指定方法がわからず、困っています
php.ini変更で 　参考書には 　・php.iniの中の「default_charset="UTF-8"」を有効にする・・はすぐにわかりました。 　次に 　・コード中の<head>の下の行に<meta charset="UTF-8"/>の行を追加する。 　　とありまして、とりあえず変更しようと試みましたがphi.iniは行が約2000行弱ありまして 　追加する場所がわかりませんので教えていただけないでしょうか？ php.iniの中身を以下のアドレスから公開しております。 http://homepage3.nifty.com/mtaiyo/php.htm 　以上よろしくお願いいたします。
現在、Raspberry Piと、「赤外線リモコンアドバンス」というHIDデバイスを用いて、 「ブラウザ上から、赤外線リモコンアドバンスを動作されるcronジョブを投入する」というスクリプトを作成しています。 現段階では、まず、 　・phpで、crontab -u pi -l を実行して、piユーザーで登録されたcrontabを表示 というところで詰まっております。 次の段階として、phpより、指定したスクリプト(.sh)を実行するcronジョブの投入を行いたいと考えております。 現在のコードは $cmd = "sudo crontab -u pi -l"; system($cmd, $arr); var_dump($arr); となっております。 visudoの内容を編集し apache ALL=(ALL) NOPASSWD: ALL を追記しており、apacheユーザーがパスワード無しでsudoできるよう設定済みです 外部公開するものではないのでセキュリティは考慮しておりません。 良い解決方法がございましたら、ご教示いただけませんでしょうか
はじめまして、私はワードプレスを使ってブログをやっているのですが、数日前からブログの上の方にエラーが出てしまって困っています。 プラグイン等の更新は全て自動でやっていて、ワードプレスのテーマは既存のテーマを使用しています。 特に自分でプログラム等をいじっているわけではないので解決方法が分かりません。 一体どこをいじれば正常に戻るのでしょうか？ こういうエラーが出ています。 Warning: mysql_real_escape_string(): Access denied for user 'juugo'@'localhost' (using password: NO) in /home/juugo/juugo.wpblog.jp/public_html/wp-content/plugins/statpress-reloaded/statpress.php on line 1786 Warning: mysql_real_escape_string(): A link to the server could not be established in /home/juugo/juugo.wpblog.jp/public_html/wp-content/plugins/statpress-reloaded/statpress.php on line 1786
webシステムのユーザー管理機能を開発していて、管理者が任意に選択した条件を元にユーザーデータを記述したデータベース表を出力する機能を開発しようと考えています。 データベースからユーザーのIDと名前を取り出してPOST形式で次のページへ送信したいのですが、 その際に画面上に表示させるのは名前のみにしたいのですが、上手く作動するコードがわかりません。 データベース[user]の中には、[user_id]、[user_name]の２つが格納されています。 現在選択肢の中にはIDと名前両方表示させています。 言語はPHPを使用しています。 $sqlnamelist = mysql_query("select user_name, user_id from user"); <form id="kojinname"> 名前を選択<br> 名前： <select> <?php while($date = mysql_fetch_assoc($sqlnamelist)){ echo '<option>'.$date['user_id'].$date['last_name'].$date['first_name'].'</option>'; } ?> </select> <input type="submit" value="選択"> </form> プログラミング初心者で分からないことが多いので、お答えいただければ幸いです。
PHP5.3＋jQuery1.7.2+MySQL5.5+IIS8.5の環境で、Webサイトを作成しているのですが、 他の画面へ移動するリンクをクリックすると、訪問済みの色に変わらない現象が起きています。 クリック後、ページの更新を行うと色が変わるのですが、クリックしただけでは、変わりません。 Mozilla Firefox等では、クリック後すぐに色が変わることから、IEの問題なのかな？？？と思っていますが、何かお心当たりのあるかたいらっしゃいませんか？
PHPで地域のみを変更するプログラムを質問させてもらい、ベストアンサーを決めてしまったため、質問のつづきが不可能？なため、つづきの質問をさせてもらいます //test.htm <html> <body> <a href="area.php?id=1">id=1</a> <a href="area.php?id=2">id=2</a> <a href="area.php?id=3">id=3</a> <a href="area.php?id=99">id=不明</a> </body> </html> //area.php <?PHP $id=$_GET["id"]; if (($handle=fopen("area.csv","r")) !== FALSE) { while(($data = fgetcsv($handle,1024, ",")) !== FALSE) { if($data[0]!=="") $list[$data[0]]=$data[1]; } } if(in_array($id,array_keys($list))){ $test=$list[$id]; $content=file_get_contents("area.htm"); printf($content,$test,$test); }else{ $content=file_get_contents("error.htm"); print $content; } ?> //area.csv 1,豊中市 2,池田市 3,吹田市 //area.htm <html> <body> この地域は%sです<br> %sはいいとこです </body> </html> //error.htm <html> <body> error! </body> </html> 上記のプログラムをお答えいただき、ほぼ実現させたいことができそうなのですが、 例えば、area.htmのタイトルタグやｐタグに『%のガラス屋』と入れて、『豊中市のガラス屋』と表示させたいのですが、area.phpにどのようなプログラムを書けばいいのですか？
PHPで地域名のみ変更 http://www.osaka-glass.com/ http://www.osaka-glass.com/sichouson.php?s_id=27 … http://www.osaka-glass.com/sichouson.php?s_id=27 … 上記サイトのようにトップページから『豊中市』をクリックすると豊中市のページが表示され、『池田市』をクリックすると池田市のページが表示され、地域名だけが変更するシステムをPHPで作成したいのです。 PHP初心者で勉強中なのですが、MYSQLなどのデータベースは使用せず、HTMLなどのテキストに地域名の配列を用意して、それを読み込み、リンク先に表示する方法で実現したいのです
たびたびすみませんが質問させてください。 現在、掲示板に削除機能をつけたいと思いいろいろ調べてやってみてるのですが、 削除されません。具体的にやりたいこととしては、投稿者が投稿後に削除したい場合、 記事内のアイコンをクリックすることで削除出来るようにすることで、 削除するための条件は投稿日時を使ってます。 コードは以下ですが、実際のコードはテーブルとか使ってて長いので、関係あるところだけ書きます。 $ps = $db->query("SELECT table2.nam,table2.icon,table1.mes, table1.gaz,table1.dat FROM table2 JOIN table1 ON table2.nam = table1.nam ORDER BY ban DESC"); while($r = $ps->fetch()){ $dat = $r['dat']; //投稿日時 中略 print "<div align='right'><form acton='g_del.php' method='POST'> <input type='hidden' name='del' value='$dat'> <input type='image' src='./gz_icon/del.jpg' width='15' height='20' alt='削除'> </form></div><br>"； } ------------------------------------ g_del.php ------------------------------------ require_once("db_init.php"); if(isset($_POST['del'])) $del=$_POST['del']; else $del=""; if($del != ""){ $delete = $db->prepare("DELETE FROM table2 WHERE dat = $del"); $delete->execute(); header('Location: g.php'); } 以上です。何かおかしいところがありましたら教えてください。 よろしくお願いいたします。
XAMPP　Control Panel v3.2.2の 　Configの php.iniの設定で（以下のプログラムを参考） 　・メールの設定 　メールの設定は、複数の項目があります。以下の項目を検索し、お使いのメール環境の値を記述してメール設定を行います。先頭にセミコロン(;)がついている項目の場所は、セミコロンを削除して有効にしてください。 　sendmail_path = Sendmailの場所 上記のうちに、項目「sendmail_path」には　メール送信機能の場所を指定します。 　本書では、XAMPPでインストールしたSendmail(Fake Sendmail)の場所を指定することにします。 標準設定のままインストールしているなら、「sendmail_path」で「sendmail.exe」の場所が指定されているので、先頭のセミころを削除して有効にするだけです。（①）。 　ただ、最初のメールをデェスク内に保存する送信機能で「mailtodisk」が指定された「sendmail_path」設定 の記述のほうが有効になっていますので、この行にはセミころをつけて無効にしてください（②）。 [mail function] ; XAMPP: Comment out this if you want to work with an SMTP Server like Mercury SMTP = smtp.○○○.com smtp_port = 123 ; For Win32 only. ; http://php.net/sendmail-from sendmail_from = y○○○@○○○.com ; XAMPP IMPORTANT NOTE (1): If XAMPP is installed in a base directory with spaces (e.g. c:\program filesC:\xampp) fakemail and mailtodisk do not work correctly. ; XAMPP IMPORTANT NOTE (2): In this case please copy the sendmail or mailtodisk folder in your root folder (e.g. C:\sendmail) and use this for sendmail_path. ; XAMPP: Comment out this if you want to work with fakemail for forwarding to your mailbox (sendmail.exe in the sendmail folder) sendmail_path = "\"C:\xampp\sendmail\sendmail.exe\" -t" 　（セミコロンを削除してsendmailを有効にします(①)） ; XAMPP: Comment out this if you want to work with mailToDisk, It writes all mails in the C:\xampp\mailoutput folder ;sendmail_path="C:\xampp\mailtodisk\mailtodisk.exe" 　（セミコロンをつけてmailtodiskを無効にします(②) 以上でございますが、 　「sendmail_path」には　メール送信機能の場所を指定します。 　の上記の設定の意味が全く分かりません！？ 　メールは 　Microsoft Office Outlook 2007を使っておりますが どなたかご教授ができるお方がおられましたらよろしくお願いいたします。
初めまして、インターネットで質問するのは初めてなのですが、 どうしても分からなかったので、質問させて頂きます。 回答して頂けると幸いです。 ログデータで、 ~行目:~~~ ~行目:~~~ ※この後繰り返し となっているログデータがあり、その「~行目」の「~」の部分だけを削除し、 シェルコマンドのユニークコマンドを使用して、 重複している行の行数を数えて、 その重複している件数とエラー内容をphpの変数に入れたいのですが、 一度のshell_execでやる事は可能でしょうか？ 無理な場合はshell_execではなくfopen等のファイルオープン系で、 取り出して処理していった方がいいのでしょうか？
ifを使って複数の変数にデータがあるかどうかの条件式を作りたいのですが、うまくできません。 if(empty($hensu1) or empty($hensu2)){ $test = ""; } else{ $test = 'テストです'; } $hensu1か$hensu2のどちらかにデータがある場合のみ、$test = 'テストです'にしたいと思っています。 しかしながら上記だと$hensu1にデータがある場合のみしか$test = 'テストです'になりませんでした。 $hensu2にだけデータがあるときには$test = "";になってしまいます。 どこが原因なのでしょうか？
秀和システムの「作りながら基礎から学ぶPHPによるWebアプリケーション入門」は284ページありますが、 174ページまでやりましたが、掲示板に質問しながら学んでいましたところ、ご回答者の方から 参考書の内容がおかしいとご指摘をいただきまして、参考書を途中で掲示板サイトで技術評論社の「パーフェクトPHP」をご紹介していただき、それに代えて、79ページまでやりました。 しかし、C言語の基礎がしっかりできていないと、PHPは無理という理由から中途半端で終わらせていました、C言語の基礎を途中から再開しましてやっと一冊基礎を終りました。 　今のところプログラミングのスキルの目標はＰＨＰで掲示板を立ち上げるのが目標です。 1年5か月ぶりにＰＨＰの勉強しようと意気込んでいるところですが！ 　依然やっておりました、技術評論社の「パーフェクトPHP」で勉強してもよろしいのですが本書記載の情報には「2010年10月16日現在のものを記載」とありまして、少し古いかなと存じますが・・・ 　ほかに基礎的にお勧めの本がございましたら、ご紹介していただけないでしょうか 　以上よろしくお願いいたします。 秀和システムの「作りながら基礎から学ぶPHPによるWebアプリケーション入門」　 http://www.amazon.co.jp/%E4%BD%9C%E3%82%8A%E3%81 … パーフェクトPHP http://www.amazon.co.jp/%E3%83%91%E3%83%BC%E3%83 …
にPHPのご質問をしております。 https://oshiete.goo.ne.jp/qa/9115347.html 　マルチタスク防止で質問内容を一つにしましたのでご了承くださいませ。 　以上よろしくお願いいたします。
PHPのフォームで予約システムを作っています。 予約日毎月決まっており、10日と25日のみです。 内容としましては ■現在日付から直近の予約日を取得して、フォームに表示。 　・例 11月20日の場合、11月25日を取得して表示する。 　・この際12月10日、12月25日は表示しない。 ■予約できる期間の指定。 　・1. 11月25日の予約であれば11月11日～11月23日まで。 　・2. 12月10日の予約であれば11月26日～12月08日まで。 　・期間外（1.の場合だと11月24日）となった場合は「電話にて予約お願いします」と表示する。 　・予約日が過ぎたら次の予約日時を表示する。 というふうにしたいです。 どのようにプログラムをかいてよいかわからず困っております。 お分かりの方がいらっしゃいましたらご教示お願いいたします。
またまた質問よろしくお願いいたします。 現在『基礎からのPHP』という本に記載されている画像掲示板を書き写してやってみてるのですが、 サムネイル生成について、本ではjpgのみで書かれていますが、gifも付け足したいと思い、やってみたのですが、gif画像が縮小されず元サイズのままimgフォルダにも保存されてしまってます。 それでgifのみでやるとどうかと思って、元のコードのjpgのところをgifに書き換えてやってみたのですが、それでも縮小されません（jpgならうまくいきます）。 この理由がわかりますでしょうか？そのコードは以下です。 //アップロードされた画像ファイルを移動 $ima = date('YmdHis'); $fn = $ima . $file['name']; move_uploaded_file($file['tmp_name'], './gz_img/'.$fn); //サムネイルの作成 $motogazo = ""; $motogazo = imagecreatefromgif(dirname(__FILE__) . "./gz_img/$fn"); if(!$motogazo){ print "<p>メモリ不足です。<br> ファイルサイズを小さくしてから再度送信してください。</p> <p><a href='g_up,php'>アップロード画面に戻る</a></p>"; } else{ list($w,$h) = getimagesize(dirname(__FILE__) . "./gz_img/$fn"); if($file['size'] > 100 * 100){ $new_h = 100; $new_w = $w * 100 / $h; } else{ $new_h = $h; $new_w = $w; } $mythumb = imagecreatetruecolor($new_w,$new_h); $bg = imagecolorallocate($mythumb, 255, 255, 255);　//背景用の白作成（ここはgifの背景が黒くなるのを防ぐため付け足しました） imagefill($mythumb, 0, 0, $bg);　　//背景を白で塗りつぶす（ここもgif用に付け足しました） imagecopyresized($mythumb,$motogazo,0,0,0,0,$new_w,$new_h,$w,$h); imagegif($mythumb,"./gz_img/thumb_$fn"); imagedestroy($motogazo); imagedestroy($mythumb); どうぞよろしくお願いいしたします。
すいません。phpを勉強中である特殊文字を含む文字列を「特殊文字を含む文字列」で分割したいのですが、 例　abc"bbb"c"cを　"b で分割したい 調べた所、explodeですと「特殊文字」を指定できない、preg_splitですと「特殊文字のみ（正規表現」しか指定できない・・・。 なので特殊文字の「”」をアルファベットにまず変換してからexplodeで分割しようと考えたのですが、 色々やってみても上手くいきません。 ダブルクォーテーションをアルファベットに置き換えたいのですが教えてもらえませんでしょうか。 $am='abc"bbb"c"c'; preg_replace('/\"/'dddddd'', $am); preg_replace('/"/'dddddd'', $am); str_replace(' " ', "dddddd", $am);
PHP,Ver5.5.30で、 Mail.phpを使用して、メールを送信しようとしているのですが、 エラーがでて送信できません。 こちらのHPを参考に、コードを作りました http://www.phpbook.jp/pear/pear_mail/index13.html 以下の行を、うちの環境に合わせて、修正し実行。 $params = array( "host" => "local.co.jp", "port" => 25, "auth" => true, "username" => "xxx@xxx.xxx.xx", "password" => "xxxxx" ); すると、下記のエラーが返ってきます。 authentication failure [SMTP: SMTP server does not support authentication (code: 250, response: local.co.jp PIPELINING SIZE 102400000 VRFY ETRN ENHANCEDSTATUSCODES 8BITMIME DSN)] エラーをネット検索してみて、以下のHPを見て、 http://quattrooooo.cocolog-nifty.com/blog/2011/0 … hostを”ssl://local.co.jp”にして、 ;extension=php_openssl.dll のコメント;はずして extension=php_openssl.dll にかえてもダメでした、以下のエラーがでます。 Failed to connect to ssl://local.co.jp:25 [SMTP: Failed to connect socket: fsockopen(): unable to connect to ssl://local.co.jp:25 (Unknown error) (code: -1, response: )] そもそもSSLなんて使っていないですし・・・。 local.co.jpにはpingが通り、アクセスはできますし、 outlookなどのメーラーからは送信できます。 何が問題なのでしょうか？ わかる方がいましたら、よろしくおねがいします。
会員データーの会員に一斉メール配信をしたいのですが上手くいきません。 DBはkaiin,maildbの二つ 環境はエクリプス(PHP5.3)とXAMPP ソースコードは以下の通りです。 <?php //データーベース接続 $dbh = new PDO("sqlite:user",null,null); // mb_language("japanese"); mb_internal_encoding("UTF8"); if (isset($_POST["submit"])){ //変数のセット $title = htmlspecialchars($_POST['title'],ENT_QUOTES); $text = htmlspecialchars($_POST['text'],ENT_QUOTES); $date = date('Y/m/d H:i:s'); if (strlen($title)==0){ $error = "タイトルが未入力です。"; } if (strlen($text)==0){ $error = "本文が未入力です。"; } //メール文をデーターベースに残す if ($error==""){ $sql = "INSERT INTO maildb ( title,text,date ) VALUES ( '$title','$text','$date' )"; $sth = $dbh->prepare($sql); $sth->execute(); //送信先アドレス抽出 $sql = "SELECT name,email FROM kaiin"; $sth = $dbh->prepare($sql); $sth->execute(); while ($row = $sth->fetch()) { $to = $row['email']; $subject = $_POST['title']; $body = $row['name']."　さま\n\n"; $body .= $_POST['text']."\n\n"; $body .= "本メール会員を退会する場合は以下のURLより手続きをお願いします。\n"; $body .= "http://localhost/php/#\n"; $from = "From:abcd@efgh.jp"; if(mb_send_mail($to,$subject,$body,$from)){　　　ここが40列目です。 echo "メール送信成功しました。"; }else{ echo "メール送信失敗しました。"; } } } } ?> エラーコード Warning: mb_send_mail() [function.mb-send-mail]: Failed to connect to mailserver at "localhost" port 25, verify your "SMTP" and "smtp_port" setting in php.ini or use ini_set() in C:\xampp\htdocs\Narita\kanri\email.php on line 40 翻訳 (警告：mb_send_メール()[function.mb-送信メール]：「localhost」ポート25でmailserverと接続するために失敗し、php.iniにおいて設定するあなたの「SMTP」および「smtp_port」を確認するか、またはライン40においてC:\xampp\htdocs\Narita\kanri\email.phpのini_セット()を使いなさい) php.iniの変更が必要なのでしょうか？ または他に何か原因があるのでしょうか？
プログラム初心者です。現在PHP、データベースを勉強しています。 現在、入力フォームを作成して、phpからデータベース接続して検索結果を表示するところまではできたのですが、検索結果に動的にリンクを貼る方法がわかりません。 ーーーーーーーーーーーーーーーーーーーtop.htmlーーーーーーーーーーーーーーーーーーーーーーー <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <title>TOP</title> </head> <body> <form method="POST" action="search.php"> <h2>名前を検索する</h2> <input type="text" name="key" size="40" maxlength="255"> <input id="submit_button" type="submit" name="submit" value="検索"> <input type="reset" value="クリア"> </form> </body> </html> ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー ーーーーーーーーーーーーーーーーーーーーーsearch.phpーーーーーーーーーーーーーーーーーーー <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <title>検索結果</title> </head> <body> <?php $user = "user"; $pass = "pass"; $key = mb_convert_encoding($_POST["key"], "UTF-8", "auto"); $c = pg_connect("user={$user} password={$pass}"); $sql = "SELECT * FROM sample WHERE name LIKE '%{$key}%';"; $rs = pg_query($c, $sql); $num = pg_num_rows($rs); $html ="検索結果は{$num}件です<br><table border=\"1\"><tr><th>名前</th></tr>"; while($arr = pg_fetch_assoc($rs)){ foreach($arr as $i => $v) $arr[$i] = mb_convert_encoding($v, "UTF-8", "auto"); $html .="<tr><td>{$arr["name"]}</td></tr>"; } $html .= "</table>"; echo($html); pg_close($c); ?> <br> <a href="top.php">前のページへ戻る</a> </body> </html> ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー ーーーーーーーーーーーーーーーーーデータベースの内容ーーーーーーーーーーーーーーーーーーーー CREATE TABLE sample(id int PRIMARY KEY, name varchar, age int, gender varchar,); 1, '山田太郎', 20, '男' 2, '鈴木花子', 19, '女' 3, '田中次郎', 35, '男' 4, '山田花子', 30, '女' 5, '佐藤三郎', 65, '男' ・ ・ ・ ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー ーーーーーーーーーーーーーーーーーーーsyousai01.phpーーーーーーーーーーーーーーーーーーーー <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <title>詳細</title> </head> <body> <?php $user = "user"; $pass = "pass"; $c = pg_connect("user={$user} password={$pass}"); $sql = "SELECT * FROM sample WHERE id = 1;";　//syousai04.phpならid=4に変える $rs = pg_query($c, $sql); while($arr = pg_fetch_assoc($rs)){ $id = $arr["id"]; $id = mb_convert_encoding($id, "UTF-8", "auto"); $name = $arr["name"]; $name = mb_convert_encoding($name, "UTF-8", "auto"); $age = $arr["age"]; $age = mb_convert_encoding($age, "UTF-8", "auto"); $gender = $arr["gender"]; $gender = mb_convert_encoding($gender, "UTF-8", "auto"); echo "<p>\n"; echo "<dl>\n"; echo "<bt>id</bt><dd>$id</dd>\n<br>"; echo "<bt>名前</bt><dd>$name</dd>\n<br>"; echo "<bt>年齢</bt><dd>$age</dd>\n<br>"; echo "<bt>性別</bt><dd>$gender</dd>\n<br>"; echo "</dl>\n"; echo "</p>\n"; } pg_close($c); ?> </body> </html> ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー search.phpでwhile文で回して検索結果をテーブルにして書き出しています(nameだけなのでテーブルにしなくてもいい？)。 例えば、ここで「山田」と検索すると検索結果画面は下のようになります。 検索結果は2件です 名前 山田太郎 山田花子 この検索結果に 山田太郎にはsyousai01.php 山田花子にはsyousai04.php リンクを貼ることは可能でしょうか？ リンクを貼ることが可能でしたらどのようにプログラムを書き換えればいいのでしょうか？ 回答お願いします。
php mysqlに関してド初心者です。簡易掲示板を作成する課題があるのですが、どう調べてもわからない箇所があり、まいっています。１つは編集、削除の際にパスワードの入力を求める。具体的にはパスワード入力ができるようにしたformを表示し入力させる。２つめは入力されたパスワードと書き込み時に保存したパスワードを比較し、一致の場合のみ編集削除が動作するようにする。というものです。どう書けばいいのかさえわかりません。教えて頂けたら有り難いです
htmlの中にある連続した不要な<p></p>を取り除きたくて、リプレイスしたのですが、エラーが出てしまったうまくいきません。 どうしたらいいのでしょうか？宜しくお願いします。 書いたもの preg_replace('<p></p>', '', $comment); &が駄目みたいです。
先日、macを買いました。 wordを入れたいんですが どうすれば良いのでしょうか 教えていただけたら幸いです。
商品の出荷記録を作成しています。 しかし、phpで自動計算した値をデータベースに登録する方法が分かりません。 データ記入のindex.phpとindex.phpから受け取ったデータを計算するcheck.phpを作成しています。 一番下[実際の入力]の★部分が分からないです。 商品種目によって単価×数量で価格が決まるものと、 単価×重量、単価×容量で価格が決まるものの三種類があります。 例えば、スーパーでお肉が1kgあたり80円の商品と、 お菓子で1個100円の商品と、お水が1L当たり120円の モノがあるという感じです。 例1) 1.単価円×数量(商品の個数)=価格 2.単価円×重量(kg)=価格 3.単価円×容量(L)=価格 そして、今回データベースに記録したいのが、 1.日付、2.商品名、3.個数、4.重量or容量、5.価格です。 重量(kg)と容量(L)に個数が必要なのは、そのkgを抽出するのに 何個、または何羽原材料に使ったか？を記録するため、結局は 全商品個数を入力する必要があります。 例えば、1羽の鳥から100gの重量肉が取れたや、 100個のオレンジから10Lの果汁が抽出できた等です。 今回【index.php】は入力画面となり、 上記　例1)価格の値は空白にしています。 【index.php】 <tr><th>価格</th><td><span class="yo">円</span></td></tr> 次の【check.php】にて計算して出力しようと考えました。 $kakaku=$jyuryo*$tanka; ⇒$jyuryoの変数には重量(kg)と容量(L)のどちらかの値が入っています。 　例1)の2と3の場合の価格になります。 $tkakaku=$kosu*$tanka; ⇒$kosuの変数には商品の数量値が入っています。 　例1)の1の場合の価格になります。 そして、【check.php】のテーブルに価格の計算結果を表示させています。 $syouhinで商品1をセレクトした場合は、例1)の1の計算をして、 それ以外の商品は例1)の2と3の計算をして表示させるというものです。 print "<tr><th>価格</th><td>"; switch($syouhin){ case '1': print $tkakaku;break; default: print $kakaku; } print "円</td></tr> この計算結果を変数に入れる方法が分からないのです。 データベースに計算結果を登録するには変数が必要と考えています。 もし、変数がなくてもデータベースに登録する方法がございましたら、 教えて下さい。 [実際の入力] 【index.php】 <form action="check.php" method="post" accept-charset="utf-8"> <table border="2" align="center"> <caption>出荷記録</caption> <tr><th>日付</th><td><input name="hiduke" type="date" value="yyyy-mm-dd"></td></tr> <tr><th>商品名</th><td><select name="syouhin"> <option value="1">商品1</option> <option value="2">商品2</option> <option value="3">商品3</option> </select> </td></tr> <tr><th>個数</th><td><input name="kosu" type="text" size="10"><span class="yo">個</span></td></tr> <tr><th>重量orリットル</th><td><input name="jyuryo" type="text" size="10"><span class="yo">kg・Ｌ</span></td></tr> <tr><th>単価</th><td><input name="tanka" type="text" size="10"><span class="yo">円</span></td></tr> ★<tr><th>価格</th><td><span class="yo">円</span></td></tr>★ </table> </form> 【check.php】 <?php $dsn='mysql:dbname=kaka;host=localhost'; $user='root'; $password=''; $dbh=new PDO($dsn,$user,$password); $dbh->query('SET NAMES UTF-8'); $hiduke=$_POST['hiduke']; $syouhin=$_POST['syouhin']; $kosu=$_POST['kosu']; $jyuryo=$_POST['jyuryo']; $tanka=$_POST['tanka']; $kakaku=$jyuryo*$tanka; $tkakaku=$kosu*$tanka; if($hiduke==''){print '<table border="2" align="center" width="450"><caption>出荷記録</caption><tr><th>日付</th><td class="ng">日付が入力されていません。</td></tr>';} else{print '<table border="2" align="center" width="450"><caption>出荷記録</caption><tr><th>日付</th>'; print "<td>$hiduke</td></tr>";} print "<tr><th>商品名</th><td>"; switch ($syouhin){ case '1': print '商品1';break; case '2': print '商品2';break; case '3': print '商品3';break; default: print '商品が指定されていません。<br />'; } print "</td></tr>"; if($kosu==''){print "<tr><th>個数</th><td>個数が入力されていません。</td></tr>";} else{print "<tr><th>個数</th><td>$kosu 個</td></tr>";} if($jyuryo==''){print '<tr><th>重量orリットル</th><td>重量が指定されていません。</td></tr>';} else{print "<tr><th>重量orリットル</th><td>$jyuryo"; switch($syouhin){ case '1': print 'L';break; default: print 'kg'; } print "</td></tr>"; if($tanka==''){print "<tr><th>単価</th><td>単価が入力されていません。</td></tr>";} else{print "<tr><th>単価</th><td>$tanka 円</td></tr>";} ★print "<tr><th>価格</th><td>"; switch($syouhin){ case '1': print $tkakaku;break; default: print $kakaku; } print "円</td></tr></table>";}★ if($hiduke==''||$syouhin==''||$kosu==''||$jyuryo==''||$tanka==''){print '<form accept-charset="utf-8"><div class="botan"><div class="data1"><input type="button" onclick="history.back()" value="戻る"></div></div></form>';} else{ print '<form method="post" action="index.php" accept-charset="utf-8"><div class="botan"><div class="data1"><input type="button" onclick="history.back()" value="戻る"></div> <div class="reset1"><input name="nyryoku" type="submit" value="入力確定"></div></form>';} $sql='INSERT INTO shipping (hiduke,syouhin,kosu,jyuryo,tanka) VALUES("'.$hiduke.'","'.$syouhin.'","'.$kosu.'","'.$jyuryo.'","'.$tanka.'")'; $stmt=$dbh->prepare($sql); $stmt->execute(); $dbh=null; ?>
お世話になります、PHP歴（プログラム歴）数日のど素人です。 表題の件について、質問なのですが 例えば <?php class munyamunyaApi { protected $_common; protected $_retArray; public function hoge(){ $moge = "どうのこうの"; echo $moge; //どうのこうのが表示される } public function foo(){ $bar = "あれこれ" echo $bar."<br>" echo $moge; //上で使ったどうのこうのを表示したい } 以下略 このfunction foo内で$mogeを使うにはどのように記述をすればよいのでしょうか？ グローバル変数とやらを使えばよさそうなのですが、Zendフレームワークでは使わないほうがよいという 記事も出てきて困っております。 どうぞよろしくお願い致します。
PHPでテキストに含まれるリンクとテキスト部分をアンカータグで囲うようなメソッドってないんでしょうか？ 例えば てすと[http://hogehoge.com ほげほげ]てすと っていう文章を てすと<a href="http://hogehoge.com">ほげほげ</a>てすと みたいに変換してくれるイメージです。 よろしくお願いします。
度々初歩的な質問ですみません。 いろんなソースコードを参考にして、チャットにパソコン内から画像をアップする （mysqlに保存する）ことをやっているのですが、拡張子の取得でのエラーが出てうまくいきません。 if($sUp == "アップロード"){ $img_path = $_FILES['uploadfile']['tmp_name'] ; //ローカル内画像リンク $img_file = file_get_contents($img_path); //画像の取得 $ext = ""; //$extを初期化 $ext = pathinfo($img_path,PATHINFO_EXTENSION); $sUp = $img_file; } //チャットデータの書き込み $sql="insert into chat_tbl(id,handle,message,dateTime,up,ext) values(null,?,?,null,?,?)"; $sql='select * from chat_tbl order by dateTime desc;'; //データベースのレコードを後ろから前に向かって読み込んでいます。 $stmt=$dbh->prepare($sql); $stmt->bindValue(1,$sHandle); $stmt->bindValue(2,$sMsg); $stmt->bindValue(3,$sUp); $stmt->bindValue(4,$ext); $stmt->execute(); if(!$dbh->query($sql)){ echo "チャットデータの書き込みに失敗しました。<br>\n"; exit(); } ----------------------------------------------- で、Notice: Undefined variable: ext in C:\xampp\htdocs\chat\chat.php on line 69 というエラーが出てしまいます。 69行目は $stmt->bindValue(4,$ext); です。 調べたらこのエラーが出たら変数を初期化したら消えるということだったのでやってみましたが 変わりません。どうしたらよいでしょうか？ 他にもおかしいところなどありましたらよろしくお願いいたします。
SQLiteのデーターを表示出来ずに困っています。 データーベースには接続済みです。 <h3>会員名簿管理</h3> <table cellspacing="2" bgcolor="#ccccff"> <tr bgcolor="#eee8aa"> <td width="40" align="center"><font size="2">番号</font></td> <td align="center"><font size="2">名前</font></td> <td align="center"><font size="2">誕生日</font></td> <td align="center"><font size="2">性別</font></td> <td align="center"><font size="2">Email</font></td> </tr> <?php $sql = "SELECT * FROM user ORDER BY id"; $sth = $dbh->prepare($sql); $sth->execute();　　　　　　　　　　　　　　（ ←ここが47列目です。 ） while ($row = $sth->fetch()) {　 $id = $row["id"]; $name = $row["name"]; $brth = $row["brth"]; $sex = $row["sex"]; $email = $row["email"]; echo <<<EOT <tr> <td align="center">$id</td> <td><input type="text" name="name[$id]" value="$name" size="7"></td> <td><input type="text" name="brth[$id]" value="$brth" size="3"></td> <td><input type="text" name="sex[$id]" value="$sex" size="1"></td> <td><input type="text" name="email[$id]" value="$email" size="22"></td> </tr> EOT; } ?> </table> エラーコード Fatal error: Call to a member function execute() on a non-object in C:\xampp\htdocs\Homepage\Home\Manag\kaiin.php on line 47 どなたかなにとぞご教授、お願いいたします。
プログラムでCSVを自動生成しようとしているのですが、改行ができません。 $dataに配列を格納 // 配列を文字列化 foreach($data as $dat){ $buf .= implode(',', $dat).'\n'; } // 出力ターゲット $file = C:\temp\file.csv // CSVファイルを追記モードで開く $fp = fopen($file, 'ab'); // ファイルに書き込む fwrite($fp, $buf); // ファイルを閉じる fclose($fp); で、出来上がったCSVファイルを開くと りんご,100\nみかん,50\nバナナ,200\nメロン,800 となっています。 どうすれば りんご,100 みかん,50 バナナ,200 メロン,800 のようになるでしょうか？
ネット上で公開されているソースコードを真似して練習しているのですが、フレームを使ったチャットルームでわからないことがあるので教えてください。 まず、ネームを入力してログインボタンを押す画面があり、それのコードは、 <p>お名前を入力してログインボタンを押してください。</p> <form action="main.php" method="post" taeget="_self"> <input type="text" name="nick" cols="20"> <input type="submit" value="ログイン"><br> </form> これで、main.phpがフレームで読み込みと書き込みを上下に分けたページになっていて、 nickはこのmain.phpに <? setcookie("nick",$nick) //use cookie to store user nickname ?> と記述するようになっているのでそのようにしたのですが、実際に書き込んでみると、nickの値のみが mySQLに書き込まれていませんでした。 書き込み用のページ（speak.php）のコードは、 <?php $user = "root"; $password = ""; $pdo = new PDO('mysql:dbname=sim2;host=localhost;',$user,$password); $pdo->query('SET NAMES utf8'); date_default_timezone_set('Asia/Tokyo'); $time = date('Y m/d H:i:s'); if(isset($_POST['nick'])) $nick=$_POST['nick']; else $nick=""; if(isset($_POST['words'])) $words=$_POST['words']; else $words=""; if($words !="") { $write = $pdo->prepare("INSERT INTO chat(chtime,nick,words) VALUES('$time','$nick','$words')"); $write->execute(); } $pdo=null; ?> <form action="speak.php" method="post" target="_self"> <input type="text" name="words" cols="20"> <input type="submit" value="書き込む"><br> </form> このようにしたのですが、nickの値が書き込みできない原因はわかりますでしょうか？ あと、クッキーを使わずにフレームを使ったやり方でnickを取得する方法って他にありますか？ よろしくお願いいたします。
PHPとMySQLで、自作アプリケーションソフトを販売するシステムを作っています。 まず、自作サーバーから、試用版のソフトをダウンロードしてもらい、気に入ればクレジットカードか銀行振り込みでお金を払ってもらおうと考えています。そして入金が確認できれば、自動的にemailで、キーを送るというシステムを作りたいのです。 ある程度、システムが出来つつあり、クレジットカード決済代行会社に決済の部分をお願いしたいのですが、入金を確認すると、入金が行われたというメールが送られてくるだけでしょうか？それとも、何か信号が送られてくるのでしょうか？もしそうなら、その信号をデータベースに取り込むには、どういう風にプログラムを作ればよいのでしょうか？ 素人なので、どのように作ればよいのか想像できません。 少し事情があって、本番運用が1年後になるので、まだ決済代行会社と契約したくないのです。 おおまかな説明でも、詳しいプログラムの作り方でも、参考になるサイトでも構いません。教えていただける方がいらっしゃれば、幸いです。
PHPの勉強を始めたばかりなので、書き方とかが変だったらすみません。 windows8.1で、XAMPPver.1.7.4を使っています。 ネットで配布、公開されているソースを真似させてもらって作ってみているのでが、 シンプルなチャットのプログラムで、sqli関数で書かれたソースだとエラーが出てうまくいかなかったので、データ接続等の記述は、PDOで書き直してやってみたら成功したのですが、 エラー対策のif文を入れると（元のソースに入っていたものをとりあえず最初ははずしてやってみてました）２重でデータベースに書き込みされてしまいます。 原因を教えていただけると嬉しいです。 まず、元のソースは、 //チャットデータの書き込み $sql="insert into chat_tbl values(null,'{$sHandle}','{$sMsg}',null);"; if(!mysqli_query($conn,$sql)){ echo "チャットデータの書き込みに失敗しました。<br>\n"; exit(); } これを私は、 //チャットデータの書き込み $sql="insert into chat_tbl values(null,'{$sHandle},'{$sMsg}',null);"; $stmt = $dbh->prepare($sql); $stmt->execute(); if(!$dbh->query($sql)){ echo "チャットデータの書き込みに失敗しました。<br>\n"; exit(); } このようにしました。if文を入れなければ正常に書き込まれますが入れるとダブります。 どうぞよろしくお願いいたします。
$a_array=array( array('a', 1, 'aです'), array('b', 2, 'bです'), array('c', 3, 'cです'), ); 上記の様な$a_arrayとします。 高校数学で下記の様なものがありますよね。 y=f(x) f(x)=2x+1 ここでダイレクトに $my_array=f('b'); //array('b', 2, 'bです')のこと の様なことをする方法あるでしょうか？ 私は方法が分からないので一々foreachで探して一致したものを選んでいます。 少し説明が足りない文章だと存じますが、伝わりましたでしょうか？ 方法が有るか無いか、有るなら方法を御教示願えないでしょうか？
PHPで作ったウェブプログラミングツールを配って、各人に自分でサーバーを契約してアップロードして使っていただいています。 プログラムを更新した場合、現在は全ファイルをzipにして送って、各人アップロードし直してもらうという非常に面倒くさい仕組みなのですが、各人が表示されているページ上でアップロードをクリックしたら新しいプログラムに書きかわるみたいな事は実装可能なのでしょうか？ そういった事が詳しく説明しているページなどがありましたら紹介していただけると助かります。 よろしくお願いします。
PHP初心者です。 CakePHPのコントローラの中で下記のような記述をしていますが、 常にif文の中を通ってしまいます。 $this->log(strval($this->Auth->redirectUrl()), 'debug'); if (strval($this->Auth->redirectUrl()) == '/') { // returns always true!!! $this->log("#####", 'debug'); return $this->redirect(['controller'=>'bookmarks','action'=>'index']); } ログには /tags ##### と出ます。 redirectUrl()が「/」の時だけif文の中を通したいのですが、どうすればいいでしょうか？
はじめて投稿させていただきます。 お力添えいただければ幸いです。 ホームページでメールフォームを設置しています。 php5.3で問題なく動作していました。 同じフォームを違うホームページにも使おうとソースをコピペしたのですが、正しく表示されません。 何度も確認したのですが、元データとの差異は発見できず、どうしたものかと途方に暮れていたのですが、phpのバージョンが違うことに気が付きました。 プログラムは「入力画面」「確認画面」「送信完了のお知らせ画面」の3段構成になっていて、エラーが出るのは「確認画面」です。 そのプログラムの部分のコードは以下の通りです。 <form action="submit.php" method="POST"> <? if ($_SERVER["REQUEST_METHOD"] == "POST") { foreach($_POST as $k => $v){ if (get_magic_quotes_gpc()) { $v = stripslashes($v); } $v = htmlspecialchars($v); $$k = $v; } } else { exit(); } $ErrFlg = 0; if ($name == "") { echo "<p>お名前を入力してください。"; $ErrFlg = 1; } if ($email == "") { echo "<p>メールアドレスを入力してください。"; $ErrFlg = 1; } if ($_POST["email1"] != $_POST["email2"]) { echo "<li>メールアドレスに誤りがあります。</li>"; $ErrFlg = 1; } if (!$ErrFlg) { ?> <dl> <dd>お名前</dd> <dt><?=$_POST['name']?></dt> <dd>eメール</dd> <dt><?=$_POST['email1']?></dt> <dd>メッセージ</dd> <dt><?=$_POST['message']?></dt> </dl> <input type="submit" value="送信"> <? } ?> <input type="hidden" name="name" value="<?= $_POST['name'] ?>"> <input type="hidden" name="email" value="<?= $_POST['email1'] ?>"> <input type="hidden" name="message" value="<?= $_POST['message'] ?>"> </form> 上記コードで、php5.4では不具合がでてしまう箇所、もしくはそもそも…など、何かお分かりになる方がいらっしゃいましたら是非ともご教授のほど、よろしくお願いいたします。
札幌市立福井野小学校の保護者メールを登録したいのでアドレスを教えて欲しいのですが…。
SQLの命令の書き方ですが、くだらない質問かもしれませんが、 あるPHPのシステムのコード(下記)を例にすると、一行ごとに　$sql　という変数に　足して書いていくようなやりかたは、業界の共通なのでしょうか? ただ単に好みなのでしょうか?　 public function insertUser($loginId, $loginPassword, $name) { $loginPassword = md5($loginPassword); $sql = ' INSERT INTO user '; $sql .= ' ( '; $sql .= ' login_id '; $sql .= ' ,login_password '; $sql .= ' ,name '; $sql .= ' ,update_date '; $sql .= ' ) VALUES ( '; $sql .= ' :login_id '; $sql .= ' ,:login_password '; $sql .= ' ,:name '; $sql .= ' ,NOW() '; $sql .= ' ) '; $stmt = $this->prepare($sql); $stmt->bindValue(':login_id', $loginId); $stmt->bindValue(':login_password', $loginPassword); $stmt->bindValue(':name', $name); try { $stmt->execute(); } catch (PDOException $e) { die('insertUser failed: '.$e->getMessage()); } }
PHP オートローダーについてですが、 基底クラスのほうで定義していれば、先頭に長大なrequireを書く必要はなくクラス読み込めるとの理解をしましたが、いざ、ネットで調べて、サンプルコードの例を見てみるのですが、　どのうよに使えばよいのかが、理解できませんでした。特に基底クラスでの定義の仕方がよくわかりません。ただ単にincludeやrequireで読み込むよりも複雑なような気がします。 PHP オートローダーについて、簡単な例を上げて説明していただけませんでしょうか? よろしくお願いします。又は、よい説明サイトがあったら教えてください。
PHPでページ遷移のない掲示板を作りたいので http://gomokuankake.com/2013/11/22/4652/ この辺を参考にしていたんですが、JavaScriptの処理で、 $.ajax({ 　type: 'POST', 　url: './send_contact_form.php', 　cache: false, 　data: contact_form_contents, 　success: function(html) {}, 　error: function() { 　// エラーが返ってきた場合の処理 　} }); と書いてますが、 これの、error: function() {}なんですが、何をもってエラーと判断するのでしょうか。 例えば、ユーザーが入力した項目がエラーなので再入力させたい、という場合は、PHP側でどのように出力すればいいのでしょうか。 よろしくお願いします。
フォルダ内にあるPHPファイルからPHPファイルへのclassやfunctionの読み込みは可能ですが、別のフォルダにあるPHPファイルにかかれたclassを読み込むときは、どのようにすればよいのでしょうか? 例えば、フレームワークのcakePHPなどは、コントローラーとビューなどが別々のフォルダにありますが、classを読みこんでいます。
PHPで作られたアップローダより画像ファイルアップするとき　MySQLのデータベースに画像を入れるのか、フォルダを作り、そこに入れるようにするのがよいのか　どちらがよいのでしょうか? 教えてください。よろしくお願いします。
教則本のログイン機能実装では、MySQLで1つのテーブルを作って、画面と対応させて、新規登録より、メールとパスワードを登録して、ログインするシンプルなのが多いのですが、実際にサイトでは、新規登録画面より、メールアドレスを入力し、そのメールアドレスに認証用のURLが送られてきて、そこから登録する場合がほとんどです。 このようにメールで認証する為には、どのうよにプログラムすればよいのでしょうか? 抽象的でもよいので教えてください。よろしくお願いします。 また、参考になるwebサイトがありましたら教えてください。よろしくお願いします。
失礼します。 WordPressを利用を初めてスタッフブログ用にカスタム投稿を増やしたく調べてみた所custom post type ui というプラグインで簡単にできると色々なブログに書いてあったため利用してみました ダッシュボードのcptからadd new post の設定を行ないaddしたのはいいのですが、ダッシュボードにスタッフブログが表示されません。ブログに丁寧説明されていてその通りにやったつもりですが、原因が全くわかりません。よろしくお願いします。
基本的な質問になりますが、以下のphpファイルをブラウザからアクセスすると、Array ( )と表示されて実行できていません。やりたいことはブラウザでアクセスした際に、apiで取得した情報をtest.txtへ出力するという単純な動作です。コマンドラインから実施するとうまくいきますがブラウザからアクセスするとうまくいきません。考えられる原因をどなたか教えていただけないでしょうか。 #ちなみにMacで動作確認しています。 <?php $url = 'http GET https://www.googleapis.com/discovery/v1/apis/'; $exec = exec($url ."> test.txt",$arr); print_r($arr); ?>
phpのgoutteでスクレイピングし、下記のように、【ラーメン】と【うどん】だけを抜粋したいのです。 しかし、余計な【コーラ】と【お茶】まで抽出してしまいます。 作成したい結果のみを作成するには、どのように対応したらよいのでしょうか。 ■作成したい結果 ラーメン うどん ■現状の結果 ラーメン うどん コーラ お茶 ■htmlソースコード <section class="block"> <h2 class="title">食べ物タイトル</h2> <ul class="food"> <li> <a href="省略">ラーメン</a> </li> <li> <a href="省略">うどん</a> </li> </ul> </section> <section class="block"> <h2 class="title">飲み物タイトル</h2> <ul class="food"> <li> <a href="省略">コーラ</a> </li> <li> <a href="省略">お茶</a> </li> </ul> </section> ■スクレイピングソース $crawler->filter('section.booksLink ul li')->each(function($element){ $name = $element->filter('a')->text(); }); 【filter('section.booksLink ul li'】の部分で、sectionタグ二つともが対象になっており、【コーラ】と【お茶】までが抽出されているのだろう。と思うのですが、 一つ目の<section>だけ抜いて、elementに抽出する方法が分かりません。 【■作成したい結果】のように抽出するにはどの様に修正すれば、良いのでしょうか。 ご教授よろしくお願いいたします。
javascriptのカテゴリで一度　同様の内容で投稿してしまったのですが こちらのカテゴリかと思い再度こちらで質問させていただきます。 自社用に下記のようなレンタル商品の管理表（予約表）を作成したいと思っています。 http://webシステム.biz/demo/rental/rental.php?t=1443069180 レンタル商品は月をまたいでの貸出もあるためカレンダーは9月、10月と選択した月が表示されるのではなくひたすら横にずっとつながっていてスクロールやボタンなどでページ移動していけるもので なおかつできれば何日～何日までというものもドラッグして選択できまたそこにお客様名を 入力できるようなものが作れたら・・・と思っています。 在庫・受注（予定）の部分との連動的なものはPHPで、と思っているのですが このような表におこす方法が全く見当がついていません。 jQuery.ganttView等のプラグイン等を使ってみることも考えたのですが同一線上（一つの商品）に対し 複数のデータを表示できるものもなくつまづいてしまいました。 このような表を作るにはどのような手順で作成していけばよいでしょうか？ またできれば具体的に教えていただけると幸いです。 ちなみに私が扱えるのはPHPとjavascriptのみになります。javascriptの方はかじった程度になります。 宜しくお願い致します。
PHP/Perlの技術者がいるのですが PHP技術者上級の資格を取得したのち、何の資格を勧めるべきかアドバイスをください。 （技術的な部分は、CakePHPの学習などをさせています） 候補としては Oracle Bronze/Silver、Oracle Java Silver、HTML5などを考えていますが、 PHPに直結するような資格ではないのと、 器用なタイプではないので他の技術をやらせるよりPHPに特化した技術者としてスキルを積んでもらいたいと考えています。 よろしくお願いします。
１．MYSQLでdata_tblを作成しtorokuno（PRIMARYキー）をAUTO_INCREMENTのint(4)として 登録しました ２．更新PHP１で <FORM><<input type="number" name="torokuno" size="10">で入力させ ３．更新PHP２で $torokuno = $_POST['torokuno'];で受け取り $sql = 'SELECT * FROM data_tbl WHERE data_torokuno = $torokuno' ;で読み込み ４．更新PHP３で data_tblの内容をUPDATEしたのですが、サンプルコーディングはないでしょうか？ 初心者で初めての質問です。特に連結文字　．　の使い方で混乱しています。 助けてください。
すみません。 Xサーバーを借りていてブログを公開しています。 ブログの内部にPHPを用いて記述している部分があります。 my.phpで色々と変数を定義したりしているのでサーバーのメモリ使用量が心配になりました。 memory_get_usage()を用いてメモリの使用量を見てみました。 <?php //ブログのページの始まり echo memory_get_usage(); //600000 (何度も試したが大体同じ) include("my.php"); echo memory_get_usage(); //1300000 (何度も試したが大体同じ) //ブログの処理のいろいろ //ブログのページの終わり echo memory_get_usage(); //1500000 (何度も試したが大体同じ) ?> 私の契約をしているXサーバーのメモリは96GBでOSはリナックスです。 何度も同じページにアクセスをして、大体同じ数字なので、毎回毎回メモリは解放しているようですが私の使い方は大丈夫でしょうか？ 大変心配しています。よろしくお願いいたします。
PHP又はRubyで、会員サイトのログインページまでの作り方は理解できるのですが、その後の、会員それぞれにマイページや日記の機能を割り当てるやりかたがわかりません。現状では、会員全てがログインしたら同じページを観覧することができます。 それぞれに、会員登録時に個別のページを作成してする考え方、又はプログラム的にアルゴリズムのようなものがあれば教えてください。
PHPのダウンロードとインストールを調べてやってみて2日たちましたが、いっこうにできません。Apatcheというのもダウンロードしましたが、コマンドで起動するのか?ダウンロードはUserのダウンロードであってCのプログラムの中には入りません。どうやって起動したらよいのですか?タグでホームページが少しできたので、それを公開しようと思って始めています。ダウンロードができないので、PHPの言語をエディタで打つこともできないまま八方ふさがりになっております。将来的には自分のサーバーを作って公開したいと思っております。レンタルサーバーだとドメイン名が会社の名前で出てしまうので自分でオリジナルで作ったことにはならなくなってしまいます。OSはWindows7の64ビットを使っております。どうしてもできません。何か助言がありましたら、教えて下さい。よろしくお願い致します。
こんにちわ PHPの独習を始めたばかりなのですが、自分では解決できず質問させて頂くことにしました。 今、いちばんやさしいPHPの教本という参考書を進めています。 ウインドウズ8.1にXAMPP5.6.3をインストールしています。 ※参考書に合わせて最新ではないものをインストールしました。 今PHPからデータベースに接続できるようにする。という場面で <?php $user = "○○○"; $pass = "○○○"; try{ $dbh = new PDO('mysql:host=localhost;dbname=db1;charset=utf8', $user, $pass); $dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); $sql = "SELECT * FORM recipes"; $stmt = $dbh->query($sql); $result = $stmt->fetchAll(PDO::FETCH_ASSOC); echo "<table>\n"; echo "<tr>\n"; echo "</tr>\n"; echo "</table>\n"; $dbh = null; } catch (PDOException $e) { echo "エラー発生: " . htmlspecialchars($e->getMessage(), ENT_QUOTES, 'UTF-8') . "<br>"; die(); } ?> といったコードをエディタに打ち込み、list.php　というファイル名で c:xampp\htdocs\yasashiiphp\に保存しています。 これをブラウザで http://localhost/yasashiiphp/list.php と入力し確認したところ。 エラー発生: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FORM recipes' at line 1 といったエラーが出てしまいました。 SQLに文法に誤りがあります。という意味だとはおもいますが、ｍｙｓｑｌのｍｙAdminで操作したのはテーブルを作成してデータを打ち込み保存したくらいで、SQL文をいじった記憶がありません。 参考書でもSQL文（INSERT INTO）でレコード挿入したくらいです。 ネット検索や他の参考書などで解決できないかと自分なりに頑張ってみたのですが なにがだんだかさっぱりで、なにが問題でどこがいけないのかも検討がつきません。 回答に必要な情報がそろっているかも自分でわかっていないような状態ですが どうかご教授おねがいします。 よろしくお願いします。
現在、レッツPHPさんの新着ブロガーを設置しようと試みています。 -------------------- rss/new/index.html /PEAR.php /rssup.php /XML/Parser.php /XML/RSS.php ------------------------ 上記のようなファイル構造で、index.html内に<?php include("rssup.php"); ?>を記述しているのですが、何も起きません。 ※rssup.phpは、正常に動いていてRSS情報の取得は出来ています。 設置方法通りに<?php include("rssup.php"); ?>を記述するだけでは、駄目なのですか？ どなたかご教授いただけないでしょうか？
お世話になります。 phpの連想配列の出力方法で悩んでいます。 データは 　$v = array() ; 　$v["id1"]["name"] = 田中 ; 　$v["id1"]["prof"]["id"] = 1 ; 　$v["id1"]["prof"]["date"] = 2015 ; 　$v["id5"]["name"] = サトウ ; 　$v["id5"]["prof"]["id"] = 1 ; 　$v["id5"]["prof"]["date"] = 2015 ; こんな感じです。連想配列だとサンプルも多く理解できたのですが3重にしたときの全要素の取り出し方を悩み続けて12時間経過したので教えて頂ければありがたいです・・・。 そもそも入力できているかも怪しいですが。
phpのgoutteでスクレイピングし、作成したい表があります。 下記の構造で、テーブルが作られています。 ■タグ <table> <tr><td><a href="URLアドレス" target="_blank" >文字列1</a></td></tr> <tr><td>文字列2</td></tr> <tr><td><a href="URLアドレス" target="_blank" >文字列1</a></td></tr> </table> 上記タグ内容をスクレイピングし、下記のような表を作りたいのです。 ただし、URLアドレス(aタグ)がない場合は、記述しない。 ■作成したい表 文字列1,URLアドレス 文字列2, 文字列3,URLアドレス と表にしてスクレイピングかけたいのですが、 $crawler->filter('table td')->each(function($element) { 　$element->text().","; 　$element->filter('a')->attr('href').",";　 }); と記述すると、a要素がない文字列２の部分で、戻り値がないためエラーになってしまします。 ■表示結果 文字列1,URLアドレス 文字列2,▲ 三角の部分で、戻り値がないためエラーになってるようです。 空判定を入れてみればいいかと思いやってみたのですが、同じ結果になりダメでした。 ※empty()も試してみました。 ■ソースコード抜粋 $crawler->filter('table td')->each(function($element) { 　$element->text().",";　 　$judge=$element->filter('a'); 　 　if($judge===FALSE){ 　　echo "タイトルにアンカーが未設定で、戻り値が空のためスキップ。<br>"; 　}else{ 　　echo $element->filter('a')->attr('href').","; 　};　 }); 作成したい表のようにスクレイピングするには、どのようにソースを書き直せばいけるでしょうか？ ご教示お願いします。
プログラミング言語の勉強として、 webアンケートを作成してみたいと思うのですが、 「アンケート作成に向いている言語」、あるいは 「アンケート作成の主流になっている言語」というのはあるのでしょうか。 試しにネット検索してみると、 phpのサンプルが多い気がするのですが、 もしphpが主流ならば、何故phpが選ばれているのか、 理由なども教えて頂けるとありがたいです。 ざっくりとした質問ですが、よろしくお願いします。 ※なお、私自身はrubyを勉強中の初学者で、 開発する際の環境は下記のようなものを使っています。 ・OS: Windows(7) ・webサーバー: Apache ・データベース: MySQL ※GoogleフォームやQuestantのようなwebサービスも あるかと思いますが、今回は実務ではなく勉強目的なので、 そういったツールは除外でお願いします。
PHPを勉強中の者です。 $abc=$values["pqr"]["xyz"]; という型の値の定義の仕方を実際のサイト構築例でよく見かけるのですが、この型の文法的な理解が分かりません。 カッコ[ ]を使っているので多次元配列かと思ったのですが、例えば多次元配列は本によると次のようになっているので、 ____________________ <?php $class1 = ["はるき","かおる","ひでと"]; //class1の配列"はるき","かおる","ひでと"を定義する。 $class2 = ["ゆきこ","ゆか","まなみ"]; //class2の配列"ゆきこ","ゆか","まなみ"を定義する。 $students = ["class1","class2"]; //$students の配列"class1"の配列と"class2"の配列を定義する。 var_dump($class1);　//配列"はるき","かおる","ひでと"を表示する。 var_dump($class2);　//配列"ゆきこ","ゆか","まなみ"を表示する。 var_dump($students);　//配列"class1"の配列と"class2"の配列を表示する。 ?> ____________________ 上のようになっているので、　$abc=$values["pqr"]["xyz"];　とはだいぶ型が違って見えてしまって、//以下のコメントのように人間語（日本語）で意味を読むことが１日考えて本で調べても初心者の私にはうまくできませんでした。 $valueの後ろに["pqr"]をつけるとどのような意味になるのか、さらに$values["pqr"]の後ろに["xyz"]をつけるとどのような意味（人間語）になるのか、初心者の私に教えて頂けますととても嬉しいです。 どうか宜しくお願い致します。
PHPの初心者です。 例えば<?php ~~ ?>内で ________________________________________ if($values['published']){$date = $values['published'];} elseif($values['pubdate']){$date = $values['pubdate'];} _________________________________________ このようになっていた時に、　$values['published']などの[ ] はどのような意味があるのでしょうか？　『values['published']』ひとカタマリでひとつの変数として定義されているのか、『[ ]』が配列を意味しているのか　いくつか候補を考えてみましたが、結局分からず、公式マニュアルを検索しても [ ]自体の使い方を上手く検索することができませんでした。 $◯◯◯◯['△△△△']　の意味や使い方を教えて頂けますととても幸いです。 よろしくお願い致します。
日曜プログラマーなので、あまり厳密に変数の扱いとか気にせずにきたのですが、今回Wordpressでプログラムしたところ挙動が気になったので質問させてください。 テストサーバーと本番サーバーでの挙動が異なり、 $hensu=1; if($hensu){〜 と書いた箇所が、テストサーバーでは真と判断されましたが、本番サーバーでは if($hensu==1){〜 と書かなければダメでした。 これは、PHPの設定の違いでしょうか。 また、どうしてこのような違いが起こるのでしょうか。 どうぞよろしくお願いします。
お世話になります。 あまり一般的ではないかもしれません（最初からPHPで全部処理すべき？）が、PHPからfile_get_contentsでJavaServletを読み込んでおります。 file_get_contentsでservlet→JSPの処理を表示し、結果をPHPで表示しています。 今までphpからPOSTでservlet→JSPでPHPに戻って来ることは可能でしたが、multipart/form-dataを使うという点で難儀しております。 具体的には、Servletで何も受け取れません。 詳しい方、ご助力いただけないでしょうか。 ①formsend.html（multipart/form-dataでPOST） ②formcomp.php（file_get_contentsで③HogeServletを起動） ③HogeServlet（②のパラメータを受け取りDB処理、結果を④hoge.jspを表示） ④hoge.jsp（③の処理結果を表示。つまり②に表示させられる） 以下、①～③について現状のソースを掲載します。 ①formsend.html（http://mywebsite.com/formsend.html） <form action="http://mywebsite.com/formcomp.php" method="post" enctype="multipart/form-data"> <input type="text" name="name" /> <input type="file" name="picture1" /> </form> ②formcomp.php（http://mywebsite.com/formcomp.php） <?php if(isset($_POST['name'])) { $name = $_POST['name']; } if(isset($_POST['picture1'])) { $picture1 = $_POST['picture1']; } $url = 'http://javaplatdomain.com/WebApp/HogeServlet'; $data = array( 'name' => $name, 'picture1' => $picture1, ); $options = array('http' => array( 'method' => 'POST', 'header'=>"Content-Type: multipart/form-data\r\n", 'content' => http_build_query($data), )); $buf = mb_convert_encoding(file_get_contents($url, false, stream_context_create($options)), 'Shift-JIS', 'auto'); echo $buf; ?> ③HogeServlet（http://javaplatdomain.com/WebApp/HogeServlet）のパラメータ受け取り部分 public class HogeServlet extends HttpServlet { public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { String name = ""; FileItem objFile1 = null; String strNam = null; String strName1 = null; try { List objLst=objDfu.parseRequest(request); Iterator objItr=objLst.iterator(); while(objItr.hasNext()){ FileItem objFi=(FileItem)objItr.next(); if(!objFi.isFormField()){ strNam=objFi.getName(); if(strNam!=null && !strNam.equals("")){ String paraName = objFi.getFieldName(); if(paraName.matches("picture1")){ strName1=(new File(strNam)).getName(); objFile1 = objFi; } } }else if(objFi.isFormField()){ String paraName=objFi.getFieldName(); String paraValue=objFi.getString("Shift_JIS"); if(paraName.matches("name")){ name = paraValue; } } } } catch (Exception e) { 省略 } 以下DB処理、フォワード処理のため省略 URLはダミーです。 ②をきちんと修正すれば③にうまくパラメータがたどり着くのではないかと推察されますが、今の私には力量不足のようです、、、 multipart/formを使わなければ今までは③はきちんとパラメータを受け取っていました。 お手数ですが、どなたかわかる方、ご回答いただけないでしょうか。
Wordpressをインストールして、Sellerというテーマでカスタマイズしています。 外観 > テーマの編集 でテンプレートをカスタマイズしています。 記事を書いて表示を試したりして、一部単一の記事に相当するところの表示変更ができずに困っています。 通常はsingle.phpの部分を変更すればいいかと思います。このテーマを適用後は、各々の記事の表示を変えるには、content-single.php を変更すれば表示が変わるところまではわかっていますが、 どうしても下記部分、<?php seller_posted_on(); ?> の表示内容を変更するテンプレート？ 設定箇所？がわからなく、困っています。 <article id="post-<?php the_ID(); ?>" <?php post_class(); ?>> <?php (has_post_thumbnail()) ? the_post_thumbnail() : "" ?> <header class="entry-header"> <div class="entry-meta"> <?php seller_posted_on(); ?> </div><!-- .entry-meta --> </header><!-- .entry-header --> 通常、このテンプレートで seller_posted_on(); の部分を吐き出しているプログラム、設定？見つけるにはどうしたらいいのでしょうか。 解り難い表現で申し訳ありません。宜しくお願い致します。
複数の配列に同じ順番で並んでいるデータがあるとします その中の一つの配列のソート結果と同様に、別のデータ配列をすべて並べ替えたいのですが どのようにやれば簡単でしょうか。 // 種ソート実行 natcasesort($goods['tane']); // 本ソートの際の基準配列作成 $standard=array_flip(array_keys($goods['tane'])); // リバース判定 if($html['sort']['order']===-1)$cmp=function($a,$b)use($standard){ if($standard[$a]>$standard[$b])return 1; else return -1; }; else $cmp=function($a,$b)use($standard){ if($standard[$a]>$standard[$b])return -1; else return 1; }; // ソート foreach($goods as &$v){ uksort($v,$cmp); $v=array_values($v); } unset($v); これでは冗長でしょうか
こんにちはすみません。PHPに関して質問があります。 題名の通りの質問なのですが、以下のような配列と変数があります。 ---------------------- //index.php include 'my_file.php'; $var="福沢諭吉"; $hoge="豚肉"; $my_array=array( "私の名前は${var}である。", "私は $hoge が好きである。", ); //$a=get_defined_var(); //↑できればget_defined_varは使いたくない。 ---------------------- 配列の中には変数が用いてあり、変数の用い方は{}を使った用い方と使っていない用い方があります。 →${var}と$hoge このような状況の時、配列$my_arrayの中に使われている変数$varと$hogeという変数名を取得することはできますでしょうか？ できれば、上記のコメントアウトにあるとおりget_defined_var関数は使いたくないのです。 なぜならば、includeしているmy_file.phpにはいろいろ変数を定義していてindex.phpから参照できるのですが、 ずらーっと変数名が取得できてしまうためです。 すみません、こんなことって可能ですか？ 配列の中身は既に文字列となってしまっていて無理でしょうか？ …どうも無理なような気がしてきました。配列関数の中にも該当のものが内容ですし。 get_defined_var関数でindex.phpで実際使われている変数名を取得できればそれに越したことはないのですが。 実際にはmy_file.phpに定義されている変数をindex.phpの配列内に使っています。 使われていない所謂関係のない変数をどうにか排除して、index.php内で使われている変数名の取得方法はありますでしょうか？ お願い申し上げます。
phpを使い始めて間もないのですがファイルの最終更新日付を表示させたいと思い、やっているのですが、 syntax error, unexpected 'echo' (T_ECHO) in C:\Users\admin\Desktop\web\test\new_design\index4.php on line 19 とでて、どうにもできない状態です。 19行目周辺をどう直したらいいのでしょうか？ 一応ソースですが、 <html> <meta http-equiv="Content-Type" content="text/html;charset=Shift_JIS"/> <head> <title>Tokei with Photo。</title> このページは自宅サーバーを利用しています。</br> <?php //ファイル $top_url = "index.htm"; //更新時刻をUNIXタイムスタンプ値で取得 $get_unix = filemtime($top_url); //UNIXタイムスタンプ値を変換 $get_date = date("Y/m/d",$get_unix); date_default_timezone_set(Asia/Tokyo) //表示 echo "Last Update "; echo $get_date; ?> </head> </html> １８行目のタイムゾーン指定は 無いと、表示は一応成功するのですが 日付表示の上に、date(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone 'UTC' for now, but please set date.timezone to select your timezone. in C:\Users\admin\Desktop\web\test\new_design\index4.php on line 17 と、エラーが出てしまうので、対処として指定しています。（php.iniで指定はしているのですが）
PHPを初心の者です。 以下のコードがエラーになってしまいます。 ＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿ <?php $friends = array("はるき","かおる","ひでと","まさとし","たかのり"); for ($i = 0; $i < 5 ; $i++)　{ echo $friends[$i]. "<br>" ;　　 } ?> ＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿ 本と見比べてもどこが間違っているのかなかなか見つけられませんでした。 （＋や各記号も半角文字にしています。） 間違っている部分のご指摘をして頂けますと幸いです。
http://www.nas.ne.jp/nas/serv2/mailform/ ここの通りに作成したのですが、 ここのasp/mailto.aspがデッドリンクのようなので、 フリーなどを絡めてでもいいので、PHPで自作したいです。 <form method="POST" action="/asp/mailto.asp"> <input type="hidden" name="toaddr" value="私のアドレス@ne.jp"> <textarea rows="4" name="body" cols="59"></textarea><br> <input type="submit" value="送信"> <input type="hidden" name="nextpage" value="送信後のＨＰ.html"> </form> 内容を打ち込んで送信するだけでの機能でOKです。
質問させて頂きます。 言語：PHP $aaa = array(array('id'=>1), array('id'=>2)); $bbb = array(array('id'=>1, 'name'=>'taro'), array('id'=>3, 'name'=>'hanako')); 上記の2つの配列でidキーが同じものは一緒にしたうえで、結合したいと考えています。 言葉足らずで申し訳ありません。実際に下に記述した形にしたいと考えています。 <結合後> array( '0' => array('id'=>1, 'name'=>'taro'), '1' => array('id'=>2), '2' => array('id'=>3, 'name'=>'hanako') ) 方法として、 foreachで$aaaを回し、さらにそのループの中でforeachで$bbbを回し、互いのidキーが同じならば、といった方法を考えたのですが、これではデータの数が多くなった際に、ループ数が大変なことになると思うので、何か別の方法は無いかと思い質問させて頂きました。 上記の方法よりスマートな方法があれば、教えて頂けると幸いです。 また、質問の内容に不備な点がありましたら、ご指摘お願いします。 よろしくお願いします。
せずに判別する方法を教えてください if($_SERVER['REQUEST_METHOD']==="post") if($_SERVER['REQUEST_SESSIONMETHOD']=="post") if(strcasecmp($_SERVER['REQUEST_METHOD'],"post")==0) if(strcmp($_SERVER['REQUEST_METHOD'],"post")==0) のいずれがよいでしょうか？
スマホ(auGALAXYS5)ですが使えなくなりました 内容:自分はロック画面を指紋認証システムにしているのですが いつもながらLINEを見ようとホームに行こうとしたのですが 代替パスワードのままでそこから全然動かず Backボタンを押しても機能せず指紋認証の所に戻りません このような現象があり改善できた方が居るのでしたら 改善方法を教えて頂けると嬉しいです よろしくお願いします！ (本当に困ってます)
掲題のとおり、かなり古いPHP4.4.9環境で作成したスクリプトをPHP5.5系のサーバーへ移動します。 他社が作成したもので構造は全て把握していませんが、smarty+Pearを使っているようです。 何か注意する点はありますでしょうか？ 初めてのことでよく分かりません。 識者の方よろしくお願いいたします。
CSV出力をしようとするとなぜか出力ボタンを設置したページのHTMLタグが入ってしまいます。 ソース自体はこんな感じ（どこかからコピペしてきました。すみません。） $data = array( array('name' => '佐藤', 'address' => '東京都', 'old' => '29歳'), array('name' => '田中', 'address' => '千葉県', 'old' => '31歳'), array('name' => '鈴木', 'address' => '北海道', 'old' => '54歳') ); $csv = ''; $filename = 'provider.csv'; foreach ($data as $row) { //カンマ対応 $string = implode(',', $row); //改行対応 $string .= "\n"; $csv .= $string; } // MIMEタイプの設定 header("Content-Type: application/octet-stream"); // ファイル名の表示 header("Content-Disposition: attachment; filename=$filename"); mb_convert_encoding($csv,"SJIS", "UTF-8"); // データの出力 echo($csv); 途中でCSVをデバッグして出してやると 佐藤,東京都,29歳 田中,千葉県,31歳 鈴木,北海道,54歳 とちゃんと出るのですが、出力されたCSVは <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitio … <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> <head> <meta http-equiv="Content-Style-Type" content="text/css" /> <meta http-equiv="Content-Script-Type" content="text/javascript" /> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> <title></title><meta name="description" content="" /> <meta name="keywords" content="" /> ..........と延々とHTMLが入り、 途中に 佐藤 東京都 29歳 田中 千葉県 31歳 鈴木 北海道 54歳 と表示されるものの、CSVのみを出力することができません。 どなたか分かる方、ぜひ助けてください。 よろしくお願いします。
どうもです 質問1 .dat系のメタデータを入れたファイルをフラグファイルとして利用できるロジックを教えてください。 フラグファイル(ここでは転送処理中であることを示す)
PHPは初心者です。HTMLは理解しているつもりです。 問題のある構成はこのようなものです。 <!-- index.php 　ブラウザで直接アクセスする場所 --> <!DOCTYPE html> <html lang="ja"> <body> <?php echo"<b>TEST OUTPUT</b>"; //ここは正しく実行される require"system/SampleFile.php"; ?> </body> </html> <!-- SampleFile.php 　　外部ファイル　--> <?php echo"なにか"; ?> ２つ目の外部phpファイルのほうで、echoを書いても、 変数を定義しても、必ず　 TEST OUTPUT Parse error:　・・・・・ と表示されてしまいます。 なお、 <?php ?> を省いて、echo"なにか"; と書いた場合は、 TEST OUTPUT echo"なにか"; と、そのまま表示されてしまいます。 外部ファイルだけ正しく実行できないのは 何が原因なのでしょうか？ ちなみにhostingerのサーバー？とドメイン？を使って アップロード・表示しています。
海外のワードプレスのテーマ 「メゾカラム」の日本語化の 方法をご存知の方いらっしゃいましたら 教えていただけませんでしょうか？ よろしくお願いいたします。
コード内でＵＲＬを指定すると、そのページの各商品タイトル、リンク先ＵＲＬ、税込価格、売り切れ（もしくは販売終了）の文字を抽出するＰＨＰコードがわかる人いますか？４つの抽出情報はコンマ区切りでお願いします。売り切れか販売終了のどちらが書いてあっても、抽出できるようにしてください。 ブラウザでは タイトル,リンク先ＵＲＬ,税込価格,売り切れ タイトル,リンク先ＵＲＬ,税込価格,売り切れ 　　　　　　　　　： 　　　　　　　　　： タイトル,リンク先ＵＲＬ,税込価格,売り切れ という表示です。  http://search.rakuten.co.jp/search/inshop-mall/- …
こんにちは。前提としてPHP初心者です。 現在、いろいろなサイトを参照してPHPによりSNSのカウント数をゲットさせるように試みています。 htmlファイル -------------- ～～ <body> <?php include_once("./count.php"); $url="http://www.google.co.jp"; $twitter_count=twitter_count($url); $facebook_count=facebook_count($url); $google_count=google_count($url); $hatena_count=hatena_count($url); ?> Twitterのカウント数：<?php echo $twitter_count ?> facebookのカウント数：<?php echo $facebook_count ?> googleのカウント数：<?php echo $google_count ?> はてブのカウント数：<?php echo $hatena_count ?> ～～～以下、htmlのメインの話題～～～ </hody> </html> -------------- PHPのtwitter_count関数、facebook_count関数など全てカウントを取得する関数はcount.phpに記載しています。 count.php の一部twitter_count関数 -------------- <?php function twitter_count($url){ //JSONデータを取得 $json = @file_get_contents("http://urls.api.twitter.com/1/urls/count.json?ur …($url)); //JSONデータを連想配列に直す $array = json_decode($json,true); //カウント $count = $array["count"]; return $count; } ?> -------------- この様にしてSNSカウントを取得して表示しているのですが、PageSpeed Insightsで調べたら”サーバーが遅い”とかなり点数が低くなってしまいました。 検索してみると確かに普通PHPは非同期処理を前提としないと書いてあって、「遅くなるんだなぁ」って思ったのですが、体感はあまり変わらないのですよね…。 ですので、twitter_count関数、facebook_count関数などカウント取得関数を並列で出来ないかなと思案している次第です。 検索するとPHPでも非同期処理をさせるためにいろいろな関数やモジュール(？https://github.com/hironobu-s/parallel-for さんのparallel-for)などもあるみたいですが、どれも配列に入れたものを何か操作する見たくて全くイメージがつかめません。 私のカウント取得関数を配列からどう動作させるの？？？みたいな感じです。 どうにかして非同期処理を出来ないでしょうか？ そのうちMySQLも使用したいと思っているので非同期処理をマスターしたいです。 よろしくお願いいたします！ (P.S. jqueryのajaxでの取得もいろいろ参照させて頂いて試みました。それぞれ.js外部ファイルを作って、htmlファイルの最後の方で呼び出しているのでPageSpeed Insightsは高いのですがPHPでの取得時より体感的に重いです…それにfeedlyは5月くらいからパイプ？での取得のjqueryでは無理となったみたいで…。)
XAMMPをインストールしました。 index.phpをテキストエディタで開いたら画像のようになっていました。 これは、インストールがきちんとできていないということでしょうか？
質問させて頂きます。 急ぎの質問のため、質問内容が雑になっている部分があるかもしれませんが、ご了承ください。 言語:PHP フレームワーク:laravel 下記のような2つのファイルがあったとします。 ■body.php ---------------------------- 本体部分です。<br> <br> <?php include(footer.php); ?> ---------------------------- ■footer.php ---------------------------- フッター部分です。<br> ---------------------------- <質問> body.phpを呼び出し、下記のようなincliudeの部分が変換された状態で文字列を取得したいのですが、何か方法はないでしょうか。 ---------------------------- 本体部分です。<br> <br> フッター部分です。<br> ---------------------------- 最悪、「file_get_contents()」で「body.php」を呼び出し「preg_replace()」などで、 「<?php include(footer.php); ?>」の部分を「footer.php」の内容に文字列変換すれば可能なのですが、あまり良い方法では無い気がするので、何か方法を御存知の方がいらっしゃいましたら、ご教授お願いいたいます。 また、質問内容に分かりづらい部分、不備な点などあればご指摘下さい。 よろしくお願いします。
1つのPHPファイルで完結するビンゴゲームのコードのサンプルコードについての質問ですが、このコードの中でわからない考え方の変数があります。下記にコードを載せました。 一つ目のfor文では、とりあえず５行にならべて、それぞれの行を範囲を決めてシャッフルしてます。 そして、その次の 2番目のfor文とその中にのfor　で　行を列に変換しているようですが、これらのforと　 $ k $ s の意味がわかりません。どのように機能して行を列に変換しているのかのイメージがつきません。 1行 01-15 2行 16-30 3行 31-45 4行 46-60 5行 61-75 　 　↓　↓ 1列 01-15　２列 16-30　３列 31-45 4列 46-60 5列 61-75 教えてください。よろしくお願いします。 -----------下記　コード　------------- <?php $bingo = array(); for ($i=0; $i<5; $i++) { $numbers = range($i*15+1, $i*15+15); shuffle($numbers); $bingo[$i] = array_slice($numbers, 0, 5); } // var_dump($bingo); $s = ""; for ($j=0; $j<5; $j++) { $s .= "<tr>"; for ($k=0; $k<5; $k++) { $s .= ($j==2 && $k==2) ? "<td></td>" : sprintf("<td>%s</td>", $bingo[$k][$j]); } $s .= "</tr>"; } ?> <!DOCTYPE html> <html lang="ja"> <head> <meta charset="UTF-8" /> <title>BINGOシート</title> </head> <style> td, th { width: 50px; border:1px solid #ccc; text-align:center; } </style> <body> <h1>BINGOシート</h1> <table> <tr><th>B</th><th>I</th><th>N</th><th>G</th><th>O</th></tr> <?php echo $s; ?> </table> <p><a href="<?php echo $_SERVER["SCRIPT_NAME"]; ?>">もう一度！</a></p> </body> </html>
PHP初心者です。 MAMPでSpreadsheet_Excel_Writerを使ってExcelに文字を入力したいのですが、sheetの名前や入力が反映されません。 Excelのファイルを開くところまでは行くのですが、sheetの名前がファイルの名前と同じ（今回のソースの場合 test.xls ）になります。 また、sheetにもなにも文字が入力されていません。 原因はなんなのか、どのように解決したらいいのかがどうしてもわかりません。。。 初心者で、php.iniなどをテキスト通りにいじっただけなので、何をしているのかあまりわかっていない状態です。 宜しければご回答宜しくお願い致します。 以下ソース実行しているphpのソースです。 <?php header('Content-type: text/html; charset=Shift-JIS'); //erro_reporting(); require_once('Spreadsheet/Excel/Writer.php'); $workbook = new Spreadsheet_Excel_Writer(); //test.xlsとしてダウンロードを開始するようにHTTPヘッダを送信 $workbook -> send('test.xls'); //1枚目のワークシートを作成 $worksheet = $workbook -> addWorksheet(); //データを書き出し $worksheet -> write(0,0,"hi!"); $workbook -> close(); ?>
FacebookのRSSをperlのLWPモジュールを使ってパースするとエラーになります。 Googleのfeedburnerというサービスを使えばFBのRSSが取得できると聞き、数年前からfeedburnerが代行パースしてくれたRSSを使っていました。 ところが、2015年6月24日からFBのRSSの発行方式が変更されてしまったためにfeedburnerではRSSが取れなくなってしまいました。 そこで、RSSではなく直接目的のページをパースして、そこから必要な情報を取ってしまおうと考えているのですが、perlのLWPモジュールではそれは無理だと聞いたことがあります。 なんでもFBはWWWブラウザ以外からのアクセスにはエラーを返す仕様だそうです。 しかし、PHPならあたかもWWWブラウザのように振舞ってFBにアクセスしてページの内容をごっそり取得する方法があるというのを昔どこかで見たことがあるのです。 PHPについてはまったく知識が無く、どのようにすればわかりません。 ヒントになるページなどを教えていただけるとありがたいです。 よろしくお願いします。
開いた時点で、 3.123e+12 といった表示にならないようにする方法ってあるのでしょうか？ phpで、csvファイルとして作成しています。 excelで開いたときに数字の所が、指数表示になってしまうのをさけたいです。 開いた後に、表示形式を「数値」にすれば元に戻るのですが、 そうではなく、開いた時点で数値表示になっていてほしいです。 ターゲットとなる数字の所をダブルクウォーテーションで挟むと一部は数値表示になるのですが、相変わらず指数表示になってしまうのもあります。 何かいい方法はないでしょうか？ご教授お願いします。
ワードプレスで、 Parse error: syntax error, unexpected '[' in /public_html/wp-content/plugins/pixabay-images/pixabay-images.php on line 230 というエラーメッセージが出てしまってログインできなくて困っています！ サーバーのファイルマネージャーで治せばいいというところまでは分かったのですが、 何がどうエラーなのか、分かりません！ 230列目は↓のようになっています。 if(strcmp(parse_url($url)['host'], 'pixabay.com')) { 至急お願いします！
ファイル名のファイルがphp実行されますが ファイルの中では <?phpと?>をファイルの最初と終わりに記述しなければなりません これらを省略できるようにはできないものでしょうか？ 例えば文字列指定ならば-rオプションで php -r'$x=3.14;echo"x={$x}\n";' として<?phpと?>をつけなくてもPHPできます
お世話になっております。cakephpを使い、プラグインのTagsを使用しているのですが、 <?php echo $uplaod["Upload"]["tags"]; ?>をViewに書き込むと php, html, cakephp が表示されるのですが、このカンマを表示させたくないのと、php html cakephp の ように一つ一つ分離させて表示させたいです。 <?php echo $uplaod["Tagged"]["name"]; ?> とすると表示されないのですが、どのように記述すればよいのかわかりません。 よろしくお願いいたします。 array(4) { ["Upload"]=> array(18) { ["id"]=> string(1) "7" ["name"]=> string(0) "" ["subject"]=> string(15) "文字列表示" ["body"]=> string(36) "PHPで文字列を表示させる。" ["tags"]=> string(18) "php, html, cakephp" } ["Tag"]=> array(3) { [0]=> array(8) { ["id"]=> string(36) "558fee8a-01c4-4cad-9d54-23caac1f12c5" ["identifier"]=> NULL ["name"]=> string(3) "php" ["keyname"]=> string(3) "php" ["weight"]=> string(1) "0" ["Tagged"]=> array(8) { ["id"]=> string(36) "5595e50c-9254-412f-aa16-79eaac1f12c5" ["foreign_key"]=> string(1) "7" ["tag_id"]=> string(36) "558fee8a-01c4-4cad-9d54-23caac1f12c5" ["model"]=> string(6) "Upload" ["language"]=> string(2) "ja" ["times_tagged"]=> string(1) "1" [1]=> array(8) { ["id"]=> string(36) "558fee8a-dddc-407b-af90-23caac1f12c5" ["identifier"]=> NULL ["name"]=> string(4) "html" ["keyname"]=> string(4) "html" ["weight"]=> string(1) "0" ["Tagged"]=> array(8) { ["id"]=> string(36) "5595e50c-0e04-4177-9de8-79eaac1f12c5" ["foreign_key"]=> string(1) "7" ["tag_id"]=> string(36) "558fee8a-dddc-407b-af90-23caac1f12c5" ["model"]=> string(6) "Upload" ["language"]=> string(2) "ja" ["times_tagged"]=> string(1) "1" [2]=> array(8) { ["id"]=> string(36) "55922ed8-757c-4dc4-b50b-79edac1f12c5" ["identifier"]=> NULL ["name"]=> string(7) "cakephp" ["keyname"]=> string(7) "cakephp" ["weight"]=> string(1) "0" ["Tagged"]=> array(8) { ["id"]=> string(36) "5595e50c-8180-4c4a-80a2-79eaac1f12c5" ["foreign_key"]=> string(1) "7" ["tag_id"]=> string(36) "55922ed8-757c-4dc4-b50b-79edac1f12c5" ["model"]=> string(6) "Upload" ["language"]=> string(2) "ja" ["times_tagged"]=> string(1) "1"
はじめまして。僕は、会員制のサービス、チャット、お問い合わせフォームが作りたくてHTML/CSSを学んでから、今PHPとDBの勉強をしています。 インターネット上のブログなどの記事を見ていると、かなりPHPの評判が悪いようですが、大丈夫ですよね？構文等に欠陥があったりするのでしょうが、なぜあんなにも評判が悪いんでしょうか。 ネットの情報を鵜呑みにしてしまう自分もバカですが、どうかご教示のほどお願いします。
<h3 style="margin-bottom:10px; width:541px;"> <a href="~~~">色街百景<br /> <span style="font-size:14px;">定本・赤線跡を歩く</span> </a> </h3> このh3タグの中のa href="~~~"の~~~だけ抜き出すにはどうのようなコードを書けばいいですか？ // URLを取得 $URL = $product_line -> find( 'div h3 a', 0 ) -> plaintext; // URLを表示 echo '' . $URL . ', '; と書いたのですができず、 'div h3 a', 0の書き方がわかりません。
.htaccessと.htpasswdファイルを使用してid/passwd認証制限を設けた場合 これはブラウザからアクセスした場合のみ認証が必要なのでしょうか？ cronからアクセスする場合は特別な記述は必要なくphpファイルを実行できるのでしょうか？ 宜しくお願いいたします
このような公開されているツールを改良することはできますか？開発者にしか機能変更できないのでしょうか？ＡＰＩ使ってて、ＩＤなどのこちらの情報は書き込めるんですが、無理でしょうか？
Windows7でXAMPPのバージョンは 5.5.19を使っています。 Symfonyのコマンドを使えるようにしたいので、 コマンドプロンプトより、 C:\xampp\php> pear channel -discover pear.symfony-project.com Adding Channel "pear.symfony-project.com" succeeded Discovery of channel "pear.symfony-project.com" succeeded その後 C:\xampp\php> pear install symfony/symfony downloding symfony-1.4.20.tgz..... (省略) ERROR: failed to mkdir C:\php\pear\data\symfony\bin このように↑　エラーがでてしまい失敗してしまいます。 原因が分からないのですけど、分かりますでしょうか? よろしくお願いします。
以下のコードをdatabase.phpとして、htdocs→xampのフォルダに保存し、URLにlocalhost/htdocs/xamp/database.phpと記入したのですが、ブラウザに”succsess2!”と表示されません。 何が原因なのでしょうか？ どなたか、ご教授願います。 <?php try{ $dbh = new PDO('mysql:host=localhost;dbname=blog_app','dbuser001','dbpwd0001'); }catch(PDOExcption $e){ var_dump($e->getmessage()); exit; } echo "success2!"; $dbh = null; ?>
お問い合わせフォームとか、WEBページからのリクエストを受けるPHPを作ったりしてるのですが、 下記のような感じのPHPの書き方を徹底するように、自分のボスからお達しがありました。 色々端折ってますが、 たとえばclass2でデータベースの値を取得したい場合、 データベースに関するコードが詰まったclass1の関数に$ar1を参照渡しで渡すと、 class2の$ar1に結果が入る、というものです。 最初は参照渡しせず、class1で「retrun $ar」と書いてました。 ボス曰く、returnでclass1からclass2へ値を返した場合、 次の行を処理するときにclass1はメモリ上から消えている可能性があるから、 class2で返された値も消えている可能性がある。 なので、別のクラスから値を取得したりする場合は、数字、文字列、真偽値以外は必ず参照渡しをしないとエラーになる危険性を含んでしまう。 ということでした。 PHPってそういうものなのでしょうか。 単にclass1の$arがローカル変数だからreturn後、消えてしまう、ということ？？？ returnで返されたものはclass1の値そのものなの？ 別クラス内で呼び出してる別クラスが消えるということ？？？ と、なんか説明が腑に落ちず、再説明を求めたらCを基礎から学べと返された次第です・・・ そうだとすれば、Cの何を学べば理解できるものなのでしょうか。 どこでどうメモリから解放されるのかが理解できるのかもと思うのですが、 何をどう学べば理解できるか自体がわからずもやもやしてます・・・ 以下サンプルコード。 ファイル：class1.php class class1 { 　function hoge(&$ar) { 　　$rows = fetchAllでDBから行取得 　　foreach ($rows as $row) { 　　　$tmp = new otherClass($row) ＜別のクラスでごにょごにょしてる。 　　　$ar[] = clone($tmp); 　　} 　} } ファイル：class2.php class class2 { 　function getdata { 　　$obj = new class1; 　　$ar1 = array(); 　　$obj->hoge($ar1); 　　その後ごにょごにょ 　} }
ホームページjを作成しているのですが、お問い合わせページをHTMLとCSSで形は作りました。 しかし、実際にフォームに内容を記入できても、送ることができません。 そこで、PHPを使って、メールを送れるようにしたいのですが、書籍等を読み漁りましたが、膨大な量のため、全体的な仕組みが理解できませんでした。 お問い合わせページに、名前、メールアドレス、コメントの３つを送信できればよいのですが、PHPにどのようなコードを入力すればよいのでしょうか？ どなたかご教授願います。
HTMLとjQueryで構成したファイル（.html）上では動作をしていたフリック処理について PHPへの焼き直しが発生したので、PHPに対してヒアドキュメントを使用してHTMLソースを出力しました。 この際、ヒアドキュメントではJavaScript側の＄を意識して、<<<'EOF'として書きました。 しかし、スクリプトが動作をしない状態です。 HTMLでは動作をしていたのでjQuery側のコーディングは問題はないと思っています。 エラーを探しましたが、PHP側のエラーログには何も出力されませんでした。 （正しく言うと、最初EOFで行っていたら、当然ですが変数が初期化されていないというエラーがあったので'EOF'に変更した経緯はあります） こちらにソースを展開します。 <?php print<<<'EOF' <!DOCTYPE HTML> <html lang="ja"> <head> <!-- <meta name="robots" content="index,nofollow"> --> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <meta http-equiv="Content-Style-Type" content="text/css"> <meta http-equiv="Content-Script-Type" content="text/javascript"> <meta name="description" content=""> <meta name="keywords" content=""> <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" /> <title>○○○○</title> <!-- jQuery Flic Program --> <script src="js/main.js"></script> <script src="js/jquery-2.1.4.min.js"></script> <script src="js/flipsnap.min.js"></script> <script> $(function(){ var $win = $(window), $viewport = $(".viewport"), $flipsnap = $(".flipsnap"), $item = $(".item") function initialize(){ var fs = Flipsnap( $flipsnap.get(0) ); $flipsnap.data("fs", fs); $win.bind("resize", function(){ refresh(); }).trigger("resize"); } function refresh(){ $viewport.css("width", "100%"); var w = $viewport.width(); $item.width( w ); var fs = $flipsnap.data("fs"); fs.distance = w; fs.refresh(); } initialize(); }); </script> <!-- End jQuery --> <link rel="stylesheet" href="css/style.css" type="text/css" media="all"> </script> ・・・・HTMLソースの最後 EOF; ?> 何が原因なのかこちらも不明なので、有識者の方々のご協力・ご指導をお願いします。
<ul> <li>ほげ</li> <li>ふが <ul> <li>foo</li> <li>bar</li> </ul> </li> <li>あちゃ</li> </ul> みたいなulのネスト（ほんとはもっと長い）を、 phpや秀丸を使って、 エクセルに入れられるタブ区切り（以下の様な）にできないでしょうか？ ほげ ふが 　　foo 　　bar あちゃ 以上、よろしくお願い申し上げます。
htmlentities()やhtmlspecialchars()で &amp; なんかを変換させると、&amp;amp;のようになりますよね。 既にエンティティ文字であるものは変換しない、なにか別の関数もあったように記憶しているのですが、何だったか思い出せません。。 文字列関数？フィルター関数？ご存じだったら教えて頂けませんか？ 気になって気になって。。。
PHPで　タイピング機能を書くにはどのように書くか?教えてください。 タイピング開始で スタート(スペースキー)を押したら、文字が現れて、文字を打ち込んでいくような 一般的なタイピング練習サイトです。
さくらのクラウドサーバーのCentOS 6.6 64bit（Linux）で環境を構築しております 基本は上記のサーバーはIPで運用しているのですが、メール送信は別サーバー（他社のレンタルサーバー）のSMTPの使用を考えております。 php.ini（クラウド側） SMTP：mail.example..co.jp smtp_port = 587 とsmtpは別サーバー（レンタルサーバー）のSMTPサーバーを設定しております。 上記の設定でmb_send_mailを実行すると falseで返ってきてしまうので、 コマンドで echo to:***@example..co.jp | /usr/sbin/sendmail -t -i を実行したところ、 sendmail: warning: valid_hostname: numeric hostname: （クラウドのIP） sendmail: fatal: unable to use my own hostname とエラーがでてしまいます。 設定方法など間違っておりましたら、ご教示いただけますでしょうか。 また、足りない部分等ございましたら教えていただければと思います。 よろしくお願いいたします。
すいません。今DBから特定の条件で並び替えたり、フィルタリングしたりして表示するサイトをphpで作っています。ｐｈｐ自体も初めて勉強しているのですが・・。 サイトは大体完成したのですが、値をpostで同じURLに飛ばして、セッションも使っているため ブラウザの戻るボタンを押すとページの有効期限切れが表示されます。 ブラウザの戻るを押してエラーページが出るのはかなりストレスになると思いますしどうしても 解決したいと思い、他の解説サイトなどを読んで以下を設定したりもしたのですが、どうも解決できませんでした。（ヘッダーのことはほとんど分かりませんし、自分の力では解決できない気がします） header("Cache-Control: private"); header('Expires:'); // header('Cache-Control:'); header('Pragma:'); ただpostの代わりにgetを使えば解決できると読んだのですが、このgetに何かデメリットはありますでしょうか？ そもそもgetではなくpostを使ったのはURLの後ろに文字がくっ付くという見栄えの悪さがあったので その時は何も考えずpostを使いましたが、完成してみて、ブラウザの戻るボタンが使えないくらいなら絶対getのほうがいいです。（何かパスワードを送るわけでもなくただDBから文字情報を表示するだけのサイトです） 見栄えが気にならず、getの値などが見えても問題ないようなサイトだとして、何かgetだとデメリットや不都合な点などはありますでしょうか？
下記二つの条件をPHPで判定して出力するにはどうすれば良いでしょうか。 round($value,1)とするだけだと②の条件を満たせなくて困っています。 ①小数第一位に値があれば第二位で四捨五入 0.15 →　0.2 0.265 →　0.3 0.434 →　0.4 ②小数第一位が0で小数第二位に値があれば第三位で四捨五入 0.054 →　0.05 0.065 →　0.07 0.034 →　0.03
ドットインストールで #02 はじめてのPHPプログラム http://dotinstall.com/lessons/basic_php_beginner … 冒頭のファイル転送ツールなどで php_lessons フォルダにファイルを作っていきます。の部分なのですが　何をどうすれば【動画と同じように】作業が出来るのでしょうか？※ローカル開発環境の構築 [Windows編] (全10回)は動画通り終了しましたが、動画の通りやっただけで意味はよくわかっていません＞＜ コマンドプロンプトでvagrant でcentos?を立ち上げてWinSCPをどうにかするのでしょうか？ちんぷんかんぷんです。
php、mysqlを勉強しております。 phpを使って、mysqlの複数レコードをまとめて削除する方法を探しています。 ※テーブル名[sample] ID　NAME 1　　ABC 2　　BCD 3　　CDE 4　　DEF 5　　EFG このようなテーブルがあるとして、IDの2、3、5を削除したいと考えています。 その場合、下記のように3回、クエリを実行しなければいけないのでしょうか。 DELETE FROM sample WHERE ID = 2 DELETE FROM sample WHERE ID = 3 DELETE FROM sample WHERE ID = 5 詳しい方がいらっしゃいましたら、ご教授いただけないでしょうか。 よろしくお願い致します。
<?php $price = $sum[0][0]["sumPrice"] / $count[0][0]["count"]; if (empty($price)) { print '0円'; } else { print $sum[0][0]["sumPrice"] / $count[0][0]["count"]; } ?> Notice (8): Undefined offset: 0 Warning (2): Division by zero とのエラーででています。 エラーの下には０が表示されていますが、エラーが消えません。 どうしたらよいのでしょうか？
10代20代30代…を<select>で表示 ジャンルを5個程を<select>で表示 フォームで金額を入力してもらい、その金額以下 を選択～入力してもらい、ボタンクリックで条件に合う内容を表示させたいです。 詳細は、同じページで表示させたいので、各条件に合った詳細を埋め込んでいこうと思っています。 a1+b1+c1の場合は、a用に作っておいた詳細を表示といった感じが理想です。 簡単に組み込めるとうれしいです。 switch文というものを見つけたのですが、こんな感じで切り替えたいです。 <select name="age"> <option name="age" value="" selected="selected">選択してください</option> <option name="age" value="19" id="age_1">20歳未満</option> <option name="age" value="20" id="age_2">20～29歳</option> <option name="age" value="30" id="age_3">30～39歳</option> </select> <select name="cate"> <option name="cate" value="" selected="selected">選択してください</option> <option name="cate" value="19" id="cate_1">絵本</option> <option name="cate" value="20" id="cate_2">小説</option> <option name="cate" value="30" id="cate_3">図鑑</option> </select> <input type="text" name="income" id="income" maxlength="4">円</label> <ボタン> <?php $food = "apple"; switch( $food ){ case "apple": case "banana": case "grape": //$foodがapple,banana,grapeだった時の共通処理 echo '$foodは果物です'; break; case "onion": case "carrot": //$foodがonion,carrotだった時の共通処理 echo '$foodは野菜です'; break; default: echo '$foodが野菜か果物か不明です'; } ?> ただ、今気づいたのですが、複数は足すのではなく、複数の条件になるんですね。
助けてください、困っています！！ XREAのコアサーバーでPHP5.3を利用していますが、画像のアップロードの途中で画面が真っ白になり、しばらく真っ白後に「500 Internal Server Error」のエラー又は、タイムアウトが表示されます。 PHPの記述でエラー表示をONにしてみるのですが、真っ白なまま何も表示されず、何度か試したところ以下のエラーが一回だけ表示されました…。 「Warning: chmod() expects exactly…なんとかかんとか…」 最後にエラー番号が表示されていたので、対象ファイルを確認すると、今度は以下のソースにたどり着きました。 chmod( "./img".$img_no ); エラー内容にもソース側にも、このchmodとありますが、原因はこれなのでしょうか？ chmodはパーミッションの変更だと思うのですが、これは変更できないという事でしょうか？ 調べてみると、XREAではchmodが使えない？セーフモード？？といった内容が確認できたのですが、難しく解決出来ずにいます…。 どなたかお詳しい方、お助けいただけないでしょうか。 アドバイスよろしくお願いします。m(_ _)m
検索文字列が複数あり、一部の文字が重複しているとき、どうやって抜き出せばいいでしょうか？ 例） 検索文字列：東京, 京都 検索対象：赤羽は東京23区内。東京都庁は新宿区。そうだ！京都へ行こう 期待結果：赤羽は「東京」23区内。「東京都」庁は新宿区。そうだ！「京都」へ行こう （カッコが抜き出した文字）
こんにちは。 今、ホームページで下記のようにPHPを使っています。 mb_encode_numericentity("内容ないようナイヨウ", array(0, 0x10FFFF, 0, 0x10FFFF), 'UTF-8')); ただこれだと、例えば下記にした場合は<p class="className">と</p>までも変換されてしまいます。 mb_encode_numericentity("内容ないよう<p class=\"className\">ナイヨウ</p>", array(0, 0x10FFFF, 0, 0x10FFFF), 'UTF-8')); これをどうにかされられないかとmb_encode_numericentityの第二引数を考えているのですが分かりません。用は開くタグと閉じるタグだけはそのままにしたいのです。 そのような高級なことは可能でしょうか？ お知恵をお貸し下さい。
＜やりたいこと＞ サイト上に性格診断のようなページを作りたいと思っています。 診断ページ→結果ページは表示されるが、 結果ページのURLを直接入力した場合はブロックしたいと考えています。 こちら↓のサイトの「特定のサイトからのみ参照を許可する」を参考に http://memorva.jp/memo/linux/htaccess_setenvif_r … SetEnvIf Referer "http://www\.example\.com/shindan.php" allow_ref SetEnvIf Referer "^$" allow_ref order deny,allow deny from all allow from env=allow_ref という.htaccessを作成し、「shindan.php」を経由しないと「kekka.php」を 表示できないようにさせたかったのですが、現状は「kekka.php」のURLを 直接入力でページが表示されてしまいます。 どこが間違っているのかわからないため、解決策をご教授いただけないでしょうか。 お手数おかけしますがよろしくお願いします。
楽天市場の以下のページの、情報抽出コードはどう書いたら良いですか？ 商品名のリンク先ＵＲＬと値段と、売り切れ（売り切れの場合）の文字の３つを抽出したいです。ＰＨＰなどでできないでしょうか？ ＡＰＩを使えばできるのでしょうか？その場合、どのようにすればいいですか？ http://search.rakuten.co.jp/search/inshop-mall/- …
phpで、どこかをクリックしたら、変数をインクリメントしてから、ページをリロードする、というようなことはできますでしょうか？ 何がしたいのかというと、データベースのレコード1行を使って、1ページで1つの商品を紹介するページを作ったので、 「<<」または「>>」というようなボタンを作って、 参照するレコードを示すIDの変数をインクリメント、デクリメントし、 商品を代わる代わる表示させたいのです。 Javascriptだとデータベースは使えませんよね？ Ajaxに精通しないと無理なのでしょうか。
($1 = \120換算) ペイパルで$100の物を購入すると\12000の請求が来ますが、 返金処理した場合12000円戻ってくるのでしょうか？ それともレート分減って(\10000)戻ってくるのでしょうか？
wordpress taxonomyphp内で、 <?php if (have_posts()) : while (have_posts()) : the_post(); ?> <div class="workbox-work"> <ul> <li class="work"> <div class="post" id="post-<?php the_ID(); ?>"> <div class="work_image" style="background-image: url('<?php echo catch_that_image(); ?>')"><a href="<?php the_permalink(); ?>"><img src="<?php bloginfo('template_url'); ?>/img/work.png" alt="<?php the_title(); ?>" ></a></div> <h4 class="storytitle-wok"><a href="<?php the_permalink() ?>" rel="bookmark"><?php the_title(); ?></a></h4> </div> </li> </ul> </div> で画像を表示してます。この画像をLightboxプラグインをつかってその場で画像拡大をしたいのですが、画像をクリックすると画像ページに移動してしまい、画像をその場で拡大してくれません。 どのようにしたらtaxonomyphpないでの画像拡大が実現しますでしょうか？ わから方いらっしゃいましたら、ご教授お願いします。
マルチバイトの文字を検索して最初に現れる文字までの数を出力させたいのですが、 例えば下記の文、「検」、「国」の場合4と8が出力されなかればならないのに12と24となって しまいます。他にも「の」や「本」を試してみましたが全て３倍になって返ってきます。 初心者サイトを見てもプログラム自体は問題ないと思うのですがどうして本来出力されるべき数の３倍の数が返ってくるのでしょうか。 ちなみにマルチバイトではなく半角英数字をstrposで検索すると正しい数が表示されました。 マルチバイトの文字列を検索したいのですがどうしても上記のような状況になり解決できません。 どなたか理由に心当たりあるかたいますでしょうか・・。 <?php $haystack = "日本語の文字列を検索。日本語検索。"; var_dump(mb_strpos($haystack, "文")); var_dump(mb_strpos($haystack, "検")); ?> 結果 int(12) int(24) $string = "日本語の文字列を検索。日本語検索。"; $abc73=mb_strpos($string, "の"); echo"$abc73"; 結果　9 「の」を「本」にすると結果は3となりなります。
デスクトップが出てこない
お世話になっております。 findを使って合計を出したいのですが、Arrayとでるだけで表示されないです。var_dumpでは配列が表示されるのですが中身が取り出せません。 Commentテーブルの中のpriceの合計値を出したいです。 controller public function view($id = null) { $this->Comment->virtualFields['sumPrice'] = 0; $this->set('data', $this->Comment->find('all', array( 'fields'=> array('sum(Comment.price) as sumPrice'), 'conditions'=>array('Upload.id'=>$id) ))); view <?php echo h($data); ?> <?php var_dump($data); ?> ------------------------------------------------------------------ Array array(1) { [0]=> array(1) { [0]=> array(1) { ["sumPrice"]=> string(4) "4500" } } } ------------------------------------------------------------------ と表示されてしまいます。 PHP 5..3.3 CakePHP 2.6.3 コメントいただけるととても助かります。 よろしくお願いいたします。
質問させて頂きます。 XMLをAPIに送信する方法に関して質問させて頂きます。 まずはじめに、 以前(PHP5.2)は、下記の方法でXMLを送信することに成功していました。 ----------------------------------------------------------------- $xml = 'xml~~~~'; $curl = curl_init(); curl_setopt($curl, CURLOPT_CONNECTTIMEOUT, 180); curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); curl_setopt($curl, CURLOPT_BINARYTRANSFER, true); curl_setopt($curl, CURLOPT_URL, $URL); curl_setopt($curl, CURLOPT_POST, true); curl_setopt($curl, CURLOPT_POSTFIELDS, $xml); curl_exec($curl); curl_close($curl); ----------------------------------------------------------------- PHP5.6環境で上記の方法を試した場合、接続はできているようなのですが、 XMLを正常に送れていないように思われます。 ※全く関係無い場合は申し訳ありません。 自分なりに調べたところ、 PHP5.6以降はCURLFileクラスを利用するべきといった内容を見つけました。 しかし、CURLFileクラスの使用方法がいまいち分からず苦戦しております。 下に記述したものが実際に見つけた例です。 -------------------------------------------------------------------- // CURLFile オブジェクトを作ります $cfile = new CURLFile('cats.jpg','image/jpeg','test_name'); // POST データを設定します $data = array('test_file' => $cfile); curl_setopt($ch, CURLOPT_POST,1); curl_setopt($ch, CURLOPT_POSTFIELDS, $data); -------------------------------------------------------------------- 「cats.jpg」の部分にはファイルパスを記述するらしいのですが、今回xmlはファイルから読み込むのでなく、「$xml = 'xml~~~~';」といった感じで、その場で入力をするつもりでいます。 CURLFileではファイルとして存在するものしかアップロード出来ないのでしょうか。 また、「test_name」「test_file」の部分に何を記述して良いのかも分かりません。 「image/jpeg」の部分にはxmlのタイプを入れるのだと思います。 質問の内容に分かりづらい部分もあるかもしれませんが、 もし何かご存じの方がいらっしゃれば、ご教授のほどよろしくお願いいたします。
1: <?php 2: class foo { 3: var $bar = 'I am bar.'; 4: var $arr = array('I am A.', 'I am B.', 'I am C.'); 5: var $r = 'I am r.'; 6: } 7: 8: $foo = new foo(); 9: $bar = 'bar'; 10: $baz = array('foo', 'bar', 'baz', 'quux'); 11: echo $foo->$bar . "\n"; 12: echo $foo->$baz[1] . "\n"; 13: 14: $start = 'b'; 15: $end = 'ar'; 16: echo $foo->{$start . $end} . "\n"; 17: 18: $arr = 'arr'; 19: echo $foo->$arr[1] . "\n"; 20: echo $foo->{$arr}[1] . "\n"; 21: 22: ?> 上記のコードの実行結果が、 I am bar. ←① I am bar. ←② I am bar. ←③ I am r. ←④ I am B. ←⑤ となります。実行結果の上から①、②、③、④、⑤と番号をつけます。 ①は理解できるのですが②～⑤がなぜその結果になるのかわかりません。なぜこうなるのでしょうか？ 11行目はfooクラスから作成されたfooオブジェクトのメンバ変数$barを表示させる、ということだと思います。そうすると12行目はfooオブジェクトのメンバ変数$baz[1]を…ということかと思うのですが、fooクラスのメンバ変数は$bar,$arr,$rなのでメンバ変数に$baz[1]はありません。 ③～⑤も何なのかよくわかりません。php.netの言語リファレンスの可変変数のサンプルコードで、可変変数の説明は理解できるのですが、クラスのプロパティには可変プロパティ名でアクセスできる…、という部分が理解できません。
友達が私と同じ人を 好きだったのです。 その時に私はどのようにすれば いいと思いますか❔
wordpressでクイズサイトを作りたいです。 問題番号と問題文と解説を保存するデータベースのテーブルを作り、ユーザがフォームから入力した値と、データベースから取得した正しい答えが一致しているか調べて正誤表示させる、ということを実現したいです。 データベースから正しい答えの値を取得するのでphpを使う必要があると思い、ショートコードを使ってやろうと考えています。 その場合、functions.phpファイルに定義する関数は、 ①フォームからラジオボタンで入力されたユーザが選択した値を関数に渡す。 ②渡された値とデータベースから取得した正しい答えを比較する。 ③比較した結果一致すれば正解、違うなら不正解の表示。 簡単にこれくらいにしても、初心者だと問題山積みなのですが、まず①をwordpressでする場合、 <form>タグのaction属性で指定するのはfuntions.phpになるのでしょうか？ <form>タグのaction属性で指定したファイルでは$_GET変数を使うことで入力された値を取得することができるのでしょうか？ ショートコードで引数を渡す方法として[shortcode_1 id='○○']のようにするようなのですが、フォームからの入力値を関数に渡したい場合上記のようにショートコードで引数を渡すのかと思っていたのですが、そうではなくて、ラジオボタンのname属性の値が$_GET変数に入るので、$_GET変数を使ってやることになるのでしょうか？またそうである、あるいは違う、いずれにしても具体的にどうすればよいのか教えてください。あと、phpの勉強をするのに、入門サイトなどの内容は理解できるが、php.netのリファレンスに書かれていることが理解できないレベルの人がリファレンスで勉強できるようになるためのわかりやすい書籍などありましたら教えてください。 例えばwordpressの投稿欄に <form action='xxxx.php' method='get'> <input type='text' name='name' size='40'> <input type='submit' value='送信!!!!'> </form> と記述し、xxxx.phpに <html> <head> <text></text> </head> <body> <?php echo 'Hello ' . htmlspecialchars($_GET["name"]) . '!'; ?> </body> </html> のように記述すればユーザから入力された値(文字列)を表示することは出来るのですが、送信ボタンを押すとwordpressから出てしまい別のページで表示されます。これを参考にwordpressのページに、ユーザからの入力値を表示したり、比較してその結果により正誤を表示したりしたいのですが、うまくいきません。やり方がよくわかりません。どういう方法になるでしょうか？
すみません、phpを勉強中なのですが、例えば以下のような配列があったとします。配列にはいくつ文字列が入っているのかは分かりません。 この状況で、配列を分解して値をそれぞれ新しい異なった変数に入れたいのですがどのようにすればいいのでしょうか。（配列に入っている値を一度に全て個々の変数に入れたいです） ググッたのですが配列名を変化させるような関数はないですし・・・ どうしたらよいのでしょうか・・。 $hairetu[] ="いちご"; $hairetu[] ="ぶどう"; $hairetu[] ="もも"; ↓ $a1 ="いちご"; $a2 ="ぶどう"; $a3 ="もも";
$fieldにあるの文字列のうちURLのFQDN部分を全て省くプログラムを、 教えてグーで以下のようにおそわったのですが・・・ $pattern="/https?:\/\/[\w:%#\$&\?\(\)~\.=\+\-]+/"; $field = preg_replace_callback($pattern,function ($matches){ return parse_url($matches[1],PHP_URL_PATH); },$field); echo $field; なんかの条件で、 Notice: Undefined offset: 1 in /home/xxxxx/www/xxxxx/wp-content/themes/xxxxx/category.php on line 33 のnoticeが出ます このnoticeが出ないようにするにはどこを変えればいいのでしょうか？ よろしくお願い申し上げます。(phpのエラー設定を変える以外で)
if(条件式==TRUE){ echo "a"; }else{ echo "b"; } と if(条件式!=FALSE){ echo "a"; }else{ echo "b"; } 同じ結果が表示されましたが、式としてあらわすときに後者で記述するように言われました 前者に0が入ってた場合、0==1となり、FALSE 後者に0が入ってた場合、0！=0となり、FALSE 初歩的なことで申し訳ございませんが、何が違うのかご教授お願いします。
下記URLのページを参考にfuelPHPのインストールを 進めていきたいのですが、早々に不明な点にぶち当たり困っております。 その不明点を下記にざっと上げていきますので、 もし宜しければご回答よろしくお願い致します(＞＜) ①.　コマンドラインとは？ 　　 根本的なことでお恥ずかしいのですが、コマンドラインとは何なのかが 　　 分かりません。コマンドプロンプトと同じ意味なのでしょうか？ ②.　インストールしたいサーバーとは？ 　　 現在XAMPPをインストールし、ローカル環境で制作を進めていこうと 　　 考えているのですが、このような場合ならインストールしたい 　　 サーバーの記述はどのように記述したらよいのでしょうか？(localhost？) 　　 ③.　書き込み権限とは？ 　　 下記ページ内の記述に 　　 ＞以下のディレクトリに、書き込み権限を設定します 　　 とありますが、書き込み権限とは何なのでしょうか？ ↓参考にさせて頂いているサイト http://fuweb.info/70
すいません。phpをはじめて勉強していましてあるwebサイトを作っています。 例えば http://589.cooomにアクセスされた場合http://abc777777.cooomに全てリダイレクトするようなhtaccessがあるとします。 589の部分は三桁の数字であれば全てhttp://abc777777.cooomに飛ばせるように設定してあります。 http://963.cooomでもhttp://005.cooomでも全てhttp://abc777777.cooomにリダイレクトされます。 この場合phpで、クライアントからリクエストのあったこの三桁の数字を知りたいのですが、そのような関数はありますでしょうか。（http://224.cooomにアクセスがあったのかhttp://563.cooomにアクセスがあったのか知りたい） はじめは$_SERVER関数で簡単にできると思っていたのですが、実際にやってみるとhttp://abc777777.cooomが取得できるだけでまったく意味がありませんでした（$_SERVER関数は正確にはクライアントの要求したアドレスではなく、現在表示しているアドレスを取得するので意味がなかったです） この実際に要求のあったhtmlアドレスを取得したい場合どのようにすればよいでしょうかアドバイス頂けると助かります。 comをcooomに変換してあります。実際にサイトが存在してしまうため。
PHPについて質問です。 Add Star PHPを勉強中なのですが、コード中の() {} "" ;の使い方 の決まりがいまいち理解できません。 文字は必ず ""で囲む、スペースは自由に入れて問題ない というのはわかりました。 ↑ 合ってますか？ 書籍などをみても()や{}を使ったり使わなかったりするので、 どっちでもいいのでしょうか？ 決まりごとや法則などあるのでしょうか？教えてください。 例えばif構文で <?php if (date("h")>=18) {print"goodnight";} elseif (date("h")>=11) {print"hello";} ?> とあるとしたら、("h")の()は必要なのか、{print"goodnight";}の {}は必要なのか、{}が()に変わるとだめなのか、というようなこと がわかりません。 回答よろしくお願いします。
http://www.xxx.com/file.php?id=AAA&pas=BBB GETでパスワードを次のページへ受け渡す場合、平文ではなく暗号化したいのですが、 可能でしょうか？ 可能である場合、どのような方法がありますでしょうか。 よろしくお願いします。
requireで毎回特定の複数ファイルを読み込むと記述の間違いや確認、編集などで支障が出やすいかと思います。 何か対策としてよい方法はありますでしょうか。 ご存知の方、アドバイスをよろしくお願いします。
windows7または8上に、XAMPPではないPHP開発環境（WEBサーバ、DBサーバ）をつくる場合、何がいいでしょうか？ アンインストールもしやすいものがいいです。 よろしくお願いいたします。
PHPでWEBサイトを構築しています。 HTTPS通信でデータのやり取りを行っているのですが 透過型プロキシを利用する事で通信内容が丸見えである事がわかりました。 どうにかして透過型プロキシを検知して遮断する事は可能でしょうか？ またpythonでのサイト再構築も視野にいれているため、pythonでも 教えていただければ幸いです。 現在、非常に危険な状態で急を要しています。 よろしくお願いします。
お久しぶりです。 メルです。今は高専におります。 で、ですね……最近、宿題の答えが教科書にも ましてやネットにもないんです！ 画像見たら分かると思いますが、さっぱりです。 誰か、詳しい人いたら教えてくださいっ！ 見にくいかもしれません……
現在フォームから入力された画像をphpMyAdminに保存するコードを 書いてるのですが、上手くいかずご指示頂きたく投稿しました。 初心者で、基本もよく分かっていない状況ですが、教えて頂けると助かります。 ・phpMyAdminのカラム名およびデータ型 　カラム名　：　img 　データ型　：　BLOB ・以下、現在書いているコード内容 [index.php] <html lang="ja"> <head> <meta charset="UTF-8"> <title>タイトル</title> </head> <body> <form method="POST" action="set_img.php"> <div> <label>写真</label></br> <input type="file" name="img"> </div> <button type="submit">登録</button> </form> </body> [set_img.php] <?php //データベースに接続する変数名を宣言しておく define( 'DB_HOST', '****' ); define( 'DB_USER', '****' ); define( 'DB_PASS', '****' ); define( 'DB_NAME', '****' ); //データベースに接続する $db_link = mysqli_connect(DB_HOST, DB_USER, DB_PASS, DB_NAME); // 画像の取得 $img_file = file_get_contents( $_FILES["img"]["tmp_name"] ); //画像をバイナリに変換 $img_binary = mysqli_real_escape_string( $db_link, $img_file ); //画像を保存するSQL文の実行 $result = mysqli_query( $db_link, 'INSERT INTO テーブル名 (img) VALUES ( "'.$img_binary.'" )'); //結果の表示 if($result){echo "画像をデータベースに保存しました。";} else{echo "保存できませんでした。";} ?> 上記内容で実行してもBLOBには0バイトと表示されるのみで 上手く格納されていません。 どうかアドバイスよろしくお願いいたします。 ※さきほど下記URLで質問したのですが、カテゴリーが適切ではなかったため 　こちらで再度投稿いたしました。 　https://oshiete.goo.ne.jp/qa/8969504.html
Postgresqlのテーブルを使用して、ツリー型のメニューを作成したく考えております。 http://allabout.co.jp/gm/gc/377237/2/ こちらのサイトを参考にして作成しようと思ったのですが、Postgresからデータを取得する点までは出来たのですが、htmlを上手くphpから出力出来ずに困っています。 テーブル項目は3つ　 ・章名　　　　（第1章、第2章～のような形式) ・番号　　　　（数字5桁、04020のような形) ・付属番号　　 (数字2桁 00～99) 例として以下の場合だと、（実際は数百件分あります） 　　章名　　|　　番号　　|　　付属番号　　 　第1章　　|　01010　　|　　00　　 　第1章　　|　01020　　|　　00　　 　第1章　　|　01020　　|　　01　　 　第2章　　|　02010　　|　　00 　第3章　　|　03010　　|　　00 　第3章　　|　03010　　|　　01 　第3章　　|　03010　　|　　02 　第3章　　|　03020　　|　　00 このようなhtmlを出力したいのです。 <ul> 　　<li><a href="url">第1章</a> 　　　　<ul> 　　　　　　<li><a href="url">01010</a> 　　　　　　　　<ul> 　　　　　　　　　　<li><a href="url">00</a></li> 　　　　　　　　</ul> 　　　　　　</li> 　　　　　　<li><a href="url">01020</a> 　　　　　　　　<ul> 　　　　　　　　　　<li><a href="url">00</a></li> 　　　　　　　　　　<li><a href="url">01</a></li> 　　　　　　　　</ul> 　　　　　　</li> 　　　　</ul> 　　</li> 　　<li><a href="url">第2章</a> 　　　　<ul> 　　　　　　<li><a href="url">02010</a> 　　　　　　　　<ul> 　　　　　　　　　　<li><a href="url">00</a></li> 　　　　　　　　</ul> 　　　　　　</li> 　　　　</ul> 　　</li> 　　<li><a href="url">第3章</a> 　　　　<ul> 　　　　　　<li><a href="url">03010</a> 　　　　　　　　<ul> 　　　　　　　　　　<li><a href="url">00</a></li> 　　　　　　　　　　<li><a href="url">01</a></li> 　　　　　　　　　　<li><a href="url">02</a></li> 　　　　　　　　</ul> 　　　　　　</li> 　　　　　　<li><a href="url">03020</a> 　　　　　　　　<ul> 　　　　　　　　　　<li><a href="url">00</a></li> 　　　　　　　　</ul> 　　　　　　</li> 　　　　</ul> 　　</li> </ul> どうか知恵をお貸しください。 よろしくお願い致します。
こんにちは。 今現在、htmlから外部PHPに書かれた関数を呼び出してhtml自分自身を整形しようと試みています。整形はタブ、改行、コメントを削除です。 the_html.htmlファイルの中身 ////////////////////// <?php include_once("the_php.php"); func('the_html.html'); ?> <html lang="ja"> <head> </head> <body> aaあ<br><br> bbb<br><br> ccc<br><br> <!--コメント--> </body> </html> ////////////////////// func.phpファイルの中身 ////////////////////// <?php function func($html){ $fp=fopen($html, 'r'); if($fp){print('無事オープンしました');}else{print('オープンに失敗しました');} $count = 0; if($fp){ if(flock($fp, LOCK_SH)){ while(!feof($fp)) { $buffer=fgets($fp); $buffer=preg_replace('/(\t|\r\n|\r|\n)/s', '', $buffer);//タブ・改行を削除 $buffer=preg_replace('/<!--[\s\S]*?-->/s', '', $buffer);//コメントを削除 print($buffer); $count++; } flock($fp, LOCK_UN); }else{ print('ファイルロックに失敗しました'); } } fclose($fp); } ?> ////////////////////// 表示させたthe_html.htmlのソース ////////////////////// 無事オープンしました<?phpinclude_once("the_php.php");a('the_html.html');?><html lang="ja"><head></head><body>aaあ<br><br>bbb<br><br>ccc<br><br></body></html> <html lang="ja"> <head> </head> <body> aaあ<br><br> bbb<br><br> ccc<br><br> <!--コメント--> </body> </html> ////////////////////// まぁ当然のことながら？整形していない自分自身も表示されてしまいます。 こうならない方法はあるものでしょうか？御教示下さい。よろしくお願い致します。
富士通ノートパソコンですが、ネット閲覧中、次に進みますかという問いに、はい　いいえの枠がありますが、いいえは黒くはっきりな文字で表示されてますが、はいの方が薄い文字になっていて押したくても押せない状態です。何をしたら直りますでしょうか。
教えて下さい。 Windows側でopensslの暗号化結果とPHP上での暗号化結果が異なってしまいます。 Windows側 (ｺﾏﾝﾄﾞﾌﾟﾛﾝﾌﾟﾄにて) ------------------------------------------------------------------------------------ SET /P X="a" < NUL | openssl.exe enc -a -nosalt -k "1" -K "1234567890123456" -aes-256-cbc ------------------------------------------------------------------------------------ 実行結果「oWrFclQURpWwu7ROfgYUqA==」 php側 ------------------------------------------------------------------------------------ <?php $input = 'abc'; $raw_output = false; $method = 'aes-256-cbc'; $password = '1'; $iv = '1234567890123456'; $enc = openssl_encrypt($input, $method, $password, $raw_output, $iv); print $enc; ?> ------------------------------------------------------------------------------------ 実行結果「z2MxaX+/xVEyeYGg/1vu4Q==」 最初はWindows側のダブルクォーテションの問題かな？と思ったんですが どうやら関係なさそうです。どうにかして同じ結果にしたいんですが どのようにすれば良いでしょうか？教えて下さい。
タイトルの通りですが、現在mac os x serverにてホームページを公開しております。 将来的には掲示板として使用したいのですが、動画のアップロードがどうしてもできなくて悩んでおります。 現在公開しているindex.htmlのbody内に以下のコードを書き、phpで受け取るようにしております。 <form action="upload.php" method="post" enctype="multipart/form-data"> <input type="file" name="upfile" /><br /><br /> <input type="submit" value="アップロード" /> </form> そして、このupload.phpの中身が以下です。 <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>sample</title> </head> <body> <p><?php if (is_uploaded_file($_FILES["upfile"]["tmp_name"])) { if (move_uploaded_file($_FILES["upfile"]["tmp_name"], "files/" . $_FILES["upfile"]["name"])) { chmod("files/" . $_FILES["upfile"]["name"], 0644); echo $_FILES["upfile"]["name"] . "をアップロードしました。"; } else { echo "ファイルをアップロードできません。"; } } else { echo "ファイルが選択されていません。"; } ?></p> </body> </html> このコードで画像はアップロードできるのですが、動画はなぜかアップロードできません。 違いはやはりファイルサイズだと考え、調べた結果php.iniを編集することでファイルサイズの制限を大きくすることができることがわかりました。 ;メモリ使用量の上限 memory_limit = 1G ;POSTデータの最大サイズ　※合計サイズ post_max_size = 1G ;1ファイルあたりの最大アップロードサイズ upload_max_filesize = 1G そこで、上記のような設定にすれば動画のアップロードができると考えたのですが、肝心のphp.iniの編集方法がいまいちよくわかりません。 直接編集するのは書込の権限が無いためコピーを作成すると思うのですが、そのコピーの作成先や、編集方法がわかりません。 　また、そのphp.iniを編集して、 /Users/ユーザー名/Documents/homepage/ ↑にあるupload.phpに影響するのでしょうか？ 自宅サーバーをたててのホームページ公開は最近やり始めたところで、トンチンカンな質問をしているかもしれないですが、詳しい方詳しい手順をご教授ください>_< ＜環境＞ PC:Mac OS X Yosemite 10.10.3 MacBook Pro 16GB OS X Server:Server 4.1（ビルド 14S1092） ご回答よろしくお願い致します！！
ＰＨＰを利用して、selectbox内にある色を選択したときに、ページの背景をその色に変更して表示する方法がわかりません＞＜　ご教授お願い致します。
みなさんのお知恵をお貸しください。 やりたいことは以下の通りです。 ①MySQLから任意のデータを検索しその結果を一覧【取得カラムは名前とIPアドレス】表示する。 ②kensaku.phpにて一覧の結果毎にボタンを設置し、送りたいIPアドレスをPOSTかGETで別のPHP(ip-add.php)に値を送りたい。 ①については出来たのですが、②の部分で1つ以上結果が出た場合に結果をボタン送信したところ どれを押しても一覧の最後に表示した結果を送ってしまいます。 ■カラムの例 wan_addres =10.10.1.1, 10.30.2.2, 10.50.3.3 hostname = 青木、青木、田中 失敗例として2つ検索結果が表示された場合　青木10.10.1.1のボタンを押したところ10.30.2.2が 値として受け取ってしまいます。皆様のお知恵をお貸しください。 1．【アドレス送信】青木　10.10.1.1 2．【アドレス送信】青木　10.30.2.2 ■kensaku.php <form> <form action="acsion.php" method="post"> <?php $res = $db->RunQuery("SELECT * FROM hostname WHERE hostname='$host' LIMIT 0,10;"); if($db->GetRowCount($res)>0){ println('<table>'); println('<tr><th>アドレス送信</th><th>名前</th><th>アドレス</th></tr>'); while( $row = $db->FetchRow($res) ){ println('<tr> <td> <input name="test01" type="hidden" value="'.$row['wan_address'].'" /> <input type="submit" value="送信" name ="test01"/></td> <td>'.$row['hostname'].'</td> <td>'.$row['wan_address'].'</td></tr>'); } println('</table>'); }else{ println('<p>情報はありません</p>'); } ?> </form> ■ip-add.php <?php $ipadd = htmlspecialchars($_POST['test01']); echo $ipadd; ?>
いつもお世話になってます。 macのyosemiteの環境で、タイトルの現象が出ます。 具体的には、CakePHP3をAptanaに突っ込んだ時点で、シンタックスエラーがでます。 そのまま開発を進めてもいいのですが、気持ち悪いので何とか解決したいのです！ 他のIDEに乗り換えるのも検討していますが、 解決方法があればご教示ください。
phpinfo.phpをメモ帳で作り、Apacheのhpdocsに設置しましたが http://localhost/phpinfo.phpで検索しても アクセスできませんと表示されてしまいます。 どうしたらｐｈｐが正常に動いてくれるでしょうか?? ｐｈｐ、apacheは下記のサイトを参考に設定しました。 http://www.phpbook.jp/install/phpini/index2.html (PATHは設定していません) 環境はWindows7 apache:Win32-2.4.12 VC11 php:php-5.6.7-Win32-VC11-x86 初心者なので分からないことだらけです、ごめんなさい。
いつもはROMでいろいろ勉強させて頂いております。 WORDPRESS初心者であります。 このたび、HTMLからWORDPRESSの移行を行うことになりました。 そこで、カスタム投稿にひっかかってしまい、3日ほど検索をしましたが、検索の仕方が下手なのか解決方法が見つからず、こちらでお知恵をお借りしたく相談させて頂きます。 元々HTMLファイルだった「index.html」を「index.php」に変更し、 PHPでget_headerやget_footerなどを行い、外観のウェブサイトは移行前と同様のものになりました。 このTOPページに「最新ニュース」が5件表示されるようになっており、「◆ニュースのタイトル」「本文」が表示されます。 上記2つをカスタム投稿を用いて、index.phpに表示をさせたいです。 そこで、Custom Post Type UIとAdvanced Custom Fieldsのプラグインを用いて 「TOP画面ニュース」（type_slug='top_news')の投稿タイプを作成し、フィールドグループとして、「見出し１」「本文１」 「見出し２」「本文２」「見出し３」「本文３」「見出し４」「本文４」「見出し５」「本文５」とフィールドを作りました。フィールド名は「見出し」が「news_title」にそれぞれの数字、「本文」が「news_contents」にそれぞれの数字を設定しました。 続いて、index.phpに記載をするコードがまったくわかっておらず、 いろんなところのサイトのコードを真似てはうまくいかず、の繰り返しで、 最終的なコードは以下になりますが、それでもやはりうまくいきません。 <?php get_header(); ?> <div id="contents"> <div id="info02"> <?php query_posts('post_type=top_news'); ?> <?php $text = get_field('news_title1'); if ( $text ) { echo $text; } else { echo "値がありません"; } ?> <h3><?php the_field("news_title1", $post->ID); ?></h3> <p><?php the_field("news_contents1", $post->ID); ?></p> <h3><?php the_field("news_title2", $post->ID); ?></h3> <p><?php the_field("news_contents2", $post->ID); ?></p> <h3><?php the_field("news_title3", $post->ID); ?></h3> <p><?php the_field("news_contents3", $post->ID); ?></p> <h3><?php the_field("news_title4", $post->ID); ?></h3> <p><?php the_field("news_contents4", $post->ID); ?></p> <h3><?php the_field("news_title5", $post->ID); ?></h3> <p><?php the_field("news_contents5", $post->ID); ?></p> <?php get_footer(); ?> デバッグ用として条件分岐でフィールドで値が取得されているのか確認をしたところ、elseの"値がありません"の処理へ行ってしまっているため、表示がされないのだと思います。 こちらのコードをいろんなところで調べたり、参考サイトをみたりしていましたが、知識不足なところもありお手上げ状態でした。 こちらの表示をするためにはどのようにすれば解決をするのでしょうか。 アドバイスや解決策など、是非お知恵を頂きたく思います。 ご助力のほどよろしくお願い致します。
お客様がつくられたpukiwikiのサイト（独自ドメイン）を今動かしてるレンタルサーバから別のレンタルサーバ業者へ引っ越しせねばなりません。 ですが、pukiwikiはwikiの一種だということしかわかりません。 単純にデータ一式をFTPでダウンロードして、新サーバにアップロードすればOKでしょうか？ お問い合わせのページもあるのですが、特に意識しなくても大丈夫でしょうか？ (sendmailのパスなど意識しなくても大丈夫？）
ファイルをダウンロードするプログラムなのですが以下ですとちゃんとダウンロードされるのですが、 値（画像アドレス）をフォームで飛ばし、$fpath に放り込んでみると画像はダウンロードされるのですが「ファイルが破損している可能性があります」と表示されてダウンロードされた画像は開くことができません。 プログラム自体は問題ないと思うですが・・・。 原因は何かわかりますでしょうか？ <?php $fpath = 'http;//aaa.jpg'; $fname = 'aaa.jpg'; header('Content-Type: application/force-download'); header('Content-Length: '.filesize($fpath)); header('Content-disposition: attachment; filename="'.$fname.'"'); readfile($fpath); }; ?>
レンタルサーバーで１アカウント複数ドメインを使えるサービスで ドメイン別間でPHPにて参照等できてしまうのですが（file_get 　や　includeなど） htaccessかphp.ini　などでこれをできなくする方法はあったりするものでしょうか
RSSから取得した文字を、phpからmysqlに投げようとすると、mysqlに格納された時点でエスケープ文字に変換されてしまいます。 具体的には 「暮らし上向く? 予算成立Q&A」　←この文字列を入れようとすると 「&#26286;&#12425;&#12375;&#19978;&#21521;&#12367;? &#20104;&#31639;&#25104;&#31435;Q&amp;A」　←こんな感じでエスケープ文字に変換されてしまいます。 何が問題なのでしょうか？ はてなマークなどが入っていると問題なのでしょうか？ ご回答よろしくおねがいいたします。
よろしくお願いいたします。 カレンダーを利用した宿の空室状況を作っています。 「各日付」の下に空室状況を表す○、×等の「マーク」その下に祭日やイベントなどの「コ メント」を表示し、これらを編集します。 上記の「マーク」や「コメント」の内容は月毎に用意したテキストファイルからfopen関数で呼び出し、fgets関数で一行ずつ配列にセットして表示の際に適宜呼び出しています。 （一日分が一行に書いてあります。） 例）201505.txt (1行目)○お部屋割引あり！ (2行目)× (3行目)○憲法記念日 (4行目)△みどりの日 … … 編集（書き込み）の際のエラーチェックについて質問です。 下記のチェックを施しています。 コメント欄について、ローカルで動かした時はひらがな２０文字まで書くことができるのですが、サーバーにアップするとひらがな６文字まではOKなのですが、７文字入れるとエラーになってしまいます。 ・・・$fpは、fgets関数で取り出した一行です。 $status = mb_substr($fp , 0 , 1); $comment = mb_substr($fp , 1); //　======================================= // エラーチェック／コメント($_POST["comment"]) //　======================================= if (mb_strlen($comment) > 20) { $result = $result . "エラー・c-1<br>"; } mb_regex_encoding("UTF-8"); if (preg_match('/[^0-9０-９a-zA-Zぁ-んァ-ヶー一-龠！？ａ-ｚＡ-Ｚ\n\r!?]/u' , $comment)) { $result = $result . "エラー・c-2<br>"; } if($result != ""){ echo $result; } よろしくお願いいたします。
PHPでRSSからブログのタイトル名を取得して、それをmysqlに落とし込みたいと考えています。 そこで、それに向いているのは「Google feed API」か「MagpieRSS」か「simplexml_load_file」、どれが一番向いているのでしょうか？ それぞれのメリットとデメリットを教えて頂きたいです。 個人的な今の考えとしては、googleapiのやつは今後サービス終了する恐れがあるのでNG、 MagpieRSSを推すブログが多いけど、php5になった今ならsimplexml_load_fileの方が上なの？ってところです。 ご回答して頂けると非常に助かります。 宜しくお願いいたします。
よろしくお願いいたします。 カレンダーを利用した宿の空室状況を作っています。 「各日付」の下に空室状況を表す○、×等の「マーク」その下に祭日やイベントなどの「コ メント」を表示し、これらは編集できるようにしたいです。 上記の「マーク」や「コメント」の内容は下のような月毎に用意したテキストファイルから fopen関数で呼び出し、fgets関数で一行ずつ配列にセットしています。 例）201505.txt (1行目)○お部屋割引あり！ (2行目)× (3行目)○憲法記念日 (4行目)△みどりの日 … … 表示の際は、該当日の配列から、mb_substr関数で1文字目を取り出し空室状況のマークとし て表示、改行してmb_substr関数で取り出した2文字目以降を「みどりの日」等のコメントと して表示しています。 この場合の改行は、マークは1文字のみと決まっているので1文字を表示したらphpのソースに<br> タグをecho であらかじめ書いておくことで問題なく表示されます。 つまずいているのはここからです。 コメントに改行を入れたいのですが、入力画面で改行すると、テキストファイルも改行され てしまい、改行後に表示したかった内容が次の日の行に書かれてしまい、失敗します。 最初に試した方法は、入力画面で改行をして登録するfput関数のパラメータ上でstr_replace 関数を使って「\r\n」を「<br>」に置き換える方法です。 最初の登録時は<br>を使っていないので問題ないのですが、タグ入力を禁止する為にエラー チェックで「<>」を排除しており、2回目の編集後登録しようとしてもテキストに書かれてい る「<br>」がチェックにひっかかってしまいます。 エラーチェックで「<>」をOKにはできないので悩んでいます。 よろしくお願いいたします。
現在phpでフォームを制作しています。xamppファイルのwindowsのためのinstaller.exeをダウンロードしたいのですが、無料でダウンロードできるサイトはありますか。早めの回答を願います。
管理者ログインなどで使用する見られたくないパスワードなどをPHP内にかいても ---config.php--- <?php $pass="1234" ?> includeやfile_getで同サーバー設置PHPに簡単に読まれてしまいます。 include（サーバーパス/config.php); echo $pass; echo file_get_contents(サーバーパス/config.php); アカウント一つで複数ドメインを持てるホスティングサーバーを使用していますが 他のドメインから別ドメインのPHP内表示ができてしまいます。 試してはいませんが、共有サーバーの同サーバーで他人のPHPから自身のPHP内を表示する事ができるのではと思ってしまいます。 例えばあるサイトが同社の同共有サーバーを使用していて PHPでサイト全ファイルの一覧を取得し　サーバーパスが分かればfile_getでPHP内を表示 などです アクセス権を変えても同サーバーPHPからは読まれます この様な場合はどのようにするべきなのでしょうか コードはともかくパスワード等を暗号化等して対処になるのでしょうか
ブラウザ検索にリンク表示の文字が中国語になる。 検索内容と結果は、日本語で表示されていますが…
パソコンが２台あります。１台の内容をすべて、もう１台に移したいのですが、どうしたら良いのか判りません。初心者です詳しく教えてもらえませんか？よろしくお願いします。
以下を「sample.php」で保存しサーバー上で実行すると 「ログアウト」ボタンを【2回押さないと】セッションが切れないですが、なぜでしょうか。 ここでつまづいて、半日これで格闘してます。 あと、 header("Location: index.php . '?' . $_SERVER['QUERY_STRING']"); みたいな書き方がエラーになりますが、うまい書き方はありませんか。 GETで「index.php?word=keweord&year=2014」 みたいなやつを飛ばす先でも引き継ぎたいという目的です。 よろしくお願い致します。 <?php session_start(); //「ログアウト」ボタンが押されてたらセッションを破壊 if ($_POST["logout"] != "") { session_destroy(); header("index.php"); } //ログインパスワードが正しければだったらセッション$_SESSION["pw"]を1にしてその後に続く条件分岐に活用 if ($_POST["login"] != "") { $mypassword = "1234"; if ($mypassword == $_POST["pwd"]) { $_SESSION["pw"] = 1; } else { $logerr = "エラー"; } } ?> <html><body> <form method="post" action="sample.php"> <?php if ($_SESSION["pw"] == 1 ) { ?> <input type="text" name="pwd" value="ログイン中"> <input type="submit" name="logout" value="ログアウト"> <?php } else { ?> <input type="password" name="pwd" value=""></td> <input type="submit" name="login" value="ログイン"></td> <?php } echo $logerr; ?> </form> </body></html>
XSS対策の　htmlspecialchars　の付けどころについて質問なのですが POSTやGETの値をとりあえず最初に全て　htmlspecialchars　をして変数に入れてから使用しています しかし最初でなくHTMLなどの出力時に　htmlspecialchars　をしないとダメだと他サイトでみました よく分からなかったのですがHTMLなどに出力する最終の時その箇所だけその値に　htmlspecialchars　をするべきで、面倒なので最初に全てしてから使うと危険なのでしょうか 下記は　htmlspecialchars　をしなくても安全のようですが if(isset($_POST["name"]){ 下記の様なものは問題があるのでしょうか $i = "id" . $_POST["name"]; if($i=="id10"){ よろしくお願いします。
お世話になります。 どうしてもphpで保存させるログファイルが文字化けしてしまい、 原因がわからずお手数をおかけしますがご教授いただけますと幸いです。 phpスクリプトをteraPadのUTF-8Nで保存しサーバーにアップしております。 そのプログラム上でlog.datと言うサーバー上のテキストファイルにログを保存させているのですが、 なぜかそのlog.datが文字化けをしてしまいます。 （teraPadで開いた際に文字化けしている） そのlog.datに保存させるテキストの文字コードはUTF-8になるのですが、 log.dat自体をteraPadで開いて確認しますとどうもshift_jisで保存されているようで それが原因でteraPadで開いた際に文字化けして表示されてしまうようです。 その文字化けしたlog.datをローカルにダウンロードし、 teraPadで文字コードをUTF-8に指定して再読み込みさせますと文字化けが治ります。 そしてUTF-8Nでlog.datを保存しなおし文字化けを直した状態で サーバーにアップしますが、また同じような状態になり文字化けをすると言う事を繰り返しています。 （試しにlog.datをUTF-8でも保存してみましたが同じように文字化けします） ただ、php上でlog.datを表示させた場合には文字化けされて表示される事はないようです。 これはどのような原因が考えられるのでしょうか？ teraPad上の問題だけで、それほど気にする必要はないのでしょうか？ ただ、他のlogファイルはteraPadで開いた際もデフォルトからちゃんとUTF-8Nで このようにShift_JISで開かれ文字化けする事はありません。 お忙しい中お手数をおかけしますが考えられる原因がございましたら ご教授いただけますと大変助かります。何卒よろしくお願い致します。
パソコンの反応が遅くなるたびに　Kingsoft System Defender で Clean up していますが、他に何かいい方法があるでしょうか？
パソコン版ラインにログインしたら、本人確認のための４桁の数字が出てきますよね。 その４桁の数字をスマホの方でちゃんと打っているのに、パソコンの方のラインには、何も変化がなくログイン出来ない状態です。 どうしたらログインできるようになりますか？ ちなみに、パソコンのOSは、Windows Vistaです。
WordPress 、PHP初心者です。 &lt;?php the_title(); ?&gt;で投稿画面のタイトルが表示されるのは、 わかったんですが、入れ子状態になった投稿画面のタイトルを同じ画面に表示させるやり方がわかりません。困っています。 よろしくお願いします。
履歴の削除についてパソコン、ＩＴはにがてです。今度共有の文章を作成するためにパソコンをもちより共有で使用することになり私のパソコンも持ち寄ることになりました。そのときに今まで閲覧、使用していた履歴を削除していてもＩＴに詳しい人には他人のパソコンでも閲覧することをできるのですか？もしも閲覧できるとすればできないようにするのにはどのようにすればよろしいのですか？詳しい人はおしいてください。よろしくお願いします。ツール、から削除することはできますのでそこのところは行いました。それでも見ることができるのですか？
何度か同様の質問をしていたのですがどうしもて解決せず、今日自分でいじっていて一部原因が分かりました。 やりたいことは単純にphpで画像を表示したい・・というだけだったのですが、初心者サイトを見て 以下の通りにやってみても必ず画像が文字化けします。 原因がまったく分かりませんでしたが、どうも"<?php"の前に文字や空欄や改行があると文字化けするみたいです。<?phpの後ろは特に改行などあっても文字化けしないようです。 つまり一行目の一マス目に"<?php"があれば問題なく画像が表示されるのですが 私はhtmlサイトの中でphpを使いたいのでこれで困ります。 phpの本など見ましたがこのような現象は載っていません。 どうしてこのような現象が起きるか分かる方いますでしょうか？？ <?php $img = file_get_contents("aaa.jpeg'"); header('Content-type: image/jpeg'); echo $img; ?> <?php header('Content-type: image/jpeg'); readfile('aaa.jpeg'); ?>
すいません。下のシンプルな画像出力がうまくいきません。 どうしても画像が文字化けします。 テキストファイルなどでしたら特に問題ないのですが、おそらくヘッダーがきちんと動作していない ように感じます。phpファイルには以下の四行しか記載しておらず、シンプルすぎてこれ以上いじる 場所もありませんし・・。 何か確認すべき場所あるでしょうか・・？ <?php header('Content-type: image/jpeg'); readfile('aaa.jpeg'); ?>
ロリッポップのレンタルサーバを使用しています。 3年ほど前からデータベースを使用していて、そのページはきちんと表示されているのですが 新しくテーブルを作って新しいファイルを作ってデータを表示しようとするのですが、 Can't connect to local MySQL server through socket と表示されてしまいます。 新しく作ったファイルがなぜ使えないのか、不明です。 新しく作ったphpファイルは以下の通りです。 どこが間違っているのか判りません。 よろしくお願いします。 <?php require_once("tomodatiini.php"); $con = mysql_connect($dbserver, $dbuser, $dbpassword); $result = mysql_select_db('timei', $con); mysql_query("set names sjis"); $result=mysql_query("select * from tomodati order by no asc limit 1"); print "<table border='1' bgcolor='#ffffff' align='center'> <tr> <th>投稿件数</th> <th>投稿日</th> <th>名前</th> <th>近況報告</th> </tr>"; while ($data = mysql_fetch_array($result)) { print "<tr>" . "<td>$data[no]</td>" . "<td>$data[date]</td>" . "<td>$data[name]</td>" . "<td>$data[comment]</td>" . "</tr>"; } print "</table>"; $con = mysql_close($con); ?> tomodatiini.phpの中はこれです。 これも以前と同じ内容なのですが、 $dbserver = "localhost"; $dbuser = "root"; $dbpassword = ""; $dbname = "timeidb"; $admsess = "sslogined"; よろしくお願いします。
codeigniterでcron実行したいのですが、うまくいきません。 参考となるようなサイトで情報を集めて実行しています。 cron.phpを作成する #!/usr/bin/php define(‘CRON_CI_INDEX’, ‘/var/www/html/index.php’); set_time_limit(0); chdir(dirname(CRON_CI_INDEX)); require(CRON_CI_INDEX); とあります。 index.phpは当方のパスです。 cron では crontab -e で編集し 0-59/10 * * * * /var/www/html/cron.php /var/www/html/application/controllers/cntl/CU013.php としていますが、 うまくいきません。 どこがおかしいでしょうか？ ご教授下さい。 宜しくお願いいたします。
すみません、困っています。 上記エラーが発生しています。サーバの負荷問題ではなさそうですが、以下のプログラムで何か問題はありますでしょうか？ 他のURLは取得できています。何かわかることがあればご教授願います。 -----Program----- include_once ('simple_html_dom.php'); $tmpUrl='http://www.amazon.com/gp/offer-listing/B005J2LW6 … $get_html_res = file_get_html( $tmpUrl ); ---------------- -------PHP Err(/var/log/php_errors.log)-------- [18-Mar-2015 14:29:52] PHP Warning: file_get_contents(http://www.amazon.com/gp/offer-listing/B005J2LW6 …): failed to open stream: HTTP request failed! HTTP/1.1 503 Service Unavailable in /var/www/html/zeus2/mainProg/simple_html_dom.php on line 77 --------------- Warining なので、Errではないのですが、Htmlの中身が取得できない状況ですので、解決策をお伺いしたく投稿させて頂きます。 何でも、気づくことをご教授願います。
皆様、いつもお世話になります。 あるホスティングサービスにてVPSのメモリ1Gのプランを利用しようとしていますが、ブラウザから2G程度のファイルをアップロードしたい場合、メモリ1Gだとそもそもアップロード自体できないのでしょうか？ 無知なりに調べる限り、php.iniの設定で処理時間を長めに設定すると回避できるようなことが記載されていたのですが・・; お詳しいかたご教授のほど宜しくお願い致します。 Cent OS 6 PHP 5.3.3 Google Chrome 41.0 （現時点で最新版）
回答を頂けないので、カテを変更して質問させて頂きます。 現在Wordpressのテンプレート（テーマ）を自作しているのですが困った事が発生しています…。 というのが、プラグインをインストールしたのですが設定情報がページ内に反映されません。 何か、プラグイン情報を表示させるコードなどをテンプレート内に配置する必要がありますでしょうか？ 具体的には、ライトボックスのプラグインで、各種設定内容が完了するとその情報がページ内に自動で本来は組み込まれます。以下のような内容です。 <script type='text/javascript'> /* <![CDATA[ */ var JQLBSettings = {"showInfo":"1","fitToScreen":"1","navbarOnTop":"0","resizeCenter":"","marginSize":"0","linkTarget":"_self","slideshowSpeed":"3000","help":"","prevLinkTitle":"\u524d\u306e\u753b\u50cf","pause":"(pause slideshow)","play":"(play slideshow)"}; /* ]]> */ </script> この管理画面で設定した内容が反映されないので動作しません。 ただ、ちゃんとしたテーマを利用した場合には、これらの内容が自動でページ内に埋め込まれます。 こういった、プラグインからの情報をページに読み込ませるためには、どのような記述を追加すれば宜しいのでしょうか？ Wordpressにお詳しい方いらっしゃいましたら、アドバイスをいただけないでしょうか。 よろしくお願いいたします。
wordpressでHPを構築中です。 サイドバナーエリアに画像ウィジェット（image widjet使用）でバナー画像を配置しています。その下にbizカレンダーを入れると配置がずれます。これを修正するには、どの辺をいじれば良いのでしょうか。教えて下さい。
本格的にきちんとPHPを勉強しようかと思っているのですが、今のところ、ある問題でつまづいて前へ進めません。 どなたか、ご教授願えませんでしょうか？ <?phpfunction magic($p, $q) { return ($q == 0) ? $p : magic($q, $p % $q); }?> １．無限ループ ２．$pと$qがいれかわる ３．偶数か奇数かをもとめる ４．最大公約数をもとめる ５．両者のモジュールを計算する
PHPの計算の質問です。 ＄rs= ’１２３＋６５４−９＊９/５’ を、前から順番に計算していく方法（関数？） ①１２３＋６５４ //を計算 ②777(１２３＋６５４の結果)ー９ //を計算 ③768(777-9の結果)*9 //を計算 ④6012/5 /を計算 関数?を用いて、①〜④までの最終的な結果である1202,4を求める方法が知りたいです。 よろしくお願い致します１
phpで画像を表示させたいのですがどうしても画像が文字化けします。 この問題だけでもう一週間以上悩んでいるのですが、あらゆるサイトを見ても下記で問題ないように 思います。ドリームウィーバーを使っていますが、BOMなどは含まれないようにチェックボックスは外れているのを確認しています。 単純にヘッダーが無視されているように感じますが、何か解決方法はありますでしょうか。 （ヘッダーの前に改行など何も入れてはいけないと聞いたことがありますが特に何も入れていません） <?php $img = file_get_contents("bbbb.jpeg"); header('Content-type: image/jpeg'); echo $img; ?>
いつもお世話になっております 表題のとおり PHPでエクセルのグラフを作成または操作することはできますか？ PHPExcelというのでExcelを作成することはできるのですが y座標を2つを設置することができず困っております。 jpglaphでグラフ画像を作成できるのですが こちらもy座標を2つ設けることができません、、、 excelのグラフ機能をいじれればよいのですがさすがにそれはできませんよね 関数を埋め込んだりで対応できればいいんですが、、、 何か代替案をご存知のかたいらっしゃいませんか？ ご連絡お待ちしております
Faster light Ads という、ダイアローグが画面下にでてきて、そのHPをスクロールすると（ダイアローグ画面には触っていないと思いますが）、ひどい迷惑HPの画面に代わります。 このダイアローグが出ないようにするにはどうすればいいでしょうか？ という質問に対して、除去方法の動画 を 教えていただきました。動画にそって途中までは順調にいきましたが、main からファイルを選ぶときに、serch page のファイルはありましたが、stertpage redir・・・のファイルがなくて、消すことができません。ないものは無視して進めていいのか？どうかわかりません。教えてください。 よろしくお願いいたします。
PHP 文字列（数字と符合の混合）の分割と計算 //PHPで電卓を作っています（初心者） 出力 文字列 "111+222-333*444/555"を 数字と符合に、分割してから 計算するまでのロジックとコードをおしえてください 数字と符号(+-*/)と正規表現 |[+-*/]|で分割まではわかります。そこから、数字と符合で分割された配列を作り、それを計算するまでの（電卓のイコールボタンを押して計算）するまでのロジックを教えて頂きたいです。途中まででと構いません。アドバイスよろしくお願いします。 <?php session_start(); $rs = ''; $eq =''; if(isset($_POST['num'])){ $post_value = $_POST['num']; // POSTで送られてきた値 if(isset($_SESSION['rs'])) { $input = $_SESSION['rs']; }else{ $input = array(); // セッション未登録の場合は空の管理配列を用意する } $input[] = $post_value; // 管理配列にポストで送られてきた値を追加する // 管理配列の中身を取り出して連結して出力用の変数に代入する foreach ($input as $value) { $rs .= $value; } $_SESSION['rs'] = $input; // 管理配列をセッションに追加 }else{ $_SESSION['rs'] = array(); } //var_dump ($_SESSION['rs']); if(isset($_POST['equal'])){ ($rs) ; } //次の符号が押されたら、$rsを自動的に計算する。 //$rss 文字列を、+,-,*,/で区切る。数字部分と符号部分に分ける ?> <!DOCTYPE html> <html> <head> 計算結果<br><br><meta charset="UTF-8"> <title>電卓</title> </head> <body> <form action ="" method ="POST"> <table border ="3"> <tr> <input type="text" name="name" value="<?php echo $rs ; ?>"> </tr> <tr> <td> <input type="submit" value="C" name="reset"></td> <td> <input type="submit" value="root" name="num"></td> <td> <input type="submit" value="tax" name="num"></td> <td> <input type="submit" value="/" name="num" 最後に、ボタンのイコール。 以下、省略
パソコンはWindows8.1でメールはOffice2013のアウトルックを使っています。ところで、受け取ったメールにHPのURLが書いているとき、それをクリックするとグーグルクロームでたちあがるのですが、、「今すぐ・・・」などとかいたFaster light Ads という、ダイアローグが画面下にでてきて、そのHPをスクロールすると（ダイアローグ画面には触っていないと思いますが）、ひどい迷惑HPの画面に代わります。 セキュリティーは入れていますが、何かフリーのソフトを入れたときに、これを許可したのでしょうか・・・？　このダイアローグが出ないようにするにはどうすればいいでしょうか？ 教えてください。よろしくお願いいたします。
以前XPでホームページビルダー6.5ｍのソフトを使ってHPを作成し、アップしました。XPが壊れて、今、Windows8.1を買ったのですが、それだと、ホームページビルダー6.5がインストールできず、以前作ったHPを触ることができません。Windows8.1にホームページビルダー6.5をインストールする方法をご存知の方、また、他の方法で、今のHPをコポーして、再度HPを作る方法をご存知の方いましたら、教えてください。よろしくお願いいたします。
パソコンについての質問です。office20013のwordについて。Windows8.1でワード文章を作っている途中で、区切りをつけたくて、「-」を連続で20回くらいおして、エンターを押すと、端から端までの 長い線ができ、後から線を消そうとすると消すことができません。以前Xpをつかっていたときは「-」の線を連続で押しても、素直にそのまま「-」線の連続だったのですが。どうすれば消せるでしょうか？教えてください。 操作方法の変化についていけなくて、困っています。よろしくお願いいたします。
プログラマーではないのですが、php+mysqlを使って特定のテーブルから特定のキーワードを抜き出して件数を表示したいと思います。 美容室（１０）理容室（７）エステ（５）ネイル（３） のように表示させたく、下記のように書きました。 $wo1="美容室"; $wo2="理容室 "; $wo3="エステ"; $wo4="ネイル"; $dbh = new PDO($dsn, $username, $password); $dbh->setAttribute(PDO::MYSQL_ATTR_USE_BUFFERED_QUERY, true); $sql = "SELECT * FROM テーブル WHERE 種別 like BINARY'%$wo1%'"; $stmt = $dbh->query($sql); $stmt->execute(); $count=$stmt->rowCount(); $sql2 = "SELECT * FROM テーブル WHERE 種別 like BINARY'%$wo2%'"; $stmt2 = $dbh->query($sql2); $stmt2->execute(); $count2=$stmt2->rowCount(); $sql3 = "SELECT * FROM テーブル WHERE 種別 like BINARY'%$wo3%'"; $stmt3 = $dbh->query($sql3); $stmt3->execute(); $count3=$stmt3->rowCount(); $sql4 = "SELECT * FROM テーブル WHERE 種別 like BINARY'%$wo4%'"; $stmt4 = $dbh->query($sql4); $stmt4->execute(); $count4=$stmt4->rowCount(); <?php print($wo1); ?>(<?php print($count); ?>) <?php print($wo2); ?>(<?php print($count2); ?>) <?php print($wo3); ?>(<?php print($count3); ?>) <?php print($wo4); ?>(<?php print($count4); ?>) 実際に動いているのですが、 他に都道府県別に 北海道（３）東京都（５）とやりたいので47回SQLを発行するのが大変なので もっと軽くなる方法はありますでしょうか？
知り合いの病院のブログサイトを作っているのですが、診療日を表示するために「All-in-One Event Calendar」を導入しました。カテゴリ別に色分けができることと見た目がさっぱりしていること、何よりスマホでも見れるという事でこちらを使用したわけですが、休診日等の繰り返しを設定した際、ある特定の条件を満たしてしまった場合に翌月の予定が、当月に重なって表示されてしまいます。 添付画像は、3月のカレンダーですが、1日は臨時休診で、毎週水曜日が休診日なので繰り返し設定をしてあります。臨時休診の下に出ている休診の表示は、4月1日（水）の分なのです。このように繰り返し指定の日付に翌月の月初が該当すると、当月に表示されてしまいます。 うまく説明できなくて申し訳ないのですが、かれこれ6時間調べてもわからずお手上げ状態です。 同じような状況で改善された方や、スマホからも見れる同じような機能のプラグインをご存知の方がいらっしゃいましたら、教えていただけたらと思います。 WPのバージョンは4.11 プラグインのバージョンは2.2です。 どなたかよろしくお願いいたします。
ワードプレスのバックアップを取るためにphpmyadminを利用したいのですが http://localhost/phpMyAdmin/index.php にアクセスするとForbiddenと表示され、ログインページに飛ぶことができません。 そこでphpMyAdmin.confというファイルを編集すれば良いという情報があったのでファイルを探したのですが、phpmyadminをインストールする際に作成されるはずがされていなかったようです。 そしてアンインストール後にもう一度インストールなどもしてみたのですが、やはり作成されません。 ちなみにlocalhostにアクセスするとIt works!と表示されるのですがインストール後は C:\Apache24\bin>httpd -k install Installing the 'Apache2.4' service The 'Apache2.4' service is successfully installed. Testing httpd.conf.... Errors reported here must be corrected before the service can be started. このように表示されます。 最後の一文がエラー表示だと思うのですがあるサイトでは全く同じ文で無事インストール出来たようですという風に書いているし訳が分からなくなってきました。 質問内容としてはどのように表示されれば成功なのかとphpmyadmin.confが作成されないよくある状況のようなものを教えていただきたいです。 ちなみにOSはWin8でApache、PHP、MySQLはインストールした状態です。
すみません。phpでブラウザを開けるとダイアログが出て任意の画像をダウンロードさせたいのですが どうしても動きません。かなりの参考サイトを見ましたが下記で問題ないように思うのですが、 ダイアログは出ずに文字化けしたサイトだけが表示されます。 画像はヤフーのロゴでしてこのロゴをブラウザを開いた時ダイアログで「ダウンロードしますか」 と表示させたいのです・・。 どこが悪いか分かる方いますでしょうか・・？ （思うに画像の絶対アドレスの書き方が間違っているように思うのですがどうでしょうか・・） <?php $source = 'http://k.yimg.jp/images/top/sp2/cmn/logo-ns-1312 … $filename = 'abc.jpg'; header("Content-type: image/jpeg"); header("Content-Disposition: attachment; filename=\"{$filename}\""); readfile($source); ?> <?php $path = 'http://k.yimg.jp/images/top/sp2/cmn/logo-ns-1312 … $fname = 'abc.jpg'; header('Content-Type: application/octet-stream'); header('Content-Disposition: attachment; filename="'. $fname .'"'); readfile($path); ?>
googleを立ち上げるとASK.comのタブがでる
すみません。今phpの勉強中なのですが質問があります。 あるサイトを開くと自動である画像をダウンロードさせたいのですが、どうもうまく行きません。 http://aaaa.jpgを絶対パスとします。 色々ググりましたが以下でダウンロード用のダイアログボックスが出るはずなんですが ただの文字化けしたサイトになってしまいます。 どのようにすれば解決しますでしょうか。 <?php $path = 'http://aaaa.jpg'; $fname = 'tast'; header('Content-Type: application/octet-stream'); header('Content-Disposition: attachment; filename="'. $fname .'"'); readfile($path); ?>
PHPとMySQLを使った掲示板作成において、 2つのテーブル（ユーザーテーブル・投稿テーブル）を作りました。 ユーザーテーブルのIDを引っ張って、 それを投稿テーブルの中に「投稿ユーザーID」という形で入れるには、 どのような文を書けば良いのでしょうか？ 本当に初心者です。 初めて、PHPとMySQLで掲示板を作っています。
wordpressサイトを制作中です。トップページのメインエリア、お知らせ欄に投稿記事を表示させていますが、その下に画像ウィジェットを設置したいと思います。Image Widjetというプラグインが便利なのですが、メインエリアに設置するとなるとfunction.phpをいじらないと行けないようですが、上手く行きません。なるべくシンプルで簡単な解決法は有りませんでしょうか。
/の無い可逆暗号化出来る関数はありませんか
学校ではc言語だけ習ったのですが。webプログラマーに興味があるのでphpを独学で勉強しています よく企業などに入ったほうが早く習得できると聞くのですが　本当ですか？ 私は学生なので企業などに入ることは出来ませんが、独学で勉強して企業でwebプログラマーとして働いている方にお聞きしたいのですが　どのような勉強をしましたか？オススメの参考書などがあれば教えてほしいです。
XAMPP1.8.2を使っています。 PHPでＩＰアドレスを調べると 「::1」と表示されます。これを127.0.0.1に変更する方法ってわかりますか？
はじめまして。 データベースの更新をして、結果を表示させる方法が分かりません。 現状、call to a member function prepare() on a non-object in ........on line 21と、エラーが表示されています。 ご教授よろしくお願いします。 <?php require_once('index.php'); $error = ''; if (@$_POST['submit']) { $name = (string)filter_input(INPUT_POST, 'name'); $comment = (string)filter_input(INPUT_POST, 'comment'); $price = (string)filter_input(INPUT_POST, 'price'); $code = (string)filter_input(INPUT_POST, 'code'); if (!$name) $error .= '商品名がありません。<br>'; if (!$comment) $error .= '商品説明がありません。<br>'; if (!$price) $error .= '価格がありません。<br>'; if (preg_match('/\D/', $price)) $error .= '価格が不正です。<br>'; if (!$error) { require_once('index.php'); $sql = 'UPDATE goods SET name=:name, comment=:comment, price=:price WHERE code=:code'; $stmt = $pdo -> prepare($sql); $stmt->bindParam(':name', $name, PDO::PARAM_STR); $stmt->bindParam(':name', $comment, PDO::PARAM_STR); $stmt->bindParam(':name', $price, PDO::PARAM_INT); $stmt->bindValue(':value', $code, PDO::PARAM_INT); $stmt->execute(); $stmt->closeCursor(); exit(); } } else { $code = $_GET['code']; $sql ="SELECT * FROM goods` WHERE code=$code"; $smt = $dbh->prepare($sql); //$sql->execute(); if (!$smt) { echo "\nPDO::errorInfo():\n"; print_r($dbh->errorInfo()); } $row = $smt->fetch() ; $name = $row['name']; $comment = $row['comment']; $price = $row['price']; } require 't_edit.php'; ?>
すいません質問があります。 現在phpを勉強中で、あるアドレスをフォームで送ってそのアドレスの中身（ソース）を 全てメモ帳に書き込んでみたいのですがどうもうまくいきません。 下記を書いてみたんですが、$add777をechoで出力するとちゃんとhtmlのアドレスが入っていますが、 add777.txtにはソースが書き込まれていません。 file_get_contents("$add777")の$add777の部分を直接アドレスに変えてみるとちゃんとtxtに書き込まれます。 どこがだめか分かりますでしょうか？？ <?php if((!empty($_POST['add777']))){ $add777=$_POST['add777']; file_put_contents("add777.txt", file_get_contents("$add777")); } ?>
バズ部が提供しているXeoryというThemeでウィジェットにある「投稿記事下」に「利用できるウィジェット」をはめると全てが2つずつ表示されてしまいます。 対処法が分かる方がいらっしゃったら助けてください！
bnr_top_main_on.jpgを消去したにもかかわらず、あいかわらずバニラアイスの画像が表示されます。 以下、質問です。 1. この画像はどのディレクトリに配置されているのでしょうか。 2. このマウスオーバーの記述はどのディレクトリファイルにPGされているのでしょうか。 宜しくお願いします。
PHPとMySQLを使って掲示板を作ろうと思います。 そこの部分は独学でやれます。 プラスの機能として、以下のものを付け加えたいのですが、 プログラムの組み方が解かりません。 どなたかお解かりの方がいらっしゃれば、ご教授ください。 1.投稿者の投稿数をカウントする機能 2.その投稿数によって3つのランク（カテゴリ・グループ？）を設定する。 例）投稿数：0～9件の場合はブロンズユーザー 投稿数：10～19件の場合はシルバーユーザー 投稿数：20件以上の場合はゴールドユーザーなどと表示） 3.上記のランク別で投稿を見れる範囲が以下のように違う。 例）投稿数：0～9件のブロンズユーザーは、同等のブロンズユーザーの投稿のみ閲覧可。 投稿数：10～19件のシルバーユーザーは、同等のシルバーユーザーおよびブロンズユーザーの投稿のみ閲覧可。 投稿数：20件以上の場合はゴールドユーザーは、すべてのユーザーの投稿を閲覧可。
PHPなどのWebプログラムについて情報交換をしている主流コミュニティはどこでしょうか？
Wordpressでカスタムフィールドを利用した表を作成しており、ソートボタンをひとつに変更したいです。 ------------ コード -------------- <p> ユーザー名 <?php printf( '<a href="%s?&meta_key=ユーザー名&orderby=meta_value_num&order=DESC">↑</a>', $url ); printf( '<a href="%s?&meta_key=ユーザー名&orderby=meta_value_num&order=ASC">↓</a>', $url ); ?> </p> ユーザー名↑↓ となり↑↓をクリックすればソートは可能なのですが、 ユーザー名をクリックすると交互にソートできるようにしたいのです。 皆様のお知恵をお貸し下さい。 よろしくお願いします。
はじめまして。 php初心者です。sqlでデータの更新を行いたいのですが、更新ができません。 お力を貸していただきたいです。 t_edit.php <!DOCTYPE html> <html> <head> <meta charset="utf-8"> <title>商品修正</title> <link rel="stylesheet" href="kanri.css"> </head> <body> <div class="base"> <?php if ($error) echo "<span class=\"error\">$error</span>" ?> <form action="edit.php" method="post" accept-charset="utf8"> <p> 商品名<br> <input type="text" name="name" value="<?php echo $name ?>"> </p> <p> 商品説明<br> <textarea name="comment" rows="10" cols="60"><?php echo $comment ?></textarea> </p> <p> 価格<br> <input type="text" name="price" value="<?php echo $price ?>"> </p> <p> <input type="hidden" name="code" value="<?php echo $code ?>"> <input type="submit" name="submit" value="更新"> </p> </form> </div> <div class="base"> <a href="index.php">一覧に戻る</a>　 </div> </body> </html> edit.php <?php require_once('index.php'); $link = connect(); mysql_query("set names utf8"); $error = ''; if (@$_POST['submit']) { $code = (string)filter_input(INPUT_POST, 'code'); $name = (string)filter_input(INPUT_POST, 'name'); $comment = (string)filter_input(INPUT_POST, 'comment'); $price = (string)filter_input(INPUT_POST, 'price'); if (!$name) $error .= '商品名がありません。<br>'; if (!$comment) $error .= '商品説明がありません。<br>'; if (!$price) $error .= '価格がありません。<br>'; if (preg_match('/\D/', $price)) $error .= '価格が不正です。<br>'; if (!$error) { $sql = "UPDATE goods SET name='$name',comment='$comment',price=$price WHERE code=$code"; Var_dump($name); Var_dump($comment); Var_dump($sql); $sql = prepare($sql); $result = mysql_query($sql); if($result === FALSE) { die(mysql_error()); // TODO: better error handling } exit(); } } else { $code = $_GET['code']; $sql = "SELECT * FROM `goods` WHERE code=$code";"set name utf8"; $sql = prepare($sql); $result = mysql_query($sql); if($result === FALSE) { die(mysql_error()); // TODO: better error handling } while($row = mysql_fetch_array($result)) { $name = $row['name']; $comment = $row['comment']; $price = $row['price']; }} require 't_edit.php'; ?> ご教授、宜しく御願い致します。
はじめまして。 ずいぶん昔と変わったようで 相互通信、Node.jsなどがでているようなんですが サーバーはWindows８で立てる予定です。 調べてはみたものの、昔と違いXAMPPやLAMP環境よりもいいものがたくさんあるようで 軽く作れる程度であれば問題ありません。 MicrosoftのMatrix3は、NPMギャラリーが接続できず使用できませんでした。 理想は、A氏⇄スマホ⇄PC(サーバー)⇄スマホ⇄B氏 スマホやPCのbrowserで画面を操作し、画像の移動などを行いたいと思います。 この場合理想な環境などを教えていただけたら幸いです。 サーバーもレンタル（無料など）でできるものであれば助かります。 正直node.js socket.io　などがよく分からなく、server.jsは立ち上げたものの PHPにどのように反映させたり、がよくわかりません。 長文で駄文になりましたが、ご回答お願いいたします。
エラーが出てしまいました。　on line 6と書いてあったのですが　自分には間違っている部分がわかりませんでした。改善方法を教えてください。 <html><body> <select name="place"> <?php $pla=array('北海道','青森県','秋田県','岩手県','宮城県','山形県','福島県','茨城県' ,'栃木県','群馬県','埼玉県','千葉県','東京都','神奈川県','新潟県','富山県'); foreach ($pla as $plac){ print('<option value="'.$plac.'">'.$plac.'</option>'); } ?> </select> </body> </html> 回答よろしくお願いします。
Parse error: syntax error, unexpected ''.$day.''と出たのですが　どう直せばよいのでしょうか？ <html><body> <dl> <dt>日にち</dt> <dd> <select name="day"> <?php for($day=1;$day<=date('t');$day++){ print("<option value="'.$day.'">'.$day.'日</option>"); } ?> </select> </dd></dl> </body></html> 回答よろしくお願いします。
以下のプログラムを実行したのですが、硬貨がそれぞれ何枚返ってくるのかの部分が正しく計算できていません。　改善方法を教えてください。 sample6-1.html <html><body> 自動販売機で120円のジュースを買います。<br> 1000円までのお金を入れてください。<br><br> <form action="sample6.php" method="POST"> お金を<input type="text" name="yen" size="5" value="">円入れます。<br> <input type="submit" value="購入"> </form></body></html> sample6-1.php <html><body> <?php $a=$_REQUEST['yen']; $b=($a-120); $c=($b%500); $d=($c%100); $e=($d%50); $f=($e%10); if($a==0){ print "お金を入れてください<br>\n"; }else if($a>1000){ print "1000円以内のお金を入れてください。<br>\n"; }else{ print "ありがとうございました.おつりは".$b."円です.<br><br>\n"; print "硬貨の枚数は次の通りです。<br>\n"; print "500円玉".$c."枚<br>\n"; print "100円玉".$d."枚<br>\n"; print "50円玉".$e."枚<br>\n"; print "10円玉".$f."枚<br>\n";} ?> </body></html> ↓上の質問がメインなので出来ればで大丈夫です。m(_ _)m 私はまだphpの参考書の半分くらいまでしか勉強できていないのですが 実際にphpを普段使っている方からすると　私のプログラムはどんな感じですか？ 無駄が多くて　かなり変なものかと思うのですが　実際phpを使う人がこのプログラムを作ったら どんな感じになりますか？
<html><body> <?php $a=array( 'spr'=>'春' 'sum'=>'夏' 'fal'=>'秋' 'win'=>'冬'); foreach (&a as &b => &c){ print "$bは$c<br>\n"; } ?> </body></html> エラーになってしまったのですが　どこ間違っているのでしょうか？ 回答よろしくお願いします。
なんの関数を使っているかわからないPHPのプログラムファイルに対して、なんの関数をこのプログラムは使っているのかを調べて、一覧リストとして取得したい場合、何かいい方法やツールはありますか？ 調べたい関数は、php.iniで設定が有効またはインストされてないとエラーになってしまう関数のみです。 もちろん目視で確認していくという方法もありますが、調べたいPHPファイルが膨大にあるため機械的に調べる方法が知りたいと思っています。何かいい知恵や解決策をおもちでしたらご教授ください。
nen.html↓ <html><body> <form action="year.php" method="POST"> <input type="text" name="nen"><br> <input type="submit" value="送信"><br> </form> </body></html> year.php↓ <html><body> <?php $a=$_REQUEST['nen']; if($a<0 && $a>=19) print "未成年です。<br>\n"; ?> </body></html> ｐｈｐを勉強し始めて　知識ないんですが 年齢を入力してそれをif文で判定出来るかなと思って作ってみたのですが htmlのほうで18とかを送信しても何も出ませんでした。 やはり　このような文では出来ませんか？
Wordpressで毎回ではないのですが、その記事を書いた日付・時間を表示させたいと思うのですがからっぽで表示できなくご相談させて頂きます。 テンプレートではなく、記事に日付を表示させるため以下の記述を行っています。 <?php the_time('Y年m月d日'); ?> 通常、記事のページではPHPが使えないため、Exec-PHPというプラグインを利用しています。 他のPHPは動くのですが、なぜか日付部分だけ表示できません。 記事内では、上記タグは使えないのでしょうか？ その場合、どのようにしたら記事内に投稿日時を表示することができますでしょうか？ WPやPHPにお詳しい方いらっしゃいましたら、何卒アドバイスをお願いいたします。
$html = file('http://www.ugtop.com/spill.shtml'); PHPのfile('url');についてなのですが、 たとえば、確認くんというサイトがあります。 このサイトは自身のIPを確認できるサイトです。http://www.ugtop.com/spill.shtml PHPのfileのurlを確認くんにして、もし不特定多数が見た場合、 その方のIPを含むHTMLソースが格納されるものと思ってたのですが、 自サーバーにアップして他の方に確認してもらってもところ、 私自身のIPが格納されているようです。 これは、見た人がfileで直接ページを読み込んでいるわけではなく、 こちらのサーバーを介して読み込みを行っているということでしょうか？ PHP初心者で申し訳ありませんが、教えていただけますと助かります。
a.php b.php a.phpでsession_start()関数を利用して、b.phpでsession変数を利用したい場合はb.phpファイルの先頭にsession_start()関数を指定しないといけないものなのでしょうか？ 宜しくお願いします。
プリペアードステートメントで配列と変数のバインドを同時に出来ますか？ 以下の:kensaku と$place_holdersに同時に。 $stmt = $pdo->prepare( ”SELECT * FROM slide WHERE (slide_title LIKE :kensaku OR author_name LIKE :kensaku) AND delete_flag=false UNION SELECT slide.* FROM tagmap, slide, tag WHERE tagmap.tag_id = tag.id AND (tag.tag_name IN ($place_holders)) AND slide.id = tagmap.slide_id AND slide.delete_flag=false GROUP BY slide.id ORDER BY post_date DESC");
下記コードを実行した時なぜ、「Under」になるのか理解できません。 どなたかお分かりの方がいましたら、教えていただきたいです。 よろしくお願いいたします。 【コード】 if(strcmp("54321","6789") > 0){ print "over"; }else{ print "Under"; }
PHPの環境構築を行いたいのですが、ネットで方法が大量にあります。 バージョンが古いものであったり、英語表記であったりで困っています。 現時点ではどのApacheとPHPをダウンロードすればよいのでしょう。 教えてください、よろしくお願いします。
base64_encode↔base64_decode以外で文字列をエンコードしたりデコードしたり出来る関数は他にもあるのでしょうか？
パソコンが突然動かなくなりました。メーンスイッチを長押しして切断しました。何故このようなことが起こるのですか、原因と対策をおしいてください、ぱそこんは老人で初心者です。
■元の配列 Array( 　[東京] => Array 　 ( 　　 [0] => Array 　　　　( 　　　　　 [id] => 13 　　　　) 　 ) 　[大阪] => Array 　 ( 　　 [0] => Array 　　　　( 　　　　　 [id] => 15 　　　　) 　 ) ) ■変更したい配列 Array( 　[東京] => Array 　 ( 　　 [0] => Array 　　　　( 　　　　　 [id] => 13 　　　　　 [area] => '東京' 　　　　) 　 ) 　[大阪] => Array 　 ( 　　 [0] => Array 　　　　( 　　　　　 [id] => 15 　　　　　 [area] => '大阪' 　　　　) 　 ) )
環境　PHP5.3/CakePHP2.5.6 CakePHP2でCronを実行したいため、Shellファイルを作ってコンソールからファイルを叩きましたが、以下のようなエラーが出てしまいます。 PHP Fatal error: Class 'App' not found in /home/me/my/Console/Command/AppleShell.php add_test_data 自分で作ったAppleShell.phpファイルで「AppShell」ファイルが読めていないか、読めていてもエラーが起きているようです。 解決策を教えていただければと思います。 ファイルは以下のように配置してあります。 /home/me/my/Console/Shell.php　→CakeのCoreファイルからコピーして配置 /home/me/my/Console/Command/AppShell.php　→デフォルトで配置されているファイル。 /home/me/my/Console/Command/AppleShell.php →自分で作成したShellファイル。 「AppleShell.php」ファイルの中身 App::uses('AppShell','/Console/Command');　※１ class AppleShell extends AppShell { public $name = 'Apples'; var $uses = array ('Apple'); function add_test_data(){ $data['name']='testApple'; $this->Apple->save($data); } } 「AppShell.php」ファイルの中身 App::uses('Shell', 'Console');　※２ class AppShell extends Shell { } ウェブで調べ所、※１の様に「App::uses('AppShell','/Console/Command');」という記載があったので、こちらを記載しました。 AppShellファイルの中で「App::uses('Shell', 'Console');」という記載がありましたが、Consoleディレクトリに「Shell.php」ファイルが無かったのでCakeのCoreファイルからコピーしてきて配置しました。 ファイルのパーミッションは実験用として777に設定してあります。
以前、perlでcgi を作成したことがあります。その時は クライアントの操作の影響か、シグナルが飛んできてperlスクリプトが落ちることが 稀にありました。（排他制御は教科書通りのことをしていますし、スクリプトの入り口でロック、 出口でアンロックしています。ロック、アンロックの動作試験も確かめています。 シグナルが来る理由はわかりません。） そこでperlスクリプトで全シグナルをキャッチして、きちんと終了処理を する必要がありました。 今回PHP　を使ってWebのサーバサイドのプログラムを書いていますが、同じようなことが 起きるのでしょうか？PHPでプログラムを書く場合(Webコンテンツ）、必ず シグナルハンドラの処理をしなければなりませんか？
<?php echo $field;?> この$fieldの中にはhtmlソースが入っています。 そして、echo する前に、そのhtmlソースにあるURLのうちhttp://で始まっているものをすべて、 ドキュメントルートからの絶対パスに置換したいのですが、 どのように書けばいいでしょうか？ 例） http://localhost/foo/bar.jpg → /foo/bar.jpg 以上、よろしくお願い申し上げます。
PHPで文字列置換したい 変換前 ・カンマ「,」 変換後 ・カンマ＋スペース「,　」 対象文字列例 ・1,2,3,6,8,9,4 取得したい結果 ・1, 2, 3, 6, 8, 9, 4
windows7とwindows8が入ったパソコンを一台ずつ持っているんですが７のほうが壊れてたので８のほうにVM入れてその中に７を入れたいんですが７の方はもともと７が入っていたパソコンを買ったのでディスクがありません。 お金を使わずにインストールするにはどうしたら良いですか？ パソコンはどちらもノートです。
PHP MySQLからデータを取得したいのですが、以下のエラーが出てしまい原因が分かりません。 詳しい方お願い致します。 <b>Warning</b>: json_encode() expects exactly 1 parameter, 2 given in <b>/home/users/2/***.**-********/web/****************/php/seupPharmacyData.php</b> on line <b>21</b><br /> エラーが出るコードは以下になります。 <?php include "db.php"; $sql = "SELECT * FROM user_data"; $query = mysql_query($sql, $db) or die("クエリの送信に失敗しました。<br />SQL:".$sql); $result= array(); while ($row = mysql_fetch_object($query)) { $result[] = array( 'name1' => $row->name1, 'name2' => $row->name2, 'name3' => $row->name3, 'id' => $row->id, ); } //jsonとして出力 header('Content-type:application/json; charset=UTF-8'); echo json_encode($result,JSON_UNESCAPED_UNICODE); ?>
データーベースの削除スクリプトを作成しましたが、 動作しません。 HTMLから削除する番号を入力すると、データーベースの 該当する番号のレコードを削除し、その結果を表示する スクリプトなのですが、HTMLより削除する番号を入力し、 送信ボタンを押しても何も反応しない状態です。 なんかデーターベースにも接続できていない模様です。 connection!!と表示されてませんし。。。 <HTMLファイル:kantan.html> <!--削除フォーム--> <form method="post" action"kantan_del.php"> 削除する番号を入力してください<input type="text" name="b1"><br> <input type="submit" vakue="削除番号送信"> </form> <PHP削除用スクリプト:kantan_del.php> <?php $con=mysql_connect("localhost","root","1234") or die("失敗"); print "conection!!<br>"; mysql_select_db("db1",$con); $b=$_POST_["b1"]; mysql_query("delete from tbk where bang=$=b"); print "削除完了<br>"; print "<hr>"; $re=mysql_query("select * from tbk order by bang asc"); while($kekka=mysql_fetch_array($re)){ print $kekka[0]; print " : "; print $kekka[1]; print " : "; print $kekka[2]; print "<br>"; } print "<hr>"; mysql_close($con); print "<a herf='kantan.html'>TOPページへ戻る</a>"; ?> <データーベース：db1> mysql> desc tbk; +-------+--------------+------+-----+---------+----------------+ | Field | Type | Null | Key | Default | Extra | +-------+--------------+------+-----+---------+----------------+ | bang | int(11) | NO | PRI | NULL | auto_increment | | name | varchar(100) | YES | | NULL | | | mess | varchar(100) | YES | | NULL | | +-------+--------------+------+-----+---------+----------------+ どなたかご教授下さい。
php 初心者です sendmailでメール配信文を作っています。 配信はできたのですが、発信者の「発信しました」通知メールに 配信リストを掲載して送信したいと思っています。 そこでmb_send_mailの$bodyの中にwhile文を書こうと思って下記のように書いてみたのですが 当然ながら動きません。 下記のように$body = <<<EOM　　EOM;の中にwhile文を書けるのでしょうか？ 書けるとしたらどのように書いたら宜しいのでしょうか？ またはどのようにしたらwhile文で取得する配信リストをメールの中に入れることができますか？ ご教授よろしくお願い致します。 $body = <<<EOM while ($i = mysql_fetch_array( $result)) { echo $i['name']; ;} EOM;
php初心者です。 日付が表示されるコンテンツで、 例:［2014/01/04 21:50］タイトル⚫︎⚫︎ の、［］内の時間のみ（21:50）の部分を削除したいのですが、どのようにすれば良いか教えてください。 また、コンテンツの中身が増えていった場合、その都度自動で［］内の時間のみの部分を削除出来ればなお良いなと思っています。 どうぞよろしくお願いします。
PHP初心者です。よろしくお願いいたします。 下記のサイトを参考にしながら、ブログを作成しています。 Dreamweaverでオリジナルブログシステムを構築する方法 http://webgaku.hateblo.jp/entry/20120909/1347158 … index.phpに新規投稿順に表示するところまでは完成したのですが、これをカテゴリー別に表示させるにはどうすればよいのでしょうか？ 例えばなんですが、Mysqlにcategoryというカラムを作成し、そこにある日常というデータだけをnitijou.php内に表示させたいです。 本当に初心者ですので、質問の意味が伝わるか不安ですが、よくあるブログのアーカイブページがイメージです。 ご教示を頂ければ嬉しいです。 宜しくお願いいたします。
サッカーの試合データをテーブルに格納、それをサイトの管理画面から修正する為のプログラムで詳しい方にお聞きしたいことがあります。 テーブルの更新は下記サイトを参考にしました。 http://ponk.jp/php/basic/php_mysql#page_index4 「udon_update.php」の箇所で頓挫しています。 流れとしましては試合ID(game_id)を受け取り、「members」テーブルから交代ID（change_id）があるものだけを抽出。 その交代IDを元に「change」テーブルから交代選手のIDを取得、「player」テーブルから選手名を取得してテキストフィールドに表示する。 主なテーブルは下記の通りです。 □player_table（所属選手のデータを格納） player_id｜last_name｜first_name 00818｜田中｜太郎 00815｜山田｜健太 00812｜佐藤｜真一 □membersテーブル(スタメン選手・控え選手・交代情報などを格納) game_id｜player_id｜entry｜change_id｜ 001115｜00818｜start｜0000001 001115｜00815｜start｜null 001115｜00812｜sub｜0000001 □changeテーブル（交代選手を格納） change_id｜player_in_id ｜player_out_id ｜change_time ｜change_time_at 0000001｜00818｜00812｜65｜3 下記が現在のコードです。 -------------------------------------------------------------------------- <?php //player_idを受け取りplayerテーブルから選手名を照会 function player_inquiry($player_id){ global $pdo; global $last_name; global $first_name; $st = $pdo->query("SELECT * FROM player WHERE player_id=$player_id"); while ($row = $st->fetch()) { $last_name = htmlspecialchars($row['last_name']); $first_name = htmlspecialchars($row['first_name']); } return; } //メンバーテーブル(members)から交代データ取得 $st = $pdo->prepare("SELECT * FROM members WHERE change_id NOT LIKE NULL AND game_id=$game_id"); $st->execute(array($game_id)); while ($row = $st->fetch()) { $change_id = htmlspecialchars($row['change_id']); //change_idを元に交代テーブル(change)からデータ取得 $st = $pdo->prepare("SELECT * FROM change WHERE change_id=$change_id"); $st->execute(array($change_id)); $row = $st->fetch(); $change_time = htmlspecialchars($row['change_time']); $change_time_at = htmlspecialchars($row['change_time_at']); $change_reason = htmlspecialchars($row['change_reason']); print $change_time; player_inquiry($row['player_in']); ?> <input type="text" style="width:25px;ime-mode:inactive;" maxlength="2" name="change_time">分／AT<input type="text" style="width:25px;ime-mode:inactive;" maxlength="2" name="change_time">分<br> ＯＵＴ<input type="text" style="width:120px;" name="last_name" value="<?php echo $last_name ?>"> <input type="text" style="width:120px;" name="first_name" value="<?php echo $first_name ?>"><br> <?php player_inquiry($row['player_out']); ?> ＩＮ<input type="text" style="width:120px;" name="last_name" value="<?php echo $last_name ?>"> <input type="text" style="width:120px;" name="first_name" value="<?php echo $first_name ?>"> <?php } ?> -------------------------------------------------------------------------- このコードで実行しても何も取得されません。どのように変更すればデータが取得できるようになるでしょうか？ ご存知の方いらっしゃいましたらご教示ください。 よろしくお願いします。
PHPでファイルアップローダーを作成しましたが、サイズの大きなファイルがアップロードできなくて困っています。 具体的には、900MBのファイルアップロードはできますが、1.4GBになるとアップロードできていません。 設定値は下記のようにし、十分にとっているつもりです。なお、HTMLで表示した実際に使われている設定値です。 <?php echo 'memory_limit = ' . ini_get('memory_limit') . "<br />"; echo 'post_max_size = ' . ini_get('post_max_size') . "<br />"; echo 'upload_max_filesize = ' . ini_get('upload_max_filesize') . "<br />"; echo 'max_execution_time = ' . ini_get('max_execution_time') . "<br />"; echo 'max_input_time = ' . ini_get('max_input_time') . "<br />"; ?> ↓ memory_limit = 5120M post_max_size = 5120M upload_max_filesize = 5120M max_execution_time = 300 max_input_time = 300 $_FILEを確認すると、下記のようにファイル名以外空となっています。エラーコードが0で正常アップロードの判定になっているので、原因が分からず困っています。 array(1) { ["upfile"]=> array(5) { ["name"]=> array(5) { [0]=> string(24) "testfile.ISO" [1]=> string(0) "" [2]=> string(0) "" [3]=> string(0) "" [4]=> string(0) "" } ["type"]=> array(5) { [0]=> string(0) "" [1]=> string(0) "" [2]=> string(0) "" [3]=> string(0) "" [4]=> string(0) "" } ["tmp_name"]=> array(5) { [0]=> string(0) "" [1]=> string(0) "" [2]=> string(0) "" [3]=> string(0) "" [4]=> string(0) "" } ["error"]=> array(5) { [0]=> int(2) [1]=> int(4) [2]=> int(4) [3]=> int(4) [4]=> int(4) } ["size"]=> array(5) { [0]=> int(0) [1]=> int(0) [2]=> int(0) [3]=> int(0) [4]=> int(0) } } } アドバイスいただければ幸いです。
FuelPHPをXREAのレンタルサーバーで動かしたいのですが http://d.hatena.ne.jp/suno88/20131006/1381040481 … このサイトの手順通りにやったのですが、下のようなエラーが出ました。 Script Error The script did not produce proper HTTP headers. Please see the error log to see the detail of the errors. Depending on the server configuration, you can also run thisscript under CGIWrap debugging. Usually, either rename or linkthe script temporarily to a file which ends with .phpdextension, or add a AddType application/x-httpd-phpcgi-debug .phpline to your .htaccess file. どうすれば良いの全くかわかりません。お願いします。 PHP5.4.7 FuelPHP1.7.2
POST元のページから <input type="checkbox" name="hoge[23]" value="1"> <input type="checkbox" name="hoge[31]" value="0"> <input type="checkbox" name="hoge[33]" value="1"> ・・・ のような形でデータが渡されます。 要素一つに付き、ONなのか、OFFなのか、表示されていないのかの判別が必要なため、このような形になっています。 受けるPHP側で、hogeの配列番号と一致したものがあればそれに対する処理を行う必要があります。 $buff=array(20,30,31); となっているとして、 $_POST["hoge"]の配列の値と$buff内の数字が一致したら～ （上記例だと31が一致） の書き方はどう書けばいいでしょうか。 よろしくお願いします。
テキストファイルの中身をまとめて削除したいのですが 例えばa01.txtからz01.txtまである場合 fopen'w'でまとめて削除する場合、どう記述するのでしょうか? ご教示お願い致します。
下記サイトを参考にサイト上からデータベース(MySQL)のテーブルにレコードを追加できるようにしました。 http://ponk.jp/php/basic/php_mysql#page_index3 レコードの追加自体はできたのですが、テキストフィールドに何も記述されていない場合にNULLとして追加したいと思っているのですが、その方法が分かりません。 コードは次のようにしました。 $number= isset($_POST["number"]) ? $_POST["number"] : 'NULL'; $st = $pdo->prepare("INSERT INTO player(number) VALUES(?)"); $st->execute(array($number)); このコードで追加をすると、NULLではなく空白が格納されてしまいます。 どこを修正すればNULLとして格納できるようになるでしょうか？ ご存知の方いらっしゃいましたらご教示ください。 よろしくお願いします。
$char=1; $char1=2; $char2=3; のように定義していくと $char1=3 と間違って代入した場合、2であるはずの中身が3になってしまいます。 このような重複による代入を防ぐにはどのような方法がありますでしょうか。 宜しくお願いします。
array(1) { [0]=> array(3) { ["xxx"]=> string(5) "xxxxx" ["xxxxx"]=> string(3) "xxx" ["xxx"]=> string(4) "xxxx" } } 上記の配列の [0]=>の部分を消去したいのですが、どのようにすればよろしいでしょうか？ 宜しくお願いします。
現在、Zendframeworkで開発していこうと考えていたんですが、以下のエラーがでて先に進めません。本来は「http://localhost」とアクセスすると画面が表示されるはずなのですがダメです。 環境[OS X]　サーバー[Xampp for mac] Warning: require_once(Zend/Controller/Front.php): failed to open stream: No such file or directory in /Applications/XAMPP/xamppfiles/htdocs/index.php on line 2 Fatal error: require_once(): Failed opening required 'Zend/Controller/Front.php' (include_path='.:/php/includes:/Applications/XAMPP/ZendFramework/library/Zend') in /Applications/XAMPP/xamppfiles/htdocs/index.php on line 2
C#で以下のロジックがあるのですが、 using System.Text; using System.Security.Cryptography; private static string getHash(string data, string salt, int stretchingcount, Encoding encode) {     int m = salt.Length / 2;     string tmp = salt.Substring(0, m) + data + salt.Substring(m);     byte[] buf = encode.GetBytes(tmp);     SHA256CryptoServiceProvider algorithm = new SHA256CryptoServiceProvider();     for (int i = 0; i < stretchingcount; ++i)     {         buf = algorithm.ComputeHash(buf);     }     return BitConverter.ToString(buf).Replace("-", string.Empty); } こちらのソースをPHPで同じ結果になるように実装したいのですが、 同じ結果にならず、困っています。 PHP側のソースは以下の通りです。 public static function funcPrivacyCheck($data,$salt,$stretchingcount){ $m = strlen($salt) / 2; $tmp = substr($salt,0,$m).$id.substr($salt,$m); $tmp = base64_encode(utf8_encode($tmp)); $hash = ''; for ($i = 0; $i < $stretchingcount; $i++) { if($hash <> ''){ $hash = hash_hmac('sha256' ,$hash, false); }else{ $hash = hash_hmac('sha256' ,$tmp, false); } } return $hash; } エンコードは、UTF-8を指定することが前提です。 ご教授頂きますようよろしくお願いいたします。
phpのgoutteを使用して、下記ソースを記述しました。 スクレイピング対象のHTTPアドレスの記述に間違いはありません。 ※アドレスはダミーです。 ただ、elementオブジェクトから、 nodeValueの値を引っ張れないのです。 ■phpソース <?php require_once 'goutte.phar'; use Goutte\Client; $crawler = $client->request('GET', 'http://www.test.xml'); $crawler->filter('item')->each(function($element) { echo $element->nodeValue; }); ?> ■スクレイピング先ソース <rss version="2.0"> <channel> <item> <title>タイトル1</title> <category>本1</category> <link>http://www.test.co.jp/book/book1/</link> <description>本1について詳細を説明します。</description> <pubDate>2015-01-09</pubDate> </item> <item> ：以降繰り返し ： </iem> </channel> </rss> ■エラー内容 PHP Notice: Undefined property: Symfony\\Component\\DomCrawler\\Crawler::$nodeValue in /php配置ディレクトリ/Test.php ■$erementのvar_dump出力結果 object(Symfony\Component\DomCrawler\Crawler)#908 (4) { ["storage":"SplObjectStorage":private]=> array(1) { ["000000005a6bd4e800000000d42c592e"]=> array(2) { ["obj"]=> object(DOMElement)#19 (18) { ["tagName"]=> string(4) "item" ["schemaTypeInfo"]=> NULL ["nodeName"]=> string(4) "item" ["nodeValue"]=> string(286) " タイトル1 本1 http://www.test.co.jp/book/book1/ 本1について詳細を説明します。 2015-01-09 " } ["inf"]=> NULL } } nodeValueで値を拾えない原因がわからないのです。 var_dumpで確認したところ、nodeValueに値が存在しているように見えていることは確認できています。(Stringの数値286はダミーです) requireが足りないのでしょうか。 それともアクセスの方法が間違っているのでしょうか。 ご教示よろしくお願いいたします。
PHPで 文字列が、 SETING TIME: 00:00:32.421 と有った場合、 00:00:32.421 部分だけを取り出したい場合はどのようにすれば良いのでしょうか？ よろしくおねがいします。
開設しているサイトで「レッツPHP」の－昨日今日カウンタ－を使用しています。 http://php.s3.to/counter/ PHPのバージョンを5.2から5.4に変更したらカウンターが表示されなくなりました。空白の状態です。 バージョンアップすると使えなくなる機能があるというのは聞いたことがあるのですが、どれの事かよく分からず。 これはどこを修正すれば正常に表示されるようになるでしょうか？ ご存知の方いらっしゃいましたらご教示ください。 よろしくお願いします。
すいません。phpを勉強中なのですが、以下は可能でしょうか。 ある変数$aaaがあったとします。 $aaaはWhile文の中にあるのですが、数字がランダムでどんどん入ってきます。 （上書きされていきます） それで$aaaに一度でも格納された数字を全て配列に入れたいのですが、どう構文を作ったらよいでしょうか。（while文の外で一度でも入った数字を全て表示したい） 例 3.5.2.18.22.9.・・・ 同じ数字は入りません。 何桁まで続くのか分かりません。 詳しい方いましたらよろしくお願いします。
PEAR1.9.5を利用しています。安価なレンタルサーバでシェルなどは使えないので、 go-pear.phpを使っております。 文字列の差分を表示したいのでxdiffをPEARでインストールしようと思ったのですが、 以下のエラーで失敗してしまいます。 ERROR: failed to mkdir /usr/share/tests/pecl/xdiff/tests このパスを/home/user/public_html/以下などに設定することはできますでしょうか？ 現状はPEAR自体は/home/user/public_html/PEARにおいており、その他のインストール済みモジュールでは可動をしております。 良い方法をご存じの方がいらっしゃいましたらアドバイスをお願い致します。
今はサーバーでPHP5.2を使用しているのですが、PHP5.4にバージョンアップしようと考えています。 しかし、いざサーバーの管理画面からPHP5.4にすると、サイトでページにアクセスする度に「次のファイルを開こうとしています」とダイアログが表示され閲覧できなくなってしまいました。 .htaccessを使用しhtmlファイルでphpを動かせるようにしています。これが関係している可能性があるとの書き込みを見ました。 現在、.htaccessには下記のように記述してあります。 「AddHandler php5.2-script .html .php AddType application/x-httpd-php .htm .html AddType application/x-httpd-cgi .htm .html AddType text/x-server-parsed-html .htm .html」 一番上のコードを下記のように変更してみましたが、結果は同じでした。 「AddHandler php5.4-script .html .php」 これはどのようにすれば「次のファイルを開こうとしています」のダイアログが表示されずPHP5.4が使用できるようになるでしょか？ ご存知の方いらっしゃいましたらご教示ください。 よろしくお願いします。
PHPでtextareaの値を処理ページにpost時にJavaScriptのコードをいれると 403エラーがでてしまいます、 文字列だと問題ないのですが ソースコードのようなものだとPOSTができません。 動画サイトから生成されたのiframeのソースをtextareaから次ページへ送り DBに登録させたいのですが。。。 何か策はありますか？
教えてください。 BBB.phpでこのように書いていたとします。 <?php session_cache_limiter('private, must-revalidate'); session_start(); ～いろいろ処理～ unset($_SESSION['pcode']); ～いろいろ処理～ ?> <?php include(dirname(__FILE__).'/../include/header.php'); ?> </body></html> header.phpでは $_SESSION['pcode']を表示しているのですが、 前のページ（たとえばAAA.php）で$_SESSION['pcode']に値を入れていた場合 BBB.phpを表示すると その値が表示されてしまいます。 直前に unset($_SESSION['pcode']); をしているのに その前の値が表示されます。 includeはどのタイミングでなされるのでしょうか？ また、 unset($_SESSION['pcode']); を有効にするにはどうすればいいのでしょうか？ よろしくお願いします。
PHPで処理中にメモリ不足になった場合、下記のようなエラーが起こるかと思います。 「Fatal error: Allowed memory size of xxxxx bytes exhausted (tried to allocate 16 bytes) in …」 ここで質問させて頂きたいのですが、 予めメモリ不足が起きる可能性がある処理を、tryなどで囲んでおき、実際にメモリ不足が起きた際は、その処理を飛ばし、それ以降の処理を実行させるといったことは可能でしょうか。 それとも、やはりメモリ不足でエラーが起きているので、その後の処理を実行させるといったことは出来ないのでしょうか。 もし何か方法などございましたら、ご教授頂けると助かります。 また、質問に不備な点などありましたら、ご指摘お願いします。 よろしくお願いします。
tmhOAuthとTwitterAPIを使ってサーバーに保存してある画像をtwitterに投稿したいと考えています。 tmhOAuthを使ってつぶやき（文字列）の投稿は成功しています。 画像の投稿になるとうまく行きません。ウェブ上で情報を探せるだけ探して数日間トライしてみましたが、どれも成功には至りませんでした。 「開発環境」 PHP：5.5 Cakephp：2.5 function test(){ $twConf = array( 'consumer_key' => 'xxxxxxxxxxxxxxxxxxxxxxx', 'consumer_secret' => 'xxxxxxxxxxxxxxxxxxxxxxx', 'user_token' => 'xxxxxxxxxxxxxxxxxxxxxxx', 'user_secret' => 'xxxxxxxxxxxxxxxxxxxxxxx', 'curl_ssl_verifypeer' => false, ); $tmhOAuth = new tmhOAuth($twConf); $image ='http://www.example.com/img/test.jpg'; $message='hoge hoge'; $params = array( 'media[]' => "@{$image}", 'status' => "{$message}" ); $code = $tmhOAuth->request('POST', $endpoint, $params, true, true); if ($tmhOAuth->response["code"] == 200){ var_dump($tmhOAuth->response["response"]); } else { var_dump($tmhOAuth->response["error"]); } } このソースを実行するとエラーレスポンスが返らずに$codeの中身は403となります。 （何かのエラーが返ってきているようです） 上記のやり方以外にも ---------------------------------------------------------------- $file = 'http://www.example.com/img/test.jpg'; $image = file_get_contents( $file ); $imagesize = getimagesize( $file ); $content_base64 = base64_encode($image); $api_url = 'https://api.twitter.com/1.1/statuses/update_with … $params = array( 'status' => $message, 'media[]' => $content_base64 . ";type=" . $imagesize['mime'] . ";filename=" . basename( $file ), ); ---------------------------------------------------------------- という方法を行ってみましたが、エラーが「０」という形で返ってきてしまいます。 twitter developersのwebsite・Callback URLは自分のドメイン名を設定しています。アクセスレベルは「Read and write」です。 文字の投稿はできているので、$params　周辺の記載に問題があると考えています。 TwitterAPI関係に詳しい方がおられましたら、よい方法を教えていただければと思います。 宜しくお願い致します。
phpにてメールフォームを使用してます、 最近スパムメールが増えて来たので対処方法を考えました。 お問い合わせの電話番号が現在半角のみ対応してますが、 これを全角の数字のみ通る様にしたいと思います。 現在使用しているのは下記の通りです、 if (!$phone){error("電話番号を入力して下さい");} if ($phone){ if (!preg_match("/^\d{2,5}-?\d{1,4}-?\d{3,4}$/",$phone)) {error("電話番号の入力が不正です"); } } この何処を修正すれば良いのでしょうか？ 自分なりに調べましたがお手上げでGive Up状態です。 ご存知の方が居られましたらお知恵をご教授頂ければ助かります。
こちらに質問すればいいのかわかりませんがお教えください。 サーバーAでCronでデータを毎日数回バックアップしています。 このデータをサーバーBに転送したいのですがどんな方法があるでしょうか？ サーバーA（転送元）： マネージドサーバー、root権限なし、SSH使えない サーバーB（転送先）： 安めのレンタルサーバー、root権限なし、SSH使える 転送は1回当たり500MB以内です。 今はFTPで毎日自分のPCにバックアップファイルを転送しているのでこれをサーバーBにCronで転送したいと思っています。 サーバーAはSSHが使えませんがCronでshスクリプトを書けばサーバーBに転送できるのでしょうか？PHPでも大丈夫です（ファイルが大きくて転送制限が出たりセキュリティ的にどうかはわかりませんが・・・）。 どうぞよろしくお願い致します。
プログラムを勉強し始めた初心者です。 よろしくお願いします。 私の会社のメールアドレスは下記のようなものとなっていて、発信者名にカンマが含まれています。 Abe, Shinzo <A**@japan.jp> これは、会社が決めているものなので、変えることはできません。 私が発信するメールをPHPでプログラムを組んで、代わりに発信させたいと考えていますが、カンマの処理をどのようにしていいのかが分かりません。 mail("Ishi**@japan.jp", "日本を取り戻す", "この道しかない", "From: Abe, Shinzo <A**@japan.jp>") 上記のようにしてしまうと、「Abe」さんと「Shinzo <A**@japan.jp>」が別人と認識されてしまいます。 このような場合はどのように処理していいのかをご教授ください。 よろしくお願いします。
以下のページを参考に、AWS上にMindTouch の環境を構築しようとしています。 http://nagamoo.blogspot.jp/2012/12/awsamzonlinux … 参考ページだと、CLIで一通り設定した後、ブラウザでアクセスして引き続き設定をするようなのですが、ブラウザでアクセスすると、index.phpのファイルの中身が表示されてしまいます。 調べてみたところ、以下のサイトを見つけ、AddType2行をhttpd.confに追加してhttpdサービスの再起動を行いましたが、ファイルの中身が表示されてしまいます。 http://www.ksknet.net/apache/php_1.html AddType application/x-httpd-php .php AddType application/x-httpd-php-source .phps その他設定が抜けているのでしょうか。 もしお分かりになる方がいらっしゃいましたらご教授いただけますでしょうか。 ＝＝＝以下、設定関連＝＝＝ 設定ファイルのServerName部分は、投稿用に別の文字列に置き換えています。 また、文字数の関係で一部省略しています。 ■/etc/httpd/conf/httpd.conf ===ここから=== ～略～ Include conf.d/*.conf User apache Group apache ServerAdmin root@localhost ServerName サーバ名:80 UseCanonicalName Off DocumentRoot "/var/www/html" <Directory /> Options FollowSymLinks AllowOverride None </Directory> <Directory "/var/www/html"> Options Indexes FollowSymLinks AllowOverride None Order allow,deny Allow from all </Directory> <IfModule mod_userdir.c> UserDir disabled </IfModule> DirectoryIndex index.html index.html.var index.php AccessFileName .htaccess <Files ~ "^\.ht"> Order allow,deny Deny from all Satisfy All </Files> ～略～ ===ここまで=== ■/etc/httpd/conf.d/deki-apache.conf ※設定ファイル内の"php_flag short_open_tag on"があると、以下エラーになるため、コメントアウトし、php.iniに"php_flag short_open_tag on"を加えています。 ＝＝＝ エラーメッセージ Starting httpd: Syntax error on line 46 of /etc/httpd/conf.d/deki-apache.conf: Invalid command 'php_flag', perhaps misspelled or defined by a module not included in the server configuration ＝＝＝ ===ここから=== <VirtualHost *> ServerName dekiwiki.mokemoke.asia ErrorLog /var/log/httpd/error-dekiwiki.log CustomLog /var/log/httpd/access-dekiwiki.log common DocumentRoot "/var/www/dekiwiki" ～略～ # FIXME: # Some php flags we need. These are only needed until all # the short php open tags are changed to long in the source code. #php_flag short_open_tag on # Setting php memory parameters # php_value memory_limit "128M" # php_value post_max_size "64M" # php_value upload_max_filesize "64M" ～略～ <Proxy *> AddDefaultCharset off Order deny,allow Deny from all Allow from all </Proxy> </VirtualHost> <Directory "/var/www/dekiwiki"> Options None AllowOverride All Order allow,deny Allow from all </Directory> ===ここまで=== インストール済みのパッケージ ■php # rpm -qa | grep php php55-xml-5.5.19-2.93.amzn1.x86_64 php-pear-1.9.5-2.17.amzn1.noarch php55-gd-5.5.19-2.93.amzn1.x86_64 php55-cli-5.5.19-2.93.amzn1.x86_64 php55-pecl-jsonc-1.3.6-1.12.amzn1.x86_64 php55-mysqlnd-5.5.19-2.93.amzn1.x86_64 php55-common-5.5.19-2.93.amzn1.x86_64 php55-pdo-5.5.19-2.93.amzn1.x86_64 php55-mcrypt-5.5.19-2.93.amzn1.x86_64 php55-process-5.5.19-2.93.amzn1.x86_64 php55-mbstring-5.5.19-2.93.amzn1.x86_64 ■apache # rpm -qa | grep http httpd-tools-2.2.29-1.4.amzn1.x86_64 httpd-2.2.29-1.4.amzn1.x86_64
phpを使いホームページを作成しています。 PHPには、ホームページ用のパーツに使えるセットのようなものはないでしょうか Wordpress のプラグインのようなものは便利で、PHPにもないでしょうか javascriptの　jqueryのようなものがあればなあと思っています。
HTMLのpost送信について 送り側で入力した文字がphpのプログラムへ送られ、 ブラウザが開いて送られた文字列が表示されるはず なのですが、HTMLファイルの送信ボタンを押しても 無反応です。どこがまちがっているいのでしょうか？ 送り側プログラム ファイル名：okuri1.html <html> <head> <hitle>送り側プログラム</title><br> </head> <body> <from method="post" action="uke1.php"> <input type="text" name="a"size="20"> <br> <input type="submit" value="送信" size="20"> </form> </body> </html> 受け側プログラム ファイル名：uke1.php <?php print POST["a"]; ?>
PHP5.5(Windows 32bit)　with PDO(PostgreSQL)　+ ＰｏｓｔｇｒｅＳＱＬ 9.3(64bit) + Windows 7 です。 id(integer PK), text1(text), text2(text) の列を持つテーブル test に対して 　INSERT INTO test (id, text1, text2) VALUES (41, '\', '<?xml version="1.0"?>') を pgp admin で実行すると正常に行がインサートされます。ところが ＰＤＯ の prepare にこの SQL を単純に渡して実行すると text2 に <$1xml version="1.0"$2> というおかしな文字列がセットされてしまいます。 どうも 直前の列データが '\' というように、末尾が \ になっている文字列を渡す時だけ 次の列データ　'<?xml version="1.0"?>'　の中の ? がプレースホルダーとして処理されるっぽいのです。 どう考えてもPDOのバグのような気がするのですが、お心当たりのバグや回避方法などありましたら よろしくお願い致します。
xamppをインストールしてPHPの学習をしております。 そこで、 PHPについて以下2つの質問があります。 質問1 関数の引数について <?php phpinfo(); ?> は、phpの情報を表示するスクリプトですが、関数の()の中に 引数を書くときは、引数を""で囲む場合と囲まない場合はあるのでしょうか？ 質問2 エラーについて ファイル名:client.php <?php print "あなたのIP:"; print getenv("REMOT_ADDR"); print "<BR>" print "あなたのホスト名"; print gethostbyaddr(getenv("REMOTE_ADDR")); ?> 上記スクリプトを作成して、http://localhost/client.phpとブラウザ で実行したところ、 Parse error: syntax error, unexpected T_PRINT in C:\xampp\htdocs\client.php on line 5 というメッセージが表示され、5行目【print "あなたのホスト名";】を何回も見ていますが、 何も間違っていない気がします。何が間違っているのでしょうか？ どなたかご教授下さい。
PHP初心者です。 CakePHPをインストールし試しにTestControlerを作成したのですが、ページが開きません。 PageNotFoundになります。 考えられる原因が分かれば教えて下さい。 【やったこと】 ・ [CakePHP root]\app\Controller に TestController.php を作成。 <?php App::uses('AppController', 'Controller'); class TestController extends AppController { } ・ URLにアクセス http://[CakePHP root]/Test ⇒ Not Found http://[CakePHP root]/test ⇒ Not Found http://[CakePHP root]/app/webroot/index.php?url=test ⇒ CakePHPのindex.phpが表示される。 http://[CakePHP root]/app/webroot/index.php?url=Test ⇒CakePHPのindex.phpが表示される。 以下のサイトを参考にしました。mod_rewriteが動いていない可能性がある ということなので、URL直接指定もしてみましたがダメでした。 http://codezine.jp/article/detail/768?p=2 よろしくお願いします。
以下のような異なるドメイン（物理サーバも異なる）があるときに、二つのドメイン間でアカウント情報（ユーザ名やパスワードなど）やログイン/ログアウト状態を共有したのですが、どのような方法がありますでしょうか。 サイトA:www.aaa.com サイトB：www.bbb.com session→ドメインが違うと利用できない？ GET/POST→サイトA、B間は特定のリンク/ボタンからではなく、自由に往来できるので、ダメ。 それぞれのサイトはPHPで作成されいますので、PHPで実現可能なないようだとうれしいのですが、まずは実現できるキーワードだけでもかまいませんので、教えて頂けると幸いです。 よろしくお願いいたします。
MVCモデルのVで送られるデータは、生のデータを加工、例えば "2000" → "2,000円"　 "NULL" → "終了しました" "1" → "NEW!" 等 ある程度モデル等で置換、加工をした上でデータを送った方いいでしょうか？ それとも生データで送ってV上で置換、加工したほうがいいでしょうか？ 加工データで送るメリット 　Vが複数ある場合（モバイル版、PC版等）加工が1回ですむ、変更が一度にできる 生データで送るメリット 　"NULL" → "<img src='/unknown.gif'>"等　汎用性がきく もしくは加工済み　生、両方Vに送るのであれば、 やはりC(コントローラ)かM（モデル）で処理はすましておいたほうがいいですよね。
サーバ、プログラム初心者です。 phpの勉強をしようと以下の環境を準備しました。 環境 windows8.1(64bit) PleiadesAllInOne (Eclipse4.3) Pleiadesをインストールし、XAMPPでapacheを起動しました。 phpのプロジェクトを作成し、簡単なサンプルプログラムを用意して、 ブラウザからアクセス(localhost/test/sample.php)してみたのですが、以下のようなメッセージが表示されてしまいます。 Object not found! 要求された URL は本サーバでは見つかりませんでした。 もし手入力で URL を入力した場合は、綴りを確認して再度お試し下さい。 サーバーの障害と思われる場合は、ウェブ管理者までご連絡ください。 Error 404 localhost Apache/2.4.3 (Win32) OpenSSL/1.0.1c PHP/5.4.7 webで調べたのですが、ローカルでphpをテストする分には、特に設定も必要ないみたいなので、問題がわかりません。 どなたか教えていただけないでしょうか？
次のような使い方をして、imagecolorallocate関数でエラー（FALSE）が発生します。 $img_new = imagecreatefromgif('xxx.gif'); i$red=imagecolorallocate($img_new, 255, 0, 0 ); 　　　　　　　　↑ 　　　　　　ここでエラー gifファイルの種類でエラーにならないものなるものがある状態です。 エラーになるものは、色数が256色使っているもので、エラーにならないものは255色以下を利用しているファイルのようなのですが、この場合の対処方法はあるでしょうか？ 説明がうまくいかず申し訳ありませんが、どなたか助けてください。 よろしくお願いします。
PHPを学習しており、MySQLでデータベースにPDOで接続をしています。 添付画像のようなチームのデータを管理するテーブル(teamテーブル)と メンバーのデータを管理するテーブル(memberテーブル)があり、 teamテーブルのkeywordカラムを検索条件にし、 keywordカラムの値が『keyword1』と一致するteamテーブルのレコードの teamcodeカラムの値と一致する値を持つ memberテーブルのレコード数をカウントして teamテーブルから『teamcode』、『teamname』、『teamkana』、『date』を取得し、memberテーブルでの『teamcode』の該当数を取得したいです。 OUTER JOINして、NULLIFやCOALESCEなどを使用して試してみたのですが、 構文の使い方が悪いのか、そもそも使うべきSQL文が違うのかわかりませんが、 添付画像の『teamcode』の値が『0004』のもののように memberテーブルに該当する値が存在しないものは NULLになってしまい、取得ができませんでした。 できればmemberテーブルに該当する値が存在しない場合は「0」として取得したいです。 このような場合、どのようなSQL文を記述したら良いのでしょうか？ 少しややこしい内容ですので、説明が不足していたり、 説明が分かりづらいようであれば補足します。 ご回答、よろしくお願いします。
PHPのcurlやsnoopyといったライブラリを使用して、外部サイトと自動で連携できるようなツールをつくりたいと思っています。 自動でログインさせるところまではできたのですが、ログイン後遷移したページの結果文字列（html）がテンプレートファイルのまま返ってきてしまっており、内容が取得できません。 結果の文字列は <script type="text/x-handlebars-template"> ～ </script> で囲まれており、中身は <div class="header"> <div class="header_aa"> {{#user}}{{> profile}}{{/user}} </div> などとなっており、テンプレートファイルの記述のままで、変数が展開されていない状態です。 欲しいのはこれが展開（解釈）された後の結果文字列です。 名前からしてhandlebars.jsのテンプレートファイルを使用しているのは分かるのですが、なぜこれは展開されないのでしょうか？ PHPプレーンのcurlでアクセスしても、snoopyを使用してアクセスしても結果は同じです。 オプションでもこれを解決するようなものが見当たらず、行き詰まっております。 どうすれば展開後の結果が取得できるのか、ヒントがあれば教えて下さい。 なにとぞよろしくお願い致します。
ホームページを作っています。 レコードを検索したりカテゴリ別に絞り込んだりすることもできるようにしています。 レコードを閲覧しやすくするために、「前へ[0][1][2]次へ」のようなものをつけようとおもっています。 ところが、それをするためにはレコードの全ての数を取得しなければいけません。 全てのレコードを取得してそれからPHPの関数で件数を取得する方法もありますが、処理としてはスマートじゃないと思い、COUNT関数を使うべきなのかなと思いました。 なので、それで組んでみたんですけれど、カテゴリ別で絞り込むときに値が1にしかならないのです。 以下がソースです。 ※#musicNumに件数が入ります。　$textFilterの例「あつい」　$tags_forWhereの例「pop,dance」 $musicNum = mysql_query("SELECT COUNT(*) as cnt FROM contents_tags bt, mymusic b, tags t WHERE (b.number LIKE '%{$textFilter}%' OR b.title LIKE '%{$textFilter}%' OR b.text LIKE '%{$textFilter}%' ) AND bt.TAG_ID = t.ID AND (t.TAG IN ($tags_forWhere)) AND b.number = bt.CONTENT_ID GROUP BY b.number ORDER BY number DESC"); $musicNum = mysql_fetch_assoc($musicNum); $musicNum = $musicNum['cnt']; タグ機能はToxi法を使っています。 どこがおかしいのかご教授願いします。
表示画面だけ開くと 名前　[text] 番号　[text] [クリアボタン] という感じでtextの文字記入欄と戻るボタンだけがあります。 登録画面では 番号　[text]　[検索ボタン] 名前　[入力不可フィールド] 住所　[入力不可フィールド] [送信] このように[text]に番号を記入して検索を押すと、その番号にあったものが入力不可のフィールドに表示されるようになり、送信ボタンを押すと、登録画面のtextに内容が反映されて表示できるようになります(これは入力可能) 番号　[111]　[検索ボタン] 名前　[ヤマダ] 住所　[北海道] [送信] ↓ 名前　[ヤマダ] 番号　[北海道] [クリアボタン] 番号の所に111と記入→検索ボタンを押す→下の名前と番号のところに表示される →送信ボタンを押す→表示画面のtextに送信した結果が反映されるというものを作りました ここからが問題なのですが、 登録画面から表示画面を表示したときにtextを変更してクリアボタンを押しても元の呼んできた内容が表示され、直接表示画面を開いてクリアボタンを押したときはtextに何も表示されていない状態にしたいのですがやり方が分かりません。 よろしくお願いします。
現在、複数のrssをyahoopipesを使って合体させて出力しています。 自サイトにそのrssをHTML形式で表示はできているのですが、feedを参照すると、yahoopipesのアドレスになります。 そこで、このyahoopipesのアドレスを、自サイトが出力したかのようにしたいです。 http://pipes.yahoo.com/pipes/pipe.run?_id=****** … を http://www.*****.com/feed.rdfやxml等 にしたいです。 なにかcgi・php等のプログラムを介して、自サイトにfeedファイルを出力できるものはないでしょうか。
phpでの質問です、初歩的で申し訳ないです。。 例えば。。 $startDay = "2014/10/8"; $endDay = "2014/11/26"; と開始日と終了日までの日にちを配列で取得したいと考えています。 自分的に調べてやってみたのが以下のソースになります。 $startDay = "2014/10/8"; $endDay = "2014/11/26"; //$endDay = date( "Y/m/d" , strtotime( $endDay ) ); // +1Day // 開始日から終了日までを配列で取得 list( $sYear , $sMonth , $sDay ) = explode( "/" , $startDay ); list( $eYear , $eMonth , $eDay ) = explode( "/" , $endDay ); $sUnix = mktime( 0 , 0 , 0 , $sMonth , $sDay , $sYear ); $eUnix = mktime( 0 , 0 , 0 , $eMonth , $eDay , $eYear ); $oneDay = 86400; for( $i = $sUnix; $i <= $eUnix; $i += $oneDay ){ $keyDate[] = date("Y/m/j",$i); } var_dump($keyDate); これでほぼほぼ取得できているんですが、 array(50) { [0]=> string(9) "2014/10/8" [1]=> string(9) "2014/10/9" [2]=> string(10) "2014/10/10" [3]=> string(10) "2014/10/11" [4]=> string(10) "2014/10/12" [5]=> string(10) "2014/10/13" [6]=> string(10) "2014/10/14" [7]=> string(10) "2014/10/15" [8]=> string(10) "2014/10/16" [9]=> string(10) "2014/10/17" [10]=> string(10) "2014/10/18" [11]=> string(10) "2014/10/19" [12]=> string(10) "2014/10/20" [13]=> string(10) "2014/10/21" [14]=> string(10) "2014/10/22" [15]=> string(10) "2014/10/23" [16]=> string(10) "2014/10/24" [17]=> string(10) "2014/10/25" [18]=> string(10) "2014/10/26" [19]=> string(10) "2014/10/26" [20]=> string(10) "2014/10/27" [21]=> string(10) "2014/10/28" [22]=> string(10) "2014/10/29" [23]=> string(10) "2014/10/30" [24]=> string(10) "2014/10/31" [25]=> string(9) "2014/11/1" [26]=> string(9) "2014/11/2" [27]=> string(9) "2014/11/3" [28]=> string(9) "2014/11/4" [29]=> string(9) "2014/11/5" [30]=> string(9) "2014/11/6" [31]=> string(9) "2014/11/7" [32]=> string(9) "2014/11/8" [33]=> string(9) "2014/11/9" [34]=> string(10) "2014/11/10" [35]=> string(10) "2014/11/11" [36]=> string(10) "2014/11/12" [37]=> string(10) "2014/11/13" [38]=> string(10) "2014/11/14" [39]=> string(10) "2014/11/15" [40]=> string(10) "2014/11/16" [41]=> string(10) "2014/11/17" [42]=> string(10) "2014/11/18" [43]=> string(10) "2014/11/19" [44]=> string(10) "2014/11/20" [45]=> string(10) "2014/11/21" [46]=> string(10) "2014/11/22" [47]=> string(10) "2014/11/23" [48]=> string(10) "2014/11/24" [49]=> string(10) "2014/11/25" } なぜか、2014/10/26が二つ出現してしまいます。 ソースを良く見ても原因が分からないのと、他の方法があればご教授いただきたいです。 よろしくお願いいたします。
phpのgoutteを使用して、 下記htmlのスクレイピング結果をDBに格納したいと考えています。 li部分が繰り返し部分後なっております。 ■htmlのスクレイピング部分 <ul id="test"> 　<li class="clearfix"> 　　<div class="thumbox"> 　　　<a href="http://xxxx.co.jp" target="_blank""> 　　　　<img src="http://xxx.co.jp/01.jpg" alt="01" class="thumb"> 　　　</a> 　　</div> 　　<h4> 　　　みだし 　　</h4> 　　<p> 　　　文章 　　</p> 　</li> 　<li> 　　上記liと同じで、繰り返し。(画像ファイル、文章等は異なります。) 　</li> </ul> phpソースは、下記部分になります。 ■スクレイピングphpソース $crawler->filter('ul#test a')->each(function($element) { var_dump($element->attr('href')); }); 現状のphpソースでは、filter('ul#test a')のため、 aタグのhrefの内容しか抜き取れていません。 やりたいこととしては、 　1．aタグのhref値 　2．imgのsrc値 　3．aタグの後のhタグの見出し 　4．pタグの文章を抜く 上記4つを一回で抜き出し、後はli部分をぐるぐる回して、１～4の値を抜きたいのです。 最終的には、 　・抜いた4つの値をDBに1行のレコードとして格納。 　・残りのli部分も同じように繰り返す。 といったことをやりたいので、 $crawler->filter('タグ書き方)->each(function($element) { 変数1 =　1．aタグのhref値 　　　変数2 =　2．imgのsrc値 　　　変数3 = 3．aタグの後のhタグの見出し 　　　変数4 = 4．pタグの文章を抜く 　　　DBにIns(変数1,変数2,変数3,変数4) }); と一回の関数の中で、4つの値を取り出し、DBに放り込みたいのです。 現状、私が記述しているfilter条件では、aタグしか取り出せないのです。 どのようにソースを修正すれば、対応できるのかわかりません。 良い知恵をお持ちの方がいらっしゃいまいたら、 ご教授お願いいたします。
ドットインストールの#02の書き込みのパーミッションの設定はWindows７ではどうやるのでしょうか？ http://dotinstall.com/lessons/upload_image_php/4 …
こちらのソースコードについてご質問なのですが、 http://notnil-creative.com/blog/archives/1766 phpコードの記述が一般的な形？とは異なっています。 例えば、 <?php } ?> とか、 <?php if (isset($error)) { ?> など「}」の位置がとにかく気持ち悪いです。 phpは普段あまり書かないのですが、 一般的な書式であればなんとなく読める程度です。 この状態でこの不可思議な記述を見ているとイライラしてくるので、 できれば書き直したいのですが。。 ・そもそもどんな構造なのか ・どう書き直すのが良いか(整形ツール等々あれば) ・なんでこの記述をするのか(メリット/デメリットはないのか) お恥ずかしい内容ですが、教えていただけるとうれしいです。 よろしくお願いいたします。
　ＰＨＰでアクセスカウンターを作ろうとしています。 　単純にページを表示したらカウントされるようなものは簡単に作れるんですが、一人につき一日１カウントというようなユニークアクセスは、いったい何を見て判断すれば良いのでしょうか？ 　パソコンだったら今はプロバイダもほぼIPアドレス固定ですからそれをりようできるんですが、スマホとか携帯電話や、パソコンでも公衆無線LANとかポケットWi-Fiなんかを利用してると、繋ぎ直すたびにIPアドレスが変わるので使えませんよね？ 　クッキーを使う？ 　でも、たかがカウンターのためにクッキーを埋め込んでも良いんでしょうか？(^_^; 　いったい、世のアクセスカウンターは、どうやってユニークアクセスをカウントしてるんでしょうか？
PHPを使ってフォームのチェックボックスの初期値にチェック済みでページを表示させ、そのチェックを外してサブミットし、同ページにリロードした際、セッションを使ってチェックを外した状態を保持しようとしているのですがうまくいきません。 チェックを外した状態でリロードしてもチェックがついた状態で表示されてしまいます、チェックを外した状態を保持表示させるにはどのように記述すればよいのでしょうか ご教授宜しくお願いします。 【PHP】 session_start(); $event = $_POST[ 'event' ]; $_SESSION[ 'event' ] = $event; if(!empty($event)){ $event_on = 'checked';} 【フォーム】 <form action="./" method="post" name="chbox"> <input type="checkbox" name="event" id="event" value="event" $event_on >イベント <button class="btn" onClick="boxCheck()" >表示</button> </form> 環境 php5.3 html5 javascriptのlocalStrage等を使ったほうが実装が現実的なら、検討いたします。
教えてください。 <a href="リンクしたいページのURL#ラベル名">リンク文字列</a> このような書き方がありますよね。 リンク先で、＃以下のラベルを取得したいのですが どうすればいいのでしょうか？ $_GETでは取得できなかったのですが・・・。 ラベルにより、いろいろ処理を分けたいのです。 よろしくお願いします。
表題のまんまなのですが、どなたかご存知の方がいらっしゃったら教えてください。 アメブロだと、 「http://feedblog.ameba.jp/rss/ameblo/アカウント/rss20.xml」という URLをRSSのウィジェットにコピペすればすぐに出来るのですが 現在、gooでは、RSSリーダーのサービスが終了しているためかこの方法は無理のようです。 URLは、「http://blog.goo.ne.jp/アカウント/index.rdf」となるようです。 検索しましたが、方法が見つかりませんでした。 http://ja.forums.wordpress.org/topic/11516 こちらも、投稿者が上手くいったはずの5行目を書くとエラーとなってしまいます。 もし、PHPに詳しい方がいらっしゃったらご教示ください。 宜しくお願いします。
すみません。javascriptの事はほとんど分からないのですが、 phpを使ってjavascriptを表示したいのですが基本的な部分で分かりません。 例えば <?php echo"<script>document.write(\"PHP！\")</script>;" ?> は簡単にできますが、タグに入っているjavascriptはどうやってphpで表示させるのでしょうか？ <form name="aaa" method="post" action="bbb.php"> <select name="ccc" onChange="document.forms['aaa'].submit()" > <option value="111">111</option> <option value="222">222</option> </select> </form> 上記のスクリプトを単純にphpで表示したいのですが、どうやってもphpで囲むとonChangeが動かず 動的にはなりません。 何時間もぐぐったりしてますが解決しません。タグの中のjavascriptは直接phpでは動かせないのでしょうか？
PHPで、リクエストをまたいで値を保持する方法を教えてください。というかサーバー起動時に1回処理をし、その情報を使い続ける方法といった方が適切かもしれません。「リクエストをまたいで」といってしまうと、反射的に「セッションに保存」といいたくなると思いますが、そういう話ではありません。 画面上に検索条件でSELECTリストを表示します。この情報を今は、画面表示のたびに毎回DBにアクセスしデータを取得しています。 しかしサーバーが起動している間程度の期間ではめったに変更することはない値なので、リクエストのたびにDBにとりに行くのがあまりにも無駄なので、これをやめたいと思っています。かといって年に何回かは変更があってもおかしくない値なので、そのたびにプログラムを変更するのではなく、あくまでもDBのデータの変更だけで済ませたいと思っています。 つまり、リクエストのたびにDBにとりに行くのではなく、PHPのプログラムファイルにハードコーディングするのでもなく、Webサーバーが起動したときに1回だけDBから読み込み、変数に保持しておき何度も使いまわしたいと思っています。 で、ためしにclassのstatic変数に値を設定してみたのですが、リクエストのたびに値が初期化されてしまいました。$GLOBALSに値を設定してもリクエストのたびに値が初期化されてしまいました。 Javaなどの言語では、当たり前に行う処理ですがPHPで実現する方法が分かりません。 PHPで、リクエストをまたいで値を保持する方法を教えてください。 もしかするとPHPでは、値を保持することはできないのでしょうか？ もしそうだとすると、PHPでは同じ値をDBから何度も取得するケースではどのように対処しているのでしょうか？(DBのキャッシュ機能頼み？そもそもPHPは小規模しか扱わないから気にしない？) この点について教えてください。 よろしくお願いします。
CentOS 6.5 PHP 5.3.3 SquirrelMail 1.4.22-4.el6 ログイン画像（Organization Logo）を変更したいのですが、うまくいきません。 ../images/sm_logo.png　がオリジナルの画像です。 縦横同じサイズの画像を作成し、../images に sm_logo_new.png 置きました。 所有権とアクセス権を変更し、 # ls -l の結果は、以下のようになっています。 -rw-r--r--. 1 root root 7396 Dec 14 2001 sm_logo.png -rwxrwxrwx. 1 root root 18108 Dec 3 14:58 sm_logo_new.png この状態で、https://アドレス/webmail/images/sm_logo.png にアクセスすると、 ブラウザにオリジナルの絵が出ます。 しかし、https://アドレス/webmail/images/sm_logo_new.png にアクセスすると、 「Forbidden　You don't have permission to access /webmail/images/sm_logo_new.png on this server.」 になってしまいます。 なんらかのアクセス権の設定がおかしいのかと思いますが、 # cp sm_logo_new.png sm_logo_new.png2 を実行し、 -rwxrwxrwx. 1 root root 18108 Nov 11 10:25 sm_logo_new.png -rwxr-xr-x. 1 root root 18108 Dec 3 16:30 sm_logo_new.png2 の状態で、https://アドレス/webmail/images/sm_logo_new.png2 にアクセスすると、 ブラウザに新しい絵が無事表示されます。 なぜ、画像ファイルを置いただけでは You don't have permission になってしまうのか、 正しい設定方法を教えていただけませんでしょうか？ 回避策として、/images に画像ファイルを置き、そこで cp コマンドを実行、 さらに mv で名前を戻してやればやりたいことは達成できるのですが、 原因がわからないのでもやもやしてます。
TwitterAPI(ver1.1）を利用して自分のつぶやきをＰＨＰで取得したいと思います。 認証は「OAuth.php」「twitteroauth.php」の外部ライブラリを利用しています。 下記のファイル構成でレンタルサーバーで試したところ、つぶやきのデータが取得できました。 しかし自分で構築したＶＰＳのサーバーで実行しようとしたところ、処理に長く時間がかかり、「取得できません」という表示になってしまいます。 「OAuth」「twitteroauth」を使うにあたり、サーバーで設定すべき項目はあるのでしょうか？ また、下記のプログラムで変数　$twObj　にはＡＰＩキーなどが配列で入られているのはわかったのですが、　$req　以降の変数はvar_dumpをしても何も表示されません。 TwitterAPIからどのようなメッセージが返ってきているかを表示させるには、どのようなプログラムを書けばよいのでしょうか？ 以上、ご回答よろしくお願いいたします。 環境 ----------------------------- PHP 5.3.3 apach 2.2.3 CentOS 5.4(ＶＰＳで構築したLinuxサーバー） ----------------------------- ファイル構成 OAuth.php twitteroauth.php tweet.php を同じディレクトリに配置。 tweet.php ------------------------------------------------------------------------------ require_once 'twitteroauth.php'; $twObj = new TwitterOAuth($ConsumerKey,$ConsumerSecret,$AccessToken,$AccessTokenSecret); //ＡＰＩのキーは取得したものを代入しています。（記載は省略） $req = $twObj->OAuthRequest('https://api.twitter.com/1.1/statuses/user_timeli …('count'=>'10')); $tweets = json_decode($req); if (isset($tweets) && empty($tweets->errors)) { echo '<dl>'; foreach ($tweets as $val) { echo '<dd>' . $val->text . ''; } echo '</dd></dl>'; } else { echo '取得できません。'; } -----------------------------------------------------------------------
どうも、お世話になります。 パスの意味が分かりません。 "."がカレントディレクトリ、 ".."が親ディレクトリなのは知っていますが、 "hoge1/." "hoge2/.." などはどんな意味になりますか？ 尚、二個目は自分で作った（実際使われているところを見たことはありません。） ものです。 よろしくお願いします。
GMOクラウド VPSにて、Parallelsを利用しております。 毎日決まった時間に、データベースの更新、更新されたデータに対しての メール通知を行います。 PHPファイルを決まった時間に実行するように設定を行いたいのですが、 設定方法をご教授いただけませんでしょうか。 ロリッポップなどの場合は、管理画面にありましたが、 初のGMOのため、設定方法がわかりません。 初歩的な質問にて大変申し訳ございませんが、 設定サイトでも構いませんので、ご教授いただけますよう、 よろしくお願い致します。
ec-cube-2.13.3をBizホスティング メール＆ウェブ ビジネス(ライト)にインストールしようとしています。データベースの設定でIDアドレス等を入れて進むと、次のエラー表示が出ます。Mysqlにデータベースを新規に作りましたが、これとの接続がうまく行かないことと思いますが、どうしたらよいか教えてください。私は全くの素人でエラーの意味も分かりません。 Fatal error: DB処理でエラーが発生しました。 SQL: [PREPARE mdb2_statement_mysql_1edbd0675366ef3541eee6f39aaa71aa02d2f7e3e FROM 'SET SESSION storage_engine = InnoDB'] PlaceHolder: [array ( )] MDB2 Error: unknown error _doQuery: [Error message: Could not execute statement] [Last executed query: EXECUTE mdb2_statement_mysql_1edbd0675366ef3541eee6f39aaa71aa02d2f7e3e] [Native code: 1286] [Native message: Unknown table engine 'InnoDB'] in /usr/home/********/www/htdocs/eccube/data/class/SC_Query.php on line 1095
https://www.drupal.org/user/register 上記のように新規ユーザ登録をログインせずに不特定多数のユーザから受け付けられるページをdrupalで作ろうと思ってやり始めたのですがなかなかうまくいきません。 コア部分にコードを書き込まず hook関数を使って実現しようと思っているのですが。。 ネット上のTipsなど見ながらやっているのですが、これでいいかなと思っても追加した項目がうまく表示されません。 同じようなことをやったことがある方、教えてもらえませんか？ サンプルコードなどあると嬉しいです、お願いばかりですみません。
すみません。phpの事はあまりわからないのですが、以下のような連想配列がありまして、 （下記のような連想配列が大量にあります。） Array ( [0] => Array ( [a] => 1111 [0] => 1111 [b] => 2222 [1] => 2222 [c] => 3333 [2] => 3333 ) [1] => Array ( [a] => 5555 [0] => 5555 [b] => 6666 [1] => 6666 [c] => 7777 [2] => 7777 ) ) 上の配列から下記の配列のみ全て表示したいのですがどう記述したらよいでしょうか。 Array[0][a] Array[0][b] Array[0][c] Array[1][a] Array[1][b] Array[1][c]
現在、ある業種のWEBアプリケーションサービスを開発しようとしているのですが、 様々なクライアントに納品する可能性があり、クライアントごとに様々な細かい 仕様変更等が起こる可能性もあります。 以下の条件を満たすにはどのような設計を行えば（技術を習得すれば）いいでしょうか？ 設計条件 ・ベースの設計は各クライアント同じであること ・ベースのバージョンアップが容易に全クライアント同時におこなえること ・表示部分（デザイン）は柔軟にクライアントごとに変更できること ・クライアントごとに機能を容易に追加することが出来、 なおかつ容易に他のクライアントに複製できること ・全クライアント同じプログラムを使っていても微妙に細かい変更ができること ・クライアントが用意したサーバーでも動かせること イメージとしてはwordpressみたいな感じで、 各クライアント同じCMSを入れてるが、 それぞれ使ってるプラグインやデザインが違うイメージです。
PHP セッションの受け渡し失敗 IEはOK いつもお世話になっております。 phpで３つのページに渡りデータを引き渡したいのですが、 ブラウザによって成功したり失敗したりしています。 成功・・・IE 失敗・・・GoogleChrome,Firefox,safari,opera a.html（charset=UTF-8） ⇒ b.php（charset=shift_jis） ⇒ c.php（charset=shift_jis）という流れです。 a.html　hiddenでpost送信 b.php　postデータをsessionへ格納 c.php　echoしても表示されない という感じです。 ちなみに、b.phpで格納したセッションデータはc.phpでechoできます。 「a.html」 <form action="b.php" method="post" target="_top"> 　　<input type="hidden" name="cp_name" value="あああ株式会社"> </form> 「b.php」 session_start(); $_SESSION["cp_name"] = mb_convert_encoding($_POST["cp_name"], 'Shift_JIS', 'UTF-8'); 「c.php」 session_start(); echo "[ 販売元 : ".$_SESSION["cp_name"]." ]";　表示失敗 どなたかご教授頂ければと思います。 何卒宜しくお願い申し上げます。
phpで会員制サイトの制作を勉強しています。 データベースへはPDOで接続しています。 MySQLデータベースを使用しています。 自己紹介文のような長めの文章をデータベースのTEXT型カラムにUPDATEで保存したいです。 $stmt = $db->prepare("UPDATE member SET text=:text WHERE id=:id"); $stmt -> bindParam(':text ',$text,PDO::PARAM_STR); $stmt -> bindParam(':id',$id,PDO::PARAM_INT); $stmt -> execute(); というSQL文を作成し、 文字列データを保存することはできたのですが、 「"」や「'」のような記号を含めるとそれ以降の文章が消えた状態で保存されてしまいます。 例えば顔文字などで「"」や「'」のような記号を使用する場合もあると思うので、 できれば、データベースに保存したいです。 どうしたら安全に「"」や「'」が保存できるでしょうか？ ご回答、よろしくお願いします。
phpで会員制サイトの制作を勉強しています。 データベースへはPDOで接続しています。 MySQLデータベースを使用しています。 現在、クラスを作成してみようとオブジェクト指向について学習しています。 試しに、既に作ってあった、POSTされた文字列をhtmlspecialcharsやfilter_inputするようなセキュリティやNoticeエラー対策に使うプログラム関数を class Checkのメソッドとしてまとめようとしています。 関数にしていたときは正常に動いたのですが、 クラスのメソッドにするとFatal error: Cannot use object of type Check as array in ～というエラーが出てしまいます。 恐らく、引数の受け渡し（$_POSTの値の受け渡し）の時点でうまくいっていないのか、 私的には、メソッド結果の受け取りがあまり理解できていないので、 メソッド結果の値を配列で返すのがうまくいっていないのだと思います。 ＜関数＞ function postFilter($before) { foreach($before as $key=>$value) { $after[$key] = filter_input(INPUT_POST, $key); } return @$after; } *呼び出し* $post = postFilter($_POST); $email = $post["email "]; ＜クラス＞ class Check { public function エスケープ処理 { エスケープ処理のメソッド } //POSTで受け取ったものをfilter_inputでフィルタリング public function filterPost($before){ foreach($before as $key=>$value) { $after[$key] = filter_input(INPUT_POST, $key); } return $after; } 　　　・ 　　　・ 　　　・ } *呼び出し* $post = new Check(); $post -> filterPost($_POST); $email = $post ["email "]; そもそもクラス化する必要がない気がして、関数のままにしておこうかと思ったのですが、 オブジェクト指向はどのプログラムを学ぶにあたっても、重要だと思い、 わからないまま放置したくないので質問しました。 添削いただけませんでしょうか？ よろしくお願いします。
php実行中に実行中のphpファイル書き換えた場合 書換え後の時点で、書換え対象ステップが未実行で、 書換え後以降にそのステップが読まれた場合、 書換え前のステップが実行されますか？ それとも書換え後のステップが実行されますか？ すみませんが、回答よろしくお願いします。
あるPHP技術書籍で掲載のPHPファイル・アップロードの例を試したところ、アップロードするファイル・サイズは、小さいな（数KB）場合が成功、より大きな場合（例えば40KB～）が失敗！何故失敗なのかよく分かりません。ファイル種類には関係なさそうです。 詳しい方に教えて頂ければ助かります。 ※ ご参考　－ 1. 具体的なHTML＆PHPコードは、次の通りです。 2. 利用環境： 最新版XAMPP、Windows 7、XAMPPデフォルト・ルートをD:のある フォルダーに変更。Ｄ:に十分空き領域があると確認済み（数十GB）。 =====HTML===================== <!DOCTYPE html> <html> <head> <meta charset="utf-8"/> <title>fupload</title> </head> <body> <h3>ファイルアップロード</h3> <form method="POST" action="fupload.php" enctype="multipart/form-data"> <!-- MAX_FILE_SIZE は、必ず "file" input フィールドより前になければなりません --> <input type="hidden" name="MAX_FILE_SIZE" value="100000" /> <!-- input 要素の名前が $_FILES 配列での名前となります --> <input name="userfile" type="file" size="70"/> <input type="submit" value="アップロード" /> </form> </body> </html> =====PHP--===================== <?php $uploaddir = './up/file/'; $uploadfile = basename($_FILES['userfile']['name']); echo '<pre>'; //if (move_uploaded_file($_FILES['userfile']['tmp_name'], $uploadfile)) { if (move_uploaded_file($_FILES['userfile']['tmp_name'], $uploaddir.$uploadfile)) { echo "ファイルアップロードに成功しました。\n"; } else { echo "ファイルアップロードは不成功です。\n"; } echo '<pre>'; ?> =====PHP関連設定（php.ini）========-== ;;;;;;;;;;;;;;;; ; File Uploads ; ;;;;;;;;;;;;;;;; ; Whether to allow HTTP file uploads. ; http://php.net/file-uploads file_uploads=On ; Temporary directory for HTTP uploaded files (will use system default if not ; specified). ; http://php.net/upload-tmp-dir upload_tmp_dir="C:\xampp\tmp" ; Maximum allowed size for uploaded files. ; http://php.net/upload-max-filesize upload_max_filesize=2M ; Maximum number of files that can be uploaded via a single request max_file_uploads=20
現在、ブランド管理システムの構築に携わらせていただいております。 まだまだ、勉強中の身で気になることだらけです。 MySQL＋PHPの組み合わせにて構築を行っております。 1.データベース内に管理番号という項目があり、その項目はデータの呼び出し、更新、他のテーブルとの紐付けに使われ、 この値を書き換えるということはされない項目です。（auto increment、primary keyが設定されております） 現在は、bigint(20)と設定されておりますが、扱える桁数を万が一超えるとなるととても怖いのですが、これ以上桁数を増やすことはできるのでしょうか。 2.1の項目をweb上にて呼び出しを行い、1のような使い方の場合（呼び出した値への加工を行わない）、整数型では扱える範囲（PHP_INT_MAX）を超えている場合になった場合は影響があるのでしょうか。 先輩に聞いてもそう決まっているという回答しか答えていただけません。 詳しい方、是非教えていただけませんでしょうか。
MySQLより取得したデータを、URL固定でページングしたいです。 ・URL固定例 … http://〇〇.ne.jp/hoge ■質問 ・POST使用するのでしょうか？ ・その場合、GETではないので現在ページを取得できないと思うのですが、どうするのでしょうか？ 　・セッション？ 　・input type hidden？ 　・JavaScriptで取得？　getElementById？ ・または、.htaccessとかで処理するのでしょうか？ ・あるいは、Ajaxとかでなければ出来ない？ ■補足 ・件数が多いので、非表示切替でページングするのではなく、その都度DBからデータ取得するようにしたいです
foreach ($rss->channel->item as $val) { $title = $val->title; $link = $val->link; $description = $val->description; $pubDate = $val->pubDate; $dccreator = $val->dccreator $stmt = $dbh->prepare("insert into rss (title,link,description,pubDate,dccreator) values(?,?,?,?,?)"); $stmt->execute(array($title,$link,$description,$pubDate,$dccreator)); } 上のような感じでexecuteの実行をループさせようとしています。 しかし最初の一回しか実行されません。（DBへの書き込みが最初の一度しかされません） すいませんが、何かアドバイスいただけませんでしょうか？ よろしくお願いいたします。
いつもお世話になります。 現在、練習用として管理画面を作成しています。 session.gc_maxlifetime=1440（24分）で設定しているのですが、一時間以上放置してもセッションが切れません。。 session.gc_maxlifetime以外に何か設定が必要なのでしょうか？ PHPのバージョンは5.3.3になります。
PHP始めたばかりで分かりません。 画像の削除をボタンを押したら実行するようにしたいのですが、 どうしたらよいでしょうか？ ご教授宜しくお願い致します。 <?php if ( unlink( "../img/a0001.jpg" ) ) { echo "ファイルを削除しました"; } else { echo "ファイルの削除に失敗しました"; } ?>
LOAD DATA LOCAL INFILE　を使ってmysql　にcsv からデータを挿入したいのですが #1148 - The used command is not allowed with this MySQL version とエラーが出てきます。※エラー情報はmyphpadminから得ています。 以下の文を実行しています。 ※他のサーバーで動いているので、ソースに間違いはないと思います。 ※サーバーの引っ越しで出てきた不具合ですが、以前何かをしたかは覚えていません。。。 LOAD DATA LOCAL INFILE '/パス/data.txt' REPLACE INTO TABLE data fields terminated by ',' ENCLOSED BY '"' LINES TERMINATED BY ' ' 権限を付与すれば良い、と言う記事を読んだのですが 具体的にはどのような事をしたらいいのでしょうか？ FTPでファイルをアップロードして、php を実行しています。 MySQL　5.1.73 PHP 5.3.3 よろしくお願いいたします。
■最終的にやりたいこと ・複数サイトで共通使用するjsファイルを、ルートディレクトリより上の階層に配置したい ■質問 ・PHPの「include」や「file_get_contents」で、ルートディレクトリより上のjsファイルを読み込んで、使用することはできるでしょうか？ ・もしできるとすれば、それぞれのメリット／デメリットを教えてください 　・include ／ file_get_contents の違い 　・そもそも論として、こんなことをしても良い？　通常よりも処理が遅くなる？
phpで会員制サイトの制作を勉強しています。 データベースへはPDOで接続しています。 MySQLデータベースを使用しています。 セッション変数($_SESSION["email"])の有無を使用したログイン方法を使用しています。 セッション変数の破棄(ログアウト処理)について質問があります。 前提として、現在会員制サイト制作の勉強で「ログアウト後は必ずTOPページに遷移する」という形にこだわっています。 ちなみに現在使っているログアウトの方法は 1、 全ページ共通の、ページ上部に表示されるメインメニューに <form method="post" name="logout" action="toppage.php"> <input type="hidden" name="logout" value="true"> <input type="submit" value="ログアウト"> </form> でログアウトボタンを作成し、 ログアウトボタンが押されたらtrueという値を持った$_POST["logout"]を トップページ(toppage.php)に送る。 2、トップページ(toppage.php)に画面遷移させ、 $logout = filter_input(INPUT_POST, 'logout'); if($logout=="true"){ unset( $_SESSION["email"] ); } でもしも$_POST["logout"]がtrueなら セッション変数$_SESSION["email"]を破棄する というプログラムによりログイン・ログアウトを管理しています。 きちんと動いてはいるのですが、不満が1つあります。 願わくばログアウトボタンをformタグのsubmitで作るのではなく、 <a href="toppage.php">ログアウト</a> とリンクを使用して作成したいです。 このようにリンクを使用する場合、遷移後のTOPページ(toppage.php)でセッション変数$_SESSION["email"]を破棄するには、どのようなプログラムを記述すれば良いのでしょうか？ ネットで調べたりもしましたが、ほとんどのサイトで紹介していたものは、 ログアウトリンクをクリックすると、ログアウト処理確認専用の画面（「ログアウトしました！」とだけ書かれたような画面）に遷移し、セッション変数を破棄するものばかりでした・・・ 私個人としてはログアウト処理が完了した旨を報告する画面をワンクッション置くのは、あまり実用的ではない気がして好みません・・・ 巷にあふれているようなサイトではログアウトボタンをクリックすると TOPページに遷移するようなサイトばかりなので、 phpを使用した場合、どうやったらそのような仕組みになるのか考えた上で、 今のへんてこなログアウト処理プログラムに至りました。 ごちゃごちゃしていないもっと良いログアウト処理プログラムはないでしょうか？ ご回答、よろしくお願いします。
phpで会員制サイトの制作を勉強しています。 データベースへはPDOで接続しています。 MySQLデータベースを使用しています。 会員制サイトによくある、 各ユーザーの自己紹介文を保存したいのです。 500文字程度の文章になると思うのですが、 そういった長い文字列データはデータベースに保存してよいのでしょうか？ 長い文字列はあまりデータベースには保存すべきでないでしょうか？ また、データベースに保存すべきでない場合は どのように長い文字列を保存したら良いでしょうか？ ご回答、よろしくお願いします。
PHP URL指定→HTMLソース→指定タグ要素取得（複数）→RSS（.xml）出力について URLからHTMLソースを取得し、要素を取得しRSSファイルを作りたいと思っています。 例えば、http://shopping.yahoo.co.jp/ranking/のURLのHTMLソース内から <p class="elPhoto"> <a href="○○○.html"> <img src="【取得したい文字列１】" width="200" height="200" alt="○○○"> </a> </p> <h4 class="elTitle"> <a href="【取得したい文字列２】">【取得したい文字列３】</a> </h4> <h4 class="elPrice"> <span>【取得したい文字列４】</span>円 </h4> <p class="elSellStatus"></p> <h4 class="elStore"> ストア：<a href="【取得したい文字列５】">【取得したい文字列６】</a> </h4> など指定する各要素を全件取得し、 <item> <title>【取得したい文字列３】</title> <link>【取得したい文字列２】</link> <description> 【取得したい文字列１】<br> 【取得したい文字列４】<br> 【取得したい文字列６】<br> 【取得したい文字列５】 </description> </item> などとRSSで全件出力し、xmlファイルを作成したいです。 アドバイス、ご指導お願いします。
PHP初心者です。 検索しましたが思ったものが見つからないので教えてください。 テキストファイルの数値をPHPページの「+1」 「+5」 「+10」のボタンを押すと加算して保存するにはどうしたらいいでしょうか？ ご教示よろしくお願い致します。
他でも質問しましたが、xamppはもともと練習に使うつもりでしたが、 現在はレンタルサーバーを使っているのでここで試したらどうかと 帰りの電車の中で考えました。 ※送るデーター <form acition="index.php"method="POST"> <p>氏名<input type="text" size="20" name="ad"></p> <input type="submit" value="送信"> </form> ※受け取るデーター index.php <?php echo$_POST['ad1']; echo$_POST['ad2']; ?> 質問1.上記に名前が書かれれば、サーバーに引き渡したデーターを ブラウザーに表示ができるのでしょうか？ 質問2.echoはeachとは違うのでしょうか？ 質問3.actionのところによくメールアドレスが入っていたりするような気がします。 メールアドレスでも受け取れるのでしょうか？
事業転換により、現在、PHPの勉強をしております。 軽めのシステムを作成させていただく、機会ができ、 現在はそれを構築するために調べ、動作確認、 を繰り返しております。もっともっとPHPを理解できるようになりたい と感じる毎日です。 PHPの基礎本は何冊か読みましたが、システムの組み込みのために 組み合わせる技術（MySQL等）の技術取得にも取り組んで行きたいです。 PHPの勉強+αの参考書等のおすすめはございますでしょうか。 よろしく御願い致します。 PHPの前は、javascriptにて簡単な動きを作る作業をしておりました。
TeraPadを使って以下のようなプログラムを書いたのですがエラーが出てしまいました どこが間違っているのでしょうか？ <?php print($_REQUEST['my_name']); ?>
アドレスにhttps://localhost/xampp/にhttpsのところに赤い斜線がはいり 使えません。 このサーバーが 127.0.0.1 であることを確認できませんでした。このサーバーのセキュリティ証明書は、ご使用のパソコンのオペレーティング システムによって信頼されているものではありません。原因としては、不適切な設定や、悪意のあるユーザーによる接続妨害が考えられます。 という詳細があります。 通常ｐｈｐで作ったデータはhttps://localhost/xampp/フィル名phpででてくるのだと思いますが、 Error 404とでてしまいます。 どうしたらようでしょうか？
cakephp-2.5.5を使っています。 以下のタイトルが出てきますが、どこで出力されているか分かりません。 // abc: // abc: // abc3 //ページタイトル 設定した値は以下で、2つめはどこか分かっていません。 layout $cakeDescription = __d('cake_dev', 'abc'); controller $this->set('title_for_layout','abc3'); view $this->assign('title_for_layout', 'ページタイトル'); layoutとviewには、<title>タグに何も指定していない状態です。 数時間調べて、さっぱりでした・・・。すいません、誰か教えてください・・・。 layoutの$cakeDescription = __d('cake_dev', 'CakePHP: the rapid development php framework'); を削除すると、タイトルに<pre class="cake-error"><a href="javascript:void(0);" onclick=・・・のようなエラーメッセージ出て、さらに悩んでいます。こちらも教えて頂けると助かります。
各アイテムの最新3件だけデータベースに残したいと思い、下記のようにしてみました。 動作を確認したところ問題なかったのですが、何か（無限ループする可能性があるなど）問題があるようでしたら、ご指摘いただけないでしょうか。 よろしくお願いいたします。 for ($num = 1; $num < 21; $num++){ // アイテムが20件ある場合 $sql = "SELECT COUNT(id) AS cnt FROM item where item_id=$num ;"; $res = mysql_query($sql, $conn) or die; $row = mysql_fetch_array($res, MYSQL_ASSOC); $count = $row["cnt"]; if($count<3){ // アイテムが3件より少なかったら何もしない } else{ $delete_count=$count-3; $sql = "delete from item where item_id=$num order by date limit $delete_count;"; $res = db_query($sql, $conn); } }
アップロード画像を縮小するタイミングについて教えてください。 画像アップロードする際に縮小も済ませておく実装をよく目にするのですが、事前縮小せずに、画像を表示する際に縮小してもよいのでしょうか？ ■案1.画像アップロードする際に縮小 ・「元画像」＋「縮小画像」を保存 ・縮小画像表示は、事前作成した「縮小画像」を指定 ■案2.画像アップロードするだけ ・「元画像」のみを保存 ・縮小画像表示は、「元画像」にその都度GDやImagickで大きさを指定 ■質問 ・ほとんど「案1」で実装すると思うのですが、「案2」だと何がマズいのでしょうか？ ・事前作成せずにその都度処理するので、もしかすると画像表示とかが遅くなるのでしょうか？ ・それぞれのメリット／デメリットを教えてください
画像アップロード時のファイル名を、ハッシュ値に書きかえている実装をよく見るのですが、あれって別にハッシュじゃなくても良いのでしょうか？ ・例えば、下記URLにアップロードする際、画像ファイル名を(容易に推測されやすい)256.jpgに書き変えると、セキュリティ的にマズいのでしょうか？ ＜URL例＞ ・http://〇〇/256.php ■分からない点 ・「ブラウザから渡されたファイル名は汚染リスクがある」と書いてあったのですが、この意味は、「ブラウザから渡されたファイル名をそのまま使用してはいけない」ということだけでしょうか？ ・書きかえるファイル名は何でも良い？ ・上記のように、推測されやすいファイル名でも問題ない？ ■質問背景 ・ファイル名をハッシュ値に書き換えると、FTPとかで確認する際やりづらいかなと思い、質問しました
PHPの二次元配列データを、JavaScriptの二次元配列データとして使用したいのですが、どうやって変換すればよいでしょうか？
phpで会員制サイトの制作を勉強中です。 pdoでmysqlデータベースに接続しています。 セッションの「session_set_cookie_params」について質問ですが、 session_set_cookie_paramsで有効期限を設定する場合、 ログイン時にsession_set_cookie_paramsでセッションの有効期限を設定し、 他のページではsession_start()さえ記述すれば、 有効期限を過ぎると勝手にセッション変数のデータを空にしてくれるのでしょうか？ それとも全てのページにsession_set_cookie_paramsを書かなければならないのでしょうか？ プログラムを書いている上でセッションの動作がおかしい(有効期限が過ぎてもログアウトしない)のでsession_set_cookie_paramsの記述がおかしいのかと思い、質問しました。 また、セッション変数の有効期限を変数毎に個別に設定して削除する方法はないのでしょうか？ ご回答、よろしくお願いします。
お世話になります。掲題の件ですが、 Windows環境下でPHPの動作確認をするためにインストール中なのですが、 Apache2.4+PHP5.4の構成ではPHPが動作せず、 構成ファイルをそのままに、PHP5.6にした所PHPが動作するようになったのですが、 拡張モジュールを読み込んでくれません。 infoを叩いて、Coreの項目を見ると extension_dirC:\php include_path.;C:\php\pear と、なっておりますが、C:\Windows\php.iniのディレクトリの指定は間違っていないと思います。 構成としては、 c:\www にApacheがインストールされており、 c:\www\php にPHP5.6がインストールされています。 http://www.dotup.org/uploda/www.dotup.org5409023 … サンプルとして当方が設定しているhttpdとphp.iniを張り付けておきます。 設定値はほぼ標準で、ポートは8080を使っています。 どうか知恵をお貸しください。どうぞよろしくお願いします。
PHPについての質問です。 現在、自社サイトで使用している画像の管理画面を作っているのですが、 PHPを使って不要になった画像を削除する部分を作成しております。 しかし、まだ何分初心者なのでわからないところもあり質問させていただきました。 削除用のPHPファイルを作成しておりますが、動作すると以下のエラーが出てしまいます。 Fatal error: Cannot redeclare deletedata() (previously declared in ・・・・・・・・・/php/delete.php:5) in ・・・・・・・・・・・/php/delete.php on line 5 組んだプログラムに問題があると思いますが、この場合どのようにすればよろしいでしょうか。 分かる方アドバイスをお願いします。 <?php $no = 1; foreach(glob('../images/slider/*.jpg') as $val){ function deletedata($dir) { if($dirhandle = opendir($dir)) { while(false !==($val = readdir($dirhandle))) { if($val != "." && $val != "..") { unlink($dir.$val); } } closedir($dirhandle); } } } ?>
大量のデータを扱っているせいか echo json_encode($rs); でデータが表示しませんでした。 print_r($rs); ではちゃんとデータが表示されます。 データは多次元配列なのですが、 今回扱ったデータ量は、2000万文字くらいでした。 ちょっと重すぎますね。。。（桁数間違っていません。20,000,000文字） こういったデータを扱う旨い方法ってあるのでしょうか？ 用途としては、jsからphpを呼び出してデータを作成（今回の２０００万文字）して、jsで受け取って処理するという流れです。 phpだけで実行しても表示はされませんでした。 データを分けて受け取るしか無いんですかね・・・ 全てのデータを一旦、js側で配列に入れたいという事情があります。 そうすると、並べ替えとか、条件での検索等が容易にできる為です。 何かアドバイスあればよろしくお願いします。
あるwebページのボタンを自動で押すためのウェブアプリケーションを作りたいのですが、そのウェブページに入ったときにボタンを自動で選択してくれるってどうやったらできるのでしょうか？ PHP, Javascriptのどっちかでそのアプリケーションは作ろうと考えています！ 回答よろしくお願いします！
http://localhost/ というアドレスで接続すると D:\xampp\htdocs\study.localhost の中につながるようになってしまいました。 http://study.localhost/ でも同じところに繋がります。 自分が何をしてしまったのか分りません。 思い出せません。 思い当る事がある方教えてください。 なぜこのような状況になってしまっているのでしょうか？
　最近、PHPの勉強を始めた者です。 　初心者本を読みながら、ようやくメールを送信するところまで来ました。 　mail関数やmb_send_mail関数を使って送るというのは分かったんですが、この方法を送ったメールのヘッダにちょっと問題が・・・。 　ロリポップサーバーにムームードメインの組み合わせて使っているんですが、Yahoo!のメールアドレスに送ったメールのヘッダに Received-SPF:none (users094.phy.lolipop.jp: domain of ◯◯◯◯@users094.phy.lolipop.jp does not designate permitted sender hosts) というものがついてしまいます。 　別にロリポップサーバーを使ってることが知られても構わないんですが、◯◯◯◯の部分が問題でして、ロリポップ内のＦＴＰ・WebDAVで使われてるアカウントが入ってくるんです。 　これがロリポップにログインするためのアカウントを少し入れ替えただけで、使ったことある人ならモロバレの状態。 　まあ、パスワードが分からなければログインは出来ないんですが、なんだか気持ち悪いんですよね(^_^; 　調べてみるとSPFというのはメールの認証か何かだそうですが、ネットで検索しつつ、ムームードメインのDNSにして、カスタムDNSでSPFの設定をしてみても、上記のヘッダはnoneのままでついてきます。 　これを何とか消す方法はないもんでしょうか？
php5.3では動いていたプログラムをphp 5.4 で動かしたらwarning illegal string offsetが出て困っています。以下のプログラムでwarningが出ないようにするにはどのようにコーディングすればよいのでしょうか？ 例 $a = array('exists' => 'foo'); if ($a['exists']['non_existent']) { print 1; } print 2; exit;
下記の配列のデータをMySQLのデータベースに登録をしたいと思っています。 （参考）に記述しています内容で実行をしましたが、１つ目のデータしか登録がされず、 for文なども考え試行錯誤していましたが、うまく実行できない状況であります。 登録のための方法をご教授いただければと思います。よろしくお願いします。 array(3) { [0]=>"146-0082" [1]=>"東京都大田区" [2]=>"田中さん" array(3) { [0]=>"120-0015" [1]=>"東京都足立区" [2]=>"山田さん" -------------------- （参考） $sql = ('insert into table (number, adress, name) values (:number, :adress, :name)'); $stmt = $dbh->prepare($sql); $params = array( ":number" => $data[0], ":adress" => $data[1], ":name" => $data[2] );
phpでXMLを生成しています。 XMLをエディターで見るとほとんどの文字は正常に表示されているのですが、一部の文字だけが文字化けしています。 具体的には　究、岩、ど　の三つの文字だけです。 その三つの文字はいずれも同じ文字に文字化けしています。 cを丸で囲ったコピーライトの表記に使われる文字に似ています。 上記の文字のみなにかコピーライトに引っかかっているのでしょうか。 googleで色々と調べてみましたが、他の文字での文字化けの事例はあるのですが、上記の文字での事例は見つかりませんでした。 どなたかご教示願えませんでしょうか。 phpのバージョンはPHP Version 5.3.3です。 phpのあるディレクトリと同じディレクトリにhtaccessで以下の記述を入れています。 php_value mbstring.internal_encoding UTF-8 php_value default_charset UTF-8 php_value mbstring.http_output UTF-8 php_value mbstring.language UTF-8 php_value mbstring.http_input auto php_flag mbstring.encoding_translation On php_value output_handler mb_output_handler
現在xammpを利用して製作を進めています。 データベースに日本語を打ち込んだ際？？？と表示がされており原因を探ったところphpmyadmin の文字コードの問題だと行き着きました。 で、『サーバー接続照合順序』を utf8 に設定しようとしたのですが、なぜか強制的に utf8mb4 に変更されてしまいます。 表示は???のままです。 SET character_set_client = utf8; SET character_set_results = utf8; SET character_set_connection = utf8; をsqlに打ち込んでもやはりmb4になってしまいます。 なぜでしょうか？どのように対応したらいいですか？
○質問の主旨 先日、下記の質問をしました。 PHPのfor文とforeach文の使い方 http://okwave.jp/qa/q8812443.html この例では,for文とforeach文を使って、 ・果物の名前を4回繰り返す ・繰り返しの2回目と4回目は、"食べてください"という文字列を入れる というプログラムを実現しています。 今回は同じ出力をするにあたって、 繰り返しはforeachのみで実現したいと考えています。 どのように修正すればよろしいでしょうか？ ご存知の方がいらっしゃいましたら、 ご教示を願います。 ○質問の補足 このようなプログラムにしたいと考えています。 $fruits = array("りんご", "ばなな", "ぶどう", "みかん"); foreach ($fruits as $value) { // 果物の名前を4回繰り返して2回目と3回目は"食べてください"を入れる if (($i == 1) || ($i == 3)) { echo "食べてください"; echo "<br/>"; }; echo $value; echo "<br/>"; } 完成イメージはこんな感じです。 (1回目のループ) りんご ばなな ぶどう みかん (2回目のループ) 食べてください りんご ばなな ぶどう みかん (3回目のループ) りんご ばなな ぶどう みかん (4回目のループ) 食べてください りんご ばなな ぶどう みかん ○前回のプログラム for($i = 0; $i < 4; $i++) { if (($i == 1) || ($i == 3)) { echo "食べてください"; echo "<br/>"; }; $fruits = array("りんご", "ばなな", "ぶどう", "みかん"); foreach ($fruits as $value) { echo $value; echo "<br/>"; } }
PHPとJavaScriptの連携に困っています。以下のようにフラグを立てテキストボックスに代入しています。 frm.newdata.value = '<?php if(条件) $flg = true; echo $newdata; ?>' そしてフラグがてばメッセージを出します。 <?php if($flg) echo 'alert("このデータは登録済みです");'; ?> ところがフラグ（$flg）を共有化したいのですが、上下で別物扱いになります。上の処理では代入をしているのでechoでメッセージまでは出せません。 対応策ご存じであれば教えてください。
みなさん初めまして。 １つ質問させて頂きたいことがあります。 実用するかは不明ですが勉強がてら、PHP+MySqlで会員登録制の簡単なSNSサイトのようなものを作成してみたいと考えています。 そこでユーザのプロフページのようなものを作成したいのですが、 例えばAmebaのように http://profile.ameba.jp/*********/ こういったURLでページを表示させるには、どういった方法をとればよいのでしょうか？ ユーザアカウント単位でフォルダを作成してindex.phpを作成する方法は浮かんだのですが、アカウント単位でフォルダを作成するのは、あまり現実的ではない？と正直感じてしまい、何か方法があるのか？と、今回質問させて頂きました。 どなたかご教授頂ければ嬉しいです。よろしくお願いします。
お世話になります。 $arr1 = array(1,2,3); $arr2 = array(2,3,4); という配列が存在していたとき、これらすべてに共通する値を取り出すとき、 array_intersect($arr1,$arr2) で良いと思うのですが、上記に更に値があるか分からない配列（$arr3,$arr4）を比較したいときどのように記述すればよいでしょうか？ $array_list[] = $arr1; $array_list[] = $arr2; if($arr3 != NULL){$array_list[] = $arr3;} if($arr4 != NULL){$array_list[] = $arr4;} $array_list = implode(",",$array_list); と半ば強引に配列に追加したのですが、var_dump($array_list)したところ、 Array,Arrayとなってしまいました。 $arr3,$arr4に値が入っている場合と入っていない場合でif分岐させて、 array_intersect($arr1,$arr2) array_intersect($arr1,$arr2,$arr3) array_intersect($arr1,$arr2,$arr4) array_intersect($arr1,$arr2,$arr3,$arr4) の4パターンを書くこともできるかと思いますがスマートではないような気がしまして・・・。 なにかよい方法が有りましたらよろしくお願い致します。
今会社ではfuelphpを使ってWEB制作をしています。私は勉強も兼ねてレンタルサーバを借りて１から環境設定をしています。 hogehoge.xsrv.jp(xserver)を借りています。 質問事項は以下です。 １．fuelphp(fuel,public,docs等すべてのファイル)はどこに落とせばいいのでしょうか。 調べると、どこでも構わないようなことが書かれているのですが、 一般的にはどこに落とすのでしょうか？ 今現在は[hogehoge.xsrv.jp/public_html/ ]内に全て入れてあります。 （public_htmlという公開フォルダに全て入れるのも間違っている気が…) ２．上記条件ですと、 [hogehoge.xsrv.jp/hugahuga/public](hugahuga：プロジェクト名) でWelcome!ページに飛ぶことはできるのですが、 hogehoge.xsrv.jp を叩いた時にWelcomeが見れるようにしたいのです。 .htaccessで操作ができることはわかるのですが、そこから500エラーやらサーバエラーやらになってしまい、うまくRewriteRuleが書けません。 どこに.htaccessを置いて、どのように書けばいいのか教えていただきたいです。 以上２件よろしくお願いいたします。
いつもプログラムの質問でお世話になっております。 今回も誠に恐縮ですが今回もご教授いただけたらと思っております。 よろしくお願い致します。 現在、複数条件の絞込み検索のWEBアプリを制作中なのですが MySQLでのSQL文を仮に下記のように入力したら玉田と表示できるようにしたいのですが、何も表示されません。 いろいろ考えたのですが、SQL文の正解がわかりません。 どのように入力したら玉田という名前のみ表示されるのでしょうか？ 何卒よろしくお願いします。 SELECT code,name,team_name,price,position,gazou FROM mst_player_market WHERE 1 and (code IN (SELECT playerid FROM team WHERE team_id IN (1))) and (code IN (SELECT name,COUNT(*) FROM mst_player_market GROUP BY name HAVING name = 玉田)); テーブル名　mst_player_market code name price gazou position team_name 15 玉田　70000000 player_bustup_11.jpg FW 　　　　　名古屋 16 田口　 4000000 player_bustup_28.jpg MF 　　　　　名古屋 17 田鍋　 6000000 player_bustup_14.jpg MF 　　　　　名古屋 18 田中　 120000000 player_bustup_04.jpg DF 　　　　　名古屋 3 津田　 40000000 p4389_img2.jpg 　　　FW 　　　　　徳島　 24 長谷川　 30000000 p4399_img.jpg 　　　　　　GK 　　　　　徳島 25 山口　 30000000 photo021401851726.jpg MF 　　　　　　　　千葉 26 ケンペス 50000000 photo011401851481.jpg FW 　　　　　　　　千葉 テーブル名　team playerid team_id team_name 15 1 名古屋 16 1 名古屋 17 1 名古屋 18 1 名古屋 21 1 名古屋 22 1 名古屋 23 2 徳島 24 2 徳島 25 3 千葉 26 3 千葉 28 2 徳島 29 2 徳島
0,123,45,678,999　など、カンマ区切りの情報がある　data.txt　というファイルがあり、 別のPHPファイルにdata.txtの内容を書き出したい場合、 <?php echo file_get_contents("data.txt"); ?> と書くと全部表示されてしまいます。 data.txtの1行目で、2番目と3番目のカンマの間の数字（上の例ですと123）を書き出すには、どのように書いたらよいか、お分かりになる方教えて頂けませんでしょうか。 よろしくお願いいたします。
現在個人でWebサービスを開発しています。 環境はWindows8とパッケージされたEclipseのPHPのパッケージでXAMPPが付属しているやつです。 解凍するだけでほとんど設定いらずで開発できるのでPHPを触り始めた2005年から使っています。 このようにどっぷりWindowsなのですが、開発現場ではMacかLinuxが主流なのでしょうか？ いつかWeb業界で働きたいと思っていますが、それを見据えているなら今からでもMacに置き換えたほうが良いでしょうか？ それと書籍ではWindowsでの開発を解説した本がほとんどのようですがなぜでしょうか？ 著者は現場の人がほとんどですよね？ Windowsでの開発で何か問題が起きたということは今のところないです。 ですが業界に入るときに足かせになるのではないかと危惧しています（そもそも業界に入れるかはわかりませんが・・・） 開発環境についてその他にアドバイスなどがあればどうぞよろしくお願い致します。
ウェブ上のhtmlをPHPのfile_get_contents関数で抽出し、mb_convert_encodingをした後、必要なテーブル部分を抽出したのですが、その後の処理に困っています。 header("Content-Type: text/html; charset=UTF-8"); $page = file_get_contents ('http://ｘｘｘｘｘｘｘｘｘｘｘｘ.php'); $fp = mb_convert_encoding($page, "UTF-8", "ASCII,JIS,UTF-8,CP51932,SJIS-win"); $text = substr($fp, $letter, $num); substrで取り出した文字列を編集しているのですがうまくいきません。 取り出した内容は下記の内容で、これをテーブルの部分だけにしたいです。 preg_replaceを使って正規表現で処理するような気がしたので、色々と試しては見たのですが、タグと文字列を同時に消すことが出来ません。（タグだけを消すことは出来ます） ----------------------------------------------------------- <div id="momiji_box"> <p class="p_menu"><a name=menu_1 id=menu_1> <p> <table class="no_border"> <tr><td class="no_border_td"><h3 id="this_week_flower">洛北</h3></td></tr> </table> <div class="flower_photo"> <br />延暦寺の紅葉</div> <div class="flower_photo"> <br />曼殊院の紅葉</div> <div class="flower_photo"> <br />赤山禅院の紅葉</div> <p style="margin:0 0 10px;" class="c-fix"></p> <div class="clear_l"></div> <table class="border"> <thead> <tr> <th colspan=2>紅葉の名所</th> <th>電話番号（075）</th> <th>例年の見頃</th> <th>10月30日現在</th> </tr> </thead> <tbody> <tr> <td colspan=2>常照皇寺 </td> <td>853-0003</td> <td>11/上</td> <td>色付き始め</td> </tr> <tr> <td colspan=2>峰定寺 </td> ・・・・・・ /tbody> </table> </div> ----------------------------------------------------------- どうすれば、テーブル部分のみ抽出することができるでしょうか、ご教授宜しくお願いします。 【環境】 Windows7 PHP5.3 共用Xserver
番号、名称、上位番号が存在した場合に、削除ボタンを押したら(上位番号が設定されているので削除できません)というエラーのメッセージを表示させたいのですが、どのようなif文を書けばいいのかが分かりません。 emptyを使ってなんとかすればいいのでしょうか？ 上位番号が存在しなければ、他は何が設定されてても削除できるようにしたいです。 よろしくお願いします。 キーワードだけでも教えていただけたら、あとは自分で調べます。
あるプログラムで以下の処理があるのですが、 本日動作したログを確認したところ、 結果が"2014-12-01"となっており、 本来取得したかった"2014-11-01"ではありませんでした。 15日以上は来月の1日、14日未満は今月の1日を正しく返す処理にしたいのですが、 修正をする際の代替案がありましたらご教示お願いします。 ＜処理＞ function hoge() { if (15<= date('d')) { return date('Y-m-01', strtotime('+1 month')); } else { return date('Y-m-01'); } } echo hoge()."\n"; 以上
PHPから「select max(id) from table」で「idで最大」が得られていないようで困っています。 一応、sqlite3で同じコマンドを叩いた場合ひ期待した値は帰ってきますが、上記のPHPのコマンドではサイズが0のオブジェクトが返って来ます。 また、このコマンドは「一番新しく追加された項目のidを求める」為に必要なのですが、もしmax(id)を使用しない方法をご存知であれば御教示下さい。
PHPの中で下記ようなam()という関数？を使っている箇所があるのですが、Webで検索して みても使い方がよくわかりません。これはどういうものなのでしょうか？ $options = (is_array($options)) ? am($defaults, $options) : $defaults; extract(am($defaults, $options)); 御存じの方、御教示ください。
phpで検索結果画面の制作を勉強中です。 pdoでmysqlデータベースに接続しています。 現在、検索フォームの作成を勉強中です。 検索用のフォームに入力された文字に類似しているという条件（あいまい検索）のもと、 添付画像の上のようなデータベーステーブル内をSELECT COUNTし、 添付画像の下のように、検索に該当するそれぞれのカラムのデータと、そのデータがいくつ存在しているのかを表示させたいです。 SELECT COUNTでGROUP BYを使用すれば結果が取得できると教えていただき、以下のようなphpを記述しました。 //フォームに入力されたテキストをGETで渡し、プログラムで取得し、あいまい検索に対応させる。 $search = '%'.$_GET['search'].'%'; //現在表示している結果表示ページのページ数をURLから取得 $page = $_GET['page']; //SQLのLIMIT句用にデータのいくつめから取得するか$limitに入れる $limit = ($page-1) * 20; //該当するものをグループ化し、それぞれのデータ数をカウントする try{ $stmt=$db->prepare('SELECT COUNT 【住所】 FROM 【顧客情報】 WHERE search like :search GROUP BY 【住所】 LIMIT :limit , 20'); $stmt->bindValue(':search',$search,PDO::PARAM_STR); $stmt->bindValue(':limit',$limit,PDO::PARAM_INT); $stmt->execute(); }catch(PDOException $e){ $error = "エラー:".$e->getMessage(); } while($row = $stmt->fetch(PDO::FETCH_ASSOC)){ print $row['【住所】']; } ※検索フォームのタグは省略しています。 ※データベース接続は$dbで行っています。 ※該当したデータを1ページにつき、20件ずつ表示したいのでLIMIT句を使用しています。 実行したところ、結果はおろか、エラーも何も表示されませんでした。 個人的にはSQL文に間違えがあるというよりも、 while文以降で取得したデータの表示ができていないのではないかと思いますが、 「SELECT COUNT」の結果表示の方法をネットで調べても 答えになるものが中々見つかりませんでした。 また、添付画像の下のように、 取得したデータ名とそのデータの件数を一緒に表示するプログラムが理想なので、 どなたかご教授頂けると有難いです。 ご回答、よろしくお願いします。 ※ちなみに、正規化については理解しておりますが、今回は例示として住所を使用しました。
初歩的な質問ですみません。 MySQLにとあるテーブルがあって、 その中に 更新日時 という DATETIME 型のフィールドがあるのですが、 insert でレコードを追加する際にそこに現在日時をセットしようとして、 恥ずかしながらその方法がわかりません。 $sql = sprintf('INSERT INTO %s SET %s="%s", %s="%s"', 　　　　　　　　'tmp', 　　　　　　　　'mailAddr', e($mailAddr), 　　　　　　　　'update', date('Y/m/d H:i:s')); mysql_query($sql); とか、 $sql = sprintf('INSERT INTO %s SET %s="%s", %s=cast(now() as datetime)', 　　　　　　　　'tmp', 　　　　　　　　'mailAddr', e($mailAddr), 　　　　　　　　'update'); mysql_query($sql); とか、いろいろ調べて試してみたんですけど...。 上記のように、insert into xxx set～ を使う場合を知りたいです。 すみません。 よろしくお願いします。
WordpressのWelcartの商品画像アップロードにおいてされているように 特定の規則に基づいて名付けた画像のファイル名をパラメータとして 解析して処理し、特定のページやコンテンツと関連付けたり というようなことをしたいと考えています そこで区切り文字として記号を使いたいのですが 一般にファイル名として安全とされる-_を区切り文字にしていた場合 パラメータで指定したい特定のページやコンテンツの 識別名に-_が使われてると この名前を指定できなくなってしまいます そこで-_以外の記号を区切り文字にできないかと考えているのですが この用途の範囲において-と_以外で使える記号はあるでしょうか？
phpで検索結果画面の制作を勉強中です。 pdoでmysqlデータベースに接続しています。 添付画像のように、 重複しているデータをひとつにまとめ、それぞれの重複数を取得するようなSQL文はないでしょうか？ ちなみにできれば、添付画像のように、 フォームで入力されたテキストをもとに、 WHERE文でカラム名をあいまい検索をした上で 該当する重複レコードのカラム名を1つだけ表示し、その横に重複数を表示したいです。 フォームのテキストをもとにあいまい検索をする方法は理解しておりますので、 該当する重複レコードのカラム名を1つだけを取得し、その重複数も取得できるようなSQL文があれば教えていただきたいです。 色々と試しては見たのですが、中々上手くいかずに悩んでいます。 ご回答、よろしくお願いします。
phpで検索結果画面の制作を勉強中です。 pdoでmysqlデータベースに接続しています。 検索フォームに入力されたテキストデータを条件に tableA内をあいまい検索をして 必要項目columnA、columnB、columnCを取得し、 htmlのテーブルの<td></td>に それぞれ$row['columnA']、$row['columnB']、$row['columnC']を入れ、 while($row = $stmt->fetch(PDO::FETCH_ASSOC)で繰り返すことで テーブル一行ごとに取得できたデータを１つ記載して結果として表示するプログラムを書き、うまく稼働させることができました。 問題は、今度はtableB内で、tableAで取得したcolumnAとtableBのcolumnDの値が同じという条件のもと、 該当レコードのcolumnE、columnFを取得して、 検索結果のテーブルに、tableAの取得データと同じ行で データを表示させたいという点です。 単純に、上記のうまく稼動したテーブル内の <td></td>内に $stmtb=$db->prepare('SELECT columnE,columnF FROM tableB WHERE columnD :columnA'); $stmtb->bindValue(':columnA',$row['columnA'],PDO::PARAM_STR); $stmtb->execute(); $row_b = $stmtb->fetch(PDO::FETCH_ASSOC); print htmlspecialchars($row_b['columnD']); というプログラムを記述しましたが、 テーブル上にデータが表示されませんでした。 どのようにしたら同一テーブル行内で別テーブルの該当データを表示することができるのでしょうか？ イメージが伝わりづらいかと思いますので以下、テーブルとカラムに名称を付けて、 表示したいテーブルのイメージとデータベーステーブルのイメージの画像を添付します。 添付画像の 顧客No.・顧客名・住所のデータが顧客情報用のテーブルに格納されていて 顧客No.・購入品・購入日のデータが購入品ログ用のテーブルに格納されている 状態で、 顧客No.と照合した購入品ログ用テーブル内の購入品のデータと購入日のデータを 添付画像のように、同じテーブルの行で表示をさせたいです。 ご回答、よろしくお願いします。
TwitterAPIを利用し、指定した日時に予め用意していたテキストをツイートしてくれるbotを作成したいと考えています。 色々と検索したのですが、下記サイトが一番理想に近いかと思います。「不定期に小倉百人一首をつぶやくbot」。 http://gihyo.jp/dev/serial/01/twitterbot/0004 上記のサイトでは不定期にツイートするようにしていますが、 例えば本日だったら10月23日00時00分に「Hello!」というテキストを投稿するにはどのようにコードを書き換えれば良いでしょうか？ ご存知の方いらっしゃいましたらご教示ください。 よろしくお願いします。
PHP多次元配列で特定キーが重複している箇所をランダムで1つだけ表示したい ・id基準 ■元配列 Array ( 　　[0] => Array 　　　　( 　　　　　　[id] => 5 　　　　　　[name] => "佐藤" 　　　　　　[age] => 5 　　　　) 　　[1] => Array 　　　　( 　　　　　　[id] => 5 　　　　　　[name] => "伊藤" 　　　　　　[age] => 7 　　　　) 　　[2] => Array 　　　　( 　　　　　　[id] => 5 　　　　　　[name] => "鈴木" 　　　　　　[age] => 12 　　　　) 　　[3] => Array 　　　　( 　　　　　　[id] => 8 　　　　　　[name] => "山田" 　　　　　　[age] => 17 　　　　) 　　[4] => Array 　　　　( 　　　　　　[id] => 8 　　　　　　[name] => "奈良" 　　　　　　[age] => 2 　　　　) ■取得したいランダム結果配列例1 Array ( 　　[0] => Array 　　　　( 　　　　　　[id] => 5 　　　　　　[name] => "佐藤" 　　　　　　[age] => 5 　　　　) 　　[3] => Array 　　　　( 　　　　　　[id] => 8 　　　　　　[name] => "山田" 　　　　　　[age] => 17 　　　　) ■取得したいランダム結果配列例2 Array ( 　　[1] => Array 　　　　( 　　　　　　[id] => 5 　　　　　　[name] => "伊藤" 　　　　　　[age] => 7 　　　　) 　　[4] => Array 　　　　( 　　　　　　[id] => 8 　　　　　　[name] => "奈良" 　　　　　　[age] => 2 　　　　) ※1次元目のキーは元キーを維持していなくても構いません
パーフェクトPHPという書籍を見ながら作業を進めているのですが行き詰ってしまいました。 xamppのドキュメントルートの設定のところです。 ・httpd-vhosts.confファイルに以下の文章を NameVirtualHost *:80 <VirtualHost *:80> ServerName study.localhost DocumentRoot C:/xampp/htdocs/study.localhost DirectoryIndex index.php index.html <Directory "C:/xampp/htdocs/study.localhost"> AllowOverride All Allow from All </Directory> </VirtualHost> ・hostsファイルに以下の文章を 127.0.0.1 study.localhost 上記の２つを書き込むことによって ブラウザからhttp://study.localhost/にアクセスできるようになる。 と書いてあるのですが書き込んでもアクセスができず以下のように表示されます。 --------------------------------------------------------------------------- Object not found! 要求された URL は本サーバでは見つかりませんでした。 もし手入力で URL を入力した場合は、綴りを確認して再度お試し下さい。 サーバーの障害と思われる場合は、ウェブ管理者までご連絡ください。 Error 404 study.localhost Apache/2.4.10 (Win32) OpenSSL/1.0.1i PHP/5.5.15 --------------------------------------------------------------------------- 何がいけないのでしょうか？ 書籍にはこの部分はあっさり書かれており何がいけないのか分りません。 Apache、MySQLの起動はできています。 httpd-vhosts.confファイルへの書き込みを行わなければXampp for Windowsのページも出てきます。 PCは windows7を使用しています。 xamppはv3.2.1です。
以前PCにApache24を入れたんですが今回xamppを使うにあたってポートがぶつかってしまいました。 Apache24を消そうと思ったのですがアンインストール欄に存在せず、フォルダを消そうにも使用中で消せないと言われます。 フォルダの中にアンインストールのexeも存在していませんしどうやって消せばいいのか分りません。
ネット通販で楽天やヤフオクなど、いろんなショッピングモールに出品をしているのですが、商品の在庫が一つのモールで売れてしまったときに一括で一つの値をゼロに変えただけで、全モールの同じ商品の在庫がゼロになる仕組みを作りたいのですが、それに対してAPIという技術が必要だと聞きました。調べてみたのですが、いろいろな種類があるみたい？なのとやはり僕の知識が足りため、よくわからないなーっというとこで終わってしまっています。 僕のレベルは、PHPに関して、コードを見ればどこでどういう操作をしているか、それを見ながら、グーグル検索しながら、改造をするくらいはできます。しかし、初めからシステムを作るとなると（例えばメールフォームで情報を入力させて、特定のメアドにその情報を伝える等）どのコードを打ったら特定のメアドにSubmitできるのだろうと悩んでしまうレベルです。 うだうだ言ってますが、ここからが本題です。 APIを学ぶ上で、おそらく僕のレベルだとそのレベルに達していないと思うので、何を学べばAPIを学ぶ基礎ができるのか、もしくはAPIを直接学ぶとしたなら、どの参考書がいいか、またはスクールに通った方がいいのか、意見をくださるとうれしいです。 何か説明で足りないところがあったら追記しますので、みなさんご回答よろしくお願いします！
PHPかJavaScriptにてテキストボックスに入力された日本語をローマ字に変換する仕組みを探しています。 仮名だけなら手におえますが、漢字になると手におえません。 Webサイト上で処理したいため、ツールではなくライブラリやサンプルコードを探しています。 ご存じならご教授ください。
プログラミングは全くの素人です。 ネット上と「スラスラわかるPHP」という初心者向けの本を参照して、特定の単語を検索して自動で公式RTするbotを作成しています。 動作は問題ないのですが、RT後の結果を取得したいのです。 foreach ($jset['statuses'] as $result) { $id = $result['id']; try{ echo $twObj->OAuthRequest( 'https://api.twitter.com/1.1/statuses/retweet/'.$ … 'POST', '' ); } catch (TwistException $e) { echo '<BR>エラー'; } } このプログラムを Google Apps Scriptを使って function getURL() { var apiURL = "http://xxxxxxxxxxxx/bot.php"; var r = UrlFetchApp.fetch(apiURL); if (r.getResponseCode() == 200) { var body = r.getContentText(); Logger.log(body); } という記述で10分間隔で叩いて動かしています。 最初は叩くごとに結果をGASでメール送信させていたのですが、「回数が多すぎる」とエラーになってしまいました。 こちらとしても、わざわざメールが大量に送られてしまうので毎回メールが来るのはパスしたいです。 RT後に {"created_at":"Mon Oct 13 14:21:50 +0000 2014","id":0000000000000,"id_str":"0000000000000",～} と返ってくる値のうち、IDや日時、text、ユーザー名、を抜き出して、textファイルかMySQLに保存したいのです。 どうしたらいいでしょうか？ また、リツイート済みのものをリツイートしようとすると {"errors":"sharing is not permissible for this status (Share validations failed)"} と返ってきます。TwistExceptionで拾えていないようなのです。 こちらの対処法だけでも、お願いします<(_ _)>
PHPの学習をしています 今回phpのライブラリを使いたいと思い調べてみたところ、 Githubやcomposerにたどり着きました 自分なりの解釈では Githubやcomoserはライブラリをつなぐ中間ツールのような印象を受けたのですが、 例えばこれをxamppなどにインストして利用することができるのだというところまでたどり着きました しかし、これをphpが使える無料サーバーで使うにはどうしたらいいのでしょうか 無料サーバーにGithubやcomposerをインストするというのは違うような気がしますし、 Githubやcomposer経由で取得したライブラリを個別にサーバーに上げる？ということになるのでしょうか、もしくは自分でサーバーを持っている人専用ということになるのでしょうか
下記のPHPスクリプトにおいて、updateMemo()関数の中で、テストで、 echo 'in update'; として、関数内に入ったら、文字列表示をするようにしているのですが、 更新ボタンを押しても、updateMemo()関数の中に入ってきません。（in update　が表示されません） 関数のコールの仕方が、onclick=の部分でまちがっているのでしょうか？ 教えていただきたいです。 <?php ////////////////////////// // メモ内容の閲覧、更新 // ////////////////////////// $sid = (int)$_GET['sid']; var_dump($sid); $con = mysql_connect("*****", "*****", "*****"); // リモートのMySQLデータベースサーバーに接続する mysql_select_db("*****-ideamemo"); // データベースサーバーに存在する（myPHPAdminで作成済みの）データベースを選択する $sql = "SET NAMES utf8;"; mysql_query($sql); $sql = "SELECT * FROM ideamemo_table WHERE sid=$sid;"; $result = mysql_query($sql, $con) or die(mysql_error()); $row = mysql_fetch_row($result); mysql_close($con); //$row[0] = (int)$row[0]; // string⇒int にキャスト echo '<form name="form1" method="POST" action="deleteUpdate.php">'; echo '内容<br>'; echo '<textarea name="textarea" cols="100" rows="30">'.$row[3].'</textarea>'; echo '<br>'; echo '<input type="button" value="更新" onclick="<?php updateMemo('.$sid.');?>">'; //echo '<input type="button" value="更新" onclick="updateMemo();">'; echo '<input type="button" value="削除" onclick="deleteMemo('.$sid.');">'; echo '<input type="button" value="トップページへ" onclick="location.href=\'main.php\'">'; echo '</form>'; var_dump($row[2]); function updateMemo($sid){ //function updateMemo(){ echo 'in update'; //var_dump($sid); //exit; date_default_timezone_set("Japan"); $update = date(Y年m月d日（D）H時i分s秒); $textarea = $_POST['textarea']; var_dump($textarea); var_dump($update); $con = mysql_connect("*****", "*****", "*****"); // リモートのMySQLデータベースサーバーに接続する mysql_select_db("LAA0471050-ideamemo"); // データベースサーバーに存在する（myPHPAdminで作成済みの）データベースを選択する $sql = "SET NAMES utf8;"; mysql_query($sql); $sql = "UPDATE ideamemo_table SET contents = '$textarea', update_date = '$update' WHERE sid=$sid;"; $result = mysql_query($sql, $con); mysql_close($con); //header("Location: main.php"); } function deleteMemo(int $sid){ echo 'in delete'; $con = mysql_connect("*****", "*****", "*****"); // リモートのMySQLデータベースサーバーに接続する mysql_select_db("LAA0471050-ideamemo"); // データベースサーバーに存在する（myPHPAdminで作成済みの）データベースを選択する $sql = "SET NAMES utf8;"; mysql_query($sql); $sql = "DELETE FROM ideamemo_table WHERE sid=$sid;"; $result = mysql_query($sql, $con); mysql_close($con); //header("Location: main.php"); } ?>
いつもお世話になっております。 PHP経験者の方にとっては、どうしようもない質問だと思いますがどうかよろしくお願いします。 現在HTML、PHP、MYSQLを使って検索のWebアプリを作成しております。 検索結果を表示して検索件数も表示することはできたのですが、結果と件数の表示位置をそれぞれ別々に指定するにはPHP側でどのように分け、HTML側でどのように書けばいいのか調べても全く分かりませんでした。 本当に何か簡単なサンプルでもありましたら教えていただきたいです。 よろしくお願いします。
わからないところがあるので教えて下さい。 （コード） <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www. w3.org/TR/xhtmll/DTD/xhtmll- transitional.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> <title>PHP入門</title> </head> <body> <?php require('dbconnect.php'); $page = $_REQUEST['page']; if($page =='') { $page =1; } $page = max($page, 1); //最終ページを取得する $sql ='SELECT COUNT(*) AS cnt FROM my_items'; $recordSet = mysqli_query($db, $sql); $table = mysqli_fetch_assoc($recordSet); $maxPage = ceil($table['cnt'] /5); $page = min($page, $maxPage); $start = ($page - 1) * 5; $recordSet = mysqli_query($db, 'SELECT m.name, i.* FROM makers m, my_items i WHERE m.id=i.maker_id ORDER BY id DESC LIMIT ' . $start . ',5'); ?> <p><a href="input.php">新しい商品を登録する。</a></p> <table width="100%"> <tr> <th scope="col">ID</th> <th scope="col">メーカー</th> <th scope="col">商品名</th> <th scope="col">価格</th> <th scope="col">編集・削除</th> </tr> <?php while($table = mysqli_fetch_assoc($recordSet)) { ?> <tr> <td><?php print(htmlspecialchars($table['id'])); ?></td> <td><?php print(htmlspecialchars($table['name'])); ?></td> <td><?php print(htmlspecialchars($table['item_name'])); ?></td> <td><?php print(htmlspecialchars($table['price'])); ?></td> <td><a href="update.php?id=<?php print(htmlspecialchars($table['id'])); ?>">編集</a> <a href="delete.php?id=<?php print(htmlspecialchars($table['id'])); ?>" onclick="return confirm('削除してもよろしいですか?');">削除</a> </td> </tr> <?php } ?> </table> <ul class="paging"> <?php if($page > 1) { ?> <li><a href="index.php?page=<?php print($page - 1); ?>">前のページへ </a></li> <?php } else { ?> <li>前のページへ</li> <?php } ?> <?php if($page < $maxPage) { ?> <li><a href="index.php?page=<?php print($page + 1); ?>">次のページへ </a></li> <?php } else { ?> <li>次のページへ</li> <?php } ?> </ul> </body> </html> 参考書？はよくわかるPHPの教科書5.5対応なのですが、一番初めにこのファイルを開くと Notice: Undefined index: page in C:\xampp\htdocs\shop\index.php on line 14っとエラー？が出ます。 次のページ、前のページを押すとエラー？は消えるのですが、とっても気になります。 なるべくなら、エラーを非表示にせずにプログラム内で問題を解決したいのですが・・・ 初心者なのでどうして良いかわかりません。 出来れば、とってもわかりやすい解決を出来ればお願いしたいです。（馬鹿なので・・・） よろしくお願いします。
題名の通りなのですが、さくらのレンタルサーバープレミアムを使っているのですが、 セッションがまったく動きません。 phpを勉強をし始めたばかりでプログラムはあまり詳しくなく初心者サイトを見ながらウェブサイトを 作っていたのですが・・。 以前は動いたのですが、一年ぶりくらいにphpでサイトを作っている最中に気がつきました。 サーバーの仕様が変更になったのでしょうか・・。 xamppをインストールをしてローカル環境で試した所ちゃんとsessionは動いています。 アップロードすると動きません。（変数の受け取りができません） formで値を送ったりは問題ないのですがsessionが動かないため非常に困っています。 プログラムに問題はなく、ググっても解決できません。 <?php phpinfo(); ?> でセッションは下記のような状況になっていますが、私ではまったくわからず、session.save_pathを明示的に 示さなければならない、などちらほら見かけますがよくわかりません。 どしたら動くのでしょうか・・。 Session Supportenabled Registered save handlersfiles user Registered serializer handlersphp php_binary DirectiveLocal ValueMaster Value session.auto_startOffOff session.cache_expire180180 session.cache_limiternocachenocache session.cookie_domainno valueno value session.cookie_httponlyOffOff session.cookie_lifetime00 session.cookie_path// session.cookie_secureOffOff session.entropy_file/dev/urandom/dev/urandom session.entropy_length3232 session.gc_divisor10001000 session.gc_maxlifetime14401440 session.gc_probability11 session.hash_bits_per_character55 session.hash_function00 session.namePHPSESSIDPHPSESSID session.referer_checkno valueno value session.save_handlerfilesfiles session.save_pathno valueno value session.serialize_handlerphpphp session.upload_progress.cleanupOnOn session.upload_progress.enabledOnOn session.upload_progress.freq1%1% session.upload_progress.min_freq11 session.upload_progress.namePHP_SESSION_UPLOAD_PROGRESSPHP_SESSION_UPLOAD_PROGRESS session.upload_progress.prefixupload_progress_upload_progress_ session.use_cookiesOnOn session.use_only_cookiesOnOn session.use_trans_sid00
mb_send_mailでbccではなくtoで複数アドレスへ送信したいのですが、メールを受け取った人が他人のアドレスが見えない状態で送信したいです。 カンマで区切った複数アドレスをtoに指定してしまうと他人のアドレスが丸見えですよね？ この場合、mb_send_mailをアドレス数分だけループさせて送信するしかないのでしょうか？ その場合、100件くらいならsleepさせずにループで100回送信しても問題ないのでしょうか？ メールの容量は非常に小さいです。 共用レンタルサーバーでの運用です。 どうぞよろしくお願い致します。
<?php /* 配列の作成 */ $array = array($name, $telephone, $email); /* ファイルポインタをオープン */ $file = fopen("information.csv", "a"); /* CSVファイルを配列へ */ if( $file ){ var_dump( fputcsv($file, $array) ); } /* ファイルポインタをクローズ */ fclose($file); ?> 上記のように記載した時、windowsのchromeでみると文字化けしてしまいます。 どのような記述をすれば、文字化けしないか教えてください。
プログラミングで拡張子がmp3かwavの音声ファイルの音声を重ねたいです． 片方をBGMとして結合したいので，二つの音が重なるように結合したいです． どうすれば，できるのでしょうか？よろしくお願い致します． 単純な音声結合は cat 1.mp3 2.mp3 > total.mp3 できそうなのは確認しました． できたらPHPでやりたいです．
あるお仕事でフレームワークを使えないという状況に陥っております。 月々数千円のホスティングサーバーでの運用になるのですが、今となってはレガシーなＳｍａｒｔｙ＋Ｐｅａｒの組み合わせでの設計を指定されています。 PHPバージョンは5.3です。ホスティングなので変えられません。 CakeやFuelがそのホスティングで使用できるかはテストしないと分からない状況です。 過去の遺産でＳｍａｒｔｙ＋Ｐｅａｒのコードはいろいろあるのですが、DBの接続もPear::MDB2を使っていたりといまいちです。PDO使いたいけどいちいち書き換えが面倒・・。 また、ホスティングなので気まぐれに5.4や5.5などに上げられると、レガシーな設計だと動作が心配です。 どうのように思われますでしょうか。識者の方からのご意見をお待ちしてます。
メールアドレスを使わずサイト内だけでメッセージのやりとりをできるようにする スクリプトをフリーまたは有料で配布してないでしょうか。 自分のレンタルサーバに設置して利用できるならCGIでもPHPでも問いません。 希望の仕様は下記のような感じです。 ・数人での利用を考えています。 ・メールアドレスを登録しなくても良い。 ・個々でも管理者でもどちらでも良いのでユーザ登録(ID、Pass)を行う。 ・登録ユーザIDに対してメール送信可能。 ・受信箱で届いたメールを見ることができ、返信も可能。 ・JPG等のファイル添付可 無ければ上記を満たすような別サービスでも構いません。 メールアドレスを教え合わなくてもやり取りができる事だけが絶対条件です。 よろしくお願いいたします。
phpのmail関数を使いレンタルサーバーからメールを送りたいのですが [from: ]を設定するとgmailでの受信することが出来ません。 レンタルサーバーは　hostinger　です。 HPのURLは　http://xxxxxxxx.esy.es/ となっています。 [from]を使わず送信した場合の送信元　レンタルサーバーのユーザー名@srv65.main-hosting.eu 実際送信元にしたいアドレスは test@xxxxxxxx.esy.es です。
以下、ワードプレスのフォーラムにて相談したのですが、専門的過ぎるようでお返事がいただなかった経緯がございまして、こちらでのご相談をさせていただきます。 MW WP Formを便利に使っております。 フォーム入力後の確認画面、完了画面の遷移につきまして教えてください。 フォームをページの下部に設置し、そのページ内で確認、完了画面に遷移させています。 この場合、確認画面、完了画面が表示される際に、その都度ページの上部に戻ってしまい、下方にスクロールしないと確認画面や完了画面が閲覧できない状況になってしまいます。 そこで、ページの下部にフォームを設置した場合でも、確認画面、完了画面への遷移時にページ上部に戻ることなく、ページ下部（フォーム部分）が表示されるようにするための方法を教えていただきたく存じます。 詳しい方がおられましたら、ご助言を賜りたいです。 どうぞよろしくお願いします。
PHPよりファイルをアップロードするとタイムアウトになる現象が発生して困っています。 利用しているのはCORESERVERで、以前までは起こらなかったのですがここのところ頻繁に症状が発生します。アップロード時何も操作が出来なくなり、数分経過後500エラーが帰ってきます。 これはどういった原因が考えられますでしょうか？ 時折「sql server has gone away」というのが表示されます。MySQLを利用しています。 ただ、アップロード容量は50MB程度ありますし、アップするデータは数KBであってもエラーになるので容量指定の問題ではなさそうなのです。(phpinfoから確認してみました) お詳しい方で、何か思い当たる原因などありましたらアドバイスをよろしくお願いします。 また、解決する為にはどういった方法で1つ1つ原因を突き止めていけば宜しいでしょうか、このあたりも合わせてアドバイスいただけると助かります。よろしくお願いします。
<?php $array = array(1,2,3); var_dump($array); echo "<br>"; $ref = &$array[1]; var_dump($array); echo "<br>"; $copy = $array; $copy[0] = 'a'; $copy[1] = 'b'; $copy[2] = 'c'; var_dump($array); echo "<br>"; ?> 上記のコードの結果が、 以下の内容になる理由を教えてください。 array(3) { [0]=> int(1) [1]=> int(2) [2]=> int(3) } array(3) { [0]=> int(1) [1]=> &int(2) [2]=> int(3) } array(3) { [0]=> int(1) [1]=> &string(1) "b" [2]=> int(3) } (A) PHPが糞言語なのはどう考えても参照をポインタだと思っているお前らが悪い - なんたらノート第三期ベータ http://tanakahisateru.hatenablog.jp/entry/2013/1 … (B) PHPとかいう糞言語｜いんまのブログ http://ameblo.jp/nikko-inma/entry-11122429825.html 上記の現象は(B)のブログで紹介されていて、この現象それをもってPHPをクソ言語だといっています。で、そのブログを読んで激怒した人が、(A)のブログで「クソ言語だと思う奴が悪い」という趣旨でPHPの擁護をしようとしています。しかし、パフォーマンスがどうとかメモリの使用量がどうとか的外れな説明が並び、挙句の果てには「&は使うな」という結論に至っており、なぜ上記の結果になるのかの理由は全く示されていません。その結論を普通に解釈したら、「使ってはならない」機能を提供しているクソ言語、という事になりかねません…。 この両者のブログの争いはさておき、「$ref = &$array[1];」などと書いてしまうと後続の処理で期待と異なる結果になる理由が分かりません。常識的に考えて「おかしい挙動になるから使わないで」などという機能であるはずはなく、意味があるから用意されているのだと思います。 私の知る限り、関数の実行結果をreturnとは別に受け取りたい場合に、その関数の定義の引数に使用しているケースがあります。例えばstr_replaceの第四引数。このような使い方はPHPに限らず、非オブジェクト指向の言語でしばしばみかけるように思います。結果を受け取る変数を引数で指定するのは私には気持ち悪いのですが、ビルトイン関数で利用されている使用例ですので、PHPはそういう言語だという事だと思ってあきらめます。 str_replaceのようなケースは結果が期待通りになり、何も不思議な事はありません。しかし、それ以外にはどうなんだと。引数以外には使ってはならないんだったら使えないようにしておくべきだし、そうなってはおらず自由に使えるようになっているのだから何か意味があるはずではないかと思います。 ■質問は以下です。 ・上記のコードの結果なぜ「$array[1]だけがbになる」のでしょうか？ ・そうなる意義や有用性は？ ・&はどういうときに使用すべきですか。使用すべきケースはありますか？ 　(関数の結果を受け取るために引数で指定する場合以外で) よろしくお願いします。
■現状 ・APIリクエスト結果をPHPで受け取っているのですが、ネストがとても深いです ・個別に表示させようとしたら、4重foreachになりました ■質問 ・ネストが深い多次元配列から、スマートにデータを取得するにはどうすれば良いでしょうか？ ※同じようなことさえ出来れば、foreachでなくても構いません
配列の初期化を実施するのはどんな時でしょうか？ 例えば、下記では初期化を実施する必要があるでしょうか？ $hoge = array("foo", "bar"); また、配列の初期化を行う方法は、下記以外にもあるのでしょうか？ $hoge = array();
久しぶりに勉強しようと思ったのですが http://localhost/htdocs/2.php とパスをうちましたが Object not found! 要求された URL は本サーバでは見つかりませんでした。 もし手入力で URL を入力した場合は、綴りを確認して再度お試し下さい。 サーバーの障害と思われる場合は、ウェブ管理者までご連絡ください。 とでてきます。 やり始めたのにしばらくやらなかったのがよくなかったのか？ 理由が解らないです
現在Wordpressで特定のカテゴリを一覧表示させる設定を行っています。 ただ、記事が一件もない場合に、その旨を伝えるメッセージを表示させたいのと全てを非表示にさせたいと思っているのですが上手くいきません。（メッセージを表示とコンテンツ全体非表示の2つの方法をお伺いしたいです） 以下、実際のソースになるのですが、該当するカテゴリに記事が0件の場合 「○○に関する記事は現在ありません。」 と表示させるにはどうしたらよいでしょうか？ <h2 class="entry-title">カテゴリ1の投稿一覧</h2> <div class="container"> <?php $postslist = get_posts('numberposts=-1&orderby=post_date&order=DESC&cat=1'); foreach ($postslist as $post) : setup_postdata($post); ?> <ul class="hogehoge"> <a href="<?php the_permalink(); ?>" ><img src="<?php echo catch_that_image(); ?>" /></a> <li><a href="<?php the_permalink();?>"><b><?php the_title(); ?></b></a><br /> <a href="<?php the_permalink();?>"><?php echo mb_substr(get_the_excerpt(),0, 80);?>…</a> </li> </ul> <?php endforeach; ?> </div><!-- /container --> 2つ目の質問となりますが、投稿が0の場合にメッセージの表示ではなく、 <h2 class="entry-title">カテゴリ1の投稿一覧</h2> から、 </div><!-- /container --> まで、全てのレイアウトを含めた表示を非表示にするにはどのような定義を行えばよいでしょうか？ 試行錯誤試してみたのですが、本件2つの方法が解決できませんでした。 お詳しい方いらっしゃいましたらアドバイスのほどお願いいたします。 よろしくお願いします。
下記のソースのようにマルバツゲームを作っています。 setMaruBatuの$xに横位置、$yに縦位置を入れて、$kに入れる記号の種類を指定します。0が何もない状態で、1がマルで、2がバツです。 この際、プレーヤーを交互に入れ替えて、順番じゃない人は打てないようにしたいのですが、どういったプログラムを書けば、そういったことができますでしょうか。 よろしくお願いします。 <?php class MaruBatu{ private $board = array(); function __construct(){ for ($i=0; $i < 3; $i++) { for($j =0; $j < 3; $j++){ $this->board[$j][$i] = 0; } } } function setMaruBatu($x, $y, $k){ if($this->board[$x][$y] == 0){ $this->board[$x][$y] = $k; } } function showMaruBatu(){ for ($i=0; $i < 3; $i++) { for($j =0; $j < 3; $j++){ print $this->board[$j][$i]; } print '<br>'; } } } ?>
前回も質問をしたのですが、html、php、MySQLを使い現在検索システムの作成の練習をしているのですが、やりたいのは、phpでMySQLからデータを呼び出し、htmlで文字を記入して合致しているものを検索して表示し、検索結果数(何件表示されました)を表示するというものを作りたいと思っています。 検索してデータを表示させるということはできたのですが、検索結果数を表示することができません。 count()を使えば一発でできるという助言をいただきましたが調べてもよく分かりませんでした。 [php] <?php $add = $_GET["add"]; $nm = $_GET["nm"]; $server = "xxxxxx"; $dbname = "xxxxxx"; $user = "xxxxx"; $passwd = "xxxxxx"; $sv = mysql_connect($server, $user, $passwd) or die("Connection err1"); $db = mysql_select_db($dbname) or die("Connection error2"); $rows = mysql_query("SELECT * FROM `table1` WHERE add ='$add' or `nm` LIKE N'%nm'"); if($rows > 0){ $out = ""; while ($row = mysql_fetch_array($rows)){ $out .= $row['add']."<i>"; $out .= $row['nm']."<i>"; $out .= "<r>"; } echo $out; }else { echo "参照不成功：nm = ".nm; } mysql_close($sv); ?> phpについてもsqlについてもあまり知識がないのですが、よろしくお願いします。
PHP でシステムを開発する際ですが、恐らく何かしらのフレームワークを利用した場合は大半だと思います。そう言った時にテンプレートエンジンの Smarty を合わせて利用するかどうか意見が別れる時があります。 PHP でフレームワークが今ほど使われていなかった大昔は、素の PHP 実装 + Smarty で、ロジックとテンプレートを分離する流れがありました。 しかし、現在利用されるほとんどのフレームワークでは当たり前のように MVC の思想で構成されており、ロジックとテンプレートは初めから分離されています。 そう言った状況の中、Smarty を各フレームワークと連携してテンプレートエンジンとして利用する必要がどれほどあるのか、判断に苦しみます。 皆さんはどう考えるでしょうか？
・MySQLにdatetime型のデータがあります ・2012-03-08 12:00:00 ・このデータの月日の0をなくして、「2012-3-8 12:00:00」として利用したいです ・どうすれば良いでしょうか？ ・取得する段階で何か指定するのでしょうか？　それとも取得後？ ■環境 ・PHP×MySQL
現在、phpで会員サイトを作る勉強をしています。 最近、よくメールアドレスとパスワードを使用して 会員専用ページにログインさせているサイトを目にします。 確かに、各サイト毎に登録するようなユーザーIDは忘れやすいので、メールアドレスとパスワードの組み合わせでログインしてもらう方がユーザー側からしても良いと思いますが、 実際、メールアドレスでログイン認証している会員サイトでもユーザー側にはわからない管理用のユーザーIDというのは付与しているのでしょうか？ 付与している場合、それぞれのユーザーIDが同じにならないように乱数で作成するパターンが多いのでしょうか？ ユーザーIDの法則についてはサイト毎に異なるかとは思いますが、 実際、ほとんどのサイトはどのような決まりで付与しているのか気になり、質問しました。 ご回答、よろしくお願いします。
現在html、PHP、MySQLを使い検索システムの作成を行っているのですが、検索をしてMySQLより所得した結果何件表示されました、という感じにしたいです。 yahooでPHPで検索すると約11,440,000,000件みたいに。 やり方が分からなく何か参考になるサイトなどがありましたら教えていただきたいです。 よろしくお願いします。
現在、PHPでデータベースの値を利用するWEBアプリを作成しております。 一部のテーブルの値を削除するのに合わせて、 別テーブルの指定カラムを削除したいのですが、 PDOでは可能なのでしょうか。 例：テーブルAのレコード２を削除すると、 テーブルBのカラム２を削除するという流れです。 可能な場合は、サンプルサイトまたはサンプルコードを 教えてください。 不可能な場合は、PHPにて実装するためのサンプルサイトまたはサンプルコードを教えていただけませんでしょうか。 PHPのバージョンはPHP5.4でございます。 お手数ですが、ご教授いただけますと幸いでございます。 よろしくお願いいたします。
いつもご教授ありがとうございます わたくしはタグうち？でHPを調べながら作成している超初心者です。なので、質問の仕方や説明の仕方に不備があるかと存じますがよろしくお願いいたします。 ホームページのトップによくあるスクロールバーのついた更新履歴を表示するボックスがあるかとおもいます。そこに、表示する内容を別のhtmlで作成し登録と表示をそれぞれPHPでtextfileを使用しfputsの上書きaモードでソースをくみたて、foreachで一行ずつ区切って表示させました。 ここで問題が… (1)表示されるのは古い順です。新しい順にするにはどうすればよいのでしょうか？ (2)これをHPのhtmlに埋め込む場合、htmlからphpに拡張子をかえるのでしょうか？ よろしくお願いいたします。 ソース 必要ならおもうしつけください。
フォルダ内の2つの画像ファイルがあるとします。 sample.png sample_sp.png <img src="sample.png"> スマホで閲覧した場合に、_spというファイル名が付いた画像があればsample_sp.pngを表示、なければそのままsample.pngを表示 という方法は可能でしょうか？ ページ内の画像を全て対象にしたいです。 もし方法がありましたらよろしくお願い致します。
DSNを使う方法では接続できました。 DSN無しでodbc_connectで接続することができません。 DSN無しで接続する方法を教えてください。 環境は64ビットのWindows7のIIS7.5です。
私のやりたいことはSQL文の実行なのですが、PDOを使った操作になります。 どうかご教授お願い致します。 <th>価格帯</th> <td> <select name="price_min"> <option value="1" selected="selected">下限なし</option> <option value="10000000">1000万</option> <option value="15000000">1500万</option> <option value="20000000">2000万</option> 以下略 <th>愛知県 - 名古屋市</th> <td> <input type="checkbox" name="chiiki_id[]" value="1" <?php if (isset($_REQUEST['chiiki_id']) and in_array('1',$_REQUEST['chiiki_id'])) print 'checked'; ?>/> 中村区 <input type="checkbox" name="chiiki_id[]" value="2" <?php if (isset($_REQUEST['chiiki_id']) and in_array('2',$_REQUEST['chiiki_id'])) print 'checked'; ?>/> 西区 <input type="checkbox" name="chiiki_id[]" value="3" <?php if (isset($_REQUEST['chiiki_id']) and in_array('3',$_REQUEST['chiiki_id'])) print 'checked'; ?>/> 昭和区 <input type="checkbox" name="chiiki_id[]" value="4" <?php if (isset($_REQUEST['chiiki_id']) and in_array('4',$_REQUEST['chiiki_id'])) print 'checked'; ?>/> 港区 </td> <th>こだわり条件</th> <td> <input type="checkbox" name="kid[]" value="1" <?php if (isset($_REQUEST['kid']) and in_array('1',$_REQUEST['kid1'])) print 'checked'; ?>/> 新築 <input type="checkbox" name="kid[]" value="2" <?php if (isset($_REQUEST['kid']) and in_array('2',$_REQUEST['kid2'])) print 'checked'; ?>/> 南向き <input type="checkbox" name="kid[]" value="3" <?php if (isset($_REQUEST['kid']) and in_array('3',$_REQUEST['kid3'])) print 'checked'; ?>/> セキュリティ充実 <input type="checkbox" name="kid[]" value="4" <?php if (isset($_REQUEST['kid']) and in_array('4',$_REQUEST['kid4'])) print 'checked'; ?>/> 市街地が近い<br /> <input type="checkbox" name="kid[]" value="5" <?php if (isset($_REQUEST['kid']) and in_array('5',$_REQUEST['kid5'])) print 'checked'; ?>/> 内装リフォーム <input type="checkbox" name="kid[]" value="6" <?php if (isset($_REQUEST['kid']) and in_array('6',$_REQUEST['kid6'])) print 'checked'; ?>/> システムキッチン <input type="checkbox" name="kid[]" value="7" <?php if (isset($_REQUEST['kid']) and in_array('7',$_REQUEST['kid7'])) print 'checked'; ?>/> ペット可</td> </tr> </table> <input type="submit" value="検索" class="Btn-gray button"> </form> $sql = 'SELECT DISTINCT * FROM bukken'; //名古屋の地域checkbox if(isset($_POST['chiiki_id'])and is_array($_POST['chiiki_id'])){ $ary = array_filter($_POST['chiiki_id'], function($v) {return is_numeric($v);}); $sqlA = 'id IN (SELECT chiid FROM chiiki WHERE chiiki_id IN ('.implode(',', $ary).'))'; }else{ //print '地域がチェックされてません'; $sqlA = ' 1 '; } //kid絞り込み if(isset($_POST['kid'])and is_array($_POST['kid'])){ $ary = array_filter($_POST['kid'], function($v) {return is_numeric($v);}); $sqlK1 = 'id IN (SELECT fid FROM fudou_kodawari2 WHERE kid IN ('.implode(',', $ary).'))'; }else{ //print '<br />こだわりがチェックされてません'; $sqlK1 = ' 1 '; } のようなフォームからチェックされた値のkidのところを絞った条件で表示させたいです。下記のPHPで値を受けてSQL文をMySQLに接続してSQLを実行するのですが、中々出来ません。 そして テーブルがbukkenとkodawariがあります。 bukken id bukken_name chiiki_id address price_min price_max 　　　 station 1 名駅MID 　　　1 愛知県名古屋市中村区 40770000 55100000 名古屋駅 2 プレサン浄心 2 愛知県名古屋市西区城西 30800000 40001000 浄心駅 3 アネシア八事 3 愛知県名古屋市昭和区 50000000 62510000 八事日赤 4 アメニ港明 4 愛知県名古屋市港区港明 25000000 35000000 港区役所駅 5 ユーハウス上飯田 15 愛知県名古屋市北区 32000000 43330000 上飯田駅 6 ローレル葵 6 愛知県名古屋市東区葵x 30000000 46000000 高岡駅 7 ライオンズ2 愛知県名古屋市西区山木 35000000 55000000 上小田井駅 8 ポレスター名西 2 愛知県名古屋市西区名西 28000000 38000000 浄心駅 fudou_kodawari2 fid kid 1 1 1 2 1 3 2 1 3 2 3 3 3 4 4 3 5 4 6 4 7 1 8 1 8 2 8 4 このようなテーブルでSELECT DISTINCT * FROM bukken WHERE (id IN (SELECT fid FROM fudou_kodawari2 WHERE kid IN (1,2,3)))と言うSQL文を入力すると id bukken_name chiiki_id address price_min price_max 　　　 station 1 名駅MID 　　　1 愛知県名古屋市中村区 40770000 55100000 名古屋駅 2 プレサン浄心 2 愛知県名古屋市西区城西 30800000 40001000 浄心駅 3 アネシア八事 3 愛知県名古屋市昭和区 50000000 62510000 八事日赤 4 アメニ港明 4 愛知県名古屋市港区港明 25000000 35000000 港区役所駅 7 ライオンズ2 愛知県名古屋市西区山木 35000000 55000000 上小田井駅 8 ポレスター名西 2 愛知県名古屋市西区 28000000 38000000 浄心駅 kidの条件　1の場合　　fidが　1,2,7,8 2の場合 fidが　1,3,8 3の場合　　fidが 1,3,4 なので　　1,2,3,4,7,8 という結果が表示されますが、1,2,3の全てに一致する条件しか表示できないようにする（結果が1になる）にはどのようなSQL文を入力すれば良いのでしょうか？
初心者です。 ネットもさがしてみたのですが下記の意味がイマイアチわかりません。 <form name="form2" action="search.php" method="post"> <input type="text" name="keyword" size="25" value="<?= $keyword ?>"> <input type="submit" name="search" value="検索"><br /> <input type="radio" checked name="searchSelect" value="AND">AND　 <input type="radio" <?= ($searchSelect == "OR")? "checked" : "" ?> name="searchSelect" value="OR">OR </form> (1)<form name="form2" action="search.php" method="post"> 検索ボタンを押すと「action="search.php"」が起動します。 　どういう仕組みなのでしょうか。 (2) <input type="text" name="keyword" size="25" value="<?= $keyword ?>"> 　作者の説明で、 　『前の画面でテキストボックスに入力した値を、デフォルトで表示しています。 　<input type="text" name="keyword" size="25" value="<?= $keyword ?>">』 　となっていますが、value="<?= $keyword ?>"でなぜそうなるのでしょうか。 　また、<?= $keyword ?>の<?= ?>構文はどのような機能があるのでしょうか。 (3)<input type="radio" checked name="searchSelect" value="AND">AND 　「value="AND">AND」の右側の「ＡＮＤ］はどういう意味でしょうか。 (4)<input type="radio" <?= ($searchSelect == "OR")? "checked" : "" ?> name="searchSelect" value="OR">OR 　作者の説明で、 　『(6)前の画面でORラジオボタンが選択されていた場合は、選択(checked)します。 　<input type="radio" <?= ($searchSelect == "OR")? "checked" : "" ?> name="searchSelect" 　value="OR">OR』 　とありますが、<?= ($searchSelect == "OR")? "checked" : "" ?>でなぜそういうことができているのでしょうか。 　また、『"checked" : 』の『:』は何の役目をしているのでしょうか。 上記4つの質問でどれでもいいですのでどなたかお教え願えないでしょうか。
PHPで他のサイトを読み込んで、javascriptを実行した結果をsimple_html_dom.phpなどのライブラリで解析、スクレイピングすることは可能なのでしょうか？ もしできるとしたらどのようなライブラリやフレームワークを使えば実現できますか？ どうぞよろしくお願い致します。
唐突に質問失礼致します。 TwitterAPIを用いて指定の文字列を抽出しようとしています。 具体的には ユーザー名（name）に「病院」という単語を含み かつ ツイートに「治療」という単語を含む ような形です。 スクリーンネームではなく、ネーム（ユーザー名）で拾いたいです。 ※スクリーンネームとネーム（ユーザー名）の違い screen_name（@～以降の英数字の名前　例:@aaaなど） name（プロフィールで変更可能なユーザー名 例：鈴木太郎など） 例えば、 from演算子を使って「治療 from:xxxxx」で検索すると、アカウントのスクリーンネームが「@xxxxx」からのツイートの中で「治療」が含まれる検索結果が表示されます。 しかし、このようにスクリーンネーム(screen_name)ではなく プロフィールのユーザー名（name）にして複数検索したいです。 例えば、PHPで 「治療あるいは予防（または両方含む）」という２つの単語を含むツイートをした、「病院」という単語を含むユーザー名（name）を抽出したい場合、 $key = "治療 OR 予防 from:●●●"; などで●●●の部分をどう記述すればいいでしょうか？ ['name']と書き入れたりすればいいのでしょうか？ どう検索コマンドを組み合わせて記述すればいいか困っています。 （参考） Twitter検索オプションと高度な検索 http://www.e-letter.jp/sns/twitter/index38.html 教えていただけたら幸いに存じ上げます。
閲覧ありがとうございます。 現在、X-SERVERの共有SSL環境下でCSVダウンロードをすることができず困っております。 ダウンロードダイアログは出るのですが、ダウンロードしたファイルサイズが0バイトになってしまっている状態です。 ちなみに通常のhttp環境下では正常にCSVダウンロードができているため、SSLもしくは共有SSLが原因だと思っております。 どなたか原因お分かりになる方いましたらご教授頂ければと思います。 ちなみにFF32.0.2で検証していて、CSVダウンロードのレスポンスヘッダーは以下になっております。 ---------- HTTP/1.1 200 OK Date: Mon, 22 Sep 2014 15:23:01 GMT Server: Apache Cache-Control: public Pragma: public Content-Disposition: attachment; filename="reservations_20140923002302.csv" Last-Modified: Mon, 22 Sep 2014 15:23:02 GMT Content-Length: 8132; Content-Type: application/octet-stream Set-Cookie: RESERVEADMIN=deleted; expires=Sun, 22-Sep-2013 15:23:00 GMT; path=/ Set-Cookie: RESERVEADMIN=4ivlg2psk6flprpfeiilb2i6raq5v17d; path=/; secure; HttpOnly Connection: close ----------
以下のソースで、配列変数$a[0][0]にbを代入して、メソッドprintAでそれをprintしようとしていますが、"Parse error: syntax error, unexpected '$a' (T_VARIABLE), expecting function (T_FUNCTION) in C:\xampp\htdocs\a.php on line 4"というエラーが出ます。 どうすれば、$a[0][0]にbを代入して、メソッドprintAでそれをprintできるか教えてください。 phpのバージョンは5.5.15です。 <?php class A{ private $a = array(); $a[0][0] = 'b'; function printA(){ print $this->a[0][0]; } } $x = new A(); echo $x->printA(); ?>
以下のようなコードで、ブラウザに画像を表示させようとしたところ、画像が表示されず、代わりに「×」印が表示されました。どうすれば画像が表示できるのでしょうか？ <?php $img = file_get_contents('./test.jpg'); header('Content-type: image/jpeg'); echo $img; ?> 上記のコードは以下のサイトを参考に書きました（というより、ほぼそのままコピペしただけです。） http://ysklog.net/php/1575.html http://php.birdlab.com/tips/1 【備考】 ・OSはWindows7、XAMPPを導入して動かしています。IE11とChromeのバージョン 37.0.2062.120 m（現時点の最新版のようです）で試しましたがどちらも同じ結果でした。（正確には、Chromeの方は×印ではなく、文字1文字分くらいの大きさの「ファイル」のような画像でしたが…（ネットを見ている際に、画像ファイルが表示されない時に代わりに表示されるアレです）） ・表示した画像ファイル test.jpg はphpファイルと同じフォルダに置いてあります。ファイル名が違う（そもそも存在しないファイル名を指定している）場合には、エラーメッセージが表示されましたので、ファイルの存在は認識されているようです。 ・readfile関数を使っても駄目でした。 ・画像ファイルが壊れているということはありません（画像ファイルのアドレスを直接指定した場合はきちんと表示されます） コードの問題ではなく、環境設定の問題だと思いますが、どこに問題があるのかさっぱりわかりません。よろしくお願い致します。
すみません。どうしてもできない処理があります。 /test2000.html～/test2099.html 上記にアクセスしたクライアントに"test7.php"の内容を表示するというのはhtccessを 使ってできたのですが、さらにクライアントが入力したURLに従い任意の文字などを表示させたい のですが、そのためにはクライアントが入力したURLを知る必要があります。 はじめはPHPの"$abc=$_SERVER['PHP_SELF'];"を使って簡単にできそうだと思ったのですが、これだと全て"test7.php"と$abcに入ってしまいます。 可能ならば test2011.htmlと入力すると$abcに"test2011.html"が入るようにしたいです。 こういう処理は一度リダイレクトしてしまうとPHPではできないでしょうか・・。 もし無理であればなんとか別の方法でも良いのでクライアントが入力したURLを知る方法はないでしょうか。 RewriteEngine On RewriteCond %{THE_REQUEST} ^.*\s/test(20[0-9][0-9])\.html[\s\?].*$ RewriteRule ^(.*)$ test7.php [L]
下記のようなCSVデータがあります。 「名前」「内容」「日時」 田中　　報告1　　日時 田中　　報告2　　日時 田中　　報告3　　日時 吉田　　報告1　　日時 吉田　　報告2　　日時 佐々木　報告1　　日時 藤森　　報告1　　日時 藤森　　報告2　　日時 豊富　　報告1　　日時 豊富　　報告2　　日時 16000件あり、同一名で重複行を消すと5000件になります。 このデータを下記の通り、同じ人物の情報は1行のデータに変換したいです。 ↓上下で名前フィールドが一致したら、他の列の内容と日時を全て繋げて1つのフィールドに入れる 「名前」「内容」 田中　　[日時:報告1、日時:報告2、日時:報告3] 吉田　　[日時:報告1、日時:報告2] 佐々木　[日時:報告1] 藤森　　[日時:報告1、日時:報告2] 豊富　　[日時:報告1、日時:報告2] 1行ずつ処理してゆくスクリプトはサンプルが多くあり、作る事ができました。 <?php $openfile = file_get_contents('list.csv'); //csvをutf8に $openfile = mb_convert_encoding($openfile,"utf-8","auto"); //１行ずつ分ける $csv_gyo = explode("\n", $openfile); //１行ずつ読み込みながらのループ処理 foreach($csv_gyo as $kurikaeshi) { //カンマごとに分ける $ret_csv = explode(",", $kurikaeshi); echo("".$ret_csv[0]."<br />"); } 何卒、宜しくお願い致します。
ドットインストールにてページングの勉強をしています。 http://dotinstall.com/lessons/paging_php_v2/8510 件数が多いと、 この場合ですと１０ページ以上まで表示されてしまうかと思うのですが、 よくあるWEBサービスのように１０ページまでで区切り、 10ページ目をクリックすると、 5ページから１５ページまでを表示させたいのですが、 どのように書いていくものでしょうか？ <?php define('DB_HOST', 'localhost'); define('DB_USER', 'dbuser'); define('DB_PASSWORD', '********'); define('DB_NAME', 'dotinstall_paging_php'); define('COMMENTS_PER_PAGE', 5); if (preg_match('/^[1-9][0-9]*$/', $_GET['page'])) { $page = (int)$_GET['page']; } else { $page = 1; } error_reporting(E_ALL & ~E_NOTICE); try { $dbh = new PDO('mysql:host='.DB_HOST.';dbname='.DB_NAME,DB_USER,DB_PASSWORD); } catch (PDOException $e) { echo $e->getMessage(); exit; } // select * from comments limit OFFSET, COUNT // page offset count // 1 0 5 // 2 5 5 // 3 10 5 // 4 15 5 $offset = COMMENTS_PER_PAGE * ($page - 1); $sql = "select * from comments limit ".$offset.",".COMMENTS_PER_PAGE; $comments = array(); foreach ($dbh->query($sql) as $row) { array_push($comments, $row); } $total = $dbh->query("select count(*) from comments")->fetchColumn(); $totalPages = ceil($total / COMMENTS_PER_PAGE); // var_dump($comments); // exit; $from = $offset + 1; $to = ($offset + COMMENTS_PER_PAGE) < $total ? ($offset + COMMENTS_PER_PAGE) : $total; ?> <!DOCTYPE html> <html lang="ja"> <head> <meta charset="utf-8"> <title>コメント一覧</title> </head> <body> <h1>コメント一覧</h1> <p>全<?php echo $total; ?>件中、<?php echo $from; ?>件～<?php echo $to; ?>件を表示しています。</p> <ul> <?php foreach ($comments as $comment) : ?> <li><?php echo htmlspecialchars($comment['comment'],ENT_QUOTES,'UTF-8'); ?></li> <?php endforeach; ?> </ul> <?php if ($page > 1) : ?> <a href="?page=<?php echo $page-1; ?>">前</a> <?php endif; ?> <?php for ($i = 1; $i <= $totalPages; $i++) : ?> <?php if ($page == $i) : ?> <strong><a href="?page=<?php echo $i; ?>"><?php echo $i; ?></a></strong> <?php else: ?> <a href="?page=<?php echo $i; ?>"><?php echo $i; ?></a> <?php endif; ?> <?php endfor; ?> <?php if ($page < $totalPages) : ?> <a href="?page=<?php echo $page+1; ?>">次</a> <?php endif; ?> </body> </html>
下記のようなスクリプトにおいて、header()関数で、リダイレクトしているのですが、 ちゃんとリダイレクトできません。ちなみに、header()関数の前には HTML文も無い、ＰＨＰのみのスクリプトです。 どうすれば、リダイレクトできるか教えていただきたいのですが。 【profile_regist.php】 <?php if($_POST['ID_HANDLENAME']!==NULL) $handlename = $_POST['ID_HANDLENAME']; else header("Location: ～.html"); 中略 ?>
$setting = "2013"; $year = $setting == date('Y') ? date('Y') : "$setting"." - ".date('Y'); 現在これで設定してみましたが、ちょっと不細工だなと感じますので、 もっとスマートに計算できる式を教えてください！
(複数人の)ユーザーが記事を投稿し、各ユーザーのURLでそのユーザーの記事が閲覧できるブログシステムを考えております。 しかし、各ユーザのURLにアクセスしたとき、そのユーザーのデータをどのような方法で取得すれば良いのかわからず質問させていただきました。 以下、詳細となります。 ※MYSQLデータベーステーブル ・user_table id　名前 10　山田 11　鈴木 12　伊藤 ・,article_table id　user_id　url　　　　　text 1　10　　　　yamada　　山田です。 2　11　　　　suzuki　　　鈴木です。 3　12　　　　itou　　　　 伊藤です。 ※流れ 1,各ユーザーは管理画面にログイン 2,記事投稿ページで本文を入力し、投稿ボタンを押すとarticle_tableにデータが格納される。 3,domain.com/○○○(〇に入るのはyamadaなど、各ユーザーのurl) にアクセスすると、そのユーザーが投稿したarticle_tableのtextが表示される。) ※質問内容 domain.com/〇〇〇に、そのユーザーが投稿したtextを表示されるには、 <?php $st=$db->prepare("select * from article_table where user_id=:user_id"); $st->execute(array(":user_id"=>$user_id)); $data=$st->fetch(); echo $data["text"]; 、、、、 ?> といったように、$user_idによってそのユーザーのデータを引っ張ってくるかと思いますが、このとき$user_idの値はどのように得る方法が一般的なのでしょうか？ ・方法(1) URLをdomain.com/〇〇〇?user_id=△△△として$_GETで取得すれば可能ですが、 一般的なアメブロなどのブログシステムでは、そのような変数はURLについていないかと思います。 ・方法(2) あらかじめユーザーごとのフォルダにuser_id.txtのようなファイルを用意し、そこに書かれているidを読み込んでいるのでしょうか？ ・方法(3) 管理画面からユーザーが記事を投稿した時に、$user_idをファイルに埋め込んだ動的なphpファイルを生成して保存しているのでしょうか？ <?php $user_id=10; $st=$db->prepare("select * from article_table where user_id=:user_id"); $st->execute(array(":user_id"=>$user_id)); $data=$st->fetch(); echo $data["text"]; 、、、、 ?> このソースごと含めてユーザーファイルを生成してしまう。 ただ、やり方が今のところわかっておりません。 ・方法(4) 別のなんらかの方法 ご存知の方いらっしゃれば、ご回答いただければ幸いです。 尚、各ユーザーURLのページは、静的なページ(html)ではなく、動的なページ(php)となります。 よろしくお願い致します。
PHPでMySQLを操作しています。 PDOのprepare()を使えば（プレースホルダを使えば？）、SQLインジェクションは必ず発生しないと言えますか？ もし、そうだとすれば、SQLインジェクション対策はかなり簡単ですよね？でも、セキュリティの話でよく取り上げられるということは、実際は他の問題が発生したりするんですかね？
　ＰＨＰ初心者です（Windows　VISTA）、宜しくお願いします。 　 　最近ＰＨＰの勉強を始めようとして、ＰＨＰ、Ｘａｍｐｐ、Ｍｙｓｑｌ、ApacheがパックになったＣＤから インストールしましたが、「コントロールパネル＞プログラムと機能」からインストールしたプログ ラムを探しても「Ｘａｍｐｐ」しか見当たりません。 　コンピュター＞ProgramFilesフォルダーにも全く見当たりません。　 　また、すべてのプログラムからは、「Apacheフォルダ＞Ｘａｍｐｐ」と確認出来ました。 　ＰＨＰとかＭｙｓｑｌも一つのアプリケーションだと思うのですが、何故、「プログラムと機能」とか 　「すべてのプログラム」に表示されないのでしょうか。 　Javaを実行するためにEclipseをインストールしていますが、「ProgramFiles」フォルダーの中 にJavaフォルダがあり、jreが確認出来ます。 　「プログラムと機能」からもjreを確認出来ます。 　これは何故でしょうか、Ｍｙｓｑｌ、PHP（一つのプログラム言語としての）もアプリケーションの はずですが。 　以上宜しくお願いします。
新着情報のPHPを導入しようと説明に従ってFTPにアップしたのですが、admin.phpのページが500エラーで開かず困っています。初心者です。 パーミッションも全て指定通りに設定し、サーバーはファーストサーバーなので、ディレクトリへ.htaccessファイルを置いています。（文字コードの指定用） （.htaccessファイルを設置していない場合エラーは出ませんがページが変換されず(？)記述の文章がそのまま表示されているだけのページがでます。） 知識不足でお恥ずかしいですが、どうかご教授頂けないでしょうか。
・PHPで、MySQLのSET @hoge:=□;は使えないのでしょうか？ ・一度SQL経由で取得したデータをPHPでセットして、再度SQL発行するしかない？ ■やりたいイメージ $sql = ' SET @hoge:=□; SET @piyo := ■; SELECT * FROM temp WHERE date BETWEEN @min AND @max; '; $sth = $pdo->prepare($sql);
cakephp2.4とsmarty3でcms開発を行ってます。初期アクセス時の表示がすごく遅く何か原因わかる方いましたらご回答宜しくお願いします。 二回目以降、またはあまり時間を開けずアクセスすると早いです。この場合、ブラウザのキャッシュを削除してもそこまで遅くはありません。 しかし、数時間後に再度アクセスすると、また遅いです。 beforeRenderでexitかけてもレスポンス悪くない為、コントローラのDBやPHPの処理側ではなく、View(smarty)に問題があるのかな？と感じています。 何かわかる方や、アドバイスあるかたお願い致します。
たとえば、２か月前の最終日を求めるには date('Ymd', strtotime( 'last day of -2 month' )) で求められますが、その前日を求めるにはどうすれば良いでしょうか？ date('Ymd', strtotime( 'last -2 day of -2 month' ))
phpのsubmit処理について不明点があります 実装したいことは ボタンを押したらフォームの入力内容を別フォームに表示したいのですが 別フォームに呼び出しはできたのですが ボタン押下時にsubmitで表示するかの確認をしたいです 現段階ではボタンを押すと確認アラートも出ず、ただ別フォームが表示される形になってしまいます <--関数--> function showData(){ myRet = confirm("表示しますか") if (myRet == true){ } } <--form--> <form name = "FileData" action = "show.php" method="POST"> <--button--> <input type = "submit" name ="Display" onClick "showData();" value="表示"> ソースの抜粋になります これで実行するとshow.phpが呼ばれて表示はされるのですが関数が呼ばれず確認アラートも呼ばれません すぐ実行されるというものになっていますます この現象の原因と何か解決などわかることがあればよろしくお願いします。
・下記と同等機能をPHP5.4で書くにはどうすれば良いでしょうか？ array_walk($ary,"userfunc",&$hoge);
simplexml_load_fileを使ってXML形式のデータを処理したいのですが、 <YDF xmlns="http://olp.yahooapis.jp/ydf/1.0" firstResultPosition="1" totalResultsAvailable="1" totalResultsReturned="1"> <ResultInfo> <Count>1</Count> <Total>1</Total> </ResultInfo> <Feature> <Id>201210191610_139.73229_35.663613</Id> <Geometry> <Type>point</Type> <Coordinates>139.73229,35.663613</Coordinates> </Geometry> <Property> <WeatherAreaCode>4410</WeatherAreaCode> <WeatherList> <Weather> <Type>observation</Type> <Date>201210191610</Date> <Rainfall>1.65</Rainfall> </Weather> <Weather> <Type>forecast</Type> <Date>201210191620</Date> <Rainfall>0.00</Rainfall> </Weather> <Weather> <Type>forecast</Type> <Date>201210191630</Date> <Rainfall>0.00</Rainfall> </Weather> </WeatherList> </Property> </Feature> </YDF> $xml = simplexml_load_file(リクエストURL)； 上記のレスポンスが返ってきたとして、2番めのDateを取得しようとした場合 $xml->Feature->Property->WeatherList->Weather[1]->Date; では表示する事が出来ませんでした。 なにが原因でしょうか？
ワードプレスの予約システムについて質問です。 予約時の入力項目でメールアドレスを不要にしたいのですが、 そうすると入力完了後、 『メールの送信を失敗しました。電話で予約の確認をお願いします。』 とメッセージがでてしまいます。 自動予約確認メールは不要なのですが、そのように設定することはできますか？ よろしくお願いします。
PHPで特定のセルの背景を赤に DBに1～100までの特定の数字が入っています。 まず、 テーブル内の各＜TD>のタグの中に1から100まで順にセルを埋めています。 1つのセルに1つの数字を入れています。 1～100までのセルもPHPで書きだしています。 そのPHPで作成したテーブルと DB内の特定の100までの数字を照合し セルとDBで一致した数字のTDの背景色を赤にしたいです。 現在 "DB内の特定の数字と1～100までの数字の照合" ここの作業で悩んでいます。 １からの整数は$a DBからの整数は$b これで配列に取り出すところまでで行き詰っています。 照合させるにはIF文だと思うのですが、その中にどうかけばいいでしょうか？
以下のようなフォームでselectの値によって PHPでactionのURLを変更させるようなことは出来るでしょうか。 <form name="form" method="GET" action="ここをselect値により変更"> <input type="text" name="word" id="word" value="" /> <select name="select" id="select"><option selected="selected" value="01">値01</option> <select name="select" id="select"><option selected="selected" value="02">値02</option> <select name="select" id="select"><option selected="selected" value="03">値03</option> </select> </form> 以上、どうぞ宜しくお願い申し上げます。
自作でテンプレートを作成してみています。 現在、index.phpの場合にのみ表示させたいCSSリンクがあり、 このおかげで、ヘッダーテンプレートを2つ作成しなければならない状態です。 そこで、質問ですが、 任意のファイル名（index.phpやcontent.phpなどの場合）にのみ表示させるには どうすればいいでしょうか？ 例えば、index.phpの場合にのみ、 <link rel="stylesheet" type="text/css" href="css/index.css"> を追記したいなどです。
変数に格納した文字列のうち、URLを以下のようにして 置換しようとしましたが、置換されませんでした。 $html = str_replace("www.sample.com/hoge", "hoge.hogeoge.net", $html); str_replace の使い方が間違っているのでしょうか。 どうぞ宜しくお願い申し上げます。
phpのセレクトボックスの値を配列で指定したのですが初期値の表示がうまくいきません。 以下は現在のソースです。 $start_time[$j]はDBの取得値で取得配列と表示配列が一致するものを初期表示する というコードが以下になります $time_array = array( "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23" ); for( $a=0; $a < count( $time_array ); $a++){ $selectedStartTime =($time_array[$a] == $start_time[$j])?" selected":""; $startTimeSelectBox .= "\t<option value=\"{$time_array[$a]}\"{$selectedStartTime}>{$time_array[$a]}</option>\n"; } 疑問点ですが別条件で(たとえば$start_time[$j]にデータが0の時)配列の指定した値を選択したいです。 下記のようにそれぞれのvalue値の時に条件を指定すればできるのですが配列の時には どのように初期値を設定すればいいかわかりません。 　　　　　　　<option value="0" <?php if($start_time[$j] == "0") { echo "selected"; } ?>> 0 <option value="1" <?php if($start_time[$j] == "1") { echo "selected"; } ?>> 1</option> <option value="2" <?php if($start_time[$j] == "2") { echo "selected"; } ?>> 2</option> 　　　　　　　　・ 　　　　　　　　・ 　　　　　　　　・ 　　　　　　　　・ 条件を指定したときに初期値を設定したいです。どのように実装すればいいでしょうか。 よろしくいお願いします。
以下のコードでクッキーが送信できると思ったのですができません。 どこがいけないでしょうか？ <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitio … <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <title>cookie</title> <script language="javascript"><!-- --></script> </head> <body onLoad="setfocus()"> <?PHP if(!isset($_COOKIE['visited']))// { //はじめての訪問 $count=1; echo"<p></p>"; } else { echo"cookie up<br />"; $count = $_COOKIE['visited']; $count++; } setcookie('visited',$count);// echo "Hello！!<br />"; echo "your ${count} visited!<br />"; echo '<a href="cookie.php">cookie</a>' ?> </body> </html>
同一のサイト内でページ遷移するごとに ＭｙＳＱＬをPHPで再オープンしては閉じています。 すべてのページにＭｙＳＱＬについて書いていると 非効率的だなとも思うのですが サイトから出るまではＭｙＳＱＬの接続を保つなどできないでしょうか。
多言語対応の処理が入っているcontrollerのファイル出力用のメソッドを web画面からの起動と、shell起動の２パターンでよんでいます。 web画面から起動した場合は、きちんと日本語変換された文字がファイルに出力されるのですが、shell起動の場合だと、元の英語のまま出力されてしまいます。 そもそもshell起動では不可能なのでしょうか？ よろしくお願いいたします
・リンク先で下記のように書かれているのですが、SET NAMESは使わない方が良いでしょうか？ ・SET CHARACTER SETなら良いでしょうか？ ・.cnfを使用しない場合は、直接指定も可？ ＞SET NAMES だとMySQLサーバには charset が伝わるけれどクライアント側は latin1 のままなのでエスケープ処理で問題が出る可能性があります http://qiita.com/ngyuki/items/d88a4df860abb51eb714
phpでデータがあると正常に作動しますが、 データがないとファイルを開くとなります。 これはどういう状況のときにそうなるのでしょうか？
PHP 5.2.xを使い続けること問題になることを教えて下さい。 主にセキュリティ面でバージョンを上げるだけで回避できるものなどお願いします。
初歩的で恐縮ですが PHP5,4手続き型で書く場合についてです。 うまくMYSQLにインサートの文章がかけず or die("データ追加エラー");のエラーの表示しかされず右往左往しています。 <?php $sv = "mysql.xxx.jp"; $dbname = "bbb"; $user = "bbb"; $pass = "aaa"; $txt="あああ"; $ip="1234"; $ua="mac"; //接続 $link = mysqli_connect($sv, $user, $pass,$dbname); //クエリ文 $query = "INSERT INTO data1 (txt,ip,ua) VALUES('$txt','$ip','$ua')"; //書込不可ならエラー表示 $result = mysqli_query($link, $query) or die("データ追加エラー"); ?> txt,ip,uaというカラムは作ってあります。そこに各変数のデータを入れたいのです。 ご指摘、添削いただけますとありがたいです。 よろしくお願い致します。
こちらのPHPがうまく出力されません。 自分なりに書いてますが なかなか間違いを見つけられず添削お願いできると ありがたいです。 最初の4行のサーバー名はダミーです $sv = "mysql.xxx.jp"; $dbname = "bbb"; $user = "bbb"; $pass = "aaa"; $link = mysqli_connect($sv, $user, $pass,$dbname); $editpagename ="main"; $query = "SELECT * FROM $editpagename ORDER BY id DESC LIMIT 0 , 50"; $result = mysqli_query($link, $query); var_dump($result); どのようなことが考えられるでしょうか？ よろしくお願い致します。
マルチドメインは、あるディレクトリをドメインのように利用するようですが、そのディレクトリより上の階層にあるファイルにもアクセスすることはできるのでしょうか？ home ├musti_domain1　←これをマルチドメインに指定 │└index.php └function.php 上記のような構成の場合、index.phpはfunction.phpをincludeすることは可能ですか？ どうぞよろしくお願い致します。
とあるphpプログラムでデータがあれば正常に動き、数値が表示されます。 しかしデータがないとファイルを開くとなり、アプリケーションを選択させられます。 if($price == NULL) echo "なし";としても同じ現象です。 どうしたらファイルを開くとならず、正常に動作させられますか？ お手数おかけしますが、ご回答いただけましたら幸いです。
お世話になります。 header location がなぜが飛びません。 お分かりになる方ご教授お願いいたします。 ・<?php の前にはスペースなどを入れておりません。 ・エラー表示にはなりませんが、飛びません。 <?php session_save_path("sess"); session_name("deri_user"); session_start(); require("class/User.class.php"); $end=null; if($_POST[submit]=="送信"){ if(session_is_registered("sesdata1")){unset($_SESSION[sesdata1]);session_register("sesdata1");} if(session_is_registered("sesdata2")){unset($_SESSION[sesdata2]);session_register("sesdata2");} $_SESSION[sesdata1]=htmlspecialchars($_POST[user_name]); $_SESSION[sesdata2]=htmlspecialchars($_POST[user_pass]); $user=new User(); $usn=$user->owner_name(); $usp=$user->owner_pass(); if(trim($usn)==trim($_SESSION[sesdata1]) and trim($usp)==trim($_SESSION[sesdata2])){ header('location:./kanri_gamen.php'); exit(); }else{ $end= "<br>ユーザー名又はパスワードが正しくありません。"; } $user->__destruct(); } ?> <html lang="ja"> <head> <title></title> </head> <body> <center> <h3>管理者ログイン画面</h3> <form action="user_login.php" method="post"> <table style="border:3px ridge #333333"> <tr> <td>名前 </td> <td> <input type="text" name="user_name" size="20"> </td> </tr> <tr> <td>パスワード </td> <td> <input type="text" name="user_pass" size="20"> </td> </tr> <tr> <td colspan="2" style="text-align:center"> <input type="submit" name="submit" value="送信"> </table> </form> <?=$end?> </center> </body> </html>
普段プログラミングやデザインをしないのですが、WordPressでオリジナルデザインを作ってみようと思っています。 秀丸エディタを使っているのですが、ソースを追いかけるのに、かなり時間を使ってしまい短縮出来ないものかと考えています。 Eclipseだと、関数の定義元にすぐジャンプしたり出来るようですが、秀丸エディタなどのエディタで開発されている方達はどのように追いかけているのでしょうか？ テーマ独自の関数なのか、WordPress自体で定義されているのか、関数名だけでは分からなかったりと、一つの関数を追いかけるのも苦労しています。なにか良い方法があればと思います。それとも、１ファイルずつ開いて検索を繰り返すのが普通なのでしょうか？ なお、Eclipseなどの統合環境はちょっと設定などが面倒で、重いのでなるべく避けています。
md5() や sha1() などでランダムなコードは生成できますが、15桁程度でユニークなコードを 生成するとなった場合、どの様なものがあるでしょうか？ 生成する度に以前生成したものに存在するか確認しなくても良い方法がありましたら 教えていただきたいです。
PHP Version 5.3.1 を使用しています。 次のような２パターンの文字列が与えられた場合に、 fetchAllWithUser　←　Userを取得したい fetchAllWithBlogAndCommentAndImg　←　BlogとCommentとImgを取得したい fetchAllWithの後の任意の文字列（Andは除く）を１つの正規表現の記述で取得したいのですが、 どのような正規表現にすれば良いのでしょうか？
setcookie()を使ってcookieの値を更新したのですが、反映されない時があります。 クッキーに自作のセッションIDみたいなIDを保管して、そのIDを訪れる度に更新しようとしています。セッションIDなら session_regenerate_id();を使うと、更新されますよね？それと同じように自作IDに関しても、更新したいと思っています。 クッキーがうまく更新されていない時もsetcookie()の戻り値はtrue (1)です。どうしたら、session_regenerate_id();みたいにIDを更新して、反映させることができますか？
phpでmb_strlen関数を使おうと思ったら、Call to undefined function mb_strlenとエラーが出て使えません。調べたら他のmb関数も使えないようです。vagrantで作った仮想サーバなのですが、php.iniの設定がおかしいのでしょうか？
WordPressの「WP Video Posts」というプラグインで標記の問題が発生しています。 プラグインの中で、ffmpegのインストール状況をチェックする関数が exec("which ffmpeg",$output,$status); を実行し、ffmpegのフルパスを取りたいらしいのですが、 このとき$status=1(異常)になって、$outputが空になります。 試しに exec("which ffmpeg 2>&1",$output,$status); と書いたところ、$outputに「which: no ffmpeg in ((null))」が返ってきて、 PATHが通っていないことに気づきました。 ちなみに、同じスクリプトをコンソールから叩いた場合には、 正しい結果「/usr/bin/ffmpeg」が取得できます。 Webから実行した時だけ、上手く行きません。 (Webとコンソールは同じユーザーです) 以下、サーバーの情報です。 CentOS 6.4 PHP 5.3.3 nginx 1.4.2 php-fpm WordPress 3.9.2 WP Video Posts 3.1.5 nginxの実行ユーザー：nginx php-fpm(PHP)の実行ユーザー：nginx 環境変数「PATH」さえ通れば、問題が解決するのではないかと思っています。 開発方法をご存知の方、ご教示ください。 宜しくお願い致します。
PHP、Javascriptを勉強中のプログラミング初心者です。 PHP等のwebプログラムを使った 複数人がスケジュールを共有／管理できるソフトを作成したくて 参考になるようなサンプルを探しています。 既にあるアプリケーションの使い方等は出てきますが ソースコードを公開しているものが見つかりません。 参考書でもウェブサイトでもいいので、ソースコードが 掲載されている情報をどなたかご存じないでしょうか？ 教えてください。 よろしくお願いいたします。
PHPで問い合わせフォームを作ろうと勉強し始め、とりあえず簡単なものをと思っているのですが、入力フォームを作り次にチェックフォームへ移動した段階で以下の記述を入れています。 <?php session_start(); $_SESSION['name'] = $_POST['name']; echo htmlspecialchars($_SESSION['name']); ?> そしてチェックフォームの次のページで内容をメールで送るつもりなのですが、 チェックフォームから次のメールを送るページに移動した段階で <?php session_start(); echo htmlspecialchars($_SESSION['name']); ?> と記述しても、作成しているMacbookair2014では表示されているのですが、 スマホやWindowsでは表示されません。 どの環境でもチェックフォームまでは表示されているので、最後の引き継ぎがきちんと出来ていないだけだと思うのですが、何が足りないのでしょうか？ 分かりにくい文章で申し訳ありませんが、どなたかお分かりの方ご回答よろしくお願いします。 情報が足りなくて分からない場合はすぐに答えます。
$text = "日本 中国 オランダ"　を　日本, 中国, オランダのように分割するために、 以下のコードを書きました。 preg_split("/[\s]+/", $text); しかし、全角スペースの時も分割したいので、正規表現を/[　\s]+/とすると、preg_splitの返す配列に期待したものが、入りません。なぜか空文字（""）が含まれます。 どうすれば、全角スペースに対応できるでしょうか？
フェードで画像が切り替わるjQueryを使って画像を表示させています。 出てくる順番をランダムにしたいと思い、phpを記述しましたが、1枚目だけしか表示してくれません。 デモサイトがこちらです。 http://ijs.uh-oh.jp/demo/ ちなみにphpは、以下のように記述しました。 <figure id="fadein"> 　<?php $image=array( "image/photo01.jpg", "image/photo02.jpg", "image/photo03.jpg", "image/photo04.jpg", "image/photo05.jpg", ); $image = $image[rand(0, count($image)-1)]; echo '<img src=" '.$image.' " alt="">'; ?> </figure> 1枚だけでなく、ランダムで連続して表示させる方法をご教授ください。 phpは超初心者で自分なりに調べてみましたが、ギブアップしました(>_<)
私はHTML、CSSを学んだ後、SNSサイトを作りたいと考え、PHPをやり始め、データベース（MySQL）やセッション管理などを一通り学び終えました。 レンタルサーバー（XREA）も借りて準備万端（？）といったところです。 そこで早速SNSサイトを作りたいと考えたわけですが、何かアドバイスありますか？ 例えば、、、 ・まず何からやり始めればいいのか（他のSNSサイトのソースを見て参考にしてからのほうがいのか等） ・セキュリティについてはどの程度学べばいいのか。学ぶとしたらどの文献を参考にしたらいいのか。 ・CMSは使った方がよいか？（オススメのCMSなどがあれば教えてください） よろしくお願いします。
if($hoge['test_1']){ } if($hoge['test_2']){ } if($hoge['test_3']){ } if($hoge['test_4']){ } if($hoge['test_5']){ } ・上記をfor文で一気に書きたいです ・どう書けば良いでしょうか？ for ($i = 1; $i <= 5; $i++) { 　if($hoge['test_$i']){ 　} }
セレクトボックスの値をループで繰り返してvalueを設定しているのですがvalueの数が多くなればかなり見づらく 修正もしにくいのでvalue値を配列などで指定したいと思っています。 その場合、どのようにしてvalue値に配列を設定すればよろしいのでしょうか。 また配列でvalueを設定した場合[selected]などで初期値を設定する方法も分からなかったので 何かわかりやすくかつ少ない行数で胥吏できる方法があればご教授お願いします。 <?php for ($data = 1; $data < 5; $data++) { ?> <tr><td> <select name="test<?php echo $data?>"> <option value=1>1 <option value=2>2 <option value=3>3 <option value=4>4 <option value=5>5 <option value=6>6 <option value=7>7 <option value=8>8 <option value=9>9 <option value=10>10 </select> <?php } ?> ※option valueが２０とか３０とかになるとかなり見づらい処理かなと思います。 配列を変えるだけでいいようにしたいです。
CakePHPのPaginatorを使ったページリンクが正しく出力されません。 1ページ目は正しく出力できていますが、2ページ目などに移動した際にURLがおかしくなります。 現状 1ページ目 http://www.example.com/hoge/2 ↓ 2ページ目 http://www.example.com/hoge/2/page:3 理想 1ページ目 http://www.example.com/hoge/2 ↓ 2ページ目 http://www.example.com/hoge/3 また、パラメータがついた場合も 1ページ目 http://www.example.com/hoge/2?hoge=hoge ↓ 2ページ目 http://www.example.com/hoge/3?hoge=hoge となるようにしたいのですが、何を間違えているのでしょうか。 ちなみにソースは以下のようになってます。 View/Hoge.php echo $this->Paginator->prev('< 前へ', array(), null, array('class' => 'prev disabled')); echo $this->Paginator->numbers(array('separator' => '')); echo $this->Paginator->next('次へ >', array(), null, array('class' => 'next disabled')); Config/routes.php Router::connect( 　　　　'/hoge/:page', 　　　　array( 　　　　　　　　'action' => 'hoge', 　　　　), 　　　　array( 　　　　　　　　'pass' => array( 　　　　　　　　　　　　'page', 　　　　　　　　) 　　　　) );
a.phpの値をb.phpにpostしたいのですがうまく値が渡せません post元にはname属性に変数を用いているのですがpost先でnameをどのように指定したらいいかわかりません <a.php> <form action="foo.php" method="POST"> <div id="button"> <input type="submit" name ="PostGo" value="postTime" style="margin-right:30px;" /> </div> <table> <?php for ($data = 1; $data < 5; $data++) { ?> <tr><td> <select name="test<?php echo $data?>"> <option value=1>1 <option value=2>2 <option value=3>3 <option value=4>4 </select> <?php } ?> </table></form> <b.php> <?php for($i=1;$i<5;$i++){ $test=($_POST['test']);←ここの部分のpostをどう指定したらいいかわかりません echo $test; } ?> ※$_POST['test' + $i] これでも取れませんでした
初歩的な質問で申し訳ありませんが、教えて下さい。 以下のようにSQL文を作成し、更新処理をしようとしたところ、 どうも文字化けして更新できませんでした。 そもそもの文字設定の基本を把握できていないのが問題ですが、、、 どこの何を設定すれば良いでしょうか？ よろしくお願いします。 《ＤＢ内容 （MySQL）》 項目　name varchar(50) 照合順序　sjis_japanese_ci 《プログラム内容（phpで記述）》 //データベース接続 $con = mysql_connect("localhost", "root", "999999"); // php_dbデータベースへ接続する if (!$con) { die('接続できませんでした: ' . mysql_error()); } $str = 'あいうえお'; $sql = "UPDATE tbl_ABC set name = '$str'"; if (!mysql_select_db('db_abc', $con)) { echo 'Could not select database'; exit; } $result = mysql_query($sql,$con); mysql_query("set names sjis"); if (!$result) { echo "DB Error, could not query the database\n"; echo 'MySQL Error: ' . mysql_error(); exit; } mysql_close($con) ;
ログインページからログインしたら、掲示板ページに飛ぶようにしているのですが、その掲示板ページを一意なものにしたいです。 掲示板ページのURLを直打ちしてもログインしていないユーザーははじかれるという形です。 何の関数などを使えばいいのでしょうか？
こんにちは。 CakePHP2.4.10をダウンロード後の、「database.php」の設定についてお聞きしたいです。 当方Mac OSX、MAMPを使用しています。データベース管理はphpMyAdminで行っています。 phpMyAdminのユーザを以下のように設定しました。 ユーザ：cakephp ホスト：localhost パスワード：はい（任意のものに設定済み） グローバル特権：USAGE 権限移譲：いいえ MAMPのhtdocsフォルダ内にcakesのフォルダを移動後、 http://localhost:8888/cakephp/ を見て、エラーを確認すると、 CakePHP is NOT able to connect to the database. Database connection "Mysql" is missing, or could not be created. というエラーが出ています。 こちらのサイト（http://eight-smile.com/blog/web/cakephp%E3%82%92 …）では、database.php.defaultの拡張子をdatabase.phpに変更後、 ・login ・password ・database のみを書き換えればよいとのことだったので、 ・'login' => 'cakephp' ・'password' => '任意のパスワード' ・'database' => 'mini_bbs'（phpMyAdminでテーブル作成済） としました。 それでもエラーは消えないです。どうすればよいのでしょうか？お教え下さい。
function内での時間計算方法がいまいちうまくいきません。 調べたりして書いたのですがfunctionが呼ばれず処理が働きません 入力した場所からフォーカスが外れたとき呼ぶようにしています ※ onblur = func() <test.php> function func(){ $s_time = parseFloat(document.TEST.start_time.value);　//入力値Aの時間 $s_minute = parseFloat(document.TEST.start_minute.value);　//入力値Aの分 $e_time = parseFloat(document.TEST.end_time.value);　//入力値Bの時間 $e_minute = parseFloat(document.TEST.end_minute.value);　//入力値Bの分 //共通変数 $base_start = 540; $base_end = 1080; $s_t = $s_time * 60; $s_data = $s_t + $s_minute;　//分に変換 $e_t = $e_time * 60; $e_data = $e_t + $e_minute;　//分に変換 --------------------------ここから計算処理 $kekka_start = $s_data - $base_start; $kekka_end = $base_end - $e_data; $kekka_data = $kekka_start + $kekka_end; $kekka_min = $kekka_data / 60; //時間に変換 $kekka_time = explode(".",$kekka_min); //小数点の切り捨て☆ $kekka_times = $kekka_data - ($kekka_time[0] * 60); //--分のデータ作成 $CS = ($kekka_time.":".$chis_times); //表示データの連結☆ document.TEST.kekka.value = CS; } ☆の部分がうまくいきません。コメントアウトしてexplode前の変数を表示するならばできるのですが 時間の合計を出したいので時間と分を別々に出して連結で表示させたいです。 かなり詰まっています。どうかよろしくお願いします。
inputに入力されたアドレスにメールを送るプログラムです。 メールの内容はmysqlにあるmailカラムの情報と一致したレコードのbunカラムの情報を送信します。 $mail = 'aaa@gmail.com'; $dbServer = ''; $dbUser = ''; $dbPass = ''; $dbName = ''; $flag = TRUE; // MySQLデータベースに接続 if (!$link = mysql_connect($dbServer, $dbUser, $dbPass)) { $flag = FALSE; } $sql = "SELECT * FROM table_t WHERE `mail` = '$mail' LIMIT 1"; $query = mysql_query($sql, $link); $row = mysql_fetch_array($query,MYSQL_ASSOC); if ($row[key]) { // 送信する mail($mail, 'kenmei', $row[key]); } このように作ってきたのですが、mailカラムの情報を一意じゃなくして、2つ該当するレコードがあった場合、2つのkeyを1通のメールにして送りたいと考えてます。 どのように書き換えればいいでしょうか？ 環境は、さくらサーバーを使用しています。 よろしくおねがいします。
ログイン画面を作っています。 メールアドレスとパスワードを入力するとログイン完了画面に飛ぶという形です。 入力したメールアドレスをデータベースから検索し、パスワードを照合して合致すれば完了画面へ、しなければはじかれるようにしたいのですが正しいパスワードを入力しても完了画面に飛びません。 回答よろしくお願いします。 ソース文(入力するテキストボックス等のソースは省いています) <?php if(isset($_POST['login'])) { if(empty($_POST['email'])) { print('メールアドレスを入力してください'); } elseif(empty($_POST['password'])) { print('パスワードを入力してください'); } elseif(!empty($_POST['email']) && !empty($_POST['password'])) { try { $db = new PDO('mysql:host=●;dbname=●;charset=utf8', '●', '●'); $stt = $db->prepare('SELECT password FROM `information` WHERE email=:email'); $stt->bindValue(':email', $_POST['email']); $stt->execute(); } catch(PDOException $e) { die('Error:'.$e->getMessage()); } /* while ($row = $stt->fetch()) { print($row['password']); } */ if($row['password'] == $_POST['password']) { header('Location: ログイン完了画面のページ'); } else { print('入力内容が間違っています。'); } } } ?>
皆様のお知恵を拝借したく、投稿しています。 現在簡単なウェブを、phpで作成しています。 そのウェブでは、複数の写真をアップし、画像解析することを試みています。 必要なプログラムはすべてUbuntu(linux)上で動かしています。 写真をウェブ上にアップした後、いくつかユーザーが設定する条件をウェブ上で整えたうえで、 「送信ボタン」を押すことで、画像解析プログラム(仮にImage.phpとしておきます)が起動するようにしています。 ここまでは何も問題なく動きますが、Image.phpで行われる計算時間が長いため、Chromなどのweb　browserではImage.phpからの応答反応がないとみなされ、途中でウェブへの通信が遮断されため、結果としてImage.phpの計算が途中で止まってしまいます。 一番簡単な方法として考えたことは、 Image.phpをバックグランドで起動させることだと思いましたが、 「&」や「nohup」だけでは、上記で説明した問題が発生しています。 皆様のお知恵を拝借したいことは、 どのようにしたら、この問題を回避することができるのかを伺いたいです。 バックグランドを使用しての別の方法でも構いませんし、まったく別の方法でも構いません。 ご教授お願いします。
ユニクロTシャツ作成アプリ「UTme！」のようなシステムを無料で実現するようなWEBシステムはありますか？ 実現させたいのは、 何種類かある画像の中から選択し、 その画像の横に好きな文字を入力してもらい、 そのデータを受信するシステムです。 更に応用可能であれば画像をアップロードしてもらうのもあれば尚良いです。 (1)画像選択 ↓ (2)文字入力 ↓ (3)送信 ↓ (4)こちらに受信 最終的にはDXFに変換してレーザーでお客さんの商品に刻印します。 上記のようなシステムをWEBで実現したいです。 更にはそれらのデータを管理できれば一番ベストです。 説明べたで申し訳ございませんが、このようなシステムを探しています。 どうぞよろしくお願いします。
phpおよびjavascriptで下記を実現したいと考えております。 ある程度、調べてみました煮詰まりましたのでお知恵をおかしください。 初期表示時にはボタンを２つ表示します。 更新ボタンと表示・非表示ボタンです。 表示・非表示ボタンをクリックしますと、 DBの値を取得して画面に出力します。 DBに値がなければ「データなし」と出力します。 また表示・非表示ボタンにはクリックする度にDBから取得した値を出力する領域を display:none、blockで切り替える役割も持たせたいです。 更新ボタンはＤＢにinsertするだけです。 ======= どちらのボタンがクリックされたかの判定はボタンをformで囲ってsubmit。 $_POST['xxx']で判定。しかしながら$_POST['xxx']で判定してphpを実行しますが display:none、blockも行いたい。どうすれば良いのか、ここで詰まっております。 以上です。
○質問の主旨 preg_replace関数の引数の一部にある<a>タグ内の target属性を"_blank"にしていますが、新しいウィンドウが開かず、 元の画面のまま、href属性のリンク先に遷移します。 新しいウィンドウにhref属性のURLを表示させるためには どうすれば良いでしょうか？ ご存知の方がいらっしゃいましたら、ご教示願います。 ○質問の補足 現在、以下のようなコードを用いています。 $tweet['text']=preg_replace("/(http:\/\/t.co\/[a-zA-Z0-9]{10})/", "<a href=\"\\0\"　target=\"_blank\">\\0</a>", $tweet['text']); $tweet['text']とは、Twitter RESTAPI1.1のGET search/tweetsから ひっぱってきた文字列で、ツィート本文のことです。 コード全体の意味は、 「ツィート本文にhttp://t.co/○○○○○○○○○○という文字列があれば、 そのリンク先にtarget=_blankで遷移しなさい」 ということになります。 以上、よろしくお願い申し上げます。
とある2つのレンタルサーバーにPEARのライブラリとphpファイルをアップしました。 1つのサーバーはphpファイルにアクセスすると正常に動きます。 しかしもう１つのサーバーはphpファイルにアクセスするとエラーを返してきます。 まったく同じライブラリ、phpファイル、同じ条件でアップしたのに なぜ動作に違いが出るのでしょうか。
こんにちは、 参考にしたサイトに下記文があったのですが $get_meta = isset($get_meta[0]) ? $get_meta[0] : null; issetで存在を確認するという意図だと思うのですが ? $get_meta[0] : null;この部分はどうゆう意味になるのでしょうか？
下記のようにinputタグから値をphpにおくり、csvファイルに保存しようとしています。 値１に12345 値２に67890 値３にあいうえお というように値を送って保存し、csvファイルを開くと、 12345," 67890",あいうえお というように、値２として送ったものの先頭にダブルコーテーションとスペース、最後にダブルコーテーションが勝手に入ってしまいます。なぜ何でしょうか？対処法も含め教えていただければありがたいです。よろしくお願いします。 --------------------html---------------------------------- <form action="send.php" method="post"> 値１：<input type="text" name="aaa" > 値２：<input type="text" name="bbb" > 値３：<input type="text" name="ccc" > <input type="submit" value="送信する"> </form> --------------------php---------------------------------- <?php $val[0] = $_POST['aaa']; $val[1] = $_POST['bbb']; $val[2] = $_POST['ccc']; $fp = fopen("valdata.csv", "a"); fputcsv($fp, $val); fclose($fp); ?>
　今晩は、ＰＨＰの掲示板（コメントと画像付）をwebにアップして、 会員同士（パスワードでアクセス）で使いたいと考えています。 　フリーの掲示板で設定等の簡単なもので、使い勝手（せキュリティ、投稿記事の管理等） が良くて、設定等の簡単なものがあれば教えて下さい。 　内容によっては有料でも止むを得ないと考えています。 　合わせて、レンタルサーバーの情報も分かればありがたいです。 　以上宜しくお願いします。
初歩でつまづいていると思うのですが、回答よろしくお願いします。 必須項目を入力する、登録画面を作っています。 必須項目につけた条件を満たさないと、テキストボックスの横にエラーメッセージが出る仕組みになっているのですが、必須項目を全て入力しないで登録ボタンを押したときに、途中まで入力したものも全て消えてエラーメッセージが出てしまいます。 必須項目を全て入力しないで登録ボタンを押したときは、途中まで入力したものをそのまま残して　 エラーメッセージを出したいです。 どうすればよいのでしょうか？
CSVデータをアップしてWEBで参照できる在庫参照プログラムやソフト、オープンソースはご存じないでしょうか？ やりたいことは、CSVデータをアップロードしてその中のデータをWEBで検索参照するプログラムです。 急いでいます。 よろしくお願い致します。
教えて下さい。 入力画面（AAA_NEW.php）より入力された情報が正しいかどうかをチェックするPREVIEW画面という画面を設け、 エラーがあった場合は、また入力画面に戻るような事をしたいと考えています。 そこで、以下のような記述をしましたが、エラーの際に戻る場合に入力情報が消えてしまっている為、引数として 渡すような事を考えていますが、どのような方法があるでしょうか？ PHPで input type='hidden' なんかが使えれば、私もわかるのですが、、、 初歩的な質問で申し訳ありませんが、教えて下さい。 よろしくお願いします。 《PREVIEW画面》 ↓ここで入力画面からの引数を取得 if($_POST['p_syamei'] != NULL) { $tmp_p_symei = $_POST["p_syamei"]; }else{ $ERR_FLAG1 = 1; } if($_POST["p_syamei_furigana"] != NULL) { $tmp_p_syamei_furigana = $_POST["p_syamei_furigana"]; }else{ $ERR_FLAG2 = 1; } <script> function btn_ins2() { window.open("about:blank","window_name","width=640,height=480,scrollbars=yes,menubar=yes,toolbar=yes,status=yes"); document.f_od.target = "window_name"; document.f_od.method = "POST"; document.f_od.action = "AAA_NEW.php"; document.f_od.submit(); } </script> ********************************************************** <?php if ($ERR_FLAG1 == 1){ print("社名を入力して下さい。"); print("<TD><DIV Align='right'><input type='button' name='btn_order' onclick=btn_ins2() value='　戻る　'></DIV></TD>\n"); die; }else if($ERR_FLAG2 == 1){ print("社名フリガナを入力して下さい。"); print("<TD><DIV Align='right'><input type='button' name='btn_order' onclick=btn_ins2() value='　戻る　'></DIV></TD>\n"); die; } ?>
レンタルサーバーと契約していてPEARのライブラリを サーバーにインストールしようとしてもうまくいかなかったので レンタルサーバーに問い合わせをしました。 「PEARライブラリをユーザー環境で利用しても問題ないか サーバー管理者に確認する」とのことでしたが もう2日たっていますが連絡がありません。 レンタルサーバーでPEARのライブラリをインストールすることは そんなに大変なのでしょうか。 ちなみにcgiなどは使用できる環境です。
現在会員制サイトを作成しており http://sample.com/USER_ID/ のようなユーザーIDを含むURLを取得したいと思っています。 USER_ID　半角英数字(ハイフンアンダーバーを含む)の文字列の正規表現の記述をご教授いただけるとありがたいです。
お世話になります。 FPDFのインストールについて聞きたい事があります。 Ubuntuに下記のコマンドでFPDFをインストールしました。 aptitude -y install php-fpdf インストール後にネットで調べたら下記のようなサイトを見つけました。 http://www.phpbook.jp/fpdf/install/index1.html 上記でサイトからダウンロードしたfpdf17.zipを解凍してインストールのと上記のコマンドでFPDFをインストールするのでは何が違うのでしょうか。 どちらがいいのでしょうか。 くだらない質問ですみませんが教えていただけませんでしょうか。 宜しくお願いします。
現在、PHPを勉強中の身です。 「header.tpl」でヘッダー部分を表示させているのですが、 文字が化けてしまい、直すことができないです。 「UTF-8」で表示するようにしているはずなのですが、 添付した画像のようになってしまいます。 また、エンコードを「日本語（ECU）」に変更すると、 「給与WEB管理」は文字化けしてしまい、 「[文字化けした部分]」は表示されます。 このような状態から、データを読み込んではいると思いますが、 どこを確認すればよいのか、ご教授願えませんでしょうか？ どうぞよろしくお願いいたします。 ＜header.tpl＞ <!DOCTYPE html> <html> <head> <title> {#app_title#} [{$smarty.session.user_name|escap}｜{$smarty.session.bu_name|escape}{$smarty.session.ka_name|escape}] </title> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <link rel="stylesheet" type="text/css" href="kyuyo.css" /> </head> <body> <h1> {html_image file="./image/title.gif" width="30" height="30"} {#app_title#} {html_image file="./image/title.gif" width="30" height="30"} </h1> <hr /> ＜バージョン＞ PHP：5.2.8 Smarty：2.6.26 MySQL：5.0.45
Go-PEARをレンタルサーバーにインストールしたいのですが、 途中でエラーが出てインストールできません。 どうしたらインストールできますでしょうか。 http://pear.php.net/go-pear　を go-pear.php として保存。そしてレンタルサーバーにアップ。 http://mydomain/go-pear.php にアクセス Bootstrapping Archive/Tar.php............　Tar.phpのインストールでエラーが出ているようです。 「エラー内容」 Warning: fopen() [function.fopen]: SAFE MODE Restriction in effect. The script whose uid/gid is 266042/600 is not allowed to access mydomain/temp/Archive owned by uid/gid 48/48 in mydomain/go-pear.php on line 1132 Warning: fopen(Archive/Tar.php) [function.fopen]: failed to open stream: Permission denied in mydomain/go-pear.php on line 1132 Warning: rmdir(mydomain/temp) [function.rmdir]: Permission denied in mydomain/go-pear.php on line 1282 could not open Archive/Tar.php for writing
下記のような前提となる配列と、その配列を使った子要素の組み合わせを得られるファンクションを作成しようとしているのですが、なかなかうまく思いつきません。 どのようにしたら可能になりますでしょうか？ 【前提】==================== $arr_lst = array( array( 'aaa', 'bbb', ), array( 'AAA', 'BBB', ), array( '111', '222', ), ); 【期待する結果】==================== 'aaa' 'bbb' 'AAA' 'BBB' '111' '222' 'aaa'-'AAA' 'aaa'-'BBB' 'aaa'-'111' 'aaa'-'222' 'bbb'-'AAA' 'bbb'-'BBB' 'bbb'-'111' 'bbb'-'222' 'AAA'-'111' 'AAA'-'222' 'BBB'-'111' 'BBB'-'222' 'aaa'-'AAA'-'111' 'aaa'-'AAA'-'222' 'aaa'-'BBB'-'111' 'aaa'-'BBB'-'222' 'bbb'-'AAA'-'111' 'bbb'-'AAA'-'222' 'bbb'-'BBB'-'111' 'bbb'-'BBB'-'222' 以上、よろしくお願い致します。
検索したものに少し手を加えて、以下の関数を使って、URLを元にウェブページのタイトルを取得しています。 　function getPageTitle( $url ) { 　 $html = file_get_contents($url); 　 $enc_format = "JIS, eucjp-win, sjis-win, UTF-8"; 　 $html = mb_convert_encoding($html, "UTF-8", $enc_format); 　 preg_match("/<title>(.*)<\/title>/is", $html, $retArr); 　 return $retArr[1]; 　} しかし、ページによってはタイトルを取得するまでの時間が遅いです。おそらく、HTMLをすべて読み取るまで、終了しないため、遅くなるのだと思います。今回はタイトルを取りたいだけなので、もっと早く処理ができてほしいです。何か方法はございますか？
送り側(file_upload.php) header("Location: bbs_test.php?photo=$upfilename"); 受け側(bbs_test.php) $photo = $_GET['photo']; var_dump($photo); を実行すると、var_dump()の値がNULLになってしまい、 $upfilenameが、GET渡しできません。 ちなみに、$photo = $_GET['photo'];　var_dump($photo);　の、この2文は、 function()disprecords{ } という関数の中にあるのですが、 なぜ、var_dump($photo);　の値がNULLになってしまうのか、どうすれば、 $upfilnameの値を渡せるのか、ご指導いただきたいです。 よろしくお願いします。
レンタルサーバーでＰＨＰで自動返信フォームを入れてました。 料金が高いので別のレンタルーサーバーに入れたところ 下記のエラーがでて困っております。 当方、ＰＨＰは詳わしくないのですが、業務の一環で見よう見まねで 作っています。 どなかた対処方法をご教授ください。 Deprecated: Function eregi() is deprecated in /home/1805809151/　・・・・・
現在、ワードプレスを利用してブログを書いているのですが、テーマを変更しようと思ってます。 そこで、いろいろ調べてみたのですが、無料でも有料でもSEOに強いテーマがあるということを知りました。 これって本当でしょうか？ SEO対策のためにテーマをカスタマイズしたり、プラグインを導入したいるするというのは理解できるのですが、SEOに強いテーマがあるということが信用できません。 だって、いろんな人が、そのテーマを利用すれば、コンテンツは違えど似通ったサイトが溢れることになりますので、グーグルから悪い評価を下される可能性があるだろうと思うからです。 実際、どうなのでしょうか？ テーマが同じでも、コンテンツが異なれば、問題ないのでしょうか？ であれば、SEOに強いテーマがあるというのは本当なのでしょうか？ そのテーマの利用者数を増やすための、「SEOに強い」という大げさな宣伝ということはありますか？
一行掲示板に投稿者のみが行える投稿削除機能(パスワード付き)を出力させたいのですが、プログラミング初心者なので、下記のテキストに何を入力すればいいのかわからないので教えてください。 お願いします。 <!DOCTYPE html> <html> <head> <meta charset="utf-8"> <title>一行掲示板</title> </head> <body> <form id="x1" name="x1" method="post" action=""> <input type="text" id="naiyou" name="naiyou" size="20"> <input type="submit" value="書き込む"> </form> <hr> <?php //データファイルのファイル名 $filename='data.txt'; if(!empty($_POST['naiyou'])){ $data=file_get_contents($filename); $body=$_POST['naiyou']; $date=date('Y/m/d H:i:s'); $body="$body ($date)\n".$data; $fp=@fopen($filename,'w'); flock($fp,LOCK_EX); fputs($fp,$body); fclose($fp); } $data=file($filename); $line=count($data); for($i=0; $i<$line; $i++){ $no=$line-$i-1; echo "$no. $data[$i]<hr>\n"; } ?> </body> </html>
cakephpで画像のダウンロード機能を実装しています。 webroot/imgに画像は入っています。 controllerで public function download($filename = null){ $this->autoRender = false; $this->response->file('img/' . $filename); $this->response->download($filname); } とし、 viewで <?php echo $this->Html->link('ダウンロード', array('controller' => 'images','action' => 'download', $image['Model']['filename'])); ?> このようにリンクしています。 ファイル名が英語の画像は問題なくダウンロードできるのですが、ファイル名が日本語の画像がダウンロードできません。 The requested file img/日本語ファイル名.jpg was not found or not readable Error: The requested address '/illusts/image/%～.jpg' was not found on this server. リンクをクリックするとこのように表示されます。 webroot/imgにはちゃんと画像は入っているのですが・・・。 どのようにしたら、日本語名のファイルもダウンロードできるようになるのでしょうか。 どなたかご教授ください。 よろしくお願いいたします。
質問させていただきます。 PHPではset等プロパティ宣言をしなくても動作はしますが、皆様はPHPで開発する際に使用する変数等全てアクセサを介して使用しているのでしょうか？ もし、アクセサを介す場合、直変数で使用する場合など分けていらっしゃる方がいるのであれば、 どういうメリット等からそのような方法を採用されているのか教えていただけると助かります。 何卒よろしくお願い致しますm(_ _)m
お世話になります phpのpreg_replaceで質問です 下記の様な記述にて文字列の置換をしています $body = preg_replace("/cid:(\d{2,})@(\d{6}).(\d{6})/","/bl/id/$1/",$text); コレを改良してcidの次に入る値で処理を分けたいのですが、うまくいきません。 どなたかご教授お願い致します $arr = array("gif","jpg"."png"); $body = preg_replace("/cid:(\d{2,})@(\d{6}).(\d{6})/","/bl/id/$1/$arr[$1]",$text); 宜しくお願い致します
ワードプレス（テーマはスティンガー3）を使用しています。 今回ご教授願いたい内容なんですが、 記事一覧の抜粋記事の背景をカテゴリー毎に設定したいというものです。 自分なりに検索して調べたところ、記事につけたスラッグを使って条件分岐させてcssでクラスごとに指示を出す。 と色々試してみましたが、できません。（php、cssともに初心者です。） http://akaandmore.com/blog/archives/12 こちらのサイトなども参考にさせてもらったんですが、上手くできませんでした。 なにか不足している情報がありましたら追記していきますので、解決の手助けを宜しくお願いします。
どなたかご存知の方がいらっしゃいましたらご教授頂ければと思い、書き込ませて頂きます。 freebsdでのPHPセットアップが上手く行きません。 一通りの流れとしては、 １．空のPCにfreebsdインストール ２．freebsdサーバにmysql/phpセットアップ。 ３．apacheセットアップ＆起動。apacheによる表示は確認。 　　mysqlサーバ起動。 　　テーブル作成完了。データinsert完了。 ４．拡張子を.phpにしたファイルを置いて、サーバーURLから内容の表示を確認。 　　ここまではＯＫ。 ５．ファイル名をdb.phpとし、mysql_connectでmysqlへ接続しようとすると、そこで表示されなくなる。 ６．様子がおかしいので、デバッグして確認 ◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇ <html> <head> <title>test</title> </head> <body> test start<br> <?php print('a<br>'); //connection: $link = mysql_connect("localhost","user","password"); print('b<br>'); if (!$link) { print('refuse!'.mysql_error()); die('refuse!'.mysql_error()); } print('c<br>'); ?> </body> </html> ◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇ で表示すると、ブラウザで取得しているソースコードには、 ◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇ <html> <head> <title>test</title> </head> <body> test start<br> a<br> ◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇ というソースが返ってきており、途中で処理が止まっているようです（最後まで表示されない）。 ユーザ名とパスワードの見直し確認もしましたが、間違っていなさそうです。 ※mysql_connectでの接続時のlocalhostはそのままですが、ユーザ名とパスワードは変えてあります。 単に文字コードが誤りかと思いましたが、全てUTF-8で統一しています。 windows環境でutf-8のソースを作成して、それをバイナリでサーバーにアップロードしています。 ■mysqlでの設定： mysql> show variables like 'character_set%'; +--------------------------+----------------------------------+ | Variable_name | Value | +--------------------------+----------------------------------+ | character_set_client | utf8 | | character_set_connection | utf8 | | character_set_database | latin1 | | character_set_filesystem | binary | | character_set_results | utf8 | | character_set_server | latin1 | | character_set_system | utf8 | | character_sets_dir | /usr/local/share/mysql/charsets/ | +--------------------------+----------------------------------+ 8 rows in set (0.00 sec) ■php.iniでの設定 ;;;;;;;;;;;;;;;;;;;;;; ; Dynamic Extensions ; ;;;;;;;;;;;;;;;;;;;;;; extension=php_mbstring.dll extension=php_mysql.dll [mbstring] ; language for internal character representation. ; http://php.net/mbstring.language mbstring.language = Japanese ; internal/script encoding. ; Some encoding cannot work as internal encoding. ; (e.g. SJIS, BIG5, ISO-2022-*) ; http://php.net/mbstring.internal-encoding ;mbstring.internal_encoding = EUC-JP mbstring.internal_encoding = UTF-8 ; http input encoding. ; http://php.net/mbstring.http-input ;mbstring.http_input = auto mbstring.http_input = UTF-8 ; http output encoding. mb_output_handler must be ; registered as output buffer to function ; http://php.net/mbstring.http-output ;mbstring.http_output = SJIS mbstring.http_output = pass ; enable automatic encoding translation according to ; mbstring.internal_encoding setting. Input chars are ; converted to internal encoding by setting this to On. ; Note: Do _not_ use automatic encoding translation for ; portable libs/applications. ; http://php.net/mbstring.encoding-translation ;mbstring.encoding_translation = Off mbstring.encoding_translation = On ; automatic encoding detection order. ; auto means ; http://php.net/mbstring.detect-order ;mbstring.detect_order = auto mbstring.detect_order = auto 試しに、 $link = mysql_connect("localhost","user","password"); の部分を mb_internal_encoding("UTF-8"); などに変更しても同じ箇所でぶつ切りになった状態でソースが表示されます。 echo 'aaa'; などに変えるとこの部分は処理されて出力されます。 つまり単純なechoやprintなどの関数は処理されて、ある程度の関数を使用すると処理されなくなる（ように見えます）。 最終的な目標としてはmysqlからデータを表示することだけです。 何か単純な原因が噛んでしまっていると思っているのですが、どなたかこの問題の解決法を分かる方がいらっしゃいましたらご教授いただけないでしょうか？ 尚、現在使用している環境は次の通りです。 FreeBSD 9.1 PHP Version 5.4.7 Apache/2.2.23 (FreeBSD) mod_ssl/2.2.23 OpenSSL/0.9.8x mysqlnd mysqlnd 5.0.10 mysql Server version: 5.5.28 宜しくお願い致します。
このカテゴリには初めて投稿いたします。 どうにも解決ができないため、質問させていただきました。 cakephpで、注文番号の連番発行のために、今回初めてトランザクション処理が必要なケースが出てきまして、 ネットで検索して出て来る情報を元に、そのとおりに記述しているのですが、どうやってもうまく行きません。 ＤＢのテーブルはInnoDBになっています。 参考にしたサイトは例えば http://wataame.sumomo.ne.jp/archives/3812 などです。 --------------------実際のコード -----以下はあるモデル内(ここでは、SamplemodelDataとしています)に記述した関数での処理です。$thisはそのモデルを示します。 $dataSource = $this->getDataSource(); $dataSource->begin($this); $res = $this->find('first',array('conditions'=>array('classification'=>$classification,'commoncode'=>$commoncode))); if($this->getNumRows()==0){//レコードなしの場合 $returnNumber = 1; $this->save(array('classification'=>$classification, 'commoncode'=>$commoncode, 'number'=>1)); }else{ $res['ExsamplemodelData']['number'] += 1; $returnNumber = $res['SamplemodelData']['number']; $this->set('id', $res['SamplemodelData']['id']); $this->saveField('number', $returnNumber); } $dataSource->commit($this); return $returnNumber; -------------------- ■目的 ユーザーが同時刻に何人同時に注文しようと、注文番号を重複させずに注文番号を採番することが目的です。 極端なことを言えば、ある同じ時刻（秒まで一緒）に世界各国から100人同時に全く同じタイミングで注文が入っても、注文番号を重複させないようにしたいです。 ※DBのシリアルを使えば確実に重複させないようにできることは知っています。しかし、今回は単純に連番だけでなくいろいろなケースにおいて意味をもつ文字列も付与したものをプライマリキーとしているので、単純なシリアルではだめなのです。 ■うまくいかない点 ・上記の記述でも、トランザクション自体は機能しているようです。 　最後の　$dataSource->commit($this);　をコメントアウトにすると、DBの番号が永遠にインクリメントされませんので。 ・begin　～　commit　までの間に、他のスレッドで、 $this->find('first',array('conditions'=>array('classification'=>$classification,'commoncode'=>$commoncode))); が実行されると、インクリメントされる前の番号が返されるのです。 ＝＞それよりも前のスレッドが　begin　をした瞬間からcommitするまでは、他のスレッドでfindしても、待ち状態になって欲しいのです。 ・検証用プログラムで、上記の処理を、２つのブラウザから同時に100回繰り返す（２つ併せて200回繰り返し処理させる）と、 毎回200件中、5～7件程度、番号が重複してしまいます。 ■質問内容 ・このような精度を求めるようなケースでは、cakephpでトランザクション処理をしても、もともと無理な要望なのでしょうか？ ・上記の記述で不足している部分は何でしょうか？例えば、mysqlのトランザクションには他スレッドから、updateだけを禁止にする指定と、updateとselectも禁止にする指定ができるようですが、上記の記述だと他スレッドではupdateしか禁止されていないために、selectであるfindは待ちが発生しないということなのでしょうか？しかし、selectも禁止にするとかそういう指定方法がどう探してもそういう情報が見つけられませんでした。 要約すると、つまり、 「cakephpでトランザクション処理（beginからcommitの間は、他スレッドからはupdateもselectも禁止）にする方法はどうやったらよいのでしょうか？」 ということでございます。 ご存じの先生方、是非、お力お貸しいただけますでしょうか。 何卒よろしくお願いいたします。
とても初歩的な質問だと思いますが、回答よろしくお願いします。 データベースに保存した値を更新するページのテキストボックスに、データベースの現在値を反映させたいです。 使っている本には、フォーム要素のvalue属性に対応するフィールド値を反映させる、と書いてあるのですが、その通りにやってもできません。 edit.php <?php try { $db = new PDO('mysql:host=●●;dbname=●●;charset=utf8', '●●', '●●'); $stt = $db->prepare('SELECT name, email, password FROM `users` WHERE number = :number'); $stt->bindValue(':number', $_GET['number']); $stt->execute(); } catch(PDOException $e) { die('Error:'.$e->getMessage()); } ?> <?php /* print($_GET['number']); */ ?> <!DOCTYPE html> <html> <head> <meta charset="UTF-8" /> <title>インフォメーション</title> </head> <body> <h3>あなたの登録情報</h3> <form method="POST" action="dbconnect4.php"> <input type="hidden" id="number" name="number" maxlength="3" value="<?php print($row['number']); ?>" /> <div class="container"> <label for="name">ユーザ名</label><br/> <input type="text" id="name" name="name" size="10" maxlength="20" value="<?php print($row['name']); ?>" /> </div><br /> <div class="container"> <label for="email">メールアドレス</label></br /> <input type="text" id="email" name="email" size="30" maxlength="100" value="<?php print($row['email']); ?>" /> </div><br /> <div class="container"> <label for="password">パスワード</label><br /> <input type="password" id="password" name="password" maxlength="20" value="<?php print($row['password']); ?>" /> </div><br /><br /> <input type="submit" name="update" value="更新する" /> <input type="submit" name="delete" value="削除する" onclick="return confirm('本当に削除してよろしいですか？')" /> </form> </body> </html> information.php <?php try { $db = new PDO('mysql:host=●●;dbname=●●;charset=utf8', '●●', '●●'); $stt = $db->prepare('SELECT name, email, password FROM `users` WHERE email = :email AND password = :password '); $stt->bindValue(':email', $_POST['email']); $stt->bindValue(':password', $_POST['password']); $stt->execute(); } catch(PDOException $e) { die('Error:'.$e->getMessage()); } ?> <?php /* print($_POST['email']); print($_POST['password']); */ ?> <!DOCTYPE html> <html> <head> <meta charset="UTF-8" /> <title>インフォメーション</title> </head> <body> <h3>あなたの登録情報</h3> <table border="1"> <tr> <th>ユーザ名</th><th>メールアドレス</th><th>パスワード</th><th></th> </tr> <?php while ($row = $stt->fetch()) { ?> <tr> <td><?php print($row['name']); ?></td> <td><?php print($row['email']); ?></td> <td><?php print($row['password']); ?></td> <td><a href="edit.php?number=<?php print($row['number']); ?>">編集する</a></td> </tr> <?php } ?> <br /><br /> </body> </html> information.phpの編集する、というリンクからedit.phpに飛ぶようになっています。 information.phpの前の画面でパスワードとメールアドレスを入力し、それらが一致したらinformation.phpでレコードを抜き出すという仕様になっています。 回答よろしくお願いします。
掲題の通り、PHPでアクセスログを管理（管理画面より閲覧）できるシステムを作ろうと思っています。システムの実現方法に悩んでいます。「こういうのが最も動作が軽い」から「実務でこういうのを作った」「自分が作るならこう作る」までなんでも良いので（ちょっとしたヒント程度のものでもかまいませんので）アイデアをいただけたらありがたいです。 要望は以下のとおりです。 ・管理画面から閲覧ができる（ログファイルを見る必要がない） ・サーバーへの負荷が少ない ・リアルタイムがベスト ※具体的なソースのご提示はなくてもかまいません ※対象サイトの月間PVは3万～5万程度です。 ※「Google Analyticsを使えば良い」はお控えください 当方で考えたシステムは以下の3通りです。 == 1. アクセスログテーブルを作成し、ユーザーからのアクセスするたびにDBにINSERTする 2. テキストファイルに出力をしておいて、アクセスの少ない時間帯にバッチを動かして、テキストからDBにINSERTする 3. テキストファイルに出力して、管理画面でアクセスするたびにテキストを加工し、閲覧できるようにする == どれも、どこかに大きな負荷がかかりそうな気がして、いまいちこれで良いのか、という感じがしています（3万～5万というPVがどの程度のものかがいまいち掴めていない、というのもありますが…） 以上です。よろしくお願いします。
Parse error: syntax error, unexpected ';' in C:\xampp\htdocs\meibo_kanri.php on line 101 と出てしまいますが、どこがダメなのかさっぱり分からず困っています。 コードは、次のようになります。 phpを知ってまだ一週間で、なかなか理解することができず、無知なひよっこです。 どうか、ご助力ください。 【コード】 <?php //セッション開始 session_start(); //データベース設定 $dbServer='localhost'; $dbUser='root'; $dbPass='1234'; $dbName='kadaitest_db'; $flag=TRUE;//フラグ変数の初期化 //データベース接続 if(!$link = mysql_connect($dbServer,$dbUser,$dbPass)){ $flag=FALSE; } else if(!mysql_set_charset('utf8',$link)){//クライアント側の文字コードと、サーバ側の文字コードの設定 $flag=FALSE; } if($flag==TRUE){ //データベース選択 $db_selected = mysql_select_db($dbName, $link); if (!$db_selected){ die('データベース選択失敗です。'.mysql_error()); } /*//登録した内容の一覧表示 $result = mysql_query('SELECT id,name,date,address,tel,age FROM list'); if (!$result) { die('クエリーが失敗しました。'.mysql_error()); } while ($row = mysql_fetch_assoc($result)) { print('会員No：'.$row['no']); print('　名前：'.$row['name']); print('　カナ：'.$row['kana']); print('　生年月日：'.$row['birth']); print('　入会日：'.$row['enter'].'<br/>'); } */ } else{ echo 'データベースエラー'; } ///////////////////////////////////////////////////// //////////////////////////// //入力した値の変数を設定 $in_no=$_POST['no']; $in_name=$_POST['name']; $in_kana=$_POST['kana']; $in_birth=$_POST['birth']; $in_enter=$_POST['enter']; /*新規登録 */ if($_POST['toroku']) { echo '<div class="kekka"><strong>【新規登録】</strong><br />'; //「会員No」を入力した場合 if($in_no){ //「会員No」に半角数字を入力した場合 if(ctype_digit($in_no)){ //「会員No」に５桁入力した場合 if(strlen($in_no)==5){ //クエリの作成 $sql = sprintf("INSERT INTO list (id,name,kana,birth,enter) VALUES ('%s','%s','%s','%s','%s')",mysql_real_escape_string($in_no),mysql_real_escape_string($in_name), mysql_real_escape_string($in_kana),mysql_real_escape_string($in_birth), mysql_real_escape_string($in_enter)); //クエリの実行 $result_flag = mysql_query($sql); if ($result_flag) { echo '以下の内容で登録しました。<br />'; } else { echo '<span class="err">登録が失敗しました。<br />'.mysql_error().'</span>'; } //「会員No」に５桁以外を入力した場合 } else { echo '<span class="err">登録が失敗しました。<br />「会員No」は5桁で入力してください。</span>'; } //「会員No」に半角数字以外を入力した場合 }else{ echo '<span class="err">登録が失敗しました。<br />「会員No」は半角数字で入力してください。</span>'; } //「会員No」を入力していない場合 }else{ echo '<span class="err">登録が失敗しました。<br />登録する会員Noが指定されていません。</span>'; } //入力内容の表示 echo '<br />■入力内容<br />'; echo '<span>会員No</span>：'.$in_no.'<br />'; echo '<span>名前</span>：'.$in_name.'<br />'; echo '<span>カナ</span>：'.$in_kana.'<br />'; echo '<span>生年月日</span>：'.$in_birth.'<br />'; echo '<span>入会日</span>：'.$in_enter.; echo '</div>'; //セッション終了 session_destroy(); } // 結果セットに関連付けられているリソースの開放 // これは、スクリプトが終了する際に自動的に実行されます。 //mysql_free_result($result);//メモリ開放（mysql_queryより得られた値） // DBリンクの切断 // これは、スクリプトが終了する際に自動的に実行されます。 $close_flag = mysql_close($link); ?>
下記のようなPHPスクリプトにおいて、ファイル選択ダイアログで選択したファイルを bbs.php で、$photo変数をGETで受け取るにはどうすればいいのでしょうか？ちなみに今のところ、受け取った $photo変数の中身はNULLです。 GET渡し以外にも方法があれば教えていただきたいです。（たとえば、$_SESSION['']変数を利用するなど） 【bbs.php】 <td><b>画像を添付</b></td> <!-- インラインフレーム --> <td><iframe src="test.html" width="460" height="40" frameborder="no" scrolling="no"> フレームを表示できないブラウザへのメッセージ </iframe> </td> ～ <?php $photo = $_GET['photo']; // 添付画像ファイル名 ?> --------------------------------------------------------------- 【test.html】 <html> <head><title>ファイルのアップロード</title> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> </head> <body text="white"> <table rows="1" cols="3" height="30" border="0"> <tr> <td valign="top">画像選択（10MB以下）</td> <form action="./file_upload.php" method="post" enctype="multipart/form-data" target="upload_frame"> <!-- upload_frame : ダミーフレーム --> <input type="hidden" name="max_file_size" value="10240000"> <td valign="top"><input type="file" name="sendfile" /></td> <td valign="top"><input type="submit" value="送信" /></td> </form> </tr> </table> <div id="container"></div> <iframe name="upload_frame" sytle="display:none;"></iframe> </tr> </form> </table> </body> </html> ---------------------------------------------------------- 【file_upload.php】 <?php $upload_dir = './files/'; $filename = $_FILES['sendfile']['name']; if(move_uploaded_file($_FILES['sendfile']['tmp_name'], $upload_dir.$filename)){ echo "画像".$filename."をアップロードしました。<br><br>"; // データベースの画像カラムを挿入する $con = mysql_connect("～", "～", "～"); // ローカルのMySQLデータベースサーバーに接続する mysql_select_db("～"); // データベースサーバーに存在する（myPHPAdminで作成済みの）データベースを選択する // ラストレコードの画像ファイルカラムを更新する $sql = "UPDATE bbstbl SET(photo=$_FILES['sendfile']['name']) WHERE ORDER BY sid limit 1;"; $result = mysql_query($sql, $con); $rowco = mysql_affected_rows($con); // テーブルの行数 mysql_close($con); // データベースとの接続を解除する //header("Location: bbs.php?photo=$filename"); }else{ echo "画像のアップロードに失敗しました。<br><br>"; } ?> <script type="text/javascript"><!-- var container = parent.document.getElementById('container'); image = parent.document.createElement('img'); image.src = './<?php print($filename);?>'; container.appendChild(image); //--></script> -------------------------------------------------------------
初歩的な質問ですみません。 現在、PHPで問い合わせフォームを作成しており、チェックボックスが選択されていない場合に、エラーを返す処理を行いたいです。 通常のテキストフィールドの場合は、下記の文言でエラー処理が行われるのですが、 チェックボックスが選択されているかを見るにはどうすればよいかご教示いただけないでしょうか。 ーーーーーーーーーーーーーーーー ■フォーム側 {if:$required.お名前} <p>エラー文</p> {/if:$required.お名前} ■php // 入力必須チェック if (isset($_POST['required'])) { foreach ($_POST['required'] as $v) { $tmpl->set("required.$v", false); if (empty($_POST[$v])) { $tmpl->set("required.$v", h($v . ERROR_REQUIRED)); $global_error[] = h($v . ERROR_REQUIRED); $global_error_flag = true; } } } ーーーーーーーーーーーーーーーー
お世話になります。 「いきなりはじめるPHPワクワク・ドキドキの入門教室 」という本に 従って、フォームの送信ボタンを作成したのですが、以下の症状が出ます。 ・送信ボタンはクリックすると色が一瞬変わりますが、何も 起きません。 ・フォームの枠内でenterを押すとcheck.phpに飛びますが、 表示されるのが、check.phpのHTMLが表示される。 （色々いじっている際、１、２度はcheck.phpの ブラウザ上の表示が出たことがありました。その際も送信ボタンでなく フォームの枠内でenterで表示） index.htmlの内容は以下の通りです。 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <title>ＰＨＰ基礎</title> </head> <body> <form method="post" action="check.php"> ニックネームを入力してください。<br /> <input name="nickname" type="text" style="width:100px"><br /> <br /> <input type="submit" value="送信"＞ </form> </body> </html> 環境は、 Mac OS X バージョン10.9.4 ブラウザは　Google Chromeバージョン 35.0.1916.153 です。 ネットでも色々調べてみたのですが、 解決できなかったので質問させていただきます。 以上どうぞよろしくお願い致します。
PHPのオブジェクト指向を学んでいるのですが、 つまづいていて、なんかしらのフレームワークを学ぶことによって、結果的にオブジェクト指向がわかればいいかと考えています。 そのためにはどのフレームワークがおすすめでしょうか？ なお、日本で人気のある（※）cakePHPを途中までやっていたのですが、 インスタンスする機会がかなりないようなので、ほかのがいいかなと思っています。 ちなみに、多言語でのオブジェクト指向の経験はほぼ皆無です。 よろしくお願いします。 （※）2014年2月PHPフレームワークのトレンド http://demouth.hatenablog.com/entry/2014/02/14/0 …
PHP初心者です OS windows vista 今回xamppをインストールしたのですが、 以前アパッチを単体でインストールしたことが影響しているのか、 ブラウザでの表示がうまくできません Object not found! 要求された URL は本サーバでは見つかりませんでした。 もし手入力で URL を入力した場合は、綴りを確認して再度お試し下さい。 サーバーの障害と思われる場合は、ウェブ管理者までご連絡ください。 Error 404 となってしまいます 単体でインストールしたアパッチをゴミ箱に入れて消したのですが、 これでは不十分でしょうか？ 正しいアンインストール方法ご教示お願いします
PHPの勉強をはじめた初心者です OSはＷｉｎｄｏｗｓvista ローカル環境での学習をするため、XAMPPをインストールし、正常にインストールは完了できましたが、 テキストエディタで作成したphpファイルをローカルディスク/xampp/htdocs/test.phpとして保存し、 アドレスバーにhttp://localhost/test.phpとして検索をかけたのですが、 Object not found! 要求された URL は本サーバでは見つかりませんでした。 もし手入力で URL を入力した場合は、綴りを確認して再度お試し下さい。 サーバーの障害と思われる場合は、ウェブ管理者までご連絡ください。 Error 404 となってしまいます つづりは合っているはずですし、 ローカルディスク/xampp/htdocsの中に、test.phpがあることは確認済みです 確認テストとして、http://localhost/index.htmlを検索すると It works! と出ます http://localhost/ でxamppのインストール画面は確認済みです 以前、アパッチを単体でインストールしたのですが、 今回エラーがでた時調べたらそれが影響しているかもとありましたので、単体のアパッチは消しました。 test.phpファイルの拡張子はPHPファイルとして確認済みです 長文乱文で申し訳ないのですが、原因可能性を教えて頂けますか？
PHPでフレームワークを使う意味ってあるのでしょうか？ 私的にはメリットよりデメリットのほうが多いと思っています そもそもPHPは便利な関数が元々充実していますし、WEB上に多くの情報が存在します フレームワーク固有の関数を探してくるより PHPで実現するソースコードを探してくる方が速いと思うのですが 最近では珍しくないと思いますが デザイナーもプログラムの知識を持っているチームの場合は MVCに作業分担するメリットも感じられません フレームワークをかませることで 不具合発生時の原因の特定も複雑になります PHPでフレームワークを使う意味について 皆様の意見をお聞かせ下さい メリット ・MVCに作業を分担できる ・機能が用意されている場合は作業の簡略化が期待できる デメリット ・フレームワークに脆弱性が見つかった場合に対応が必要 ・フレームワーク自体にバグが含まれている場合がある ・不具合が起きた場合に原因の特定が難しくなる ・ノンフレームワークに比べて速度は遅くなる（Phalcon等、例外は除く） ・ノンフレームワークに比べて柔軟性はなくなる（Phalcon等、例外は除く）
PHPは、オブジェクト指向以外はひと通りわかります。 オブジェクト指向は見たり少しいじったりという程度でしたらわかりますが、１から作ることはきついレベルです。 で、cakePHP2.xを勉強しはじめているのですが、CookBook（日本語版）を読んでCookBookにあるとおりのブログをつくるところまではできました。 ですが、CakePHPの概要の次（コントローラ）以降になって、急に、かなり理解するのに時間がかかっています。 MVC自体については、昔Smartyを個人的に使っていたので、Smartyでウェブ構築ができる程度にはわかります。 が、cakaやzendのようながっしりしたフレームワークに取り組むのはこれがはじめてです。 （PHP以外にも） このような状態なのですが、このままCookbookを進めていくよりも、効率的な方法はありますでしょうか？ 現状だと、Cookbookでわからない部分を毎回毎回ぐぐって、相当時間がかかっています。 本にたよろうかとも思ったのですが CakePHP2 実践入門 (WEB+DB PRESS plus) [単行本（ソフトカバー）] http://www.amazon.co.jp/dp/4774153249/ Webアプリ開発を加速する CakePHP2定番レシピ119 [単行本] http://www.amazon.co.jp/dp/4798039519/ が定番っぽいですが、 ユーザレビューを読むと、評価がわかれていて、 こういう状況の自分にとってどうなのか迷ってしまいます。 今後どのように学んでいったらいいでしょうか？ とりあえずcookbookをざっと、理解できなくてもざーっと読んでしまい、 「定番レシピ１１９」にのっとって組んでみて、Cookbookに戻る。。。。というのはどうでしょうか？ よろしくお願いします。
自作の関数で、issetとemptyを一緒に判定する関数を作っているのですがエラーが出ます。 ある変数が「未定義」または「null」または「""（空白）」の場合はnullである、という関数を作りたいです。 ------------------------------------------ function is_null_ex($value){ 　if (!isset($value)) {return true;}　　　　　　　　　　　　　　　// 未定義かnullの場合、trueを返す 　else if (strlen(strval($value)) === 0) {return true;}　　　// 空白の場合はtrueを返す 　else {return false;}　　　　　　　　　　　　　　　　　　　　　　// $valueに値が入っている場合はfalseを返す } is_null_ex($val); ------------------------------------------ 上記の関数で$valueが未定義の場合にfuncを使うと、次のようなエラーが出ます。 Notice: Undefined variable: val つまり、未定義の変数を引数に渡すとエラーが出ます。 「未定義なら関数に渡さなければ？」と思うかもしれませんが、そもそもこの関数は「未定義」または「null」または「""（空白）」を判定したい関数なのです。 この場合、どうすれば良いのでしょうか？ エラーは出ますが上記の関数で「if (!isset($value)) {return true;}」の部分できちんと判定はされています。 PHP5.3系で運用しています。 ぞうぞよろしくお願い致します。
別ブラウザ間でセッションの値が共有されてしまう問題 あるサーバー(hostgator)で、セッションを使用するプログラム(PHP)を作っているのですが、あるブラウザで入力した値が、全ての異なるブラウザで同じ値を参照してしまっている 現象が出てしまい、困っています。 異なるブラウザというのは、別PC/別IPアドレスの別ブラウザでも、セッションを共有してしまっています。 同プログラムを、別会社のサーバーに入れた所、 きちんとブラウザごとに別の値が保存されているので、このサーバーだけの問題かと思い、 php.iniなどを調べてみたのですがそれらしい設定を見つけることができませんでした。 この現象を解決する方法をご存知のかた、おられないでしょうか？ プログラム自体は、この現象を再現するために作ったもので、 以下の様なものです。 別ブラウザ間でセッションの値が共有されてしまう問題あるサーバー(hostgator)で、セッションを使用するプログラム(PHP)を作っているのですが、あるブラウザで入力した値が、全ての異なるブラウザで同じ値を参照してしまっている 現象が出てしまい、困っています。 異なるブラウザというのは、別PC/別IPアドレスの別ブラウザでも、セッションを共有してしまっています。 同プログラムを、別会社のサーバーに入れた所、 きちんとブラウザごとに別の値が保存されているので、このサーバーだけの問題かと思い、 php.iniなどを調べてみたのですがそれらしい設定を見つけることができませんでした。 この現象を解決する方法をご存知のかた、おられないでしょうか？ プログラム自体は、この現象を再現するために作ったもので、 以下の様なものです。 session_start(); $_SESSION['val'] = $_SESSION['val'] + 1; echo $_SESSION['val'];
PHP全然詳しくないです 簡易の掲示板のようなものを作っているのですが、テキストボックスに記入した内容をデータベースに保管し、そこからもう一度入力した内容を出力する方法が分からず、困っています。 board.phpのテキストボックスに入力→dbconnect2.phpでデータベースにUPDATE命令 dbconnect3.phpでデータベースから入力内容をSELECT命令→board.phpのテキストボックスの下部に入力内容を出力 こういった形にする予定です。 board.php <!DOCTYPE html> <html> <head> <meta charset="UTF-8" /> <title>投稿画面</title> </head> <body> <h3>メッセージ</h3> <form method="POST" action="dbconnect2.php"> <div class="container"> <label for="message">投稿したい内容を入力してください(※200文字まで)</label><br /> <textarea rows="10" cols="20" id="message" name="message"><?php print($_POST['message']); ?></textarea> </div><br /><br /> <input type="submit" name="sent" value="送信する" /> </form><br /><br /> </body> </html> <?php if (isset($_POST['sent'])) { print($_row['message']); } ?> そもそもdbconnect3.phpをどうやって繋げればいいのかも分からなくなってしまいました。 なので、その方法も回答よろしくお願いします…。
PHPあまり詳しくないです。 会員登録ページなるものを作っています。 register.phpというページで入力した会員情報をconfirm.phpというページで最終確認させたいのですが、その際に入力した情報がconfirm.phpに反映されません。 regiser.php <?php $a = (!empty($_POST['name'])); $b = (!empty($_POST['email'])); $c = (!empty($_POST['password'])); $d = (!strlen($_POST['password']) < 4); if (isset($_POST['check'])) { if ($a && $b && $c && $d) { header('Location: confirm.php'); } } ?> <!DOCTYPE html> <html> <head> <meta charset="UTF-8" /> </head> <body> <h3>新規登録</h3> <form method="POST" action=""> <div class="container"> <label for="name">ユーザ名(20文字以内)</label> <br /> <input type="text" id="name" name="name" maxlength="20" /> </div> <?php if (isset($_POST['check'])) { if (empty($_POST['name'])) { print('※ユーザ名を入力してください'); } } ?> <br /><br /> <div class="container"> <label for="email">メールアドレス(100文字以内)</label> <br /> <input type="text" id="email" name="email" maxlength="100" /> </div> <?php if (isset($_POST['check'])) { if (empty($_POST['email'])) { print('※メールアドレスを入力してください'); } } ?> <br /><br /> <div class="container"> <label for="password">パスワード(4文字以上20文字以内)</label> <br /> <input type="password" id="password" name="password" maxlength="20"/> </div> <?php if (isset($_POST['check'])) { if (empty($_POST['password'])) { print('※パスワードを入力してください'); } elseif (strlen($_POST['password']) < 4) { print('※パスワードは４文字以上で入力してください'); } } ?> <br /><br /> <input type="submit" name="check" value="確認する" /> </form> </body> </html> confirm.php <!DOCTYPE html> <html> <head> <meta charset="UTF-8" /> <title>確認画面</title> </head> <body> <h3>入力内容を確認してください</h3> <form method="POST" action=""> <br /><br /> <p>ユーザ名</p> <br /> <?php print htmlspecialchars($_POST['name'], ENT_QUOTES, 'UTF-8'); ?> <br /> <p>メールアドレス</p> <?php print htmlspecialchars($_POST['email'], ENT_QUOTES, 'UTF-8'); ?> <br /> <p>パスワード</p> <?php print htmlspecialchars($_POST['password'], ENT_QUOTES, 'UTF-8'); ?> <br /><br /><br /> <?php print('この内容でよろしければ下の登録ボタンを押してください'); ?> <br /> <form method="POST" action="dbconnect.php"> <input type="submit" name="completion" value="登録する" /> </form> <br /><br /> <?php print('変更がある場合は下の戻るボタンを押してください'); ?> <br /> <form method="POST" action="register.php"> <input type="submit" value="戻る" /> </form> </body> </html> できればあまりこの形は変えたくありません…。 action部分をconfirm.phpに変えると、入力値が空だったりするエラー時にconfirm.phpに飛ばないようにする方法が分かりません。 回答よろしくお願いします。 色々と間違えていたのであげ直させていただきました。
PHPあまり詳しくないです。 会員登録ページなるものを作っています。 register.phpというページで入力した会員情報をconfirm.phpというページで最終確認させたいのですが、その際に入力した情報がconfirm.phpに反映されません。 regiser.php <?php $a = (!empty($_POST['name'])); $b = (!empty($_POST['email'])); $c = (!empty($_POST['password'])); $d = (!strlen($_POST['password']) < 4); if (isset($_POST['check'])) { if ($a && $b && $c && $d) { header('Location: confirm.php'); } } ?> <!DOCTYPE html> <html> <head> <meta charset="UTF-8" /> </head> <body> <h3>新規登録</h3> <form method="POST" action=""> <div class="container"> <label for="name">ユーザ名(20文字以内)</label> <br /> <input type="text" id="name" name="name" maxlength="20" /> </div> <?php if (isset($_POST['check'])) { if (empty($_POST['name'])) { print('※ユーザ名を入力してください'); } } ?> <br /><br /> <div class="container"> <label for="email">メールアドレス(100文字以内)</label> <br /> <input type="text" id="email" name="email" maxlength="100" /> </div> <?php if (isset($_POST['check'])) { if (empty($_POST['email'])) { print('※メールアドレスを入力してください'); } } ?> <br /><br /> <div class="container"> <label for="password">パスワード(4文字以上20文字以内)</label> <br /> <input type="password" id="password" name="password" maxlength="20"/> </div> <?php if (isset($_POST['check'])) { if (empty($_POST['password'])) { print('※パスワードを入力してください'); } elseif (strlen($_POST['password']) < 4) { print('※パスワードは４文字以上で入力してください'); } } ?> <br /><br /> <input type="submit" name="check" value="確認する" /> </form> </body> </html> confirm.php <?php $a = (!empty($_POST['name'])); $b = (!empty($_POST['email'])); $c = (!empty($_POST['password'])); $d = (!strlen($_POST['password']) < 4); if (isset($_POST['check'])) { if ($a && $b && $c && $d) { header('Location: confirm.php'); } } ?> <!DOCTYPE html> <html> <head> <meta charset="UTF-8" /> </head> <body> <h3>新規登録</h3> <form method="POST" action=""> <div class="container"> <label for="name">ユーザ名(20文字以内)</label> <br /> <input type="text" id="name" name="name" maxlength="20" /> </div> <?php if (isset($_POST['check'])) { if (empty($_POST['name'])) { print('※ユーザ名を入力してください'); } } ?> <br /><br /> <div class="container"> <label for="email">メールアドレス(100文字以内)</label> <br /> <input type="text" id="email" name="email" maxlength="100" /> </div> <?php if (isset($_POST['check'])) { if (empty($_POST['email'])) { print('※メールアドレスを入力してください'); } } ?> <br /><br /> <div class="container"> <label for="password">パスワード(4文字以上20文字以内)</label> <br /> <input type="password" id="password" name="password" maxlength="20"/> </div> <?php if (isset($_POST['check'])) { if (empty($_POST['password'])) { print('※パスワードを入力してください'); } elseif (strlen($_POST['password']) < 4) { print('※パスワードは４文字以上で入力してください'); } } ?> <br /><br /> <input type="submit" name="check" value="確認する" /> </form> </body> </html> できればあまりこの形は変えたくありません…。 action部分をconfirm.phpに変えると、入力値が空だったりするエラー時にconfirm.phpに飛ばないようにする方法が分かりません。 回答よろしくお願いします。
以下のコードの「echo fetch() ['id']」はうまくいく環境とそうでない環境があるようです。 <?php function fetch(){ $date = array('id' => 'JO783', 'name' => 'Taro'); return $date; } echo fetch() ['id']; // JO783と表示されることを期待しています ?> fetch()は連想配列を返すので、['id']を指定することで、JO783というidが取り出せると思いますが、localhostで開いた環境ではうまくいきますが、借りているレンタルサーバーでは Parse error: syntax error, unexpected '[', expecting ',' or ';' in phptest/index.php on line 7 とエラーが出ます。 PDOのfetchをイメージして作っています。PDOで $dbh->query($sql)->fetch()['id']みたいに、一気に値を取得したいです。
さくらのインターネット共有サーバのビジネスを使っています。 （FreeBSD,cｓｈです） で、phpのxdebugを入れたいと考えています。 % pecl とだけコマンドをうつとusage一覧が出てくるので、 peclコマンドを使えると思ったのですが、 % pecl install xdebug Cannot install, php_dir for channel "pecl.php.net" is not writeable by the current user % pecl config-get php_dir /usr/local/php/5.4/lib/php % sudo chown 31com /usr/local/php/5.4/lib/php /usr/local/bin/sudo: パーミッションが拒絶されました. とでるので、peclコマンドは一切使えないと考えていいのでしょうか？ あるいは、pecl以外でxdebugを入れる方法はありますか？ どこかで、さくらだと(xdebugにかぎらず）ソースからコンパイルしてインストールすればできる、と聞いたことがあるのですが、環境設定(cshです）の方法（必要？）など手順がわかりません。 よろしくお願いします
お世話になります。 レンタルサーバーのcoreserverを使用しております。 PHPにてindex.phpファイルを自動生成しているのですが、 生成されたファイルのパーミッションが644となってしまいますが、 生成時に606を与える事は可能でしょうか？ ftpソフトによる権限寄与は可能なのですが、自動で行いたいと考えております。 chmod("index.php",606);としても、 当然ですがパーミッションエラーで書き換えすらできない状態です。 .htaceesでapacheの設定を変えるのか？とは思いついたのですがいまいち どのように記述したらいいかもわかりませんでした。 自分なりに検索したり書籍を見ましたが、これといった回答が見つからず困っています。 無理ならあきらめますが、どなたか詳しい方がいたら是非ご教授願いたいです。 よろしくお願い致します。 【サーバ環境】 CPU Intel Xeon CPU E5-2670 0 @ 2.60GHz MemTotal12367MB Apache1.3 PHP5.5.3 RUBY 1.8.5 MySQL 5.1.22-rc
PHPで作ったWebサービスがあります。 ユーザーが100人いたとします。 この100ユーザーそれぞれのデータを、毎日0時（例えば）になると処理をするというCronを作りたいです。 PHPファイルは1ユーザー分の処理をするので、Cronで毎日0時に指定すると1人分の処理しかできません。 ではユーザー毎にCronを100個作るのは得策ではないと思います。 「一つのCron実行で100人分処理すれば？」というご意見もあるかもしれませんが、 1人分の処理が3～30秒かかるので、レンタルサーバーの1実行当たりの動作時間を超えてしまう問題があります。 毎日0時に100人分の処理を実行するのは無理なのでしょうか？ そもそも共用のレンタルサーバーレベルでは、100人分の同時処理というのは現実的ではないでしょうか？ そうすると、1人ずつ処理していくと、30秒×100人＝50分の処理時間が必要になります。 こういう場合はどのように設計すれば良いのでしょうか？ どうぞよろしくお願い致します。
cakePHPを勉強し始めたばかりです。 PHP自体は、オブジェクト指向がほとんどわかってない以外は、ひととおりわかります。 とりあえず今、cakebookを読み進めているのですが、少しだけ難しいです。 （いきなり専門用語が入ってきたり・・・例えば、URLのルーティングとか。 まぁ、mod_rewriteはある程度しってたのでなんとかなりますが、 mod_rewriteを知らなかったらきついと思います） そこで、こんな自分におすすめの本and/orウェブサイトをご存じでしたらお願いできますでしょうか？ また、本とウェブサイトだとどっちがいいでしょうか？ アマゾンのレビューや五つ星とみると、あまりいい本がなさそうでして。。。 （なお、cakePHP1.xの本が激安なのですが、買ってもあまり意味ないでしょうか？ よろしくお願いします。
現在、複数のCookieを利用したシステムを構築中ですが、 Cookie管理の１つとして、配列でCookieを発行しようと考えております。 ブラウザ別に保有できるCookie数が限られていますので、 可能なかぎり少ないCookieで管理したいと思います。 そこで質問です。 配列でCookieを発行した場合、ブラウザ側で認識されるのは１つになるのでしょうか？ それとも配列の要素分だけCookieを発行した形になるのでしょうか？ どなたかお分かりになれば、ご教示いただけますと助かります。 よろしくお願いいたします。 　　
ＨＴＭＬ＋ＣＳＳ＋ＰＨＰ＋ＭｙＳＱＬで「ＳＱＬ実習サイト」を作っています。 ＳＱＬを入力し、その結果を確認するという学習用のサイトです。 現在はＸＡＭＰＰ上で動かしているだけですが、上手くできたらＷｅｂ上に上げる予定です。 質問は、そのサイトでのＳＱＬインジェクション対策についてです。 作成している「ＳＱＬ実習サイト」では、フォームにＳＱＬ文を直接入力してもらい、そのままその ＳＱＬ文をＰＨＰで実行するようにしています。 具体的には、ＰＯＳＴで自分自身（index.php）にＳＱＬを送信し、それをクエリとして実行しています。 <h2>ＳＱＬ入力</h2> <form action="index.php" method="post"> 　　　　<textarea name="input_sql" cols=38 rows=3></textarea> 　　　　<input id="sql" type="submit" value="ＳＱＬ実行"> </form> （～略～） $_SESSION['jikkou_sql'] = $_POST['input_sql']; （～略～） $sql = $_SESSION['jikkou_sql']; $query = mysql_query($sql, $conn); ＩＰＡの「安全なＳＱＬの呼び出し方」等から調べると、ＳＱＬインジェクション対策としては プレースホルダ（プリペアド・ステートメント）が有効だとありますが、 作成しているケースだとＳＱＬを直接実行するのでプレースホルダが使えない気がします。 「ＳＱＬ実習サイト」ではＳＥＬＥＣＴ文のみ実行できるようにしたいと考えています。 入力してもらったＳＱＬの中で「ＳＥＬＥＣＴ」を探すようにして自作のＳＱＬインジェクション対策を 行えばよろしいのでしょうか？（ＤＥＬＥＴＥやＵＰＤＡＴＥがあれば無効化したり・・・） それとも、そもそもこのような使い方ではＳＱＬインジェクション対策はできないのでしょうか？ ご教授よろしくお願いします。
現在アメブロのテーマを指定したRSSを取得・表示を考えているのですがRSSを見ると全てが1つのRSSとして配信されている感じです。 カテゴリという概念もないということを知りました。 どうしたら、指定したテーマでの取得が可能になりますか？ この様な記事を見つけて試してみたのですが、エラー？が表示されてしまい、表示することは出来ませんでした。 http://oshiete.goo.ne.jp/qa/8065011.html どなたか良い方法をご存知の方いらっしゃいましたら、アドバイスを頂けますと助かります。 よろしくお願いいたします。
MySQLとphpの勉強中です。 コードは下記のようにしています。 SQL文の条件に合ったレコードがなければprintの箇所を表示させたくない場合はどのようにすれば良いでしょうか？ $sql = 'SELECT * FROM game WHERE scorer LIKE '.$scorer; 　　print "条件の合うレコードがなければここを表示させたくない。"; foreach ($dbh->query($sql) as $row) { } ご存知の方いらっしゃいましたらご教示ください。 よろしくお願いします。
　公開されてるソースがあるのでそれを使えばいいんですが、プログラミングを学んでみたいという目的もあって、ＰＨＰの勉強を始めたところです。 　で、あるサイトで学んでるんですが、その中でMySQLというものも出てきました。 　データベースの勉強もここからが初めてで、四苦八苦しながらもなんとか読み進めていったんですが、今度はＰＨＰとデータベースを組み合わせてブログを作ってみましょうという話になりました。 　もともとブログや掲示板を作りたくて勉強を始めたので願ったり叶ったりなんですが、ここで一つ疑問が。 　ブログってデータベース使ってましたっけ？(^_^; 　公開されてるソースの解説を見てみると、特にデータベースが必要というような表記もなく、ＰＨＰとＨＴＭＬとスタイルシートだけで作ってるように見えます。 　なので、もしかしたら余計な方向へ行こうとしてる？と、このままこのサイトで勉強を進めて良いものか不安になってしまいました(^_^; 　よく分かってない素人考えとしては、ブログの仕組みってＰＨＰでＨＴＭＬファイルを作ってるだけというイメージなのですが、データベースは必要なのでしょうか？ 　今はseesaaブログで借りてブログを書いていますが、仕組みが見えてないだけで、こういうブログもデータベースを使ってる？ 　だとしたら公開されてるブログのソースは、データベースを使える人限定ってことになりますよね？ 　ブログを作るのにデータベースは必要なのか？ 　また、必要ないにしても、データベースを使った方が良い面があるのか？ 　どうなんでしょうか？
cakePHP初心者です（まだはじめて数時間くらい） で、cookbookにそってサンプルブログを組んでいるのですが、 http://book.cakephp.org/2.0/ja/getting-started.h … のとおり、 Postモデルに class Post extends AppModel { 　　　public $validate = array( 　　　　　　'title' => array( 　　　　　　　　　'rule' => 'notEmpty' 　　　　　　), 　　　　　　'body' => array( 　　　　　　　　　'rule' => 'notEmpty' 　　　　　　) 　　　); } （↑タブを全角空白４文字に変換してます） と入れてsaveしたものの、 title,bodyを空で投稿しても、エラー表示されず投稿できてしまいます （投稿一覧にも表示されます） FWを使わないで自力で組むなら、自分なりにエラーを見つけられるのですが、 まだcakePHPになれていないため、 このバグの原因を追求するためになにからはじめたらいいのかわかりません。 どなたかお教えいただけないでしょうか？ よろしくお願い申し上げます。
CentOSで、PHPを5.3->5.4, 5.4-5.5 にアップデートしました。 yumコマンドやphp -vではうまくインストールできたように思えたのですが、phpMyAdminにアクセスしようとすると、「phpMyAdmin - エラー mysqli|mysql 拡張がありません。PHP の設定をチェックしてみてください。」と表示されます。 ググってもmysqlのことでなくて、php.iniがなんとか、と書いてあって、よくわかりません。 どなたかご存知の方、お教え願えませんか。
お世話になります。 皆さんからアドバイスをいただきたく投稿しました。 下記のような各マスタがあります。 店舗マスタ ・店舗コード ・店舗名 ・ジャンルコード ・削除フラグ ・登録日 ・登録者 ・更新日 ・更新者 ジャンルマスタ ・ジャンルコード ・ジャンル名 ・削除フラグ ・登録日 ・登録者 ・更新日 ・更新者 皆さんに聞きたい事はレコードデータに登録されているマスタデータの整合性についてです。 例えばジャンルマスタの下記のレコードが登録されているとします。 ・ジャンルコード：1000 ・ジャンル名：書籍 次に店舗マスタの下記のレコードが登録されているとします。 ・店舗コード：0001 ・店舗名：あいうえお書店 ・ジャンルコード：1000 ジャンルマスタからジャンルコードが「1000」のレコードを削除された場合に店舗マスタに登録されているジャンルコードが無くなってしまいます。このような事が起きないようにするにはどのような事をするのが正しいのでしょうか。 現在、私が考えているのは既に登録されているジャンルマスタの更新はジャンルコード以外は更新できるようにします。またジャンルマスタのデータの削除については既に店舗マスタに登録されている場合は削除できないようにする事を考えています。このような処理しか思いつきませんでした。 説明が下手ですみませんが理解していただけましたでしょうか。 どうが、皆さんのお知恵をお貸し下さい。またアドバイスをいただけませんでしょうか。 本当に申し訳ありませんが宜しくお願いします。
お世話になります。 現在、MYSQLデータベースを使用したプログラムを書いており、 そこでトランザクションについて質問があります。 トランザクションとは、複数の処理がすべて成功した場合に正式な処理を実行(commit)、１つでも失敗した場合は元に戻す(rollback)というようなことかと思うのですが、 では、１つの処理のみの場合は、トランザクションを使用する必要はないのでしょうか？ 例えば、 ・あるテーブルにデータをinsertしたい。 このような単一の処理を書く場合でも、 以下のようにトランザクションを使うべきでしょうか？ $dsn = 'mysql:dbname=〇〇〇;host=〇〇〇;charset=utf8'; $user = 'user'; $pwd = 'pwd'; //DB接続 try { $pdo = new PDO($dsn, $user, $pwd); } catch (PDOException $e) { die('DB接続失敗'); } //トランザクション開始 $pdo->beginTransaction(); //INSERT try { $sql = 'INSERT into table (test1, test2, test3) VALUES (:a, :b, :c)'; $st= $pdo->prepare($sql); $ret = $st->execute(array( ':a' => $a, ':b' => $b, ':c' => $c, )); if (!$ret) { throw new Exception('INSERT 失敗'); } //commit $pdo->commit(); } catch (PDOException $e) { //rollback $pdo->rollBack(); } $pdo = null; ※前提として、テーブルを使用するユーザーは多数います。 ご存知の方、ご回答いただけるれば幸いです。 よろしくお願い致します。
将来WEBクリエーターを目指しているのですが、実務ではどんなメールフォームを使うのでしょうか？ 下記のような無料フォームをたくさん見つけたのですが、どれが一番実務向きなのでしょうか？ それともこれを良く使うよと言う物が有りましたら教えてください。 http://matome.naver.jp/odai/2135426051452727801
ＰＨＰのカゴの作製において、サイトには商品のソースと一緒に、注文ボタンを添付して下記のソースを書こうと思っています。 （クライアントからサーバーに送るソース） <FORM action='http://www.1111.jp/kago/2222.php' method='post'target='_blank'style='margin:0;font-size:10pt'> 質問１ サーバーで受けて、金額を計算して、クライアントに返すソースって下記の文が基本ですか。 http://www.phpbook.jp/tutorial/function/index4.h … http://dotinstall.com/lessons/basic_php_beginner … 質問２ 計算表に罫線を入れる場合は、どうすればいいのでしょうか。 詳しい方、宜しくお願い致します。
お世話になります。 現在、mysqlのデータベースを使ったphpプログラムを書いているのですが、 以下のように、続けて２つのデータベース処理を記述している部分があります。 $db=connectDb(); //処理１ $st1=$db->prepare("update table1 set title=:title where id=:id1 limit 1"); $st1->execute(array(":title"=>$title,":id"=>$id)); //処理２ $st2=$db->prepare("update table2 set image=:image where id=:id2 limit 1"); $st2->execute(array(":image"=>$image,":id"=>$id2)); db=NULL; ここで質問があります。 このような記述ですとなんらかの理由により、例えば、 「処理１のアップデート処理は成功したが、 次の処理２のアップデート処理には失敗してしまった。」 というような問題は起きることがあるのでしょうか？ 起きることがある場合、それに備えてどのような記述をすれば対応できるでしょうか？ ご存知の方、ご回答いただければ幸いです。 よろしくお願い致します。
失礼します。 phpでのオブジェクトデータ内の配列にアクセスしたいのですが、うまくいきません。 下記(phpunit)のtitle配列内データにアクセスする際にどういった表記をすれば良いのでしょうか？ ご教授宜しくお願い致します。 object(PHPUnit_Extensions_Database_DataSet_DefaultTable)#334 (2) { ["tableMetaData":protected] => object(PHPUnit_Extensions_Database_DataSet_DefaultTableMetaData)#331 (2) { ["columns":protected] => array(2) { [0]=> string(2) "id" [1]=> string(5) "title" } ["primaryKeys":protected] => array(0) { } ["tableName":protected] => string(14) "hogehoge" } ["data":protected] => array(1) { [0]=> array(3) { ["id"]=> string(2) "1" ["title"]=> string(13) "test_titleです。" } } ["other":"PHPUnit_Extensions_Database_DataSet_AbstractTable":private] => NULL }
質問させていただきます。 初歩的ですみません。。 以下のような連想配列を array(3) { ["hidden_name"]=> array(5) { [0]=> string(8) "test.jpg" [1]=> string(8) "test.jpg" [2]=> string(8) "test.jpg" [3]=> string(8) "test.jpg" [4]=> string(8) "test.jpg" } ["number"]=> array(5) { [0]=> string(1) "8" [1]=> string(1) "4" [2]=> string(2) "14" [3]=> string(2) "14" [4]=> string(2) "15" } ["comment"]=> array(5) { [0]=> string(5) "test1" [1]=> string(5) "test2" [2]=> string(5) "test3" [3]=> string(5) "test4" [4]=> string(5) "test5" } } っを以下のような改行区切りのデータに整形したいと考えています。 test.jpg,8,test1 test.jpg,4,test2 test.jpg,14,test3 test.jpg,14,test4 test.jpg,15,test5 当然、自動で増えたり減ったりします。 実は以前からこのパターンではまることが多く、効率の良い整形の仕方や マストなやり方があればご指南いただきたいです。 初歩的で申し訳ありませんが何卒よろしくお願いいたします。
現在の私のサイト（shtml）のソースは次のとおりです（甲）。これを下記（乙）のように書き換えてアップしましたが”こんにちは”の文字が現れません。 レンタルサーバーの問題ですか？ソースの問題ですか？ （甲） <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <HTML lang="ja"> <HEAD> <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" > <META http-equiv="Content-Script-Type" content="text/javascript"> <META http-equiv="Content-Type" content="text/html; charset=Shift_JIS"> <META http-equiv="Content-Style-Type" content="text/css"> <META NAME="ROBOTS" CONTENT="INDEX,FOLLOW"> <TITLE>○○○</TITLE> （乙） <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitio … <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> <head> <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" /> <title>○○○</title> </head> <body> <!--shtmlのソースの中に次を挿入しました--> <p> <?php echo "こんにちは。<br />"; echo "こんにちは。<br />"; echo "こんにちは。<br />"; echo "こんにちは。<br />"; ?> </p> ----------------------- これが表示されません。 教えて下さい。どうしてですか？ 宜しくお願いします。
お世話になります。 現在、ユーザーが記事を作成、編集、削除できるブログシステムを作成しています。 MYSQLのデータベーステーブルには以下の３つを用意しています。 ・usersテーブル：ユーザー名(name)、パスワード等(pw)、記事保存先ディレクトリ(dir)等のユーザ情報 ・articleテーブル：ブログ記事タイトルや本文等の情報 ・imagesテーブル：ブログ記事に使用している画像情報 ここで質問があります。 現在ユーザーがログイン成功時にセッションにはユーザーIDのみを $_SESSION["id"]として保存しています。 そして、記事投稿処理時や、記事編集処理時など、各場面で必要になった情報はそのときselectを使ってテーブルから毎回取り出しています。 しかし、こんなことをしなくても、ユーザーがログイン成功時に、セッションにユーザーID以外の情報も 保存しておけば、以後データベースから取り出す必要がなくなり便利かと思うのですが、セキュリティ面などからこのようなやり方はNGなのでしょうか？ 1,まったく問題ないのか？ 2,パスワード等の重要データはNGなのか？ 3,ユーザーidのみにしておくべきなのか？ 問題がある場合、その理由も教えていただけるとありがたいです。 例）ユーザーログイン時に、 $_SESSION["id"]=ユーザーID格納。 $_SESSION["name"]=ユーザー名を格納。 $_SESSION["dir"]=記事保存先ディレクトリを格納。 $_SESSION["article"]=ログインユーザーの記事情報を格納。 お分かりの方、教えていただけたら幸いです。 よろしくお願い致します。
MySQLに格納したデータから年、月、日を抽出したドロップダウンリストを作成したいのですが。 それぞれ、年、月、日とドロップダウンリストを三つ横に並べて表示したいと考えています。 テーブル名：game issue（VARCHAR型）｜datedating（DATE型） ○｜2010-10-05 ●｜2011-06-07 △｜2012-11-03 今現在は下記のコードで年だけを抽出したドロップリストやっています。 自分で考えてやってみたらまぐれで上手く抽出できたコードです。 <select name="year" style="width:85px;"> <option value="">-</option> <?php $sql = 'SELECT * FROM game WHERE issue NOT LIKE "" ORDER BY datedating'; $year_list_now=0; foreach ($dbh->query($sql) as $row) { $year_list=date('Y',strtotime($row['datedating'])); if($year_list_now < $year_list){ $year_list_now=$year_list; ( $_GET["year"] == $year_list_now ) ? $val = "selected" : $val = "" ; print '<option value="'.$year_list_now.'" '.$val.'>'.$year_list_now.'年</option>'; } } ?> </select> 下記のコードは選択された値（年）を引き継ぐためのコードです。 ＞( $_GET["year"] == $year_list_now ) ? $val = "selected" : $val = "" ; 同じコードで月、日もいけるかなと思ったのですが、なぜか飛び飛びでしたか作成できませんでした。明らかにデータに格納されている月、日も抜けています。 月、日のドロップダウンリストは下記コードの「Y」の箇所を「m」や「d」にしました。 ＞ $year_list=date('Y',strtotime($row['datedating'])); 検索して出てきたこちらのコードがシンプルで良いと思いやってみたのですが、エラーになってしまいました。「`」がよく分かりません。 http://oshiete.goo.ne.jp/qa/2828622.html どのようにすれば年、月、日のドロップダウンリストを作成できるでしょうか？ ご存知の方いらっしゃいましたらご教示ください。 よろしくお願いします。
スマホサイトで画像アップロードのフォームを作成しています。 5つほど添付できるようにしています。 form.php <form action="./send.php" method="post" enctype="multipart/form-data" novalidate="novalidate"> 画像<br> <?php for($i = 1; $i <= 5; $i++) { echo '<input type="hidden" name="item_img_name[' .$i. ']" value="' .$_SESSION['item_img_name'][$i]. '">'."\n"; echo '<input type="file" name="item_img[' .$i. ']" id="item_img_' .$i. '" value=""><br>'."\n"; } ?> <input type="submit" value="送信"> </form> 以上の内容でフォームを作成しております。 問題なのが、サブミットした際send.phpに切り替わるのがかなり遅く大変困っています。 1つにつき2MGの画像サイズを早くPOSTさせる方法はありませんでしょうか。
質問１ アパッチとは、ＨＴＭＬにＰＨＰを認識させるために拡張子を.PHP等として作製する、いわばＰＨＰ用のホームページビルダーのようなものですか。 ２ 他のサイトでＰＨＰを使っているなと、判断できる方法はありますか。 ３ 市販されているアパッチってありますか。サポートがほしいので・・ 宜しくお願います。
PHP初心者です ＨＴＭＬタグが混じっ文字をＨＴＭＬごとPOSTで次ページに送る方法を教えてください ここでは<p><a href="./">TOPに戻る</a></p>をポストしたいです <form action = "test_view.php" method = "post" > <input type="text" name="<p><a href="./">TOPに戻る</a></p>"> <input type="submit" name="" value="送信"> </form> よろしくお願いします
現在PHPとMySQLでデータサイトを作成しています。 詳しい方にお聞きしたいことがあります。 データベースは下記のようにしています。 name｜blood_type(VARCHAR型) 佐藤｜A 田中｜ 加藤｜AB そこでbloodというチェックボックスにチェックが入っていれば○型というデータを表示するようにしています。 print( $_GET["dis"][2] == "blood" ) ? '<td><a href="http://○○.com/">'.$row['blood_type'] . '型</a></td>' : '' ; 抽出した血液型データの後ろに「型」を付けているのですが、$row['blood_type']が空だった場合「型」という文字を付けたくありません。 自分なりに考えネストにしてみたのですが、何度やってもsyntax errorになってしまいます。 どのようにすれエラーを出さずに、$row['blood_type']が空だった場合「型」を付けずに済むでしょうか？ ご存知の方いらっしゃいましたらご教示ください。 よろしくお願いします。
phpにて、同一のarrayの中で他のキーのバリューを参照することは可能なのでしょうか？ イメージとしては以下のようなことをしたいと思っています。 $sample = array( 　'1' => 'test1', 　'2' => this->1 ); 以上、よろしくお願い致します。
php初心者です issetで変数の中に値が入っているか調べたいのですがphp5.4でフォームから文字列を送るとfalseになってしまいます。 文字列が入っているかチェックしたいのですがどうしたらいいでしょうか？ if(isset($_POST['title'])&&$_POST['title']!=''){ $title = $_POST['title']; }else{ $title = ''; } よろしくお願いします
<?php print$_POST["ad1"]; print$_POST["ad2"]; ?> と書いた場合 <form action="3.php" method="POST"> <?php print"あいうえお<br>かきくけこ"; ?> </form> みたいに字は字、テキストボックスはテキストボックスなどの場合 print$_POST["ad1"]; セミコロンを下手にうつとエラーがでてくるのです。 どうしたらいいでしょうか？
phpのマニュアルの見方がいまいち分かりません。 http://www.php.net/manual/ja/function.fopen.php resource fopen ( string $filename , string $mode [, bool $use_include_path = false [, resource $context ]] ) 上記の例ですと、 ◎「string」「bool」これはどういう意味でしょうか？続くのが必ず変数なのはなぜでしょうか？ ◎関数の中の引数の[ ]大カッコは何を意味してるでしょうか？ 初歩的な質問ですが教えてください。
エックスサーバーでPHP・MySQL・cron機能を利用して 以下のような挙動をさせたい、と考えています。 ＊＊＊＊＊＊＊＊＊＊ １．cronで５分おきに、前回処理から１００分経っているかどうかチェック ２．経っていたら、処理に必要なデータをDBから取得し、配列に格納（これ以降、DB接続はしない） 3.取得したデータを元に、ループで処理を回す 4.３の処理が５回行われたら一時停止（sleepを使用） 5.８分経ったら処理を再開 6.３～５の処理を８回行ったら処理終了 ＊＊＊＊＊＊＊＊＊＊ しかし、現状では２～３回まではログが出力されるのですが、 それ以降のログが一切出ておらず、途中で処理が強制終了されてしまったのではないかと 思っています（エラーログ等も確認しましたが、何も出力されていませんでした）。 なんとか最後まで処理を到達させたいのですが、 強制終了の回避方法がまったく検討がつきません。 cronで８分おきに処理を行わせる、ということも考えたのですが １００分おきに処理を開始し、その上で８分おきにcron設定をする、という方法が 皆目見当がつきませんでした。 まったくの無知で申し訳ないのですが、 何かお知恵を貸していただけないでしょうか。
<h1>PHPのテストです</h1> <form action="1.php" method="POST"> <p><input type="text" size="20px" name="ad1"></p> <p><input type="text" size="20px" name="ad2"></p> <p><input type="submit" value="送信"></p> <?php $ad1=$_POST["ad1"]; if($ad1==""){ print"違う"; } else{ print"合格"; print"様"; } ?> とやったんですが、まったく反応がありませんでした。 どこがいかんのでしょうーか？
テキストボックスの内容を送信する事は成功しました。 しかし複数のテキストボックスはできませんでした。 <h1>PHPのテストです</h1> <form action="9.php" method="POST"> <p><input type="text" size="20px" name="ad1"></p> <p><input type="text" size="20px" name="ad2"></p> <p><input type="submit" value="送信"></p> <?php print"ようこそ"; print$_POST["ad1"]; print$_POST["ad2"]; print"様"; ?> </form> これは間違いでしょうか？ エラーもでてました Notice: Undefined index: ad1 in C:\xampp\htdocs\6.php on line 37 Notice: Undefined index: ad2 in C:\xampp\htdocs\6.php on line 38 様 とでてます すいません　いつもいつも 入力された内容を受け取るという作業ができれば なんとなく一応目標達成だとおもいます
phpの初心者です。画像をアップロードするプログラムを作っていているのですが、 Parse error: syntax error, unexpected T_VARIABLE というエラーが出ます。 $new_name_log = "{$upload_name_l}\n"; array_push($upload_name_l, $new_name_log); file_put_contents($save_name_file, $name_log); この３行に原因があるので調べてみると、ＷＥＢ上のサイトからソースコードをコピペしてきたときに陥りやすい、インデント（字下げ）のために、タブではなく全角スペースを使っていたのが原因とありました。確かに以前に作ったもののコピペです。コピーもとのプログラムはエラーは出ていません。全角スペースなども確かめたり、コピペではなく、自分で入力したりしてもエラーが消えません。どのように修正すれば良いのでしょうか。変数$upload_name_lや配列$upload_name_lには値が入っています。
技術者の皆様にお聞きしたいことがあります。 下記は結構有名なアンテナサイトです。 逆アクセスランキングで上位のブログ記事を紹介しているみたいです。 ぶろにゅー http://blog-news.doorblog.jp/ ランサーズでもたまにアンテナサイトの作成依頼を見るのですが、相場は5万～10万の間かなと思いますが、ただランサーズは高い傾向にあると感じます。 そこで技術者の皆さんにお聞きしたいのですが、皆さんがこれと全く同じシステムのアンテナサイト作成をお願いされたらいくらぐらいで受けますか？ ご存知の方いらっしゃいましたらご教示ください。 よろしくお願いします。
http://logic.moo.jp/data/archives/781.html 上記のサイトを参考にレンタルサーバー上では無事短縮URLを取得できたのですが ローカルのApacheではなぜかNULLが返ってきてしまいます。 Apache/2.2.8 (Win32) PHP/5.2.6 json supportenabled json version1.2.1 cURL supportenabled cURL Informationlibcurl/7.16.0 OpenSSL/0.9.8g zlib/1.2.3 よろしくお願いします。
現在、作成しているサイトに問い合わせフォームを設けています。 検索して出てきたPHPのコードをそのままお借りしました。 エラー画面(氏名やメアド、内容が記述されていない場合など)のフッターは別に用意したfooter.phpを埋め込んで表示させたいのですが、上手く表示されません。フッターは表示されず空白のままです。エラーコードなども表示されていません。 以前は普通にフッターも表示されていたのですが、少しコードをイジってしまったら表示されなくなってしまいました。 問い合わせフォームに記述漏れが無く、正常に送信された時も同じように埋め込んだフッターを表示させているのですが、こちらは正常に表示されます。 どこを変更すると正常にフッターが表示されるようになるでしょうか？ ご存知の方いらっしゃいましたらご教示ください。 よろしくお願いします。 <?php //--------件名 define("SUBJECT","お問い合わせフォームより"); //--------受け取りメアド define("MAILTO","info@○○.com"); //--------文字コード define("CODE","UTF-8"); //--------ホームURL $homeurl='http://○○.com/'; //--------入力チェック function check(){ global $_POST; if($_POST['name']==""){ error("氏名/ニックネームが入力されていません。");} if(!$_POST['mailadd']){ error("メールアドレス(返信用)が入力されていません。");} if($_POST['contents']==""){ error("内容が入力されていません。");} } //--------メール送信 function sendmail(){ global $_POST; $agent = getenv("HTTP_USER_AGENT"); $host = getenv("REMOTE_HOST"); $addr = getenv("REMOTE_ADDR"); if($host=="" || $host==$addr){ $host = @gethostbyaddr($addr);} $date = gmdate("Y/m/d H:i:s (D)",time()+9-60-60); $mailbody = <<<EOM ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ ■　お問い合わせフォームより ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ □送信者氏名：${_POST['name']} □メールアドレス：${_POST['mailadd']} □内容： ${_POST['contents']} ------------------------------------------------------------------------------------------ 投稿時間：$date 投稿者のIPアドレス：$addr 投稿者のホスト名：$host 投稿者のブラウザ：$agent ------------------------------------------------------------------------------------------ EOM; mb_language("Ja"); mb_internal_encoding(CODE); $sub = mb_convert_encoding(SUBJECT,CODE); $headers ="From: ".$_POST['mailadd']."\r\n"; //$mailbody = stripslashes($mailbody); $rcode = @mb_send_mail(MAILTO,$sub,$mailbody,$headers); if(!$rcode){ error("メール送信エラー");} } //--------最後のメッセージ function finish_html(){ echo <<<EOM <p class="txt">お問い合わせを受け付けました。ありがとうございました。</p><br> <p class="txt"><INPUT type="button" name="close" value="戻る" onClick="location.href='http://○○.com/contact.html'" class="button"></p><br clear="all"> EOM; } //--------エラー処理 function error($msg){ echo <<<EOM <p class="txt"><font color="red">$msg</font></p><br> <p class="txt"><INPUT type="button" name="close" value="戻る" onClick="history.back(); return false;" class="button"></p><br clear="all"> </div> <div id="s_main-bottom"></div> </div> </div> <?php include('footer.php'); ?> </div> </body> </html> EOM; exit(); } //--------メイン処理 if ($_POST['submit']) { check(); sendmail(); finish_html(); } ?> </div> <div id="s_main-bottom"></div> </div> </div> <?php include('footer.php'); ?> </div>
<body> <h1>PHPのテストです</h1> <form action="9.php" method="POST"> <p><input type="text" size="20px" name="ad1"></p> <p><input type="submit" value="送信"></p> <?php print"ようこそ" ?> </form> </body> </html> 9というファイルに文章を転送するという作業を勉強してますが、 テキストに文字をいれてもphpでかこっても 真っ白い画面になってます。 エラーではないんですが、何故なんでしょうか？ すいません。今日からphpの勉強に入った者です。
お世話になります。 ユーザーが自由に記事を投稿、編集、削除できるブログの作成をしています。 現在、記事投稿、編集画面での画像アップロードは、 ajaxを使って画像を選択したらすぐサーバーにアップロードされる形にしています。 ここで質問があります。 仮にユーザーが記事投稿画面から画像をアップロードしたとします。 しかしそのユーザーはその後、記事投稿ボタンを押さずにブラウザを閉じてしまったとします。 するとアップロードされた画像は使用されていないにもかかわらず、サーバーに残ってしまいます。 このようなことが繰り返される度に、 使用されていない画像がサーバにどんどん増えていってしまいます。 このようなことが起こらないよう対策を考えているのですが、 良い方法が浮かばず、困っています。 何か方法や参考サイト等、ご存知の方いましたらご回答いただけると幸いです。 よろしくお願い致します。
連想配列を含むヒアドキュメントの書き方を教えてください。 以下のコードならうまく行きました。 -(1)-------------------------- $SS = $_SERVER['PHP_SELF']; $html_txt = <<<EOT ($SS) EOT; echo $html_txt; ------------------------------ これを一時的な変数を使わずに以下のようなコードで実行したいです。 -(2)-------------------------- $html_txt = <<<EOT ($_SERVER['PHP_SELF']) EOT; echo $html_txt; ------------------------------ これを実行すると # Parse error: syntax error, unexpected '"', # expecting T_STRING or T_VARIABLE or T_NUM_STRING in … というエラーが出てしまいます。 最悪、(1)でもいいと思っています。しかし(2)のようなケースでもできてもいいのではないかと思うのですが、エスケープを入れたり「$_SERVER["PHP_SELF"]」などとクォーテーションを変更したりしてもうまく行きません。 質問は以下です ・(2)のような記述はPHPでは不可能なのでしょうか？ ・もし可能なら(1)の何が悪いのか、どうすればうまく行くのかを教えてください よろしくお願いします。
phpとmysqlで「あいまい検索」をしようと思い、下記サイトを参考にしましたが、 http://d.hatena.ne.jp/akihito_sado/20120602/p1 PDOを使ってlikeデータを抜き出したい場合、bindParamを使うらしいですが、 http://rasukaru55.sitemix.jp/or_kensaku.php 下記の場合どう書き直すべきでしょうか？ 打ち方が悪いのか、うまく作動しません。 教えてください。 ※bindParamを使えばSQLインジェクション対策になっていると言う事でしょうか？ <html> <head></head> <body> <?php //POST送信されたデータを$text1へ $text1 =@$_POST["text1"]; //SQL(テーブルから列を抽出する $sql ="SELECT 列名 FROM 表名 "; //キーワードが入力されているときはwhere以下を組み立てる if (strlen($text1)>0){ //受け取ったキーワードの全角スペースを半角スペースに変換する $text2 = str_replace("　", " ", $text1); //キーワードを空白で分割する $array = explode(" ",$text2); //分割された個々のキーワードをSQLの条件where句に反映する $where = "WHERE "; for($i = 0; $i <count($array);$i++){ $where .= "(列名 LIKE '%$array[$i]%')"; if ($i <count($array) -1){ $where .= " AND "; } } //別カラムも同じ検索したい $where2 = " OR "; for($i = 0; $i <count($array);$i++){ $where2 .= "(2列名 LIKE '%$array[$i]%')"; if ($i <count($array) -1){ $where2 .= " AND "; } } } ?> <form method="POST" action="<?php echo $_SERVER["PHP_SELF"]?>"> <table> <tr> <td><input type="text" name="text1"></td> <td><input type="submit" value="検索" name="sub1"></td> </tr> </table> </form> <?php //組み立てたSQL分を表示する echo "<p>組み立てたSQL分: ".$sql.@$where.@$where2; ?> </body> </html>
PHPであるWebサービスにリクエストしたら以下のようなレスポンスが返ってきました。 var_exportとvar_dumpで出力した例は以下のとおりですが、この中から要素idの値(test1234)を取得するにはどのようにしたら良いのでしょうか？ ■var_exportで出力した場合 　API\Data\Response::__set_state(array('attributes' => array ('id' => 'test1234', …))) ■var_dumpで出力した場合 　object(API\Data\Response)[20] 　　protected 'attributes' => 　　　array (size=9) 　　　　'id' => string 'test1234' (length=8) 　　　　… ※「API\Data\Response」の\は実際にはバックスラッシュです。 どうぞよろしくお願い致します。
PHPで $_SERVER["HTTP_REFERER"]; を使ってリファラを取得しているのですが、 Twitterからのアクセスだとリファラデータが空欄になってしまいます。 ページ別で「Twitter経由のアクセス数ランキング」を作りたいのですが、 どのようにすればよろしいでしょうか？ ご教授いただければ幸いです。 よろしくお願いいたします。
当社のシステムをクライアントのサーバーへ導入し貸し出すのですが、<img src="http://当社のサーバー.php">という1x1ピクセルの画像をシステムに埋め込んでおき、それ場所意外でシステムを複製された場合に分かるようにしたいです。(もっともソースを解析されると意味ありませんが・・・) こちらのサーバーのログファイル（a.log）に新しいドメインからの呼び出しがあれば追記していきたいのですが、どのようなコードを書けばよいでしょうか。
PHPの勉強をはじめた初心者です OSはＷｉｎｄｏｗｓvista XAMPPのverは3.2.1です ローカル環境での学習をするため、XAMPPをインストールし、正常にインストールは完了できましたが、 テキストエディタで作成したphpファイルをローカルディスク/xampp/htdocs/test.phpとして保存し、 アドレスバーにhttp://localhost/test.phpとして検索をかけたのですが、 Object not found! 要求された URL は本サーバでは見つかりませんでした。 もし手入力で URL を入力した場合は、綴りを確認して再度お試し下さい。 サーバーの障害と思われる場合は、ウェブ管理者までご連絡ください。 Error 404 となってしまいます つづりは合っているはずですし、 ローカルディスク/xampp/htdocsの中に、test.phpがあることは確認済みです 確認テストとして、http://localhost/index.htmlを検索すると It works! と出ます 以前、アパッチを単体でインストールしたのですが、 今回エラーがでた時調べたらそれが影響しているかもとありましたので、単体のアパッチは消しました。 長文乱文で申し訳ないのですが、原因可能性を教えて頂けますか？
<?php $param = isset( $argv[1] ?　$argv[1] : 'default'; と(And) ! 　<?php if (isset( $argv[1])) { 　　　$param = $argv[1]; } else { $param = 'default'; } 以上２件のプログラは全く同じロジックだそうです。 　皆様はどちらを使いますか！？ 　 　　よろしくお願いします。 　
PHPからMYSQLに問い合わせでご質問です。 実行している文です（SELECT文から） SELECT * FROM users WHERE id = ? AND level = ?' ))); $stmt->bindValue(1, $id, PDO::PARAM_INT); $stmt->bindValue(2, $level, PDO::PARAM_INT); $stmt->execute(); return $stmt->fetchAll(); } このような感じでユーザーIDとユーザーのレベルを判別しているものですが、IDはセッションを入れレベルに２と３と４の人を抽出という場合がわからずご質問させて頂きました。 ORを使って WHERE id = ? AND level = ? OR id = ? AND level = ? OR id = ? AND level = ? OR id = ? AND level = ? $stmt->bindValue(1, $id, PDO::PARAM_INT); $stmt->bindValue(2, $level, PDO::PARAM_INT); $stmt->bindValue(3, $id, PDO::PARAM_INT); $stmt->bindValue(4, $level, PDO::PARAM_INT); $stmt->bindValue(5, $id, PDO::PARAM_INT); $stmt->bindValue(6, $level, PDO::PARAM_INT); のような感じで当てはめたいものを書くのかと思ったり、もっときれいな書き方というか正しい書き方がありそうな気がしてご質問させて頂いた限りです。 どうぞよろしくお願いいたします。
CakePHPを使用してWebシステムを開発しております。 入力文字に\マークが入っている場合、\マークがエスケープされてDBに入ってしまいます。（\マークのみの場合は、\マーク部分が消えてしまいます。） 対応として以下の方法を考えました。ユーザの利便性と実装が簡単ため1を採用しようと考えていますが、妥当がご意見を頂きたく。 1. save前に「\」を「\\」に置換することで、「\」で保存される。 2. save前に「\」をバックスラッシュに置換して保存。表示はバックスラッシュになるが、コピペで\マークになる。 3. save前に「\」を「￥」に置換して保存。表示の際に「￥」を「\」に置換。 また、\マーク入力はよくあるケースだと思うのですが、スタンダードな方法がありましたらご教授して頂きたく。 以上、よろしくお願いします。
MYSQLよりPHPでSELECT処理し、 以下のように、データを読込みし比較しているのですが、 $t_home = $row["t_home"]; switch($t_home){ case "1": $t_home1 = "×"; break; case "2": $t_home1 = "○"; break; case "3": $t_home1 = "△"; break; default: echo "対象なし"; exit;} 「対象なし」となり、うまく比較できません。 echoで内容を確認しておりますが、データは1,2,3のいずれかが挿入されております。 文字コードの違いかと思い、mb_convert_encoding（mysql　$row["t_home"]＝utf8_general_ci）で変換しても代わりません。 何か他に要因は考えられるでしょうか？
いくつか思いついた点 xamppというのはサーバーの代わりをしてくれるという事ですよね。 普段、fttpから契約しているサーバーにファイルを送って アップロードするわけですよね。 だけどこの場合ファイルを送るという事をしないわけですがら アップをする為に、何をしたらいいのかが解らないのではと思うのです。 二つ目ですが、本をみると htdocsというフィルダーがアップロード先と書いてあります。 これと関係があるんではないでしょうか？
http://localhostや12.0.0.01にアクセスして 画面がでれば成功と本には書いてありましたが でませんでした。 そこで自分なりにネットでしらべたところ ポート80が使用されている [Ports] Port80=BLOCKED Port443=FREE Port3306=FREE Port21=FREE Port14147=FREE Port8080=FREE となっていて、そこで本でも色々書かれている事を やってみましたが上手くいきません。 おそらくこれが原因ではないでしょうか？ つまりインストールは上手くいったけれども うまくポートにつながっていない 対処を色々しらべていますがうまくいきません よろしくお願いいたします。
xamppとはそもそもなんなんでしょうか？ってすいません。 もともこもないですが、 自分は現在レンタルサーバーを借りてます。 xamppというのはサーバーの代わりと考えていいのでしょうか？ それと今困っているのは これまでhtmlなどはテキストに書いてファイルの種類を変更すれば そうなりました。 でもphpのファイルに作ったフォルダー内で html→phpにしても変化がなくなにもできません。 xamppを起動してもなんら変化もなく どうしたら本のように字が出るのか全くできてないのです。 ここだけなんとかおねがいできんでしょうか？
お世話になります。 現在、会員がログインしてブログ管理できる(記事を作成・編集できるシステム)を考えています。 そこでデータベース設計について質問があります。 一般的には、 ・ユーザー情報に関するテーブル ・ブログ記事に関するテーブル この２つを以下のような感じで設計すると思うのですが↓ ■usersテーブル ・id ・ユーザー名 ・パスワード ■articleテーブル ・id ・user_id(記事投稿者のid) ・contents(ブログタイトル、ブログ本文) ・created ・modified 私は、この２つを１つのテーブルですべてまとめて管理することを考えているのですが、 何かデメリットはあるのでしょうか？↓ ■usersテーブル(このテーブル１つですべてまとめて管理) ・id ・ユーザー名 ・パスワード ・contents(ブログタイトル|ブログ本文|記事投稿日|記事編集日) ・created ・modified ちなみにブログ記事は、区切り文字で分けながらcontentsにどんどん詰め込んでいき(updateする)、 取り出すときは区切り文字をexplodeしていく形を考えています。 実際にはもっと項目が多くなるのですが、１ユーザーの情報をすべて１つのテーブルで管理することで個人的に非常にわかりやすい、さらに単純なのでこちらのほうが速度も速いのではないかと思っているのですが、良くないのでしょうか？（あまり見かけないので） どなたか教えていただけると幸いです。 よろしくお願い致します。
Ａ４サイズで帳票を作り、htmlで保存しました。（下記にサンプルとソースを掲載） これを余白やサイズをそのままでプリントアウトしたいと思います。 この場合、ブラウザ上のプリント設定で、「縮小して全体を印刷する」のチェックをはずしたり、余白を0にしたりしなければなりません。 この設定を、プログラムで設定できないでしょうか。 ブラウザ上で設定しなくても自動的にＡ４サイズぴったりにプリントできないでしょうか。 CSS、PHP、JAVA、jQueryなどで、そういう方法がありましたら、ご教授いただきたいたいと思います。 何卒よろしくお願いします。 ※サンプルでは、余白を四方2cmずつとっています。 ★サンプル http://pips.chu.jp/0/a4/index.html ★上記のソース <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <html lang="ja"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta http-equiv="Content-Style-Type" content="text/css"> <meta name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 14.0.8.0 for Windows"> <title>印刷範囲の指定</title> <style type="text/css"> <!-- #print{ width : 17cm; height : 25.7cm; float : left; position : absolute; background-color : white; border-width : 1px;border-style : solid;border-color : blue; margin-top : 2cm; margin-left : 2cm; right : 0px; left : 0px; } @media print{ #print{ width : 17cm; height : 25.7cm; float : left; } } --> h1{ font-size : 15pt; font-weight : normal; text-align : center; } #table{ margin-top : 1cm; margin-left : 1cm; margin-right : 1cm; margin-bottom : 1cm;border-width : 1px;border-style : solid; width : 15cm; height : 22cm; text-align : center; } --> </style> </head> <body bgcolor="#fff1e6"> <div id="print"> <h1>帳票をＡ４サイズで出力したい</h1> <table id="table"> <tbody> <tr> <td>帳票</td> </tr> </tbody> </table> </div> </body> </html>
PHPのCMS機能を応用して既存のPHPファイル(例ではindex.php)の指定した場所にフォームの内容を追記していくシステムを作りたいのですがよくわかりません。 文字だけだとわかりにくいため簡単な例を 参考サイト→http://php.muzin.org/miniblog/ [[index.php (追記したいファイル)]] <html><head> </head> <body> <div></div> //テンプレート {{次からここに追記したい}} </body></html> [[template.php (テンプレート)]] <div><%PAGECONTENTS></div> [[new.php(フォーム)]] <html><head> <form action="makefile.php" method="POST"> <textarea name="honbun" rows="5" cols="50"></textarea><br /> <input type="submit" value="送信" /> </form> </head> </html> [[makefile.php(追記するためのプログラム)]] <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=euc-jp"> </head> <body> <?php if ($_POST{"honbun"}) { //フォームに記入されていればファイル生成開始 $honbun = $_POST{"honbun"}; //文字コードをEUCに変換 $honbun = mb_convert_encoding($honbun, "EUC-JP","AUTO"); //クオーテーションマークを変換 if(get_magic_quotes_gpc()) { $honbun = stripslashes($honbun); } // index.phpに追記 $filename = "index.php"; // ファイル生成＆書き込み $handle = fopen( $filename, 'w'); fwrite( $handle, $honbun); fclose( $handle ); // メッセージ表示 echo $filename. "に追記しました"; } else { echo "フォームから記事の内容を送信してください。"; } ?> </body> </html> 以上です。 このままだとお察しの通りindex.phpの</html>の後に<div></div>が記入されてしまいます(多分)。 これのどこを変えればindex.phpの{{次からここに追記したい}}の場所に追記することができますか？ わかりにくい場合は言ってもらえれば追記します。 回答よろしくお願いします。
下記の表現をした際に、必ずif文がelseの方に流れてしまいます。 そこで条件式をいろいろ書き換え試したところ、 if($_SESSION['user_id'] = $employee_id) ↓ if($_SESSION['user_id'] == $employee_id) に書き換えた際にだけ、elseに流れず、 ==の関係が成り立ちます。 その際に変更しているのは、条件式だけで他のコードを変更していません。 どのように変更すれば、正しく条件式が機能しますか？ <?php $sql = "SELECT * FROM thread_detail WHERE thread_id = $id"; $date = mysql_query($sql,$link); $logs = array(); while ($post = mysql_fetch_assoc($date)) { $logs[] = array($post['thread_detail_id'], $post['parent_thread_detail'], '<a href="thread.php?id='.$post['thread_id'].'&res='.$post['thread_detail_id'].'">'.$post['post_date'],$post['employee_id'].'</a>', $post['body'],'<a href="thread.php?id='.$post['thread_id'].'&edit='.$post['thread_detail_id'].'">編集</a>', '<a href="remove_thread.php?id='.$post['thread_id'].'&delete='.$post['thread_detail_id'].'"'.'onclick="return confirm(\'本当に削除しますか？\');">削除</a>'); } foreach ($logs as list($no, $oya, $create_date, $employee_id, $kiji, $edit, $delete)) { if ($oya > 0) { continue; } if($_SESSION['user_id'] == $employee_id) { print $create_date. $employee_id .'<br>'. $kiji . $edit . $delete . '<br>'; } else { print $create_date. $employee_id .'<br>'. $kiji . '<br>'; } listchild($logs, $no); } function listchild($logs, $parent) { $ct = 0; foreach ($logs as list($no, $oya, $create_date, $employee_id, $kiji, $edit, $delete)) { if ($oya !== $parent ) { continue; } if ($ct++ == 0) { print '<ul>'; } if($_SESSION['user_id'] == $employee_id) { print '<li>' .$create_date.$employee_id.'<br>'. $kiji . $edit . $delete . '<br>'.'<br>' . '</li>'; } else { print '<li>' .$create_date.$employee_id.'<br>'. $kiji . '<br>'.'<br>' . '</li>'; } listchild($logs, $no); } if ($ct > 0) { print '</ul>'; } } ?>
以下の条件の時に、Smartyのテンプレートをどのように作成するといいか教えてください。 ◎以下は全ページで共通 ・HTMLのhead要素部分(title要素のテキスト部分のみ可変) ・画面上のヘッダ部分のメニュー(完全に共通) ・画面上のフッタ部分(完全に共通) ◎以下の部分がページにより異なる ・右サイドに表示されるナビゲーションメニューはカテゴリにより3パターン(もしかしたら増えるかも。それぞれのパターンで10-40行程度) ・メインコンテンツ部分は 　 - 半数程度のページが出力する要素は共通(テキスト部分のみ異なる。Aパターン) 　 - 数ページは出力する要素は共通(テキスト部分のみ異なる。Bパターン) 　 - のこりはパターン化が難しい… 疑問点は以下です ・このような場合、テンプレートファイルは1つにする？ ・右サイドのナビゲーションメニュー部分はどうするか？ 　- テンプレートファイルを3枚に分ける？ 　- テンプレートファイルは1枚にし、Smartyの組み込み関数のif分で書き分ける？(→テンプレートファイルがけっこう冗長なソースになりそう) 　- ナビゲーションメニュー部分のHTML文字列を返す関数を共通で作成し、別ファイルにし、すべてのページのPHPファイルからincludeで呼び出し、その関数の戻り値をSmartyの変数に設定する？(こうしようかと思っているが、無骨？) ・メインコンテンツの部分をどうするか？ テンプレートファイルを1つにすると、分岐が多くなりかえって複雑なソースになり、メンテナンス性が低下してしまいそうという懸念があり、どうしようか迷っています。 個人の趣味の範囲でやっていますが、この件について開発の現場でも通用するようなテクニックを知りたいと思っています。 「実際、似たようなケースでよくこうしてるよ」 「こういう実装が多いが、こう実装した事もある」 など実際のプロジェクトの経験談など教えていただけるとうれしいです。 よろしくお願いします。
php で $a, $b, $c... をそれぞれして指定したパーセントの割合で表示させるプログラムを教えて下さい $a = 'hoge'; $b = 'huga'; $c = 'piyo'; $a は 10%, $b は 30%, $c は 60% といった具合に指定できつつ $d, $e... と続いても パーセント指定していけるような関数を作りたいです ご回答よろしくお願いしますm(__)m
・PHPで Google TTS API へアクセスして、生成されるMP3をダウンロードしたいのですが、どうすればいいでしょうか？ ・PHPで、MP3のダウンロードってどうやるのでしょうか？
ahpache の部分をスタートしても runningとは出てきませんでした。 PIDというところに数値と portsのとこにも数値 本にはwindwos7はllsが通信窓口を奪い合っている可能性があると 本にはあります。そこで インターネットインフォメーションを開きたいのですがありません。 どうしたらよいでしょうか？
現在、usersテーブルに、 ------------------------------------ id　　　news_cnt　　　　　news 1　　　0　　　　　　　　　　あいうえお ------------------------------------ このように入っているとします。 今回、 (1)news_cntを現在の値+1 (2)newsに格納されている現在データ(あいうえお)の後ろに新しいデータを付け加える。 この２つを変更したいです。 その場合、プリぺアードステートメントを使い、以下のように書きました。 $db=connectDb(); $st=$db->prepare("update users set news_cnt=news_cnt+1,news=concat(news,:newData) where id=:id"); $st->execute(array(":newData"=>$newData,":id"=>$id)); $db=NULL; これで一応動くのですが、適切にエスケープ処理はされているでしょうか？ （news_cnt+1をそのまま書いてしまっているが、問題ないか？） 問題ある、ない。 ある場合はこんな書き方がよろしい、 ということを教えていただけたら幸いです。 よろしくお願い致します。
function set_form($list){　 ～ (1)　<TD><INPUT type="text" name="バッチＮｏ．" id="text1" size="30" class="ws1" value="<?php echo $list[0];?>"> (2)　<TD><INPUT type="text" name="バッチＮｏ．" id="text1" size="30" class="ws1" value="<?php echo $list['tokuisaki_syamei'];?>"> $list = array( 'tokuisaki_syamei' => "$tokuisaki_syamei", 　　　　　　　　～ 上記のようなPHPスクリプトで、ハッシュ$list の第一要素の中身を、フォームのテキストボックスに表示させたいのですが、(1)、(2)どちらも、シンタックスエラーが返ってきます。どういう書き方をすれば 配列の要素名そのものではなく、その中身（$tokusaki_syameiのなかの値）をテキストボックスにセットできるのでしょうか。ご指導よろしくお願いします。
以下のphpのコードを実行すると、 「hogehoge()関数が定義済みです。」とブラウザに表示されます。 ですが、スクリプトは上から下へ向かって実行されるわけで、 ＜if(function_exists('hogehoge'))＞の箇所では、hogehoge関数はそんざいしないのでfalseに なると思うのです。 いったいどういう理屈なんでしょうか？ よろしくお願い申し上げます。 （なお、下記ソースではタブを全角空白４文字に変換しています） <!DOCTYPE html> <html lang="ja"> <head> <meta charset="UTF-8"> <title>関数が定義済みか調べる</title> </head> <body> <div> <?php if(function_exists('hogehoge')){ 　　　　echo 'hogehoge()関数が定義済みです。'; }else{ 　　　　echo 'hogehoge()関数は未定義です。'; } function hogehoge(){} ?> </div> </body> </html>
初歩的な質問で恐縮なのですが、PHPでカラム名の一括で取得する方法はありますか？ id,name,kana・・・などを連想配列に入れて必要な情報を取得していたのですが、構造が変わるたびに入れ替えをしていたのですが、取得できるのであれば非常に重宝すると考えました。 ググるとそれらしいのが出てくるのですが、実装するとなかなかうまく動きません。 諸先輩方、どうぞ宜しくお願いします。 環境 MYSQL 5.6 PHP5
下記コードを使用した結果、このようなエラーがかえってきました。 似たような質問になりますが、よろしくお願いします。 【コード】 array($post['thread_detail_id'], $post['parent_thread_detail'], '<a href="thread.php?id='.$post['thread_id'].'&res='.$post['thread_detail_id'].'">'.$post['post_date'].'</a>', $post['body'],'<a href="thread.php?id='.$post['thread_id'].'&edit='.$post['thread_detail_id'].'">編集</a>', '<a href="remove_thread.php?id='.$post['thread_id'].'&delete='.$post['thread_detail_id'].'"　'.onclick="return confirm('本当に削除してもよろしいでしょうか？');".'>削除</a>'); 【エラー】 Parse error: syntax error, unexpected '{', expecting ')' in C:\xampp\htdocs\study.localhost\re_company_bbs\thread.php on line 61
phpで「+=」と「=+」の違いは？ 以下のコードを実行すると。。。 ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ <?php $a = 1; $b=5; $b += $a; echo '$a is ' . $a . "<br>"; echo '$b is ' . $b . "<br>"; echo "<hr>"; $p = 1; $q=5; $q =+ $p; echo '$p is ' . $p . "<br>"; echo '$q is ' . $q . "<br>"; ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ $a is 1 $b is 6 -------------- $p is 1 $q is 1 となります。 $a is 1 $b is 6 はわかりますが、 $p is 1 $q is 1 がどうしてこうなるかわかりません。 お教えいただけますでしょうか？ また、普通「=+」って使わないですか？ ”plus equal operator"でぐぐったらいっぱいヒットするのに、 ”equal plus operator"でぐぐったら関係ないのが１件ヒットするだけなので。 よろしくお願い申し上げます。
下記のコードで、出力した結果、データベースには４つのデータがあるにもかかわらず、最新の４つ目のデータしか表示されません。 ツリー構造で、データをすべて出力することが第一目的なのでこの形にこだわりたいと思っています。 どのようにすれば解決するでしょうか？ 【コード】 <?php $sql = "SELECT * FROM thread_detail WHERE thread_id = $id"; $date = mysql_query($sql,$link); while ($post = mysql_fetch_assoc($date)) { $logs = array( array($post['thread_detail_id'], $post['parent_thread_detail'], $post['body'],'<a href ="thread.php?id='.$post['thread_id'].'">編集</a>', '削除'), ); } foreach ($logs as list($no, $oya, $kiji, $edit, $delete)) { if ($oya > 0) { continue; } print $no .'<br>'. $kiji . $edit . $delete . '<br>'; listchild($logs, $no); } function listchild($logs, $parent) { $ct = 0; foreach ($logs as list($no, $oya, $kiji, $edit, $delete)) { if ($oya !== $parent ) { continue; } if ($ct++ == 0) { print '<nobr>&nbsp<ul></nobr>'; } print '<li>' . $no .'<br>'. $kiji . $edit . $delete . '<br>' . '</li>'; listchild($logs, $no); } if ($ct > 0) { print '&nbsp</ul>'; } } ?>
下記のような例の場合は、どのようにすれば【意図した結果】のようになりますでしょうか？ 【コード】 <?php $post['thread_id'] = 1; $thread_id = $post['thread_id']; $logs = array( array(1, 0, $post['thread_id'], '<a href ="thread.php?id=$thread_id">編集</a>', '削除'), ); foreach ($logs as list($no, $oya, $kiji, $edit, $delete)) { if ($oya > 0) { continue; } print $no .'<br>'. $kiji . $edit . $delete . '<br>'; listchild($logs, $no); } function listchild($logs, $parent) { $ct = 0; foreach ($logs as list($no, $oya, $kiji, $edit, $delete)) { if ($oya !== $parent ) { continue; } if ($ct++ == 0) { print '<nobr>&nbsp<ul></nobr>'; } print '<li>' . $no .'<br>'. $kiji . $edit . $delete . '<br>' . '</li>'; listchild($logs, $no); } if ($ct > 0) { print '&nbsp</ul>'; } } 【結果：編集のリンク先】 「thread.php?id=$thread_id」 【意図した結果】 「thread.php?id=1」
データベースから出力し、リンクをつけたいと考えていますが、下記のようなエラーが出力されます。 どのように対応すれば解消されるでしょうか？ データベースにはthread_idという項目は存在します。 echo から始まる列が３８行目にあたります。 よろしくお願いします。 【コード】 <?php $sql = "SELECT * FROM thread WHERE category_id =1"; $date = mysql_query($sql,$link); while ($post = mysql_fetch_assoc($date)) { $thread_id = $post['thread_id']; echo '<br>' . '<a href="thread.php?id=<?php echo htmlspecialchars($post['thread_id']); ?>">' . $post['thread_title'] .'</a>'.'<br>'; } ?> 【エラー】 Parse error: syntax error, unexpected 'thread_id' (T_STRING), expecting ',' or ';' in C:\xampp\htdocs\index.php on line 38
モニプラ等の外部SNSキャンペーンではなく、オリジナルでSNSキャンペーンを実施することになりました。SNSはFacebookとTwitterです。 それぞれの規約等もよく読み、開発を進めているのですが1点実装がわからないところがあり質問させてください。 ▼参考（ドスパラ） https://c.socialplus.jp/dospara140523 上記ページのように、Facebookのいいね！、Twitterのフォロー（ともに公式アカウント）を必須にしたいのですが、うまくいきません。 特にTwitterのフォローだけでも必須にしたいと思っています。 どなたか教えていただけませんでしょうか。
表題の通り、ｐｈｐをもちいてツリー表示をしたいと思っています。 そこで、下記のコードの実行結果は以下の通りなのですが、 【このように実行結果を変えたい】のように表示したいと考えています。 どのようにコードを書きかえれば、実行できるでしょうか？ 【コード】 <?php function put_tree($no, $line, $broths, $childs, $texts) { echo '<span class="line">' . $line . '</span>'; echo '▼[' . $no . ']' . $texts[$no] . '<br>'; $line = preg_replace('/├$/', '│', $line); $line = preg_replace('/└$/', '　', $line); $no = isset($childs[$no]) ? $childs[$no] : 0; while ($no > 0) { $tail = $broths[$no] ? '├' : '└'; put_tree($no, $line . $tail, $broths, $childs, $texts); $no = $broths[$no]; } } ?> <html> <head> <title>ツリー表示</title> <style> .line { font-family: "ＭＳ ゴシック", monospace; } </style> </head> <body> <?php $logs = array( array(1, 0, 'あああああ'), //記事番号・親記事番号・記事内容 array(2, 1, 'いいいいい'), array(3, 1, 'ううううう'), array(4, 2, 'えええええ'), array(5, 3, 'おおおおお'), array(6, 3, 'かかかかか'), array(7, 0, 'ききききき'), array(8, 6, 'くくくくく'), array(9, 8, 'けけけけけ'), array(10, 7, 'こここここ') ); $roots = array(); $broths = array(); $childs = array(); $texts = array(); foreach ($logs as $log) { list($no, $pno, $text) = $log; if ($pno == 0) { $roots[] = $no; } else { $broths[$no] = isset($childs[$pno]) ? $childs[$pno] : 0; $childs[$pno] = $no; } $texts[$no] = $text; } rsort($roots); foreach ($roots as $root) { put_tree($root, '', $broths, $childs, $texts); } ?> </body> </html> 【実行結果】 ▼[7]ききききき └▼[10]こここここ ▼[1]あああああ ├▼[3]ううううう │├▼[6]かかかかか ││└▼[8]くくくくく ││　└▼[9]けけけけけ │└▼[5]おおおおお └▼[2]いいいいい 　└▼[4]えええええ 【このように実行結果を変えたい】 ▼[1]あああああ ├▼[3]ううううう │├▼[6]かかかかか ││└▼[8]くくくくく ││　└▼[9]けけけけけ │└▼[5]おおおおお └▼[2]いいいいい 　└▼[4]えええええ ▼[7]ききききき └▼[10]こここここ
<a href="http://example.com/aaaa/hogehoge1.jpg" target="_blank"><img src="http://example.com/aaaa/hogehoge1.jpg" width="100" alt="huge1"></a><br />hogehoge<br /><a href="http://example.com/bbbb/hogehoge2.jpg" target="_blank"> <img src="http://example.com/bbbb/hogehoge2.jpg" alt="huge2"></a> こういうHTMLがあるとします。改行はなく1行です。 このHTMLから正規表現で　『width="100"がついていない<img>タグ』　のsrc=""までを抜き出して置換したいのです。 期待する結果は <img src="http://example.com/hage/hogehoge2.jpg" です。 そこで /<img src="http:\/\/.*?.jpg"\s(?!width)/ というパターンを試しましたが、.*?の最短一致が思った通りにいかず <img src="http://example.com/aaaa/hogehoge1.jpg" width="100" alt="huge1"></a><br />hogehoge<br /><a href="http://example.com/bbbb/hogehoge2.jpg" と、1つ目の<img>が入ってしまい、2つ目の<a>タグまで抜き出されてしまいます。 これをうまくwidth="\d+"と入っていない<img>タグのみに適用させる方法はないでしょうか？ どなたかよろしくおねがいいたします。
実行するとランダムで取得した値を利用して、３パターンくらいの画像を切り替えて表示するPHPファイル を作成したいです！ 以下のように書いてみたのですが、如何せん初心者なものでできない原因すらわかりません！ 間違っているところを是非指摘していただきたいです。 宜しくお願い致します <?php $rand = rand(1,10); switch($rand){ case 1: echo("1"); break; case 2: echo("2"); break; case 3: echo("3"); break; case 4: echo("4"); break; case 5: echo("5"); break; case 6: echo("6"); break; case 7: echo("7"); break; case 8: echo("8"); break; case 9: echo("9"); break; case 10: echo("10"); break; if ($rand <= 3){ echo"<img src='a.jpg'>"; } elseif ($rand 4< || $rand >6 ) { echo"<img src='b.jpg'>"; elseif ($rand 7< || $rand >10 ) { echo"<img src='c.jpg'>"; } } ?>
formタグで入力した情報を指定のページへ飛ばしたいのですが、出来ません。 以下のコードをローカルサーバで試しているのですが、submitボタンを押してもリンク先のページに飛ばないという状況です。 問題点を指摘頂きたいです。 <form method="post" action="check.php"> <input name="nickname"type="text"style="width:100px"> <input type="submit" value=" 送信"＞ </form>
こんばんわ。ＰＨＰ初心者です。 以下のコードは、http://table.yahoo.co.jp/tのソースをすべて読み取り、ブラウザ上で表示させるプログラムです。 ですが、ブラウザ（クロームを使用）で表示する際、なぜか文字化けしてしまいます。 どうすれば解決するでしょうか？ ちなみにhttp://www.yahoo.co.jp/は文字化けせず、正常に表示させることができます。 PHP.iniをいじる必要がありますか？ PHP.iniのことは一切分かりません。 よろしくお願いします。 <?php $result = ""; $lines = @file("http://table.yahoo.co.jp/t") or $result = "ファイルが読めません。"; if ($lines != null){ for($i = 0;$i < count($lines);$i++){ $result .= ($i + 1) . ": " . $lines[$i] . "<br>"; } } ?> <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitio … <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> <title>sample page</title> </head> <body> <h1>Hello PHP!</h1> <p><?php echo $result; ?></p> </body> </html>
いつもお世話になります。 類似する質問も見つけられず、いろいろ試して悩んだ挙句、アプローチを変えてもう一度投稿することにしました。 発端は、下記のページです。 http://oshiete.goo.ne.jp/qa/8604578.html 問題は、phpmyadminからカラムまたはフィールドに入力したものは重複していればエラー表示されるのですが、PHPのフォームからMYSQLのデータベースに保存したもの(phpmyadmin上ではちゃんと登録されている)は重複とみなされず、エラーとして検出されません。 phpフォームからMYSQLのデータベースを呼び出してカラムまたはフィールド上に同じものがなければ保存、そうでなければエラー表示、といった形で重複させないプログラムを作成するつもりでした。 上記のページでご返信いただいたように、重複させないカラムにユニーク設定してみたのですが、問題は解決されませんでした。 文字コードが違うからと思ったのですが、MYSQL、PHPどちらもUTF-8で統一させています。 フォームからMYSQLへの保存時に問題があるのでは？と思うのですが、どのような形で修正すればうまくいくのか、わかりません。 どうか、知識の足りない私にご教授いただけないでしょうか？ PHPの設定とMYSQLへの登録のプログラムは下記の通りです。 PHP・・・5.4.19 XAMPP・・・1.8.2 phpmyadmin・・・4.0.4.1 データベース文字コード(UTF-8) phpの文字コード(php.iniのdefault_characterをUTF-8に設定) <?php //データベースの接続設定 $DB_HOST = "localhost"; $DB_NAME = "○○"; $DB_USER = "○○"; $DB_PASS = "○○"; //データベースに接続する $conn = mysql_connect($DB_HOST,$DB_USER,$DB_PASS) or die("接続エラー"); mysql_select_db($DB_NAME) or die("接続エラー"); 　　　　　　　//データベース登録前にメール送信する $userID = $_POST['userID']; $password = $_POST['password']; $name = $_POST['name']; $mail1 = $_POST['mail1']; $userID = htmlspecialchars($userID); $password = htmlspecialchars($password); $name = htmlspecialchars($name); $mail1 = htmlspecialchars($mail1); $mail_sub = '登録を受け付けました。'; $mail_body = 'ご登録、誠にありがとうございました。'; $mail_body = html_entity_decode($mail_body,ENT_QUOTES,"UTF-8"); $mail_head = 'From:blowin@horae.dti.ne.jp'; mb_language('Japanese'); mb_internal_encoding("UTF-8"); mb_send_mail($mail1, $mail_sub, $mail_body,$mail_head); ?> <?php //デフォルトのタイムゾーンを日本に設定 date_default_timezone_set("Japan"); //フォーム情報をすべて受信 extract($_POST); //そのまま代入する形ではエラーが起きるため、isset関数を使ってエラー回避する if(isset($_POST['$userID'])){ $userID = cnv_dbstr($_POST['$userID']); } if(isset($_POST['$password'])){ $password = cnv_dbstr($_POST['$password']); } if(isset($_POST['$name'])){ $name = cnv_dbstr($_POST['$name']); } if(isset($_POST['$mail1'])){ $mail1 = cnv_dbstr($_POST['$mail1']); } //データを追加する $sql = "INSERT IGNORE INTO touroku(userID,password,name,email,date)"; $sql .= "VALUES( " ; $sql .= " ' " .$userID. " ', " ; $sql .= " ' " .$password. " ', " ; $sql .= " ' " .$name. " ', " ; $sql .= " ' " .$mail1. " ', " ; $sql .= " ' " .date("Y/m/d H:i:s") . " ' " ; $sql .= " ) " ; $res = mysql_query($sql,$conn) or die("データ追加エラー"); //SQLコマンド用の文字列に変換する関数 function cnv_dbstr($string){ //タグを無効にする $string = htmlspecialchars($string); //magic_quotes_gpcがOnの場合はエスケープを解除する if(get_magic_quotes_gpc()){ $string = stripslashes($string); } //SQLコマンド用の文字列にエスケープする $string = mysql_real_escape_string($string); return $string; } header('location:./testkanryou.php'); exit; ?> 大変申し訳ありませんが、どうか、よろしくお願い申し上げます。
下記(1)はディレクトリ「sample_dir」のファイル一覧を取得し、ファイル名「hogehoge」から始まるものだけを一覧表示させたものです。 「hogehoge」以外の文言でも絞り込めるように関数を呼び出して（(2)）、指定文言を引数で$xに渡したいのですが、引数が認識されません。 引数を正規表現で扱うには、どのように記述したら良いですか。 ご教示をお願いします。 ---------------------------------------- (1) ---------------------------------------- //対象ディレクトリ $dir_s="./sample_dir"; //ディレクトリ内のファイルを取り出す $filelist=scandir($dir_s); //ファイル数をチェック $count=count($filelist); for($i=0; $i<$count; $i++){ $y = ($filelist[$i]); if(preg_match("/^hogehoge/", $y)){ print_r($y); } } ---------------------------------------- (2) ---------------------------------------- function file_search($x){ for($i=0; $i<$count; $i++){ $y = ($filelist[$i]); if($z = preg_match($x, $y)){ print_r($y); } } } file_search("/^filename/"); //引数「filename」でマッチさせたい
お世話になります。 掲題の件ですが、先日からphpmyadminを起動すると 下記のエラーが表示されてしまいます。 Deprecated: preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead in /export/XXX.com/phpmyadmin/libraries/config/config_functions.lib.php on line 48 該当48行目は下記となってますので $message = preg_replace('#\[a@("?)([^\]]+)\1\]([^\[]+)\[/a\]#e', "PMA_lang_link_replace('$2', '$3')", $message); ↓としたのですが $message = preg_replace_callback('#\[a@("?)([^\]]+)\1\]([^\[]+)\[/a\]#', "PMA_lang_link_replace('$2', '$3')", $message); エラーとなってしまいます。 どこに誤りがあるでしょうか。。 また、phpadminのアップデートを検討しているのですが いまのデータベースを保持したまま、アップデートすることは可能でしょうか。 宜しくお願い致します
企業や店舗の販促活動の一環として、ツイッターにある特定のツイートをリツイートした人を対象に、抽選で商品などをプレゼントをするというものがあります。 私も、自身のサービスのPRとして、リツイートした人に対してプロモーションコード、もしくはコードが記載されたウェブアドレスを連絡するというキャンペーンを行いたいと考えております。しかしながら、ウェブ検索をかけてみても企業のキャンペーン情報が並ぶばかりで、その方法を見つけることができませんでした。 必要に応じてJavaScriptやPHPなどのプログラムが使えるとして、このようなリツイートキャンペーンを実装するにはどうすればよいでしょうか。
PHP+MySQLでの配列のinsert文について はじめまして。 POSTされた配列データのDB一括挿入方法で約2週間悩み中で非常に困っております。 私の配列の理解が不足しているため、初心者の私でもわかるように解決方法をご教示いただけましたら大変助かります！何卒、よろしくお願い致します。 行いたい処理といたしまして、 [index.php] CSVアップロード（名前・メアド・金額・年月日の4項目）→※解決しました。 　↓↓↓ [check.php] CSVデータをテーブルで入力されている行数分をループして表示→※解決しました。 　↓↓↓ [finish.php] check.phpで表示した配列データをPOSTで受け取りDBに登録する。→※未解決 となります。 ソースは下記のようになります。 ※index.phpは今回無関係と思うので省略します。 ━━━━　[check.php]ここから　━━━━ ・ ・ ・ <form action="finish.php" method="post"> <? while($arr = fgetcsv_reg($fp,1024)){ ?> <? //空行以外を処理 $num = count($arr); if(!$arr ==''){ // $namae = $arr[0]; //名前 $mail = $arr[1]; //メアド $money = $arr[2]; //金額 $year = $arr[3]; //年 $month_hen = $arr[4]; //月 $month = sprintf("%02d", $month_hen); //1～9月（1桁）の場合、前に0を付加する $day_hen = $arr[5];//日 $day = sprintf("%02d", $day_hen); //1～9日（1桁）の場合、前に0を付加する // ?> <input type="hidden" name="namae[]" value="<?php echo $namae ?>"> <input type="hidden" name="mail[]" value="<?php echo $mail ?>"> <input type="hidden" name="money[]" value="<?php echo $money ?>"> <input type="hidden" name="year[]" value="<?php echo $year ?>"> <input type="hidden" name="month[]" value="<?php echo $month ?>"> <input type="hidden" name="day[]" value="<?php echo $day ?>"> ・ ・ ・ <input type="submit" value="　　一括登録する　　" /> </form> ━━━━　[check.php]ここまで　━━━━ ━━━━　[finish.php]ここから　━━━━ ・ ・ ・ // DB登録部分開始 if ($_POST['submit']) { $arr = array( 'reg_id', //auto_increment 'user_id', //ユーザーID（セッションで保持） 'namae', //名前 'mail', //メアド 'money',//金額 'ymd'//年月日 ); $value = array( NULL, mysql_real_escape_string( $_SESSION['user_id'] ), mysql_real_escape_string( $_POST['namae'] ), mysql_real_escape_string( $_POST['mail'] ), mysql_real_escape_string( $_POST['money'] ), mysql_real_escape_string( $_POST['year'] . '-' . $_POST['month'] . '-' . $_POST['day'] ) ); // DB登録部分終了 //ループ処理開始 foreach ( $arr as $value ) { $sql = "insert into receipt_issue ( $arr ) values ( $value )"; mysql_query($sql); $result = mysql_query( $sql ) ; //ループ処理終了 } } ・ ・ ・ ━━━━　[finish.php]ここまで　━━━━ というソースなのですが、データベースに登録できません。 例えば「finish.php」内に、 print_r( $_POST['namae'] ); と記述すると、 Array ( [0] => ああ君 [1] => いい君 [2] => うう君 [3] => ええ君 ) とちゃんと配列は受けとれているようです。 そもそもDB接続ができていないということもありません。 ※配列でない場合のテストでちゃんと接続・登録できていました。 いろいろ調べた中で、$value = array内の記述方法に問題があるのか・・・ と思い、色々調べて試したのですがダメでした。。。 上記の仕組みでループさせてデータベースに登録するには、どのように記述したらよろしいでしょうか？ 情報に不足がございましたら、申し訳ございません。その点ご指摘いただきましたら必要な情報を再度投稿します。 何卒、お力をお貸しいただけましたら幸いでございます。 宜しくお願い致します！
PHPのプログラムを書いているのですが、以下のエラーが出てしまい困っています。 Warning: strpos() [function.strpos]: Empty delimiter in /xxx/hoge.php on line 22 22行目には以下のコードがあります。 if( strpos( $v['email'] , $record ) !== false ){ $record　にはこちらです。 $record = trim( fgets( $r_fp , 1024 ) ); 調べてみますと、strposの$recordの引数が空？のためのエラーではないかという記事があったのですが、この場合には何を入れればよいのでしょうか？引数に何かを定義しないとだめですか？ ちなみに、これは重複アドレスを弾く記述を行っている一部となります。 何かアドバイスありましたらお願いいたします。 宜しくお願いします！m(_ _)m
音声ボタンを押下して自分の声を録音し、即座に聞けるようなAPIなどはございますでしょうか？ ■参考HP http://www.recordmp3.org/ また、PGを作るとするとどのようになりますでしょうか？ ご存知の方、宜しくお願いします。
PHP初心者です。 ロリポップで登録したPHPMyadminでユーザー名やパスワード等を入力する表を作成しています。 更新又は削除ボタンが押されたときにこういう処理をする、という命令を出すページで躓いています。 <?php $db = new PDO('mysql:host=●●;dbname=●●;charset=utf8', '●●', '●●'); try { if (isset($_POST['update'])) { $stt = $db->prepare('UPDATE `date` SET sid=:sid, uid=:uid, name=:name, email=:email, passwd=:passwd WHERE sid=:sid'); $stt->bindValue(':sid', $_POST['sid']); $stt->bindValue(':uid', $_POST['uid']); $stt->bindValue(':name', $_POST['name']); $stt->bindValue(':email', $_POST['email']); $stt->bindValue(':passwd', $_POST['passwd']); } elseif (isset($_POST['delete'])) { $stt = $db->prepare('DELETE FROM `date` WHERE sid=:sid'); } $stt->bindValue(':sid', $_POST['sid']); $stt->execute(); } catch(PDOException $e) { die('エラーメッセージ'.$e->getMessage()); } header('Location:●●'); ?> 毎回どうしても $stt->bindValue(':sid', $_POST['sid']); Fatal error: Call to a member function bindValue() on a non-object というエラーが出てしまいます。 sidが存在していないのに要求しているのだと思うのですが、PHPMyAdminでsidというカラムはきちんと存在しています。 何が間違っているのでしょうか。 記入している内容にも間違いがあったらご指摘お願いします。 回答よろしくお願いします。
PHPで「ãƒ†ã‚¹ãƒˆ」->「テスト」(ＵＴＦ８)に変換することができる人はいらっしゃいますか？「ãƒ†ã‚¹ãƒˆ」はMySQLでテストが文字化けたものを正常な日本語としてMySQLに入れなおさないといけません。 どうしてもPHPのみでやらないといけなくてこういったやり方はできないので難儀しています。 http://www.miacis.co.jp/?p=160 $flag = mb_detect_encoding($str, "auto"); 「ãƒ†ã‚¹ãƒˆ」を調べたらＵＴＦ８とでたので $str = mb_convert_encoding($str, "UTF-8", "UTF-8"); で変換してもやはりダメで、 前に mb_language("Japanese");を直前に記述して $str = mb_convert_encoding($str, "UTF-8", "auto"); にしてもダメで 同じUTF8同士なので変換？というべきかわからないのですが、var_dump();で調べたとき「ãƒ†ã‚¹ãƒˆ」ではなく「テスト」として取得できるやり方またはコードヒントを教えてください。
PHPにて外部サイトの情報を取得しています。 数年前に作成し、問題なく取得できていたのですが ここ数週間、タイムアウトとなってしまいます。 file($URL)で取得しているのですが、下記のエラーとなります。 <b>Warning</b>: file($URL): failed to open stream: Connection timed out in <b>XXX.php</b> on line <b>29</b><br /> 色々なサイトで試したのですが、どれもエラーとなります。 ※ブラウザで直接入力すればすぐにアクセスできます レンタルサーバですがサーバサイドに確認したところ原因不明。 PHPのバージョンが　[PHP 5.2.17]でした。 サーバサイドがバージョンアップ推奨とのアナウンスがでていたので 　[PHP 5.5.8]としましたが、一向にエラーのままです。 調査観点等、ございましたら教えて下さい。 宜しくお願い致します
お世話になります 下記スクリプトにてメールを受信してDBに格納しようと思っています DBに格納後、メールサーバからメールを消したいのですが、メールボックスを空にするためにの処理を教えて頂けないでしょうか？ 宜しくお願いいたします。 /////////////////////////////////// //PEARのパスを設定 require_once 'Mail/mimeDecode.php'; #-- メールデータの取得 $params['include_bodies'] =true; $params['decode_bodies'] =true; $params['decode_headers'] =true; $params['input'] = file_get_contents("php://stdin"); //標準入力 $params['crlf'] = "\r\n"; $mail_data = Mail_mimeDecode::decode($params); #-- From $FromAddress = $mail_data->headers['from']; $FromAddress = addslashes($FromAddress); //エスケープ処理 $FromAddress = str_replace('"','',$FromAddress); #-- 署名つきの場合 preg_match("/<.*>/",$FromAddress,$str); if($str[0]!=""){ $str=substr($str[0],1,strlen($str[0])-2); $FromAddress=$str; } #-- Subject フィールドの取得 $Subject = $mail_data->headers['subject']; $Subject = mb_convert_encoding($Subject,"UTF-8","JIS"); #-- 本文の取得 switch(strtolower($mail_data->ctype_primary)){ case "text": //テキストメール $MailBody = $mail_data->body; $MailBody = mb_convert_encoding($MailBody,"UTF-8","JIS"); break; case "multipart": //マルチパート（添付ファイル（画像前提）付） foreach($mail_data->parts as $part){ switch(strtolower($part->ctype_primary)){ case "text": $MailBody = $part->body; $MailBody = mb_convert_encoding($MailBody,"UTF-8","JIS"); break; case "image": $type = strtolower($part->ctype_secondary); // jpg,gif,png以外の画像形式は受け付けない if($type != "jpeg" and $type != "jpg" and $type != "gif" and $type != "png"){ continue; } // ファイルを保存 /* $fp = fopen("/tmp/". time() . $type, "w"); $length = strlen($part->body); fwrite($fp,$part->body,$length); fclose($fp); */ break; } } break; default: $MailBody=""; }
色々なサイトを拝見させて頂き勉強をしていると phpからmysqlで接続し呼び出すときに prepare(array(SELECT *　FROM request WHERE id = ?,)); このような一文で呼び出すものと行数を分け prepare(implode(' ', array( 'SELECT *', 'FROM `request`', 'WHERE `id` = ?', このように書いているものとあります。 個人的には行数を分けていた方がわかりやすいので後者のほうで書いているのですが、これは作る人の気分でかき分けていいものなのか気になり質問させて頂きました。 また後者ではどういうタイミングで区切るのかわからないというのもあります。 SELECT * FROM users INNER JOIN category ON users.category = category.id INNER JOIN images ON users.category = images.id このように３つのテーブルを内部統合したくこの文を作りmysql上で叩くと3つ統合され表示されます。 しかし上記の文に当てはめｐｈｐから叩くとエラーがでます。 素直に1行で書けばよいのですが、分からないからというってスルーするのはあまり良くないかと重いご質問させて頂きました。 この３つのテーブルの場合、後者の書き方ではどのタイミングで区切るのでしょうか。
mysqlに下記のようなものがあるとします。 id　name　category 1　ユーザー1　3 2　ユーザー2　1 3　ユーザー3　1 これをｐｈｐで呼び出して表示します。（エスケープ処理は省いてます） <?php echo $users["id"]; ?> <?php echo $users["name"]; ?> <?php echo $users["category"]; ?> それぞれ１→ユーザー1→3 という感じで問題なく表示されています。 しかし、categoryのところは実は 1　海釣り 2　川釣り 3　両方 このように選んで貰ってその数値を格納しています。 しかしながらそれをｐｈｐで呼び出しどのように【１が呼び出された時は海釣り】のように表示するのでしょうか？ 最初から文字列を格納でも良いのですが整数を格納し呼び出す時に、という今回のケースも勉強したいと思ったのですがどのようにやるのがスムーズなのでしょうか？ 比較的プロフィールのページや写真掲載のページなどに頻繁に使うのでどこかに関数としてかいておけるものなのでしょうか？
php勉強中のものです。 phpを使ってサイトを作っているのですが、 index.php　の同じ階層に、静的ページを入れたいと思っております。company.phpやabout.phpなど。 しかし、運用面で、ディレクトリ別に分けてそこにindex.phpを作る方がいいと言われました。 例： comapny/index.php about/index.php そうなると、index.phpがたくさんできてしまい、エディタなどでも混乱してしまいます。 それでも、ディレクトリ別に分けた方がよろしいのでしょうか。
IPを登録して登録された以外のIPがアクセスしてきたらPHPで判別して閲覧を制限する業務システムを作りレンタルサーバで運用しようとしているのですが、先日、IPを偽装するIPスプーフィングという手法があるということがわかりました。 登録されているIPに偽装されてしまったら、PHPでIP制限をしても意味がありません。 この記事によると http://detail.chiebukuro.yahoo.co.jp/qa/question … 「他人のIPアドレスや存在しないIPアドレスに偽装することは、現在ではできないとされています。」 となっていますが、IPスプーフィングというのは過去の話なのでしょうか？サーバ屋が管理している共用サーバであればちゃんとIPスプーフィング対策がしてあって、サーバ利用者は特に気にしなくてもいい問題なのか教えてください。
phpで質問すればよいのかlinuxで質問すればよいのか微妙なのですが、 phpのexec関数でlinuxにコマンドを複数発行した場合の質問です。 例えば、cmdAとcmdBがあって、cmdBがcmdAに依存している場合（例えばcmdAで生成されたファイルをcmdBで使用するときとか）、下記のようにして、問題なのでしょうか？ ---------------- exec(cmdA); exec(cmdB); ---------------- 上記のように連続でコマンドを発行すれば、cmdBはcmdAの処理が終わってから実行されるのでしょうか？ 以上、よろしくお願い致します。
初めて投稿します。 入力フォームから受け取ったuserIDをMYSQLを呼び出し重複がないかチェックした上で、重複があればエラー出力、なければ登録へ、といった形を考えています。 mysqladminから直接入力・保存したものはエラー検出するのですが、入力フォームから保存したものはエラー検出しません。 この原因・理由と解決方法が分かる方、どうか教えていただけないでしょうか？ テーブルは以下の形で保存されています。 テーブル名　touroku idはint、dateはdatetime、他はvarchar(50)で作成 idにA_I、primary key設定、userIDのkeyにmulが設定されている 文字コードはutf-8で設定 id | userID | password | email | name |date | 1 | aaaa | aaaa | aaaa | aaaaa | |・・・※1 A 2 |ああああ |ああああ 　|ああああ |ああああ | |・・・ B 3 | bbbb | bbbb | bbbb | bbbb | |・・・ B 4 | cccc | cccc | cccc | cccc | |・・・ A ※1 A・・・mysqladminからの直接入力・保存　　B・・・入力フォームからの入力・保存 問題のプログラム（フォーム確認部分・userIDの部分のみ抜粋） 文字コードはutf-8で設定 <?php //DB設定 $DB_HOST = 'localhost'; $DB_USER = '○○'; $DB_PASS = '○○'; $DB_NAME = '○○'; $link = mysqli_connect($DB_HOST, $DB_USER, $DB_PASS, $DB_NAME); if (mysqli_connect_errno()) { die('データベースエラー'); } extract($_POST); $error_flag=0; //ログインＩＤ入力チェック if(empty($userID)){ echo '<p><span>必須</span>ログイン用の名前を入力して下さい。</p><br />'; $error_flag=1; }elseif($sql = "SELECT userID FROM touroku WHERE userID = '".$userID."' "){ $result = mysqli_query($link, $sql); $rows = mysqli_num_rows($result); ※2 if($rows == 0){ }else{ echo '<p><span>必須</span>ログインID欄に入力した'.$userID.'は既に使用されています。</p><br />'; $error_flag = 1; } } 　　　　　　　　　　　　　　・ 　　　　　　　　　　　　　　・ 　　　　　　　　　　　　　　・ ?> ※2 この段階でvar_dump($rows);で型と変数を確認してみると、 userIDがaaaaのときのみ　int(1)、他はint(0) どうか、お願い申し上げます。
あるページがありまして。 例）http://example.com/dir1/dir2/index.html このページに相対パスで画像のURLが記載していまして <img src="./.././dir3/../dir4/../../dir5/a.jpg" > これは実際には http://example.com/dir5/a.jpg ですです。 通常は上記のようには書かないのですが、 上記のように書かれたとしても 整形するアイディアがあれば教えて下さい。
phpのカテゴリなのか迷いましたが、質問させて下さい。 実行するファイルは、a.php、b.php、c.phpの３ファイルになり、SQL文が記載されています。 この３ファイルを.sh（シェルスクリプト）から実行したいと考えております。 どなたか参考サイトまたは実装方法をご教示頂けないでしょうか。 よろしくお願いいたします。
画像アップロード型の掲示板において、ファイル選択ダイアログでファイル選択したら、 FTPサーバーにアップし、かつ、アップしたユーザー自身が、ブラウザでその画像を見れるという仕様にしたいんですが、FTPサーバー側に選択した画像ファイルが、アップされてないのです。 アップした画像をローカルのブラウザのページで見ると、ｘ印のアイコンだけが表示されていて、中身の画像ファイルが表示されてないのです。ですが、そのｘ印のアイコンを右クリックすると、画像のピクセル数や、FTPサーバー先の絶対パスがちゃんと表示されてるんです。 下記のようなファイル選択ダイアログが表示されるHTMLと、そこから呼び出すPHPスクリプト において、どこか間違っているのか教えていただきたいです。よろしくお願いします。 <html> <head><title>ファイル選択ダイアログ</title> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> </head> <body> <form name="form1" method="POST" enctype="multipart/form-data" action="file_upload.php"> <input type="file" name="result"> <input type="submit" name="upload" value="添付画像"> </form> </body> </html> --------------------------------------------------------------------- <?php $photo = $_POST['photo']; //////////////////////////////////// // ローカル側でファイルをオープン // //////////////////////////////////// $filename = "./files/$photo"; // $parent（親ディレクトリの直下のファイルだから、何もつけなくてよい） echo("filename=".$filename); // デバッグ用 $fp=fopen($filename, 'rb') or die; /* ファイルオープンダイアログで選択したファイルのファイル名はbbs.phpと同じディレクトリにあるfile_uproad.php から見ると、$photoにつけるパスは不要 */ /////////////////////////////////////////////////////////////////////// // FTPサーバーに接続、ログイン、サーバー側のカレントディレクトリ変更 // /////////////////////////////////////////////////////////////////////// $ftp_server="users109.lolipop.jp"; $ftp = ftp_connect($ftp_server); $res = ftp_login($ftp, "～", "～"; if($res==FALSE){ echo("FTPサーバーのログインに失敗しました。"); exit(1); } $cur = ftp_pwd($ftp); // サーバーにログイン直後のサーバー側のカレントディレクトリ echo("cur=".$cur); exit(1); ftp_chdir($ftp, $cur); // サーバー側のディレクトリを変更 ///////////////////////////////////////////// // FTPサーバーに画像ファイルをアップロード // ///////////////////////////////////////////// $remote_file = $photo; // リモート上でのファイル名指定 echo($remote_file); //if(ftp_fput($ftp, $remote_file, $fp, FTP_BINARY)){ // ローカルでオープンしている画像ファイルをバイナリモードでFTPサーバーにアップロードする if(ftp_fput($ftp, $remote_file, $fp, FTP_BINARY)){ // リモートのカレントディレクトリにアップされる echo "Successfully uploaded $file\n"; }else{ echo "There was a problem while uploading $file\n"; } //////////// // 後処理 // //////////// fclose($fp); ftp_close($ftp); //header("Location: bbs.php"); ?>
スレッド掲示板を作成しています。 掲示板の投稿への返信を表示する際に、その返信の頭にそれぞれが返信した投稿よりも一段、頭をさげるために空行を追加したいと考えています。 下記のような状況です。 このような処理はあくまでＰＨＰではどのように行えばよいでしょうか？ ご享受ください。 ・コメント１ 　　 　　　　・コメント２（コメント１への返信） 　　　 　　　　　　・コメント３（コメント２への返信） 　　　　・コメント４（コメント１への返信）
<html> <head> <meta "charset=utf-8" /> <title>P76instanceof.php</title> </head> <body> <?php class SomeClass { } $a = new SomeClass(); if ($a instanceof SomeClass){ echo'$aは　SomeClass　のインスタンスです',PHP_EOL; } ?> </body> </html> 　 　以上ですが！ 　$a = new SomeClass();のnewの役割を教えてくだい 　よろしくお願いします。
・PHPでショッピングサイトをサーバーAに設置 ・決済会社BはAのIPからしか受け付けない ・エンドユーザーCはAが提供するショッピングフォームで決済 CからBに必要なデータをポスト送信するとIPが違うのでBには接続できませんが、 これをAのIPにてデータ送信する最適な方法はどういったものがありますでしょうか。
現在の位置が/aa/bb/cc/dd/だった場合、 /aa/bb/のディレクトリを取得するにはどのようにすればよろしいでしょうか？ 宜しくお願いします。
Mac OS Xを使っていて、phpのバージョンは5.5.3です。 PEARをインストールしたいのですが、やり方がいろいろありすぎてどれをやるのが正しいのかわからない状態です。 教えていただけると大変助かります。 よろしくお願いします。
http://hogehoge.com/form.php http://hogehoge.com/send.php http://localhost.com/api.php http://hogehoge.com/send.phpにアクセスした際に http://hogehoge.com/form.phpで入力したデータを http://localhost.com/api.phpに飛ばす方法に困っています。 参考サイト http://blog.code4u.org/archives/407 send.php側 $url = 'http://localhost.com/api.php'; $params = array( 'name' => $name, 'email' => $email, 'address' => $address, 'tel' => $tel, ); $ch = curl_init(); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE); curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, FALSE); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_POST, TRUE); curl_setopt($ch, CURLOPT_RETURNTRANSFER, FALSE); curl_setopt($ch, CURLOPT_POSTFIELDS, $params); curl_setopt($ch, CURLOPT_HTTPHEADER, array( 'Content-Type: application/x-www-form-urlencoded' ) ); $result = curl_exec($ch); curl_close($ch); と記述したのですが、 api.php でデータを受け取るコードがわからず困っています。 お分かりの方がいたらお願いします。
http://www.abc.ne.jp/ // 日本語サイトルート http://www.abc.ne.jp/en/ // 英語サイトルート という構成のサイトを海外から検索・閲覧する時にhttp://www.abc.ne.jp/en/の方を表示するように修正したいと考えています。 (1)ページランクは下げたくない http://www.abc.ne.jp/に下記のようなソースのindex.phpを置き、http://www.abc.ne.jp/jp/または http://www.abc.ne.jp/index_jp.phpを作成し日本語サイトトップページとする場合、index.phpがコンテンツのないリダイレクトするだけのファイルになってしまうため、SEO上好ましくないのではないかと考えています。 【ソース】 $languages = explode(',', $_SERVER['HTTP_ACCEPT_LANGUAGE']); $languages = array_reverse($languages); foreach ($languages as $language) { 　if (preg_match('/^ja/i', $language)) { 　　header("Location: http://www.abc.ne.jp/jp/"); 　} else { 　　header("Location: http://www.abc.ne.jp/en/"); 　} } (2)閲覧者の表示言語の選択肢は残したい 現状通りの構成でhttp://www.abc.ne.jp/index.phpに下記のようなソースを記述し、英語環境からアクセスされたらhttp://www.abc.ne.jp/en/へリダイレクトする場合、日本語のページを見たい場合でも強制的にhttp://www.abc.ne.jp/en/へリダイレクトされてしまいます。 【ソース】 $languages = explode(',', $_SERVER['HTTP_ACCEPT_LANGUAGE']); $languages = array_reverse($languages); foreach ($languages as $language) { 　if (preg_match('/^en/i', $language)) { // http://www.abc.ne.jp/en/にはpreg_match('/^ja/i', $language) 　　header("Location: http://www.abc.ne.jp/en/"); 　} } (1)、(2)の要件を満たしつつ、閲覧環境に合わせて表示するページを制御することは可能でしょうか。 良い方法があればご教示ください。 よろしくお願いします。
説明がわかりにくくなってしまうかもれないのですが、引き続き釣りのコミュニティサイトのようなもの作っており先ほど画像に関しての質問をここで解決したのですがさらに別問題が。 プロフ画像などを予定しておりましが一緒に釣った魚などもアルバムのようにみんなで保存しておく環境をつくろうと思ったのですが容量がいっぱいになる問題が怖いです。 そんなすぐにいっぱいになることはないと思うのですが、スマホでとってそのままアップするなど元サイズの容量がおおきくなってしまうとおもい、ついでに複数扱う方法を勉強しようとおもったしだいであります。 環境MYSQL DB１情報 ホスト test1.sql.cd DB名　demo1 ID admin1 パス pass1 DB２情報 ホスト test2.sql.cd DB名　demo2 ID admin2 パス pass2 このようにホスト名・データベース名などすべてが違う場合、その度にファイルを読み込んだりするのでしょうか？ 現在 『config.php』DB_NAMEなどを書いているファイル 『sample.php』 private function __construct() { $pdo = new PDO( // DSN (Data Source Name) sprintf('mysql:dbname=%s;host=%s;charset=utf8', DB_NAME, DB_HOST ), DB_USER, DB_PASS, ); } 『index.php』 try { $user = DB::connect()->userProfile($id); } catch (Exception $e) { // エラーページに遷移 error_page($e); } このような感じで作っています。 分からない点 上記のように順番に読み取り各ページで呼び出しているのですが『sample.php』をもう一つ『sample2.php』というふうに作り同じように書いていけば使えるものなのでしょうか？ また、その場合sample.phpとsample2.phpを常に読み込んでいる状態になるのでしょうか？ そうなると処理速度などどうなのかなとか思ってしまいます。 sample.phpのプロフィールIDとsample2.phpの画像を一致したもの呼び出すのは統合（今回はホストも違うから外部統合？）で出来ると調べたのですが常に接続状態になるのかなど、やり方的にあっているのか不安でご質問させて頂きました。 そもそもつないでいるのは $user = DB::connect()->userProfile($id); などアクションを要求した際におこるのか、毎回すべてのファイルを読み込みアクションが要求されたら処理の部分を読み込むのか理解していません。 アクションを起こした際に読みに行くなどなら問題なくやればいいと思うのですが、いかがなのでしょうか？ ご質問がわかりにくくなってしまって申し訳ございませんが、よろしくお願いいたします。
$name = array('りんご'=>'赤','メロン'=>'緑'); $name = array('りんご'>='赤','メロン'=>'緑'); 　以上試すと、リンゴの値が異なるのですが！？ =>　と　>=の違いは！？ 　PHP5.3以上を使用しています。 　 以下参考 　http://www.phpbook.jp/func/var/index4.htmlから 　 　自動キャストの影響か！？ 　 　よろしくお願いします。
お世話になります。 現在はFPDFを使用してPDFを作成しています。 ※下記のサイトを参考にしました。 http://www.phpbook.jp/fpdf/ 作成していくにつれ、不具合というか、問題が発生しました。 例えば、SJISで機種依存文字がうまく出力されないとか。それでUNICODEで出力するようにしたら「名」や「上」の漢字が文字化けをしてしまうとかです。 それで皆さんに質問があります。 PHPでPDFを出力する際に使用するライブラリで一番いいのはどのライブラリでしょうか。 またおすすめのPDFを出力するライブラリを教えていただけたら幸いです。 すみませんがアドバイスいただけませんでしょうか。 宜しくお願いします。
macカテゴリで回答が頂けなかったのでphpの方で再度質問させてください。 mampでphpmyadminを使って90Mのsqlをインポートしようとしたのですが ファイルサイズが大きすぎるため下記のようなエラーが出ました。 Fatal error: Allowed memory size of xxxxxx bytes exhausted phpinfoにてphp.iniファイルの場所を確認し該当するphp.iniの memory_limit post_max_size upload_max_filesize max_execution_time 等を大幅に増やして書き換えました。 MAMPを再起動しphpinfoで設定が反映されたのも確認したのですが どうしても上記のエラーが解消されません。 何か他に見落としている点はありますでしょうか？ ご教授頂けますようお願いいたします。
wordpressを書籍と独学で作成しているものです。 普段はプログラムでわからない部分があれば、検索するかwordpressのフォーラムで質問をするか…という方法で進めているのですが、非公開にしたい情報や、継続して同じ人にアドバイスを受けたい時が出てきました。 質問したい部分が出たときに、スカイプやメールなどでアドバイスを求めることが出来るサービスや、個人レッスンとして時間制でアドバイスを受ける事が出来るサービスなどは、あるものなのでしょうか？ 検索した限りでは見つかりませんでした。デジハリなどに通えばいつでもアドバイスはもらえるのでしょうが、昼間は働いている為、オンライン等でアドバイスをもらえれば…と思っています。 wordpressの基本的なサイト作成、テーマの編集などは理解できています。 もしご存知でしたらお教えください！探し方だけでも大変助かります。
掲題の通り、メジャーなLL言語についての文字コードについて質問です。 例えば PHPでコンソール用にちょっとしたものを書くとき #! /usr/local/php print("文字列"); 書いて、ターミナルで php ./sample.php などとすると問題なく「文字列」という文字が表示されます。 このとき、ファイルはUTF-8で書いたとします。 次に、別のLL言語pythonで下記の様に記述したとします。 #! /usr/local/python print ("python文字列"); 上記内容を python ./sample.py などと実行すると SyntaxError: Non-ASCII character '\xe6' in file と上記のようなエラーがでます。どうやらアスキーコードの範囲外のバイト数が含まれているようです。 これを #! /usr/local/python #coding: utf-8 print ("python文字列"); としてやると問題なく「python 文字列」と表示されると思います。 これはRubyでも同じだと思います。 また同じ様に #! /usr/bin/bash echo "文字列" とシェルスクリプトで上記の様にかいてやると・・・ 問題なく「文字列」と表記されます。 ではなぜシェルスクリプト(bash)やPHPはマジックコメントを記述しなくても 暗黙のうちにUTF-8で文字列が表記されて pythonやRubyは明示的にUTF-8とマジコメを記述しなければならないのでしょうか？ ご教授ください。
--------------媒体-------------- CREATE TABLE IF NOT EXISTS `media` ( `id` int(11) NOT NULL AUTO_INCREMENT, `name` varchar(50) DEFAULT '0', PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8; INSERT INTO `media` (`id`, `name`) VALUES (1, 'yahoo'), (2, '楽天'), (3, '電話'), (4, 'メール'), (5, 'その他'); --------------店舗-------------- CREATE TABLE IF NOT EXISTS `shop` ( `id` int(11) NOT NULL AUTO_INCREMENT, `name` varchar(50) DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8; INSERT INTO `shop` (`id`, `name`) VALUES (1, '新宿'), (2, '池袋'), (3, '渋谷'), (4, '博多'), (5, '梅田'); --------------来客数-------------- CREATE TABLE IF NOT EXISTS `raikyakusuu` ( `id` int(11) NOT NULL AUTO_INCREMENT, `date` date DEFAULT NULL, `shop_id` int(2) DEFAULT NULL, `media_id` int(2) DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8; INSERT INTO `raikyakusuu` (`id`, `date`, `shop_id`, `media_id`) VALUES (1, '2013-11-01', 1, 1), (2, '2013-11-01', 1, 1), (3, '2013-11-01', 1, 2), (4, '2013-11-01', 4, 4), (5, '2013-11-01', 1, 2), (6, '2013-11-02', 3, 1), (8, '2013-11-02', 3, 4), (9, '2013-11-02', 2, 2), (10, '2013-11-02', 2, 4), (11, '2013-11-03', 1, 4), (12, '2013-11-03', 3, 1), (13, '2013-11-05', 4, 3), (14, '2013-11-05', 1, 3), (15, '2013-11-06', 2, 2), (16, '2013-11-06', 3, 3), (17, '2013-11-06', 1, 5); select DATE_FORMAT(r.`date`,'%d日') as DayTime, count(*) as cnt, s.`name` as s_name, m.`name` as m_name from raikyakusuu r LEFT JOIN shop s ON s.`id` = r.`shop_id` LEFT JOIN media m ON m.`id` = r.`media_id` WHERE DATE_FORMAT(r.`date`, '%Y-%m') = '2013-11' GROUP BY DayTime, m.`name` 上記のセレクト文で取れた結果をPHPにて 新宿 媒体 |01日|02日|03日|04日|05日|06日|07日|08日|・・・ yahoo | 2 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 楽天 | 1 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 電話 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | メール | 0 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | その他 | 0 | 0 | 0 | 0 | 0 | 1 | 0 | 0 | 池袋 媒体 |01日|02日|03日|04日|05日|06日|07日|08日|・・・ yahoo | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 楽天 | 0 | 1 | 0 | 0 | 0 | 1 | 0 | 0 | 電話 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | メール | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | その他 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 渋谷 媒体 |01日|02日|03日|04日|05日|06日|07日|08日|・・・ yahoo | 0 | 1 | 1 | 0 | 0 | 0 | 0 | 0 | 楽天 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 電話 | 0 | 0 | 0 | 0 | 0 | 1 | 0 | 0 | メール | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 0 | その他 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | といったようにtableにて表示を考えておりますが、 うまくだせずに困っております。 条件といたしましては、 結果で取れていない媒体、日付も表示させ、cntには0と表示させたいです。 お分かりの方がいらっしゃいましたらご教示お願いいたします。 端折らせていただいている部分も御座いますが、宜しくお願いいたします。
PHPにて、テキスト欄に、生徒番号を入力すると、 サーバのDBに問い合わせして、 詳細情報を、生徒番号のテキスト欄の下に、 同様なテキスト欄に、 名前とか、性別、生年月日などが 表示されるようにするには、 どのようなコードを書けば良いのでしょうか？
EC-CUBEの売上画面のような全件表示＋該当データ絞り込み（○日～○日、会員者情報、商品指定等です）表示機能の実装を考えております。 出力するデータは、データベースへ入っております。 全件データ出力に関しましては、絞り込み命令がないときに全件取得表示を考えておりますが、 該当データ絞り込みに関しましては、 ■データベースから全件取得後→絞り込み振り分け表示を行う ■絞り込み命令を元にデータベースからデータを取得し、表示する 上記の２パターンで考えております。 件数はかなりの数になると考えられるため、どちらの方法がサーバの負担が減らせるか、アドバイスをいただけないでしょうか。 宜しくお願い致します。
教えて下さい。 自身の環境の文字設定が把握できておらず申し訳ありません。 以下のようにSQLを投げ、取得したデータを表示させようとしていますが、取得はできている ものの $tmp_kenmei を表示させようとしたところ、表示されません。 echo で中身を確認した際には、問題なくセットされていました。 また、where句で条件を指定しない場合は、問題なく取得できます。 文字設定か何かの問題かと思われますが、、、 何が原因でしょうか、、、教えて下さい。 よろしくお願いします。 《内容》 $tmp_kenmei = mb_convert_encoding($tmp_kenmei,"UTF-8","SJIS"); $con = mysql_connect("localhost", "root", "999999"); //データベースへ接続する if (!$con) { die('接続できませんでした: ' . mysql_error()); } $sql = "select kenmei from tbl_AAA where kenmei like '%" . $tmp_kenmei . "%'"; if (!mysql_select_db('db', $con)) { echo 'Could not select database'; exit; } $result = mysql_query($sql,$con); mysql_query("set names sjis"); if (!$result) { echo "DB Error, could not query the database\n"; echo 'MySQL Error: ' . mysql_error(); exit; } $row = mysql_num_rows($result); $count = 1; for($i=0;$i<$row;$i++) { $array = mysql_fetch_array($result); //件名 $tmp_kenmei[$count] = mb_convert_encoding($array[0],"SJIS","UTF-8"); echo mb_convert_encoding($array[0],"SJIS","UTF-8"); $count++; }
getをページを跨いで送信したいです。 例えば、 http://../thread.php?id=4694?res=52 のように二つの値をgetで送信した場合、 この二つのあたいを $_GET['id'],$_GET['res']で受け取ることは可能でしょうか？ もしこの方法がとれない場合、idを送りつつ、resを送る方法はないでしょうか？ よろしくお願い致します。
$buffer = ""; foreach($data as $key => $value){ $class = $value[0]['class']; $classbool = !empty($class); $buffer .= ',,'.$key.' 数: '.$value[0]['length'].' クラス: '; $buffer .= $classbool ? $class.',,<a href="' : 'なし,,<a href="'; この後$bufferに連結でURLなどが続く～～～～～～～～～～～～～～ 前後は省略していますがこういう式があります。コンマ文字は出力する際に改行に使っていますので気にしないでください。 この$bufferに連結代入している最後の二行部分を三項演算子を使って $buffer .= ',,'.$key.' 数: '.$value[0]['length'].' クラス: '. $cachebool ? $class.',,<a href="' : 'なし,,<a href="'; こう1行でやるとエラーは出ませんが結果がおかしくなります。 上記の二行に分けたものなら結果はちゃんと 数: 5 クラス: なし <a href="http://～～～ や、 数: 23 クラス: test <a href="http://～～～ と出力されますが、1行バージョンだと「～<a href="」までが抜け落ちていきなり http://～と出力されます。 最後の一行にした　$buffer .=　～　の部分が全くなかったことにされているような感じです。 どうしてこうなるんでしょうか？ また、一行にした場合と二行に分けた場合どっちが速いんでしょうか？ どなたかご教授宜しく願います。
調べてみたのですが、情報が見当たらなかったため、質問させていただきます。 php5.3でevalというクラス名を付けて実行しようとしたのですが、エラーが発生しました。 phpではクラス名にも予約語などの使用不可なものがあるのでしょうか？ 宜しくお願い致します。
http://jp2.php.net/manual/ja/stream.streamwrappe … に「グローバル変数の読み書き用のストリーム」ということで 便利なclass VariableStreamを掲載して頂いております。 非常に便利で使わせて頂いております。 例えば・・・データベース上から画像データ引っ張りだして $img_data = pg_unescape_bytea(データべーすから引っ張り出します); require_once("VariableStream.inc"); stream_wrapper_register("var", "VariableStream") or die("Failed to register protocol"); list($width, $height) = getimagesize("var://img_data"); とかしてファイルに落とさずに変数にいれたまま画像のサイズを取得したりしてます。 ----ここから本題----------------------------- んでもさすがに filesize("var://img_data"); これは動作しませんでした。 Warning: filesize(): VariableStream::url_stat is not implemented! １，ファイルに落とさずに動作させることは理論的に可能でしょうか？ ２，動作するような関数は既存で存在していますか？
今回、お聞きしたいのは下記の二点です。 ・既読未読判定の実装方法 ・最終読み込み時間をデータベースに送信する方法 どのようなやり方をすれば、実装することができるでしょうか？
画像はfile_get_contentsしてfile_put_contentsすればよいですが、 動画はどのようにすればよいでしょうか？ ある動画サイトのソースを見ると動画ファイルと思われる箇所の拡張子が.swfとなっているのですが、 このswfをどのようにすれば自分のサーバーに保存できますでしょうか。 ご教示頂けますと幸いです。 宜しくお願いいたします。
<?php if (isset($default)){ $param = $argv[1]; } else{ $param = 'default'; } ?> --------------------------------------------- <?php if (isset($argv[1])){ $param = $argv[1]; } else{ $param = 'default'; } <? ------------------------------------------- 以上実行結果は同じですが、プログラムを組む場合とくどちらを選択しても 　宜しいのでしょうか！？ 以上よろしくお願いします。
kimonoで取得したjsonファイルの出力 以下のサイトを使用してスクレイピングしたjsonファイルをphpで表示させようとしたのですが、何も表示されません。助言をお願いします。 http://www.kimonolabs.com/ //jsonファイル { "name": "kokunai", "results": { "collection1": [ { "info": "【運航概況】\n本日4日および明日5日の運航状況は、以下のとおりです。" } ] } } //php記述 <?php $request = "http://www.kimonolabs.com/api/kimonoユーザID?apikey=APIキー"//URLの中身は上記jsonファイルと同一 $response = file_get_contents($request); $results = json_decode($response, TRUE); echo $results['results']['collection1'][info]; ?>
初心者です。基礎的なことですが教えてください。 C言語で書いたプログラムをWebサービスで使いたいと思っています。 C単体でのプログラムをサーバ側で動かしますが、Webと連動させ、Web上のフォーマット から入力した情報をｐｈｐで経由し、サーバ側のCプログラムで処理する為に、データを渡し 起動し、結果をまたWeｂ上に返します。 その場合の　ｐｈｐでデータをCに渡し、プログラムを起動して、結果をCから貰い、Web上に 返すためのやり方を教えて下さい。どんなコーディング、関数になるのでしょうか。 またWebサーバの場合はCのコンパイラは通常どんなコンパイラを使用すれば良いの でしょうか。どんなレンタルサーバ会社でも問題ないのでしょうか。 初心者なので、よろしくお願いします
WAMP環境で構築しているある情報サイトを運営しています。 環境はApache/2.2.4 (Win32) PHP/5.4.22です。 私の運営するサイトではユーザーが情報を登録できるようになっているのですが、入力してもらいたい項目の一つに、ある別サイト（以降サイトA）のユーザーIDをいれてもらうのですが、殆どのユーザーはそのIDを記憶していません。 そのサイトAでは、下記のような文字列がユーザーが比較的取りやすい所から取得できるので、今のところユーザーはそこから部分コピー（もしくは手書きメモ）して対応してくれています。 <a href="http://www.hogehoge.net/honya/rara/987654321?">あいうえお</a> 入力してもらいたいユーザーIDというのはこの、987654321の部分になりますが、ユーザーにストレスをあたえないため、全体コピー、ペーストをしてもらえれば、不要な部分はこっちでカットしてテーブルに収めたいとおもっています。（スマホユーザーには、部分コピーはめんどくさいと思うので） 処理として下記のようにすれば良さそう？と考えました。 (1)入力画面　→　(2)入力確認画面　→　(3)入力完了画面と3ページあるとして、 まず、 <a href="http://www.hogehoge.net/honya/rara/987654321?">あいうえお</a> の情報を(1)で入力してもらい、(2)の入力確認画面に遷移させるときにPOSTで渡し、不要な部分はカットしてからそれを(3)の入力完了ページにPOSTで飛ばしDBにInsertする。 で、そのときの記述方法についてが知識が無くわからないのですが、 最初の<a hrefの部分から最後の</a>まで完全に全体コピペができていない場合を考慮したいと思っています。 たとえば ef="http://www.hogehoge.net/honya/rara/987654321?">あいうえお</a> と頭の部分が一部欠けていたり、 <a href="http://www.hogehoge.net/honya/rara/987654321?">あいうえ のように後ろが欠けていたとしても、987654321の部分だけは完全に抽出したいと思います。 処理としては、 1. (2)の画面でPOSTで入力情報を受け取る 2. "?"がある場合は?以降の文字を全てカット 3. "/"がある場合は/とその前の文字を全てカット 4. できた文字列を(3)の画面にPOSTで渡し 5. DBにInsert こんな感じでいけるかな？と思っていますが、考え方として大丈夫そうでしょうか。 この方法であれば、将来サイトAのユーザーIDの桁数がかわったり、英字が混ざったとしても対応できると考えました。 具体的な記述方法について、未だ解決しておらず、もし可能でしたらサンプルをご教授頂けますと幸いです。 何卒宜しくお願い致します。
http://localhost/test.php <?php phpinfo(); ?> 見ると、タグがそのまま表示されてしまい、実行されません。 何を直せばローカルでも動くようになりますか？ Win8.1 アパッチインストール済 サーバー上にアップしてみると、きちんと動作確認できます。 文字コードUTF-8 BOＭなし ・・でもアップする前にローカルで確認したいんです。 php.ini ファイルがないのが原因でしょうか。 詳しい方、よろしくお願い致します。
Wordpressにログイン時のみdisplay_errorsをonにしたいです。 つまり・・・Wordpressを使っていて、個人サイトなので管理パネルに入れるユーザは自分だけです。 で、自分がwordpressにログイン時のみdisplay_errorsをon（つまりPHPエラーを画面に表示）させることはできないでしょうか？ 匿名な人にphpエラーメッセージを見せたくはないけど、 自分が開発中は、エラーメッセージを見たいので。 よろしくお願いします
余りにも初歩的な質問で恐縮なのですが、FOR文で増分を「１」以外に指定する場合、どのようにすればよろしいのでしょうか？ BASICであれば、「STEP **」に相当する部分です。 ネットでいろいろ例文を見ても、なぜか増分が「１」の例しか載っていません。 （私の検索能力が低いのでしょうか？） よろしくお願いします。
PHPってハッカー達にとっては必要だと思いますか？ 必要か必要ではないではなく詳しく教えてください。
PHP初心者の者です。 会社のウェブサイトでメールフォーム専用に使っているアドレスに、なぜか迷惑メールが多数入ってくるので、現在使用しているものを廃棄し、新しいアドレスに設定しなおしたいと思っています。 質問は下記の２点です。 １）サーバの中のファイルのソースを確認したところ、メールアドレスが書かれているPHPファイルがありました。 　このファイルのアドレスの記載を、新しく作ったアドレスに変更すればOKでしょうか？ 　また更新方法ですが、メモ帳等のテキストエディタで大丈夫でしょうか？ ２）更新後、うまく動かなかった場合に供え、あらかじめ更新前のPHPファイルを別途保存しておこうと思います。 　あちこち更新した挙句にうまく動かなくなった場合は、更新前のファイルをアップロードして上書き保存すればOKでしょうか？ 情報不足の質問かもしれませんが、以上どうぞよろしくお願い致します。 ※参考になるかわかりませんが、当方HTMLとCSSは少々わかります。
教えて下さい。 昨日も投稿しましたが、その続きで申し訳ありません。 以下のような明細行を作成し、その明細行に設定したボタンを押したところで、 押された行のデータを別画面に飛ばしたいと考えております。 単純に type='hidden' でいけるかと思われましたが、以下のような記述では 取得できませんでした。 以下のような画面遷移（A.php ⇒　TEST.php）をした場合、選択行のデータを受け渡し したい場合、どのような記述をすれば良いでしょうか？ よろしくお願いします。 《記述内容》 ★　A.php <script> function window_open(){ window.open("about:blank","window_name","width=640,height=480,scrollbars=yes,menubar=yes,toolbar=yes,status=yes,directories=yes,location=yes,titlebar=yes"); document.fod.target = "window_name"; document.fod.method = "POST"; document.fod.action="TEST.php"; } </script> <form name="fod" > <?php for($count=1;$count<$row+1;$count++) { print("<TR>\n"); print("<td>$tmp_ringi_kenmei[$count]</td>\n"); print("<INPUT type='hidden' name='test_$count' value=$tmp_name[$count]>\n"); print("<TD><input type='submit' name=inputtest[$count] value='詳細' onclick='window_open();'>\n"); print("</TR>\n"); } ?> </FORM> ★　TEST.php <?PHP if(isset($_POST["inputtest"]) and is_array($_POST["inputtest"])){ print key($_POST["inputtest"]); } for ($j = 1; $j <= $in_row; $j++) { if(isset($_POST["test_$j"])){ $in_test[$j] = $_POST["test_$j"]; } } ?>
　三項演算子で 変数「$data」>=10 の場合”１０以上”、それ以外なら”１０以下”と表示する。 <?php $data = 15; $str = ($data >= 10)?"１０以上":"１０以下"; print $str; ?> 　以上は理解できます。 　しかし以下はほとんど理解できません！？ <?php if (isset($argv[1])){ $param = $argv[1]; } else { 　　　　$param = 'default'; } 二つは同じ三項演算子で同類ということですが、 　アバウトな質問のような気がしますが、違いを教えていただけますか！ 　よろしくお願いします。
PHPの勉強を始めたばかりのものです。 よろしくお願いします。 以下のようなページを作りたいと考えています。 フレームで上下に分けられたページで、上側を「upper.php」、下側を「lower.php」とします。 下側（lower.php）に３つの入力欄〔入力欄（１）〕〔入力欄（２）〕〔入力欄（３）〕と２つのボタン【ボタン（１）】【ボタン（２）】があります。 【ボタン（１）】は、〔入力欄（１）〕のデータをもとに、フレームの下側の内容を書き換えます。 【ボタン（２）】は、〔入力欄（１）〕〔入力欄（２）〕〔入力欄（３）〕の情報をもとに、フレームの上側の内容を書き換えます。 自分なりに勉強して、とりあえず、下記のようにしたのですが、上のページを更新する部分をどのようにすればいいのか分かりません。 ご教授、よろしくお願いします。 ＜「lower.php」の中の記述＞ <?php if ($_POST[Button_1]) { 下側のフレームの更新処理に関わる部分 （この部分はうまく機能しています） } elseif ($_POST[Button_2) { 上側のフレームを更新する処理 （★★この部分をどのように記述すればいいのかわかりません★★） } ?> <form action="<?=$_SERVER['PHP_SELF']?>" method="post"> <INPUT TYPE="text" NAME="INPUT_1"> <input type="submit" name="Button_1" value="登録"> // 「INPUT_1」のデータを使って、下側のフレームの内容を更新 <INPUT TYPE="text" NAME="INPUT_2"> <INPUT TYPE="text" NAME="INPUT_3"> <input type="submit" name="Button_2" value="登録"> // 「INPUT_1～3」のデータを使って、上側のフレームの内容を更新 </form> よろしくお願いします。
新規登録ボタンを押したらパラメータを取得しろといわれたのですがまったく言っている意味がわかりません input.hiddenでGETでもPOSTでいいといわれたのですが 初歩的な質問だと思いますがすいません 知恵を貸してください
Linuxサーバ上でGETはできるがPOSTができない、という現象が出ています。 ローカルのWindowsPCで試していて、その状態ではPOSTできています。 また、同一サーバ上でもいくつかPOSTはしており、そこでは問題なくPOSTできています。 POST先に画面遷移はしており、GETで渡す値は取れているのですが、POSTをvar_dumpしてやると array(0){} と、全く取得できていません。 ちなみにphp.ini のmax_input_vars、post_max_sizeなどはサイズを大きくしています（ここが関連してくるほどのサイズではないと思いますが） このような状態は初めてなので、わかる方が居たらぜひ教えてください。
PHPでNotice: Undefined indexとエラーが出ます。 <?php $data1=$_POST["data1"]; echo $data1; ?> でエラーが出ます。　 @$_POSTでやるとエラーは消えるのですが、これでは解決してないので他のやりかたを教えてください。
教えて下さい。 データを明細形式に一覧で表示させ、そこへ更新ボタンをそれぞれの行へ配置し、 ボタンが押されたら、その行の内容を別画面に表示させるような事をしたいと考えております。 その際に、単純なFORMのPOSTであれば、key関数を用いて何行目かという情報を取得 する事ができますが、以下のようなjavascriptを使った場合はどのような記述をすれば良いでしょうか？ ◆　A.php <script> function window_open(){ window.open("about:blank","window_name","width=640,height=480,scrollbars=yes,menubar=yes,toolbar=yes,status=yes,directories=yes,location=yes,titlebar=yes"); document.f_od.target = "window_name"; document.f_od.method = "POST"; document.f_od.action="UPDATE.php"; document.f_od.submit(); } </script> *** 省略 for($count=0;$count<$row+1;$count++) { print("<TR>\n"); 　 print("<TD><input type='submit' name='input[$count]' value='詳細 onclick='window_open();'>\n"); print("</TD>\n"); print("</TR>\n"); } ◆　B.php <?php if (count($_POST['input'])>0){ $meisai_id=key($_POST['input']); } ?> 上のループで作成した複数の詳細ボタンの中で、どの行が押されたか？をB.phpで取得したいです。 よろしくお願いします。
PHPのopendir関数でネットワークドライブを指定するとエラーになります。 ＜クライアント環境＞ Windows7 php 5.2.13 Apache 2.2.25 ＜詳細＞ opendir('//サーバー名/共有名')でエラー（failed to open dir）になります。 エクスプローラから//サーバー名/共有名へはアクセスできます。 １．opendir関数でネットワークドライブは使えないのですか？ ２．エラーにならずに実行するにはどうすればいいですか？ ３．ファイル／フォルダの一覧を取得したいのですがほかに方法はないですか？ 以上よろしくお願いします。
WordPressのwp_kses関数の「kses」は何の略？ wordpress初心者で、重要な関数を覚え始めているのですが、 wp_kses関数の「kses」は何の略か分かる方いらっしゃいますでしょうか？ 分かれば、覚えやすいので。 よろしくお願いします。
ＰＨＰでファイルのアップロードをしようと考えていますが、単純に１画面でファイルの選択し、 その画面上のボタンを押した際にアップロードするという事は可能ですが、ボタンを押した後、 次画面（プレビュー）でファイル名を確認し、２画面目のボタンを押した時にアップロードしたい と考えております。 どのように記述したら良いか教えて下さい。 《現状　このままでは正しく動作します》 １画面目 <FORM method="post" name="frm" id="frmid" enctype="multipart/form-data"> <TABLE> <TR><TD width="200">【登録画面】</TD></TR> <?php print("<TR>\n"); print("<TD width='200'>ファイルを選択：</TD>\n"); print("<TD><input type='file' name='upfile'></TD>\n"); print("</TR>\n"); ?> </TABLE> </FORM> ２画面目 <?php $updir = "//192.168.999.999/doc/"; $filename = $_FILES['upfile']['name']; if(move_uploaded_file($_FILES['upfile']['tmp_name'], $updir.$filename)==FALSE){ print("Upload failed"); print($_FILES['upfile']['error']); }else { print("<b> $filename </b> uploaded"); } ?> 実際は２画面目ではファイル名だけを表示させ、２画面目のボタンを押した際に 取り込み処理を行いたい。 初歩的な質問で申し訳ありませんが、教えて下さい。 よろしくお願いします。
<?php $a = 10; $var = ($a>0 ? "プラスです" : "マイナスまたは0です"); print ($var); ?> 以上のパーツを使用して、 　　変数「$a」>=10 の場合”１０以上”、それ以外なら”１０以下”と表示する。 　を作成することはロジック上可能でしょうか！？ 　 　よろしくお願いいたします。
下記のような2つのスクリプト間で、bbs.php側のtype=file 属性の要素で表示した ファイル選択ダイアログから選択したファイルのパス（絶対パス、相対パス）は、どこからどうやって、取得すればいいのかがわかりません。（ファイル名は取得できるのですが。） どうぞよろしくお願いします。 『bbs.php』 ※ファイルオープンダイアログの表示（POSTメソッド） ↓ <tr> <td><b>画像を添付</b></td> <td> <input type="file" name="ID_PHOTO_LOAD" tabindex="6"> </td> </tr> ※bbs.php自身に送ったPOST変数を、file_upload.phpにクエリーとして、ジャンプする ↓ $photo = $_POST['ID_PHOTO_LOAD']; // 添付画像ファイル名 if(isset($photo)) header("Location: http://5247423.raindrop.jp/tsukushinbo/bbs/file_ …); ------------------------------------------------------------------------------ 『file_upload.php』 <?php $photo = $_GET['photo']; //////////////////////////////////// // ローカル側でファイルをオープン // //////////////////////////////////// // ローカルのアップロード画像ファイルをリードモードでオープン（ファイルの終端まで進むと読み込みが終了する。 $parent = dirname($photo); // ファイル選択ダイアログで選択した画像ファイルが存在する親ディレクトリのパスを取得 chdir($parent); // 画像ファイルの親ディレクトリが、ローカルのカレントディレクトリになった $filename = "$photo"; // $parent（親ディレクトリの直下のファイルだから、何もつけなくてよい） $fp=fopen($filename, 'rb') or die;　←『ここでファイルオープンエラーが出ます』
下記のPHPスクリプトで、JPEGファイルをFTPサーバーにアップしようとしてるんですが、 サーバー側でエラーが出ます。どこが間違っているのか指摘していただけますか？ ※ftp_chdir($ftp, $path);　の$path　は、相対パスか絶対パスか、URLか ※ftp_fput($ftp, $remote_file, $fp, FTP_BINARY)の、第二引数$remoto_file　は、リモートでの ファイル名だけでよいのか、相対パスか、絶対パスかURLか ※ちなみに、FTPサーバーへのログインはできてます。 <?php //$photo = "akashi.jpg"; $photo = $_GET['photo']; // FTPサーバーに接続 $ftp_server="users109.lolipop.jp"; $ftp = ftp_connect($ftp_server); //$res = ftp_login($ftp, "root", " "); $res = ftp_login($ftp, " ", " "); if($res==FALSE){ echo("FTPサーバーのログインに失敗しました。"); exit(1); } //$path = "/home/users/1/raindrop.jp-5247423/web/tsukushinbo/upload_photo"; // 絶対パス $path = "../tsukushinbo/upload_photo"; // 相対パス ftp_chdir($ftp, $path); // サーバー側のディレクトリを変更 /* $cur = ftp_pwd($ftp); echo($cur); exit(1); */ // ローカル側でファイルをオープン /* $dir = dirname($photo); // ファイルあるいはディレクトリへのパスを含む文字列を受け取って、 親ディレクトリのパスを返します。 //$filename = $dir."/".$photo; echo($filename); exit(1); */ $fp = fopen("$photo", 'rb') or die; //$fp = fopen("$filename", 'r') or die; // ローカルでオープンされているファイルのポインタ。 ファイルの終端まで進むと読み込みが終了する。 // FTPサーバーに画像ファイルをアップロード $remote_file = $photo; // リモート上でのファイル名指定 if(ftp_fput($ftp, $remote_file, $fp, FTP_BINARY)){ // ローカルでオープンしている画像ファイルをバイナリモードでFTPサーバーにアップロードする echo "Successfully uploaded $file\n"; }else{ echo "There was a problem while uploading $file\n"; } fclose($fp); ftp_close($ftp); //header("Location: bbs.php"); ?>
insert ignoreを使い、主キーに重複したのを無視しているのですが、重複したらエラ－をだしもういちど入力させるにはどうしたらいいですか？
exec関数を使いたいのですが 調べたら例が出てきたのですが $return_data = exec("/usr/local/bin/php ./top.php param1 = 1 m2 = 2"); exec()の中をどう修正していいかわかりません usrtとかユーザ名ですか? localとはlocalhostとかでいいですか? bin/phpってなんですか ぜんぜんわかりません すいません
前に書き込んだのが状況がわかったので再度書きます update.phpでGETで取った番号のデータを表示します 番号は主キーなので変更できないように表示のみにします update.phpのフォームをuptate2.phpに送ります <?php $ID = htmlspecialchars($_GET['番号']); $pdo = new PDO("mysql:dbname=db_test;host=localhost", "root", "admin"); $st = $pdo->prepare("SELECT * FROM tbl_test WHERE 番号=?"); $st->execute(array($ID)); $row = $st->fetch(); $NAME = htmlspecialchars($row['氏名']); $ADDR = htmlspecialchars($row['住所']); ?> <form action="update2.php" method="post"> 番号<br> <?php echo $ID ?><br> <input type="hidden" name="ID" value="<?php echo $ID; ?>"> 氏名<br> <input type="text" SIZE = "50" NAME="NAME" value="<?php echo $NAME ?>"><br> 住所<br> <input type="text" SIZE = "130"NAME="ADDR" value="<?php echo $ADDR ?>"><br> <input type="submit"> </form> アップデ－トphp update2.php <?php $pdo = new PDO("mysql:dbname=db_test;host=localhost", "root", "admin"); $st = $pdo->prepare("UPDATE tbl_test SET 氏名=?,住所=?WHERE 番号=?"); $st->execute(array($_POST['ID'],$_POST['NAME'], $_POST['ADDR'])); ?> レコードを修正しました。 今の現状 エラーが出ないでレコードを修正しました。と表示されるがレコードが修正されていない どこがいけないと思いますか？
番号 int プライマリーキー 氏名　 varchar 住所 varchar 一覧画面に修正というボタンをつくりボタンクリックすると入っているデータがテキストボックスで表示され入力できるようにした。 番号は主キーなので表示のみにして編集できないようにした ソース　GEＴで番号をとりupdate2.phpにわたす update.php <?php $ID = htmlspecialchars($_GET['番号']); $pdo = new PDO("mysql:dbname=db_test;host=localhost", "root", "admin"); $st = $pdo->prepare("SELECT * FROM tbl_test WHERE 番号=?"); $st->execute(array($ID)); $row = $st->fetch(); $ID = htmlspecialchars($row['番号']); $NAME = htmlspecialchars($row['氏名']); $ADDR = htmlspecialchars($row['住所']); ?> <form action="update2.php" method="post"> 番号<br> <?php echo $ID ?><br> 氏名<br> <input type="text" SIZE = "50" NAME="NAME" value="<?php echo $NAME ?>"><br> 住所<br> <input type="text" SIZE = "130"NAME="ADDR" value="<?php echo $ADDR ?>"><br> <input type="submit"> </form> アップデートphpは下記のとおり update2.php <?php $pdo = new PDO("mysql:dbname=db_test;host=localhost", "root", "admin"); $st = $pdo->prepare("UPDATE tbl_test SET 氏名=?,住所=?WHERE 番号=?"); $st->execute(array($_POST['ID'],$_POST['NAME'], $_POST['ADDR'])); ?> レコードを修正しました。 だかupdate2.phpでエラ－がおきて先に進めません
教えて下さい。 あるファイルを開こうと考えていますが、ファイル名をその都度変更したい為、 変数に格納してあり、その変数を使ってパスを作成しようと考えています。 以下のような記述をしましたが、正しくパスを生成してくれません。 どのような記述をすれば良いでしょうか？ 初歩的な質問で申し訳ありませんが、教えて下さい。 <?php print("<TABLE BORDER='0'>\n"); print("<TR>\n"); print("<td width='100' height='20'><font size='2'><A Href='//192.999.999.999/doc/'.'$tmp_no'.'.pdf' Target='_blank'>AAAAA</A></font></td>\n"); print("</TR>\n"); print("</TABLE>\n"); ?> ※ $tmp_noに値が格納されています。 よろしくお願いします。
MySQLに以下のような形でデータが入っています。 連番｜販売日｜商品名｜単価｜数量 1｜2014/01/15｜たわし｜100｜5 2｜2014/02/10｜スポンジ｜50｜2 3｜2014/03/05｜タオル｜200｜3 ・・・ このようなデータが大量に保存されていて、それをPHPで以下のように出力したい場合 （数量でも合計金額でも） 2013年度 商品名｜4月｜5月｜6月｜・・・12月｜1月｜2月｜3月｜合計 たわし｜5｜6｜12｜・・・7｜14｜21｜15｜210 スポンジ｜・・・ どのようにデータを抽出し、どのように表示すればよいでしょうか？
開発環境 ： WIndows2008 server 64 /PHP/MySQL/Apache 教えて下さい。 現在、上記のような開発環境でプログラムを作成していますが、特に開発ツール とかもなく、プログラミングしています。 そこで、何か良い開発ツールを探していますが、良いものはないでしょうか？ Visual Studioのようなデバッグを簡単に行えるものを探しています。 ネットで検索する限り、NetBeans というようなものが見つかりましたが、それは後環境が できあがっている状態でも、後からインストールして使えるものでしょうか？ よろしくお願いします。
複数画像がアップロード出来るフォームがあります。 そのフォームはユーザがアップした画像は、フォームにアクセスする度に表示されます。 <form action="upload.php" method="post" enctype="multipart/form-data"> ファイル：<br /> <input type="file" name="upfile" size="30" /><br /> <input type="reset" name="resetfile" value="削除" /><br /> <input type="file" name="upfile" size="30" /><br /> <input type="reset" name="resetfile" value="削除" /><br /> <br /> <input type="submit" value="アップロード" /> </form> 2つの画像をサーバにアップした段階で 2つ目の削除ボタンを押した時に、2つ目の画像だけを削除したいのですが、良い方法が思いつきません。 代替案はチェックボックスですが、デザインが崩れるので避けたいと思っています。 または、javascriptで出来るようですが、あまり得意でないので、出来れば避けたいと思っています。 良い方法があれば、ご教授お願いします。
共有サーバ(Apache)上にlocal-1.example.comとlocal2.example.comの２つのバーチャルドメインを設定して、 それぞれに排他的なWordpressを設置したいのですが、 DB名さえ別にすれば問題ないでしょうか？ （もちろんまぎらわしいという問題はありますが それはおいといて） なお、マルチサイト設定はしない予定です。 よろしくお願いします p.s. http://local-1.example.com/wp1/ と http://local-1.example.com/wp2/ の両方にwordpressを入れると、コンパネログイン時にセッションクッキーの関係で、 http://local-1.example.com/wp2/からログインしても http://local-1.example.com/wp1/ にとばされることは確認済みです。 クッキーってFQDNが違えば、クッキー名がかぶっても問題ないんでしたでしょうか？
wordpressステップアップブックという本に載っているとおりに、 function.phpに以下のコードを書きました。 //デフォルトスクリプト function my_scripts() { 　　if ( is_single() ) { 　　　　wp_enqueue_script( 'comment-reply' ); 　　} } add_action( 'wp_enqueue_scripts', 'my_scripts' ); ＝＝＝ で、 add_action( 'wp_enqueue_scripts', 'my_scripts' ); を add_action( 'wp_enqueue_scripts2', 'my_scripts' ); に変えても問題なく動きます。 なぜでしょうか？ add_action( 'wp_enqueue_scripts', 'my_scripts' ); の第1引数はダミーなのでしょうか？ また、1番最初に書いたコードでif文の中にあるwp_enqueue_scriptとadd_action関数の第１関数の役割というか、違いがわかりません。 どなたかお教えいただけないでしょうか？ よろしくお願いいたします。
PHPやLinuxを勉強しようと思っています。 そこで、MacBook Proに仮想化ソフトを入れ、Ubuntuのインストルールを考えています。 仮想化ソフトは、 (1) VirtualBox (2) VMWare Fusion (3) Paralles Desktop の３つを考えているのですが、どれが良いでしょうか。 それぞれの具体的な違いがわからず困っています。 仕事につかえるスキルをつけるのが目標です。 インストールするコンピュータは、MacBook Pro CPU: intel core i5 2.4GHz ２コア Memory: 8GB グラフィック: Intel Iris 1024MB SSD: 256GB です。 よろしくお願いします。
基本事項過ぎてすいません。 以下のコードですが、 処理結果が 1000を越えたので count = 45 で終了しますsum = 1035 なのですが、あってますでしょうか？ なぜ45で終了なんですか？ (1)まずcount は1なので $sum += $count;　のところで$sumは 1になり 1>1000なので、$count += 1;　に飛び 1+1 で2 (2)count は2なので $sum += $count;　のところで$sumは 2になり 2>1000なので、$count += 1;　に飛び 1+2で3 (3)count は3なので ・ ・ ・ ・ という風に続けていくと999ぐらいまで行きませんか？ <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitio … <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> <head> <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" /> <title>サンプル</title> </head> <body> <p>PHPのテストです。</p> <p> <?php $count = 1; $sum = 0; while ($count <= 100){ $sum += $count; if ($sum > 1000){ print '1000を越えたので count = '.$count.' で終了します'; break; } $count += 1; } // breakが実行された時に処理が移る位置 print 'sum = '.$sum; ?> </p> </body> </html>
スクレイピングは通常、対象サイトのHTMLを保存、パースしてサイトのページ構造を取得しますが、JSで動的に生成された後のサイトのページ構造は取得できますか？取得できる場合、参考サイトを教えてください。
wordpressのエラーについて 今、本を見ながらテーマをスクラッチから作ろうとしているのですが、 個別ページ(single.php）で、 <?php the_title();?> と書くところを <?php the_title;?> と書いても、タイトルは表示されないものの、PHPのエラーがでません。 なぜでしょうか？ なお、XAMPPでやっていてphpの設定はいじってないので、 <?phppppp ?>とかかくとphpのシンタックスエラーが表示されます。 よろしくお願いします。
Wordpressのカスタム投稿タイプについて Wordpress初心者なのですが、カスタム投稿タイプの投稿をするときは、 「Custom Post Type UI」のプラグインをつかわなければならないのでしょうか？ あるいは、使う必要がなければ、 使わないでカスタム投稿タイプの投稿をできるようにするための解説が書いてあるページを紹介していただけないでしょうか？ よろしくお願いします。
　以下のプログラムですが！ <html> <head> <meta "charset=utf-8" /> <title>論理演算子</title> </head> <body> <?php if(isset($argv[1]) && $argv[1]) { echo '与えられた引数は真です',PHP_EOL; } else{ echo '引く数が与えられていないか、与えられた引数が真ではありません' ,PHP_EOL; } ?> </body> </html> 以上のプログラムの実行結果は以下となりました。 　 　引く数が与えられていないか、与えられた引数が真ではありません 以上の実行結果は”真でありません”と出ています。 　 　$argv[1]) && $argv[1]・・・&&は理論積の、両辺は同じなのでtrueならばtrueの真だから、 　"与えられた引数は真です"と出るのではないんでしょうか！？ 　以上よろしくお願いします。
標準入力を受け付けるプログラムの動作がおかしいのですが、原因を教えてください。 単体でインストールしたphp5.5では正常に動作します。 windows7 xampp_portableのphp5.4 c:\xampp\php 実行結果 a Input->:Print->a c:\php 実行結果 Input->:a Print->a ソース <?php $str; print "Input->:"; $str = trim(fgets(STDIN)); print "Print->$str\n"; ?> 以上、どなたかお願いいたします。 phpの勉強を始めたばかりなので、初歩的な質問に なっているかもしれません。
以下参考書をそまま入力しました。 ] --------------------------------------------------- 　論理積と論理和では、２通りの表記方法がありますが、これは演算子の優先順位(注6)が違います。 (注意６)優先順位については3.2.3（P80）を参照 <?php ＄flag and foo(); if(isset($argv[1] && $argv[1] { echo '与えられた引数は真です',PHP_EOL; } else{ echo '引数が与えられていないか、与えられた引数が真ではありません' ,PHP_EOL; } 　この列では、引数が与えられているかをまずチェックし、与えられている場合はそれが真である かを調べます。論理演算子では、評価結果がわかった時点で演算結果を返します。これを短絡評価 といいます。短絡評価されるため、最初のisset($argv[1])が為である場合、次の$argv[1]の評価 は一切行われません（もし評価されてしまったならば、NOtic:Undeｆined offset:1となってしまい ます）。 　たとえば、次の例では、$flagが為の場合では、関数foo()が呼ばれることはありません。 <?php ＄flag and foo(); 　 ----------------------------------------------------------- 以上ですが、 これって、どうしたら確認ができますか！？ 　　xamppは働いています。 　 　HTMLで試しましたがParseエラーがでました。 <html> <head> <meta "charset=utf-8" /> <title>論理演算子</title> </head> <body> <?php if(isset($argv[1] && $argv[1] { echo '与えられた引数は真です',PHP_EOL; } else{ echo '引く数が与えられていないか、与えられた引数が真ではありません' ,PHP_EOL; } ?> </body> </html> 以上の実行結果は 以下です。 Parse error: syntax error, unexpected '&&' (T_BOOLEAN_AND), expecting ',' or ')' in C:\xampp\htdocs\study.localhost\php.php on line 10 　以上です。 　 　よろしくお願いします。 　
サッカー選手の出場時間やゴール数をデータベースに格納しています。 これまでは試合の度にphpMyAdminを利用して直接入力していたのですが、もっと簡単に更新作業が出来ないかと更新フォームを作成しデータを更新しようと考えています。 下記サイトを見て他のテーブルの更新は出来たのですが、この選手テーブルの更新をどうすればいいのか分かりません。 http://ponk.jp/php/basic/php_mysql#page_index4 テーブル名：active_player2 last_name(VARCHAR型)｜goal(INT型)｜comeout_time(INT型) 加藤｜5｜180 田中｜3｜270 佐藤｜0｜235 やりたい事は二点あります。 二点ともポジション別に全選手をずらっと並べ(チェックボックス)、対象選手にチェックを入れて更新ボタンをクリックしたら予め決めている数字を今の数字に加えて格納したいです。 (1)得点を挙げた選手 得点を挙げた選手にチェックを入れて更新ボタンを押すと、チェックを入れた選手のgoalに「1」が追加される。 (2)フル出場した選手 サッカーの場合、一試合で三人まで交代できるので少なくとも8選手はフル出場することになります。 そこでフル出場した8選手にチェックを入れて更新ボタンをを押すとその選手のcomeout_timeに「90」が追加される。 現在のコードは下記のようになっています。 player-update.htmlにフォームを設け、player-update2.htmlでデータを更新しようと考えています。 <?php function pt_set($pt,$checbox_name){ global $dbh; $sql = 'SELECT * FROM active_player2 WHERE position LIKE "%'.$pt.'%"'; foreach ($dbh->query($sql) as $row) { print '<input type="checkbox" name="'.$checbox_name.'" value="'.$row['last_name'].'">'.$row['last_name'].'</label>'; } return; } ?> <form action="player-update2.html" method="post"> <table> <tr> <th width="170">得点者</th> <td colspan="3"><p>DF</p> <?php pt_set("DF","goal"); ?> <p>MF</p> <?php pt_set("MF","goal"); ?> <p>FW</p> <?php pt_set("FW","goal"); ?> </td> </tr> <tr> <th width="170">フル出場</th> <td colspan="3"><p>GK</p> <?php pt_set("GK","full"); ?> <p>DF</p> <?php pt_set("DF","full"); ?> <p>MF</p> <?php pt_set("MF","full"); ?> <p>FW</p> <?php pt_set("FW","full"); ?> </td> </tr> </table> <input type="submit" value="更新する" style="width:300px;height:40px"> </form> これをplayer-update2.htmlに送信して、どのようにデータを追加すればいいのか分かりません。 ご存知の方いらっしゃいましたらご教示ください。 よろしくお願いします。
Wordpress初心者ですが、 固定ページが、 「トップ」 「業務案内」 「会社概要」 「アクセス」（page_idは２５です） とあります。 で、「アクセス」のページだけ、Google Maps のAPIを使って地図上の写真を載せたいと思います。 （Panoramioとかいうサービスを使います） で、page.php（固定ページテンプレート）の中に、 <?php if(is_page('25')): ?>という条件分岐を入れて、 そこに何十行のコード（本に付属しているコード）を挿入しました。 で、正常に動作しているのですが、 本来シンプルなはずの 「page.php」にこのように書くとスパゲッティコードになってしまっていると思います。 通常このようなことをしたい場合、どうすればいいのでしょうか？ よろしくお願いします。
ディレクトリ所有者を確認したいと思ってリンク先のコードを試したら、下記エラーになりました Fatal error: Call to undefined function posix_getpwuid() ・標準関数だと思ったのですが、なんで定義されていない、となるのでしょうか？ ・バージョンの問題？ ▽PHP関数 - ファイルの所有者を確認 - fileowner()、posix_getpwuid() 　 http://webkaru.net/php/fileowner-posix-getpwuid/
PHPで、hogeディレクトリを777へ変更したいのですが chmod("./hoge", 0777); とすると、下記エラーになります Warning: chmod(): Operation not permitted どうしたら良いでしょうか？
指定のメールアドレスにメールを送ると、新着情報を更新させたいです。 いろいろ検索しては見たのですが、なかなか詳しく書かれたものにたどり着けませんでした。 私の検索の仕方が悪かったのかもしれません。 （普通に営業的なところが出てきます…） 全く触れたことの無いことで、何がどうすればいいのかわかりません。 普通？のPHPだけで動かないとは思うのですが、間に何を入れればいいのか教えていただけませんでしょうか？ スクリプト全部を教えていただけなくても、どれをどうして、これがこうなって…みたいな、流れを教えていただけたらと思います。 （全て教えていただけたらそれが一番ですが…） 未知過ぎてどうすればいいのかわからないので、何か進むきっかけになればと思い書き込ませていただきました。 私のレベルはPHPを少しわかるレベルです。（ネットショップを一から自分でなんとか完成させることが出来ました。そこの新着情報に使いたいです）
<?php $a = 10; echo $a++,PHP_EOL; ------------------------------ 　<?php $a = 10; echo ++$a, PHP_EOL; ------------------------------- 　以上の計算結果は同じですか？ 　　もし同じでしたら、また悩みが増えます。 　よろしくお願いします。
下記のような「'2009」から始まり、「0, 'http://');」 で終わる文字列を、全部半角スペースに置き換えたいと考えています。 その場合、正規表現でどのように書いたらよろしいのでしょうか。 ご教示お願いします。 '2009-07-06 16:42:53', 0, 'http://'); '2009-07-07 13:00:50', 0, 'http://'); '2009-07-07 13:02:40', 0, 'http://');
配送業者のAPIにリクエストする場合のヘッダーの書き方で、どこか修正したほうがいいと 思われる個所を指摘していただけますか？ ヘッダーは下記のようなものです。 ------------------------------------------------------------------------------- $headers = array( "User-Agent: Mozilla/5.0 (Windows NT 6.2; WOW64; rv:25.0) Gecko/20100101 Firefox/25.0", //ユーザエージェントの指定 "Authorization: Basic".base64_encode('user:pass'),//ベーシック認証 "Accept: text/plain, */*; q=0.01", "Accept-Language: ja,en-us;q=0.7,en;q=0.3", "Accept-Encoding: gzip, deflate", "Content-Type: application/x-www-form-urlencoded; charset=UTF-8", "X-Requested-With: XMLHttpRequest", "Referer: https://www.fedex.com/fedextrack/?tracknumbers=～&locale=ja_JP&cntry_code=jp", "Content-Length: 512", "Cookie:", //クッキーは無くても別に問題ない。 "Connection: keep-alive", "Pragma: no-cache", "Cache-Control: no-cache" );
PHPで何かしらのフレームワークを使おうと思っていますが、経験がないので各フレームワークの特徴が分からず、何を選んでいいか分かりません。 とりあえずテンプレートエンジンの機能だけでもよかったので、シンプルで使いやすそうなSmartyを使ってみました。Smartyは簡単な設定のみで利用できたものの、すべてのソース(テンプレート以外のプログラムファイル)に # $smarty->template_dir = '…'; # $smarty->config_dir = '…'; などと、テンプレートファイルや設定ファイルのディレクトリを書かねばならず、環境依存の記述をプログラムファイルに書きまくる事を前提としていて、これはありえないなと思いもう少しきちんとしたつくりのフレームワークを使おうと思いました。 ※最悪の場合、<?php include './common.php'; ?>などと書こうかと思ったのですが、それでもプログラムファイルに環境依存の値を書くことには変わらないので、そうしなくともよいものを利用したいと思っています。 条件としては ・テンプレートが利用できる【必須】 　(サイトの共通デザイン部分と変化する部分の分離をしたい) ・Windows環境で開発しレンタルサーバにアップする関係もあり 　環境依存の記述は最小限にしたい。少なくともプログラムファイルに 　書かずに済むようにしたい。【必須とは言わないが強い希望】 ・設定が簡単なほどいい ・多くのレンタルサーバで使えるものがいい ・「http://…/home.php」などとPHPのファイル名丸出しのURLではなく、 　「http://…/home」とできるなど、ファイル名とURLを分離できるとうれしい ・DBは「今のところ」使わないが将来的には使うかも という感じです。 上記条件に合致するお勧めのPHPフレームワークを教えてください。 よろしくお願いします。
PHPで他ドメインのページの情報を取得しています。 その際に、HTTP通信のリクエストヘッダ、レスポンスヘッダの詳細を見たいです。 イメージとしては、firefoxの「firebug」とか「live http header」で取得できる情報量がほしいです。 現在、http通信でhttp_clientを使っています。 http_clientのcurrentResponse()でレスポンスは取得できるのですが、 クッキー情報などが入っていないです。 一番知りたいのは、リクエストヘッダです。 PHPを設置しているサーバーからどのようなリクエストヘッダを送っているのかを知りたいです。 というのは、設置しているサーバーによって同じページにリクエストを送っているのに、返ってくる情報が変わるときがあります。 PHPプログラムは全く同じです。 サーバーはさくらインターネットの共有サーバーを３つ契約しており、 ３つのサーバーに同じプログラムを置いてHTTP通信しているのですが、 取得できる情報が異なっていて困っています。 恐らく、リクエストの何かが違っていると思うのでそれを調べたいと思って 質問しました。 そもそも原因が違うところにありそうであればアドバイスもお願いします。 よろしくお願いします。
プログラム初心者です ページビュー数を記録する方法をおしえてください ページごとにページのアクセス数を記録したいです。 記録はpdoでdbにいれるつもりです、ページビューをどうやってカウントするかがわかりません。ページはphpファイルです 重複はクッキーではじく方法が一般的でしょうか? よろしくお願いします
フォーム⇒　(1)確認　　⇒　(2)送信　と3つに分けて、phpファイルに書きました。 ためしに、送信してみると、成功はするものの、文字が化けてメールの内容が分かりません。 分からないので教えてください。 フォーム　↓ <form method="POST" action="kakunin.php"> <table border="0"> <tr> <td >お名前</td> <td><input type="text" name="name" size="20"></td> </tr> <tr> <td>メールアドレス</td> <td><input type="text" name="from" size="20"></td> </tr> <tr> <td>メールタイトル</td> <td><input type="text" name="title" size="20"></td> </tr> <tr> <td>メッセージ</td> <td><textarea rows="5" name="naiyou" cols="40"></textarea></td> </tr> <tr> <td colspan="2"><input type="submit" value="　お問い合わせ内容を確認　"></td> </tr> </table> </form> (1)　kakunin.php ↓ 入力フォームから情報を受け取り確認 <?php // フォームの値を取得します。 if ($_SERVER["REQUEST_METHOD"] == "POST") { foreach($_POST as $k => $v){ // 「magic_quotes_gpc = On」のときはエスケープ解除 if (get_magic_quotes_gpc()) { $v = stripslashes($v); } $v = htmlspecialchars($v); $$k = $v; } } else { exit(); } // 値をチェックします。 $ErrFlg = 0; if ($name == "") { echo "<p>お名前を入力してください。"; $ErrFlg = 1; } if ($from == "") { echo "<p>メールアドレスを入力してください。"; $ErrFlg = 1; } if ($title == "") { echo "<p>メールタイトルを入力してください。"; $ErrFlg = 1; } if ($naiyou == "" ) { echo "<p>メッセージを入力してください。"; $ErrFlg = 1; } if ($ErrFlg) { exit(); } ?> 内容を確認して送信ボタンをクリックしてください <form method="POST" action="mail.php"> <table border="0"> <tr> <td width="100">お名前</td> <td width="300"><?php echo $name?></td> </tr> <tr> <td width="100">メールアドレス</td> <td width="300"><?php echo $from?></td> </tr> <tr> <td width="100">メールタイトル</td> <td width="300"><?php echo $title?></td> </tr> <tr> <td width="100">メッセージ</td> <td width="300"><?php echo nl2br($naiyou) ?></td> </tr> <tr> <td colspan="2"><input type="submit" value="送信"></td> </tr> </table> <input type="hidden" name="name" value="<?php echo $name ?>"> <input type="hidden" name="from" value="<?php echo $from ?>"> <input type="hidden" name="title" value="<?php echo $title ?>"> <input type="hidden" name="naiyou" value="<?php echo $naiyou ?>"> </form> (2)　mail.php ↓のコード 送信 <?php // メール送信先を指定します。 $to = "xxxxxxxxxx■　gmail.com"; // フォームの値を取得します。 if ($_SERVER["REQUEST_METHOD"] == "POST") { foreach($_POST as $k => $v){ // 「magic_quotes_gpc = On」のときはエスケープ解除 if (get_magic_quotes_gpc()) { $v = stripslashes($v); } $v = htmlspecialchars($v); $$k = $v; } } else { exit(); } // メール本文を組み立てます。 $naiyou = "お名前：$name\n メールアドレス：$from\n タイトル：$title\n 内容：$naiyou\n"; if ($name != "" and $from != "" and $title != "" and $naiyou != "" ) { if (mb_send_mail($to, $title, $naiyou, "From:$from")) { echo "メールを送信しました"; } else { echo "メール送信失敗です"; } } ?>
プログラム初心者です 最近PDO使うようになりましたがまったく使いこなせません 何回もSQL発行して効率わるいコードになりました（--； 一回のSQL発行にまとめる方法はありますか？ for ($i=0; $i<$count; $i++) { $id=$Array[$i][0]; $name=$Array[$i][1]; $stmt = $pdo -> prepare("INSERT IGNORE INTO table(id,name) VALUES (?,?)"); $stmt->bindValue(1, $id, PDO::PARAM_INT); $stmt->bindValue(2, $name, PDO::PARAM_STR); $stmt->execute(); } 質問2 prepareのキャッシュを利かすってどうゆうことでしょうか？上の場合でもキャッシュ生かせていますか? よろしくお願いします
目的： phpにて、添付付きメールを、件名だけ変更して、添付ファイルごと外部へ転送する。 現在、メール受信したものを、mysqlに保存（UID、件名、送信元メールアドレス（一致したものを、指定の件名に変更）、送信日、受信日、本文）、 添付ファイルはサーバー上に保存し、 メール送信時に、サーバー上に保存した添付ファイルとmysqlのデータを読み込み、送信しています。 （添付ファイルは、定期的に削除） これを、もっと簡潔に出来ないでしょうか。 サーバー上に添付ファイルを残さないで済み、 未受信のメールのみ １画面上で、添付メールごと転送できるのが理想です。 ※mysqlへの保存は、あってもなくてもかまいません。 以下が、現在の状態です。 参考にしたのは、こちらのサイトです。 http://hal456.net/qdmail_rec/top http://www.favorite-labo.org/view/202 ※サーバはＣＰＩです。 **メール受信処理** <?php // QdmailReceiver呼び出し require_once('qdmail_receiver.php'); //POPサーバー（受信サーバー）にアクセスするための初期設定。 $server = array( 'protocol'=>'pop3', 'host'=>'（ホスト名）', 'user'=>'（ユーザー名）', 'pass'=>'（パスワード）', ); qd_receive_mail( 'start' , $server , 'eucJP-win' ); //オブジェクト指向モードでの初期化 $receiver = QdmailReceiver::start( 'pop' , $server); for($i = 1 ; $i <= $receiver->count() ; $i++){ $todaydata = date("Y-m-d"); // ***************　メールデータ取得処理　*************** $pointer = $receiver->pointer();// pointer $popuid = $receiver -> header( 'popuid' );// UID $subject_name = mb_convert_encoding(($receiver->header( array('subject','name') , 'none' )),"Shift-JIS","auto");//件名 $from_mail = $receiver->header( array('from','mail') , 'none');//送信元メールアドレス $date = $receiver -> header('date');//送信日 $text = mb_convert_encoding(($receiver->text()),"Shift-JIS","auto");//本文 // ***************　ＵＩＤ照合処理　*************** include '（mysql接続）'; $ii=0; while ($row = mysql_fetch_assoc($result)) { $ii++; } if($ii == 0){ // ***************　転送前データの保存　*************** include '（mysql接続）'; // ***************　添付ファイル保存　*************** $attach = $receiver->attach(); foreach($attach as $att){ 　　$moji = mb_convert_encoding($att['filename'],"Shift-JIS","auto"); $fp=fopen($moji,'w'); fputs($fp,$att['value']); fclose($fp); } }else{ print('取得済みにつき未処理'); } ?> **メール送信** <?php //マイムタイプ定義 $mime_content_types = array( 'ez' => 'application/andrew-inset', 'atom' => 'application/atom+xml', 'atomcat' => 'application/atomcat+xml', ～略～ 'avi' => 'video/x-msvideo', 'movie' => 'video/x-sgi-movie', 'ice' => 'x-conference/x-cooltalk' ); //送信先メールアドレス $to = '（送信先メールアドレス）'; //送信元メールアドレス $from = '（取得した送信元メールアドレス）'; //件名 $subject = '（変更した件名）'; //メール本文 $message = （取得した本文）; //添付ファイル $files = array('（添付ファイル１へのパス）','（添付ファイル2へのパス）…以下、あるだけ'); //件名・本文をエンコード $subject = mb_convert_encoding($subject, 'JIS', 'Shift-JIS'); $message = mb_convert_encoding($message, 'JIS', 'Shift-JIS'); $subject = '=?iso-2022-jp?B?' . base64_encode($subject) . '?='; //バウンダリ文字列を定義 if (empty($files)) { $boundary = null; } else { $boundary = md5(uniqid(rand(), true)); } //メールボディを定義 if (empty($files)) { $body = $message; } else { $body = "--$boundary\n"; $body .= "Content-Type: text/plain; charset=\"iso-2022-jp\"\n"; $body .= "Content-Transfer-Encoding: 7bit\n"; $body .= "\n"; $body .= "$message\n"; foreach($files as $file) { if (!file_exists($file)) { continue; } $info = pathinfo($file); $content = $mime_content_types[$info['extension']]; $filename = basename($file); $body .= "\n"; $body .= "--$boundary\n"; $body .= "Content-Type: $content; name=\"$filename\"\n"; $body .= "Content-Disposition: attachment; filename=\"$filename\"\n"; $body .= "Content-Transfer-Encoding: base64\n"; $body .= "\n"; $body .= chunk_split(base64_encode(file_get_contents($file))) . "\n"; } $body .= '--' . $boundary . '--'; } //メールヘッダを定義 $header = "X-Mailer: PHP5\n"; $header .= "From: $from\n"; $header .= "MIME-Version: 1.0\n"; if (empty($files)) { $header .= "Content-Type: text/plain; charset=\"iso-2022-jp\"\n"; } else { $header .= "Content-Type: multipart/mixed; boundary=\"$boundary\"\n"; } $header .= "Content-Transfer-Encoding: 7bit"; //メール送信 if (mail($to, $subject, $body, $header)) { echo 'メールが送信されました。'; } else { echo 'メールの送信に失敗しました。'; } ?> 以上、よろしくお願いします
プログラム初心者です mysqlでトランザクションを使いたいです いままでMyISAMを使ってきました。これをInnoDBにするだけで同時アクセスが可能になるのでしょうか? sqlのupdateもトランザクションは効くのでしょうか? pdoのほうでなにかやることはありますか？こんな感じのupdateを実行したいです $pdo->prepare('UPDATE point_table SET point = point+1 WHERE id = ?'); $stmt->bindValue(1, 15, PDO::PARAM_INT); $stmt->execute(); よろしくお願いします
プログラム初心者です 他のサイトのＲＳＳを取得してMYSQLに保存する方法を教えてください やってみたのですが、ＲＳＳを取得して配列にするとこまではできました それを自動でMYSQLに登録する方法はありますか? $rssArray[]=array($date, $title, $link);//左から日付け、タイトル、リンクになります よろしくおねがいします
Webシステム開発、構築について質問です。CMSを使った方がいいのか、ゼロから作った方がいいか。 現在、SNS機能を持つ口コミサイトの開発、構築を検討しています。多くの開発者の方とお話させていただいているのですが、言われることが様々でどのように決めればいいか迷っています。 ちなみにサイトはユーザー同士の評価機能などもあり、少し複雑なものです。これは、全ての開発者様が言われることなので、間違い無いと思います。 最初、元々使った事があるという理由でWordPressでの開発を検討していましたが、WordPressでは対応が難しいのではということで、他のCMS、またはCakePHPやFuelPHPを使って一から作る事を勧められました。他のCMSとしてDrupalを勧めていただきました。 確かに調べてみるとDrupalとWordPressであれば、Drupalのほうが適しているように感じました。 Drupalで構築するか、一から構築するかでは、 どちらのほうが運用面、拡張性を考えた場合、適しているのでしょうか？ Drupalは日本で使う方が少なく情報が少ない、 一から構築する場合は運用が難しくなるのではないか、また他の事業者に引き継ぐ事が難しいのではと、 不安に思っています。 どうか、ご助言をいただければ幸いです。 どうぞよろしくお願い致します。
現在phpを勉強しようと思ってるのですが、少し疑問に思ったことがあるので質問させてください。 phpなどのサーバーサイドスクリプトは「サーバー上でプログラムが実行され、その結果だけがクライアントへ送られる」ということを知りました。 これはHTMLとちがって、そのサイトをブラウザでソース表示したときにphpのタグは表示されずに出力されたテキストなどだけが表示されるというような意味で合ってるのでしょうか？？
データベースからある期限（14年３月21日から3月30日）で取得した下記の多次元配列から日付に該当するデータがあればセルに値を入れて表を作ったのですが、 <?php $cal=array( array("type" => 19, "name" => "山田", "hour" => 5, "day" => 2014-03-21), array("type" => 19, "name" => "山田", "hour" => 8, "day" => 2014-03-24), array("type" => 19, "name" => "山田", "hour" => 8, "day" => 2014-03-26), array("type" => 19, "name" => "田中", "hour" => 8, "day" => 2014-03-23), array("type" => 19, "name" => "田中", "hour" => 8, "day" => 2014-03-26), array("type" => 19, "name" => "田中", "hour" => 3, "day" => 2014-03-28), array("type" => 20, "name" => "大田", "hour" => 3, "day" => 2014-03-21), array("type" => 20, "name" => "大田", "hour" => 5, "day" => 2014-03-27), array("type" => 20, "name" => "田中", "hour" => 3, "day" => 2014-03-24), array("type" => 20, "name" => "田中", "hour" => 4, "day" => 2014-03-27), array("type" => 0, "name" => "高橋", "hour" => 1, "day" => 2014-03-27), ); ?> <?php foreach ( $cal as $val ) : ?> <tr> <td><?php echo $val['type']; ?></td> <td><?php echo $val['name']; ?></td> <?php for ( $i = 21; $i <= 30; $i ++ ) : ?> <td> <?php if ( $day == $i ) { echo $val['hour']; } ?> </td> <?php endfor; ?> </tr> <?php endforeach; ?> 同じIDと名前の行が複数あり、同じIDと名前の行をひとつにしたいのです（画像参照）がわからず質問させていただきました。よろしくお願い致します。
PHPフレームワークのEthnaにて、フォームヘルパーを使用してselectボックスを作成しています。 このselectボックスに空の値を先頭に入れたいと考えていますが、方法が見つからなかったため、教えていただきたいです。 --↓のようにしたい-- <select> <option></option> <option value="1">AAA</option> <option value="2">BBB</option> <option value="3">CCC</option> </select> --------------------- アクションフォームの$formメンバ内の、typeやform_typeなどのオプションの箇所に何か追加するだけで実現できたら非常に楽なのですが。。。（cakephpはそんな感じで空行を入れられる） よろしくお願いします。
CSVファイルがあります。 １行目 北海道,HOKKAIDO,2 ２行目 東北,TOHOKU,1 ３行目 以下いろいろと続く 上記のようなCSVファイルがあり、HTMLでTABLEタグを使用してTRごとファイルの1行分を展開して全部を表示させたいのです。 ただ、末尾のデータが1の場合は一階層下のimgディレクトリにあるAの画像を表示し、2の場合は同様にBの画像を表示させ、それぞれALT属性で北海道や東北のようにCSVの最初のデータを入れたいのですがやり方が分かりません。 ちなみに末尾のデータは1か2のみです。 ご教示いただければ幸いです。
　「PHP が Unicode をネイティブにサポートしていない」とは！？ どういうことなのでしょうか！？ 　以上宜しくお願いします。
PHPからIBMDB2データベースに接続したいのですがどのようにすれば良いでしょうか？ 環境は windows7 XAMPP Version 1.8.2 MySQL 5.5.32 PHP 5.4.19 よろしくお願いいたします。
　以下は参考書を転記しました。 ■文字列キャスト 　PHPは様々なところで文字列が用いられる点はすべて説明しました。文字列型は実は最も他の型 からキャストされやすく、他の型にキャストされやすい型です。これを端的に表す例が次のコードで す。この例では比較演算子==を用いて、'0.0と'0'が等しいかどうかを判断し、等しい場合は 出力を行います。 if ('0.0'=='0'){ echo' ".0"は等しいです'; } 　これを実行すると、なんと、「"0.0"と"0"は等しいです」と出力されます。文字型同士で、'0.0' と'0'を比較したはずなのにこれが等しいとされるのはなぜでしょう。実はPHPは二項演算 行う際、２つの項目のどちらも「数値らしい文字列」の場合、「整数型または浮動小数点数型へとキャスト する」という性質があります。 　以上ですが。 　　0.0があります。これって0.0の間にある　.　(点)は小数点と認識して宜しいのでしょうか！？ 　ゼロだけの小数点は、今までの、私の記憶にはございません！！ 　 　　すみません、皆様を疲れさせるつもりではありまえんが、分からなかったので質問しました！？ 　も宜しくお願いいたします。
http://oshiete.goo.ne.jp/qa/8516176.html 　以上の質問ですが 　以下を追伸します。 文字列から数値型へ明示的なキャストを行う際には、次のような特性があることに注意してくだ さい。文字列は、先頭から数値を表す文字が続く限り、そこまでを数値として扱い、変換を行い ます。これにより、一件見ただの文字列のようなものでも、キャストにより、０以外の数値となります。
echo (float)'15foo', PHP_EOL; echo (float)'15.33foo', PHP_EOL; echo (float)'1e2foo', PHP_EOL; echo (float)'foo', PHP_EOL; 以上参考書を転記しました 試しに echo '<pre>'; echo (float)'15', PHP_EOL; echo (float)'15.33', PHP_EOL; echo (float)'1e2', PHP_EOL; echo (float)'', PHP_EOL; echo '</pre>'; 　とfooを省きました、二つのプログラムの実行結果は 以下ですがと同じです。 15 15.33 100 0 　 一つ目の質問です。 　　なぜ、参考書はfooをあえて入れてのでしょうか？ 二つ目の質問です。 　1e2を1e3にすると結果が1000になります。 　1eて何ですか！？　　 　宜しくお願いします。
プログラム初心者です 以前、教えていただいたコードをサーバーで使ってみたらエラーがでました xamppでは動いていたのでたぶんphpのバージョンによるエラーかとおもいます レンタルサーバーはphp5.2.5です 5.5.2に上がるようなことアナウンスされていますがいつになるかわかません 分かる方おねがします（＿　＿ http://oshiete.goo.ne.jp/qa/8503227.html でたエラーはこれです Parse error: syntax error, unexpected T_FUNCTION in hoge.php on line 59 ここらへんぽいのですが、自分には問題ないようにみえます return preg_replace_callback( $regex, function ($m) use (&$i) { よろしくお願いします
フォームからの入力で登録ボタンを押して ＭＹＳＱＬへデータの書き込み、そして削除ボタンを押して データを削除するという勉強をしています。 削除の場合は、番号か名前、電話番号のいずれかを入力して 削除ボタンを押せば該当するデータが削除されるようにしたいのですが 番号指定以外の名前指定や電話番号指定での削除ができません。 「DELETE FROM address where no=$no or name='$name' or tel='$tel'」の 書き方に問題があるようですが どのようにしたらよいのでしょうか？ ---------------------------------------------- <html> <body> <form action="" method="post"> 番号：<br><input type="text" name="no"><br> 氏名：<br><input type="text" name="name"><br> 電話番号：<br><input type="text" name="tel"><br><br> <input type="submit" value="登録" name="submit"> <input type="submit" value="削除" name="submit"> </form> <?php error_reporting(1); $con = mysql_connect("127.0.0.1", "root", ""); if(!$con){ exit("データベースに接続できませんでした。"); } $result = mysql_select_db("test", $con); if(!$result){ exit("データベースを選択できませんでした。"); } $no = $_POST["no"]; $name = $_POST["name"]; $tel = $_POST["tel"]; $submit = $_POST["submit"]; if($no != null){ if($submit == "登録"){ $result = mysql_query("INSERT INTO address(no, name, tel) VALUES ('$no', '$name', '$tel')", $con); if($result){ echo "<p>登録が完了しました。<br>"; }else{ echo "<p>登録失敗</p>"; } }elseif($submit == "削除"){ $result = mysql_query("DELETE FROM address where no=$no or name='$name' or tel='$tel'", $con); if($result){ echo "<p>削除が完了しました。<br>"; }else{ echo "<p>削除失敗</p>"; } } } ?> </body> </html> ---------------------------------------------- あと「header("Location: {$_SERVER['PHP_SELF']}");」を使って ２重投稿を回避したいのですが 書く場所により「登録が完了しました。」「削除が完了しました。」の メッセージが表示されなくなってしまいます。 どこに記入したらよいのでしょうか？ よろしくお願いいたします。
echo (float)'15foo', PHP_EOL; 　 // 15 echo (float)'15.33foo', PHP_EOL; // 15.33 echo (float)'1e2foo', PHP_EOL; // 100　(1e2) echo (float)'foo', PHP_EOL; // 0 以上ですが、 　ブラウザ上に結果を出せますか！？ もし、ブラウザ上に出すには、後！どんなプログラムが必要ですか！？ 分かりません、宜しくお願いします。
質問させて頂きます。 フレームワークにcakePHP、DBにMySQLを使用して開発をしております。 バルクインサートする際にメモリが足りず処理を行なうことが出来ません。 何か参考になる方法があれば教えて頂けると幸いです。 今回10万件ほどの大量のランダム文字列(ユニークを期待)データをPHP側で作成して、そのデータをバルクインサートを使用して保存したいと考えております。 ※この時点でユニークのチェックをしているわけではないので、必ずしもユニークなデータとは限りません。 また、データ投入方法として、データの重複を避けるため、「INSERT IGNORE INTO」を使用しております。 cakePHPのsave()を使用して、「INSERT IGNORE INTO」を設定する方法が分からなかったため、 query()を使用して、直接SQLを記述しております。 また、SQLを直接記述するためサニタイズも行っております。 具体的には ----------------------------------------------------------------- // (?, ?)の部分はimplode()を使用してデータ件数分記述します。 $sql = "INSERT IGNORE INTO random_code_table ( random_code, created) VALUES (?, ?),(?, ?),(?, ?),…(?, ?)"; // $random_code_list配列に10万件のランダム文字列データを格納しています。 foreach ($random_code_list as $code) { $params[] = $code; $params[] = date('Y-m-d H:i:s'); } $this->query($sql, $params, false ); ----------------------------------------------------------------- 上記の記述にして、1万件のデータを投入した場合、1件ずつ追加していた時よりも数段早く処理速度を上げることが出来ました。 しかし、10万件のデータを投入した場合、下記のようなPHPエラーが出て、処理がSTOPしてしまいます。 「Error: Fatal Error (1): Allowed memory size of 268435456 bytes exhausted (tried to allocate 1000084 bytes)…」 自分なりに解決方法は無いかと調べてみたのですが、php.iniでメモリの上限を上げるといった方法しか見つけることが出来ず、こちらに質問させて頂きました。 理解不足の部分もあり、質問内容に不備な点があるかもしれませんが、少しでもヒントになるようなことがあれば教えて頂けると幸いです。 ご存じの方がいらっしゃいましたら、よろしくお願いいたします。
ＰＨＰのサンプルの中に 「$num = (string)$i;」のような一文があります。 この「(string)変数」というパターンは いままで見かけたことがないのですが 「(string)」は関数扱いになっているのかな と思ってみたのですがよくわかりません。 どのような意味合い、使い方になるのでしょうか？ またこのような使い方は多いのでしょうか？ もし簡単に説明してあるようなページがあれば 紹介よろしくお願いいたします。
お世話になります。 配列でデータを受け取って、下の様な構文を書けばPDOを使用してupdateできますが、 データの削除を行って、idが欠番になった場合の対策として、どの様に書けば良いのかが 分かりません。 ------------------------------------------------- $id = $_POST['id']; $test = $_POST['test']; $sql = "UPDATE test_table SET test = ? WHERE id = ?"; $stmt = $conn->prepare($sql); foreach ($test as $id => $value) { $stmt->execute(array($value, ++$id)); } ------------------------------------------------- もし削除処理が行われたら、欠番の穴埋めを行い、尚且つidは オートインクリメントしているので、最終のidを取得してALTER TABLEで 新規データを追加した際にも欠番が出ないようにしようかとも考えましたが、 効率的とは思えなかったので、もしidに欠番があっても該当する「 id 」に 正常にデータをupdateできる構文をご教示いただきく存じます。 ---------------- ▼スペック PHP 5.3.3 MySQL 5.0.95 ----------------
PHPのspl_autoload_registerについて、2つ教えてください ■質問1 ・(func1の中で複数処理するのではなく)この関数自体を2つ書いても良い？ ・その場合、後から書いた方が優先される？ spl_autoload_register(func1()); spl_autoload_register(func2()); ■質問2 ・spl_autoload_registerで登録しているパスを確認する方法は？ ・get_include_pathみたいに、読み込むよう設定されているパスを確認したい
特定ファイルにある複数行の日本語文章を 「fgets」や「file_get_contents」などで画面に読み込む時は、 単純に「mb_convert_encoding」を使えば 良いと思ったのですが 下記のようには文法的にも使えませんでした。 -------------------------------------- <?php $fp = fopen("sample.txt", "r"); $fp = mb_convert_encoding($fp, "UTF-8"); ←※間違い if($fp){ flock($fp, LOCK_SH); while(!feof($fp)){ $data = fgets($fp); echo "$data<br>"; } flock($fp, LOCK_UN); } fclose($fp); ?> -------------------------------------- すでに書き込んである 日本語が複数行書かれたファイルから 文字化けしないようにデータを読み込んで表示するには どのような処理をしたら良いのでしょうか？ 複雑な処理はまだ理解できないので 簡単な処理方法があれば お教えください。 よろしくお願いいたいます。
ＰＨＰアプリケーション上でファイルをアップロードすると、$_FILESにいくつか情報が格納されます。 その中の一つ["tmp_name"]にはテンポラリファイル名（デフォルトだと/tmp/XXXXX...でしょうか）が 格納されていますが、このテンポラリファイル名の「命名規約」について、解説のページ・書籍等はないのでしょうか？ いろいろ見ているとファイル名の先頭は「php」であったり、大小英数字がランダムで設定されていたりしていることは見て取れたのですが、バラバラで規則じみていなかったもので...。 こんな質問で恐縮なのですがご存知の方いらっしゃいましたら、ご回答のほどお願いいたします。
メールフィルターで受信後にプログラムを起動し特定のメールだけ削除したいのですが可能でしょうか？ メールフィルターは以下です。CCはメールボックスから削除しない。 cc "| /home/○○/○○/mailgo.php" PEARを使ってまず受信します。 $params['input'] = file_get_contents("php://stdin"); $structure = Mail_mimeDecode::decode($params); メールのファイル名などを取得し、その後、削除したいメールも特定できたのですが どうすればいいのでしょうか？
長文で失礼します。 array_mapでの再帰処理がうまく行かないのでどこが間違っているか教えてください。 まず、このような配列があります。配列の中に配列があります。 $ary = array(1, 2, null, array("a", null, "c")); この配列の中のnullを"なし"という文字列に変換したいです。 array_mapを使って再帰的にやってみました。 まずはうまく行ったコードから。 ------------------------------------------------------ $ary = array(1, 2, null, array("a", null, "c")); var_dump(null2Nashi($ary)); // nullを"なし"に置換する関数 function null2Nashi( 　$in_array ){ 　if(is_array($in_array)){ 　　return array_map("null2Nashi", $in_array); 　} else { 　　if ($in_array === null){ 　　　$in_array = "なし"; 　　} 　　return $in_array; 　} } ------------------------------------------------------ 結果はnullが"なし"に変換されました array (size=4) 　0 => int 1 　1 => int 2 　2 => string 'なし' (length=6) 　3 => 　　array (size=3) 　　　0 => string 'a' (length=1) 　　　1 => string 'なし' (length=6) 　　　2 => string 'c' (length=1) そしてこの"なし"をコード内で指定するのではなく引数で指定したいと思って無名関数を使って以下のコードにしました。 ------------------------------------------------------ $ary = array(1, 2, null, array("a", null, "c")); var_dump(null2Str($ary, "なし")); // nullを指定文字列に置換する関数 function null2Str( 　$in_array,// null値を含む配列 　$in_str// null値を変換したい文字列 ){ 　$n = function($n_array) use($in_str){ 　　if(is_array($n_array)){ 　　　return array_map($n, $n_array);　//…(1) 　　} else { 　　　if ($n_array === null){ 　　　　$n_array = $in_str; 　　　} 　　　return $n_array; 　　} 　}; 　return $n($in_array); } ------------------------------------------------------ 結果はnullは何も変換されませんでした。 array (size=4) 　0 => int 1 　1 => int 2 　2 => null 　3 => 　　array (size=3) 　　　0 => string 'a' (length=1) 　　　1 => null 　　　2 => string 'c' (length=1) どうやら(1)のarray_mapが動作していないようです。要素を分解せずに$nの無名関数に渡さずにそのまま第2引数を返しているだけみたいです。 何か対応方法があるでしょうか？ どうぞよろしくお願い致します。
ＰＨＰのサンプルを勉強していると 簡単な構文でも「if」などの条件文が 必要以上に使われ故意に複雑にしているように見えます。 -------------------------------------- if(!empty($name) || !empty($naiyou)){ $keijiban = "keijiban.txt"; $fp = fopen($keijiban, "a"); if($fp){ if (flock($fp, LOCK_EX)){ if (fwrite($fp, $data) === FALSE){ print "ファイル書き込みに失敗しました"; } flock($fp, LOCK_UN); }else{ print "ファイルロックに失敗しました"; } } fclose($fp); } ----------------------------------------- 上記は正しいサンプル構文になるようで、 流れは大体理解できるのですが そんなところまで条件分岐をしなくてはいけないのかな？ と思ってしまいます。 初学者の私が上のサンプルと同じ内容の構文を書くとしたら 以下のように条件分岐をできるだけ 少なくして考えてしまいます。 ----------------------------------------- if(!empty($name) || !empty($naiyou)){ $fp = fopen("keijiban.txt", "a"); flock($fp, LOCK_EX); fwrite($fp, $data); flock($fp, LOCK_UN); fclose($fp); }else{ print "エラー"; } ----------------------------------------- 条件分岐をできるだけ多く使うことは 必要なのでしょうか？ 条件分岐で詳細に分けるのは どのような利点が具体的にあるのでしょうか？ よろしくお願いいたします。
外部サイトのソースを取得したい場合はfile_get_contentsやcurlを使用すれば良いのですが、 あるページは、Internet Explorerから閲覧しなければソースの一部が表示されません。 このため、phpからのアクセスをInternet Explorerから行いソースを取得したいのですが可能でしょうか？ ユーザーエージェントをInternet Explorerにしても意味はなくIEの機能が必要なようです。 ご教示頂けますと幸いです。 宜しくお願いいたします。
お世話になります。 たびたびの質問で申し訳ありません。 phpで 2014年03月07日を2014年3月7日と言う形に変換させる際に どのような方法がございますでしょうか。 自分なりに調べてstrtotimeなども考えてみたのですが 日付もおかしく、文字化けをしてしまう状況でした・・。 正規表現などもなかなか理解できないレベルのため、 お手数をおかけしますがご教授いただけましたら幸いです。
下記のような文字列から「abcde」のみを変数に格納したいのですが、正規表現に苦戦しています。 http://example.com/detail.php?p=abcde.php 取得したい「abcde」のみが毎回変わり、その前後は固定です。 preg_replace()を使うのがいいのだろうなと思い、いろいろやってみているのですが、 なかなかマッチさせることができません。 どうかご教示頂けますでしょうか。
Parse error: syntax error, unexpected $end in ...on line 19について wordpressの方で、functions.phpに書いたものが、前に一度機能していたはずのソースが他の記述を加えたりしていたらエラーになってしまいました。今は下記だけです。どこが間違っているのでしょうか？前と同じソースをコピペしているので、原因がわかりません。 <?php function replaceImagePath($arg) { $content = str_replace('"images/', '"' . get_bloginfo('template_directory') . '/images/', $arg); return $content; } add_filter('the_content', 'replaceImagePath');
プログラム初心者です 簡単な掲示板を作っています。動画のurlが含まれていたら動画が再生できるプレイヤーを表示したいです 具体的にはニコニコ動画とyoutubeの動画のurlだったらそれぞれの動画が再生できるプレイヤーを表示する方法を教えてください urlは一部の文字列が決まっているみたいです http://www.nicovideo.jp/watch/sm1136355 youtubeの埋め込みコード <iframe width="420" height="315" src="//www.youtube.com/embed/s0SE8GMgeEI" frameborder="0" allowfullscreen></iframe> ニコニコ動画の埋め込みコード <script type="text/javascript" src="http://ext.nicovideo.jp/thumb_watch/sm1136355">< … メッセの中にurlが入っていたらその部分をプレイヤー表示にする方法がわかりません $mes = "ニコニコ動画の動画http://www.nicovideo.jp/watch/sm1136355"; $pattern = ""; $mes = preg_replace($pattern, '', $mes); この方法はセキュリティ的に危ないでしょうか？ 他にわかりやすいサンプル作ってもらえると助かります よろしくお願いします
header('Content-type: image/jpeg'); echo $img->createResizedImage(100, 100); で画像として出力しているのですが、 単独の画像ではなく(？) HTMLの中の画像として出力するにはどうすれば良いですか？ 具体的には、ブラウザへ出力する際、HTMLのソースと同じように<html><body>画像</body></html>で出力したいです
aaa.txtが例えば以下のようにカンマ区切りのデータだとしますと、 aaa-12,dmy,2014年3月5日, ccc-22,dmy,2014年3月5日, ddd-43dmy,,2014年3月4日, yyy-45,dmy,2014年3月5日, ddd-43,dmy,2014年3月2日, ※実際は日付は9番目の値になります これを日付の新しい順にソートしたいのですが、 見よう見まねで以下のようにやった場合、日付順にはなるのですが 同じ日付がありますと上から順番ではなくランダムに処理されてしまい 当初の並びと異なってしまいます。 function cmp($a, $b) { list(,,,,,,,,,$aa,) = explode(',', $a); list(,,,,,,,,,$bb,) = explode(',', $b); if ($aa == $bb) { return 0; } return ($aa < $bb)? 1 : -1; } $lines = file('aaa.txt'); usort($lines, "cmp"); 最終的には以下のように並べ替えをしたいのですが、 aaa-12,dmy,2014年3月5日, ccc-22,dmy,2014年3月5日, yyy-45,dmy,2014年3月5日, ddd-43dmy,,2014年3月4日, ddd-43,dmy,2014年3月2日, 日付でソートしますと ccc-22,dmy,2014年3月5日, yyy-45,dmy,2014年3月5日, aaa-12,dmy,2014年3月5日, ddd-43dmy,,2014年3月4日, ddd-43,dmy,2014年3月2日, こんな形で同じ日付の場合、順番が 最初のリストの上から順ではなくバラバラになってしまいます。 どのようにすれば可能になりますでしょうか。 お手数をおかけしますが 具体的なソースをご教授いただけるようですと大変助かります。 何卒よろしくお願い致します。
MySQLのDATE型のカラムに2014-03-07 という日付が入っています。 これをPHP echo で呼び出すと、当然ですが2014-03-07と表示されます。 これを03-07 と表示したいのですが、どのような方法がありますでしょうか? よろしくお願いいたします。
こんにちは $associative_multi_d_array = array('a'=>array('a'=>1,'b'=2),'b'=>array('a'=>1,'b'=2),'c'=>array('a'=>1,'b'=2)); ↓ 変換処理 ↓ $associative_multi_d_array = array('a'=>array('a'=>1,'b'=>1,'c'=>1),'b'=>array('a'=>2,'b'=>2,'c'=>2)); 連想（　２～多次元　）配列の向きを上記のように変更するfunctionをPHPで書いてください。 ※各階層ごと出てくる用素数は同じです。
下記のようなスクリプトでFTPダウンロードを試みています。 ダウンロード元はホスティング会社のサーバで、 ダウンロード先は私のWindowsPCになります。 接続から読み込みまで万事うまく行き、エラー表示もなく、 Successfully written to C:\test\backup.zip というメッセージが表示されるところまでいくのですが、 C:\test\を開けてみると肝心のファイルが見当たりません。 サーバやPCの設定等もあるかもしれませんが、 どのような原因が考えられますでしょうか？ よろしくお願いいたします。 ＜スクリプト＞ $local_file = "C:\\test\\backup.zip"; $server_file = "/tmp/backup.zip"; $conn_id = ftp_connect($ftpserver); $login_result = ftp_login($conn_id, $usr, $pass); ftp_pasv($conn_id, true); if(ftp_get($conn_id, $local_file, $server_file, FTP_BINARY)){ echo "Successfully written to {$local_file}"; } else { echo "There was a problem"; } ftp_close($conn_id);
現在、独学でhtml　php css java等を勉強中の素人です。 私が使っているのは、dreamweaver cs6 とローカル環境用にMAMPを使用しています。 現在勉強のため、webサイト上でのチケット予約受付ページを作っております。 既に、「チケット紹介画面」→「予約受付画面」→「予約入力画面」→「入力確認画面」→「予約完了画面」　そして、予約完了画面になった時に送信者、送信先への自動送信システムをPHPを用いて作成しました。 そして、今回は、これに、在庫数の表示をさせたいと思っているのですが、どうすればいいのかわからず止まっている状態です。。。 今回でしたら、チケットの枚数に上限を持たせ、「残り○○枚」というのをトップページに表示させ、「残り０枚」になったら、予約画面には飛ばないようにしたいと思っています。 そのときの条件として、予約が成立するごとに、自動カウントダウンを行ないたいと思うのですが、そのようなシステムは作成可能でしょうか。 （今回は、１回の予約で、１枚しか買えないようにしたので、予約成立回数＝送信完了回数＝チケット枚数というようにしたいです。） 例：チケット枚数が上限５０枚 １人目の送信者が予約完了画面でメールを自動送信して、トップページには[残り49枚] ２人目の送信者が予約完了画面でメールを自動送信して、トップページには[残り48枚] ・・・ 50人目の送信者が予約完了画面でメールを自動送信して、トップページには[完売] の様なシステムを作りたいですが。。。 いろいろ調べてはいるのですが、有料の在庫管理システムやショッピングカートシステムは見ることができたのですが、できたら勉強のため作成できたらなと思います。 知識薄な私には、提供されているシステム環境に登録して使った方がいいのは重々承知しています。しかし、勉強のためにもと思って行なっております。 どなた様かご教授宜しくお願いいたします。
phpによってデータベースから取り出した日付に２日プラスして出力したいのですがどうしたら宜しいでしょうか？ ちなみにcakephpによって取り出されているので、 $carlist['Car']['buy_date'] となっており、中には2014-1-1が入っています。 出力が2014-1-3になるようにしたいです。 strtotimeなどいろいろ試しましたが出来ませんでした。 よろしくお願いします
QRコードやリンクなどからメールを立ち上げ、本文内の「名前【なまえ】」の部分に名前を入れてもらい送信してもらったメールから、PHPを使って定期的にMysqlに挿入したいと考えていますが可能でしょうか。 保育園で保護者への一斉送信のためのメールアドレスの登録に使う予定です（ガラケーが多いです）。 同じ名前が複数回登録された場合は、遅い方を優先して上書きされるようにできればと考えています。 またサーバの仕様上.forward.aliasは使えませんので、受信をトリガーに出来ずcronで定期的（たとえば１分ごと）にphpを動かすようなかたちで受信をしたいと考えております。 諸先輩方、ご教授賜れないでしょうか。宜しくお願いします
phpでcsvファイルをフォルダにアップロードし、これをMySQLにインポートするプログラムを作成しています。 以下のソースを実行したところエラーが発生しました。 -----food.csv---------------------------------------------------------------------- "No","name","price" "1","うどん","100" "2","ぱすた","500" "3","カレー","300" ---------------------------------------------------------------------------------- -----BaseDAO.php------------------------------------------------------------------ <?php class BaseDAO{ function connect(){ try { $dsn = "mysql:host=localhost;dbname=food"; $option = array( // エラーモードを例外スローに設定 PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION, // local ファイルからload可能にする PDO::MYSQL_ATTR_LOCAL_INFILE => true ); $user = 'username'; $password = 'password'; $pdo = new PDO($dsn, $user, $password, $option); $pdo->exec("SET NAMES utf8"); return $pdo; //var_dump($pdo); } catch (PDOException $ex) { print($ex->getMessage()); die("データベース接続に失敗しました"); } return null; } function disconnect($dao){ $dao = null; } } ?> ---------------------------------------------------------------------------------- ------uploadcsv.php----------------------------------------------------------------- <?php require_once 'BaseDAO.php'; //csvファイルのアップロード if (is_uploaded_file($_FILES["upfile"]["tmp_name"])) { //「files」という名前のフォルダを同じ階層に設置。ここにCSVファイルをアップロード if (move_uploaded_file($_FILES["upfile"]["tmp_name"], "files/" . $_FILES["upfile"]["name"])) { chmod("files/" . $_FILES["upfile"]["name"], 0644); //fileパス $file = "files/" .$_FILES["upfile"]["name"]; $sql_src = <<<SQL LOAD DATA LOCAL INFILE %s INTO TABLE `%s` CHARACTER SET sjis fields terminated by ',' enclosed by '"' lines terminated by '\\r\\n' IGNORE 1 LINES SQL; $table= 'food'; //テーブル名 $inport=new BaseDAO(); //インスタンス作成 $pdo=$inport->connect(); //pdoクラスに接続 $sql = sprintf($sql_src , $pdo->quote($file), $table); //sql文の実行 $stmt = $pdo->query($sql); echo "インポートが完了しました！"; //失敗したとき } else { echo "ファイルをアップロードできません。"; } } else { echo "ファイルが選択されていません。"; } ?> -----index.html--------------------------------------------------------------------- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS"> <title>sample</title> </head> <body> <form action="uploadcsv.php" method="POST" enctype="multipart/form-data"> ファイル：<br> <input type="file" name="upfile" size="30"><br> <br> <input type="submit" value="アップロード"> </form> </body> </html> ---------------------------------------------------------------------------------- --------foodテーブルを作成するSQL文------------------------------------------------ CREATE TABLE IF NOT EXISTS `food` ( `No` int(11) NOT NULL, `name` varchar(50) NOT NULL, `price` varchar(50) NOT NULL ) ENGINE=InnoDB DEFAULT CHARSET=utf8; ---------------------------------------------------------------------------------- 実行したところ以下のエラーが発生しました。 Warning: PDO::query() [pdo.query]: LOAD DATA LOCAL INFILE forbidden in C:\xampp\htdocs\food\uploadcsv.php on line 30 ＜当方のPC環境＞ phpMyAdmin:3.3.9 PHP: 5.3.5 Apache 2.2.17 MySQL 5.5.8 XAMPP version 1.7.4 フォルダ（files）にcsvファイルがアップロードされているところまでは確認できましたが、MySQLにインポートされていないようです。 BaseDAO.php内の「PDO::MYSQL_ATTR_LOCAL_INFILE => true」が効いていないように思えます。 初歩的な質問で凝縮ですが、原因を教えていただきたく存じます。
プログラム初心者です PDO学び始めたのですがわからないとこがあります 質問1 名前付きプレースホルダの:nameの前についているコロンはなんですか？ 変数なんでしょうか？ 質問2 bindValueとbindParamがあるようですが普通につかう範囲では数値も文字もbindValueを使うだけでいいですか? 質問3 ユーザー入力のない値の場合はbindValueを使わずにprepareとexecuteのみでいいですか？ 質問4 下記のように$nameの変数が後から登場しているのにエラーにならないのはなんでなんですか？ $stmt = $pdo -> prepare("INSERT INTO テーブル名 (name, value) VALUES (:name, :value)"); $stmt->bindParam(':name', $name, PDO::PARAM_STR); $stmt->bindValue(':value', $value, PDO::PARAM_INT); $name = 'one'; $value = 1; $stmt->execute(); よろしくお願いします
こんにちは。今PHPによるサイト制作をしています。 今までちゃんとサイトが表示されていたのですが、 FTPでローカルのデータファイル全体をPUTしたところ、 サイト内で新着情報表示を使用しているページのみParse error: syntax error,が出てしまいます。 構文は一切変更をしていなかったため、原因がわかりません。 どなたかご教授頂けないでしょうか。 （下記、新着情報表示の構文） <table width="600" cellpadding="5" cellspacing="5" border="0"> <?php include("./inc/info.def.php"); ?> <?php $log = file(LOG_FILE); if (TOP_ROWS >= count($log)) { $END = count($log) - 1; } else { $END = TOP_ROWS - 1; } for($i=0;$i<=$END;$i++) { $DATA = _split($log[$i]); ?> <tr> <td> <?php if ($DATA['FILENAME']) { $SIZE = _calc_thumbnail($DATA['HEIGHT'],$DATA['WIDTH']); ?> <p class="news-photo"><a href="news.php?no=<?=$DATA['NO'];?>"><img src="<?=IMG_DIR.$DATA['FILENAME'];?>" border="0" width="<?=$SIZE['WIDTH'];?>" height="<?=$SIZE['HEIGHT'];?>" alt=""></a></p> <?php } ?> </td> <td nowrap valign="top" height="10"> <a href="news.php?no=<?=$DATA['NO'];?>"><font color="#cccccc"><span class="title-text"><?=$DATA['CAPTION'];?></span></font></a><br> <img src="img/blank.gif" alt="" width="1" height="5" border="0"><br> <p class="date-text"><font color="#cccccc"><?=date("Y年m月d日",$DATA['STAMP']);?></font></p> </td> </tr> <? } ?> </table> ---------------------------------------------------- 読み込んでいるinfo.def.phpの構文 <?php // 新着情報に関する設定 define("LOG_FILE","./inc/information.dat");// ログファイル define("IMG_DIR","./up_img/");// アップ画像保存場所 define("TOP_ROWS","5");// トップページに表示する件数 define("LIST_ROWS","3");// １ページに表示するタイトル // 画像サイズに関する設定 define("IMG_H","600"); define("IMG_W","400"); define("THUMB_H","100"); define("THUMB_W","100"); // ログファイルを分解する関数 function _split($log='') { if (!$log) { return; } $data = split(",",$log); return array( 'NO' => $data[0], 'STAMP' => $data[1], 'CAPTION' => urldecode($data[2]), 'COMMENT' => urldecode($data[3]), 'FILENAME' => $data[4], 'HEIGHT' => $data[5], 'WIDTH' => ereg_replace("\n","",$data[6]) ); } ?> ---------------------------------------------------- よろしくお願い致します。
PHP初心者です。 まだ僕が思いつようなものはすべてfunctionで事足りてしまうので classで定義する必要のあるものがよくわからずにいます。 こういう事が必要なら間違いなくclassというのは どういう時でしょうか？
<?php // stringcast.php if (!isset($argv[1])) { exit; } $num = $argv[1]; if ($num == 100) {　　←(1) echo "num is 100", PHP_EOL; } else { echo "num is not 100",PHP_EOL; } このプログラムを %php stringcast.php100 のように実行する、引数の100はPHP文字列型として渡されます。 　したがって、(1)の比較では、文字列"100"の入って変数＄numと、整数100が比較されるため、 文字列"100"は整列100へとキャストされまた後、比較演算が実行されます。 　今回は、動作の結果に違いはありませんが、ここで整数同士を比較しているつもりでも実際には 文字列を整数の比較が行われ、キャストが発生している、という挙動を把握しているか、していない かではなく大きな違いがあります。引数とし期待している値の型が決まっている場合、明示的にキャ ストを行い、厳密な比較演算子(===など)を用いるほうが安全です。 -------------------------------------------------------- 以上、参考書をまるごと入力しました。 　そこで　$num = $argv[1];で！$argv[1]とはこのプログラムではどんな働きがあるのでしょうか！？ 　（$argv[1];を$numに代入だと思います。間違っていたなら御免なさい。） 　宜しくお願いします。 　なお・批判的なご回答はお控えくださいませ。 　
文字列が「A B C D E F」とあるとします。 これらはDB上で連結するかしないか（0しない1する）のフラグをそれぞれ持っています 例えば取得したふらぐがA(1)B（1）C(0)D(0)E(1)F(0)だったら 連結後の表記は「A、B、E」となります。 if分でずらずら条件を記述し、連結することは可能ですが、何とかして（ループしてとか？）短いステップで実装したいと考えているのですが全く良い案が浮かびません。 何か私に良い方法をご教授していただけないでしょうか。 よろしくお願いいたします
フォームから名前を入力して 送信後、その名前を表示させ 未入力だとエラーの言葉を表示させるサンプルになります。 ------------------------------------------- <html> <body> <form action="" method="post"> <p>【お名前】<input type="text" name="name"></p> <p><input type="submit" value="送信"></p> </form> </body> </html> <?php function Aa($str){ return htmlspecialchars($str, ENT_QUOTES, "UTF-8"); } if($_POST["name"] == ""){ echo "名前を入力してください。"; }else{ $name = Aa(@$_POST["name"]); echo $name; } ?> ------------------------------------------- 上記は正しい例になりますが 最初に頭に浮かんで書いてみたのは 「isset」を使った以下の構文でした。 ------------------------------------------- if(isset($_POST["name"])){ $name = Aa(@$_POST["name"]); echo $name; }else{ echo "名前を入力してください。"; } ------------------------------------------- この構文では名前が未入力の場合でも エラーメッセージの「名前を入力してください。」が出力されず 表示されません。 （もしnameが入力されていればnameを出力。 入力されていなければechoの「名前を入力してください」を 出力という「==」と同じような解釈で 「isset」を使ってみたのですが間違いでした。 この場合「isset」はどうして使えないのでしょうか？
プログラム初心者です 容量小さ目のmp3のアップ ロードする方法をおしえてください 拡張子はmp3のみ対応できれば満足です 画像をアップロードする場合と違うところはどこでしょうか？(気をつけなければいけないとこはありますか？) IMEタイプはmp3の場合どうなりますか？ 他のエラー処理は画像アップロードとほぼ同じだと思うので省略しています 下記の画像アップロードを少し改造して作れないでしょうか？（下記の部分だけわかればなんとかなるかもしれません） // 画像ファイル情報取得 $info = getimagesize($tmp_name);//画像の幅、高さ、拡張子、<img>タグ内でそのまま使用できる文字列、ビット／ピクセル、チャンネル数、MINEタイプを配列で取得(偽装対策) // 取得に失敗したときは画像ファイルではない if ($info === false) { throw new Exception('nogif');//画像ファイルではありません } // MimeTypeを調べる switch ($info['mime']) { case 'image/gif': $mime = $ext = 'gif'; break; case 'image/png': $mime = $ext = 'png'; break; case 'image/jpeg': $mime = 'jpeg'; $ext = 'jpg'; break; default: throw new Exception('mime');//この種類の画像形式は受理できません } よろしくお願いします
プログラミングでPHPを使用した検索サイトを作りたいと思って独学中です。 データベースを使用したものではなく、既存の掲示板やサイトから検索できるようにしたいのですが、 使われる関数等どうしたらいいものか悩んでいます。 こうしたらいいんじゃないか　何かヒントをいただければ嬉しいです。 よろしくお願いいたします。
プログラム初心者です テスト用にmysqlのテストdataをつくりたいです PHPでダミーDATA10万件をinsertする方法を教えてください カラムはuser_id　gif_id　tag　の三つです user_id　gif_idはなにも記入しなくてもいいです。（数字が入る予定です） tagはあ～お、か～こまで１文字をランダムに値を変化させながら入れられますか?（無理なら同じタグでいいです） XAMPP（ローカル）で作るので負荷かかってもかまいません mysqli_query($link,sprintf('INSERT INTO tag(user_id,gif_id,tag) VALUES(%d,%d,"%s"),(%d,%d,"%s","%s")', mysqli_real_escape_string($link,$id), mysqli_real_escape_string($link,$gif_id), mysqli_real_escape_string($link,$tag), mysqli_real_escape_string($link,$id), mysqli_real_escape_string($link,$gif_id), mysqli_real_escape_string($link,$tag2) )); よろしくお願いします
WordPress外のindexhtmlにブログの更新情報を表示させたいと考えています。 そこで、<?php require_once('../wp/wp-blog-header.php'); ?>をhtml内に置き、 ブログのタイトルを取得する構文を書き、phpを動作させる為表示させる為に、 通常であれば、index.html→index.phpに変更する必要があります。 しかし拡張子が変わる事で、ファイルが別物扱いになりこれまでのSEO効果が無くなってしまうような事を聞いたのですが、そこは避けたいと考えています。 調べた方法として、 htmlでphpを動かすため、.htaccessに「AddType application/x-httpd-php .htm .html」を記述する方法があるようですが、サーバー内の全て.phpに変わり、サーバーにも負荷が掛かり、そもそも上記の記述はサーバーの制約で使えないようでした。 TOPページのindex.htmlのみ、phpが使用できる方法はないでしょうか？ 宜しくお願い致します。
QRコードを作成するためにpearライブラリ内にあるImage_QRCodeを使用したいのですがエラーが出ます。 ファイル名(test.php)----------------------- require_once '/Image/QRCode.php'; $qr = new Image_QRCode(); $qr->makeCode("Hello, world"); ------------------------------------------- このコードを実行したところ以下のエラーが発生しました。 --------------------------------------------------------------------------------------------------------------------------------------------------------- Fatal error: Uncaught <table style="border: 1px" cellspacing="0"> <tr><td colspan="3" style="background: #ff9999"> <b>Image_QRCode_Exception</b>: Can't open ECC data file in <b>C:\XAMPP\php\PEAR\Image\QRCode.php</b> on line <b>863</b></td></tr> <tr><td colspan="3" style="background-color: #aaaaaa; text-align: center; font-weight: bold;">Exception trace</td></tr> <tr><td style="text-align: center; background: #cccccc; width:20px; font-weight: bold;">#</td><td style="text-align: center; background: #cccccc; font-weight: bold;">Function</td><td style="text-align: center; background: #cccccc; font-weight: bold;">Location</td></tr> <tr><td style="text-align: center;">0</td><td>Image_QRCode->readECCData(Array, 26)</td><td>C:\XAMPP\php\PEAR\Image\QRCode.php:863</td></tr> <tr><td style="text-align: center;">1</td><td>Image_QRCode->performECCOperation(Array, 26)</td><td>C:\XAMPP\php\PEAR\Image\QRCode.php:658</td></tr> <tr><td style="text-align: center;">2</td><td>Image_QRCode->makeCode('Hello, world')</td><td>C:\XAMPP\htdocs\QR\te in C:\XAMPP\php\PEAR\Image\QRCode.php on line 893 ------------------------------------------------------------------------------------------------------------------------------------------------------------ 確認したところgdは有効になっているようです。 初歩的な質問で凝縮ですが、何が原因か教えていただきたく存じます。 私の環境は以下の通りです。 PEAR：1.9.4 PHP：5.3.5 Image_QRCode：0.1.2 os:windows7
PHPで大容量のファイルのアップロードされた場合の処理について教えてください。 PHPのアップロードの上限設定はphp.iniで設定できるのは分かります。 今回の質問は、FacebookやCookpad等で画像をアップロードをすると即座にアップロードされますが、どのように実現しているのでしょうか。複数人で画像等をアップロードするようなサイトの場合、アップロードしている間プロセスが占有されるため、できる限り早く処理できるとよいと考えております。
プログラムをはじめたばかりの初心者なので見当違いな事を質問していたらすみません。 他人のコードを見ていた時に以下のようなコードがありました。 if( pathinfo($file,PATHINFO_EXTENSION)=="txt" || pathinfo($file,PATHINFO_EXTENSION)=="php" || pathinfo($file,PATHINFO_EXTENSION)=="csv"){ 処理..... } ※実際は条件でのpathinfo部分がもっと長いです。 で、気になったのがこれだと条件チェックする際に毎回pathinfoが呼ばれるのでは？ というところです。 条件前に $hoge = pathinfo($file); としておき if($hoge['extension'] == 'txt' || $hoge['extension'] == 'php') などと記述した方が、pathinfoの呼び出しは一回のため速度的にも見た目的にも いいのではないでしょうか？ 気になったので echo で　pathinfo($file,PATHINFO_EXTENSION)を連続で出力するメソッドと 配列に格納した上で　$hoge['extension']を連続出力するメソッドのtimeを測定してみたところ メッソド呼び出しを毎回行う方が高速になりました。 （高速といってもたいしたことありませんが） 個人的には配列に入れた方が早い気がしていたのですが この考え自体が間違った考えなのでしょう？ 基本を知らないので検討違いな事言っていたらご指摘いただければ幸いです。 現在プログラムを勉強中なのですが、こんな事どーでもいいのかもしれませんが なんとなく気になったので質問させて頂いた次第です。
http://oshiete.goo.ne.jp/qa/8480862.html の続きですが　 　PATHは以下で解決しました^^・・と思いますが！？　 システムプロパティ⇒詳細設定⇒環境変数⇒システム環境変数⇒Pathの最後に;C:\xampp\php 　と入力した。 それで！ 　コマンドプロンプトを実行した結果が以下です。 　c:\>php -v PHP 5.4.19 (cli) (built: Aug 21 2013 01:12:03) Copyright (c) 1997-2013 The PHP Group Zend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies c:\>cd C:\xampp\htdocs\study.localhost C:\xampp\htdocs\study.localhost>php stringcast.php 100 ・ソnum is 100 C:\xampp\htdocs\study.localhost> 以上、OKでしょうか！？ 　宜しくお願いいたします。
こんばんは PHPで echo hexdec(uniqid()); とすると、10進数らしき数字の羅列の最後にE+15が必ず付きます。 何度やってもかわりません。uniqidは16進数を返すはずなのでこの挙動がどういうことなのかわかりません。 ご存じの方教えてください。 PHP 5.4.3
プログラム初心者です デコードについておしえてください 検索結果のページングでエンコードとデコードを使おうと思っています urldecodeは、文字列中にエンコードされた文字がなくても大丈夫ですか？ 例えば、これだとデコードできますが $search = urldecode("%E3%81%82"); これでも問題ないでしょうか？（デコードする文字がありませんみたいなエラーはありませんか？） $search = urldecode("あ"); 使い方おかしい！とかありましたらよろしくお願いします 質問2 試しにエンコードしないでページングしたらIE8で成功してしまったのですが、やっぱりエンコードしたほうがいいですよね？（対応できないブラウザはありますか？）
テキストフィールド（start_date）では、 $("#start_date").datepicker({dateFormat:'yy-mm-dd'}); として日付入力をします。 その日付フィールドに変更があったら、ajaxaで処理をしたいのです。 そこで、jsに $(document).ready(function() { $(".start_date").change(function(){ var d=$(this).val(); var dataString = 'start_date'+ d; $.ajax({ type: "POST", url: "ajax_org.php", data: dataString, cache: false, success: function(html){ $(".org_id").html(html); } }); }); }); と記述し、変更があったらajax_org.phpを読んで、セレクトボックスの内容を変更させようと しているのですが、このajax_org.phpにテキストボックスの内容がPOSTされないのです。 セレクトボックスに変更があった場合には、valの値が、上記の記述でＰＯＳＴで読めるのですが、 なにがいけないのでしょうか？ ご教授お願いします！！
Wordpressでプラグインの作り方を勉強しています。 http://tachibanacw.mond.jp/techwiki/index.php?Wo … このページの中段以降にあるclass ShowTextを作ってみているのですが、このページこう書いてあります。 ※ ただし、footer.phpやheader.php、sidebar.phpでは呼び出し方法(1)は使えない!!! この通りプラグイン内で作った関数を呼び出す <?php echo esc_html($showtext->get_text()); ?>　をsingle.phpへ書き込むと正常に表示されますが header.phpやfooter.phpなどでは Call to a member function get_text() on a non-object in C:\xampp\htdocs\～ というエラーが出ます。(ローカルでテストしています) ↑のページには理由が書いてないのですが、これはなぜなのですか？ サンプルのソースは以下です。 <?php /* Plugin Name: Show Text Plugin URI: http://localhost/wordpress/plugin Description: テキストを表示するだけのプラグイン Author: A.Hiruta Version: 0.1 Author URI: http://localhost/wordpress */ class ShowText { //「 __construct」はインスタンス化するときに実行されるメソッド function __construct(){ //クラス内のメソッドを指定する場合は第2引数は$thisを含めた配列になる add_action('admin_menu', array($this, 'add_pages')); } function add_pages(){ add_menu_page('テキスト設定','テキスト設定', 'level_8', __FILE__, array($this, 'show_text_option_page'), '', 26); } function show_text_option_page() { //$_POST['showtext_options'])があったら保存 if ( isset($_POST['showtext_options'])) { check_admin_referer('shoptions'); $opt = $_POST['showtext_options']; update_option('showtext_options', $opt); ?><div class="updated fade"><p><strong><?php _e('Options saved.'); ?></strong></p></div><?php } ?> <div class="wrap"> <div id="icon-options-general" class="icon32"><br /></div><h2>テキスト設定</h2> <form action="" method="post"> <?php wp_nonce_field('shoptions'); $opt = get_option('showtext_options'); $show_text = isset($opt['text']) ? $opt['text']: null; ?> <table class="form-table"> <tr valign="top"> <th scope="row"><label for="inputtext">テキスト</label></th> <td><input name="showtext_options[text]" type="text" id="inputtext" value="<?php echo $show_text ?>" class="regular-text" /></td> </tr> </table> <p class="submit"><input type="submit" name="Submit" class="button-primary" value="変更を保存" /></p> </form> <!-- /.wrap --></div> <?php } //何故かfooter.phpにはecho esc_html($showtext->get_text());を記述してもダメだった。 function get_text() { $opt = get_option('showtext_options'); return isset($opt['text']) ? $opt['text']: 'null desu.'; } } //クラスを記述して、その場でインスタンス化（実行） $showtext = new ShowText; ?> よろしくおねがいいたします。
PHPとStreamingのGET userを使って 自分のタイムラインのツイートを取得しようと思ったのですが 一度userstreamに接続すると接続しっぱなしになり 最後にはタイムアウトになって終了してしまします うまく回避する方法はないでしょうか？ よろしくお願いします <?php // OAuth用ライブラリ「twitteroauth」 require_once 'twitteroauth/twitteroauth.php'; // アプリ登録した際に発行された値を入れて下さい。 $consumer_key = '****************'; $consumer_secret = '********************'; $access_token = '*************************'; $access_token_secret = '*********************'; // オブジェクト生成 $tw_obj = new TwitterOAuth ( $consumer_key, $consumer_secret, $access_token, $access_token_secret); // REST_API指定(今回はタイムラインのREST_API) $tw_rest_api = 'https://userstream.twitter.com/1.1/user.json'; // メソッド指定 $request_method = 'GET'; // オプション指定 $options = array ( 'delimited' => 1950 ); // ユーザータイムライン取得 $tw_obj_request = $tw_obj->OAuthRequest( $tw_rest_api, $request_method, $options); // json形式で取得 $tw_obj_request_json = json_decode($tw_obj_request, true); // 変数生成 $time_line_texts .= ''; // 表示 print($time_line_texts); ?>
お世話になります。 http://www.hoge.com/a と入力した場合、末尾にスラッシュを補完する方法は分かったのですが今回、 「１回目に出現したスラッシュは補完し、２回目は補完しない」ということを行いたいのですが可能でしょうか？ (1)http://www.hoge.com/a　⇒(補完する)http://www.hoge.com/a/ (2)http://www.hoge.com/a/b/　⇒(2回目以降のスラッシュは削除) http://www.hoge.com/a/b としたいのですがこのような制御は可能でしょうか？ よろしくお願い致します。
cookieの説明を見てクライアント側に 色々な情報を保存させるということがなんとなく分りました。 何かを登録するサイトやショッピングサイト、 掲示板ではcookieを設定すると便利だということは理解できるのですが 個人の趣味のサイトやブログでは cookieはどのような情報を扱うときに 設定するのでしょうか？ 何かを登録するサイト、ショッピングサイト、掲示板などでは ＩＤやメールアドレスなどフォームから入力される値が cookieに使われるようですが 他にもなにか特殊で役に立つような使い方があるのでしょうか？
GETで検索文字列（$_GET["q"]）が入っていたら、その文字列を太字に変換しておく、その作業を複数のカラム（$myval1～5）を対象に施したい、というようなことを 以下のコードでやっているつもりです。 他方、（お恥ずかしながら）最近、「冗長な繰り返しコードのfunction化」のメリットというのをようやく理解し始めましたが、下記のようなコードはfunction化に向いてますか？ if (isset($_GET["q"]) and strlen($_GET["q"]) > 0) { if (! is_null($myval1) ) { $myval1 = ereg_replace(preg_quote($_GET["q"]), "<b>". "\\0" . "</b>", $myval1); } if (! is_null($myval2) ) { $myval1 = ereg_replace(preg_quote($_GET["q"]), "<b>". "\\0" . "</b>", $myval2); } if (! is_null($myval3) ) { $myval1 = ereg_replace(preg_quote($_GET["q"]), "<b>". "\\0" . "</b>", $myval3); } if (! is_null($myval4) ) { $myval1 = ereg_replace(preg_quote($_GET["q"]), "<b>". "\\0" . "</b>", $myval4); } if (! is_null($myval5) ) { $myval1 = ereg_replace(preg_quote($_GET["q"]), "<b>". "\\0" . "</b>", $myval5); } } また、「とうふ　たまご」のように検索文字列がスペースで区切られていた場合に preg_split('/(\s|　)+/', $_GET["q"]) こうやると分割できることはわかりましたが、これを上記に適用する方策がさっぱり思い浮かびません。foreachとかを使う？のでしょうか？
http://www.ericmmartin.com/projects/simplemodal- … の上から二番目、「Contact Form」とあります。 この「simplemodal-demo-contact-1.4.4.zip」をダウンロードしました。 contact/index.html の28行目に、以下の記述があります。 <input type='button' name='contact' value='Demo' class='contact demo'/> or <a href='#' class='contact'>Demo</a> これを、 <input type='button' name='contact' value='Demo' class='contact demo'/> <input type='hidden' name='mysubjt' value='件名件名件名件名件名' class='contact demo'/><!--この行を追加--> みたいにして、Demoボタンを押してコンタクトフォームを開いたら、 Subjectに（$_POST["mysubject"]である）「件名件名件名件名件名」が挿入されるように できないでしょうか。 （無論、phpでなくjavascriptでも可能なのでしょうが。。。） なお、以下のように使いたいと思っています。 これをやると、HTMLチェッカ（CSE HTML Validator）で、同じnameが複数回出てくるではないか！と怒られます、これも悩みです。 <?php while (～～～～～) { $i++; $body .= "<p>候補者番号" . $i . "番へのメッセージ</p>\n"; $body .= "<input type='button' name='contact' value='Demo' class='contact demo'/>\n"; $body .= "<input type='hidden' name='mysubjt' value='出席番号" . $i . "番への件名' class='contact demo'/>\n"; ?> <html> <body> <?= $body ?> </body> </html>
wordpressでthe_content内に<h3>...</h3>があったら、<h3><span>...</span></h3>に置き換える方法を考えています。 functions.php内に ---------- function add_h3_replace( $content ) { $content = get_the_content(); $content = preg_replace('<<h3>>','<h3><span>',$content); $content = preg_replace('<</h3>>','</span><h3>',$content); return $content; } add_filter( 'the_content', 'add_h3_replace', 99 ); ---------- で一応出来たのですが、正規表現のマッチの仕方が分かりません 置き換える方法をご教示していただけたらと思います。 よろしくお願い致します。
よろしくお願い致します。 ------------- 引用元：http://aaa、http://bbb、http://ccc ------------- という文字列がある場合 ------------- 引用元：<a href="http://aaa" target="_blank">タイトルaaa</a>、<a href="http://bbb" target="_blank">タイトルbbb</a>、<a href="http://ccc" target="_blank">タイトルccc</a> ------------- に置き換える方法を考えています。 ------------- <?php // 対象文字列 $text = '引用元：http://aaa、http://bbb、http://ccc'; // パターン $pattern = '/((?:https?|ftp):\/\/[-_.!~*\'()a-zA-Z0-9;\/?:@&=+$,%#]+)/u'; // 置換後の文字列 $replacement = '<a href="\1">\1</a>'; // 置換 $text= preg_replace($pattern,$replacement,$text); // 出力 echo $text; ?> ------------- で ------------- 引用元：<a href="http://aaa" target="_blank">http://aaa</a>、<a href="http://bbb" target="_blank">http://bbb</a>、<a href="http://ccc" target="_blank">http://ccc</a> ------------- までは行けたのですが、タイトルを取得する方法が分かりません。 http://otapps.net/archives/305 こちらを参考に考えたのですが、先に進めずにいます。 分かる方がいらっしゃいましたら、ご教示ください。 よろしくお願い致します。
プログラム初心者です 番号と画像拡張子を簡単な正規表現で表す方法をおしえてください 拡張子はgif、png、jpgの拡張子です 番号は桁数も番号も変わります。この三パターンにマッチするテキストを置き換えたいです 例 56.gif 100.gif 6.png 6549.png 79169.jpg 35.jpg $pattern="/(\d+)/"; $replacement="<a href=\"$0\">$0</a>"; if(preg_match($pattern,$mes,$matches) ){ $mes=preg_replace($pattern,$replacement,$mes); } よろしくお願いします
このジャンルでお願いします。 PHPのコードを記述するために使用し始めたのですが、 次のようなことはできないでしょうか？ １、「入力の毎に補完を行う」「関数名補完」「入力の直後関数のパラメータヒントを表示」にチェックし 言語選択でPHPを選択してるのにも関わらず、PHP用の補完が出てこない（補完候補は出てくるのですが、 例えば、「public」という補完候補が出てこないなど） ２、PHPファイル新規作成時に、 <?php //～ のような記述付きで作成してほしい 解説サイトなどを見てもあまりこの辺（特に１はエラーっぽい？）に関してはないようなので アドバイスをお願いします。
xamppを標準インストールした環境にてPHPのPDOを利用したデータベース処理を試しているのですが、SELECTで取得した値がすべて文字列として返されます。 $db = new PDO("sqlite:sample.db"); $db->setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC); $db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_SILENT); $rs = $db->query("select 1 as res"); $rs = $rs->fetch(); 結果： array(1) ( [res] => (string) 1 ) これに加え、やや強引なテストを行ってみたのですが、こちらも結果は同じく文字列となりました $db = new PDO("sqlite:sample.db"); $db->setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC); $db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_SILENT); $rs = $db->prepare("select ? as res"); $rs->bindValue(1, 1, PDO::PARAM_INT); $rs->execute(); $rs = $rs->fetch(); この現象を回避するにはどのようにすればよいでしょうか。
ランダム数値を連番と比べて足りない数値を取り出したいのですが どのようにすれば取り出せるのか教えていただけませんでしょうか？ //事情により配列の一番最初は「$sample_num[0]」ではなく「$sample_num[1]」です。 //必ず、小さい数字-大きい数字で配列に入っています。 $sample_num[1]=1; $sample_num[2]=3; $sample_num[3]=6; $sample_num[4]=8; //1から10まで足りない数字を取得したい //欲しい結果 2 4 5 7 9 10
始めての投稿・質問です。 当方、目下独学でWebサイトの自作に挑戦中です。 環境は、Mac OSX(mavericks),MAMP,Dreamweaver CC (+ PHP) 。 上記環境でphpをCGIのように動かしたいよ思っています。 質問[1] .htaccessの設定は以下で正しいでしょうか？ Addhandler application/x-httpd-php55cgi .php .html .htm 質問[2] php.iniの設定は以下で正しいでしょうか？ error_reporting = E_ALL | E_STRICT default_charset = "UTF-8" include_path = "Applications/MAMP/bin/php/php5.5.3/lib/php" date.timezone = Asia/Tokyo mbstring.language = Japanese mbstring.internal_encoding = UTF-8 mbstring.http_input = UTF-8 mbstring.http_output = pass mbstring.encoding_translation = on output_buffering = on mbstring_substitute_character = "?" 質問[3]上記以外にも重要な設定事項や記載事項があれば教えてください。 以上、なにぶん初心者のため勉強範囲もまだ狭く、専門用語も十分理解把握できない かもしれません。なにとぞそこを考慮してご教示をお願いいたします。
SESSIONを使用し、問い合わせフォームを作っています。 最後に問い合わせ完了をした際にSESSIONの削除をおこなっているのですが、 どのSESSION削除方法がよいかわからずご質問させていただきました。 ・unset(); ・$_SESSION = array(); フォームから受け取るSESSIONは $_SESSION['contact']['key']; $_SESSION['contact']['data']['name']; $_SESSION['contact']['data']['email']; としており、 unset($_SESSION['contact']);　としています。 ところが、ユーザーAとユーザーBが同時にお問い合わせページに入力をおこなったとし、ユーザーAが先に完了した場合ユーザーBのSESSIONも削除される（切れる？）といった現象がおきており、困っております。（もしかしたら別問題かもしれませんが・・・） 自分の認識では unset()は個別に削除でき、ユーザーAのSESSIONのみ削除する。 $_SESSION = array();はユーザーA、ユーザーB両方のSESSIONを初期化（削除）すると認識しております。 間違っておりませんでしょうか？
PHP初心者です。 ヘッダーファイルのインクルード時に、タイトル・メタタグ等をページ毎に違う内容に自動生成するようにしているのですが、ページ数が300ページ程と増えてきており、記述を増やしていった結果、容量オーバーになったのかサイトが見れなくなってしまいました。記述を減らすと元に戻ったのですが。 そのため、現在複数のページで同じタイトルが使われている状態です。 出来れば現在のやり方で、全てのページのタイトル・メタタグ等を違う内容にする方法をどなたか教えて下さい。宜しくお願いします。 ヘッダーファイルは以下の内容が続く感じです。 ------------------------------------------- $seo['/contents1/'] = array( 'title' => 'タイトル1が入ります', 'meta_desc' => 'ディスクリプション1が入ります', 'meta_keys' => 'メタキーワード1が入ります', ); $seo['/contents2/'] = array( 'title' => 'タイトル2が入ります', 'meta_desc' => 'ディスクリプション2が入ります', 'meta_keys' => 'メタキーワード2が入ります', ); $seo['/contents3/'] = array( 'title' => 'タイトル3が入ります', 'meta_desc' => 'ディスクリプション3が入ります', 'meta_keys' => 'メタキーワード3が入ります', ); -------------------------------------------
<?php // stringcast.php if (!isset($argv[1])) { exit; } $num = $argv[1]; if ($num == 100) { echo "num is 100", PHP_EOL; } else { echo "num is not 100",PHP_EOL; } このプログラムを %php stringcast.php 100のように実行すると、引数の100は PHPには文字列型として渡されます。・・・ 　以上参考書にあります。 　作業の流れが分かりません。 　%php stringcast.php 100とは！何のことなのでしょうか！？ 　以上宜しくお願いします。
現在、自分で使う用のちょっとしたフォームを習作ですが作りました。 タイトルとURLを入れて保存しておくようのものです。 タイトルを入れるinput、URLを入れるinputの2つセットが、10組くらい並んでいます。 フォームと保存先のDB自体はちゃんと動いているので良いのですが、 例えば10サイト登録しようと思うとタイトルをコピペ、URLをコピペ～って作業を20回することとなり 結構面倒くさいことに気づいたので テキストファイルにどんどんコピペして保存し、 そのテキストファイルを読み込んで一気にフォームを入力しようと考えました。 テキストファイルへのコピペはBookmarkletで簡単にURL,TITLEとカンマ区切りでコピーするものを作りましたので あとはそのテキストファイルをうまくフォームに入れたいのですが方法が分かりません。 PHPのページで中身を表示することは出来ました。 fopenやfgetsを使い1行ずつ取り出すことも可能です。 その取り出した文字列を、10カ所のフォームに埋めれるだけ埋めたいのです。 ただしそのフォームは既に２～３個など埋まっている可能性もあるので、 「何も入力されていない空のフォームにテキスト(文字列)をはめ込む」 というのはどうすればいいんでしょうか？ フォームは <table class="form-table"> <tr valign="top"> <th scope="row">1. <label for="inputtext">Title</label></th> <td><input name="hoge[0][0][title]" type="text" id="inputTitle1" value="<?php echo $hoge[0][0][title] ?>" class="regular-text" /></td> </tr> <tr valign="top"> <th scope="row">1. <label for="inputtext">URL</label></th> <td><input name="hoge[0][0][url]" type="text" id="inputUrl1" value="<?php echo $hoge[0][0][url] ?>" class="regular-text" /></td> </tr> ～～～～～～～～～～～～ ～～～～～～～～～～～～ </table> こんな感じです。 valueには、前回保存したものが入ります(なので埋まっている可能性があるのです) 分かりづらいかもしれませんが、よろしくおねがいします。
以下のページにある最後に提示されているサンプルがうまくいきません。 ＞　PHP：PDFのファイルサイズを取得して表示するのにはまったので解決策を ＞　http://ika-ring.net/blog/show-pdf-file-size/ index.phpがある「ホーム」ディレクトリに、「pdf」というディレクトリがあり、その中に100KBの「sample.pdf」があるとします。 index.phpの中に、以下を書き込みましたが、真っ白なHTMLが返ってきます。 <?php $file = "241.pdf"; function get_file_size($file){ $mfile = str_replace(esc_url(home_url('/'))."pdf/",ABSPATH,$file); //←この行だけ「wp」を「pdf」に書き換え if ( is_file($mfile) ){ $filesize = filesize($mfile); $s = array('B', 'KB', 'MB', 'GB', 'TB', 'PB'); $e = floor(log($filesize)/log(1024)); if($e==0 || $e==1) { $format = '%d '; } else { $format = '%.1f '; } $filesize = sprintf($format.$s[$e], ($filesize/pow(1024, floor($e)))); return $filesize; } } echo $filesize; ?>
プログラム初心者です htmlspecialcharsを省略するか迷っています SESSION変数を表示するときはhtmlspecialcharsを使ったほうがいいでしょうか? $id = htmlspecialchars($_SESSION['id'], ENT_QUOTES); echo $id; よろしくおねがいします
http://www.ericmmartin.com/projects/simplemodal- … の上から二番目、「Contact Form」とあります。 この「simplemodal-demo-contact-1.4.4.zip」をダウンロードしました。 解凍後、data/contact.phpを開くと、 既定ではフォームのSubjectは入力必須でないため、空欄なら17行目の $subject = "SimpleModal Contact Form"; が自動記入されてメールが送付されてくるように見受けますが、Subjectが空欄のメールが送付されてきます。なぜでしょうか？
PHP+MySQLで会員サイトを作っています。 1. 誰か一人がログインしていたら、そのログイン会員と同じIDとパスワードでログインしようとするとログインできないようにするか、元のログインしていた人が強制的にログアウトするようにしたい。 2. 一人のユーザーが複数アカウントを作って会員サイトを使いたい放題にするのを阻止したい。 そのため、「PC1台からは必ず1ユーザーのみしかログインできないようにしたい」です。 （複数PCを使われたら仕方ないかもしれません・・・） よく銀行サイトのようにログイン中に他のブラウザや端末からログインしようとすると「すでにログイン中です。ログインし直しますか？」のようになりますが、1.はこんな感じを考えています。 仕組みとしてはどのようにするのが良いのでしょうか？ 1. ログイン時にセッションIDを作り、データベースにそのセッションIDとIPアドレスを記憶しておいて、Web上で何か操作するたびにブラウザ側のセッションIDとデータベース側のセッションIDを比べて同じなら操作を実行し、違うなら操作できないようにする。 2. ログイン中に別のブラウザからログインしようとすると、データベース側に保存されているセッションIDが違うのでログインできないようにする。 3. 同じIPアドレスですでにログイン中の場合、同じPCからは他のアカウントでログインできないようにする。 こんな感じでしょうか？ 何か問題点やそもそもこの仕組は間違っていて常套手段があるなどありましたらお教えください。 なんとなく、IPアドレスのチェックはWiMAXなどは時間とともに変わったりするのであまり良くはないかもしれません。 どうぞよろしくお願い致します。
「if条件文」の()に「FALSE」や値「0」がはいると なにも考える事無く無条件に 「else」以降の条件が実行になるという決まりなのでしょうか？ もしそうであれば条件分にする意味があるのでしょうか？ 基本的な質問で申し訳ないのですが 実際に使われる分かりやすい簡単な例があれば ご紹介ください。 よろしくお願いいたします。 例１： if(FALSE){ echo "FALSEではない"; }else{ echo "FALSEです。"; } 例２： if(0){ echo "ゼロではない"; }else{ echo "ゼロです。"; } 例３：（特にこの例は何かおかしいような気がします） if(10-10){ echo "イフが実行"; }else{ echo "エルスが実行"; }
プログラム初心者です コアサーバーとゆうレンタルサーバーを使っています。 phpの設置しているディレクトリに自前のphp.iniを置けば反映されるらしいです セッション切れの時間をのばす方法を教えてください（自前でphp.iniを作る方法を教えてください） サーバーのphpinfo確認したら session.cookie_lifetime00 session.gc_maxlifetime　14401440 になっていました 自前のphp.iniにsession.gc_maxlifetime = 3600と一行だけ記述するだけでできますか？ それとも、php.iniにxamppにあるような設定をワラワラ書かないといけませんか？ php.iniのパーミッションは何にしたほうがいいでしょうか？見えるとまずいですよね？ よろしくお願いします 　
PHPで質問です。 if文でSUBMITのname値がAならAA、BならBBという処理をさせたいのですが、どのように書けばよいでしょうか？ valueの値は他の情報に使いたいです。 素人ですが、よろしくお願いします。
多次元配列 Array [n]["グループ"] = array("key", "値") グループは 二種類 "A"と"B" keyは固有整数 値は 0から100のdobule型 "A"と"B"の数は同等もしくは同等ではない なので配列の数もn個となる このように定義された配列の中からある条件の組み合わせを作りたいと思っています。 条件とは ・グループ "A"より"B"の値が1以上大きく、かつそのなかでもっとも距離が近い組み合わせ。 ・ペアになった組み合わせ以外のもので次のペアを組み合わせる ・ペアになったものは Pair[n] = array("Aのkey", "Bのkey")の配列へ代入する ・ペアになりきれずに残ったものは Protrude[n] = keyの配列へ代入する 優先順位 精度 > 速度 > 負荷 これを実現するためのロジックをみなさまはどのような方法で組まれますでしょうか？ アイデアをご教授いただけますようお願いいたします。
.httaccessで動的なサイトを静的に見せるためRewiteをしています。 RewriteRule ^([-0-9A-Za-z]+)/([-0-9A-Za-z)]+)$ index.php?a=$1&b=$2 [L] これで 「www.hoge.com/?a=$1&b=$2」 は 「www.hoge.com/a/b」 といった形でパラメータを渡せているのですが、bの値が毎回必要ではなく、しかし空欄(www.hoge.com/a/)にしてしまうと、「The requested URL /a/ was not found on this server.」でエラーとなってしまいます。 空欄でもエラーにさせない方法はありますでしょうか？ よろしくお願い致します。
こんにちわ。初めて質問します。 ＰＨＰを学びはじめて二か月弱の者です。現在、ウェブサイトを巡回するプログラムを作ろうと考えています。 さて質問があります。 ＩＤとパスワードを入力してログインするウェブサイトに対して、 プログラム（ウェブサイトを巡回するプログラム）からログインを行いたいです。 どのようなコードになるでしょうか？ なんとなく$_GETや$_POSTが出てきそうな予感がするのですが。…… 勿論ＩＤとパスワードは分かっているものとします。 やり方がわからず、もう二週間くらい悩んでいます。 よろしくお願いします。
ランダムにでた計算の答えの値を フォームによって送信して正解か間違っているかを表示する ＰＨＰプログラムを考えてみたのですが上手くいきません。 in.php ------------------------------------------ <html> <body> <?php $saki = rand(1,9); $ato = rand(1,9); echo "計算：{$saki}Ｘ{$ato}＝"; $seikai = $saki*$ato; echo '<form action="out.php" method="post">'; echo '<input type="text" name="kotae">'; echo '<input type="hidden" name="hidden" value="$seikai">'; echo '<input type="submit" value="回答"></form>'; ?> </body> </html> ------------------------------------------ out.php ------------------------------------------ <html> <body> <?php $kotae = $_POST["kotae"]; $seikai = $_POST["hidden"]; if($kotae == $seikai){ echo "正解です"; }else{ echo "間違いです"; } ?> </body> </html> ------------------------------------------ in.phpファイルのインプットタグhiddenの所と out.phpファイルでの$_POST["hidden"]の受け取り部分が 間違っているのだと思いますが 正しくはどのようにしたらいいのでしょうか？ もっとシンプルで分かりやすい書き方もあれば お教えください。 よろしくお願いいたします。
教えてｇｏｏのように、 検索ボックスを作り、検索ワードを入れて、結果を次ページに抽出するサイトを作りたいのですが まずＰＨＰを勉強すれば可能かな？ とおもったのですが、 そもそもそういうのって、フリーのホープページサーバーで可能ですか？ 自宅サーバーを立てないと無理ですか？
プログラム初心者です 貧弱レンタルサーバーを使っています。メモリを節約したいのですがダブルクォーテーションからシングルクォーテーションに変更したいです。 シングルクォーテーションを使って値を受け取ると何か制約うけることはありますか？ ※postなどは配列で受け取ることもあります $_COOKIE['id'] $_POST['sure_id'] $_REQUEST['page'] $_SESSION['id'] よろしくお願いします
PHPをはじめたばかり(2日目)のものです。文法は一通り勉強しました。関数はおいおい覚えていけばいいものだと思います。しかしPHP開発には関わった事がなく、基本的・一般的な作法を全く知りません。 個人的に作るものなので完全独自ルールでもいいのですが、人に見せても恥ずかしくないソースを書きたいと思っています。ですので、開発の現場で一般的に使われているルールを知りたいと思っています。これについて教えてください。 (1)共通のコードはどうするの？ 多くのページで共通に使うコード、たとえばHTMLのヘッダやメニューの出力処理などはどうするのかでしょうか。 ・すべてのソースに「<?php include './common/….php'; ?>」などと書くもの？ ・それ以外の方法もある？各ソースには何も書かず自動挿入されるAOP的な何かとか (2)printの使い方 「print($input_text)」と「print $input_text」どちらを使うか？カッコをつけたほうが他の言語の記述との整合性を取りやすいようにも思うのですが、絶対に使わない戻り値をわざわざ発生させるのもどうかなと思っています。開発現場ではどちらかに統一する事が多いのではないかと思いますが、その場合にどちらに統一している事が多いのでしょうか。 (3)「"」と「'」の使い分け 「"」と「'」の使い分けはするものなのでしょうか？するならどのように使い分けるのでしょうか？私はもともとJavaをやっていたので、必要ではない場合でもつい「"」を優先的に使ってしまいます。しかし役割を考えると、原則「'」を使い、変数やエスケープの展開が必要な時に意識して「"」を使う、とするほうが安全かなとも思います。でも面倒くさいから基本「"」を使い、展開したくない時だけ「'」を使うという風にしてもいいかなと思っています。この点は一般的なルールとしてどうする事が多いのでしょうか？あまり気にしないのでしょうか？ よろしくお願いします。
はじめまして。Sakuraのレンタルサーバを利用して、 WordPressをサーバにインストールしました。 目的は、ブログではなく、HPを作成することなのですが、 テーマの選択や固定ページの意味がわからず、 恥ずかしながら詳しい方に下記質問させてください。 １．WordPressはXAMPP上でも動きますか？（現在サーバにあります） ２．WordPressはMySQLは使えるのでしょうか？ ３．WordPressをアップロードするのに適したFTPを教えてください。 ４．その他、ご意見があればお願いします。 宜しくお願い致します。
テーブルの項目にblob型を作成し、 phpでテーブルから取得した画像を画面に表示させたいのですが、 以下のように表示させることは可能でしょうか？ test.php ---------- ここから画面 ---------------------------------------- 取得したblob型の画像その1.jpg 取得したblob型の画像その2.gif 取得したblob型の画像その3.png それぞれの画像の説明 ---------- ここまで画面 ---------------------------------------- テーブルへのデータ挿入はphpMyAdminから挿入しています。 header('Content-type: image/jpeg'); echo SQLで取得した値; のようにすればjpg画像は表示できましたが、gif画像とpng画像は表示できませんでした。 また、jpg画像のみを表示させることは出来ましたが文章を表示させることはできませんでした。 上記のように一つのphpファイルで複数表示させるのはできないのでしょうか？
プログラム初心者です 掲示板に2chのようなトリップをつけたいと思っています md5など、わからないので教えてください 質問1 md5、sha1、sha256などありますがこれはサーバーが違うと別の結果になるのでしょうか？ 質問2 md5でipから値を作るとプログラムわかる他の人に元のIPがわかってしまいますか？ $str = "127.0.0.1"; $str_md5 = substr(md5($str), 0, 30); $date_md5 = substr(md5(date("Y-m-d")), 0, 20); $key_md5 = substr(md5("samplekey"), 0, 10); $id_md5 = md5($str_md5 . $date_md5 . $key_md5); $id = substr(base64_encode($id_md5), 0, 8); echo $id; また、もっと良い方法があれば教えてください よろしく願いします
　　 こんにちわ PHP初心者です。 今ショッピングカートづくりをしています。 そこでピンチなのでご指導お願いいたします。 商品を発送する送り先情報を必要な数だけonclickで一件一件増やしもらって その情報を次のページで確認してもらうようにしたいのですが <script type="text/javascript" src="js/jquery.js"></script> <script type="text/javascript"> var tbl_cnt = 1; jQuery(document).ready(function($) { $('#add_btn').click(function() { var original = $('#form_set_' + tbl_cnt); tbl_cnt++; $(original).clone().insertAfter(original) .attr('id', 'form_set_' + tbl_cnt) .find('label').each(function(idx, obj) { $(obj).attr('for', $(obj).attr('for').replace(/_[0-9]+$/, '_' + tbl_cnt)); }).end() .find('input').each(function(idx, obj) { $(obj).attr({ 'id' : $(obj).attr('id').replace(/_[0-9]+$/, '_' + tbl_cnt), 'name' : $(obj).attr('name').replace(/_[0-9]+$/, '_' + tbl_cnt) }).val(''); }); }); }); </script> <form action="shop_check.php" method="post"> <table id="form1"> <tbody> <tr> <td><label for="okuriname">氏名</label></td> <td><input type="text" id="okuriname" name="okuriname[$i]"></td> </tr> <tr> <td><label for="okuriemail">email</label></td> <td><input type="text" id="okuriemail" name="okuriemail"></td> </tr> <tr> <td><label for="okuripostal1">郵便番号</label></td> <td><input type="text" id="okuripostal1" name="okuripostal1">-</td> <td><input type="text" id="okuripostal2" name="okuripostal2"></td> </tr> <tr> <td><label for="okuriaddress">住所</label></td> <td><input type="text" id="okuriaddress" name="okuriaddress"></td> </tr> <tr> <td><label for="okuritel">電話番号</label></td> <td><input type="text" id="okuritel" name="okuritel"></td> </tr> </tbody> </table> <input type="button" value="送り先の追加" id="add_btn"><br> <input type="submit" value="送信" name="submit"> </form> この後どのようにしたら次のページで 複数の情報を受け取ればいいのでしょうか？ （javascriptはweb上にあったものを引用してます。） javascriptの事もわかっていませんなのでお手柔らかにおねがいします。
ＰＨＰ初心者です。 下のコード（http://codepad.viper-7.com/GRF0Q4からのコピペ）の意味を理解しようと 調べているのですが、よく（まったく）分かりません。 詳しくご説明願えないでしょうか。 よろしくお願いします。 <?php // 検索キーワード $keywords = 'PHP 初心者'; // 検索APIを叩くURL $url = 'http://ajax.googleapis.com/ajax/services/search/ … . urlencode($keywords); // 取得してオブジェクト化 $object = json_decode(file_get_contents($url)); // ダンプして表示 header('Content-Type: text/plain; charset=utf-8'); var_dump($object); ?>
２週間ほど前からＰＨＰを独学で勉強を始めました。 色々なＰＨＰ初級者勉強サイトや本を見ながら四苦八苦しているのですが データベースのｍｙＳＱＬなどの項目が出てくるたびに そこで勉強を止めています。 まだ十分にＰＨＰを理解できておらず シンプルな例題の流れがやっと多少理解できるようになり始めた程度なのですが そういうレベルでも先にｍｙＳＱＬの勉強を始めたほうが良いのでしょうか？ それともある程度のレベルまでＰＨＰを勉強して シンプルでもある程度のＰＨＰプログラムが自分で書けるようになって それからｍｙＳＱＬの勉強を始めたほうが良いのでしょうか？ ちなみにデータベース自体の知識は全くありません。 あと色々なｍｙＳＱＬの初心者入門サイトを見ると 「コマンドプロンプト」からの操作でｍｙＳＱＬの勉強解説が されています。 ＸＡＭＰＰと一緒にインストールされたｍｙＳＱＬを見ると コマンドプロンプトでの操作ではなく エクセルのような画面での操作のようになっています。 ｍｙＳＱＬの数年前と最新版のバージョンの違いだと思うのですが、 仕様ががなり違うのか 今更コマンドプロンプト操作での勉強は効率がよいのかなと 不安になってしまいます。 不安になっても勉強するしかないことは分かっていいるのですが データベースの知識のない初学者が 今からｍｙＳＱＬを勉強するにあたって お勧めのサイトがあればご紹介ください。 よろしくお願いいたします。
PHPでMYSQLを使いってログインフォームを作ったのですが 画像の上の方ようなテーブルを作りPHP側のログインフォームでログインしてもらい 画像のusernameの[S]でログインしたらIDとFirst NameとLast NameをPHPで 画像の下の方のように表示するようにしたいのですが echo "<tr><th>ID</th><th>USERNAME</th><th>First Name</th><th>Last Name</th></tr>"; $st = ("select * from kd3musers where username='$username'"); (この間) echo "<tr><td>$id</td><td>$username</td><td>$first_name</td><td>$last_name</td></tr>"; （この間）の中身がわかりません。 別の書き方や、わかる方がいましたらよろしくお願いします
初心者な質問で恐縮です。 別のサイトに存在するHTMLに記述された文字を取得して、こちらのPHPに埋め込んで表示（書き出す）には具体的にどうしたら良いでしょうか…。 仮に取得するHTMLは、 www.hogehoge.com/indexhtml とします。ここには「あいうえお」としか記述はありません。 headなどもありません。 この文字列を、 www.mogemoge.com/indexphp の指定した場所に表示するにはどうしたら良いでしょうか？ 調べてみながら、includeというキーワードがあったので試すのですがエラーばかり表示されてしまします。なお、www.mogemoge.com/indexphp　側には echo $aiueo; 的な感じでスタンバイしているのですが・・・。 どなたかアドバイス頂けないでしょうか。 宜しくお願いします。
PHPでプログラムを開発しています。 基本中の基本で申し訳ありません。 下のような記述の意味が分からないのですが、どなたか教えて頂けませんか。 $DbPaPostOrderID3[$lCnt0][$lCnt1] 普通、$DbPaPostOrderID3という配列から要素を取り出す場合には、[$lCnt0]というものが一つあれば事足りると思うのですが。意味が分かりません。 どんな場合に、必要なのでしょうか？ また、どのようなキーワードで調べるべきでしょうか？ 「配列　括弧　複数」のようなキーワードでは出てきませんでした。 すみませんが、よろしくお願いします。
<?php if(a > b){ echo "<p>hello!</p>"; }else{ echo "<p>see you!</p>"; } ?> こういう事ってよくあると思いますが、一々echoなどを使ってhtmlを吐き出させるのはあまりスマートに感じません。 他にやり方はあるのでしょうか？
このジャンルでお願いします。 始点（lat1, lng1）と始点から 北向きが０度として角度は分かっています。 そこから例えば角度６０度、１．５ｍの距離の緯度経度（終点）が知りたいのですが、 どのようなプログラムになるのでしょうか？
wordpressのBackWPupプラグンでバックアップDropbox無料しているのですが、容量が多くなり、容量オーバーになったので、FTPにバックアップしようと考えています。 そこで、設定しようと思い、Job Destinationの設定箇所の Backup to FTPにチェックしようと思うのですが、チェック部分が薄いチェックになり選択できません。横に、Missing function "ftp_login". コメントがあるのですが、どうすればチェックできるようになるのでしょうか。 さくらサーバー（スタンダード） mysql 5.5とphp 5.4.22Perl 5.14.4バージョンを最新にしました。
<html> <head> <meta "charset=utf-8" /> <title>P62Nowdoc</title> </head> <body> <?php $age = 15; $foo = <<<'EOI ' Nowdoc(ナウドック)では終端識別子をシングルクオートで囲みます。 複数行にわたる文章をそのまま表記することができます。 Tom の年齢は "$age" 歳です。 この $age は展開されず、 $age のまま出力されます。 EOI; class NowDocTest { const DOCUMENT1 = <<<'EOI' 変数やエスケープ文字を展開しないため、文字列がパースされません。 このため、constに指定できます。 EOI; const DOCUMENT2 = <<<EOI PHP 5.3 からは、変数を含まない、または、ドル文字が適切にエスケープ されていれば、ヒアドキュメントもconstに指定できます。 ドルを含んだ文章は、 \$foo のようにドル文字をエスケープします。 EOI; } ?> </body> </html> 　以下実行結果です。　 Parse error: syntax error, unexpected '<<' (T_SL) in C:\xampp\htdocs\study.localhost\P62Nowdoc.php on line 12
http://www.pken.com/flashgame/game5/game5.html からタイピングゲームの部分のURL割り出してくれませんか？
こんばんわ。ＰＨＰ初心者（ど素人）です。 グーグルの検索窓にキーワードを打ち込み、検索結果を得る、というプログラムを作りたいです。キーワードは事前にこちらが与えておくものとします。 ……ＰＨＰのプログラムが、グーグルの検索窓にキーワードを打ち込むということはできるのでしょうか？ よろしくお願いします。
環境は linux+Apache+php になります。 ファイルのアップロードサイズについてですが、php.iniに post_max_size = 8M upload_max_filesize = 4M 等の記載がなく、またhttpd.confも AllowOverride none （.htaccessファイル　無効？） になっていた場合、アップロードできるサイズの制限はデフォルトの post_max_size = 8M upload_max_filesize = 2M になるのでしょうか？ AllowOverride all の設定で、httpdファイルに記載が無い場合などは調べられたのですが htaccessが無効の場合がちゃんと調べられなくて、 デフォルトだろうなと思いながらも、知識のある方に教えていただきたく、 質問させていただきました。 よろしくお願いいたします。
ちょっと変な障害に直面して困っています。 PHP（5.4.7）とJavascriptでアプリケーションを作っています。 データベースはMySQL（5.5.27）です。 あるプロジェクトの中で、顧客，担当者，取引の３つの情報に「メモ」欄が あって、画面上ではTextareaで複数行入力できるようになっています。 Enterキーの入力も許していて改行できるようになっています。 改行情報「\r\n」をそのまま表示するとエラーになりますので、 PHP側で「\n」に変換しています。 それぞれ、こんな感じです。当然別クラスです。 【顧客情報】 $memoCustomer = str_replace("\r\n", '\n', $row["memoCustomer"]); 【担当者情報】 $memoPerson = str_replace("\r\n", '\n', $row["memoPerson"]); 【取引情報】 $memoTrading = str_replace("\r\n", '\n', $row["memoTrading"]); ところが、どうしても 【取引情報】 $memoTrading = str_replace("\r\n", '\n', $row["memoTrading"]); ではちゃんと変換せず、JSONで渡したデータについてJavascriptでエラーに なってしまいます。 【顧客情報】を表示するときはFirebugのコンソールには以下のように出力され、 memoCustomer には　"やだな\nどおよ\nでもね\n"　とちゃんと「\n」が セットされています。 [{"customerId":"1325","customerName":"AAA物産","customerRyaku":"AAA物産","customerYomi":"エーエーエー","zip":"","jusyo1":"","jusyo2":"","categoryTrading":"取引","memoCustomer":"やだな\nどおよ\nでもね\n","insertDateCustomer":"2013/06/20","updateDateCustomer":"2014/02/04","validFCustomer":"有効"}] 【取引情報】では見た目には改行されていますが、「\n」がはさまれておらず、Javascript側でエラーになります。 修","stamp":"","testCost1":"0","testCost2":"0","testCost3":"0","afTrustCost":"0","afCoordinateCost":"0","otherCost":"0","totalCost":"0","memoTrading":"どうよ だから いいでしょ ","insertDateTrading":"2014/02/04","updateDateTrading":"2014/02/04","validFTrading":"有効"}] 当然ここで登録時のプログラムが疑われるわけですが、３つとも全く同じに、Textarea の内容を何ら編集することなく パラメータで渡しているだけです。 これはローカルでテストとしている環境ですが、稼働サーバにデプロイしても同様の結果となります。 何かヒントがありましたら教えて下さい。 よろしくお願いします。 PHPのソースは以下です。 <?php require_once '../../code/common/DBAccess.php'; $tradingId = null; if(isset($_GET["tradingId"])) { $tradingId = $_GET['tradingId']; } $sql = "SET NAMES utf8"; mysql_query($sql, $conn); $sql = "SELECT * FROM tbl_trading WHERE tradingId = '" .$tradingId. "'"; $res = mysql_query($sql, $conn); $result = "["; while($row = mysql_fetch_array($res)){ // 「登録日」のFormat変換と空白処理 $insertDateTrading = date_create($row["insertDateTrading"]); $strInsertDateTrading = date_format($insertDateTrading, 'Y/m/d'); if($strInsertDateTrading == "1700/01/01"){ $strInsertDateTrading = ""; } // 「更新日」のFormat変換と空白処理 $updateDateTrading = date_create($row["updateDateTrading"]); $strUpdateDateTrading = date_format($updateDateTrading, 'Y/m/d'); if($strUpdateDateTrading == "1700/01/01"){ $strUpdateDateTrading = ""; } // 格納されている改行コード \r\n(CR+LF) から \n(LF) に変換 $memoTrading = str_replace("\r\n", '\n', $row["memoTrading"]); $result = $result. "{\"tradingId\":\"" .$row["tradingId"]. "\",\"customerId\":\"" .$row["customerId"]. "\",\"subject\":\"" .$row["subject"]. "\",\"personCompany\":\"" .$row["personCompany"]. "\",\"status\":\"" .$row["status"]. "\",\"situation\":\"" .$row["situation"]. "\",\"orderSheet\":\"" .$row["orderSheet"]. "\",\"billSubject\":\"" .$row["billSubject"]. "\",\"bookFee\":\"" .$row["bookFee"]. 一部省略 "\",\"taxFee\":\"" .$row["taxFee"]. "\",\"otherFee\":\"" .$row["otherFee"]. "\",\"taxTreatment\":\"" .$row["taxTreatment"]. "\",\"traficRoute\":\"" .$row["traficRoute"]. "\",\"subjectDetail\":\"" .$row["subjectDetail"]. "\",\"stamp\":\"" .$row["stamp"]. "\",\"otherCost\":\"" .$row["otherCost"]. "\",\"memoTrading\":\"" .$row["memoTrading"]. "\",\"insertDateTrading\":\"" .$strInsertDateTrading. "\",\"updateDateTrading\":\"" .$strUpdateDateTrading. "\",\"validFTrading\":\"" .$row["validFTrading"]. "\"},"; } $len = strlen($result); if($len != 1){ $result = substr($result,0,($len - 1)); } $result = $result. "]"; echo $result; mysql_free_result($res); ?>
PHP初心者です 既存システムの改修をしています。 index.phpにタグにおいて画像ファイルのパスを指定しています 今回画像ファイルを移動したのですが現状のパスでも移動したパスでも画像が表示されます ざっくりな質問で申し訳ないですが、現状パスでも表示される理由をご教示ください eclipceで開発しております
お尋ねします。 CakePHP 1.3 の $uses は extends ですか？ モデルの中からは、コントローラのメソッドは、やはり使えませんか？
プログラム初心者です 繰り返し処理の中でtry～catchにスローしてもいいでしょうか？（正常にfor文は終了しますか？） try { for($a = 0; $a < 5; $a++) { if($a==3){ throw new Exception('3'); } } catch (Exception $e) { $msg = $e->getMessage(); } よろしくお願いします
初めて、phpでサイトを作っていますが、ある点でつまづいておりご教授頂けますとありがたいです。 現在画像掲示板のようなサイトを制作しているのですが、カテゴリーのフォルダ分けをどうしたらいいのかわからず悩んでいます。 現在サーバー上には category1（フォルダ） - index.php（カテゴリーページ） - gazou.php（カテゴリー内の画像詳細ページ） category2 - index.php - gazou.php category3 - index.php - gazou.php という形でフォルダ分けしておりますが、index.phpやgazou.phpはどのカテゴリーフォルダ内でも同じ内容となっております。これを1つのフォルダで動的？に作る事、見せる事は可能でしょうか？ サーバー上に category - index.php - gazou.php だけで全てのカテゴリーに適応させる方法があれば教えて頂けると助かります！ 宜しくお願いいたします。
また、馬鹿な質問をしてすみません_ _ 　http://oshiete1.watch.impress.co.jp/qa8456677.html の続きですが、　１０行目に 「その終端識別子が出現するまでを文字列とします。」 　とありますが、その中に「出現”する”まで」を逆に考えると 「出現”しない”まで」がるあると言うことでしょうか？　 　もしあるのでしたら、どんなことなのでしょうか！？ 　　 宜しくお願いいたします。
　以下PHP参考書の　ヒアドキュメント　の説明すが、その中に、「終端識別子」とあります。 　「終端識別子」とは何のことなのでしょうか！？　 　　もし、以下の説明の中に「終端識別子」があるのでしたら、何にあとるのですか！？　 　私は読解力にかけるので分かりません！？ 　　宜しくお願いいたします。 　 P61　ヒアドキュメント 　 　PHPでは複数行又がる長い文字列を手軽に利用する方法として、シングルクオートとダブル クオートのほかにヒアドキュメントという方法があります。ヒアドキュメントはヒアドキュメント 構文（<<<）のあとに終端識別子を定義し、その終端識別子が出現するまでを文字列とします。 　終端識別子は必ず行頭から始まり、直前に空白（インデント）を含めず、すぐに改行する必要が あります。また、ヒアドキュメントの中では、ダブルクオートと同様に変数が展開されます。また、ダ ブルクオートはそのままダブルクオートになります。 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 　<?php $age = 15; ＄foo = <<<EOI ヒアドキュメントでは、このように、 複数行にわたる文章をそのまま表記することができます。 Tom の年齢は "$age" 歳です。 EOI; ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ もちろん、ダブルクオートで通常の文字列を定義するように、複数行にまたがる文字列を定義す ることもできます。しかし、文章の中にダブルクオートが含まれる長い文章などでは、いちいちダブル クオートにエスケープ(\")が必要となり、これで不便な場合があります。ヒアドキュメントは、た とえばHTMLのテンプレートを記述したり、コマンドラインのヘルプ文を作成するなどに役立ち ます。
お世話になります。 <img src="">や<video><source src=""></video>等のリソースファイル(src)を暗号化・難読化する方法を探してます。 base64を使った方法を試みました。 しかし、ファイルの容量が大きいと、 読み込みに時間がかかる。・サーバーに負荷がかかる。・ファイル容量並みのメモリ容量を必要とする。 があり諦めました。 <video width="640" height="320" controls="controls"> <source src="data:video/mp4;base64,<?php $file = 'video.mp4'; echo base64_encode(file_get_contents($file)); ?>" type="video/mp4"> </video> 他に良い方法はありませんでしょうか？
PHP新参者です。 現在、PHPでRPG風の簡易戦闘システムを作成しているのですが、永久ループに陥ってしまい、悩んでいます。 条件として、自分も敵も1体ずつ、HPはお互いに1000、相手の行動パターンは現在2パターン(攻撃or必殺)、自分の行動パターンは攻撃、特技、道具、逃げる(今はまだ攻撃と逃げるの2パターンしか作成していません。)となっています。 一応、仕様としては 名前の入力ページで主人公と敵の名前を設定、その後、コマンドを選択して自分→相手→自分のターン形式で行動していく、というシステムになっており、主人公が逃げる、もしくはどちらかのHPが0になった時点で終了し、タイトルに戻る、という予定です。(タイトルに戻る処理などはまだ未記入です) 名前の変数については、更新時も受け渡すことはできたのですが、記述ミスのせいで、HPの変数の受け渡しやターン毎の行動がリセットされてしまう（ボタンを押す度に前のターンの行動履歴が消滅してしまう)問題といった問題点が残っている状態です。 正直、どこを直せば正確に動作するのか、1週間ほど悩んでいます。 御教授をお願いします。質問下手ですみません。 <?php $command = 0; $myna = trim($_GET[ 'myna' ]); $enena = trim($_GET[ 'enena' ]); echo"<form method = \"GET\" action = \"dice.php\" name =\"form1\">"; if(isset($_POST["sub1"])){ $kbn = htmlspecialchars($_POST["sub1"],ENT_QUOTES,"UTF-8"); switch($kbn){ case "攻撃": $command=1; $enena=trim($_GET['enena']); $myna=trim($_GET['myna']); $myHP=trim($_GET['myHP']); $eneHP=trim($_GET['eneHP']); $turn=trim($_GET['turn']); break; case "特技": $command=2;$enena=trim($_GET['enena']); $myna=trim($_GET['myna']); $myHP=trim($_GET['myHP']); $eneHP=trim($_GET['eneHP']); $turn=trim($_GET['turn']); break; case "道具": $command=3;$enena=trim($_GET['enena']); $myna=trim($_GET['myna']); $myHP=trim($_GET['myHP']); $eneHP=trim($_GET['eneHP']); $turn=trim($_GET['turn']); break; case "逃げる": $command = 4; $enena=trim($_GET['enena']); $myna=trim($_GET['myna']); $myHP=trim($_GET['myHP']); $eneHP=trim($_GET['eneHP']); $turn=trim($_GET['turn']); break; default: echo"エラー"; exit; } } echo"</form>"; echo"<form method=\"POST\" action=\"\">"; echo "<input type=\"submit\" value=\"攻撃\" name=\"sub1\"/>"; echo "<input type=\"submit\" value=\"特技\" name=\"sub1\"/>"; echo "<input type=\"submit\" value=\"道具\" name=\"sub1\"/>"; echo "<input type=\"submit\" value=\"逃げる\" name=\"sub1\"/>"; echo "</form>"; echo "<br />"; echo "<br />"; $myHP = 1000; $turn = 1; echo "第"; echo"$turn"; echo"ターン"; echo "<br />"; echo "<br />"; for($eneHP=1000;$command!=0;$turn++){ if($command == 1){ $puttern = rand(1, 4); $dice1 = rand(1, 100); $dice2 = rand(1, 100); $dice3 = rand(1, 100); $kaishin = rand(1, 4); $damage = ($dice1 + $dice2 + $dice3)/3; if($kaishin == 4) $damage = $damage + 100; $eneHP = $eneHP-floor($damage); echo "$myna の攻撃！"; if($kaishin == 4) echo"会心の一撃！"; echo "<br />"; echo floor($damage); echo"のダメージを与えた！"; } if($command == 4){ echo "$myna は逃げた！"; break; break; break; break; } echo"<br />"; if($eneHP <= 0){ echo"$enena を倒した！"; break; break; }else echo"$enena HP $eneHP/1000"; echo"<br />"; echo"<br />"; if($puttern == 1 | $puttern == 2 | $puttern == 3){ $dice1 = rand(1, 100); $dice2 = rand(1, 100); $dice3 = rand(1, 100); $kaishin = rand(1, 4); $gotdamage = ($dice1 + $dice2 + $dice3)/3; if($kaishin == 4) $gotdamage = $gotdamage + 100; $myHP = $myHP-floor($gotdamage); echo "$enena の攻撃！"; if($kaishin == 4) echo"痛恨の一撃！"; echo"<br />"; echo floor($gotdamage); echo"のダメージを受けた！"; }else if($puttern == 4){ $gotdamage = $myHP/2; $myHP = $myHP-floor($gotdamage); echo "$enena の必殺技！"; echo "<br />"; echo "$myna の体力は半分まで削られた！"; } echo"<br />"; if($myHP <= 0){ echo"$myna は死んでしまった…！"; break; break; }else{ echo"$myna HP $myHP/1000"; } $command = 0; } echo"<br />"; echo"<br />"; ?>
$str = "ブックbook01本comicこみっく123"; のような2バイト文字と英数字が混在している文字列があります。 これを2バイト文字と英数字で分割して 1. 配列に入れる方法 　　→Array('ブック', 'book01', '本' 'comic', 'コミック', '123') 2. 間に空白を入れる方法 　　→"ブック book01 本 comic こみっく 123" の両方の処理の仕方を教えて下さい。
Array => [0] => Array 　['id'] => '10' 　['size'] => Array 　　['height'] => '25.1' 　　['width'] => '10.6' 　　['length'] => '15.7' 　['name'] => 'shose' 　['comment'] => '' [1] => Array 　['id'] => '10' 　['size'] => Array 　　['height'] => '25.1' 　　['width'] => '10.6' 　　['length'] => null 　['name'] => 'paper' 　['comment'] => 'color is red' 　 上記のように配列の中の要素の値が全てstring型で、値がない要素だけnullという配列があります。 この配列の全ての文字列を、 　整数に変換可能ならint型に変換 　浮動小数点型に変換可能ならfloat型に変換 　数値に変換不可能ならstring型のまま 　nullの場合はnullのまま にキャストしたいのですがどのようなコードになるのでしょうか？ ネストの深さは一定ではありません。 よろしくお願い致します。
現在wordpressでのサイト構築をしております。 カスタム投稿を使用して、Q&Aや新着情報を作成したいと思っております。 カスタム投稿で作成した記事内容だけを利用し、アーカイブページを作成して利用するつもりです。 この際、シングルページは不要となります。 内容が大量となるため、無駄なページは生成させたくないと思っております。 調べたところ http://ja.forums.wordpress.org/topic/1828 この質問内容が私の疑問と合致するのですが、 こちらの解決方法は、リダイレクトにて解決しております。 そもそもシングルページを生成しないという方法はないのでしょうか。 以上、よろしくお願い致します。
foreach ($val as $v=>$key)の=>はどのような意味なのでしょうか？ google検索では=>が記号のため検索できません。 使い方と機能を教えて下さい。 どうぞよろしくお願い致します。
お世話になります。 PHPでmysqlのデータをhtmlで表示するソースを組んでいます。 初心者なもので、サンプルを見ながら組んでいるのですが、 そのサンプルがmysql_queryなどを使っていました。 しかし、今は推奨されず、mysqli_queryなどを使うとか。 そこで、単純にiを付け加えただけなのですが、そう簡単に 行きませんでした。 どの部分をどのように修正すればよいのかを教えてください。 ------------------------------------------------- <?php header("Content-Type:text/html;charset=SHIFT_JIS"); ?> <HTML> <HEAD> <TITLE></TITLE> </HEAD> <BODY> <?php $srv = "localhost"; // サーバー名 $id = "xxxxx"; // ユーザーID $passwd = "xxxxx"; // パスワード $dbn = "sample"; // データベース名 $sql = "SELECT * FROM sample1"; // SQL文 // データベースに接続する $db = mysql_connect($srv,$id,$passwd); mysql_select_db($dbn,$db); $rs = mysql_query($sql,$db); $num = mysql_num_fields($rs); //--- テーブルのレイアウト --- 開始 -----------------------> print("<TABLE border='1'><TR>"); for($i=0; $i<$num; $i++) { print("<TH>".mb_convert_encoding(mysql_field_name($rs,$i),"SJIS","EUC-JP")."</TH>"); } print("</TR>"); while($row = mysql_fetch_array($rs)) { print("<TR>"); for($j=0; $j<$num; $j++) { print("<TD>".mb_convert_encoding($row[$j],"SJIS","EUC-JP")."</TD>"); } print("</TR>"); } print("</TABLE>"); mysql_free_result($rs); mysql_close($db); //--- 終了 ---> ?> </BODY> </HTML> ---------------------------------------------- 他サイト様からの引用ですが、何卒よろしくお願いいたします。
久しぶりにPHP(5.3.28)をやってますが、あれ？ということが多くて困惑しています。 関数からの戻り値が配列の時、そのまま配列の要素にアクセスしようとすると アクセスすることができません。 一旦変数に保存することによって制御可能になるのですが、変数に保存する 必要がなく、立て続けに処理を記述したいと考えた場合にそれが行えません。 可能になる文法はあるのでしょうか？ <?php function getArray() { return array("a", "b", "c", "d"); } // OK $a = getArray(); echo $a[0]; // NG echo getArray()[0];
　参考書の内容の質問です。 p60 　3.1.4 文字列 　PHPにおいて文字列は、後に説明する配列と並んで非常に重要な役割を果たします。PHPでは、 多くのものが文字列で表現されます。たとえば、PHPには正規表現リテラスが存在しないため、正 規表現を用いた処理を行う場合、正規表現を表す文字列を指定します。また、文字列を操作する 関数も非常の多くあり、たいてい処理は自分で実装せずともPHPが標準で用意してくれています。 　正規表現を用いた処理を行う場合、正規表現を合わす文字列を指定します。また、文字列を操作する関 数も非常の多くあり、たいてい処理は自分で実証せずともPHPが標準で用意してくれます。 　PHPはすべて可変長文列であり、C言語のchar型のような、文字型は存在しません。 　文字列は、シングルクオート「'」またはダブルクウオート「"」を用いて※初期化する　ことができます。 シングルクオートを用いた場合、文字列中のドル文字(＄)文字から始まるPHPの変数や、\nや\tなど どのエスケープ文字の展開はされません。一方、ダブルコートの中の変数やエスケープ文字は展開 されます。 　<?php $string1 = 'this is string' ; $string2 = "this is string" ; $string3 = 'hi, $string2 \n' ;　　　　//「hi,$string2 \n」 $string4 = "hi,$string2 \n" ;　　　　//「hi,this is string<改行>」 　 　以上ですが、※の初期化することができます。とありますが、　ここでいう初期化とは、どんな事なのでしょうか！？ 　以上、宜しくお願いいたします。
wordpress3.8.1で作業しています。 会社のHPの作成用途でwordpressを使用しています。 何度か作成経験がありphpもなんとなく分かっているのですが、ここだけ解決せずです。 トップページにスライドショーのプラグインを入れたのですが動きません。 プラグインはWP-Cycleというプラグインです。 function.phpにはまだ何も記載していません。 header.phpはこんな感じの記載です。 ******************************************* <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitio … <html <?php language_attributes(); ?>> <head> <meta charset="<?php bloginfo( 'charset' ); ?>" /> <meta name="description" content="<?php bloginfo( 'description' ); ?>"> <title><?php bloginfo('name'); ?> <?php if ( is_single() ) { ?> &raquo; Blog Archive <?php } ?> <?php wp_title(); ?></title> <link rel="shortcut icon" href="<img src="<?php bloginfo('template_url'); ?>/images/favicon.ico" /> <link href="<?php bloginfo('stylesheet_url'); ?>" rel="stylesheet" type="text/css" /> <?php wp_head(); ?> </head> <body> <a name="pagetop_here"></a> <div class="wrap"> <div class="header"> <h1 class="h_logo"><a href="<?php echo esc_url( home_url( '/' ) ); ?>"><img src="<?php bloginfo('template_url'); ?>/images/h_logo.png"/></a></h1> <ul class="h_nav"> <li><a href="<?php echo esc_url( home_url( '/' ) ); ?>"><img src="<?php bloginfo('template_url'); ?>/images/h_01.png"/></a></li> <li><a href="<?php echo esc_url( home_url( '/news' ) ); ?>"><img src="<?php bloginfo('template_url'); ?>/images/h_02.png"/></a></li> <li><a href="<?php echo esc_url( home_url( '/about' ) ); ?>"><img src="<?php bloginfo('template_url'); ?>/images/h_03.png"/></a></li> <li><a href="<?php echo esc_url( home_url( '/works' ) ); ?>"><img src="<?php bloginfo('template_url'); ?>/images/h_04.png"/></a></li> <li><a href="<?php echo esc_url( home_url( '/faq' ) ); ?>"><img src="<?php bloginfo('template_url'); ?>/images/h_05.png"/></a></li> <li><a href="<?php echo esc_url( home_url( '/company' ) ); ?>"><img src="<?php bloginfo('template_url'); ?>/images/h_06.png"/></a></li> <li><a href="http://ameblo.jp/ecoblue-smile/" target="_blank"><img src="<?php bloginfo('template_url'); ?>/images/h_07.png"/></a></li> <li><a href="<?php echo esc_url( home_url( '/contact' ) ); ?>"><img src="<?php bloginfo('template_url'); ?>/images/h_08.png"/></a></li> </ul><!--h_nav--> </div><!--header--> ******************************************* <?php wp_head(); ?>を無効にして外部の jqueryを読み込むにすると、スライドはおろか、縦に並んでしまいます。（cssが効いていないみたいです。） どこが原因なのかも分からないです。 ただ過去に同じheader.phpで同じプラグインが実装しています。 よろしくお願い致します。
お世話になります。 【Jquery】 $("#aaa").click(function(){ $(this).css("opacity","1"); }); 【HTML】 <div id="aaa"> <p>hogehoge</p> <p>hogehoge</p> <input type="text" name="hoge"> </div> <div id="aaa"> <p>hoge2hoge2</p> <p>hoge2hoge2</p> <input type="text" name="hoge2"> </div> 上記の2つのdivでそれぞれのdiv内をクリックするれば、そのdiv内のみCSSが適用されるのですが、inputをおした時は発火しないようにすることはできますでしょうか？ $("#aaa").not(":input"）　としてみたのですが、$(this)の値が変わるためDIVが変化しなくなりました。 反対に「$(this).css」を「 $("div#aaa").css」にすると2つのDIVに同時に適用されてしまいます。 何か良い方法がありましたらよろしくお願い致します。 ※子要素であれば$(this)の下に「.find('input～）」と加えて行けばいいと思うのですか上に遡るにはどのような方法がよいのでしょうか？
PHPマニュアル http://www.php.net/manual/ja/function.fopen.php 上記ページの >> Windows ベースのシステムでは \r\n を使用します。 マッキントッシュベースのシステムでは \r を使用します。 間違った改行コードでファイルに書き込むと、 他のアプリケーション上でそのファイルを開いた際に変な風に見えてしまいます。 Windows上では、\nを\r\nに透過的に変換する text-mode変換フラグ('t')が提供されます。 それに対し、'b'を使って強制的にバイナリモードにすることもできます。 その場合データの変換はされません。 このフラグを使用するには、'b' または 't'を mode引数の最後に追加してください。 とある様にPHPにおいてfopen関数の第二引数のモードに付加する場合のバイナリモードとは windows系プラットフォームにおいて書き込む文字列内に[¥n]というバイトがあった場合、プラットフォームにあわせて 自動的に書き出す際に¥r¥nに変換されるから・・・・。 という意味ですよね。 例えば、あるバイナリファイルに奇跡的に[¥n]というバイトがなかった場合、fopen("test.jpg","rw");でもよいということですよね？
・下記のようなJSON多次元オブジェクト(？)を配列へ変換したいのですが、どうすれば良いでしょうか？ ・json_decode試したけどうまくいきませんでした ・出来れば、data以下だけを配列で取得したいです array(1) { [0]=> string(1284) {"version":1,"req_id":null,"error":null,"data":[ {"name":"Sad","j_title":"A","id":"23","thumb":"hoge1","date":"2009","title":"Ch","url":"hoge2"}, {"name":"Wil","j_title":"r","id":"30","thumb":"hoge3","date":"2013","title":"Po","url":"hoge8"} ]} [1]=> string(1282) {"version":1,"……
プログラム初心者です 検索機能をつける方法を教えてください 質問1 like検索のLIKE “%value%”でもインデックスを使う方法はありますか？それともインデックスを使わなくても十分速いのでしょうか？ 質問2 複数キーワードをスペースをはさんで検索してきた場合、どうやって処理すればいいのでしょうか? and検索のみです 例えばこんな文字の場合です $search = 'ああ いい うう'; $recordSet2 = mysqli_query($link,sprintf('SELECT * FROM table where name LIKE "%%%s%%"', $search )); while($row = mysqli_fetch_assoc($recordSet2)){ ?> <tr> <td><?php print $row['name']; ?></td> </tr> <?php } ?> よろしくお願いします
プログラム初心者です $nameと$mailをDBに登録してあるか調べたいのですが sqlを一回だけ発行で調べる方法はありますか？ //名前とメールを取得して重複チェック $name2 = mysqli_query($link,sprintf('SELECT name FROM table WHERE name="%s"', mysqli_real_escape_string($link,$name) )); $data = mysqli_fetch_assoc($name2); if(isset($data['name'])==$name){ throw new Exception('noname'); } $name3 = mysqli_query($link,sprintf('SELECT mail FROM table WHERE mail="%s"', mysqli_real_escape_string($link,$mail) )); $data2 = mysqli_fetch_assoc($name3); if(isset($data2['mail'])==$mail){ throw new Exception('nomail'); } よろしくお願いします
プログラミング初級者です。 phpのweb上でのデータベース検索プログラムを作りたいのですがうまく機能しません。 材料名を入力するとその材料を使用した料理名が出てきてその結果にリンクを張り詳細ページに飛ぶというものを作りたいのですが、検索プログラムの組み方が分かりません。データがすべて出てきてしまいます。 どうしたらよいのでしょうか。 データベース名：DB1 テーブル1：z_n(中身…材料コード.z_c、材料名.z_n) テーブル2：r_n(中身…料理コードr_c、料理名r_n) テーブル3:r_zn(中身…料理コード、材料コード、材料の量z_r、材料の単位z_t、人数z_n） <!DOCTYPE html> <?php if(empty($_POST)){ echo"処理終了"; exit;} session_start(); ?> ー省略ー <section> <h1></h1> <article> 検索結果<br> <?php $dbtype="mysql"; $sv="localhost"; $dbname="DB1"; $user="kk"; $pass="himitu"; $dsn = "$dbtype:dbname=$dbname;host=$sv"; $conn = new PDO($dsn, $user, $pass); $seach = $_POST["seach_key"]; $sql = " SELECT * FROM z_n, r_zn,r_n where (z_n.z_c = r_zn.z_c) and (r_zn.r_cd = r_n.r_c);"; $stmt = $conn -> prepare($sql); $stmt -> execute(); while($row=$stmt->fetch()){ echo "<br>{$row["z_n"]}{$row["r_n"]}"; } ?> <?php } ?> ー省略ー select文があいまいで困っています。どうかよろしくお願いします
皆さんにお聞きしたいのですが、私が使っているレンタルサーバーで 下記のように記載したphpファイルをアップしたら画面が真っ白のまま ヘッダ情報を取得出ませんでした。 <?php $headers = @get_headers( 'http://www.yahoo.co.jp' ); print_r($headers); ?> どうして取得でないのかわかる方がいましたら教えてください。 よろしくお願いします。
PHP初心者です。 PHPを使ってRSSコードから画像取得をしたいと考えていますが、 <content:encoded>や<description>以外の要素を見て抜き出すことはできないのでしょうか？ 例えばこのRSSコード内の http://ch.nicovideo.jp/kindan-nama/live?rss=2.0 <nicoch:live_thumbnail>の要素を見て http://live.nicovideo.jp/thumb/175454.jpg ↑この画像を取得することはできないのでしょうか？ 調べているうちにRSSは全ての情報を提供してくれているわけではないということは分かってきましたが、 RSSコードを見てどこからどこまでが提供されているのかが分からず... 何卒よろしくお願い致します。
最近PHP+mysqlの勉強を始めて、入門書片手に試行錯誤している状況です。 phpで検索ボックスを作って、データベースから名前を引っ張ってきたいのですが、うまくいきません… 因みに同じページに表示したいと思っています。 あと、多分使っている関数が古いとは思いますが、PDOやmysqliとかにすると今より更に知識不足でエラーになってしまうので、とりあえず古いままで使っていますが気にしないでください… データベース名：mydb テーブル名：table id |　name　| ---+------------+-- 1 | 名前太郎 | 2 | 氏名太郎 | 3 | 名字一郎 | 4 | 名前五郎 | 5 | 氏名花子 | こういうテーブルがあったとして、 名前　というキーワードで検索したときに、セレクトボックスに 名前太郎と名前五郎の２つが表示できたらと思っています。 根本的に間違っているのかもしれませんが、どのように変えればいいのかご教示いただけると幸いです。 何卒よろしくお願い致します。 <?php ちょっとした別の処理～省略 print <<<_FORM_ <label for="name_search">名前検索</label> <form action="" method="post"> <input name="u_name" type="text" id="u_namae" value="" /> <input type="submit"> </form> _FORM_; if (isset($_POST['u_name'])){ $kensaku = htmlspecialchars($_POST['u_name']); $kensaku = "'%". $kensaku ."%'"; require_once('dbconnect.php'); $sql = sprintf("SELECT * FROM table WHERE name LIKE $kensaku "); $recordSet = mysql_query($sql); print <<<_FORM_ <select name="u_name"> _FORM_; while ($kekka = mysql_fetch_assoc($recordSet)) { $val=htmlspecialchars($kekka['name']); ?> <option value="<?php print(htmlspecialchars($kekka['id'])); ?>"> <?php print(htmlspecialchars($kekka['name'])); ?> </option> <?php } print <<<_FORM_ </select> _FORM_; } ?>
以下のようなソースで作っています。 文字を画像に変換する基本的な事は出来たのですが、どうしたのかhtmlに書かれている すべてのひらがなが画像に置き換わってしまいます。 <body>以下のすべてのひらがなが影響を受けてしまいます。 （ひらがなは花の名前をひらがなで書くため、ひらがなだけが影響を受けます） form、inputしてそれだけを画像にしてくれればいいのですが… ソースは以下の通りです。 <script type="text/javascript" src="js/chgpic.js"></script> <script type="text/javascript" src="js/jquery.js"></script> // 上のJavaScript （chgpic.js）は以下の通りです。 function func(){ document.body.innerHTML = document.body.innerHTML.split('つつじ').join('<img src="tutuji.gif">'); document.body.innerHTML = document.body.innerHTML.split('さくら').join('<img src="sakura.gif">'); } そしてbodyタグの前にphpをちょこっと書きます。 <?PHP // 対象文字列を取得する $targetText = $_POST["target_text"]; // 文字列置換を行う $replaceText = str_replace("A", "×", $targetText);←ここをchgpic.jsにある花の名前を花の画像に変えます。 ?> <body onLoad="func()"> <form method="post" action=""> <textarea name="target_text" cols="50" rows="3"></textarea> <input name="変換" type="button"> <br> <div><?= $replaceText ?></div> </form> こんな感じですが、どうもbodyにある　onLoad="func()"　が駄目なようです。 これはページ読み込み時に動作するという事でよろしいでしょうか？ formのtextareaに入力した文字が 　最後の<?= $replaceText ?>に画像で出ればよいのですが。 私はphpなど全くの初心者で、あちこちのサイトやプログラムからつぎはぎで何とかここまで作ったのですが 基礎が出来ていないのでやはり難しいです。 body　にonLoadじゃない他の命令を書くのか？ ボタンを押して<?= $replaceText ?>に画像が出るようにするにはどうすればよいでしょうか？ また書く必要のない命令文などはありますか？ 逆に欠けているものは… 　 わかりにくい文言で申し訳ありません。 アドバイスをお願いいたします。
PHP勉強中の初心者です。 phpじゃなくてもいいのですが、チェックボックスのチェック状態を保存する方法を探しています。 簡単なphpサイトを作ったのですが、その中で進捗状況に応じて項目にチェックを入れたいと思っています。 （チェックを外す事もあります。） 例えば <table> <tr> <td><input type="checkbox" name="groupA" value=""></td> <td>りんごを買う</td> </tr> <tr> <td><input type="checkbox" name="groupA" value=""></td> <td>りんごを食べる</td> </tr> <tr> <td><input type="checkbox" name="groupB" value=""></td> <td>みかんを買う</td> </tr> <tr> <td><input type="checkbox" name="groupB" value=""></td> <td>みかんを食べる</td> </tr> </table> みたいな簡単な表です。 自分で使うだけなので、チェック状態をクッキーに保存してもいいのかもしれませんが、パソコンで見たりiphoneで見たりしたいので、クッキー以外で状態を保存したいです。 そして、これはできれば…でいいのですが、画面変遷はせずにチェック状態が保存できれば嬉しいです。 イメージは、ブログなどのいいねボタンや拍手ボタンなどのクリックした状態がその場で保存されるような感じです。 単純に表示で状態が確認できればいいので、チェックボックスじゃなくても構いません。 （項目をクリックすると色が変わるなど） 一応phpmyadminが使える環境にはあります。 具体的な回答をもらうには情報が少ないかもしれませんので、 例えば ・javascript+●●で～したらできる ・このサイトを見ると参考になる 等のアドバイスでもありがたいです。 ご指導の程、何卒よろしくお願い致します。
お世話になります。 $_SESSION['test']をvar_dumpで出力した際に、 ["items":"Test":private]=>array(1) {[0]=>string(3) "100" } といった値がありましたがこれをechoすることは可能でしょうか？ $_SESSION['test']['items']['Test']['0']といったように・・・ 大変初歩的な質問かと思いますがよろしくお願い致します(x_x)
CakePHPではＵＲＬを一度index.phpにリダイレクトするような作りになっていますが、Googleの検索エンジン用のsitemap.xmlファイルを公開ディレクトリに置いた場合、そのファイルだけはmod_rewriteのルールから外して、普通にブラウザで見れる状態にしたいです。 .htaccessをどのように設定すれば良いか、教えてください。 なお、CakePHPのindex.phpファイルと.htaccess、sitemap.xmlは同じディレクトリに置いてあります。 [環境]CakePHP 1.3 PHP5.3 現在は.htaccessは以下のように設定されています。 <IfModule mod_rewrite.c> RewriteEngine On RewriteBase / RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteRule ^(.*)$ index.php?url=$1 [QSA,L] </IfModule> 上記の RewriteRule ^(.*)$ index.php?url=$1 [QSA,L] の前の行に RewriteCond %{REQUEST_FILENAME} ^sitemap.xml を入れるとこのファイル自体はブラウザから見れるようになりますが、サイトのトップページ以外を見ようとすると、「Not Found」が返ってきてしまいます。
お世話になります。 現在.htaacessでパラメータをRewriteしてアドレスをスッキリさせています。 【htaccess】 RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^([-0-9A-Za-z]+)/([-0-9A-Za-z)]+)$ index.php?a=$1&b=$2 [L] www.sample.com?a=test1&b=test2 を www.sample.com/test1/test2 といった形にしています。 SESSIONのパスが現在「/」となっており、どのページでセッションを発行しても「www.sample.com」以下ならすべて有効になっているのですが、これをその階層以下でしか使えないようにする方法はありますでしょうか？ 【例】 www.sample.com/test1/aaaa で発行したセッションはその階層（test1）以下でのみ有効としたい。 www.sample.com/test1/aaaa 、www.sample.com/test1/bbbb　で開いたセッションは1つ目の階層（test1）以下どのページでも有効にしたい 実際に「test1」フォルダが存在するわけではないため、htaccessを設置することができず、また「test1」の階層名も様々であるため困っています。 どうぞよろしくおねがいいたします。
こんばんは、Webページ制作の勉強で問題にぶつかり、少々お知恵をお借りしたく質問させて頂きました。 あるPHPファイルの中の <!doctype html> <html> //ここにHTMLの記述があるとします。 </html> のHTMLの記述の中に <script src="example_A.js"></script> <script src="example_B.js"></script> のような形で他のページでも使っているJavascriptのファイルを読み込んで使用しようとしたのですが、一部の処理だけが行われないようのです。 そこでjsファイルの中で使えない記述に共通点が無いか確認してみたところ、 $(function() { 　　//ここに処理 }); のように、関数のみが動作して居ない事が解りました。 そこで質問なのですが、PHPファイルの中では、<html>の中で記述されたスクリプトだとしても関数の中で記述された処理は使えないという事なのでしょうか？ また、もしPHPの中でも関数を動作させる方法があれば、教えて頂けないでしょうか。 宜しくお願い致します。
プログラムど素人です いくつか質問させてください 自分自身に対してpostやgetする場合、セキュリティは大丈夫でしょうか？$_SERVER['PHP_SELF']を使うと危ないときいたので気になっています 下記の場合はどうですか？自分自身にポストする場合はファイル名で指定しても大丈夫ですか？（hoge.phpは自分自身） <form method="post" action="<?php echo hoge.php ; ?>"> getで自分自身に送るときはファイル名で大丈夫でしょうか？ header("Location: hoge.php?msg={$msg}"); もう一つ、フォームの送信ボタンをjavascriptのdocument.writeで表示してもセキュリティ的に問題ないでしょうか?（変なロボットがくるのでその対策です。javascriptはよみこんでないようなので） document.write('<input type="submit" value="書き込む" />'); よろしくお願いします
xampp、ZendFrameworkという環境で開発しています。 適用されているスタイルシートが何かの拍子で適用されなくなります。 Frameworkの性であるかどうか、多分関係あるとは思うのですが、原因が全く分かりません。 cssの適用方法ですが、login画面以外はlayout.phtmlというレイアウトを作成し、そこで適用しています。 なので、共通のレイアウトが読み込まれている認識でいます。 症状としては、 (1) login -> index -> user/index -> user/list と遷移するとuser/listでいきなりcssが適用されなくなります。 (2) loginでエラーを出すとやはりcssが適用されなくなります。 (3) user/indexとuser/listは同じコントローラなのでレイアウト適用に関する記述は共通のinitを見ています (4) indexもuser/indexもuser/listも、レイアウト崩れの違いはあってもhtml部分は同様に表示されています (5) cssを読み込んでいる部分のソースもindex・user/index・user/listで全く同じです ちなみにこんな感じ <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitio … <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> <head> <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" /> <meta name="keywords" content="" /> <meta name="description" content="" /> <title>****</title> <link href="css/****.css" media="screen" rel="stylesheet" type="text/css" ><script type="text/x-jquery-tmpl"> </head> どなたか、わかる方がいたら教えてください。
　毎回変な質問ばかりして申し訳ございません_ _ 　参考書の内容で質問があります。 以下内容です。 整数型 　整数(int)は、10進数、先頭に0xをつけた16進数、先頭に0をつけた8進数のいずれかで指定可能です。 　先頭に「+」または「-」をつけることができます。・・・以下省略 　以上ですが。 　取り急ぎ、　冒頭のみを記載しました。 　 　　先頭に「+」または「-」をつけることができます。」とありますが！何の事だか理解できません！？ 　以上参考書の抜粋ですので、分かりずらいと思いますが、全文を記載しないと分かりずらければ 全文記載します。 　以上宜しくお願いいたします。
以下のプログラムですが！？素直に言って、キャストの意味がぜんぜん分かりません！？ 　インターネットで調べましたが、レベル高すぎて、分かりません！ 　 　参考書には、 　 　「整数型へのキャストには、(int)または(integer)またはintval()関数を使います。」 　とあります。 　以下プログラムの紹介です。 <?php $int１ = intval("1"); $int2 = (int)"1"; 以上ですが！　 　　これて、実行結果が分かれば、何となく理解の突破口が見える気がします。 　以上のプログラムをWeb上で実行できますか！？ 　もし、実行することができれば、どんなプログラムを組めばできますか！？ 　すみません、頭が悪いので、わかりません_ _！ 　以上宜しくお願いいたします。
下記のように関数を作りましたが、思うような結果が出ません。 function saiki($array){ if(count($array) === 1){ return $array; } else { array_pop($array); saiki($array); } } var_dump(saiki(array('いちご', 'みかん', 'りんご', 'すいか'))); /* 欲しい結果 /* array(1) { /* [0]=> /* string(9) "いちご" /* } /* /* /* 実際の結果 /* array(4) { /* [0]=> /* string(9) "いちご" /* [1]=> /* string(9) "みかん" /* [2]=> /* string(9) "りんご" /* [3]=> /* string(9) "すいか" /* } count($array) が 1 じゃなければ array_pop($array) した配列を引数として、再帰的に saiki($array) しているつもりなのですが。。。 array_pop($array) じゃなく unset($array[count($array) - 1]) みたいなことをしても結果は一緒でした。 どうすれば欲しい結果がとれるか（count($array) が 1 以外なら再帰的に繰り返す）、どなたかご教授ください。 よろしくお願いします。
　まだまだ素人ですが！ <?php $var= 1; var_dump(isset($var)); // true var_dump(isset($var1); // fals 　 以上参考書のプログラムです。 以上プログラムの最後に　echo 何々;　と組めば実行結果が得られる代物でしょうか！ 　すみません！ 　参考書では isset() の説明をしているのですが、私としては、実行結果を知りたいです。 私の考えがそもそも、間違っていたならごめんなさい。 　宜しくお願いいたします。
プログラム初心者です getでパラメータを送る場合、パラメータの値を拡張子にしても大丈夫でしょうか?パラメータで渡す場合は単なる文字列になるのでしょうか？ gif.php?gif=32.jpg よろしくお願いします
<?php $var =1; var_dump(isset($var)); // true var_dump(isset($var1)); // false 以上dumpの意味が分かりません！？ どんなときに使用するのでしょうか？ 　宜しくお願いします。
httpがついていないリンクだけに絶対パスをつけたいのですがなかなかうまくいきません。 $data='<a href="1_4/abc.jpg">abc</a> <a href="aiueo/abc.jpg">abc</a> <a href="http://www.●●●.co.jp/4/123.jpg">123</a> '; 以上を↓に <a href="http://www.test.com/1_4/abc.jpg">abc</a> <a href="http://www.test.com/aiueo/abc.jpg">abc</a> <a href="http://www.●●●.co.jp/4/123.jpg">123</a> preg_replace ('/(href=\")+^(http)+?/mi','=\"http:\/\/test\.com\/',$data); で駄目でした。 宜しくお願い致します。
はじめて質問をさせて頂きます。 個人でWEBのデザインをさせて頂いているものですが、個人のプログラマーの方に開発をお願いしていたのですが、体の不調を訴えてここ数日連絡がとれなくて困ってます。 お客様のコンタクトフォームに以下のようなエラーが出てしまう現象が起きてその対処をどうしたら良いか、どなたかご指示頂けると助かります。宜しくお願いします。 Parse error: syntax error, unexpected '@' in /export/sd209/www/jp/r/e/gmoserver/0/0/********/******.co.jp/contact/index.php on line 9 -------------------------------------以下、index.php------------------------------------------- <?php require_once './b2smarty.php'; require_once '../lib/qdmail.php'; $smaty = new b2smarty(); $from_addr = "xxxx@xxxx.co.jp"; $from_name = "xxxxxxxxxx"; $mail_subject = "お問い合わせ"; $error_message = ""; $cmd= isset($_POST['cmd'])?$_POST['cmd']:''; $data['name']= isset($_POST['name'])?trim($_POST['name']):''; $data['rname'] = isset($_POST['rname'])?trim($_POST['rname']):''; $data['post01']= isset($_POST['post01'])?trim($_POST['post01']):''; $data['post02'] = isset($_POST['post02'])?trim($_POST['post02']):''; $data['pref'] = isset($_POST['pref'])?trim($_POST['pref']):''; $data['add'] = isset($_POST['add'])?trim($_POST['add']):''; $data['tel']= isset($_POST['tel'])?trim($_POST['tel']):''; $data['fax']= isset($_POST['fax'])?trim($_POST['fax']):''; $data['mail'] = isset($_POST['mail'])?trim($_POST['mail']):''; $data['age']= isset($_POST['age'])?trim($_POST['age']):''; $data['ctype']= isset($_POST['ctype'])?trim($_POST['ctype']):''; $data['body1'] = isset($_POST['body1'])?trim($_POST['body1']):''; $data['body2'] = isset($_POST['body2'])?trim($_POST['body2']):''; $data['body3'] = isset($_POST['body3'])?trim($_POST['body3']):''; $smaty->assign("data",$data); switch ($cmd){ case 'send': $mail_body = $smaty->fetch('./mail.html'); $mail = new Qdmail(); $mail -> from( $from_addr , $from_name ); $mail -> to($data['mail'] ); $mail -> cc($from_addr ); $mail -> subject($mail_subject); $mail -> text( $mail_body ); $ret = $mail ->send(); $mail_subject02 = $mail_subject . "【" .$data['body1']. "】"; $mail02 = new Qdmail(); $mail02 -> from( $data['mail'] ); $mail02 -> to( $from_addr); $mail02 -> subject($mail_subject02); $mail02 -> text( $mail_body ); $ret = $mail02 ->send(); $template = './thanks.html'; break; case 'check': $template = './check.html'; break; default: $template = './input.html'; break; } $contents = $smaty->fetch($template); $smaty->assign("contents",$contents); $smaty->display('./base.html');
現在セットアップしているPHPのバージョン知りたいのですが！ 何処を見ればわかりますか！？ 　フォルダはxamppとあります。 　以上宜しくお願いいたします。
<?php session_start(); require('../dbconnect.php'); if (!isset($_SESSION['join'])) { header('Loction: index.php'); } if (!empty($_POST)) { //登録処理 $sql = sprintf('INSERT INTO test_users SET name="%s", email="%s", password="%s", created="%s"', mysql_real_escape_string($_SESSION['join']['name']), mysql_real_escape_string($_SESSION['join']['email'], mysql_real_escape_string(sha1($_SESSION['join']['password'])), date('Y-m-d H:i:s')); mysqli_query($sql) or die(mysqli_error()); var_dump($sql); unset($_SESSION['join']); header('Location: thanks.php'); exit(); } ?> <!DOCTYPE html> <html lang="ja"> <head> <meta charset="utf-8"> </head> <body> <form action="" method="post"> <input type="hidden" name="action" value="submit"> <div><a href="index.php?action=rewrite">&laquo;書き直す</a> <input type="submit" value="登録"> </div> </form> </html> これを実行すると Warning: Unknown: It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone 'UTC' for now, but please set date.timezone to select your timezone. in /home/****/www/join2/check.php on line 15 Parse error: syntax error, unexpected ';' in /home/kazu94/www/join2/check.php on line 15 このようなエラーがでます(汗 どこが間違っているのか教えてください(泣
現在よくわるPHPの教科書という本を参考に、会員登録システムをつくっています。 しかし、本に書いてある内容をそのまま書いて実行してみてもエラーがでてきます。 そこでいろいろとネットで調べてみて以下のようなコードになりました。 <?php //$error = array('name'=>'', 'email'=>'', 'password'=>''); session_start(); if (!empty($_POST)) { if ($_POST['name'] === '') { $error['name'] = 'blank'; } if ($_POST['email'] === '') { $error['email'] = 'blank'; } if (strlen($_POST['password']) < 4) { $error['password'] = 'length'; } if ($_POST['password'] === '') { $error['password'] = 'blank'; } if (empty($error)) { $_SESSION['join'] = $_POST; header('Location: http:./check.php'); exit(); } } ?> <!DOCTYPE html> <html lang="ja"> <head> <meta charset="utf-8"> <title>会員登録</title> </head> <body> <form action="" method="POST"> ユーザーID<input type="text" name="name" value="<?php print isset($_POST['name']) ? htmlspecialchars($_POST['name'], ENT_QUOTES, 'UTF-8'):"";?>" /> <?php if ($error['name'] === 'blank') { ?> <p class="error">*ユーザーIDを入力してください</p> <?php } ?> メールアドレス<input type="text" name="email" value="<?php print isset($_POST['email']) ? htmlspecialchars($_POST['name'], ENT_QUOTES, 'UTF-8'):"";?>" /> <br> <?php if ($error['email'] === 'blank') { ?> <p class="error">*メールアドレスを入力してください</p> <?php } ?> パスワード<input type="password" name="password"> <br> <?php if ($error['password'] === 'blank') { ?> <p class="error">*パスワードを入力してください</p> <?php } ?> <?php if ($error['password'] === 'length') { ?> <p class="error">*パスワードは4文字以上で入力してください</p> <?php } ?> <input type="submit" value="登録"> </form> </body> </html> しかしこれでもエラーがでます。以下のエラー Warning: Unknown: It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone 'UTC' for now, but please set date.timezone to select your timezone. in /home/****/www/join/index.php on line 39 Parse error: syntax error, unexpected ':' in /home/kazu94/www/join/index.php on line 39 誰かこのエラーの謎を解いてください お願いします(泣)
掲記事1件1件のログファイルをCSV形式で連ねて書いた、 示板記事保存用のPHPでファイルをオープンして、読み書きするときに、スタックのような、 LIFO（Last in First out）のような、ファイルオープンモードってありますか？ ちなみに、'a+'　だとファイルポイントをファイルの末尾に置く為に、読み出して、画面に書くと、 新しい記事ほど、ラストに表示されてしまいます。’w+’だと、ファイルポインタを先頭にもってくるが、 ファイルサイズを0にしてしまい、用をなしません。 新記事を上のほうに表示する（つまり、ファイルポインタを先頭にもってきて、かつ、前のレコードはしっかりそのあとに移動させる）には、どういうファイルオープンモードがあるでしょうか。
PHPのmysql_queryの変数について 全くの初心者です。 ログイン情報のチェックに使うクラスを調べているのですが、 mysql_queryの結果が表示されなく、原因が分かりません。 ご存知の方がおられましたら、ご教授頂けませんでしょうか。 よろしくお願い致します。 以下が全体のコードです。(1)(2)の問題があります。 <?php require_once "BaseDB.class.php"; // ログインをするクラス class Settings extends BaseDB { // ユーザ認証 public function isValidUser( $id, $pass ) { //var $qstring; // SQL文 //var $qresult; // mysql_query関数の結果 //var $fresult; // mysql_fetch_arrayの結果 $this->errors = 0; // MySQLにデータがあるか調べる $qstring = "select passwd from b_settings where username='$id'"; //クエリを実行 echo "setting class:<br>"; echo "qstring:<br>"; echo "$qstring<br />";//select passwd from b_settings where username=unknown $qresult = mysql_query($qstring); echo "qresult:<br>"; //////　(1)ココが表示されない。 echo "$qresult<br>"; if(!$qresult) { echo $qresult; $this->errorm = "ユーザ名が違います。table Error";//////////　(2)このエラーが出てしまいます。 $this->errors++; return false; } if(!$fresult = mysql_fetch_array($qresult)) { $this->errorm = "ユーザ名が違います。"; $this->errors++; return false; } //echo "$pass /" . $fresult['passwd'] . "<br>"; if( $pass == $fresult['passwd'] ) { //echo "$pass /" . $fresult['passwd'] . "<br>"; return true; } else { $this->errorm = "パスワードが違います。"; $this->errors++; return false; } }//関数終了 public function loadSettings( $id='' ) { $qstring = "select maintitle,subtitle,maxtopics," . "username,passwd,mailaddr from b_settings where id=1"; //クエリを実行 $qresult = mysql_query($qstring); if(!$qresult){ $this->errorm = "DB Error:[$qstring]"; $this->errors++; return false; } if(!$fresult = mysql_fetch_array($qresult)) { $this->errorm = "設定情報がありません。"; $this->errors++; return false; } $this->maintitle = $fresult['maintitle']; $this->subtitle = $fresult['subtitle']; $this->maxtopics = $fresult['maxtopics']; $this->username = $fresult['username']; $this->passwd = $fresult['passwd']; $this->mailaddr = $fresult['mailaddr']; return true; } public function saveSettings( $id='' ) { $qstring = "update b_settings set ". "maintitle = '$this->maintitle', ". "subtitle = '$this->subtitle', ". "maxtopics = '$this->maxtopics', ". "username = '$this->username', ". "passwd = '$this->passwd', ". "mailaddr = '$this->mailaddr' ". " where id=1"; //クエリを実行 $qresult = mysql_query($qstring); if(!$qresult){ $this->errorm = "DB Error:[$qstring]"; $this->errors++; return false; } return true; } // プロパティ参照 function __get( $property ) { return $this->$property; } // プロパティセット function __set( $property, $value ) { $this->$property = $value; } } //クラス終了 ?>
　素人なので、変な質問しているのか、自分でも判断できません！？ PHPの整数型へのキャストプログラム～ 　<?php $int1 = intval("1"); $int2 = (int)"1"; 　 　以上ですが、同じようなプログラムをC言語でもできますか！ 　もしできれば、 　どんなプログラムになるのでしょうか！？ 　宜しくお願いします。 　
$int5 = PHP_INT_MAX; 　　　　//整数型の最大値 　以上、参考書に書いてあるのですが！ 　素人の私にとりまして、意味がいまいちです！？ 　 　PHPの$int5 = PHP_INT_MAX;　は、C言語みたいに、何行もプログラムを書かずに 　目的の最大値を、取り出せるとの解釈でよろしいのでしょうか！？ 　　 　以上宜しくお願いいたします。 　
Wordpressで最新記事一覧のループ途中に広告（Adセンスなど）を3箇所入れたいのですが、その方法を教えて下さい。 広告が表示される場所はランダムではなく一覧の先頭から3番目、5番目、7番目で固定したいです。 よろしくお願いいたします。
お世話になります。 ある特定のディレクトリで走らせると「 Call to a member function execute() on a non-object 」エラーを吐かれます。 例えばドメイン直下にファイルをアップロードさせて実行すると正常に走りますが、 様々な処理をしているディレクトリの下で走らせるとエラーが出てしまいます。 明らかに「 様々な処理をしているディレクトリ 」にアップしてあるファイルと干渉しているように 思うのですが、原因が全く分かりません。 因みに、file_exists関数やdir系の関数も使用していません。 PDOを扱う上でディレクトリ間で干渉してしまう可能性がある書き方や関数等があるのでしょうか？ エラーが吐かれる場所は、最終処理のユーザ定義関数の箇所です。 漠然とした質問で恐縮ですが、設置するディレクトリで正常に走る、走らないというのが 意味不明なので、ご教示いただけたら幸いです。 どうぞよろしくお願い申し上げます。 ---------------- ▼スペック PHP 5.3.3 MySQL 5.0.95 ----------------
xamppを使用して勉強してます。 htmlでファイルをアップロードするソースを作り、phpで <meta http-equiv="Content-Type" content="text/html"; charset="UTF-8" /> <?php $file=$_FILES['my_img']; $filePath="./user_img/".$file['name']; move_uploaded_file($file['tmp_name'],$filePath); というコードを書いて実行したところ、 Warning: move_uploaded_file(./user_img/021.jpg): failed to open stream: No such file or directory in 　このphpファイルの名前 on line 〇〇行目 Warning: move_uploaded_file(): Unable to move 'C:\xampp\tmp\php6207.tmp' to './user_img/021.jpg' in このphpファイルの名前 on line 〇〇行目 とエラーになってしまいました。 なぜでしょうか？
php,mysql,ajaxで作ったWEBサイトを下記内容を満たすように一部だけandroidアプリに変換する方法 はありますか？ 1.Google Playからダウンロードが出来る 2.サイトの閲覧はブラウザでない表示で、スマホの画面いっぱいに表示する 3.ネットに接続出来ないとき、ブラウザで一般的に見るページが見つかりませんメッセージでなく、オリジナルのエラーメッセージを表示する。
Twitterのツイート内容取得方法について、質問させてください。 現在、Twitter APIを使用して、PHPにてプログラムを組んでいます。 Twitterのツイート内容を、URLから取得させたいと思っているのですが、 Twitter APIでそういったことをするのは可能でしょうか？ 「Twitter API ツイート内容を取得　URL」というキーワードで検索してみましたが、 今のところ取得方法が見つかっていません。 どうすればURLからツイート内容が取得できるのか、 そもそもそんなことは出来ないのか、ご存知の方がいらっしゃいましたら 教えていただければと思います。
プログラム初心者です 空文字をdbに入れた場合、dbのカラムの値はなしになるのでしょうか？ それとも、見えないけどなにか入ってしまうのでしょうか？ nameが空文字の場合 $name = $_POST['neme']; UPDATE table SET name=$name WHERE id=1 空文字はNULLを指定した場合と同じ結果になりますか？ UPDATE table SET name=NULL WHERE id=1 よろしくお願いします
「Google+1ボタン」を設置したいと思い、こちらのサイトを見ながら取り組んでいます。 https://developers.google.com/+/web/+1button/?hl … 取得するコードは次のようになっているのですが、これについて質問させてください。 <!-- +1 ボタン を表示したい位置に次のタグを貼り付けてください。 --> <div class="g-plusone" data-size="medium"></div> <!-- 最後の +1 ボタン タグの後に次のタグを貼り付けてください。 --> <script type="text/javascript"> window.___gcfg = {lang: 'ja'}; (function() { var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true; po.src = 'https://apis.google.com/js/platform.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s); })(); </script> このコードについてですが、 <!-- 最後の +1 ボタン タグの後に次のタグを貼り付けてください。 --> とありますが、 「最後の +1 ボタン タグの後」とは <div class="g-plusone" data-size="medium"></div> のことでしょうか？ もしそうだとすると、これらを続けて貼り付けるということで次のようになりますね。 <div class="g-plusone" data-size="medium"></div> <script type="text/javascript"> window.___gcfg = {lang: 'ja'}; (function() { var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true; po.src = 'https://apis.google.com/js/platform.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s); })(); </script> もし違っていたら指摘してください。 よろしくお願いします。
プログラム初心者です sqlをselectして結果がなかった場合、mysqli_fetch_assocを使うより先に判定する場合はどうすればいいのでしょうか? if(ここがわかりません){ echo '検索結果がありません'; } while($row = mysqli_fetch_assoc($recordSet)){ print $row['id']; } よろしくお願いします
ウェブ初心者です。 ブラウザ上の、画像やhtml,jsのソースを見ることは存じておりますが、 サーバ上にあるphpのデータのソースを見ること、もしくは取得することは可能でしょうか。 また、そんなの無理にきまってるだろ、という場合は、何故無理なのか教えて頂けますでしょうか。 Linuxではなく、当方はwin7を利用してます。ブラウザはFFかクロームです。
・「クラスプロパティ」 へ保存するか、「セッション」へ保存するか迷っています ・両者の寿命の差はどうなっているでしょうか？ ・特に「クラスプロパティ」の方を知りたいです ・そのクラスが読み込まれ続けている限りは、「プロパティ」へ保存したデータは読み込み可能？ ・あるいは、生成したインスタンスが破棄されない限りは、「プロパティ」へ保存したデータは読み込み可能？ ・もしくは、画面を更新しない限りは、「プロパティ」へ保存したデータは読み込み可能？ ・利用は、AJAXで画面遷移なしで進んでいく場面間のデータ保持を想定しています ・また、例えば複数人が同時にアクセスして同じ処理が走った場合、「クラスプロパティ」の値は個別保存されるのでしょうか？ ・「クラスプロパティ」ではなく「インスタンスプロパティ」だったら、複数保存ＯＫ？
<html> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> </head> <body> <?php echo'テストプログラム開始',PHP_EOL; $ret1 = array_reverse(); $ret2 = array_reverse(1); echo'テストプログラム終了',PHP_EOL; ?> </body> </html> 　以上のプログラムを実行すると、 　以下のエラーが出るように組まれたプログラムです。　 　エラーが出ないプログラムにするには、どんなプログラムを組めばできますか！？ 　 早々ですが^^　　 　今年もよろしくお願いいたします。 テストプログラム開始 Warning: array_reverse() expects at least 1 parameter, 0 given in C:\xampp\htdocs\study.localhost\E_WARNING.php on line 9 Warning: array_reverse() expects parameter 1 to be array, integer given in C:\xampp\htdocs\study.localhost\E_WARNING.php on line 10 テストプログラム終了
プログラム初心者です 透過GIFをＧＤでリサイズしたいです やってみたら透明になっているようなんですが、背景との境に輪郭線のような線が出現しました どうやったらきれいに処理できますか？ $black = imagecolorallocate($thumb, 0, 0, 0);//透明 $alpha = imagecolortransparent($thumb,$black); // 元画像から透過色を取得する imagefill($thumb, 0, 0, $alpha); // その色でキャンバスを塗りつぶす imagecolortransparent($thumb, $alpha); // 塗りつぶした色を透過色として指定する よろしくお願いします
(1).phpファイルにおいて、下記のようなフォームを作成したときに、 JavaScriptの、onSubmitイベントで、PHPの$pushsubumit 変数に 1を代入したいのですが、echo()した結果、代入されていません。 やはり、JavaScriptの文のなかでPHPスクリプトは通用しないのでしょうか？ どのようにすれば、送信ボタンを押したという、PHPの$pushsubmitフラグを 1にできるのでしょうか。 (2)ちなみに、JavaScriptのテキストでは、return 1; という表現を用いていますが、 この戻り値はどこでどうやって受けるのでしょうか。 (3)例えば、onSubmit="var pushsubmit; pushsubmit=1;"などと書いたとして、 このpushsubmit=1をPHPスクリプト側でどうやって受ければいいのかがわかりません。 どうぞよろしくお願いします。 --------------------------------------------------------------------------- (1)<form name="form1" method="post" action="bbs.php" onSubmit="showdlgbox(); <?php $pushsubmit=1 ?>"> <?php ～ ?> (2)<form name="form1" method="post" action="bbs.php" onSubmit="showdlgbox(); return 1;">
phpでandroidOS2.0以上の携帯のカメラを起動し写真を撮ること出来ますか？
プログラム初心者です if文のなかでmove_uploaded_file（）を使うとどうゆう処理をするんでしょうか？ if (!move_uploaded_file($tmp_name, "{$image_dir}/{$name}")) { throw new Exception('noimg');//画像の保存に失敗しました } 否定がついていても最初の一行でアップロードしてくれるのですか？ 否定がついていてもif文の中の関数は実行されるのでしょうか？ よろしくお願いします
今、Android携帯で撮った写真のファイル情報を取得したいのですが DCIMフォルダにある画像の画像更新日時を見て一番新しい更新日時の ファイルを今撮った写真と認識していいのか、 それとも他に今撮った写真と認識する方法があるのでしょうか？
Android携帯で撮った写真をWEBサイトに投稿するようにしたいのですが、、 撮った写真の保存したフォルダとファイル名をどのように認識するのでしょうか？
プログラム初心者です シンプルな掲示板を作ったのですが荒らし対策を付けたいと思いました 荒らし対策の作り方を教えてください ・IP規制 ipアドレスの取得はこんな感じでしょうか? $ip = $_SERVER['REMOTE_ADDR']; 管理者側で拒否するipを複数指定しておいて、書き込みできないようにしたいです $ip_no = array( 'ip1','ip2','ip3); $ip_noの中に荒らしする投稿者ipがあるかどうか判定する方法はありますか？ もう一つ禁止ワードをチェックを付けたいです ・禁止ワード $no_word = array( '禁止ワード1','禁止ワード2','禁止ワード3'); 投稿者メッセ $mes; $mesの中に禁止ワードがあるか判定する方法はありますか？ もっといい方法があれば、お願いします
ちょっとややこしくなりますが、よろしくお願いします。 [a.php]と[b.php]というファイルを用意します。 [a.php] ------------------ <?php echo $hogehoge ; ?> ------------------ [b.php] ------------------ <?php $hogehoge = 'hogehoge' ; require('a.php') ; ?> ------------------ という風にして結果を ------------------ hogehoge ------------------ としたいのですが、他のファイルを呼び出す時に変数を指定するにはどうしたら良いのでしょうか。 また、その際に気をつけなければならないことがあれば教えて下さい。 よろしくお願いします。
PHP初心者です。 PHPファイルで、HTMLに埋め込んだPHPがうまく出力できません。 このファイルはもう一つのPHPファイルに読み込んで実行しています。 例えば、 <?php echo "<p>こんにちは</p>"; ?> とすると、 こんにちは "; ?> と出力されてしまいます。 とても初歩的なところで詰まっているようでお恥ずかしいのですが、 原因が分からないので回答よろしくお願いします。
プログラム初心者です if文で!==をつかいたいのですがうまくいきません mysqlから取ってきた値を使っています DB側の値は0になっています。データ型はmediumint(11)です カラムの数字が0の時に 下記のように型を指定すると0のときにも$table['re_user_id']を表示してしまいます if($table['re_user_id']!==0){ print (.$table['re_user_id']); }else{ print '成功'; } 出力結果　0 これだとelseのとこを表示できます。 if($table['re_user_id']!=0){ print (.$table['re_user_id']); }else{ print '成功'; } 出力結果　成功 質問2 printを使うときは括弧は省略してもいいですか?→() よろしくお願いします
XAMPPローカル環境でcake phpを使ってホームページを作っていたのですが これを実際に公開するにはどのような手順を踏めばよろしいのでしょうか？ レンタルサーバーを借りようと思ってます
<php $data[5] = array(6,4,3,7,9); ?> <a href='image.php? <?php print http_build_query($data,'','&'); ?> '>リンク先</a> リンク先へのURLの後ろにhttp_build_queryを使いつけて 送り側で$_GETで受け取って配列を使うようなことを しようと思ったのですが Undefined index: dataと言われてうまくいきません。 どのようにして配列を取り出せばよいのでしょうか？
お世話になります。質問させていただきます。 複数の一行テキストに入力された値を配列にして受け取り、 まとめてデータベースへUPDATEさせようと勉強しているのですが、 最終の値が全てのカラムにUPDATEされてしまいます。 -------------------------------------------------- if( isset( $_POST['comment'] )) { foreach ($_POST['comment'] as $value) { echo $value."<br>"; $sql = "UPDATE テーブル名 SET comment = ?"; $stmt = $conn->prepare($sql); $stmt->execute(array($value)); } } -------------------------------------------------- echo $valueと吐き出すと、正常に値が反映されているのですが、 UPDATE文の「 comment 」カラムには最終の値が全ての 「 comment 」カラムに入ってしまいます。 例えば、４つの一行テキストがあって、 【 id1→「 a 」 】、【 id2→「 b 」 】、【 id3→「 c 」 】、【 id4→「 d 」 】と したいのですが、 【 id1→「 d 」 】、【 id2→「 d 」 】、【 id3→「 d 」 】、【 id4→「 d 」 】と 最終の「 d 」が全てのカラムに入ってしまいます。 UPDATEさせる前にどの様な処理を施せば良いのでしょうか？ ご存知の方がいらっしゃいましたらアドバイスをお願いいたします。 各バージョンは、 PHP5.3.3、MySQL5.0.95 を使用しています。 よろしくお願いいたします。
http://jpg4.us/　のような画像検索サイトを作りたいと思っています。 PHP　か　JAVA　を勉強しようと思っているのですが、 どちらの言語で作れるのかわかりません。 どちらの言語でも作れるのなら、どちらの方が作りやすいかだけお教えください。 理由も教えてもらえれば助かります。 どうかよろしくお願いいたします。
「sqlite_open」「SQLite3::open」の違いを教えてください。 ▽http://www.php.net/manual/ja/function.sqlite-ope … ▽http://www.php.net/manual/ja/sqlite3.open.php ・サーバ移行したら、それまで「sqlite_open」で動作していたのが「SQLite3::open」でないと動作しないようになりました ・何の影響を受けているのでしょうか？ ・PHPバージョン？ ・SQLiteバージョン？ ・それとも単に書き方の問題？ ■PHPバージョン ・移行前5.2.5 ・移行後5.3.3 ■SQLiteバージョン ・多分3と思うけど、どうやって確認？
お世話になります。 dirnameで正しくパスが取得できません。 勝手に途中で途切れてしまいます。 なぜでしょうか。 下記がサンプルです。 echo(dirname("C:\Users\fukuda\Documents\社内書類\ISO関連\土木用\ＩＳＯ様式関係　2012.7.1（最新版）\ＩＳＯ様式(最新版） 2012-07-01\4.2文書化")); 結果… C:\Usersukuda\Documents\社内書類\ISO関連\土木用\ＩＳＯ様式関係　2012.7.1（最新版） 二つ分ディレクトリが抜け落ちています。 この原因と対策を教えてください。 よろしくお願いいたします。
お世話になります。 フルパスから、ディレクトリの名前だけを取得したいと思っています。 もし、フルパスが【c:\aaaa\bbbb\cccc\dddd】だとすると、 【dddd】の部分だけ…、ということです。 それに該当するメソッドはありましたでしょうか。 フルパスから加工して取得すれば確かにそれで済む話なのですが、 もし専用のメソッドがあれば、そちらを使用したいと思います。 ファイル名ならfilename()で取れますが、dirname()だと フルパスが帰ってきてしまうので。 よろしくお願いいたします。
xamppからphpmyadminで「sqlコマンドの追跡」を実行してから、目のマークが表示されるようになりました sqlコマンドの追跡を削除するにはどうしたらいいのでしょうか？（目のアイコンを削除したい） 追跡レポートから 削除すると「追跡データ定義コマンドは正常に削除されました」と表示されますが削除されていませんでした よろしくおねがいします
例えです。 複数の「ドメイン・メールアドレス」が存在しています。 A 社 ooooo＠Aexample.com B 社 ooooo＠Bexample.com C 社 ooooo＠Cexample.com それらをまとめてPHPプログラムで受信したいのですが実現可能でしょうか？
当方、プログラムの専門家ではないため、説明が下手かもしれませんが宜しくお願いします。 ワードプレスのプラグインで【Post Expirator】というものがあります。 機能としては投稿に対して記事の公開期限を設定できます。 ■現在求めている機能として 1.投稿すると自動的に任意に設定した公開期限が適応される。（投稿から3日後に消える、など） ※初期だと投稿画面から【期限を設定する】→【日時を入力】という作業が必要ですが、不要にしたい 2.上記機能をカテゴリーごとに設定したい ※【お知らせ】というカテゴリーに投稿したときだけ適応、など 2番については出ればいいな、程度ですが、1番については実現したいです。 ■質問内容 上記内容、Post Expiratorをカスタマイズすることで設定可能でしょうか？ （もしかすると初期状態で出来るかもしれませんが、よくわからない…） または、Post Expirator以外でこの用件を満たすようなプラグインはあるんでしょうか？ （存在しない場合、もしこの機能を満たすプラグインを作ってもらう場合、いくらぐらいかかるか教えてもらえると嬉しいです）
PHPとMYSQLで select * from artist WHERE artist LIKE 'aki' AND artist_yomi LIKE 'アキ' とSQL文があり、 ヒットした場合は、 ヒットしました。 ヒットしなかった場合は、 ヒットしませんでした。 と表示させたいです。
こんにちは。 私はソフトウェアを開発している小さな会社に少し前に転職しました。 もともとこういった業界に居た訳では無いのでITなどにそこまで詳しくありません。 会社で聞いても良いのですが自分で出来る限り調べてたいのと 常識的な感覚を大きく掴めたらと思い投稿します。 自分の会社ではASPでデータをデータセンターに置いたWEBアプリケーションを中心に開発をしています。プログラムはPHPを採用しています。 基本的にハードウェアが何でもブラウザを開いて運用が可能です。 iPadとPCを軸にした運用を想定しています。 先日違う会社のソフトを見る機会があって画面を見たときに 同じWEBアプリケーションなんですが、画面上にカメラのアイコンがあって そのボタンを押すとiPadのカメラが起動するような説明を受けました。 実際に動いている所を見たわけでは無く、もしかしたら自分の勘違いだったかもしれないんですが そう言った事は可能なんでしょうか？ 自分の考えというか自分の認識では、WEBアプリケーションと言う事は その操作している実機は不特定多数というか登録みたいなのが無くて 実機のカメラを起動するというトリガーをプログラムできないんじゃないかと思ったんですが。。、 それが出来るならば、そのiPadにつなげている機器との連動なども出来るし 面白い機能がつけれるなと思いました。 自分の考えているイメージがそもそも間違っているのでしょうか？ あいまいな情報で申し訳ありませんがよろしくお願いします。
実行時、どのような名前でどのような定数が定義されているかは、次のように、get_defined_constants() 関数を使って調べることができます。PHPや拡張機能により大量の定数が定義されていることがわかります。 <?php var_dump(get_defined_constants()); 　以上参考書から引用しました。 　初心者ですが、Webからアクセスできるように！ 以下のプログラムにしてみました。 <html> <body> <?php var_dump(get_defined_constants()); ?> </body> </html> 以上の 　実行結果が以下ですが、！？これって何を表わしているのでしょうか！？ 　以下よろしくお願い致します。 array(1520) { ["E_ERROR"]=> int(1) ["E_RECOVERABLE_ERROR"]=> int(4096) ["E_WARNING"]=> int(2) ["E_PARSE"]=> int(4) ["E_NOTICE"]=> int(8) ["E_STRICT"]=> int(2048) ["E_DEPRECATED"]=> int(8192) ["E_CORE_ERROR"]=> int(16) ["E_CORE_WARNING"]=> int(32) ["E_COMPILE_ERROR"]=> int(64) ["E_COMPILE_WARNING"]=> int(128) ["E_USER_ERROR"]=> int(256) ["E_USER_WARNING"]=> int(512) ["E_USER_NOTICE"]=> int(1024) ["E_USER_DEPRECATED"]=> int(16384) ["E_ALL"]=> int(32767) ["DEBUG_BACKTRACE_PROVIDE_OBJECT"]=> int(1) ["DEBUG_BACKTRACE_IGNORE_ARGS"]=> int(2) ["TRUE"]=> bool(true) ["FALSE"]=> bool(false) ["NULL"]=> NULL ["ZEND_THREAD_SAFE"]=> bool(true) ["ZEND_DEBUG_BUILD"]=> bool(false) ["PHP_VERSION"]=> string(6) "5.4.19" ["PHP_MAJOR_VERSION"]=> int(5) ["PHP_MINOR_VERSION"]=> int(4) ["PHP_RELEASE_VERSION"]=> int(19) ["PHP_EXTRA_VERSION"]=> string(0) "" ["PHP_VERSION_ID"]=> int(50419) ["PHP_ZTS"]=> int(1) ["PHP_DEBUG"]=> int(0) ["PHP_OS"]=> string(5) "WINNT" ["PHP_SAPI"]=> string(14) "apache2handler" ["DEFAULT_INCLUDE_PATH"]=> string(13) ".;C:\php\pear" ["PEAR_INSTALL_DIR"]=> string(11) "C:\php\pear" ["PEAR_EXTENSION_DIR"]=> string(6) "C:\php" ["PHP_EXTENSION_DIR"]=> string(6) "C:\php" ["PHP_PREFIX"]=> string(6) "C:\php" ["PHP_BINDIR"]=> string(6) "C:\php" ["PHP_LIBDIR"]=> string(6) "C:\php" ["PHP_DATADIR"]=> string(6) "C:\php" ["PHP_SYSCONFDIR"]=> string(6) "C:\php" ["PHP_LOCALSTATEDIR"]=> string(6) "C:\php" ["PHP_CONFIG_FILE_PATH"]=> string(10) "C:\Windows" ["PHP_CONFIG_FILE_SCAN_DIR"]=> string(0) "" ["PHP_SHLIB_SUFFIX"]=> string(3) "dll" ["PHP_EOL"]=> string(2) " " ["PHP_MAXPATHLEN"]=> int(260) ["PHP_INT_MAX"]=> int(2147483647) ["PHP_INT_SIZE"]=> int(4) ["PHP_WINDOWS_VERSION_MAJOR"]=> int(6) ["PHP_WINDOWS_VERSION_MINOR"]=> int(1) ["PHP_WINDOWS_VERSION_BUILD"]=> int(7601) ["PHP_WINDOWS_VERSION_PLATFORM"]=> int(2) ["PHP_WINDOWS_VERSION_SP_MAJOR"]=> int(1) ["PHP_WINDOWS_VERSION_SP_MINOR"]=> int(0) ["PHP_WINDOWS_VERSION_SUITEMASK"]=> int(256) ["PHP_WINDOWS_VERSION_PRODUCTTYPE"]=> int(1) ["PHP_WINDOWS_NT_DOMAIN_CONTROLLER"]=> int(2) ["PHP_WINDOWS_NT_SERVER"]=> int(3) ["PHP_WINDOWS_NT_WORKSTATION"]=> int(1) ["PHP_BINARY"]=> string(29) "C:\xampp\apache\bin\httpd.exe" ["PHP_OUTPUT_HANDLER_START"]=> int(1) ["PHP_OUTPUT_HANDLER_WRITE"]=> int(0) ["PHP_OUTPUT_HANDLER_FLUSH"]=> int(4) ["PHP_OUTPUT_HANDLER_CLEAN"]=> int(2) ["PHP_OUTPUT_HANDLER_FINAL"]=> int(8) ["PHP_OUTPUT_HANDLER_CONT"]=> int(0) ["PHP_OUTPUT_HANDLER_END"]=> int(8) ["PHP_OUTPUT_HANDLER_CLEANABLE"]=> int(16) ["PHP_OUTPUT_HANDLER_FLUSHABLE"]=> int(32) ["PHP_OUTPUT_HANDLER_REMOVABLE"]=> int(64) ["PHP_OUTPUT_HANDLER_STDFLAGS"]=> int(112) ["PHP_OUTPUT_HANDLER_STARTED"]=> int(4096) ["PHP_OUTPUT_HANDLER_DISABLED"]=> int(8192) ["UPLOAD_ERR_OK"]=> int(0) ["UPLOAD_ERR_INI_SIZE"]=> int(1) ["UPLOAD_ERR_FORM_SIZE"]=> int(2) ["UPLOAD_ERR_PARTIAL"]=> int(3) ["UPLOAD_ERR_NO_FILE"]=> int(4) ["UPLOAD_ERR_NO_TMP_DIR"]=> int(6) ["UPLOAD_ERR_CANT_WRITE"]=> int(7) ["UPLOAD_ERR_EXTENSION"]=> int(8) ["CAL_GREGORIAN"]=> int(0) ["CAL_JULIAN"]=> int(1) ["CAL_JEWISH"]=> int(2) ["CAL_FRENCH"]=> int(3) ["CAL_NUM_CALS"]=> int(4) ["CAL_DOW_DAYNO"]=> int(0) ["CAL_DOW_SHORT"]=> int(1) ["CAL_DOW_LONG"]=> int(2) ["CAL_MONTH_GREGORIAN_SHORT"]=> int(0) ["CAL_MONTH_GREGORIAN_LONG"]=> int(1) ["CAL_MONTH_JULIAN_SHORT"]=> int(2) ["CAL_MONTH_JULIAN_LONG"]=> int(3) ["CAL_MONTH_JEWISH"]=> int(4) ["CAL_MONTH_FRENCH"]=> int(5) ["CAL_EASTER_DEFAULT"]=> int(0) ["CAL_EASTER_ROMAN"]=> int(1) ["CAL_EASTER_ALWAYS_GREGORIAN"]=> int(2) ["CAL_EASTER_ALWAYS_JULIAN"]=> int(3) ["CAL_JEWISH_ADD_ALAFIM_GERESH"]=> int(2) ["CAL_JEWISH_ADD_ALAFIM"]=> int(4) ["CALi ・・・以下省略
PHPを勉強すればJavaやPythonなどをやる際にも役立つでしょうか？ PHPでもプログラムを組む力はつきそうなのですがどうでしょうか？
今PDOとphpを勉強中です。 フォームからデータベースにデータを登録できるようなサイトを作ったのですが、いくつか疑問点が出てきました。 まずデータベースのフィールドが5個くらいあり、テキストフォームも5個作り、5個の値をデータベースに飛ばし登録します。単純なプログラムなのですが、ユニーク設定などをしているとデータベースへの登録が失敗する事があります。 データ登録が失敗した場合「失敗しました」と画面に出したいのですが、 失敗したかどうか調べるPDOの関数はあるでしょうか？（今はちゃんと登録されているかどうかデータベースを開けないと分かりません） 詳しい方いましたらよろしくお願いします。 $st = $pdo->prepare("INSERT INTO aaa VALUES(?,?,?,?,?"); $st->execute(array($111,$222,$333,$444,$555));
知っている方いましたらご教授お願いいたします。 ■事象 PHPにて画像ファイルのアップロードを作っています。 その際に、「jpg」なのに、アップロードできない画像ファイルがあります。 以下の、メッセージを取得する際には【15】が戻り値として返ってきます。 ⇒$error = $_FILES['x']['error']; エラー一覧をみても【15】というのは存在していないようで、 何が原因なのかがよくわかっていません。 ■ファイルをvar_dumpしたところ var_dump($_FILES['x']); ⇒出力結果 array(5) { ["name"]=> string(8) "attt.jpg" ["type"]=> string(0) "" ["tmp_name"]=> string(0) "" ["error"]=> int(1) ["size"]=> int(0) } そもそも取得できていない・・・ ■原因と思われるもの？？ UPできない、画像のプロパティを見てみると 詳細の色の表現が「sRGB」となっています。 これが原因でしょうか？ ■ファイルアップロードに関するエラーコード。 0: エラーなし。ファイルアップロード成功。 1: ファイルサイズが、「php.ini」の「upload_max_filesize」の値を超えている。 2: ファイルサイズが、送信フォームで指定した「MAX_FILE_SIZE」の値を超えている。 3: 一部しかアップロードされなかった。 4: アップロードされなかった。 6: テンポラリフォルダがない。 7: ディスクへの書き込みに失敗。 8: PHP拡張モジュールがファイルアップロードを中止。 以上、ご回答のほどよろしくお願いいたします。
お目に止めて頂きありがとうございます。 会員登録フォームを作成しているのですが、 PHPを用い、REST APIを呼び出して kintoneデータベースのレコードをCRUD（作成・読み込み・更新・削除）が出来るように実装しなければなりません。 kintoneのディベロッパーサイトを参照したのですが、APIの呼び出し方が記載しておらず困っております。 下記三点を教えて頂きたいです。 １）REST APIはどのように呼び出すのでしょうか。 ２）REST方式でのJSON形式のデータ送受信 ３）SOAP方式でのXML形式のデータ送受信 ご教授頂けると幸いです。
質問を見てくれてありがとうございます。 フェイスブックのようなSNSを作ろうとした場合PHPやJavaScriptの他に何を使えばいいですか？ またフェイスブックのようなSNSを作ろうとした場合セキュリティ面を強化する場合など何を勉強したらよいでしょうか？ ご回答よろしくお願いします。
質問を見てくれてありがとうございます。 PHPを使ったらワードプレスでどういうことができますか？ またワードプレスでPHPは役立つでしょうか？ ご回答よろしくお願いします。
ｐｈｐを勉強中なのですが、 アカウントを新規作成（ＩＤ、パスワードを設定）して、 それでログインするシステムはどうやっているのでしょうか？ わかりやすく解説してあるwebページなどありましたら教えて頂けないで しょうか？
当方PHPの初心者です。 現在HTML上でPHPの動作をさせているのですが 一部の処理で【Fatal error: Call to undefined function】というエラーがでて処理が途中で止まってしまいます。 エラー文自体は正しく、元々テスト環境でPHPを動作させているので、本番のDBや該当ファイルが無い為にエラーとなっています。 ただ、ステージングという扱いにしてソースをそのままでアップさせたいので、エラーが必ず出る箇所を無視して先に進めたいと考えています。 エラーが起こる部分をコメントアウトする事は二度手間になり、本番化の場合にヒューマンエラーが発生するのを防ぐ為です。 そこでご相談なのですが、PHP処理の時に該当ファイルが無い等のエラーを無視してそのまま続行する。 方法はありますでしょうか。 通常の処理は動作確認済みです。 <?php　echo date('Y年m月d日');　?>等 エラーが発生するのは下記のような場合です。 <?php e($this->renderElement("サーバーが違うので存在しない")); ?> 色々情報を探ったのですが中々解決策をつかめず・・ どなたかお力添えを頂ければありがたいです。
お世話になります。 jQueryのプラグインを使用してDBから吐き出したデータを並べ替えをして、 UPDATEをさせているのですが、UPDATE先のテーブル名を変数に置いた場合、 例えば、 $id_set = "1"; if (isset($_POST['result'])) { $sql = "UPDATE `{$id_set}` SET no = ? WHERE id = ?"; $stmt = $conn->prepare($sql); foreach (explode(',', $_POST['result']) as $i => $id) { $stmt->execute(array(++$i, $id)); } //foreachの終了 } //if (isset($_POST['result'])) の終了 $sql1 = "SELECT id, name, price, no FROM `{$id_set}` ORDER BY no"; $stmt = $conn->prepare($sql1); $stmt->execute(); foreach ($stmt as $row) { $state[] = array("id"=>$row['id'], "name"=>$row['name'], "price"=>$row['price'], "no"=>$row['no']); $this->smarty_obj->assign("state_loop",$state); } //foreachの終了 とすれば、「 1 」というテーブルのデータをSELECTしてUPDATEと正常に走るのですが、 $id_set = $_POST["id"]; 等としてpostした場合、UPDATEの際に「 Call to a member function execute 」のエラーが 吐かれます。該当のテーブルが存在しないと認識されているのだと思いますが、 ページ遷移してくる際に持ってきたデータを活用してテーブル名にセットして、 尚且つ正常にUPDATEさせるにはどの様な構文にすれば良いのでしょうか？ ご教示の程、どうぞよろしくお願い申し上げます。 ---------------- ▼スペック PHP 5.3.3 MySQL 5.0.95 ----------------
よろしくお願いします。 PHP であるサイトをスクレイピングしているのですが、str_get_htmlが特定？のページだけ処理が失敗します。 例えば、1ページ～１０ページ目までをスクレイピングしているときに、８ページ目だけ失敗します。 str_get_htmlの処理に失敗する原因って何々あるんでしょうか？ 以下は、サーバ・ＰＨＰの情報になります。 ・サーバ：さくらのレンタルサーバ スタンダード ・PHP -v 5.4.22 ・ソース $HTML = file_get_contents($url); $encode_HTML = mb_convert_encoding($HTML, 'UTF-8', 'CP932'); $Dom = str_get_html($encode_HTML); // ここで$Domに値がはいっていないのを確認しました。 // print_r($encode_HTML); はHTMLソースにはなってました。 if　($Dom){ echo "OK"; }else{ echo "NG"; continue; }
constant()関数 　文字列から、該当する定数を取得するには、constant()関数を用います。この関数は、取得する 定数が変数などに入っていたり、文字列から組み立てたりして動的に決定したい場合などに用いられます。 　 以上ですが！ 　参考書には以下のプログラムの説明はそれだけしかありませんでした！？ 　　初心者用にもっと分かりやすく、説明を追加したなら、どんな説明になりますか！？ 　よろしくお願いたします。 <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>constant関数</title> </head> <body> <?php 　　　　define('BOOK','Perfect PHP'); $value = 'BOOK'; echo constant($value),PHP_EOL; 　　?> </body> </html>
Mysqlに下記のようにデータがあります。 そこで、このデーター(日付)を 2013年1月1日(2件) 2013年1月2日(1件) 2013年1月3日(1件) 2013年1月5日(2件) のように抽出、集計したいです。 いろいろ考えましたが、ピンときませんorz どうすれば宜しいですか？ お願いします。 Mysqlのデータ +--+---+ |ID　|Dat| +--+--+ |1 | 20130101| +--+--+ |2 | 20130101| +--+--+ |3 | 20130102| +--+--+ |4 | 20130103| +--+--+ |5 | 20130105| +--+--+ |6 | 20130105| +--+--+
phpで文字列を入れた変数をJS側に渡して、アラートで表示させるために、下記のソースを作成しました。ボタンを押したらアラートが出ると想定して作成しました。 ※フレームワークにcakePHPを使用しています。 ------------------------------------------------------------------------ <?php $aaa = 'abc'; echo '<input type="button" onClick="xxx()">'; ?> function xxx() { 　var bbb = <?php echo $aaa ?>; 　alert(bbb); } ------------------------------------------------------------------------ しかし、上記の記述では正常にアラートが表示されません。 そこでいろいろ試してみた結果、 「$aaa = 'abc';」ではなく、 「$aaa = '111';」や「$aaa = 111;」だと正常にアラートが表示されました。 このことから、数字や数値だとうまくいくことがわかりましたが、今回は文字列の受け渡しを行ないたいと考えています。 何かご存知の方がいらっしゃいましたら、アドバイスを頂けると幸いです。 備考 当たり前なのかもしれませんが、 「var bbb = <?php echo $aaa ?>;」ではなく 「var bbb = 'abc';」とjs側で文字列を直接入力すると、アラートは正常に表示されました。 変数で文字列を渡す方法がわからず、半日ほど時間を使ってしまいました。 本当によろしくお願いします。
プログラム初心者です if文の処理速度が速いのは一般的に考えてどちらでしょうか? 別々にif文で処理する方法 try { if(!isset($_REQUEST['id'])&& !is_string($_REQUEST['id'])){ throw new Exception('error'); } if(!isset($_COOKIE['date'])&& !is_string($_COOKIE['date'])){ throw new Exception('error'); } } catch (Exception $e) { $msg = $e->getMessage(); } 一緒に処理する方法 try { if(!isset($_REQUEST['id']) && !is_string($_REQUEST['id']) && !isset($_COOKIE['date']) && !is_string($_COOKIE['date'])){ throw new Exception('error'); } } catch (Exception $e) { $msg = $e->getMessage(); } よろしくお願いします
質問は、初回ユーザならmysqlのデータベースに格納し、初回でなければcallback.phpから../../index.phpにログインしたScreen_nameを表示させたいのですが、どうにもうまくいかず、どなたかご教授して頂けませんでしょうか。 よろしくお願い致します。 <?php session_start(); require_once('twitteroauth.php'); define('CONSUMER_KEY', 'xxxxx'); define('CONSUMER_SECRET', 'xxxxx'); // getToken.php でセットした oauth_token と一致するかチェック if ($_SESSION['oauth_token'] !== $_REQUEST['oauth_token']) { unset($_SESSION); echo '<a href="getToken.php">token不一致。最初からどうぞ</a>'; exit; } // access token 取得 $tw = new TwitterOAuth(CONSUMER_KEY, CONSUMER_SECRET, $_SESSION['oauth_token'], $_SESSION['oauth_token_secret']); $access_token = $tw->getAccessToken($_REQUEST['oauth_verifier']); // Twitter の user_id + screen_name(表示名) $user_id = $access_token['user_id']; $screen_name = $access_token['screen_name']; // 初回ユーザかチェックするロジック　ここから分からなくなっています。。。。。。。 mysql_connect ('localhost', 'root', 'xxxx'); mysql_select_db('xxxx'); $user_id = get_current_user_id(); if ($user_id == 0) { $sql = "insert into xxxxx values (user_id char(50), screen_name char(255))"; } else { $user_id=$_POST['user_id']; }
WAMP初級者です。 いままでPEAR::DBを使って書いていたサイトがあり、PDOを利用するように書き換えています。 画面が真っ白になる現象に陥り、他の投稿によりご指導いただき、画面にエラーが表示されるようになったものの、エラーの対処方法がわからず、どなたかご指導いただければと思います。 コードを一つずつコメントアウトして画面が真っ白になるポイントをさぐったところ、問題の箇所がみつかりました。（ここをコメントアウトすると画面がちゃんと表示され、コメントアウトしないとエラーのみの白い画面がでてしまいます。） ●問題の記述 $connection->disconnect(); ●表示されるエラー Fatal error: Call to undefined method PDO::disconnect() in C:\Program Files\Apache Software Foundation\Apache2.2\htdocs\test\test2.php on line 406 そもそもこの記述は必要ないのでしょうか？ このページ自体は、あるDBからユーザーが検索をした結果が表示されるページになっていて、 まず、以下のように接続をしています。 // 接続 $connection = new PDO('mysql:host=127.0.0.1;dbname=test_db;charset=utf8','root','root', array(PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION, PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC, PDO::MYSQL_ATTR_USE_BUFFERED_QUERY => true, ) ); そのあと、クエリをくみたて、prepareして、値をbindValueしてexecuteして、テーブルを表示させるようにしています。 不特定多数のユーザーが検索をするので、事が終えたらdisconnectしないとダメなんじゃないかな、と思ってつけてみたんですが。。特に不要なのでしょうか。 初歩的な質問ですみませんが、どなたお助けいただけますと幸いです。 環境はApache/2.2.4 (Win32) PHP/5.4.22です 宜しくお願い致します。
こんにちは。 使用環境 OS：Turbolinux Appliance Server 3.0 Postfix：2.4.5 PHP：5.2.4 とあるサイトで空メールを受信すると自動でPHPを動かし、ワンタイムパスワードを返信するプログラムを利用しています。 今まで問題なく利用できていたのですが、最近ガラケーから空メールを送信した時だけワンタイムパスのみでなくエラーメールを返すようになりました。 PCやiPhoneからのメールにはエラーを返しません。 エラーメッセージは以下のような感じです Command died with status 1: "/usr/bin/php -q /home/.sites/ｘｘｘ/ｙｙｙ/web/onetime.php". Command output: zend_mm_heap corrupted どちらの場合もワンタイムパスは返信されてきますし、今まで動いていたことからも権限の問題はないと思われます。 何が原因なのか、またどうすれば解消するのかご存知の方がいらっしゃいましたらご教授お願いします。
Magical Formを使って複数のページ構成のホームページを作成しています。 問い合わせページからMagical Formを使ったフォームから入力後『確認』ボタンを押すとトップページに戻ってしまいます。 何かせってい方法が間違っているのでしょうか？ Magical Formは改良は加えておりません。
すいません。今さくらのレンタルサーバーでphpをアップロードしたのですが、 セッションがまったく動きません。 XAMPPのローカル環境では動いていますのでプログラムには間違いは無いのですが、 私はphpプログラムを組むのも初めてなもので原因をググっていました。 するとあるウェブサイトにさくらのレンタルサーバーで同様の症状に陥ったとのブログが ありまして、さくらはsession.save_pathを明示的に指定しなければセッションが使えないとの 内容でした。 （ <?phpinfo()?>で設定状況を調べました所session.save_pathはno valueでした） 恐らく自分と同じ症状なのでパスを指定すれば解決すると思うのですが、 さくらのphp.iniはロリポップやエックスサーバーとは違いラジオボタンやチェックボックスでの php.ini設定は一切できず、何も記載されていないテキストボックスがあるだけです。 私は今までローカル環境でしかphpをさわった事がないためphp.iniの設定の仕方が全く わかりません。 どなたかsession.save_pathを指定する方法教えてもらえませんか？ （下の例を見てもよくわかりません。何かファイルを作ってアップロードするのでしょうか？？） サイトにあった解決方法 ---------------------------------------------------------------------------------- php.iniにてsession.save_pathを明示的に指定（例：/home/user/tmp） ← 以前はno valueだった 指定したディレクトリに書き込み権限を与える
お世話になります。 jQueryの「 sortable 」というプラグインを使用して、データベースから 「id」、「name」、「price」、「no」というデータをselectして、ブラウザで並び順を変更後に updateするという流れですが、最終的にシリアライズした配列をDBへupdateできません。 「id」は連番にしてユニークな値が入っていて、「no」には並び順の値が半角数字で入れてあります。 シリアライズした配列のデータは、ブラウザで確認すると問題ありません。 恐らくupdateの際のforeachの処理が上手く行ってないように感じますが、 正常に「id」と「no」の整合性を取ってDBに投げるには、どの様に組み立てたら良いのでしょうか？ 以下が主要箇所のソースです。 ------------------------------------------------------- <script src="js/jquery-1.9.1.js"></script> <script src="js/jquery-ui-1.10.3.custom.js"></script> <script> $(function() { $(".sortable").sortable(); $(".sortable").disableSelection(); $("#submit").click(function() { var result = $(".sortable").sortable("toArray"); $("#result").val(result); $("form").submit(); }); }); </script> <form action="index.php" method="post"> <ul class="sortable"> <?php // DB接続 include "db_pdo_conn.php"; $sql1 = "SELECT id, name, price, no FROM sortable ORDER BY no"; $stmt = $conn->prepare($sql1); $stmt->execute(); foreach ($stmt as $row) { $id = $row["id"]; $name = $row["name"]; $price = $row["price"]; $no = $row["no"]; echo <<<li <li class="ns" id="$id">{$name} {$price} {$no}</li> li; } $result = $_POST['result']; $result_array = explode(',', $result); //シリアライズした$result_arrayを表示 print_r(serialize($result_array)); //データが送信されたときに変更する if (count($_POST)) { //nomを「 1 」から振り替える $nom = 1; foreach ($result_array as $id){ $nom++; $sql2 = "UPDATE sortable SET no='$nom' WHERE id='$id'"; $stmt = $conn->prepare($sql2); $stmt->execute(array($no_comp, $id_comp)); } } ?> </ul> <input type="hidden" id="result" name="result" /> <button id="submit">submit</button> </form> ------------------------------------------------------- ３日程試行錯誤しておりますが、解決できる糸口が見つからないので ご存知の方がいらっしゃいましたら、ご教示の程どうぞよろしくお願い申し上げます。 ---------------- ▼スペック PHP 5.3.3 MySQL 5.0.95 ----------------
パーフェクトPHP(技術論社)P47 の■$_SERVSRの項目で質問があり、 教えて!gooの掲示板では文字制限があり、以下のURLに転記しました。 http://homepage3.nifty.com/mtaiyo/server.htm 　以上ですが、よろしくお願いします。
XAMPPのローカル環境でphpのプログラムを組んだのですが、いざ実際のサーバーにアップロード してもうまく動きませんん。 調べた結果セッションがちゃんと動いていないという結論に達しました。 単純なセッションなのですが、ローカル環境ですとちゃんと動くのが、サーバーにアップすると $_SESSION['sa']が空っぽの状態となります。 サーバーにアップロードしたindex.phpの中にecho $_SESSION['sa'];と書き込むと 「あいうえお」とちゃんと表示されますのでセッションには格納されているようなのですが 値をきちんとセッションで持ち越せないようです・・。 ローカルでは下記のファイルはちゃんと持ち越せていて、実際のサーバーではダメな理由がまったくわかりません。 何か特別な設定が必要なのでしょうか？何時間もググっていますがそういった設定が必要と いう記述は見当たらないのですが・・。 サーバーはさくらサーバーでバージョンはPHP 5.4.22となっています。 ------------------------------------------------------------ ファイル名 index.php <?php session_start(); $data="あいうえお" $_SESSION['sa']=$data; ?> <a href="aaa.php">aaa.phpへのリンク</a> ------------------------------------------------ ファイル名aaa.php ------------------------------------------------ <?php session_start(); $sss = $_SESSION['sa']; echo $sss ; ?> ------------------------------------------------
php初心者です XANＰＰで見てみたら、エラーがでました 変数チェックにissetを使っていないと気が付いたのですが そこで下記のようにしたのですが、POSTに何もなかった場合は$idの中身は、何もないですよね? 何も中身がない$idがechoのところで出現してもエラーにならないのですか？ if (isset($_POST['id'])){ $id=$_POST['id']; } echo $id; よろしくお願いします
知っている方いましたらご教授お願いいたします。 ■現象 safari・クロームにてCookie情報を保存したハズなのに 上記、2つのブラウザを終了⇒起動すると 保存したハズのCookie情報が消えている。 ■PHPソース $timeout = time() + (365*30) * 86400; setcookie('LOGIN_ID',$USER_LOGIN_ID_TEXT, $timeout,'/','lolipop.jp'); setcookie('LOGIN_PASS',$USER_LOGIN_PASSWORD_TEXT, $timeout,'/','lolipop.jp'); setcookie('LOGIN_CHK','checked', $timeout,'/','lolipop.jp'); ■補足 上記3つの、ログインID・パスワード・保存するかどうかのチェックボックスの3つをクッキーに保存しています。 ドメインはロリポップを利用しています。 以上、よろしくお願いいたします。
PHP・SQL初心者です。 MySQLとPHPでサイトを構築しています。 データベースへの接続・テーブル内容の表示等はできるのですが、リンクをどのようにすれば貼り付けることができるのかわからなかったため質問させていただきました。 ID 名前　友達１　友達２　・・・ 1　田中　佐藤　前田 2　山田　XXX　XXX 3　佐藤　XXX　XXX 4　前田　XXX XXX ・ ・ このようなデータベースを用意し、 名前が「田中」さん（ID が 1）のページに ------------------------------------------- 田中さんの友達 友達１：佐藤 友達２：前田 ------------------------------------------- このように表示し、 「佐藤」「前田」の箇所にデータベースの「ID」を利用してリンクを貼り付けたいと考えております。 データの抽出・画面への表示は、 $quryset = mysql_query("SELECT ID,名前,友達１,友達２ FROM テーブル名 WHERE ID= '1' "); while ($data = mysql_fetch_array($quryset)){} このような関数で行っております。 表示は問題なくできているのですが、 表示の「佐藤」「前田」の箇所にリンクを設定するの方法がわかりません。 「ID」　= 1 の情報を表示しているため「山田」と表示している箇所に <a href="http://XXXX.com/$data[ID].php">山田</a> と設定してリンクをつけることはできます。 友達の欄の「佐藤」「前田」の箇所にリンクをつけることができません。 データベースの「ID」欄、を利用して ------------------------------------------- 田中さんの友達 友達１：<a href="http://XXXX.com/ID名.php">佐藤</a>　　　　ID名＝佐藤さんのID欄にある2 友達２：<a href="http://XXXX.com/ID名.php">前田</a>　　　　ID名＝前田さんのID欄にある4 ------------------------------------------- ↓↓↓ IDが抽出されて ------------------------------------------- 田中さんの友達 友達１：<a href="http://XXXX.com/2.php">佐藤</a> 友達２：<a href="http://XXXX.com/4.php">前田</a> ------------------------------------------- このような形で表示できれば理想なのですが、 使用する関数やＳＱＬの構文がわかりません。 初心者のため、考え方が根本的に間違っているのかもしません。 お詳しい方、まったく別の方法でも構いませんので解決する方法をご教授頂ければ幸いです。
下記のようなPHPスクリプトで、function()で、定義を後置きにして、コールしているのですが、 定義本体のほうでエラーが出ます。配列を初期化して、POSTメソッドでキャッチしたインデックスの 都道府県を画面出力したいだけなのですが。 Parse error: syntax error, unexpected '=', expecting ')' in C:\xampp\htdocs\formmail\php\formmail.php on line 419 <?php printselect1(); ～ // ユーザー関数定義 function printselect1(){ $array = array(1=>"北海道", 2=>"青森県", 3=>"秋田県", 4=>"岩手県", 5=>"山形県", 6=>"福島県", 7=>"茨城県", 8=>"新潟県", 9=>"石川県", 10=>"群馬県", 11=>"栃木県", 12=>"千葉県", 13=>"東京都", 14=>"埼玉県", 15=>"神奈川県", 16=>"山梨県", 17="長野県", 18=>"静岡県", 19=>"福井県", 20=>"富山県", 21=>"愛知県", 22=>"和歌山県", 23=>"三重県", 24=>"大阪府", 25=>"京都府", 26=>"兵庫県", 27=>"広島県", 28=>"岡山県", 29=>"山口県", 30=>"島根県", 31=>"鳥取県", 32=>"高知県", 33=>"香川県", 34=>"愛媛県", 35=>"徳島県", 36=>"福岡県", 37=>"長崎県", 38=>"佐賀県", 39=>"大分県", 40=>"熊本県", 41=>"宮崎県", 42=>"鹿児島県", 43=>"岐阜県", 44=>"奈良県", 45=>"沖縄県"); // 初期化 print $array($_POST['select']); } ?> 何回もエラーが出るので、どこがおかしいのか教えていただきたいです。
次の判定をしたいのですが、正しい値が返ってきません。 PHPマニュアルには「三項演算子を"積み重ねて"使用することは避けましょう。ひとつの文の中で複数の三項演算子を使用した際のPHPの振る舞いは、少々わかりにくいものです。」という記述がありますが、PHPで正しく判定する方法はありますか。 (1) 総所得金額（$income）が、33万円（$deduction）を超えない世帯は、7割軽減されます。 (2) 総所得金額が、33万円に被保険者（$people）（当該納税義務者を除く。）１人につき245,000円を加算した金額を超えない世帯は、5割軽減されます。 (3) 総所得金額が、33万円に被保険者１人につき35万円を加算した金額を超えない世帯は、2割軽減されます。 $income = $income <= $deduction ? '0' : $income - $deduction; $judge = ($income = '0') ? '7割軽減' : ($income < ($people - 1) * '245000') ? '5割軽減' : ($income < $people * '350000') ? '2割軽減' : ''; PHP マニュアル http://www.php.net/manual/ja/index.php
　以下ですが！ ＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾　 サンプル１ 　<?php $a = 1; $b = 2; function Sum() { $GLOBALS['b'] = $GLOBALS['a'] + $GLOBALS['b']; } Sum(); echo $b; ?> ＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾　 　以上ですが、 $GLOBALS['b']と echo $b;を 　以下は、わたし（素人）、的に、$GLOBALS['c']と echo $c;　に 変更しました。 　　 ＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾ 　サンプル２ <?php $a = 1; $b = 2; function Sum() { $GLOBALS['c'] = $GLOBALS['a'] + $GLOBALS['b']; } Sum(); echo $c; ?> ＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾ 　以上ですが、これは、構文的には、間違っていないでしょうか！？ 　最初のプログラムと、同じ結果になるのでしょうか？ 　 　　 　今までの、参考書にも”そこのところは”の解説があったのか！そもそも解説自体が 　存在しなかったのか、定かではございませんが、読んだ記憶がございません？ 　以上よろしくお願いいたします。 　 　　 　考え方を模索中です。
WAMP初級者です。 いままでPEAR:DBを使って書いていたコードを、プリペアドステートメントやらPDOやらにコードを変更していますが、画面が真っ白になるケースがでてきました。 今までは素直にエラーを表示してくれていたので、すぐに対処ができたのですが、コードを何度見直しても間違いがみあたらず、エラーも何も表示してくれないのでどこでエラーがでているかわかりません。 php.iniで error_reporting = E_ALL　がコメント解除されている display_errors = On になっていることを確認していますが、それでも何も表示してくれません。 おそらくどこかしらミスがあり、真っ白なのだと思いますが、、どのように探るべきでしょうか？ 初歩的な質問ですみませんが、どなたお助けください。 環境はApache/2.2.4 (Win32) PHP/5.4.22です
オープンソースのPHPをレンタルサーバにアップロードし、アクセスすると、 最初は動作していたのですが、突然以下のエラー画面になってしまいました。 Fatal error: Out of memory (allocated 19136512) (tried to allocate 250744 bytes) in それ以降、何度アクセスしてもエラー画面しか出なくなってしまいました。 Windows7で使用しているブラウザはChrome、IE11の最新版ですが、ブラウザを再起動しても解消されず。 レンタルサーバのサポートセンターに問い合わせたのですが、 サポートセンター側ではエラーが出ずに正しく表示されたそうなので現象確認ができませんでした。 試しに私の別のPC(Win7)で試したところ正しく動作しました。 結局、私のメインのPCからは使えない状態です。 エラー内容でググって、 .htaccessに php_value memory_limit 64M を記述してrootに置いてありますがメインPCからだけは動作していないという現状です。 (他のPCでは動作しています。) 原因や対処法など心当たりがあれば教えてください。
PHP（レンタルサーバー：5.3.6）（ローカル：5.3.26）を使用しています。 簡単なログインフォームを作っていました。 ローカルでテスト運用したところ、問題なく動作していたのでレンタルサーバーにアップロードしたところ、SESSIONが動いていない（?継承していない?）ことに気づきました。 そこでphpinfoを確認すると レンタルサーバーは、 session.cookie_httponly=1(On) session.cookie_secure=1(On) になっていました。XSS攻撃に全部ではないけどレンタルサーバーの設定だと有効だということなので、ローカルもレンタルサーバーの設定に合わせたいと思っています。 ※設定をoffにすると問題なく動作します。 sample2.phpで、「$_SESSION['sample_title']」が表示されなくなってしまいました。 どのようにすれば、sessionが正しく動作するかご教授お願いいたします。 抜粋スクリプト ■sample1.php session_start(); session_regenerate_id(TRUE); $_SESSION["sample_title"] = "PHPのSESSION";//セッション登録 echo "$_SESSION['sample_title']に代入した値は「<?php echo $_SESSION['sample_title'] ?>」です。"; echo "<a href = 'sample2.php'>次のページ</a>"; ■sample2.php session_start(); session_regenerate_id(TRUE); echo "受け取ったセッション変数の値は「".$_SESSION['sample_title'] ."」です。";
皆さんこんにちわ。 趣味でＰＨＰを始めたいと思うのですが、アパッチのインストール方法がよく分かりません。 色々なサイトを見て調べたのですが、書かれた時期が古いらしく、結局何をインストールしたらよいのか分かりませんでした。 おそらく、http://httpd.apache.org/からインストールするのだとは思うのですが……。 皆さんよろしくお願いします。
　以下の意味ですが、わたし的（素人）には何を言いたいのか、物に例えると、輪郭程度でしたらわかります。 　具体的に何を言いたいのでしょうか！？（PHP教本にありました。）　 　＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾ $GLOBALS グローバルスコープに定義された変数名をキーとして連想配列を持ちます。 <?php $globals_test = 1; echo $globals_test,PHP_EOL; (1) echo $GLOBALS[‘globals_test’],PHP_EOL; (2) 　(1)と(2)は同じ変数を参照にしており、このスクリプトでは１が出力されます。 PHPでは関数の中などのローカルスコープでも、$GLOBALS変数を用いてあらゆるグローバル 変数への読み書きができます。globalキーワードと同様、スコープを区切らずにあらゆる変数にア クセスできてしまうと、思わぬ個所で値が変更され、それが他の個所で思わぬ影響を及ぼす場合があ ります。$GLOBALSを利用するのはやむを得ない場合や、利用用途がそのプログラムの開発に携 わるすべての人に明確である場合に限るべきです。 ＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾ 　以上よろしくお願いいたします。
すいません。初めてphpを組んでアップロードしてみたのですが、上手く動かずプログラムがそのまま表示されます。 普通のhtmlのみで作ったサイトは持っているのですが、phpは初めてでググっても実際にどのようにアップロードして動かすのか説明したサイトなどが見つからず困っています。 サーバーはさくらのレンタルサーバーでphpは使えます。 サーバーのphpの設定画面にphp.iniというのがありますがこれを何か弄らないとダメなのでしょうか？ ローカル環境では動いたのですが、他に何が必要なのでしょうか？ （ファイル名はちゃんとindex.phpとしてあります）
お世話になります。 現在の日時を取得して、「 現在の日時より過去（以前）のデータが有る場合は、 該当のカラムデータを変更 」というスクリプトを実装しようと思っています。 例えば、「 現在の日時より過去（以前）のデータをSELECTする 」には、 --------------------------------------------------------------------- //現在の日時を取得 $time_now = date("Y/m/d H:i:s",strtotime("now")); // 「 $time_now 」より過去のデータを「 p_end_time 」カラムから取得 $sql = "SELECT id, user_id, p_end_time FROM テーブル名 WHERE p_end_time <= '$time_now'"; $stmt = $conn->prepare($sql); $stmt->execute(); foreach ($stmt as $row) { //取り出した「 user_id 」を「 $user_id 」に置き換える。 $user_id = $row["user_id"]; echo $user_id."<br>"; } --------------------------------------------------------------------- とすれば、該当のデータが出力されますが、同じ条件でUPDATEするには どの様な構文にすれば良いでしょうか？ 「 user_id 」及び「 p_end_time 」の型は、何れもvarcharです。 「 p_end_time 」カラムをvarcharとした拘りは特にありません。 date等に変更することも可能です。 何卒、ご教示の程よろしくお願い申し上げます。 ---------------- ▼スペック PHP 5.3.3 MySQL 5.0.95 ----------------
427. fclose($handle); // ファイルハンドルをクローズ 428. ftpclose($ftp); // ftpサーバーへの接続をクローズ 429.//header("Location:tanks.html"); 430.} // エラーフラグがオフの場合のカッコ 431.?> 432.</body> 433.</html> 上記のようなスクリプトの最終部分で、 PHPシンタックスチェッカーで、 上記の434行目でエラーが出ます。 エラー内容は「Parse error: syntax error, unexpected end of file in CODE on line 434 Errors parsing CODE 」と、表示されます。 どこがいけないのか教えていただきたいのですが。
PHPを勉強しながらサイトを作っているものです。 ようやく使えるレベルのサイトができたので、そろそろ知人にサイトを公表しようとして、サーバーにアップして、Choromeで最終チェックをしてていると、「フィッシングが報告されたウェブサイトを事前に検出しました」と表示されて、そのページを見ることができなくなりました。 もとより、私には、フィッシングのためのサイトを作る技量はないのですが、フィッシングサイトと間違われて大変、迷惑しています。 一応、「誤った警告の訂正」で訂正してみましたが、相変わらず、警告画面が出ます。 どのようにすれば、解除されるのでしょうか？ ◆質問(1)　誰がこのサイトを開けても、このように表示されるのですか？ 私が、Chromeで開ければ、そのような警告が出るということは、知人たちがChromeでそのサイトを見ると同じように表示されるのですか？ ◆質問(2)　サーバーは関係しますか？ ページをアップしたのは、無料でPHPが使えるサイトなのですが、そのようなサーバーにアップしたのが理由でしょうか？ ◆質問(3)　パスワードの入力部分があります。 書き込みページに行くときに、パスワードを入力してもらいます。これは関係のない人が書き込みページに行って、変なことを書かれることを防ぐためなのですが、これがフィッシングサイトに間違われたことと関係ありますか？ ◆質問(4)　フィッシュサイトに間違われないようなコツのようなものはありますか？ 今後も似たようなページを作る予定なので、フィッシュサイトに間違われないようなポイントのようなものはありますか？ ◆質問(5)　Chromeでの「誤った警告の訂正」は効果がありますか？ とりあえず、「誤った警告の訂正」はしたのですが、相変わらず警告は出ます。時間がたてば、申告内容が反映されるという理解でいいですか？　本物のフィッシュサイトを作っている人も同じことをするので、あまり意味がないような気もしますが、どうでしょうか？ 以上、よろしくお願いします。
下記の通り、問い合わせフォームを作成する場合なのですが 「その他」を選択した場合、右側にテキストを打たせたいと思っております。 その際、タグはどのように記述すれば良いでしょうか？（下記のような記述で合っていますか？） <table> <tr> <td>東京で良く行く場所はどこですか？※選択必須です</td> <td> <input type="radio" name="良く行く場所" value="新宿" />新宿<br /> <input type="radio" name="良く行く場所" value="渋谷" />渋谷<br /> <input type="radio" name="良く行く場所" value="その他" />その他 <input size="20" type="text" name="良く行く場所" value="その他"/></td> </tr> </table>
お世話になります。 毎回気になっていることがあります。 MySQLでアップデートやインサートを含む一連の処理が正常に行われたかを確認する方法として現在クエリー実行結果がTrueかFalseで判定をしているのですが、これは正しい方法なのでしょうか？ 例えばUPDATEをしたあとにphp内で別の処理をする場合、これらのすべての処理が完了したかを確認するし、途中で中断していたらその前の処理も行わない(取り消す)ということは可能なのでしょうか？ 例: 1、テーブルからAという値をセレクト 2、A+1 3、テーブルAにアップデート 4、A+1 5、テーブルBに4の値を書き込み 3の処理が失敗している場合、5の処理は行わないというようのしたいのです。 毎回If分岐というのがよいのでしょうか？ 複数回判定が必要な場合などぼ方法を教えていただけると幸いです。
こんばんわ。 PHPでスクリプトを組んでいるのですが、とある文字列の最初から調べていって、 指定文字列その1のあとに指定文字列その2を含まず指定文字列その3がくるかどうか、 という条件を作りたいと思うのですが、どうにもうまくいきません・・・。 具体的には、 $strA="あいうえ(おかきく、けこさし)、すせそ" $strB="あいうえ(おかきく)、けこさし、すせそ" という文字列があったとしてAをtrueに、Bをfalseにしたいと思っています。 preg_match()で"/.*(\(|（).*(?<!\))(、)/u"としてみたのですが、 結局両方マッチしてしまいます。 「(」が来たあとに「)」が入らずに「、」がくる組み合わせがあった場合のみtrueにすることはできますでしょうか？ かなり自力で正規表現等も調べましたが、●と○の間に■を含まないという条件をどうしても作ることができなかったため、質問させて頂いた次第です。 どなたかお助けのほど、よろしくお願いします！！
現在PHPで動くWebアプリを作成中です。 このPHPの動作は約1分動作します。 このPHPを動作中にブラウザを閉じたり、別のページに遷移したり、またはブラウザの「中止」ボタンや「更新」ボタンを押すと、実行中のPHPのプロセスってどうなってしまうのでしょうか？ これはブラウザ側からPHPの動作を停止せよという命令が行くのですか？ それともPHPは最後まで実行されて、その結果のレスポンスをブラウザが受け取らないだけなのでしょうか？ やりたいことがあるのですが、SQLiteはデータベースの同時書き込みができないので、他のPHPがそのデータベースを書き込む前にファイルロックと同じ要領でファイルをロックし、書き込み終了したらファイルロックを解除する、というのをやりたいのですが、書き込み中にPHPのプロセスが停止してしまったらファイルがロックしたままになるかと思って質問しました。 どうぞよろしくお願い致します。
<html> <head><title>no_global.php</title></head> <body> <?php> $a = 1; function gtest(){ print ($a+1); } gtest(); ?> </body> </html> 実行結果は 　１ 　とPHPの教本にあります。 　 　$a = 1 の１は、数字と認識しなくて、文字扱いになるみたいです！ 　　なので計算結果が「１となる」と・参考書には色々書いていあるんですが、 　たぶんそれをいいたのでしょう？ 　 　この場合、PHPだけでなく、他の言語でも同じ結果がでるのでしょうか？ 　　もし、PHPだけでしたら、不思議です。 　 　
<?php $str = 'PHP (PHP:Hypertext Preprocessor)'; $msg = <<<EOD {$str}は、サーバサイドで動作する簡易なスクリプト言語です。 まずは、。本書でじっくり基礎を固めましょう。<br /> "Let's start、 everyone!!" EOD; print $msg; なぜエラーが取れないのでしょうか？
現在Javaアプレットを作成しており，サーバ上でデータ保存を行いたいのでPHPを勉強しています． アプレットから送信したデータをPHPで受信することができず，苦戦しています． アプレットからPHPを呼び出す，PHPによるファイルに書き込むことはなんとかできました． アプレット，PHP間の送受信を行う簡単なサンプルがあれば教えていただきたいです． 似たような質問はありましたが，理解が追いつかなかったため，できれば具体的に教えていただけると嬉しいです． よろしくお願いいたします．
これから1ヶ月の間に誕生日を迎える社員を抽出して表示する データベースを作成してここ1ヶ月に誕生日を迎える社員を表示したいです。 12月05日 木村 12月21日 佐々木 01月02日 加藤 上記のように表示したいです。日付が12月6日になったら12月5日生まれの木村は消える。 テーブル名 shop name VARCHAR型 birth DATE型 name | birth ----------------- 田中｜1992-11-15 吉田｜1990-10-01 佐藤｜1885-08-02 検索してみて似たようなものを真似してみたのですが、何も表示されない状態です。 -------------------------------------------------------------------- $stmt = $dbh -> query("SELECT * FROM shop WHERE birth BETWEEN curdate() - interval 1 month + interval 1 day AND curdate()"); while($row = $stmt -> fetch()){ print date('m月d日',strtotime($row['birth'])); print($row['name']); } -------------------------------------------------------------------- これはどのようにしたら抽出して表示できるでしょうか？ ご存知の方いらっしゃいましたらご教示ください。 よろしくお願いします。
yahooのAPIで知恵袋サンプルプログラムで知恵袋質問でもサイトをコピーしてきたんですが、エラーが出てきて実行できません。 どのように変更すれば実行できますか？ これで解答いただいてアプリケーションIDを入れて実行したらエラーが出たためもう一度質問です。 Parse error: syntax error, unexpected '' (T_ENCAPSED_AND_WHITESPACE), expecting identifier (T_STRING) or variable (T_VARIABLE) or number (T_NUM_STRING) in /opt/lampp/htdocs/www/sample3.php on line 28 エラーはこのようなエラーです。 よろしくお願いします。 <?php /** * Yahoo! JAPAN Web APIのご利用には、アプリケーションIDの登録が必要です。 * あなたが登録したアプリケーションIDを $appid に設定してお使いください。 * アプリケーションIDの登録URLは、こちらです↓ * http://e.developer.yahoo.co.jp/webservices/regis … */ $appid = ''; // <-- ここにあなたのアプリケーションIDを設定してください。 $CHIE_SEARCH_API_HOST = 'chiebukuro.yahooapis.jp'; $CHIE_SEARCH_API_URL = '/Chiebukuro/V1/questionSearch'; $CHIE_SEARCH_API_APPID = $appid; function escapestring($str) { return htmlspecialchars($str, ENT_QUOTES); } print<<<EOM <html> <head> <meta http-equiv="Content-Type" content="text/html" charset="utf-8"> <title>知恵袋デモサイト - 質問検索(php)</title> </head> <body> <h1>知恵袋デモサイト - 質問検索(php)</h1> EOM; print '<form action="./'. basename($_SERVER['SCRIPT_NAME']) .'">'; print '<input type="text" name="query" value="' . escapestring($_GET ['query']) . '">'; print '<input type="submit" value="search">'; print '</form>'; if("" !== $_GET['query']){ $responseXML = ''; { $curl = curl_init(); curl_setopt($curl, CURLOPT_URL, "http:// ${CHIE_SEARCH_API_HOST}${CHIE_SEARCH_API_URL}?appid= ${CHIE_SEARCH_API_APPID}&query=".urlencode($_GET['query'])); curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1); $responseXML = curl_exec($curl); curl_close($curl); } { $xmlObj = simplexml_load_string($responseXML); foreach($xmlObj->{'Result'}->{'Question'} as $que) { print("<li>{$que->{'Content'}}<br><a href=\"{$que->{'Url'}}\">{$que-> {'Url'}}</a>\n"); } } } print<<<EOM <hr /> <!-- Begin Yahoo! JAPAN Web Services Attribution Snippet --> <a href="http://developer.yahoo.co.jp/about"> <img src="http://i.yimg.jp/images/yjdn/yjdn_attbtn2_105_17 … width="105" height="17" title="Webサービス by Yahoo! JAPAN" alt="Webサービス by Yahoo! JAPAN" border="0" style="margin:15px 15px 15px 15px"></a> <!-- End Yahoo! JAPAN Web Services Attribution Snippet --> </body> </html> EOM; ?>
将来、プログラマを目指してるものです。 javaやc#など現在、通っている専門学校で学んでいるのですがPHPがわかるようになればjavaやc#など理解がすすんだりするでしょうか？ 全然違うプログラミング言語ですがPHPを勉強すれば役立つでしょうか？ 回答よろしくお願いします。
プログラム初心者です 質問1 HTMLのフォームのチェックボックスから配列でphpに値を渡したときにチェックした値が1個しかなかった時には配列として受け取っているのでしょうか?それとも一個しかない場合は変数として受けとっているのでしょうか？ 現状ではissetで調べて値がある場合にはその配列をforeachで取り出して実行しています（実際にやってみたら値1個でも動いていますが気になったので教えてください） 値のチェックはissetのみでいいでしょうか？ 質問2 MySQLの方は、チェックの個数分のレコードを削除するために繰り返し処理の中でsqlを最大20回発行するのはダメな処理ですか?（チェック1個の場合は1回のみsqlを発行しています） 一般的に使われているならこれでいこうと思います よろしくお願いします
お世話になります。 現在商品のデータベースを作っているのですが、商品とそのカテゴリをデータベース上でそれぞれ別のテーブルにて保存しています。 【商品】 番号　　商品名　　カテゴリ 1 　　　 パソコン　　　1 2　　　　洗濯機　　 　2 3　　　　車　　　　　　3 【カテゴリ】 番号　カテゴリ名 1 OA機器 2　　　家電 3　　　大型 カテゴリ数が200ほどあり、毎回ページを読み込ませる際に、カテゴリ名を表示させるためにカテゴリテーブルのすべてのデータをSELECTで抽出し、 $category[1] = "OA機器"; $category[2] = "家電"; $category[3] = "大型"; というように配列に入れた後、カテゴリ名を表示させているのですが毎回ページ移動をするたびに再読み込みが必要なため、メモリを無駄に消費してしまっているように思えます。 そこで質問です。 ・毎回のロードをやめSESSIONなど一時的に入れたほうがレスポンスは良いのでしょうか？ ・または手動にはなりますがデータベースをやめて、カテゴリだけで一つファイルを作りその中に上記の配列を記述し、requireなどで読み込む方が良いのでしょうか？ 上記のカテゴリ分類以外にも「色」や「大きさ」などでも細かく分類したく、頭を抱えています。 よいカテゴリ分岐方法等ありましたらご教授いただけると幸いです。 どうぞよろしくお願い致します。
wordpressの勉強をしています。 wordpressのテーマで定義された変数や関数が、どこで定義されているかを探すのに、もっとも効率の良い方法はなんでしょうか？ 例えば、テーマ/includes/featuredposts/template.phpに、oshietegoo($question, $answer)というのがあり、このtemplate.phpには、oshietegooが二つの因数に対して何をするのかわからないとします。 こういったものがどこでどのように定義されているかを探す最速の方法は何でしょうか？
MySQLのデータベースのテーブルに毎日1つのカラム（当日の名前のカラム)下記のようなPHPを作りました。 このPHPをクーロンで1日に1回踏むことにより、データベースの日付カラムを追記していくことを考えています。 下記のPHPだと、 ALTER TABLE `www_dairy` ADD `12-1` INT NOT NULL DEFAULT 0; という形で「12月1日」の固定値が追記されることになっています。 この固定値を「当日の変数としたい」というのが希望です。 print date("n-j"); で当日の日にちの変数は取得出来ます。 $today = date("n-j"); として変数を設定したまでは良いのですが、これを ALTER TABLE `www_dairy` ADD `12-1` INT NOT NULL DEFAULT 0; の12月1日の欄に変数として与える方法がわかりません。 ご教授いただきたくお願いいたします。 <?php $link = mysql_connect('localhost', 'root', 'password'); if (!$link) { die('接続失敗です。'.mysql_error()); } print('<p>接続に成功しました。</p>'); print date("n-j"); $db_selected = mysql_select_db('db_name', $link); if (!$db_selected){ die('データベース選択失敗です。'.mysql_error()); } print('<p>データベースを選択しました。</p>'); mysql_set_charset('utf8'); $today = date("n-j"); print('<p>データを追加します。</p>'); $sql = " ALTER TABLE `www_dairy` ADD `12-1` INT NOT NULL DEFAULT 0; "; $result_flag = mysql_query($sql); if (!$result_flag) { die('ADDクエリーが失敗しました1。'.mysql_error()); } $close_flag = mysql_close($link); if ($close_flag){ print('<p>切断に成功しました。</p>'); } ?>
PHPのある教本の内容で質問があります。 　以下質問内容です。 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 　■2.1.5　出力 ------------------- PHPプログラムでは、PHPブロックの中でecho文や、print文など、出力命令を使ったものに加 え、PHPブロックの外側にあるものがすべて出力されます。※１“CLIで実行している場合”は 標準出力、Webサーバを通してPHPが実行された場合、出力はWebブラウザなどのクライアン トになります。 　Webサーバを通して実行された場合、出力は自動的にバッファされています。これは、データ（主 にHTMLとなるでしょう）を出力する前にHTTPヘッダを出力しなければならないことに起因して います（バッファを解除することもできます）。 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 　問い１ 　　　　　※１“CLIで実行している場合”とありますが、逆もあると解釈した場合“CLIで実行してい 　　　　ない場合”もありえるのですか？　もしあったら、どんな場合を言うのですか！？ 問い２　　はっきり言って、私は“■2.1.5　出力”文章の内容は“なんとなくしか”分かりません！？　 　　　　　出版上の文字制限内での文章で簡潔に書かれていて、私にとりまして、解説がほしいで 　　　　　す。解説を交えた文章で表現するのであれば、どんな文章になりますか！？ 　　　　 　　　　　以上宜しくお願いします。
パーフェクトPHP（技術評論社） 　の教本で現在勉強中です。 　以下よろしくお願い致します。 中級以上レベルなの難しいです。他にPHPの基礎教本を６０％やりました。 しかし掲示板に質問するたびに、その”教本は捨てなさい” みたいなご回答が多かったので、その教本はやめました。 　 　その他、何が良いPHPの教本がないか、掲示板で書き込んだところ 　上記の本が良いとの回答を得ましたので、購入しました。 　　さて本題に入ります。 　パソコンの環境でOSはWindows７です。 　パーフェクトPHP教本の 　P30~P31にかけての質問です。 　ご回答されるお方は、教本がないので、教本内容を記載しました。 　以下教本の内容です。 　１．２．８　ソースからのインストール 　------------------------------------- PHPはオープンソースなので、ソースからインストールことが可能です。なおここはLinux 上で、Apache２が既にインストールされているものとし、コマンドライン上での操作を前提として 進めます。 以上は教本内容ですが、 この手順はLinuxの設定になるのか、さだかではございませんでしたので、以下質問します。 もし　Linuxの設定でしたら、以下の手順はLinuxの設定だと教えてもらえたら光栄です。 　■手順１ 　　PHPのソースを取得して、展開を行います。php-NNとなっている個所にはPHPのバージョン 　が入ります。執筆時点での最新バージョンはPHP5.3.2なので、php-5.3.2となります。 　　最新バージョンの確認はPHPの公式サイト（http://www.php.net/downloads.php）より行って 　ください。展開が完了したら、展開したディレクトリの中に入ります。 　$ wget -0 php-NN.tar.gz http://jp2.php.net/get.php-NN.tar.gz/from.this/m … $ tar zxvf php-NN.tar.gz $ cd php-NN 　■手順２ 　　PHPのインストールを行います。configureでは様々なオプションを指定することでPHPの拡張 　モジュールを有効/無効の切り替えが行えます。オプション一覧は./configure --helpを実行す 　ること閲覧できます。 　　今回はApachとMySQLおよび、マルチバイト文字列のサポートを有効にするオプションを指 　定します。Apacheのサポートを有効にするに当たり、apxsヘのバスを指定する必要があります。 　Apacheをソースからインストールした場合は通常/usr/local/apache2/bin/apxs、パッケージから 　インストールした場合、CentOS/Fedoraであれば/usr/sbin/apxs、Debian/Ubuntuであれば/usr/ bin/apxs2となりますので、環境に合わせて/path/to/apxsを置き換えてください。 　 　$ ./configure --with-apxs2=/path/to/apxs --enable-mbstring --with-pdo-mysql $ mak $ sudo make install 　後　手順3~手順6まであり、手順6ではApacheを再起動するのみです。 　　全部入力するのは大変ですん 　　今回は、手順２までの質問をします。 　　　 　以下手順１の質問です。 　　　　　http://www.php.net/downloads.php 　　から 　PHP-5.5.6.tar.bz2 　ダウンロードして解凍してパソコンに保存しています。 　　質問１　以下プログラムは、記載自体が何のことか分かりません？ 　　　　　　　ファイルで、パソコン側の何処かにある代物なのでしょか？ 　　　　　　　全く見当もつきません！？ 　　　　　　 　　　　　　 $ wget -0 php-NN.tar.gz http://jp2.php.net/get.php-NN.tar.gz/from.this/m … $ tar zxvf php-NN.tar.gz $ cd php-NN 　　　 　 　 　 　質問２　■手順２の 　　　　　　　最初にいきなり　”PHPのインストールを行います。” 　　　　　　　とあるのですが、何をインストールするのですか！？ 　　以上　２件宜しくお願い致します。
　パーフェクトPHPの教本 http://www.amazon.co.jp/%E3%83%91%E3%83%BC%E3%83 … の　P30　１．２．８　ソースからインストール 　で　■手順１　に　PHPのソースを取得して、展開を行います。・・・と続くのですが？ 　　　　それで、何のため　にインストールするのか中級版なので説明がないのですが 　とりあえず、やみくもに進めています。 　 　それで、 　 　http://www.php.net/downloads.php 　教本には”以上のURLより行ってください”との紹介があり、URLをクリックすると 　”PHP-5.5.6.”が３種類ほどありました。 　 　以下URLの”PHP-5.5.6.”のをコピー・ベーストしました。 　　どれを入れても同じですかね！？ 　 宜しくお願いします。 PHP-5.5.6.tar.bz2 [12679 KB] 2013年11月14日 1472b1f968a2a4ae8b26f3134a116011 PHP-5.5.6.tar.gz [16418 KB] 2013年11月14日 82968eac50c523ecf7a05855cb5c3d0a PHP-5.5.6.tar.xz [10260 KB] 2013年11月14日 77ad90035931aacb95d11318b09c12ca PHP 5.5のためのGPGキー
プログラム初心者です パスワードチェックする方法をおしえてください 質問1 半角英数字で8文字。その中に数字が含まれているかチェックしたいです 今までは数字が含まれているかチェックできていませんでした if(!preg_match("/^[a-zA-Z0-9]+$/", $pass) ||(strlen($pass) < 8)){ print "8文字以上の半角英字の中に数字を混ぜてください"; } 質問2 暗号化する前にmysqli_real_escape_stringで処理させてもいいですか？それとも暗号化した後にmysqli_real_escape_stringで処理させたほうがいいですか？ $pass = mysqli_real_escape_string($link,$pass); $pass=hash('sha256',$pass); この下にDBに入れる処理 よろしくお願いします
PHPのプログラムで質問です。 yahooのAPIで知恵袋サンプルプログラムで知恵袋質問でもサイトをコピーしてきたんですが、エラーが出てきて実行できません。 どのように変更すれば実行できますか？ <?php * http://e.developer.yahoo.co.jp/webservices/regis … */ $appid = '<dj0zaiZpPVZFUU5lWnQxM3dSSCZzPWNvbnN1bWVyc2VjcmV0Jng9ZTY->'; // <-- ここにあなたのアプリケーションIDを設定してください。 $CHIE_SEARCH_API_HOST = 'chiebukuro.yahooapis.jp'; $CHIE_SEARCH_API_URL = '/Chiebukuro/V1/questionSearch'; $CHIE_SEARCH_API_APPID = $appid; function escapestring($str) { return htmlspecialchars($str, ENT_QUOTES); } print<<<EOM <html> <head> <meta http-equiv="Content-Type" content="text/html" charset="utf-8"> <title>知恵袋デモサイト - 質問検索(php)</title> </head> <body> <h1>知恵袋デモサイト - 質問検索(php)</h1> EOM; print '<form action="./'. basename($_SERVER['SCRIPT_NAME']) .'">'; print '<input type="text" name="query" value="' . escapestring($_GET['query']) . '">'; print '<input type="submit" value="search">'; print '</form>'; $responseXML = ''; { $curl = curl_init(); curl_setopt($curl, CURLOPT_URL, "http://${CHIE_SEARCH_API_HOST}${CHIE_SEARCH_API_URL}?appid=${CHIE_SEARCH_API_APPID}&query=".urlencode($_GET['query'])); curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1); $responseXML = curl_exec($curl); curl_close($curl); } { $xmlObj = simplexml_load_string($responseXML); foreach($xmlObj->{'Result'}->{'Question'} as $que) { print("<li>{$que->{'Content'}}<br><a href=\"{$que->{'Url'}}\">{$que->{'Url'}}</a>\n"); } } print<<<EOM <hr /> <!-- Begin Yahoo! JAPAN Web Services Attribution Snippet --> <a href="http://developer.yahoo.co.jp/about"> <img src="http://i.yimg.jp/images/yjdn/yjdn_attbtn2_105_17 … width="105" height="17" title="Webサービス by Yahoo! JAPAN" alt="Webサービス by Yahoo! JAPAN" border="0" style="margin:15px 15px 15px 15px"></a> <!-- End Yahoo! JAPAN Web Services Attribution Snippet --> </body> </html> EOM; ?>
送信されたフォームの受け取る側のソースを書いたのですが、 <?php $i = 0; if(print(htmlspecialchars($_POST['kaitouran31'], ENT_QUOTES, 'UTF-8')) == 'a') $i++; if(print(htmlspecialchars($_POST['kaitouran31'], ENT_QUOTES, 'UTF-8')) == 'a') $i++; if(print(htmlspecialchars($_POST['kaitouran31'], ENT_QUOTES, 'UTF-8')) == 'a') $i++; if(print(htmlspecialchars($_POST['kaitouran31'], ENT_QUOTES, 'UTF-8')) == 'a') $i++; print('正解数'.$i./4'です'); ?> を付け加えるとエラーが表示されます。エラーの対象になっているのは print('正解数'.$i./4'です');らしいのですが、なぜエラーになるのかわかりません 回答お願いします。 以下ソースです。 <html> <head> <title>解答</title> <meta http-equiv="content-type" content="text/html; charset=UTF-8"> <style type=""text/css""> #container{ width:1000 } #main{ width:500px; float:right; } #sidebar{ width:500px; float:left; } </style> </head> <body> <div id="container"> <div id="main"> <p>問題の解答</p> <p>問1</p> <p>(1)(2)(3)(4)</p> <p>問2</p> <p>(1)(2)(3)(4)</p> <p>問2</p> <p>(1)(2)(3)(4)</p> </div> <div id="sidebar"> <p><>あなたの解答<></p> <p>問1</p> <p>(1)<?php print(htmlspecialchars($_POST['kaitouran11'], ENT_QUOTES, 'UTF-8')); ?> (2)<?php print(htmlspecialchars($_POST['kaitouran12'], ENT_QUOTES, 'UTF-8')); ?> (3)<?php print(htmlspecialchars($_POST['kaitouran13'], ENT_QUOTES, 'UTF-8')); ?> (4)<?php print(htmlspecialchars($_POST['kaitouran14'], ENT_QUOTES, 'UTF-8')); ?> </p> <p>問2</p> <p>(1)<?php print(htmlspecialchars($_POST['kaitouran21'], ENT_QUOTES, 'UTF-8')); ?> (2)<?php print(htmlspecialchars($_POST['kaitouran22'], ENT_QUOTES, 'UTF-8')); ?> (3)<?php print(htmlspecialchars($_POST['kaitouran23'], ENT_QUOTES, 'UTF-8')); ?> (4)<?php print(htmlspecialchars($_POST['kaitouran24'], ENT_QUOTES, 'UTF-8')); ?> </p> <p>問3</p> <p>(1)<?php print(htmlspecialchars($_POST['kaitouran31'], ENT_QUOTES, 'UTF-8')); ?> (2)<?php print(htmlspecialchars($_POST['kaitouran32'], ENT_QUOTES, 'UTF-8')); ?> (3)<?php print(htmlspecialchars($_POST['kaitouran33'], ENT_QUOTES, 'UTF-8')); ?> (4)<?php print(htmlspecialchars($_POST['kaitouran34'], ENT_QUOTES, 'UTF-8')); ?> </p> </div> </div> <?php $i = 0; if(print(htmlspecialchars($_POST['kaitouran31'], ENT_QUOTES, 'UTF-8')) == 'a') $i++; if(print(htmlspecialchars($_POST['kaitouran31'], ENT_QUOTES, 'UTF-8')) == 'a') $i++; if(print(htmlspecialchars($_POST['kaitouran31'], ENT_QUOTES, 'UTF-8')) == 'a') $i++; if(print(htmlspecialchars($_POST['kaitouran31'], ENT_QUOTES, 'UTF-8')) == 'a') $i++; print('正解数'.$i./4'です'); ?> </body> </html>
お世話になります。 データベースのkeyカラムに1～9999999までの数字がいろいろ入っている場合に、検索条件として百の位が9のレコードを検索結果から除外してfetchAll()で取得、一覧表示するにはどうすればよいでしょうか？ カラム名 not like '%[900-999]';　とか　カラム名 not like '%[9][ ]';　等やってみたのですがどうも意図したように動いてない感じです。
var_dump($text); を行うと array(1) { [0]=> string(XX) "あいさつ" } array(1) { [0]=> string(XX) "いい日旅立ち" } array(1) { [0]=> string(XX) "りんご、うまい" } array(1) { [0]=> string(XX) "メロン好き" } …… となるような変数 $text があり、そこから $key = array("ばなな","りんご","メロン"); の配列内にある文字列を含むものだけを新たに格納したいです。 自分では foreach($text as $value){ if(in_array($value, $key)){ $key_text[] = $value; } } と書いて試したのですが、NULLと返ってきてしまいます。 どうやって書けばいいか教えて下さい。 よろしくお願いします。
プロバイダーは@niftyを利用しています。 (1)DreamWeaverでPHPで書いたソーススクリプトから、 mb_send_mail()関数で、宛先を、プロバイダーのFTPアドレス 当てに送信することは可能でしょうか？ (2)可能だとすれば、そのメールが届くフォルダのパス（絶対パス または相対パス）はどこになるのでしょうか。 (3)ちなみに、sendmail　があるフォルダは、 /ホストの初期フォルダ/usr/local/sbin　内にあります。 この、sendmail とは実行ファイルなのでしょうか？ また、このsendmail があるフォルダと、上記のメールが届くフォルダ とは無関係なのでしょうか？
お世話になります。 セッションを使用して会員管理システムを構築しているのですが、管理システムの中に ポイント計算システムを導入しています。 会員登録 ～ 商品の購入 ～ ポイントの加算・減算・利率等のコアな箇所のプログラムは 思い通りに走りました。 しかし、ポイントの加算・減算処理を行った場合、データベースには計算後の値が入るのですが、 セッションを使用しているため、一度ログアウト（ セッションを破棄 ）して再ログインをしないと 最新のデータ（ ポイント ）がブラウザへ反映されず悩んでいます。 セッションIDを書き換えれば何とかなるかもと思い、 session_regenerate_id(true); も設置してみましたが、挙動は変わりませんでした。 （ リンクをダブルクリックしまくるとセッションが切れるくらいです。 ） クライアントサイドのスクリプトが必要になるのでしょうか？ PHPのみで解決できる方法がございましたらご教示いただきたく存じます。 ---------------- ■スペック PHP 5.1.6 MySQL 5.0.95 ----------------
現在、amazon web serviceにてec2（centOS）を立ち上げ、 cakePHP(バージョン2.3)を配置しました。 配置した場所は /var/www/html/cakePHP で、ブラウザからcakeの画面が表示されるのは確認しております。 サーバ上に置いた際に発生するいくつかのエラーを直してエラーを消したのですが、 先ほどまた新たにエラーが発生してしまいました。 そのエラーの内容ですが、ページ上部に session_start() [http://php.net/function.session-start]: open(/var/lib/php/session/sess_u0btov6g5v9ob0lc0n9rpuaea6, O_RDWR) failed: Permission denied (13) [CORE/cake/libs/cake_session.php, line 587] というかんじで表示されています。 内容はなんとなく理解できて、 /var/lib/php/session/sess_u0btov6g5v9ob0lc0n9rpuaea6, O_RDWR のパーミッションを変更すれば直るかと思うのですが、 本当にこの直し方で大丈夫でしょうか。 この方法で直しても、いつかまた同じエラーが発生しそうで不安なので ご質問させていただきました。 お分かりになられる方、いらっしゃいましたらご教授のほどお願いいたします。
javascriptで作ったフォームをphpに送信したいのですが、上手く送信できません。 どのようにすれば上手く送信することができるでしょうか？ 回答お願いします。 javascript側のソース <body> <form name="nform1" method="POST" action="./kaitou1.php" enctype="text/plain"> <p>問1</p> <p> (1)<input type="text" name="kaitouran11" size="20"> (2)<input type="text" name="kaitouran12" size="20"> (3)<input type="text" name="kaitouran13" size="20"> (4)<input type="text" name="kaitouran14" size="20"> </p> </form> <form name="nform2" method="POST" action="./kaitou1.php" enctype="text/plain"> <p>問2</p> <p> (1)<input type="text" name="kaitouran21" size="20"> (2)<input type="text" name="kaitouran22" size="20"> (3)<input type="text" name="kaitouran23" size="20"> (4)<input type="text" name="kaitouran24" size="20"> </p> </form> <form name="nform3" method="POST" action="./kaitou1.php" enctype="text/plain"> <p>問3</p> <p> (1)<input type="text" name="kaitouran31" size="20"> (2)<input type="text" name="kaitouran32" size="20"> (3)<input type="text" name="kaitouran33" size="20"> (4)<input type="text" name="kaitouran34" size="20"> </p> </form> <input type="button" value="送信" onClick="send()"> </body> php側のソース <body> <p>問1</p> <p>(1)<?php print(htmlspecialchars($_POST['kaitouran11'], ENT_QUOTES, 'UTF-8')); ?> (2)<?php print(htmlspecialchars($_POST['kaitouran12'], ENT_QUOTES, 'UTF-8')); ?> (3)<?php print(htmlspecialchars($_POST['kaitouran13'], ENT_QUOTES, 'UTF-8')); ?> (4)<?php print(htmlspecialchars($_POST['kaitouran14'], ENT_QUOTES, 'UTF-8')); ?> </p> <p>問2</p> <p>(1)<?php print(htmlspecialchars($_POST['kaitouran21'], ENT_QUOTES, 'UTF-8')); ?> (2)<?php print(htmlspecialchars($_POST['kaitouran22'], ENT_QUOTES, 'UTF-8')); ?> (3)<?php print(htmlspecialchars($_POST['kaitouran23'], ENT_QUOTES, 'UTF-8')); ?> (4)<?php print(htmlspecialchars($_POST['kaitouran24'], ENT_QUOTES, 'UTF-8')); ?> </p> <p>問3</p> <p>(1)<?php print(htmlspecialchars($_POST['kaitouran31'], ENT_QUOTES, 'UTF-8')); ?> (2)<?php print(htmlspecialchars($_POST['kaitouran32'], ENT_QUOTES, 'UTF-8')); ?> (3)<?php print(htmlspecialchars($_POST['kaitouran33'], ENT_QUOTES, 'UTF-8')); ?> (4)<?php print(htmlspecialchars($_POST['kaitouran34'], ENT_QUOTES, 'UTF-8')); ?> </p> </body>
以下のような処理をphpで実行してmicrotimeでみたところ、 6.343くらいなのですが、これって遅いでしょうか？ httpリクエストをしているので、ある程度かかっても仕方ないと思っているのですが、 大体どれくらいなのか気になった次第です。後、１つのファイルで下くらいのmysql処理は別に多くないですよね？ 恐れ入りますが、ご回答お願い申し上げます。 以下ソースです。 ■実行内容 mysqlから特定のキーワード取得（最後に更新した日から古い順に取得） ↓ そのキーワードを基にhttp://goodkeyword.net/へリクエストを送る。 ↓ file_get_htmlで内容を取得後、一部mysqlへ保存、更新。 ※処理はcronで実施 table構成 ■keywordsテーブル id, name(検索用キーワード) search_date(最後に処理を実行した時間） flg(defaultは１、更新や処理完了後２に変更) ■result_keywordsテーブル keyword_id(外部キー） word（取得ワード） ----------------------------------------------------------------- require_once 'conn.php'; require_once 'simple_html_dom.php'; $start = microtime( TRUE ); $req = $db->prepare('select * from keywords order by search_date asc limit 3'); $req->execute(); $words = $req->fetchAll(); foreach ($words as $word) { $url = 'http://goodkeyword.net/search.php?formquery=' .$word['name']. ''; $html = file_get_html($url); $src = $html->find('#column3-yahoo-result .result-keyword-detail tr td[!class]'); foreach($src as $element) { $rem = strip_tags($element); 　　　　if($word['flg'] == 1) { //table result_keywordsへのinsert処理（取得キーワードの挿入） } else { //table result_keywordsへのupdate処理（取得キーワードの更新） } //table keywordsへのupdate処理（search_date変更） } //table keywordsへのupdate処理（フラグ変更） } echo microtime( TRUE ) - $start; $html->clear();
環境：mySQL、PHP セレクト文で対象カラムの中にデータが入っているか否かを 確認するphpの書き方を教えていただけないでしょうか。。 例： たとえば、カラム名　no に1が入っていて そのレコードにある　bunsyo の中にデータが入っているか否かを確認したいと 考えてます。 $kakunin = mysql_query("select bunsyo from テーブル名 where no=1 "); 上記だとデータを参照するだけなので、、、 入っているかいないかを確認したいと考えてます。 返ってくるのが true=1、false=0　とかで返ると次の処理がしやすいので助かります。。。 よろしくお願い致します。
パーフェクトPHP[技術評論社]のP29まで終わりました。 次に、P30に入りました。そこで！ 以下教本の中身です。 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 　■バーチャルホストの追加手順 　バーチャルホストを追加する際はまずドキュメントルートとなるデレクトリを作成します。 C:\xampp\apache\conf\extra\httpd-vhosts.confにバーチャルホストの設定を追加します。 <VirtualHost>で囲まれた部分をコピーして、ServerNameやDocumentRootの値を書き かえて保存した後、Apacheを再起動します。また、必要に合わせて C:\Windows\System32\drivrs\etc\hostsにドメインの指定を追加します。 　^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 　以上ですが、 　「<VirtualHost>で囲まれた部分をコピーして、ServerNameやDocumentRootの値を書き かえて保存します」 　とありますが！　「※何をやるのか！意味がまったく分かりません！？」 　以下が、C:\xampp\apache\conf\extra\httpd-vhosts.conf 　のファイルの中身の 「ServerNameやDocumentRｏｏｔの値を書き かえ」は 　教本・パーフェクトPHP　P28の「ドキュメントルートの設定」 で、既に終了しているのでは！ないでしょうか！？ 素人の考えですが、「※間違いでしょうか」 　・・\httpd-vhosts.confの 　ファイルの現在のプログラムの中身です。宜しくお願いします。 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 　# Virtual Hosts # # Required modules: mod_log_config # If you want to maintain multiple domains/hostnames on your # machine you can setup VirtualHost containers for them. Most configurations # use only name-based virtual hosts so the server doesn't need to worry about # IP addresses. This is indicated by the asterisks in the directives below. # # Please see the documentation at # <URL:http://httpd.apache.org/docs/2.4/vhosts/> # for further details before you try to setup virtual hosts. # # You may use the command line option '-S' to verify your virtual host # configuration. # # Use name-based virtual hosting. # NameVirtualHost *:80 <VirtualHost *:80> ServerName study.localhost DocumentRoot "C:/xampp/htdocs/study.localhost" DirectoryIndex index.php index.html <Directory "C:/xampp/htdocs/study.localhost"> AllowOverride All Allow from All </Directory> </VirtualHost> ##NameVirtualHost *:80 # # VirtualHost example: # Almost any Apache directive may go into a VirtualHost container. # The first VirtualHost section is used for all requests that do not # match a ##ServerName or ##ServerAlias in any <VirtualHost> block. # ##<VirtualHost *:80> ##ServerAdmin webmaster@dummy-host.example.com ##DocumentRoot "C:/xampp/htdocs/dummy-host.example.com" ##ServerName dummy-host.example.com ##ServerAlias www.dummy-host.example.com ##ErrorLog "logs/dummy-host.example.com-error.log" ##CustomLog "logs/dummy-host.example.com-access.log" common ##</VirtualHost> ##<VirtualHost *:80> ##ServerAdmin webmaster@dummy-host2.example.com ##DocumentRoot "C:/xampp/htdocs/dummy-host2.example.com" ##ServerName dummy-host2.example.com ##ErrorLog "logs/dummy-host2.example.com-error.log" ##CustomLog "logs/dummy-host2.example.com-access.log" common ##</VirtualHost>
　http://oshiete.goo.ne.jp/qa/8351280.html 　の、この場面での 【C:\Windows\System32\drivers\etc に追加】 　 　C:\Windows\System32\drivers\etcに 　何かを追加するとの意味なのか 　よくわかりません！？　 　　 　見逃したくない、ご回答です。 　　よろしくお願いします。
http://www.phpbook.jp/tutorial/ini/index2.html sample2-1.phpファイルと全く同じコードのファイル sample2をphpinfo.phpファイル（http://www.phpbook.jp/install/phpini/index2.html） と同じ場所に入れました（C:\Program Files\Apache\Apache24\htdocs）が、 http://localhost/phpinfo.php　の時は早く表示されるのに http://localhost/ sample2.php　はWeb ページが見つかりません (ちなみにアドレスがhttp://localhost/%20sample2.phpとなります) と出てしまいました。置く場所を間違えていますか？
PHP初心者です。 先日より、PHPプログラムを勉強しており、「参照」、「追加」、「修正」、「削除」の一連の流れを理解しました。 スタッフ登録をするという仮定で、上記流れをPHPでできるようになり、データベースの更新もできるようになりました。 登録 → 表示 や、一覧を表示して、ラジオボタンで選んだスタッフの情報修正などです。 現在、上記流れの延長として、商品の登録から、修正、削除に挑戦していますが、情報修正時、ページはスタッフ登録と同じように最後までエラー無く進みますが、データベースが更新されません。 何故初心者の為、解決策の探し方すら判らない為困っています。 どなたかお解りになる方、恐れ入りますがご教授頂ければ幸いです。 データを修正するソースです <!DOCTYPE html> <html> <head> <meta charset="UTF-8"> <title>どっとこむ</title> </head> <body> <?php try { $pro_code = $_POST['code']; $pro_name = $_POST['name']; $pro_price = $_POST['price']; $pro_code = htmlspecialchars($pro_code); $pro_name = htmlspecialchars($pro_name); $pro_pass = htmlspecialchars($pro_price); $dsn = 'mysql:dbname=ｘｘｘｘ;host=ｘｘｘｘｘ'; $user = 'userid'; $password = 'password'; $dbh = new PDO($dsn,$user, $password); $dbh->query('SET NAMES utf8'); $sql = 'UPDATE mst_productSET name=?,price=? WHERE code=?'; $stmt = $dbh->prepare($sql); $data[]=$pro_name; $data[]=$pro_price; $data[] = $pro_code; $stmt->execute($data); $dbh = null; print 'を追加しました。<br />'; } catch (Exception $e) { print'ただいま障害により大変ご迷惑をお掛けしております。'; exit(); } ?> <a href="pro_list.php">戻る</a> </body> </html> 上記表示される前のページ（修正する情報を入力するページ）から、上記ページまではデータが渡っている状態です。 <?php print $pro_name; ?> のようにすると、渡された文字列が表示されます。 わかり難い説明で恐縮です。 宜しくお願い致します。
http://phpjp.com/sample/g0qDjIOTg1+BWw.htm 上記のサイトを参考に、スケジューラーを作ろうとしています。 カレンダー内の数字を左上にもっていきたいんですけど、１５行目のtext-align : center;の部分をtext-align:left;としても動きません。 また、翌月や前月、翌年や前年の部分がどこなのかもよくわかりません。 できれば、順を追ってこのプログラムの説明をお願いします。
Wordpress初心者です。 これまで、Dreamweaverでは数十個のサイトを作ってきましたが、Wordpressはシンプルなテンプレートを使って、ひとつしか作ったことはありません。 世の中に、素晴らしいテンプレートは出回っていますが、たいてい海外のテンプレートで、ダウンロードしてみると文字化けしていたり、微調整が大変だったりで、自分で完全にPhotoshopからデザインしてhtmlとcssで組んできた身としては、使い勝手がいいとはいえず・・・ ちなみに、htmlとcssの知識はありますが、javaはすでに出来上がったものを提供しているフリーのものを調整していれたり、というレベルで、自分で作ることはできません。 そこで基本的な質問なのですが、調べてみると、オリジナルテンプレートの作り方を紹介しているサイトがいくつもあり、見てみるとhtmlとcssがわかればできそう、ということがわかりましたが、間違いないでしょうか？ 知人からWordpressでのホームページ制作を頼まれ、時間は空いている時間でゆっくりで良い、ということでしたので、オリジナルテンプレートを作ってみようかと思っています。 あと、ローカルサーバをxamppで作る場合、できあがったときにレンタルサーバーに移す必要があるのでしょうか？それとも、xamppのみで無料でできるんでしょうか（xamppについて、ダウンロードとアップロードの説明のあるサイトはチェックしましたが、とくに有料のサーバーを使わずにやっているように見えたので・・・） 勘違いでしたらご指摘ください。 やりたいことは、整体の治療院サイト作成で、 固定ページ+症例報告ページ+予約システム+患者さんの声 です。 以上、基本の質問で大変恐縮ですがよろしくお願いいたします。
こんばんわ。 開発を行っている会社に勤めているものです。 技術部門のものでは無いのですが 仕事で気になったのでこちらに質問させていただきました。 会社の開発したWebアプリケーションがあるのですが 使用する場合に画面最大化をして運用するように想定されています。 iOSのSafarやFirefox、Chromeiなどの特定のブラウザで画面最大化するような GUIって作ること出来るのでしょうか？ どなたか詳しい方教えてください！ よろしくお願いします
$pdo = new PDO("mysql:dbname=aaa", "root"); $pdo->query("set names utf8;"); // $st = $pdo->query("SELECT * FROM bbb WHERE ROWNUM <= 50"); while ($row = $st->fetch()) { $name = ($row['名前']); echo "$name"; } ?> 現在PHPを勉強中でデータベースが必要になったため初心者サイトを見ながら少しさわっていたのですがいきなり分からない部分が出てきました。 上記でWHEREの後の条件式をLIKEなど他の条件なら上手く動くみたいなのですが、検索結果 の上位50件を取得したいためROWNUMを使うと Fatal error: Call to a member function fetch() on a non-object in とエラーが出ます。 このエラーはどういう意味なのでしょうか？　初心者サイトを見る限り特に間違っている所が 無いように思うのですが・・。 自分のやりたい事は、データベースから任意の条件で検索して、並び替えて、50件ずつ表示 させたいと考えています。ROWNUMが使えないと非常に困る事になるのですが、 どのサイトを見ても解決できません。詳しい方いましたらよろしくお願いします。
テキストボックスに郵便番号を入れ、検索ボタンを押すと、テキストボックス内に住所が入ってくるようにプログラムを作っています。 例えば郵便番号「640941」で検索すると、Stateには「北海道」、Cityには「札幌市」、Addressには、「中央区旭ケ丘」が入ってくるようにしたいのですが、Stateに「北海道札幌市中央区旭ヶ丘」と入ってきてしまいます。 以下に実際のソースを載せます。どのように修正すればよいでしょうか？ 参考url:http://webcake.no003.info/webdesign/jquery-ajax- … ファイル名「postal.html」 <!DOCTYPE html> <html> <head> <title>新規登録</title> <script src="http://code.jquery.com/jquery-1.6.2.min.js"></sc … <script type="text/javascript"> $(document).ready(function(){ /** * 送信ボタンクリック */ $('#send').click(function(){ //POSTメソッドで送るデータを定義します var data = {パラメータ名 : 値}; var data = {Zip : $('#Zip').val()}; /** * Ajax通信メソッド * @param type : HTTP通信の種類 * @param url : リクエスト送信先のURL * @param data : サーバに送信する値 */ $.ajax({ type: "POST", url: "postal.php", data: data, /** * Ajax通信が成功した場合に呼び出されるメソッド */ success: function(data, dataType) { //successのブロック内は、Ajax通信が成功した場合に呼び出される //PHPから返ってきたデータの表示 $("#State").val(data); }, /** * Ajax通信が失敗した場合に呼び出されるメソッド */ error: function(XMLHttpRequest, textStatus, errorThrown){ //エラーメッセージの表示 alert('Error : ' + errorThrown); } }); //サブミット後、ページをリロードしないようにする return false; }); }); </script> </head> <body> <h1>ZIPCODE</h1> <form method="post" > <table> <tr> <th>Zip</th> <td><input type="text" name="Zip" id="Zip" size="8"/> <input type="button" id="send" name="send" value="send" ></td> </tr> <tr><th>State</th><td><input type="text" id="State" name="State" size="10"/></td></tr> <tr><th>City</th><td><input type="text" id="City" name="City" size="10"/></td></tr> <tr><th>Address</th><td><input type="text" id="Address" name="City" size="10"/></td></tr> </table> </form> </body> </html> ファイル名「postal」 <?php $Zip=$_POST['Zip']; $State=""; $City=""; $Address=""; get_state($Zip); /* 郵便番号(zipcode)を入れると住所を表示する関数 */ function get_state($Zip) { //接続文字列 $dsn='mysql:dbname=stuff;host=localhost'; $user='user'; $password='password'; $dbh= new PDO($dsn,$user,$password); $dbh->query('SET NAMES UTF-8'); $sql='SELECT * FROM zip WHERE Zip_Code='.$Zip; $stmt=$dbh->prepare($sql); $stmt->execute(); while(1) { $rec=$stmt->fetch(PDO::FETCH_ASSOC); if($rec==false) { break; } echo $rec['State']; echo $rec['City']; echo $rec['Address']; } } $dbh=null; ?> SQL文は以下の通りです。 SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO"; CREATE TABLE IF NOT EXISTS `zip` ( `Jis_Code` int(5) NOT NULL, `Old_Zip_Code` int(5) NOT NULL, `Zip_Code` int(7) NOT NULL, `State_Kana` varchar(60) NOT NULL, `City_Kana` varchar(100) NOT NULL, `Address_Kana` varchar(200) NOT NULL, `State` varchar(60) NOT NULL, `City` varchar(100) NOT NULL, `Address` varchar(200) NOT NULL, `AUX1` tinyint(1) NOT NULL, `AUX2` tinyint(1) NOT NULL, `AUX3` tinyint(1) NOT NULL, `AUX4` tinyint(1) NOT NULL, `AUX5` tinyint(1) NOT NULL, `AUX6` tinyint(1) NOT NULL ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='郵便番号リスト'; INSERT INTO `zip` (`Jis_Code`, `Old_Zip_Code`, `Zip_Code`, `State_Kana`, `City_Kana`, `Address_Kana`, `State`, `City`, `Address`, `AUX1`, `AUX2`, `AUX3`, `AUX4`, `AUX5`, `AUX6`) VALUES (1101, 60, 600000, 'ホッカイドウ', 'サッポロシチュウオウク', 'イカニケイサイガナイバアイ', '北海道', '札幌市中央区', '以下に掲載がない場合', 0, 0, 0, 0, 0, 0), (1101, 64, 640941, 'ホッカイドウ', 'サッポロシチュウオウク', 'アサヒガオカ', '北海道', '札幌市中央区', '旭ケ丘', 0, 0, 1, 0, 0, 0), (1101, 60, 600041, 'ホッカイドウ', 'サッポロシチュウオウク', 'オオドオリヒガシ', '北海道', '札幌市中央区', '大通東', 0, 0, 1, 0, 0, 0)；
教えて!GOOはOKWaveみたいに、同じレス内に質問の キャッチボールができないみたいです！？ 　なので、新たに書き込みました！ http://oshiete.goo.ne.jp/qa/8351280.html 　以上の ご回答されたかた、ありがとうございました。 以上の質問の続きですが、 　私が質問した、 第一の質問は教本のミスと分かり安心しました。 　それで、 ”第二の質問”で 　“バーチャルホスト”を修正すれば いいと思うのですが、 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 　以下が、httpd-vhosts.conf 　ファイルのプログラム全文を以下表示しましたが、 ##NameVirtualHost *:80が二個存在していて、どちらのプログラムを 修正すればいいのでしょうか！？ ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ リンク先の質問の中の、プログラムをみれば分かるのですが、 最初の「##NameVirtualHost *:80」項目のみを、”御回答いただ いた”、プログラムに修正すれば二番目の同じ「##NameVirtualHost *:80」はなにも修正を 加えなくても、特にプログラム自体には影響ないのでしょうか！？ 　最初の「##NameVirtualHost *:80」は ポート８０を使用して、外部からアクセスするための意味だろうと 素人の私はなんとなくわかるような気がします・・間違いかもしれませんが？ よろしくお願いします。
クラスの中で関数や変数を使う方法はどのようにやるのでしょうか？ public function getInvitedUsers($inviter_id) { $stmt = $this->pdo->prepare(implode(' ', array( 'SELECT *', 'FROM `user`', 'WHERE `sno` = ?', ))); $stmt->bindValue(1, $inviter_id, PDO::PARAM_INT); $stmt->execute(); return $stmt->fetchAll(); } この 'WHERE `sno` = ?', 部分の？のとこにセッションで保存した固有の番号と比較したいのですがどこに記述するべきかわからず困っております。 try { // 表示したいユーザーの情報を取得 $user = DB::connect()->getUser($_SESSION['user_id']); ここでユーザー情報を取得して $invit = $user['no'] 固有の番号を入れて 'WHERE `sno` = $invit', このようなイメージで比較したいのですが、$invit = $user['no']の部分はどこに記述するべきなのでしょうか？ そもそもこのような'WHERE `sno` = $invit',での記述はできるのでしょうか？ 無知で申し訳ございませんが、どうぞよろしくお願いいたします。
http://www.amazon.co.jp/dp/4774144371 　以上教本の、P28～P29の質問です。 　以下中身です。 ■ドキュメントの設定 ドキュメントルールをC:\xampp\htdocs\study.localhostに設定します。まずはディレクトリを作成します。 　次にApacheのバーチャルホストを設定します。C:\xampp\apache\conf\conf\extra\http-vhost.conf を開き次の設定を追加してください。<VirtualHost>で囲まれた部分がバーチャルホストの設定です。ServerNameにWeb ブラウザからアクセスする際のドメイン名(study.localhost)、DocumentRootおよび<Directory>にドキュメントルートへの パスを指定します。 (パソコン側のファイルを以下のプログラムに修正しろと言うことでしょう！？) 　NameVirtualHost *:80 ＜Virtualhost *80> ServerName study.localhost DocumentRoot C:\xampp\htdocs\study.localhost DirectoryIndex index.php index.html <Directory “C:\xampp\htdocs\study.localhost”> AllowOverride All Allow from All </Directory> </VirtualHost> ---------------------------------------------------------- 以上が教本の中身です。 そこで質問があります！ 第一の質問 　教本では C:\xampp\apache\conf\conf\extra\http-vhost.confですが！ パソコン側に存在するファイルは　httpd-vhosts.confです。 教本のhttp-vhost.confではなくて、httpの部分がパソコン側では httpdと成っていて、dが多いです！ ファイル名が違うことで、設定後何か支障はありますか！？ 第二の質問 　以下が、httpd-vhosts.conf 　ファイルのプログラム全文を以下表示しましたが、 ##NameVirtualHost *:80が二個存在していて、どちらのプログラムを 修正すればいいのでしょうか！？ 　以上二件よろしくお願いします。 # Virtual Hosts # # Required modules: mod_log_config # If you want to maintain multiple domains/hostnames on your # machine you can setup VirtualHost containers for them. Most configurations # use only name-based virtual hosts so the server doesn't need to worry about # IP addresses. This is indicated by the asterisks in the directives below. # # Please see the documentation at # <URL:http://httpd.apache.org/docs/2.4/vhosts/> # for further details before you try to setup virtual hosts. # # You may use the command line option '-S' to verify your virtual host # configuration. # # Use name-based virtual hosting. # ##NameVirtualHost *:80 # # VirtualHost example: # Almost any Apache directive may go into a VirtualHost container. # The first VirtualHost section is used for all requests that do not # match a ##ServerName or ##ServerAlias in any <VirtualHost> block. # ##<VirtualHost *:80> ##ServerAdmin webmaster@dummy-host.example.com ##DocumentRoot "C:/xampp/htdocs/dummy-host.example.com" ##ServerName dummy-host.example.com ##ServerAlias www.dummy-host.example.com ##ErrorLog "logs/dummy-host.example.com-error.log" ##CustomLog "logs/dummy-host.example.com-access.log" common ##</VirtualHost> ##<VirtualHost *:80> ##ServerAdmin webmaster@dummy-host2.example.com ##DocumentRoot "C:/xampp/htdocs/dummy-host2.example.com" ##ServerName dummy-host2.example.com ##ErrorLog "logs/dummy-host2.example.com-error.log" ##CustomLog "logs/dummy-host2.example.com-access.log" common ##</VirtualHost>
東芝のDynabookを使っていてWindowsは8です。 http://www.php.net/downloads.php PHP 5.5.6 (tar.gz) [16,418Kb] jp1.php.net PacketBusiness, Inc. の順にダウンロードし、gzファイルをgipで解凍し、 コンピューター→T130928600Dの直下（Program filesの中ではなく）に入れました。 それから環境変数を設定しましたが、コマンドプロンプトで php –v と入れても 'php' は、内部コマンドまたは外部コマンド、 操作可能なプログラムまたはバッチ ファイルとして認識されていません。 と出ています。変数が間違っているという事でしょうか？ ※環境変数はIKURAさんのページを参考にし（http://www.phpbook.jp/install/install/index3.html） 変数名は元々あった「PATH」、 C:\Program Files\Java\jdk1.6.0_45\bin;C:\Users\T自分の名前\AppData\Local\Box\Box Edit\ に C:\PHP;　　を追加しただけです。
・string(0) ""判定は、どう書くのでしょうか？ ・if(変数===""){ ・それともempty?
レンタルサーバのSmartyのパーミッションでつまずいています。 とあるＡレンタルサーバでsmartyを利用したPHPのプログラムを設置するとなんの問題もなく設置できるのですが 別のＢレンタルサーバでsmartyを利用したPHPのプログラムを設置すると以下のようなエラーがでます。 Fatal error: Smarty error: unable to write to $compile_dir '/virtual/xxx/public_html/xxx/templates_c'. Be sure $compile_dir is writable by the web server user. in /virtual/xxx/public_html/xxx/class/Smarty/libs/Smarty.class.php on line 1093 書き込み権限がtemplates_cディレクトリにないということらしいですが、Ｂレンタルサーバのtemplates_cディレクトリのパーミッションは、0755で、設置が成功したＡレンタルサーバのtemplates_cディレクトリのパーミッションも、0755です。 実行しているSmarty.class.phpのパーミッションも、0644で同じです。 同じパーミッションでレンタルサーバごとにエラーが出る出ないが違う理由はなんでしょうか？サーバの設定に詳しくないのでよくわかりません。考えられる原因があれば教えてください。
php経由で、サーバー上のMySQLにアクセスします。 その場合の、MySQLへの接続アカウントの処理は、どうするべきなのでしょうか？ DBとのやり取りのコードは、サーバー上のphpファイルに書かれていますし、そのphpにアクセスしてデータをやり取りします。なので、MySQLへ接続する際のMySQLアカウント(ユーザー名とパスワード)が、php上に書かれています。 通常phpのコード自体は、ブラウザからは読めませんが、 アクセスできる場所にあるという時点で、セキュリティ上　問題があるのかなとも思います。 しかし、多くのサイトで、このような、webサーバー上のphpを通してMySQLにアクセスするのは、一般的な形だと思いますが、そのようなサイトでは、MySQLにアクセスするためのアカウントを、どのように管理しているのでしょうか？ 当然、そのwebサイトへのログインアカウントとは別で管理されていると思うのですが・・・。 わかる方、よろしくお願いします。
知っている方いらっしゃましたら ご教授お願いいたします。 ■環境 PHP + mySQL + jQuery + Ajax ■実施したいこと facebookのように、一番下までスクロールしたら DBから情報を持ってきて、表示を行いたい。 ■これまでの流れ 静的なページのロードまでは以下のHPを参考に学習しましたが 動的なところになると、サンプルが無く手詰まっています。 ⇒静的ページサンプル http://bowz.info/4837 http://www.webzaru.net/jquery/1353/ お手数ですが、ご回答のほどお願いいたします。
曜日ごとの数を集計してグラフを出力するために <img src="graph.php?xxx"> と書いて xxxの部分を使って配列を渡して$_GETで受け取るようなことを したいのですが、やり方がわかりません 例えばyoubi[7] youbi['日']=67 youbi['月']=60...ってな感じでデータが入っています。 他にやり方があればそれでも構いません お願いします
PHP初心者です。 ファイルはメインページのaaa.phpとグラフを出力するbargraph.php(JpGraphのサンプル)からなり、 aaa.phpはセレクトボックス（A～E）、送信ボタン、画像だけで構成されるものとします。 A～Eを選択して送信ボタンを押すとPOST送信で自分自身aaa.phpが返り それに従って表示されている画像（グラフ）が変化するというものを作りました。 画像の部分は <?php print "<img src='bargraph.php?a=" ?> <?php print $_POST['select_name1']; ?> <?php print "'>"; ?> このように選択された値を bargraph.phpが$_GETで受け取ってそれに従って表示してます。 セキュリティのことを考えてそれを POST送信にして同じような事をやりたいのですが、 今度はURLに文字を載せられないのでやり方がわかりません。 どうしたら良いでしょうか？ 初心者なので問題の部分以外の部分でとんちんかんな事をしてたら それも指摘してもらえると幸いです。お願いします。
プログラム初心者です 日付について教えてください googelで検索してみたら下記のようになっていました date( Ymd , time()); 質問1 今の時間を求める時はこの書き方でいいでしょうか？ date( Ymd , time()); 質問2 time()は省略してもいいですか？その場合はtime()が第二引数に指定されるのですか？ date( Ymd ); 質問3 １時間後を指定したい場合どうすればいいですか？ よろしくお願いします
phpで下記のようなデータ 　「あいう 平成25年6月12日 かきくけこ 平成25年6月12日 さしすせそ 住所　東京都あいうえお1番234-5 電話 23098098098」 上記のような文字列のデータを$dataの変数に入れているのですが、 この$dataから、日本語で「住所」の後から「電話」の前までのデータを抽出したいのですが、 抽出する方法がわかりましたら教えて頂けないでしょうか？ 宜しくお願い致します。
PHPからMicrosoft SQLserverのデータベースへ接続を行い、データベースの内容をブラウザへ表示したいのですが、日本語が文字化けして困っております。 導入するまでの手順を書きます。 参考にしたページ http://chorusde.hatenablog.jp/entry/20120621/134 … (1)マイクロソフトのホームページより「SQL Server Driver for PHP」をダウンロード、解凍。 (2)自分のPHPバージョンを確認。 　Apache/2.4.4 　　PHP/5.4.19 　　MSVC9 　　Thread Safety/enabled 　上記の環境からphp_pdo_sqlsrv_54_ts.dllとphp_sqlsrv_54_ts.dllを使用することを決定。 (3)C:\xampp\php\extの下に(1)で解凍したフォルダ内にあるphp_pdo_sqlsrv_54_ts.dllとphp_sqlsrv_54_ts.dllをコピー。 (4)C:\xampp\php\php.iniを開き、「extension=」と書いている951行あたりに 　　「extension=php_pdo_sqlsrv_54_ts.dll」 　　「extension=php_sqlsrv_54_ts.dll」 　を追加 　　「mssql.secure_connection = OFF」を「ON」に修正 (5)XAMPPコントロール画面でApacheとMySQLを再起動。 その後、以下のコードで実行したところ日本語が文字化けしました。 以下のコードはこのページのサンプルコードをそのままコピペし少し修正したものです。 http://keicode.com/cgi/how-to-connect-to-mssql.php <?php $serverName = 'SQLEXPRESS'; $connectionInfo = array( 'UID' => 'username', 'PWD' => 'password', 'Database' => 'shop' ); $conn = sqlsrv_connect( $serverName, $connectionInfo ); if( $conn === false ){ echo "Cound not connect.\n"; die( print_r( sqlsrv_errors(), true)); } $tsql ="SELECT * from food"; $stmt = sqlsrv_query( $conn, $tsql ); if( !$stmt ) { die( print_r( sqlsrv_errors(), true)); } while( $row = sqlsrv_fetch_array( $stmt, SQLSRV_FETCH_NUMERIC)) { print_r($row); } sqlsrv_free_stmt($stmt); sqlsrv_close($conn); ?> このソースを実行しますと日本語が文字化けしてしまいます。（データを英語表記にすれば問題なく表示できます） 文字化けせずにブラウザに結果を表示するためにはどのようにすればよいでしょうか？ またSQL文の「"SELECT * from food"」の"food"の部分（テーブル名）を「食品」と日本語名に変更するとsql文が実行できなくなりエラーを起こします。 おそらく文字化けしてSQL文を認識してしまうため「そんなテーブル名はありませんよ」と怒られてしまうのだと思います。 初心者で凝縮ですが、どなたかアドバイスをお願いいたします。
お世話になります。 $IMG_URL = "http://hoge.hoge/"; $test = 1; $logo_url = $IMG_URL."logo/".$test."jpg"; if(file_exists($logo_url)){ $var = "あるよ！"; }else{ $var = "ないよ！"; } という形で画像ファイルが存在するかを調べているのですが、PHPに直接記述した場合動作し、functionの中に入れると動作しなくなるのはなぜでしょうか？ function pict($test){ $IMG_URL = "http://hoge.hoge/"; $test = 1; $logo_url = $IMG_URL."logo/".$test."jpg"; if(file_exists($logo_url)){ $var = "あるよ！"; }else{ $var = "ないよ！"; } return $var; } 上記のfunction内に入れた場合、returnの値が「ないよ！」になってしまうのです。 どうぞよろしくお願い致します。
プログラム初心者です 簡単な掲示板を作りました 一部のHTMLのタグを許可する方法を教えてください 素人なりに考えたのですが、一回タグをすべて無効化して&lt;code&gt;にしてから許可したいタグにマッチした文字だけをHTMLにすればどうかなと思ったんです 質問1 これで、セキュリティ的に安全ですか？ 質問2 10個くらいのタグを置き換えると負荷は重そうですか?メッセは最大2000文字程度です <?PHP $mes//投稿されたメッセ（タグは除去済み） $pattern="/&lt;code&gt;/"; $replacement="<code>"; preg_replace($pattern,$replacement,$mes); $pattern="/&lt;/code&gt;/"; $replacement="</code>"; preg_replace($pattern,$replacement,$mes); ?> 許可したいタグは、b、code、tableなどのタグなどです 質問3 もっと他にいい方法があればお願いします よろしくお願いします
ブラウザからCSVファイルをアップロードし、MySQLのデータベースにインポートするプログラムをPHPで作成しています。 エクセルで作成したCSVファイルはsjis形式のため、UTF8に変換してからMySQLにインポートしてあげると文字化けせずにインポートする事が出来るのですが、毎回手動でUTF8に変換するのは面倒ですのでファイルをアップロードしたタイミングで自動的にsjis形式からUTF8に変換したいと考えております。 ファイルのアップロードまでは動作していますが、CSVファイルをsjisからUTF-8に変換するにはどうすればよいでしょうか？ どなたかご教示いただければ幸いです。以下は作成中のコードです。 index.html <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS"> <title>sample</title> </head> <body> <form action="read.php" method="POST" enctype="multipart/form-data"> ファイル：<br> <input type="file" name="upfile" size="30"><br> <br> <input type="submit" value="アップロード"> </form> </body> </html> read.php <?php //csvファイルのアップロード if (is_uploaded_file($_FILES["upfile"]["tmp_name"])) { 　　　　//「files」という名前のフォルダを同じ階層に設置。ここにCSVファイルをアップロード if (move_uploaded_file($_FILES["upfile"]["tmp_name"], "files/" . $_FILES["upfile"]["name"])) { chmod("files/" . $_FILES["upfile"]["name"], 0644); //fileパス $file = "files/" .$_FILES["upfile"]["name"]; //DB接続 $sv = "localhost"; $dbname = "shop"; $user = "user"; $pass = "password"; $conn = mysql_connect($sv, $user, $pass) or die("コネクトエラー"); mysql_select_db($dbname) or die("ＤＢセレクトエラー"); mysql_query("SET NAMES utf8"); //CSVデータの取り込み $sql = "LOAD DATA LOCAL INFILE '$file' INTO TABLE food"; $sql .= " FIELDS"; $sql .= " TERMINATED BY ',' "; //TERMINATED BY 区切り文字 $sql .= " ENCLOSED BY '\"' "; //ENCLOSED BY 囲み文字 $sql .= " LINES TERMINATED BY '\r\n' "; $sql .= " IGNORE 1 LINES"; $result = mysql_query($sql, $conn); if (!$result) { $message = 'Invalid query: ' . mysql_error() . "\n"; $message .= 'Whole query: ' . $sql; die($message); } echo "インポートが完了しました！"; //失敗したとき } else { echo "ファイルをアップロードできません。"; } } else { echo "ファイルが選択されていません。"; } ?> CSVファイル "No","food","price" "1","うどん","100" "2","カレー","300" "3","パスタ","500" MySQLテーブル CREATE TABLE IF NOT EXISTS `food` ( `No` int(11) NOT NULL, `food` varchar(50) NOT NULL, `price` int(11) NOT NULL ) ENGINE=InnoDB DEFAULT CHARSET=utf8; 使用中のバージョン PHP/5.4.19 Apache/2.4.4 XAMPP v3.2.1 素人の質問で凝縮ですが、よろしくお願いいたします。
PHPで”電子掲示板”を作成しようと http://www.amazon.co.jp/%E4%BD%9C%E3%82%8A%E3%81 … 以上、サイトの本の 　 ”作りながら基礎から学ぶPHPによるWebアプリケーション入門” 　を６０％やりました。 　その本のカスタマー‐レビューは星”1個半”でかなり悪いです。 　 　既に６０％自分なりに勉強しました。　　 　 　　その教本の内容で疑問があれば直ぐ、ネットの質問サイトに書き込みをして、回答を得ながら勉強していました。 　ところが、質問するたびに、「その本は内容に不備があるので、捨てたほういいですよ。」と、回答 　をが多くて、仕方なく他の本に乗り換える決心がつきました。 　 　目標は、スキルアップと”電子掲示板”を作成できるようになることで、サイドビジネスの糧（かて）にすることが目的です。 　他に※初心者向けで、お勧めのPHPの教本はございませんか！？ 　amazon.co.jpで”php プログラミング”で調べた結果、以下のたくさんの製品がヒットしました。 　http://www.amazon.co.jp/s/ref=nb_sb_ss_i_1_3?__m … 基礎・入門編のレベル範囲での選択肢になりますが、なるべく現在版がいいかなと思われます。 以上よろしくお願いします。 　
質問を出すのは初めてでプログラム1年生です。 質問内容は a.phpにあるアクセスカウンターの数値をb.phpに呼び出したいのですが、可能なのでしょうか？？ ちなみにb.phpではアクセスカウントを増やしたくありません。 <form>で括り$_GETで呼び出すなどしましたが、１度a.phpから飛ばないと表示されませんでした。 いろいろ類似する質問や記事を見て試行錯誤しましたが、どうしても表示されません。 どなたか教えていただけたら幸いです。 a.phpで記載している内容です。 <?php $counter_file = 'counter.txt'; $counter_lenght = 8; $fp = fopen($counter_file, 'r+'); if ($fp){ if (flock($fp, LOCK_EX)){ $counter = fgets($fp, $counter_lenght); $counter++; rewind($fp); if (fwrite($fp, $counter) === FALSE){ print('ファイル書き込みに失敗しました'); } flock($fp, LOCK_UN); } } fclose($fp); print('COUNT:'.$counter); ?> b.phpで記載している内容です。 <?php ob_start(); include("a.php"); ob_clean(); print $counter; ?> 私の取って付けたような知識では太刀打ちできませんでした。 どうかお助け願います。
http://homepage3.nifty.com/mtaiyo/DOCTYPE%20html … ファイル名 addxmas.phpの 21) 22) 23) 24) 25) 　部分の処理の意味がよくわかりません！？ どなたか初心者の私に丁寧に説明できるかた、いらっしゃいますか！ 　なんとなく分かりますが、１００％知りたいです。 よろしくお願いします。 　
下記のSQL文をPHPで書くとどの様になりますでしょうか？ オブジェクト指向でお願いします。 BEGIN; // トランザクションA開始 SELECT * FROM users WHERE id = 1 FOR UPDATE; COMMIT; // トランザクションA終了
プログラム初心者です PHPからSQLを発行してDBから情報を取得するときにどちらが早いですか? hogeテーブルからnameカラムの情報を、hoge2テーブルからvoteの情報を取得するとします JOINで連結して、2つのカラムを取得する方法 2回SQLを発行して別々に取得する方法 どれくらい処理時間が違うかだいたいでいいのでお願いします
質問1：動的に配列を生成したい 「$array」はデータベースから取得した配列で、他のキーもありますが この部分だけを抜き取って以下のような配列にしたいです。 $rst[0]['img_path'] = $array['img_path01']; $rst[0]['img_caption'] = $array['img_caption01']; $rst[1]['img_path'] = $array['img_path02']; $rst[1]['img_caption'] = $array['img_caption02']; $rst[2]['img_path'] = $array['img_path03']; $rst[2]['img_caption'] = $array['img_caption03']; $rst[3]['img_path'] = $array['img_path04']; $rst[3]['img_caption'] = $array['img_caption04']; $rst[4]['img_path'] = $array['img_path05']; $rst[4]['img_caption'] = $array['img_caption05']; $rst[5]['img_path'] = $array['img_path06']; $rst[5]['img_caption'] = $array['img_caption06']; 質問2：「'img_path'」と「'img_caption'」の両方がnullならキーを削除 このようにしてみましたが、どちらか片方がnullでもunsetされてしまいます。 foreach( $rst as $key => $val ) { foreach( $val as $key2 => $val2 ) { if ( !$val2 ) unset( $rst[$key] ); } } $rst = array_merge( $rst ); 考えてみましたが、いい方法が思いつきません^^; 配列は今後も増える可能性もあり、できれば動的に作成したいのでいい方法があれば教えてください！
下記のコードで、 「とある魔術 OP とある魔術II ED」 と表示させたいのですが、 私の力では 「とある魔術 OP とある魔術II ED」 とまでしか表示できませんでした。 力を貸してください。 お願いします。 $moji="とある魔術／／OP／／とある魔術II／／ED"; $str = explode( "／／", $moji); $count1=count($str); $count2=count($str); for ($i = 0; $i <= $count1-1; $i++) { echo (htmlspecialchars($str[$i])); if($count2=$count2-1){ print("<br>"); } }
環境：Windows2008R2 + PHP5.4 次のようなHTMLより日本語ファイル（い.pdf）を読み込みPHPの$_FILES変数で確認をすると 文字化けしていたので、バイナリエディタで確認すると「c3a3c281c284.pdf」となっていました。 これを「い.pdf」へ戻すにはどうすれば良いでしょうか？ HTMLファイルのエンコードは、「UTF-8」です。 よろしくお願いします。 htmlファイル <form id="aupload" action="upload.php" method="POST" enctype="multipart/form-data"> <input type="file" name="aupname" multiple="multiple"/> </form>
こんにちは。 現在、とあるサーバ（A）でMySQLを使っています。 この度、他サーバ（B)からこのAサーバのデータベースにアクセスしたいと思っています。 具体的には Aサーバ MySQL にあるデータを、 BサーバにあるWebページで出力したいのです。 どういった方法を取ればいいのでしょうか＞＜ 漠然とした質問で申し訳ありません。 PHP５、MySQL５ です。 宜しくお願いします＞＜
こんにちは。 Webサイトからファイルをパソコンにダウンロードする際に、 画面に進行状況を出したいと思っています。 方法をご教示していただきたく質問しました。 WebサイトはPHP,JavaScriptなどで作成しています。 よろしくお願いいたします。
現在、作成しているwebアプリの中（管理画面）に、リッチテキストエディタを自作して 表示しており、動作も問題ありません。 ・使用言語：php, js ※ブログなどの記事編集できる管理画面を想像していただければ、 イメージしやすいと思います。 今回、お聞きしたいのは２点です。 １.編集した記事をMySQLに挿入するとカラムの値が０になってしまうこと。 例えば、エディタから記事のタイトル、記事本文を保存したい場合、 下のように書いています。（もちろん, $_POSTには値はしっかり入っています。） $req = $db->prepare('insert into texts (title, edit_text) values (title = :title, edit_text = :edit_text)'); $req->execute(array( ':title' => ($_POST['title']), ':edit_text' => stripslashes($_POST['mytext']) )); すると、テーブルtextsのtitle,edit_textにそれぞれ０が入ってしまいます。 ログをみても特に怪しいところもなく、エラーも出てないようなので全く理由が わかりません。なぜなのか、ご教授いただけないでしょうか？ ２. エディタで編集した記事の内容はどこに保存するべきなのでしょうか？ ※こちらも、ブログ記事編集画面を想像していただければと思います。 １つのtextareaに装飾したテキストや画像もある場合、一気mysqlに 保存することは難しいと思っております。 また、仮に保存できたとしても、強調したテキストや下線の入ったテキストなどの形式まで 保存はできないですよね？ どのようにしたらよいのか全く解決策が見えませんので、ご教授いただけないでしょうか？ 宜しくお願い申し上げます。
プログラム初心者です 文字を参照でつかおうとおもったんですがつかえませんでした $row_cntは投稿したレス番号です レス番号と引用した数字が同じ場合は置換えないようにしようとおもいました $noに入っている文字がなにか確認したら参照した数字ではなくて文字の$1になってました。 どうやったら参照した数字を変数にいれられるでしょうか？ $pattern="/&gt;&gt;(\d+)/"; $no= "$1"; if($row_cnt!=$no){ $replacement="<a href=\"bbs.php?no=$1\">$0</a>"; $str=preg_replace($pattern,$replacement,$mes); } よろしくおねがいします
ご教授お願いいたします。 以下のこういったことは可能でしょうか？ ■質問 「A.php」で クラスをグローバル変数に代入し、それをセッションに登録し、「B.php」で取り出すことは可能でしょうか。 ⇒可能な場合 　「B.php」でどうやって取り出せばよいでしょうか。 ⇒不可能な場合 　「A.php」から「B.php」へクラスを渡したいのですが、どうすればよいでしょうか？ ■例 「A.php」というソースで クラスをグローバル変数に代入し、セッションに代入する。 ○例(A.php)： $xxc = new XXX_XXX_CLASS(); $xxc->setA('aaa'); $GLOBALS['@XXX_XXX_CLASS'] = $xxc; session_start(); // セッションにセット $_SESSION['aaa'] = $GLOBALS['@XXX_XXX_CLASS']; // セッションのクローズ session_write_close(); ○例(B.php)： session_start(); 取り出し方：１ $xxc = $_SESSION["aaa"];　// ←取り出せなかった。 $xxc->getA(); 取り出し方：２ $xxc = new XXX_XXX_CLASS(); $xxc = $_SESSION["aaa"];　// ←取り出せなかった。 $xxc->getA(); 取り出し方：３ ほかに取り出し方がありましたらご教授お願いいたします。 グローバル変数を通さないやり方もしてみたのですが、そちらでも出来ませんでした。 以上、よろしくお願いいたします。
お世話になってます。 PHPからのPDFダウンロードで以下の様な現象が起きておりまして、 助言を頂きたいと思います。 管理者ページからPDFを添付してお知らせを入力し、 一般ユーザはお知らせを見たりPDFをダウンロードしたりする機能があります。 開発機では、まったく問題なくアップロード・ダウンロードができるのですが、 顧客環境では正常にアップロードができていることは確認ができますが、 Windows環境でダウンロードし、Acrobat　Readerで確認するとPDFが壊れているという現象が起きています。 （実際にサーバーにアップロードされたファイルを確認しておりますのでアップロードは正常です。） またそれは、全てのPDFファイルではなく1部のファイルにそのような現象が起きていて さらには、MacOS 及び　iPhoneから接続しダウンロードを行い閲覧するには問題はありません。 おそらくサーバー側のApacheのどこかに何か設定があるのかと思いますが検討がつきません。 環境は、CentOS5.9 + Apache 2.2.3 PHPのコードは、以下の通りです。 header("Cache-Control: public"); header("Pragma: public"); header("Content-Type: application/octet-stream; charset=UTF8"); header('Content-Disposition: attachment; filename="'. $file_name .'"'); header('Content-Length: ' . filesize($filepath)); readfile($filepath); 以上、どなたかお分かりのかたいらっしゃいましたら助言を頂けますでしょうか。 よろしくお願い致します。
プログラム初心者です PHPとMYSQLをつかって簡単なタグクラウドを付ける方法を教えてください。 考え方や大雑把な設計を教えてください タグをユーザーが自由に付けて、そのタグをクリックするとカテゴリのようにタグの付いた情報をまとめて取得できるようにしたいです タグを入力するときは、半角スペースで区切ると何個もタグが付けれるような感じです DBのテーブルのカラムはどんな感じにすればいいでしょうか? よろしくお願いします
プログラミング初心者です。 頭文字を選択するとその頭文字から始まる大学が選択でき、大学を選択するとその大学に所属する学部を選択できるような登録フォームを作りたいです。 ちょうどリクナビの登録フォーム（https://job.rikunabi.com/2015/accounts/regist/）と同じような感じです。 検索してもなかなか役に立ちそうなページにたどり着けず、どのように作ったらいいのか全く分かりません。どなたか知恵をお貸しください。 ちなみにPHP（フレームワークはLaravel）、SQLiteで開発中です。 回答宜しくお願いします。
じゃんけんのプログラミングでぐー、ちょき、パーはできたのですが。 それに加えて、皇帝(ぐー、ちょき、パーには勝つが奴隷に負ける)と奴隷（皇帝だけに勝つ）を追加したいんですが、うまくいきません。 今はプレイヤー-コンピューターが2以外かつコンピューターープレイヤーが2なら負けと言うルールで作っています。皇帝と奴隷が成り立つようにするにはどうすればいいでしょうか？よろしくお願いします。 <html xmlns="www.w3.org/html" xml:lang="ja" lang="ja"> <head> <title>限定じゃんけんゲーム</title></head> <body> <p> グー、チョキ、パー、皇帝、奴隷、あなたは何を出す？？ <br> <br>ルール　皇帝は奴隷以外に勝てます。 <br>　　　　奴隷は皇帝だけに勝てます。 </p> <form action="sample2.php" method="post"> <p> <input type="radio" name="te" value="1" checked />グー<br /> <input type="radio" name="te" value="2" />チョキ<br /> <input type="radio" name="te" value="3" />パー<br /> <input type="radio" name="te" value="4" />皇帝<br /> <input type="radio" name="te" value="6" />奴隷<br /> <input type="submit" name="submit" value="押せ！" /> </p> </form> <form> <p> <?php $com = 0; $prayer = 0; if (isset($_POST["submit"])) { $com = rand(1,6); $prayer = $_POST["te"]; // 勝ち負け判定！ if (($com < $prayer && ( $prayer - $com) != 2) || ($com - $prayer) == 2) { echo "貴方は".kimeru( $prayer)."。<br />コンピュータは".kimeru($com). "。<br />なのであなたの負けです"; } elseif ($com == $prayer) { echo "貴方は".kimeru( $prayer)."。<br />コンピュータは".kimeru($com). "。<br />なのであいこです"; } else { echo "貴方は".kimeru( $prayer)."。<br />コンピュータは".kimeru($com). "。<br />なのであなたの勝ちです"; } } function kimeru($te) { if ($te == 1) { return "グー"; } elseif ($te == 2) { return "チョキ"; } elseif ($te == 4) { return "皇帝"; } elseif ($te == 6) { return "奴隷"; } else { return "パー"; } } ?> </p> </form> </body> </html>
プログラム初心者です 変数について教えてください 質問1 変数に代入する値の中で改行しても問題ないでしょうか？ while ($table = mysqli_fetch_assoc($recordSet)) { $cells .= "<tr> <td>{$table['id']}</td> <td>{$table['name']}</td> <td>{$upday}</td> </tr>".PHP_EOL; } 質問2 変数に格納できるものはなんでもありですか？関数も入りますか? こんなことはしないですが実験的にやってみたら表示されました $hoge = print "hoge"; 戻り値がないもの、この場合は、出力結果がはいるのでしょうか？ よろしくお願いします
ファイルをアップロードからのMIMEタイプ取得についての抜粋です。 $finfo = new finfo( FILEINFO_MIME_TYPE ); foreach( $file['error'] as $key => $value ) { $mime = $finfo->file( $file['tmp_name'][$key] ); echo $mime; test.docは「application/msword」となりますが、test.docxは「application/zip」となります。 「doc」と「docx」で取得する内容が違うのですが、「application/msword」で統一できないのでしょうか？ ちなみに、「xlsx」や「pptx」も同様にzipの結果となりました。 zip形式のものは、アップさせないのでどう対処すべきか困っております。
phpで現在、掲示板を作成しています。 【投稿する】を押すと、エラーチェックが作動し、問題がなければ投稿が出来ます。 【本体　掲示板】→ファイル名：bbs.php 【エラーチェック】→ファイル名：function.php ここで、疑問点が生じました。 なせ：【投稿する】を押すと、エラーチェックが作動するようになっているのですが、現在エラーチェックはphp入門サイトなどを観覧し、やっているのですが中々できません。 そこで皆様へ回答をしてくれる様お願いします。【ご協力感謝します】 【投稿する】→【エラーチェック】→【投稿完了】 ※エラーチェックは、正しく入力されていたら、投稿となります。 　　　 次は、過去ログ機能などを追加しようと思います。 ♪宜しくお願いします♪
プログラム初心者です シンプルな掲示板を作りました 引用の自動リンクを設置する方法を教えてください 例えば さっきの回答>>10ありがとう とユーザーが記入したら さっきの回答<a href="bbs.php?id=10">&gt;&gt;10</a>ありがとう と置換える感じです よろしくお願いします
phpでメールファーム　自動返信機能を取り付けたいです。 ！どうすればよいのでしょうか。？メールが入力されたら、こちらから自動返信メールを送信しようと思うのですが、どうすればよいのでしょうか。？回答宜しくお願いします。！
ファイル名：bbs.html 掲示板タグを一を記載します。 <html> <head> <title>ミニ掲示板</title> </head> <div class="menu"> l<a href="～～～">～～～</a> l<a href="～～～">～～～</a> </div> <body> <p>※記事削除は、製作者へメールをクリックし、用件には【掲示板　記事削除の件】内容には、【記事削除キーを入力し、送信してください。】<br> ミニ掲示板(<a href="bb.html">リロード</a>)<hr> <form method="post" action="bbs.php"> <input type="hidden" name="mode" value="write"> 名前：<input type="text" name="name" size="20"><br> メールアドレス：<input type="text" name="name" size="40"><br> 用件：<input type="text" name="name" size="20"><br> 記事削除キー：<INPUT size="20" type="password" value="" name="pass"> <p> 内容：<br> <textarea name="message" rows="5" cols="30"></textarea><br> <input type="submit" value="　投稿する　"> </form> <hr> 【投稿する】を押すとbbs.phpに繋がるのですが、【投稿する】を押したら、bbs.htmlの【最初の場面】の下に自動的に入るようにしたいのですが。！ どうすればよいのでしょうか。？　♪宜しくお願いいたします。♪【(ーー;)】
プログラム初心者です PDOやる前にmysqliの手続き型で勉強中です 手続き型でフォームから入力された値をこんな感じにするのは危険でしょうか？ 悪意を持ったユーザーに簡単に突破されますか？ if(!empty($_POST['name'])){ $sql = sprintf('SELECT * FROM hoge WHERE name="%s"', mysqli_real_escape_string($link,$_POST['name']) ); } 更新するとき if(!empty($_POST['name'])){ mysqli_query($link,sprintf('UPDATE hoge SET name="%s" WHERE id=%d', mysqli_real_escape_string($name), mysqli_real_escape_string($link,10) )); } よろしくお願いします
現在、PHPで掲示板をメモ帳で作成しています。 今回は、よくよく分からないものを記載！ PHPタグ================================= <?php // 保存するログファイル名 $LOGFILE = "log.txt"; … (1) // POST で mode = write の属性が送られていたら書き込み処理 if ($_POST["mode"] == "write") { … (2) 　　$name = $_POST["name"]; … (3) 　　$message = $_POST["message"]; 　　$date = date("Y/m/d H:i:s"); … (4) 　　if (file_exists($LOGFILE)) { … (5) 　　　　$lines = file($LOGFILE); … (6) 　　} 　　$fp = fopen($LOGFILE,"w"); … (7) 　　fputs($fp,"$name,$message,$date\n"); … (8) 　　for ($i=0;$i<count($lines);$i++) { … (9) 　　　　fputs($fp,$lines[$i]); … (10) 　　} 　　fclose($fp); } ?> PHP 解説よくよく分からない=========== (1) では変数で説明した変数に保存するファイル名を指定しています。ファイル名は保存、読み込みのところで複数回つかうので使いまわしできるように変数に入れています。 (2) では前ページで説明した、 <input type="hidden" name="mode" value="write"> でフォームから送られる情報を $_POST["mode"] で受け取って、その値が "write" かどうかチェックしています。 「投稿する」ボタンを押してサーバに情報が送信される際に mode=write も送られていますので、それを if文で判定しています。通常のアクセスでは mode=write が送られないため、書き込み処理を行わないという感じです。 (3) では(2)同様、フォームから送られた name の情報を受け取って $name という変数に入れています。 (4) では現在の日付を取得しています。PHPには date 関数という代物があって簡単に現在の日付を取得できます。 (5) ではファイルが存在するかチェックしています。 file_exists関数でファイルが存在するか調べています。 (6) では file 関数によって配列にデータをすべて入れています。なぜここでデータを変数に入れるかというと、新しく投稿されたデータを1行目に書き込んで、残りに古い情報を書き込むためです。 なまえ,メッセージ,2005/02/06 なまえ,メッセージ,2005/02/06 なまえ,メッセージ,2005/02/06 青が新しく投稿された情報で赤が元々保存されていたふるい情報 (7) ではこれから書き込むのでfopen関数でファイルを書き込みモードで開いています。 (8) では開いたファイルにfputs関数で書き込んでいます。名前、メッセージ、日付をカンマ区切りで1行にしてファイルに書き込んでいます。 (9),(10) では古いファイルの情報(投稿前に書き込まれていた情報)を書き込んでいます。これを行わないと、新しく投稿された情報は書き込まれますが、古い情報が消えてしまうのでこの処理をしています。 PHPの解説でよくわからないので、お答えしてください。 　　 　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　♪♪宜しくお願いします。♪♪
ニコニコ動画で自分がみた動画の履歴をスクレイピングしたいと思っているのですがどうにもコードを作成中に行き詰ってしまいました。 下記のURLまでは知恵袋に投稿をして教えて頂いたのですが、こっからどうすればURLが取得できるのかわかる人は教えてください！ http://codepad.org/abOibM6Z この上記のURLのPHPを作動すると下記のものしか出力されません！ array(0) { } 誰か教えてください！ それかもっと簡単に自分がみた動画の履歴が見れるAPIなどがあれば教えてください^^
$val = "キー１　キー２ キー３"; //を、「キー１」「キー２」「キー３」という風に、 //全角括弧「」でくくって書き出す関数はありますか。 //ただし、スペースは全角の場合と半角の場合あります。 //苦し紛れに、 echo implode("「", $word, "」"); //みたいなことをしてみましたが、エラーです。。。
月刊誌の過去記事の目録を構築していて、プルダウンに発行年月と号数、特集スポーツ名を列記したショートカットメニューを構築したいのですが、月によって特集テーマが２つ、３つある号があり、これらもプルダウンに連記してセットしたいと思います。 以下のサンプルのように既に実現はできてはいるのですが、以下のコード、素人の私がみてもいかにも冗長であることは明白です。もっとスマートに書き換えられるならご教示いただければ幸いです。 なお、本件、別カテゴリでの質問での御礼に聞きかけた質問ですが（http://oshiete.goo.ne.jp/qa/8309533.html）、既に初期の目的が達せられたため締め切りました。恐縮ですが改めて伺います。 //元データ CREATETABLE`mymagazine`(`myCode`int(5)unsignedNOTNULLauto_incrementCOMMENT'管理コード',`myPubYear`int(4)defaultNULLCOMMENT'発行年',`myPubMonth`int(2)defaultNULLCOMMENT'発行月',`mySequence`int(3)defaultNULLCOMMENT'号',`mySortNo`int(2)defaultNULLCOMMENT'巻毎のソート番号',`myCategoryCode`int(2)defaultNULLCOMMENT'分類コード',`myTheme`varchar(900)defaultNULLCOMMENT'テーマ',PRIMARYKEY(`myCode`) )ENGINE=InnoDBDEFAULTCHARSET=utf8COMMENT='テーブル'AUTO_INCREMENT=1; INSERTINTO`mymagazine`(`myPubYear`,`myPubMonth`,`mySequence`,`mySortNo`,`myCategoryCode`,`myTheme`)VALUES(2005,7,138,1,99,''),(2005,7,138,2,1,'サッカー'),(2005,7,138,3,1,'サッカー'),(2005,7,138,14,16,''),(2005,7,138,15,15,''),(2005,8,139,4,1,'野球'),(2005,8,139,5,1,'野球'),(2005,8,139,17,17,''),(2005,8,139,18,17,''),(2005,9,140,1,99,''),(2005,9,140,2,1,'テニス'),(2005,9,140,3,1,'バスケ'),(2005,9,140,4,1,'バスケ'),(2005,9,140,5,1,'バスケ'),(2005,9,140,6,1,'水泳'),(2005,9,140,7,2,''),(2005,9,140,8,14,''),(2005,9,140,9,13,''),(2005,11,142,2,1,'柔道'),(2005,11,142,3,1,'剣道'),(2005,11,142,4,1,'剣道'),(2005,11,142,5,8,''),(2005,11,142,6,2,''),(2006,1,144,2,1,'卓球'),(2006,1,144,3,1,'卓球'),(2006,1,144,4,1,'バレー'),(2007,9,236,2,1,'陸上'),(2007,9,236,3,1,'陸上'),(2007,9,236,4,1,'陸上'),(2007,9,236,5,4,'ソフト'),(2007,9,236,6,5,'') //コード <?php $con = mysql_connect(serv, user, pw); $selectdb = mysql_select_db(DBNAME, $con); $sql = "select *,"; $sql .= " (select if(max(mySortNo)=t1.mySortNo,1,null) from mymagazine where mySequence=t1.mySequence and myCategoryCode =1) as myflg"; // フラグ $sql .= " from mymagazine as t1"; $sql .= " order by mySequence desc"; $rst = mysql_query($sql, $con); $body = "<select name=\"myselect\"\">\n"; while ($col = mysql_fetch_array($rst)) { // 発行年を見出しにセット if ( $sv_myPubYear != $col["myPubYear"] ) { if ( $sv_myPubYear != '' ) { $body .= "</optgroup>\n"; } $body .= "<optgroup label=\"" . $col["myPubYear"] . "年\">\n"; } //号数（mySequence）と分類コード（myCategoryCode＝特集、連載、投稿など各コーナー名で1だけを抽出する） //が変わらないのに特集テーマが変わったらテーマの文言を追記する if (($col["mySequence"] == $sv_mySequence) && ($col["myCategoryCode"] == $sv_myCategoryCode) && ( $col["myTheme"] != $sv_myTheme)) { $selectStr = $selectStr . "◆" . $col["myTheme"]; } else { $selectStr = $col["myTheme"]; } //同じ号数で、直前のループと比較して文字数が減っていたら、前の方を採用 if (($col["mySequence"] == $sv_mySequence) && (mb_strlen($selectStr,"utf-8") < mb_strlen($sv_selectStr,"utf-8"))) { $selectStr = $sv_selectStr; } //SQLで設置したフラグがたっている場合だけ、プルダウンメニューとして書き出す。 if ($col["myflg"] == '1') { $body .= "<option>" . $col["myPubMonth"] . "月号（第" . $col["mySequence"] . "号） " . $selectStr . "</option>\n"; } //次のループで比較検討用に各値の持ち越し $sv_myPubYear = $col["myPubYear"]; $sv_mySequence = $col["mySequence"]; $sv_myCategoryCode = $col["myCategoryCode"]; $sv_myTheme = $col["myTheme"]; $sv_selectStr = $selectStr; } $body .= "</optgroup>\n"; $body .= "</select>\n"; ?> <html> <head> <meta http-equiv="content-type" content="text/html; charset=utf-8"> </head> <body> <?= $body ?> </body> </html> なお先日、別質問でMySQL関数の非推奨を教わり、こちらには後日に取り組むつもりです（なかなか対応できなくてスミマセン） http://oshiete.goo.ne.jp/qa/8277847.html
facebook等に連動しないサイト内投票ボタン（いいね等）を設置したいです。 既に存在するwebページ内に、上記ボタンを設置することによりweb投票が出来るサイトを作成しています。参考になるプログラムやソース等ありますか？ 対象htmlファイルが置かれているレンタルサーバでは、javascript、PHP5、perlが動作します。またDB（MySQL、PostgreSQL）が利用可能です。
http://httpd.apache.org/download.cgi のページを開き、 「Win32 Binary (MSI Installer): apache_2.2.4-win32-x86-no_ssl.msi」 を選択しダウンロードします （ファイル名の2.2.4の部分は最新のバージョンにより違ってきます）。 とのことですが、 「Win32 Binary (MSI Installer): apache_2.2.4-win32-x86-no_ssl.msi」 このファイルが見つかりません。 【どうすればよいのでしょうか。？】
セッションを利用してデータベースにデータを登録するプログラムを作成しており、 画像のアップロード部分の処理で困っております。 画像がある場合は画像URLを登録、ない場合は空にしたいのですが、 下記のソースの問題点や解決策がお分かりになる方、ぜひご教示ください。 ■submit.php ・ ・ if(empty($error)){ if(isset($_FILES)){ $image = date('YmdHis') . $_FILES['image']['name']; move_uploaded_file($_FILES['image']['tmp_name'], 'picture/' . $image); //パターン1　$_SESSION['image'] = $image; } //パターン2　$_SESSION['image'] = $image; header('Location: check.php'); } ・ ・ <input type="file" id="image" name="image" /> <input type="submit" value="確認する" /> ・ ・ ■check.php if(isset($_SESSION['image'])){ echo '<img src="picture/' . $_SESSION['image'] . '" />'; } else { echo '写真のアップロードはありません。'; } ・ ・ <input type="submit" value="登録する" /> パターン1の場合 画像があっても無くても、「写真のアップロードはありません。」となりデータベースへの登録も空となります。 パターン2の場合 画像がある場合は、正常に「date('YmdHis')[imageの名前].jpg」が表示されデータベースに登録できます。 画像がない場合、check.php上では、<img src="picture/[date('YmdHis')の部分]のみ" />で表示され、date('YmdHis')の文字列がデータベースに登録されてしまいます。
XAMPPのapacheを使っているんですが、ポートが競合してしまいます。 ポート80を使っているプログラムを切っても他のプログラムが隙あらば、という感じですぐに80を使ってしまって困っています。 どうすれば解決できるのでしょうか？
<?php require_once 'rss_fetch.inc'; require_once 'code_table.ucs2jis'; require_once 'jcode.php'; $url = 'ｘｍｌアドレス'; $rss = fetch_rss($url); $title = $rss->channel['title']; //JcodeConvert($str, $from, $to) //0:PASS（無変換）1:EUC-JP 2:Shift_JIS 3:ISO-2022-JP(JIS) 4:UTF-8 $title = JcodeConvert($title, 4, 4); foreach ($rss->items as $item ) { $title = $item[title]; $title = JcodeConvert($title, 4, 4); $url = $item[link]; $description = $item[description]; $description = mb_convert_encoding($description, "Shift_JIS", "auto"); $description = mb_strimwidth($description, 0, 120, "" , "Shift_JIS"); echo "<li><a href=\"$url\">$title</a><br>$description</li>\n"; } ?> と記述し、 <ul> <!--#include virtual="上記phpファイルのアドレス" --> </ul> でサイトにRSSを表示しているのですが、 通常上が新しいものが表示されているのですが、 これをランダムに表示したいと考えています、 shuffleを使えばできるような感じですが、記述方法が全く分かりません。 何を記述すれば、ランダム表示されますか。
プログラム初心者です よくツイッターと関係ないサイトで、ツイッターでもログインできるサイトを見かけるのですが あれは一般の人でもできるのでしょうか？ 自分のサイトにツイッターのアカウントでログインできる方法を教えてください よろしくお願いします
下記ソースコードのように、forループで回る度にループの中のnameを変更することはできますか？ できるのであれば、お手数ですが方法もお願いします。 for($i = 0; $i <= 6; $i++){ echo"$i"; ?> <dd> <input name="responce" type="text" id="responce" /> </dd> <?php } ?>
write.phpというファイルで入力し、hantei.phpというファイルでデータベースに格納を行おうとしています 回答欄はデータベース内の模範解答が入っているテー ブルのレコード数を数えてforループで表示しています。 表示された回答欄に回答を入力しても、データベースに格納されません。 調べたところ、forループで回す度に<input name="responce" type="text" id="responce">のなかのnameが変わらなければならないとのことです。 また、変化したnameを受け取って格納しなければならないと書いてありました。 エラー内容は Undefined index: responce0 in hantei.php on line 16 Undefined index: responce1 in hantei.php on line 17 Undefined index: responce2 in hantei.php on line 18 Undefined index: responce3 in hantei.php on line 19 Undefined index: responce4 in hantei.php on line 20 Undefined index: responce5 in hantei.php on line 21 となっていました 以下ソースコードです。 write.php <form action="hantei.php" method = "get"> <?php //データベースの選択 mysql_connect('localhost', 'root', '') or die(mysql_error()); mysql_select_db('text_book'); mysql_query('SET NAMES UTF8'); <?php //レコード数の計算 $ans = mysql_query("SELECT COUNT(answer) FROM `write` WHERE problem_id = 1"); //回答欄の表示 for($i = 0; $i <= $ans; $i++){ echo"$i"; ?> <dd> <input name="responce" type="text" id="responce" /> </dd> <?php } ?> <input type="submit" valued="送信する"> hantei.php <?php //データベースの選択 mysql_connect('localhost', 'root', '') or die(mysql_error()); mysql_select_db('text_book'); mysql_query('SET NAMES UTF8'); //回答結果の格納 $response = sprintf("INSERT INTO learner_responce SET responce='%s'", mysql_real_escape_string($_GET["responce0"]), mysql_real_escape_string($_GET["responce1"]), mysql_real_escape_string($_GET["responce2"]), mysql_real_escape_string($_GET["responce3"]), mysql_real_escape_string($_GET["responce4"]), mysql_real_escape_string($_GET["responce5"]) ); mysql_query($response) or die(mysql_error()); ?> <form method = "get" action = "write.php"> <input type="submit" valued="戻る">
windows7のローカルでapacheとＰＨＰを使いたいんですが、PHP　VC6というのがもう落とせるところが見つかりません。 とりあえず動けばいいのですが、apacheとPHPの落とすべきバージョン、落とせるところを教えて下さい。
PHPを独学で勉強しているものです、あるサイトを構築中で、入力内容のエラー判定をしたいのですが、どうしても半角英字がエラーではじかれず、どなたかご指導いただけますでしょうか。 PHPのバージョンは5.2で、DBはMySQLでユーザーがある情報を登録できるサイトで、データ型にあわせるため、1以上の半角数字のみ受け付けるようにしたいです。 入力欄は３か所で、$ic0、$ic1、$ic2に格納されています。 入力が全角数字の場合はそれぞれを半角数字に自動変換したいとおもっています。 自作したものは下記の通りです。 宜しくお願い致します。 /*エラー判定*/ $ic_check=$ic0.$ic1.$ic2; if(preg_match("/^[0-9]+$/", $ic_check)){ if($ic0=="0" || $ic1=="0" || $ic2=="0"){ $error_msg="1以上の数字を入れてください。"; }else{ $error_msg=""; } } elseif(preg_match("/^[0-9０-９]+$/",$ic_check)){ $ic0=mb_convert_kana($ic0, "n", "Shift_jis"); $ic1=mb_convert_kana($ic1, "n", "Shift_jis"); $ic2=mb_convert_kana($ic2, "n", "Shift_jis"); if($ic0=="0" || $ic1=="0" || $ic2=="0"){ $error_msg="1以上の数字を入れてください。"; }else{ $error_msg=""; } } elseif(preg_match("/^[a-zA-Z]+$/",$ic_check)){ $error_msg="半角数字で入力してください"; } else{ $error_msg="半角数字で入力してください"; }
http://oshiete.goo.ne.jp/qa/8277847.html で、No2のagunuz様にご教示いただいたサンプルを以下のように組み込みました。 （当方コメントは■です） $sv_magazine = ''; while ($col = mysql_fetch_array($rst)) { $magazine = $col['magazinecode']; if ($magazine !== $sv_magazine) { if ($sv_magazine !== '') { // 前のマガジン番号（$sv_magazine）のフッタ（必要があれば） $body .= "</ul>\n"; //■この行を加筆しました } // 今読んだマガジン番号（$magazine）のヘッダ $body .= "<h1>【" . $col['yyyymm'] . "】</h1>\n"; //■この行を加筆しました $body .= "<ul>\n"; //■この行を加筆しました $sv_magazine = $magazine; } // $col から明細を出力 $body .= "<li>". $col["category"] ; //■ここから・・・・ $body .= "<ul>\n"; $body .= "<li>" . $col["title"]; $body .= "<ul>\n"; $body .= "<li>" . $col["author"]; $body .= "</ul>\n"; $body .= "</ul>\n"; //■・・・ここまでの行を加筆しました } // ループ終了 if ($sv_magazine !== '') { // 最後のマガジン番号（$sv_magazine）のフッタ（必要があれば） $body .= "</ul>\n"; //■この行を加筆しました } 上記を実行し、元質問にお示ししたサンプルレコードを読み込むと、以下のように出力されます。 （箇条書きインデントのポツのレベルは、１は●、２は◇、３は◎と仮定します） ただ、当前ですが、同じ号の同じ「分類（『特集』、『連載』などの文言）」が２回目以降にもでてくるのはスマートでないので、注記した行は間引いて、以下のようにスッキリHTMLに出力表示させたいと思います。 【2013年5月号】 ●特集：折り紙 　◇作成法１ 　　◎山本 ●特集：折り紙　　【←この行は２度目なので間引いて表示しない】 　◇作成法２ 　　◎佐藤 ●特集：折り紙　　【←この行も３度目なので間引く】 　◇作成法３ 　　◎岩田 ●連載 　◇はさみ研ぎ方 　　◎伊藤 ●連載　　　　　【←この行は２度目なので間引く】 　◇のりの選び方 　　◎野口 当方での想像として、ループ中、もし$col["category"]の文字列が前に出てきたのと同一ならスキップ（非表示）でいいよ、というスイッチを加筆すれば良さそうですが、どのように記述したらよろしいでしょうか。 （質問とぜんぜん関係ないですが、冒頭のコードで、$sv_magazine = '';と初期化？させているのは理解できますが、WHILEの外側でなぜ効くのか、悩んでます(^_^;）
PHPとMySqlで簡易的なCMSを作成しています。 1つの記事にタイトルと本文と画像（最大）6枚を登録します。 表示のイメージはこんな感じです。 「タイトル（テキストのみ）」 「画像1」「画像2」「画像3」 「画像4」「画像5」「画像6」 「本文（テキストのみ）」 「ワード（クリックするとダウンロード）」 「PDF（クリックするとブラウザで開く）」 ファイルのアップロードは、本文とは別の項目です。 画像の他にPDFやワードなどのファイルもアップロード可能です。 アップしたファイルのパス（files/img.jpgのようなテキスト）だけをtext型のカラムに登録しようと思っていたのですが、セキュリティ的に画像はバイナリデータとして保存した方がいいとか。。。 $img_path = '画像のパス'; $img = file_get_contents($img_path); $ext = pathinfo($img_path, PATHINFO_EXTENSION); こんな感じで、バイナリデータと拡張子を分けて登録するようです。 ファイルは、バイナリデータとして登録しアップロードされたフォルダから消す方法と パスをテキストで登録しファイルを残しておく方法とはどちらがいいのでしょうか？
Smartyを使いキャッシュを作成しているのですが、そのキャッシュのファイル名をコメントとしてキャッシュファイルの中に記載したいと思っています このファイル名がどんなアルゴリズムか分からないのですが、Smartyでテンプレファイルを作成する場合に、そのキャッシュファイル名をコメント化して入れておく方法はありませんでしょうか 何卒宜しくお願い致します
最近PHPを勉強していまして、変数の格納について、質問させていただきます。 <a href="aaa.index" onclick="window.open('bbb.php?id=ccc&adwares=ddd&url='); return false; rel='nofollow'"><img src="eee.jpg"></a> これは、とあるアフィリエイトプログラムの広告で、リンク先のページにリンクする時に、自分のidを送るというような構文（？）なのですが、 上の様な画像付リンク（アフィリエイトコード）をphpの変数に格納する場合、 <? php $url ='<a href="aaa.index" onclick="window.open(\'bbb.php?id=ccc&adwares=ddd&url=\'); return false; rel=\'nofollow\'"><img src="eee.jpg"></a>'; ?> として、 <?php echo $url ?> としましたが、新しいウインドウが出ずに、自分のサイトからのアクセスとして、 カウントされていませんでした。 どうすれば新しいウィンドウがでて、自分のサイトからのアクセスとして 認証されるでしょうか？ それともそういう事は無理なのか？教えてください。
プログラム初心者です ブラウザオンラインゲームで次の日付になったらアイテムがもらえることがありますが、これはｐｈｐかmysqlでもできるのでしょうか？ 日付はまったく勉強していないので教えてください 日付が変わったら、（例えば0時をすぎたら） $hoge++; を実行するみたいな処理を入れたいです
$stock = array ( "./cgi-bin/photobbal25.cgi?name=%94%E9%89%D8"=>"143時間:43分:05秒", "./cgi-bin/photobbal25.cgi?name=naomi"=>"143時間:43分:05秒", "./cgi-bin/photobbal25.cgi?name=%82%D0%82%EB%82%DD"=>"117時間:31分:29秒") foreach($stock as $key => $value) { print"$key\n;" print "{$value}\n" 　　　　　　print "　　　　　　\n" //ここに表示したい } 上記はPHPのコードです ?name=%94%E9%89%D8の %94%E9%89%D8を日本語で表示したい よろしくお願いします。
プログラム初心者です セッション変数の安全性について教えてください ログインしているかをセッション変数で判定しています。セッションidは使っていません 質問1 悪意をもったハッカーがセッション変数を取得することはできますか？それともセッション変数はクッキーと違い安全なんでしょうか？ 質問2 セッション変数の保持時間は決まっていますか？ session_start(); if(!isset($_SESSION['id'])){ header('Location: login.php'); exit(); } よろしくお願いします
他者が制作したWordPressがありまして、（数ページの規模です） 新しいページを作ろうと思いましたができません・・・ 「外観」の「テーマの編集」　⇒　右側に各種テンプレート名が表示されます。 ここにある～～.phpが各ページになって、表示されるようです。 新規ページ追加のボタンが無いようなので、新ページを作る事ができないのです。 そこで、 サーバに入って、類似ファイルをコピペして、そのページのファイル名と中身を編集しました。 でも、 そのファイル名で表示させても「見つかりません」という表示になります・・・ http://wpdocs.sourceforge.jp/Theme_Development#C … 何か、設定しないといけないのでしょうか？？ ヒントだけでも教えてください。
今見ているサイトで多数の商品があり、１ページ３０件でしか表示がなく １０００件以上あるので次へのページに行くのが大変苦労しております。 商品の登録を行うため、simple html domを利用して情報を取得しています。 しかし、次のページの商品を取得する方法が思いつきません。 手間はかかりますが、例：1～30(全1500件)　とかの部分を取得し 全ページの取得もできると思いますが もっとスマートな取得方法はありませんでしょうか。 ご教示のほどよろしくお願い申し上げます。
プログラム初心者です phpとas3で送受信したいです。 flash→php→flashの流れで変数を送受信させようと思います しかし、送受信はできているのですが、日本語だけが文字化けします うまくいけば。「こんにちわほげabc55」になるはずなんですが flashで表示されるのは「こんにちわق°abc55」とphpで加えた日本語が文字化けしています flashからpostされた日本語「こんにちわ」は文字化けしないで、flash→php→flashまで返ってきています flash cs5　のデフォルトの文字コードはUTF-8です phpファイルの文字コードはUTF-8でファイルを保存しています よろしくお願いします PHP <?php $comment = $_POST['com']; $comptxt = $comment."ほげabc55"; echo "comp=" . $comptxt; ?> AS3 var request:URLRequest = new URLRequest ( "test.php" ); //PHPへPOST送信 request.method = URLRequestMethod.POST; var variables:URLVariables = new URLVariables(); //↓送る変数 variables.com = "こんにちは"; request.data = variables; var loader:URLLoader = new URLLoader (request); loader.dataFormat = URLLoaderDataFormat.VARIABLES; loader.addEventListener(Event.COMPLETE, onComplete); loader.load(request); function onComplete (event:Event):void{ //↓戻り値を変数に格納 var vars:URLVariables = new URLVariables( event.target.data ); t1.text=vars.comp; }
他のURLであれば、get_headers関数を利用して、「HTTP/1.1 200 OK」等のヘッダー情報が取得できますが、自ファイルのヘッダー情報はどのように取得するのでしょうか。 よろしくお願いします。
プログラム初心者です classを使うときに使うコンストラクタについて教えてください なぜ自動で実行できるのか不思議です 質問1 このコンストラクタの使い道を教えてください。 質問2 PHPはＣ言語で作られているのですよね？コンストラクタを自動で実行しているＣ言語の処理はどうなっているのですか？ 質問3 classと関数の違いがわかりません。ネットで調べると「classだと変数を保持できる」とでますが関数だと保持できないのでしょうか？ よろしくお願いします
初めまして。ＰＨＰ初心者です。ＨＴＭＬで入力された情報を元にＰＨＰで簡単なウェブページを出力するゲームみたいなものを作ろうとしています。 ＨＴＭＬの入力コードは以下のとおりです。 <!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <title>Create a Web Page</title> </head> <body> <h1 align="center">Create a Web Page</h1> <br> <form name="form1" method="post" action="createAWebPage.php"> <table width="600" height="400" border="1" align="center"> <tr> <td width="200"><div align="right"><strong>Caption:</strong></div></td> <td width="400"><input name="txtCaption" type="text" size="100" /></td> </tr> <tr> <td><div align="right"><strong>Background color:</strong></div></td> <td><input type="text" name="txtBkgColor" /> HTML color or #rrggbb </td> </tr> <tr> <td><div align="right"><strong>Text color:</strong></div></td> <td><input type="text" name="txtTextColor" /> HTML color or #rrggbb </td> </tr> <tr> <td> <div align="right"><strong>Content:</strong></div></td> <td><textarea cols="75" name="txaContent" rows="8" /></textarea></td> </tr> <tr> <td colspan="2"> <div align="center"> <input type="submit" name="submit" value="Create A Page" /> </div></td> </tr> </table> </form> </body> </html> これに対して下記のようなPHPを書いてみたのですが、何の出力もされず、エラーメッセージも表示されません。 <!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <title>Create A Web Page</title> <?php error_reporting(E_ALL & ~E_NOTICE); $txtBkgColor=filter_input(INPUT_POST, "txtBkgcolor"); $txtTextColor=filter_input(INPUT_POST, "txtTextColor"); ?> </head> <body bgcolor="<?php print $txtBkgColor; ?>" text="<?php print $txtTextColor; ?>"> <?php error_reporting(E_ALL & ~E_NOTICE); $txtCaption=filter_input(INPUT_POST, "txtCaption"); $txtContent=finter_input(INPUT_POST, "txtContent"); print <h1>"$txtCaption"</h1> 　　　　　 print <br> print <p>"$txtContent"</p> ?> </body> </html> チュートリアル等、色々調べてみたのですが、何が抜けているのか、どこのコードの書き方が間違っているのかがどうしても解りません。 詳しい方の助言をいただきたく、初投稿してみました。よろしくお願いします。
こんにちは。 wordpressでマルチサイトの環境を設定しようとしています。 ネットワークの設置より、次のような.htaccessを/wordpress/ディレクトリに配置しました。 --- RewriteEngine On RewriteBase /wordpress/ RewriteRule ^index\.php$ - [L] # add a trailing slash to /wp-admin RewriteRule ^([_0-9a-zA-Z-]+/)?wp-admin$ $1wp-admin/ [R=301,L] RewriteCond %{REQUEST_FILENAME} -f [OR] RewriteCond %{REQUEST_FILENAME} -d RewriteRule ^ - [L] RewriteRule ^([_0-9a-zA-Z-]+/)?(wp-(content|admin|includes).*) $2 [L] RewriteRule ^([_0-9a-zA-Z-]+/)?(.*\.php)$ $2 [L] RewriteRule . index.php [L] --- このファイルを配置しなくても、 http://domain.jp/wordpress/wp-admin/network/setu … や http://domain.jp/wordpress/wp-admin/network/user … は表示されますし、 http://domain.jp/wordpress/ にアクセスすると1つ目のブログが表示されます。 しかしこのファイルを配置しない場合、新たに作成した2つ目のブログである http://domain.jp/wordpress/test01/ は表示されません。ファイルを配置した場合は表示されます。 しかし、ディレクトリを見ても/wordpress/にはtest01ディレクトリは存在しません。おそらくは何らかの転送を行っているのだと思いますが、上記の.htaccessファイルを配置した場合、 http://domain.jp/wordpress/test01/ はどういう法則で、どこに転送されるのでしょうか。 どなたか教えてください。よろしくお願いいたします。
プログラム初心者です require_onceでほかのphpを読み込んで使いたいです hoge.php メインのファイル temp.php テンプレファイル（呼び出されるファイル） db.php DB接続だけのファイル（呼び出されるファイル） hoge.phpにtemp.phpをrequire_onceで読み込みます 質問1 hoge.phpにsession_start();がある場合、temp.phpにsession_start();がなくても、temp.phpの中でsession変数は使えますか？ 質問2 hoge.phpにrequire_once('db.php');がある場合、temp.phpの中にrequire_once('db.php');を書かなくても、temp.phpの中でdbに接続できますか？ 質問3 hoge.phpの中の変数を読み込んだtemp.phpの中で使えますか? また、その逆もできますか？ よろしくお願いします
PHPの本に $r = mysql_query("SELECT * FROM tb;"); while ($row = mysql_fetch_array($r)){ print "{$row['id']}{$row['title']}<BR>"; } とあったのですが１行ずつしか保存できないので ２次元配列row[][]で while ($row[] = mysql_fetch_array($r)){ } foreach($row as $v){ print "{$v['id']}{$v['title']}<BR>"; } このようにコーディングしたところ 一応うまく表示されたのですが、問題はないですか？ もし普通はこういう風にするみたいなやり方があれば 教えて欲しいです。
まとめてサニタイズする方法として下記のように書いてみました。 引数が配列でなければ問題ないのですが、配列だとこんなエラーが出ます。 Warning: array_map() expects parameter 1 to be a valid callback, function 'sanitize' not found or invalid function name in ファイル名 foreachでまわすのも考えましたが、できるならスマートにと思っているのですが どうすれば再帰的な処理ができるでしょうか？ $valid = new Valid(); $array = array( 'あああ','いいい','ううう', ); $valid->sanitize( $array ); class Valid{ public function sanitize( $str ){ if ( is_array( $str ) ) return array_map( 'sanitize', $str ); return str_replace( "\0", '', $str ); } }
お世話になっております。 皆様ならどのように回答するかお聞きしたいと思います。 PHPよりMySQLのデータを抽出し、画面に表示したいと考えております。 （※　例として教えてgoo!の質問一覧の様に、質問を1～20件表示するようなページです。） 顧客より、1ページ内に、1～5000ずつ件表示させてほしいと依頼があった場合 おそらく、負荷がかるから難しいとお答えすると思いますが、 より具体的に論理的に説明するとしたら、皆様はどのように説明されますか？ （ブラウザの性能であったり、ハードウェアの性能等なんでも結構です。） よろしくお願い致します。
「ポケガイ」と言う掲示板はご存じでしょうか、知らない方は知らない方で良いですが。。。 私は、今、その掲示板と機能が同じ掲示板を作りたいと思っています。 そこの掲示板の住民に聞いてみたら、その掲示板はレンタル？と聞いた覚えがありますが、皆さんはどうでしょうか。分かりますか？掲示板のスタイルだけで。 多分私は、ウェブパティオと同様の掲示板だと思いますが、それはどうやら違うようです^^; 成るべくはやめの回答をお願いします(*_*; （因みに、私はその掲示板と同じタイプの物を作りたいです。） （Yahoo知恵で質問しても少し、わかりにくかったので、こちらに質問致しました。） （ポケガイの掲示板のurlはこちらです。→http://www.pokemon-guide.net/bbs_talk/index.php）
■前提 ・連想配列ではない、普通の配列が2つある ・2つの配列要素数は同一(例えばそれぞれ五つ) ■質問 ・仮に2つの配列要素内容が同じである(但し順番は違う)時、2つの配列要素内容が同じであることを確認するには、どうすればよいでしょうか？
環境はPHP Version 5.3.15です． 添付画像の形で検索機能を用意しています． 検索内容は工作機械から送られてくるエラーコードです． 現状はアプリに表示されたエラーコードをコピー＆ペーストで検索を行っています． 今後は使い勝手の面からアプリをブラウザアプリに移行したいと考えています． 流れ的には下記の様に考えています． 1．工作機械からエラーコードをerror.csvに出力． 2．phpにてerror.csvの更新を検知 1）検知方法がよくわかりません whileで延々と回す？とか何をトリガーにするのがよいのでしょうか？ 3．検知をしたらkeyword:にエラーコードを反映 1）一度ここでリロードが発生？phpで可能でしょうか？ 4．searchボタンで検索 1）ボタンは手動で押します 5．その他 1）統一できていないブラウザ環境で運用をしているためJavaScriptの使用はなるべく避けたいです． 2）エラーコードは発生すると延々と増えて行きます． このためkeyword:に一度入ったコードを検索して表示内容を確認するまでは次のコードの読み込みは待機させたいです．このためsearchボタンを手で押す運用を考えています． 以上勝手を書きますがよろしくお願いいたします．
PHPで変数を初期化する際の初期化の方法について質問です。 私はPHPで変数を初期化するさい、視認しやすい様にsettype関数を用いることが おおいです。 単純に $hoge = array(); $foo = ""; $hoo = 1; とするより settype($hoge,"array"); とした方が、明確に 「ああ。この変数はこの行数で初めてでてきたんだな」 という具合に判断できるとおもっているからです。 例えばJSだと　var hoge; という具合に、変数そのものの宣言を先んじておこなえますよね。 このように明確な変数宣言がわかりやすいとおもうのですが・・・・。 みなさまがたはPHPではどのように変数を初期化しますか？ ご意見おきかせください。
PHPでFPDFを使用してPDFを出力するページを作成しています。 一応、ブラウザに表示した内容をPDFで出力する事はできたのですが・・・ コピーライト(&copy;)が？で文字化けしています。 FPDFで正常にコピーライトを出力する事はできますでしょうか。 ※PHP内でmb_convert_encoding関数をとおして出力しています。 できる、できないでも、些細な事でも何でも構いませんので宜しくお願いします。
php素人です スコープ演算子についておしえてください 質問1 スコープ演算子を使えばclass内の変数を下記のような書き方で取得できますか? 質問2 スコープ演算子を使うとアロー演算子でオブジェクトを作成するよりプログラムの負荷の軽減になるのですか？ 質問3 アロー演算子を使わずにスコープ演算子を使ったほうがいいのでしょうか? 質問4 スコープ演算子のデメリットはありますか？ class Message { public $number=1; function hello() { return "こんにちは"; } } $number = Message::$number; $message1 = Message::hello(); よろしくお願いします
php素人です アロー演算子についてわかりやすく教えてください クラスとか使ったことありませんのでアロー演算子をみるとパソコンの前から逃げ出したくなります 質問1 アロー演算子を使うときはクラス内の変数などにアクセスするときだけですか？（普通はclassを使わない場合、アロー演算子は使わないのですか?） 質問2 他のファイルから呼び出す場合はrequire_onceなどをつかってからアロー演算子でよびだすのですか？ 質問3 PDOもrequire_onceなどで呼び出してからつかってるのですか？ 質問4 下記のようにclassを定義する前にnewでオブジェクトを出現させても大丈夫なんですか？ 質問5 アロー演算子とはクラスから変数や関数を使うためのものですか？下記の場合、 $hoge変数にclass numberdayoの処理が詰まっているってことでしょうか？ $hoge = new numberdayo(); $hoge ->number = 2; $hoge　->numberdayo(); class numberdayo{ public $number; function numberdayo(){ print($this -> number); } } 質問6 別の質問ですが、classをつかってない単なる関数functionは定義する前に呼び出せますか? hoge(); function hoge(){ print("関数"); } よろしくお願いします
php初心者です try～catchをわかりやすく教えてください throw new Exceptionが出現したら、catchまでの処理をしないでとばすとゆうことですか？ try～catchを抜けたら、他の処理は普通に実行されるのでしょうか？ try～catchのカッコ｛で囲む範囲は大きくしたほうがいいでしょうか？（大きく囲むと処理スピードおそくなりますか？） try { throw new Exception('エラーが発生しました'); 　print "hoge"; } catch (Exception $e) { 　echo '例外発生', $e->getMessage(), "\n"; } 　print "foo"; よろしくお願いします
とあるファイルにアクセスすると別のサイトにリダイレクトされるサイトがあります。 私のサイトではないため、どのような方法で設定しているかは分かりません。PHPではなくJavascriptや.htaccessなどで設定している可能性もあります。ただこちらのカテの方がプログラムに詳しい方が多いと思ったので。 なので回答も憶測で構いません。皆さんの豊富な経験からどのような事が考えられるのかお聞きしたいです。 例えば『 http://×××.com/ka/ 』(ロリポップサーバー使用)というURLにアクセスすると『http://○○○.info/』（日本語ドメイン使用）というサイトにリダイレクトされます。 PCからは正常にPC用のサイトにリダイレクトされるのですが、私のスマホ(Android（SO-04E）)からアクセスするとリダイレクトされず真っ白になります。iPhoneからのアクセスは正常にスマホ用のページにリダイレクトされます。 これはどのような事が考えられるでしょうか？前述の通り、憶測で構いません。 コードの記述にミスがあるんじゃないのか？と言われればそれまでですが。何か原因は考えられるでしょうか？ ご存知の方いらっしゃいましたらご教示ください。 よろしくお願いします。
phpを使ってアップロードサイトを作りました アップロードを参照する際に、ディレクトリを指定する方法はありますでしょうか？ お教えください なお、ページ自体は下記を参照しました http://www.php-labo.net/tutorial/php/upload.html よろしくお願いします
はじめまして。開発会社にお願いして作ってもらっているサイトで困っており、 サーバ会社に聞いても原因不明なのです。 どなたかお知恵を拝借できないでしょうか？ ------------- 【現状】 ・Aというサイト（aaaa.com）をリニューアルしている。 ・ドメインはaaa.comを利用するが、サーバは引越し。 ・現在新レンタルサーバにてwordpressで開発中。新レンタルサーバには既に稼動している別ドメインのサイトがあるため、バーチャルドメインで対応していただく。 ・確認はhostsの書き換えで行う。公開時にドメインのdnsを切り替え。 hostsにはwww.aaaa.com、aaaa.comを明記。 【困っていること】 hostsを切り替えて確認しているが、トップページ以外のURLが正しいものにならない。 URL直打ちでトップページにいく⇒aaaa.com ↓↓↓↓↓ トップページからグローバルメニューで下層へ遷移する⇒下層ページすべて謎のURL（サーバの名前？）で表示されている。 下階層（aaaa.com/bbb/）にも直打ちで行くと行けるが、グローバルメニューからの遷移はすべて謎URL。 -------------- なのです。 これに対して、 【開発側の説明】 ・WORDPRESSはURLを自動生成するために、きちんとしたURL（aaaa.com/bbb～）にならない ・これを本来のURL（aaaa.com/bbb～）で表示するには別途プログラムを組む必要がある。 【↑に対するサーバ会社の説明】 ・一応（そこの）サーバを読んでいるには読んでいるが、通常は考えられない。 ・何かプログラムを仕込んでいるのでは？ ・公開時（DNS切り替え時）にURLが変わるかどうかはわからない。 -------------- との回答がありました。 開発側にさらに問い合わせてみても、プログラムは組んでいないようです。 どなたかこのような経験がある方はいらっしゃいませんでしょうか。 ＃もし解決しないようであれば、新しくバーチャルドメインを切り分けてもらい、 そこに新しく開発してもらったほうがよいのかも、とも思ってもいるのですが、 同じ結果になってしまうでしょうか？？
PHPを使った正規表現で困っています。 /^(\w|(?!-{2,})-)+$/ ・半角大文字(A~Z)、数字（0~9）とハイフン（-）のみ許可. ・先頭にハイフン(-)が利用できない. ・ハイフンは2回連続で利用できない.例) -- に対応したいと思っていますが、いろいろやってみましたが上記の方法で上手くいきません。
すみません。自殺予告ではありません。タイトルはちょっと釣りっぽくなりましたが、暇すぎて苦痛なのは本当です。そろそろ30歳(男)になるしがないリーマンです。以前こちらのサイトでPHPとJSの質問を沢山投稿し、アドバイスを沢山頂いていました。で、アドバイスを参考に、WEBサーバーにリモート越しで作業したり（これは本当に力がついた）、MySQL入門を読み、パーフェクトPHPを読み（これを読んでからCakePHPの大枠の仕組みがわかった）ました。パーフェクトPHPを読んだ辺りからCakePHPのソースを追いかけられるようになりました（ほんの少しですが）。セキュリティの知識がまったく無かったので徳丸本を読みました（読んだだけですが）。SSLの仕組みがわからなかったので結城先生の暗号技術入門を読みました（ほんとに入門書でした）。serversman@VPSを借りてrapidSSL買って独自ドメイン+常時SSL+CakePHP2で掲示板を公開してみたりしました。←今ココ。 ここ1ヶ月はなんだかやる気が出ません。特に今すぐ（←これが大事なのは気づいてるんですが。）やらなければならないと感じる事もない（or 弱い）ので、夜一人で（あ、僕は一人暮らし独身彼女なしユンソナ好きです。）GreeeeNの「空への手紙」を聞くと勝手に涙が流れるのです。ガチです。意味わっかんないですよね。僕もわかりません。 以前は仕事でわからないことばかりで毎日必死だったのですが、最近は今すぐ必要かつ、それを理解してないと精神的にだいぶ苦しい状況というものが少なくなったのが原因の一つだと思うのですが。。僕はどうしたらいいのでしょう。そろそろ1ヶ月くらい目的もなくぶらぶらしてることになるのがすごく嫌です。 気晴らしに「たのしいバイナリの歩き方」と「Linuxシステム［実践］入門」を読んでますがイマイチ身が入りません。以前は新しい知識の発見だけで毎日一人でも楽しかったのですが。。 このカテゴリに書き込んだ理由は、人生相談したいわけではなくプログラミングをやりたいからです。極めたいし他にやりたいこともありません。「パソコンばかりやってないで外へ出よう」みたいなことがたまに本にあったりしますが、はっきり言って外に出たくありません。楽しくないし（彼女でもいれば別ですが）プログラミングを極められるとは到底思えないからです。 ここに釣り気味タイトルで書き込んだ背景はこんな塩梅です。（ここまで書いて気づいたのですが、これは仕事中毒ってやつですか？はっきり言って仕事が一番楽しい。苦しさも楽しさもクソみたいな上司もゆとりもひっくるめて、です。） で、ここからが本題です。 僕が今やるべきことはなんでしょうか。 僕が欲しいものは自分がやるべき使命のような、そんな強烈な目標が欲しいのです。自分で立てたクソみたいな目標なんかでは弱すぎるのです。 そんな弱い人間はプログラミングという知識の大海を永遠に流離う以外ないのでしょうか。 やはり自分で見つけなきゃならないんでしょうか。 みんなそうしてきたんでしょうか。 アプリケーションプログラマとかに転職する時期なんでしょうか。（今は職業プログラマではありません。） 何かヒントを頂けたら1万円くらい払いたい気分です。 ああ、なさけない。
inquireやrequire_onceの記述場所は コードの上のほうに記述したほうがいいのでしょうか？ それとも、使いたい箇所のすぐ上に記述したほうがいいのでしょうか？ if文などの中でもつかえますか？
PHPでPhotoShopとIllustratorのファイルをアップロードするページを作成しています。 ※アップロードできるファイルは「psd、ai」です。 内部でImageMagickのコマンドを実行してjpgファイルに変換しています。 変換するImageMagickのコマンドは以下のコマンドです。 convert -flatten psdファイル jpgファイル ※jpgファイルは変換後のものです。 psdファイルが200MBを超えると変換に時間がかかっているのか、止まっているのかわからず・・・ ※20MB以下のPSDファイルは問題なくjpgに変換できています。 teratermでコマンドラインから上記のコマンドを実行しても同じ結果になってしまします。 ImageMagickでPSDファイルを変換するのをネットで調べても解決できるような記事を見つける事ができませんでした。 ※たぶん、私の調べ方に問題があるのかと思っていますが・・・ 申し訳ありませんが、皆さんのお知恵を私におかしいただけませんでしょうか。 些細な事でも何でも構いませんので宜しくお願いします。
AppStoreから取得したゲームアプリのランキングを連想配列に入れて、 アプリ名から順位を呼び出せるようにしたいのですが、 以下のコードを実行するとbool(false)になり、原因がどうしてもわかりません。 PHPのバージョンは5.3.3です。 <?php /*　ランキングをXMLで取得　*/ $xml = simplexml_load_file('https://itunes.apple.com/jp/rss/topgrossingappli …); /*　10位までのタイトルと順位を配列にする　*/ $apprank = array(); for($a = 0; $a < 10; $a++) { $title_maker = $xml->entry[$a]->title; $rank = $a+1; preg_match("/.+(?=-)/", $title_maker, $title); $title =$title[0]; $apprank += array("$rank" => "$title"); } /*　「パズル＆ドラゴンズ」の順位を呼び出す　*/ $matches = array_search("パズル＆ドラゴンズ", $apprank); var_dump($matches); ?> $apprankの中身をvar_dumpで見ると、[1]=>string(28) “パズル＆ドラゴンズ ” となるので、取得したアプリ名はちゃんと配列に収まっていると思うのですが、 array_searchでひっかからないのは何故でしょうか……？
Paypalのエクスプレスチェックアウトのプログラミングに関して質問させていただきます。 現在勉強のため個人的にsandbox上でテスト開発を行っているのですが、注文商品を選択した直後に飛ぶPaypalのログイン並びに情報の確認ページにて、左側の「お客さまの注文の明細」の部分にどのようにしたら注文の内容が表示できるのかわからず、困っております。 https://www.paypalobjects.com/webstatic/ja_JP/de … ↑こちらも目を通しましたが、具体的にどこをどういじればいいのかわかりません。 元となるプログラムは↓こちらのを使わせていただいております。 https://github.com/hrendoh/PayPal-Express-Checko … どなたかご存知でしたらよろしくお願いいたします。
最近PHPを初めてMySQLを扱えるようになったのですが、 そのデータをグラフ化して表示するようなサイトを作りたいです。 それはPHPとhtmlだけでできますか？ JavaScriptやCSSを使う必要がありますか？ どのような感じにやるか概略を教えて頂けるとありがたいです。 デザインとしては「何月から何月？」「どの商品？」とフォームで選択して 「送信」を押すとそれに基づきグラフ表示部分にグラフを表示するような感じにしたいです。 処理の流れが全くイメージつかないので ざっくりとした質問になってしまいましたがよろしくお願いします。
雑誌の記事索引をデータベースに整理し、読者にバックナンバー記事を検索してもらえるようにしたいと思います。 開発環境は、PHP5.2.17、MySQL5.0.77、IIS7です。 データベースの構成は、mymagazineというテーブルに、 magazinecode（通し番号） yyyymm（発行年月日） category（分類） title（題名） author（著者） とあり、以下のようにデータが格納されています。 （）内は、NULLとお考えください。 1　2013年5月号　目次　（題名なし）　鈴木 2　2013年5月号　特集：折り紙　作成法１　山本 3　2013年5月号　特集：折り紙　作成法２　佐藤 4　2013年5月号　特集：折り紙　作成法３　岩田 5　2013年5月号　連載　はさみ研ぎ方　伊藤 6　2013年5月号　連載　のりの選び方　野口 7　2013年5月号　（分類なし）会議報告　加藤 8　2013年5月号　（分類なし）読者便り　山田 9　2013年5月号　編集後記　（題名なし）　近藤 10　2013年6月号　目次　（題名なし）　江藤 11　2013年6月号　特集：切り絵　デザイン方法　山口 13　2013年6月号　特集：切り絵　材料購入先　高田 14　2013年6月号　連載　はさみ研ぎ方　伊藤 15　2013年6月号　連載　のりの選び方　野口 16　2013年6月号　（分類なし）読者便り　関谷 17　2013年6月号　編集後記　（題名なし）　（筆者なし） これを、以下のように、「号ごと」にまとめる知恵が浮かびません。 2013年5月号 　　目次 　　特集：折り紙 　　　　・作成法１　山本 　　　　・作成法２　佐藤 　　　　・作成法３　岩田 　　連載 　　　　・はさみ研ぎ方　伊藤 　　　　・のりの選び方　野口 　　会議報告　加藤 　　読者便り　山田 　　編集後記 2013年6月号 　　目次 　　特集：切り絵 　　　　・デザイン方法　山口 　　　　・材料購入先　高田 　　連載 　　　　・はさみ研ぎ方　伊藤 　　　　・のりの選び方　野口 　　読者便り　関谷 　　編集後記 HTMLにリストに出すだけなら、以下でできることはわかります。 「if ($recmax > 0) {}」の中をどのようにいじれば、 上記のようなフォームに出力できますでしょうか。 「2013年6月号」をグループ化、 「特集：切り絵」でグループ化、みたいにするのだと思いますが・・・ <?php $con = mysql_connect(SERV, USR, DBPW); $selectdb = mysql_select_db(DBNAME, $con); $sql = "select * from mymagazine"; $rst = mysql_query($sql, $con); $recmax = mysql_num_rows($rst); if ($recmax > 0) { 　　$body = "<table border=\"1\">"; 　　for ($recnum = 0; $recnum < $recmax; $recnum++) { 　　　　$col = mysql_fetch_array($rst); 　　　　$body .= "<tr>"; 　　　　$body .= "<td>" . $col["magazinecode"] . "</td>"; 　　　　$body .= "<td>" . $col["yyyymm"] . "</td>"; 　　　　$body .= "<td>" . $col["category"] . "</td>"; 　　　　$body .= "<td>" . $col["title"] . "</td>"; 　　　　$body .= "<td>" . $col["author"] . "</td>"; 　　　　$body .= "</tr>"; 　　} 　　$body .= "</table>"; } else { 　　$body = "データなし"; } ?> <html> <body> <?= $body ?> </body> </html>
カンマ区切りのcsvファイルを読み込んでMySQLのデータベースを作成したくて、下記のプログラムを作成しました。 しかし、正常に動作しません。どこに問題があるのでしょうか。 よろしくお願いします。 <?php $file = '"test.txt"'; //------------------------------------------------------------- //データベースアクセス //------------------------------------------------------------- $url = 'test-test.com'; // MySQL hostname $user = 'test_user'; // Your MySQL user name. $pass = 'password'; // Your MySQL password. $db = 'test_db'; // MySQLへ接続する $link = mysql_connect($url,$user,$pass); if ( $link == FALSE ) { error(__line__); } // データベースを選択する $sdb = mysql_select_db($db,$link); if ( $sdb == FALSE ) { error(__line__); } mysql_query("SET NAMES utf8"); //CSVデータの取り込み $sql = "LOAD DATA LOCAL INFILE '$file' INTO TABLE test fields terminated by"; $sql .= " LINES "; $sql .= " TERMINATED BY '\r\n' "; $sql .= " IGNORE 1 LINES"; $result = mysql_query($sql, $conn); if (!$result) { $message = 'Invalid query: ' . mysql_error() . "\n"; $message .= 'Whole query: ' . $sql; die($message); } //------------------------------------------------------------- // エラーメッセージ表示 //------------------------------------------------------------- function error($line) { echo "error code:" . $line; exit; } ?> ---------- .CSVファイル ---------- 日付,内容,備考 0901,value,etc 0902,value2,etc2
○質問の主旨 CD-ROMに格納されている zipフォルダ内のファイルやフォルダは、 「悪意のあるファイルやプログラム」に 書き換えることはできるものなのでしょうか？ ○質問の補足 PHPプログラミングの脆弱性について学習したいと思い、 図書館でこの本を借りてきたところ、 「体系的に学ぶ 安全なWebアプリケーションの作り方　 脆弱性が生まれる原理と対策の実践」」 （アマゾンへの短縮コード） http://goo.gl/TKB4sZ 付属のCD-ROMが付いてきました。 CD-ROMの内容は以下の通りです。 1.VMware Player 2.Fiddler2 3.実習用仮想マシン 図書館の蔵書なので、不特定多数の方が使っています。 そのCD-ROMをそのまま自分のPCのドライブに突っ込んで、 zipファイルをダウンロードしても 大丈夫かどうか決めかねています。 詳しい方がいらっしゃいましたら、 ご教示よろしくお願い申し上げます。
php初心者です 以前教えていただいたサンプルを元に phpとmysqliの手続き型で画像アップ機能を作りたいです サンプルでは削除機能がないので、削除機能を付けたいと思いました 付けたい機能 1.画像削除機能 2.画像一覧表示（そのひとがアップしている画像を取得して一覧表示、その画像のしたに削除チェックを付けたい） 以前教えていただいたサンプル http://qiita.com/mpyw/items/73ee77a9535cc65eff1e 素人なりに考えてみましたが頭パンクしました 失敗作 フォーム失敗作 しかし、DBから取得した画像と、削除チェックの位置を合わせられませんでした <div> <p>画像表示一覧</p> <form method="POST" action=""> ここに画像1(gif) 削除チェック<input type="checkbox" name="deletefile[]" value="1"> ここに画像2(jpg) 削除チェック<input type="checkbox" name="deletefile[]" value="2"> <input type="submit" value="削除ボタン" name="btn"> </form> </div> DBのgifのテーブルのカラムはidとuser_idとgif(画像名)にしています どんどんINSERTで登録していく感じになっています（テーブル設計も自信ありません・・・） 受け取るphpの上のほうに記述したもの ※セッションidから会員の画像名を取得 session_start(); $id = $_SESSION['id']; $sql= mysqli_query($link,sprintf('SELECT * FROM gif WHERE user_id=%d', mysqli_real_escape_string($link,$id) )); $data = mysqli_fetch_assoc($sql); if(isset($_POST["deletefile"])){ if(isset($data['gif'])){ if(unlink("img/".画像名 )){ mysqli_query($link,sprintf('DELETE FROM gif WHERE id=%d', mysqli_real_escape_string($link,画像の番号) )); $mes = "削除しました"; }else{ $mes = "削除失敗"; } } } 新しくサンプルいただけると助かります よろしくお願いします
php初心者です 長いコードを書く場合、getで送られてくる情報を元に2つのページを表示する場合（例えばＨＴＭＬは同じだけど表示内容が違う場合など） 1つのｐｈｐでif文で分岐させる方法と 2つのphpファイルを作って処理させる方法どちらがいいですか？ 負荷とか、転送量、メリット、デメリットを教えてください 他に優れた方法はありますか？ よろしくお願いします
phpを勉強している初心者です。 2つのテキストボックスを作って、 各数値を「架ける」または「割る」計算処理ができるように記述しています。 index.phpのフォーム部分は下記のようになっています。 <form method="post" action="test.php"> 入力欄1：<input type="text" name="number1"><br> <input type="radio" name="kigou" value="×">× <input type="radio" name="kigou" value="÷">÷<br> 入力欄2：<input type="text" name="number2"><br> <input type="submit" value="計算"> </form> test.phpの処理部分は下記のようになっています。 <?php if($_POST["kigou"] == "×" ){ $answer=$_POST["number1"]*$_POST["number2"]; }elseif($_POST["kigou"] == "÷" ){ $answer=$_POST["number1"]/$_POST["number2"]; } print $_POST["number1"].$_POST["kigou"].$_POST["number2"]."=".$answer; ?> しかし、結果では、記号部分が文字化けしてしまいました。 （例：4テ4=16、4テキ4=1） HTMLの特殊記号を試しに設定してみましたが 計算すらしてくれなくなりました。 （&times;と&divide;） こんな場合、どうすれば良いのでしょうか？ また、if分の条件式にはHTMLの特殊記号は使えないのでしょうか？ よろしくお願いします。
いつもお世話になっています。 phpで、Webページに自動でログイン+ページ遷移するためのスクリプトを作成しています。 Webページなどを参照し $url='http://webpage.jp'; $cookie=tempnam(sys_get_temp_dir(),'cookie_'); $curl=curl_init(); curl_setopt($curl,CURLOPT_URL,$url); curl_setopt($curl,CURLOPT_COOKIEJAR,$cookie); curl_exec($curl); curl_close($curl); $curl=curl_init(); curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1); curl_setopt($curl, CURLOPT_FOLLOWLOCATION, 1); curl_setopt($curl, CURLOPT_COOKIEJAR, "cookie"); curl_setopt($curl, CURLOPT_COOKIEFILE, "tmp"); curl_setopt($curl, CURLOPT_POST, TRUE); $output = curl_exec($curl); print_r(curl_getinfo($curl)); curl_close($curl); とすることで、cookieをファイルとして保存しページ遷移できることを確認しました。 そこで、ｃｏｏｋｉｅをディスクに書き込まずにメモリ上に保存してやりとりが出来ないかと思い $cookie = fopen('php://memory', 'r+'); として見ましたが、うまくいきませんでした。 cookieをメモリ上に保存して利用する方法はありますか？ お願いします。
自社のホームページのリニューアルを検討中です。 業者数社に問合せ中ですが、phpとaspと会社によって提案された言語が違います。 ホームページは、殆どが静的なページで、プログラムが必要なのは、管理画面から更新のできる新着情報と商品一覧・商品詳細ページのみです。 どちらのプログラムがより良いのでしょうか？ プログラムの知識があまりありませんので、初心者にわかるようにご説明頂けたら助かります。 よろしくお願い致します。
php初心者です if文をたくさん使っていると終わりのカッコがどのif文のものかわからなくなります わかるツールや、ソフトなどありますか？ みなさんはどうやって、見分けてるんでしょうか? よろしくおねがいします
Cakephp2の参考書を探しているのですが どうやらどの本も初歩的な事ばかりで実践的な内容が少ないらしいです・・・ らしいですっていうのはレビューを見ただけだからなんですけど（苦笑） とりあえず最近の本を買おうと思い、工学社の「はじめてのcakephp」を 購入したのですが業務要件などという用語が飛び出したり、思った以上にそっちの 人向けの内容で、初フレームワークの自分にはやや難解な内容でした。 とりあえず悪い本では無いのでこの本を読み進めているのですが もう一冊cakephp2の参考書を買いたいと思っています。 しかし実践的な内容を習得するにはどうすればいいのでしょうか？ どの本も公式ドキュメントに少し足したような内容なのでしょうか？ 実践的な技術が習得できる学習法、もしくは参考書を知りたいです。 回答いただけたら幸いです。
楽天市場ジャンル検索APIを使って、 任意の自ジャンル（current）から、子ジャンル（children->child）一覧を 取得し表示しようと思っているのですが、 なぜかAPIから取得した子ジャンルたちが、 おかしな並び順で取得されてしまいます。 例えば 「CD・DVD・楽器」のジャンル「genreId=101240」でリクエストを投げると、 CD : 101311 その他 : 112960 ビデオ : 101327 Blu-ray : 505034 DVD : 101354 レコード : 200531 カセット : 205900 LD : 200532 楽器 : 112493 といった並び順でAPIから返ってきます。 なんで「その他」が上から２番目なんだ・・・orz といった感じで。 理想としては、 DVD : 101354 Blu-ray : 505034 CD : 101311 楽器 : 112493 レコード : 200531 カセット : 205900 ビデオ : 101327 LD : 200532 その他 : 112960 と並び替えたいのですが、 五十音順でもないし、ジャンルIDの昇順降順でもないし、 以前の楽天市場ジャンル検索APIでは、 ちゃんと並んでたのに・・・orz どうやったら並び替え出来るのでしょうか？ どうかご教授のほどお願いします。
php初心者です php5.2.5　バージョン 画像の削除はどうやるのでしょうか？ 例 http://hoge.jp/img/hoge.jpg http://hoge.jp/sakujyo.php このsakujyo.phpからhoge.jpgをサーバーから削除したいです よろしくお願いします
Linux（Ubuntu）で、ターミナル上からPHPを実行するためにphpmyadminとPHP5-cilをパッケージからインストールしました。 PHPのバージョンは5.4.6でした。 この場合どうやってPHPを実行すればよいのでしょうか？ サーバ用PCではなくノートPCで8G・64bitです
php初心者です 管理者用の変数保存ページを作りたいです urlなどを変数に入れて、まとめたページから違うページで変数を取得して再利用したいです 例えば、こんな感じで変数に入れておいて違うphpファイルで呼び出す感じです $url = "http://hoge.jp/"; $title = "タイトルの名前"; いままでは毎回、ホームに戻るのurlを入れていましたが効率が悪かったです 管理する変数をまとめたファイルは、phpファイルでいいのでしょうか？ あと、パーミッションは604で大丈夫でしょうか? よろしくお願いします
現在、WordPressでサイト構築を考えてします。 しかしながら、現在既にHTMLのページが存在しているため、出来ればWordPressをテストディレクトリで作りこみたいと考えています。 で、デザインなど全て完成した時点で、本番のURLに変更したいのですが、その様なことは簡単に変更できるものでしょうか？ 現在、 http://www.hogehoge.com のTOP階層にindex.htmlがあり表示されています。 それを、 http://www.hogehoge.com/test/ などにまずは設定して、完成後にhttp://www.hogehoge.comに戻してやりたいのです。 単純に管理画面の、表示するURLの部分を変えれば自動的に変わるのでしょうか？ 今の時点で試して、問題が起きると怖いので、事前に相談をさせて頂きました。 どなたか、同様の対応をご経験済みの方いらっしゃいましたらアドバイス頂けると幸いです。 宜しくお願いします。m(__)m
にわかプログラマーです。 PHP記述に詳しい方、ひとつ教えてください。 ■現在、下記PHP記述があるとして、これをHTML出力すると echo "<tr><td>日付：$date</td></tr><tr><td><select name=\"ayear\">"; for($i = 2002; $i <= $last_year; $i++){ echo "<option value=" . $i . (($i == $year) ? ' selected' : '') . ">" . $i . "</option>"; } ■こう出力されてしまいます。 <option value=2013 selected>2013</option> これを ■下記のように出力できるようにしたい <option value="2013" "selected">2013</option> （HTML記述として""で閉じられていないのを解決したい） 上記PHPを修正したいのですが、どなたか記述を修正していただけないでしょうか。 不躾な質問で申し訳ないですがよろしくお願い致します。
Web上のHTMLファイルの文字データを取得するにはどうすればいいですか？ Web上のHTMLファイルを取得して、その中のタグとかを判別して、 最終的には自分のニコニコ動画の履歴の動画のタグ情報を自動で取得してくれるようなプログラムを作りたいです。 雛型でもいいので教えてください！
おしえてください。 Functionの戻りで以下のreturn文があります。 $sqlの変数には実行するSQL文が格納されます。 $sqlParamは配列変数です。 どのような結果を返すのか分かりません。 return $conn -> Execute ($sql, $sqlParam); 多分Execute関数というものがあると思うのですが、 第2引数の配列変数を使ってどのような結果を返すのかが分からないです。 よろしくお願いします。
取得した日付を使って分岐処理を行いたいです。 現在、ブログの日付を$blogDataという中に30件ほど取得しています。 この中身は、2013.09.15　('Y.m.d')といった形で取得・表示されています。 そこで質問なのですが、条件処理として$blogDataの取得している日付より30日未満の場合には、A.jpgという画像を表示してアナウンス、30日以上経過した場合には、B.jpgの画像を表示という条件で、表示する画像を切り替えたく思っています。 しかしながら、取得した$blogDataに対して30日以上・以下の指定方法が分かりませんでした・・・。 現在の日付から・・・、というのは幾つかあったのですが。。。 すみません、お詳しい方いらっしゃいましたら、取得した日付を使った比較？方法、または実現させる方法をアドバイス頂けないでしょうか。 宜しくお願いします。m(_ _)m
mb_send_mailを使ってメールを送信しようとしているのですが、 テストで最初に送ったメールは届いたのですが、ソースを変えていないにも関わらず、しばらく時間がたった後に再び送信を行ったら、全くメールが届かなくなりました。 レンタルサーバのサイトに、sendmailのパスが書いてあったので、そのパスを指定していないことが原因かと思ったのですが、パスの指定方法がわかりません。 php.iniがいじれればいいのですが、サーバーを借りている側でいじれるようなファイルではないですし、 .htaccessではsendmailのパス指定はできないとも聞きました。 sendmailを使っているphpファイル内の記述で、パスを指定することはできないのでしょうか？
php初心者です セッションの仕組みを教えてください 質問1 セッションidとセッションクッキーは同じものですか? 質問2 セッションidやセッションクッキーはデフォルトでは、ブラウザを閉じた時に削除されますか？ 質問3 レンタルサーバーのphp.iniを調べてみたところ 保存場所がsession.save_path no valueでした。この場合、訪問者のパソコンにクッキーが保存されてしまうのでしょうか？サーバーに保存する方法はありますか？ 質問3 session_start();でセッションを開始したときセッションidが自動で付けられるのはわかりましたが、 セッションid(MD5で作られた数字)の使い道がわかりません 質問4 セッションidはどこに利用すればいいのでしょうか？ session_start(); session_id();　//このセッションidの利用方法がわかりません $_SESSION['id'] = $_POST['id']; よろしくお願いします
ｈｔｍｌにてサイト制作していて １つのディレクトリに１つのindex.htmlというサイト構造を採用しています。 http://fstyle.adaga.org/archives/2005/12/google_ … 上記ＵＲＬのsitemap.xmlを自動生成してくれるPHPプログラムを 自サーバにアップして利用しています。 オンライン上でサイトマップを自動生成してくれる所も知っていますが 上記のプログラムが使いやすいので利用し続けています。 生成されるsitemap.xmlファイルは、index.html以外のファイル名 【例えばsample1.htmlやsample2.html】の場合だと、 <url> <loc>http://www.*****.com/ディレクトリ名/sample1.html</loc> <priority>0.5</priority> </url> <url> <loc>http://www.*****.com/ディレクトリ名/sample2.html</loc> <priority>0.5</priority> </url> といった具合になります。index.htmlだと、 <url> <loc>http://www.*****.com/ディレクトリ名/index.html</loc> <priority>0.8</priority> </url> と、index.htmlの場合だと【if文】を使って <priority>の数値が変わるようにプログラムされています。 しかし末尾に、【index.html】と記載されているとグーグルが正確に sitemap.xmlを読み込んでくれないので、 <url> <loc>http://www.*****.com/ディレクトリ名/</loc> <priority>0.8</priority> </url> といった具合で末尾の【index.html】の表記を省略させたいのです。 自動生成ＰＨＰファイルのソースを確認すると、 if ($fp){ if (strstr($fileName , "index")) $lastmod = "<changefreq>daily</changefreq>\n <priority>0.8</priority>"; else $lastmod = "<lastmod>{$time}</lastmod>\n <priority>0.5</priority>"; $temp = <<<EOF と記述されている箇所があるので、ここを改造すれば 出来そうな気がするのですが、index.htmlの記載を省略する事は可能なのでしょうか。
以前にご質問させていただきましたが、時間が経ってしまったため、再度ご質問させていただきました。 create table team(team_id int not null primary key,team_name varchar(30),year int(4), leagueid int(32) ); insert into team values (1,"A",2012,1), (2,"B",2012,1), (3,"C",2012,1), (4,"D",2012,1), (5,"A",2012,2), (6,"B",2012,2), (7,"C",2012,2), (8,"D",2012,2), (9,"A",2011,1), (10,"B",2011,1), (11,"C",2011,1), (12,"D",2011,1); create table taisen(id int not null primary key auto_increment,hometeam int,homepoint int,awayteam int,awaypoint int); insert into taisen (hometeam,homepoint,awayteam,awaypoint) values (1,3,2,2), (3,1,4,0), (1,0,3,2), (2,2,4,2), (1,1,4,2), (2,0,3,0), (2,1,1,2), (4,1,3,3), (3,5,1,2), (5,3,6,3), (5,1,7,1), (7,1,8,1), (9,1,10,1), (11,1,12,3); 上記のデータを使用し、下記の参考サイトの戦績表みたいな作成を考えております。 http://match.nadeshikoleague.jp/2013/nadeshiko_c … 参考サイトですと1チームに対し、2試合ずつになっていますが、1試合を考えております。 SQL文で対戦したデータの呼び出しはできていると思います。 SELECT t.team_id, t.year, t.team_name AS hometeamname, t.leagueid, ti.homepoint, ti.awaypoint, t1.team_name AS awayteamname FROM team AS t1 INNER JOIN (team t INNER JOIN taisen ti ON t.team_id = ti.hometeam) ON t1.team_id = ti.awayteam WHERE t.`year` = '2012' AND t.`leagueid` = 1 上記でうけとったデータにて総当り表を作成したいのですが、 PHPでどのように記述したらよろしいでしょうか？ サンプルコードなどいただけると幸いです。 また、対戦していないところに関しては「-」というのを入れたいです。 お分かりの方が、いらっしゃいましたらご教授お願いします
教えてください。 Linuxのあるディレクトリ内にあるテキストファイルをphpプログラムでコピーしたり、移動させたりする場合に移動元や移動先、又テキストファイル自体の権限で注意することはありますでしょうか？もしくは実行ユーザーを何か明示的に書いたりするのでしょうか。 あとPHPの関数で特別な書き方というものがあるのでしょうか? よろしくお願いします。
下記のような連想配列が2つあります。 それらの配列の3つ目の電話番号(070-0000-000等)のみを比較して一致する連想配列を配列にして出力するようなプログラムを考えています。 連想配列同士を比較する方法が見つからなかったため、どのように書いたら良いのかわかりません。 ご教授お願い致します。 【既存の連想配列】 <?php $first　=　array( 　　　　'test_1'　=>　array( 　　　　　　　　0　=>　'山田太郎', 　　　　　　　　1　=>　'ヤマダタロウ', 　　　　　　　　2　=>　'090-0000-0000', 　　　　), 　　　　'test_2'　=>　array( 　　　　　　　　0　=>　'田中次郎', 　　　　　　　　1　=>　'タナカジロウ', 　　　　　　　　2　=>　'080-0000-0000', 　　　　), 　　　　'test_3'　=>　array( 　　　　　　　　0　=>　'佐藤三郎', 　　　　　　　　1　=>　'サトウサブロウ', 　　　　　　　　2　=>　'070-0000-0000', 　　　　), ); $second　=　array( 　　　　'test_1'　=>　array( 　　　　　　　　0　=>　'鈴木四郎', 　　　　　　　　1　=>　'スズキシロウ', 　　　　　　　　2　=>　'050-0000-0000', 　　　　), 　　　　'test_2'　=>　array( 　　　　　　　　0　=>　'佐藤五郎', 　　　　　　　　1　=>　'サトウサブロウ', 　　　　　　　　2　=>　'070-0000-0000', 　　　　), 　　　　'test_3'　=>　array( 　　　　　　　　0　=>　'安藤六郎', 　　　　　　　　1　=>　'アンドウロクロウ', 　　　　　　　　2　=>　'000-0000-0000', 　　　　), ); ?> 【比較後の配列（例）】 $result　//に結果を格納 この$resultの中身は、 array('佐藤五郎','サトウサブロウ','070-0000-0000');　のような感じです。
入力内容をセッションで保持しているフォームで， 入力画面から「前の画面に戻る」ボタンが押された際に 保持していた入力内容のセッションを破棄するようにしたいのですが， どのようにしたらいいでしょうか． unset($_SESSION['変数名'])で破棄できるのはわかっているのですが， これをどこに記述したらいいのかがわかりません． それとも，別の破棄する方法があるのでしょうか． 入力内容に関係ないところでもセッションを使っているので， session_destroy()ですべて破棄するのはしたくありません． よろしくお願いいたします．
<?php #CAT csvファイルを開く $fp_c = fopen("test.csv","r"); #domain csvファイルを開く $fp_domain = fopen("test.csv","r"); print "<table border='1'>"; #fgetcsv関数がfalseを返却するまで実行 while($c_data = fgetcsv($fp_c)){ print "<tr>"; #csvファイルの列数だけ実行 for($i=0;$i<count($c_data);$i++){ print "<td>".$c_data[$i]."</td>"; } print "</tr>"; } print "</table>"; var_dump($c_data); fclose($fp); ?> このようなプログラムをつくってcsvファイルの各セルを配列$c_data[$i]へ格納している（つもり） なのですが、var_dump($c_data);を入れると bool(false)と表示されてしまいます。 このプログラムではcsvファイルの中身を表示できても配列に格納されていないのでしょうか？ よろしくお願いします。
こんにちは、セレクトボックスの選択部分を変更するとフォームの内容が変わるというフォームを作っているんですが色々試しても何がどうおかしいのかわからないので質問させていただきます。 PHP初心者で触り始めて間もないのでわかりやすく教えてもらえると嬉しいです。 多分色々とおかしいことになってると思いますがよろしくお願いいたします。 【index.html】 <!doctype html> <html lang="ja"> <head> <meta charset="UTF-8"> <title>Document</title> <style type="text/css"> fieldset{ border: none; } </style> <script type="text/javascript"> function setForm(ex) { var target = ex.value; var group = ex.form.getElementsByTagName("FIELDSET"); var i=0, fs; while(fs=group[i++]) fs.style.display = fs.id == target?"block":"none"; } </script> </head> <body> <form action="form.php" method="post"> <table> <tr> <td>用件</td> <td> <select name="select1" onchange="setForm(this)"> <option value="">選択してください</option> <option value="A">ご質問</option> <option value="B">資料請求</option> <option value="A">その他</option> </select></td> </tr> </table> <fieldset id="A"> <table> <tr> <td>お名前</td> <td><input type="text" name="name" value=""></td> </tr> <tr> <td>Mail</td> <td><input type="text" name="mail" value=""></td> </tr> <tr> <td>サイトを知ったきっかけ</td> <td><input type="checkbox" name="chance[0]" value="friend">知り合い <input type="checkbox" name="chance[1]" value="serch">検索エンジン<td> </tr> <tr> <td>ご質問内容</td> <td><textarea name="message" cols="60" rows="5"></textarea></td> </tr> </table> </fieldset> <fieldset id="B"> <table> <tr> <td>お名前</td> <td><input type="text" name="name" value=""></td> </tr> <tr> <td>Mail</td> <td><input type="text" name="mail" value=""></td> </tr> <tr> <td>性別</td> <td><input type="radio" name="gender" value="man">男 <input type="radio" name="gender" vakue="woman">女</td> </tr> <tr> <td>住所</td> <td><input type="text" name="address" value=""></td> </tr> </table> </fieldset> <input type="submit" value="送信する" /> </form> </body> </html> </html> 【form.php】 <!doctype html> <html lang="ja"> <head> <meta charset="UTF-8"> <title>Document</title> </head> <body> <?php mb_language("japanese"); mb_internal_encoding("utf-8"); if(!empty($_POST['mail'])){ $to=$_POST['mail']; $name=$_POST['name']; $chance=$_POST['chance']; $message=$_POST['message']; $gender=$_POST['gender']; $address=$_POST['address']; $form=mb_encode_mimeheader(mb_convert_encoding("自分の名前","JIS","UTF-8"))."<aaa@aaa.com>"; $success=mb_send_mail($to,"名前：".$name."サイトを知ったきっかけ:".$chance."お問い合せ内容:".$messagge."性別：".$gender."住所:".$address,"from:".$from); } ?> <?php if ($success) { print('送信しました。'); } else { print('送信に失敗しました。'); } ?> </body> </html> よろしくお願いします！！！！
php初心者&ど素人です 勉強のためにphpとmysqlで簡単なログイン機能を作ってみようと思いました しかし、Locationでページ移動したときのセッションがセキュリティ的に安全なのかわかりません ログインフォームのlogin.phpから自分自身に送信、ログインできたらセッションを付けてから header("Location:hoge.php");でhoge.phpに飛ばしています ログインした後のhoge.phpページではログイン確認をセッションidがあるかだけ確認しています セッションidがなかったらログインページ戻す if(!$_SESSION['id']){ header('Location: login.php'); exit(); } 質問1 セッションidは表示されている誰でも見れるidなのでセキュリティ的にまずいですか？ 簡単にセッションのっとれるもんなんでしょうか？ 質問2 一般的にはどうやているのでしょうか？ ログインページ全て（例えば編集画面とか会員情報とか）にmysqlから暗号化されたパスワードを取得して、それをセクションに入れて、また、mysqlからパスワードと照合したりしてるんでしょうか？ よろしくお願いします
お世話になります。 メール配信システムをPHP＋MySQLで構築し、複数のお客様に提供していますが、 現在、複数のお客様が、数百から数千規模の配信を行っており、 送信時間が被ることもあります。そうなると、ASPがなかなか動かなくなってしまいます。 その為、配信するロジックの変更を迫られているのですが、 良いロジックがわからず、困っています。 現在は、送信リクエストがされた時点で、全件の送信処理を行っています。 メール配信は海外のAPIサービスを利用している為、 サーバー負荷はあまりかかっていません。 　（サーバーリソース情報確認済みなので、間違いありません） それでも遅いということは、複数のプロセスが継続的に動き続け、 その他のプロセスが動作することを妨害をしていると考えています。 これらの問題を改善するには、どうしたらよいのでしょうか。 案がございましたら、どうかご教示ください。 よろしくお願い致します。
今phpを勉強を始めて2ヶ月くらいです。 表示させたいhtmlが500個以上あります。 その500個を任意の順番で並び替えて全て表示させたいと考えています。 （任意とはラジオボタンなどで条件を選びフォームで送って・・ということです。一つ一つのhtmlがdivなどで区切られていると考えてください） メモ帳にhtmlを記載して、それぞれ番号を割り振って、その番号を元にphpで並び替えさせ、foreachで回して全部表示させる・・ここまでは完成させました。ただhtmlをどう保存するのかがよく分かりません。（一つ一つが結構長いhtmlプログラムですし・・） 今はメモ帳にhtmlを記載し、phpで表示させる際にこのメモ帳を 指定しているのですが、メモ帳を何百個も作るのは無理ですし、普通htmlの保存はどのように するのでしょうか？ どういった方法があるかアドバイスもらえるとうれしいです。
mb_send_mailで不正な送信先メールアドレスを設定して実行すると、戻り値はfalseとなり、 falseの場合には後続のPHPスクリプトにてメール送信が失敗したエラー画面を出力する 処理を実装している。 mb_send_mailの戻り値がtrueまたはfalseかを判定している以外は、エラー処理は実装していません。 【問題点】 mb_send_mail=false後、エラー画面出力処理が最後まで実行されていることは、 処理の途中に埋め込んだデバッグ用のログで確認済みなのだが、 クライアント側にはInternal　Server　Errorのステータスと、PHPスクリプトで 出力しようとした画面ではなく、内部エラーが発生した旨の簡易な情報が出力された 画面が出力されます。 [Mon Sep 09 11:43:57 2013] [error] [client ****] malformed header from script. Bad header=test@set@ting_error... ↑不正なメールアドレスを設定したのでエラーになることは構わないのだが、 後続の処理で作成したエラー画面をHttpStatus２００で返却したい。 【質問】 mb_send_mail=falseが発生したとしても、HTTPステータスは５００ではなく２００で レスポンスを返却し、PHPスクリプトで作成したエラー画面をクライアントに表示させる方法を ご教授ください。 【試したこと】 ・mb_send_mail=falseとなった場合に、http_response_code(200);としてみたが効果なし。 ご教授よろしくお願いいたします。
練習で、簡単なプログラムをいろいろ作成していて、現在下のようなプログラムを作成しています。 <?php session_start(); $_SESSION['num1']=$_POST['num1'];　　　　　　　//POSTで送られたnum1をセッション変数に格納$_SESSION['num2']=$_POST['num2'];　//POSTで送られたnum2をセッション変数に格納 //////////// 数字もその位置も一致している数////////////// $num1S; ////////////num1の各桁の数字////////////// $X1=$num1 % 10;//num1の一の位の数字$number1=$num1 - $X1; $X2=($number1 % 100)/10;//num1の十の位の数字 $number1=$number1 - $X2 * 10; $X3=($number1 % 1000)/100;//num1の百の位の数字 $number1=$number1 - $X3 * 100; $X4=$number1 / 1000;//num1の千の位の数字 ////////////num2の各桁の数字////////////// $X2_1=$num2 % 10;//num2の一の位の数字 $number2=$num2 - $X2_1; $X2_2=($number2 % 100)/10;//num2の十の位の数字 $number2=$number2 - $X2_2 * 10; $X2_3=($number2 % 1000)/100;//num2の百の位の数字 $number2=$number2 - $X2_3 * 100; $X2_4=$number2 / 1000;//num2の千の位の数字 if($_SESSION['num1']==$_SESSION['num2']){ 　　　　　　　　　　　　　　　　　　　　　　　//num1とnum2の各桁の数字が全て一致してればnum1S=4 $num1S=4; }else if((($X1==$X2_1)&&($X2==$X2_2)&&($X3==$X2_3))||(($X1==$X2_1)&&($X2==$X2_2)&&($X4==$X2_4))||(($X2==$X2_2)&&($X3==$X2_3)&&($X4==$X2_4))){ //num1とnum2の各桁の数字3つだけ一致してればnum1S=3 $num1S=3; } ?> <html> <head> <title>練習</title> </head> <body> <form method="POST" action="./practice.php/"> <input type="text" name="num1" maxlength="4"> <input type="text" name="num2" maxlength="4"><br> <input type="submit" value="チェック" name="check"><br> <input type="submit" value="クリア" name="clear"><br> <?php if(isset($_POST['check'])){//チェックボタンが押されると if($num1S==4){ echo "4個"; }else if($num1S==3){ echo "3個"; } } if(isset($_POST['clear'])){//クリアボタンが押されると $_SESSION=array(); session_destroy(); } ?> </form> </body> </html> (出力例１) 1234(num1)1234(num2) [チェックボタン] [クリアボタン] 4個 (出力例２) 1234(num1)1239(num2) [チェックボタン] [クリアボタン] 3個 私は、もしnum1とnum2の入力値(4桁)の各桁の数字が等しくその数字の位置がすべて同じなら「4個」という表示を、3つだけ等しくその数字の位置が同じなら「3個」という表示をするようにしたいのですが、後者の表示がちゃんと出来ません。（出力例２）という結果にもなるのですが、1234(num1)5678(num2)というように、全く違う数字でも「3個」という表示が出てきてしまいます。 ちゃんと表示させるにはどうすれば良いでしょうか？ 長文で分かりにくくなってしまいましたが、ご助力お願いします。
整体院で使うWEBから予約できるシステムを探しています。 探してみるとphpScheduleItというオープンソースの予約システムがありました。 用途が違うのでカスタマイズが必要になりますし古いのも少々気になります。 他にオープンソースで使える予約システムってありませんでしょうか？ また、Googleカレンダーを予約システムの代用として・・・というのも方法の1つなようです。 共有するってことは変な話ですが、誰かが予約しているのに消したりとかも自由ってことですよね？ 社内だけで共有するのであれば気にならない部分ですが、誰もが共有できるとなると難しいかと思っていますが実現できるものでしょうか？
今TwitterのBotをPHPで作って試行錯誤しているところです。 つぶやく内容は今までネット上で集めたデータをMySQLに保存したものをつぶやいています。 そこで、画像URLをつぶやくことがあるのですが、それを添付画像のようにインラインで表示される TwitPicというURLに自動で変換する方法はありませんか？ 画像URLは、ネット上から拾ってきたURLなので画像の保存まではしていません。 もしできるなら方法を教えて下さい。おねがいします。
クリアボタンを押すことによって、あるセッション変数(ここでは$player1num[0～15]という風に配列を使っており、テキストボックスに数値を入力後submitボタンを押すことによりその数字をこの変数に格納して表示してます)を破棄したいです。 PHP内でechoを使って表示された後、クリアボタンを押すことで$player1num[0～15]を破棄したいのですが、どんなプログラミングをすれば良いのでしょうか？ JavaScript内で$player1num=array();として、onClickでそれを呼んで破棄しようとしたのですがうまくいきません。 セッションの使い方をちゃんと分かっていない初心者ですが、どうかよろしくお願いします。
お世話になります。 指定した文字列とデータベースにセットされている文字列を比較して、 マッチしたら該当のカラムにセットされている文字列を吐き出し、 マッチしない場合は、エラー文を走らせるプログラムを構築しております。 例えば、 【 ※スクリプト１ 】 // データベースに接続する $dsn = "$dbtype:dbname=$dbname;host=$sv"; $conn = new PDO($dsn, $user, $pass); $mail = "aaa@aaa.com"; $question = "好きな国は？"; $answer = "フランス"; $sql = "SELECT id, usr_name, mail, question, answer FROM テーブル名"; $stmt = $conn->prepare($sql); $stmt->execute(); while ($row = $stmt->fetch()) { if($row['mail'] == $mail && $row['question'] == $question && $row['answer'] == $answer){ //条件が一致した場合 echo "ユーザ名：".cnv_enc($row["usr_name"], $enc_disp, $enc_db); exit(); } } $sql = "SELECT id, usr_name, mail, question, answer FROM テーブル名"; $stmt = $conn->prepare($sql); $stmt->execute(); while ($row = $stmt->fetch()) { if($row['mail'] != $mail || $row['question'] != $question || $row['answer'] != $answer){ //条件が一致しない場合 echo "該当なし"; exit(); } } と書くと、【 $mail 】、【 $question 】、【 $answer 】の文字列を変更してもしなくても 正常に結果が返りますが、 【 ※スクリプト２ 】 // データベースに接続する $dsn = "$dbtype:dbname=$dbname;host=$sv"; $conn = new PDO($dsn, $user, $pass); $mail = "aaa@aaa.com"; $question = "好きな国は？"; $answer = "フランス"; $sql = "SELECT id, usr_name, mail, question, answer FROM テーブル名"; $stmt = $conn->prepare($sql); $stmt->execute(); while ($row = $stmt->fetch()) { if($row['mail'] != $mail || $row['question'] != $question || $row['answer'] != $answer){ //条件が一致しない場合 echo "該当なし"; exit(); } } と書くと、【 $mail 】、【 $question 】、【 $answer 】の文字列を変更してもしなくても 【 該当なし 】が返ってしまいます。 試しに【 ※スクリプト２ 】のif文をelseで更に分岐しても結果は同じでした。 今までデータベースからデータを引っ張って来る段階で、 比較演算子は殆ど使用していなかったので、whileで表示させる際に 条件分岐や演算子の特別な制約があるのでしょうか？ 色々な書き方を試してみましたが、長時間作業していると混乱してきましたので、 どうかご教示の程よろしくお願い申し上げます。 PHP 5.3.3 MySQL 5.0.95
皆様いつもお世話になります。 現在MAMP環境(PHP+Mysql)でWEBシステム開発の勉強をしています。 一部機能でcronを利用して定時実行したい処理があるのですが、 その処理内にあるDBからデータを取得するプログラムが動かず困っています。 【症状など】 ・mysql_connect()の時点で 「No such file or directory」 というエラーが返ってきます。 ・上記エラーに対して、mysql.sockの場所の指定をきちんとしてやると解決することがわかり以下のコマンドをターミナルから打ち込みましたが ln -s /Applications/MAMP/tmp/mysql/mysql.sock mysql.sock 特にエラー内容などにも変化はなく状況は変わりません。 ・ちなみにcronから実行せず、ブラウザから直接リクエスト実行するときちんと動作します。 以上です。 全く解決する糸口が見つからず本当に困っています。 お詳しいかたどなたかご教授のほどよろしくお願いいたします！ 開発環境： MacOSX 10.8 PHP 5.2 Mysql 5.5.25 google Chrome 29.0.1547.62
　今日は、Winｘｐ、dreamweaver8で自分のPCをローカルサーバー（ローカルホスト）にして、 phpを作成したいのですが、可能なのでしょうか。 　ApatcheとかSQLなどをインストールしてやらなくても良いのでしょうか。 　HTMLだけのファイルはIEから確認は出来るのですが、使用言語の設定をphpに「サイトの設定」 を変更すると、HTMLファイルもIEから見れなくなります。 　作成したhtml、phpの内容をExploreから確認したいのですが、「サイトの設定」をどのよ うにしたら良いのでしょうか。 　宜しくお願いします。
■やりたいこと ・元配列の配列名「○○_数字」の数字が小さい順に並べ替えた後、キー毎に新たな配列を作成したいです ■元配列 　　[test_1] => Array 　　　　( 　　　　　　[0] => dummy1_0 　　　　　　[1] => 　　　　　　[2] => dummy1_2 　　　　) 　　[test_3] => Array 　　　　( 　　　　　　[0] => 　　　　　　[1] => dummy3_1 　　　　　　[2] => 　　　　) 　　[test_2] => Array 　　　　( 　　　　　　[0] => dummy2_0 　　　　　　[1] => 　　　　　　[2] => dummy2_2 　　　　) 　　[test_4] => Array 　　　　( 　　　　　　[0] => 　　　　　　[1] => dummy4_1 　　　　　　[2] => 　　　　) ■作成したい配列 　　[result_1] => Array 　　　　( 　　　　　　[0] => dummy1_0 　　　　　　[1] => dummy2_0 　　　　　　[2] => 　　　　　　[3] => 　　　　) 　　[result_2] => Array 　　　　( 　　　　　　[0] => 　　　　　　[1] => 　　　　　　[2] => dummy3_1 　　　　　　[3] => dummy4_1 　　　　) 　　[result_3] => Array 　　　　( 　　　　　　[0] => dummy1_2 　　　　　　[1] => dummy2_2 　　　　　　[2] => 　　　　　　[3] => 　　　　)
PHP環境で認証は通っているとします。 TwitterIDがデータベースに登録されていてそれをもとにユーザーネームを取得したいです。 TwitterIDは認証に使っている人とは別の人のIDです。 こういうことは可能でしょうか よろしくお願いします。 認証にはHybridAuthを使っています。
お世話になります。 先日、デザイナーと全てのサイト及びフォーム関連を完全にテンプレート化しようという 話になり、Smartyを導入しフォーム関連に取り掛かっていたところ、テンプレートファイルの 内容を書き換えてリロードしても最新の内容がブラウザへ反映されませんでした。 PHPファイルをサーバへ上書きアップロードをすると最新の内容が反映されます。 しかし、デザイナーからしてみると細部の調整等を行う際にその都度PHPファイルも アップロードするのが非常に面倒くさいので、テンプレートファイルのみをアップした タイミングで最新の内容が反映する方法を１週間ほど調べてみたのですが、 上手く行かずに難儀しております。 この現象が発生するのは、セッションを使用したフォーム関連のページのみです。 「 templates_c 」ディレクトリのキャッシュファイルを削除しても変更されません。 Smartyの設定自体はデフォルトのままです。「 caching 」も0のままで、特に変更は しておりません。 検証を手順として説明させていただくと、 １、テンプレートファイルのHTMLソースを変更してアップロード。 ２、ブラウザで確認すると、変化無し。 ３、「 templates_c 」のキャッシュファイルは更新されていて、中身を確認すると正常にコンパイルされている。 ４、大元のPHPファイルを上書きアップロードしてブラウザをリロードすると、HTMLソースの変更内容が正常に反映される。 以上の事から、PHPのスクリプトに問題があるのかと思いましたので、勝手ながらスクリプトの 大まかな内容を記載させていただきます。 --- ■ ココから------------------------------------------- // セッションの開始 session_cache_limiter("public"); session_start(); require("Smarty.class.php"); define("DEF_ACT", "entry"); // 初期アクセスしたページ define("MAIL_TO", "アカウント＠ドメイン"); // 送信先 define("subject", "テスト送信"); // 件名 // Smartyを走らせる $smarty = new Smarty(); $smarty->template_dir = "./templates"; $smarty->compile_dir = "./templates_c"; // データをPOSTメソッドで if ($_SERVER["REQUEST_METHOD"] == "POST") { $param = cnv_formstr($_POST); } // 各ページの判別処理を行い $act = isset($param["act"]) ? $param["act"] : DEF_ACT; $screen_function_name = "screen_" . $act; if (!function_exists($screen_function_name)) { exit(); } call_user_func($screen_function_name, $param); $temp_name = $act . ".html"; // テンプレートを表示する $smarty->assign("url", $_SERVER["PHP_SELF"]); $smarty->display($temp_name); // ========================================================= // 入力画面（ 初期アクセスしたページ ） // ========================================================= function screen_entry($param) { ～ 処理内容 ～ return TRUE; } // ========================================================= // 確認画面（ 入力チェックが通った場合 ） // ========================================================= function screen_conf($param) { global $smarty; ～ 処理内容 ～ return TRUE; } // ========================================================= // 送信完了画面 // ========================================================= function screen_submit($param) { global $smarty; ～ 処理内容 ～ return TRUE; } // ========================================================= // 入力データチェック（ 未入力等があった場合 ） // ========================================================= function screen_data($param) { global $smarty; ～ 処理内容 ～ } // ========================================================= // 配列を一括変換する // ========================================================= function cnv_formstr($array) { ～ 処理内容 ～ } --- ■ ココまで------------------------------------------- PHPのバージョンは、5.3.3です。 因みにこのスクリプトでは、データベースは使用しておりません。 同様の経験をされて解決された方がおられましたら、ご教示の程 どうぞよろしくお願い申し上げます。
phpでのwebアプリ開発をやっていますが、sns系は未経験の者です。 このたび『あるサーバーアプリからfacebookへ自動投稿したい』という問い合わせを受けました。そこで初めてfacebookなるものを調べてみました。 apiを使うとアプリから投稿できることはわかったのですが、facebookにログインしていないとダメなようです。 サンプルコードをいくつか試してみましたが、ログインしていないとログイン画面にリダイレクトされるようです。 今回のアプリはブラウザから起動されるものではないので、ログイン画面からログインするという操作はできません。 apiを使ってアカウントとパスワードでログインするということはできないのでしょうか？ よろしくお願いいたします。
こんにちは。宜しくお願い致します。 Wordpressで日記を書いています。 http://www.xxxxxx.com/Wordpress/index.php だとします。大規模アップデートを直接するのではなくて、テスト用に同じ環境を作って、 http://www.xxxxxx.com/test/index.php テスト環境でテストをしてから本元に更新をかけたいと思っております。 実現するには、どのようにしたらよろしいでしょうか？FTPで、Wordpressのフォルダをコピーして貼り付けるだけでできるのでしょうか？ 宜しくお願い致します。 失礼致します。
php初心者です phpのバージョン5.2.5 会員登録したときにメールを送ってurlをクリックしたら登録をできるようにしたいです 質問1 phpで日本語のメールを送信するにはどうしたらいいですか？ 質問2 認証メールの方法なんですがどうすればいいでしょうか？ 素人なりに考えたのが 仮登録→メール送信→urlクリック→getで受け取る→mysqlでそのidをセレクトし番号照合 ここでわからないのは、照合番号の生成方法です あと、照合番号は番号だけでいいでしょうか？ サンプルでphpコード書いていただけると助かります。大雑把でいいのでmysqlの部分は抜かしてもわかります よろしくお願いします
お世話になります。 サーバ上のファイルをブラウザからダウンロードさせるため、下記のようなコードを書いています。 // ダウンロードさせる元ファイル $source = '/home/hogehogel/output.csv'; // 保存時のファイル名(デフォルト) $filename = 'csv_output.csv'; // HTTPヘッダ送信 header("Content-type: application/csv"); header("Content-Disposition: attachment; filename=\"{$filename}\""); // ファイルを読み込んで出力 readfile($source); しかし、ダイアログボックスが表示されず、画面上にデータが表示されてしまいます。 いろいろなサイトや書籍等のコードを真似してもダメでした。 サーバはさくらのスタンダードを使っています。 原因として何が考えられるでしょうか。 よろしくお願いいたします。
プレイ画面で大体レイアウトは完了して、数字を入力してボタンを押すと それが表示されるようにするところまではできたのですが、二回目に入力し ボタンを押して表示しなおすとその前に表示した数字が消えてしまいます。 セッションを使わないといけないようなのですが、 どのサイトを見てもいまいち書き方が分かりません。 上に述べたようなプログラミングの場合、セッションはどのように 書いたらいいのでしょうか？ よろしくお願いします。
PHPマニュアルにあるusortの説明がうまく理解できなくて悩んでいます。 そこでは、パラメータとなる比較関数について次のように書かれています。 「比較関数は、最初の引数と二番目の引数の比較結果を返します。最初の引数のほうが二番目の引数より大きい場合は正の数を、二番目の引数と等しい場合はゼロを、そして二番目の引数より小さい場合は負の数を返す必要があります。」 http://php.net/manual/ja/function.usort.php 「usort() の例」として提示されているのは以下です。 function cmp($a, $b) { if ($a == $b) { return 0; } return ($a < $b) ? -1 : 1; } $a = array(3, 2, 5, 6, 1); usort($a, "cmp"); この例のユーザー定義の比較関数cmpは、前述の説明の通りに書かれているので理解できます。 しかし、ユーザーページの投稿にもありますが、($a > $b) としたり、($a < $b) ? 1 : -1 のように返り 値を変えて降順（逆順）にソートするという使い方を普通に見かけます。 これは、「最初の引数のほうが二番目の引数より大きい場合は正の数を(……)二番目の引数より小さい場合は負の数を返す必要があ」るという説明とは矛盾しています。 「必要」とまで書いているのでかなり強い指示だと思います。英語版でも「must」となっているので翻訳上の問題はなさそうです。 また、「配列のソート」ページによるとソート順は「ユーザー定義」とあり、件の比較関数次第ということになっています。 http://www.php.net/manual/ja/array.sorting.php ということは、逆順であれ自然順であれ可能だとこれは示唆しているのだと思うのですが、やはり説明部分との矛盾が気になります。 ……どう捉えたらよいのでしょうか？
私は今、2人で対戦する数当てゲームのプログラムを作っています。 トップ画面で2人の名前と秘密の数字を入力し、そこから次のプレイ画面に移り、数字を入力し合い先に秘密の数字を当てたプレイヤーの勝ちというものです。 現在はトップ画面はほとんど終わって、プレイ画面はレイアウトだけほとんど終わっているという状態です。 今までのプログラミングは、このプレイ画面のレイアウトをHTMLで作り上げ、その中でPHPが必要な部分にPHPを組み込むというやり方をしていたのですが、友達に「PHPを一番外に用意して、tableなどをprint("");で囲まないとだめ」と言われました。 今までは、 <body> <table>など............... .............................</table> </body>で、 友達が言うには、 <body> <?php print("<table>など.................... ....................................</table>"); ?> </body>みたいな感じです。 これだと、URLからこのPHPのアドレスを直接入力すれば入れるのですが、トップ画面(HTML)からsubmitボタンを押して、プレイ画面に飛べなくなりました。 初心者なのでできるだけ分かり易く教えていただけたらありがたいです。 因みに、print("");の中のHTMLであらかじめ使っていた"はちゃんと\"にしています。 よろしくお願いします。
ｐｈｐとmysqlを見よう見まねでやっている 初心者です。 atableのチェックボックスよりPOSTした $sample_array（atable.indexの値が複数です。） をbtableへ移動したいと思い、以下の式を自分なりに 考えてみましたが上手くbtableへinsert されません。 atableの複数のindexは選ばれているようですが それをどうしたらbtableへ複数insertできるのか良くわかりません。 何が間違っているのか、atableからbtableへ複数insertできる式を 具体的に書いて頂くと大変助かります。 どうかご教授の程よろしくお願い致します。 $sample_array = $_POST['sample_array']; $where=""; if (isset($sample_array) and is_array($sample_array)) { $where .=" AND atable.index in ("; foreach ($sample_array as $key=>$val) { if($key>0) $where .=","; $where .="'" .mysql_real_escape_string($val) . "'"; } $where .=")"; } $sql= "select * from atable"; $sql .= " where 1"; $sql .= $where; $result = mysql_query( $sql ); while ( $row = mysql_fetch_array( $result ) ) { $sql = "insert into btable (a_no,b_no,c_no) values ('" . $row['no_a'] . "', '" . $row['no_b'] . "','" . $row['no_c'] . "')"; }
WordPressにログインできません。 原因は一体何なのでしょうか？ 現在Macbook Proで、WordPressを使っているのですが、 諸事情により別の、WordPressにログインしたことのない WindowsのパソコンでWordPressにログインしようと試みました。 しかしながら、ユーザー名、ログインパスワード共に 合っているにもかかわらず、ログインできないのです。 理由が全く分かりません。 そこで 「Word Pressは、普段記事投稿しているパソコンじゃないとログインできない」 という結論に至りました。 しかしながら、果たしてこれが正解なのかわかりません。 そこでWordPressに精通している方々に、 僕が別のパソコンでログインできない理由というのを 考えて頂きたいと思っております。 では回答お待ちしております。
ディレクトリを読んでディレクトリに有る画像ファイル $dname = dir ( "./cgi-bin/image/" ); while ( false !== ( $imagefile = $dname->read() )) { } 拡張子を除いたファイル名を取得したい abc.jpg dfg.jpg xyz.jpg abc dfg xyz 宜しくお願いします。
Facebook APIを使い自分のwebサイトでFacebookのユーザー名取得しようとしています。 下記サイトを参考に設定をしたのですが、途中で躓き上手くいきません。 1.http://www.tryphp.net/2011/10/25/phpfacebook-dev … 2.http://blog.zolesystem.info/php_facebook_api1/ 色々と検索してみたのですが、同様の現象が見つからず質問させていただきます。 Facebookのアプリ認証画面の表示まではできており、「OK」を押すと自分のWebサイトに戻ってくるのですが、認証前の画面と変化がありません。 ただし、URLだけは.phpの後に「?code=ランダムの文字列」とパラメーターがついたURLに変化しています。 もし、解決方法をご存じの方いらっしゃいましたらご教授お願いします。 どうぞよろしくお願いします。
　今晩は、宜しくお願い致します。　 　ファイルの送信で「参照ファイルのパスの表示ボックス（パス表示欄）」、「参照ボタン」が作成され ますが、テキストボックスの様に色をつけたり、文字の大きさを設定出来るのでしょうか。 　以前どこかのサイトで色付きを見たのですが、何とか同じものを作りたいと思っています。 　宜しくお願いします。
検索機能を付加したいのですが次の条件で相性の良いもの、あるいはPHPの書き方を探しております。 1.キーワードでサイト内検索ができる。 2.指定したカテゴリー、地域、カレンダー（日にち）でそれぞれ、または同時にサイト内検索できる。 3.投稿時に情報開示の日時の期限を設定。期限を超えたものは検索結果に表示されない。 よろしくお願いします。
・配列hogeがある時、idキーの数を数え、count要素として追加したい ・さらに、idキーが重複する内容を削除したい ■前提 hoge ( 　　[0] => Array 　　　　( 　　　　　　[id] => 7 　　　　　　[area] => 6 　　　　) 　　[1] => Array 　　　　( 　　　　　　[id] => 7 　　　　　　[area] => 6 　　　　) 　　[2] => Array 　　　　( 　　　　　　[id] => 8 　　　　　　[area] => 9 　　　　) ) ■欲しい結果 result ( 　　[0] => Array 　　　　( 　　　　　　[id] => 7 　　　　　　[area] => 6 　　　　　　[count] => 2 　　　　) 　　[1] => Array 　　　　( 　　　　　　[id] => 8 　　　　　　[area] => 9 　　　　　　[count] => 1 　　　　) )
PHPのforeachで変数を用意せずに何週目なのかのカウント数を取得する事は可能でしょうか？ 探しても見つからなかったのですが、そういった関数があるのでしょうか？ それとも、やはり毎回専用の（もしくは使い回しの）変数を用意するしかないのでしょうか？
phpで index.php にアクセスがあった時に、 以下の様に top.php へリダイレクトさせたいと思います。 header("Location:top.php"); exit(); この時、top.phpが表示された時のブラウザのアドレスバーは index.php のままです。 アドレスバーのURLを top.php にする方法はないですか？
http://oshiete.goo.ne.jp/qa/8228275.html の続編です。 何度もすみません、エラーは消えたのですが、やりたいことが実現できていないので、質問します・・・ mysqliを使ってデータベースを表示したいのですが、肝心の表示部分ができません。 printでテストしてみたのですが、中身が入っていない？ようなのです。 よくわからないので、教えて頂きたいです。 DBはphpmyAdminで作成しました。 /* 変数定義関連 */ /* mysqliの定義 */ global $mysqli; $mysqli = new mysqli('localhost', 'root', "", "***_db"); //$link = mysqli_connect('localhost', 'root', "", "***_db"); /* 接続状況をチェックします */ if (mysqli_connect_errno()) { printf("Connect failed: %s\n", mysqli_connect_error()); exit(); } print("<BR>"); /* 現在のデフォルトデータベース名を返します */ if ($result = $mysqli->query("SELECT DATABASE()")) { $row = $result->fetch_row(); printf("befor Default database is %s.\n", $row[0]); $result->close(); } print("<BR>"); /* データベースを ***_db に変更します */ $mysqli->select_db("***_db"); /* 現在のデフォルトデータベース名を返します */ if ($result = $mysqli->query("SELECT DATABASE()")) { $row = $result->fetch_row(); printf("change after Default database is %s.<BR><BR>", $row[0]); $result->close(); } // データベースのdump echo "↓start_dump<BR>"; echo "<pre>";var_dump($mysqli);echo "</pre>"; echo "↑end_dump<BR>"; // バインドデータ設定 $key = 'c_name'; $num = 1; /* プリペアドステートメントを作成します whereの箇所はプレースホルダ(xxx=?)をつけること！ */ /* 「*」 はダメってこと？ちゃんと指定しないとbind_resultでエラー？*/ $sql = "SELECT c_name,c_job,c_prace,c_working_time,c_salary,c_treats,c_capacity,c_person,c_process,c_interview_day,c_person_in_charge,c_single_word,c_contact,c_web_site,c_condition FROM `test_table` WHERE c_name=?"; $stmt = $mysqli->prepare($sql); //printf("実行SQL<BR>"); //printf("%s<BR>",$sql); if($stmt = $mysqli->prepare($sql)) { //printf("%s<BR>",$stmt); /* マーカにパラメータをバインドします */ //バインドする変数はprepareで読み込んだ変数個数？のみ $stmt->bind_param('i', $num); // バインドする変数に設定して送る /* クエリを実行します */ $stmt->execute(); /* 結果変数をバインドします */ //戻り値と全ての項目の変数名を関連付ける(項目１～１６）※SELECTの数と合わせること。 $stmt->bind_result($col1,$col2,$col3,$col4,$col5,$col6,$col7,$col8,$col9,$col10,$col11,$col12,$col13,$col14,$col15); //$stmt->bind_result($col1,$col2); // バインドする変数分設定 //$num = $stmt->fetch();//debug用 //printf("<BR>%s\n", $num); printf("testes\n"); printf("%s",$col1); printf("%s %s %s %s %s %s %s %s %s %s %s %s %s %s %s\n\n\n",$col1,$col2,$col3,$col4,$col5,$col6,$col7,$col8,$col9,$col10,$col11,$col12,$col13,$col14,$col15); /* 値を取得します */ while ($stmt->fetch()){ printf("testes");//入ってない printf("%s %s %s %s %s %s %s %s %s %s %s %s %s %s %s\n",$col1,$col2,$col3,$col4,$col5,$col6,$col7,$col8,$col9,$col10,$col11,$col12,$col13,$col14,$col15); } printf("<BR>num=%s\n", $num); /* ステートメントを閉じます */ $stmt->close(); } // 切断 $mysqli->close(); dumpは以下の通りに出ます object(mysqli)#1 (19) { ["affected_rows"]=> int(1) ["client_info"]=> string(75) "mysqlnd 5.0.10 - 20111026 - $Id: e707c415db32080b3752b232487a435ee0372157 $" ["client_version"]=> int(50010) ["connect_errno"]=> int(0) ["connect_error"]=> NULL ["errno"]=> int(0) ["error"]=> string(0) "" ["error_list"]=> array(0) { } ["field_count"]=> int(1) ["host_info"]=> string(20) "localhost via TCP/IP" ["info"]=> NULL ["insert_id"]=> int(0) ["server_info"]=> string(6) "5.5.32" ["server_version"]=> int(50532) ["stat"]=> string(134) "Uptime: 6961 Threads: 1 Questions: 1535 Slow queries: 0 Opens: 100 Flush tables: 1 Open tables: 1 Queries per second avg: 0.220" ["sqlstate"]=> string(5) "00000" ["protocol_version"]=> int(10) ["thread_id"]=> int(152) ["warning_count"]=> int(0) }
http://okwave.jp/qa/q8227809.html の続編です。 バインドのところでエラーが出ているようなのですが、原因と修正方法がわかりません。 /* プリペアドステートメントを作成します whereの箇所はプレースホルダ(xxx=?)をつけること！ */ $sql = "SELECT * FROM `test_table` WHERE c_name=?"; $stmt = $mysqli->prepare($sql); if($stmt = $mysqli->prepare($sql)) { /* マーカにパラメータをバインドします */ $stmt->bind_param('i', $num); // バインドする変数に設定して送る /* クエリを実行します */ $stmt->execute(); /* 結果変数をバインドします *//*69行目付近*/ $stmt->bind_result($num); /* 値を取得します */ $stmt->fetch(); printf("<BR>%s\n", $num); /* ステートメントを閉じます */ $stmt->close(); } // 切断 $mysqli->close(); Warning: mysqli_stmt::bind_result(): Number of bind variables doesn't match number of fields in prepared statement in C:\xampp\htdocs\job_site4\search_criteria.php on line 69 というエラーが出ます。 解決方法を教えていただきたいです。 よろしくお願いします。
条件によってループを開始したりスル―したりする方法はありますか？ if文の中だけで完結するループではなく、ループ文の最初と最後だけをスルーしたいのですが、どうしても方法が思い浮かびません。 if(条件){ 判定　} foreach( ){ ←　判定によってここをスルーしたい print "abcdefg"; ←　ここは常に実行したい }　←　foreach がスルーされているので、ここも消したい foreachの中身が短ければ、２パターン作ればいいと思うのですが、数千行になってしまっているので、できれば条件によってスルーしたいのですが、そもそもＰＨＰでこれは可能なんでしょうか？
以下のような多次元配列を、 Array ( [0] => Array 　　　　( 　　　　[0] => Array 　　　　　　( 　　　　　　　　[id] => 3 　　　　　　　　[hoge_id] => 15 　　　　　　) 　　　　) [1] => Array 　　( 　　　　[0] => Array 　　　　　　( 　　　　　　　　[id] => 9 　　　　　　　　[hoge_id] => 15 　　　　　　) 　　) [2] => Array 　　( 　　　　[0] => Array 　　　　　　( 　　　　　　　　[id] => 18 　　　　　　　　[hoge_id] => 15 　　　　　　) 　　) [3] => Array 　　( 　　　　[0] => Array 　　　　　　( 　　　　　　　　[id] => 22 　　　　　　　　[hoge_id] => 15 　　　　　　) 　　　　[1] => Array 　　　　　　( 　　　　　　　　[id] => 22 　　　　　　　　[hoge_id] => 15 　　　　　　) 　　　　[2] => Array 　　　　　　( 　　　　　　　　[id] => 22 　　　　　　　　[hoge_id] => 15 　　　　　　) 　　) ) 下記のような連想配列へ変換したいです Array ( 　　　　[0] => Array 　　　　　　( 　　　　　　　 [id] => 3 　　　　　　　 [hoge_id] => 15 　　　　　　) 　　　　[1] => Array 　　　　　　( 　　　　　　　　[id] => 9 　　　　　　　　[hoge_id] => 15 　　　　　　) 　　　　[2] => Array 　　　　　　( 　　　　　　　　[id] => 18 　　　　　　　　[hoge_id] => 15 　　　　　　) 　　　　[3] => Array 　　　　　　( 　　　　　　　　[id] => 22 　　　　　　　　[hoge_id] => 15 　　　　　　) 　　　　[4] => Array 　　　　　　( 　　　　　　　　[id] => 22 　　　　　　　　[hoge_id] => 15 　　　　　　) 　　　　[5] => Array 　　　　　　( 　　　　　　　　[id] => 22 　　　　　　　　[hoge_id] => 15 　　　　　　) )
現在、メーリングリストを作成しようと思っています。 WEBサイトの会員に、メールアドレスを登録して貰い、そのアドレスを元にメールを一斉送信したいのですが、その送信方法をwindowsで、自分が普段使っているメーラーから行いたいのですが、そのような事が可能でしょうか？可能であれば、作り方が説明されているようなサイト、又は書籍を教えて頂きたいと思っています。 使用するサーバーは、さくらレンタルサーバーです。メーリングリストの機能はあるようですが、もし、それを使って、より簡単に構築出来るのであれば、そちらの方法も希望します。 素人ながら、頑張って作っているのですが、この辺りは検索しても、見当たらなかった為、よろしくお願いします。
お役立ちサイトを作ろうと思っており、アクセスした人の地域別に広告スペースの表示を変えたいのですが、具体的にはどうしたらよいでしょうか？ 例えば、クリニックのサイトを作って関東の人がアクセスしたら右カラムの広告バナーは東京のクリニックを、関西の人がアクセスしたら大阪のクリニックを表示するような制御になります。
このような 素敵なWEBサイト、個人でつくりたいと思っています。 http://campus-web.jp/interview 素人からすると仕様とツールが分かりません。 どうやってつくったらいいんでしょうか。 ちなみにWEB制作についてはまったくの素人と思って頂ければと思います。 ・wordpress　でブログ作成などはしてますが、IT・WEBリテラシーはそれほどないと思ってください。
お早う御座います。 掲示板をPHPで作成中です。 コメントと同時に動物のイメージの添付を考えています。 コメント記入欄の上に動物のイメージを「1段横３列」に置きたいのですが、 うまく表示されません。 どこが悪いのでしょうか、ファイルがpngだとHTMLに取り込めないということでしょうか。 CSSの書き方、書く場所を色々と変えても動作しません。 宜しくお願いします。 ================================================================== <?php ・ ・ ?> <HTML> <HEAD> <META HTTP-EQUIV='Content-Type' CONTENT='text/html;charset=UTF-8'> <TITLE>投稿アップ</TITLE> <STYLE type="text/css"> <!-- div.imgbox{potision : abusolute ; top : 30 px; left : 300 px; } --> </STYLE> </HEAD> <BODY STYLE='background-color:lightgreen'> <div img class="imgbox"> <TR><TH><src="hippo1.png" width="50" height="50"></TH> <TH><src="hippo2.png" width="50" height="50"></TH> <TH><src="hippo3.png" width="50" height="50"></TH></TR></div> <?php ・ ・ ?> <P STYLE="color:pink;font-size:30px">掲示板</P> ・ ・ </FORM> <?php ・ ・ ?> </BODY> </HTML>
　こんばんは。 　今度、ある内容についての質問掲示板みたいなものをWebでUp（言語はPHPです）するこ とを考えていますが、色々とサイトを見てみると、ページが長くなるとある程度まとめて、「2013 年７月分までの質問はこちらからアクセスできます」みたいなリンクをはっていますが、これの 作り方はどのようにするのでしょうか。 　また、参考サイトなどがあれば教えて頂けないでしょうか、宜しくお願いします。
　今晩は、今度Win版（VISTA）で、掲示板のようなファイルをPHPで書きました。 　いずれ、ホームページとして一般公開を考えていますが、仮にLINUXサーバーからUP するのは可能なのでしょうか。 　因みにApcheはWin版です。 　宜しくお願いします。
以下のコードでpiyoを呼ぶには、hogeを渡すしかないのでしょうか？ $hoge="piyo"; function func(){ echo $hoge; } func();
すみません、PHPでデータベースを読み込み、SQLにて処理するプログラムを作成しているのですが、 再びエラーで止まってしまいまして、困っています。 データベースへのアクセスはできたようなのですが、ＳＱＬの処理の部分がエラーになっているのだと思われます。 --------------結果表示-------------- Warning: mysql_fetch_array() expects parameter 1 to be resource, boolean given in C:\xampp\htdocs\site\search_criteria.php on line 70 @ エラー番号 : 1064メッセージ : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'aaa,bbb,ccc FROM `test_table`' at line 1 @ ------------------------- -----------ソース------------- <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=shift_jis"> <title>-サイト -検索条件入力ページ-</title> </head> <body> <p>検索条件を入力してください</p><br> <?php # 変数定義関連 # mysqliの定義 global $mysqli; $mysqli = new mysqli('localhost', 'root', "", "****_db"); $link = mysql_connect('localhost', 'root', "", "****_db"); header("Content-type: text/html; charset=shift-jis"); // 文字化け防止 /* 文字セットを utf8 に変更します */ if (!$mysqli->set_charset("utf8")) { printf("処理1:文字コードのセットに失敗しました。: %s\n", $mysqli->error); } else { printf("処理1:文字コードセット-> %s\n", $mysqli->character_set_name()); } printf("<BR><BR>"); #配列定義 $job_name = array("配列定義"); $data = $_GET["job_opening_type"]; //データベースへの接続 if (!$link) { die("処理2:データベースへの接続失敗です。<BR>".mysql_error()); }else{ print("処理2:データベースへの接続成功！<BR><BR>"); } //データベースを選択 if (!mysql_select_db("****_db",$link)){ echo "処理3:データベース選択失敗<BR><BR>"; exit; }else{ echo "処理3:データベースの選択成功です。<BR><BR>"; } $query = file_get_contents("create.sql"); printf("処理4:クエリ->%s",$query); //SELECT文を実行 if($res = mysql_query($query,$link)){ echo "<BR>mysql_query失敗<BR>"; }else{ echo "<BR>mysql_query成功<BR>"; } //検索した結果を全部表示 line 70辺り→while($row = mysql_fetch_array($res,MYSQL_BOTH)){ echo "****=".$row["****"]; echo "****=".$row["****"]; echo "<BR>"; } echo "<BR>@<BR>エラー番号 : " . mysql_errno() . "メッセージ : " . mysql_error() ."<BR>@"; //データベースから切断 $mysqli->close(); echo "<BR><BR>処理5:データベースを切断しました。<BR>"; ?> <br> --------------------------------------------------<br> 最終更新日時<br> <p></p> </body> </html> 内部のプログラムではなく、外部から読んでいるSQLの問題なのでしょうか？ 外部にcreate.sqlというテキストを作成し、 SELECT aaa,bbb,ccc FROM `test_table` としています。 色々試しているのですが、うまくいきません、解決方法を教えて頂きたいです。 よろしくお願いします。
言語：PHP Framework：symfony DB：MySQL DBにデータを追加したいのですが、 [Rollback failed. There is no active transaction.] といったエラーが表示され、追加することが出来ません。 【ソース】 ------------------------------------------------------ try { $connection->beginTransaction(); ★DB追加処理; $connection->commit(); } catch (Exception $e) { 　　// ここで[Rollback failed. There is no active transaction.]というエラーが表示されます echo $e->getMessage(); $connection->rollBack(); } ------------------------------------------------------ DB追加処理の部分でエラーとなり、catchに飛ばされていたので、初めは追加の方法が間違っているのかと思ったのですが、下記の３つをソースから外すと正常に追加されました。 $connection->beginTransaction(); $connection->commit(); $connection->rollBack(); ※正確に言うと「$connection->beginTransaction();」を外すだけで追加出来ました。 また、これは私の勘違いかもしれませんが、初めてこの処理を行った時は正常にDBに追加されました。 実際にDBにデータが入ったのを確認しています。 ですが、２回目以降？からは、上記のように[Rollback failed. There is no active transaction.]というエラーが表示され、追加出来なくなりました。 ちなみにDB接続にはPDOというものを使用しているようです。 追加処理の部分に関してはSymfonyの方法で、下記のように実装しています。 ------------------------------------- $user = new T_USER(); $user->setName($name); $user->setAge($age); $user->save(); ------------------------------------- 何かヒントになるようなことでも構いませんので、分かる方がいらっしゃいましたらよろしくお願いします。 質問の内容に不備な点がございましたら、申し訳ありません。 以上です。
以下のような配列がある時、重複している奈良を1つにしたい Array ( 　　[0] => Array 　　　　( 　　　　　　[area_id] => 13 　　　　　　[area] => 兵庫 　　　　) 　　[1] => Array 　　　　( 　　　　　　[area_id] => 4 　　　　　　[area] => 沖縄 　　　　) 　　[2] => Array 　　　　( 　　　　　　[area_id] => 15 　　　　　　[area] => 愛媛 　　　　　　　　( 　　　　　　　　　　[0] => Array 　　　　　　　　　　　　( 　　　　　　　　　　　　　　[area_id] => 22 　　　　　　　　　　　　　　[area] => 奈良 　　　　　　　　　　　　) 　　　　　　　　　　[1] => Array 　　　　　　　　　　　　( 　　　　　　　　　　　　　　[area_id] => 3 　　　　　　　　　　　　　　[area] => 群馬 　　　　　　　　　　　　) 　　　　　　　　　　[2] => Array 　　　　　　　　　　　　( 　　　　　　　　　　　　　　[area_id] => 22 　　　　　　　　　　　　　　[area] => 奈良 　　　　　　　　　　　　) 　　　　　　　　　　[3] => Array 　　　　　　　　　　　　( 　　　　　　　　　　　　　　[area_id] => 22 　　　　　　　　　　　　　　[area] => 奈良 　　　　　　　　　　　　) 　　　　　　　　) 　　　　) )
データベースに格納した数100件の画像をphpで一覧表示する際に、 一気に読み込まないで10件づつ表示するという形を取ろうとしています。 最初に10件の画像を表示しておいて、 下部にある「もっと見る」のリンクをクリックしたら次の10件を表示する、という機能を 実装したいのですが、良い方法はないでしょうか？ 全画像を表示した際のソース $sql .= "SELECT ～"; $result= mysql_query("{$sql}"); $num= mysql_num_rows($result); for($i = 0; $i < $num; $i++){ $arr = mysql_fetch_array($result); <img src="<?php echo $arr[img_path]; ?>" /> }
いつも、こちらでお世話になっております。 現在、PHPで管理画面を作成しているのですが、その際に問題がありご質問させて頂きました。 一通り説明させて頂きますと、居酒屋検索サイトを作成しております。 フロントエンド、バックエンド共にPHPで作成しており、フロントエンドでは、バックエンドで登録した居酒屋の一覧を出力させる仕様となっております。 居酒屋の一覧というのは、GoogleMapと連携し居酒屋のリンク一覧と地図上にマーカーを表示させます。 マーカーは、地図の領域内に動的に出力されます。 分かりにくいと思うので、イメージサイトがあります。 以下のURLのような形です。（市区町村を適当に選択してください） http://www.matsukiyo.co.jp/map?Type=Area&area=23 … ※ 市区町村選択後、マウスで地図を動かすと、店舗の一覧が動的に変わります。 これを実現させる為に、管理画面から居酒屋を登録させる際に、GoogleAPIを使用し、 予め居酒屋の住所から経度緯度を取得しておく必要があります。 単一登録を行う時は問題ないのですが、他にCSVから一括登録も可能となっております。 GoogleAPIの経度・緯度の取得は、1秒おきに行う必要があるらしく、1秒たたずに連続して問い合わせを行うと、うまくデータが取得できないようです。 http://docolog.cocolog-nifty.com/papalog/2012/01 … また、住所によってはうまく経度・緯度が取得できないばあいもあるようでして、非常に困っております。 上記回避方法が、皆目検討がつかない状況で、ご質問させて頂いた次第です。 良い方法があるという方、どうかお力をおかしください。 何卒宜しくお願い致します。
以下のphpでsql文を実行したのですが、エラーになってしまいます。 sql文が間違っているのでしょうか？phpmyadminで作成したsqlを貼り付けたのですが・・・ どなたか回答お願いします。 header("Content-type: text/html; charset=shift-jis"); #mysql_connectを使う #mysqliの定義 $mysqli = new mysqli('localhost', 'root', "", "******"); $link = mysql_connect('localhost', 'root', "", "*********"); if (!$link) { die("1:接続失敗です。".mysql_error()); }else{ print("1:接続成功！<BR>"); } // 文字化け防止 /* 文字セットを utf8 に変更します */ if (!$mysqli->set_charset("utf8")) { printf("2:文字コードのセットに失敗しました。: %s\n", $mysqli->error); } else { printf("2:文字コードセット-> %s\n", $mysqli->character_set_name()); } printf("<BR>"); $query = file_get_contents("./sql/create.sql"); printf("3:クエリ->%s",$query);#ちゃんと読み込まれているかクエリ確認 $stmt = $link->prepare($query); $stmt->execute(); // 変数のバインド $stmt->bind_result($name,$email); // 表示 while ($stmt->fetch()) { echo $name; echo $email; } //切断 $mysqli->close(); ------------------------------------------------- ：実行結果 1:接続成功！ 2:文字コードセット-> utf8 3:クエリ->SELECT * FROM test_table WHERE 1 Fatal error: Call to a member function prepare() on a non-object in C:\xampp\htdoc\saaaaa\aaaaa.html on line 41
MySQLにある日付を拾ってきて表示しています。 <?php echo $row_target_date['ap_date']; ?> 上記のPHPでは、MySQLのテープルのap_dateカラムにある日付を拾ってきて表示するようにしています。 この1ケ月前を表示したいと考えています。 <?php echo "1月前:" . date("Y/m/d",strtotime("-1 month" ,strtotime("echo $row_target_date['ap_date']"))) . "<BR>"; ?> では表示できませんでした。 表示方法についてご指導いただきたくお願い致します。
PHP初心者です PHP 5.2.5 MySQL 5.1.22 レンタルサーバーのphpのバージョンが php5.2.5ではpdoがバグで使えないらしいのでmysqliを使おうとしています。PHP 5.2.5でもmysqliはバグありますか？ mysqliでMYSQLに接続するにはどうすればいいのでしょうか？ いままではこんな感じでしたがmysqliにするとどんなコードになるのでしょうか? $link=mysql_connect('localhost', 'user', 'pass')or die(mysql_error()); mysql_select_db(user'); mysql_query('SET NAMES UTF8'); $start=1; $hyouji=10; $recordSet = mysql_query(sprintf('SELECT * FROM hoge2 ORDER BY id LIMIT %d, %d' , ',$start,$hyouji)); <?php while ($table = mysql_fetch_assoc($recordSet)) { ?> <tr> <td><?php print($table['id']); ?></td> <td><?php print($table['name']); ?></td> </tr> <?php } ?>
PHP初心者です。 MAMPを使用して、macにてローカル環境でwordpressサイトを制作中です。 MAMPのPHPは5.4.10と設定しています。 wordpressを最新版に更新して、ダッシュボードにログインすると Strict Standards: Only variables should be passed by reference in　/ファイル名～ など、Strict Standardsから始まる警告文がたくさん出ました。 /Applications/MAMP/conf/php5.4.10/php.ini の該当箇所と思われる部分を ;error_reporting = E_ALL & ~E_NOTICE & ~E_STRICT & ~E_DEPRECATED ; ; - Show only errors ; ;error_reporting = E_COMPILE_ERROR|E_ERROR|E_CORE_ERROR ; ; - Show all errors except for notices ; ;error_reporting = E_ALL | E_STRICT error_reporting = E_ALL & ~E_NOTICE & ~E_STRICT & ~E_DEPRECATED ～略～ display_errors = Off 等と記述していますが、ダッシュボードに変化はありません。 /Applications/MAMP/bin/php/php5.4.10/conf/php.ini でも試してみましたがダメでした。 変更後は、Apacheの再起動もしています。 PHPの仕組みが理解できていないので、根本的なところが抜けているのかもしれません。 恐縮ですが、教えていただけると幸いです。
for($i=1; $i<hoge; $i++) hogeの数字が不定期に増えていく場合どうしたらいいでしょうか？ sqlでテーブルのデータを取っているのですが現在はその数が3なので$i≦3で済むのですが これが10に増えたり後々100に増えたりします テーブルのデータが増えるたびに$i<hogeの部分を書き直すのは良くないと思います forを使っているのが間違いかもしれませんが phpでこういう場合は何を使えばいいでしょうか？ 回答よろしくお願いします
PHP初心者です PHP 5.2.5 MySQL 5.1.22 PDOでMYSQLに接続するにはどうすればいいのでしょうか？ いままではこんな感じでしたがPDOにするとどんな感じになるんですか? $link=mysql_connect('localhost', 'user', 'pass')or die(mysql_error()); mysql_select_db(user'); mysql_query('SET NAMES UTF8'); PDOで接続する方法らしいのですが疑問を持ってしまったので教えてください 質問1　最初の$db_nameや$passなどの変数のとこに直接、localhostと書くのはまずいですか? 質問2　古いMYSQL系はカッコで囲めばいいので簡単だったのですがPDOの記号の意味を教えてください->とか=>です 質問3　PDO::ATTR_EMULATE_PREPARESは指定する必要があるんでしょうか？指定しないとパフォーマンスが下がるんですか?PDO::ATTR_EMULATE_PREPARESとはなんでしょうか？ try { $pdo = new PDO("mysql:dbname=$db_name;host=$serv","$user","$pass", array( PDO::MYSQL_ATTR_INIT_COMMAND => "SET CHARACTER SET 'utf8`")); } catch (PDOException $e) { die($e->getMessage()); } よろしくお願いします
こんにちは。 wordpressの記事に、行数の多い表テーブルを組もうとしています。 （phpやjsなどは素人です） 以下のサイトを見て、ショートコードを使用し、記事内に表示はできました。 （ csvファイルをhtmlに表示する　http://www.warna.info/archives/1481/　） しかし、元のcsvには必要ない行や列がたくさんあります。 元ファイルを修正することなく、特定行や特定列を非表示にしたいのですが、どうしても解りません。 ーーーーやりたい事の説明　csvの例としてーーーーーーーーーー no,a,b,c,d, 10,赤,青,黄,緑, 20,コーラ,ビール,ミネラル,ソルト, 30,野菜,お茶,ジュース,ドクターペッパー, １、横の行　最初の行を非表示にしたいです ２、aの列を非表示にしたいです ３、できれば最初の一列目に、自由に品目を表示したいです 　　（A,B,C,Dなどなど） ショートコードにパラメータを書いてなんとかなりそうな気がするのですが、もう５時間もgoogleで検索し、途方に暮れています。私が素人過ぎるのが原因だと解ってはいますが、あきらめ切れません。 どなたか、どうか、ご指導ください！
foreachで多次元配列にしたくないのですが、多次元配列になってしまいます。 なぜでしょうか？ ■$hoge Array ( 　[0] => 3 　[1] => 9 ) ■処理 foreach ($hoge as $val){ 　$result[]= 関数($val); } ■期待している結果 Array ( 　　[0] => Array 　　　　( 　　　　　　[id] => 1 　　　　　　[created_at] => 2013-08-01 　　　　) 　　[1] => Array 　　　　( 　　　　　　[id] => 2 　　　　　　[created_at] => 2013-08-02 　　　　) ) ■実際の結果 Array ( 　　[0] => Array 　　　　( 　　　　　　[0] => Array 　　　　　　　　　( 　　　　　　　　　　　[id] => 1 　　　　　　　　　　　[created_at] => 2013-08-01 　　　　　　　　　) 　　　　) 　　[1] => Array 　　　　( 　　　　　　[0] => Array 　　　　　　　　　( 　　　　　　　　　　　[id] => 2 　　　　　　　　　　　[created_at] => 2013-08-02 　　　　　　　　　) 　　　　) )
こんにちは！ HTMLのソース上、または、ページのレイアウト上、一つの<form>タグの外に 配置しざるを得ない<input>要素がある場合があると思います（？） 例えば、添付画像のように、一括操作用のプルダウンメニューと送信ボタンを置いた Formタグがあり、また、それとは離れた場所にチェックボックスがあるようなケースです。 添付画像は今、勉強用に作成している自作ブログの管理画面なのですが、 記事一覧の左端に並ぶチェックボックスのうち、チェックされた記事を、 上部にある一括操作メニューから一括削除出来る様にしたいと考えています。 そこで、今、つまづいているのが、どのようにして、チェックされた該当の、 各記事IDをPostすることが出来るのかということです。 <form>と</form>の間に挟まれていない、input項目（この場合はチェックボックス）は、 Postしても送信されないと思うのですが、どのように対処するのが宜しいのでしょうか？ javascriptでチェックされた記事のIDを、<form>タグの間に、 <input type="hidden">で、それぞれ、挿入されていくように 実装するという方法は頭に浮かんでいるのですが、 このやり方がベストプラクティスとなりますでしょうか？ 経験豊富な先輩方のお知恵を拝借出来ればと思い、 ご質問させて頂きました。 宜しければご返答頂ければ幸いです。 よろしくお願い致しますm(_ _)m
PHPの文字列の比較について質問です。 $hoge = "文字列¥¥テスト"; $foo = "文字列¥テスト"; とあった場合 var_dump($hoge == $foo); とすると trueがかえってきます。 バイト列としてみた場合 エスケープしたバックスラッシュと 構文上、エスケープの必要のないバックスラッシュの文字列上の 比較ですがこれが、なぜかtrueがかえってきます。 これは、当然の結果なのでしょうか？ PHPは文字列を比較するさい、バイト列としての文字列のならびより アウトプットされる結果を比較しているということでしょうか？ それとも、単純に上記変数$hogeと$fooはバスックスラッシュの使用方法は 関係なく同一のものとして扱われるのでしょうか？
PHP、JavaScriptのプログラムに関して質問します。 下記のように変数＄nameに"名前"と初期値が入っていて、Web画面上で下記テキストボックスに "ありさ"と書き替えて、修正ボタンを押しても、$_POST["name"]が"名前"のままで変更されていません。"ありさ"をPHPで取得したいのですが、何がおかしいのでしょうか？ function send(){ document.fm.action = "aaa.php"; document.fm.operate.value = "modify"; document.fm.submit(); } <form name="fm"> <input type="text" name="name" value="<?=$name?>"> <input id="btn" type="button" name="modify" value="修正" onClick="send()"> </form>
PHPからシェルコマンドを実行したいのですが SSHやSCPコマンドが使えません。 phpからlsなどは問題なく実行できます。 具体的には以下のように書いています。 `scp test.log user@host:/home/hoge`; shell_exec()を使っても実行されませんでした。 環境は以下のとおりです。 PHP 5.4.17 CentOS 5.8 sshやscpコマンドをphpから実行するには何か特別な方法が必要なのでしょうか。 ご存知の方、教えてください。
PHPにおける正規表現について ご教授ください。 いわゆる、対象の文字列が複数行にわたっていた場合のことです。 $data = <<< EOF ABCDE FGH EOF; $hoge = preg_match("/EF/" ,$data,$match); と上記のようなコードがあった場合 対象の文字列群から【EF】という文字列を検索したい場合、どのように記述したら 【E（間に改行)F】の文字列と一致させる事ができるでしょうか？ 仮に正規表現の修飾子の【s】や【m】を用いても上記の例の場合 一致させることができないと思います。 やはり、対象の文字列群 $data　の改行文字をいったん削除したものから検索 するのがベターでしょうか？ 正規表現に造詣の深い方よろしくご教授ください。
MAMPでローカルサーバを構築しています。 ヘッダーやフッターなど、全ページで共通化できるところを別htmlで作成し、 <?include("./inc/header.html");?> という感じで呼び出そうとしていますが、includeされず、htmlソースに上記記述がそのまま表示されてしまいます。 MAMPのhtdocs直下にphpinfoを設置し、内容もきちんと表示されるのを確認しましたので、 phpの使用設定自体はできていると思うのですが…。 考えられる原因としては何がありますでしょうか…。
スマートフォン用サイトで画像のアップロード機能を実装しようと思っています。 PCサイト用に作成したものをそのまま流用しようと思ったのですが、 うまくいきませんでした。 対応する画像はjpg,gif,pngの三種類です。 下記がPC用のソースです。 <form action="edit_url" method="POST" enctype="multipart/form-data"> <input type="file" name="Img" size="10"> </form> フォーム受け取り先で if(is_uploaded_file($_FILES['Img']['tmp_name'])){ //jpg,gif,png以外のファイルの場合はエラー if($_FILES['Img']['type'] != "image/pjpeg" AND $_FILES['Img']['type'] != "image/jpeg" AND $_FILES['Img']['type'] != "image/png" AND $_FILES['Img']['type'] != "image/gif"){ echo "エラー"; } } とすると「エラー」が表示されます。 $_FILES['Img']['type'] の中身を見ると 「application/octet-stream」 になっていました。 試してみた端末はandroid4.0の端末で、デフォルトブラウザを使用しました。 スマートフォンから画像をアップロードするには、 どのようにしたらよいのでしょうか。
Win　VISTA　XAMPP 1.8.0 です。 昨日まで正常に動いていたPHPが今日はエラー表示で全く動作しません。 何故でしょうか。 「Access　forbidden！ 要求されたオブジェクトのアクセス権がりません。読み込みが許可されていないか、サーバーが 読み込みに失敗したかでしょう。 サーバーの障害と思われる場合はウェブ管理者までご連絡ください。」 Error　４０３ 127.0.0.1　Apache2.4.3（Win32）OpenSSL /1.0.1C PHP/5.4.7 という内容です。 =================================================================== 全く原因が不明です。 宜しくお願いします。
xamppをインストールし、様々なことを行っています。 現在phpで画像を表示させようと考えています。 しかし、プログラムを実行すると、 画像ファイル"http://～～～test.php"は壊れているため表示できませんでした。 と表示されてしまいました。 なので、もっと簡単なプログラムで確認してみようということで、 sample.php <?php header('Content-type: image/jpeg'); readfile('C:\xampp\htdocs\php1st\image\a.jpg'); ?> で実行してみました。 しかし、こちらでも上記と同じエラーが起こってしまいます。 友人のPCで行ったところ、実行できました。 友人はxamppの設定を少しいじったと言っていたのですが、どこをいじったかは覚えていないそうです。 どうかご意見いただければ、幸いです。
はじめまして。プログラムを独学で学んでいる者です。 今回初めて開発をしてみたのですが、どうしてもうまくいかないため こちらに投稿した次第です。 やりたいことは以下の通りです。 PHPとJQueryツリー構造 (完成図) 親 ■ツリー(1) 　｜ 　■親データ(2) 　｜　｜ 　｜　 ∟■子データ(3) 　｜　　　　｜ 　｜　　　　 ∟■孫データ(4) 　｜　　　　　　　｜ 　｜　　　　　　　 ∟■孫２データ(5) 　｜ 　■親データ 　｜ ｜ 　｜　 ∟■子１データ 　｜ 　■親データ 　｜　｜ 　｜　 ∟■子１データ 　｜　｜　　｜ 　｜　｜　　 ∟■孫１データ 　｜　｜ 　｜　 ∟■子２データ 　｜ 　■親データ 　｜　｜ 　｜　 ∟■子１データ 　｜　　　　｜ 　｜　　　　 ∟■孫１データ 　｜　　　　　　　｜ 　｜　　　　　　　 ∟■孫２データ 　｜ 　■親データ 表示部分で親データの表示をだしつつ、子データのSQLをとばして子データの表示をだしつつ、孫データのSQLをとばす。 これを繰り返したい。 (1)まず親データのSQLをとばす。 (2)親データを一件取得したら、表示する。その親SQLで得られた結果をもとに子SQLをとばす。 (3)子データがあれば表示。（なければ２件目の親データを取得。） 子SQLで得られた結果をもとに、さらに子SQLを飛ばす。 (4)そこに結果があれば孫データとして表示。（なければ２件目の親データを取得） 得られた結果をもとに子SQLを飛ばす。 (5)結果があれば次の孫データとして表示。 結果が存在しなければ、親データに戻り・・・・繰り返し上記のように処理する。 自分で試行錯誤し、phpとjQueryでなんとか上図のように親--子--孫と出せるようになりました。 しかし、1件ごとに子・孫データが無いかSQLを飛ばして調べるので、非常に時間がかかります。 データが30件ほどあると表示するのに10分はかかります。 処理しきれずに途中で終わってしますこともシバシバ・・・・。 他の方法として考えたのが、親データがクリックされたら子SQLを飛ばして展開部分を表示するという方法です。 しかしクリックしたらメソッドを呼び出すという、phpの処理を分割することはできないとネットに乗っていました。 (私の調べ方に問題があったのかもしれませんが・・・) <ul> <li id=id>親データ 　 <ul> 　　 　<li id=id2>子データ 　　　　　<ul> 　　　　　<li id=id3>孫データ 　　　　　</ul> 　</ul> <li id=id>親データ２ ・ ・ ・ ↑のような構造で「<li id=id>親データ」がクリックされたときに、phpの子SQLをなげる仕組みなどは 可能なのでしょうか？ それとも地道にSQLを投げて1件ずつ確認する方法しかないのでしょうか？ プロの方の意見等、知恵をお借りしたいです。 ご教授よろしくお願い致します。
タグで囲まれた文字列以外に含まれるアルファベットに一致させたいのですがうまくいかず困ってます。 例えば以下のようなHTMLの文字列があったとします。 ---------------------------------------------------------------------------- PHP: Hypertext Preprocessorとは、動的にHTMLデータを生成することによって、動的なウェブページを実現することを主な目的としたプログラミング言語、およびその言語処理系である。<br> 詳しくは以下のURLを参照されたし。<br> <a href="http://ja.wikipedia.org/wiki/PHP:_Hypertext_Prep …リンク</a> ---------------------------------------------------------------------------- "PHP: Hypertext Preprocessor"と"URL"と"HTML"の部分だけに一致させて <br>や<a>などタグで囲まれた部分に含まれるアルファベットや記号には一致しないようにしたいのです。 いろいろ試してみましたが、どうにもうまくいきません。 どなたかお助けください＞＜
現在クーポンサイトを作っております。 ショップとクーポンを一覧表示しているのですが、利用者がショップのロゴをクリックした際に 同じページ内（ショップとクーポン一覧の下あたり）にリンク先のショップが表示されるようにしたいのです。もちろん表示内でナビゲーションも可能。要は、クリックでリンク先ページを新規タブで開くのではなく、同じページ内でリンクページを表示するということです。これを、どのようにPHPでコードを書けばよいのかわかりません。 わかる方、ぜひお助けください。 よろしくお願いいたします。
MySQLで、照合順序がutf8_general_ciの"db"というデータベースに "hiragana"というテーブルを作っています。 （MySQLバージョン：5.5.27、 PHP拡張機能 MySQLi） 追加できたりするのですが、日本語が文字化けしたり、コードが古いなどで　うまくいきません。 レコードを追加するコードのサンプルを教えていただけませんでしょうか？ 使っている関数が古い書籍のサンプルのため 「この拡張モジュールは PHP 5.5.0 で非推奨になりました。将来のバージョンで削除される予定です。」 という関数ばかりで手詰まりな状態です。 //------　入力するデータ　 ------ $hiragana['a'] = 'あいうえお'; $hiragana['k'] = 'かきくけこ'; $hiragana['s'] = 'さしすせそ'; $hiragana['t'] = 'たちつてと'; $hiragana['n'] = 'なにぬねの'; //------　DBの情報　 ------ $server = "localhost"; $dbname = "db"; $user = "root"; $password = "************"; //------　INSERT INTO　 ------ $sql = "INSERT INTO hiragana( a, k, s, t, n ) VALUES( '".$hiragana['a']."', '".$hiragana['k']."', '".$hiragana['s']."', '".$hiragana['t']."', '".$hiragana['n']."');";
MySQLにPHPでデータを入力しています。 utf8でデータを送信しています。 どうも　MySQLの設定がうまくできてないようです。 どこを　どうやって変えたらよいのでしょうか？ mysql> show variables like 'char%'; +----------------------+-----------------------+ |　Variable_name　　　　　　　　|　Value　　　　　　　　　　　　　| +----------------------+-----------------------+ |　character_set_client　　　　|　cp932　　　　　　　　　　　　　| |　character_set_connection　 |　cp932　　　　　　　　　　　　　| |　character_set_database　　　|　latin1　　　　　　　　　　　　　| |　character_set_filesystem　　|　binary　　　　　　　　　　　　　| |　character_set_results　　|　cp932　　　　　　　　　　　　　| |　character_set_server　　　|　latin1　　　　　　　　　　　　　| |　character_set_system　　　|　utf8　　　　　　　　　　　　　　| |　character_sets_dir　　　　　|　C:\xampp\mysql\share\charsets\　| +----------------------+-----------------------+
mysqlに登録されたデータを添字配列で受け取り、配列の中のデータを区切り文字で分割して 新たな配列を作りたいのですが、どのようにすれば良いでしょうか？ テーブル名：tableA ｜s_date｜staff_id｜　　　cell01　　｜cell02｜～｜ 　 cell200　　　｜ ├──-┼───-┼──────┼──-┼─┼───────┤ ｜08-04｜　 002　｜10:35,会議室,1｜　-　　｜～｜19:40,フロアB,3 ｜ ├──-┼───-┼──────┼──-┼─┼───────┤ テーブル名：tableB ｜staff_num｜staff_name｜　所属 ｜ ├────┼────-┼───┤ ｜　　002　　｜　A山A男　｜A支店 ｜ ├────┼────-┼───┤ $sql = "SELECT * FROM tableA JOIN tableB ON tableA.staff_id = tableB.staff_num WHERE s_date = '$today' "; $rst = mysql_query($sql , $con); if($rst){ while($col = mysql_fetch_row($rst)){ cell01～cell200の結果を順番に出力したいので$col[15]と、添え字で取り出せる様にmysql_fetch_rowにしました。 for ($i = 2, $max = count($col); $i< $max - 3; $i++){ echo'<dd>'.$col[$i].'</dd>'."\n"; このままだと出力結果は下記になりますが <dd>10:35,会議室,1</dd> $col[$i]の中身をカンマで分割して利用したいと思っています。 $col[0][time]　→　10：30　　　$col[200][time]　→　19：40 $col[0][place] →　会議室　　　$col[200][place] →　フロアB $col[0][flag]　→　1　　　　 　$col[200][flag]　→　3 echo'<dd class="style'.$col[$i][flag].'">場所：'.$col[$i][time].'開始時間：'.$col[$i][time].'</dd>'."\n"; この様な感じで出力されるのが理想です。 <dd class="style1">場所：会議室 開始時間：10:35</dd> 違う書き方でも結果が同じであれば、それでも構いません。 少しでもアドバイスをいただければ助かります。よろしくお願い致します。
おはようござます。 Win VISTAです。 Apache（Ver ２．４．４）の設定をしています。（XAMPP 1.8.3） いろいろと参考書を見ながら、意味もわからずhttpdファイル（C:\xampp\apache\conf\httpd）のセキュリティの設定変更をしていますが、 「Access forbidden!　要求されたディレクトリへのアクセス権限がありません。 インデックスドキュメントが存在しないか、 ディレクトリの読み込みが許可されていません。 サーバーの障害と思われる場合は、ウェブ管理者までご連絡ください。」 というエラーが出て困っています。 セキュリティの設定の変更までは、正常にインストールされているとの確認画面が出ていましたので、この変更のミスが原因としか考えられません。 何とど宜しくお願いします。 ============================================================= httpdファイル（C:\xampp\apache\conf\httpd）の内容（変更後です） ＜変更前の内容はバックアップをとっていませんのでわかりません・・・・＞ <Directory /> AllowOverride none Require all denied </Directory> DocumentRoot "C:/xampp/htdocs" <Directory "C:/xampp/htdocs"> ・ ・ ・ # Order allow,deny # Allow from all Order deny,allow Deny from All Allow from localhost 127.0.0.1 # AllowOverride All ・ ・ # Require all granted </Directory> ・ ・ ・ <Directory "C:/xampp/cgi-bin"> AllowOverride None Options None # Order allow,deny # Allow from all Order deny,allow Deny from All Allow from localhost 127.0.0.1 # Require all granted </Directory> ============================================================= （C:\xampp\apache\conf\extra\httpd-xampp）＜このファイルは全く書き換えていません。＞ <Directory "C:/xampp/php"> AllowOverride None Options None Require all denied <Files "php-cgi.exe"> Require all granted </Files> </Directory> ・ ・ ・ <Directory "C:/xampp/cgi-bin"> <FilesMatch "\.php$"> SetHandler cgi-script </FilesMatch> <FilesMatch "\.phps$"> SetHandler None </FilesMatch> </Directory> <Directory "C:/xampp/htdocs/xampp"> <IfModule php5_module> <Files "status.php"> php_admin_flag safe_mode off </Files> </IfModule> AllowOverride AuthConfig </Directory> </Directory> Alias /licenses "C:/xampp/licenses/" <Directory "C:/xampp/licenses"> Options +Indexes <IfModule autoindex_color_module> ・ ・ </IfModule> Require all granted </Directory> =============================================================
PHPのグローバル空間において useキーワードを用いた際のインポートについて質問です。 ---------------------------------------------------------------------------------------------------------- sample.php <?php //グローバル空間 namespace{ use SAMPLE;//はインポートできない。 use ¥SAMPLEはインポートできる。 print "名前空間のインポート"; print PHP_EOL; $hoge = new SAMPLE\TestClass(); } //任意の名前空間 namespace SAMPLE{ class TestClass{ public function __construct (){ print __NAMESPACE__; } } } ---------------------------------------------------------------------------------------------------------- とあった場合、グローバル空間内でuseキーワードを用いる場合 use ¥SAMPLE; だとインポートができて use SAMPLE: だとインポートできない理由（というか仕様）が理解できません。 具体的には PHP Warning: The use statement with non-compound name 'SAMPLE' has no effect in という警告がでます。 上記の例の場合たとえ use ¥SAMPLEでインポートしても 実際にクラスを使用する場合は new SAMPLE¥TestClass(); と修飾名でコールしなければならないので コードを書く労力としてはあまり意味がないのですが。。。。。 どなたか グローバル空間内で上記の様に use ¥SAMPLEだとインポートできるのに use SAMPLEだとインポートできない理由（仕様）、このように理解すればよいという理由を ご教授ください。よろしくお願いします。
掲示板を作ってみたいです。 とりあえず仕事に使うわけでもないし、あくまで趣味の範囲なので覚えやすいと言われるＰＨＰを勉強してみようと思いました。 昔から掲示板作りにはＣＧＩというものが必要というイメージがあり、ＣＧＩを勉強できる本を探したところ、Ｐｅｒｌとセットのタイトルを持つ本ばかりで「ＣＧＩ／ＰＨＰ入門」みたいなのはありませんでした。 もしかしてＰｅｒｌで掲示板を作るにはＣＧＩが必要と言うだけで、ＰＨＰなら単独で掲示板が作れるのでＣＧＩは必要ないということなんでしょうか？
phpで変数に格納されたデータの最初の2行分の文字列だけを取り出す方法を教えてください。 例）複数行のデータ（\n区切り） aaaa bbbb cccc dddd 上記のデータが変数$valueに格納されています。 $valueに格納されたaaaa～bbbbまでを取得するにはどうしたらいいのでしょうか？
オブジェクト指向で 下記のコードでレコード数を取得したいのですが、どうすればいいでしょうか？ PHPのバージョンを上げて見たところ、 mysql○○と言う書き方から、 mysqli○○と言う書き方が推奨されたのを知り、 コードを書き直しています。 ネットで調べてみても分かりませんでしたので今回質問します。 $mysqli = new mysqli("localhost", "000", "000", "000"); $mysqli->set_charset('utf8'); if ($result = $mysqli->query("SELECT count(*) as max FROM like '%%'")) { }
TCPDFの多言語の出力につてご質問です。 フォームのテキストエリアの内容をPDFとして出力したいのですが、テキストエリアに日本語、英語、タイ語、ベトナム語が入る想定です。 下記は試したソース・結果になります。どのようにすれば良いのか解らずこまっております。 解る方いましたらご回答お願い致します。 ■ソース１ $pdf->SetFont('ipag'); $pdf->MultiCell(100,100,'テストTestทดสอบkiểm tra',0,'L',0,1,0,0,false,0,true,false,false); ■結果１ テストTest◩◩◩◩ki◩mtra ■ソース２ $pdf->SetFont('dejavusans'); $pdf->MultiCell(100,100,'テストTestทดสอบkiểm tra',0,'L',0,1,0,0,false,0,true,false,false); ■結果２ ◩◩◩Test◩◩◩◩kiểm tra ■ソース３ $pdf->SetFont('thsarabun'); $pdf->MultiCell(100,100,'テストTestทดสอบkiểm tra',0,'L',0,1,0,0,false,0,true,false,false); ■結果３ ◩◩◩Testทดสอบkiểmtra
ＰＨＰで書いた独自のブログサイトをやっています。 １ページ表示するのにincludeするファイルが数十にもなることがあり、 いちいちファイルを読み込むのは処理が重い気がしています。 ２回目以降は、メモリ上にファイルをキャッシュし、そこから使用するような仕組みは何かありますでしょうか？ お願いします。
ｐｈｐ ＣＳＶファイル出力後その結果をブラウザに返す処理について 先ほど質問しどう頑張ってもエラーがでてしまい自分の力ではもう無理だと思い再度質問させていただきました。アンケートフォーム→回答ボタンを押すとCSVファイル変換後（ここまではできてます）その後ＣＳＶファイルの内容をブラウザに返したいのですがうまくいきません。どなたかたすけてほしいです。良い回答が得られないようならば諦めることにいたします。批判、中傷のコメントは受け付けません。 <HTML> <HEAD> <TITLE>テキスト送信のテスト></TITLE> </HEAD> <FORM name="toi_5.html"method="post" action="toi51.php"> <Div Align="center">名前:<BR> <INPUT type="text"name="onamae"> <BR> 性別:<BR> <INPUT type="radio"name="gender" value="男">男<BR> <INPUT type="radio"name="gender" value="女">女<BR> <BR> <SELECT name="syokugyou"> <OPTION value""selectd>職業をえらんでください</OPTION> <OPTION value"学生">学生</OPTION> <OPTION value"会社員">会社員</OPTION> <OPTION value"公務員">公務員</OPTION> <OPTION value"自営業">自営業</OPTION> <OPTION value"その他">その他</OPTION> </SELECT><BR> <p></p> 満足度を答えてください:<BR> <INPUT type="checkbox" name="hobby[]" value="満足"> 満足<BR> <INPUT type="checkbox" name="hobby[]" value="やや満足"> やや満足<BR> <INPUT type="checkbox" name="hobby[]" value="普通"> 普通<BR> <INPUT type="checkbox" name="hobby[]" value="やや不満"> やや不満<BR> <INPUT type="checkbox" name="hobby[]" value="不満"> 不満<BR> <BR> <INPUT type="submit" value="回答"> </div> </FORM> </BOBY> </HTML> <?php if(isset($_post["gender"])&&($_post["gender"]=="男"|| $_POST["gender"]=="女")){ print"性別:<BR>"; print $_POST["gender"]; }else{ print"性別を選んでください。<br>"; } ?> ?> <p> <?php if($_post["syokugyou"]<>""){ print"職業:<br>"; print$_post["syokugyou"]; }else{ print"職業をえらんでください<br>"; } ?> <p> <br>満足度 <?php if(isset($_post["hobby"])){ $hobby=implode($_post["hobby"]); print $hobby; }else{ } ?> <?php // 保存 $fileName = "log.csv"; header('Content-Disposition: attachment; filename=' . $fileName); ?> </div> </body> </html>
mixiなどで、最終ログイン日時が大まかに表示されますよね？（三日以上前・五分内など） あの機能はログアウトした状態からログインした時だけでなく 普通にmixiにアクセスした時にも更新されるようです。 …と、いうことは、アクセス毎に会員情報のDBなどのデータをいちいち書き換えているのでしょうか？ 回答よろしくお願いします。
PHP/MySQLについての質問です。 当方PHP/MySQLについては初心者で、現在参考書を見ながらWebアプリケーションを作成しています。 いくらやっても成功しない例があるので、どこが間違っているのか、 なぜ成功しないのかご教示願いたいです。 エラー名：SQL実行エラー 要因：不明。SQL文を変えたりしたところ成功したこともあるので（elect id,name,age from input_table 等）SQL文に間違いがあるのか？ -------------------input.html------------------------ <!DOCTYPE html> <html> <head> <meta charset="utf-8"> </head> <body> <form action="input.php" method="post"> 名前：<input type="text" name="nm"> 年齢：<input type="text" name="age"> <input type="submit" name="exec" value="登録"> </form> </body> </html> -----------------------input.php---------------------------- <!DOCTYPE html> <html> <head> <meta charset="utf-8"> </head> <body> <?php //DB接続 if(!$con=mysql_connect("localhost","root","********")){ //passwardは正確 echo"接続エラー"; exit; } //DB選択 if(!mysql_select_db("input",$con)){ echo"DB選択エラー"; exit; } $sql = "insert into input_table(name,age) values('$nm',$age)"; if(!$res=mysql_query($sql)){ echo"SQL実行エラー"; //ここでこのエラーが表示されてしまう exit; } echo "登録完了"; mysql_close($con); ?> </body> </html> --------------------database----------------------- create table input_table( id int not null auto_increment, name varchar(20) not null, age int not null, primary key(id) )
JavaScriptのjQueryで実現していた機能なのですが、 あるタグ内の最後に、記述を追加するのを 今度はPHPで実現したいと考えています そのような関数があれば教えていただけないでしょうか？ 以下、補足です JavaScriptでの実現方法の説明ページ http://www.re-creators.jp/blog/2008/12/09_167.html JavaScriptで実現した際の記述結果 [JavaScriptでの記述] $('#test').append('<p>一行追加します。</p>').scrollTop(99999); [HTMLでの記述] <div id="test"><p>既存の一行です</p></div>
$moji="あいうえ215おかき15"; ↓ $moji="あいうえ215おかき"; のように変更したいのですがわかりません。 $moji=mb_ereg_replace('[^0-9a-zA-Z_]', '', $moji); すると真ん中の数字も消えるので駄目！ rtrimは特定の末尾文字だけですし正規表現できない。 宜しくお願い致します。
混乱してしまっています。初心者です。 前回もPHPでの上書き方法をご教授いただいたのにごめんなさい。 PHPを使って、RSSを更新していくフォームを作成しております。 「入力した内容をPOSTでうけとって、xmlファイルにｗで書き込む」 としましたら、最新の項目はでますが、履歴がきえます。もちろんです。 RSSでタグを書いていくとき更新情報は<item></item>にはいりますが、 その上にも下にもスクリプトがありますよね。<item></item>だけかきこんでいくというというのは どういった命令をしていけばいいのですか？ お昼からずっと考えて、かなりまいっています。 お答えくださる方々にはとるにたらないような初歩的は質問かと存じますが、どうかご教授ください。 よろしくお願いします。 ↓「きえるRSSのなりそこない」 <!doctype html> <html> <head> <meta charset="jis" > <title>RSS登録</title> <body> <?php $title=$_POST["title"]; $text=$_POST["text"]; $url=$_POST["url"]; $rss=' <?xml version="1.0"?> <rss version="2.0"> <channel> <title>●●●</title> <link>●●.com</link> <description>最新の●●です</description> <lastBuildDate>Tue, 30 Jul 2013 22:32:44+0900</lastBuildDate> <item><title>'.$title.'</title><link>'.$url.'</link><description>'.$text.'</description></item> </channel> </rss> '; $f=fopen("rss.xml","w"); fputs($f,$rss); fclose($f); ?> </body> </html>
サイトのページに[http://hogehoge.com/db_search/?page=○○○]というリンクを貼ってます。 リンク先には$_GET['page']という関数を使って○○○という部分を取り出し、 その語句を元にデータベースから検索を行なってデータ引き出して表示しています。 この○○○という部分が半角数字以外で始まるものであれば理想通り機能するのですが、 半角数字でから始まる語句のみ[http://hogehoge.com/db_search/○○○]というページに飛ばされてしまい上手く機能しません。 さらに、この時例えば[123acb]で無くてはならないものが[123]と数字以降のものが省略されて[http://hogehoge.com/db_search/123]となってしまいます。 日本語や英字、記号、全角数字で始まる語句では機能するのに、半角数字から始まる語句だけ機能しないのでさっぱり原因がわからず困っています。 何か原因につながるようなものが分かる方がいましたら教えていただけないでしょうか？
ｈｔｍｌフォームから回答　phpで処理計算しlog.csvに保存、log.csvファイルを読みだしその結果をブラウザに表示するスクリプトを書いておりますが、log.csvファイルを読みだして結果を表示の部分が調べてもできなくて困っております。どなたか知恵を貸してほしいです。批判や中傷などは書かないでください。 <HTML> <HEAD> <TITLE>テキスト送信のテスト></TITLE> </HEAD> <FORM name="toi_5.html"method="post" action="toi5.php"> <Div Align="center">名前:<BR> <INPUT type="text"name="onamae"> <BR> 性別:<BR> <INPUT type="radio"name="gender" value="男">男<BR> <INPUT type="radio"name="gender" value="女">女<BR> <BR> <SELECT name="syokugyou"> <OPTION value""selectd>職業をえらんでください</OPTION> <OPTION value"学生">学生</OPTION> <OPTION value"会社員">会社員</OPTION> <OPTION value"公務員">公務員</OPTION> <OPTION value"自営業">自営業</OPTION> <OPTION value"その他">その他</OPTION> </SELECT><BR> <p></p> 満足度を答えてください:<BR> <INPUT type="checkbox" name="hobby[]" value="満足"> 満足<BR> <INPUT type="checkbox" name="hobby[]" value="やや満足"> やや満足<BR> <INPUT type="checkbox" name="hobby[]" value="普通"> 普通<BR> <INPUT type="checkbox" name="hobby[]" value="やや不満"> やや不満<BR> <INPUT type="checkbox" name="hobby[]" value="不満"> 不満<BR> <BR> <INPUT type="submit" value="回答"> </div> </FORM> </BOBY> </HTML> <HTML> <HEAD> <TITLE>PHPのテスト</TITLE> </HEAD> <BOBY> <p> <Div Align="center">名前</p> <?php print $_POST["onamae"]; ?> <p> <?php if(isset($_POST["gender"])&&($_POST["gender"]=="男"|| $_POST["gender"]=="女")){ print"性別:<BR>"; print $_POST["gender"]; }else{ print"性別を選んでください。<BR>"; } ?> <?php session_start(); if (isset($_SESSION["gender"])) { $_SESSION["gender"]++; print($_SESSION["gender"]."回目"); } else { $_SESSION["gender"] = 0; } ?> <p> </p> <?php if($_POST["syokugyou"]<>""){ print"職業:<BR>"; print$_POST["syokugyou"]; }else{ print"職業をえらんでください<BR>"; } ?> <?php if (isset($_SESSION["syokugyou"])) { $_SESSION["syokugyou"]++; print($_SESSION["syokugyou"]."回目"); } else { $_SESSION["syokugyou"] = 0; } ?> <p> </p> 満足度を答えてください<BR> <?php if(isset($_POST["hobby"])){ $hobby=implode($_POST["hobby"]); print $hobby; }else{ } ?> <?php if (isset($_SESSION["hobby"])) { $_SESSION["hobby"]++; print($_SESSION["hobby"]."回目"); } else { $_SESSION["hobby"] = 0; } ?> <?php // 出力 $fileName = "log.csv"; header('Content-Disposition: attachment; filename=' . $fileName); ?> </div> </body> </html> </BOBY> </HTML>
こんな感じになってしまいます。 解決策をご教示ください。 C:\xampp\php>pecl install gnupg downloading gnupg-1.3.3.tgz ... Starting to download gnupg-1.3.3.tgz (19,141 bytes) ......done: 19,141 bytes 5 source files, building ERROR: The DSP gnupg.dsp does not exist.
phpで301リダイレクトをやりたいのですが、使用しているサイトの保存形式が全て .htmlです。 phpを使用する際は.phpにしなければいけないのでしょうか。 ※理由 設定をしたのですが、更新してもurlが切り替わらなかったため。 リダイレクトを確認してくれるサイトではOKと表示されていました。 よろしくお願いします。
ソートの関数ってものを一回作ってみようかと思って 単純に考えて思いついたのがコレなんですが このやり方ってなんか名前があるんでしょうか？ コレって速度的にはどんなもんなんでしょうか？ function sepSort(&$arr){ $lower=array(); $upper=array(array_pop($arr)); foreach($arr as $n){ if($n<$upper[0]){ $lower[]=$n; }else{ $upper[]=$n; } } if(isset($lower[1]))sepSort($lower); if(isset($upper[1]))sepSort($upper); $arr=array_merge($lower,$upper); } メモリはジャブジャブ使いますが バブルソートよりははやいみたいです
もろもろ初心者です。 ＰＨＰを使ってセキュアなメールを送りたくて、openssl_pkcs7_encryptが使えるかなと思ってやってみたのですが、やり方がよく分かりません。 とりあえず、以下のように書いてみたら、失敗しました。 $key = file_get_contents("hoge.cer"); if(openssl_pkcs7_encrypt("hogehoge",realpath("enc.txt"),$key,array("To"=>"mailaddress","From"=>"HQ","Subject"=>"Eyes only"))){ echo"成功"; }else{ echo"失敗"; } hoge.cerは、Comodo FREE Personal Secure Email CertificateのやつをBase 64 encoded X.509でエクスポートしたものです。 mailaddressの部分は実際はComodoで登録したメールアドレスと記述していますが、教えてgooではメールアドレスを記述すると質問が中々反映されないので、便宜上mailaddressとしました。 何がダメか原因を教えてください！
php初心者です php ver 5.2.5 簡単な掲示板を作りたいと思っています しかし、引用の置換えがわかりませんでした やりたいことは>>の記号のあとに番号を入れるとそのログへのリンクを表示されるようにしたいです 下記の場合は >>7 こんな感じに置換えたいです <a href="bbs.php">&gt;&gt;7</a> 実際のコメントを表示するところは下記のようになっています <?php print(nl2br(htmlspecialchars($table['mes'], ENT_QUOTES))); ?> よろしくおねがいします
お世話になります、ＰＨＰ初心者です。 連想配列から「0(ゼロ)」やＮＵＬＬ以外の数値を受け取りたいのですがどのように記述するのか分かりません。経験豊富な諸先輩方には低レベルで失礼かと思いましたがお知恵をお借りしたく、質問させて頂きます。 ＰＨＰ+Mysqlにて子ども服の料金の最安値と最高値を表示させようとしています。 子供服はサイズによって価格がちがい、サイズは60cmから10cmきざみで～130cmまであります。 服によって80～120cmまでのように全サイズ無い物がほとんどです。 そこで、最大値はmax関数で出るのですが、最小値がmin関数で求めた時、当然ですが「0」が表示されます。 この「0」の表示を何とか「1」以上の数値に限定して表示させることはできないでしょうか。 サイズ・60・70・80・90・100・110・120・130 　　　　　× × × ○　　○　○　　○　× $price = array(0,0,0,2000,2000,2500,3000,0,); 分かりずらい説明で本当に申し訳ございませんが宜しくお願いします。 環境 Apache/2.4.3 (Win32) OpenSSL/1.0.1c PHP/5.4.7 phpMyAdmin バージョン情報: 3.5.2.2, 最終安定バージョン: 4.0.4.1
アンケートフォームを作成しました。回答ボタンを押すとｃｓｖファイルにアンケート結果の内容を保存できるように造りたいのですが参考になるようなものがなくて困っています。どなたか参考になるようなソースなどをお教えくださると助かります。 <HTML> <HEAD> <TITLE>テキスト送信のテスト></TITLE> </HEAD> <FORM name="form1"method="post" action="view.php"> <Div Align="center">名前:<BR> <INPUT type="text"name="onamae"> <BR> 性別:<BR> <INPUT type="radio"name="gender" value="男">男<BR> <INPUT type="radio"name="gender" value="女">女<BR> <BR> <SELECT name="syokugyou"> <OPTION value""selectd>職業をえらんでください</OPTION> <OPTION value"学生">学生</OPTION> <OPTION value"会社員">会社員</OPTION> <OPTION value"公務員">公務員</OPTION> <OPTION value"自営業">自営業</OPTION> <OPTION value"その他">その他</OPTION> </SELECT><BR> <p></p> 満足度を答えてください:<BR> <INPUT type="checkbox" name="hobby[]" value="満足"> 満足<BR> <INPUT type="checkbox" name="hobby[]" value="やや満足"> やや満足<BR> <INPUT type="checkbox" name="hobby[]" value="普通"> 普通<BR> <INPUT type="checkbox" name="hobby[]" value="やや不満"> やや不満<BR> <INPUT type="checkbox" name="hobby[]" value="不満"> 不満<BR> <BR> <INPUT type="submit" value="回答"> </div> </FORM> </BOBY> </HTML> <HTML> <HEAD> <TITLE>PHPのテスト</TITLE> </HEAD> <BOBY> <p> <Div Align="center">名前</p> <?php print $_POST["onamae"]; ?> <p> <?php if(isset($_POST["gender"])&&($_POST["gender"]=="男"|| $_POST["gender"]=="女")){ print"性別:<BR>"; print $_POST["gender"]; }else{ print"性別を選んでください。<BR>"; } ?> <p> </p> <?php if($_POST["syokugyou"]<>""){ print"職業:<BR>"; print$_POST["syokugyou"]; }else{ print"職業をえらんでください<BR>"; } ?> <p>
【予約語から最長のしりとりを作ろう！】 https://codeiq.jp/ace/stakemura/q408 この問題やってるんですが 処理がtimeoutしちゃいます 最長の結果が１０個程度の時は期待通りに動作します 期待される結果が２０程度になると(?)timeoutします 単にウチのマシンじゃムリなのか、工夫が足りないのか 無限ループを起こしてるのか、重いだけなのか判断つきません よろしくお願いします （cpp11_keywords.csvはC++の予約語84個のcsvです） <?php $data=explode(chr(10),file_get_contents('cpp11_keywords.csv')); foreach($data as $i=>$cpp){$data[$i]=trim($data[$i]);} echo(implode('<br/>',createSiritori($data))); function createSiritori($words){ $rtn=array(); $data=array(); for($i=0,$len=count($words);$i<$len;$i++){ $data[$i]=array(); for($j=0;$j<$len;$j++){ if($i==$j)continue; if(is_connectable($words[$i],$words[$j]))$data[$i][]=$j; } } $rcd=0; for($i=0;$i<$len;$i++){ $crr=array($i); for($j_arr=array(0),$j_ind=0,$len_arr=array(count($data[$i]));$j_arr[0]<$len_arr[0];$j_arr[$j_ind]++){ if($j_arr[$j_ind]>=$len_arr[$j_ind]){ array_pop($crr); array_pop($j_arr); array_pop($len_arr); $j_ind--; }else if(!in_array($data[end($crr)][$j_arr[$j_ind]],$crr)){ $crr[]=$data[end($crr)][$j_arr[$j_ind]]; $j_ind++; $j_arr[$j_ind]=0; $len_arr[$j_ind]=count($data[end($crr)]); if($j_ind>$rcd){$rcd=$j_ind;$rtn=$crr;} } } } for($i=0,$len=count($rtn);$i<$len;$i++){ $rtn[$i]=$words[$rtn[$i]]; } return $rtn; } function is_connectable($a,$b){ return (substr($a,-1)==substr($b,0,1)); }
次の関数はflickr.interesting.getListでflickrから人気の高い画像を取得する関数ですが、パラメータのdateを指定すると Warning: Invalid argument supplied for foreach() in C:\xampp\htdocs\flickr-interesting.php on line 34 と表示されます。 date => 2013-07-24,の行を消すと画像が正常に表示されます。 dateを指定するにはどうすればいいでしょうか？ function search_photos($per_page, $page) { $proxy = array( "http" => array( "proxy" => "tcp://大学のIPアドレス", 'request_fulluri' => true, ), ); $proxy_context = stream_context_create($proxy); $params = array( 'method' => 'flickr.interestingness.getList', 'api_key' => API_KEY, 'date' => 2013-07-24, 'per_page' => $per_page, 'page' => $page ); $pictureSize = "b"; $query = http_build_query($params, '', '&'); $url = 'http://www.flickr.com/services/rest/?' . $query; //$data = @simplexml_load_string(@file_get_contents($url)); $data = @simplexml_load_string(@file_get_contents($url, false, $proxy_context)); if ($data === false) { return 'エラー' . PHP_EOL; } $ret = ''; $format = '<a href="http://www.flickr.com/photos/%s/%s/"><img src="http://farm%s.static.flickr.com/%s/%s_%s_m.jpg" alt="%s"></a>' . PHP_EOL; foreach ($data->photos->photo as $p) { $ret .= sprintf($format, $p['owner'], $p['id'], $p['farm'], $p['server'], $p['id'], $p['secret'], $p['title'], $pictureSize); } return $ret; }
あるクラスで数学，英語，国語の試験を行ったところ，表1 の結果を得た．ブラウザ上で数 学，英語，国語の点数を入力し，「成績」ボタンをクリックすると，各教科および３教科の 総合得点における順位を表示するスクリプトを書け。 という課題がでましたが参考になるようなソースもなく困っております。どなたかソースなどご教授くださるとたすかります。
<html> <p>　</p> <Div Align="center"> <h3>アンケート</h3> <form name="form" action="log.csv" method="GET"> <div> <p> お名前を入力して下さい：<br> <input type="text" name="simei"> </p> <p> 性別を選んで下さい。<br> <input type="radio" name="gender" value="男性">男性です<br> <input type="radio" name="gender" value="女性">女性です<br> </p> <p> 好きなスポーツ： <select name="favorite_sports"> <option value="バスケットボール">バスケットボール</option><br> <option value="野球">野球</option><br> <option value="サッカー">サッカー</option><br> <option value="テニス">テニス</option><br> </select><br> <br> <p> 満足度をこたえてください<br> <input type="checkbox" name="check1" value="満足"/> 満足<br> <input type="checkbox" name="check2" value="やや満足"/>やや満足 <br> <input type="checkbox" name="check3" value="ふつう"/> 普通<br> <input type="checkbox" name="check3" value="やや不満"/> やや不満<br> <input type="checkbox" name="check3" value="不満"/> 不満<br> </p> <p> <p> <input type="submit" name="submit" value="回答"> </p> <?php if( isset( $_POST[ 'log.csv' ] ) ){ //テキストボックス「log.csv」に入力された内容を表示 print "送信された内容は{$_POST['log.csv']}です。\n"; } ?> </div> </body> </html> 回答ボタンを押すと内容をｃｓｖに保存するアンケートを作りたいのですがcsvに全く反映されて内容で困っております。どなたか助けてほしいです
PHPでファイルのダウンロードすると開けません。 文書を整理するために、アップロードして、必要に応じてダウンロードする仕組みを作っています。 PDFや画像のファイルは問題ないのですが、、 word文書（エクセルもダメでした）を、以下のファイルを作って、ダウンロードし開こうとすると 「ファイル******.docxは無いように問題があるため、開けませんでした。」となります。 ※エクセルでは、「Exelで****.xlsxを開くことが出来ません。ファイル形式またはファイルか拡張子が正しくありません。ファイル拡張子とファイル形式が一致していることを確認してください」 　とダイアログが出てきます。 $file="アップロードしてある実ファイル名"; $file_name="ローカルに保存する際のファイル名"; ※ファイル名を変更しなくても同じなので、そこは関係ないと思います。 header("Content-Type: application/octet-stream"); header("Content-Disposition: attachment; filename=$file_name"); header('Content-Length: '.filesize('$file')); readfile($file); リンクを張って開くのには何の問題もありません。 <a href="http://www.******.com/images/$file">$file_name</a> ダウンロードする際に名前を変更したいので、ダウンロード用のファイルを作ってダウンロードさせようとしています。 何か、ダウンロードをする前に処理が必要なのでしょうか？ よろしくご教授お願いいたします。 ※ワード、エクセルは2010を使用しています。
数日前、以下のリンクタグのOKWaveで質問させていただきました。 http://okwave.jp/qa/q8186478.html 　以上の質問の対象ファイルである、php.iniを以下のアドレスから 見ることができます。 http://homepage3.nifty.com/mtaiyo/php.ini 　　GoogleChromで開いて、 　output_bufferingを検索をかけると、 (1)　output_buffering　　　　　　　134行目 (2)　output_buffering = 4096　　　264行目 (3)　output_buffering　　　　　　　287行目 　の、”３件”がヒットしました。 URLからphp.ini開いて、 　全てコピーして、MKEditorにエデタに張り付けて開いて、output_bufferingを検索を かけたら、以上の134行目、264行目、287行目のoutput_bufferingがヒットしました。 　教本には、２７１行目のoutput_bufferingとは説明してあるのですが、残念ながら、 そこのにはありませんでした。 　output_bufferingは教本の271行目に一番近い順からして、264行目の”output_buffering = 4096” のを「output_buffering =On」へ変更しなさい」と思うのですが、定かではございませ！？ 　どなたか、分かられる方、ご教授をよろしくお願いいたします。
PHPを見よう見まねでやっています。超初心者です。 下記のように$iをＧETして（$iはwhileでの行の値です） uploadfileの名前をuploadfile$iとしたいので $i= $_GET['i']; $uploadfile = $_FILES[uploadfile$i][tmp_name]; と書いてみましたが、 書き方が悪いのか上手くいきません。 この他の書き方も見よう見まねで 色々試したのですが、こういう書き方は無いのでしょうか？ これが上手く動作する書き方がありましたら、 ご教授の程よろしくお願い致します。
Pleiades All in One 4.3.0.v20130626 Ultimateを使っているのですが、実行しようとするとObject not found!と出てきます。PHP実行可能ファイルの設定は正しく行われていると思います。 気になっているのが、localhostはApacheではxampp\htdocsですが、eclipseで実行しようとしているプログラムはC:\workspaceにあります。 eclipse側のlocalhostは、どこかで設定する箇所はあるのでしょうか？ デバッグの構成や、そこのPHPサーバのlocal Web Rootあたりをいじったりしましたが、上手く動きません・・・。結構ハマっているので、ご教授頂きたいです。よろしくお願いします。
http://okwave.jp/qa/q8186478.html 　以上のURLの設定の質問の続きです。 　教本には　 default_charset = "UTF-8"　PHPデフォルトの文字コードをUTF-8に指定します。 　default_charsetで検索をかけたら以下のプログラムがヒットしました。 default_charset = "iso-8859-1"を default_charset = "UTF-8"に変更するだけでいいのでしょうか！？ 　 　宜しくお願いします。
php5を使って正規表現を勉強中です。 １度の正規表現で、拡張子を除いた ファイル名だけ抜き出すにはどうしたらよいでしょうか。 例えば、以下のような文字列から、…以降のファイル名を抜き出したいです。 /var/www/html/index.html　　…indexを抜き出したい /var/www/html/login/login.php　…loginを抜き出したい /var/www/html/js/script.js　…scriptを抜き出したい
php文でDBにある全てのデータの一部（指定範囲）をコピーして 別のカラムにペーストしたいです。 テーブルの状態 ID　URL /AAA/CB0199/top/ /AAA/001229/top/ /AAA/001001/top/ 例えば　コピーしたい範囲は　/AAA/コピーしたい範囲/top/　です。 ここをコピーしてIDのカラムにペーストしたいです。 実現結果 テーブルの状態 ID　　　　　　　　　URL CB0199　　　　/AAA/CB0199/top/ 001229　　　　/AAA/001229/top/ 001001　　　　/AAA/001001/top/ 上記のようになるのが希望です。 PHP上での記述方法を教えていただきたくよろしくお願い致します。
htmlのフォームから送信 phpでアンケート結果を受け取る　ようなものを書きましたがphpの受け取る処理でエラーが起きてしまうので@を書いて何とか動くようにしました。@を使わずにエラーを修正したいのですがうまくいきません。どなたか助けてさい <html> <p>　</p> <h3>アンケート</h3> <form name="form" action="upload1.php" method="GET"> <body bgcolor="#f40fff" text="#ffffff"> <p> お名前を入力して下さい：<br> <input type="text" name="simei"> </p> <p> 性別を選んで下さい。<br> <input type="radio" name="gender" value="男性">男性です<br> <input type="radio" name="gender" value="女性">女性です<br> </p> <p> この大学を何で知りましたか？<br> <input type="checkbox" name="check1" value="メディア媒体"/> メディア媒体で<br> <input type="checkbox" name="check2" value="イラスト"/> イラストで<br> <input type="checkbox" name="check3" value="その他"/> その他<br> </p> <p> 最近ハマっていることは？<br> <input type="checkbox" name="check4" value="サークル、部活"/> サークル部活など<br> <input type="checkbox" name="check5" value="得にない"/> 得にない<br> <input type="checkbox" name="check6" value="その他"/> その他<br> </p> <p> 今やりたいことは？<br> <input type="checkbox" name="check7" value="課題"/> 課題など<br> <input type="checkbox" name="check8" value="得にない"/> 得にない<br> <input type="checkbox" name="check9" value="その他"/> その他<br> </p> <p> <input type="submit" name="submit" value="送信"> </p> </body> </html> php <html> <body bgcolor="#f40fff" text="#ffffff"> <p>　</p> <h3>アンケート</h3> <p> <?php print(date('A:g時i分s秒').'<br>'); ?> <b>お名前：</b><br> <?php print( @$_REQUEST["simei"] ); ?> </p> <p> <b>性別：</b><br> <?php print( @$_REQUEST["gender"] ); ?> </p> <p> <b>この大学を何で知りましたか：</b><br> <?php print( @$_REQUEST["check1"] ); ?><br> <?php print( @$_REQUEST["check2"] ); ?><br> <?php print( @$_REQUEST["check3"] ); ?><br> </p> <p> <b>最近ハマっていることは：</b><br> <?php print( @$_REQUEST["check4"] ); ?><br> <?php print( @$_REQUEST["check5"] ); ?><br> <?php print( @$_REQUEST["check6"] ); ?><br> </p> <p> <b>今やりたいことは：</b><br> <?php print( @$_REQUEST["check7"] ); ?><br> <?php print( @$_REQUEST["check8"] ); ?><br> <?php print( @$_REQUEST["check9"] ); ?><br> </p> <p> <?php $life = 60 * 60 * 24 * 30; if(isset($_COOKIE["count"])) { $count = $_COOKIE["count"] + 1; } else { $count = 1; } setcookie("count", $count, time() + $life); ?> <?php echo $count, "回目の訪問です。\n"; ?> </body>
PHPの配列についての質問です。 以下のソースを //　＝＝　ソース　＝＝ function hoge( $foo ) { $arrs['a'] = 'A'. $foo; $arrs['b'] = 'B'. $foo; $arrs['c'] = 'C'. $foo; $arrs['d'] = 'D'. $foo; } hoge( '3' ); hoge( '9' ); //　＝＝　/ソース　＝＝ 実行すると　print_rは //　＝＝　print_r　＝＝ Array ( 　　[a] => A3 　　[b] => B3 　　[c] => C3 　　[d] => D3 ) Array ( 　　[a] => A9 　　[b] => B9 　　[c] => C9 　　[d] => D9 ) //　＝＝　/print_r　＝＝ のようになります。 これを　関数を実行するごとに （0から　IDのような　配列を組むようにする） 以下のようにするには　どのようにすればよいでしょうか？ //　＝＝　print_r　＝＝ Array ( 　　[0] => Array 　　　　( 　　　　　　[a] => A3 　　　　　　[b] => B3 　　　　　　[c] => C3 　　　　　　[d] => D3 　　　　) 　　[1] => Array 　　　　( 　　　　　　[a] => A9 　　　　　　[b] => B9 　　　　　　[c] => C9 　　　　　　[d] => D9 　　　　) ) //　＝＝　/print_r　＝＝ 使用目的は get_contentsしたものを正規表現で取り出し 配列にする処理に使おうと思っています。
はじめまして。 当方、PHPを学習しはじめて1ヶ月の初心者です。 ですので、ご質問させくていただく内容も説明も拙いものかと存じますが、よろしくお願いいたします。 以下のようなページを作成するという問題で、入力保存したデータを修正しテキストに上書きするという操作につまずき途方にくれております。 １．データ入力画面 →a,b,c,d,のテキストボックスに任意に入力 ２．登録画面 →テキストファイルに行単位で"a"モードで保存($data=$a."'".$b.",".$c."'".$d."\n") ３．検索・修正値入力画面 →aの値を検索し、付随するb,c,dをでテキストボックス内に表示。（テキストボックス内は修正可） ４．上書き登録 上記の４の工程をどのようにしていったらいいのでしょうか。 自力でたどり着いたのは・・・ 「３で修正した値を新たな名前（new_aなど）でPOSTでうけとり、$aと$new_aが一緒のとき・・・」 までです。（情けない・・・） 模索中は以下になります if($a==$new_a) {$data=$new_a."'".$new_b."'".$new_c."'".$new_d."\n" } else {$data=$data} その後テキストファイルを"w"モードで開きputs closeでは？と しかし、この方法でいくと修正した箇所a[0]はなおっても、修正しなかったほかの行のデータa[1]やa[2]がきえます。 どのように考え、スクリプトをかいていけばいいのでしょうか？ よろしくお願いもうしあげます。
http://dotinstall.com/lessons/tw_connect_php_v2 上記のサイトを参考にツイッターでログインするサービスを作りたいのですが、 下記のようなエラーがでてしまいます。 Fatal error: Uncaught exception 'Exception' with message 'Error 77 while validating tificate.' in C:\xampp\htdocs\tw\codebird.php:923 Stack trace: #0 C:\xampp\htdocs\tw\codebird.php(294): Codebird\Codebird->_callApi('POST', 'oauth/request_t...', 'oauth/request_t...', Array, false, false) #1 C:\xampp\htdocs\tw\callback.php(15): Codebird\Codebird->__call('oauth_requestTo...', Array) #2 C:\xampp\htdocs\tw\callback.php(15): Codebird\Codebird->oauth_requestToken(Array) #3 {main} thrown in C:\xampp\htdocs\tw\codebird.php on line 923 認証にはcodebird.phpというライブラリを使っています。 https://github.com/mynetx/codebird-php <a href="callback.php">twitterでログイン</a> これをクリックすると、callback.phpに飛び認証が行われるという具合です。 callback.php内ではconfig.phpとcodebird.phpを読み込んでます。 以下callback.phpコード <?php require_once('config.php'); require_once('codebird.php'); session_start(); \Codebird\Codebird::setConsumerKey('CONSUMER_KEY', 'CONSUMER_SECRET'); $cb = \Codebird\Codebird::getInstance(); if (!isset($_SESSION['oauth_token'])) { // get the request token $reply = $cb->oauth_requestToken(array( 'oauth_callback' => 'http://' . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'] )); // store the token $cb->setToken($reply->oauth_token, $reply->oauth_token_secret); $_SESSION['oauth_token'] = $reply->oauth_token; $_SESSION['oauth_token_secret'] = $reply->oauth_token_secret; $_SESSION['oauth_verify'] = true; // redirect to auth website $auth_url = $cb->oauth_authorize(); header('Location: ' . $auth_url); die(); } elseif (isset($_GET['oauth_verifier']) && isset($_SESSION['oauth_verify'])) { // verify the token $cb->setToken($_SESSION['oauth_token'], $_SESSION['oauth_token_secret']); unset($_SESSION['oauth_verify']); // get the access token $reply = $cb->oauth_accessToken(array( 'oauth_verifier' => $_GET['oauth_verifier'] )); // store the token (which is different from the request token!) //$_SESSION['oauth_token'] = $reply->oauth_token; //$_SESSION['oauth_token_secret'] = $reply->oauth_token_secret; $cb->setToken($reply->oauth_token, $reply->oauth_token_secret); $me = $cb->account_verifyCredentials(); var_dump($me); exit; // send to same URL, without oauth GET parameters header('Location: ' . basename(__FILE__)); die(); } // assign access token on each page load $cb->setToken($_SESSION['oauth_token'], $_SESSION['oauth_token_secret']);
phpのvarは5.2.5 ＧＤライブラリを使ってアップしています jpg、gif、pngをアップロードするときに画像の容量を軽くしたいです 画像についているメタ情報を削除する方法はありますか? ImageMagickでは画像のEXIF 情報や余分なコメント領域を削除できますがそれと同じようなことをしたいです よろしくお願いします
問い合わせフォーム内で写真をアップロードし、メールで送信するものを作成したいです。 現在タイに住んでいて、日本の携帯（ガラケー）を持ち合わせていないため、テストができません。 可能かどうかご存知の方がいらっしゃいましたらお教えいただけませんか？ よろしくお願いいたします。
DBにあるテーブルの指定されたカラム全てを文字列に対してPHP上で一括置き換えしたいです。 phpアドミン上でSQL文を使って UPDATE `テーブル名` SET フィールド名A=REPLACE (フィールド名A,"置換前の文字列","置換後の文字列"); で実行したらうまくいくのですが、 これをPHP上で処理したいと考えてます。 require("godb.php");//DBにアクセス $sql ="UPDATE テーブル名 SET フィールド名 = REPLACE(フィールド名,"AAA","BBB")"; mysql_query($sql2); と実行してもうまくいきません。。。 これって、、、一個一個対象カラムをPHP上で取り出してから 処理をかけないといけないのでしょうか。。 アドバイスいただけたら幸いです。 よろしくお願い致します。
下のphpスクリプトでflickrAPIを用いて画像を取得しようとしたらエラーが起こって取得できません。 <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <title>flickr API サンプル</title> </head> <body> <h1>flickr API サンプル</h1> <?php set_time_limit(60); //flickrから写真を検索してimgタグを返す関数 function search_flickr($keyword,$limit){ //取得したAPIキーを設定 $api_key = '（僕のAPIキー）'; //メソッドに写真検索を設定 $method = 'flickr.photos.search'; //検索キーワードをURLエンコードして設定 $text = urlencode($keyword); //人気の高い順に検索 $sort = "interestingness-desc"; //取得件数を設定 $per_page = $limit; //URLを生成 $url = 'http://www.flickr.com/services/rest/?'. 'method='.$method. '&api_key='.$api_key. '&text='.$text. '&sort='.$sort. '&per_page='.$per_page; //取得したXMLファイルをパースし、オブジェクトに代入 $data = simplexml_load_file($url) or die("XMLパースエラー"); //表示写真サイズをmサイズに設定 $size = "_m"; //変数初期化 $ret = ""; //取得できた写真の数だけループ処理 foreach($data->photos as $photos){ foreach($photos->photo as $photo){ $ret .= '<a href="http://www.flickr.com/photos/'.$photo['owner'].'/'.$photo['id'].'/">'; $ret .= '<img src="http://farm'.$photo['farm'].'.static.flickr.com/'.$photo['server'].'/'.$photo['id'].'_'.$photo['secret'].$size.'.jpg" alt="'.$photo['title'].'">'."\n"; $ret .= '</a>'; } } return $ret; } //検索ワード $keyword = "sea"; //取得数 $limit = 10; //写真を検索して表示 echo search_flickr($keyword,$limit); ?> <p>powerd by <a href="http://www.flickr.com/services/api/">Flickr Services</a></p> </body> </html> 表示されたページはこうなりました。 flickr API サンプル Warning: simplexml_load_file(http://www.flickr.com/services/rest/?method=flic …（僕のAPIキー）&text=sea&sort=interestingness-desc&per_page=10): in C:\xampp\htdocs\flickrAPI.php on line 38 Warning: simplexml_load_file(): I/O warning : failed to load external entity "http://www.flickr.com/services/rest/?method=flic …（僕のAPIキー）&text=sea&sort=interestingness-desc&per_page=10" in C:\xampp\htdocs\flickrAPI.php on line 38 XMLパースエラー そこでhttp://www.flickr.com/services/rest/?method=flic …（僕のAPIキー）&text=sea&sort=interestingness-desc&per_page=10にアクセスすると次のようなXMLが表示されました。 <?xml version="1.0" encoding="UTF-8"?> -<rsp stat="ok">-<photos total="9663727" perpage="10" pages="966373" page="1"><photo title="row" isfamily="0" isfriend="0" ispublic="1" farm="1" server="55" secret="86cffac801" owner="89972557@N00" id="148800272"/><photo title="Live" isfamily="0" isfriend="0" ispublic="1" farm="8" server="7381" secret="d5af918c8c" owner="36621592@N06" id="9017742627"/><photo title="In search of the pot of gold at the end of the Rainbow..." isfamily="0" isfriend="0" ispublic="1" farm="4" server="3717" secret="bf47d94889" owner="56936646@N07" id="8851282635"/><photo title="Melting ice 130424 F368" isfamily="0" isfriend="0" ispublic="1" farm="8" server="7404" secret="907a7c260e" owner="44855005@N04" id="8771141696"/><photo title="Coachella Valley" isfamily="0" isfriend="0" ispublic="1" farm="8" server="7310" secret="5d47f6cb45" owner="53760536@N07" id="8729902328"/><photo title="End of a summer day" isfamily="0" isfriend="0" ispublic="1" farm="8" server="7434" secret="46a80bb865" owner="72179079@N00" id="8722395239"/><photo title="angles of sea" isfamily="0" isfriend="0" ispublic="1" farm="9" server="8253" secret="32fc571841" owner="39638504@N07" id="8696358702"/><photo title="Summer sunset ( view larger size: please press "L")" isfamily="0" isfriend="0" ispublic="1" farm="9" server="8261" secret="21c4642b39" owner="72179079@N00" id="8688567245"/><photo title="Smoo Cave II" isfamily="0" isfriend="0" ispublic="1" farm="9" server="8403" secret="b6d637d603" owner="8407953@N03" id="8672345286"/><photo title="In The Middle of Nowhere" isfamily="0" isfriend="0" ispublic="1" farm="9" server="8533" secret="1ba0e8574c" owner="8407953@N03" id="8666924709"/></photos></rsp> どうすればエラーが直るでしょうか？
お世話になります。 この質問はPHPが原因なのか、MySQL側での問題なのか、 又はHTML上での問題なのか全く分からないので、 いつも質問しているPHPカテゴリに投稿することにしました。 データをselectしてブラウザへ反映させると、１つの項目だけ「 - 」ハイフンの表示になります。 コードは、 ※select文の発行を行い echo "<div class=\"recommendItem\"><a href=\"".$body["img_comp"]."\" rel=\"lightbox[plants]\" title=\"".$body["img_body"]."\"><img src=\"".$body["img_comp"]."\" alt=\"".$body["img_body"]."\" /></a>"; echo "<div class=\"detail clearfix\">"; echo "<p class=\"menuName\">".$body["img_body"]."</p>"; echo "<p class=\"price\">".number_format($body["img_title"])."円</p>"; echo "</div>"; echo "</div>"; といった具合に書いています。 問題のハイフンの表示になる項目は、【 number_format($body["img_title"]) 】の箇所で、 後ろに「 円 」が付いていますが、ブラウザで反映させると「 円 」がハイフンに変換されて 表示され、金額$body["img_title"]が表示されません。 しかし、ブラウザからソースを開くと金額も円も表示されています。 このブロックをwhile文で回しているのですが、例えば５つのデータがデータベースに 入っていると、３つ目の$body["img_title"]だけが表示されず、「 円 」がハイフンに変わっています。 実は、PC用サイトとスマホ用ページの２種類作っていて、ユーザエージェントを取得して 該当のページにスマホでアクセスしたら、アクセス先（ディレクトリ名やファイル名）を 振り分けるようにしています。 この現象が発生しているのは、スマホ用のページでPC用のページは正常に表示されます。 select文からデータベース接続に至るまで、PC用、スマホ用、全く同じソースにしています。 スマホでアクセスすると一瞬正常に表示されますが、HTMLを完全に読み込むと 「 円 」がハイフンの表示になります。（金額は表示されません。） PC用ページ、スマホ用ページの両方に全く同じコードを使用しているのに、ページによって 表示される、されない（しかも複数アイテムの内１アイテムの１項目だけが）が発生したのが 今回が初めてで、非常に混乱しております。 何が原因なのか全く原因を掴むことができないので、似たような経験をお持ちで 解決された方がおられましたら、何卒ご教示いただけますでしょうか？ ▼各スペックについて PHP 5.3.3 MySQL 5.0.95 閲覧ブラウザ chrome、IE9 どうぞよろしくお願い申し上げます。
phpMyAdminに - エラー 原文 phpMyAdmin - Error Cannot start session without errors, please check errors given in your PHP and/or webserver log file and configure your PHP installation properly. 以下翻訳分 phpMyAdminに - エラー エラーなしでセッションを開始することはできません、あなたのPHPおよび/またはWebサーバのログファイルに与えられたエラーを確認し、PHPのインストールを適切に設定してください。 　HP検索エンジンで調べまして、数件ためしはしましたが、解決に至っていません。 　 　　ユーザ名　root 　　パスワード：以前のままで、変えた記憶はございません。 　エラーになる前にの作業は、特権辺りのuser1をいじりました。 　　身近な記憶だと、そこをいじってから、ログインできなくなった可能性があります。 　　”どうかにか”ログインできる方法はございませんか！？ 　　 　 もし出来ない場合は　、削除してから再インストールします。 　その他の回避方法がございましたら、ご教授をよろしくお願いします。 　　　
CMSについての質問です。 ローカルでWordPressを使おうと思っていますが　重くていまいち気に入りません。 WordPressほどの機能は必要なく　　コンテントの出力機能として自動的に目次を作ったりできれば十分なのです。 WPみたいでなく　PHP JavaScriptも　自由に書ける　CMSはありませんでしょうか？ いくつか　紹介　お願いいたします。 （回答にはなりませんが　自分で作った方が良いのでしょうか？）
php初心者です 簡単な画像アップロードを付けたいと思っています それでアップだけはなんとかできたのですが、もう少し機能を付けたいです 付けたい機能は 1.拡張子を調べて限定したい。gif、jpg、pngの三つを許可したい 2.画像の横と縦の幅が指定した幅より大きければ、指定した幅まで縦横比維持で縮小　100*100 3.もう一つのディレクトリに、小さいサムネイルを作りたい。大きさは32*32です 4.拡張子はそのままにして画像の名前をリネームしたいです よろしくお願いします（＿　＿ <?php $img_name = $_FILES["upfile"]["name"]; $img_size = $_FILES["upfile"]["size"]; $img_type = $_FILES["upfile"]["type"]; if($_REQUEST["up"] != ""){ if($img_tmp != "" and $img_size <= 50000){ $img_message = "名前は： $img_name <br>サイズは： $img_size <br>MIMEタイプは： $img_type"; if (is_uploaded_file($_FILES["upfile"]["tmp_name"])) { if (move_uploaded_file($_FILES["upfile"]["tmp_name"], "files/" . $_FILES["upfile"]["name"])) { chmod("files/" . $_FILES["upfile"]["name"], 0604); print $_FILES["upfile"]["name"] . "をアップロードしました。"; } else { print "ファイルをアップロードできません。"; } } else { print "ファイルが選択されていません。"; } }else{ $size_error = "サイズが大きすぎます"; } } ?> <html> <head> <title>画像アップロード</title> </head> <body> <form name="form" action="" method="POST" ENCTYPE="MULTIPART/FORM-DATA"> <input name="upfile" type="file" size="40"> <input name="up" type="submit" value="アップロード"><hr> </form> <?php print($size_error); ?><?php print($img_message); ?> </body> </html>
環境、nginx Ver1.52, php Ver5.4.17, OS Windows7、ブラウザ：FireFox nginx の場合、ｐｈｐはFastCGIで動作します。 同じ内容の 1.php 2.php, それぞれ表示します。 ーーー <?php echo date('h:i:s A -> ... -> '); sleep(5); echo date('h:i:s A '); ?> ーーー 1.php 08:12:21 AM -> ... -> 08:12:26 AM 2.php 08:12:26 AM -> ... -> 08:12:31 AM 結果は上記のとおり、必ず１．ｐｈｐが終了してから、２．ｐｈｐが実行されます。 nginx の conf php.ini は doc_root ぐらいしか変えていません。 デフォルトのままです。 lightHttpd +　PHP　（FastCGI）　でも同じ結果です。 lightHttpd +　PHP　（CGI）　だったら、同時に実行できます。 これはWindows版のFastCGIのPHPのバグでしょうか。 それとも、どこかに設定があるのでしょうか。 よろしくお願いします。
$a1="あああ"; $a2="いいい"; ... for( $i=1; $i <= 10; $i++ ) { echo $a1; } の echo $a1;を $a+$iの値で、あああ、いいい、を順に出力したいのですが、 こういう書き方をすればいいですか？ echo $a[$i] みたいな書き方はできませんか？
こんばんわ。今、私はプログラミングの勉強をしています。 いきなりですがそんな私のコーティング時の慣習を聞いてください。 私はいまから書こうとしてるプログラムの内容を 簡単な自然言語的な疑似プログラミング言語で 概要というかしようとしていることを コメントとしてソースコード内に書き記す、ということをやっています たとえば、PHPであれば <?php 　 // commentにpostされた書き込みの内容を代入 　 　 　//接続リソース　＝　user,pass、DBに接続 　 //接続リソース（”SQLクエリー ="SLECT ○○　ここにcommentを挿入　DESC"） 　 　//閉じ処理（接続リソース） 1 　<hmtl> 　　　　//foreachで○○テーブルのcommentを全部出力 　</html> ?> みたいな感じです。 プログラミングを勉強するにつれ、 コーティングする作業は、 現実を抽象化し、記号化し、コードに落としこんで演算していくことだと実感しています。 その抽象化の過程で自然言語での解説を挟むことで目的とする抽象度まで のはしごをかけ、そこに昇りやすくする。そんな感じでやってます。 目標としてる 「どんどん頭にコードが浮かんできて入力する手のほうが追いつかない。」 ....そんな水準にはほど遠い状況ですが、実際にそんなことができる人ばかりではないのでは？とも思ってます。そこでプログラマーの皆さんに質問です。 最終的なソースコードを自分の頭から放り出すまで、 それを確実なものにするために なにか、良き習慣やら方法論などをご存知ないでしょうか？ UMLなどもその一つだと思いますが私はまさにソースコードを書いてる、 エディターを開いてるそのときにできるものを知りたいと思ってます なにか「俺こんな思考プロセスをふんでるよ」っていうノウハウ（やそういう方法論を解いてる書籍）をご存知でしたらぜひ教えてください。 もし、それが門外不出のノウハウでなく、不特定多数に提供できる良き慣習、アイディアであればぜひとも教えていただきたく思います。 私は本気で転職を考え本気でプログラミングの勉強に励んでいます。 どうか、力をかしてください。
http://www.php-labo.net/download/blog/ 「Xserver」を使っているのですがここのフリーソフトを使用したところ500エラーや403エラーになってしまいます。 他の「使えるネット」などのサーバーでは動いてくれたのでパーミッションの違いではないかと思うのですが。 丸一日調べても分かりませんでした。 分かる方・詳しい方がいらっしゃいましたらどうかお力添えお願いします。
phpでトップページログインフォームより会員がログインできる仕組みを作りたいと思っています。 この場合、ログイン認証部分のみSSL通信をおこないたいと考えています。 この場合、 トップページをhttps://toppage.html(sあり)とし、 ログインフォームのaction先を、http://check.php（sなし）のように考えていたのですが、 http://q-shu.net/futsukaichi/ こちらのサイトURLは、トップページがhttpになっており、 会員ログインフォームのaction先がhttps:〇〇〇 となっています。 てっきりログインフォームのあるページURLはhttpsでないと暗号化されないと思っていたのですが、 action先がhttpsになっていれば暗号化されてデータは送られるのでしょうか？ ご回答どうかよろしくお願いいたします。
電話番号の正規表現について質問です。 $value = '000-111-2222'; これだけだと通りますが function tel( $value ) { return !preg_match( '/^\d{2,3}\-\d{3,4}\-\d{4}$/', $value ); } 市外局番がなくても通るようにしたくこのようにしましたがはじかれます^^; function tel( $value ) { return !preg_match( '/^\d{2,3}\-\d{3,4}\-\d{4}$ | ^\d{2,4}\-\d{3,4}$/', $value ); } いずれのケースにも当てはまらないのではじくようにしたいのですが、実現するにはどう書けばいいのでしょうか？
phpのXSS対策について質問があります。 あるphpの参考書に以下のような記述があったのですが、理解できません。↓ ---------------------------------------------------------------------------------- ただし、htmlspecialchars()関数でのエスケープ処理は「&」「<」「>」「"」「'」を文字参照に変換するものなので、これらの文字をまったく使わずにJavaScriptのコードを記載できる場所に変数を表示させるようなHTMLを書いてしまった場合は対策できません。 たとえば、以下のような場所に変数を表示する場合です。このようなコーディングをしてしまった場合は、htmlspecialchars()関数でのエスケープ処理はXSSを防ぐことはできません。このような場所に変数を書かないように注意してください。 <a href="<?php echo $input; ?>"> ---------------------------------------------------------------------------------- この記述を書いてしまうとなぜhtmlspecialchars()関数では防げないのでしょうか？ よろしくお願い致します。
お世話になります。 早速ですがご質問させて頂きます。 対象サイトのhtmlを取得し解析・一部情報を抽出する機能を作っています。 以下の方法で取得を行ったのですが、抽出したい情報が入っていなく（隠蔽されている？？）困っています。 firebugで対象サイトのhtmlを確認すると抽出したい情報はきちんと表示されていますが、 ブラウザでソースを表示すると隠蔽？されています。 ◆表示比較 ・firebug <p class="●●">(抽出したい情報)</p> ・ブラウザでソース表示する <td id="●●">-</td> ▼プログラム $html = file_get_contents ("http://対象サイト"); $domDocument = new DOMDocument (); $domDocument->loadHTML($html); $xmlString = $domDocument->saveXML (); $xmlObject = simplexml_load_string($xmlString); そもそも抽出したい情報の箇所は動的に生成されているものでfile_get～で読みにいっているものは動的に出力される前のものを読み込んでいるのが原因でこのような結果になっているのでしょうか？ 上記の方法以外でもうまいやり方があればぜひご教授頂きたいです！ 宜しくお願い致します！ 環境： MacOSX 10.6.8 PHP 5.1.2 Firebug 1.11.4 Firefox 22.0
PHPの勉強をしています。いくつか本を読んでいますが そのなかでPDOと　PEAR::MDB2という二つのデータベース抽象化レイヤーを使った演習がありますが違いがよくわかりません。（より突っ込んだ言い方をすればこれからの開発ではMDB2モジュールを使う理由がないように思います）この業界でいうところの後発有利の理に従ってデータベースへの接続はPDOで統一しても大丈夫でしょうか？ 技術的な理解として これらのレイヤーを介することで ここのデータベースに依存しないコードの書き方が可能になるのはわかりましたが （私のつかってる教本の質の問題かもしれませんが） なぜ二種類用意されてるのか、なぜMDB2が非推奨でないのか（しばらくはPEARの一部として生き残るということ？）、 その動作の違い、仕様の違いがよくわかりません。 わかるのは全体的にPDOを推されてるということ。 だったらなぜMDB2の説明を含めたのか（私が持ってる5.3に対応した教本の話です） 公式マニュアルを読んでもぐぐってもわからないんです。 というかなにがわからないのかがもうわかりません。 どうか初学者のわたくしめにそれと上にある二つの技術の仕様的な違いを教えてください。 それと最近のPHP開発のデータベース事情も聞かせてもらえるとありがたいです。
サーバーに count.txt というファイルを置いて 下記のようなＰＨＰで更新するものを作りました。 ＜? $fp = @fopen("count.txt","r+") or die("ファイルが開けません");//読み書きモードでオープン flock($fp, LOCK_EX); $count = fgets($fp, 64);//64バイトorEOFまで取得、カウントアップ $count++; rewind($fp);//ポインタを先頭に、ロックして書き込み fputs($fp, $count); fclose($fp);//ファイルを閉じる echo $count;//カウンタ表示 ?＞ しかしながらカウンターは更新されません count.txt、の属性は６６６としてあります。 ＦＴＰを実行して 左右の窓の右側がサーバ側なので その中の、count.txt、を実行すると メモ帳で実行（ダブルクイック）し なかに書かれている数字を（たとえば１００とあったものを１０１と書き換える）変更し 終了すると count.txtは更新されています、保存しますか と聞いてくるので、はい（Yes）で答えて、閉じ また開くと、１００のままなのですが なにが原因か推定できないでしょうか？ そのディレクトリー自体（ublic_htmlですが）の属性も書き込み可としても ダメでした。
すいません、分かる方いましたら宜しくお願いします。 php ver 5.16 Mysql ver 5.0.95 今回Mysql⇒Mysqliに接続方法を変える事になりまして、 今勉強しながら修正しています。 1個問題があり、不明点が御座います。 ファイルをDBに取り込むLOAD DATA LOCAL INFILEコマンドを使用していたのですが、 Mysqliを使用したら下記エラーになり使用できなくなりました。 This command is not supported in the prepared statement protocol yet prepared コマンドが使用できないと見えるのですが、 MysqliはOAD DATA LOCAL INFILEは使用できないものでしょうか？？ プログラムは簡易ですがこんな感じです。 $mysqli = new mysqli($sv, $user, $pass, $dbname); //オートコミットを停止 $mysqli ->autocommit(FALSE); $stmt = $mysqli->prepare("SET NAMES utf8"); $stmt->execute(); $sql="LOAD DATA LOCAL INFILE '"・・・ //ここでエラー if (($stmt = $mysqli->prepare($sql)) === false) { 　　$result = false; die($mysqli->connect_error); $mysqli->close(); } $stmt->execute() or exit("bind errorn"); アドバイス頂けると助かります。 宜しくお願いします。
php初心者です。基本的な構文を勉強し簡単なプログラムをしてみました。自分のHPで使用してみてきちんと意図通り動くようにできたのですが、phpでは、見る人の側のブラウザやサーバー・OSなどの環境によって表示や動作が崩れるという事は起こるのでしょうか？
phpでの簡単なif分を使った関数です。 顧客テーブルにflagを付けて、賞品Aの利用者であるか無いかを判別しています。利用者でない場合$flag=0、利用者の場合$flag=1とします。 function userlist($flag = null){ if($flag != ""){ // リストを取得するSQL文 } } とした場合、引数として$flag=0を渡すと全顧客リストが返されます。 isset,is nullも同じです。 数値での0が渡された場合はif分ではtrueが返されたと思ったのですが.....教えて頂けないでしょうか？
以下環境でCSVファイルの読み込プログラムを作っていますが、上手くいかないケースがあり困っています。 PHP　5.3.3 サーバー　Linux 読み込むCSVの文字コード　ShiftJIS phpの文字コード　UTF-8 当然ですが setlocale(LC_ALL, 'ja_JP.sjis'); の設定はしています。 正常に動くケース ・"(ダブルクォーテーション)で囲んでない場合 ・"（ダブルクォーターション）で囲んであるケースのほとんど 正常に動かないケース ・"（ダブルクォーテーション）で囲んであり最後の文字が「部」の場合（他にも有る可能性がありますが現状発見できているのはこれのみ） $data = getcsv($fileHandler, 0, ','); とした時に 元データが "a","テニス部","12345" の場合 $data[0]→a $data[1]→テニス部",12345" となります。 （何故か12345の頭の"はどこかに行きます。） これが "a","テニス社","12345" の場合は $data[0]→a $data[1]→テニス社 $data[2]→12345 と求めた結果になります。 また、 a,テニス部,12345 とクォーテーション無しの場合は $data[0]→a $data[1]→テニス社 $data[2]→12345 想定通りとなります。 部と"の組み合わせがいけないということはわかりますが何をどうすればいいのか見当がつきません。 Shift-JISの所謂「駄目文字」に部は入っていないですし…。 読み込みCSVは残念ながら、ダブルクォーテーション有りのファイルと無しのファイルが混在しています。（同一ファイル内での混在は無い前提） どのようにすれば部の文字を含んだファイルを正常に読み込めるでしょうか？ よろしくお願いします。
プログラミング初心者です。先日以下の例文を問い合わせさせていただきました。 答えとして$abc[0]　に $def を代入して、$abc[1] に $abcという配列（[0] に $def の内容がある）が代入されると教えていただき、実際確認しました。二次元配列入れ子のようになるのは解ったのですが、 どのような場合に使うのでしょうか？ ホームページなどの画面に表示するのに使ったりするのでしょうか？ それともデータベースからデータを抽出して一時的に、何らかのかたちで格納 したりする場合によく使われるのでしょうか？ この例文だけどこかにあったので、実際どのように使うのかイメージできません。 すみません。教えてください。 <?php $def = 'test'; $abc = array(); $abc[] = $def; $abc[] = $abc; print '<pre>'; print_r($abc); print '</pre>';
現在phpを勉強しております。 PDOオブジェクトを生成し、 prepareメソッドでMySQLで実行するクエリをセットして executeメソッドで実行する。 というのを以下のようにしております $pdo= new PDO($dsn, $user, $password); $query = "SELECT * FROM table_name"; $stmt = $pdo->prepare(); $stmt->execute; で、この場合でも正常に動くのですが MySQL内のテーブルに「?」が含まれる場合だと $query = "SELECT * FROM table_name?test"; $stmt = $pdo->prepare(); $stmt->execute; とすると$queryの「?」をバインド変数とみなしてしまい エラーで「?の数とバインド先の変数の数を合わせろ」と出てしまいます。 ですので、「?」をエスケープしようと思い $query = "SELECT * FROM table_name\?test"; としたのですが、結局エスケープされず 同じエラーが出てしまいました。 エスケープできるならエスケープの方法か ?をバインド変数としてみなさない方法か または他の解決方法かを よろしければご教授願います。
全角半角が混在している文字列の左から3文字を取得したい場合にいい方法はないでしょうか？ mb_substr関数で第3パラメータはバイト数で指定するようです。 関数リファレンスでは「最大文字数」って表現になってます。 http://php.net/manual/ja/function.mb-substr.php 半角なら文字数=バイト数ですが、全角だと指定の半分の文字数になります。 最大だから間違ってはないですが、文字数じゃないよな‥‥っていつも思ってます。 いったん半角→全角にして、6バイト分を切り出すのはできます。 でも、英数字も全角半角混在してるので元の文字列を壊したくないのです。 mb_substrの第3パラメータを6から3まで、mb_strlenが3になるまで回すのもやってみました。 でも、なんかスマートじゃないんですよ‥‥。 なにかこう、スマートないい手はないでしょうか？ よろしくお願いします。
<?=$aaa?> の意味は何ですか？ <?php から始まらなくていいのでしょうか？
PHP、MySQLにて、とあるデータを画面から入力しDBへInsertするようなサイトを構築しています。 正常に動作し、画面で入力した内容が作成したDBにしっかり登録されていることを確認できましたが、DB接続エラーやデータ型の不一致が生じた場合にそのエラーの内容をユーザにエラーメッセージとしてデザインされた画面上に表示させたいと思っています。 ちなみに、データ型の不一致については、不一致が起こらないように入力時（入力内容の確認画面の前）にて文字数、半角英数などのチェックはしてはじいています。 こういった場合はどのように作りこみをしていけば宜しいでしょうか。 何かエラーコードのようなものを受け取ることができれば、それを元にメッセージを用意するだけで実現できそうですが、考え方について教えて頂けますでしょうか。 どこか参考になりそうなサイト等もございましたら教えて頂けますでしょうか。 よろしくお願いいたします。
PHPコードをかいたファイルに Twitter Bootstrap を適用するとフォームのデザインが崩れます。どうしたらよいでしょうか？ サイトのデザインに Twitter Bootstrap を使おうと勉強中のものです。 PHPを記述したページのHTMLフォームに Twitter Bootstrap のCSSを適用させるとフォームのデザインが小さく？なってしまいます。 （添付画像参照） PHPを記述していないページだとデザインは崩れることなく表示されます。 PHPと Twitter Bootstrap の相性の問題でどうしようもないことなのでしょうか？ 機能的にはなにも問題はないのですが、見栄えが悪いのでどうにかしたいです。
お世話になります。 画面から登録した際に登録した方と管理者宛てにメールで通知しています。 またお問い合わせを受けた場合と返信した場合にも登録した方と管理者宛てにメールで通知しています。 くだらない質問で大変申し訳ありませんがこの時のメールの件名と本文をどのようにしたらいいかご教授いただけませんでしょうか。 文章力がなくて本当に参っています。 申し訳ありませんが宜しくお願いします。 では、失礼します。
PHPに関する質問です。 データベースからfetchしたデータを 10件づつとりだしグループ化して、最後の残りが8件以下の場合は、各グループの配列の先頭に加えるという処理を行う際に、このような記述をしているのですが、 $data = array(); // 保存する配列 $ct1 = 0; $ct2 = 0; while($row = $res->fetch(PDO::FETCH_NUM)) { if ($ct2 === 10) { $ct1++; $ct2 = 0; } if ($ct2 === 0) { $data[$ct1] = array(); } $data[$ct1][] = $row; $ct2++; } if (count($data[$ct1]) < 8) { $arr = array_pop($data); $x = floor(count($arr) / count($data)); // 各要素に割り当てる数 for ($i = 0; $i < count($data); $i++) { for ($j = 0; $j < $x; $j++) { array_push($data[$i], array_pop($arr)); } } $t = 0; while (count($arr) > 0) { // 最後のあまりを先頭に追加 array_push($data[$t], array_pop($arr)); $t++; } } この処理だと、生成された配列が３次元になってしまいます。 Array ( [0] => Array ( [0] => Array ( [0] => あ ) [1] => Array ( [0] => あ) [2] => Array ( [0] => あ) [3] => Array ( [0] => あ) [4] => Array ( [0] => あ) [5] => Array ( [0] => あ ) [6] => Array ( [0] => あ ) [7] => Array ( [0] => あ) [8] => Array ( [0] => あ ) [9] => Array ( [0] => あ ) [10] => Array ( [0] => あ) ) [1] => Array ( [0] => Array ( [0] => あ) [1] => Array ( [0] => あ) [2] => Array ( [0] =>あ ) [3] => Array ( [0] => あ ) [4] => Array ( [0] => あ ) [5] => Array ( [0] => あ ) [6] => Array ( [0] => あ) [7] => Array ( [0] => あ ) [8] => Array ( [0] => あ ) [9] => Array ( [0] => あ ) [10] => Array ( [0] => あ ) ) [2] => Array ( [0] => Array ( [0] => あ ) [1] => Array ( [0] => あ) [2] => Array ( [0] => あ ) [3] => Array ( [0] => あ ) [4] => Array ( [0] => あ) [5] => Array ( [0] => あ ) [6] => Array ( [0] => あ ) [7] => Array ( [0] => あ ) [8] => Array ( [0] => あ ) [9] => Array ( [0] => あ) [10] => Array ( [0] => あ ) ) [3] => Array ( [0] => Array ( [0] => あ ) [1] => Array ( [0] => あ ) [2] => Array ( [0] => あ ) [3] => Array ( [0] => あ ) [4] => Array ( [0] => あ ) [5] => Array ( [0] => あ) [6] => Array ( [0] => あ ) [7] => Array ( [0] => あ ) [8] => Array ( [0] => あ ) [9] => Array ( [0] => あ) ) ) これを array([0]=>array(あ,あ,あ,あ,あ,あ,あ)[1]=>array(あ,あ,あ,あ,あ,あ,あ)) のように２次元で取り出すには、どのように行えばいいでしょうか。 この後の処理としては、 $key = 'a'; array_search（$key,$data） のようにキーを取得したいと考えています。 宜しくお願いします。
「要素数が固定の配列」「あるいは先頭から要素を5つぐらいを切り取った配列」で、 「自分と似た配列」を「似ている確率順」で表示させたいのですが、どうすればいいでしょうか？ ■似ている ・内容が一致 ・順番も一致？ ・一致している数？ ・先頭からの要素数が一致している方が優先？ 特にこうしたい、という強い希望があるわけではないのですが、「似ている配列」を求めたいとき、どういう方法が考えられるのか知りたく、質問しました
かれこれ６時間眺めてますが何が駄目なのかがわかりません。 どこが悪いのか教えていただけると助かります。 このbbs.phpは 二つのインプット要素をもつHTMLフォームを含むPHPファイルで、 名前とひとことコメントを入力してsubmitすれば フォームの下部にそのコメントを 名前、コメント、日付の書式で一行づつ表示する 。。。はずだったんですが Parse error: syntax error, unexpected T_STRING in /Applications/XAMPP/xamppfiles/htdocs/online_bbs/bbs.php on line 48 らしく該当する行を眺めてみても何がいけないのかさっぱりです。 コード内にもエラーが出たら出力するコードがあるのですが どうやらこれはインタープリタ自体が吐くエラーのようで このエラーの表示時にはフォーム要素は一切表示されません。 なにがいけないのか教えてください ほとほと困り果てています <?php $link = mysql_connect(`localhost`,`root`,`takataka`); if(!$link) { die(`Can not connect database`. mysql_error()); } mysql_select_db(`online_bbs`,$link); $errors = array(); if($_SERVER[`REQUEST_MTHOD`]===`POST`) { $name = null; if(!isset($_POST[`name`]) || !strlen($_POST[`name`])) { $errors[`name`] = `input your name `; }else if(strlen($_POST[`name`]) > 40) { $errors[`name`] = `名前は四十文字以内で入力してください`; }else { $name = $_POST[`name`]; } $comment = null; if(!isset($_POST[`comment`]) || !strlen($_POST[`comment`])) { $errors[`comment`] = `Input your comment please `; }else if(strlen($_POST[`comment`]) > 200) { $errors[`comment`] = `コメントは２００文字以内で入力してください`; }else { $comment = $_POST[`comment`]; } if(count($errors) === 0) { $sql = "INSERT INTO `post` (`name`,`comment`,`created_at`) VALUES (`" . mysql_real_escape_string($name) . "`,`" . mysql_real_escape_string($comment) . "`,`" . date(`Y-m-d H:i:s`) . "`); mysql_query($sql,$link); mysql_close($link); header(`Location: http://localhost/online_bbs/bbs.php`); } } ?> <html> <head> 　　　<titlle>ひとこと掲示板</title> </head> <body> <h1>ひとこと掲示板掲示板</h1> <form action="bbs.php" method="post">　//ここが４８行目になります <?php if (count($errors) > 0): ?> <ul class="error_list"> <?php foreach ($errors as $error): ?> <li> <?php echo htmlspecialchars($error,ENT_QUOTES,`UTF-8`) ?> </li> <?php endforeach; ?> </ul> <?php endif; ?> 名前：<input type="text" name="name"/><br/> ひとこと；<input type="text" name="comment" size="60"/><br/> <input type="submit" name="submit" value="送信"/> </form> <?php $sql = "SELECT * FROM `post` ORDER BY `created_at` DESC"; $result = mysql_query($sql,$link); ?> <p><?php echo $result; ?></p> <?php if($result !== false && mysql_num_rows($result)): ?> <ul> <?php while($post = mysql_fetch_assoc($result)): ?> <li> <?php echo htmlspecialchars($post[`name`],ENT_QUOTES,`UTF-8`); ?> <?php echo htmlspecialchars($post[`comment`],ENT_QUOTES,`UTF-8`); ?> - <?php echo htmlspecialchars($post[`created_at`],ENT_QUOTES,`UTF-8`); ?> </li> <p>test</p> <?php endwhile; ?> </ul> <?php endif; ?> <?php mysql_free_result($result); mysql_close($link); ?> </body> </html>
こんばんわ。 PHPを入門書片手にいろいろ試しています。 phpでボタンを表示して、押されたら別のphpを呼び出したいと思っています。 そのphpにパラメータを二つ渡したいのですが、どのように記述すればよろしいのでしょうか？ 抜粋すると以下のような感じなのですが、 $machi_id = "秋葉原" ; $mise_id = "ジャンク屋" ; echo "<form action=\"henkou.php\" method=\"post\" name =\"jusho_id\" >\n"; echo "<input type=\"submit\" name=\"jusho_id\" value=\"住所の変更\" >\n"; echo "</form>\n"; $machi_idと$mise_idをhenkou.phpに渡したいのです。 henkou.phpで$_GETでも$_POSTでもいいので何らかの方法で$machi_idと$mise_idを取得するにはどのようするばよろしいのでしょうか？ 上記についてよろしくお願いします。
phpで5で割って余りを表示させない方法を探しています。 例えば <?php for ($i = 1; $i < 15; $i++) { echo $i; if ($i % 5 == 0) { echo "<br />"; }} ?> を実行させた場合 12345<br/> 678910<br/> 11121314 となりますが、この場合11から14までを表示させないようにすればどうすればできますか？
jphpmailerを利用して数Mのファイルをメールへ送っています。 こちらは問題なく動いているのですが、同じシステムを使って 10Mを超えるファイル（？試したのは15M程度）が送ることが出来ません。 php.ini関連の設定かと思い色々設定をしてみたのですがその 大きいサイズのファイルだけ送ることが出来ませんでした。 [経緯] １. Fatal error: Allowed memory size of 52428800 bytes exhausted (tried to allocate 19334337 bytes) と出たのでphp.iniのmemory_limitを100Mに上げた 2. 上記エラーはでなくなりましたが、phpmailer内にあるエラー Could not instantiate mail function. と表示されるようになった。 3. php.ini等いろいろいじって、現在は.htaccessを変更した状態になっていますが２の表示のまま .htaccess内： php_value max_execution_time 120 php_value memory_limit 512M php_value post_max_size 512M php_value upload_max_filesize 512M [質問] どの部分でエラーになっている事が考えられるでしょうか？？ （php.iniの設定？sendmail？） 対処法があれば教えてください。 [バージョン等] php5.3 サーバ：heteml　共用サーバ hetemlの通常のメールの制限は１００Mでした よろしくお願いします。
PHPの勉強をしています。 今、基礎的な内容の本とより実践的な内容の本、コードサンプルが満載の本の 計３冊で勉強しておるのですが、 たまたまなのかわかりませんが、この三冊の中ででてくるコードを見てみると、 if文の中に否定演算子、例えば IF（!A || !B) { 　　A、もしくはBがfalse だったのが反転してTrueになった場合の処理 }else { 　　A、Bどちらともtrueだったのが反転してfalseになった場合の処理 } といった条件文に否定演算子を含めたコードサンプルがほとんどです。 。。。。三冊ともこの調子なので もしかしてPHPのコーティング作法なのかな？と思いましたが ネットで検索してもそれらしい情報は見当たらず...... 自分が何がわからないのか それ自体よくわかってないのかもしれませんが IF文を使う際、条件に否定演算子を使うべきときってのがあるんだと思います。 となると、その時を判断する基準などがあるのでしょうか？ 初心者なのでなにか重大な思い違いをしてるのではないかと思ってます。 なにか気づくことがあれば教えてください。
ご質問させてください。 只今、ＰＨＰでクイズを作成しています。 if ($input_data == 40){ print('正解です。おめでとうございます。'); 上記の様に答えを設定することが出来たのですが 値以外（例えば名前等）の日本語？を記入して答えを出すには どの様に記述したらよろしいでしょうか。 ご教示の程よろしくお願い致します。
お世話になっております。 現在すでに投稿されている記事を複製する処理をphpで作成しています。 linkmetaというテーブル内のid、link_idというカラムがありidはAUTO_INCREMENTとなっています。 link_idにもAUTO_INCREMENTを設定したいのですが調べるとそれは仕様により不可能ということがわかりました。 現在link_idにもidと同じ値を自動的に挿入したいと考えております。 別の手段でlink_idにAUTO_INCREMENTもしくは同様のINSERTを行う方法はありませんでしょうか？ idの数値を取得しようと考えたのですが INSERT前ではAUTO_INCREMENT後の値は取得できない事に後から気づきました。 この様に1つのテーブルに値が重複しない様にする処理は皆様はどのように行なっているのでしょうか？ 良い方法は思いつかずに困っております。 どなたかご回答くださいませ。 宜しくお願い致します。
お世話になります。 getimagesize関数を使用して、ファイルサイズを取得して、その後ファイルサイズの 縮小等の処理を行うのは可能なのですが、ファイルをアップロードするタイミングで 強制的にファイルサイズを変更することは出来るのでしょうか？ 大きいファイルサイズの場合、アップロードに時間が掛かってしまうのと、サーバに負荷が 掛かってしまうのが気になりますので、出来ればアップロード処理とファイルサイズ変更を 同時に出来れば・・・と思っています。 ヒントとなるスクリプトをご教示いただければとても助かりますが、参考になるサイト等を ご存知でしたら教えていただきた存じます。 PHPのバージョンは、5.3.3です。 どうぞよろしくお願い申し上げます。
php使用可能な無料サーバーeu.pnに、htmlファイルを置き、 そこに、phpとhtmlのメールフォームを作成しました。 http://www.freecontactform.com/email_form.php php自体は機能し、送信ボタンを押すと、ページの移動をし、phpでhtmlが出力されますが、肝心のメールは送られてきません。 これはサーバーの問題でしょうか？ そもそも、phpのメールは「どこから」送られてくるのでしょうか？ 使用しているレンタルサーバーの、ドメインもしくはサブドメインのメールアドレス（ある場合）でしょうか？
素人な質問ですみません。 現在知り合いの方にサイトを作ってもらっています。 ECキューブを使って作るそうなのですが、各ページが『http://www.●●●●.com/town/shop.php?pid=104』みたいな表示になります。 名刺やチラシなどに『http://www.●●●●.com/abcd』のように入れて、 そのページに飛べるように設定したいのですが、方法が分からないとのことです。 そのページに飛んだ後のURLの表示は、『http://・・・/shop.php?pid=104』みたいな表示になっていて構わないのですが、設定方法をご存知の方がいらっしゃいましたら教えていただけませんか。よろしくお願いします。
ごくごく初歩的すぎる為か、検索しても答えに尋ねあたらず、質問させてください。 PHPの「連想配列」の項で、参考書の例文（一部変更しています・下記）において、8行目に $flg = false; とありますが、なぜここでこの真偽値が必要なのかわかりません。 予めfalseを入れておいて後からtrueに変わる分岐がある例文は以前ありましたが、今回は以降に $flg　が出てこない為、悩んでいます。 よろしくお願いいたします。 <?php $data = array( 'aaa' => 'aaa@xxx.com', 'bbb' => 'bbb@yyy.com', 'ccc' => 'ccc@zzz.com' ); $flg = false; echo "名前は？"; $a = trim(fgets(STDIN)); if($data[$a] == null){ echo "データは見当たりません。"; } else { echo $a . "のメールアドレスは" . $data[$a] . "です。"; } ?>
大量のPDFファイルを所持するサイトを運営しています。 ディレクトリ構成は、 ■ルート（http://hogehoge.com/） index.html hoge1.html hoge2.html │ └■食べ物フォルダ 　　├index.html 　　│ 　　├■果物ごフォルダ 　　│　├index.html 　　│　│ 　　│　├■りんごフォルダ 　　│　│　├index.html 　　│　│　├ringo1.pdf 　　│　│　├ringo2.pdf 　　│　│　├ringo3.pdf 　　│　│ 　　│　├■みかんフォルダ 　　│　│　├index.html 　　│　│　├mikan1.pdf 　　│　│　├mikan2.pdf 　　│　│　├mikan3.pdf 　　│　│ 　　│　├■ぶどうフォルダ 　　│　　　├index.html 　　│　　　├budou1.pdf 　　│　　　├budou2.pdf 　　│　　　├budou3.pdf 　　│ 　　├■野菜フォルダ 　　・ 　　・ 　　・ ルート→「食べ物」→「果物 / 野菜」→「りんご・みかん・ぶどう / キャベツ・大根・人参」 という具合で、すべてのフォルダ内にはindex.htmlと関連する 複数のpdfファイルを格納している状態です。 それぞれのpdfファイルは内容がほぼ一緒なので link rel="canonical" を設定したいんです。 ringo1.pdf ＋ ringo2.pdf ＋ ringo3.pdf → りんごフォルダの index.html にカノニカル指定 という具合に全てのフォルダで行いたいのですが自分なりに調べた結果、 <FilesMatch "\.pdf$"> Header set Link "<http://hogehoge.com/食べ物/果物/（りんごorみかんorぶどう）/index.html>; rel=\"canonical\"" </FilesMatch> と記入した.htaccessファイルを各フォルダに１個１個設置すれば実現できると思うのですが、 数が膨大になってしまうので、もっとスマートな方法があれば・・ と思い質問させて頂きました。 詳しい方、どうか知恵をお貸し下さい。
質問させてください。 php初心者ですが最近仕事でWordPressを改良する事がでてきました。 正直その場しのぎの強引な改良（しかも実現できていない）という酷い有様です。 基本的なphp入門書は読んで大体は理解が出来るようになりました。 しかし未だにWordPressやプラグインのソースを見ても理解ができません。 これはクラスを理解できていないからではないかと考えております。 （正直何が理解できていないのかも確信が持てないレベルの為上手くお伝え出来ません そこで次の段階へ進む時が来たと思い、新しい勉強法や参考書を探しています。 もし同じような段階で引っかかった、こういうやり方や本がオススメ というものが有りましたら教えていただけましたら幸いです。 どうぞ宜しくお願い申し上げます。
PHPを勉強し始めたばかりの初心者です。 開発環境はDreamweaverとwebmatrixです。 出力結果をブラウザで確認しているのですが、 エラーの詳細が表示されず HTTPステータスコード（404 Not Foundなど）しか返ってきません。 php.iniは、ネットで調べて以下のように設定しました。 display_errors = On error_reporting = E_ALL & ~E_NOTICE & ~E_STRICT でも、表示が変わりません。 phpinfo();の結果表示内のLoaded Configuration Fileの項目は C:\xampp\php\php.iniですので、それを編集しています。 更新されてないのかな？と思ってPCを再起動しましたが変わりませんでした。 ご存知の方がいらっしゃいましたら、ご教示ください。 よろしくお願いいたします。
PHPを勉強し始めたばかりの初心者です。 dirname(__FILE__)の使い方を調べていて、いろんなサイトを参考に以下のような 階層を作りました。 |-index.php |-test1.php | |-test2 | 　　 |-test2-1 |　　　　 | |　　　　 |-test2-2 | 　　　　　 |-test2-2.php | test2-2.phpに、 <?php echo "dirname(__FILE__)"; ?> と記述すればtest2-2までのファイルのフルパスとファイル名が返ってきて 表示されると思ったのですがエラーになり表示されませんでした。 私の解釈が間違っているのでしょうか。 参考にしたサイトのひとつのURLです http://php.net/manual/ja/language.constants.pred … ご存知の方、どうかご回答お願いいたします。
ほぼ初心者のものです 下記のようなフォームをつくりました <form action="regist.php" method="post"> <input type="radio" name="08241" value="A11"/> <input type="radio" name="08241" value="B11"/> <input type="radio" name="08241" value="C11"/> <input type="radio" name="08241" value="D11"/> <input type="radio" name="08241" value="E11"/> <input type="radio" name="08241" value="F11"/> <input type="submit" value="登録する" /> そしてこれらを確認するためにregist.phpを作成し <table width="250" border="1"> <tr> <td width="250">選択したもの</td> </tr> <tr> <td><?php echo $_POST["08241"] ?></td> </tr> <tr> <td>●●●</td> と記載し、選んだものを表示できるようにしました ここからが皆様にお力を借りたいところなのですが フォームから「A11」が選択されて確認画面に「A11」と表示されたとき ●●●のところに下記のような情報を含んだボタンを表示させたいんです <form name="a11" action="/products/detail.php" method="post" > <input type="hidden" name="mode" value="cart" /> <input type="hidden" name="product_id" value="137" /> <input type="hidden" name="product_class_id" value="634" /> <input type="hidden" name="quantity" value="1" /><br /> <input type="submit" value="決定する" onClick="alert('選択しました')" /> </form> このボタン情報はA11～F11まであって、product_idやproduct_class_idは それぞれ異なっています どこかに一覧を作成しておいて　form nameで一致したものを表示させるといった やり方なのかなとは思うのですが、その方法がわかりません PHPを使えばいいのかJavascriptがよいのかもあわせ、記述方法などをご教授いただけませんでしょうか？ どうかよろしくお願いいたします
ISS6.0上で、PHPで作成したイントラサイトを運用しています。 サイトを閲覧していると、たまに以下のエラーが表示されてしまいます。 CGIerror The specified CGI application misbehaved by not returning a complete set of HTTP headers. サイトを開いた時に初めから表示されることもあれば、最初は普通に見れていたのにページを遷移しようとしたときに突然表示されることもあります。 エラーが出たときは、F5キーを1回または複数回押したり、Ctrl＋F5で正常に表示されるようになったりします。 経緯として、サイトを立ち上げてしばらくは問題なく閲覧できていたのですが、少し前にIISの設定をいじったところサイトが表示されなくなってしまいました。 慌てて設定を戻したつもりが復旧せず、さらにいじっていたところ表示はされるようになったものの、上記エラーがたびたび表示されるようになってしまいました。 （ここで変更内容を記録しておかなかったのがそもそもいけなかったのですが。。。） また、同じ原因かは分かりませんが、同時期よりページの読み込みが異様に遅くなりました。 ページは表示されるのですが、ブラウザのタブの部分のアイコンが5秒以上くるくる回っている状態です。（IE、Chromeにて確認） "Hello, World!"を出力するだけのページでテストしても同様です。 （htmlのページは即表示されます。） 以上2点（エラー、読み込みが遅い）について、原因・対応方法を調べています。 ほぼ初心者で、何の情報を提示すればよいかも分からないのですが、不足などありましたらご指摘頂けると幸いです。 ヒント程度でも結構ですので、どうぞ宜しくお願い致します。 ---------- WindowsServer2003 R2(SP2) IIS 6.0 PHP 5.2
現在apiで取得したデータ（オブジェクト）をforeach構文を使い出力させているのですが、 上から3つ目までをまず出力させ、一旦中断。その後、同ページの指定の場所に 4つ目以降のデータを出力させる方法を探しています。 色々と試してはいるのですが上手くいきません。 この処理方法についてご存知の方がいらっしゃいましたら是非ともご回答の方を宜しくお願い致します。
phpで <?php } というのがあるのですが、これは何でしょうか？
お世話になっております、 PHP初心者の者です。 <form method="post" action="links-loop.php"> <table> <?php for($a = 1; $a < 10; $a++){ while($row=mysql_fetch_assoc($result)) { print "<tr>"; print "<td>"."$a"."</td>"; print "<td>id = {$row["id"]}</td>"; print "<td>name = {$row["name"]}</td>"; print '<td><a href="http://localhost/test/'."{$row["slug"]}".'">'."{$row["slug"]}".'</a></td>'; print '<td><img width="200" height="200" src="'."{$row["links_img"]}".'"/></td>'; print "<td>{$row["description"]}</td>"; print '<td><input type="button" value="複製"></td>'; print "</tr>"; $a++; } } ?> </table> </form> 現在ループ処理によってDBから投稿した記事を一覧で表示しています。 表示された一覧記事一つ一つにボタンをつけてボタンを押したら その記事をDB上に複製する方法が思いつかずに困っております。 できればページ遷移を行わずに複製が理想なのですが、 この場合<input type="text" value="{$row["id"]}" >を非表示で呼び出す形で宜しいのでしょうか？ この場合連続で呼び出されているデータから一つの記事だけ選択して 複製するにはどのような処理にすればよいのでしょうか？ 中々解決策を探しても見つけることができませんでした。 もし宜しければご回答いただけましたら幸いでございます。 宜しくお願い致します。
よろしくお願い致します。 例）更新日：6月25日　／　次回更新予定：7月2日 というようにしています。 更新日を25日（指定日）になったら自動的に更新日、次回更新予定に７をたしたいのですが、 どのようにしたらイイでしょうか？ 皆様よろしくお願い致します。
詳しくないので質問内容におかしな点が多々あるかと思いますが・・ サイト内検索でcsvファイルから文字列を呼び出し一致した文字列を出力するというスクリプトで 完全に一致した文字列だけ出力させたいのですが、 たとえばcsvに「AＡＡ」「ABC」「ARZ」のデータがあり 「A」で検索しても何も出力されず、「AAA」と検索した時だけ「AAA」だけを出力したいのですが 「Ａ」で検索すると「A」から始まる全ての文字列（↑で挙げた文字列全て）が出力されてしまって困っています。 どの部分を変えると完全に一致した文字列だけを検索できるようになるのか指摘してくださればと思います。 <?php function funcSiteLink($str, $pass, $csvFileName){ if($str){ $keyword = mb_convert_kana($str, "s","SJIS"); $arr_keyword = preg_split('/[\s]+/', $keyword, -1, PREG_SPLIT_NO_EMPTY); $file = fopen($csvFileName,"r"); $i = 0; while(!feof($file)){ $csv = fgets($file); $str = explode(",", $csv); $keywordPassArr[$i] = $str; $i++; } $judg = 0; foreach($arr_keyword as $val){ foreach($keywordPassArr as $kpa){ preg_match("/$val/", $kpa[0], $matches, PREG_OFFSET_CAPTURE); if($matches[0][1] === 0){ echo '<p><a href="'.$pass .$kpa[1] .'">' .$kpa[0] .'</a></p>'; $judg++; } } } if($judg === 0){ echo "<p>一致しません</p>"; } fclose($file); }else{ echo "<p>一致しません</p>"; } } ?>
現在、私は入門書や基礎本といった参考書を2冊購入し、一通り学習しましたが、 いざプログラミングをしようとしても、ちんぷんかんぷんでプログラムを組むことができていません。 入門書の参考書での学習を卒業し、アウトプットの経験を積むための練習方法を教えてください。 皆様が実際に実践した方法などを聞けると嬉しいです。 よろしくお願いします。
教えてください。プログラミング初心者です。 以下の配列があった場合に最終行の$abc[ ] = $abc;は何を代入しているのでしょうか？ $abc = array( ); $abc[ ] = $ def; $abc[ ] = $ abc; 宜しくお願いします。
初心者の質問ですみません。 本当に最近勉強をはじめたばかりなのですが以下2点が分からなくて困っております。 (1)データの受け渡しについて 例えばpage1.phpというページで $i=rand(0, 10); で$iという変数をランダムに生成します。 その数値をpage2.phpという次に進んだページで利用するにはどうしたらいいでしょうか？ 一旦DBに保存して、移動先のページで取得しないとできないでしょうか？ それともPOSTなどで送信する事ができますか？ POSTなどはインプットした値を送るもののようなので、今回のようなケースでは使えませんか？ (2)レコードを検索して表示させたいのですが、何も表示されなくて困っています。 食品のテーブルsyokuhinがあって、その中に syoku_id　syoku_name　syoku_price などのフィールドがあります。 idを選択して$numに入れて次のような検索をしてみて何も表示されません… $recordSet = "SELECT * FROM syokuhin WHERE syoku_id = ". '$num' ; $table = mysql_fetch_assoc($recordSet); print(htmlspecialchars($table['syoku_name'])); print(htmlspecialchars($table['syoku_price'])); どのように訂正すれば良いでしょうか？ 色々試し過ぎて混乱していますので、もしかしたらイージーミスなのかもしれないですし、 根本的に何か違うのか良くわからなくなりました… ド素人な質問ですみません… おわかりになる方がいらっしゃったら是非よろしくお願い致します。
PHPで下記のような文字列がありますが、 この文字列から先頭2行抽出して画面に表示したいのですが、 調べてみてもいい例がありませんでした。 各3種類の改行コードからの各先頭2行抽出方法です。 $a="文字列１\r\n文字列２\r\n文字列３\r\n"; $b="文字列１\r文字列２\r文字列３\r"; $c="文字列１\n文字列２\n文字列３\n";
下記リンク先の「2 Answers」の所に、「99 - $i*100/$total;」という記述があるのですが、これは何をしているのでしょうか？ 99－「インクリメント値✕100/配列要素数」？ http://stackoverflow.com/questions/12089984/find …
いつもお世話になります。 PHP(HTML)のフォーム上から、クーロンの実行日時を設定したいと思っています。 いくつか同じような質問など参考にしたのですが、いまいち分からず困っています。 理解できた内容ですが、 ・shell_execを使ってシェルコマンドをたたく。 ・crontabに、実行したい日時とファイルを記述する。 程度です。 クーロンのテストがてらターミナルからcrontabを編集して、「指定した日時に音楽ファイルを実行する」ことはできました。 PHPでcrontabを編集するにはどのようにすればいいのでしょうか？？ ざっくりとした内容で申し訳ありませんが、詳しい方どうかご教授宜敷くお願い致します。 開発環境： Mac OS 10.6.8 PHP 5.2.17
Ubuntuで PHPをソースからビルドしようとおもっています。 しかし、PHPをconfigureしたあとlibxml2がインストールされていないとの警告が 出てしまいビルドできません。 そこで　https://git.gnome.org/browse/libxml2/ の上記ページより最新版のlibxml2をダウンロードして libxml2をビルドしようとしたところ libxml2を解凍したなかに configure ファイルが存在しませんでした。 この場合どのようにしてlibxml2をビルドすればよいのでしょうか？ よろしくご教授ください。
現在、サイトを作る仕事をしていますが、html、cssと簡単なJavascriptのみを制作し、 PHPの部分は他社の方と組んで完成させています。 そろそろ、自分でもPHPの勉強を始めたいと思っています。 ところが、PHPのバージョン選びについて、入門本と色々なサイトで書いてあることが異なったり、 情報の日付が古かったりする為最初の段階で混乱しています。 自身の開発環境は今のところ、windows xp、お客様で利用しているレンタルサーバーは Redhat系 Linux、Apacheが多いです。 ダウンロードサイト http://windows.php.net/download/ を見たら色々なバージョンがあったので、調べるうちにわからなくなってしまいました。 よろしくお願いいたします。
プログラムに詳しい方のほうが対処法を知っているかなと思ったのでこちらのカテで失礼します。 私は現在ブログ(アダルト)をやっています。半年ほど続けてきてアクセスもある程度はいくようになってきました。 先日、検索エンジンで検索するとどれぐらいの位置に表示されるかなと思い検索してみたのですが、まったく違うサイトが出てきました。 よく見ると私の記事をそのままbotのようなプログラムで収集して、自動で投稿されているようです。 私のブログでは記事のタイトルと一緒にブログのタイトルも表示されるようにしているので、当然その記事には私のブログのタイトルもそのまま転載されています。 それで検索エンジンで私のブログタイトルを検索しても引っかかると。 私のブログの方で、この自動収集のbotを拒否するような設定はできないでしょうか？ ちなみに私のブログはFC2です。 ご存知の方いらっしゃいましたらご教示ください。 よろしくお願いします。
　趣味と学習目的で自宅サーバを管理してます。外部公開はしてません。 　先ほど自分のサイトにアクセスしたところ、502 Bad Gatewayエラーが発生しました。 HTMLファイルには問題なく接続出来ます。PHPでエラーが発生しました。 　nginxのエラーログは下記の通りです。 2013/06/17 23:49:43 [error] 1262#0: *31 kevent() reported that connect() failed (61: Connection refused) while connecting to upstream, client: 192.168.X.X, server: localhost, request: "GET /phpinfo.php HTTP/1.1", upstream: "fastcgi://127.0.0.1:9000", host: "example.com" 　※一部改変しています これはこの問題の最初のエラーログでこのログの下に同じようなログが大量に続いていました。 サーバ設定は FreeBSD で nginx + PHP FPM + fcgiwrap とgoogle検索して、一番上にあるサイトを参考にしました。 そして、今日まで問題なく動作していました。 … しかし、先ほど突然エラーが発生しました。今ままで正常に動作していたのですが…webサーバ関係の設定は変更した覚えがありません。 2013/06/17 23:49:43 より前に行った記憶がsambaの導入なのでそれしか思い当たりがありません。 samba停止や、サーバ再起動を行いましたがダメでした。 検索しても情報が少なく、エラーログを確認してもよくわからなかったので質問しました。 外部公開してないので、すぐ解決する必要はありませんが優しく教えていただけると幸いです。 補足が必要であれば書きます。あと、カテ違いだったらすいません。 長文、乱文失礼しました。
・下記ページのように、<link rel="stylesheet" href="/css.php">で読み込んでいるファイルと変数の受け渡しをしたいのですが、どうすれば良いでしょうか？ ▽PHPで動的なcssファイルを作成する 　 http://103px.blog.fc2.com/blog-entry-19.html ■やりたいこと ・「POST」「GET」ではなく、includeみたいに利用したい ・具体的には、リンク先ページで言えば、css.phpに記述している「ランダムなカラー設定」を、index.phpに記述したい
総当り表を作成するにあたってプログラム方法をご教授いただけませんでしょうか？ http://oshiete.goo.ne.jp/qa/7944235.html にて記載のあるデータを使用し、下記の参考サイトの戦績表みたいな作成を考えております。 http://match.nadeshikoleague.jp/2013/nadeshiko_c … 参考サイトですと1チームに対し、2試合ずつになっていますが、1試合を考えております。 また、最後の列に順位が作れればよいと思っております。 お分かりの方が、いらっしゃいましたらご教授お願いします。
PHP5で数値の文字列から数値にする方法で質問です。 数値と認識されるものについては、そのまま、およびキャストするだけでそのまま使えると思いますが、 割り算(「/(スラッシュ)」)が入っているような計算式を数値として認識させる方法はありますでしょうか？ 例えば $a="6861/2500"; echo (float)$a; echo "<br>"; とすると、先頭の6861という数値に変換されます。 if(is_numeric($a)){ echo "数値"; }else{ echo "文字"; } の結果は文字という判定になりました。 6861/2500 ↓ 2.7444 と取得したいです。 自分で計算記号から数値部分を区切って計算するような方法をとらないと難しいでしょうか？
お世話になっております。MySQLのSQLに関する質問ですが、変数で処理しているため、PHPカテゴリで質問させて下さい。 テーブル：slip slip_no　　member_no　　sales_date 1　　　　　　2　　　　　　2013-06-06 2　　　　　　1　　　　　　2013-06-07 3　　　　　　4　　　　　　2013-06-08 4　　　　　　3　　　　　　2013-06-08 テーブル：sales sales_no　　sale_slip_no　　goods_no　　goods_name　　request_money　　receipt_money 1　　　　　　　1　　　　　　　　2　　　　　　キュウリ　　　　5250　　　　　　　　NULL 2　　　　　　　1　　　　　　　　3　　　　　　イチゴ　　　　　5250　　　　　　　　NULL 3　　　　　　　2　　　　　　　　6　　　　　　バナナ　　　　　5250　　　　　　　　NULL 4　　　　　　　2　　　　　　　　5　　　　　　りんご　　　　　5250　　　　　　　　NULL 5　　　　　　　2　　　　　　　　point　　　　NULL　　　　　　NULL　　　　　　　　3000 6　　　　　　　3　　　　　　　　1　　　　　　ほうれん草　　　9450　　　　　　　　NULL 7　　　　　　　3　　　　　　　　4　　　　　　しいたけ　　　　2100　　　　　　　　NULL 8　　　　　　　4　　　　　　　　7　　　　　　マンゴー　　　　6300　　　　　　　　NULL このようなテーブルがあります。(MySQL5) slip_noとsale_slip_noは紐付くデータで、slipテーブルにあるmember_no毎に、 salesテーブルのgoods_noが整数を条件に、request_moneyの1ヵ月前の期間内の request_moneyの合計を算出したいと考えております。 member_no 1を呼出したら、 total 10500 とこのように算出。 以前、http://oshiete.goo.ne.jp/qa/8117105.html こちらで、ご親切に回答頂き、解決したのですが、このテーブルに関連する質問を http://oshiete.goo.ne.jp/qa/8126398.html こちらで伺ったところ、ご親切に正規化を指摘され、テーブルを上記のように分割したという経緯が御座います。 以上のことから、 http://oshiete.goo.ne.jp/qa/8117105.html でアドバイス頂いたSQLを元に、inner join を用いて以下のようなSQLを試していますが、得たい結果を得ることが出来ません。 直接関係ないかもしれませんが、FROMの前にmember_noやsale_slip_no、slip_noなどのカラムを記述するとエラーになったりで、かれこれ3時間もこのSQLで格闘しています。 $sql = "SELECT SUM(request_money) FROM sales INNER JOIN slip ON sales.sale_slip_no = slip.slip_no WHERE slip.member_no = '1' AND sales.goods_no REGEXP '^[0-9]+$' AND slip.sales_date between curdate() - interval 1 month + interval 1 day AND curdate()"; $result = mysql_query($sql); $sum_point = mysql_fetch_assoc($result); $one_month_buy_money = $sum_point['SUM(request_money)']; 最近、質問ばかりで恐縮ですが、アドバイスのほど頂戴出来ればと質問させて頂きました。 お忙しい中恐縮ですが、宜しくお願い申し上げます。 .
サンプルのPHP記述を見ながら勉強していますが、 下記の意味がまったくわかりません。 　$n=0+$line[0]; $lineの１つ目の要素に０を足す？ その後、以下のように続きます。 　array_shift($line); 　$SbItems[$n]=$line; 社内で作成したPHPなので、全部載せることができません 中途半端な質問で申し訳ありませんが、ヒントをください。 よろしくお願いします。
このカテゴリでの質問ではないかもしれませんが、教えて下さい。 現在、社内にWindows2008サーバが存在し、ファイルサーバのような使い方を していますが、ある需要があり、指定のもののみＷＥＢを使って各自ダウンロードできるような仕組みが ないかと探しております。（アップロードは管理者のみができる仕組み） 有償のものでは複合機と連動したもの等、幾つか存在しますが、フリーのものでそのような ダウンロード機能を持ったようなＷＥＢ画面はないでしょうか？ 環境的にはＰＨＰが使える環境となっています。 教えて下さい。 よろしくお願いします。
お世話になります。 複数表示してある画像をクリックすると、クリックのした画像に関する説明テキストと画像を画面下部に表示させたいです。 画像をクリックしたら任意の変数をセットして再読み込みし、対象のソースを表示する、こんな処理できるでしょうか。 ご教授よろしくお願い致します。 また参考ソース、サイトありましたらお教えください。
$hoge = array(array())；で始まっているコードがあるのですが、 これは何をしているのでしょうか？ ・多次元配列の初期化？ ・$hoge = array()；ではダメなのでしょうか？
php初心者です。 とある製品のオーダーメイドサイトを作っています。 製品リストのcsvを読み込み、行分だけデータを表示させる様なプログラムを組みたいのですが 繰り返し処理が動作しないのでアドバイスをお願いします。 サーバーはhetemlです。 プログラムとcsvを編集しているOSがmacXなので、 csvの改行コードのせいで繰り返しができてないのかもとも思っています。 ソースは以下の通りです。 <? #csvファイルをオープン $file = fopen("itemlist.csv","r"); while(!feof($file)) { //カウンターを設置、初期化 $cnt=0; #fgetcsv関数がfalseを返却するまで実行 $data = fgetcsv($file);// $itemid = $data[$cnt]; $cnt++; $filename = $data[$cnt]; $cnt++; $itemname = $data[$cnt]; $cnt++; $price = $data[$cnt]; $cnt++; $detail = $data[$cnt]; $cnt++; print $data; print "<li>"; print "<p><img src='../store/item//".$filename."'></p>"; print "<p><input type='radio' class='required' name='".$itemname."' value='".$price."'>".$itemname."</p>"; print "<p><span class='form_price'>".$price."</span>円</p>"; print "</li>"; } fclose($file); ?> csvの中身です。（テキストエディタで編集） 一番右は在庫数です。 itemid01,01.jpg,itemname001,"800,000",説明１,1 itemid02,02.jpg,itemname002,"900,000",説明２,0 itemid03,03.jpg,itemname003,"1,000,000",説明３,10 itemid04,04.jpg,itemname004,"1,200,000",説明４,4
かなり基本的な事柄なのですが PHPにおいて【式】とは http://php.net/manual/ja/language.expressions.php の冒頭にある >式は、PHP における最も重要な基盤石です。PHPにおいては、ほとんど全てのものは式で記述されます。最も簡単で最も正確な式の定義は、"全ての式には値がある。" です。 とありますが、つまりは式とは評価したとき返り値を持つものと解釈してもよいのでしょうか？ 例をあげると $hoge = 5; //これは式 print $hoge;//これも式 echo (print $hoge); //これも式 print (print $hoge); //これも式 echo (echo $hoge); //これは？実行するとパースエラー なぜ一番最後の例のみパースエラーなのでしょうか？ 調べてみると【print】関数・・・というよりprintという言語構文ですか これはどうも常に1という値を返すみたですね。 つまり、本質問の冒頭で申した通り、帰り値を持つものが式とするならば この echo (echo $hoge); は式ではない。 ということになりますか？ 以上、ちょっと根本的すぎますが ご教授ください。
Objective-Cでハッシュ値を生成し、PHPに送って、 PHP側でもハッシュ値を生成し、この2つを比較したいと思っています。 PHPでは、以下の関数でSHA256が取得できることがわかりました。 hash_hmac('sha256', $text, false) Objective-Cは自分で実装する必要があるようなので、以下のページのコードを使わせてもらいました。 http://zak-za-k.blogspot.jp/2011/09/objective-cs … この2つの関数それぞれで、同じ文字列を使ってSHA256のハッシュ値を出したのですが、 結果が違ってしまいます。 2つの関数で同じ結果を得られるようにするにはどうすればよいでしょうか。 参考にした上記URLのコードの内容は、ほとんど理解できていません。 よろしくお願いいたします。
いつもありがとうございます。 データベース（MySQL）からデータを取得するときの条件で、 ANDとORを絡めるためにはどうやって書いたらいいのでしょう？ 調べたので解らなかったので質問させてくださいm(_ _)m たとえば以下のようなデータがあったとき id sort number 1 猫　3 2 犬　2 3 猫　4 4 鳥　2 5 猫　1 ・・・ ここから、 numberが2以上 かつ sortが「猫」または「犬」 とANDとORが絡んでしまい、どのように記述すればいいかわかりません。 SELECT * FROM テーブル名 WHERE number>=2 AND sort='猫' OR sort='犬' ではうまくいきませんでした。。。 お願いします。
１つのphpファイルで作成を考えています。検索後（if($subsub){}を消せば）でなければページング機能は、可能です。１ページ目は、正常に表示しますが、２ページ目以降表示できません。データ保持ができません。同じ類の質問は、たくさん出てると思いますが・・・初心者ということもあり、ロジックがまだわかっていないのでできれば記述で教えていただければ幸いです。よろしくお願いします。 検索項目は、１項目で省略していますが、本来４～５項目で考えています。 <?php // データベースに接続する 省略 $test = $_POST[test]; echo' <form method="POST" action="".$_SERVER["PHP_SELF"].""> <tr> <input type="text" name="test"> <td><input type="submit" value="検索" name="subsub"></td> </form> '; //検索ボタンを押したら表示 if((isset($_POST['subsub']))or(isset($_GET['p'] ))){ //ページング処理 //総レコード数を取得する //条件がある場合は、where 条件式を書く $sql = "SELECT COUNT(*) AS reccnt FROM faq;"; $res = mysql_query($sql, $conn) or die ("データ抽出エラー"); $row = mysql_fetch_array($res, MYSQL_ASSOC); $reccnt = $row["reccnt"]; //取り出す最大レコード数 $lim = 3; //最初と最後のページ番号を定義 $first = 1; $last = ceil($reccnt / $lim); //表示するページ位置を取得 $p = intval($_GET['p']); if ($p < $first) { $p = $first; } elseif ($p > $last) { $p = $last; } //表示するレコード位置を取得 $st = ($p - 1) * $lim; //前後のページ移動数と表示数 $page = 3; //前後$pageページ移動した際のページ番号を取得 $prev = $p - $page; $next = $p + $page; //前後1ページ移動した際のページ番号を取得 $prev1 = $p - 1; $next1 = $p + 1; //SELECTコマンドを実行して、$stレコード目から$lim件の各データを取得し、大きい順に並べる $sql = "SELECT test FROM testtest WHERE test like '$test' ORDER BY id DESC LIMIT $st, $lim;"; $res = mysql_query($sql, $conn) or die ("データ抽出エラー"); echo' <table border="1"> <tr> <td>ＩＤ</td> <td>テスト</td> </tr> '; //取得したデータを一件ずつ表示 while($row = mysql_fetch_array($res, MYSQL_ASSOC)) { echo' <tr> <td>'.$row["id"].'</td> <td>'.$row["test"].'</td> </tr> '; } echo '</table>'; //ページ移動リンクの組み立て //1ページ前のページ if ($p > 1) { echo "<font size=\"1\"><a href=\"$_SERVER[PHP_SELF]?p=$prev1\"><</a></font>&nbsp"; } //各ページ番号への移動リンクを表示 for ($cnt = $p - $page; $cnt <= $last; $cnt++) { if ($cnt < 1) { $cnt = 1; } $pageno = "<font size=\"1\"><a href=\"$_SERVER[PHP_SELF]?p=$cnt\">$cnt</a></font>&nbsp"; //表示番号を指定数に区切る //ページ番号と現在のページが同一の場合は //リンク無しにする if ($cnt <= $p + $page) { if ($cnt == $p) { $pageno = "<font size=\"1\">$p</font>&nbsp"; } echo $pageno; } } //1ページ後のページ if (($next1 - 1) * $lim < $reccnt) { echo "<font size=\"1\"><a href=\"$_SERVER[PHP_SELF]?p=$next1\">></a></font>&nbsp"; } echo "<br>\n"; //最初のページへ移動 if ($p > 1) { echo "<font size=\"1\"><a href=\"$_SERVER[PHP_SELF]?p=$first\">最初</a></font>&nbsp"; } //前の$pageページへ移動 if ($p > $page) { // << を $page"."ページ戻る にする事もできる echo "<font size=\"1\"><a href=\"$_SERVER[PHP_SELF]?p=$prev\"><<</a></font>&nbsp"; } //次の$pageページへ移動 if (($next - 1) * $lim < $reccnt) { // >> を $page"."ページ進む にする事もできる echo "<font size=\"1\"><a href=\"$_SERVER[PHP_SELF]?p=$next\">>></a></font>&nbsp"; } //最後のページへ移動 if ($p < $last) { echo "<font size=\"1\"><a href=\"$_SERVER[PHP_SELF]?p=$last\">最後</a></font>&nbsp"; } } ?>
●質問の主旨 下記のコードでデータベースを実行しようとしたところ、 Fatal error: Call to undefined function prinf() が 表示されます。 Host infomation: localhost via TCP/IP と表示させるためには、どこを修正すれば良いでしょうか？ ご存知の方、よろしくお願いします。 ●質問の補足 参考書によると、 Fatal error: Call to undefined fuction mysqli_connect() というエラーが表示される可能性があることを、前もって指摘されています。 ただその場合、「php.iniファイルのphp_mysqli.dllを有効にしてください」 とありますが、私のファイルではすでに有効になっています。 （";"セミコロンは入力されていない状態） extension=php_mysql.dll extension=php_mysqli.dll また、Fatal error:の内容が、私の場合、"printf()"ですが、 参考書の場合、mysqli_connect()になっています。 ●参考書 ジュリー・C・メローニ はじめてのPHP、MySQL、Apache原著第5版　PEARSON P.365 リスト18-1 ●コード <?php $mysqli = new mysqli("localhost", "username", "******", "firstmysql"); if(mysqli_connect_errno()) { printf("Connect failed: %s\n", mysqli_connect_error()); exit; } else { prinf("Host infomation: %s\n", mysqli_get_host_info($mysqli)); }
phpファイルからHTMLの書き出しについての質問です できるとこまでやってみたんですが途中にmysqlから取り出したデータを処理するためのwhileなどのphpがあるためうまくいきませんでした 途中にphpがある場合、どうすればうまくいきますか？ PHP Version 5.2.5です ファイルロックはこんな感じでしょうか? よろしくお願いします $html = <<<END_OF_DATA <html> <head> <title>タイトル</title> </head> <body> <table> <?php while ($table = mysql_fetch_assoc($recordSet)) { ?> <tr> <td>{$table['id']}</td> <td><?php print(htmlspecialchars($table['name'], ENT_QUOTES)); ?></td> </tr> <?php } mysql_free_result($recordSet) or die("MySQL切断に失敗しました。"); mysql_close($link) or die("MySQL切断に失敗しました。"); ?> </table> </body> </html> END_OF_DATA; $filename = 'index.html'; $fp = fopen($filename,'w'); stream_set_write_buffer($fp,0); flock($fp, LOCK_EX); fwrite($fp, $html); flock($fp, LOCK_UN); fclose($fp);
原則からはずれるのですが、htmlspecialcharsをあえて、mysqlに登録する前に使えませんか？ 例えば1000行10カラムを表示する場合、1万回もhtmlspecialcharsを使わなくてはいけないので、何とか軽く処理できないかと思いました そこでhtmlspecialcharsを使って変換してからmysqlに登録したいのです 変換した文字がmysqlに不具合を与えることはありますか? &amp; &quot; ' &lt; &gt;
事務所のホームページなのですが・・・従来のドメインではwwwやindexの正規化ができていたのですが、できなくなってしまいました。 今までのaaaというドメインをbbbという日本語ドメインにリダイレクトし、さらにcccという新規の別サイトを作りたいと思っております。 今まで　→　サーバの一番上のディレクトリにindex.html これから　→　一番上のディレクトリ内は、「ＡＡＡ」「ＢＢＢ」「ＣＣＣ」 ＡＡＡの中　→　空フォルダ（後にaaaドメインを別で使用するかもしれないので） ＢＢＢの中　→　日本語ドメインで従来のホームページ（301でのリダイレクト先） ＣＣＣの中　→　新規の別サイト（日本語ドメイン） まず、フォルダ分けはこのような形でよいのでしょうか？ そしてこのような形にするには、どこにどのような.thaccessを置けば良いのでしょうか？ .thaccessに記述する内容までご教授いただけると幸いです。 よろしくお願いいたします。
PHPでデータをアップロードするサイトを作っています http://www.php-labo.net/tutorial/php/upload.html を参考にアップロードはできるようになったのですが、贅沢を言えばファイルがアップロードされたときにお知らせメールがこちらに届くようになるといいなと思っています。 素人なのでどなたかわかりやすく教えてくださいませんか？
お世話になります。 メールフォームを作っていますが、mb_send_mailでメールを送ると、半角スペースの部分が?になります。 例えば テスト テスト という文を送ると テスト?テスト になります。 コードは mb_language("ja"); mb_internal_encoding("UTF-8"); mb_send_mail($bcc,$subject,$message,"From: ".$from." \nReply-To: ".$email); みたいな感じです。 特別変なことはしてないですし、他の文字は文字化けしないので、原因がよくわかりません。 ファイルとmeta charsetはUTF-8で、試しに半角スペースを一度%20に変換してみましたがダメでした。 同じ$messageをブラウザに表示するとちゃんと半角スペースとして表示します。 他に確認すべき点などありましたらご教授ください。 よろしくお願い致します。
mysqlにフォームから送られてきたurlを保存しようと思います そのままだとセキュリティ的にまずいですよね？phpでurlのチェックをする方法はありますか？ $hogeにpostされたurlを受け取ってあります varchar(255)のカラムに保存しようと思うのですが255文字超えた文字は登録されないから、文字数制限は必要ないですよね？
事務所にて新しく日本語ドメインを使用したホームページへの移行を検討しております。 日本語ドメインの短所と言われるメールアドレスのピュニコードの問題なのですが・・ 現在のホームページでは、お問い合わせフォームをＰＨＰで作成（プログラムはネットからのコピー）してあります。 このお問い合わせに対しては現在の独自ドメインでのメールアドレスで返信されるのですが、日本語ドメインを取得し、同一のサーバのマルチドメインとした場合、自動返信メールの送信元を現在のメールアドレスとすることはできるのでしょうか？ レンタルサーバはロリポップ、ドメインはムームードメインで取得しました。 DreamWeaverでホームページを３つ作った程度の初心者です。 ぜひお知恵を貸してください。 よろしくお願いいたします。
PHPでの正規表現に関する質問です。 function makeAk($value){ return preg_replace("/(?<![一-龠+ぁ-ん+ァ-ヴ+a-zA-Z0-9'\"#@=:;])@([一-龠+ぁ-ん+ァ-ヴ+a-zA-Z0-9_]{1,15})/u", "@<a href=\"mypage.php/\\1\">\\1</a>", $value); } 上記のコードでmypage.phpに\\1ではなく、パラメーター(?id=$post['id']のような)を振りたいのですが、 どうしたらうまくいきますでしょうか。 よろしくお願いします。
mySQLのデータベースでテーブルを作成、af1～af5のカラムには、に下記のように数値が入っているものと入っていないもの（NULL)があります。 af1 ='10' af2 ='15' af3 ='' af4 ='20' af5 ='' 【作りたいPHP】 数字が入っているカラムがあれば、そのカラム番号（af1なら1、af2なら2)のうちもっとも若い番号1つだけ抽出（上記のカラムであれば3)し、全てのカラムが埋まっていれば0を返すPHPを組みたいと考えています。 <?php $a2 = array( 1=>$row_friend_name['af1'], 2=>$row_friend_name['af2'], 3=>$row_friend_name['af3'], 4=>$row_friend_name['af4'], 5=>$row_friend_name['af5'], ); $empty = array_filter($a2, function($i){return !$i;}); var_dump($empty); ?> 上記のPHPを組んだところ、var_dumpの答えが array(2) [3]=>NULL [5]=>NULL となります。 これを流用し、$emptyの中に[1]や[2]などの記号が入っているかどうかを見極めさせ、そこから1,2,3の数字（空きカラム)を導きだそうと考えました。 "array(2) [3]=>NULL [5]=>NULL"であれば、[1]や[2]を順番に探していき、最初に出てきた[3]を見つけて、'3'を表示させることになります。 *[3]*　というワイルドカードを使ったlike検索のような形にしてみましたが、残念ながら検知してくれません。「見つからなかった」という意味の「0」が答えになっています。 マニュアルを何度も読見返したのですが、どうしても[3]=>NULL　の3を抽出、表示する方法が分かりません。 大変お手数ですが対応方法についてご教授頂きたくお願い致します。 (なんとか自分で対応しようとしたのですが、納期と他の仕事の関係で、これ以上長時間勉強する時間がとれません。何卒宜しくお願い致します) 当方が作って検知出来なかったPHP <?php $a2 = array( 1=>$row_friend_name['af1'], 2=>$row_friend_name['af2'], 3=>$row_friend_name['af3'], 4=>$row_friend_name['af4'], 5=>$row_friend_name['af5'], ); $empty = array_filter($a2, function($i){return !$i;}); if (in_array('*[1]*', $empty, true)) { echo "'1\n"; } elseif (in_array('*[2]*', $empty, true)) { echo "2\n"; } elseif (in_array('*[3]*', $empty, true)) { echo "3\n"; } elseif (in_array('*[4]*', $empty, true)) { echo "4\n"; } elseif (in_array('*[5]*', $empty, true)) { echo "5\n"; } else { echo "0\n"; } ?>
お世話になります。 現在、fsockopen関数を利用してソケット通信を行うシステムを開発しております。 上記、システムを利用する中で考えられる例外として「apacheが停止しているサーバーに通信を行った場合」というのを想定して、例外処理を作成しております。 例外処理をtry catchによって検知しようとしたのですが、try catchでは受け取れませんでした。 ソースは下記のとおりです。 $api_url = "http://localhost/webapp/test"; $api_arr = parse_url($api_url); try{ // ソケット通信開始 $fp = fsockopen($api_arr["host"], 80, $errno, $errstr, 30 ); }catch(ErrorException $e){ echo "Error - failed to connect to the API - ".$e->getMessage(); exit; }catch(Exception $e){ echo "hoge2"; } 上記、ソースをunixのコマンドから実行した場合に出力されたエラーは下記のとおりです。 Error: fsockopen(): unable to connect to localhost:80 (Connection refused) もし、お分かりになる方がおられましたら、ご教示お願い致します。
ある変数$Exampleに"AABBCC"の文字列が含まれているとします。 if文で$ExampleにAAかCCが含まれるときの処理をひっかけたいのですが、 可能な関数はありますでしょうか。 ご存知の方、宜しくお願いします。
windowsXPでXAMPPで制作しています。 PHP/5.3.1 MySQL クライアントのバージョン: 5.1.41 ブラウザ上で価格の高い順、安い順を選択しURLクエリでデータを受け取り値がhighかlowで処理を分けようと思います。 index.php?price=high itemテーブルにはpriceフィールドがあって値段が入力されています。。 $sql="select * from itemorder dy price desc"; prepare($sql); この場合、descの部分をプレースフォルダにしてindex.php?price=lowのときは asc index.php?price=high のときは desc という風に１つの$sqlにすることは可能でしょうか $sql="select * from itemorder dy price :junjo"; $stt->bindValue(':junjo',$junjo);// $junjo はindex.php?priceの値により　desc ascのどちらかが入っている。 prepare($sql); 私の環境では無理でした。 そもそもこのような使い方はできないのでしょうか？ $sql="SELECT * FROM item ORDER BY price $junjo limit $show,$p"; のように$junjoの変数を使えば動くのですが。 クエリの値で$junjo="desc";か$junjo="asc";が定義されます。 LIMIT句もプレースフォルダが付かないようなので上記のような場合PDOの意味が無いような気がします。 よろしくご教授お願いします。
よろしくお願いします。 PHPで変数が未定義であるというエラーが表示されてしまい困っています。 事前に　$hensu = ""; と初期化できればいいのですが、そううまくもできない状況があります。 たとば、次のような場合です。 if (!$_GET['data']){　処理 GETされているかどうかわからないけど、されていた場合の処理の分岐を記述したいので、事前に初期化できない状況です。 こうした場合、次のようにすることで未定義エラーは無視されるようです。 if (@!$_GET['tb']){ このアットマークによる回避方法でよいのでしょうか？ほかに方法があれば教えてください。エラーレポーティングのレベルを変えない方法でお願いします。
お世話になっております。 PHPからMySQL5を呼出すスクリプトを制作しています。 no　id　　　date　　　price ---------------------------- 1　　4　　2013-4-29　　2100 2　　2　　2013-5-1　　 3150 3　　2　　2013-5-31　　4200 4　　7　　2013-6-1　 　2100 5　　2　　2013-6-2　 　1575 6　　4　　2013-6-2　 　8400 というようなデータがありますが、下記のように、2番のid、かつ現在から1ヵ月前の期間内のpriceの合計額を算出したいのですが、 SQLおよび変数はどのようなものになりますでしょうか？ id: 2　 total: 5775 ネットで調べながらSQL文などを色々と試していますが、PHPの変数をどのようにしていしたらいいのかが分からず、結果を返すことが出来ずに立ち止まっている状況です。 大変お恥ずかしい質問と認識しているところですが、アドバイスのほど頂戴出来れば幸いです。 宜しくお願い申し上げます。
繰り返し処理で連想配列の数字を変更しようとしたらうまくいきません 他にやり方ありますか？ <?php $data['fre1']="りんご"; $data['fre2']="バナナ"; while ($k<3) { $k++; print(htmlspecialchars($data['fre{$k}'], ENT_QUOTES)); }
list.tpl {foreach from=$data key=key item=row loop=test} <tr><td>{$row.name}</td>：<td>{$row.kokugo}</td><td>{$row.sansu}</td></tr> {/foreach} ----- index.tpl（一部） <h2>男の子</h2> {include file=list.tpl} <h2>女の子</h2> {include file=list.tpl} ----- index.php（一部） $Smarty -> assign( "data", $boy ); $Smarty -> assign( "data", $girl ); $Smarty -> display( 'index.tpl' ); （実際にこの書き方は間違っていますが…） index.php から index.tpl を display したいのですが、 この中で使うリストを、使いまわしたいと考えています。 こういうやり方はそもそも可能なのでしょうか？ たしかに boylist.tpl 、 girllist.tpl とし中の割当変数を $boy 、 $girl に変えればいいのですが、 将来変更が加わった際に両方変えなければなりません。 今回は例なので男女ですが、もっと多くの要素が出て来た時に 厄介なことになるように思います。 何か解決方法はありませんでしょうか？
PHPを使ってMYSQLのデータを吐き出すプログラムを作っています。 $re=mysql_query(SQL命令１); でDBに命令し $kekka=mysql_fetch_array($re) で、配列に代入 $re=mysql_query(SQL命令２); でDBの別テーブル(データ型やカラム数は同じ)に命令し $kekkaに情報を足すということがしたいのですが、どのように書けば$kekkaにデータが蓄積されていくのでしょうか？
現在Twitterログインアプリを作りいのですが、 下記のようなエラーが出てしまいます。 Fatal error: Class 'Codebird' not found in /var/www/html/callback.php on line 8 認証にはcodebird.phpというライブラリを使っております。 （https://github.com/mynetx/codebird-php　下記コードのソースもこちらです。） 分かる方がいらっしゃれば教えて原因を教えて頂けると非常に助かります。 宜しくお願い致します。。 以下仕様 <a href="callback.php">twitterでログイン</a> これをクリックすると、callback.phpに飛び認証が行われるという具合です。 callback.php内ではconfig.phpとcodebird.phpを読み込んでます。 以下callback.phpコード var_dump($me); が実行出来ず、先に記したエラーが起きます。 <?php require_once('config.php'); require_once('codebird.php'); session_start(); Codebird::setConsumerKey(CONSUMER_KEY, CONSUMER_SECRET); //上記の定数はconfig.phpに記載しており、スペルミスはありません。 $cb = Codebird::getInstance(); if (! isset($_GET['oauth_verifier'])) { // gets a request token $reply = $cb->oauth_requestToken(array( 'oauth_callback' => 'http://' . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'] )); // stores it $cb->setToken($reply->oauth_token, $reply->oauth_token_secret); $_SESSION['oauth_token'] = $reply->oauth_token; $_SESSION['oauth_token_secret'] = $reply->oauth_token_secret; // gets the authorize screen URL $auth_url = $cb->oauth_authorize(); header('Location: ' . $auth_url); die(); } else { // gets the access token $cb->setToken($_SESSION['oauth_token'], $_SESSION['oauth_token_secret']); $reply = $cb->oauth_accessToken(array( 'oauth_verifier' => $_GET['oauth_verifier'] )); // $_SESSION['oauth_token'] = $reply->oauth_token; // $_SESSION['oauth_token_secret'] = $reply->oauth_token_secret; $cb->setToken($reply->oauth_token, $reply->oauth_token_secret); $me = $cb->account_verifyCredentials(); var_dump($me); exit; }
環境はWindows7/AptanaStudio3.4.0/xamppです 下記のページを参考に環境設定を行いました。 http://s3pw.com/milestoner/2012/08/aptana-xampp- … ですが、下記のページのようにプレビューウィンドウが表示されません。 http://s3pw.com/milestoner/2012/09/how-to-previe … 添付画像のように分割されてしまっているようです。 どうしてでしょうか。
個人アカウント付きのサイト作成に利用できるサービスはありますか？ 現在、個人がコンテンツを投稿できるようなサイト（youtubeやnaverまとめのような）の作成を考えています。 できればサイト内でコンテンツのランキングも含めたいと思っています。 実際に、このようなサイトを作成するに当たり、利用できるサービスなどはございますでしょうか？ それとも、PHPなどの言語を用いて自力で組み立てるしかないのでしょうか？ そのような場合、できる限り時間を短縮するにはどのようなフレームワークなどがあるのでしょうか？ 種類がたくさんで、何がどう優れているのかわからなくなってしまっている状況です。 不躾ですが何卒よろしくお願いいたします。
PHPで掲示板を簡易的に作ったのですが スマートフォン（iPhone）にも対応したく思います。 端末用にコーティングするにはどのような記述をしたら良いでしょうか。 【ソース】 _/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/ <html> <head><title>TEST</title></head> <body> <p>掲示板</p> <form method="POST" action="<?php print($_SERVER['PHP_SELF']) ?>"> <input type="text" name="personal_name"><br><br> <textarea name="contents" rows="8" cols="40"> </textarea><br><br> <input type="submit" name="btn1" value="投稿する"> </form> <?php if($_SERVER["REQUEST_METHOD"] == "POST"){ writeData(); } readData(); function readData(){ $keijban_file = 'keijiban.txt'; $fp = fopen($keijban_file, 'rb'); if ($fp){ if (flock($fp, LOCK_SH)){ while (!feof($fp)) { $buffer = fgets($fp); print($buffer); } flock($fp, LOCK_UN); }else{ print('ファイルロックに失敗しました'); } } fclose($fp); } function writeData(){ $personal_name = $_POST['personal_name']; $contents = $_POST['contents']; $contents = nl2br($contents); $data = "<hr>¥r¥n"; $data = $data."<p>投稿者:".$personal_name."</p>¥r¥n"; $data = $data."<p>内容:</p>¥r¥n"; $data = $data."<p>".$contents."</p>¥r¥n"; $keijban_file = 'keijiban.txt'; $fp = fopen($keijban_file, 'ab'); if ($fp){ if (flock($fp, LOCK_EX)){ if (fwrite($fp, $data) === FALSE){ print('ファイル書き込みに失敗しました'); } flock($fp, LOCK_UN); }else{ print('ファイルロックに失敗しました'); } } fclose($fp); } ?> </body> </html> _/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/ ご教示の程宜しくお願い致します。
自分のレンタルサーバがmod_rewriteを使えないのですが、 301コードか何かを使って、実質同じことをできたような気がします ですが、最近プログラミングしていないので、調べてもさっぱりです。 なので、教えていただけませんか？ なお、環境はLAMPです。 よろしくお願いします！
PHPの初心者です。 ＨＴＭＬのフォームでsubmitが押されたかの判定を if (isset($_POST['submit'])){ print"押されました"; }else{ 　print"押されてません"; } という、形でやってきたのですが、 yes側に押していない場合を設定してelse側に押した場合を記述したいのですが、if文で「submitが押されていなかったら」とはどのように書けばいいでしょうか？
連想配列からテーブル(<th>テーブルヘッダ項目を含む）を作成する関数を作ろうと思っています。 配列と関数をどのように書けばHTMLのソースのようになるでしょうか？ 値によって、<td>と<th>を振り分けるようになど良い方法を教えてください。 （1.できれば配列で<td>　</td>は省略したいと思います。） （2.<th>　</th>の指定場所は下のhtmlのように縦とか横とかにに変えられた方が良いです。） //-----　関数　----- function table($v) { } //-----　配列　----- $s = array(); $s[0] = array( 'A-1' , 'B-1' , 'C-1' , 'D-1' , 'E-1' ); $s[1] = array( 'A-2' , 'B-2' , 'C-2' , 'D-2' , 'E-2' ); $s[2] = array( 'A-3' , 'B-3' , 'C-3' , 'D-3' , 'E-3' ); $s[3] = array( 'A-4' , 'B-4' , 'C-4' , 'D-4' , 'E-4' ); $s[4] = array( 'A-5' , 'B-5' , 'C-5' , 'D-5' , 'E-5' ); table($s); //-----　生成されるhtml　----- <table> <tr><th>A-1</th><th>B-1</th><th>C-1</th><th>D-1</th><th>E-1</th></tr> <tr><td>A-2</td><td>B-2</td><td>C-2</td><td>D-2</td><td>E-2</td></tr> <tr><td>A-3</td><td>B-3</td><td>C-3</td><td>D-3</td><td>E-3</td></tr> <tr><td>A-4</td><td>B-4</td><td>C-4</td><td>D-4</td><td>E-4</td></tr> <tr><td>A-5</td><td>B-5</td><td>C-5</td><td>D-5</td><td>E-5</td></tr> </table> <table> <tr><th>A-1</th><td>B-1</td><td>C-1</td><td>D-1</td><td>E-1</td></tr> <tr><th>A-2</th><td>B-2</td><td>C-2</td><td>D-2</td><td>E-2</td></tr> <tr><th>A-3</th><td>B-3</td><td>C-3</td><td>D-3</td><td>E-3</td></tr> <tr><th>A-4</th><td>B-4</td><td>C-4</td><td>D-4</td><td>E-4</td></tr> <tr><th>A-5</th><td>B-5</td><td>C-5</td><td>D-5</td><td>E-5</td></tr> </table> //-----　考え中？？の配列　----- $s = array(); $s[0] = array( '<th>A-1</th>' , '<th>B-1</th>' , '<th>C-1</th>' , '<th>D-1</th>' , '<th>E-1</th>' ); $s[1] = array( 'A-2' , 'B-2' , 'C-2' , 'D-2' , 'E-2' ); $s[2] = array( 'A-3' , 'B-3' , 'C-3' , 'D-3' , 'E-3' ); $s[3] = array( 'A-4' , 'B-4' , 'C-4' , 'D-4' , 'E-4' ); $s[4] = array( 'A-5' , 'B-5' , 'C-5' , 'D-5' , 'E-5' ); table($s); $s = array(); $s[0] = array( 'th' => 'A-1' , 'B-1' , 'C-1' , 'D-1' , 'E-1' ); $s[1] = array( 'th' => 'A-2' , 'B-2' , 'C-2' , 'D-2' , 'E-2' ); $s[2] = array( 'th' => 'A-3' , 'B-3' , 'C-3' , 'D-3' , 'E-3' ); $s[3] = array( 'th' => 'A-4' , 'B-4' , 'C-4' , 'D-4' , 'E-4' ); $s[4] = array( 'th' => 'A-5' , 'B-5' , 'C-5' , 'D-5' , 'E-5' ); table($s); //-----　参考中のソース　----- //--　http://oshiete.goo.ne.jp/qa/8107250.html function table($v) { echo '<table>'; foreach ($v as $t1) { echo '<tr>'; foreach ($t1 as $t2) { echo '<td>' . $t2 . '</td>'; } echo '</tr>'; } echo '</table>'; }
if文の書き方でHTMLをphpのif文やwhileなどで挟んで表示する方法なんですがendifをやらなくても表示できたのですがこの書き方でもいいでしょうか？ <?php $sample=6; if ($sample > 5) { ?> <p>5より大きいです。</p> <?php } else { ?> <p>5より小さいです。</p> <?php } ?>
■質問1 ・PHPで、一定時間が経過すると処理が発生みたいなことはできるでしょうか？ ■質問2 ・PHPで、指定時刻になったら処理が発生みたいなことはできるでしょうか？
TEXTAREAタグの属性wrapにhardを設定したHTMLがあります。 今まで問題はなかったのですが、Window8のIE10だと、なぜか 改行が倍になってしまいます。 調べた所、IE10の特有の問題で、改行が本来「0x0d,0x0a」に したいところ、「0x0a,0x0a」になってしまうようです。 http://answers.microsoft.com/ja-jp/ie/forum/ie10 … そこで、データ受け側のPHPプログラムで、改行コードを0x0a,0x0aから0x0d,0x0a にしたいと思っていますが、改行コードの変換の仕方がわかりません。 replaseとかだと、\nとか\r\nとかでしか変換した事がないので、0x0aとかの変換 の仕方がわかりません。 また、単純に0x0a,0x0aを0x0d,0x0aに変換すれば解決できるものなのかも疑問です。 本当に改行が複数あった場合などは、どうなるのか？ IE10以外のブラウザでは問題ないのか？です。 WindowsのPCはあるので、Windows版のIE10以外のIEやクローム、FireFox、サファリ などは試せますが、マックなどはどういった挙動をするのかも心配です。 ここら辺に詳しい方がおりましたら、アドバイスを頂けると助かります。宜しくお願いします。
現在プログラミングの勉強で、会員制の投稿サイトを作っております。 そこでデータベースを設計しているのですが、いいね！機能の実装方法がわかっていません。 （Facebookのいいねボタンとほぼ同様の機能ですが、それとは違うものです。） 仕様としては、 ・気になる投稿に「いいね」を付けられる ・「いいね」を押すと、「いいね」カウントを増やす ・同じボタンで取り消すことができ、「いいね」カウントが減る ・内容は他のユーザにも反映する ・ユーザが「いいね」を押した投稿の一覧を見られる こんなところです。Facebookのいいねと同じ仕様と思って頂いて構いません。 投稿データに「like_count」みたいなフィールドで増減すれば良いと思ったのですが、 いいねを付けたユーザーとの結びつけや、Ajaxでの処理の仕方が見当もつきません。 どうかお知恵をお貸しいただけると助かります。
phpでhtmlspecialcharsを使ってタグの無効化をするとセキュリティーが向上するとあったのですが、フォームからのデータを読み込んで保存する時に使うのが良いのでしょうか？ それとも保存時は何もせずに表示する時にこの関数を通すのが良いのでしょうか？ 自分は保存時にこの関数を通すと思っていたのですが、翔泳社のPHP入門教室10日で覚えるシリーズのサンプルではDBからデータを読み込んで表示する時にこの関数を通していました。 こちらのほうが正解なのでしょうか。 よろしくお答えください。
X軸が秒単位、Y軸が何秒ごとの数を表したグラフを作る際に書いたコードなのですが、 データが増えすぎると処理時間が長くなるので、もっと処理速度の速いアルゴリズムはないでしょうか？ class JsonDate{ public $start_time;//エポックタイム public $end_time;//エポックタイム public $duration = 2;//単位は秒 function getDateCounts(){ $this->start_time = 1369706475; $this->end_time = 1369706492; /* $dates配列の中身は昇順です */ $dates = array( 1369706475, 1369706477, 1369706478, 1369706479, 1369706481, 1369706486, 1369706486, 1369706487, 1369706489, 1369706492, ); $dateCounts = array(); for($to = $this->start_time + $this->duration;$to < $this->end_time; $to+=$this->duration){ $from = $to - $this->duration; if(!isset($dateCounts[$to]))$dateCounts[$to] = 0; foreach ($dates as $i => $date){ if($from < $date ){ if($date <= $to){ $dateCounts[$to]++; }else{ break; } }else{ unset($dates[$i]); } } } return $dateCounts; } } $JD = new JsonDate(); $dateCounts = $JD->getDateCounts(); print_r($dateCounts); 結果は ( [1369706477] => 1 [1369706479] => 2 [1369706481] => 1 [1369706483] => 0 [1369706485] => 0 [1369706487] => 3 [1369706489] => 1 [1369706491] => 0 )
教えてください。 プログラミング初心者です。 PHPなどのプログラミングでよくSQLでデータベースから引っ張ってきたデータに対してよく見かけるのですが、2重配列に格納したりするのはどういう使い方なのでしょうか？where文で複数条件で問い合わせたものに対して紐づけたりする時に使ったりするのでしょうか？ そもそも2重配列がイメージできていないです。データベースからのデータでなくても使用したりしてるかもしれませんが。宜しくお願いします。
過去の質問を見たんですが、見つからなかったで質問させてください。 以下のように２列（id,sort）のデータが入っていたとします。 id sort 1 時計 2 靴 3 猫 4 犬 5 靴 6 時計 ・・・・ で、このデータベースから以下のようなデータが抽出したいです。 １．sort にどんな種類のデータがあるか？　上記の例だと、「時計、靴、猫、犬」 ２．その各種類が何個ずつ収納されているのか？　上記の例だと「時計2、靴２、猫１、犬１」 1行ずつデータを拾ってきて、どんなデータがあるかを調べる事は可能なのですが、 例では6行のデータですが、実際に動かしているシステムは20万行近くあります。 何か良い方法はありませんでしょうか？ よろしくお願いします。
フォームからログインした場合にブラウザにパスワードを保存するを表示する方法ってありますか？ 例えばグーグルクロームだと、ブラウザの上のほうに「パスワードを保存しますか？」とでますよね？ しかし、ログインしてもその表示がでません ログインページから<form action="" method="post">で同じページに送信して、ログインしたらheader('Location: index.php');でページ移動させています
連想配列からリストを作成する関数を作ろうと思っています。 関数をどのように書けばHTMLのソースのようになるでしょうか？ //-----　関数　----- function li($v) { } //-----　配列　----- $s[0] = array( 'Google' , 'https://www.google.co.jp/' , ' － 検索エンジン' ); $s[1] = array( 'Yahoo! JAPAN' , 'http://www.yahoo.co.jp/' , ' － 検索エンジン' ); $s[2] = array( 'Goo' , 'http://www.goo.ne.jp/' , ' － 検索エンジン' ); $s[3] = array( 'ツイッター' , 'https://twitter.com/' , ' － ミニブログ' ); li($s); //-----　生成されるhtml　----- <ul> <li><a href="https://www.google.co.jp/" title="Google">Google</a> － 検索エンジン</li> <li><a href="http://www.yahoo.co.jp/" title="Yahoo! JAPAN">Yahoo! JAPAN</a> － 検索エンジン</li> <li><a href="http://www.goo.ne.jp/" title="Goo">Goo</a> － 検索エンジン</li> <li><a href="https://twitter.com/" title="ツイッター">ツイッター</a> － ミニブログ</li> </ul> //-----　print_r　----- array(4) { 　[0]=> 　array(3) { 　　[0]=> 　　string(6) "Google" 　　[1]=> 　　string(25) "https://www.google.co.jp/" 　　[2]=> 　　string(16) " － 検索エンジン" 　} 　[1]=> 　array(3) { 　　[0]=> 　　string(12) "Yahoo! JAPAN" 　　[1]=> 　　string(23) "http://www.yahoo.co.jp/" 　　[2]=> 　　string(16) " － 検索エンジン" 　} 　[2]=> 　array(3) { 　　[0]=> 　　string(3) "Goo" 　　[1]=> 　　string(21) "http://www.goo.ne.jp/" 　　[2]=> 　　string(16) " － 検索エンジン" 　} 　[3]=> 　array(3) { 　　[0]=> 　　string(10) "ツイッター" 　　[1]=> 　　string(20) "https://twitter.com/" 　　[2]=> 　　string(14) " － ミニブログ" 　} }
現在PHPの勉強がてら、簡単な「場所」投稿サイトを作りたいと考えています。 簡易版食べログみたいなものです。 そこで、データベースを設計しているのですが、 各投稿に対してタグを付ける場合、どうしたら良いかわからなくなってしまいました。 例えばですが管理画面などから、「場所」を投稿する際、 Aという場所には、a,b,cのタグ3つ Bという場所には、a,cのタグ2つ Cという場所には、a,b,c,dの4つのダグ のように、場所によってタグの数が違ってしまいます。 この場合どのように管理したら良いのか全く見当もつきません。 データベース設計は重要と聞いておりますので、 どうか、お力をお借り出来ればと思います。 よろしくお願いします。
連想配列からテーブルを作成する関数を作ろうと思っています。 関数をどのように書けばHTMLのソースのようになるでしょうか？ //-----　関数　----- function table($v) { } //-----　配列　----- $s[0] = array( 'あ行' , 'い行' , 'う行' , 'え行' , 'お行' ); $s[1] = array( 'か' , 'き' , 'く' , 'け' , 'こ' ); $s[2] = array( 'さ' , 'し' , 'す' , 'せ' , 'そ' ); table($s); //-----　生成されるhtml　----- <table> <tr><td>あ行</td><td>い行</td><td>う行</td><td>え行</td><td>お行</td></tr> <tr><td>か</td><td>き</td><td>く</td><td>け</td><td>こ</td></tr> <tr><td>さ</td><td>し</td><td>す</td><td>せ</td><td>そ</td></tr> </table> //-----　print_r　----- array(3) { 　[0]=> 　array(5) { 　　[0]=> 　　string(4) "あ行" 　　[1]=> 　　string(4) "い行" 　　[2]=> 　　string(4) "う行" 　　[3]=> 　　string(4) "え行" 　　[4]=> 　　string(4) "お行" 　} 　[1]=> 　array(5) { 　　[0]=> 　　string(2) "か" 　　[1]=> 　　string(2) "き" 　　[2]=> 　　string(2) "く" 　　[3]=> 　　string(2) "け" 　　[4]=> 　　string(2) "こ" 　} 　[2]=> 　array(5) { 　　[0]=> 　　string(2) "さ" 　　[1]=> 　　string(2) "し" 　　[2]=> 　　string(2) "す" 　　[3]=> 　　string(2) "せ" 　　[4]=> 　　string(2) "そ" 　} }
こんにちは。PHPを使っていまして、数値の表示で悩んでいます。 数値をカンマで区切りして、もし少数点以下の数値がある場合は、 0をカットして表示したいのですが どのようにすれば良いでしょうか？ たとえば下記の数値について 10000 10000.10000 10000.00300 12345.67890 下記のような結果を得るには どうすれば良いでしょうか？ 10,000 10,000.1 10,000.003 12,345.6789 よろしくお願いいたします。
質問.1 hoge.phpから header('Location: hoge2.php');でページ移動させた場合、hoge.phpで使っていた変数をhoge2.phpに渡す方法ってありますか？クッキーやSESSION以外の方法があればおねがします、formの値をhoge2.phpに渡したいのです 質問2 クッキーはhoge.phpでセットした後、同じページ内で削除はできないのですか？
coneco.netのカテゴリ検索APIを使って デスクトップパソコン(Windows)等の小カテゴリ(Level3)のID「01011010」を取得したいのですが、 サンプル通りにやってもうまくいきません。 http://api.coneco.net/cws/v1/SearchCategories?ap … では取得できないのでしょうか？ coneco.netの全ての小カテゴリ(Level3)のIDを取得するにはどうしたらよいでしょうか？ よろしくお願いいたします。
PHPでECサイトのカート機能を作っています。 まず商品一覧画面(index.php)にデータベースから読み取ったidとNAME、そして個数、サイズ、包装の有無のセレクトボックスを表示します。 それぞれの商品の追加ボタンを押すとカートのphp(t_cart.php)に飛んで上記の情報を全て表示できるようにしたいのですが、idとNAMEと個数の情報は受け渡せるのですが、サイズや包装の有無は別の商品を追加すると全ての商品の情報が上書きされてしまいます。 コードの一部を記載しておきます。 まだPHPを始めたばかりで初歩的な事がわからないのですが、ぜひ御知恵をお貸しいただければとおもいます。 よろしくお願いします。 ・index.php <table> <?php foreach ($Menu as $g) { ?> <tr> <td> <p class="Menu"><?php echo $g['id'] ?></p> </td> <td> <p><?php echo $g['NAME'] ?></p> </td> <form action="t_cart.php" method="post"> <td> <a>個数：</a> <select name="num"> <?php for ($i = 1; $i <= 10; $i++) { echo "<option>$i</option>"; } ?> </select> </td> <td> <a>サイズ：</a> <select name="size"> <option>S</option><option>M</option><option>L</option> </select> </td> <td> <a>包装：</a> <select name="deco"> <option>有</option><option>無</option> </select> </td> <td> <input type="text" name="id" value="<?php echo $g['id'] ?>"> <input type="submit" name="submit" value="go to cart"> </td> </form> </tr> <?php } ?> </table> ・t_cart.php <?php require 'common.php'; $rows = array(); $sum = 0; $pdo = connect(); if (!isset($_SESSION['cart'])){ $_SESSION['cart'] = array(); } if (@$_POST['submit']) { @$_SESSION['cart'][$_POST['id']] += $_POST['num']; } foreach($_SESSION['cart'] as $id => $num) { $st = $pdo->prepare("SELECT * FROM Menu WHERE id=?"); $st->execute(array($id)); $row = $st->fetch(); $st->closeCursor(); $row['num'] = strip_tags($num); $row['size'] = $_POST['size']; $row['deco'] = $_POST['dough']; $rows[] = $row; } ?>
よろしくお願いいたします。 色々悩んだのですが…いい方法が見つかりません。 例えば $foo = "テストの文字列テストの文字列テストの文字列テストの文字列テストの文字列（改行）テストの文字列テストの文字列テストの文字列テストの文字列テストの文字列（改行）テストの文字列テストの文字列テストの文字列テストの文字列テストの文字列（改行）テストの文字列テストの文字列テストの文字列テストの文字列テストの文字列（改行）"; という文字列 $foo があるとします。 （改行）の部分は改行コード \n が入っているとします。 この時、文字列を（例えば）文意の切れる改行で区切って切り出そうとするとどんな方法があるのでしょうか？ 普通の文字列であれば $bar = substr( $foo, 0, str_pos( $foo, "検索文字列", オフセット値 ) ); のような形で切り出せると思うのですが、 この検索文字列を改行コード \n で行いたいのですが…。
isset()などを使わずに下記のように変数だけで条件を指定するとまずいですか？ isset()などをつかった場合の違いはなんでしょうか？ if($_SESSION['id']){ print "hoge"; }
以下のようなコードがあったとき $obj = new stdClass(); $foo = $obj; この場合、動作は いわゆる【参照の値渡し】というとらえかたでよいのでしょうか？ 変数$obj には、 new stdClass();という記述によって 新規に作成されたオブジェクトの参照(※正確には別のメモリ内に保持されたオブジェクトのアドレス） が保持されるわけですよね？ そのとき $foo = $obj; というコードは$objが保持するオブジェクトのアドレス値を$fooという変数にも コピーするという動作を意味するわけですよね。 この場合、両変数を用いて生成されたオブジェクトのプロパティなどの状態を 共有することとができます。 しかしながら変数$fooに別の値、例えば文字列を代入すうると $foo = "文字列"; とすると$fooの値が変更され$objの値は変更されません。 対して、次のようなコードがあった場合 $foo = &$obj; というコード、これはPHPにおける参照渡しですが、 この場合は$objが指し示す、オブジェクトが保持されているメモリ上のアドレスではなく そのメモリ上に確保された変数$objそのもののアドレスが$fooという変数にコピー？ されるのでしょうか？ この明示的な参照渡しだと、オブジェクトの状態を共有するのはもちろん $foo = "オブジェクト破棄"; と片方に文字列を代入すると print $obj; 同様に文字列にかわってしまいます。 この本来の意味？であろう参照渡しとは実際 $fooに変数$objそのもののアドレスが保持されるという 解釈でよいのでしょうか？ おくわしいかたご教授ください。
・「multiple属性のpost送信」を配列で受け取った場合、意図した通りの順番で配列に収められないような気もするのですが、受け取る順番は担保されないのでしょうか？ ・何に依存しているのでしょうか？　ブラウザとか？
私は、両脚股関節人工関節の身体障がい者です。おまけに、性同一性障害なのですが、そういった関係上、職業が限られてきます。そこで、とりあえずは、Webデザイナーを目指しているのですが、もちろん、ハローワークの推奨している就労支援センターのWebデザイナーコースも受けるつもりですが、それまでに地元の障がい者作業所に一年くらい通いながら、ある程度自分でWebデザインやphpでのショッピングカート構築などを勉強したいと思っています。 実際に有料サーバーでHPを運営してみようと思っています。ドリームウィバーを使用するつもりです。そこで、どういった書籍がよいのかご教授お願いします。 ドリームウィバーの使用方法、phpでのショッピングカート構築に必要な知識を得るもの、Webデザインに関する技術が学べるものなどです。 本来ならば、自力で調べなければならないのですが、どういった書籍が該当するのかわかりませんでしたのでよろしくお願いします。なお、地元の障がい者作業所では、一切ITに関する作業はありません。 ある程度のレベルに達してから就労支援センターへいきたいのです。よろしくお願いします。
PHPの勉強をしています。 phpMyAdminからcodeだけをよんで、PHPにデータを表示するプログラムを書いています。 こんな感じで書いているのですが、2月までできて3月をつけたすとエラーが起きて何も映らなくなります。 ↓ソースコードです。 <? $dbServer = "サーバーの名前"; $dbUser = "ユーザー名"; $dbPass = "パスワード名"; $dbName = "データベース名"; $flag = TRUE; if(!$link = mysql_connect($dbServer, $dbUser, $dbPass)){ $flag = FALSE; } else if (!mysql_select_db($dbName, $link)){ $flag = FALSE; } if($flag == TRUE){ $sql = sprintf("SELECT * FROM tanzyouseki WHERE code = '%d'", mysql_real_escape_string('1')); $sql2 = sprintf("SELECT * FROM tanzyouseki WHERE code = '%d'", mysql_real_escape_string('2')); $sql3 = sprintf("SELECT * FROM tanzyouseki WHERE code = '%d'", mysql_real_escape_string('3')); $query = mysql_query($sql, $link); $query2 = mysql_query($sql2, $link); $query3 = mysql_query($sql3, $link); echo '<br/>'; while($row = mysql_fetch_object($query)){ while($row2 = mysql_fetch_object($query2)){ while($row3 = mysql_fetch_object($query3)){ $page=intval($_REQUEST['page']); $image=array("ganet.jpg","amesisuto.jpg","aqua.jpg"); $sport=array($row->jewelname,$row2->jewelname,$row3->jewelname,); $word=array($row->jeweltext, $row2->jeweltext, $row3->jeweltext,); $page+1; $page1 = $page +1; $page2 = $page -1; } } } } else { echo 'エラー'; } function h($string){ return htmlspecialchars($string); } ?> <table width="500" border="1"> <tr> <td><button><? if($page>0){ print ('<a href=jewel.php?page='.$page2.'>');}else{} ?>次の月へ</a></button> <button><? if($page<1){ print ('<a href=jewel.php?page='.$page1.'>');}else{} ?>前の月へ</a></button></td> </tr> <tr> <caption><? print ($jewel[$page]); ?></caption> </tr> <tr> <td><? print ('<img src='.$image[$page].'>'); ?></td> </tr> <tr> <td><? print ($word[$page]); ?></td> </tr> </table> どこが間違っているのか教えてください。 ↓データベースの内容です。 code || tuki || jewelname || jeweltext || 1 1月 ガーネット 真実・友愛・忠実 2 2月 アメシスト 誠実・心の平和 3 3月 アクアマリン 沈着・勇敢・聡明 わかる方よろしくお願いします。
PHPでステータスが300以下の場合、案内ボタンが表示されるものを作っています。 案内ボタンは、下記のように、onclick="" の中にlocation.href='info.php'が入っており、""の中に''で囲まれた文が入っているものになります。 <input type="submit" onclick="location.href='info.php'" value="案内" > これをIF文でステータスが300以下の時に、表示出来るようにしたいと考えています。 通常、echo "" の中に""を入れる場合は、""の部分を''に変更すれば作動しますが、今回は下記のようにecho ""　の中に、「""に囲まれた''」が入ったものをいれることになります。 下記のように、"" '' のいずれもを''にした場合動きませんでした。 このような場合、どのように記載すれば動くでしょうか? 現在の仕様 <?php IF ($status['Price']<300) { echo "<input type="submit" onclick='location.href='info.php'' value='案内' >"; } ELSE { echo ""; } ?> 宜しくお願い致します。
ある質問ページでphpでの受信について、以下のような回答がありました。「サイトの代表アドレス」と「受け取る側のアドレス」は同じにしました。しかしエラーがでました。どこが間違いでしょうか ーーーーーーーーー 「フォーム」にname,subject,commentの欄があるとする。phpでの受信するには次のようなphpになります。 <?php $rp='-f サイトの代表アドレス'; $subject=mime(mb_convert_encoding($_POST['subject'],'JIS','UTF-8')); $body=mb_convert_encoding($_POST['name']."\n".$_POST['comment'],'JIS','UTF -8'); $head="Content-Type: text/plain; charset=ISO-2022-JP\nContent-Transfer- Encoding: 7bit"; mail('受け取る側のアドレス',$subject,$body,"From: サイトの代表アドレス\n".$head,$rp); ?> </body> </html>
最近独学を始めたPHP初心者です。 もしpostテーブル内、categoryカラムの中身がnewsだった時newsの行のデータを呼び出す。 この様な処理を行いたい場合はどのように条件判定を記述すれば良いのでしょうか？ $a = $row['category'] if( $a == News){ ～処理～ } このような感じでよろしいでしょうか？ また行全体を呼び出したいときはどのように記述を行えばよろしいでしょうか？ カラム一つ一つを呼び出すのは避けたいと思います。 分かり辛い、情報が足りないなどございましたらご指摘くださいm(_ _)m どうぞ宜しくお願い申し上げます。
度々お世話になります。 画像が上がっていなかったので、再度質問させて頂きます。 簡単に言うと、画像のように顧客テーブルのレコードを絞り込んだ結果を１クリックで売上テーブルに挿入したいと考えております。 検索結果をforeachでループさせて表示しています。 ボタンのINPUTタグを組み込んだのですが、クリックすると、検索結果全てが挿入されます。 どうすればいいのかお知恵をお貸し下さい。 毎度毎度すいません。 ざっくりですが、ソースはこんなかんじです。 $kensaku = $db->prepare('SELECT * FROM T_kokyaku WHERE name LIKE :ken'); $kensaku -> execute(array(':ken' => 検索ボックスのキー)); 検索結果の表示 while($kekka = $kensaku ->fetch(PDO::FETCH_ASSOC)){ print $kekka['name']; print '<form action="" method ="POST"><input type="submit" name="submit1" value="売上登録"></form> if(isset($_POST['submit1'])){ INSERT分 }
phpの処理結果をdocument.writeで出力したいです。 DBの状態 update　　|url　　|name|tensuu 2013-04-18 00:00:00 |a.html|田中|10 2013-04-22 00:00:00 |b.html鈴木|20 2013-05-21 00:00:00 |c.html佐藤|30 2013-05-22 00:00:00 |d.html黒田|40 2013-05-22 00:00:00 |e.html安部|50 2013-05-22 00:00:00 |f.html向井|20 2013-05-23 00:00:00 |h.html大井|90 php の記述 ＊DBに接続後配下を書いてます。 $sql = "select * from [テーブル名] where update < DATE_SUB( CURDATE(),INTERVAL 1 DAY ) order by tensuu DESC"; $sql .= " LIMIT 0,3"; $datas = mysql_query($sql , $db ); //HTML側に出力する header("Content-type: application/x-javascript"); while ($row = mysql_fetch_assoc($datas)) { echo "document.write(\" <a href=\"$row['url']\">$row['name']</a>\")\n"; echo "document.write(\" <p>$row['tensuu']</p>\") \n"; } 出力されるHTML側 <html> <body> <script type="text/javascript" src="http://www.aaa.com/phpecho.php"></script> </body> </html> この結果でエラーも出ませんが、、、文字も何もでません。。 document.writeのrowあたりの書き方がおかしいと思いますが、 手がつけられない状態です。 アドバイス頂ければ幸いです。 よろしくお願い致します。
日付範囲で検索した後に降順にしたい DBの状態 update|name|tensuu 2013-04-18 00:00:00 |田中|10 2013-04-22 00:00:00 |鈴木|20 2013-05-21 00:00:00 |佐藤|30 2013-05-22 00:00:00 |黒田|40 2013-05-22 00:00:00 |安部|50 2013-05-22 00:00:00 |向井|20 2013-05-23 00:00:00 |大井|90 php の記述 ＊DBに接続語を書いてます。 //1日前のデータを取得 $sql = mysql_query("select * from テーブル名 where update < DATE_SUB( CURDATE(),INTERVAL 1 DAY )"); while ($row = mysql_fetch_assoc($result)) { echo $row['name']."<br>\n"; echo $row['tensuu']."<br>\n"; } 原因 おそらく、日付範囲のデータを得た後で「tensuu」で降順ソート しなければならいと思いますが、そのやり方がわかりません。。 アドバイスお願い致します。。。
php　と　mysqlで作ろうと考えてます。 ・内容 昨日を基点に30日間の対象レコードを表示したいです。 その際、降順表示を考えてます。 DBのテーブル date |name|counter 2013-04-20|田中|2 2013-04-30|佐藤|4 2013-05-10|鈴木|8 2013-05-15|近藤|11 2013-05-22|藤木|10 2013-05-23|藤原|10 やりたいことの結果イメージ（phpの処理をした結果） 実装日　2013-05-23 の場合 1位:近藤 2位:藤木 3位:鈴木 4位:佐藤 ＊補足 昨日から30日間のため　「田中」と「藤原」 は順位から対象外となります。 参考サイトがございましたらアドバイスいただければ幸いです。 よろしくお願い致します。
質問させて頂きます。 現在の日付から3ヶ月後の日時込の日付を取得したいと考えています。 strtotimeを使用することで3ヶ月後の日付までは取得出来るのですが、時間も含め取得したいと考えています。 2013/05/23 15:07:32 ↓ 2013/08/23 15:07:32 のようなイメージです。 strtotimeにこだわっているわけではないので、何か良い実装方法があればご教授お願いしたします。
php　と　mysqlで作ろうと考えてます。 ・内容 php の処理をした結果　同じ名前があった場合 その名前をカウントアップさせたいです。 DBのテーブル name|counter 田中|1 佐藤|2 鈴木|5 phpの処理をした結果　「田中」　が重複していたい場合のDBの結果内容 name|counter 田中|2 佐藤|2 鈴木|5 参考サイトがございましたらアドバイスいただければ幸いです。 よろしくお願い致します。
phpの変数を含んだ処理結果をHTMLに埋めこんだjavaスクリプトタグで表示したいです。 php側のプログラム <?php header("Content-type: application/x-javascript"); $a = array('abc', 'def', 'ghi'); rsort($a); foreach ($a as $tmp) { echo "document.write(\"<P>$tmp</P><br>\")"; } ?> 表示側のHTML <html> <body> <script type="text/javascript" src="http://www.aaa.com/hoge.php"></script> </body> </html> echo "document.write(\"<P>$tmp</P><br>\")"; の箇所が変数でなければ、記入した文字が表示されます。。 例：　echo "document.write(\"あああ\")"; 変数に対応した書き方でないと思いますが、、、アドバイスいただけないでしょうか？ よろしくお願い致します。
最近phpを学び始めました perlでよく使うsub（サブルーチン）はphpではどうなるのでしょうか？
お世話になります PHPのpreg系正規表現で入力された値が 正規表現として正しいかどうか調べたいのですが どのようにすれば良いのでしょうか？ 「正しい」とは 導き出したい値が正しいかではなく 正規表現の記述方法が正しいかどうかです 「[]」と「{}」が正しく閉じているかチェックするだけでいいのかな？？ チェック用の関数などあったら最高です （例） 正しい　[0-9]{1,3} 上記をpreg系関数に入れると1～3文字の半角数字という意味になります 誤っている [0-9{1,3} 上記をpreg系関数に入れると、括弧が閉じていないので Compilation failedになります お忙しい中恐縮ですが 分かる方お助け下さいませ
phpといっしょに使うのはXHTMLでないとまずいです？ HTML4だと、どんな不都合あるのでしょうか？
お世話になっております。 とあるサイトのソースを参考に画像のリアルタイムプレビューを作成しました。 画像を上げプレビューを表示することはできたのですが画像を上げる度に次々と表示される画像が増えてしまいます。 画像を新しく上げる場合は以前に入っていた画像を削除する、 もしくは最後に上げた画像のみをプレビュー表示する方法はありますでしょうか？ unlinkを使用して削除を考えたのですが、 削除とアップロードの両立ができませんでした。 以下が使用しているソースになります。 <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> <title>jQuery.uploadのサンプル</title> <script type="text/javascript" src="./js/jquery-1.7.1.min.js"></script> <script type="text/javascript" src="./js/jquery.upload-1.0.2.min.js"></script> <script type="text/javascript"> $(function() { $('#file_id').change(function() { $(this).upload('upload.php', function(res) { $(res).insertAfter(this); }, 'html'); }); }); </script> </head> <body> <style> .thumb { height: 200px; border: 1px solid #000; margin: 10px 5px 0 0; } </style> <input type="file" name="upload_file" id="file_id"> </body> </html> <?php #アップロードされたファイルが存在するか if ( !is_uploaded_file( $_FILES['upload_file']['tmp_name'] ) ) { echo '<div>ファイルが選択されていません。</div>'; exit(); } #$_FILES["upload_file"]["tmp_name"]がテンポラリにあるファイル名 #$_FILES["upload_file"]["name"]がアップロード元のファイル名 #tmpからファイルをコピー move_uploaded_file($_FILES["upload_file"]["tmp_name"], "files/" . $_FILES["upload_file"]["name"]); echo '<div>'.$_FILES["upload_file"]["name"].'をアップロードしました</div>'; echo '<img class="thumb" src="files/' . $_FILES["upload_file"]["name"] . '">' ?> どなたかご回答いただけましたら幸いでございます。 どうぞ宜しくお願いします。
お世話になります。 以前まで「mysql_query」でSQLを実行していたのをPDOで行うように変更しております。 prepareの「?」の部分までのSQLにした場合（１）、データ取得出来ますが （２）ですとエラーも返ってこなくデータ取得出来ません。 色々と試してはいますが、全く出来なくて大変困っています。どうかご教示くださいませ。 １）SELECT * FROM table WHERE data_code = ? and data_code2 = ? ２）SELECT * FROM table WHERE data_code = ? and data_code2 = ? and (data_code3 = "null" or data_code3 is null or data_code3 = "") ※PHP5.3、MySQL5.0です。
例えばperlだとhoge.cgiとhuga.cgiが動くと2つプロセスが立ち上がりますがphpだと1つで済むのですか? 例えばhoge.phpとhuga.phpが動いても1つのプロセスで済むのですか?
Rubyやnodejsおよびpythonなどは ほぼダウンロードしてきたままを ./configure --prefix=/～ とするだけで問題なくビルドできてしまいます。 しかし、なぜかPHPに関しては異様にビルドオプションが多数あります。 単純にダウンロードしてきたままをビルドしようとしても たとえばlibxml2.soがないなどの警告がでてビルドができません。 なぜPHPは他の言語にくらべこんなにも　ビルドオプションがおおいのでしょうか？ なぜこんなにも共有ライブラリを必要とするのでしょうか？ PHPの言語仕様自体が非常にコンパクトなのかとおもいましたが、ビルドされたPHPバイナリをみるとそれこどコンパクトではないですし・・・・。 drwxr-xr-x. 2 root root 4096 5月 21 09:10 2013 . drwxr-xr-x. 7 root root 4096 5月 21 09:10 2013 .. -rwxr-xr-x. 1 root root 872 5月 21 09:10 2013 pear -rwxr-xr-x. 1 root root 893 5月 21 09:10 2013 peardev -rwxr-xr-x. 1 root root 809 5月 21 09:10 2013 pecl lrwxrwxrwx. 1 root root 35 5月 21 09:10 2013 phar -> /home/1000_VICKY/php2/bin/phar.phar -rwxr-xr-x. 1 root root 53499 5月 21 09:10 2013 phar.phar -rwxr-xr-x. 1 root root 23779789 5月 21 09:10 2013 php -rwxr-xr-x. 1 root root 23721347 5月 21 09:10 2013 php-cgi -rwxr-xr-x. 1 root root 2275 5月 21 09:10 2013 php-config -rwxr-xr-x. 1 root root 4564 5月 21 09:10 2013 phpize 何のビルドオプションもつけずに　PHPバイナリは23779789の用量を持ちます。 PHPのこのビルドのしづらさの原因はいったい何に起因するものなのでしょうか？ PHP にお詳しい方ご教授ください。
お世話になっております。 またつまずいていますので、お知恵をお貸しください。 やりたい事は画像の一番下の売上表のような表を作りたいのです。 PDOで組んでいるのですが、 $SQL = "SELECT * FROM T_uriage JOIN T_kokyaku ON T_uriage.kokyaku_id = T_kokyaku.kokyaku_id JOIN T_shohin ON T_uriage.shohin_id = T_shohin.shohin_id" $uriage_ichiran = $db->prepare($sql); $uriage_ichiran->execute(array()) $uriage_ichiran01=$uriage_ichiran->fetch(PDO::FETCH_ASSOC)) ここまで取得できたのですが、売上表のようにする方法が思いつきません。 お力をお貸し下さい。 よろしくお願いします。
ご教授願います。 LINUX上でPHPをソースからビルドした場合、例えば./configureオプションに --with-readline　というオプションをつけたとします。その場合別途インストールした libreadlline.soというモジュールが共有ライブラリとして動的に作用しますよね？ lddコマンドで共有ライブラリをしらべると linux-vdso.so.1 => (0x00007fff86bff000) libcrypt.so.1 => /lib64/libcrypt.so.1 (0x00007f70ed4ab000) libz.so.1 => /lib64/libz.so.1 (0x00007f70ed294000) libexslt.so.0 => /usr/lib64/libexslt.so.0 (0x00007f70ed080000) libtidy-0.99.so.0 => /usr/lib64/libtidy-0.99.so.0 (0x00007f70ece21000) libreadline.so.6 => /lib64/libreadline.so.6 (0x00007f70ecbdd000) libncurses.so.5 => /lib64/libncurses.so.5 (0x00007f70ec9bb000) librt.so.1 => /lib64/librt.so.1 (0x00007f70ec7b3000) libmcrypt.so.4 => /usr/local/lib/libmcrypt.so.4 (0x00007f70ec580000) libgmp.so.3 => /usr/lib64/libgmp.so.3 (0x00007f70ec325000) libpng12.so.0 => /usr/lib64/libpng12.so.0 (0x00007f70ec0ff000) とこのような共有状態が確認できます。だだこれだと、libreadline.so.6 => /lib64/libreadline.so.6という共有モジュールを 意図して削除した場合、動的リンクができずに php -a　によるインタラクティブモードが動かせなくなります。 これを回避するために、静的リンク？というのでしょうかphpバイナリそのものに組み込むことはできないのでしょうか？ つまり外部のlibreadline.soに依存せずにphpを動かすと行った具合です。 もちろん、これがなんのいみのない処理なのはわかります。起動するたびにメモリを大量に消費してしまうのでしょう。 ただ、こういうlibreadline.soなどの共有モジュールをphpバイナリに組み込める方法があるかどうかをしって実際に試してみたいのです。 LINUXなどPHPなどに造詣が深い方よろしっくご教授ください。お願い致します。
printで出力する以外にHTMLに簡単に変数を表示する方法ってありますか？ <?php $hoge = "晴れ"; ?> ここからHTML、直接変数を表示したい 今日は$hogeです
現在ローカルで開発(cakephp)をしておりますが、 エックスサーバーで公開しようとしますとデーターベースに接続できません。 中々問題解決できるサイトに出会えませんでしたので、恐れ入りますが ご教授いただけますと幸いです。 ■ローカル開発環境 ・CentOS5.5 ・mysql5.0.95 ・cakphp2.2.5 ■行き詰っているところ、解決したいこと 現在上記ローカル開発環境でデータベースを作成しています。（testdb) この作成したデータベースを使いたいのですが、接続方法がわかりません。 まず、そもそもなのですが、可能なのでしょうか？ それとも新しくxserverパネルから新しくデータベースを作成しなければいけないのでしょうか？ ■試したこと >mysql grant all privileges on testdb.* to hogeuser@'mysqlipアドレス' identified by 'xxxxxxxx'; >mysql flush privileges; database.phpの変更 class DATABASE_CONFIG { public $default = array( 'datasource' => 'Database/Mysql', 'persistent' => false, 'host' => 'mysqlxx.xserver.jp', 'login' => 'hogeuser', 'password' => 'xxxxxx', 'database' => 'testdb', 'prefix' => '', //'encoding' => 'utf8', ); これですと、 Error: A Database connection using "Mysql" was missing or unable to connect. The database server returned this error: SQLSTATE[28000] [1045] Access denied for user とエラーが返ってきます。 また、Xserverパネルからmysqlユーザーを追加してみてdatabase.phpを編集してみましたが、 やはり同様のエラーで接続できません。 一体どのようにすれば接続できるのでしょうか？ 恐れ入りますが、ご回答宜しくお願い申し上げます。
PHPは超初心者です。 本を2冊とインターネットで勉強し、コーディングを開始したところ、 理由がわからないエラーに遭遇し、身動きがとれません。 Parse error: syntax error, unexpected T_STRING in ************* on line 102 単に代入でのエラーなので、基本的な事なのかな？　と感じておりますが、 どれだけ調べても解決できません。 ご教示いただけたら幸いです。 ■内容 ・サーバー上のテキストファイル($df)を1行ずつ読み出し、”：”コロンで分割しています。 　分割された1カラム目が、”dname”であれば、２カラム目の内容を変数”$dn_in”に代入し、 　後でその内容を使ってデータ処理をしたいところ、シンタックスエラーで止まってしまいます。 因みに、問題の行をコメントアウトして、printで確認してみると、ちゃんと分割されて、 ターゲットの２カラム目の内容が表示されます。 また、後のデータ処理とは、ファイルクローズ後に別ファイルの文字列変換に利用する為、 その処理まで対象の文字列を確保しておくつもりです。 ///////////////////////////////////////////////////////////// $fp2 = fopen($df,'r'); if($fp2){ while(!feof($fp2)){ $page1_from = fgets($fp2); $string1 = ":"; //下は全角のコロンで分割 $page1_to = explode("：", $page1_from); 　　if(preg_match('/dname/',$page1_to[0])) { $dn_in = $page1_to[1]；　　　//　←この行でエラー print "$page1_to[1]"; print "$dn_in"; } } } fclose($fp2); ///////////////////////////////////////////////////////////// 以上、よろしくお願い致します。
現在ワードプレスを使い、HPを作成しています。 （ワードプレスは初心者です。） ログインページをカスタマイズで作成しそれは呼び出せている状態で、 ログイン用にFORMで入力したデータを、 DBと照合したいと考えているのですが、 <form class="クラス名" action="ファイル名（PHP）" method="post" > として呼び出そうとしているものの、 formから実行ボタンを押した際に、上記ファイルを上手く呼び出せず、 index.phpの内容が出力されてしまいます。 そこで2点お伺いさせて下さい。 ・一般的にPHPファイル（処理用）を呼び出すための方法 ・このケースでおかしがちな間違い すみませんが、教えていただければ幸いです。
PHPでParse errorについて PHP設置した際に Parse error: syntax error, unexpected T_STRING, expecting T_OLD_FUNCTION or T_FUNCTION or T_VAR or '}' in /当HPのアドレス/VoteBorn/VoteController.php on line 9 が表示されているのですが 9行目付近を見直しても間違えがわかりません。 <?php //VoteControllerから見たMatrixController.phpへの相対パス require_once "./MatrixController.php"; //Version 1.00 //Made by Nearliquid class VoteController extends MatrixController { private $col_list = array("id", "name", "Vote"); private $target_row = NULL;//ターゲットの行 private $target_vote = NULL;//ターゲットの投票数 private $now_row; public function makeFile($vote_file) { $this->makeMatrix($vote_file, $this->col_list); } //この関数を使わないと、これより下の関数は使用できない。 public function readFile($fp) { $this->readMatrix($fp); } public function checkNameCrash($name) { if($this->getTargetRow("name", $name) === FALSE) {//登録予定の名前は現在投票システム上には存在しない return(TRUE); } else {//二重登録 return(FALSE); } } 以下略・・・・ 申し訳ないのですが 是非ご教示の程よろしくお願いします
初めて質問させて頂きます。php初心者で困っていますので教えて下さい。 申し込みフォームで画像を選択 　↓ 確認画面（$_FILESに入っている画像を、uniqidで生成したファイル名で一時ファイルフォルダに保存 ↓ 確認ボタンを押すと、申込内容をmysqlに登録、autoincrementしたシリアルナンバーを$_SESSIONに格納 ↓ 完了画面でシリアルナンバー＋拡張子でアップロードしたファイルをリネーム＆フォルダ移動 というプログラムを作っているのですが、最後のリネーム＆移動のところでエラーが出てしまいます。 出力されるエラーは Warning: rename( tmp/5194a2db03b16.jpg, photo/164.jpg): in C:\xampp\htdocs\hogehoge\hoge\complete_01.php on line 18 オンラインサーバーにアップすると同じエラーは出ないのですが、コピーはされません。 参考にrename部分のコードです //写真を指定フォルダに移動 $oldpath = " ichiji/". $_SESSION["onamae"]; $newpath = " photo/" . $_SESSION["id"]; $rename = rename($oldpath , $newpath); $_SESSIONとファイルのパスですが、printで正しくデータが渡されていることを確認しています。 どなたか教えてください。
$foo = "http://www.google.co.jp/index.html　と　http://hoo.yahoo.jp/index.html　と　http://www2.aaaa.aaaa.me/index.htmlを置換" この変数を ./index.html　と　./index.html　と　./index.htmlを置換 というふうに置換するにはどのように書けばよいでしょうか？ 今回は一例として 「http://www.google.co.jp/index.html」 「http://hoo.yahoo.jp/index.html」 「http://www2.aaaa.aaaa.me/index.html」 の3つのURLを使用しましたが、http://　～　/index.html　の間は不定でどのドメイン(サブドメインも含む)でも対応できるようにしたいです。 よろしくお願いします。
FAQを管理できるフリーのスクリプトを探しています。 phpMyFAQのようにいろいろな機能がついている物ではなく facebookアプリのHiveloSocialAppsのFAQのようなシンプルな作りの物が希望です。 FAQの数自体それほど多くないので（せいぜい30個ぐらい）シンプルで余計な機能がついていないもので日本語対応のものないでしょうか？ できればPHPがいいですが Perlや XML＋JavaScriptなどでもかまいません。 よろしくお願いします。
PHPにてファイルの圧縮処理をするプログラムを作成する事になりました。 ファイルの圧縮について調べていたら色々な方法がある事がわかりましたが… PHPでファイルの圧縮を行う一般的な方法、何になるのでしょうか。 またPear等をインストールして圧縮する方法とexec関数、またはsystem関数でコマンドを実行させる方法ではどちらいいのでしょうか。 変な質問で申し訳ありませんがアドバイスしてもらえませんでしょうか。 宜しくお願いします。
今週からPHPを勉強し始めました。 書籍を元に勉強をしているのですが、書籍通りの内容で書き、 どんなに調べても、どうしてもエラーが消えません。 お知恵をお貸し頂けると幸いです。 エラー内容はコチラです。 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':20130514235839, created="2013-05-15 08:27:09"' at line 1 エラーページのコードは下記です。 <?php session_start(); require('../function.php'); if(!isset($_SESSION['sign_up'])){ header('Location: index.php'); exit(); } if (!empty($_POST)) { // 登録処理をする $sql = sprintf('INSERT INTO members SET name="%s", mail="%s", pass="%s", image=:%s, created="%s"', mysql_real_escape_string($_SESSION['sign_up']['name']), mysql_real_escape_string($_SESSION['sign_up']['mail']), mysql_real_escape_string(sha1($_SESSION['sign_up']['pass'])), mysql_real_escape_string($_SESSION['sign_up']['image']), date('Y-m-d H:i:s') ); mysql_query($sql) or die(mysql_error()); unset($_SESSION['sign_up']); header('Location: finish.php'); exit(); } 念のため、phpmyadminの画面をあげておきます。 http://cl.ly/image/3M002J1S0q0N 以上よろしくお願い致します。
■修正前 ・下記のような配列があるとき [0] => Array 　　( 　　　　[id] => 1 　　　　[pre] => '東京' 　　　　[pre_id] => 7 　　　　[rank] => A 　　) [1] => Array 　　( 　　　　[id] => 1 　　　　[pre] => '大阪' 　　　　[pre_id] => 2 　　　　[rank] => A 　　) [2] => Array 　　( 　　　　[id] => 4 　　　　[pre] => '名古屋' 　　　　[pre_id] => 3 　　　　[rank] => B 　　) ■修正後 ・同じidがあったときだけ(3つ以上の可能性もあり)、[pre] [pre_id]をまとめたい(それ以外のキーと値は同じ) [0] => Array 　　( 　　　　[id] => 1 　　　　[pre] => '東京','大阪' 　　　　[pre_id] => 7,2 　　　　[rank] => A 　　) [1] => Array 　　( 　　　　[id] => 4 　　　　[pre] => '名古屋' 　　　　[pre_id] => 3 　　　　[rank] => B 　　)
http://spare.jp/　のような、URLを登録したら自動登録するといった 検索サイトを作るためにPHPを学習しているのですが、 実際作ろうと思ったらどう構築していけばいいのかわかりません。 どこか参考になるサイト、または書籍をご存じでしたらお教えください。 仮登録機能を搭載しようと考えています。 よろしくお願いいたします。
なんとかメールフォーム設置までこぎ着けたのですが、届いたメールが文字化けしてしまいます。HTMLの文字コードがUTF-8、PHPの文字コードがshift-jisなので原因はそこだと考えたのですがPHP内のshift-jis表記をUTF-8に変えるとPHP内で文字化けが起こってしまいます。 MultiTextConverterなどのアプリケーションを使っても同様の文字化けが起こります。 どうすればいいのか分かりません。 よろしくお願いします。
例えば下記のような場合、どのような意味あいになりますでしょうか。 phpのheader()関数は引数にurlを書いてジャンプさせるものという理解をしております。 header('Content-Type: text/xml; charset=UTF-8'); phpのマニュアルにも目をとおしましたが解りませんでした。 ご教授いただけますと幸いです。 宜しくお願い致します。
５つくらいの商品があり、同じ問い合わせフォームを使用する際、 お問い合わせのボタンを押して問い合わせフォームに移動した時に 何の商品の問い合わせかを、お客様に入力してもらわくて良いように 自動で表示する方法を教えてください。 現在、フリーのphpフォームを使用しています。 よろしくお願い致します。
こんにちは。現在PHPで検索システムを実装しようとしておるのですが、どうしても条件絞り込みを行うことができず（全件表示されてしまう）困っております。PHP初心者で、無知なため先輩方ご教授頂けますと幸いです。PHPのソースは以下となります。 <?php $debug = fales; //DB接続 mysql_connect('db_host','db_user','db_pass') or die(mysql_error()); mysql_select_db('db_name') or die(mysql_error()); if($debug) print_r($_POST); //エラーチェック //リクエストメソッドチェック if($_SERVER["REQUEST_METHOD"] != "POST"){ // ブラウザからHTMLページを要求された場合 }else{ // フォームからPOSTによって要求された場合 } $query = "SELECT * FROM search "; if(!empty($name)) { $name = addslashes($name); $where = "name = '$name' "; } if(!empty($tel)) { $tel = addslashes($tel); $where .= "tel '$tel' "; } if(!empty($sex)) { $sex = addslashes($sex); $where .= "sex = '$sex' "; } if(!empty($where)) { $where = substr($where, 0, -4); $where = "WHERE" . $where; } $query .= '$where'; $result = mysql_query($query . implode(" AND ", $where)); $num_rows = mysql_num_rows($result); if($num_rows == 0) $message = "該当するデータはありませんでした"; else $message = $num_rows . "件ヒットしました"; ?> 検索結果<br> <?=$message?> <table border=1> <tr><td>名前</td><td>電話番号</td><td>性別</td></tr> <? while($row = mysql_fetch_assoc($result)): ?> <tr><td><?=$row['name']?></td><td><?=$row['tel']?></td><td><?=$row['sex']?></td></tr> <? endwhile; ?> </table> <a href="input.html">再検索</a> 現在データベースにはサンプルとして10件入れておりますが、どの条件で検索を行なっても10件全てが検索結果として表示されてしまいます。どこを触れば良いのでしょうか…？　お忙しいところ大変恐れ入りますが何卒、よろしくお願い申し上げます。
ワードプレスでブログを運営しています。 実現したいことは 記事についてツイートした内容が ブログ内にタイムラインで表示できるようにすることです。 それが可能なブログパーツやプラグインは見つかりましたが 気に入ったものがありません。 それで調べていくと理想的なパーツを発見しました。 添付画像がそれです。 ツイートボタンでツイートが出来て そのままこのタイムラインに表示されます。 表示高さが決められていて コメントが溜まればスクロールもできるようになっていてコンパクトです。 これを実現できるワードプレスのブラグインやブログパーツを探してみましたが 見つかりませんでした。 このパーツを組み込む方法があれば教えてください。
お世話になります。 PHPの送信メールについてご質問です。 ヒアドキュメントで本文を作成し、mb_send_mail でメールを送信します。 送信自体には問題はありませんが、受信メールを見ると、電話番号の箇所がリンクが貼られています。 【サンプルコード】 $body3 =<<<BODY3 本文\n \n ******************************************\n ああああああ\n 〒000-0000\n 東京都\n TEL:03-3333-3333 / FAX:03-4444-4444\n E-mail : info@aaa.co.jp\n URL　 : http://www.aaa.co.jp/\n ******************************************\n \n BODY3; 受信メールを見ると電話番号とＵＲＬ箇所がリンク（青字・下線）が張られています。 （TEL:03-3333-3333　←この箇所） ＵＲＬのリンクは大丈夫ですが、電話番号のリンクだけを外したいのですがどうすれば宜しいでしょうか。 何卒宜しくお願い申し上げます。
送信側では、PHP(HTML)下記のように書きました。 ----------------------------- <form action="input.php" method="post"> ボタン1：<input type="submit" name="input" value="入力"> 　　ボタン2：<input type="submit" name="input2" value="入力"> </form> ----------------------------- 受信側(input.php)は下記のように書きました。 ----------------------------- <?php $url = "***.sakura.ne.jp"; $user = "abc"; $pass = "12345"; $db = "sakura_db"; if (isset($_POST["$input"])){ $sql = "SELECT SQL_CALC_FOUND_ROWS * FROM MAIN"; }elseif (isset($_POST["$input2"])){ $sql = "SELECT SQL_CALC_FOUND_ROWS * FROM MAIN2"; } //Connect MySQL Server $my_Con = mysql_connect($url,$user,$pass); mysql_query("SET NAMES utf8",$my_Con); if ($my_Con == false){ die("MySQL Server接続に失敗しました。"); } //Connect MySQL DataBase if (!mysql_select_db($db,$my_Con)){ die("MySQL DataBase選択に失敗しました。"); } //MySQL Deta Read $my_Row = mysql_query($sql,$my_Con); if (!$my_Row){ die(mysql_error()); } $a = 1; while ($row = mysql_fetch_array($my_Row) or $a <= 50) { echo '<p>'; echo ' A'.$a.'：<input name="date" type="text" size="4" value="'.$row["a"].'">'; echo ' B'.$a.'：<input name="date" type="text" size="4" value="'.$row["b"].'">'; echo ' C'.$a.'：<input type="checkbox" name="example"'.check($row["c"]).'>'; echo ' D'.$a.'：<input type="checkbox" name="example"'.check($row["d"]).'>'; echo '</p>'; $a++; } //Close MySQL Server $my_Con = mysql_close($my_Con); if (!$my_Con) { exit("MySQL Server閉じられませんでした。"); } ?> ----------------------------- この状態で送信側のボタンをクリックすると、input.php側では”Query was empty”とエラーがでます。 送信側の2つあるボタンによって表示されるテーブルを変えたいのですが、何が原因なのでしょうか？ そもそもSQLの内容をif文での条件分岐は出来ないのでしょうか？ 最近PHPを勉強し出した初心者です。 出来れば分かりやすく教えていただけないでしょうか。 よろしくお願い致します！
正規表現について勉強しているものです。 皆様よろしくお願いいたします。 テキストファイル(yasai_kanji.txt)に以下のようなデータを保存しています。 林檎（りんご）　りんごは赤くてすっぱい。 梨（なし）　シャリシャリ歯ごたえがいいね。 西瓜（すいか）　塩をちょっとかけてかぶりつくのです。 各行の　漢字の野菜の後ろにある、かっこを含んだ全ての文字を削除して、 またテキストファイルで保存したいです。 皆様スクリプトの書き方をご教授ください。 最終的にこのようにしてテキストファイルに保存したいです。 林檎 梨 西瓜 HTMLページであれば問題なく正規表現で文字を抽出できますが、 どうやっても、テキストファイルだとうまくいきません。 皆様どうぞよろしくおねがいします。
こんにちは。 internal server errorが出る原因を知りたい さくらのレンタルサーバーを使用してサイトを運営しています。 開発環境で全くエラーが表示されず公開したのですが、あるユーザーさんより フォーム送信後にエラーが出ると指摘されました。(添付画像) テスト環境では何度やってもエラーがです、ユーザーさんに連絡したのですが、細かい事を聞くことが出来ず自分でどうやって対応したら良いか困って質問してみました。 状況は問い合わせフォームより必要事項を入力してもらい → 確認ボタン押下 → 送信ボタン押した時に添付画像が出るようです。 しつこいですが、テスト環境では普通に送信ありがとうございました。の画面に飛びます。 テスト環境について OS Windows vista Windows 7 ブラウザ Firefox 16 ie 8 chrome 26.0.1410.64 m safari 5.17 言語等 PHP 5.2.17 SQL 5.5.28 ソース エンコードの種類 UTF-8 なのでメタで <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> エラー出てるのが、メール送信部のようなのですが、テスト環境ではエラーが出ません。 確認ボタン押下 から 送信ボタン押して 次の画面までの処理の中で、文字のエンコードをしています。 phpのエラーが出てる部分と思われる場所。(確証はありせんが、確認ボタン押下した時、送信ボタン押下した時の処理の違いが、このあたりだけなので・・・) $body = "■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■\n"; $body.= "■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■\n"; $body.= $disp_name."\n"; $body.= "\n"; $body.= "今後ともよろしくお願いいたします。\n"; $body.= "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━".$conf["SITE_NAME_SUB"]."\n"; //再設定 mb_language("Japanese"); mb_internal_encoding("UTF-8"); $from = $conf["SITE_MAIL"]; $addheader = "From: ".$from."\n"; $addheader.= "Reply-To: ".$from."\n"; $subject = "【".$conf["SITE_NAME_SUB"]."】登録ありがとうございます。"; $subject = mb_convert_kana( $subject , "KV" ); $body = mb_convert_kana( $body , "KV" ); $to_mail = $inp_mail1; mb_send_mail( $to_mail , $subject , $body , $addheader ); で、internal server errorなのでphp.iniも関係あるかな？って思って下記に記載しました。 php.iniの設定 ----------------------------------------------------- register_globals = On language = "Japanese" mbstring.encoding_translation = Off mbstring.internal_encoding = “UTF-8″ mbstring.http_input = auto mbstring.http_output = “UTF-8″ include_path = .:/usr/lib/php:/usr/local/lib/php | ;include_path = "/home/username/www/install/PEAR" ----------------------------------------------------- 知りたい事 internal server errorが出る原因を知りたい ↓ 出ないようにしたい。 なにぶんテスト環境下でエラーが出ないので、構文と設定を見直す事しか出来ないので、良きアドバイスください。 また、エラーを教えてくれたユーザーさん以外は通常に利用していますので、(教えてくれない方もいると思うし)この問題を解決したいので、よろしくお願いします。
fsockopenのソケットについて教えてください ▽PHP: fsockopen - Manual 　 http://php.net/manual/ja/function.fsockopen.php ＞fsockopen("www.example.com", 80, $errno, $errstr, 30); ■質問 ・ソケットて何ですか？ ・この1行にどういう意味があるのでしょうか？ ・事前に通信エラーを確認？ ・GETとかPOSTとかでエラー判定してはいけないのでしょうか？ ・「fsockopenを利用するメリット」と、「どういう時に利用するものなのか」教えてください ■質問背景 ・APIコード見てたら、この処理が書かれていたので、調べてみたけど意味が理解できず、質問しました
メールフォームの設置をしたいのですが 送信を押すと以下のようなメッセージが出てしまいます。 考えられる原因を教えてください。 Warning: file(index.html) [function.file]: failed to open stream: No such file or directory in /home/users/1/main.jp-XXX/web/fmail.php on line 161 Warning: Invalid argument supplied for foreach() in /home/users/1/main.jp-XXX/web/fmail.php on line 162
●質問の主旨 Elipse3.7 Indigo for PHPで、 Pプログラミングの記述をしていると、 添付の画像のように、行番号の左に 黄色の「びっくりマーク」と黄色の波線が、 表示されることがあります。 これは何の警告を意味しているのでしょうか？ プログラム自体は、意図通りに動きますが…。
類似質問を先日立てましたが状況変わったので改めさせて頂きました。 よろしくお願いします。 html拡張子のままphpを動かしたいのですが、うまくいきません。 PHPバージョン：5.3.3 Server API：CGI版 レンタルサーバー phpinfo()で確認した情報：REDIRECT_HANDLER存在しない １）.htaccessに以下書いたが動かない。 ※　AddType application/x-httpd-php .php .html ※　AddHandler application/x-httpd-php .php .html ※　AddHandler php5.3.3-script .html （php_flag allow_url_fopen on、php_flag allow_url_include on　追加も試し済） ２）Telnetなどは使えない。 http://www.hlplus.jp/php/blog/index.php?UID=1293 … 上記が検索でかかったので参考にしたのですが、 残念ながら権限の関係で上記URLの方法は使えませんでした。 ３）.php時には正常に稼働 html内に記述しているのはincludeとechoのみで、.php拡張子の場合は動作するのは確認済です。（htmlに名前変更したとたんにソースにそのまま出る、ないしダウンロードになって動作しない） ■構造など /php/base.php /file/a/a/a.html base.php <?php $a='<div id="～～～">～～～～～</div>'; ?> a.html <?php include_once(dirname(__FILE__).'/～～～～/php/base.php'); ?> <!doctype html> <html lang="ja"><head><meta charset="utf-8"><title>～～～</title> </head><body> <header><?php echo $a; ?></header> （省略） </body></html> 構造としてはこんな感じで、base.phpをa.htmlへインクルードしています。 考えられる可能性があればご教授頂けると幸いです。
●質問の主旨 参考文献の通りにコードを打っているつもりですが、 エラーが出ます。なぜエラーが出るのか分かりません。 原因をご存知の方、ご教示願います ●質問の補足 以下のコードに ペケ印と赤の波線（エラー）がでます。 1．<select>のname属性 2．<input>のtype属性 3．</select>/<input></option></form> ●参考文献 西沢直木 PHPプログラミングの教科書P202 ●関連質問 改行されないカレンダー(PHP) http://oshiete.goo.ne.jp/qa/8077291.html ●開発環境 windows8 xammp1.8.1 eclipse3.7 Indigo ●コード <!DOCTYPE html> <html lang="ja"> <head> <meta charset="UTF-8"> <title>カレンダー</title> </head> <?php //年月の取得 $ym_now = date("Ym"); $y = substr($ym_now, 0, 4); $m = substr($ym_now, 4 ,2); echo"<from method='POST' action=''>; / /年リスト echo"<select name='y'>"; for ($i = $y - 2; $i<= $y + 2; $i++) { echo"<option>$i</option>"; } echo"</select>年"; //月リスト cho"<select name='m'>"; for ($i = 1; $i<= $y + 2; $i++) { cho"<option>$i</option>"; } echo"</select>月"; echo "<input type='submit' value='表示' name='sub1'>"; echo "</form>"; ?>
お世話になっております。 PHPのプログラムでつまずいております。 お知恵をお借り頂けたらと存じます。 分かりにくく、汚い手書きで申し訳ないのですが添付画像のように、 絞り込み検索をかけて顧客データを取得して一覧表示します。 リストのように表示させて、ボタンを設置してそれをクリックすると、そのお客様の情報（名前・住所など）を売上テーブルに登録させたいと思っています。 お手数おかけします。よろしくお願いします。
　 以下の型変換プログラムで質問です！？ PHPレベルは下の下です。 <html> 1 <head> 2 <title>型変換</title> 3 </head> 4 <body> 5 <?php 6 $var = TRUE; 7 print (gettype($var).　"<br />"); 8 $var=100; 9 print (gettype($var).　"<br />"); 10 $var=100.001; 11 print (gettype($var).　"<br />"); 12 $var="TRUE"; 13 print　 (gettype($var)); 14 ?> 15 </body> 16 </html> 　 以上ですが、result(実行結果は)以下です。 　boolean integer double string 　以上の実行結果で疑問に思うことは、 同じ変数のTRUEでありながら プログラムの６の実行結果の”boolean”と　 　プログラム１２の”string”の実行結果と違いがあるのはなぜですか！？ 　※agunuz　回答禁止　　 　宜しくお願いします。
CentOS(apache+php(バージョンは表示は控えます。))でサーバーの連続稼働時間をWEBに表示したいのですが、 どうすればいいでしょうか？ 表示形式は、日：時：分：秒です。 Linux系OSにはuptimeというコマンドがありますが、 このコマンドから稼働時間を求めるには、 どのようにすれば宜しいでしょうか？ Windows版のUptimeは http://takaq1.plala.jp/contents/windows/uptime/ に掲載されていますがLinuxでの方法がわかりません。 どなたかご教授願います。
配列のソート方法の仕方がわからず調べているのですが、なかなかできず困っております。 どなたかご教授お願いいたします。 array(5) { [0]=> array(3) { ["id"]=> string(1) "1" ["size"]=> string(5) "100" ["message"]=> string(7) "テスト1" } [1]=> array(3) { ["id"]=> string(1) "2" ["size"]=> string(5) "200" ["message"]=> string(7) "テスト2" } [2]=> array(3) { ["id"]=> string(1) "3" ["size"]=> string(5) "300" ["message"]=> string(7) "テスト3" } [3]=> array(3) { ["id"]=> string(1) "4" ["size"]=> string(5) "400" ["message"]=> string(7) "テスト4" } [4]=> array(3) { ["id"]=> string(1) "5" ["size"]=> string(4) "500" ["message"]=> string(7) "テスト5" } [5]=> array(3) { ["id"]=> string(1) "6" ["size"]=> string(5) "600" ["message"]=> string(7) "テスト6" } } foreach ($data as $key => $val) { ・ ・ ・ } となっております。foreachでループさせたときにidの降順?(1→6に表示)になるのですが、sortで昇順?(6→1に表示)にしたいです。 お分かりの方がいらっしゃいましたらお願いいたします。
独学でPHP,MySQLを勉強中です。 とあるトレーディングカードの出品サイトを作成中ですがデータのINSERTがうまくいきません。 経験も浅いので何か大きく基本をはずしているような気がしています。どなたかご教授ください。 ●登録完了ページ <?php header("Content-Type:text/html;charset=Shift_jis"); error_reporting(4); session_start(); /*SESSIONで送られてきた情報を受け取る*/ $item_f=$_SESSION['item_f']; $myID=$_SESSION['myID']; $s_code=$_SESSION['s_code']; $TNO=""; $today = date("Y/m/d H:i"); /*DBに登録*/ $db = mysql_connect("localhost", "root", "root")or die ('DB Connection Error= '. mysql_error()); mysql_select_db("regist_test_db", $db)or die ('DB Connection Error= '.mysql_error()); $rs = mysql_query("SET character set SJIS", $db); mysql_query("insert into regist_test (time,myID,s_code,CID0) values ('$today','$myID','$s_code','$item_f[0][0]')" ,$db); mysql_query("commit"); session_destroy(); ?> <html> <head><title>トレードサイトほげほげ</title></head> <p>登録が完了しました。</p> <p>トレードが成立すると良いですね！</p> <a href="index.php">検索ページへ</a> </body> </html> ●テーブル作成　regist_test_db内 create table regist_test ( TNO int auto_increment primary key, time datetime not null, myID varchar(10) not null, s_code varchar(10) not null, CID0 varchar(5) not null, ); ●補足 $_SESSION['item_f']は二次元配列で、[0][0]から[4][6]までありますが、この場では割愛しています。 試しに、 echo "today=".$today."<br>"; echo "myID=".$myID."<br>"; echo "s_code=".$s_code."<br>"; echo "item_f[0][0]=".$item_f[0][0]."<br>"; echo "item_f[0][2]=".$item_f[0][2]."<br>"; 　： 　： と表示させることはできるので、SESSIONでデータは渡っているようです。 この登録完了ページがひらいたあと、MySQL Command Line Clientで select * from regist_test; としてもEmpty setとでてしまいます。 すみませんがお分かりの方アドバイスお願いします。
●質問の主旨 下記のコードでカレンダーを作りましたが、 日付が横一列に並んだ奇妙なカレンダーになってしまいます。 参考文献と比べて、同じコードを記述しているように思いますが、 なぜ改行されないのか、分かりません。 ご存知の方、アドバイスよろしくお願いします。 ●参考文献 西沢直木「プログラミングの教科書」P196 ●開発環境 windows8 xammp1.8.1 ●コード(test.4) <!DOCTYPE html> <html lang="ja"> <head> <meta charset="UTF-8"> <title>カレンダー</title> </head> <table border="1"> <tr> <th>日</th> <th>月</th> <th>火</th> <th>水</th> <th>木</th> <th>金</th> <th>土</th> </tr> <tr> <?php $y =2012; $m = 2; $wd1 = date("w", mktime(0, 0, 0, $m, 1, $y)); for ($i = 1; $i <= $wd1; $i++) { echo "<td>　</td>"; } $d = 1; while (checkdate($m, $d, $y)) { echo "<td>$d</td>"; if (date("w", mktime(0, 0, 0, $m, $d, $y)) == 6) { //週を終了 echo"</tr>"; //次の週がある場合は新たな行を準備 if (checkdate($m, $d + 1, $y)) { echo"<tr>"; } } //日付を1つすすめる $d++; } // 最後の週の土曜日まで移動 $wdx = date("w", mktime(0, 0, 0, $m + 1, 0, $y)); for ($i = 1; $i < 7 - $wdx; $i++) { echo "<td>　</td>"; } ?> </tr> </table>
foreach($data as $key=>$val) { if(preg_match("/^increment\((\-?\d+)\)$/i",$val,$m)) $q.= "`$key` = `$key` + $m[1], "; ・上記のようなif文があるのですが、どういう意味でしょうか？ ・incrementはカウントアップ？ ・$valに「-1」…「-9」文字列があれば、$m[1]として利用？ ・iがあるので、その際、大小文字の違いを無視？
このサイトのページはどうやって作られているのですか？？ http://www.appbank.net/ アプリを開くと、ブログの概要(見出し)みたいなのが一覧で出てきて、さらにそれを開くとphpのファイルになりますよね。 このようなブログ見たいなページを作ろうとphp、MySQLなど勉強中なのですが、ブログみたいなのに必要な事は何ですか？ またこのような構造のページは何というのですか？
PHPなどのWEBプログラマーを目指している者です。 LAMP環境でWEBサイトを作成したのですが、次のステップに行くにはどうすればよいのか、疑問に思いましたので、以下何点か質問させて頂きます。 何か自分の作品を作り上げて、ポートフォリオにしたいと思っているのですが、 ・PHPフレームワークを使用したWEBシステムを作成したいのですが、ブログシステムかECサイトを作るべきなのかな？と色々考えこむのですが、中々アイデアがうかばないのですが、何を作るのがベターでしょうか？ ・実際の現場で使用されているフレームワークを使用したいと思っておりますが、どのフレームワークが入門しやすいでしょうか？ 以上、よろしくお願いします。
PHPを勉強していて、以下のサンプルに出会ったのですが、これについて 2 点教えてください。 (1) <?php?> の括りを分ける理由。 (2) $data は、なぜカッコに入れられているのか。 <?php $date = sprintf('%04d年 %02d月 %02d日',2013, 1, 23); ?> <?php print ($date); ?>
phpで特定の場所に特定の文字列を追加したいのですが、どのような方法がありますでしょうか。 具体的には下記のような文字列に /price/ という文字を追加したいと思っています。 /red/2001 /blue/9033 /white/12062 ↓ /red/price/2001 /blue/price/9033 /white/price/12062 /price/を挿入する条件は ・数字の文字列の前に/price/を挿入したい ・数字の桁数は増減する ・/red/や/blue/の箇所は色々な文字列がはいる になります。 どうかよろしくお願いいたします。
以下のプログラムですが実際に入力したプログラムと　Webブラザのソースで見たプログラムに違いがあります。 --------------------------------------------------- 　実際に入力したプログラム <html> <head> <title>p76エスケープシーケンス</title></head> <body> <?php $a = "You \nare \nprogramer"; 　　print　($a); ?> </body> </html> ---------------------------------------------------- 以上プログラムをWebブラウザで開いて、ソースをみたら以下のプログラムに変化していました。 <html> <head> <title>p76エスケープシーケンス</title></head> <body> You are programer</body> </html> ------------------------------------------------------------ 　 以上ですが、何故実際のプログラムとWebブラウザのソースコードに違いが出るのですか！？ よろしくお願いします。（Webブラウザは、Google ChromeとIE９ともに同じでした） 　
現在、PHPを使用してサイトを制作しているなかで、以下のようにCSSのクラスを振りたい部分があります。 <ul> <li class="list1">リスト</li> <li class="list2">リスト</li> <li class="list3">リスト</li> <li class="list4">リスト</li> <li class="list1">リスト</li> <li class="list2">リスト</li> <li class="list3">リスト</li> <li class="list4">リスト</li> </ul> 上記のように「4までいったら1に戻り、これを8回ループさせる」ということをするには、どのように処理を書けばよいでしょうか。 while文やfor文などで試行錯誤していますが、なかなか思うようにいきません。 よろしくお願いいたします。
index.phpから別ファイルのclass.phpに配列を渡して、 クラスを実行したいと考えています。 //----------------------------------- //-- index.php --- <?php class hiragana { public $a_ka_sa; function init() { $this->a_ka_sa = array(); } } $j_hiragana = new hiragana(); $val[0] = array('a'=>'あ' , 'i'=>'い' , 'u'=>'う' , 'e'=>'え' , 'o'=>'お'); $val[1] = array('ka'=>'か' , 'ki'=>'き' , 'ku'=>'く' , 'ke'=>'け' , 'ko'=>'こ'); $val[2] = array('sa'=>'さ' , 'si'=>'し' , 'su'=>'す' , 'se'=>'せ' , 'so'=>'そ'); $j_hiragana->a_ka_sa[0] = (object) $val[0]; $j_hiragana->a_ka_sa[1] = (object) $val[1]; $j_hiragana->a_ka_sa[2] = (object) $val[2]; var_dump($j_hiragana); //----------------------------------- このようになっているプログラムを //----------------------------------- //-- index.php --- <?php $val[0] = array('a'=>'あ' , 'i'=>'い' , 'u'=>'う' , 'e'=>'え' , 'o'=>'お'); $val[1] = array('ka'=>'か' , 'ki'=>'き' , 'ku'=>'く' , 'ke'=>'け' , 'ko'=>'こ'); $val[2] = array('sa'=>'さ' , 'si'=>'し' , 'su'=>'す' , 'se'=>'せ' , 'so'=>'そ'); //----------------------------------- 配列の部分だけindex.phpに残して //----------------------------------- //-- class.php --- <?php class hiragana { public $a_ka_sa; function init() { $this->a_ka_sa = array(); } } $j_hiragana = new hiragana(); //-------------- //$val[0] = array('a'=>'あ' , 'i'=>'い' , 'u'=>'う' , 'e'=>'え' , 'o'=>'お'); //$val[1] = array('ka'=>'か' , 'ki'=>'き' , 'ku'=>'く' , 'ke'=>'け' , 'ko'=>'こ'); //$val[2] = array('sa'=>'さ' , 'si'=>'し' , 'su'=>'す' , 'se'=>'せ' , 'so'=>'そ'); //-------------- $j_hiragana->a_ka_sa[0] = (object) $val[0]; $j_hiragana->a_ka_sa[1] = (object) $val[1]; $j_hiragana->a_ka_sa[2] = (object) $val[2]; //----------------------------------- class.phpに移して、 index.phpを開くとclass.phpのクラス？に配列を渡しクラス？を実行する プログラムを作りたいと考えていますが、 うまく配列を渡してクラス？を実行できません。 どのようにすればよいのでしょうか？
ヒアドキュメントを利用してメール送信（文字色変更） 使用php : php5 お世話になっております。 ヒアドキュメントで文章を作成して、mb_send_mail関数でメール送信を行っております。 メール送信は問題ありませんが、ある一部分の文章に色をつけたいと思います。 何か良い方法はないでしょうか。 例） $body1 =<<<BODY1 ★申込完了メール★\n \n このたびはお申込みありがとうございます。\n \n 注意点\n \n ※注意してください。\n ←この箇所のみ赤字・太字 \n BODY1; $ret = mb_send_mail($to,$subject,$body1,$header);
●質問の主旨 eclipseが文字化けして困っています。 関連質問 eclipseの文字化けについて（PHPファイル) http://okwave.jp/qa/q8068188.html 「eclipse」「文字化け」でググってみて、 上位5～6番目に表示される方法を試してみましたが、 どれも効果が上がらず、依然日本語が文字化けしたままです。 ひょっとしたら、eclipseの文字化けを直そうと思ったら、 PHPの日本語設定変更しないといけないのでしょうか？ もしその場合、変更するのは、下記のサイトに従って やるのが良いのでしょうか？それとも何か他の方法があるのでしょうか？ 日本語利用の為の設定 http://www.phpbook.jp/install/phpini/index5.html ご存知の方、よろしくお願いします。 ●質問の補足 なお、eclipseを通してUPしたPHPファイルは文字化けを起こしますが、 xammp直下にあるhtdocsにおいてUpしたファイルは文字化けを起こしません。 ●開発環境 windows1.8.1 xammp1.8.1
PHPでfacebookアプリの作成に挑戦しています。 ウォールへ投稿すると、何度かに1回の割合で二重送信となり、後から送信された空のコメントが優先されてウォールに投稿されてしまいます。 javascriptによりボタンの二重押しは回避しているのですが、なぜかたまに2回送信されてしまっているようです。 特にスマートフォン（iPhone）からの投稿時に多いです。 かと言って毎回そうなるわけでもない為、なにが原因なのかさっぱりわかりません。 どういった原因が考えられますでしょうか？ スマートフォン特有のそういった現象とかあるんでしょうか・・・ よろしくお願いいたします。
PHP と MySQLで作ってます。 MySQLに格納されているテーブル（１つ）にあるデータを全て CSV形式にして、指定したFTPサーバにアップロードしたいと 考えております。 どこか参考になるサイトまたは記述方法をご存知の方がいらっしゃいましたら 教えていただけないでしょうか？ よろしくお願い致します。
10進数数値文字参照を文字列に変換したいです。 (「変… こういうヤツを日本語にしたい) mb_decode_numericentity第2引数に ＞convmap は変換するコード領域を指定する配列です とあるのですが、これはどうやって指定するのでしょうか？ PHP: mb_decode_numericentity - Manual http://jp2.php.net/mb_decode_numericentit 下の方に $convmap = array (0x0, 0xffff, 0, 0xffff); $output = mb_decode_numericentity($intput, $convmap, 'UTF-8'); と書かれているのですが、「0x0, 0xffff, 0, 0xffff」の意味が分かりません。 「10進数数値文字」を変換したい時は、ここをどう書けば良いのでしょうか？
phpを使い、開発を行っています。 ある画面から値を選択し、POSTを使用して、別の画面に遷移させ、プリペアドステートメントにてDB(MySQL)からデータを取得するコードを記載していたのですが、下記エラーが出力されてしまいます。 「PDOStatement::execute(): SQLSTATE[HY093]: Invalid parameter number: parameter was not defined in 」 下記にソースを記載しておりますが、bindValueの定義等、誤ってないと思うのですが。。。 どなたか、解決策をご教示頂けないでしょうか。 送信側のソース <?php function showOption($start, $end, $step = 1) { for ($i = $start; $i <= $end; $i += $step) { print('<option value="'.$i.'">'.$i.'</option>'); } } <form method="POST" action="AAA.php"> <div id="container"> <select id="rdate_year" name="rdate_year"> <?php showOption(2013, 2020); ?> </select> <label for="rdate_year">年</label> <select id="rdate_month" name="rdate_month"> <?php showOption(1, 12); ?> </select> <label for="rdate_month">月</label> <select id="rdate_day" name="rdate_day"> <?php showOption(1, 31); ?> </select> <label for="rdate_day">日</label> </div> <input type="submit" value="検索" /> </p> </form> AAA.php <?php $db = new PDO('mysql:host=localhost; dbname=php10; charset=utf8', 'ユーザー', 'パスワード'); $sqla = "SELECT * FROM AAAAAA WHERE rdateyear = :rdata_year AND rdatemonth = :rdate_month AND rdateday = :rdate_day"; $stt = $db->prepare($sqla); $stt->bindValue(':rdate_year', $_POST['rdate_year']); $stt->bindValue(':rdate_month', $_POST['rdate_month']); $stt->bindValue(':rdate_day', $_POST['rdate_day']); $stt->execute(); while ($row = $stt->fetch()) { print($row['rdate_year']); }?> よろしくお願いしますm(_ _)m
PHPを使用し、全てのページに同一のヘッダーとフッターを使う場合、 CSSやJavascriptをheader.phpや、footer.phpに直接記述してしまったほうが 作業効率、ソースの可読性、表示速度の面で優れいてるのではないでしょうか？
プログラミング初心者です。2次元配列のイメージがつかめません。教えてください。 例えばExcelの表があり、A列に名前のデータ、B列にその人の住所のデータがあったとします。プログラミングで1次配列の値だけ取得するような処理が書かれていた場合、名前のデータだけを取得しているのでしょうか？因みに$var[0]というように数字ではなく、何かを示す名前になっています。例えば$var[name0]や$var[name1]のようになっています。これが$var[name0][place0]や$var[name1][place0]みたいになっていたら住所のデータを取得するのでしょうか？
phpでmysqlを操作してブラウザー上へレコードの全データをテーブル化して表示したとします。 表示されているレコードから任意のレコードを選択し削除するにはどうすればよいでしょうか。 削除のsqlは解りますが、ブラウザー上に表示されているデータを選択して内容をphpへ送信する方法がわかりません。 フィールドごとにチェックボックスを出力してvalue にフィールドの値をセットしておきsubmit ボタンでvalue値を送信するような方法でしょうか。 Visual Basic などではグッリドコントロールの何処が選択されているか取得できるので簡単ですが, php とブラウザーでそんなことができるとは思えません。 よろしくお願いいたします。 php も　ｓｑｌ　もWEB上にあります。
php数ヶ月の初心者です。 予約システムをゆっくり作ってみようと思うのですが 何から何までわからない事ばかりなのでどうぞよろしくお願いします。 ◆カラムの型について 予約時間のテンプレートのようなDBを作成しようとしていますが 時間に関係するカラムをtime型としました。time型のところに データーを挿入する際には必ず　例えば10:00:00のように秒まで 入ってしまうという理解でよろしいのでしょうか？ （time型である限り、10:00という形では入れられず、10:00:00と しなければいけないのですかという質問です。） ◆例えば、$_GET['time']の値が（10:00）だとして、それが DBのカラム(rsvTime)のデーター（10:00:00）と一致したものをセレクト したい場合は select * from DB where rsvTime =・・・ の続きはどのように記述したら良いですか？ （もしくは違う記述でも結構です。） ◆time型の足し算 （日付とか関係なく、10:00+30分=10:30というような事をしたい時の話です。） みたいな事をしたいのですが、 予約時間（$rsvTime)の３０分後が施術をスタートする時間（$startTime)だと した場合、$startTimeはどのように求めるのでしょうか？ 要領を得ない質問かもしれませんが宜しくお願いいたします。
レンタルサーバーでメーリングリストを置いているところを借りれればいいのですが、できないため探しています。 PHP Version 5.2.17、Apache 2.2.3で動作させたいと思っています。 メールマガジンのような１－多ではなく、多－多、つまりメンバー間でやりとりできるもの。 最大登録数は最大で200人くらい。一日にやり取りするメールの数は多くて10通程度。 リストを複数管理（10個くらい）できればいうことなしです。 日本語のメールが通るものならば、海外製のものでもかまいません。 個人の趣味の範疇のため高価なものは無理なので、できれば無償あるいは少額の寄付をさせていただければと思います。
アメブロにはカテゴリといった概念がないようで、その代わりにテーマというものがあるのですが、このテーマごとにRSSを取得したいと思うのですが可能でしょうか？ RSSのURLを見ると、全体的な情報しか吐き出しておらず、取得してもテーマを絞った取得を行うことが出来ません・・・。 例としては、以下の様なアメブロが合った場合、イラストというテーマのみを取得するという感じです。 http://ameblo.jp/nakagawa-shoko/ こういった場合には、どのような方法を用いて特定テーマの記事のみを取ることが出来ますでしょうか？ お詳しい方、いらっしゃいましたらヒント、アドバイスの程宜しくお願いします。
●質問の意味 先日、似たような質問をいたしました。 「未定義の変数」の定義について（PHP） http://okwave.jp/qa/q8060182.html それと同じようなコードを書いていますが、 エラーが出ます。なぜでしょうか？ ご存知の方、よろしくお願いします。 ●質問の補足 下記のコードの3行目 $page = isset($_GET['page']) ? intval($_GET['page']) : 1; についてエラーが出ています。 コメントアウトしている //$page =$_REQUEST['page']; は、参考文献の方のコードですがこちらでもエラーが出ます。 ●参考文献 たにぐちまこと「よくわかるPHPの教科書」（P215）の update.phpファイル ●開発環境 windows8 xammp1.8.1 ●コード(update.php) <?php require('dbconnect.php'); //$page =$_REQUEST['page']; $page = isset($_GET['page']) ? intval($_GET['page']) : 1; if ($page == '') { $page = 1; } $page = max($page, 1); //最終ページを取得する $sql = 'SELECT COUNT(*) AS cnt FROM my_items'; $recordSet = mysql_query($sql); $table = mysql_fetch_assoc($recordSet); $maxPage = ceil($table['cnt'] / 5); $page = min($page, $maxPage); $start = ($page - 1) * 5; $recordSet = mysql_query('SELECT m.name, i. * FROM makers m, my_items i WHERE m.id=i.maker_id ORDER BY id DESC LIMIT ' . $start .',5'); ?> <!DOCTYPE html> <html lang="ja"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> <link rel="stylesheet" type="text/css" href="style.css" /> <title>Webシステムをつくる</title> </head> <body> <div id="wrap"> <div id="head"> <h1>トップページ</h1> </div> <div id="content"> <p style="margin-top: 20px"> <table width="100%"> <tr> <th scope="col">ID</th> <th scope="col">メーカー</th> <th scope="col">商品名</th> <th scope="col">価格</th> </tr> <?php while ($table = mysql_fetch_assoc($recordSet)) { ?> <tr> <td><?php print(htmlspecialchars($table['id'])); ?></td> <td><?php print(htmlspecialchars($table['name'])); ?></td> <td><?php print(htmlspecialchars($table['item_name'])); ?></td> <td><?php print(htmlspecialchars($table['price'])); ?></td> </tr> <?php } ?> </table> <ul class="paging"> <?php if ($page > 1) { ?> <li><a href="index.php?page=<?php print($page - 1); ?>">前のページへ</a></li> <?php } else { ?> <li>前のページへ</li> <?php } ?> <?php if ($page < $maxPage) { ?> <li><a href="index.php?page=<?php print($page + 1); ?>">次のページへ</a></li> <?php } else { ?> <li>次のページへ</li> <?php } ?> </ul> </p> </div> <div id="foot"> <p><img src="images/txt_copyright.png" width="136" height="15" alt="(C) H2O Space. MYCOM" /></p> </div> </div> </body> </html>
いつもありがとうございます。 PHPで文字コードを変換してページのURLを作りたいのですが、どうしても出来なかったので質問させてください。 2chの検索結果のURLを作りたいです。 例えば、「声優」と検索すうるとURLが以下になるんですが、 http://find.2ch.net/?STR=%90%BA%97D&TYPE=TITLE&x … この「%90%BA%97D」をどうやって作っていいのかわかりません。 2ｃｈはEUC-JPで書いていて、私のサイトはUTF-8なので、 <?php $keyword="声優"; echo $url='http://find.2ch.net/?STR='.mb_convert_encoding($keyword,"EUC-JP","UTF-8").'&TYPE=TITLE&x=0&y=0&BBS=ALL&ENCODING=SJIS&COUNT=50'; ?> としたのですが、駄目でした わかる方居ましたら、ご教授お願いします。
お世話になります。 近所の整骨院のホームページ作成を作って欲しいと依頼されました。 ただ、その際に、お問い合せフォームとアクセスカウンタを付けて欲しいと 言われたので、PHPで作成する予定ですが、見積もりに困っています。 HPは趣味で作っていましたが、お金を渡されるのは初めてなので、 どのような形で見積もりを出せばいいのか分かりません。 お分かりになられる方、ご教授頂けますか？ （アドバイスでもいいです） よろしくお願いいたします。
PHPにてfile_get_contents()関数を使用し、ソースを読み込んだのですが、文字化けしてしまいます。 ※読込先は海外サイトです。日本語は利用されていません。 エンコードの問題かと思い、試行錯誤しましたが、うまくいきません。 解決方法を教えてください。 ちなみに、ソースの読み込み事態はできているので、ユーゼエージェントで、はじかれていることはないと思います。 [相手サイトの情報] ・UTF-8を宣言している ・日本語は使用していない ※URLを$urlとします。 [ソース] header("Content-type:text/html;charset=UTF-8"); echo mb_convert_encoding(file_get_contents($url),'UTF-8','auto'); file_get_contents($url)単体でもアウトでした。 お願いしますｍ(_ _)ｍ
プルダウンメニューから前方一致、中間一致、後方一致、完全一致 を選んで検索したいのですが、 うまくいきません。 $mae_naka_ushiro=$_GET['mae_naka_ushiro']; //日本語入力考慮し、全角スペースを半角にする $text = str_replace("　", " ", $text); $text2=""; $text2 = str_replace("　", " ", $text2); $text2=mb_convert_case($text,MB_CASE_LOWER,"UTF-8"); //スペースで分解。 $keywords = preg_split('/[\s]+/', $text, -1, PREG_SPLIT_NO_EMPTY); print("<br>検索位置：".$mae_naka_ushiro."<br>"); switch($mae_naka_ushiro){ case "mae": $keywords='%'.$keywords; print("前"."<br>".$keywords); break; case "naka": $keywords='%'.$keywords.'%'; print("中"."<br>".$keywords); break; case "ushiro": $keywords=$keywords.'%'; print("後"."<br>".$keywords); break; case "zen": $keywords=$keywords; print("完全"."<br>".$keywords); break; default: $keywords='%'.$keywords.'%'; print("デフォルト"."<br>".$keywords); break; } $where = " where 1"; foreach( $keywords as $word ){ $where .= " and $key2 LIKE '$word'"; } $time=microtime(); include ('sql_connect.php'); $sql = mysql_query("select count(*) as MAX from song $where"); $row = mysql_fetch_row($sql);
初歩的な質問で申し訳ありません。 いろいろ調べて、構文チェックなども行ったのですが、行き詰まってます。。。 なんとか自力で調べながらやってきたのですが、いよいよお手上げです。。。 ■処理内容 端末からバーコードの値を読み取り、条件のパラメータを付加してURLで送り カラム内のstock数をupdateする処理です。 　・パラメーターのmodeの値を読み取って「０」の出庫ならば減算、 　　「１」の入庫ならば加算で合計の値をupdateします。 ■現状と解決したい点 switch($state) case 0:が計算されません switch($state) case 1:は計算結果がカラムに格納されます。 ■端末アプリから吐出されるパラメーター（アプリ名：istocker） http://デモサイト/stock-regist-istocker.php?base_id=2&group_id=1&mode=0&password=&date=2011-02-22%2005:32:00&key=100&barcode=nabe-01 （必要な項目はmodeとkeyとbarcodeの3項目のみです。上記パラメータは 端末アプリ依存の物なので変更はできません） ・mode：//登録状態（0＝出庫 1＝入庫 2=手動出庫 3=手動入庫 9=削除） ・key：//入荷数 ・barcode：//登録された商品番号 ■環境 CentOS 6.2 MySQL 5.1.67 PHP 5.3.3 ■補足 なんでこのような処理を。。。と思われるかと思いますが、上述のように パラメーターが端末アプリ依存のため「ー（マイナス）」の値を吐出せないので（泣 下記ソースと同じ内容でブラウザ入力用のphpも用意したのですが、そちらでは 「ー（マイナス）」の値で無事に加算・減算ができました。 ■ソース <?php $comp_flg = 1; if($_GET[barcode] && $_GET[key] && $_GET[mode]){//データが全て入力されている場合 $no = $_GET[barcode];//登録された商品番号 $quant = $_GET[key];//入荷数 $state = $_GET[mode]; //登録状態（0＝出庫 1＝入庫 2=手動出庫 3=手動入庫 9=削除） $mysql_con = mysql_connect("localhost","DBUSER","PASSWORD"); if($mysql_con == false){ print ('MySQL接続に失敗しました<br>'); }else{ print ('接続完了しました<br>'); } if(mysql_select_db("DBNAME",$mysql_con)){ //sample01のデータベースに接続し、接続の確認 print "データベースに接続しました<br>"; }else{ die("接続に失敗しました<br>"); //接続に失敗したときにMySQLの接続を切る } $mytbl = mysql_query("select stock from dtb_products_class where product_code='".$no."'",$mysql_con); //現状の在庫データーを呼び出すクエリー if(!$mytbl){ die(mysql_error()); //エラーの場合はカットする print "エラーカット"; } switch($state){ case 0: $zaiko = mysql_fetch_array($mytbl); $kei=$zaiko[0] - $quant; //現状の在庫に新たな在庫を減算する $mytbl = mysql_query("UPDATE dtb_products_class set stock='".$kei."' where product_code='".$no."'"); //在庫数を商品番号で指定して更新する break; case 1: $zaiko = mysql_fetch_array($mytbl); $kei=$zaiko[0] + $quant; //現状の在庫から在庫を加算する $mytbl = mysql_query("UPDATE dtb_products_class set stock='".$kei."' where product_code='".$no."'"); //在庫数を商品番号で指定して更新する break; } $comp_flg = 0; if(!$mytbl){ die(mysql_error()); //エラーの場合はカットする print "エラーカット"; } } ?> 何卒、お力、ヒントなどよろしくお願いします　m(__)m
PHPのソースで <?php // -------------- function hogehoge($str,$strstr) { $s = $str; $s .= ' - '. $strstr; return $s; } echo hogehoge('Hello world','ようこそ！'); // -------------- ?> とすると Hello world - ようこそ！ とでますが、 hogehogeの第二引数を省略して <?php // -------------- echo hogehoge('Hello world'); // -------------- ?> hogehogeの第二引数を省略するとエラーが出るので <?php // -------------- function hogehoge($str,$strstr) { $s = $str; $result_strstr = $strstr; //if ( $result_strstr != '' ) ) { $s .= ' - '. $strstr; } if ( isset( $result_strstr ) ) { $s .= ' - '. $strstr; } return $s; } echo hogehoge('Hello world'); // -------------- ?> とやってもエラーが出て 第二引数を省略可という関数を作ることができません。 どのようにすればよいのでしょうか？
基礎PHPの本(http://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E6%96 …) 2004年10月1日　所版発行 2006年11月11日　第１版第７刷発行 　発行インプレスジャパン と最後のページに書いてありました。 　４１４ページもあり、８１ページまでやりました。 最近この本を勉強していると気がかりなことがあります。 　発行された年が2004年だからです。　 　　現在2013年で、既に内容が７年以上前と古く、どうせ勉強するなら”一番新しい基礎のPHP”を 勉強したほうがいいのかな？と思っています。しかし「基礎PHP」の本内容は超分かりやすくて気に入っています。 　地方に住んでいますので、近くの本屋に行ってもお目当てのPHP基礎の本はどこにもないので、中身を見て自分で判断して上で、購入ができません。現在勉強している本はアマゾン.comで購入しました。 　 　PHPの基礎の本をもう一冊もっています。秀和システムの「作りながら基礎から学ぶPHPによるWebアプリケーション入門」ですが、１００ページ以上やりましたが、私のとりましてまだハードルが高すぎましたので仕切り直しで「基礎PHP」の本に切り替え現在勉強中です。 　将来的には”掲示板”をたちあげるつもりですが「基礎PHP」で一冊最後まで勉強したほうがいいのか、同レベルの最新の基礎のPHPの本を購入したほうがいいのか、迷っています。もしPHPの基礎で最新でお勧めの本がございましたらご紹介いただけますか、よろしくお願いします。
こんばんは。 納期が迫ってきていて、頭が回らず、こちらに質問させていただきます＞＜ 「HTMLタグが含まれた文章」 を処理します。 その中の <img～> <br> <hr> タグを <img～/> <br /> <hr /> に置換したいのです。 /の前には半角のスペースが1文字入るようにしたいです。 また、もし上記タグで、最初から終了タグが含まれていた場合は処理対象外にしたいです。 もしも <br /> があれば、それは終了タグがついているので処理しない。 納期前にモバイルページ（XHTML)での確認をしたら 終了タグがなくてあわててしまいました。 どうかお力をお貸しください。よろしくお願いいたします。 PHPのバージョンは５．１です。
こんにちは。phpを勉強中なのですが質問があります。 phpでhtmlソースを取り出したいのですが、htmlソース（内容はdiv～/divで囲んだソース）はどのように保存すれば良いでしょうか？ htmlソースなのですが大量にありまして、そのソースごと並び替えをしてhtmlを表示したいのですが・・。 今自分で作ってみたのは、単純にテキストファイルにhtmlを書いて、phpで並び替え、テキストファイル読み込み表示するという方法なのですが、とりあえずは上手くできたのですが、この方法ですとテキストファイルが大量にできてしまいます。 初心者のサイトではデータはmysqlのデータベースを使う・・とあったので同時にmysqlを少しさわってみたのですが、例えばデータベースの値の所にhtmlのソースを放り込むという事なのでしょうか？ 作りたいのはゲームのレビューサイトなのですが可能であれば日付順などボタン一つで並び変えたいのです。（div～/divで囲んだソースごと並び変えたい。div～/divの中には自分のレビューやら画像が入ります） htmlとphpを覚え始めたばかりで、よく分からないのですが通常みなさんはhtmlファイルは何に格納するのでしょうか？
●質問の主旨 ドットインストール 「お問合せ管理システムを作ろう #10 動作確認をしてみよう」で、 http://dotinstall.com/lessons/contacts_php_v2/9810 index.php thanks.html functions.php config.php の4つのファイルをコピペして使っているにも関わらず、 index.phpファイルで、送信ボタンを押すと、 下記のエラーメッセージが出て画面が遷移しません。 SQLSTATE[HY000] [1045] Access denied for user 'dbuser'@'localhost' (using password: YES) なぜでしょうか？ご存知のかた、アドバイスよろしくお願いします。 ●質問の補足 phpmyadminにある、データベースの dotinstall_contacts_phpを見ると添付画像のような感じです。 dbuserにはアクセスするための権限があるように見え、 拒否される理由がいまいちよくわかりません。 また、同じくドットインストールの #03 アプリ共通の設定をしよう http://dotinstall.com/lessons/contacts_php_v2/9803 で「ほぼ同じ」設定をしているので、余計に理由が分かりません。 変更を加えているのは 25行目を define('SITE_URL', 'http://localhost/dotinstall/index.php/'); にしているのと、 session_set_cookie_params(0, '/index.php/'); を削除している点です。 ●関連質問 ドットインストールの画面と違うのはなぜ？（PHP) http://okwave.jp/qa/q8057518.html ●開発環境 windows8 xammp1.8.1
●質問の主旨 Parse error: syntax error, unexpected 'maker_id' (T_STRING) in C:\xampp\htdocs\shop\input_do.php on line 23 というエラーが出ます。なぜエラーが出るのか分かりません。 エラーを表示させないためには、下記のコードをどのように 書き換えればよいでしょうか？ご存知の方、ご教示願います。 ●質問の補足 1.HTMLフォームinput.php（添付画像）に情報を入力。登録ボタンを押す ↓ 2.受付画面（input_do.php)に遷移 という流れを作りたいのですが、上記のエラーが出ます。 もちろんデータベース(mydb3)やテーブル（my_items)は、 すでにphpmyadminに用意しています。 ●開発環境 windows8 xammp1.8.1 ●参考文献 たにぐちまこと 「よくわかるPHPの教科書」P200 ●コード (input.php) <!DOCTYPE html> <html lang="ja"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> <link rel="stylesheet" type="text/css" href="style.css" /> <title>商品登録</title> </head> <body> <div id="wrap"> <div id="head"> <h1>トップページ</h1> </div> <div id="content"> <p style="margin-top: 20px"> <?php mysql_connect('localhost', 'root','') or die(mysql_eror()); mysql_select_db('mydb3') or die(mysql_error()); mysql_query('SET NAMES UTF8'); $sql = sprintf('INSERT INTO my_items SET maker_id=%d, item_name="%s", price=%d, keyword="%s", mysql_real_escape_string($_POST['maker_id']), mysql_real_escape_string($_POST['item_name']), mysql_real_escape_string($_POST['price']), mysql_real_escape_string($_POST['keyword']) ); mysql_query($sql) or die(mysql_error()); ?> </p> </div> <p>商品を登録しました</p> <div id="foot"> <p><img src="images/txt_copyright.png" width="136" height="15" alt="(C) H2O Space. MYCOM" /></p> </div> </div> </body> </html> (input_do.php) <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitio … <html xmlns="http://www.w3.org/1999/xhtml"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> <link rel="stylesheet" type="text/css" href="style.css" /> <title>商品登録</title> </head> <body> <div id="wrap"> <div id="head"> <h1>商品登録</h1> </div> <div id="content"> <p>登録する商品の情報を記入してください。</p> <form id="frmInput" name="frmInput" method="post" action="input_do.php"> <dl> <dt> <label for="maker_id">メーカーID</label> </dt> <dd> <input name="maker_id" type="text" id="maker_id" size="10" maxlength="10" /> </dd> <dt> <label for="item_name">商品名</label> </dt> <dd> <input name="item_name" type="text" id="item_name" size="35" maxlength="255" /> </dd> <dt> <label for="price">価格</label> </dt> <dd> <input name="price" type="text" id="price" size="10" maxlength="10" /> 円</dd> <dt> <label for="keyword">キーワード</label> </dt> <dd> <input name="keyword" type="text" id="keyword" size="50" maxlength="255" /> </dd> <input type="submit" value="登録する" /> </form> </div> <div id="foot"> <p><img src="images/txt_copyright.png" width="136" height="15" alt="(C) H2O Space. MYCOM" /></p> </div> </div> </body> </html>
<h1> <a href="<?php echo home_url('/'); ?>"> <?php bloginfo('name'); ?> </a> </h1> というソースがあります。 「home_url()」はサイトのホームURLを返すものですよね。 「bloginfo('url')」も同様かと思うのですが、 上記の場合「home_url()」を使っているのは、 「('/')」があるからなのでしょうか？ もし「('/')」がないなら、 <a href="<?php bloginfo('url'); ?>"> でも問題はないということになるでしょうか？ ご存じの方、よろしければご教授をお願いいたします。
PHPが処理を途中でやめるのですが、原因が分からないので教えてください。 Chromeで実行すると15秒ほど実行した後に101エラーが出ます。 なお、max_execution_timeは1800に設定してあります。 ブラウザを変えてやってみましたが、結果は同じような感じでした。 IEでは、「Internet Explorer ではこのページは表示できません」と出て、 Operaでは「接続はリモートサーバーから切断されました」と出ます。 コマンドプロンプトから実行しても同じように15秒ほど処理した後に、「CLIは動作を停止しました」と出ます。 いずれも、まったく処理していないわけではなく、停止するまでの15秒ほどは処理を進めてくれているようです。 原因分かりますでしょうか？ XAMPP: 1.7.7 PHP: 5.3.8 Windows7(64bit) localhost上で実行しています。
プログラミングの初心者です。 Fizz-Buzz問題をPHPで書いてみました。 <?php for ($i=1; $i<=100; $i++) { if ($i%3==0 && $i%5==0) {　// 3でも5でも割り切れる数 echo "Fizz-Buzz"; } elseif ($i%3==0 && $i%5!==0) { // 3で割り切れる数 echo "Fizz<br>"; } elseif ($i%3!==0 && $i%5==0) { //5で割り切れる数 echo "Buzz<br>"; } else{ //3でも5でも割り切れない数 echo "$i<br>"; } } ?> こんな感じになったのですが、何か問題点はあるでしょうか？ ちなみに、echo末尾に<br>を入れているのは、<br>なしで作ると、12Fizz4Buzz……と改行なしに表示されて読みにくかったからです。 インターネット上のソースを見ると、$i%3==0 && $i%5==0　ではなく　$i%15==0　にしていたり、三項演算子を使ってバイト数を減らしたりと色々工夫がされているようですが、そちらのほうがよいのでしょうか。
PHPの勉強をしております、PHP初心者です。 Eclipse でのデバッグのやり方を質問させてくだい。 ステップ実行によるデバッグができないかと eclipse + PDT という開発環境をつくっています。 そこで質問なのですが、 一番初めの画面（PHPファイル）でのデバッグは その画面を選択して、 デバッグ→PHP　Webアプリケーション　 の手順で行なえています。 これは問題ないと思うのですが 例えば、遷移元の画面(HTMLファイル)から遷移先の画面（PHPファイル）に form から値が渡されるといった場合、 どのようにデバッグすればいいのでしょうか？ いま、私は、遷移元のHTMLファイルを選択し アプリケーションから開く→Web　ブラウザー の手順でひらき、遷移先の画面にいくのですが 遷移先のPHPファイルにブレークポイントを設定しても とまりません。 このやり方であっているのでしょうか？ 遷移先画面を直接選択し デバッグ→PHP　Webアプリケーション　 の手順で行なってもそもそも遷移元画面を経ていないので 値がわたされてこないので意味がありません。 画面遷移がある場合の、値の受け渡しがある場合の デバッグをやり方を教えてください。
PHPでfatal errorが出ても無視して続行する方法はありませんでしょうか？ PHPバージョン 5.3.3 @（アットマーク　エラー制御演算子）を入れてやってみましたが、エラーは表示されなくなりますが、それ以降の構文が実行されません。 warningは元々次に進むので良いのですが、fatal errorの場合、そこで終了してしまいそれ以降が実行できません。 ・標準出力へのエラーメッセージの表示はあってもなくてもどっちでもいい。 ・parse errorに関しては今回は続行しなくてもいい。（続行しても良い。） try{ 　エラーになるコード; }catch(Exception $e){ } ですべてのエクセプションを拾って次へ行くという方法が有ることはわかっていますが、例外以外のエラーではそこで強制終了してしまっています。 何とかエラーの出る次の行へ進む方法は無いでしょうか？ よろしくお願いいたします。
PHPでFAQシステムを作ろうと思っています。 下記のサイトのような、カテゴリ毎にFAQページを作成できるプログラムを探しているのですが、オススメありますか？（フリーでお願いします。） できれば日本製がいいです。海外製のをいくつかためしたのですが、使い方が載っているのが少なく使いこなせませんでした＞＜ よろしくお願いいたします。 http://www.matsubara-sangyo.jp/qa/
お世話になります。 PHPの条件文で データベースからの　カラム（db_url）にデータが存在する場合は <div>URLデータはhttp......です</div>　 を表示させて 存在しない場合は　なにも表示させないようにしたいのですが PHPやjavascript で出来ると伺ったのですが どちらを用いてどのようにすればいいのでしょうか 御教示頂ければ幸いでございます。
お分かりになられる方ご教授ください 下記のようなIF文を書きました if ($name =="6メートル" and $keta =="10メートル") { $kingaku=$a10; }elseif ($name =="6メートル" and $keta =="15メートル") { $kingaku=$a15; }elseif ($name =="6メートル" and $keta =="20メートル") { $kingaku=$a20; }elseif ($name =="6メートル" and $keta =="25メートル") { $kingaku=$a25; }elseif ($name =="6メートル" and $keta =="30メートル") { $kingaku=$a30; }elseif ($name =="6メートル" and $keta =="35メートル") { $kingaku=$a35; }elseif ($name =="6メートル" and $keta =="40メートル") { $kingaku=$a40; }elseif ($name =="6メートル" and $keta =="45メートル") { $kingaku=$a45; }elseif ($name =="6メートル" and $keta =="50メートル") { $kingaku=$a50; } }elseif ($name =="１0メートル" and $keta =="10メートル") { $kingaku=$b10; } }elseif ($name =="１0メートル" and $keta =="15メートル") { $kingaku=$b15; } }elseif ($name =="１0メートル" and $keta =="20メートル") { $kingaku=$b20; } }elseif ($name =="１0メートル" and $keta =="25メートル") { $kingaku=$b25; } }elseif ($name =="１0メートル" and $keta =="30メートル") { $kingaku=$b30; } }elseif ($name =="１0メートル" and $keta =="35メートル") { $kingaku=$b35; } }elseif ($name =="１0メートル" and $keta =="40メートル") { $kingaku=$b40; } }elseif ($name =="１0メートル" and $keta =="45メートル") { $kingaku=$b45; } }elseif ($name =="１0メートル" and $keta =="50メートル") { $kingaku=$b50; } else { $kingaku="-"; } とにかく長いです。。。 これをもっとスマートに書く方法はございますでしょうか？ 恐れ入りますがお分かりになられる方教えて下さい
phpでfgetcsv関数を使用して、取得したデータをDBに登録するという作業を行いたいと考えています。 ですが、CSVでNULLの部分の取得が上手くいっていないようで、DBには「NULL」という文字列で取り込まれてしまいます。 「\N」にすることでNULLとして登録出来るという情報があったので、CSVを修正して「NULL」を「\N」にしてみたのですが、やはり「\N」という文字列として登録されてしまいました。 正常にNULLとして認識させるにはどのような対応を行えば良いのでしょうか。 よろしくおねがいします。
プログラミング初心者です。 現在PHPを使ってページを作成しています。 そこで、自分自身、つまり今表示されているページのファイル名による制御を行おうとするのですがファイル名による制御部分の指定がわかりません。 おそらく、そこができれば分岐の処理などは行ける気がするのですが・・・。 具体的には、例えば、ファイル名がsample.phpが表示された場合には、 ページ中にある、<p>これはsample.phpだよ！</p>を表示させる方法となります。 自分自身のファイル名を認識させる指定はどのように定義すればよいでしょうか？ 詳しい方いらっしゃいましたら、アドバイスをお願いいたします。
pukiwikiで作成されたページを自作のphpに書き直そうとしています。 現状のpukiwikiですと、ページ遷移する際のURLが/?aaaとか/?bbbという感じになっているのですが、このパラメータの値はどうやって出力すればよいのでしょうか。 ?data=aaaとか?data=bbbとなっていれば出力できるのですが… お願いします。
codeigniterというフレームワークで開発しています。 phpの標準関数　dateでdate("H")を表示したところ 朝10時25分の時点で3時25分と表示されてしまっています。 時間がずれてしまい困っています。 どのように対処すればよいでしょうか 教えてください。
スクリプト”自分自身”をob_startなどの出力制御関数を使って HTML出力したいのですが、うまく行きません。 以下のように、hoge1.phpというスクリプトを書いて、 別の hoge2.phpをインクルードしてhoge2.phpを HTML出力することはできますが、 ob_start(); include('hoge2.php'); fopen処理 fwite処理 fclose($fd); ob_clean(); たとえば、インプットフォームに文字を入力して、 受け取る。そして表示。 と同時にHTMLファイルを書き出して保存する場合、 どのようにスクリプトを書けばいいでしょうか。 お手数おかけしますが。お力を貸してください。 よろしくお願いいたします。
プログラム初心者です。 PhpMyAdminでテーブルを作ってそこに接続するスクリプトを書くと 結果の日本語が文字化けしてしまい困っています。 SQLのコマンドラインツールからshow variables like 'char%'; で現在の文字コードに関する設定を確認してみたら +--------------------------+--------------------------------+ | Variable_name | Value | +--------------------------+--------------------------------+ | character_set_client | utf8 | | character_set_connection | utf8 | | character_set_database | utf8 | | character_set_filesystem | binary | | character_set_results | utf8 | | character_set_server | utf8 | | character_set_system | utf8 | | character_sets_dir | C:\xampp\mysql\share\charsets\ | +--------------------------+--------------------------------+ 以上の様にcharacter_set_filesystem以外はUTF-8になっているのですが なぜ文字化けしてしますのでしょうか？ このcharacter_set_filesystemをUTF-8にしないとそうなってしまうものなのでしょうか。 スクリプトはTerapadを使用しUTF-8で保存しています。 手持ちのPHPの参考書によると、文字化けの発生には以下の5箇所があるといいます。 1、HTTPリクエスト 2、PHPファイル内での文字列読み込み 3、DBアクセス 4、MysqlからApacheの問い合わせに対するレスポンス 5、HTTPレスポンス 現在この5つのうちのどこに原因があって文字化けしているのでしょうか？ 3のDBアクセス時かな？と思って 参考書に従ってphp.iniや.htaccessを設定したつもりですが解消しません。 環境設定だけで一日仕事になってしまいました（汗） お詳しい方、どうかお知恵をお貸し下さい。 原因と対策を教えて下さると助かります。 情報の過不足があればご指摘ください、よろしくお願いいたします。 当方の環境 　■php 5.4.7 　■mysql 5.0.10 　■Apache 2.4.3
Parse error: syntax error, unexpected T_STRING in ...on line 458　というエラーが出てサイトが表示されなくなってしまいました。どなたか解決策を教えて下さい。　on line 458　とはどういった意味でしょうか。
はじめまして。 PHPでHTMLのパースを勉強しております。 そこで質問なのですが、 file_get_contentsで、style="display:none"の指定がされているタグ内のテキストを 取得することは可能でしょうか。 説明が悪くてすいません。 下記の例の場合、「タイトルその1」を取得したいです。 <div class="list1" style="display:none;"> <span class="title">タイトルその1</span> </div> 以上、どなたかご返答頂けますと幸いです。
XHProfをWindowsにインストールしたくて、「php_xhprof.dll」をキーワードにGoogleで検索し、ネットに落ちてたDLLファイルをC:\xampp\php\extに置き、php.iniに「extension=php_xhprof.dll」と加筆し、Apacheの再起動をかけたところ、Apacheが立ち上がりませんでした。 php_xhprof.dllを3種類ほど見つけてきて試しましたが、すべてApacheが立ち上がりませんでした。 解決方法をご教示ください。 ［環境］ Windows7(64bit) XAMPP1.7.7 PHP5.3.8
phpとmysqlを使っています。 列はID、NAME、SUBID がある場合に、 IDが X の行の SUBID に 値を挿入するにはどうしたらいいのでしょうか。
こんにちは、よろしくお願い致します。 データベースに下記のようなデータが入っています。 table_A cd name --------------- 1000001 aaa 1000002 bbb 1000003 ccc 1000004 ddd 1000005 eee 1000006 fff 1000007 ggg 1000008 hhh 1000009 iii 1000010 jjj table_B cd type point --------------- 1000001 A 100 1000001 B 50 1000001 C 30 1000004 C 20 1000005 B 70 1000009 A 10 1000009 C 40 table_Aと、table_Bから、下記table_Cの内容 table_C cd name count point_total ------------------------------ 1000001 aaa 3 180 1000002 bbb 0 0 1000003 ccc 0 0 1000004 ddd 1 20 1000005 eee 1 70 1000006 fff 0 0 1000007 ggg 0 0 1000008 hhh 0 0 1000009 iii 2 50 1000010 jjj 0 0 を得るには、どのようなSQLを書けば良いのでしょうか？ table_Cのcount項目は、cdでマッチするtable_Bのtypeの種類をカウントしたもので table_Cのpoint_total項目は、cdでマッチするtable_Bのpointを合計した数値になります。 分かりにくい質問ですみませんがアドバイス頂けると嬉しいです。 具体的にどのような方法で実現できるか、教えて頂けると有難いです。 よろしくお願いいたします。
スマホで検索エンジン経由（googleやyahoo）でのアクセスした場合と 直接アクセス（リンクやブックマーク）によるアクセスを 判断して、ページを出し分ける方法はありますでしょうか？ PCサイトとスマホサイトが別々のドメインで存在し、 スマホで、PCサイトにアクセスした場合 ・直接アクセスの人には、誘導ボタンを出力し、ユーザー判断にまかせてスマホサイトへ誘導 ・googleやyahoo（共にスマホ版）から検索されたユーザーには無条件でスマホサイトへ誘導 ということを実現したいです。 サンプルのプログラム（JavascriptやPHPなど）や設定方法（.htaccessなど）等、あったら尚嬉しいです。 よろしくお願い致します。
以下の連想配列と別にあるテキストファイルを配列にして ”マッチした商品名の全てのデータを表示したいです。 ■連想配列の形↓■ 50を超えるリンゴの種類が、以下のような 連想配列($alldata)の形であります。 $alldata = [1]=> array(5) { ["no"]=> string(1) "1" ["name"]=> string(5) "san-tugaru" ["color"]=> string(3) "red" ["price"]=> string(3) "150" ["memo"]=> string(10) "aomori" } [2]=> array(5) { ["no"]=> string(1) "2" ["name"]=> string(5) "ko-gyoku" ["color"]=> string(3) "red" ["price"]=> string(3) "250" ["memo"]=> string(10) "yamagata" } というふうに５０個のリンゴのデータ続きます。 リンゴの配列情報の詳細は以下の通りです。 ※配列のKeyの番号とvalueの商品Noは同じで連想配列にしています。 商品No　["no"] 名称　　["name"] 色　　　["color"] 価格　　["price"] 産地　　["memo"] +-------------------------------------------------+ ■テキストファイル(select-ringo.txt)の内容と意味■ このテキストファイルは、商品No「４、５、１２、３０」の リンゴを選んで表示したい場合です。 +----+ 4,1,10 5,4,13 12,2,9 30,3,15 +----+ ◇カンマで区切られた数字の意味◇ ・各行の先頭の数字は「商品No.」を選択します。 ・カンマで区切られた2番目の数字は、”色”を選択します。 たとえば、1行目であれば、 商品No　４　の全ての情報は カラー１＝#ff0000　echo表示されます。 他の番号の場合は色は以下の通りです。 カラー１　＝#ff0000 カラー２　＝#ff6600 カラー３　＝#ff0066 カラー４　＝#ff3399 ・3番目の数字はフォントサイズ（px）を意味します。 +---------------------------------------------------+ テキストファイルに”商品番号のみ”を入れると以下のスクリプトで動作しますが、 カンマで区切った場合のマッチング方法に悩んでいます。 ※以前、こちらで親切な方に方法を教えていただきました↓ $selectNo = array_map(rtrim, file("select-ringo.txt")); foreach ($selectNo as $num) { if (is_numeric($num) && array_key_exists($num, $alldata)) { 表示 } } みなさん、お力をお貸しください。 よろしくお願いいたします。
サーバにある、CSVファイルをデータベース(mysql)に登録したいです。 $query = "LOAD DATA INFILE '[ファイル名]' INTO TABLE [テーブル名] FIELDS TERMINATED BY ','"; を $result = mysql_query($query); として実行すると、 Access denied for user 'user'@'%' (using password: YES) というエラーになります。 色々検索すると、ユーザーはrootユーザーでないといけない・・・というのを見かけたのですが・・・ 普通のユーザーではLOAD DATA INFILEを使用できませんか？ 私は、レンタルサーバを使用していて、レンタルサーバ上からしかユーザーを追加できません。 この場合、LOAD DATA INFILE～　は使用できないのでしょうか？ また、もし使用できない場合、代替手段はあるのでしょうか？
三項演算子？について教えてください やりたいことはHTMLのリンクをクリックするとクッキーの値が変わるようにするこです 本見てていまいち理解できませんでした if (isset($_COOKIE["size"])) { $size = intval($_COOKIE["size"]); } このリンクをクリックするとなぜcookieの値が変わるのですか？ ?マークだから三項演算子ですよね？ ？の意味がわかりません・・・？がつくとクッキーの値が変更できるのですか？ //ここからHTML 文字サイズ <a href="test.php?size=20">中</a> <a href="test.php?size=10">小</a>
下記の質問と全く同じことをしたいのですが http://detail.chiebukuro.yahoo.co.jp/qa/question … 回答をみても分かりませんでした。 array_mergeを使うとあったので foreach ($xmlData->Item as $itemValue) foreach ($xmlData2->Item as $itemValue2) $result = array_merge($itemValue, $itemValue2); print_r($result); としてみましたが、 Warning: array_merge() [function.array-merge]: Argument #1 is not an array とエラーが出てしまいます。 最終的には以下のようにDBに入れたいと思っているのですが その前段階としてforeachをまとめるにはどのようにしたらよいででしょうか。 $sql = "INSERT INTO teble (itemname,price) VALUES ('".$itemValue."','".$itemValue2."')";
●質問の主旨 下記のコードでを実行しようとすると、 print('<img src="'.$img.'" alt="'.$prof[0].'" />'); のところで、 Parse error: syntax error, unexpected 'src' (T_STRING) が出ます。 どこを修正すればよいのでしょうか？ ご存知のかたよろしくお願いします。 ●コード <?php foreach($data as $name => $prof) { $img =''; $pos = mb_strpos($name, $_POST['keywd']); if ($pos !== FALSE) { $img = '../images/male.gif'; } else if ($prof[0] === '男') { $img = '../images/female.gif'; } else { $img = '../images/other.gif; } print('<img src="'.$img.'" alt="'.$prof[0].'" />'); print('<dt>'.$name.'</dt>'); print('<dd>性別：'.$prof[0].'</dd>'); print('<dd>誕生日：'.$prof[1].'</dd>'); print('<dd>住所：'.$prof[2].'</dd>'); } } ?>
multiRequest関数にて楽天含め２つのAPIを使用したいのですが、同時にmultiRequest関数で叩くと　file_get_contents関数(楽天のコロンを取り除く為）でエラー表示が起きてしまいます。 以下、エラー表示部分 Warning: file_get_contents(<?xml version="1.0" encoding="UTF-8"?><Response><header:Header xmlns:header="http://...・・・・・・<reviewAverage>4.81</reviewAverage><pointRate>1</pointRate><pointRateStar in C:\ｘｘｘｘｘ\ｘｘｘｘｘ\search.php on line 306 以下、記述内容 $data = array( "http://api.rakuten.co.jp/rws/3.0/rest?developerId=ｘｘｘｘｘ&operation=ItemSearch&version=2010-09-15&keyword=$word", "http://productsearch.linksynergy.com/productsear …ｘｘｘｘｘｘ&keyword=$link_keyword", ); var_dump($data); $r = multiRequest($data); $data = file_get_contents($r[0]); $data= str_replace('itemSearch:ItemSearch', 'itemsearch', $data); $xml = simplexml_load_string($r); print_r($xml); ?> 　　　　　　　　　　　　　　ここまで。 尚、$xml = simplexml_load_string($r);　の上２行を削除し、$xml = simplexml_load_string($r[1]);　とした場合はもう１つのAPIの取得は出来ました。 また今、$dataと$rの変数が誤ってる事は存じております。 恐らく、file_get_contents関数の記述がおかしいのかとは思いますが、何がおかしいのか分かりません。 もしかしたら単純な事なのかもしれませんが、調べても全く出てこない為、分かる方がおりましたら、何卒お力添え頂けると助かります。
プログラムを初めて組んでいるのですが、どうしてもデータベースを使いたいので phpmyadminを使い、いろいろいじっているのですが、phpでデータベースの内容を 表示したときなのですが、どうしても文字化けが直りません。 （日本語だけ文字化けします） いろいろググってみて以下で解決できそうなのですが、書いてある事がさっぱりわからず どなたか分かりやすく解説してもらえませんでしょうか。 phpの文字コードはUTF8 データベース照合順序はutf8_general_ciにはして あります。 最初の 「SET NAMES utf8」というクエリを発行。 というのはすでに意味がわかりません・・。 --------------------------------------------------------- 【状況】 PHPからMySQLにデータ登録し、phpMyAdminで値を閲覧すると、日本語が文字化けしている。 ただし、その状態の値をPHPで取得・表示は普通にできる。 ※PHP、HTMLの文字コードは「UTF8」。データベースの照合順序は「utf8_general_ci」 【対応】（以下の「xampp_path」はXAMPPのインストールパス） データベース接続後に「SET NAMES utf8」というクエリを発行。 もしくはPHP5.2.2以降なら「mysql_set_charset(‘utf8′);」を実行しても良い。 「xampp_path/mysql/bin/my.ini」に以下の項目を追加・修正 [mysqld] character_set_server=utf8 skip-character-set-client-handshake [mysqldump] default-character-set=utf8 [mysql] default-character-set=utf8 「xampp_path/phpMyAdmin/config.inc.php」に以下の項目を追加・修正 $cfg['DefaultLang'] = 'ja-utf-8'; $cfg['DefaultCharset'] = 'ja-utf-8';
タイトルの件で教えて頂きたい事が出てきました。 以下のサイトで公開されてますプログラムを利用しまして ttp://creazy.net/2008/07/post_a_mixi_dialy_from_php.html 少し省略していますが下記のように少し変更して使って見ました。 尚、テキストだけでも投稿可能となっていましたので 画像の部分は外しています。 試してみましたら$res_codeの所で「404」が返って来まして 失敗しているようで投稿できません。 いろいろと考えてやってみましたが良く分かりません。 ご存知の方がいらっしゃいましたらご教授のほどお願いいたします。 環境は以下の通りです。 ・OS:Windows XP/Apache2.0 ・PHP 5.2 以下が試したプログラムの抜粋です ------------------------------------------------------------ // mixi USER infomation $user = 'mixiのログインID'; // << 実際は登録データを設定済みです $pass = 'mixiのパスワード'; // $id = 'mixiのユーザーID'; // // WSSE Authentication // Windowwsでは、posix_getpidは使えないので uniqidに変更 //$nonce = pack('H*', sha1(md5(time().rand().posix_getpid()))); $nonce = pack('H*', sha1(md5(time().rand().uniqid("")))); $created = date('Y-m-d\TH:i:s\Z'); $digest = base64_encode(pack('H*', sha1($nonce . $created . $pass))); $wsse_text = 'UsernameToken Username="%s", PasswordDigest="%s", Nonce="%s", Created="%s"'; $wsse_header = sprintf($wsse_text, $user, $digest, base64_encode($nonce), $created); // mixi POST URL $url = 'http://mixi.jp/atom/diary/member_id=' . $id; //------------------------------------------------------------ // Post Text //------------------------------------------------------------ $post_data = "<?xml version='1.0' encoding='utf-8'?>" . "<entry xmlns='http://www.w3.org/2007/app'>" . "<title>テストタイトル</title>" . "<summary>テスト・テスト・テスト</summary>" . "</entry>"; $request = new HTTP_Request($url); $request->setMethod(HTTP_REQUEST_METHOD_POST); $request->addHeader('X-WSSE', $wsse_header); $request->setBody($post_data); if (PEAR::isError($request->sendRequest())) { die('request failed'); } $res_code = $request->getResponseCode(); echo "$res_code\n";// 404が返ってくる ------------------------------------------------------------
文字列内にある「指定した空タグ」だけを削除するにはどうすれば良いでしょうか？ ※HTMLタグはエスケープしていない状態で、変数として保持しています ■現状 <p>str_replaceでいけると思ったけど</p> <p></p> <p>preg_replace?</p> <p></p> ■希望 <p>str_replaceでいけると思ったけど</p> <p>preg_replace?</p>
phpはプログラミング言語ですよね？ cgiはプログラミング言語ではないのですよね？ PHPを使ってCGIというのを動かすのでしょうか？ CGIが何者なのかまったくわかりません。
いつもお世話になっております。 SQLのQueryを生成するため、 配列をjoinしようと思ってます。 joinの値は文字列なので、シングルクオーテーションで括りたいと考えてるのですが、 うまい方法を探しております。 ご存知なら御教授いただきたいです。 今はjoinの配列にデータを入れる際にシングルクオーテーションを文字列結合しております。
phpの変数について基本的な質問です 変数の後ろに半角空白を入れないといけないのは日本語の場合だけですか？ 記号や数字の場合は空白はいらないのですか？ カッコでくくるのがめんどいので問題ないなら省略したいのです $hoge= 50; echo "$hoge<100";
PHPで配列内容を、<ul>タグを跨いで表示させたいです。 例えば、8個の要素がある配列を3列で表示させたいとき、 下記のような順番で表示させるには、どうすれば良いでしょうか？ <ul> 　<li>1</li> 　<li>4</li> 　<li>7</li> </ul> <ul> 　<li>2</li> 　<li>5</li> 　<li>8</li> </ul> <ul> 　<li>3</li> 　<li>6</li> </ul>
Xdebugをインストールしスクリプトを実行しましたが、cachegrind.out.から始まるファイルが作成されません。 php.iniの設定がおかしいのでしょうか？ 回答を頂くのに必要かどうかわかりませんが、一応、phpinfoのXdebugの内容を下記しておきます。 なお、XAMPP: 1.7.7、PHP: 5.3.8、Windows7（64bit）の環境です。 xdebug supportenabled Version2.1.1 Supported protocolsRevision DBGp - Common DeBuGger Protocol$Revision: 1.145 $ DirectiveLocal ValueMaster Value xdebug.auto_traceOffOff xdebug.collect_assignmentsOffOff xdebug.collect_includesOnOn xdebug.collect_params00 xdebug.collect_returnOffOff xdebug.collect_varsOffOff xdebug.default_enableOnOn xdebug.dump.COOKIEno valueno value xdebug.dump.ENVno valueno value xdebug.dump.FILESno valueno value xdebug.dump.GETno valueno value xdebug.dump.POSTno valueno value xdebug.dump.REQUESTno valueno value xdebug.dump.SERVERno valueno value xdebug.dump.SESSIONno valueno value xdebug.dump_globalsOnOn xdebug.dump_onceOnOn xdebug.dump_undefinedOffOff xdebug.extended_infoOnOn xdebug.file_link_formatno valueno value xdebug.idekeyHOGE-PC$no value xdebug.manual_urlhttp://www.php.nethttp://www.php.net xdebug.max_nesting_level100100 xdebug.overload_var_dumpOnOn xdebug.profiler_aggregateOffOff xdebug.profiler_appendOffOff xdebug.profiler_enableOffOff xdebug.profiler_enable_triggerOffOff xdebug.profiler_output_dir\\ xdebug.profiler_output_namecachegrind.out.%pcachegrind.out.%p xdebug.remote_autostartOffOff xdebug.remote_connect_backOffOff xdebug.remote_cookie_expire_time36003600 xdebug.remote_enableOffOff xdebug.remote_handlerdbgpdbgp xdebug.remote_hostlocalhostlocalhost xdebug.remote_logno valueno value xdebug.remote_modereqreq xdebug.remote_port90009000 xdebug.screamOffOff xdebug.show_exception_traceOffOff xdebug.show_local_varsOffOff xdebug.show_mem_deltaOffOff xdebug.trace_format00 xdebug.trace_options00 xdebug.trace_output_dir\\ xdebug.trace_output_nametrace.%ctrace.%c xdebug.var_display_max_children128128 xdebug.var_display_max_data512512 xdebug.var_display_max_depth33
初心者です。 ４つ知りたいことがあります。 行頭のスペースまたはタブを削除する方法 行末のスペースまたはタブを削除する方法 行の最後にカンマを付ける 特定の文字後にカンマを付ける お忙しい中恐縮ですが、よろしくお願いします。
IDとNAMEがあり、値は以下になります。 ID NAME 1 西武 2 巨人 3 ソフトバンク そのIDとNAMEを取得し、NAMEについてはカンマ区切りで連結をし、 ID、NAMEはアンカタグを設定します。 NAMEの値をカンマ区切りにしているのですが、NAMEの値の最後にまで カンマが付加されてしまいます。 西武,巨人,ソフトバンク, ←ココ カンマ区切りをrtrimで削除出来ると思ったのですが、うまくいきません。 カンマを削除出来る方法または、他に良い方法があればアドバイス頂けないでしょうか。 以上、よろしくお願い致します。 for($i = 0; $i<10;$i++){ $array[i] = array("ID".[$i] => "NAME".[$i]); } foeach($array as $key => $value){ foreach($value as $id => $name){ <a href="aaa.php?id=$key">$name.","</a> } }
・親クラスコンストラクタを呼び出すタイミングに決まりはあるのでしょうか？ ・例えば、子クラスのコンストラクタではなくて、子クラスのメソッドとかで呼び出しても良いのでしょうか？ ・後、親クラスコンストラクタ処理が不要な場合は、子クラスから呼ばなくても別に構わないのでしょうか？
■状況 子クラスから親クラスコンストラクタを呼び出したいと思い、 $this-> __construct();と記述したら、「Fatal error: Allowed memory size」になりました。 parent::__construct(); に書き直したら、無事表示されました ■質問 ・なぜ、$this-> __construct();ではダメなのでしょうか？ ・メモリエラーと言うことは、文法的には間違っていない、ということでしょうか？
「クエリを実行している間にローディング画像を表示する」という処理をしたいです。 外部ファイルの[load.php]内で「データベース接続→mysql_queryを実行する」という処理を 行い、[index.php]で結果を表示したいのですが、うまくいきません。 ※load.phpの中身をindex.php内に書いた場合は成功する ※load.phpの読み込み自体はできている。 [index.php] <script type="text/javascript"> $(function(){ $("#sample").load("load.php"); }) </script> <div id=sample> <div id="loader"><img src="edit/img/loader.gif" width="24" height="24" alt="Loading..." /></div> <?php echo $num; ?> </div> [load.php] <?php $conn = mysql_connect("localhost","DB","pass",true); mysql_query("SET NAMES utf8") or die("can not SET NAMES utf8"); mysql_select_db('DB',$conn); $sql = "SELECT ～" $result = mysql_query($sql) or die(mysql_error()); $num = mysql_num_rows($result); ?>
PHP Simple HTML DOM Parser を使って、スクレイピングをやってみようと 試行錯誤している最中なのですが、上手く出来なくて困っています。 具体的に分からないのは、以下の点です。 -------------------------------------------------------------------- $html = file_get_html('http://...'); foreach($html->find('ここの指定方法が分かりません') as $item); echo $item->plaintext; -------------------------------------------------------------------- こういった場合の文字列の指定方法は、 何をどう勉強すれば理解出来るようになるのでしょうか。 具体的に教えて頂けると助かります。 また、http://www.iimy.co.jp/item/p-33969.htmlに記載されている、 「1口以上の価格」の数値をこの方法で表示させたい場合（単位の"円"を除く）、 どのような指定方法になりますか？ 「class="infoBoxContents"」を含めれば指定しやすそうだと考えて、 foreach($html->find('.infoBoxContents') as $item); echo $item->plaintext; と記述して、ひとまずこのclassを全て表示させようとしたのですが、 表示されたのは「ポイント 0 ポイント」だけでした。 参考にしたのは以下サイトです。 [PHP Simple HTML DOM Parserの使用方法] http://www.crystal-creation.com/web-appli/techni …
http://morecute.bex.jp/music/user_manager/bbs_na … このフォームでAmazonの商品コードを入力すると 商品コードが埋め込まれたURLが自動生成されフォームに出力されるようにしていたのですが、 現在動きません。 このphpのソースは↓です。 <form action="index9_utility01.php"> <input type="text" name="moji" size="80" value="<?echo "&lt;a href=&quot;http://www.amazon.co.jp/gp/aw/rd.html?a=".$moji. …アルバム情報&lt;/a&gt;&lt;img src=&quot;http://www.assoc-amazon.jp/e/ir?t=morecutebz0e-2 … width=1 height=1 border=0&quot; /&gt;" ?>"> <input type=submit value=sub> <font size=-1>商品コードを入力 </form> 数年前（2006年頃）はこれで問題なく出力できていたのですが・・・ phpのバージョンが変わって動かなくなったのでしょうか？ サーバはXREA、及びCoreserver、PHPバージョンは 5.2.5/5.3.8 です。
PHP初心者です。 foreachを使うときに、参考サイトのソースを見て？？？だったのですが、 例えば以下の場合に foreach($_POST['hoge'] as $key => $val){ echo "$key : $val \n"; } とありますが、hogeは自分で決めたものなので分かるのですが、 見に覚えの無い$key => $valといった変数で動作しています。 $keyや$valは自分で定義した覚えはありません。 調べると$keyは分かりませんが、$valはvalueの省略みたいな記述がありました。 また、他には更に短縮され、$kとか$vしか記述されていないソースもあり、 試すとこれでも正常に動いています。 これはどういうことなのでしょうか？ 何か決まりがあるのでしょうか。 ちなみに、チェックボックスの配列取得の定義に使いました。 私からはただ勝手に短縮しているようにしか見えず納得いきません。 お詳しい方、どなたかアドバイス頂けないでしょうか。 宜しくお願いします。
cakephp2でシステムの多言語化について勉強しております。 コントローラ、モデル、ビューにて__()メソッドを使用すると自動で多言語化してくれるのは 確認しました。 しかし、スクリプト内でアラート等のメッセージまで対応するとなるとどうすればよいか わからなくなりました。 ご存知の方いらっしゃいましたら宜しくお願いします。 <? $this->append('script'); ?> <script type="text/JavaScript"> <!-- $(document).ready(function(){ alert("__('削除')"); }); --> </script> <? $this->end(); ?>
こんにちは、SQL文の書き方について悩んでいます。 PHPとSQLITE３で複数キーワードの検索プログラムを作ろうとしています。 自分用の日記をSQLITE３のDBに記録しているもので、 main　のカラムに本文を書いて、　 kuwake で、hobby、work、other などカテゴリー分けをしています。 ※一つの記事にたいして、選択可能なkuwakeは一つだけです。 趣味(hobby)　と　仕事(work)　のカテゴリー　の中で、 複数文字検索をしたいのですが、　以下のSQL文で動作しませんでした。　 正しいSQL文の書き方をご教授ください。よろしくお願いします。 "SELECT 'hobby' and 'work' ''FROM '$table' WHERE 'main' LIKE '%キーワード1%' and main LIKE '%キーワード2%' ■テーブルの詳細↓ CREATE TABLE table (id INTEGER PRIMARY KEY, main TEXT, kuwake TEXT, date TEXT);
PHP5.4の配列で仮に次のようなものがあったとします。 <?php $arr['A']['B']['C']['D'] = null; $arr['A']['B']['D']['C'] = null; $arr['A']['B']['D'] = null; それぞれのキー名をつなぎあわせてそれぞれ「A, B, C, D」「A, B, D, C」「A, B, D」といった文字列に変換したいのですが、どのようにしたら実現できるのでしょうか？ よろしくお願いします。
livedoorからjson形式で天気情報を取得し、 連想配列に格納して出力しようと考えています。 下記のエラーで困っております。 お手数ですが、ご教授いただけますと幸いです。 【livedoor天気】 http://weather.livedoor.com/weather_hacks/webser … ■環境：Apache/2.4.3 (Win32) OpenSSL/1.0.1c PHP/5.4.7 ■weather.php <?php //livedoorからjsonで天気情報を取得 $url = "http://weather.livedoor.com/forecast/webservice/ … $json = file_get_contents($url,true); if ($json == false) { echo "JSONの戻り値がfalse。"; return; } $obj = json_decode($json); //取得したデータを連想配列に格納していく $weather = array( //今日の最高気温 "today_max" => $obj->forecasts[0]->temperature->max->celsius, //明後日の最低気温 "day_after_tomorrow_max_celsius" => $obj->forecasts[2]->temperature->max->celsius, //明後日の最低気温 "day_after_tomorrow_min" => $obj->forecasts[2]->temperature->min->celsius ); echo var_dump($obj); echo $weather['today_max'];//都市を変え最高気温がある場合だと19℃とか出力される echo $weather['today_max'];//最高気温がNULLだと下記エラーが出力される ?> ■weather.phpを実行時のエラー Notice: Trying to get property of non-object in C:\xampp\htdocs\study\weather.php on line 19 （19行目は上記、今日の最高気温） Notice: Trying to get property of non-object in C:\xampp\htdocs\study\weather.php on line 32 （32行目は上記、明後日の最高気温） Notice: Trying to get property of non-object in C:\xampp\htdocs\study\weather.php on line 33 （33行目は上記、明後日の最高気温） --------------- 最高気温がnullだった場合でもエラーが出ないようにしたいです。 $obj=json_decode($json); $objは連想配列、$weatherに格納したいと考えてます。 自分で調べた結果、is_nullやemptyで回避とありましたが 解決には至りませんでした。 ■参考URL http://nanoappli.com/blog/archives/810 以上、宜しくお願い致します。
PHP初心者です。 それでは、質問いたします。 http://phpjavascriptroom.com/?t=php&p=apachephpw … こちらのやり方でPHPを設定致しました。 Apacheは動きました。 PHPは最後に「http://localhost/test.php」に繋げたところ成功のページには繋がりませんでした。 そして、テストで作ったページの内容の「<? phpinfo(); ?>」が出てくる画面になりました。 もしかしたらこちらでも動くのではないかとやろうとしたところapacheが動かなくなりました。 PHPの設定に何回も失敗しており、apacheを何種類もダウンロードしております。 一回、一回アンインストールしてるのですが、2、2.2、2.4と三種類出てきます。 どれをスタートしようとしても「the requested operaiton has failed」になります。 成功した時はApache2は緑色で動いていたようでした。 まずはこちらの内容で成功しているのでしょうか。 そして、Apacheは一つに絞ることはできるのでしょうか。 この文章でわかっていただけるかも怪しい状況なので、開示できる情報は開示していきます それでは、よろしくお願いいたします。 windows7 php-5.4.13-Win32-VC9-x86 httpd-2.2.24-win32-ssl_0.9.8
入力されたPHPスクリプトを元に速度改善策を打診してくれる無料のサービスないでしょうか？ イメージとしてはWEBページでいうところの「PageSpeed Insights」です。 https://developers.google.com/speed/pagespeed/in …
PHP初心者です。現在、自分のパソコンにXAMPPをインストールして、 Apacheを起動し、ＰＨＰのサンプルを勉強しいています。 mb_send_mail自体はTRUEで返ってくるのに、メーラーには何も届きません。 書籍やネットにあったサプルをいろいろ調べたのですが、 みな、同じ現象です。 php.iniの設定は下記の通りです。（phpは5.4.7) [mail function] ; XAMPP: Comment out this if you want to work with an SMTP Server like Mercury SMTP = localhost smtp_port = 587　　<----25にしても変わりませんでした。 ; For Win32 only. http://php.net/sendmail-from sendmail_from = postmaster@localhost PHPのソース <?php mb_language("Japanese"); mb_internal_encoding("UTF-8"); if (mb_send_mail("cy0***@md.point.ne.jp", "テストメール", "これはテストです。", "From: chibikind***@yahoo.co.jp")) { echo "メールが送信されました。"; } else { echo "メールの送信に失敗しました。"; } ?>
こんばんは。 現在、客から毎日定時に自動でメールする機能を付けてくれと言われ、レンタルサーバーやに CRONが使えるか訊ねたら、使えないとリプライされました。 そこで、phpのプログラム内でwhile文の中で、sleep(86400)を置こうと考えたのですが、この場合 サーバーにはどの程度の負荷がかかりますか？ 定量的には表現しにくいですが、教えてください。
現在PHPとMySQLである不動産システムを業務で開発しております。 ある程度の機能の実装は完了しているのですが、一点実装方法になやんでおります。 それが、不動産の新着物件の表示方法なのですが例えばなにかしら新規でDB上に物件データを登録して あるテーブル【estate_index_table】というテーブルのあるレコード上のupdate_timeというカラムを 4月1日( フォーマットここではおいておきます）とします。 そのレコードを例えば二週間後の4月15日にその新着という表記を消したいのです。 その場合の、一般的な実装方法をしりたいのです。 現在、私が考えているのが、update_timeというカラムと同じテーブルに【estate_new_flag】というカラムをつくり その新着フラグには1か2の論理値を格納するようにします。 フレムワークはFuelPHPを使用していますが、とりあえずビュー上でestate_new_flagが1の時は新着アイコンを表記、2の時は表記しない。 そして新着期間の2週間目に、任意のクライアントPCからその情報が閲覧できるURLにアクセスした際に、 そのレコードのupdate_timeを参照して、２週刊前ならestate_new_flagを2へとupdateする、そうでなければスルー という処理を行う、APIを作って叩かせるといった具合です。 そのestate_new_flagは一般的な管理画面から随時任意のタイミングで新着にするというボタンをつくり 新着にするという変更をレコードに行った場合、冒頭で述べた【estate_index_table】のupdate_timeを更新するというAPIを叩きます。 これが、現在私が考えている実装方法です。どうも、考え方がシステム初心者てきな感じがしてひっかかっているのです。 理想はMySQLだけで、cronタブみたく、任意のタイミングで自動で特定のレコードを変更するような処理がいい（やってみたい） のですが、一般的にこのような新着情報の上げ下げっていうのはどのように実装するのがベストなのでしょうか？ 今回初めてDBから一人で設計してやっているので、後々になってただしい実装だったのかどうか悩むのは嫌なので どなたかベターな方法をお教えください。 よろしくお願いします。
PHPMailerを使用して、ファイル添付機能付きのメールフォームを作りました。 テストサーバーでは問題なく動作しておりましたが、本番サーバー（WebARENA）でテストしたところ3MB程度までの小さなファイルは問題なく送信できるのですが、それ以上大きなファイルが送信できません。 .htaccessは以下のとおりです。 php_value upload_max_filesize 20M php_value post_max_size 20M php_value memory_limit 20M phpinfoでは upload_max_filesize　Local Value　20M　Master Value 2M print_r($_FILES['添付ファイル']);で出力すると Array ( [name] => tst.pdf [type] => application/pdf [tmp_name] => /tmp/phpSRfZEs [error] => 0 [size] => 8182546 ) [error] => 0 ということはtmpディレクトリにアップロード自体はできているのかなと思うのですが。 getErrorMessage();　では、「Could not access file:」とだけ出力されます。 どうして送信できないのかお心当たりがある方がおられましたらどうかお助けください。
こんばんは。よろしくお願い致します。 データベースに下記のようなデータが入っています。 no point name --------------------- 123 100 aaa 123 50 aaa 124 100 bbb 130 30 ccc 131 80 ddd 131 100 ddd 131 20 ddd 133 10 eee このデータを元に、下記のような結果を得たいのです。 noが同じデータのpointを集計し、まとめたレコードの件数をcount項目として欲しいです。 no point name count ------------------------------ 123 150 aaa 2 124 100 bbb 1 130 30 ccc 1 131 200 ddd 3 133 10 eee 1 SQLだけで実現できるのでしょうか？？ 具体的にどのような方法で実現できるか、教えて頂けると有難いです。 よろしくお願い致します。
質問させていただきます。 iosで端末を判断するのにUUID等を使用するという話を聞きました。 次回行う仕事で、サーバーサイドエンジニア（PHP）としてアプリ開発に携わるのですが、上記の部分の知識が少なく質問させて頂きました。 具体的にUUID等の識別はどのような形で判断するのでしょうか？ サーバーサイドでPHPで判断？アプリ開発なのでネイティブ側？それともまた全然関係ない部分？ UUIDやUDID等の違いに関しては参考になるサイトはいくつもみつけたのですが、上記の件に関しては、どのサイトの情報を参考にしてよいか分からないでいます。 もしご存じの方は、参考になるURLなどだけでも良いので、教えて頂けると助かります。
いつもお世話になっております。 超初級な質問で申し訳ないのですが困ってます。 下記のような4つのclassがあります。 A_Class------------ <?php require_once('Base_Class'); class A_Class extends Base_Class{} Base_Class------------------ <?php require_once('B_Class'); abstract class Base_Class { public function hoge (){ $b = new B_Class(); $b->hoge(); } } B_Class--------------------- <?php require_once('C_Class'); class B_Class{ public function hoge (){ $c = new C_Class(); } } C_Class--------------------- <?php require_once('Base_Class'); class C_Class extends Base_Class{} ほかのファイルからrequire_once('A_Class');をすると PHP Fatal error: Class 'Base_Class' not found in C_Class.class.php on line 2 となります。 Base_Classのrequire_once('B_Class');をクラス定義の下に書けば通るのですが、 できればrequire_onceは上部にそろえておきたいです。 require_onceを下に書かずに修正する方法がありましたらご教授お願いします。
file_get_contentsで、<link rel="stylesheet" href="style.css">と同じことをやるにはどうすればよいのでしょうか？ 結果をechoすると、同じこと？ それとも、結果をechoするのは、htmlにcssを直書きする内部css扱いになるので、 <link rel="stylesheet" の外部cssとは異なる？ css読み込めれば、「file_get_contents」でなくても良いです。 「include」とかでもcssを読み込めるのでしょうか？
（過去に似たような質問をしたのですが、その続きの質問です。） よろしくお願いします。 ※セッションID(以下(3)のDBのカラム（ssid)で使用）を 発行した状態で以下を行いたいのですが、(3)がうまくいきません。 (1)商品リストのDBを以下のように作り -------------------------------------------- (テーブル：products) product_id | product_cd | name | price 1 | 10 | 本01　　 | 1300 2 | 11 | 本02　　 　 | 1200 3 | 20 | サプリ01　　　 | 4800 4 | 30 　| ストレッチボード | 9800 5 | 30 | 健康シューズ 　 | 6800 -------------------------------------------- (2)上記をmysql_fetch_arrayで取り出し<table>を作成。 その際に、商品選択をする(checkbox)と（数量）を入力する<input> を加え<form>でkaimonoKago.phpへ送信します。 (products.php) <?php (途中省略） mysql_query("set names utf8"); $sql = "select * from products "; $result = mysql_query($sql) ; ?> <form method="post" action="kaimonoKago.php"> <table> <tr> <th></th> <th>商品コード</th> <th>商品名</th> <th>価格（税込</th> <th>数量</th> </tr> <?php while($row = mysql_fetch_array($result)){ print "<tr>\n"; print "<th><input type=\"checkbox\" name=\"check[]\" value=\"".$row["product_id"]."\"></th>\n"; print "<td>".htmlspecialchars($row["product_cd"])."</td>\n"; print "<td>".htmlspecialchars($row["product_name"])."</td>\n"; print "<td>&yen;".number_format($row["price_intax"])."</td>\n"; print "<td><input type=\"text\" name=\"kazu[".$row["product_id"]."]\" size=\"3\"></td>\n"; print "<input type=\"hidden\" name=\"ssid\" value=\"".$_SESSION['ssid']."\" />\n"; print "</tr>\n"; } ?> <input type="submit" name="order" value="注文" /> </form> (3)<form>で送られてきた情報を、買い物カゴDB ----------------------------------------------- (テーブル名：kaimonoKago） (カラム： ssid,　product_cd,　product_name,　price_intax,　kazu,　shoukei） ----------------------------------------------- にインサートしたいのですが、うまくいきません。正しい記述を教えて下さい。 mysql_fetch_arrayやらwhile文やら配列が２つあったりして、どのように組み立てたら いいのか、基本的な考え方も教えていただければ幸いです。 （自分がつくった、うまくいかないコード） 　　　↓ （kaimonoKago.php) $check=(isset($_REQUEST["check"]) and is_array($_REQUEST["check"]))?$_REQUEST["check"]:array(); $kazu=(isset($_REQUEST["kazu"]) and is_array($_REQUEST["kazu"]))?$_REQUEST["kazu"]:array(); foreach($check as $val){ if($kazu[$val]>0){ $sql = "select * from products where product_id ='" . mysql_real_escape_string($val) . "'"; $result = mysql_query($sql); while($products = mysql_fetch_array($result)){ $product_cd = $products['product_cd']; $product_name = $products['product_name']; $price_intax = $products['price_intax']; $kazu = $kazu[$val]; $shoukei = $price_intax * $kazu; $sql = "insert into kaimonoKago ( ssid, product_cd, product_name, price_intax, kazu, shoukei ) values ( '" . mysql_real_escape_string ( $_SESSION['ssid'] ) . "', '" . mysql_real_escape_string ( $product_cd ) . "', '" . mysql_real_escape_string ( $product_name ) . "', '" . mysql_real_escape_string ( $price_intax ) . "', '" . mysql_real_escape_string ( $kazu ) . "', '" . mysql_real_escape_string ( $shoukei ) . "' )"; mysql_query($sql); } } } } よろしくお願いします。
以前、「今開いているページのhtmlソースをPHPにpostしたい」という質問をしました。 http://oshiete.goo.ne.jp/qa/8013399.html ブックマークレットを使えばできるのでは？という回答を頂きました。 javascriptでhtmlソースは取得できたのですが、PHPにpostする部分がわかりませんので教えて下さい。 取得したいページは実行したいPHPファイルがあるドメインとは別のドメインです。 jQueryのAjaxが使えるかな？と思って試してみましたがPHPは動作していないようです。 一応そのときのブックマークレットの一部を載せます。 $.ajax({ 　type: 'POST', 　url:'http://hoge.com/post.php', 　data: {request: htmlSource}, 　dataType: 'html', 　cache: false, 　crossDomain: true, 　success: function(data, textStatus){ 　　alert(data); 　}, 　error: function(data, textStatus) { 　　alert(textStatus); 　} }); このブックマークレットを実行するとerrorというアラートのメッセージボックスが表示されます。 どうやらjQueryではできないっぽいのですが、ブックマークレットで他のドメインのPHPにデータをpostするのはどのような方法でやるのでしょうか？
あるサイトにて、単一phpのメールフォームのソースをコピーし、使用としましたが、 設定したメールアドレスに、送信ボタンを押しましたが、 受信されません。 　・送信後、「メールを送信しました」と表示されます。 　・送信のあて先は、何も反応なし。 　・ソースの「●●@●●」はダミーです。 以下ソースです。原因がわかりますでしょうか。ご教授のほどよろしくお願いします。 ―――――――――――――――――――――――――――――――――――― <?php // 送信フラグ $send_flg = false; // エラーメッセージ $err_msg = array(); // 送信ボタンを押した後の処理 if ($_POST["post_flg"]) { // エラー if ($_POST["name"] == "") { $err_msg[] = "「お名前」は必須です"; } if ($_POST["email"] == "") { $err_msg[] = "「メールアドレス」は必須です"; } // エラーが無ければ送信 if (count($err_msg) == 0) { // 宛先 $mail_to = "●●@●●"; // 送信元アドレス $mail_from = "form@example.com"; // 件名 $mail_subject = "メールフォームから送信がありました"; // 本文 $mail_body = ""; $mail_body.= "■お名前\n".$_POST["name"]."\n\n"; $mail_body.= "■メールアドレス\n".$_POST["email"]."\n\n"; $mail_body.= "■コメント\n".$_POST["comment"]; // 送信処理 mb_language("Japanese"); mb_internal_encoding("UTF-8"); mb_send_mail($mail_to, $mail_subject, $mail_body, "From: <".$mail_from.">"); $send_flg = true; $_POST = array(); } } ?> <!DOCTYPE HTML> <html lang="ja"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <title>メールフォーム</title> </head> <body> <?php // 初期フォーム表示 if (!$send_flg) { ?> <h1>メールフォーム</h1> <?php // エラーメッセージがある場合 if (count($err_msg) > 0) { ?> <p style="color:red;"> <?php foreach ($err_msg as $val) { ?> ※<?php echo $val ?><br> <?php } ?> </p> <?php } ?> <form action="mail.php" method="post"> <p> お名前<br> <input type="text" cols="30" name="name" value="<?php echo $_POST["name"] ?>"><br> </p> <p> メールアドレス<br> <input type="text" cols="30" name="email" value="<?php echo $_POST["email"] ?>"><br> </p> <p> コメント<br> <textarea name="comment" cols="50" rows="10"><?php echo $_POST["comment"] ?></textarea><br> </p> <input type="submit" name="post_flg" value="送信する"><br> </form> <?php // メール送信後の表示 } else { ?> <br><br><br><br>メールを送信しました。<br> <?php } ?> </body> </html> ――――――――――――――――――――――――――――――――――――
ご質問失礼します。 PHPでデータベースのデータを下記のようなコードを使い表示しています。 ※質問内容に該当する一部のみ記載させていただいています ・ ・ ・ ・ ・ if(preg_match("/新規/", $row['status1'])){ $table .= $row['status1']."　新規です"; } else { if(preg_match("/更新/", $row['status1'])){ $table .= $row['status1']."　更新です"; } else { if(preg_match("/削除/", $row['status1'])){ $table .= $row['status1']."　削除です"; } else { $table .= "いません"; } } } if(preg_match("/新規/", $row['status2'])){ $table .= $row['status2']."　新規です"; } else { if(preg_match("/更新/", $row['status2'])){ $table .= $row['status2']."　更新です"; } else { if(preg_match("/削除/", $row['status2'])){ $table .= $row['status2']."　削除です"; } else { $table .= "いません"; } } } if(preg_match("/新規/", $row['status3'])){ $table .= $row['status3']."　新規です"; } else { if(preg_match("/更新/", $row['status3'])){ $table .= $row['status3']."　更新です"; } else { ・ ・ ・ ・ ・ ・ status1から、5つあればstatus5まで、似たようなPHPを繰り返し書いて動作させています。 このような場合、簡潔に書く方法などありますでしょうか。 ご存知の方いらっしゃいましたらお時間のある際にお教え下さいませんでしょうか。 また、簡潔に書く方法がない場合でも無いとお教えいただければ幸いです(○ ｀人´ ○)
htmlのフォームからpostした値を整数型として受け取れますか？ $id = $_POST['id']; こんな感じで受け取ると文字列として受け取っているようなのでmysqlに保存できません シングルクォートで囲むと文字列になるので囲わないでdbに入れたいのです mysql_query("INSERT INTO table(id) VALUES($id');");
PHPの勉強をはじめたばかりの初心者です dreamweaverでこのような記述をしてサーバーにアップロードしました。 しかし、dreamweaverでは検知されないエラーのようで dreamweaverではエラーはないのですが サーバーにアップするとエラーで内容を表示してくれません。 この記述のどこに問題があるのか分かる方おられましたら教えてください。 <!doctype html> <html> <head> <meta charset="Shift_JIS"> <title>無題ドキュメント</title> </head> <body> <?php $a = "$1400"; $b = 100; $msg = <<< MESG 海外で高性能サーバーが${a}でうりだされていました。 今ならキャンペーン中で、¥$${b}オフらしいので、${a}-¥$${b}で¥$1300で買える ようなので、購入しようか迷ってます。 MESG; echo "<pre>${msg}</pre>"; ?> </body> </html>
php数ヶ月の初心者です。 以下がどうにもこうにもできません。 どうか、わかりやすくご解説いただけますよう お願いします。 [DB] (A)商品リスト （テーブル名:products) （カラム：product_id, product_cd, name, price） [phpファイル] （B）商品一覧リスト：shouhin.php （C）買い物カゴ中身：kaimonoKago.php (1)(A)にあるデーターをmysql_fetch_arrayで取り出す （mysql_fetch_arrayが非推奨というのは知っての上で 話を進めさせて下さい） (2)それをファイル（B)でテーブル<table>の形で表示。 (3)商品選択ボタン(checkbox)と、各商品に数量を 入力できる枠をつくる (4)複数選択した商品を<form>で一発で（C)へ送る (5)送った内容を（C)で展開する 複数選択の送信でなければなんとかできたのですが、 複数選択可で、数量も入力できるとなると、どうような 関数を使えばいいのか検討がつきません。 （B)と（C)それぞれどのようなコーディングにすれば良い のでしょうか？ よろしくお願いします。
--------------------------------------------------------------------- 【 PHPを学ぶ目的 】 複数の外部サイトから、商品の値段を"一定時間毎に自動的に"DBに取り込み、 自分のウェブサイトに商品別ランキング形式で表示したい。 価格の上下にも即対応出来るようになるのが理想です。 --------------------------------------------------------------------- つい先日サイト作成とPHPに手を出し始めたばかりの初心者です。 ウェブサイトは既に作成ソフトを使って試験的ながら開設済みで、 html、cssについては自分のサイトをあれこれいじっているうちに、 初心者ながら少しだけ理解出来るようになりました。 PHPは、『 いきなりはじめるPHP～ワクワク・ドキドキの入門教室～』 という書籍で、PHPがどういうものかということだけを理解した状態です。 次は目的のサイトを作りながらPHPについて学んでいきたいと思っています。 私の目的に合致した書籍があれば教えて下さい。 よろしくお願いします。
楽天APIで商品一覧を表示させるページを作っているとこなのですが、 商品を価格帯で分類・絞込みの機能を付けたいと思っております。 楽天APIにリクエストを投げるときに、検索キーワードと、たとえば他のパラメータとして「レビュー件数が多い順」や「ジャンルID」などを付けて投げても、返ってきたxmlデータの中には、検索でヒットした件数のうち、最高30件分の商品情報しか引っ張ってはこれないのですが、その30件の中からですら最高価格と最低価格をどうやって抽出すれば良いのやら・・・ っていうか、要はそういう問題ではなくって、 検索キーワードや他のパラメータを付けてAPIにリクエストを投げた際に、同時に、同じ検索キーワードで「価格が高い順」と「価格が安い順」のリクエストも投げることが出来れば、後はどうにでもなる、と、思ってはいるのですが・・・、 同じ検索キーワードで、あとは違うパラメータをくっつけた３つのリクエストを同時に送信するなんてことが、出来るのかしら？ ということで、どなたか良い方法をご存知の方がいらっしゃらないかしら、と、こうして投稿させていただいております次第でございます。 ---------------------------------- 具体的になにがやりたいのかと申しますと、 たとえばAPIの検索結果で得られた商品郡で、最低価格の1円の商品があり、最高価格の商品が10000円だったすると、 1～100円 100～500円 500～1000円 1000～5000円 5000～10000円 というふうに、検索結果ごとに価格帯分類のリンクをPHPで計算させて表示させて、 たとえば100～500円のリンクをクリックして、その価格での絞込み結果が表示されたページには、 100～200円 200～300円 300～400円 400～500円 といったように、さらに細かい価格分類も表示させることが出来ればなおGOODなわけですが・・・ 楽天商品検索APIにリクエスト投げて、検索にヒットした全商品の中から、最高価格と最低価格が分かれば、後はそれを均等に分割して、「価格帯で絞り込む」とかいうリストとか作ったり、まぁ、いかようにも出来るわけなのですが・・・ なにか良い方法があれば、どなたか教えてくださいませ。
ブラウザから「http://[domain]/download/100」という形のURLにアクセスすると、 100の部分をIDとして対応するファイルを返すようにしています。 この時、Androidブラウザからのアクセスに限りファイル名がopenFile.pdfになってしまいます。 ※pdfの部分はContent-Typeの指定値に準拠する形で変わります。 PCの各種ブラウザやiPhoneからはサーバにあるファイル名そのままでDL出来ます。 レスポンスヘッダは下のとおりです。 対応方法をご存知のかた、どうぞご回答のほどよろしくお願い致します。 ------------------------------------------------ HTTP/1.1 200 OK Date: Tue, 26 Mar 2013 20:00:00 GMT Server: Apache/2.2.15 (CentOS) X-Powered-By: PHP/5.3.3 Expires: Thu, 19 Nov 1981 08:52:00 GMT Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0 Pragma: no-cache Content-Disposition: attachment; filename="sample01.pdf"; Cache-Control: public; Pragma: public Connection: close Transfer-Encoding: chunked Content-Type: application/pdf ------------------------------------------------
ご質問させて頂きます。 現在、月額課金制の会員サイトを構築しています。 会員には無料会員と有料会員の2種類があり、有料会員に対してのみ月額課金を行います。 会費の徴収は決済代行会社を利用する予定です。 不明なのが、月額課金を行っていく上で洗い替え結果NGだった場合にサービス提供をストップさせたいのですが、洗い替え結果をシステムで取得することはできるのでしょうか？ ちなみに現在、イプ○ロンという決済代行会社の利用を検討しているのですが、マニュアルを見ても洗い替え結果は管理画面からしか確認ができそうにありません。 管理画面からしか確認できないのでは、NGだった場合にユーザへの対応、サービス提供のストップなどを手動で行わなくてはいかず、会員数が増えた場合に管理が大変になってしまいます。 月額課金の仕組みを構築した経験が無く、経験者の方がおられましたらアドバイスを頂ければと思います。
Smarty　でブログを作成しており、 section 内に、 javascript　でスライドをつけました。 しかし、１個めのスライドだけしか、動きません。 方法ご存知か方がおられましたら、お助け願います。 どうかよろしくお願い致します。 <div class="content"> {section name=tloop loop=$topics max=$settings.maxtopics} {if $topics[tloop].title != ''} {$topics[tloop].bodyf} <!--********************************************--> <div id="slide"> <button id="btn3"> 詳細 </button> <div style="display:none; height:100%; width:100%; background-color:#ffffff"> <!--詳細情報--> {$topics[tloop].bodyf2} </div> </div> <script type="text/javascript"> {literal} jQuery(function($){ var target = $("div", "#slide"); $("#btn3").click(function(){ if (target.is(":hidden")) { target.slideDown(); } else { target.slideUp(); } }) }); {/literal} </script> <hr> <!--********************************************--> {/if} {/section} </div> </body> </html>
Wordpressについて質問です。 ・「メンバー」 ・「国」 といったカスタムポストがあり、 「国」のところで　日本/アメリカ/・・・・/ドイツ　など、 いくつかの投稿をしている状態だとします。 「メンバー」のカスタムポストの投稿画面のカスタムフィールドで、 （基本的にカスタムフィールドテンプレートを利用しております） 「国」というドロップダウン項目があり、 ここに先ほどのカスタムポスト「国」で登録した投稿の一覧が選択肢と現れる、 という形を実現したいのですがプラグインもしくはデフォルト機能などで可能でしょうか？ 理想としては、 <option value="投稿のID">国名</option> という形にしたいです。 また、もし可能であれば「メンバー」のカスタムポストで国を選択して登録した場合、 「国」のカスタムポストの所で登録したアイキャッチ画像が管理画面内でも表示されるようにしたいと思っております。 同様のやり方で、「メンバー」のカスタムポストに「仲の良いメンバー」のカスタムフィールド」があり、そこには「メンバー」の投稿一覧が選択項目としてあらわれる、などという形にしたいと思っております。 独自でカスタマイズしなければ難しそうでしょうか？ ご教授いただけましたら幸いです。 よろしくお願いいたします。
PHP SQL 問合せについて http://oshiete.goo.ne.jp/qa/7689206.html での質問の続きとなります。 No,name 1,ばなな 2,りんご 3,ばなな ４,みかん 5,ばなな 6,りんご 上記テーブルで 1,ばなな 3,ばなな 5,ばなな 2,りんご 6,りんご 4,みかん の結果を得るSQLはどのように記述すればよいでしょうか？ 回答 select * from tableA x order by (select count(*) from tableA y where y.name = x.name ) ,No で解決していますが、 select * from tableA x where name ='果物' とした場合、結果が異なります。 (結果が多い順にならない) 出現回数が多い順に並べるには、どのような記述になりますか？ データには「果物以外のデータが含まれている」とします。 宜しくお願い致します。
PHPで外部のWebページのhtmlソースを読み込むことは可能でしょうか？ PHPで外部のWebページを表示するのではなく、そのWebページのhtmlソースを読み込んでhtmlをPHPで加工してから表示させたいのです。 その際に、javascriptが実行された結果（javascriptの実行がきちんと終了した状態）のhtmlソースを取得したいです。 何か情報をお持ちの方がいましたらお教え下さい。 よろしくお願い致します。
よろしくお願いします。 以下の要件がある場合、Apacheの設定で実現は可能なのでしょうか？。 （ブラウザはIE8を想定しています） １．URLの直打ちなど正しいリンクで画面が遷移されなかった場合、ログイン画面を表示させる ２．Apacheでエラーが発生した場合は、「管理者にご連絡ください」など障害の画面を表示させ、 「Internal Error」などシステムのエラーはユーザに表示させない。 ３．URLのGETパラメータが見えないよう、URL文字列を暗号化して表示する すみませんが、アドバイスをお願いします。
●質問の主旨 check.phpファイルの最終行（</html>のところ）で Parse error: syntax error, unexpected end of file としてエラーが表示されます。 なぜエラー表示されるのでしょうか？ご存知の方ご教示願います。 (eclipseでもエラー表示されているのは分かりますが、 何がエラーなのか分かりません） ●状況 1．index.htmlのフォームに入力し、送信ボタンを押す （添付画像） 2．check.phpに飛ばす 3.飛ばすとエラーが表示される ●環境 windows8 xammp1.8.1 ●コード (index.html) <!DOCTYPE html> <html lang="ja"> <head> <meta charset="UTF-8"> <title>PHPの基礎</title> </head> <body> <form method="post" action="check.php"> ニックネームを入力してください<br/> <input name="nickname" type="text" style="width:100px"><br/> メールアドレスを入力してください<br/> <input name="email" type="text" style="width:200px"><br/> ご意見を入力してください<br/> <input name="goiken" type="text" style="width:300px"><br/> <br/> <input type="submit" value="送信"> </form> </body> </html> (check.php) <!DOCTYPE html> <html lang="ja"> <head> <meta charset="UTF-8"> <title>PHPの基礎</title> </head> <body> <?php $nickname = $_POST['nickname']; $email = $_POST['email']; $goiken = $_POST['goiken']; if($nickname =='') { print'ニックネームが入力されてません'; } else { print'ようこそ！'; print $nickname; print'様'; print'<br/>'; } if($email =='') { print'emailが入力されてません'; } else { print'ようこそ！'; print $email; print'<br/>'; if($goiken =='') { print'ご意見が入力されてません'; } else { print'ご意見'; print $goiken; print'』<br/>'; } ?> </body> </html>
テンプレートエンジンの Smartyで、templateフォルダにある thmlファイルのスタイルがおかしくなってしまいます。 推測不能です。 例えば、IEで<div>に枠線が入ってしまします。 枠線の消し方は、間違っていません。 それ以外に、テーブル内に入れ子のテーブルが有ると、 中のテーブルが外に飛び出したりします。 他にも、たくさんあり、推測不可能です。 どのブラウザでも現れます。 CSSやHTMLの質問ではありません。 Smartyの時だけ、この現象が発生するので、 Smartyの実行時の環境によるものだと言うところまでは、絞れています。 なにか、ご存知か方がおられましたら教えてください。
PHPからMySQL・異なるDBに接続し同じ構造のテーブルのデータをコピーすることは可能ですか？ 以下を実行するとクエリが実行されず「コピーできません」が表示されてしまいます。 どのようにすればコピーできるか教えてください。 $connect1 = mysql_connect("localhost", "user1", "pass1") ; mysql_select_db("db1", $connect1); //db1内にtable1 $connect2 = mysql_connect("localhost", "user2", "pass2") ; mysql_select_db("db2", $connect2); //db2.内にtable2 $sql = "INSERT INTO `db1` . `table1` SELECT * FROM `db2` .`table2`;"; $result = mysql_query($sql, $connect1)or die("コピーできません"); //$result内「$connect1」でも「$connect2」結果は同じです。 //table1とtable2の構造は同じです。
今日はじめたばかりの初心者です。 メモ帳でソースを作ってるのですが、 コードの文字数が多くなると、文字コードANSIからUnicodeにしてくださいとメモ帳から言われ、 Unicodeに変更して、保存すると、 http://localhost/tset.php でコードを確認すると、文字化けはしないのですが、おかしくなります。 だからって文字コードANSIにしていると、毎回Unicodeにしますか？と聞かれます。 こういう場合どうすればいいでしょうか？ 他のテキストエディタハワードしか使ったことがないです。
変数を取り出しているのに、なぜdefine関数は使わないの？ 変数に値を格納して取り出すときは、define関数を使うと覚えたのですが 牡蠣コードでも変数に値を入れて取り出せます。 <?php $number = 12345; echo $number; ?> define関数はどういう時に使うのでしょうか？文字列の場合のみですか？
PHPで正規表現を使った対象データを全て取り出したいのですが、 echo ($matches); にしても「Array」しかでないし、、 var_dump($matches); で確認しても意図するものが取れておりません。。 正規表現で取りだしたい箇所は　hrefの「100065」と「100066」です。 これはテスト用に作っているので2個ですが、本来は 30個程度対象箇所があります。 何か正規表現の記述が間違っていると思いますが、ご指摘願います。。 ・プログラム preg_match_all( "(/abcNo=(.*?)&ckFlg/)", $_getHTML, $matches); var_dump($matches); ・var_dumpしたブラウザの表示内容 array(2) { [0]=> array(0) { } [1]=> array(0) { } } 補足： $_getHTML は既にダミーで用意したHTMLを読み込んだものです。 $_getHTML　で読み込んでいるファイルの中身です。 <html> <body> <a href="abcNo=100065&ckFlg=1"></a> <a href="abcNo=100066&ckFlg=1"></a> </body> </html>
エラーコード： Call to a member function find() on a non-object in C:\xampp\hairetu2.php on line 29 simple_html_dom.php　というファイルを使ってHTMLのソース抜き出しを試みているのですが、 このエラーの意味がgoogleで調べてもそれらしいのがみつからないので ご質問させていただきました。 「対象データがないよ」ってことでしょうか。。。 ご存知の方　ご指摘願います。
すいません。php初心者なのですが、ある写真とコメントを任意の順番で並び替えができるような プログラムを作りました。 チェックボックスやラジオボタンで新着順、季節順、古い順、お気に入り順・・などで並び替えができるサイトで、一ページあたり200枚表示するので全部で25ページです。（写真自体が5000ほどありますので） 初めてのプログラミングでどのように組めばよいのかわからなかったのですが、 div～/divで囲んだ中に写真と説明コメントを入れ(htmlで記述）、それをphpファイルとして保存。これを写真の数だけ作り、phpで並び替えて、phpで表示。 （つまりphpファイルが5000個できあがります） とりあえず動作自体は自分の思ったとおり動いたのですが、 例えば、20人くらいが同時に並び替えをして、表示した場合、サイトが重くなったりしますでしょうか？ 気になるのが5000個もあるphpファイルでして、phpで呼び出す場合、phpファイルが最も負担が少ないと聞きましたのでそのようにしました（最初はメモ帳に記載していましたが呼び出す際に遅くなると他の人い言われました） 現在100個ほどphpファイルを作りましたが、相当労力が必要でして、このまま続けても重くなって 使い物にならないなら困るので質問しました。 よろしくお願いします。
こういう配列なのですが、何か良い案はあるでしょうか？ foreachとか、forなどを使って、スマートに配列を作成したいです $hoge = array( 　"あ" => "aa", 　"い" => "ii", 　"う" => "uu", 　"え" => "ee", 　"お" => "oo", 　"か" => "ka", 　"き" => "ki", 　"く" => "ku", 　"け" => "ke", 　"こ" => "ko", 　"さ" => "sa", 　"し" => "si", 　"す" => "su", 　"せ" => "se", 　"そ" => "so", 　"た" => "ta", 　"ち" => "ti", 　"つ" => "tu", 　"て" => "te", 　"と" => "to", 　"な" => "na", 　"に" => "ni", 　"ぬ" => "nu", 　"ね" => "ne", 　"の" => "no", 　"は" => "ha", 　"ひ" => "hi", 　"ふ" => "hu", 　"へ" => "he", 　"ほ" => "ho", 　"ま" => "ma", 　"み" => "mi", 　"む" => "mu", 　"め" => "me", 　"も" => "mo", 　"や" => "ya", 　"ゆ" => "yi", 　"よ" => "yu", 　"ら" => "ra", 　"り" => "ri", 　"る" => "ru", 　"れ" => "re", 　"ろ" => "ro", 　"わ" => "wa", 　"を" => "wo", );
ITやプログラムに詳しい方に質問です。今とあるWebサイトを作っているんですが、課金システムを実装したいと思っています。1ポイント100円でポイントを購入していただき、サイト内の特定のページ閲覧するのにそのポイントを消費するというものです。ポイントを付与するのはデータベースを使ってアカウントを管理してそこで与えればいいと思うのですが、特定のページを見るとポイントを減らすというのはどうやったらいいのでしょうか？（例.そのページにアクセスすると10ポイントから9ポイントになる）。PHPやMySQLでそのようなシステムを組むことはできるのでしょうか？私自身あまりプログラムには詳しくありません。課金システムは、Paypalのショッピングカートを使おうと思っています。また他にいいやり方があれば教えていただきたいです。
こんにちは ヒアドキュメントなどをいろいろ使って、一つのWEBページを表示しております。 表示はバッチリなのですが、どうやってもHTML形式で正しく保存ができません。 HTMLファイルはできあがるのですが、容量は0kbになってしまいます。 今まで試したのは、whileとfopenを使った方法なのですが、なぜか失敗しました。 いろいろ調べるとheader関数を使う方法があるようなのですが、 xamppなどではうまく動作しないことがあると書かれていたような。。。 具体的な記述方法を教えてください。 私はxamppを使用しており、 表示画面のURLは(http://localhost/php-files/hogetti.php)になっています。 皆様よろしくお願いいたします。
環境はXAMPPを使って、phpで作ろうと思ってます。 内容： 取得したデータを分割してDBに収めたいです。 たとえば以下のデータを取得した状態とします。 echo $name; 出力後のイメージ↓ <a class="name" href="www.abc.com/1">なまえ１</a> <a class="name" href="www.abc.com/2">なまえ２</a> <a class="name" href="www.abc.com/3">なまえ３</a> 上記データは全て繋がった状態なので <a class="name" href="www.abc.com/1">なまえ１</a>, <a class="name" href="www.abc.com/2">なまえ２</a>, <a class="name" href="www.abc.com/3">なまえ３</a>, とカンマで区切って、区切った値ごとに DBの指定したテーブルのnameフィールドに格納したいと考えております。 DBに格納したイメージ noname no1<a class="name" href="www.abc.com/1">なまえ１</a> no2 <a class="name" href="www.abc.com/2">なまえ２</a>, no3 <a class="name" href="www.abc.com/3">なまえ３</a>, このときカンマで区切る方法を教えていただけないでしょうか？
●質問の主旨 コードの何が間違っているのかよくわからない。 (check.php）のファイルで、 print'<input type="hidden" name="nickname" value="'$nickname.'">'; の行がsyntaxerrorとして、返されるがなぜそうなるのか分からない （マニュアル本に記述して、スペルミスもチェックしているのですが） 何かお気づきのかた、ご教示願います。 ●質問の補足 添付の画像のように名前、メールアドレス、ご意見を入力してもらう フォームをとして作りました(index.html) すべてのフォームに入力がされているかどうかチェックし、 (check.php） サンクスページを返すようにしました （thanks.php) ●環境 Windows8 XAMMP（ローカル開発環境） ●コード (index.html) <!DOCTYPE html> <html lang="ja"> <head> <meta charset="UTF-8"> <title>PHPの基礎</title> </head> <body> <form method="post" action="check.php"> <p>あなたの名前を入力してください</p> <input name="nickname" type="text" style="width:100px"> <p>メールアドレスを入力してください</p> <input name="email" type="text" style="width:200px"> <p>ご意見をお聞かせください</p> <input name="goiken" type="text" style="width:300px"><br/> <input type="submit" value="送信"> </form> </body> </html> (check.php) <!DOCTYPE html> <html lang="ja"> <head> <meta charset="UTF-8"> <title>PHPの基礎</title> </head> <body> <?php $nickname = $_POST['nickname']; $email = $_POST['email']; $goiken = $_POST['goiken']; $nickname = htmlspecialchars($nickname); $email = htmlspecialchars($email); $goiken = htmlspecialchars($goiken); if ($nickname == '') { print '名前が入力されてません！<br/>'; } else { print 'ようこそ！'; print $nickname; print 'さま'; print '<br/>'; } if ($email == '') { print 'emailが入力されてません！<br/>'; } else { print 'メールアドレス'; print $email; print '<br/>'; } if ($goiken == '') { print 'ご意見が入力されてません！<br/>'; } else { print 'ご意見'; print $goiken; print '<br/>'; } if($nickname == '' || $email == '' || $goiken == '') { print'<form>'; print'<input type="button" onclick="history.back()" value="戻る">'; print'</form>'; } else { print'<form method="post" action="thanks.php">'; 　 print'<input type="hidden" name="nickname" value="'$nickname.'">'; print'<input type="hidden" name="email" value="'.$email.'">'; print'<input type="hidden" name="goiken" value="'.$goiken.'">'; print'<input type="button" onclick="history.back()" value="戻る">'; print'<input type="submit" value="OK!">'; print'</form>'; } ?> </body> </html> (thanks.php) <!DOCTYPE html> <html lang="ja"> <head> <meta charset="UTF-8"> <title>PHPの基礎</title> </head> <body> <?php $nickname=$_POST['nickname']; $email=$_POST['email']; $goiken=$_POST['goiken']; print 'ご意見ありがとうございました！'; print $nickname; print '様<br/>'; print 'ご意見ありがとうございました<br/>'; print '頂いたご意見『'; print $goiken; print '』<br/>'; print $email; ?> </body> </html>
正規表現で、３回目の「</p>」後に、文字を入れるにはどうすればいいでしょうか？ 【変換前】 <p>昔むかし、あるところに</p> <p>おじいさんと</p> <p>おばあさんが</p> <p>住んでいました。</p> 【変換後】 <p>昔むかし、あるところに</p> <p>おじいさんと</p> <p>おばあさんが</p>文字←ここに文字を入れたいと思っています。 <p>住んでいました。</p> よろしくお願いします。
数日前にこちらで配列から値を取得する方法について質問させていただいた者です。 hanabutako様とshimix様にご回答いただきまして、無事問題解決することができました。 その際、hanabutako様のスクリプトを利用させていただいたのですが、 今回もその件について質問があります。 また、ご教授いただけますでしょうか。よろしくお願いいたします。 前回の質問↓ http://oshiete.goo.ne.jp/qa/8004813.html 以下のような配列の形で野菜の種類が50個以上あるとします。 その中から、特定の番号を選んで、その”全ての配列に格納されているデータ”を表示したいです。 前回は、特定の番号を選んで、その野菜の名前を表示するところまでは分かりましたが。 野菜の名前以外の配列はどのようにforeachに追記するかわかりませんでしたorz みなさん、よろしくお願いいたします。 取得したい野菜の名前の番号はひとつずつ改行で区切って テキストファイル(*.txt)に保存しています。 例↓ 1 7 36 45 50 array(50) {[0]=> array(4) { ["color"]=> string(6) "orange" ["name"]=> string(63) "とても発育がよいかぼちゃ。色はオレンジカラー " ["no"]=> string(7) "6587145" ["note"]=> string(17) "4月頃に種をまいた" } [2]=> array(4) ．．． [3]=> array(4) ．．． ～ [50]=> array(4) ．．． というように、0から50まであります。
いつもお世話になっております。 Windows環境で開発したPHPアプリをCentOS環境に移行しようとしているのですが、 件名のとおり、PHPのrequireの動作がWindowsとCentOSで違うことから、 原因を調べております。お知恵を拝借したいと思います。 例えば、以下の構成で親プログラム（myApp.php）から子(myparts/main.php)を読み込もうとしています。 ドキュメントルート/test/myApp.php ドキュメントルート/parts/mypartsA/main.php ●myApp.php <?php echo ("##### myApp is starting now !!! </br>"); require_once('/parts/mypartsA/main.php'); ?> ●mypartsA/main.php <?php echo ("#### mypartsA is required </br>"); ?>And myApp.php and mypartsA/main.php are in following structure. 結果として、 ●Windowsでは、以下が表示されますが・・・ ##### myApp is starting now !!! #### mypartsA is required ●CentOSでは、以下のとおりエラーになります。 PHP Warning: require_once(/parts/mypartsA/main.php) [<a href='function.require-once'>function.require-once</a>]: failed to open stream: No such file or directory in /var/www/html/test/myApp.php on line 12 PHP Fatal error: require_once() [<a href='function.require'>function.require</a>]: Failed opening required (/parts/mypartsA/main.php’(include_path='.:/php/includes:/usr/share/pear:/usr/share/pear/PEAR:/var/www/html') in /var/www/html/test/myAPP.php on line 12 解決策として、以下のようにすればエラーが解消することは分かっているのですが・・・ require_once($_SERVER['DOCUMENT_ROOT']./parts/mypartsA/main.php); なるべく既存のアプリに手を入れたくないので、 何故Windowsではできて、何故CentOSではできないのかを知りたいと思います。 とりあえず、PHP.iniのinclude_pathを調べてみましたが、 表記方法の違いはあるものの、に意味的な違いが見つかりません。 ●Windowsでの設定 .;C:\PHP;C:\PHP\pear;C:\Apache2.2.22\htdocs ●CentOSでの設定 .:/php/includes:/usr/share/pear:/usr/share/pear/PEAR:/var/www/html この他何をポイントに調べていったらよいか教えていただければと思います。 よろしくお願いします。
こんにちは、 有償無償問わずでwordpressで使える 予約システムを探しています。お勧めありますでしょうか？ 仕事で使うので、可能であれば日本語でサポートが出来るところなら なお嬉しいです。 参加上限になったら予約終了するようなシステムだとありがたいです。
phpの開発のためにXAMPPを入れて使っています。 しかし最近になってapacheのセキュリティやapacheを対象としたウイルスについての記事を目にするようになってきました。 apacheはphpを開発するときにだけXAMPPで起動しているだけで apacheのバージョンは古く、2.2.14（2009年のもの）のままです。XAMPPも古いです。 恥ずかしながら、そもそもapacheを使うにあたってセキュリティの知識が全くありません。 XAMPP管理画面でセキュリティパスワードを掛けている程度です。 まずapacheは常に最新バージョンにしておくべきなのでしょうか？ そうするとXAMPPを最新バージョンにするということでよいのでしょうか？ またapacheを使う上でどのようなセキュリティをすれば良いのでしょうか？ ちなみに完全に個人PCでの作業で、会社とかでの環境ではありません。 よろしくお願い致します。
preg_match_all で複数の文字列を取得したい。 正規表現について勉強している者です。 preg_match_allを使って複数の文字列を取得したいのですが、 パターンの書き方に苦戦しています。 取得したいデータは以下の５つです。 一つずつであれば、どのデータも問題なく取得できますが、 ２つ以上組み合わせると、抽出した結果に余計な文字が入ったり、 何も結果を返さなかったりとなってしまいます。 皆様お知恵を貸してください。よろしくおねがいします。 ///////////取得したいデータ/////////// １つめ→○△□○△□○日本語や英語や数字△□○△□○△□○△□ ２つめ→2010/03/04(日) 16:33:48.21 ３つめ→Reg1046H2556USAsantaclala ４つめ→score995 ５つめ→●▲■<br> ●▲■●日本語や英語や数字▲■●▲■●<br> ▲■●▲■●▲■●▲■●<br> ▲■●▲■●▲■ ５つめには改行が入ることもあります。 /////////////////////////////////////// HTMLコード↓ <div class="cell" material="\1"></div></div> ： <span style="grey"><b>○△□○△□○△□○△□○△□○△□</span></b> DATE 2010/03/04(日) 16:33:48.21 <div class="gj"><a href="www.hoge.com" class="Reg1046H2556USAsantaclala"><span class="well">domestic</span></a><div class="hollywater" name="BUFFALO"></div></div>bridge</div><div id="score995">●▲■<br> ●▲■●▲■●▲■●<br> ▲■●▲■●▲■●▲■●<br> ▲■●▲■●▲■</div>
下記URLの中の特定の画像リンクURL群を PHPを使って配列で抽出したいです。 https://gdata.youtube.com/feeds/api/videos?v=2&a … 特定の部分は下記のようにhogehoge以外は共通の文字列で3種類あります。 http://i.ytimg.com/vi/hogehoge/default.jpg http://i.ytimg.com/vi/hogehoge/mqdefault.jpg http://i.ytimg.com/vi/hogehoge/hqdefault.jpg 各々、正規表現を利用して抽出して配列に入れたいのですがどのようにすればよいのかわかりません。＞＜； $defaultArr $mqArr $hqArr 当方、正規表現が呪文にしか見えない初心者です。 正規表現の意味まで説明して頂けれると大変助かります。 申し訳ありませんがご教授のほどよろしくお願い致します。
index.phpに、list.txtから一日ずつ異なる行を表示するにはどうしたらよいか教えてください。 index.php　は<p>本日のおすすめは「○○○」</p> list.txtには1行目から順にメニューリスト からあげ弁当 りんごケーキ 焼き魚定食 ・・・・ index.phpの○○○の部分に記述するPHPを知りたいです。 例えば4/1にこのURLにアクセスすると、リストの１行目（からあげ弁当）が表示されており、 4/2にアクセスすると２行目（りんごケーキ）、 4/3は３行目…という感じです。 当方あまり詳しくないため、お分かりの方、どうぞよろしくお願いいたします。
配列から野菜の名前を取得して表示する方法を教えてください。 取得したい野菜の名前の番号はひとつずつ改行で区切って テキストファイル(*.txt)に保存しています。 例↓ 22 484 Array ( [0] => Array ( [no] => 22 [name] => とまと ) [1] => Array ( [no] => 1508 [name] => かぼちゃ ) [2] => Array ( [no] => 5482 [name] => せろり ) [3] => Array ( [no] => 1813 [name] => にんじん ) [4] => Array ( [no] => 54118 [name] => ナス ) [5] => Array ( [no] => 484 [name] => レタス ) )
＞型のチェックには、この関数ではなく is_* 関数を使います ▽PHP: gettype - Manual 　 http://php.net/manual/ja/function.gettype.php て書いているのですが、gettypeはなんで利用してはいけないのでしょうか？(もしくは奨励されていないのでしょうか) is_numeric() とか、とっても難しそうなのですが…
変数格納する際、クォーテーション「あり」「なし」の違いはあるのでしょうか？ ■質問背景 ・配列作成する際、クォーテーション「なし」でできたのに、取り出す際はクォーテーション付与しないとうまくいかなかった ・具体的には、"id" => '1',　と変更したらうまくいった array( 　　0 => array 　　　　( 　　　　　　"id" => 1, 　　　　　　"city" => "tokyo" 　　　　), ■質問 ・下記の違いは何でしょうか？ ・文字列として格納するか数値として格納するかの違い？ $hoge = 1; $hoge = '1'; $hoge = "1"; ・クォーテーションなしで変数に格納出来るのは数値だけ？ $hoge = 文字列;
crontabで毎分PHPのスクリプトを起動する記述をしましたが、すべて下記エラーが出て実行されません。 phpスクリプトの先頭で「#!bin/usr/php」を書く方法と、crontabで「* * * * * /usr/bin/php test.php > dev/null」とする方法を試してみましたが両方ともダメでした。 解決索があればご教示下さい。 【エラー内容】 test.php: line 1: ?php: No such file or directory
こんにちは、 重複配列の判断方法をお聞きしたいのですが、 $outdata[１]['id'] = １ $outdata[２]['id'] = １ $outdata[３]['id'] = ２ $outdata[４]['id'] = ３ 上記のような配列があり、これを $test[１]['id'] = １ $test[２]['id'] = ２ $test[３]['id'] = ３ とidが重複したものを除外したいのですが どのようなロジックになるのでしょうか？
#address=<<_MEMBER <pre> Name Addr Mail Ito Tokyo ito@apple.example.com </pre> _MEMBER_; print preg_replace('/[^@\s]+@([-a-z0-9]+\.)+[a-z]{2,}/', [delete]' $address); 出力されるものは Name Addr Mail Ito Tokyo [delete] だそうですが、どうしてそうなるのですか？ [^@\s] と -a-z の意味がわかりません。 -a-zはa-z　とは違うのですか？ Name Addr Mail Ito Tokyo ito[delete] ではないのですか？
PHPでファイルをサーバーにアップロードするプログラムを作ったのですが ディスクへの一時書き込みに失敗してしまいます 症状的にはこの方と似ていますが、 http://www.phppro.jp/qa/1448 この方はエラー番号6番（テンポラリフォルダが存在しない） 私のエラー番号は7番（ディスクへの書き込みに失敗）で 私はphp.iniの場所が間違っているわけではありません 「POSTのダンプ結果」 Array ( [upfile] => Array ( [name] => xxx.jpg [type] => [tmp_name] => [error] => 7 [size] => 0 ) ) 上記の通りで、一次フォルダ（テンポラリフォルダ）に書き込む時点でエラーを起こしてしまっています 所有権の問題かと思い以下の操作をしましたが改善されませんでした [php.iniを編集] upload_tmp_dirのコメントアウトを外し、明示的にテンポラリフォルダを指定 upload_tmp_dir=/tmp/php [以下のフォルダを製作] /tmp/php [属性を777に] chmod 777 /tmp/php [オーナーをapacheに] chown apache:apache /tmp/php 再起動 エラー内容変わらず どなたか分かる方お教え頂けると幸いです
こんにちは、 cmsサイトをdrupalで作ってみようと思って情報を探しているのですが 日本語のページはちらほらあるのですが、 質問掲示板みたいなものがあるサイトが見つかりません。 どなたか盛り上がっているサイトお知りの方いらっしゃいますでしょうか？ 画像を漫画風（次へでどんどんめくれる感じ）に表示できるモジュールを探していまして。
PHP5 で Codelgniter (Ver2.0.3-1) を使用してコンストラクタを書く方法につきお尋ねします。 ある参考書で Codelgniter の使用法を学習していますが、その本のフォーム処理のためのコントローラーの例文として下記の記述があります（一部要約）。 Class Form extends Controller { function Form(){ parent:: Controller(); $this->load->helper('url'); $this->load->library('form_validation'); $this->form_validation->set_rules('name', '名前', required); } } ところがこのコンストラクタは PHP4 形式で記述しているとの注記が付いています。 このコンストラクタを PHP5 形式で Codelgniter (Ver2.0.3-1) を使用して書くにはどのようにすれば良いでしょうか？ ネスト形式で次のようにすれば良いですか？ Class Form extends CI_Controller { function Form(){ public function __construct(){ parent:: construct(); } $this->load->helper('url'); 　　中略 } }
質問お願い致します。 phpで画像のリサイズをして表示させたいと思っています。 色々調べた結果下記のサンプルコードを入れてみました。 <?php header("Content-Type:image/jpeg"); $imgpath = "http://*****************.jpg"; $im_info = getimagesize($imgpath); $src_im = ImageCreateFromJPEG($imgpath); $dst_im = imagecreate($im_info[0]/2,$im_info[1]/2); imagecopyresampled($dst_im,$src_im,0,0,0,0,$im_info[0]/2,$im_info[1]/2,$im_info[0],$im_info[1]); imagejpeg($dst_im); ?> しかし「画像ファイル "http://*****************.php" は壊れているため、表示できませんでした。」となってしまいました。 色々試した結果、下記の記述だけでも「画像ファイル "http://*****************.php" は壊れているため、表示できませんでした。」と表示されてしまいました。 <?php header("Content-Type:image/jpeg"); ?> 「header("Content-Type:image/jpeg");」を使用する際にはphp.iniの書き換えをするのかと調べてみたのですが、結局原因はわかりませんでした。 サーバーはさくら（スタンダードコース）です。 PHPは「PHP 5.2.17」になります。 どなたかお知恵を貸して頂けないでしょうか。 宜しくお願い致します。
サーバーの仕様でconvertコマンドにてimagemagickを使用しています サムネイルの作成でどんな写真がきても指定サイズにフィットしてトリミングするにはどの様にするのでしょうか？ 現在は下記の様にリサイズ後に中央からトリミングしておりますが、横長写真は上下サイズが指定サイズに足らなくなってしまいます。 -resize 150ｘ　-gravity center -crop 150ｘ100+0+0 別途　cropThumbnailImage　というものを見つけたのですが、convertコマンドでする方法がわかりませんでした。 よろしくお願いします。
PHPの日時を取得するのに詰まっております。 どなたかお助けお願いいたします！ やりたいことは下記です。 今月（例：2013.03）の次の月を表示→12ヶ月分繰り返す。 【めざす完成型】 今月2013.03の1か月後は2013.03 今月2013.03の2か月後は2013.04 今月2013.03の3か月後は2013.05 今月2013.03の4か月後は2013.06 今月2013.03の5か月後は2013.07 今月2013.03の6か月後は2013.08 今月2013.03の7か月後は2013.09 今月2013.03の8か月後は2013.10 今月2013.03の9か月後は2013.11 今月2013.03の10か月後は2013.12 今月2013.03の11か月後は2014.01 今月2013.03の12か月後は2014.02 現在のコード $i = 1; $cumonth = date("Y.m", strtotime(date("Y-m-01"))); while($i <= 12){ $plmonth += strtotime("+1 month", $cumonth); $plmonth_ts = date("Y.m", $plmonth); echo '今月'.$cumonth.'の'.$i.'か月後は'.$plmonth_ts.'<br />'; $i++; } ↓ 表示 ↓ 今月2013.03の1か月後は1970.02 今月2013.03の2か月後は1970.03 今月2013.03の3か月後は1970.04 今月2013.03の4か月後は1970.05 今月2013.03の5か月後は1970.06 今月2013.03の6か月後は1970.07 今月2013.03の7か月後は1970.08 今月2013.03の8か月後は1970.09 今月2013.03の9か月後は1970.10 今月2013.03の10か月後は1970.11 今月2013.03の11か月後は1970.12 今月2013.03の12か月後は1971.01 ※初期の値が1970.01になっています…。 そこでこちらに変えたところ↓ $i = 1; $cumonth = date("Y.m"); $cumonth_ts = strtotime(date("Y-m-01")); while($i <= 20){ $plmonth += strtotime("+1 month", $cumonth_ts); $plmonth_ts = date("Y.m", $plmonth); echo '今月'.$cumonth.'の'.$i.'か月後は'.$plmonth_ts.'<br />'; $i++; } ↓ 表示 ↓ 今月2013.03の1か月後は2013.04 今月2013.03の2か月後は2056.06 今月2013.03の3か月後は2099.09 今月2013.03の4か月後は2142.12 今月2013.03の5か月後は2186.03 今月2013.03の6か月後は2229.06 今月2013.03の7か月後は2272.09 今月2013.03の8か月後は2315.12 今月2013.03の9か月後は2359.03 今月2013.03の10か月後は2402.06 今月2013.03の11か月後は2445.09 今月2013.03の12か月後は2488.12 ※最初（1ヶ月後）は合っているのですが、2ヶ月後以降がおかしくなってしまいました（涙） どうぞよろしくお願い申し上げます。
ワードプレスのデータベース phpadmin からエクスポートしようとしたのですが、添付の画像のように、見たことがない画面です。 特定のテーブルだけ除いて、エクスポートしようとしてもできません。 どうしてこういう画面になっているのでしょうか？　普通にエクスポートできる方法はないのでしょうか？
http://www.apachefriends.org/en/xampp-windows.html の XAMPP for Windows 1.8.1, 30.9.2012 Installer 　99 MB をインストールしたのですが、言語選択の画面が出てこなくて、英語表記です。 日本語版のソフトがほしいのですが、そのリンク先はありますか？ http://php.xenophy.com/php/index.html をみると、言語選択画面があるそうですが、私がインストールした限りでは 見当たりませんでした。 もしくは私が言語選択を見逃しただけでしょうか？
MVC モデルで web app を作る場合、mod_rewrite で url を「書き換え」て、１つのソースコードですべてのアクセスを処理する、 みたいなことはよくやられると思うのですが、 巷の情報を漁ってみると、 「mod_rewrite では post で渡されたパラメタを取得できない」 とのことでした。 でもこれって、リダイレクトした場合に、そうなることがありえるって話ですよね？ mod_rewrite って、url を「書き換え」てるだけじゃないんでしょうか？ url を書き換えて、リダイレクトまでされているんでしょうか？ よろしくお願いします。
クラス内で、メソッドを呼び出す際、なぜ、$this->メソッド名();としなければいけないのでしょうか？ 疑問内容としては、下記リンク先の人と同じなのですが、 なんで、メソッド名();を普通に呼ぶだけではダメなのでしょうか？ publicクラス内で、publicなメソッドから、publicなメソッドを呼ぶだけだから、普通の呼び出しでイケると思ったのですが… ▽クラス内での関数の呼び出しについて。 - PHPプロ！Q&A掲示板 　 http://www.phppro.jp/qa/2846
iImageMagick convertコマンド方法について質問です。 ・やりたいこと　WEBサーバ内にあるPDFファイルをPHPでPJG化したい ・ImageMagickはPHPの拡張モジュールになっていない ・convertコマンドは利用可能 ・WEBサーバは環境上SSH接続は許可されていない convertの絶対パスはわかっています。 phpでexecで以下の書式で実行してみました $command = 'convert xxx.pdf yyy.jpg'; exec($command,$output,$retvalue); convertは絶対パスを指定しています。 なお同一ディレクトリ内にexecを実行するPHPファイルとpdfファイルを置いています。 ディレクトリのパーミッションは777。 結果、yyy.jpgは作成されません $outputの内容 Execution stack: %interp_exit .runexec2 --nostringval-- --nostringval-- --nostringval-- 2 %stopped_push --nostringval-- --nostringval-- --nostringval-- false 1 %stopped_push --nostringval-- --nostringval-- Dictionary stack: --dict:1070/1123(ro)(G)-- --dict:0/20(G)-- --dict:88/200(L)-- Current allocation mode is local Last OS error: 2 convertの書式が間違っているのでしょうか? PDFファイルが不正なのかとも思い他のPDFファイルに変更しても同じ結果です。 system関数も実行してみたのですが、JPGは出力されません。 どのようにしたらPHPから、PDFファイルのフォーマット変換ができるのでしょうか？
【 Twitterフォロワー数 取得 API xml 】 twitterのフォロワー数を取得しwebsiteに表示したいです。 下記のcodeを記述したのですが、 取得出来ない場合があります。 (Aのサイトですと表示されBのサイトですと表示されない) <?php $urlt = str_replace(0xefbbbf, '', file_get_contents('http://api.twitter.com/1/statuses/user_timeline. …□□□□□□')); $xmlt = simplexml_load_string($urlt); print $xmlt->status->user->followers_count; ?> ※上記の □□□□□□ 部分には 表示させたいtwitterのscreen_nameかidをいれます。 どうしてもわからずこちらに質問させて頂きました。。。 よろしくお願いいたします。。
PHP初心者です。 javascript内でsubmitを行い、値をPHP内で受け取る想定ですが、うまく作動しません。 具体的には下記のソースで、// Aの処理に入ってきて欲しいのですが、//B に入ってきます。 初歩的なことのなのかもしれませんが、どこが間違っているのか分からずはまっています。 ご教授ください。 ソースは以下です。 ■JavaScriptとForm(admLogin.html) <script type="text/javascript" src="js/jquery-1.9.0.min.js"></script> <script type="text/javascript"> function fncLogin(){ $("#frmAdmLogin").submit(); } </script> <body> <form id="frmAdmLogin" action="admLogin.php" method="post"> <input type="text" id="txtAdmId" /> <input type="text" id="txtAdmPass" /> <input type="button" name="btnLogin" value="ログイン" onclick="fncLogin()"/> </form> </body> ■PHP（admLogin.php) <?php if(isset($_POST['btnLogin'])) { // A }else{ // B } ?> ログインボタン押下 ↓ fncLogin内からフォームをsubmit ↓ // A の処理に入ってくる想定なのですが、//B　の処理が実行される。 ちなみに、ボタンのinput typeをsubmitにすれば//A の処理に入ってくるのですが、 javascript内からsubmitしたいため、困っています。 どこを間違えているのでしょうか。。
JavaScriptで日付設定を設定して頂き、サブミットを押すと値をPHPに渡す、という事をしたいのですが、JSからPHPに値の受け渡しというのは可能なのでしょうか？ また、それはどのようにすればいいのでしょうか？ 以下が現在のコードです。 【reservecalender.php】 <head> <script type="text/javascript"> //<![CDATA[ var nowYear; var nowMonth; var nowDate; var nowLimitDay; var nowTag1; var nextTag1; var selectMonth; function onReady(){ var nowDate = new Date(); wkYear = nowDate.getYear(); //年 nowYear = (wkYear < 2000) ? wkYear+1900 : wkYear ; //月 nowMonth = nowDate.getMonth()+1; //日 nowDate = nowDate.getDate(); //今月の日数 nowLimitDay = new Date(nowYear, nowMonth, 0).getDate(); //日付用オプションタグ nowTag1 = ""; nextTag1 = ""; //選択中の月 selectMonth = 0; //プルダウン1日付、デフォ+3 pull1D = nowDate + 3; //次の月のどこまで日付を選べるか fitThirty = 30 - (nowLimitDay - pull1D) //月のオプション monthTag = '<option value=' + nowMonth + '>' + nowMonth + '月</option>'; if (nowMonth != 12) { monthTag += '<option value=' + (nowMonth+1) + '>' + (nowMonth+1) + '月</option>'; } //今月の日付オプション for (i = pull1D; i <= nowLimitDay; i++) { nowTag1 += '<option value="' + i + '">' + i + '日</option>'; } //来月の日付オプション for (i = 1; i <= fitThirty; i++) { nextTag1 += '<option value="' + i + '">' + i + '日</option>'; } document.getElementById("year1").innerHTML = nowYear + "年"; document.getElementById("year2").innerHTML = nowYear + "年"; document.getElementById("pull1M").innerHTML = monthTag; document.getElementById("pull2M").innerHTML = monthTag; document.getElementById("pull1D").innerHTML = nowTag1; document.getElementById("pull2D").innerHTML = nowTag1; } function changeDay(){ selectObj = document.getElementById("pull1D"); options = document.getElementById("pull1D").options; selectDay = options.item(selectObj.selectedIndex).value; selectDay++; selectDay--; setTag = ""; if (selectMonth == 0) { setTag = nowTag1; } else { setTag = nextTag1; } wkPos = setTag.indexOf('<option value="' + (selectDay+1) + '">' + (selectDay+1) + '日</option>', 0); chageDayTag = '<option value="' + selectDay + '" selected>' + selectDay + '日</option>' + setTag.substr(wkPos); document.getElementById("pull2D").innerHTML = chageDayTag; } function changeMonth1(){ setTag = ""; if (selectMonth == 0) { setTag = nextTag1; changeMonth(nowMonth+1); selectMonth = 1; } else { setTag = nowTag1; changeMonth(nowMonth); selectMonth = 0; } document.getElementById("pull1D").innerHTML = setTag; document.getElementById("pull2D").innerHTML = setTag; } function changeMonth2(){ if (selectMonth == 0) { selectObj = document.getElementById("pull2D"); options = document.getElementById("pull2D").options; selMonth2 = options.item(selectObj.selectedIndex).value; if (nowMonth == selMonth2) { document.getElementById("pull2D").innerHTML = nextTag1; } else { document.getElementById("pull2D").innerHTML = nowTag1; } } else { changeMonth(nowMonth+1); } } function changeMonth(selMonth){ optObj = document.getElementById("pull2M").getElementsByTagName('option'); for (i = 0; i < optObj.length; i++) { if (optObj[i].value == selMonth) { optObj[i].selected = true; break; } } } //]]> </script> </head> <body onload="onReady()"> <div id="box"> <form name="reservedateform" action="reserveselect.php" method="post"> <div id="year1"></div> / <select id="pull1M" onchange="changeMonth1()"></select> / <select id="pull1D" onchange="changeDay()"></select> <div id="year2"></div> / <select id="pull2M" onchange="changeMonth2()"></select> / <select id="pull2D"></select> <input type="hidden" name="checkin" value="1 つ目の年月日" /> <input type="hidden" name="checkout" value="2 つ目の年月日" /> <input type="submit" value="go" /> </form> </body> 【reserveselect.php】 if ($_SERVER["REQUEST_METHOD"] == "POST"){ $checkin = htmlspecialchars($_POST["checkin"], ENT_QUOTES); $checkout = htmlspecialchars($_POST["checkout"], ENT_QUOTES); } また、年月日の値を"2013-03-13"のように変換して格納するにはどうすれば良いでしょうか？？ 質問ばかりですみません…。 どなたかご回答頂けるとありがたいです。
PHPでサイトを組んでいるのですが、include_onceで以下のようにPHPの各ファイルを呼び出して実行しているのですがうまくいきません。 <?php //レンタルサーバーのcronを利用して、定期的に走らせるコードです。 include_once "example_a.php"; include_once "example_b.php"; include_once "example_c.php"; ?> 各ファイルは、RSSで読み込んだデータをMｙSQLに格納するプログラムです。 個別で各ファイルを実行すると正しい結果となりますが上記のようなプログラムでまとめて実行するとexample_a.phpは正しい結果となりますが、example_b.php、example_c.phpは正しく処理されません。 原因として考えられるものがあれば、教えていただきたいと思います。 よろしくお願いします。
php、mysqlを見よう見まねでやっている 初心者です。 以下のような表をphpで作りました。 これでできた表の d列の行の値（文字）を全て比べて 値がその他の行と一行でも違っていたら （他の行と揃って同じでなかったら） errorを出したいと思っています。 どのような式を書いたらd列の全ての行の 値（文字）を調べ、errorを出すことが できるのでしょうか？ <tr> <th>a</th> <th>b</th> <th>c</th> <th>d</th> </tr> <? while ( $row = mysql_fetch_array( $result )){ ?> <tr> <td><?= $row['a'] ?></td> <td><?= $row['b'] ?></td> <td><?= $row['c'] ?></td> <td><?= $row['d'] ?></td> </tr> <? ; } ?> 結果 a　　　b　 c　 　 d aaa bbb ccc ddd aaa bbb ccc ddd aaa bbb ccc dde→（errorを出したい） errorを出せれば下記のようなif文にしたいと思っています。 <? if($d==error){XXX;} else{ooo;} ?> 上記式も見ようまねでよくわかっていなく、 質問が理解して頂けるかどうかですが、 どうかご教授の程よろしくお願い致します。
htaccessでパスワード制限するほどでもなく、urlを打てば誰でも入ってきてもいいしリンクはされてもかまわない。だが主要な検索エンジンに載らないような準非公開サイトを作りたいと思っています。完全にボットを排除することができないことは承知しています。 予めボットに回収されないようにrobot.txtやhtaccessで主要な検索ロボットを排除、htmlヘッダーにもボット対策のMETAタグを入れています。それでも外国製のボットは回収しているみたいで現在、普通に存在するページに404ヘッダーを入れて表示させているのですが、 この404ヘッダーが原因で普通に閲覧してくる人に対してなんらかの問題が生じることってありますでしょうか。404ヘッダーをハック的に使っているのでウイルス対策ソフトで警告が出たりブラウザで警告が出たりする可能性はどうなのか意見を頂きたいです。
仕様で,区切りで吐き出されるCSVがあるのですが splitで分割していくと データ内に,があるフィールドがあり 意図しないところで分割されてしまいます。 ""でくくっているようですが どうやってこの部分を分割すればよいでしょうか？ 例 aaa,aaaa,"bb,bb",aaa を aaa aaaa bbbb aaa で分けたいです。
PHPでMySQLを利用した予約カレンダーを作成しなければならない課題なのですが、初心者同然の知識ではなかなか難しく、また、思うようなサンプルも見つからず、困っています…。 希望としては、カレンダー表示(うるう年計算や祝日情報を含む)で、データベースに予定が入っていなければ日付にリンク付けをし、枠内に○印を記載、そりてリンクからは予約項目入力ページに移動させるようにしたいと思っています。また、データベースに予定が入っていれば日付のリンク付けはなしで枠内に×印を表示して予約が出来ないようにしたいと考えています。 下記が予約状況を入れたMySQLテーブルです。 mysql> desc reserve; +--------------+-----------+----+---+-----------------+---------------------------+ |Field |Type |Null|Key|Default |Extra | +--------------+-----------+----+---+-----------------+---------------------------+ |会員ID |varchar(10)|NO |MUL|NULL | | |部屋NO |int(3) |NO |MUL|NULL | | |人数:大人 |int(3) |NO | |NULL | | |人数:子ども |int(3) |NO | |NULL | | |チェックイン |date |NO | |NULL | | |チェックアウト|date |NO | |NULL | | |宿泊プランNO |int(10) |NO |MUL|NULL | | |予約登録日 |timestamp |NO | |CURRENT_TIMESTAMP|on update CURRENT_TIMESTAMP| +--------------+-----------+----+---+-----------------+---------------------------+ 出来ればサンプルコード、もしくは希望のサンプルが乗ったURLなどをお教え頂きたく思います。 また、予約画面ではチェックアウト日選択(チェックイン日から1週間以内)や、人数を入力していただくテキストフィールドと宿泊プランの選択プルダウンをつけるつもりでいます。 すみませんがどなたかこの初心者に救いのお手をお貸しくださいませ。 よろしくお願いいたします。
現在PHPであるデータを作成し、毎日CSVファイルに追記するPHPプログラムを作成しています。 /data/[ID]/2013.csv　のような構成でファイルを作成し追記しています（1年で1ファイル） しかし、データ量が多く、ものによっては1年で50万行の量になってしまいます。 サイズでいうと50MBほどです。 ここで考えた案が2つあります。 (1)月ごとにファイルを作る （/data/[ID]/2013-03.csv　のように月ごとにファイルを作成する方法） メリット：　簡単、分かりやすい デメリット：　無駄にファイルが増える (2)サイズが上限（20MBとか？）を超えたらファイルを作成する。 メリット：　無駄にファイルができない、スマート？ デメリット：　ちょっと複雑なプログラムになる。 素人目からはどちらでもよさそうなのですが、、 どちらが良いのでしょう？？ また、違った画期的なアーカイブ方法はありませんでしょうか？ また、どのくらいのCSVファイルサイズまでなら処理できるのでしょうか？ お詳しい方、ご教示下さい。 お願い致します。
その1 $str = "ほげほげほげ<a href="http://xxxx.xxxx.xxx/xxxx/">ほげほげほげ</a>ほげほげ<br /><br /><img src="http://yyy.hoge.jp/hage/hige/xxxx.jpg" width="320" height="240" />ほげほげ"; ↓ $str = "ほげほげほげ<a href="http://xxxx.xxxx.xxx/xxxx/">ほげほげほげ</a>ほげほげ<br /><br /><img src="./foo/faa/fii/xxx.jpg" width="320" height="240" />ほげほげ"; その2 $str = "<img src="http://yyy.hoge.jp/hage/hige/xxxx.jpg" width="320" height="240" />ほげほげほげ<a href="http://xxxx.xxxx.xxx/xxxx/">ほげほげほげ</a>ほげほげ<br /><br /><img src="http://yyy.hoge.jp/hage/hige/xxxx.jpg" width="320" height="240" />ほげほげ"; ↓ $str = "<img src="./foo/xxxx.jpg" width="320" height="240" />ほげほげほげ<a href="http://xxxx.xxxx.xxx/xxxx/">ほげほげほげ</a>ほげほげ<br /><br /><img src="./foo/faa/fii/xxx.jpg" width="320" height="240" />ほげほげ"; このような文字列があった時に、次のように従って置換したいです。 1.imgのタグの内部に、「http://yyy.hoge.jp/hage/hige/xxx.jpg」という文字列があった場合、「./foo/faa/fii/xxx.jpg」という文字列に置き換える。 2.それ以外のURLの場合は置換しない。 3.その1とその2では「xxx.jpg」となっていますが、jpg以外の拡張子の場合も存在する。 4.日本語とURLの位置や個数はバラバラです。 5.URLの中のxxxとyyyは不定の文字列で、hage、hoge、hige、foo、faa、fiiは固定です。 6.使用している言語はPHPです。正規表現を1度だけでできれば理想的ですが、今回は2回に渡った処理でも問題ありません。 以上です。正しく処理できる正規表現、あるいは下記の正規表現の誤りを教えて頂ければ幸いです。 お手数ですが、よろしくお願い致します。 下記の方法では、うまくできませんでした。 $pattern = "/http:\/\/.*?hoge.jp\//"; $replacement = "./"; $str= preg_replace($pattern, $replacement, $str); $pattern2 = '/\/?hage\/hoge/'; $str = preg_replace($pattern2, '/foo/faa/fii', $str);
プログラムミング入門者です。 php5.4以降をサイトを2つ以上見て学んでくるよう上司に言われました。 google等で入門サイトを探しましたが古いヴァージョンで説明しているサイトしか見つけられませんでした。 どなたか5.4以降で説明している入門サイトを教えてください お願いします。
　あるPHPの参考書に『FPDFのセットアップ』という項目の中に、「fpdfxxx.zip(xxxはバージョン番号)はFPDFの本体です。アーカイブを解凍した後、その配下に含まれるfpdf.phpとfontフォルダをinclude_pathが通ったパス(例えば「c:\php\includes」に配置してください。…‥以後省略) と記述されているのですが、私のパソコンにインストールしたxamppの中のphpファイルの中には、何処を探しても「includes」というファイルが見つかりません。 またxampp→php→pearと開いてみるとfpdfというファイルを発見したので開いてみたのですが…、私がダウンロードしようとしている、（http://www.fpdf.org/）の中のmbfpdf10b.zipのファイルとを比べると、あまりにもファイルの数やファイル名が異なりすぎるのでどうしたらよいのか迷っています。そして、このファイル（pear）が「include_pathが通ったパス」なのか？も解からない状態です。 php.iniの中の829行目あたりの条文も眺めて？はいるのですが、このinclude_path = “.;C:\xampp\php\PEAR”　これが? Include_pathが通ったことなのか…？。 そもそもincludeファイルなるものはどこにあるのか？、無ければ「新規作成」で作ってみたらどうだろうか？、だとしても、それでinclude_pathが通っているのか？。 などと、いろいろ考えてはみたのですが…？、まったく解かりません！。 何方か、includeファイルをxamppの中のphpに設定する方法とxampp→php→pearの中にあるfpdfファイルはどのように扱えばよいのでしょうか？、ご教授ください、よろしくおねがいします。 追伸 私の使用しているパソコンは：東芝REGZA PC D712/T3FG OSは：Windows 7 Xamppのバージョンは； 1.8.1 以上です。
現在、変数に格納した文字列をテキストに出力しているのですが あまりにも量が多いため、分割して出力したいと考えております。 ex,txt(10000行書き込まれている) → ex1.exe(1000行書き込む) , ex2.txt・・・ というようにex.txtに10000行書き込んでいたものを、ex1、ex2、ex3と分割して出力したいのですが PHPではどのような関数、あるいは手段があるのでしょうか？ よろしくお願いします。
PHP,MySQLを用いた検索システムを作るにあたり、検索結果に画像を用いるということをしています。 具体的には、検索結果としてサムネイル画像がズラッと表示されるというものです。 （10件ごとに表示し、ページングさせる。） DBには画像のパスを格納しているのですが、ところどころ画像が表示エラーをおこしてしまいます。 リロードすると表示されますが、また別のところが表示エラーになったりします。 ランダムに表示エラーが起きてしまうのです。 出力ファイルをブラウザで確認すると、全てきちんと出力できているのですが、検索の流れの中でエラーが起きるということになります。 格納したパスが間違えているということでもないので、サイトのレイアウト上の問題なのかなと思うのですが、原因がいまいちわからずにいます。 エラーの原因としてどういった可能性が考えられますでしょうか。 アドバイスをご教示いただければ幸いです。
唐突に質問失礼致します。TwitterAPIを勉強中の者です。 時間の文字列を照合して「今日の分のツイート」を取得しようとしているのですが、夜0:00～朝9:00まであたりの時間が抽出されずに無視されてしまい困っています。 おそらく9時間の時差分が抽出されていないと思いますが、どう+9時間の時差を書き加えればいいでしょうか？ 現在は、下記のような形で当日の夜23:59に実行しています。 jsonで取得し、 $today1 = strtotime("now"); $today2 = date('D M d', $today1); //////$today2 = date('D M d', strtotime('now'));←1行で書くとこんなかんじです///// foreach ($tweets as $val) { if (preg_match( "/$today2/",$val->created_at)) { 　　： これだとGMTになってしまうのか、仮に1時間に1回のツイートをしていたとしても、夜0:00～朝9:00のみの時間帯だけ無視されます。 どこに日本時間の+ 9*3600を書き加えれば、修正されるでしょうか？ サーバーはさくらサーバーに置いてcronで実行しています。 改善法をご存じの方がいらっしゃいましたらご教示頂けたら幸いに存じ上げます。
create table sample( id int not primary key auto_increment, kokyaku_cd int(12), kokyaku_name varchar(32), index(kokyaku_cd) )engine=innodb; (sample.kokyaku_cd 外部キーの親キーと設定しています 子キーcreate　table　sample_1は記入しません (forgine key (kokyaku_cd) references sample (kokyaku_cd) on update cascade on delete cascade) insert into sample_1_1( kokyaku_cd,kokyaku_name) values (1,'佐々木’), (2,'田辺'); sample_1_1　データ50カラム入力後 単価カラムを追加します alter table sample_1_1 mofiy column tanka int(12); tankaカラム入力時 update文では50行入力は 安全性もあり困難な為 perare構文で一括入力を希望します(適切か分かりません） perare up_sql from 'update sample_1_1 set tanka=? where kokyaku_name=?'; set @a='10000'; set @b='佐々木'; excute up_sql using @a,@b; エラーは出ないのですが、入力すべて0で結果が反映されていません (tankaがNULLのままです） 複数入力する方法と上記構文が間違っているようであれば 教えていただけないでしょう 独学の為トンチンカンな構文かもしれませんが 教えていただけないでしょうか よろしくお願いします。
例えば、「今年のホワイトデーにはお菓子の詰合せを贈ろうと思う。」というテキストファイルがあり、このテキストの『ホワイトデー』と『お菓子』という文字列を抽出し、その文字列に対して外部リンクを設定してページに表示させる場合の処理について、教えていただきたいです。 まず目的の文字列の前後には<w1>～<w2>という文字を付けておき、 文字列中から<w1>～<w2>を検索してその値を返そうとしています。 $str="今年のホワイトデーにはお菓子の詰合せを贈ろうと思う。"; preg_match('/<w1>(.*?)<w2>/is', $str, $keyword); この処理でいけば、マッチした文字列が$keywordに代入されます。 しかし、テキストに２つ以上の<w1>～<w2>がある場合、 そのすべてを抽出することができません。 プログラミング（php）は始めてまだ半年ぐらいなので、まだまだ初歩のレベルです。 どなたかこの抽出処理の部分についてご教授いただけますでしょうか？ よろしくお願い致します。
例えば、"[20130302]書類"というフォルダに含まれるファイルを取得したいのですが "["や"]"などパターンマッチに使われる記号が含まれているとうまく取得できません。 同じくパターンマッチを行うpreg_match関数などだと\(エスケープ記号)を使えるのですが globだとうまく機能しません。対処法をご存じの方、どなたかお教え願えないでしょうか？ glob("ero_movie/[20130203]書類/*");　→　×取得できず glob("ero_movie/\[20130203\]書類/*");　→　×取得できず glob("ero_movie/20130203書類/*");　→　○取得できる こんな感じです。 \以外のエスケープの方法があるのでしょうか？ なかなか解決できずに困ってます。お助けください＞＜
管理画面のエディターから　単純に記述したものが、トップページに反映される ものがほしいのですが、良いサンプルはないでしょうか？ 新着情報みたいに見出しをクリックすると詳細にうつるものではなく、 ３００文字記述したら、それがそのまま反映されるものです。 日付もいりません。
PHPのド初心者です。色々勉強初めて見ました。 諸先生方に教えてほしいのですが、 外部ファイルを読み込んで配列にするってのをやってるのですが、 外部ファイル 123.txtが ****************** 大きなリンゴ 小さな数字 呼び戻し ++++++++++++++++++ だったとします。 （以下に改行位置を↓で再度書きます。つまり５行あります。） ************************* 大きなリンゴ↓ 小さな数字↓ 呼び戻し↓ ↓ [EOF] ************************* これをtest.phpで以下のように記述しました。 **************** <?php //ファイルを読み込む $file = file_get_contents('123.txt'); //ファイルを改行で配列に入れる $word = explode("\r",$file); echo "word<br />"; var_dump($word); ?> ******************** としますと、 結果が ************************ word array(5) { [0]=> string(21) "﻿大きなリンゴ" [1]=> string(16) " 小さな数字" [2]=> string(13) " 呼び戻し" [3]=> string(1) " " [4]=> string(1) " " } ************************ こうなります。 いけてるようなのですが、思った通りでなく [0]　の　"大きなリンゴ"はいいのですが、 [0] 以降のやつには、 [1]" 小さな数字" [2]" 呼び戻し"" [3]" " [4]" " わかりにくいかもですが、 最初のダブルコーテンションのあとに、謎の一文字が入ります。 *で表現しますと [0]"大きなリンゴ"(←これには入ってないです。) [1]"*小さな数字" [2]"*呼び戻し"" [3]"*" [4]"*" こんな感じになってるのです。 この*の文字が、やりたい事を邪魔をしてて先に進みません。 この*を消すには（というか、入らないように配列に入れるには）どうしたらいいのでしょうか？ 根本的にわかってないかもなんですが、よろしくお願いいたします。 m(_ _)m
Amazonや楽天、ネットショップ等 「CSV登録」の仕事がしたいのですが、 CSV登録の勉強の仕方を探しています。 CSV登録の仕事の具体的な内容ってどんなのですか？？ 未経験ではなかなか仕事をさせてもらえないので 勉強の仕方を知りたいです、 HEMLとEXCELまでの知識はあります。 一連の流れやアドバイス等、参考URLなど ありましたらよろしくお願いいたしますm(_ _)m
すみません、５年ほどLAMPをいじってないのですが、 そのときは、Smartyを使っていました。（ですが、なかなか更新されないみたいですね） で、今は、論理とデザインを分けるものとして、どんなものが使われているのでしょうか？（ただし、商用利用でも無料なものに限ります） 比較検討したいので、お手すきでしたら、できるだけ多くあげていただけると幸いです。 また、それぞれの難易度もお教えいただけると幸いです。 いじょう、よろしくおねがいもうします。
/foo/hogehoge/bar.html ↓ ./bar.html と foo/hogehoge/bar.html ↓ ./bar.html このように置換したいのですが、うまくいきません。 /から最初の/まではうまくいくので、それを2回することでできるのですが、1回でできる方法が気になりました。 お手数ですがよろしくお願いします。 foo/hogehoge/bar.html　の後に foo/hogehoge/bar.html があっても、最初のfoo/hogehoge/bar.html　のみ置換したいです。
PHPを勉強中です。 勉強の為に思いついたものをPHPで書いてみようと思い、ネタが古いですが100までの数字を表示し、見やすいように3桁揃えで10ずつで改行して、３の倍数と3のつく数字を太字で表示するプログラムを書いてみました。なんとなくできたようなかんじなのですが、30だけ太字になりません。原因がわかる方がいらっしゃれば教えていただけたら嬉しいです。よろしくお願いします。 <?php for($i = 1; $i <= 100; $i++){ if($i % 10 == 0) { echo sprintf('%03d', $i)." "."<br>"; } elseif($i % 3 == 0) { echo('<strong>'.sprintf('%03d', $i)." ".'</strong>'); }elseif(strpos($i,"3") !== false) { echo('<strong>'.sprintf('%03d', $i)." ".'</strong>'); }else{ echo sprintf('%03d', $i)." "; } } ?>
phpを始めてまだ数ヶ月の初心者です。 （少々表現が変なところはお許し下さい。） ■やりたい事 phpである登録画面を作成しています。サーバーには スタッフのデーターが入っているテーブルがあります。 (1)DBに登録してあるスタッフの名前を全部引っ張り出す（mysql）。 (2)登録画面の入力項目の１つとして（登録スタッフ）があり、 　そこを<select>で上記(1)から取り出したものを自動で表示したい。 ところが、mysql_fetch_assoc()について調べたら、非推奨などと載っていて （内容がよく理解できませんでしたが）どのように記述したら、将来困らない 　コーディングとなりますか？ <select name="register"> <?php $sql = "select count_ID, name from reserve"; $result = mysql_query($sql); while ($row = mysql_fetch_assoc($result)) { echo "<option value=\"".$row["count_ID"]."\">" .$row["name"]."</option>"; } ?> </select> 今からphpの知識を少しづつつけていくにあたり、非常に混乱して います。mysqlをそもそも学んでいてもしょうがないということでは ないですよね。本当に初心者なので、お手数ですがわかりやすい表現 でお願いします。 よろしくお願いします。
smarty3 でエラーが発生しています。 現在自宅のサーバーでsmarty3を勉強しているのですが以下のエラーで困っています。 詳しい方ご教授お願いします。 環境　： CentOS 6.3 PHP 5.3.3 Smarty 3.1.13 読み込んでいるファイル test.php 1 <?php 2 ini_set('display_errors', 1); 3 ini_set('date.timezone','Asia/Tokyo'); 4 define('SMARTY_DIR', 'Smarty/libs/'); 5 require_once( SMARTY_DIR. 'Smarty.class.php'); 6 7 $smarty = new Smarty(); 8 9 $smarty->template_dir = '../templates/'; 10 $smarty->compile_dir = '../templates_c/'; 11 $smarty->config_dir = '../config/'; 12 $smarty->cache_dir = '../cache/'; 13 14 $msg = "テストを表示します"; 15 $smarty->assign('msg', $msg); 16 17 $smarty->display('test.tpl'); 18 19 20 ?> テンプレートファイル 1 <html> 2 {$msg} 3 </html> 表示されるエラー文 Fatal error: Uncaught exception 'SmartyCompilerException' with message 'Syntax Error in template "../templates/test.tpl" on line 2 "{$msg}" unknown tag "private_print_expression"' in /usr/local/lib/php/includes/Smarty/libs/sysplugins/smarty_internal_templatecompilerbase.php:665 Stack trace: #0 /usr/local/lib/php/includes/Smarty/libs/sysplugins/smarty_internal_templatecompilerbase.php(451): Smarty_Internal_TemplateCompilerBase->trigger_template_error('unknown tag "pr...', 2) #1 /usr/local/lib/php/includes/Smarty/libs/sysplugins/smarty_internal_templateparser.php(2353): Smarty_Internal_TemplateCompilerBase->compileTag('private_print_e...', Array, Array) #2 /usr/local/lib/php/includes/Smarty/libs/sysplugins/smarty_internal_templateparser.php(3101): Smarty_Internal_Templateparser->yy_r27() #3 /usr/local/lib/php/includes/Smarty/libs/sysplugins/smarty_internal_templateparser.php(3201): Smarty_Internal_Templateparser->yy_reduce(27) #4 /usr/local/lib/php/includes/Smarty/libs/sysplugins/smarty_intern in /usr/local/lib/php/includes/Smarty/libs/sysplugins/smarty_internal_templatecompilerbase.php on line 665 テンプレートファイルの{$msg}を削除して動作させるとコンパイルされてはいるようです。 よろしくお願いします。
phpでinputのnameに配列「[]」を使ってポストすると 配列としてポストされてとても便利ですが w3cの使ってよい文字に「[]」は含まれていません ID and NAME tokens must begin with a letter ([A-Za-z]) and may be followed by any number of letters, digits ([0-9]), hyphens ("-"), underscores ("_"), colons (":"), and periods (".") http://www.w3.org/TR/REC-html40/types.html#type- … すごい便利なんですが、w3c非推奨な「[]」って使って良いものなのでしょうか 僕的にはW3C非推奨でもブラウザ上位5位くらいまで問題なく使えるならそれでいいと思うのですが みなさんはどう思いますか？そしてどうしていますか？ （例） <input type="checkbox" name="foods[]" value="めん">めん <input type="checkbox" name="foods[]" value="もち">もち <input type="checkbox" name="foods[]" value="野菜">野菜
以下のような、クラスにまとめた処理を一度実行してるファイルがあります。 <?php class Hoge { 　public function __construct() { 　　// 設定値 　　$this->a = 1; 　　$this->b = 2; 　　$this->c = 3; 　} 　public function main() { 　　// 設定値を使った処理 　　print $this->a + $this->b + $this->c; 　 } } // インスタンス生成・実行 $hoge = new Hoge(); $hoge->main(); ?> 設定値を変更して２回処理を行いたい場合、 一番スマートな形はどれになるか教えてください。 もしくは、それ以外の方法など。 １．設定値を引数で制御し、インスタンスを２回生成する （※設定値自体を引数に渡すことは考えてないです） <?php class Hoge { 　public function __construct($flg) { 　 // 設定値 　 if ( $flg ) { 　　 $this->a = 1; 　　 $this->b = 2; 　　 $this->c = 3; 　 } else { 　　 $this->a = 4; 　　 $this->b = 5; 　　 $this->c = 6; 　 } } 　public function main() { 　 // 設定値を使った処理 　 print $this->a + $this->b + $this->c; 　} } // インスタンス生成・実行 $hoge = new Hoge(true); $hoge->main(); // インスタンス生成・実行 $hoge = new Hoge(false); $hoge->main(); ?> ２．インスタンスの生成・実行は１度のままにし、クラスの処理を変更する <?php class Hoge { 　public function __construct() { 　　// 設定値 　　$this->a = 1; 　　$this->b = 2; 　　$this->c = 3; 　　$this->a2 = 4; 　　$this->b2 = 5; 　　$this->c2 = 6; 　} 　public function main() { 　　// 設定値を使った処理 　　print $this->a + $this->b + $this->c; 　　// 設定値の変更 　　$this->a = $this->a2; 　　$this->b = $this->b2; 　　$this->c = $this->c2; 　　// 設定値を使った処理２回目 　　print $this->a + $this->b + $this->c; 　 } } // インスタンス生成・実行 $hoge = new Hoge(); $hoge->main(); ?> ３．設定値を変更するメソッドを作り、呼び出す <?php class Hoge { 　public function __construct() { 　　// 設定値 　　$this->a = 1; 　　$this->b = 2; 　　$this->c = 3; 　} 　public function change() { 　　// 設定値変更 　　$this->a = 4; 　　$this->b = 5; 　　$this->c = 6; 　} 　public function main() { 　　// 設定値を使った処理 　　print $this->a + $this->b + $this->c; 　 } } // インスタンス生成・実行 $hoge = new Hoge(); $hoge->main(); $hoge->change(); $hoge->main(); ?> ４．子クラスを作り、２回インスタンス生成・実行を行う <?php class Hoge { 　public function __construct() { 　　// 設定値 　　$this->a = 1; 　　$this->b = 2; 　　$this->c = 3; 　} 　public function main() { 　　// 設定値を使った処理 　　print $this->a + $this->b + $this->c; 　 } } class Hoge2 extends Hoge{ 　public function __construct() { 　　parent::__construct(); 　　// 設定値 　　$this->a = 4; 　　$this->b = 5; 　　$this->c = 6; 　} } // インスタンス生成・実行 $hoge = new Hoge(); $hoge->main(); // インスタンス生成・実行 $hoge = new Hoge2(); $hoge->main(); ?> ５．設定値だけ異なるファイルを作りそれぞれ実行する ※省略 よろしくお願いします。m(__)m
1.SBI証券なのですが、curlなどを使って株を発注することは可能でしょうか。 2.発注するまでの過程でJavascriptの実行が必要な場合、phpで実行することは可能でしょうか。 3.株の自動発注ソフトは主にどの言語で作られているのでしょうか。 ご教示頂けますと幸いです。 宜しくお願い致します。
あるコントローラーで以下の文がファイルの先頭に記述されいるかと思います。 App::uses('AppController', 'Controller'); インクルードしているかと思われますが、この記述でなぜ呼び出せるのか 文法が理解できません。 これは具体的に何をしているのでしょうか？また、なぜこのような文法で呼び出せるのでしょうか？ ご存じの方、宜しくお願いします。
完全初心者です。データベースを構築しようとしたとき、mysqlというのがあるのを知ったのですが、自分には敷居が高そうです。 そこで、csvやxmlでお気軽（？）に作ろうと思うのですが、csvやxmlでは絶対に出来ない使い方にはどのようなのがあるのでしょうか？
PHPを勉強中の者です。 タイトルの通りですが、date()をCronで実行しても空白の時間ができてしまい困っています。 具体的には例えば、var_dump出力すると Tue Mar 05 01:00:00 +0000 2013…(1) Tue Mar 05 03:00:00 +0000 2013…(2) Tue Mar 05 07:00:00 +0000 2013…(3) Tue Mar 05 09:00:00 +0000 2013…(4) Tue Mar 05 13:00:00 +0000 2013…(5) Tue Mar 05 15:00:00 +0000 2013…(6) Tue Mar 05 21:00:00 +0000 2013…(7) Wed Mar 06 1:00:00 +0000 2013…(8) Wed Mar 06 3:00:00 +0000 2013…(9) Wed Mar 06 7:00:00 +0000 2013…(10) という(1)～(10)のString文字列があって、これを $yesterday = date('D M d', strtotime('-1 day')); という、昨日の日付のみを抽出する形で、当日の夜0:30に実行します。 これを毎日行うようにしています。 （例でいうと、2013年3月5日のみを抽出するのに、2013年3月6日の0:30に実行します） 自分のパソコンのxamppでテストした場合は問題なく拾えます。 この場合だと「3月5日分のみ」の(1)～(7)です。 しかし、このPHPファイルをさくらサーバーに置いてcronに設定して同じことをすると (4)～(7)のみしか拾えません。 (1)～(3)を拾ってくれないのです。 つまり、 9:00（朝）～0:30（夜）→この時間のある記述は拾う 0:30（夜）～9:00（朝）→この時間のある記述は拾ってくれない なぜか9:00（朝）～0:30（夜）の時間だけ $yesterday = date('D M d', strtotime('-1 day')); で読み込まないようで、何がこの空白の時間を生むのか分からなくて困っています。 まだPHPも慣れないため、ところどころ語弊があるような奇妙な文章だったら恐縮ですが、御存知の方がいらっしゃいましたらご教示頂けたら幸いに存じ上げます。
Webサイトに問い合わせフォームを設けているのですが、電話番号のチェックで改善したいことがあります。 現状の問い合わせフォームでは、桁数が異なる場合と数字以外が入力されたら「エラー」を返しているのですが、次のように、ハイフン無しの数字だけで入力した場合、「エラー」になってしまいます。 090******** 03******** 現状、ハイフン有りで入力した場合でしか「正確」にならないので、ハイフン無しで入力した場合も「正確」にしたいです。 ちなみに、電話番号のコードは次の通りです。 $tel = htmlspecialchars($_POST['tel'], ENT_QUOTES, "UTF-8"); $telError = false; if (!preg_match( '/^[0-9]{2,4}-[0-9]{2,4}-[0-9]{3,4}$/', $tel)) { $telError = true; $tel='※正しい電話番号を指定してください。'; } どのようなコードにしたら、ハイフンなしでもエラーチェックができるでしょうか？
LIKE検索でつまづいでいます。 こまめにチェックしながら進めており、エラーが表示されるわけではないのですが、うまくキーが引き渡せていないのが原因だとは思うのですが、どう対策すればいいかというところでつまづいています。 文字コードの指定、直接パラメーターを使わない、プレースホルダの使い方、キーの渡し方等アドバイスをいただけないでしょうか。 ※全件表示だと動作します。また、$keyの中身はきちんと渡っているのは確認できましたが、select文の部分に反映されていないような状態。。。 【検索フォーム】 <form name="" method="POST" action="result.php"> <button type="submit" name="area" value="新宿">新宿</button> </form> 【検索結果】 define('DB_HOST', 'localhost'); define('DB_USER', 'ユーザー名'); define('DB_PASSWORD', 'DBパスワード'); define('DB_NAME', 'DB名'); try { $dbh = new PDO('mysql:host='.DB_HOST.';dbname='.DB_NAME,DB_USER,DB_PASSWORD, array( PDO::MYSQL_ATTR_INIT_COMMAND => "SET CHARACTER SET 'utf8'") ); } catch (PDOException $e) { echo $e->getMessage(); exit; } $key = "%".$_POST['area']."%"; $stmt = $dbh->prepare('SELECT * FROM salon WHERE area LIKE :area'); $stmt->bindParam(':area', $key, PDO::PARAM_STR); $stmt->execute(); ?> <body> <?php foreach ($stmt as $row) : ?> <?php echo htmlspecialchars($row['name'],ENT_QUOTES,'UTF-8'); ?> <?php echo htmlspecialchars($row['area'],ENT_QUOTES,'UTF-8'); ?> <?php endoforeach; ?> </body> アドバイスをいただければ幸いです。
お世話になります。 PHP・Apacheを使用して大きな容量のファイルをアップロードしようとしています。 php.iniで下記のように値を変更しました。 max_execution_time = 1800 max_input_time = 1800 memory_limit = 2048M post_max_size = 2048M upload_max_filesize = 2048M default_socket_timeout = 1800 この状態でApacheを再起動して1.2GBほどのファイルをアップロードしてみたのですが エラーも起こらず、正常にアップロードされたかと思ったら160バイト程の容量でサーバーにあがっていました。 600MBくらいのファイルでためしたところ正常にアップロードされたのですが 1GB以上のファイルをアップロードするためにはまだなにか設定が足りない、または間違っているのでしょうか？ サーバーはCentOS5.5の64bit、メモリは16GBあります。 回答よろしくお願いします。
savehtmlfile()をするときにurl形式の属性値に対して urlencode()をしているみたいなんですけど、 わかる方がいれば、これを回避する方法を教えてください。 多分PHPの欠陥動作だと思うんですが…
PHP＋mysqlで以下のようなSQL文で処理を行ったのですがデータが返ってきません。 $sql = 'SELECT * FROM books WHERE id=3'; $recordSet = mysql_query($sql); if(mysql_fetch_assoc($recordSet)){ while ($table = mysql_fetch_assoc($recordSet)) { 　　　　　　　処理 　　　　｝ ｝ mysqlの画面で SELECT * FROM books WHERE id=3 を入力してみるとしっかりと結果が返ってきます。 ちなみに１行目を、違うテーブルの $sql = 'SELECT * FROM podcast WHERE code=3 ORDER BY dcdate DESC LIMIT 0,3'; にしてみると、データが表示されます。 ２日間かけてずっと試行錯誤してみたのですが、完全に行き詰ってしまったので、何か考えられる原因はありませんでしょうか。 よろしくお願いします。
さくらインターネットのレンタルサーバーでPHPで組んだサイトを作っています。 WEBページを解析するスクレイピングに「tidy」が便利であるとのことでしたので、 http://dozo.matrix.jp/pecl/tidy などを参照しながらインストールを進めましたがうまくいきません。 「phpize」のところで　「Cannot find libtidy」と出てきたため、 libtidyをインストールするためにyumコマンドを使おうと思いましたが、「yum: command not found」となってしまいました。 yumコマンドを利用できる方法はありませんでしょうか？ もしくは「tidy」をインストールする他の方法はありませんでしょうか？ よろしくお願いします。
携帯からの画像アップはサーバにメール送信でアップだが スマホからの画像アップはPCと同じでフォームから画像を指定してアップするのでしょうか
プログラミング初学者です。 過去に検索システムを作る時にmysqlを使っていましたが、今回PDOを使った簡単な検索の仕組みを作ってみています。 実際に動作確認してみると検索結果で何もでず、var_dumpで確認してみるとNULLとなってしまいます。 いろいろ調べているのですが、PDOを使った場合の検索条件の部分の書き方がイマイチよくわかりません。 そしてだんだん深みにはまって迷走してしまっています。。。 アドバイスをいただけないでしょうか。 【検索フォーム(search.php)】 <form name="" method="POST" action="result.php"> <button type="submit" name="area" value="新宿">新宿</button> </form> 【検索結果(result.php)】 define('DB_HOST', 'localhost'); define('DB_USER', 'ユーザー名'); define('DB_PASSWORD', 'DBパスワード'); define('DB_NAME', 'DB名'); try { $dbh = new PDO('mysql:host='.DB_HOST.';dbname='.DB_NAME,DB_USER,DB_PASSWORD); } catch (PDOException $e) { echo $e->getMessage(); exit; } $sql= "select * from shop where area='" . $_POST["area"] . "' "; $shop = array(); foreach ($dbh->query($sql) as $row) { array_push($shop, $row); } ?> <body> <?php foreach ($salon as $row) : ?> <?php echo htmlspecialchars($row['area'],ENT_QUOTES,'UTF-8'); ?> <?php echo htmlspecialchars($row['name'],ENT_QUOTES,'UTF-8'); ?> <?php echo htmlspecialchars($row['station'],ENT_QUOTES,'UTF-8'); ?> <?php endforeach; ?> </body> </html> ※ $sql= "select * from shop where area='" . $_POST["area"] . "' "; の部分に原因があるのかと私は考えています。 $sql= "select * from shop; とした場合は全件表示されるからです。 見難いコードで申し訳ありませんが、アドバイス頂ければ幸いです。
$source = "（・・・数千文字あるので省略します）" $data = '/<td class="c">\s*.*\s*<\/td>|<td>.*<\/td>/'; preg_match_all($data, $source, $data_matches); var_dump($data_matches); 上記、var_dumpの出力内容は（何故か二次元配列になってしまうんですが）、 array(1) { [0]=> array(80) { [0]=> string(72) "<td class="c"> hogehoge </td>" [1]=> string(21) "<td class="c">hogehoge</td>" [2]=> string(27) "<td>hogehoge</td>" [3]=> string(9) "<td>hogehoge</td>" [4]=> string(21) "<td class="c">hogehoge</td>" [5]=> string(9) "<td>hogehoge</td>" 上記の様に、欲しかったhogehogeの情報は取れているんですが、 <td class="c"></td>、<td></td>が邪魔です。。。 '/<td class="c">\s*.*\s*<\/td>|<td>.*<\/td>/'; 上記の正規表現は、hogehogeの場所を突き止めるのに必要だと思うんですが、 hogehogeのみ抽出したくて・・・。 $re = str_replace('<td class="c">', "", $data_matches); var_dump($re); 例えば上記の様にしても、<td class="c">が消えてくれません。。。 質問 1、何故、二次元配列になってしまうんでしょうか？問題ないのでしょうか？出来れば普通の配列にしたいんですが・・・。 2、どうすればhogehogeの場所を突き止め、そしてさらにhogehogeのみの情報を抽出出来るでしょうか？
（色々～） ・・・・・ ・・・ ・ <h2 class="mt1e"><img src="../common/img/h2_01.gif" alt="検索結果" width="95" height="25" class="va-m"> <span class="count">（全138件）</span> </h2> <div class="pagenavi"> <ul> <li class="now">1</li><li><A href="JavaScript:next_list_view('1')">2</A></li><li><A href="JavaScript:next_list_view('2')">3</A></li><li><A href="JavaScript:next_list_view('3')">4</A></li><li><A href="JavaScript:next_list_view('4')">5</A></li><li><A href="JavaScript:next_list_view('5')">6</A></li><li><A href="JavaScript:next_list_view('6')">7</A></li><li><A href="JavaScript:next_list_view('7')">8</A></li><li><A href="JavaScript:next_list_view('8')">9</A></li><li><A href="JavaScript:next_list_view('9')">10</A></li><li><A href="JavaScript:next_list_view('10')">11</A></li><li><A href="JavaScript:next_list_view('11')">12</A></li><li><A href="JavaScript:next_list_view('12')">13</A></li><li><A href="JavaScript:next_list_view('13')">14</A></li><li class="next"><A href="JavaScript:next_list_view('1')">次の10件</A></li> </ul> </div> ・・・・・ ・・・ ・ （色々～） 上記のhtmlソースコードの中から、 <span class="count">（全138件）</span> の部分の、 138なるものを抜き出したいのですが、自分なりにpreg_matchを初めとする関数や正規表現を書いて色々試しているのですが、上手くできません。 ・該当部分の138は50になったり、200になったりします。 ・全て数字は入ります。 ・２桁～３桁の数字です。 ↑こういった規則性は確認しているんですが、 【質問】 上記ソースコードから該当部分の数字を抜き出す？拾う？抽出する？事の出来る phpの書き方を教えて頂きたく・・・・。
環境：Windows2008 Server R2 64bit／php5.3.22 教えて下さい。 Windows2008 Server R2 64bit 環境にてPHPを動作させ、mb_send_mail()関数を使って メールを送信しようと考えています。 PHPも問題なく動き、mb_send_mail()関数用にphp.ini も以下のようにメンテナンスし、記述も 問題ないかと思われますが、メールの送信ができません。。。 64bitでは何か設定が違うのでしょうか？ 教えて頂きたいと思います。 《php.ini》 　 [mail function] 　For Win32 only.　　　　　　　　　　←　32bit only　とわざわざ記述がある為、64bit ではＮＧ？ 　http://php.net/smtp 　SMTP = XXXXXX 　http://php.net/smtp-port 　smtp_port = 25 　For Win32 only. 　http://php.net/sendmail-from 　sendmail_from = XXX@XXX.co.jp 《記述内容》 　<?php 　$mailto = "XXX@XXX.co.jp"; 　$subject = "掲示板"; 　$content = "新規投稿がありました。 ☆☆☆"; 　$mailfrom = "From:mail@colcoat.co.jp"; 　mb_language("ja"); 　mb_internal_encoding("UTF-8"); 　if(mb_send_mail($mailto,$subject,$content,$mailfrom)){ 　}else{ 　　echo "送信できませんでした"; 　} 　?> よろしくお願いします。
phpのプログラミングの練習のためXamppをインストールしたのですが、この後何をしたらいいのかわかりません。 インターネットなどでインストール後のやり方を調べているのですが、まったくわかりません。 とりあえず、WordPressもインストールして、Blogみたいなのは解説できました。 しかし、私がしたいのはPHPを使ったプログラミングの練習です。 チェックボックスを作ったり、画像に文字を表示させたりしたいのですが、そのためには何をしたらできるのかがわかりません。 メモ帳にプログラムを打っても表示されませんし・・・ どなたか教えていただけないでしょうか?? よろしくお願いします。 http://alivex.seesaa.net/article/218308738.html
業務処理を自動化するためにPHPで動的に生成されるCSVファイルを、WEBサーバーに保存したいと思っています。 wgetコマンドを使って保存しようと思っていますが、リンクにGETパラメータ？（http://hogehoge.com/hoge.php?hoge=1&hoge=2）が設定されているためかcsvが生成さずPHPページ（hoge.php）が保存されてしまいます。 実行したwgetコマンド /usr/local/bin/wget /home/useraccount/www/hoghog/hog.csv 'http://hogehoge.com/hoge.php?hoge=1&hoge=2' -O - また、phpファイルを生成し、 <?php $file = 'http://hogehoge.com/hoge.php?hoge=1&hoge=2'; $newfile = 'test.csv'; if (!copy($file, $newfile)) { echo "failed to copy $file...\n"; } ?> と上記のようにやっても同じ結果でした。 ブラウザ上のURLバーでhttp://hogehoge.com/hoge.php?hoge=1&hoge=2とするとCSVファイルの保存画面が出てくるページなのですが、何か良い方法はありませんでしょうか。 よろしくお願いします。
PHPのfile関数の動作について質問させて頂きます。 テキストファイルからfile()を使って配列に各行のデータを取り込んだのですが、その配列から特定の要素を探そうとしたところ、検出できませんでした。 テキスト.txtの内容－－－－－－－ AAA BBB CCC －－－－－－－－－－－－－－－ $array = file("テキスト.txt"); $word = "AAA"; $keys = array_keys($array,$word); var_dump($keys); 簡略化しましたが、こんな感じで実行するとAAAが格納されているはずの[0]番目のkeyは検出されません。 bar_dumpを使って$array[0]と$wordを確認してみたところ、以下のようなデータが帰ってきました。 $array[0]　→　string(5) "AAA" $word　→　string(3) "AAA" まったく同じ文字列なのに、配列の方の長さが2ほど大きくなっています。 そこでtrimを使用してみたところ、配列からこの謎の2バイト？のデータが削除できました。 検索も正しく動作するようになりました。 文末に改行が入ってるのかとも思ったのですが、\nを削除する処理では検索が出来なかったので、不思議に思っております。 テキストファイルから取り込んだ際に、文字列の前か後ろに何らかの文字が入っているのだと思うのですが、実際どのような文字が入っているのでしょうか？ －－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－ それともう一つお聞きしたいのですが、 テキストファイル内容がある程度長い（100行以上、または1万文字以上など）場合、file()で配列にデータを取り込むのは負荷が大きかったりするのでしょうか？ fgetsで1行ずつ取り出して比較する方法も考えたのですが、処理の繰り返しと取り込むデータの大きさのどちらに配慮するべきか悩んでいます。 もし100行や1万文字が多い・少ないという感覚になる場合、実際「配列にするには大きすぎる」という感覚はどれくらいの容量から考えるべきでしょうか？ 後半の質問につきましては明確な答えで無くても、「自分はこう感じる」というような感覚的なご意見でもお聞きしたいと思っています。 お手数をおかけしますが、どうぞよろしくお願い致します。
PHPについてほとんど知らない者です(他の言語もほとんど知りませんが・・・)。 Webで検索していると、Webアプリを開発するLL言語としてPHP, Ruby, Python, Perlを使っているというケースをよく目にします。一方、タスクを自動化するためのスクリプトを記述する言語としては、Ruby, Python, Perl, シェルスクリプトで記述しているケースをよく目にします(Linux/UNIX系)。 そして、PHPはWebアプリ開発言語としてかなりのシェアを占めていそうだが、スクリプト言語としてはそんなにシェアを占めていないのかな？ という印象を持ちました。 そこでお聞きしたいのですが、スクリプト言語としてのPHPは他の言語と比較してどのような感じなのでしょうか？ PHPはWebアプリ開発言語としてだけではなく、スクリプト言語しても開発現場でRuby, Perl同様に使われているといった感じなのでしょうか？ あるいは、WebアプリはPHPで書いてるけど、スクリプトはPHP以外(Ruby, Pythonなど)で書いているという方は結構いるのでしょうか？その場合、何故PHPを使わずに別の言語を使っているのでしょうか？ ご意見をお聞かせください。
$str = 'http://****.yahoo.co.jp/hogehoge/'; http://　から　 .co.jp/ までの文字列を削除したい場合、どのように表現したら良いですか？ 言語はPHPです。 よろしくお願いします。
現在フリーのブログサービスを利用していますが、 レンタルサーバでWordPressを使い、ブログを移転しようと思っています。 そこで質問なのですが、 WordPress：動的ページ生成 Movable Type：静的ページ生成 という情報を目にし、少し気になっている事があります。 例えばブログの記事数が100あるとします。 100個目の記事の本文中に、「以前お伝えした○○○×××△△△」 という内容があったとして、これに記事No.30へのリンクを 張る事はできるのでしょうか？ リンクを貼る事は出来ると思いますが、このリンクは、 いわゆるパーマリンクという事になるのでしょうか？ 動的ページ生成という事は、静的なhtml（ファイル自体を生成）とは違い その記事に対して固定（不動）のURLが出来る訳ではない？ という印象なのですが・・・。 例えば記事No.30の本文中に「マクドナルド　の　ブレンドコーヒー」 というワードが含まれているとして、 静的なページ生成の場合は、記事のURLが固定（不動）なので ロボット検索で、上記2つのキーワードが収集されると思うのですが、 →結果、記事No.30は検索エンジンにヒットするようになる。 動的なページ生成の場合はURLが固定でない？為に 同じ内容の記事No.30でも「マクドナルド　の　ブレンドコーヒー」というワード、 あるいは記事そのものが検索エンジンにヒットしないのでしょうか？ 動的ページ生成 ＝ 固定URLでは無い という認識がそもそも間違っていますでしょうか？
とあるサイトを作成しているのですが、 「トップページ内のインフォメーション」と、「過去のインフォメーションページ」の内容が重複し、現在両ページを同じように更新してやる必要がある状態です。 これをhoge.phpにインフォメーション内容を全部入力して、 上から10行のみを「トップページ内のインフォメーション」内に表示、 「過去のインフォメーションページ」にはhoge.phpの中を丸々表示するようにしたいのですが、 実現は可能でしょうか？ また、どのような処理をすれば実現するのでしょうか？ ご教授の程よろしくお願いいたします。 なお、インフォメーションは以下のような形式になっています。 <ul> <li>2013/02/16　◯◯公開</li> <li>2013/02/10　◯◯公開</li> <li>2013/02/04　◯◯公開</li> <li>2013/01/30　◯◯公開</li> <li>2013/01/24　◯◯公開</li> <li>2013/01/20　◯◯公開</li> <li>2013/01/16　◯◯公開</li> <li>2013/01/10　◯◯公開</li> <li>2013/01/05　◯◯公開</li> <li>2013/01/01　◯◯公開</li> <li>2012/12/24　◯◯公開</li> <li>2012/12/19　◯◯公開</li> </ul>
PHPを勉強しているものですが アクセスカウンターをネットで調べ自分なりに書いたのですが 日にちが変わるとトータル、今日、昨日が全く動かなくなります。 どこをどうすればいいのか教えていただけないでしょうか? お願いします。 $txt='counter.txt'; $fp=fopen($txt,'r+'); if($fp!==false){ if(flock($fp,LOCK_EX)){ $counter=fgets($fp);//トータル　今日　昨日　日付 $count=explode(' ',$counter); if(date('j') != $count[3]){ $count[3]=date('j'); $count[2]=$count[1]; $count[1]=0; } $count[0]++; $count[1]++; $counter=implode(' ',$count); rewind($fp); fputs($fp,$counter); flock($fp,LOCK_UN);} } fclose($fp); ちなみにバグはトータル→今日→昨日→日付の順です。 500 1 1 262625　のようになっていました。 よろしくです。
書いたＰＨＰスクリプトを、 ローカルではWindows版XAMPP上で動作確認し、 リモートでは実際にLinux系サーバーで動かしています。 ローカルで書いたコードを、（当たり前ですが、）手を加えずに、 そのままの形で、リモートでも使えたらいいなと、いつも思っているわけですが、 サーバーＯＳが、WinとLinuxと、異なるため、 パス周りのコーディングで、しばしば、つまずいてしまいます。 例えば、 echo dirname(__FILE__) ; では、 パス区切り文字として、 リモート：　/ （スラッシュ） ローカル：　￥ （バックスラッシュ） といった違いが生じたりします。 ローカルのWindows環境でも、パス区切り文字として「/」を使えるので、 手打ちの部分においては、どちらのＯＳでも使える「/」（スラッシュ）で対応していますが、 先ほどのdirname(__FILE__) の例のような場合には、本当に困ってしまいます。 （文字列置換関数や正規表現なんかで、いちいち変換すべきなのでしょうか？） 何か、上手い知恵などありましたら、どなたか教えてください。
サーバー（リモート）：　XREAのレンタルサーバー(Linux系) テストサーバー（ローカル）：　Windows版XAMPP （Version: 1.8.1） FTPソフト：　ＦＦＦＴＰ DB：　SQLite3 ----- 使用するディレクトリ、ファイルのパーミッションの設定のしかたがよく分からず、 困っています。 使用するファイル、ディレクトリは以下の通りです。 phpスクリプトファイル（３種類） （１）全ての人からウェブブラウザ経由でアクセスされて動く --- a1 （２）phpスクリプトから呼ばれた時にのみ使われる --- a2 （３）管理者のみがアクセス --- a3 ＤＢファイル(.sqlite3) --- b1 画像ファイル --- c1 ＜位置関係(Document Root を基準に書かせてもらいます。)＞ Document Root --- a1.php Document Root --- sub --- a2.php Document Root --- admin --- a3.php Document Root --- db --- b1.sqlite3 Document Root --- img --- c1.jpg 上記のような場合、 （ディレクトリ） sub admin db img （ファイル） a1.php a2.php a3.php b1.sqlite3 c1.jpg これら、４つのディレクトリと、５つのファイルは、 それぞれ、具体的には、どのようにパーミッションの設定をしたらよろしいでしょうか。 （考え方も含め、ご教示頂けますと助かります。） それと、 パーミッションの話で出てきます、 「自分」、「グループ」、「他人」　とは、一般的に、 レンタルサーバー（特に知りたいのはＸＲＥＡの場合。）においては、 それぞれ具体的には誰を指しますでしょうか？ （「グループ」に属すユーザというのは誰のことなのでしょうか？ 　もし存在しないという場合には、「グループ」のユーザの権限は、 　すべて「０」でも大丈夫でしょうか。） また、細かい話にはなりますが、 あるユーザに、ＤＢファイルへの書き込み権限を与え、その一方で、 そのＤＢファイルへの書き込みを実際に実行するPHPスクリプトファイルの 実行権限を与えない、なんていう場合には事実上、 そのユーザは、「そのＤＢファイルへの書き込みはできない」 ということになりますでしょうか。 また、phpファイルを「読む」　と、「実行する」では、 動作上、どのような違いがあるのでしょうか。 phpファイルを「読むだけ」というのが、 どのような動作なのか、よく分からなかったもので。。。 どうぞ、よろしくお願い致します。 （レスポンスは確実に致します。）
PHP 5.2以上のバージョンの話として質問をさせて頂きます。 （ローカルではWindows版XAMPPを使用。リモートはLinuxサーバー。） ----- ＜ファイルの位置関係＞ imgディレクトリ --- C.jpg (画像ファイル) mainディレクトリ --- A.php sub ディレクトリ --- funcディレクトリ --- B.php （img、main、subディレクトリは３つとも同階層） //------- (A.phpの記述) require_once '../sub/func/B.php'; //------- (B.phpの記述) echo '<img src="C.jpgのパス">';　// ←■画像Ｃを表示したい■ //★どう表示されるかテスト★ echo dirname(__FILE__) ; 　 //----- このような状況で、 A.phpにアクセスすると、★テスト★の所は、 ～/sub/func 　　//←のように表示される。 // つまりこれは、__FILE__　は、 // A.phpではなく、B.phpを指している。（？） と、このような時、B.phpの中で、 Ｃ画像の相対パスは、どう書いたらよろしいのでしょうか？ A.phpから見た、Ｃ画像の相対パスで書いたらいい？ それとも、B.phpから見たソレでしょうか？ phpinfo()でinclude_pathの項目を調べると、 .:/usr/local/lib/php/～ のように書かれています。（デフォルトのままです。）
たまに、求人とかにiPhoneアプリエンジニア募集と書いてあって、必須スキルにPHPとありますが、iPhoneアプリってObjectCで作るんですよね？ PHPでもiPhoneアプリを作る事が出来るのですか？ 尚、より正確な情報を得るためと、多くのご意見を頂きたいので、知恵袋とはてなにも載せております。
アクセスしてきたユーザーがスマホかPCかによってページの表示を切り替えるPHPが作りたいです。 切り替えの基準は、画面の横幅で、スマホ用のOSでもタブレットならPC表示にしたり、スマホを横に使っているならPC表示でもいいような使用にしたいのですが、可能でしょうか？ 自分の構想の中では <?php if (画面の横幅>480dpi{ パソコンページのHTMLを吐く } 画面の横幅<480dpi{ スマホページのHTMLを吐く } ?> といった形にしたらいいと思ったのですが、現実的に作る方法がわかりません。画面の横幅をとってくる方法（無理ならば画面サイズ）を教えてください。
以下のサイトで全角チェックをPHPの正規表現で判断しているサンプルがあります。 http://programmer-toy-box.sblo.jp/article/175228 … 上記のサイトでのチェックは以下のようになっています。 > if (!preg_match("/(?:\xEF\xBD[\xA1-\xBF]|\xEF\xBE[\x80-\x9F])|[\x20-\x7E]/", $str)) { Unicodeを利用した正規表現で半角文字の範囲を指定しており、 この範囲に一致しなければ、全て全角と判断しています。 さて、ここで質問なのですが、 正規表現の後半部分、 [\x20-\x7E] は　空文字～~（チルダ）を表現していると理解できます。 しかし、前半部分 \xEF\xBD[\xA1-\xBF]|\xEF\xBE[\x80-\x9F] の意味がわかりません。 WikipediaのUnicode 一覧のページを見ると、 \xEF\xBD[\xA1-\xBF]は　ï½　の次に、¡ から ¿ のいづれかの文字が続く文字列を表現していると 思うのですが、これは、半角文字を表現した物なのでしょうか？？ そもそも、理解の仕方が違うのでしょうか？？ ご存知の方いらっしゃいましたら、ご教授お願いします。 ※WikipediaのUnicode 一覧のページ http://ja.wikipedia.org/wiki/Unicode%E4%B8%80%E8 …
WindowsXP+PHP4+Apacheの環境からRocketMouseという操作自動化ソフトを外部プログラムとして起動したいです。 検索したところ、ローカル環境なら可能…というような事を書いている方がいたのですが、どのようにすれば実現できるのでしょうか？ 現在はPHPでテキストファイル出力→別途、RocketMouseを起動してテキストファイルを読み取っての自動化処理・・・という二段階の作業をしているのですが、クリック一発で終われば楽になるので、どうにか実現したいと思っています。 exec関数などでフルパス指定して試みたりしてみましたが、全然うまくいきません(IEのプログレスバーが途中で止まってしまいます)。PHP.iniを確認しましたがセーフモードにもなっていません。 タスクマネージャーでプロセスを確認すると、起動はしているようなのですが、実際に画面には何も表示されてくれません。 現状、RocketMouseどころか、電卓やメモ帳でも同じような状況です(タスクマネージャーにのみ表示されるが、GUI表示が一切ない状態)。 何が間違っているのか・・・そもそもが不可能なのか・・・詳しい方おられましたらどうかよろしくお願い致します。
初めて質問させていただきます。 今、PHPでWebシステムの開発を行っています。 ログインユーザごとに、ボタンの表示/非表示をするようにしているのですが、(下記参照) まず、Aさんがログインして、ボタンが表示されます。そのあと、同じPC、同じブラウザで Bさんがログインすると、ボタンが表示されたままになってしまいます。 互換表示をクリックするとボタンが消えるのですが、Bさんがログインした状態で表示されない ようにすることはできないのでしょうか？ 例：　Aさんがログインした場合、ボタン表示 　　　Bさんがログインした場合。ボタン非表示 =========================================================================== <? 　　if($_SESSION["login_kind_id"] == "A"){ ?> 　　<input type="button" name="output" value="出力"onClick="output()"> <? 　　} ?> ===========================================================================
PHPでAPIへリクエストを送りかえってくる値がCSVのものがあります。 素人なのでXMLでかえってくるパターンしか受け取り方が割りませんので どういったコードで値を受け取ればいいのでしょうか？
環境 Windows2008 server R2 64bit　 apache ： apache 2.2 php ： php-5.3.8-Win32-VC9-x86 mysql ： mysql-5.6.10-winx64 phpmyadmin ： phpMyAdmin-3.4.7-all-languages 教えて下さい。 今回、今まで使用していたサーバが老朽化した為、新しくサーバを購入しました。 しかし、Windows2008 server では 64bit版しか購入できなかった為、やむなく現行の環境を64bit 版に移行させていますが、どうしても環境の構築がうまくいきません。 mysqlは64bit版が存在したものの、その他は探し方が甘いのかもしれませんが、 現行のものをそのまま使用しようと考えています。 pache、mysql、phpの設定まで終わり、apacheは確認画面が起動、mysqlは コマンド入力でログインでき為、問題なく設定できたと思われます。 その後、phpmyadminを通常通り使用しようとhtdocsの直下にコピーし、 　http://localhost/phpmyadmin とURLを入力し、ログイン画面を開こうとしたところ、 　index of /phpmyadmin となってしまってトップ画面が開きません。 そもそも上記の環境ではNGなのか？　それともphp.ini や httpd.conf の設定が間違っているのか？ わからず、、、 何が原因かを教えて頂ければ幸いです。 よろしくお願いします。
こんにちは、 下記の文で変数varにcounter関数の値を入れたいのですが どのように記述すればよいでしょうか？ {assign var='var' value={counter}} {$var}
phpの関数で、省略する引数の右側の引数は全て省略しないといけませんが、連想配列を用いて、省略する順番が不確定で、必要な引数のみを設定して、省略したものはデフォルト値を使用するような関数を作るにはどのようにすればいいでしょうか。 ご教授のほどよろしくお願いいたします。
BLOBでの画像表示について質問させてください。 元々ヘテムルのサーバーを利用していたのをここ最近さくらのVPSに移行しました。 するとヘテムルではBlob型の画像表示が正常に表示されていたものがサクラのVPSにて画像表示がされなくなってしまいました。 mysqlのバージョンやphpinfoの設定などを限りなくヘテムルに近づけたのですが正常に表示されないため詰まってしまいました。 各ブラウザで、以下のような状況です。 IE：表示されない Chrome：表示されない Firefox：画像ファイル"http://～/image.php?id=544"は壊れているため、表示できませんでした。 以下質問用にソースを書き換えたものですが、ご教授頂ければと思います。 質問用ソースで動作させて同じ様に画像が出ないことは確認しています。 質問用ソースの構造は以下の通りです。 form.html ↓ファイルをPOST upload.php ↓データをINSERT MySQLのthumbnailテーブル ↓データをSELECT image.php ■form.html■ <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>sample</title> </head> <body> <form action="upload.php" method="post" enctype="multipart/form-data"> ファイル：<br /> <input type="file" name="upfile" size="30" /><br /> <br /> <input type="submit" value="アップロード" /> </form> </body> </html> ■upload.php■ <?php include_once(dirname(__FILE__) . "/admin/common/functions.php"); include_once(dirname(__FILE__) . "/admin/common/db_functions.php"); // MySQL に接続し、データベースを選択します。 dbConnect(); global $_G_DbConnection; $message = "ファイルが選択されていません。"; //サムネイル1 if (is_uploaded_file($_FILES["upfile"]["tmp_name"]) && !empty($_FILES["upfile"]["name"])){ $contents = file_get_contents($_FILES["upfile"]["tmp_name"]); $contents = base64_encode($contents); $contents = mysql_real_escape_string($contents,$_G_DbConnection); $post_thumbnail1 = $contents; $post_thumbnail1_name = $_FILES["upfile"]["name"]; } mysql_query("SET AUTOCOMMIT=0"); mysql_query("BEGIN"); // サムネイル1 $post_thumbnail1_id = null; if (!empty($post_thumbnail1_name)) { $sql = "INSERT INTO `thumbnail` ("; $sql .= "`filename`,`thumbnail`)"; $sql .= " values('$post_thumbnail1_name', '{$post_thumbnail1}')"; if (!(mysql_query($sql))) { mysql_query("ROLLBACK"); $message = "ファイルをアップロードできません。"; } else { $post_thumbnail1_id = mysql_insert_id(); mysql_query("COMMIT"); $message = $post_thumbnail1_name . "をアップロードしました。"; } } ?> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>sample</title> </head> <body> <p><?=$message; ?></p> <img src="image.php?id=<?=$post_thumbnail1_id; ?>"> </body> </html> ■image.php■ <?php include_once(dirname(__FILE__) . "/admin/common/functions.php"); include_once(dirname(__FILE__) . "/admin/common/db_functions.php"); // MySQL に接続し、データベースを選択します。 dbConnect(); global $_G_DbConnection; //ID $get_id = null; if (isset($_GET['id'])){ $get_id = $_GET['id']; // MySQL 問い合わせテスト $sql = "select * from `thumbnail`"; $con = " where id = " . $get_id; if (!($rs = mysql_query($sql . $con))) { echo "MySQL 問い合わせエラー"; echo $sql . $con; die; } while ($row = mysql_fetch_array($rs)) { // 出力 $ext = substr($row['filename'], strrpos($row['filename'], '.') + 1); if (is_null(get_content_type($ext))) { echo "ファイル取得エラー"; } else { header('Content-type: ' .get_content_type($ext)); echo base64_decode($row['thumbnail']); } } dbFreeResult($rs); } ?> ■thumbnailテーブル■phpMyadminよりエクスポート CREATE TABLE IF NOT EXISTS `thumbnail` ( `id` int(11) NOT NULL AUTO_INCREMENT, `filename` varchar(255) DEFAULT NULL, `thumbnail` longblob NOT NULL, PRIMARY KEY (`id`) ) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=545 ; □中身のデータ□ INSERT INTO `thumbnail` (`id`, `filename`, `thumbnail`) VALUES (544, 'SH3D0054.jpg', 0x2f～2f5a);　 ←[BLOB - 17.3 KiB] INSERT INTO `thumbnail` (`id`, `filename`, `thumbnail`) VALUES (543, 'ねむネコ.bmp', 0x51～413d);　← [BLOB - 234.9 KiB] 長くなってしまいましたが、ご教授お願い致します。
フォーム <input name="Eメール" type="text" id="mail"> $_POSTで受け取ると、上記"Eメール"が"Eメ＼ル"になります。 同じフォーム内のテキストエリアなどで入力した文字は化けません。 文字コードはフォームも受け取り側もSJISです。 お心当たりありましたらお助けください。
登録確認ボタンを押したら、フォーム　アクションは先に自身のページのエラーの確認を行い、エラーメッセージがなければ、 if (empty($error)) {　header('Location: index_insert.php'); 　exit();　} index_insert.phpに移動が出来ますが、$_POSTのデータが何も表示されないです。 フォームアクションはaction="index_insert.php"にしたら、エラーの確認処理はやってないので、入力したデータはindex_insert.phpで$_POSTが表示されました。 エラーの確認処理と$_POSTも表示したいですが、どうすれば良いですか？　
以下のようにPHP書きましたが Cドライブ直下に index.htmlができません。 エラーもでません。 何故でしょうか？ 迷宮いりです。。。 ---------- $host = "ftp.dp○○○.lolipop.jp"; $user = "lolipop.jp-dp○○○"; $pass = "○○○"; $port = "21"; $timeout = "90"; // ファイルのパス $local_path = "C:\\index.html"; $remote_path = "index.html"; // HOSTに接続 $con = ftp_connect( $host, $port, $timeout ); // ログイン ftp_login( $con, $user, $pass ); ftp_pasv($con, true); // ファイルダウンロード ftp_get( $con, $local_path, $remote_path, FTP_BINARY ); ftp_close( $con );
私はPHPの機能を使ってWebサイトにメールフォームは作成したことがあります。 しかし、何度も失敗を繰り返しながら作ったので、実はPHPの理解はほとんどありません。 一応、書籍であれば、「PHPプログラミングの教科書」、「10日でおぼえるPHP入門教室」はありますが、ちゃんと体系的に覚えられるような書籍が欲しくなってきました。 初心者でもPHPについて理解しやすい書籍があれば教えて頂けないでしょうか？
多次元連想配列をテーブルの様に使用しおり data[0] id => 1 day => 20130201 title=> あああああ data[1] id => 2 day => 20130202 title=> いいいいい data[2] id => 3 day => 20130203 title=> うううううう data[3] id => 6 day => 20130206 title=> えええええ data[4] id => 7 day => 20130207 title=> おおおおお id が　2　のデータを削除する （idが2の配列番号を知る） id の　最大値を得る （追加用のID番号にしたい） この場合どの様にすればよいのでしょうか 関数一発ではできない事は分かったのですが、どうした方法があるのでしょうか また、SQLなどを使わない方法で この様に配列をテーブルに使用する方法はあまりネットに載っていないように感じるのですが 良くないのでしょうか　用途は簡単なブログ作成です。 よろしくお願いします。
PHPにおいてのソケット通信についての質問です。マイページ機能をもたせたシステムの構築をしています。 マイページで認証を行い、そのユーザのユーザＩＤと乱数を一緒にデータベースに認証成功時に格納しています。 そして、マイページから別サーバへリンクしたときにＰＯＳＴしてこのユーザＩＤと乱数を送ります。 ユーザがマイページを経由して別サーバにアクセスしてきているかどうかということを確認するために、別サーバからこのマイページを運用するサーバに対してユーザＩＤと乱数をソケット通信によって送り、データベースに登録されているかどうかを別サーバ上のページを遷移するたびに確認したいのです。 データベースに登録されているユーザなら、マイぺージを経由してアクセスしてきているということでページを表示させて、登録されていないなら、マイページのログインページを表示させるようにしたいです。 Socket通信について調べてみたもののわかりにくいものが多くて、理解しかねますので、よろしくお願いします。 サンプルのコードをのせていただくと、なお嬉しいです。 開発環境は OS windows vista 言語 PHP5 サーバ Apache DBMS MYSQL です。 よろしくお願いします。
PHP Version 5.4.7の環境にて。 SQLite3::escapeStringを使って、 ＳＱＬインジェクション対策をしようと考えています。 HTMLの<form>からPOSTで値を受け取り、 その値をＳＱＬ文に入れ込み、 そのクエリ（※ちなみに、INSERTのみです。）をSQLite3のＤＢに対して行う、 なんてことをする際の、 ＳＱＬインジェクション対策として、お考え下さい。 ＰＯＳＴで受け取る値に入っていたら危険なものとして、 「シングルクオーテーション」が、まず、挙げられるかと思います。 「'」　←これです。 さて、「"」　←こちらはダブルクオーテーションですが、 こちらのダブルの方はエスケープする必要は無いのでしょうか？ （例）※wikipediaより SELECT * FROM users WHERE name = '（入力値）'; SELECT * FROM users WHERE name = 't' OR 't' = 't'; →　このSQL文では条件が常に真となるため、 nameカラムの値にかかわらず、全レコードが選択される。 →　ということで、入力値に、 エスケープされていない「シングルクオーテーション」をそのまま使うのはＮＧ。 ここまではＯＫです。 では、次に、ダブルクオーテーション版で、 SELECT * FROM users WHERE name = "（入力値）"; SELECT * FROM users WHERE name = "t" OR "t" = "t"; こちらはどうなのでしょうか？ （シングルをダブルに変えただけですが。） ---------- ちなみに、 SQLite3::escapeString　にて、 （１） $var = "Let's";　//←シングルクオーテーション $db = new SQLite3(':memory:'); $escaped_var = $db->escapeString($var); echo $escaped_var; //Let''s と表示される　（「 ' 」が１つ追加される。） （２） $var = 'Let"s';　//←ダブルクオーテーション $db = new SQLite3(':memory:'); $escaped_var = $db->escapeString($var); echo $escaped_var; //Let"s と表示される　（何も追加されず。） というように、 シングルクオーテーションはエスケープされるが、 ダブルクオーテーションの方ではエスケープされませんでした。 これは、つまり、 ダブルクオーテーションの方は危険視されていない、 ということだと思いますが、 でも、本当にダブルクオーテーションをエスケープせずに、 そのまま、ＳＱＬ文につっこんでも大丈夫なのでしょうか？
SQLite3クラスのメソッドescapeStringを使って、 ＳＱＬ文の中に挿入する文字列の 浄化（ＳＱＬインジェクション対策）をする場合の、 一般的な作法について教えて下さい。 例えば、 //----------------------- //エスケープしたい文字列 $var= "Let's"; //オープンするデータベース $db= ":memory:" $obj = new SQLite3($db); $tmp = $obj->escapeString($var); $db->close(); //----------------------- こんな感じで使おうとしていますが、 「オープンするデータベース」の所が、 ちょっと理解できていません。 とりあえず文字列の浄化だけを行いたい場合には、 必ずしも、ＤＢをオープンする必要はないと思いますので、 オープンするＤＢなんて、ないですよ！ ということで、 ：ｍｅｍｏｒｙ：　を指定していたりしますが、 この辺りの正しい作法について、どなたか教えて下さい。
PHP Version 5.4.7 において、 SQLインジェクション対策として、 sqlite_escape_string()を使おうとしたら、 undefinedとエラーを吐かれたため、 sqlite_escape_string()の代わりとして、 SQLite3クラスの、 SQLite3:: escapeString　を使おうと思っていますが、 問題ありますでしょうか。
PHPを使ってCSVファイルを部分的に読み込むコードを教えてもらいました。 しかし、CSVに入力している英語と数字は出力されるのに、日本語は空白のままでした。 教えてもらったコードは次の通りですですが、日本語も出力する場合、どうしたら良いのでしょうか？ <?php function h( $str ) { return htmlentities( $str, ENT_QUOTES, 'UTF-8' ); } ?> <? if (($handle = fopen("test.csv", "r")) !== FALSE) : ?> <table class="table1" width="100%" cellspacing="0" cellpadding="0" border="0"> <tr> <? $i = 0; ?> <? while (($data = fgetcsv($handle, 1000, ",")) !== FALSE) : $i ++ ?> <td><?=h($data[0])?><img src="http://1-<?=h($i)?>.gif"><br><?=h($data[1])?><br><?=h($data[2])?><br><span class="red"><?=h($data[3])?>円</span></td> <? endwhile; ?> </tr> </table> <? fclose($handle); ?> <? endif; ?>
phpでcsvを読み込んでいるのですが、次のようなcsvファイルを読み込むときの2行名以降のデータ番号($data[0]がわかりません。 和食,寿司,まぐろ,価格,500 洋食,パスタ,ミート,価格,800 和食の部分は、($data[0]、寿司が($data[1]ですよね。 洋食の部分は($data[5]で良いのでしょうか？
CSVファイルに入力した項目を、PHPで部分的に読込むことは可能でしょうか？ 私が作成しているWebサイトには、次のようにテーブル機能を使って、商品名と金額を記載しているページがあります。 <table class="table1" width="100%" cellspacing="0" cellpadding="0" border="0"> <tr> <td>メニュー1<img src="http://1-1.gif"><br>和食<br>てんぷら<br><span class="red">500円</span></td> 　<td>メニュー2<img src="http://1-2.gif"><br>洋食<br>ステーキ<br><span class="red">500円</span></td> 　<td>メニュー3<img src="http://1-3.gif"><br>中華<br>ラーメン<br><span class="red">500円</span></td> </tr> </table> このテーブルには、「メニュー1」、「和食」、「てんぷら」、「500円」が入力されておりますが、この部分を次のようなCSVファイルから読込むことは可能でしょうか？ メニュー1,和食,てんぷら,500円 メニュー2,洋食,ステーキ,500円 メニュー3,中華,ラーメン,500円
foreachで配列を、左から順番に、縦3列で表示したいのですが、どうすれば良いでしょうか？ ※CSSでulタグを縦表示指定してます ■表示したいタグ <ul> 　<li></li> 　<li></li> </ul> <ul> 　<li></li> 　<li></li> </ul> <ul> 　<li></li> 　<li></li> </ul> ■やりたいこと(10件だった場合) ・3で割ってちょうどいい感じにして、さらに一番左から縦に順番に表示させていきたい <ul> 　<li>1</li> 　<li>2</li> 　<li>3</li> 　<li>4</li> </ul> <ul> 　<li>5</li> 　<li>6</li> 　<li>7</li> </ul> <ul> 　<li>8</li> 　<li>9</li> 　<li>10</li> </ul> ■現状(一番左に表示されるだけ) <ul> 　<?php foreach ($arrdata as $data): ?> 　<li><?php echo $data['a']; ?></li> 　<?php endforeach; ?> </ul> <ul> 　<li></li> 　<li></li> </ul> <ul> 　<li></li> 　<li></li> </ul> ・どうしたら良いでしょうか？
Webサイトを作り始めて、50ページくらいになりました。 そこで、各ページにある商品名や商品金額を修正することがあるのですが、数が多いので大変です。 商品名と商品金額が記載してあるページ数は50ページのうち40ページくらいです。 そして、1ページあたり、商品名と商品金額は50品目くらいあります。 それなので、40ページ×50品目＝2000品目の商品名と商品金額となります。 これを一括修正する方法を、他のカテゴリーで質問したのですが、まだ私が未熟なので理解ができませんでした。 http://okwave.jp/qa/q7940063.html 問い合わせフォームであれば、phpを使って作成してあります。 そこでは、名前やメールアドレスや電話番号などが未入力であれば「必ず入力してください」というページを返したり、必須項目が入力されていれば「送信して良いですか」というページを返してあります。 しかし、phpを使って一括修正する方法に関しては、イメージできていません。 具体的にどのようなことを覚えれば良いのでしょうか？ CSVについても理解が足りません。 何か少しだけでも良いのでアドバイス頂ければ、とても嬉しいです。宜しくお願い致します。
ｐｈｐでandroidかの判別とandroidのキャリアの判別はどのようにすればいいのでしょうか
質問失礼します 現在、ＰＨＰで下記のようなカレンダーを作成しています テーブル例： ＋--＋--＋--＋--＋--＋--＋--＋ │日│月│火│水│木│金│土│ ＋--＋--＋--＋--＋--＋--＋--＋ │　 │　 │　 │　 │ 1│ 2│ 3│ ＋--＋--＋--＋--＋--＋--＋--＋ │ 4│ 5│ 6│ 7│ 8│ 9│10│ ＋--＋--＋--＋--＋--＋--＋--＋ │11│12│13│14│15│16│17│ ＋--＋--＋--＋--＋--＋--＋--＋ │18│19│20│21│22│23│24│ ＋--＋--＋--＋--＋--＋--＋--＋ │26│27│28│29│30│31│　 │ ＋--＋--＋--＋--＋--＋--＋--＋ ※日曜と土曜と今日は文字色変えてます ※すべてのページにリンクを貼っています 参考元：http://www.phppro.jp/qa/detail.php?id=3011 今回、それに下記の2点を加えてカレンダーを作りたいと思っています ・週の最後に集計用セル ・前月および来月の日付も加える テーブル例： ＋--＋--＋--＋--＋--＋--＋--＋--＋ │日│月│火│水│木│金│土│週│ ＋--＋--＋--＋--＋--＋--＋--＋--＋ │28│29│30│31│ 1│ 2│ 3│週│ ＋--＋--＋--＋--＋--＋--＋--＋--＋ │ 4│ 5│ 6│ 7│ 8│ 9│10│週│ ＋--＋--＋--＋--＋--＋--＋--＋--＋ │11│12│13│14│15│16│17│週│ ＋--＋--＋--＋--＋--＋--＋--＋--＋ │18│19│20│21│22│23│24│週│ ＋--＋--＋--＋--＋--＋--＋--＋--＋ │26│27│28│29│30│31│ 1│週│ ＋--＋--＋--＋--＋--＋--＋--＋--＋ いろいろ探してはみたものの、現在のカレンダーの形のものばかりで、 理想のものにたどり着けず質問させていただきました。 参照になるサイトなどご存じの方いらっしゃいましたら、ご教授お願いいたします。
タイトル通りPHPではなく、mod_rewriteについての質問になります。 適切なカテゴリが見当たらなかったので、PHPカテゴリであれば適切な回答を頂けると考えてこちらに書かせていただきます。 一応、.htaccess内にmod_rewriteの記述をして動作させる事はできていますが、理解が浅く応用が効かないレベルです。 ちょっと、今回その応用が必要になって、ハマッてしまいました。 仮に現在、以下のようなユーザディレクトリ形式のレンタルサーバで動作しているサイトがあるとします。 ttp://example.com/hoge/ RewriteEngine On RewriteBase /hoge/ RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule . /hoge/blog/index.php [L] この例では、.htaccessを【ttp://example.com/hoge/】に置いて、その下の階層に置かれたblogディレクトリのindex.phpにリダイレクトさせるという事ですが。 今回該当サイトのサーバを移動する事になって、ユーザディレクトリ形式ではなく、サブドメイン式の以下のようなレンタルサーバへ移動する事になりました。 ttp://hoge.example2.com/ もちろん、.htaccessの内容も書き換えて、以下のようにちゃんと変更して動作させる事ができています。 RewriteEngine On RewriteBase / RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule . /blog/index.php [L] .htaccessを基準として見れば、自分(.htaccess)よりも下のblogディレクトリにアクセスするのは変わりないので、相対記述さえできれば…と試してみたところ、動きませんでしたorz。 どの階層に置かれても100%動く!!.htaccessが置かれたディレクトリをリネームされても大丈夫!! という記述方法があればベストなんですが。 ※特殊な環境では無理だが、一般的環境では8割方動くだろうという事でも可 そんな記述方法がないにしても理解が浅いために、「たぶん無理だろう」という予感を持っているだけで「このような理由で技術的に無理です」と言えないところに問題が。 ※ワードプレスのような広く使われているシステムが、ディレクトリ移動の際には書き換えの必要があるため。方法があるなら、きっとその方法は既に導入されているはずという予感から。 よろしければ、ご教授ください。
fgetsで読み込んだファイルの内容をブラウザーに表示させたいのですが、何も表示されなくて どうしたらよいか、困っています。 解決方法を教えてください。 ソースは以下のようなものです。 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> <html lang="ja"> <head> <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS"> <title>　　<title> </head> <body> <?php $j=0; $fp = fopen('time.txt', 'r+'); while(!feof($fp)){ $fileline[$j] = fgets($fp); echo $huleline[$j]; $j++; } ?> </body> </html>
現在、何らかのhtmlを取得する際にはurf-8で統一しようと思っているのですが、 たとえば <?php $f=file_get_contents("http://blog.livedoor.jp/dqnplus/")//文字コードEUC-JP; $f = mb_convert_encoding($f,"utf-8","eucjp-win,utf-8,sjis-win,EUC-JP"); echo $f; ?> では、EUC-JPからの変換がうまくいきません。 ……というより、EUC-JPのエンコーディングのみ失敗してしまいます。 （文字化けしたもののみ抽出すると、すべてEUC-JPでした） どのようなコードを書けば、正常にエンコードできるでしょうか。 どなたかご教示のほど、どうかよろしくお願いいたします。
PHPでPEARのHTTP_Clientが使えるレンタルサーバーを探しています。 予算は月額500～1000円程度を考えています。 次の２点について教えてください。 (1)標準で（つまりインストールをしなくても）HTTP_Clientが利用できるレンタルサーバーのプランがあるでしょうか。 (2)共用サーバーにHTTP_Clientをインストールする方法があれば、教えてください。 よろしくお願いします。
MySQLからデータ取得して五十音表示させたいのですが、「SQL」「PHP」、どちらをメインでやれば良いか分かりません ■やりたいこと ・「あ行」「か行」ではなく、単純に「あ」「い」「う」毎に分けて、取得結果を1ページに表示させたいです ■思いついた方法 1.「あ」「い」「う」… と、それぞれ50回selectして、表示 2.1度SELECTした後、if文で、ひたすら条件分岐して表示 ・どちらが良いでしょうか？ ・他に何か良い方法はあるでしょうか？
何度見なおしても原因がわからないので、どなたかご指摘よろしくお願いいたします。 <?php $urs='母親からのプレゼント'; preg_replace('/母親/m','父親',$urs); echo $urs; ?> replace表現が間違っているとは思えませんし、どこがおかしいのでしょうか。
Notice: Undefined offset: 2 in C:\xampp\htdocs\news2.php on line 18 Warning: file_get_contents(): Filename cannot be empty in C:\xampp\htdocs\news2.php on line 19 プログラミング超初心者です。var_dumpしてみてもarray[2]は存在していたのですが・・・。 なぜこのようなエラーが出るのか、またどのように解決すればよいのでしょうか。わかる方、教えてください。よろしくお願いします。 <?php $newstop="http://headlines.yahoo.co.jp/hl"; $html=file_get_contents($newstop); $patern1='/http.*c=bus/'; preg_match($patern1,$html,$matches1); //var_dump($matches1); $newstop2=($matches1[0]); $html2=file_get_contents($newstop2); //echo($html2); //!ここまでで経済面のトップページはとってこれた //ここから、記事全文を拾う $fullpattern='/http.*all/'; preg_match_all($fullpattern,$html2,$matches3); $fullurl=($matches3[2]); ※ここが18行目 $fulltext=file_get_contents($fullurl);　　　　　　 ※ここが19行目 echo ($fulltext); //var_dump($matches3); ?>
mysqlに画像パスを格納しておき、phpでブラウザに表示するという部分について質問があります。 以前画像を扱った際は、DBにそのまま画像データを格納していたのですが、一般的ではないということで画像パス使う方針にしました。 画像パスはthumbnailというカラムにvarcharで画像パスを格納しました。 今回ご相談させていただいた件では、主に画像の表示の部分にアドバイスをいただければと考えています。 以前画像をそのまま保存し表示するときは、get_image.phpのようなファイルを噛ませ、それをブラウザに読み込ませることで表示していたのですが、画像パスでも同じようなやり方でいいのでしょうか？ ネットで調べてみたのですが、何となくしっくりこないというか、私の誤解もあるかもしれないのですがすっきりせず迷走中です。 どうか、アドバイスをご教示いただけないでしょうか。 ※以下は、試しにget_image.php噛ませてみた際のコードです。 <?php $id = $_GET['id']; //DB接続　～省略～ $sql = "SELECT image FROM テーブル名 WHERE id='$id'"; $result = mysql_query($sql); if (!$result) { echo ("SQLの実行に失敗しました<BR>"); echo(mysql_errno().": ".mysql_error()); exit; } $row = mysql_fetch_array($result); mysql_close($con); $img_path = '$row['image']' $img = file_get_contents($img_path); header('Content-type: image/jpg'); echo $img; ?>
画像共有サイトを運用する場合、サーバーの容量が物理的に足りなくなった時、サーバー複数台での運用になるかと思います。 そこでご質問させていただきます。 サーバーAの画像ファイルをアップロードするWebアプリケーション(PHP)から、サーバーBやサーバーCに画像ファイルを保存することなど可能なのでしょうか？ 大手の画像共有サイトなどは、どのように運用しているのでしょうか？ 素人質問ですみませんが、よろしくお願いいたします。
phpでテキストファイルを読み込んでその読み込んだ内容を変数に保存したいと思っているのですがうまくいかないのでおしえてください 例 1111 2222 3333 4444 というテキストファイルがあったとしたら 変数名 = 1行目; 変数名 = 2行目; としたいのですがどうすればできるのでしょうか？
ホームページにメールフォームを作りたいのですが、 送信できなくて困っています。 ソースは次の通りです。 <?php echo "<html>"; echo "<head>"; echo "<title>メールフォーム(送信処理)</title>"; echo "</head>"; echo "<body>"; mb_language("japanese"); mb_internal_encoding("UTF-8"); $to = "アドレスA"; $subject = "件名"; $from = "アドレスB"; $header = "From: ". $from; //本文格納 $mailbody = "■お名前：" . $_post["name"] ."\n"; $mailbody .= "■内容：" . $_post["sentaku"] ."\n"; if(mb_send_mail($to, $subject, $mailbody, $header)){ echo "送信しました。"; }else{ echo "送信できませんでした。"; } echo "</body>"; echo "</html>"; ?> またif文の日本語が文字化けしてしまいます。 メール送信できて、文字化けもないようにしたいです。 よろしくお願いします。
PHPでPEAR::DBでデータベースに接続する際に以下のように記載すると思います。 $db = DB::connect(sprintf("mysql://user:pass@localhost/db")); しかしパスワードに「@」が含まれる場合はどう記載すればいいのでしょうか？ たとえばパスワードが「p@ss」だった場合そのままではエラーになりますし エスケープ文字を直前に入れたり ダブルコーテーションでパスワードやユーザー＋パスワードをくくってもダメでした。 $db = DB::connect(sprintf("mysql://user:p@ss@localhost/db")); パスワードに@を入れるなよ、、、ってツッコミはさておき @を含むパスワードの指定の仕方がわかる方おられましたら教えてください。
「.htaccess設定値」をPHP変数から動的に読み込みたいのですが、どうすればよいでしょうか？ 例えば、$ip="123.456.78.90";の値を、「.htaccess」の指定した場所に出力して、「.htaccess設定値」として利用したいのですが……
$st = $pdo->query("SELECT * FROM list WHERE tno='" . $_POST["tno"] . "' ");で摘出した複数行のレコードを他のテーブルに保存したいのですが、うまくいきません。よろしくご教授お願い致します。
▽PHP: オブジェクトと参照 - Manual 　 http://jp.php.net/manual/ja/language.oop5.refere … $a = new A; $b = $a; // $a と $b は同じ ID を持つコピーです // ($a) = ($b) = <id> $c = new A; $d = &$c; // $c と $d は参照です // ($c,$d) = <id> とありますが、 ($a) = ($b) = <id> ($c,$d) = <id> の違いを目で見て確認できるような簡単なサンプルコードはないでしょうか？ echoとかで中身を出力して、確かに違っているな、と言うのを確認してみたいのですが……
例2 ▽クラス定義内でのinclude - id:anatooのブログ 　 http://d.hatena.ne.jp/anatoo/20080106/1199616528 ・クラスの中でincludeすると、コンストラクタ以外だとエラーになるのですが、なんででしょうか？ ・なぜ、syntax errorになるのでしょうか？ ・コンストラクタならいい、という決まりなのでしょうか？ ・それはどこに書いてあるのでしょうか？
PHPのソースを解読しているのですが、『-＞』この記号の意味がわかりません。 なんとなく、変数の一部を示すときに使ってる気はするのですが、ほかのソースと規則性がみえてきません。何のためにこの記号をつかうのでしょうか？
TRUNCATE TABLE テーブル名;の処理がうまくいきません。 この部分をコメントアウトすると、正常に動くので「TRUNCATE TABLE テーブル名;」に原因があることは間違いないのですが、 TRUNCATE TABLE テーブル名; TRUNCATE TABLE 'テーブル名'; TRUNCATE TABLE "テーブル名"; TRUNCATE TABLE `テーブル名`; TRUNCATE TABLE テーブル名 など、さまざまなパターンを試しても全てダメです。 原因のわかる方いらっしゃいませんか？
もとになるｃｓｖファイルから、いらない行を削除して新しいｃｓｖファイルを作りたいです。 そこで、このようにしてみました。 $fptemp = fopen('data-temp.csv', "a+"); if (($handle = fopen('data.csv', "r")) !== FALSE) { while (($data= fgetcsv($handle)) !== FALSE) { if(条件){ $list = array($data); fputcsv($fptemp, $list); } } } fclose($handle); fclose($fptemp); ところが、結果の行にはすべてArray とだけ出力されます。 もとの行をそのまま出すにはどうしたら良いでしょうか？
cd /etc/apache2 open . で開こうとしても、設定ファイルが開けません。 昨日まではちゃんと設定ファイルもあったのですが・・・。 ちなみに、自分でインストールして設定しました。 環境 Mac OS X 10.7 です。 ご回答よろしくお願いします。
「よくわかるPHPの教科書」という本を参考に、PHPを学んでおります。 （この本では、PCローカルにxamppが入っていることを前提に、PHPを解説しています） 本の中に次のような記述があります。 PEARをダウンロードして『PEARは解凍したディレクトリの中に入っている「PEAR-1.x.x」といってディレクトリを公開用のルートディレクトリにアップロードします。この時フォルダ名を「PEAR」などに名前を変えておくと良いでしょう。』 と書かれているのですが、C:\xampp\phpの中に「pear」というフォルダーが元々存在していますよね？ これは、どう解釈すればいいでしょうか？ ・xamppのバージョンによって、pearフォルダーが元々入っているのと入っていないのがあるため、入っていたい場合は、pearをダウンロードして導入する(？) ・元々入っているのと、ダウンロードするpearは、名前こそ同じだけど全く別物(？) ・最新のバージョンを使った方がいいので、新たにpearをダウンロードして使うべし(？) 素人ながらにいろいろ推測したのですがよく分かりません。ご教授頂けますようお願いします。 また、「公開用のルートディレクトリにアップロードします」とは、どのフォルダーの直下に入れればよいかもご指導賜りますようお願いします。 使用しているxamppのバージョンは 3.1.0です。
あいうえお【かきく】けこさ。【しすせそ】 といった感じの文字列を、【かきく】や【しすせそ】を削除して、 ”あいうえお　けこさ。” としたいのですが・・・ $str = preg_replace("【.*】","　",$str) とすると、 あいうえお ってなっちゃうし、 $str = preg_replace("/【.{1,5}?】/","　",$str) とかやってみても上手く行かず。 はて？「/」は何を意味するのだろう。とか思いながら試行錯誤してはみてるのですが・・・ どなたかご教授くださいませんでしょうか。 お願いします。
＞HTMLを許可しつつXSS対策を行えるPHPライブラリ「HTML Purifier」。 ＞HTMLをちゃんとパースして、XSSに関わる問題のあるタグなどは除去 ▽HTMLを許可しつつXSS対策を行えるPHPライブラリ「HTML Purifier」:phpspot開発日誌 　 http://phpspot.org/blog/archives/2007/03/htmlxss … と書かれているのですが、このライブラリは、現在でも利用して大丈夫なのでしょうか？ 2007年時点の記事なので、今では状況が変わっているかもしれない、と思い、質問しました
PHPについての質問です。 ブラウザに、 ttp://hogehoge.com/hoge1.php?hoge=moge というページを表示している状態で、そのページ内のリンクをクリックし、そのリンク先は、 ttp://hogehoge.com/hoge2.php というページだとして、この hoge2.php で直前のページ(hoge1.php)の「hoge=moge」という情報を取得したいです。 $_SERVER["QUERY_STRING"] で現在のページのクエリを取得できますよね。 また、 $_SERVER["HTTP_REFERER"] で遷移してくる前のページのアドレスを取得できますよね。 こういう感じで、遷移してくる前のページのクエリを取得する方法はありますか? cookieとかを使うしかないのでしょうか?
空白レコードの削除ができません。 ターミナルからは、delete from list where name is null;でうまくいくのですが phpからは削除できません　ご教授おねがいいたします。 $st = $pdo->query("delete from list where name is null ");
お世話になってます。 現在、PHPを使用してなんちゃってCMSの開発をしております。 上記の開発内容にHTMLで生成したDOM情報をフォームの<input type="hidden">を使用して、PHPに送信したいと思うのですが、PHP側で受け取りの確認を行うと、HTML情報が受け取れておりません。 var_dumpもしくはprint関数で出力し、ブラウザ上でのソースを確認すると半角スペースが連続で入っているだけでした。 上記の内容について、詳しくご教示を頂ければ幸いです。
例えばYahoo!ファイナンスなどで株価が表示されていますが、その数字を自分のサイトに変数として表示させたいと思います。 例えば <a href="http://stocks.finance.yahoo.co.jp/stocks/detail/ …ソフトバンク</a>　株価：＜株価の変数＞円 こんなイメージです。 ここの＜株価変数＞のところを教えて頂けませんでしょうか？
ロリポップのサーバでPHP5.3でCakePHP2系を運用しています。 CakePHPのvendors内にPEARを入れていますが、 ローカル環境では動くのに、ロリポップ上でPEARがエラーになります。 ロリポップ上のCakePHP2内で、PEARを動かす方法が分かる方いたら教えて下さい。 phpinfo関数でinclude_pathを見ると、 ちゃんとインストールしたフォルダを認識しています。 使いたいモジュールはHTTP_REQUESTなのですが、 Class 'HTTP_Request' not found というエラーが出てしまいます。 宜しくお願いします。
ＨＴＭＬ　ＣＳＳでできたページをＣＳＶなどで簡単に変更す方法はありますか？ 会社でＷＥＢサイトの更新担当をしています。 ルーチン業務でwebサイトを更新する作業がありますが、もっと簡略化したいと思っています サイトの仕様は以下です。 ■ＥＣサイト ■サイトはphpでできています。 ■更新するのはHTML部分で<table>でできています。 （*画像参照） 商品の入れ替えを行うのでイチイチ商品名などを書き換えるのが面倒です。 また、スマートフォン用のページもあり、スマートフォンは10個商品を並べると次のページに移動させなければなりません。 業務が増えてきたため、この更新作業を簡略化したいと思っています。 csvにはこだわっておらず、うちのサイトはショッピングサーチにも出店しており、ショッピングサーチはcsvを編集してサーバーにアップしたら自動的にwebページに商品が反映される使用なので、そのようなことができないかなと思ったためです。 初心者で素人ですがどうぞ教えてください。　　
お尋ねします。 既に、バリバリオブジェクト指向でプログラムを書いている方が多いので恐縮ですが、とあるサイトのオブジェクトのサンプルを使って、下記のようにサンプルソースを書いてみました。 --以下ソース--- <?php class Nerimono { private $name; public function __construct() { $this->name= 'ねりもの'; } public function setName($name) { $this->name = $name; } public function getName() { return $this->name; } } $objectNerimono = new Nerimono(); $objectKamaboko = new Nerimono(); $objectKamaboko->setName('かまぼこ'); $objectHanpen = new Nerimono(); $objectHanpen->setName('はんぺん'); echo 'Nerimono オブジェクトの $objectNerimono 実体（インスタンス）を生成した。'; echo "\n"; echo '$objectNerimono の private $name に「' . $objectNerimono->getName() . '」と、既に書いたあった'; echo "\n"; echo 'Nerimono オブジェクトの $objectKamaboko 実体（インスタンス）を生成した。'; echo "\n"; echo '$objectKamaboko の private $name に「' . $objectKamaboko->getName() . '」と書いた'; echo "\n"; echo 'Nerimono オブジェクトの $objectHanpen 実体（インスタンス）を生成した。'; echo "\n"; echo '$objectHanpen の private $name に「' . $objectHanpen->getName() . '」と書いた'; echo "\n"; --ここまで--- そして、これの実行結果が下記です。 C:\Temp>php Nerimono.php Nerimono オブジェクトの $objectNerimono 実体（インスタンス）を生成した。 $objectNerimono の private $name に「ねりもの」と、既に書いたあった Nerimono オブジェクトの $objectKamaboko 実体（インスタンス）を生成した。 $objectKamaboko の private $name に「かまぼこ」と書いた Nerimono オブジェクトの $objectHanpen 実体（インスタンス）を生成した。 $objectHanpen の private $name に「はんぺん」と書いた このコメントのような解釈で、合っておりますでしょうか？ 今までオブジェクト指向のメリットが全然理解できず、関数の変わった呼び出し方法としか、理解できていませんでした。 PHPは、本来のオブジェクト指向とは違うようだとは、知っているつもりです。（Pブジェクト思考？ｗ） 間違っているところあれば、ご指摘ください。ｍ（＿。＿）ｍ PHPは、Ver 5.3.5　です。
お世話になります。 phpで $Item = 1　のアイテムが 1つ以上の時 $item_total を表示　という判断はどのように行ったらよろしいでしょうか？ 恐れ入りますがよろしくお願い致します
ログインした任意の人が「ファイルアップロード」し、任意の人が「ダウンロード」するようなサイトを考えています。 セキュリティ的にはどこら辺に注意したら良いでしょうか？ 思いつくのは、拡張子チェックですが、偽装されたらそれまで、なのでしょうか？ ※アップロード・ダウンロード対象予定ファイルは、「php」「javascript」「html」「css」などです
php初心者です。 5つのチェックＢＯＸを作成し、その内の２つを選択できるようにしたいです。 例えば、 □リンゴ □みかん □バナナ □チェリー □葡萄 と、5つの選択肢があるとすると、 「みかん」と「葡萄」の２つを選んで「送信」をクリックすると「Ａ」と言うＨＰに飛んで、 それ以外の組み合わせを選んで「送信」をクリックすると「Ｂ」と言うＨＰに飛ぶ。 このようなプログラムを書きたいんですが、 どう書けばいいですか？ 質問の仕方が悪かったらすみません。。 リンクだけ、とか、複数選択肢だけなら書けますが、組み合わせるのがよく解りません。 どうか宜しくお願いします。
/jp/foo/bar /en/foo/bar という2つのディレクトリがあったとして /jp/foo/barの場合は fooContollerの jp_barメソッド /en/foo/barの場合は fooContollerの en_barメソッド といったようにしたいのですが どのように設定すればよろしいでしょうか
はじめまして、PHPを最近使い始めました初心者です。 [環境] PHP: 5.4.7 DB: SQLite 3.7.15.2 a　 OS: Windows 7 DB上のテーブルへ複数行を挿入するソースを書いてますが 下記の文法エラーとなり行き詰っています。 [配列データとソース] Array ( [0] => Array ( [0] => 1359904500 [1] => 1359905400 [2] => 150 ) [1] => Array ( [0] => 1359990900 [1] => 1359991800 [2] => 150 ) [2] => Array ( [0] => 1360077300 [1] => 1360078200 [2] => 150 ) [3] => Array ( [0] => 1360163700 [1] => 1360164600 [2] => 150 ) 以下100件ほど続きます $sql1 = "INSERT INTO aaa (id,sstamp,estamp,data,flag) VALUES " ; $flag = 1; $count = count($time_array) ; for ( $i=1; $i< $count; $i++ ) { $sql1.= "(null,'".$time_array[$i][0]."',"."'".$time_array[$i][1]."',"."'".$time_array[$i][2]."',"."'".$flag."')," ; } $sql1 = substr($sql1, 0, -1) ; var_dump($sql1) ; $result = $db->query($sql1) ; [エラー] Warning: SQLite3::query(): Unable to prepare statement: 1, near ",": syntax error var_dumpでsql作成用変数($sql1)を見てみると問題ないように見えました。 解せないのは、変数内容をsqliteのコマンドラインへコピぺすると 正常に挿入できてしまいました。また配列を一つにしてみるとエラーなくDB挿入できました。 これよりSQL複数行挿入のvalue以下の記述が怪しいと思い、確認しましたが (aa, bb, cc), (dd, ee, ff)になっているようと思えます。 どこに問題があるかご教示をお願いいたします。
私はPHPを主に、ウェブスクレイピング、cronと連携してウェブサイトの更新、MySQLの更新などで使用します。 しかし未だにCLASSの概念がよく理解できません。 私が書くコードは、functionはよく定義しますが、CLASSを使うことがありません。 どういう場面でCLASSを使うのかがいまいち理解できないからです。 継承やらコンストラクタやら、概念としてあるのは理解できるのですが、ではそれが実際にどう役立つのかがわかりません。 CLASSを使えばできること、CLASSを使えば効率が上がることなどをPHPのプログラミングの実例で教えてください。 よろしくお願いします。
■質問1 ・ブラウザ更新と同等機能をPHPで行いたいのですが、どうすれば良いでしょうか？ ・クライアントなので、JavaScriptでしか行えないのでしょうか？ ・この場所を通過したら、ブラウザ更新みたいなことをやりたい場合は、こういう感じで良いのでしょうか？ echo "<script type=\"text/javascript\">location.reload(true)</script>"; ■質問2 ・画像ファイルをrenameしているのですが、「ブラウザ更新」クリックしないと、画像が切り替わりません(リダイレクトしても) ・どういう原因が想定されるでしょうか？ ・clearstatcache();は書いてるのですが… ■質問3 ・「画像ファイルキャッシュ」、「ブラウザキャッシュ」「リダイレクト」「リロード」の違いを教えて ・「ブラウザ更新」すると、「画像ファイルキャッシュ」「ブラウザキャッシュ」が更新される、のでしょうか？ ・「ブラウザキャッシュ」を削除しても、「画像ファイルキャッシュ」は削除されないのでしょうか？
お世話になります。 PHPで入力フォームを作成し、送信ボタンを押下した後に 入力内容の確認画面を表示するようにしています。 その入力確認画面をそのままPDFで生成したいんです。 調べた所、TCPDFやmPDFなどPDF生成ライブラリがあるみたいですが file_get_contentsでHTMLを取得する場合は実際にそのページにアクセスして そのレスポンスを利用しているんですよね。 なので確認画面等の前画面で入力した情報を元に作成したHTMLには使えないんでしょうか。 確認画面をそのまま利用してPDF生成することはできないのでしょうか。 実現するにはフォームから入力された情報を元に別途PDF生成用のHTML等を組む・・・のようなことをしないと駄目なんでしょうか。 分かりづらい質問で申し訳ありませんがよろしくお願いします。
PHP初心者です。PHP簡単な管理システムを作っていますが、データベースにデータ登録がうまくできないので、教えてください。 データ登録が出来ますが、登録ページの中に　＜a href ="xxx.php">に追加して、リンクをクリックしたら、空データがそのまま登録されてしまった。 フォーム中のボタンを押さないとデータ登録ができない設定するのを作りたいですが、ソースコードのどこで修正したら、ページリンクしても自動的に空データ登録できないのか？ <form id="frmIpunt" name="frmIput" method="post" action=""> <table width="600" border="0" cellspacing="0" cellpadding="0"> <tr> <th colspan="2">新規店舗登録</th> </tr> <tr> <td>店舗名</td> <td> <span id="sprytextfield1"> <label for="shops_name"></label> <input name="shops_name" type="text" id="shops_name" size="10"> <span class="textfieldRequiredMsg">未入力</span></span> </td> </tr> <tr> <td>住所</td> <td><input name="shops_address" type="text" id="shops_address"></td> </tr> <tr> <td>電話番号</td> <td><input name="shops_tel" type="text" id="shops_tel"></td> </tr> </table> <input type="submit" class="order-button" value="登録する"> </form>
配列の中で「～」が含まれている値の「～」を取って 別々の値として格納するにはどうすれば良いでしょうか。 例 array(1,4,5～7,3～4,2)⇒array(1,4,5,7,3,4,2)
「元画像ファイル名(の拡張子部分)」を、「指定されたリネーム順」に従って、「リネーム後画像名」のように実際に変換したいのですが、どうすれば良いでしょうか？ ■元画像 Array ( 　[0] => a_1.jpg … 画像一 　[1] => a_2.jpg … 画像二 　[2] => a_3.jpg … 画像三 　[3] => a_4.png … 画像四 　[4] => a_5.gif … 画像五 ) ■リネーム順(5番目の画像を3番目へ移動。後順位は、それに伴い一つずつ下がる) Array ( 　[0] => 1 　[1] => 2 　[2] => 5 　[3] => 3 　[4] => 4 ) ■リネーム後画像名 Array ( 　[0] => a_1.jpg … 画像一 　[1] => a_2.jpg … 画像二 　[2] => a_3.gif … 画像五 　[3] => a_4.jpg … 画像三 　[4] => a_5.png … 画像四 )
大量の住所データから緯度経度を取得してデータベースに格納したいです。 そこで、以下のAPIを利用することにしました。 http://www.geocoding.jp/api/ 「XML出力までに３～５秒かかりますので、５秒間に１回以上のアクセスは避けてください」とあるため、これに従いたいのですが、どうすればよいでしょうか？ 以下のような感じのスクリプトを組むつもりですが、このままだと5秒間に複数回のアクセスが行ってしまうと思われるため。 <?php $pdo=new PDO("mysql:host=localhost;dbname=dbname","username","password"); foreach($pdo->query("select address from tablebamel")as $value){ $address[]=$value['address']; } for($i=0;isset($address[$i]);$i++){ $xml=simplexml_load_file("http://www.geocoding.jp/api/?v=1.1&q=$address[$i]"); $latitude=$xml->coordinate->lat; $longitude=$xml->coordinate->lng; $sth=$pdo->query("select*from branches where address='$address[$i]'"); $result=$sth->fetch(PDO::FETCH_ASSOC); $pdo->query("replace into tablename values($result[id],'$address[$i]',$latitude,$longitude)"); } ?>
ある配列array_aに、100件の文字列要素が格納されています。 別の配列array_bには、80件の文字列要素が格納されています。 array_aの要素、array_bの要素共に重複するものはありません。 array_b中に存在する要素はすべてarray_a中にも存在します。 array_aにあり、array_bにはない要素で構成されたarray_cの作り方を教えてください。 例えば $array_a=array("a","b","c","d","e","f","g"); $array_b=array("e","b","d"); なら、 $array_c=array("a","c","f","g") になります。 配列array_aとarray_bは、 $array_b=array("b","b","d"); であったり、 $array_a=array("a","a","b","c","d","e","f","g"); といった「重複する要素を含むパターン」はありません。要素はすべてユニークです。 よろしくお願いいたします。
お世話になります。 システム開発を外注先に依頼し、納品を終了しました。 ただ、実際に運用していると 【ここを変えたい】【ここをこうしたい】 という物が多数でてきてしまいました。 予算の関係上、新たに都度外注先に修正を依頼するわけにもいかず 自社で修正を行いたいと考えております。 ただ、ページボリュームがそれなりにある関係上修正をするにも 修正すべき箇所を探すだけでもかなり一苦労であること、また 一部を修正することにより他に影響が出てしまう懸念があります。 オブジェクト指向で開発されているシステムについて、オブジェクト指向を理解している 他のエンジニアでしたら設計書については不要なのでしょうか？ それともかなり詳細な設計書が無いと修正は難しいのでしょうか？ もし必要であれば設計書を外注先にお願いして作業を行おうと思っています。 大変長文になりましたが何卒よろしくお願い致します。
ブラウザでAndroidアプリケーション開発が行えるようなシステムをCent OSで開発しています。 PHPを使っています。 ■問題 ・サーバー上のコマンドライン端末でのant debugコマンドは実行可能(Build Successfull) ・ターミナル(Tera Term)上でのant debugコマンドは実行可能(こちらもBuild Successfull) ・ブラウザからのant debugコマンド(PHPのsystem関数使用)が実行不可。 　以下ターミナルでみたerror_logです。↓ BUILD FAILED /home/nameko/android-sdk-linux/tools/ant/build.xml:705: The following error occurred while executing this line: /home/nameko/android-sdk-linux/tools/ant/build.xml:718: Unable to find a javac compiler; com.sun.tools.javac.Main is not on the classpath. Perhaps JAVA_HOME does not point to the JDK. It is currently set to "/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/jre" ------------------------------------ 環境パスの設定ミスでしょうか。 調査しつつ調整しているのですが、いまいち環境パスの設定の仕方(どこのどのファイルをviコマンドを用いるか)、反映の仕方（sourceコマンドであっているのか）を詳しく知りたいです。 また、１つ気になる所がありまして、 printenvコマンドでパスの一覧を見ると、 ・PATH=～～～～ ・ANDROID_SDK=～～～～～ ・ANDROID_SDK2=～～～～～～ ↑の「～～～」の一部分に、”ダウンロード” という日本語が設定されています。OS間の互換性でのerrorである可能性もありうるので、こちらのパスも直したいのですが、変え方がわかりません。 どなたか教えていただけると幸いです、よろしくお願いします。
・「unlink」以外でファイル削除 ・「rename」以外でファイルリネーム したいのですが、何か方法はあるでしょうか？ ※セーフモード環境で、「ファイル削除」「ファイルリネーム」したいです
include_onceで読み込んだファイルが そのままテキストとして出力されてしまいます。 以下のような感じです。 インクルードするファイル fail.inc test_val = array("aaa" => "aaa111", "bbb" => "bbb222", "ccc" => "ccc333"); ソース本体 src.php <?php include_once('./fail.inc'); 以下処理 exit(); ?> これをそのまま実行すると以下のように出力されます。 test_val = array("aaa" => "aaa111", "bbb" => "bbb222", "ccc" => "ccc333"); includeせずにそのまま走らせると正常に動きます。 httpd.confのaddtypeにincという拡張子は追加していませんが 他の同様のソースでは問題なく読み込めます。 require_onceとかも試しましたが同じようにfail.incの中身がそのままテキストとして 出力されてしまいます。 どうしたら正しく読み込めますでしょうか。 ご回答よろしくお願いしますm（＿）m
phpでDBの情報を表で表示しそれを直編集する方法を探しています。 編集後DB更新ありです。 PHPからMySQLのデータを表で出しました。 UIのためエクセル感覚で操作させたく ブラウザに表示された表を直接編集しDB更新をしたいのですが 方法はありますでしょうか？ イメージはPHPMYADMINの管理画面でできる直接編集モードです。
sqlite3接続で商品番号と数量を入力して検索表示させ小計を実行するphpで一行表示はOKなのですが、続けて検索させ一行ごと増やしていきたいのですがうまくできません！ご教授お願い致します。 <?php $kazu = $_POST['kazu']; $pdo = new PDO('sqlite:db/syouhin.db'); $st = $pdo->query("SELECT * FROM oder WHERE id='" . $_POST["ban"] . "' "); while ($row = $st->fetch()) { $id = htmlspecialchars($row['id']); $name = htmlspecialchars($row['name']); $kin = htmlspecialchars($row['kin']); $kei = number_format("$kin"*"$kazu"); echo "<tr><td>$id</td><td>$name</td><td>$kazu</td><td>$kin</td><td>$kei</td><tr>"; } sqlite_close; ?>
PHPのfile_get_contents()関数についてです。 file_get_contentsに付けるパラメータはどのようなものがありますか？ 解りやすく教えて頂けると助かります よろしくお願いします！
以下のページを参考に住所を分割しています。 http://kuroutoshikou.blog16.jp/index.php/2008/12 … 上記のページの{1}の意味がよく分からないので教えてください。 ---以下、ソース抜粋--- $addr = $_GET['addr']; $addr_conv = mb_convert_kana($addr, 'a'); //正規表現で切り分け mb_ereg("(東京都|[一-龠]+[府道県]){1}(石狩市|伊達市|八戸市|盛岡市|奥州市|南相馬市|香取市|上越市|宇陀市|姫路市|[一-龠ぁ-ヶ]+[市区郡]){1}([一-龠ぁ-ヶー]+[0-9\-‐F番地号条線西東丁目の]+){1}\s*([\sa-zA-z0-9一-龠ぁ-ヶー、・\-\(\)\.\/\']*)", $addr_conv, $match); //郡の場合の町村分割 if (($_GET['town_split']) && mb_ereg("郡$", $match[2])) { mb_ereg("([一-龠ぁ-ヶー]+[町村]){1}([一-龠ぁ-ヶー]*[0-9\-‐F番地号条線西東丁目の]+)", $match[3], $town); $match[3] = $town[2]; } //政令指定都市の区分割 if (($_GET['city_split']) && mb_ereg("区$", $match[2], $city) && $match[1] != "東京都") { mb_ereg("([一-龠ぁ-ヶ]+市){1}([一-龠ぁ-ヶ]+区){1}", $match[2], $city); $match[2] = $city[1]; } ---以上、ソース抜粋--- 試してみたところ、{1}がなくても動作するようですが、{1}にはどういう意味があるのでしょうか？
http://senrioka-info.net/0_google_sitemap/cron.htm 上記URLで解説されているような、サーバーのCRON設定を直接編集するフォームをPHPで作成したいのですが、どのような方法がありますでしょうか？どなたかお詳しい方いらっしゃいましたらお教えください。
PHP 5.3.3/MySQL 5.1.66/Apache 2.2.15 (CentOS 6.3) レンタルサーバー(Xserver)から自鯖へWEB環境を引越しました。 すると自鯖では、$_GETのスーパーグローバル変数を 参照すると、NULLが入ってしまいます。Xserverでは正常に参照できます。 ?yy=2013などといったQueryStringを付加してアクセスしても展開されない ということです。 原因不明で途方に暮れています。どなたか教えていただけませんか？ <?php defined('C5_EXECUTE') or die(_("Access Denied.")); var_dump($_GET); ?> variables_orderの設定は、EGPCSになっています。 http://ashiyanpo.jp/about/facilireserve/meeting? … このQueryStringに対する実行結果は下記のとおりです。 $_GET array(1) { ["pathinfo"]=> string(27) "about/facilireserve/meeting" } $_SERVER["QUERY_STRING"] string(36) "pathinfo=about/facilireserve/meeting" $_ENV array(16) { ["TERM"]=> string(5) "linux" ["PATH"]=> string(29) "/sbin:/usr/sbin:/bin:/usr/bin" ["runlevel"]=> string(1) "5" ["RUNLEVEL"]=> string(1) "5" ["LANGSH_SOURCED"]=> string(1) "1" ["PWD"]=> string(1) "/" ["LANG"]=> string(1) "C" ["previous"]=> string(1) "N" ["PREVLEVEL"]=> string(1) "N" ["CONSOLETYPE"]=> string(2) "vt" ["SHLVL"]=> string(1) "3" ["UPSTART_INSTANCE"]=> string(0) "" ["UPSTART_EVENTS"]=> string(8) "runlevel" ["UPSTART_JOB"]=> string(2) "rc" ["_"]=> string(15) "/usr/sbin/httpd" ["HTTP_ACCEPT_LANGUAGE"]=> string(23) "ja,en-us;q=0.7,en;q=0.3" } 補足 concrete5を使っています。FAQを参照しましたが、.htaccessに関する記述が見当たりませんでした。 http://concrete5-japan.org/help/faq/how-to-resto … [.htaccess] <IfModule mod_rewrite.c> RewriteEngine On RewriteBase / RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME}/index.html !-f RewriteCond %{REQUEST_FILENAME}/index.php !-f RewriteRule ^(.*)$ index.php?pathinfo=$1 [L] </IfModule>
こんにちは、 さくらサーバーのスタンダードプランで下記の pearメール送信を実行してみたのですが、メールが届きません。 特にエラーなども表示されないのですが、何を確認すればよいでしょうか？ （info@アカウント名.sakura.ne.jp　自分から自分に送ろうとしています。） アカウント名：メール用の設定がなかったのでftpと同じアカウント パスワード：メール用の設定がなかったのでftpと同じパスワード <?php //PEAR::Mailのインクルード require_once("Mail.php"); //日本語メールを送る際に必要 mb_language("Japanese"); mb_internal_encoding("UTF-8"); // SMTPサーバーの情報を連想配列にセット $params = array( "host" => "localhost", // SMTPサーバー名 "port" => 25,// ポート番号 "auth" => true,// SMTP認証を使用する "username" => "アカウント名", // SMTPのユーザー名 "password" => "パスワード"// SMTPのパスワード ); // PEAR::Mailのオブジェクトを作成 // ※バックエンドとしてSMTPを指定 $mailObject = Mail::factory("smtp", $params); // 送信先のメールアドレス $recipients = "info@アカウント名.sakura.ne.jp"; // メールヘッダ情報を連想配列としてセット $headers = array( "To" => "info@アカウント名.sakura.ne.jp", "From" => "info@アカウント名.sakura.ne.jp", "Subject" => mb_encode_mimeheader("メール件名") ); // メール本文 $body = "日本語メールの本文。"; // 日本語なのでエンコード $body = mb_convert_encoding($body, "ISO-2022-JP", "UTF-8"); // sendメソッドでメールを送信 $mailObject->send($recipients, $headers, $body); echo '終了'; ?>
とあるサイトの http://unko.com/chin/hoge.htm があるとします 上記のchinフォルダの中のimageフォルダに画像があるとします imageフォルダの画像を外部から根こそぎダウンロードは可能でしょうか？ やり方と対策を教えてください 対策というと語弊があるので回避策を教えてください
いつもお世話になっております。 PHP環境にて、ある文字列において、preg_replaceなどを使い正規表現を用いてタグ以外を削除したい場合、どのように記述すれば宜しいのでしょうか。 例えば、 ――――――――――――――――― これは画像です。<img src="http://example.com/img/example.jpg"> これはテキストリンクです。<a href="http://example.com">exampleへのリンク</a> これは画像リンクです。<a href="http://example.com"><img src="http://example.com/img/example.jpg"></a> これはYoutubeの埋め込み動画です。<iframe width="420" height="315" src="http://www.youtube.com/embed/EXAMPLE" frameborder="0" allowfullscreen></iframe> ――――――――――――――――― このような記述があった場合、imgタグ、aタグ、Youtube以外のすべての通常テキストを削除したいのです。 ↓タグ以外のテキスト削除後↓ ――――――――――――――――― <img src="http://example.com/img/example.jpg"> <a href="http://example.com">exampleへのリンク</a> <a href="http://example.com"><img src="http://example.com/img/example.jpg"></a> <iframe width="420" height="315" src="http://www.youtube.com/embed/EXAMPLE" frameborder="0" allowfullscreen></iframe> ――――――――――――――――― 最初<このカッコ>に囲まれているもの以外を削除しようと思ったのですが、そうするとaタグの間のテキスト（「exampleへのリンク」の部分）も一緒に削除されてしまいました。 こちらを実現するにはどのように行えば良いか、アドバイスいただけますと嬉しいです。 宜しくお願い致します。
PHPをバージョンアップしたいのですが、 最近の5.3系は <?= hoge => この書き方使えなくなったのでしょうか？
wordpress初心者です。 wordpressでログインは出来て、ページの編集も出来て、なぜかページの確認をしようと「サイトの表示」をクリックすると、 -------------------------------------------------------------------------- サーバーエラー http://ドメイン/wordpress/ を取得中にウェブサイトでエラーが発生しました。 ウェブサイトがメンテナンスのた めに停止しているか、正しく設定されていない可能性があります。 ヒント： ・このウェブページを後で読み込んでください。 HTTP エラー 500（Internal Server Error）: サーバーによるリクエストの実行中に、予期しない状況が発生しました。 -------------------------------------------------------------------------- と表記されます。 原因はいったいなんでしょうか？ 対策はあるのでしょうか？ 大変困っております(＠_＠;) わかる人がいましたらどうか教えて頂けると助かります。 よろしくお願いします。
wordpress初心者です。 wordpressで相互リンクを管理するHPの管理画面を作成したいのですが よくわかりません・・・ いろいろ調べてみたのですが、 wordpressにログイン後管理ページのダッシュボードにて 「リンクからリンク集の作成ができる」と調べていたらわかったのですが、 そもそもログイン後からダッシュボードを見ても「リンク」がありません。 上からダッシュボード、投稿、メディア、固定ページ、コメント、外観、 プラグイン、ユーザー、ツール、設定と順番に並んでいます。 初期設定を2,3回しましたが解決できませんでした・・・ リンク集を作成したいのでダッシュボードの「リンク」を表示する方法を 知っていいる方は教えて頂けませんか？ よろしくお願いします。
初めまして。 まだ、PHPを勉強中なので教えてください。 簡単なぐるなびサイトのようなものを作りたいと思ってます。 サイト管理ページでデータを入力し、その入力したデータを検索ページで検索し、検索されたデータを元にページを自動で作成する。 このようなサイトを作る場合どういう仕組みがいいのでしょうか？ 掲示板の仕組みでいいのでしょうか？ mySQVやCSVファイルをつかうのでしょうか？ 教えてください。お願いします。
前回、PHPとMySQLの質問をさせていただきました（http://oshiete.goo.ne.jp/qa/7893483.html）。 pearについては、無事問題が解決し、PHPとMySQLの方も、何も表示されない状態から表示される状態まで進みました。ありがとうございました。 しかし、検索結果がうまく反映されず、MySQLにあるデータが表示されてしまいます。 私は、 $select_sql= <<<EOS SELECT * FROM moeinfo WHERE name like '%$search_key%' OR address like '%$search_ken%' EOS; の部分か、 $search_key = $_POST['search_key']; $search_ken = $_POST['search_ken']; の部分がいけないのではないかと考えているのですがいかがでしょうか？ また初歩的なミスだとは思いますが、ご教授して頂けるとありがたく思います。よろしくお願いいたします。（画像醜いかもしれません！申し訳ないです。） Windows7 PHP 5.4.9 MySQL 5.5 Apach 2.2.22 phpMyAdmin 3.5.4 ＜検索フォーム＞ <html> <head> <title>PHPのテスト</title> <meta http-equiv="Content-Type" content="text/html; Charset=Shift_JIS"> </head> <center> <body bgcolor="#FFFFFF" text="#000000"> <font size="4">PHPのテスト</font> <form name="form1" method="post" action="list.php"> <table width="550" border="10" cellspacing="1" cellpadding="0"> <tr> <td><center>キーワード</td> <td><center><input type="text" name="search_key" size="55" maxlength="300"></td> </tr> <tr> <td><center>開催地</td> <td> <center> <select name="search_ken" > <option value="" selectd>----- 都道府県を選んでください -----</option> <option value="北海道">北海道</option> <option value=青森県">青森県</option> <option value="岩手県">岩手県</option> <option value="宮城県">宮城県</option> 　　　　　　　 ～～～省略～～～ <option value="宮崎県">宮崎県</option> <option value="鹿児島県">鹿児島県</option> <option value="沖縄県">沖縄県</option> </select> </td> </tr> </table> <br> <input type="submit" value="検　索"> </form> </body> </html> ＜検索結果＞ <html> <head> <title>萌えおこしイベントデータベース</title> </head> <body> <?php require_once("MDB2.php"); $dbUser = "root"; $dbPass = "im1907720"; $dbHost = "localhost"; $dbName = "moe_db"; $dbType = "mysql"; $dsn = "$dbType://$dbUser:$dbPass@$dbHost/$dbName"; $conn = MDB2::connect($dsn); if(MDB2::isError($conn)) { die($conn -> getMessage()); } $conn -> disconnect(); //POSTされたデータを受け取り、エスケープします。 $search_key = $_POST['search_key']; $search_ken = $_POST['search_ken']; //$select_sql=mysql_query('SELECT * FROM moeinfo WHERE name like '%$search_key%' OR address like '%$search_ken%''); $select_sql= <<<EOS SELECT * FROM moeinfo WHERE name like '%$search_key%' OR address like '%$search_ken%' EOS; $result=$conn->query($select_sql); if(MDB2::isError($result)) { die($result->getMessage()); } $count=$result->numRows(); print "検索結果は" .$count. "件です。<br>"; if($count> 0){ ?> <table width="1000" border="1" cellspacing="0" cellpadding="8"> <tbody> <tr><th>イベント名</th><th>開催地</th><th>サイトURL</th></tr> <?php while($rs=$result->fetchRow(MDB2_FETCHMODE_ASSOC)) { ?> <tr><td aling="center"> <?=$rs['name']?></td> <td><?=$rs['address']?></td> <td><?=$rs['url']?></td> </tr> <?php } ?> </tbody> </table> <?php } $result->free(); $conn->disconnect(); ?> </body> </html>
こんにちは、 下記内容のテキストを呼び込み 配列を作りたいのですが 可能でしょうか？ （テキストは3列構成になっており 添字？、id、bodyの構成になっています。） テキスト内容----------------- //あ行 a1,1,あ1 //か行 b1,1,か1 b1,3,か2 配列---------------------------- list['a1']['id']=1 list['a1']['body']=あ１ list['b1']['id']=1 list['b1']['body']=か１ list['b1']['id']=3 list['b1']['body']=か２
いつもお世話になっております。 現在、PHP(5.3.1)とPostgreSQL(9.2)で開発をしております。 エラーが発生しており大変困っております。 こちらが発生するエラーです。 Warning: pg_exec() [function.pg-exec]: Query failed: ERROR: schema スキーマが見つからないとのことです。 そして、以下がコードとなります。 <?php // PostgreSQL Connect if (!($cn = pg_connect("host=*** port=*** user=*** password=*** dbname=***"))) { die; } // PostgreSQL Select $sql = "select * from t_test.na1"; if (!($rs = pg_exec($sql))) { die; } // PostgreSQL Get Records $ct = pg_numrows($rs); for ($i = 0; $i < $ct; $i++) { $item = pg_fetch_array($rs, $i); $txt = "${item[1]}"; } // PostgreSQL Disconnect pg_close($cn); ?> 現在のデータベースのスキーマについてですが「na1」と「public」の２つが存在しています。 試しに、na1とpublicのテーブルをまったく同じにして SQLの部分を「select * from t_test」に変更すると「public」側のテーブルが覗けます。 しかし、SQLの部分を「select * from t_test.na1」に変更すると「スキーマが見つかりません」 というエラーが発生してしまいます。 スキーマがあるにもかかわらずこのエラーがでてしまうため原因が分からず困っております。 もしお分かりになる方いらっしゃいましたら、教えていただければと思います。 何卒よろしくお願いします。
phpで下記のように表示を変更する方法を教えて下さい。 48000円⇒4.8万円 136000円⇒13.6万円
こんにちは、 タイムスタンプをgetdateで変換して表示しているのですが 日付によっては2013/1/1と表示されるので、これを 2013/01/01と4桁、2桁、2桁に統一したいと思うのですが どのようにすればよいでしょうか？ $time = getdate($rows['1382296955']); $modified_time = $time['year'].'/'.$time['mon'].'/'.$time['mday'];
Mac　OSX10.6 でXampp　を使い始めました 下記の様なWarningがでます Warning: date() [function.date]: It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. php.iniの　date.timezone="Asia/Tokyo"　にしたら 直ったとネットでは書いていましたが やってみても直りません 何か対策はありますか？ よろしくお願いいたします。
クロネコヤマトのカード決済ページへリンクを張っています。 動的パラメータ値を渡し//カードのURLへ移動したいのですが、下記のようにソース単体では正常に移動します。 <?php //カードのURL define(PHP_CARD, 'https://*********.jp/'); //このスクリプト名 define(PHP_SELF, 'index.php'); <tr><th colspan="2">総合計</th></tr> <tr><td colspan="2" align="right">'.$goukei2.' 円</td></tr> （確認表示部分） echo"<form action=\"".PHP_CARD."\" method=\"post\" target=\"_blank\" accept-charset=\"Shift_JIS\"> <input type=\"hidden\" name=\"settle_price\" value=\"$goukei2\" /> <input type=\"submit\" value=\"お支払手続きへ\" name=\"card\" /></form> "; $card=$_POST["card"];//お支払手続きへボタンが押された場合 ?> 下記のスクリプトにソースを貼り付けると、お支払手続きへのボタンをクリックしても//このスクリプト名（index.php）へ移動してしまいます。どうかご指導よろしくお願いします。 <?php //このスクリプト名 define(PHP_SELF, 'index.php'); //■お会計 function last($name,$mail,$yno,$ad,$tel,$way,$ps,$dm,$ad2,$time,$title2,$goukei,$goukei2,$dai2,$so){ global $lines,$cmdend; $data = '<table class="m"><tr><th colspan="2">商品情報</th></tr> '.$title2.' <tr><td>送料</td><td>'.$so.' 円</td></tr> <tr><td>手数料</td><td>'.$dai2.' 円</td></tr> <tr><th colspan="2">総合計</th></tr> <tr><td colspan="2" align="right">'.$goukei2.' 円</td></tr> <tr><th colspan="2">お客様情報</th></tr> <tr><td>お名前</td><td>'.$name.'</td></tr> <tr><td>メールアドレス</td><td>'.$mail.'</td></tr> <tr><td>郵便番号</td><td>'.$yno.'</td></tr> <tr><td>お届け先ご住所</td><td>'.$ad.'</td></tr> <tr><td>電話番号</td><td>'.$tel.'</td></tr> <tr><td>お支払い方法</td><td>'.$way.'</td></tr> <tr><td>連絡事項(配達希望日時等)</td><td>'.$ps.'</td></tr> <tr><td>お知らせ</td><td>'.$dm.'</td></tr> <tr><td>ご請求先ご住所</td><td>'.$ad2.'</td></tr> <tr><td>受注日時</td><td>'.$time.'</td></tr>'; if(!$_COOKIE['order']){ echo"<br />空です<br />"; }elseif($cmdend){ echo"<b class=\"stitle\">ご注文有難う御座いました。<br />このページを印刷して保存してください。メールも送信しております。</b>\n"; echo"$data\n"; echo"</td></tr></table>\n"; //カードのURL define(PHP_CARD, 'https://*********.jp/'); echo"<form action=\"".PHP_CARD."\" method=\"post\" target=\"_blank\" accept-charset=\"Shift_JIS\"> <input type=\"hidden\" name=\"TRS_MAP\" value=\"V_W02\" /> <input type=\"hidden\" name=\"trader_code\" value=\"900756001\" /> <input type=\"hidden\" name=\"order_no\" value=\"$time\" /> <input type=\"hidden\" name=\"goods_name\" value=\"$title2\" /> <input type=\"hidden\" name=\"settle_price\" value=\"$goukei2\" /> <input type=\"hidden\" name=\"buyer_name_kanji\" value=\"$name\" /> <input type=\"hidden\" name=\"buyer_tel\" value=\"$tel\" /> <input type=\"hidden\" name=\"buyer_email\" value=\"$mail\" /> <CENTER><FONT COLOR=\"#FF00FF\" SIZE=\"-2\">クレジットカードでお支払いされるお客様は<BR> 下記ボタンを押して手続きを行ってください。</FONT><BR> <BR><input type=\"submit\" value=\"お支払手続きへ\" name=\"card\" /></form> "; $card=$_POST["card"];//お支払手続きへボタンが押された場合 echo"<br /><a href=\"".PHP_SELF."?\">トップへ戻る</a>\n"; }else{ echo"<b class=\"stitle\">お会計確認（ご確認後注文確定ボタンを押してください）</b><br />\n"; echo"$data\n"; echo"<tr><th colspan=\"2\">　</th>\n"; echo"<tr><td colspan=\"2\" align=\"center\"><a href=\"".PHP_SELF."?mode=reji\">戻る</a> \n"; echo"<input type=\"hidden\" name=\"cmdend\" value=\"cmdend\" />\n"; echo"<input type=\"submit\" value=\"注文確定\" name=\"cmdend\" onclick=\"DisableButton(this);\" /></td>"; echo"</td></tr></table>"; } } ?>
<Result> <Hit index="1"> <Title>タイトル 01</Title> <Url>http://hogehoge.co.jp/01.html </Url> <Image>http://hogehoge.co.jp/img01.jpg </Image> </Hit> <Hit index="2"> <Title>タイトル 02</Title> <Url>http://hogehoge.co.jp/02.html </Url> <Image>http://hogehoge.co.jp/img02.jpg </Image> </Hit> <Hit index="3"> <Title>タイトル 03</Title> <Url>http://hogehoge.co.jp/03.html </Url> <Image>http://hogehoge.co.jp/img03.jpg </Image> </Hit> . . . 以下で全件取得できるのですが、 例えば２番目(Hit index="2")から８件(Hit index="9"まで)だけ取得したい場合はどの様にすればよいのでしょうか？ $xml=simplexml_load_file($url); $hits = $xml->Result->Hit; foreach ( $hits as $hit ) echo h(urlencode($hit->Url)); echo h($hit->Image); echo h($hit->Title); ---------------------------- array_sliceの使い方がよくわかりません。 宜しくお願いします。
例えば以下のようなテーブルがある時 code　　hoge　　hogera ---------------- 1　　　　港区　　A町 2　　　　南区　　C町 3　　　　北区　　D町 4　　　　北区　　E町 5　　　　南区　　F町 6　　　　南区　　G町 hogeでdistinctしたら○区だけのデータ取れますが、 その状態からcodeやhogera（別カラム）の情報をとることはできますでしょうか？
CakePHP2.何かを使っています。 ローカル環境でxampp、windows7で開発しています。 なぜかある特定のコントローラーでsaveができず、 Googleで見つけた様々な解決方法を全て試してもダメでした。 コントローラー：PaypalsController.php モデル：Paypal.php テーブル名：paypals コントローラー内で $this->Paypal->save($data); すると The eventKey variable is required An Internal Error Has Occurred のようなエラーが出ます。 キャッシュの問題であるデバッグモードも2になっています。 また、命名規則に沿っているのですが、 モデル内に、 public $useTable = 'paypals'; を書かないと、 Missing Database Table のエラーも出ます。 この時点で何かおかしい気がします。 どのような原因が考えられるか分かる方いたらアドバイス下さい。
TwitterAPIの検索の【GET Search/tweets】の使い方が良くわかりません。 他のはいくつか旨くいった方法で同じように書いているのですが使えないのです。 以下のように書いています。 ==========ここから=========== <?php //twitterAPIライブラリの読み込み require_once('twitteroauth/twitteroauth.php'); //キー $Consumer_key = '*****************'; $Consumer_secret = '*****************'; $Access_token = '*****************'; $Access_token_secret = '*****************'; $conn= new TwitterOAuth($Consumer_key,$Consumer_secret,$Access_token,$Access_token_secret); $para = array('q'=>'test','count'=>'4'); $result=$conn->GET('search/tweets',$para); echo "<pre>"; print_r($result); echo "</pre>"; ?> ==========ここまで=========== するとエラーコード３４のエラーが出て取得できません。。。 上記のような書き方で、ツイートするとか指定のIDをフォローするなどは正常に動いているので、キーが違うなどのエラーは無いはずです。 わかる方居ましたらお願いします。
$a = array(); $a[0]="あ"; $a[1]=""; $a[2]="い"; $a[3]=""; $a[4]=""; $a[5]="う"; のような配列がありfor文の中で文字列が一文字以上だったら配列$bに入れるということをしたいのですが、 $b=array(); for($i=0; $i<count($a); $i++){ $c = mb_strlen($a[$i]); if($c>=1){ $b = $a[$i]; } } var_dump($b); とすると$bには最後の”う”しか入りません。 $bを $b[0]="あ"; $b[1]="い"; $b[2]="う"; とするようにするにはどうしたらいいですか？
CakePHPについて質問です（Ver.2.2)複数テーブルのアソシエーションについてなのですが、下記のようなアソシエーションは可能でしょうか？ [使用テーブル] Post、Recommend、UserMaster、UserDetail [結合キー] (1)Post.id = Recommend.post_id (2)User.id = Post.user_id (3)User.id = UserDetail.user_id つまり、Post.php内にてPost以外で紐づいているテーブル同士を結合が可能かどうかを知りたいです。（(1)(2)はPostテーブルと紐づいているが、(3)はPostテーブル以外同士で紐づいている） 下記方法にて(1)(2)は実現できたのですが、(3)の方法が見つかりませんでした。 -- class Post extends AppModel { $belongsTo = array('User'); $hasOne = array('Recommend'); （略） -- 不明点あればご説明します。どうぞよろしくお願いします。
PHP初心者です。 例えば、 aaaa.com に置いてあるPHPファイルにある自作関数(function)を bbb.com で読み込んで利用することは可能でしょうか？？？ 具体的な例題がなくて恐縮ですが、 なにか方法がありましたらご教授いただきたいです。 よろしくお願いします。
cakePHP2.2でSQLが実行できません。 実行のやり方が悪いのでしょうが ネットで探してもイマイチ理解できません・・ やりたいのは画面から入力された値を使い SQLを実行することです。 何が駄目なのか教えてください。 controllerのソース <?php class BuhinController extends AppController { public $layout = 'user_default'; //## ログイン処理 public function login(){ $bool = false; $rslt = null; Configure::write('debug', 1); $sql = "select id from table_user where add = '". $_POST["add"] . "' "; $sql = $sql. " and pass = '". $_POST["pass"] . "'"; $this->query($sql); } public function index(){ } public function logout(){ $this->Auth->logout(); } } ?> エラーメッセージ Fatal Error Error: Call to undefined method BuhinController::query() File: C:\xampp\htdocs\cake\app\Controller\BuhinController.php よろしくお願いします。
いつもお世話になっております。 最終的にやりたいことは、営業マンの受注一覧をPDF作成し そのPDFを営業マンにメールで送信する（添付ファイル）ということですが。 （PDF作成まではできております） これには、　とても道のりが遠そうです。 まずはじめに　普通に　PHPから　メールが送信できるか 試してみました。 <?php if (mb_send_mail("自分のアドレス", "TEST MAIL", "This is a test message.", "From: 自分のアドレス")) { echo "メールが送信されました。"; } else { echo "メールの送信に失敗しました。"; } ?> 文字化けの対策等もしなければいけないと思いますが とりあえず　これで　メールが届くかと思い やってみました。 結果は　「メールが送信されました。」と表示されておりますが 実際には　送られておりません。 いろいろと検索してみましたが これから　どうすればいいのかが　わかりません。 どうぞよろしくお願いいたします。
こんにちは、 $time = getdate($rows['max(t2.modified_time)']); でdbからデータを抜き出し、$time['mday']の値を使用しようとしているのですが 同じデータを使用しているつもりなのですが、 片方のロジックは、15で、もう片方は16となり $time['mday']の値が一致しません。 どのへんに問題がありますでしょうか？ $timeの中身をそれぞれのロジックで出力したものになります。 1358263864が同じなら同じデータだとおもっていたのですが。 Array ( [seconds] => 4 [minutes] => 31 [hours] => 16 [mday] => 15 [wday] => 2 [mon] => 1 [year] => 2013 [yday] => 14 [weekday] => Tuesday [month] => January [0] => 1358263864 ) Array ( [seconds] => 4 [minutes] => 31 [hours] => 0 [mday] => 16 [wday] => 3 [mon] => 1 [year] => 2013 [yday] => 15 [weekday] => Wednesday [month] => January [0] => 1358263864 )
自作PHPブログでの記事を5件ずつ表示する方法について PHPで自作のブログをサイト等を参考に制作しているのですが、 最新の記事5件ずつ表示させたい場合はどのような記述をすれば良いのでしょうか？ 「前ページ」と「次ページ」的なリンクを貼りたいと思っております。 一番最古の記事のページまで行くと「前ページ」リンクも消えるようにしたいのです。 pager等を検索したのですが、いまいち自分の物に組み込むとなるといまいちよくわからなくなります。 LIMITで5件表示まではわかったのですが、「次へ」で6～10件表示の仕方がわかりませんでした。 どのような記述が良いでしょうか、よろしくお願いします。 <?php $pdo = new PDO("mysql:dbname=blog", "root"); $st = $pdo->query("SELECT * FROM post ORDER BY no DESC LIMIT 5"); $posts = $st->fetchAll(); for ($i = 0; $i < count($posts); $i++) { $st = $pdo->query("SELECT * FROM comment WHERE post_no={$posts[$i]['no']} ORDER BY no DESC"); $posts[$i]['comments'] = $st->fetchAll(); } require 't_index.php'; ?> t_index.phpで表示のプログラムを書いています。
お世話になります。困っているので質問させて下さい。 MySQLのSQL文に関しての質問ですが、PHPで記述しているので、このPHPのカテゴリで投稿させて頂きます。ご了承下さい。 以下のようなカラムを持ったテーブルがあります。 実際に当方で用意しているカラムそのものなのですが、簡単に説明させてもらうと、この教えてGooのような質問を投稿できるサイトで、その質問となるデータを収めるのが、questionテーブル。会員データを収めるのがuserテーブル。PHPやMySQL、HTMLのように質問のジャンルを収めておくテーブルがcategory2です。 question（テーブル） q_no　　q_user_no　　q_category_no　　q_titleq_exp　　q_img　　q_date　　q_state　　q_answer_cnt　　q_solution　　state user（テーブル） user_no　　user_mail　　user_pass　　user_n_name　　user_icon category2（テーブル） nocategory_idcategory_nocategory2_name ※上記各テーブルの最初のカラムはauto-incrementとして自動で連番を与えています。 ここで質問に移ります。 questiontテーブルに質問データがいくつか収まっている状態で、質問単位（スレッド単位）で呼出すためにURLに、questionテーブルのq_noとなる番号をパラメータで渡しているのですが、 $sql = "SELECT * FROM question WHERE q_no = '$get_q_no' AND state = 'on' AND q_state = 'on'"; このように、questionだけを呼出すと問題ないものの、3つのテーブルを結合して呼出すと一部のデータが呼び出せない状態です。 $sql = "SELECT question.q_no, question.q_user_no, question.q_category_no, question.q_title, question.q_exp, question.q_date, question.q_state, question.q_answer_cnt, question.q_solution, question.state, user.user_no, user.user_n_name, user.icon, user.user_mail, category2.no, category2.category2_name FROM question INNER JOIN user ON question.q_user_no = user.user_no INNER JOIN category2 ON question.q_category_no = category2.no WHERE question.q_no = '$get_q_no' AND question.state = 'on' AND question.q_state = 'on'"; SQL文に問題があるのでしょうが、全てのデータが呼び出せないのであればともかく、一部のデータだけ呼び出せないという状況で、どこに問題があるか分からず、この場をお借りし質問させて頂ければと投稿しました。 最後になりましたが、MySQLは、5.1.22-rcです。 お忙しいなか恐縮ですが、アドバイスのほど頂戴出来れば幸いです。 宜しくお願い申し上げます。
自作PHPブログでの記事を10件ずつ表示する方法について http://ponk.jp/php/basic/blog こちらのサイトさんを参考にPHPで自作のブログを制作しているのですが、 最新の記事10件ずつ表示させたい場合はどのような記述をすれば良いのでしょうか？ 具体的に書いて頂けると嬉しいです。 「前ページ」と「次ページ」的なリンクを貼りたいと思っております。 一番最古の記事のページまで行くと「前ページ」リンクも消えるようにしたいのです。
MySQLで作ったお祭りのデータベースからデータを検索し、お祭りの名前と開催地だけを検索結果として表示させるというものを作っています。 しかし、エラーもなにも起きていないのに、検索しても結果が表示されません。検索結果の件数も反映されません。 PHPのプログラムの方にまだ問題があるのでしょうか？それともMySQLの方に問題があるのでしょうか？ また、pearについても質問があります。pear listを実行すると問題なく見ることができるのですが、以下のような警告が表示されます。 PHP Warning: PHP Startup: Unable to load dynamic library 'ext\php_pdo_firebird. dll' - 指定されたモジュールが見つかりません。 in Unknown on line 0 Warning: PHP Startup: Unable to load dynamic library 'ext\php_pdo_firebird.dll' - 指定されたモジュールが見つかりません。 in Unknown on line 0 PHP Warning: PHP Startup: Unable to load dynamic library 'ext\php_pdo_oci.dll' - 指定されたモジュールが見つかりません。 in Unknown on line 0 Warning: PHP Startup: Unable to load dynamic library 'ext\php_pdo_oci.dll' - 指 定されたモジュールが見つかりません。 in Unknown on line 0 PHP Warning: PHP Startup: Unable to load dynamic library 'ext\php_pspell.dll' - 指定されたモジュールが見つかりません。 in Unknown on line 0 Warning: PHP Startup: Unable to load dynamic library 'ext\php_pspell.dll' - 指定 されたモジュールが見つかりません。 in Unknown on line 0 PHP Warning: PHP Startup: Unable to load dynamic library 'ext\php_sybase_ct.dll ' - 指定されたモジュールが見つかりません。 in Unknown on line 0 Warning: PHP Startup: Unable to load dynamic library 'ext\php_sybase_ct.dll' - 指定されたモジュールが見つかりません。 勉強中と言ってもを初心者同然なので、ご教授いただきたいです。よろしくお願いいたします。 Windows7 PHP 5.4.9 MySQL 5.5 Apach 2.2.22 phpMyAdmin 3.5.4 <html> <head> <title>PHPのテスト</title> </head> <body> <?php require_once("MDB2.php"); $dbUser = "root"; $dbPass = "im1907720"; $dbHost = "localhost"; $dbName = "moe_db"; $dbType = "mysql"; $dsn = "$dbType://$dbUser:$dbPass@$dbHost/$dbName"; $conn = MDB2::connect($dsn); if(MDB2::isError($conn)) { die($conn -> getMessage()); } $conn -> disconnect(); //POSTされたデータを受け取り、エスケープします。 $search_key=addslashes($_POST['search_key']); $search_ken=addslashes($_POST['search_ken']); $sql= <<<EOS SELECT * FROM moeinfo WHERE name like '%$search_key%' OR address like '%$search_ken%' EOS; /* if(substr(PHP_OS,0,3) == 'WIN') { $sql=mb_convert_encoding($sql, "SJIS", "EUC-JP"); } */ $result=$conn->query($sql); if(MDB2::isError($result)) { die($result->getMessage()); } $count=$result->numRows(); print "検索結果は" .$count. "件です。<br>"; if($count> 0){ ?> <table width="450" border="1" cellspacing="0" cellpadding="8"> <tbody> <tr><th>イベント名</th><th>開催地都道府県名</th></tr> <?php while($rs=$result->fetchRow(MDB2_FETCHMODE_ASSOC)) { if(substr(PHP_OS,0,3) == 'WIN') { $rs['name']=mb_convert_encoding($rs['name'], "EUC-JP", "SJIS"); $rs['address']=mb_convert_encoding($rs['address'], "EUC-JP", "SJIS"); } } ?> <tr><td aling="center"><?=$rs['name']?></td> <td><?=$rs['address']?></td> </tr> </tbody> </table> <?php } //mysql_free_result ($result) ; $result->free(); $conn->disconnect(); ?> </body> </html>
いつもお世話になっております。 PHP（Ver5.2）が利用できるレンタルサーバーを借りていろいろやっているのですが、 include_once した外部PHPファイルの中のクラス定義のコンストラクタがCallされません。 //外部クラスの記述 class A{ public function __construct(){ echo "OK"; } } //メインPHPの記述 include_once "xxx.php"; $obj = new A(); ↑におけるメインPHPをブラウザから呼び出したとき、本来なら　OK とechoされるはずなのに、何も表示されません。 また、クラスAに定義したpublicなfunctionをCallしようとすると、定義されてないメソッドをCallした、とエラーになります。（インスタンス自体が生成されていない？？） ファイル自体は正常にIncludeされていると思います。（ファイル名を間違ったらエラーになったから） ちなみに、クラスAの記述をメインPHPに記述すると、正常に動きます。 外部ファイルのクラスを正常に動かすにあたって、何かphp.iniあたりの編集が必要なのでしょうか？ どうぞよろしくお願いいたします。
Dust-Me Selectorsを使い、使用していないCSSセレクタを探したところ、930件ほど出てきました。 私のサイトはCSSはstyle.css一つにまとめています。doctype.cssの内部は .class1,.class2{…}.class1,.class3,.class4{…},… の形で一行のみ記述されています。 使われていないCSSセレクタは、used-doctype.txt中に、 .class1 .class3 .class4 ： ： の形で記述されています。.今、次のPHPコードを実行しようと思います。 <?php $css=file_get_contents("./doctype.css"); $handle = fopen( "./used-doctype.txt", "r" ); $null=""; while ($array = fgetcsv( $handle )) { //echo $array[0]; str_replace($array[0],$null, $css); } echo $css; ?> しかしechoされた結果では、class1、class3、class4がいずれも確認されます。 while中での$array[0]のechoは成功していますので、str_replaceがおかしいと思うのですが原因が判りません。 どこを変更すれば、$cssからclass1、class3などを除去できるでしょうか。 どなたかご教示のほど、どうかよろしくお願いいたします。
現在、以下の方法で、サイドバーに記事一覧を表示させています。 <ul> <?php if ( ! dynamic_sidebar( 'secondary-widget-area' ) ) : ?> <?php get_archives('postbypost', '10','custom' ,'<li>' ,'</li>'); ?> <?php endif; ?> </ul> このままだと、古い記事が下に、新しい記事が上にとなるので、 これを、新しい記事が下に追加されるようにしたいです。 WPのバージョンは、3.0.3です。
弱小SIerでPMの端くれやってます。 普段はsastrutsやasp.net mvcでの基幹業務系案件が多いのですが、今回新しく、一般向けのLAMP案件を担当することになり、仲良くしていただいているフリーPGの方から、cakePHPについて推薦を受けました。 いろいろと調べていると、自分がこれまで馴染んでいるMVC系で、責任範囲は明確だし、コーディングはけっこう簡潔、コミュニティも活発で、良いことづくめのような気がしました。 で、社内および（及び主として開発担当される）外部協力会社数社に相談をもちかけましたたところ、あっさりNGを出されました。 皆様が言うには、あえてcakeのような外部のフレームワークを採用しなくても、MVCモデルや、テンプレート対応は十分に可能で、高品質で迅速な開発が可能だそうです。 一部の熱狂的な開発者をのぞき、そもそも実開発で、CakePHPはほとんど採用されていない、ということでした。 自分としては判断に苦しむ内容で、相手が学習コストを嫌っているだけのように思えるのですが、皆様の中で同様に、「CakePHPはここが問題（だから使わない）」というお考えをお持ちの方がいらっしゃいましたら、具体的な問題点をお聞かせ願えないでしょうか？ Web上の記事には、基本的（ていうか勉強レベル）のものしかなく、具体的な開発例を交えての評価が少ないような気がしていて、今後のこともあり、非常に気になります。 php案件での開発における基本スタンスに関わる問題なと思いますので、ご教示下さい。 よろしくお願いいたします。
phpを勉強中の初心者です。 テキストの処理について質問させていただきます。 あか1 しろ2 きいろ3 きいろ4 きいろ9 あお23 くろ30 くろ33 というテキストを あか1 しろ2 きいろ3,4,9 あお23 くろ30,33 というように置換えることは可能でしょうか？ よろしくお願いいたします。
はてなブックマーク件数取得API http://developer.hatena.ne.jp/ja/documents/bookm … 上記のページを見て、 http://api.b.st-hatena.com/entry.count?url=[ブックマーク数を取得したいURL] でブックマーク件数が取得できることが分かったのですが、 このブックマーク件数をPHPの変数に入れるには一体どうすればいいのでしょうか。 例えば、変数 $num に int型で指定URLのブックマーク数を入れるようなことがしたいのですが…。
WordPressのテーマでリンクに登録されたブックマーク情報を トップページのスライドショー広告・サイドバーのバナー・フッターのバナー というカンジでリンクのカテゴリを作って使い分けをします いちいちテーマに合わせて管理画面からリンクのカテゴリを作らなくて済むように テーマの側でリンクのカテゴリをinit_adminのタイミング等で登録したいです 日本語リファレンスでそれらしい関数を見つけられませんでした リンクのカテゴリを作る関数はないのでしょうか？ よろしくお願いします
ブラウザからAndroidアプリのプロジェクト作成を可能にしようとしています。 Linux端末もしくわターミナルのroot権限で 「android create project --target ○ --name △ --path /var/../../.. --activity △ --package ■〇△」←「..や〇、△等は適当です(笑)」 というコマンドを実行するとプロジェクトが作成されます。端末、ターミナルでのこのコマンド実行には成功しています。 上記のコマンドをブラウザで実行させようと、まず一般ユーザモードでsudoコマンドでの実行を試みました。 「sudo /home/../../android create project --target ○ --name △ --path /var/../../.. --activity △ --package ■〇△」 というコマンドを実行するとsudoコマンドでもプロジェクトが作成されます。端末、ターミナル内でのこのコマンド実行も成功しています。 次にブラウザからの実行ですが、 ブラウザからphpのsystem関数を用いてsudoコマンドを使ったコマンド実行を試みているのですが、できません。 自分なりに調べて、sudoコマンドに必要なパスを入力不要にし、サイトに書いてあったので、viコマンドで、sudoure内の「Defaults requiretty」に＃も追加しました。 ブラウザでphpのsystem関数を用いて上記コマンドの実行は不可能なのでしょうか？
こんにちは まずはソースを・・・ <form action="text.php" method="post"> <table> <tr> <th>名前</th> <th>メモ</th> <th>更新</th> <tr> <? while($data = mysql_fetch_array($result)){ ?> <tr> <th><input type="text" name="name" value="<?= $data['name'] ?>" /></th> <th><input type="text" name="memo" value="<?= $data['memo'] ?>" /></th> <th><input type="submit" name="submit" value="更新" /></th> <tr> <? } ?> </table> </form> Mysqlにデータを登録してPHPで読み込んでHTMLに表示をしているのですが 更新ボタンを押した時にそのデータの更新ができるようにするにはどうしたら良いでしょうか？ 説明が微妙かもしれませんが・・・。 ↓こんな感じに・・・(これはダメですが) <table> <tr> <th>名前</th> <th>メモ</th> <th>更新</th> <tr> <? while($data = mysql_fetch_array($result)){ ?> <form action="text.php" method="post"> <tr> <th><input type="text" name="name" value="<?= $data['name'] ?>" /></th> <th><input type="text" name="memo" value="<?= $data['memo'] ?>" /></th> <th><input type="submit" name="submit" value="更新" /></th> <tr> </form> <? } ?> </table> tableタグでやるのは難しいのでしょうか？ なにかいいアドバイスがあればよろしくお願いします！
こんにちは。PHP初心者です。 サーバ移行にともない、PHPのバージョンが4.4.2から5.2.8に変更になりました。 動作確認をしていたのですが、一部表示されていない箇所があります。 例えば、 ------------- http://www.URL/list.php?hen1=aaa ------------- というURLがあったとして、 list.phpの中に ------------- if($hen1 == "aaa") $title= 'タイトル'; ------------- という記述があります。 PHP4.4.2の時は該当の箇所に「タイトル」の文字列が表示されていましたが、現在は表示されていません。 このPHPは過去の担当者が作成したもので、前述の通り、私はPHPが全く分かりません。 もしお分かりの方がいらっしゃいましたら、ご教授いただけると助かります。 よろしくお願いいたします。
http://www.google.co.jp/aaaaa?a=1 上記のようなURLがあった時に、 <a href="http://www.google.co.jp/aaaaa?a=1" >http://www.google.co.jp/aaaaa?a=1</a> と置き換えたいのですが、正規表現とpreg_replaceで表現する場合どうしたら良いでしょうか？ a=1　の後に </a>を付ける条件は半角スペースor改行を条件にしたいので (\s|\n)のようにすると思うのですが、どう表現したら良いでしょうか。 よろしくお願いします。
いつもお世話になっております。 現在テーブルに　日時が　下記状態で格納されております。 　2012-12-27T15:46:02+0800 （標準時間（タイムゾーン？）というのでしょうか。） これを　2012-12-27　15:46:02 という形式で表示させたいのですが ご指導いただけませんでしょうか。 よろしくお願いいたします。
テキストエリアにHTML入力して、submitをクリックしたら、入力されたデータをHTMLとして表示するということをしたいだけなのですが、うまくいきません。 例えば、 『<a href="http://www.yahoo.co.jp">yahoo</a>』 と入力すると、 一応リンクにはなっているのですが、ダブルクオーテーション（”）がエスケープ（？）されて、「￥」がついてしまうためかリンクが変になってしまいます。 これをこのまま表示させるにはどうしたらいいのでしょうか？ 初心者質問で申し訳ありません。 よろしくおねがいします。
開発経験の少ない初心者プログラマです。 よろしくお願いします。 今年４月に入社した会社で初めて本格的にPHPに触れ、社内業務を通して半年ほど勉強させて頂きました。 社内での作業は、linuxサーバ上に開発環境(php、アパッチの設定済み)が用意されており、ターナルを使用して作業をするというものでした。 そして現在、出向という形で社外に出たのですが、そこでは開発環境というものはなく、SVNで本番環境からローカルPCにチェックアウトして、ローカルPC内に開発環境を作り、開発を進めるという形になっています。 ※webサイトの開発。本番環境ではnginxを使用しています。 質問内容としては、開発環境を構築するという作業が始めてで、何をどうして良いのかわからずにいます。 目標としては、ローカルPC内での作業内容を本番環境と同じように、ブラウザで表示出来るようにしたいと考えています。 本当に初歩的な質問でお恥ずかしいのですが、リポジトリからチャックアウトした場合、phpはすでに設定されているものなのでしょうか？ それともローカルPC内でも独自にインストールなどしなければならないのでしょうか？(nginxに関しても同じく) 一応現在は、 SVNを使用して、ローカルに本番環境のソース一式をチェックアウト。 eclipseをローカルPC内に入れ、PDTをインストールして、eclipseをPHPに対応させました。 ※eclipseを使用しないといけないというわけではありません。使用経験はありませせんが、windowsでの開発はeclipseを使うものかと思い入れてみました。 レベルの低い質問かとは思いますが、どうぞよろしくお願いいたします。 また、質問内容に不備な点があればご指摘ください。 以上です。
プログラムの初歩的な事なのですが、 (1)$i = 1 % 7; $i=1 (2)$i = 2 % 7; $i=2 (3)$i = 3 % 7; $i=3 (4)$i = 4 % 7; $i=4 (5)$i = 5 % 7; $i=5 (6)$i = 6 % 7; $i=6 (7)$i = 7 % 7; $i=0 (8)$i = 8 % 7; $i=1 … となりますが (7)以降は理解できるのですが、(1)～(6)までがどうも理解できません。 (5)の場合で考えると5/7の余剰は…? ≒0.7143 … 余り出るのか?という考えになります。 どういった考え方で見たらこれが理解できるのでしょうか。 何方かご教授お願いいたします。
PHPの勉強をしています。 簡単なPHPを作成し、MySQLからデータを持ってきたいのですが、 上手くいきません。 完全一致で入力すれば、該当するものがヒットしますが、部分一致となると何も表示されなくなってしまいます。 検索文字列　＝　山田太郎　　　→検索OK 検索文字列　＝　山田　→検索NG となります。 山田と入力すれば、該当するデータを全て表示するにはどうすればいいのでしょうか。 宜しくお願いします。 //名前 if(!empty($name)) { $name = addslashes($name); $where = "name = '$name' && "; } else if(preg_match("/^(?!ab$)[a-z0-9]+$/", $name)) { $name = addslashes($name); $where = "name = '$name' && "; }
DB上に格納した文字列を取得し、PHPで出力すると、 「髙」（はしごだか）等、一部の文字が「□・」のような見た目に化けてしまいます。 環境は以下です。 Linux(CentOS 5) PHP 5.1.6 Apache 2.2.3 PostgreSQL 8.4.3 文字コードは以下です。 Postgres：EUC-JP PHPソース：EUC php.ini の[mbstring]はコメントのまま変更していません。 文字コードの変換を試してみたのですが、「髙」としては出力できませんでした。 Windows上では「CP51932」に変換すると正常に出力できましたが、Linux上ではやはり駄目でした。 mb_language("uni"); mb_internal_encoding("euc-jp"); mb_http_input("auto"); mb_http_output("euc-jp"); $str = "髙橋"; print(mb_convert_encoding($str, "EUCJP-win")); print(mb_convert_encoding($str, "EUCJP-win","EUC-JP")); print(mb_convert_encoding($str, "SJIS")); print(mb_convert_encoding($str, "SJIS","EUC-JP")); print(mb_convert_encoding($str, "SJIS-win")); print(mb_convert_encoding($str, "SJIS-win","EUC-JP")); print(mb_convert_encoding($str, "UTF-8")); print(mb_convert_encoding($str, "UTF-8","EUC-JP")); print(mb_convert_encoding($str, "EUC","SJIS")); print(mb_convert_encoding($str, "Unicode")); print(mb_convert_encoding($str, "Unicode","EUC-JP")); print(mb_convert_encoding($str, "UTF-8", "sjis-win")); print(mb_convert_encoding($str, "CP51932")); print(mb_convert_encoding($str, "MS932")); print(mb_convert_encoding($str, "MS932","EUC-JP")); print(mb_convert_encoding($str, "UTF-8","EUCJP-win")); print(mb_convert_encoding(mb_convert_encoding($str, "EUCJP-win" ), "UTF-8","EUCJP-win")); print(mb_convert_encoding(mb_convert_encoding($str, "EUCJP-win","EUC-JP"), "UTF-8","EUCJP-win")); print(mb_convert_encoding(mb_convert_encoding($str, "SJIS-win" ), "UTF-8","SJIS-win")); print(mb_convert_encoding(mb_convert_encoding($str, "SJIS-win","EUC-JP"), "UTF-8","SJIS-win")); print(mb_convert_encoding(mb_convert_encoding($str, "SJIS-win" ), "EUCJP-win","SJIS-win")); print(mb_convert_encoding(mb_convert_encoding($str, "SJIS-win","EUC-JP"), "EUCJP-win","SJIS-win")); http://blog.livedoor.jp/loopus/archives/50160285 … 上記サイトによると、解決法は「EUC-JPで出力しないこと」という事でしたが、 文字コードを変換して出力できるような事を書いているサイトもあり、結論が出せずにいます。 ソースを書き換えるのは避けたいのですが、いい方法がありましたらご教示ください。
PHPを学び始めた者です。 現在自サイトのリンク集を動的に作成しております。 各ページのURLを読み込み特定URL文字があった場合は書き換えを行なっているのですが、数が多くなり（300件以上）コードが増えてきました。 出来るだけ管理しやすくスマートにしたいのですが何か方法ありませんか？ ～略～ if(strstr($item['link'], "hoge1.")){ $blog = "<a href=\"http://hoge1.hogehoge.com/\">hoge1さん</a>"; }elseif(strstr($item['link'], "hoge2.")){ $blog = "<a href=\"http://hoge2.test.com/\">hoge2さん</a>"; }elseif(strstr($item['link'], "test3.")){ $blog = "<a href=\"http://test3.hogehoge.com/\">test3さん</a>"; }elseif(strstr($item['link'], "/")){ $blog = "<a href=\"http://#\">未登録</a>"; }; ～略～
今とあるバッチのテストをしようと考えています。 バッチの処理としては、DBから必要なデータを取ってきて（クラスを使っています）、そのデータを元にPEAR::HTTP_Requestクラス使ってGETリクエストを送信するようなものです。 そもそもテストというものに関してド素人なのでよくわかっていないのですが、こういったプログラムをPHPUnitを使ってテストすることは可能なのでしょうか。 出来ればDBからデータ取ってくる部分と、HTTP_Requestクラス使ってGETリクエストを投げる部分をモック化（？）して、これらの戻り値をこっちで制御していくつかのケースでテストしたいです。 テストの先頭で、requireで読み込んだらファイルが実行されてしまうし、execなどを使ってもプログラム内のクラスをモック化する方法が分かりません。 長くなりましたが、聞きたい事としては、こういった逐一実行するようなプログラムのテストはPHPUnitを使ってテスト出来るものなのでしょうか。 また、PHPUnitを使ってテストする場合、テスト対象ファイルの内部で読み込まれたクラスをモック化するにはどうしたらよりのでしょうか。
いつもお世話になっております。 下記方法で　配列のデータのみinsertすることができました。 foreach($b as $Key =>$Value){ $sql ="INSERT INTO temp_memo (stylecode) VALUES ('{$Value}')"; mysql_query($sql); } テーブルには key と　stylecodeの二つのフィールドがあります。 上記の方法だと　下記　value のみのinsertです。 key stylecode 0　　　りんご 0　　　みかん 0　　　いちご key も同時に　テーブルに書き込むことは 可能でしょうか。 いろいろ検索してみましたが 見つかりませんでした。 初心者です。 どうかよろしくお願いいたします。
PDOのlastInsertIdって、データベースに挿入された最後のidを取得出来るらしいのですが １つのテーブルにバンバンinsertされるようなプログラムがあった場合 そのプログラム内でlastInsertIdを使うと、「そのプログラムで最後に挿入されたid」を返してくれるのでしょうか。
現在、とあるサービスで、PHPのuniqidというメソッドを使って、ユニークなIDとして使っているのですが、この関数が被る確率はどうやって計算すればよいのでしょうか。
$array = ("りんご","ごりら","らっぱ","たこ","すずめ","@aaa","@bbb"); という配列の中から "りんご","たこ","@aaa","@bbb"というワードを配列から消去したいです。
お世話になります。 目的は、関数で縮小した画像を4枚、座標を指定して表示させることです。 以下のような、PHPのプログラムを組んで、実行したのですが、 画像が1枚だけ縮小された状態で表示され、うまく行きません。 <?php //4つの同じサイズの縮小画像を表示させたい。 for ($i = 0; $i < 4; $i++) { // ファイルと新規サイズ $filename = 'pr-01.jpg'; //同フォルダ内の画像ファイル名 $percent = 0.2; //縦横比0.2倍のサイズへ。 // コンテントタイプ header('Content-Type: image/jpeg'); // 新規サイズを取得します list($width, $height) = getimagesize($filename); $newwidth = $width * $percent; $newheight = $height * $percent; // 読み込み $thumb = imagecreatetruecolor($newwidth, $newheight); $source = imagecreatefromjpeg($filename); // リサイズ imagecopyresized($thumb, $source, $i*100, $i*100, 0, 0, $newwidth, $newheight, $width, $height); // 出力 imagejpeg($thumb); } ?> これについて、教えて下さい。 お願い致します。
現在サイトを運営しており、記事を書く機能、RSSで更新履歴を配信する機能があります。 手順としては、phpで記事htmlファイルを作成→htmlを作成したと同時にphpでrss.xmlを更新する という方法をとっています。 記事を予め書いておいて指定時刻までは表示しないようにphpで処理しているのですが、 rss.xmlは更新されているため、RSSリーダーなどにはまだ見れないはずの記事が反映されてしまいます。 望む処理としては、予約投稿した記事はRSSリーダーに反映されないようにすることです。 rss.xmlファイルの更新を指定した時間に行う、 または RSSリーダーに指定時間までは読み込ませない、 という処理が可能であれば実現可能だと思うのですが、 方法がわかりません。 ご指南をよろしくお願いいたします。
現在、PHPで書かれたソースコードを見ているのですが、下記のようなコードがありました。 <!--{if $arrForm.basic_assistance_rates != ""}--><!--{$arrForm.basic_assistance_rates|escape|number_format}-->円<!--{else}--><!--{$arrForm.basic_assistance_rates|escape == ""}--><!--{/if}--> 私が知っているPHPは、必ず　<?php　と宣言してからコードを書いていくのですが、 上記では直接ＨＴＭＬのなかに書き込んでいます。 おそらくデータベースから該当の文言を読み込んでくる命令のようですが、 これらの記号が意味する命令を知りたいです。 参考になるページなど教えていただきたいです。
こんにちは。 いつも勉強させて頂いております。 一点分からない事があり、質問させて頂きました。 一定時間にDBのテーブルを空にしてデータを再登録するバッチ処理を走らせています。 ※ これは、基幹システムが別にあり、そのシステムとの同期を取る為にCSVデータを取得してバッチにて再登録しています。 その際に、トラフィック増大により、internal server errorが発生し途中で処理が止まって しまう事があります。 当然、途中で処理が止まってしまうので、テーブルが空のままになってしまうので、サイト上ではデータが表示されなくなってしまいます。 try-catchで例外処理を記載しているのですが、internal server errorには効かないようです。 何か良い方法はないでしょうか。 何か御分かりになる方、良い案がある方などご教示頂ければ幸いです。 どうぞよろしくお願い致します。
ＰＨＰが使えないサーバーにあるホームページのアクセスログを取得するため、 JavaScriptを使ってPHPが使えるレンタルサーバーに飛び、 PHP+SQLite2でアクセスログを集計していました。 最近パソコンを買い替えたのを機にＰＨＰをVersion 5.4.8にアップデートしたところ、 ローカル環境でSQLite2が使えなくなり、この際pdo_sqliteにプログラムを書き換えました。 レンタルサーバーではSQLite2 がまだ使えるため、以前のプログラムはそのままにして SQLite2 とPDO両方でログをとってみました。 するとSQLite2では取れているのにPDOでは取れていない、 逆にPDOでは取れているのにSQLite2では取れていないログがあることに気が付きました。 （詳しくは下記の画像をご覧ください　赤丸がついているものが他方にはないログです） https://box.yahoo.co.jp/guest/viewer?sid=box-l-o … 何が問題なのでしょうか？ プログラム？　SQLite？　ＰＨＰ？　サーバー？　閲覧者のブラウザ？ また回避法をご存知でしたらご教授願います。 (log.js) ref =document.referrer; var qword=""; if(ref.indexOf("?")!=-1){ ref2=ref.split("?"); query=ref2[1].split("&"); qword="?qword="; for (i=0; i<query.length; i++){ qword+=query[i]+"*"; } ref=ref2[0]; } document.write('<script src=" http://○○○/log2.php?ref='+ ref + qword +'"></script>'); document.write('<script src=" http://○○○/log.php?ref='+ ref + qword +'"></script>'); (log.php) <?php $referer = stripslashes($_GET['ref']); $d=date_create(); $date=date_format($d,"Y/m/d"); $time=date_format($d,"H:i:s"); $day=date_format($d,"w"); $referer=sqlite_escape_string($referer); $url=sqlite_escape_string($_SERVER['HTTP_REFERER']); $accept_language=sqlite_escape_string($_SERVER['HTTP_ACCEPT_LANGUAGE']); $remote_addr=sqlite_escape_string($_SERVER['REMOTE_ADDR']); $user_agent=sqlite_escape_string($_SERVER['HTTP_USER_AGENT']); $db=sqlite_open("log.sqlite"); $sql="INSERT INTO log_table ( log_date, log_time, log_day, log_url, log_referer, log_language, log_remote_addr, log_user_agent) VALUES( '$date', '$time', $day, '$url', '$referer', '$accept_language', '$remote_addr', '$user_agent')"; sqlite_query($db,$sql); sqlite_close($db); (log2.php) <?php $referer = stripslashes($_GET['ref']); $d=date_create(); $date=date_format($d,"Y/m/d"); $time=date_format($d,"H:i:s"); $day=date_format($d,"w"); $db=new PDO("sqlite:/home/○○○/www/log.sqlite3",null,null); $referer=$db->quote($referer); $url=$db->quote($_SERVER['HTTP_REFERER']); $accept_language=$db->quote($_SERVER['HTTP_ACCEPT_LANGUAGE']); $remote_addr=$db->quote($_SERVER['REMOTE_ADDR']); $user_agent=$db->quote($_SERVER['HTTP_USER_AGENT']); $sql="INSERT INTO log_table ( log_date, log_time, log_day, log_url, log_referer, log_language, log_remote_addr, log_user_agent) VALUES( '$date', '$time', $day, $url, $referer, $accept_language, $remote_addr, $user_agent)"; $res=$db->prepare($sql); $res->execute(); $db=null; レンタルサーバーの環境 さくらインターネット PHP Version 5.2.17 Apache/1.3.42 (Unix) mod_ssl/2.8.31 OpenSSL/0.9.8e SQLite 2.8.17 pdo_sqlite 3.3.7
例えば以下のようなフォームがあるとき、 ----------------------------------------------------------------------------- <form name="f"> <input type="checkbox" name="group1" id="a" value="a"/><label for="a">a</label> <input type="checkbox" name="group1" id="b" value="b"/><label for="b">b</label> <input type="checkbox" name="group1" id="c" value="c"/><label for="c">c</label> <input type="checkbox" name="group1" id="d" value="d"/><label for="d">d</label> </form> ----------------------------------------------------------------------------- javascriptでは、document.f.group1で配列として取得できるのですが、 phpでは、$_POST["group1"]では最後にチェックされている項目しか取得できません。 （つまり、phpでは複数選択されていても、一番後ろの1項目しか取得できません。） 少し調べるとphpで取得するには、 name属性値を、group1からgroup1[]とすれば配列として取得できるとありました。 しかしこれでは、javascriptの方でname属性値を使って取得できなくなってしまい、 document.f.getElementsByTagName("input")みたいな感じで取得することになると思います。 そもそも、name属性値に"["や"]"を使うことは良くないと思うので、 phpの方で何らかの方法があると思ったのですが、 最近勉強を始めたばかりの初心者なのでよくわかりませんでした。 今知っているphpに配列で渡す方法が、 「name属性値をgroup1[]のように配列にする」しか無いので、 他に方法があるならば教えてください。 質問の前提として、 1.name属性はフォーム内の項目のグループ化をしている？ 2.name属性値に"［"や"］"は仕様では使用可能な文字ではない？ 1,2ともにYesだと思っています。 もし、この前提が間違っていたらご指摘ください。 質問内容を要約すると、 「checkboxをphpで配列で取得する方法はname属性値を配列にするしかないのですか？」 「他に方法があるなら教えてください」 です。 よろしくお願いします。
ご覧頂きありがとうございます。 『日本一のレシピ検索！レシピサーチ for iPhone』 と言うアプリをダウンロードしました。 https://itunes.apple.com/jp/app/ri-ben-yinoreshi … こちらのアプリは、 クックパッドや楽天レシピなど、あらゆるレシピサイトの一括検索ができます。 APIを提供しているサイトでしたら可能かと思いますが、 メーカー系のレシピコーナーなど、提供していない所も多数あります。 各サイトがこちらのアプリに情報を提供しているとは思えないのですが、 技術的にどうやって取得しているのでしょうか？ ソースを解析して取得して、独自にDBを作ってるんでしょうか。 技術的に明るくないので、 詳しくは説明されても理解出来ないかも知れませんが、 簡単で結構ですので、ご存知の方いらっしゃいましたらよろしくお願いします。 どうぞよろしくお願いします。
Cookieをいったんリセットしてゼロの状態からまたはじめたいと思っています。 クライアントが持っているCookieの値を削除したい場合、過去のタイムスタンプを利用すると書かれていましたが、下記のようにサーバー側（phpのプログラム側）でCookie名を変更するだけではダメなのでしょうか？ setcookie("TestCookie", $value); ↓ setcookie("TestCookienext", $value); ためしにテストしてみたのですが問題なさそう（？）だったのですが、何か問題あるのでしょうか。 どうぞよろしくお願いいたします。
PHPで、 file_get_contents($uri) などで取得したHTMLソースと、実際にアクセスして表示したソースが違う場合があります。 例えば、ネットオフというサイトが違いました。 http://www.netoff.co.jp/cmdtyallsearch/hdnAllSea … PHPで取得すると、商品結果の情報を取得できなかったのですが、 実際のソース（FireFoxでCtrl+Uでページのソース表示）は表示されています。 こういったページもPHPで取得することは可能なのでしょうか？ わかる方よろしくおねがいします。
表題の件ですが、 http://www.hogehoge.com/　へアクセスした人を トップページ(index.php)の前に期間限定のトップページ(2013.php)を表示させたいのですが、htaccessで　2013.phpを優先にしてしまえば、2013.phpが最初に表示されますが、そこから、index.phpに移動したあと、Home　へリンクすると、http://www.hogehoge.com/index.phpへリンクしたいのですが、　再度、http://www.hogehoge.com/2013.phpが表示されてしまします。 最初にアクセスしたら http://www.hogehoge.com/2013.php その中から、 http://www.hogehoge.com/index.phpへ移動して、 あとはhttp://www.hogehoge.com/へアクセスしても、 http://www.hogehoge.com/index.phpが優先で表示させる方法は無いのでしょうか？ 恐れ入りますが、お分かりになられる方ご教授お願いいたします。
こういう配列があるとき、 Array ( 　　[0] => Array 　　　　( 　　　　　　[id] => 1 　　　　　　[nu] => 東京 　　　　) 　　[1] => Array 　　　　( 　　　　　　[id] => 1 　　　　　　[nu] => 大阪 こういう風にしたいのですが、どうすれば良いでしょうか？ ＜条件＞ ・東京だったら、関東 ・大阪だったら、関西 ・それ以外だったら、空 Array ( 　　[0] => Array 　　　　( 　　　　　　[id] => 1 　　　　　　[nu] => 東京 　　　　　　[nm] => 関東 　　　　) 　　[1] => Array 　　　　( 　　　　　　[id] => 1 　　　　　　[nu] => 東京 　　　　　　[nm] => 関西
$image = imageCreateFromJPEG($_FILES["upfile"]["tmp_name"][$i]); header(content-type: image/jpeg); imageJPEG($image); で画像を表示させたいんですが Wanning : cannot modify header information - headers already sent by～～ と警告が出て文字化けしてしまします 色々調べてみるとこのheader関数の前にはいかなる出力もダメというのがわかったんですが テンプレートを使用していて、どうしても途中で出力せざるをえないんですが何かいい方法はありませんか？
RSSを取得して表示させているのですが、毎回取得するのではなく、 RSSが更新されてたら新しいデータを表示、 RSSが更新されていなかったら、キャッシュを利用するよう、変更したいです。 可能でしょうか？ RSSが更新されたかどうかは、取得しなくても分かるのでしょうか？ 「キャッシュ利用」＝「予め保存期間を決める」 ＝「その期間中に、元RSSが更新されても、キャッシュが効いているので、表示内容は変更されない」ということ？ RSSが更新されてたら新しいデータを表示、 RSSが更新されていなかったら、キャッシュを利用、 みたいなことは出来ないのでしょうか？
お世話になります。 在宅でホームページ作成を行なっています。 ホームページ作成の仕事が増えているように思いますが、 最近はjQueryやcakePHPのような高度な技術が必要で、 ワードプレスが出来る方、デザインは当然、photoshopなどと、 敷居が高くなってきております。 これについて、ホームページ作成を仕事にされている方、 あるいはホームページを作成した経験のある方へ質問です。 １．ホームページ作成はHTMLとCSSだけで十分という仕事はもはや無いのでしょうか？ ２．PHPを覚えれば、少なからず仕事が得られるでしょうか？ ３．その他ご意見などございましたらお願いいたします。
PHP勉強中の初心者です。 初歩的な質問なのですが以下のような配列から「りんご」、「バナナ」などの値をすべて取得するにはどうすればいいのでしょうか？ Array ( [input] => 自転車 [status] => 0 [result] => Array ( [0] => Array ( [0] => りんご ) [1] => Array ( [0] => バナナ ) [2] => Array ( [0] => ミカン ) [3] => Array ( [0] => オレンジ ) [4] => Array ( [0] => ブドウ ) [5] => Array ( [0] => パイナップル ) ) )
前回の続きになるのですが、下記の様に、arrayを複数にすると動かなくなります。 何が間違っているのでしょうか？ $url = array(); for($i = 1; $i <= 42; $i++) { $seminar = "http://www.hoge.com/seminar/".sprintf("%04d", $i).".html"; $url[] = $seminar; } $test = array( "http://www.hoge.com/seminar/0043_01.html" "http://www.hoge.com/seminar/0043_02.html" ); $array = array($url, $test); $myUrl = "http://www.hoge.com/seminar/0045.html"; if(in_array($myUrl, $array)){ echo "配列に".$myUrl."は存在します。"; } else { echo "配列に".$myUrl."は存在しません。"; }
初めまして 開発初心者も初心者です。 PHPとMySQLの勉強をしようとXAMPPをインストールし、いざ初心者本片手に開発を始めようと試みましたが、XAMPPのApachがRunning状態にならないため、始めることができません(:_;) ググったり、本読んだりして、httpd.confの Listen 80をListen8080　、　ServerName localhost:80をServerName localhost:8080に変え、 httpd-ssl.confの443を444に３か所する対処は行いました。 しかし、まだ一瞬Runningにはなるのですが、一瞬でStopします。 そして以下のような表示が出ます。 Attempting to stop Apache (PID: 2336) Problem killing PID 2336 Check that you have the proper privileges Attempting to stop Apache (PID: 2336) Problem killing PID 2336 Check that you have the proper privileges PIDのあとにつく番号は変わったりします。 本当に初心者で分からないので、よろしければ回答よろしくお願いいたします。
PHPで取得したJSON形式のデータからキーワードを取得する方法を教えてください。 <?php $query = '自転車'; $url = 'http://api.suggest.search.rakuten.co.jp/suggest? …($query); $json = file_get_contents($url); print_r($json); ?> $jsonには以下のデータが返ってきます。 cb({"input":"自転車","status":0,"result":[["自転車 ライト"],["自転車 26インチ"],["自転車 カバー"],["自転車 置き場"],["自転車 27インチ"],["自転車 24インチ"],["自転車 2013"],["自転車 レインカバー チャイルドシート"],["自転車 スタンド"],["自転車 チャイルドシート"]]}) このデータから以下のキーワードデータの配列を取得するにはどうすればよいのでしょうか？ 自転車 ライト,自転車 26インチ,自転車 カバー,自転車 置き場,自転車 27インチ,自転車 24インチ,自転車 2013,自転車 レインカバー チャイルドシート,自転車 スタンド,自転車 チャイルドシート
phpの会員サイトにてパスワードの暗号化を実装したいと思い、投稿させていただきました。 会員の人はパスワード変更→暗号化でDBに登録。 変更したパスワード(暗号化されている)でログインという流れを作りたいのですが、 暗号化でDBに登録まではできましたが、ログイン認証で一致せず困っております。 どなたか教えていただけないでしょうか？ 例： <input type="password"name="password" value="1234"> $pass = $_POST[pass]; $password = crypt($pass); $passwordをDBに保存。 その後ログアウトし、ログインのパスワードで1234を入力すると「一致しません」となります。 login認証の際にどのように実装してよいのかわからず困っています。 また、上記の内容にてセキュリティ上に問題がありましたらご指摘お願いします。
こんにちは、 一週間前のゼロ時から取得したいのですが 今日が2012/12/23日の場合 $oldday = strtotime(date('Y-m-d',strtotime("-7 day")));だと 2012/12/16 08:00:00 と8時からでゼロ時になりません。 2012/12/16 00:00:00 としたいのですが 何か方法ありますでしょうか？
以下のようにしてみたのですが「データはありません」という文章が何度も（何行も）表示されてしまいました。 while($test = mysql_fetch_array($sql, MYSQL_ASSOC)){ $name = $test[name]; if($cnt > 0){ echo "データはありません"; echo '<br>'; } elseif(empty($name)){ echo "データはありません"; echo '<br>'; } else{ $name = $name.'<br>'; } } whileで繰り返した結果、すべての$nameが「$cnt > 0」か「empty」の場合だけ、「データはありません」と一回だけ表示したいのですが、どのようにしたらいいでしょうか？
Bakeの使い方について教えてください。 モデルを作るときに 「Table sales does not exist, cannot bake a model without a table.」 というメッセージが出て、そこから先に進むことができません。 まず、Bakeを立ち上げて下記の画面でモデルを選びました。 Welcome to CakePHP v1.3.14 Console --------------------------------------------------------------- App : photo Path: /home/me/sample --------------------------------------------------------------- Interactive Bake Shell --------------------------------------------------------------- [D]atabase Configuration [M]odel [V]iew [C]ontroller [P]roject [F]ixture [T]est case [Q]uit What would you like to Bake? (D/M/V/C/P/F/T/Q) > m --------------------------------------------------------------- MySQLに登録されているテーブル名が下記のように表示されました。 （テーブル名が出てくるので、MySQLの接続はOKだとは思います） --------------------------------------------------------------- Bake Model Path: /home/me/sample/models/ --------------------------------------------------------------- Use Database Config: (default/test) [default] > Possible Models based on your current database: 1. Sample 2. Customer 3. Sale Enter a number from the list above, type in the name of another model, or 'q' to exit [q] > 3 --------------------------------------------------------------- 3番目の「Sale」のモデルを作りたいので3を入力しました。 すると下記のようなメッセージがでて、bakeが終了してしまいます。 --------------------------------------------------------------- Given your model named 'Sale', Cake would expect a database table named 'sales' Do you want to use this table? (y/n) [y] >y Table sales does not exist, cannot bake a model without a table. ---------------------------------------------------------------
こういう文字列から、期間を算出するには、どうすれば良いでしょうか？ 2009-09-12　　2012-12-22 「何日」とか「何ヶ月何日」という結果を導き出したいです
お世話になります。 PHPで、どうしてもわからないところで躓いております。 GDはonの状態でPHP5をXAMPPにて扱っております。 やりたいことは至って簡単で、 座標上で、例えば(10,10)の位置に画像を指定した縦横サイズ(30,30)に縮小して、 貼り付けたいのですが、 色々と関数を試しても、なぜか画像が表示されず、困っております。 貼り付ける画像の拡張子はＪＰＥＧです。 お忙しいところ恐れ入りますが、 宜しくお願い致します。
下記のようなテキストから日焼け止め ○○のような複合キーワードを抽出したいです。 ググってpreg_match_allを使うということまではわかったのですが、正規表現がよく理解できず、うまくいきません。どなたかご教授頂けないでしょうか？ {"AS":{"Query":"日焼け止め","FullResults":1,"Results":[{"Type":"AS","Suggests":[{"Txt":"日焼け止め新基準","Type":"SF","Sk":""},{"Txt":"日焼け止め ランキング","Type":"AS","Sk":"SF1"},{"Txt":"日焼け止め ランキング 2012","Type":"AS","Sk":"SF1AS1"},{"Txt":"日焼け止め スプレー","Type":"AS","Sk":"SF1AS2"},{"Txt":"日焼け止め spf","Type":"AS","Sk":"SF1AS3"},{"Txt":"日焼け止め 塗り方","Type":"AS","Sk":"SF1AS4"},{"Txt":"日焼け止め ノンケミカル","Type":"AS","Sk":"SF1AS5"},{"Txt":"日焼け止め 落とし方","Type":"AS","Sk":"SF1AS6"}]}]}} 以下のような形式で抽出できたらベストです。 日焼け止め新基準","日焼け止め ランキング","日焼け止め ランキング 2012","日焼け止め スプレー","日焼け止め spf","日焼け止め 塗り方","日焼け止め ノンケミカル","日焼け止め 落とし方
DB（Mysql）にあるIDを以下の条件をもとに一意に振りたいと考えております。 ・ID:0,1,2のみが(DBに）あれば次はID3を振る ・ID:0,2,3のみが(DBに）あれば次はID1を振る ご存じの方、宜しくお願いします。
CakePHPをVPSで構築したサーバー（Linux）にインストールしました。 .htaccess(mod_rewrite)の設定がうまくいっていないようなので対処の方法を教えてください。 [環境] PHP 5.3.3 Apache 2.3.3 CakePHP 1.3.15 mod_rewriteが動いてるのはチェック用のプログラムで確認しました。 controllerとViewファイルを作り、文字の表示は成功しています。 フォームの実験を行った時にフォーム送信後のURL表示がうまくいっていません。（get/post共に） [書籍を参考にしたプログラム] Sampleコントローラーを作り、Viewの中にSampleディレクトリを作りその中にindex.ctpファイルを設置。フォームにテキストを入力して送信ボタンを押すと、テキストが表示されるプログラムです。 [コントローラー]sample_controller.php class HelloController extends AppController { public $name = 'Hello'; public $uses = null; public $layout = "hello"; function index(){} function sendForm(){ ～フォームで送られたテキストを表示（プログラムは省略）～ } } [index.ctp]のフォームのHTML <form method="post" action="./sendForm"> ～省略～ <input type="submit" /> </form> http://www.example.com/sampleでフォームを開きテキストを入力して送信ボタンを押すと http://www/example.com/sample/sendForm　というURLになるはずなのですが、 http://www.example.com/sendForm　となってしまいます。 試しにブラウザから「http://www/example.com/sample/sendForm」というURLを入力してみますと、フォームで入力したデータは表示されませんが、ページ自体は表示されます。 もう一つ、index.ctpの<form method="post" action="./sendForm">のアクションのパスを /sample/sendForm　に変更してみますとデータも表示され、求めた結果になります。 以前、別の環境でこのプログラムを動かしたときは、<form method="post" action="./sendForm">のままでうまくいったので、.htaccessのファイルの設定に問題があると予想されます。 下記にcakePHPの設定情報を記載しますので、間違っている部分を指摘していただければと思います。 ※ディレクトリの構成は下記のページの「3.4.3. 高度なセットアップ：その他のインストール方法」を参考にしています。 http://cakephp.jp/old_doc/ch03s04.html [アプリケーションディレクトリ] /home ____/me ________/mysite ____________/config ____________/controllers ____________/models ____________/plugins ____________/tmp ____________/vendors ____________/views ____________index.php ____________.htaccess→「htaccessファイル1」● [公開ディレクトリ] /var ____/www ________/html ____________/example.com→ドキュメントルート _______________/css _______________/files _______________/img _______________/js _______________.htaccess→「htaccessファイル2」● _______________css.php _______________favicon.ico _______________index.php [コアファイルディレクトリ] /usr ____/lib ________/cake ____________/cake ________________/config ________________/docs ________________/libs ________________/scripts ________________app_controller.php ________________app_model.php ________________basics.php ________________bootstrap.php ________________dispatcher.php ____________/vendors ____________/plugins ____________index.php ____________.htaccess→「htaccessファイル3」● 「htaccessファイル1」（アプリケーション） -------------------------------------------------- <IfModule mod_rewrite.c> RewriteEngine on 　　RewriteBase /cake/app→■追加　 RewriteRule ^$ webroot/ [L] RewriteRule (.*) webroot/$1 [L] </IfModule> ------------------------------------------------- 「htaccessファイル2」（公開） -------------------------------------------------- <IfModule mod_rewrite.c> RewriteEngine On 　　RewriteBase / →■追加 　RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteRule ^(.*)$ index.php?url=$1 [QSA,L] </IfModule> -------------------------------------------------- 「htaccessファイル3」（コア） -------------------------------------------------- <IfModule mod_rewrite.c> RewriteEngine on 　 RewriteBase /cake→■追加 RewriteRule ^$ app/webroot/ [L] RewriteRule (.*) app/webroot/$1 [L] </IfModule> -------------------------------------------------- 疑問点は下記のようになっています。 （１）追加した部分のRewriteBaseはこれで良いのか？ （２）RewriteRule ^$ webroot/ [L] RewriteRule (.*) webroot/$1 [L] の部分はこのままで良いのか？webroot部分の変更は必要か？ （３）RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]の部分はこのままで良いのか？
以下のコードでPHPを書き、サーバに上げて確認してみると、 なぜか真っ白なページとなってしまいます。 ページの内容としては、「楽天」というキーワードを、 各種パラメータとともに、"楽天商品検索API２"に渡して、 返ってきたXMLのデータを配列に入れ、 商品名や価格、説明文をWEBページ上にテーブルタグの中に入れて30件表示… というものなのですけど、 なにが間違っているのか、どなたかご教授くださいませ。 お願いします。 ---------以下、作成したPHPコード------------ <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitio … <html xmlns="http://www.w3.org/1999/xhtml"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <meta http-equiv="Content-Style-Type" content="text/css"> <title>楽天商品検索API サンプル</title> <style type="text/css"> <!-- img { border: none; } table { margin: 10px; border-top-width: 1px; border-left-width: 1px; border-top-style: solid; border-left-style: solid; border-top-color: gray; border-left-color: gray; } table td { padding: 5px; border-right-width: 1px; border-bottom-width: 1px; border-right-style: solid; border-bottom-style: solid; border-right-color: gray; border-bottom-color: gray; } .image { width: 80px; text-align: center; } .price { color: #8b0000; font-weight: bold; width: 80px; text-align: center; } //--> </style> </head> <body> <?php mb_language("Japanese"); mb_internal_encoding ("utf-8"); $hit = '30'; $num = '1'; $word = '楽天'; $base = 'https://app.rakuten.co.jp/services/api/IchibaIte … $applicationId = '&applicationId=★アプリッケーションID★'; $affiliateId = '&affiliateId=★アフィリエイトID★'; $keyword = '&keyword=' .urlencode($word); $hits = '&hits=' .$hit; $page = '&page=' .$num; $file = $base .$keyword .$affiliateId .$hits .$page .$applicationId; $data = file_get_contents($file); $xml = simplexml_load_string($data); var_dump($xml) foreach($xml->Items->Item-> as $item){ $itemName = $item->itemName; $itemPrice = $item->itemPrice; $itemCaption = $item->itemCaption; $affiliateUrl = $item->affiliateUrl; $ImageUrl = $item->smallImageUrls->imageUrl; //文字数を指定して抜き出す　100文字以上なら・・・を追加する $content = mb_substr($itemCaption,0,100); if( mb_strlen($itemCaption)>100){ $content .= '・・・'; } print <<< page <table width="80%" cellspacing="0" cellpadding="0"> <tr> <td class="image" rowspan="2"> <a href="{$affiliateUrl}" target="_blank"><img src="{$ImageUrl}"</a> </td> <td><a href="{$affiliateUrl}" target="_blank">{$itemName}</a></td> <td class="price">{$itemPrice}円</td> </tr> <tr> <td colspan="2">{$content}</td> </tr> </table> page; } ?> <!-- Rakuten Web Services Attribution Snippet FROM HERE --> <a href="http://webservice.rakuten.co.jp/" target="_blank">Supported by 楽天ウェブサービス</a> <!-- Rakuten Web Services Attribution Snippet TO HERE --> </body> </html>
こんにちは お分かりになられるかた教えて下さい。 $arr = array(); $arr[] = 'c.status = 1'; $arr[] = $db->quoteInto('cc.language_id = ?', $_langId); $arr[] = $db->quoteInto('cc.title = ?', 'hoge'); 上記の分で、　hoge　という文字列を検索させていますが、 これをワイルドカードの　*hoge* みたいに　titleにhogeが含まれているもの全てを 検索させたいのですが、行き詰まりました。 どなたかお分かりになられる方ご教授お願いできませんでしょうか？ よろしくお願い致します。
お世話になります。 定義クラスにおいて、オブジェクト生成時と解放時にコールされる関数（__construct()、__destruct()）は有名ですが、クラス内に定義した自作関数がコールされた時と終了（？）した時に、コールされる関数は存在するのでしょうか。 現在、自作した関数の最初と最後に、ログ書き込み用の自作関数を仕込む事で、希望した挙動を実装していますが、自作関数におけるコンストラクタ、デストラクタの様な関数があれば楽かなと、色々検索したのですが、今ひとつヒットしませんでした。 ご存じの方、情報提供頂ければ嬉しいです。
お世話になっておりますm(_ _)m 今、下記のような３つの連想配列がありまして、 これらを１つの連想配列に統合出来ないか調べているのですが、 上手い方法が見つかりません。 $arrayAAA[0]['name'] = "goo"; $arrayBBB[0]['color'] = "white"; $arrayCCC[0]['media'] = "web"; ↓統合してこのようにしたい $newArray[0]['name'] //"goo" $newArray[0]['color'] //"white" $newArray[0]['media'] //"web" 上記の例では０番目の配列のみですが、 実際は４０番までインデックス値があります。 もし、これを実現する方法をご存知の方がおりましたら、 ご教授頂けませんでしょうか？ よろしくお願い致しますm(_ _)m
＜知りたいこと＞ ・ワードプレスのパーマリンクはどういう仕組みになっているのでしょうか？ ・具体的には、エントリー投稿毎に、個別URLを設定すると、どういう風に「.htaccess」に伝わって、URLが生成されるか知りたいです ▽パーマリンクの使い方 - WordPress Codex 日本語版 　 http://wpdocs.sourceforge.jp/%E3%83%91%E3%83%BC% … ＜最終的にやりたいこと＞ ・ワードプレスのパーマリンクを普通のブログとかで実装したい(エントリー投稿する際、個別URL、もしくは「/%postname%/」みたいにしたい) ※「.htaccess」「mod_rewrite」は使える環境です
＜困っていること＞ ・カウンタを設置したのですが、自分でアクセスした場合もカウントアップされてしまいます ＜やりたいこと＞ ・「自分のPCからアクセスした場合」という条件判定を、ログイン等せずに行いたい ＜試したこと＞ ・$_SERVER['REMOTE_ADDR'];で条件分けしてみたのですが、IPが固定でないため(？)、再起動等すると、アドレスを書き変える必要があり、結構手間です ＜質問＞ ・何か良い方法はないでしょうか？ ・掲示板でIPアドレス制限とかあるかと思いますが、あれはどうやっているのでしょうか？
htmlでwebサイトを作成しています。 ファイル自体はphpにして、ヘッダーやナビゲーション、フッターなど、 共通部分はテンプレート化してincludeさせていますが、 サイトのTOPページだけ、微妙に表示を変えたいところがあります。 TOPページだけ、テンプレートを使わなければ良い話なのですが、 出来ればテンプレートを読み込ませたいと思っています。 そこで、特定のページにだけあるタグを表示させたりする条件分岐の書き方を 教えてください。 ソース中に下記のように書くのだとおもうのですが、、 <?php if (条件) { <p>○○○</p> } else { 　<h2>xxxxx</h2> <p>○○○</p> } ?> （条件）部分の書き方がわかりません。 よろしくお願いします。
PHPのフレームワークを使って、サイトを作成しているのですが、 .htaccessの設定でつまずいております。 RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule . index.php 上記のコードはフレームワークを使う時の お決まりのようなコードなのだと思うのですが、 これはコピペして問題無く動作しております。 ※このコードは下記ページのものをコピペしました。 http://www.yiiframework.com/doc/guide/1.1/ja/top … しかし、この既存の.htaccessファイルに下記の通り、 www無しのアクセスをwww有りのurlに転送させるための コードを追加すると、サイト内のリンクが切れてしまいます。 RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{HTTP_HOST} ^mydomain.com //これを追加した RewriteRule ^(.*)$ http://www.mydomain.com/ [R=301,L] //これを追加した RewriteRule . index.php 記述方法が誤っているのだと思うのですが、どのように記述すれば、 正常に動くのでしょうか？
初心者です。 よろしくお願いいたします。 $sql = "SELECT * FROM table WHERE s_code IN ('" .$code."')"; $res = mysql_query($sql) or die("データ抽出エラー"); echo( "<TABLE>" ); echo( "<TR>" ); echo( "<TH>コード</TH>" ); echo( "<TH>コード名称</TH>" ); echo( "<TH>情報</TH>" ); echo( "</TR>\n" ); while ($row = mysql_fetch_array($res,MYSQL_ASSOC)){ echo( "<TR>" ); echo("<td>$row[s_code]</td>"); echo("<td>$row[name_j]</td>"); echo("<td>$row[contents]</td>"); echo( "</TR>\n" ); } 上記を実行すると $codeにカンマ区切りで入っているデータと テーブル（table)のs_codeに一致するデータが表示されます。 一致しないデータがあった場合は $codeのデータのみ表の１列目に記入させることは可能でしょうか。 たとえば、 ＄codeが　（A,B,C）で table　には　AとCしか　ない場合 -------------------------------- コード　　コード名称　　情報 -------------------------------- Aりんご青森産 B　 Cバナナフィリピン産 --------------------------------- 説明が下手ですみません。 よろしくお願いいたします。
ある調味料に対応するスコアを設定して、 最もスコアが高い調味料を3つ選別しようと思います。 <?php $name=array("satou","sio" ,"miso","sansyo","wasabi"); $score=array(12,18,13,24,19); $res=array('name'=>$name,'score'=>$score); $output=array_multisort($res['score'],SORT_DESC);// print($output[name][0]); print($output[name][1]); print($output[name][2]); ?> 考えたのですが、なぜうまくいかないのかが分かりません。 どなたか訂正箇所を教えてください。よろしくお願いいたします。
windows7 + xampp1.7.7(php5.3.8)を使用しています。 192.168.0.2の65500番ポートだとFirefox（ChromeとIE9でも同じ現象。）で、 phpで設定したcookieがphpで取得できない現象にハマっています。 sessionはfileに保存していて、 こちらは動作しています。 80番だと問題なく取得できます。 これは何が原因だと考えられるでしょうか？ よろしくお願い致します。
スレッドやフォーラムに鍵をかけられるBBSスクリプトを探してます。 条件は、 ・PHP使用 ・MySQL使用 ・スレッド式(鍵可) です。 コンテンツの一部として利用したいので、デザインを変更しやすいと助かります。 検索方法が悪いのか、なかなか鍵付きは見つかりません。。 どなたか良いのがあったら教えて下さい。
カテ違いかと思いましたが、こちらのカテの人の方が詳しそうだったのでこちらで失礼します。 『さっかりん』というサッカーサイトでは2chのスレを自動で取得し表示しています。↓ http://soccer.phew.homeip.net/bbs/?start=0&sort= … これはどのようにするのでしょうか？ 『2ch RSS』でググってもレスをRSSで取得する方法しか見つからず。 提示したサイトのように最新のスレと()内にスレの数、スレの作成日を取得し表示するようにしたいのですが。 ご存知の方いらっしゃいましたらご教示ください。 よろしくお願いします。
mysql_fetch_arrayで得た連想配列をCSV形式で出力するようなプログラムを考えました。 $urs = array(); mysql_select_db( $dbName, $link ); $res = array(); $text=""; $temp = mysql_query( "SELECT * FROM nes ", $link ); while( $urs = mysql_fetch_array($temp , MYSQL_ASSOC) ){ $res[]=$urs; } fputcsv($text , $res); print($text); しかしfputcsvは配列をファイルにCSV形式で出力するプログラムなので、上ではエラーが出てうまくいきません。 本来ファイルに書き込むはずのテキストを、そのまま出力することができる良い方法があれば教えてください。 よろしくお願いいたします。
※httpのhを省いています。 //index.phpの内部に if( $_REQUEST['m'] == "abc" ) { echo 'abc'; } if( $_REQUEST['m'] == "cde" ) { echo 'cde'; } というプログラムがあり、 ttp://example.com/index.php?a=abc とした時、「abc」が返され、 ttp://example.com/index.php?a=cde とした時、「cde」が返されるのは分かりますが、「abc」も「cde」も両方共表示できるにはどのようなにしたらURLが良いですか？ あるいは、プログラムの一部を変えて両方表示する方法はあるでしょうか？ ただし、下記の場合を除くとします。 ttp://example.com/index.php?a=abc if( $_REQUEST['m'] == "abc" ) { echo 'abc'; echo 'cde'; } お手数ですが、よろしくお願い致します。
以下ページの経過時間取得のスクリプトですが、 http://detail.chiebukuro.yahoo.co.jp/qa/question … $div = split(" ", "2010-10-29 09:55:16"); $div_year = split("-", $div[0]); $div_hour = split(":", $div[1]); $pretime = mktime($div_hour[0], $div_hour[1], $div_hour[2], $div_year[1], $div_year[2], $div_year[0]); $now = mktime(); $d = $now - $pretime; $d = $d/60; echo $d."後"; この$dの表示を、以下のようにしたいのですが可能でしょうか？ ○日○時間○分 後 ○時間○分 後 ○分 後 PHP初級故、これがわかりません。 どうぞ、宜しくお願いいたします。
phpのシステムをFTPでWEBサーバに納品をするのですが ソースを保護したく ソースを見せる分にはいいのですがphpファイルを編集させたくありません。 何かいい方法はありますでしょうか？
PHPのPDO　sqlsrvにてSQLSERVERのINSERTを実行しています。 INSERTで暗号化したいのですが、エラーが発生してしまいます。 キーのOPEN $SQL = "INSERT　INTO　ATable (aaa) VALUES (EncryptByKey(Key_GUID('Crypt_Key'),N':qqq.')"; $stmt = $PDO->prepare($SQL) $stmt->bindParam(':qqq',$aaa); $aaa = "aaaaaaa"; $stmt->execute(); キーのclose で SQLSTATE[HY093]: Invalid parameter number: parameter was not defined エラーの意味は分かるのですが、いろいろ試しましたが、暗号化をどのように表記すれば 良いのかわかりません。 参考になるサイトでもかまいませんのでお願いします。
例えば"%u30dd%u30fc%u30bf%u30eb"という文字列を"ポータル"にunescapeしたいとき、javascriptでしたら <script language="JavaScript"> <!-- document.write(unescape("%u30dd%u30fc%u30bf%u30eb")); //--> </script> でいけますが、PHPでやるならば http://dozo.matrix.jp/pear/index.php?PEAR%2FHTML … のように長いコードを使わなければいけません。 PHPの処理中にjavascriptを使用することができたら大変便利だと思うのですが、 処理の一部にjavascriptの関数を使用するよい方法はないでしょうか。 どなたかご存知の方、よろしくお願いいたします。
FORMのSELECTなどで選択されたデータをGETで送り、 それをもとにSQLの文章を作りたいと思っています。 $yyy = "SELECT * FROM table WHERE 1 AND {$a} < mysqlA AND {$b} < mysqlB AND mysqlC IN({$b}) ・・・"; のようにすればSQLの文章を作れると思いますが、FORMで選択されていないデータを対象にした文章までも入ってしまいます。 FORMより送られたデータだけのSQLの文章を作りたいです。 下記のようなやり方以外に良い方法はありますか？ MYSQLのデータ ------------------------------- mysqlA | mysqlB |　　・・・ 4 　　　　|　　55　　|　　・・・ 5 　　　　|　　33　　|　　・・・ 77 　　　|　　17　　|　　・・・ ：　　　　　　　：　　　　　： ：　　　　　　　：　　　　　： <?php 　： 　： $lll = array( "getA"=>"mysqlA", "getB"=>"mysqlB", "getC"=>"mysqlC", "getD"=>"mysqlD", "getE"=>"mysqlE", 　　： ); $yyy = 'SELECT * FROM table WHERE 1'; foreach($lll as $key=>$val){ if(!isset($_REQUEST[$key]) or $_REQUEST[$key]==='') {$_REQUEST[$key]="";} switch($key){ case "getA": $ga = explode("+", $_REQUEST[$key]); $yyy .= ' AND {$ga[0]} <= {$val} AND {$val} < {$ga[1]}'; break; case "getB": $yyy .= 'AND {$val} BETWEEN CURDATE() - INTERVAL {$_REQUEST[$key]} YEAR AND CURDATE() - INTERVAL 1 DAY'; break; case "getC": case "getD": case "getE": $yyy .= ' AND {$_REQUEST[$key]} <= {$val}'; break; ～ 他のcaseが続く ～ } } $ddd = new PDO($host,$user,$pass); $sss = $ddd->prepare($qqq); $rrr = $sss->fetchAll(PDO::FETCH_ASSOC); 　： 　： ?> <html xml:lang="ja" lang="ja"> <head> <title></title> </head> <body> <form action="#"> 　　： <select name="getB" onchange="changeDate()"> <option value="0"<?php if(isset($_REQUEST[$getB]) && $_REQUEST[$getB]==0){echo ' selected="selected"';} ?>>0</option> <option value="20"<?php if(isset($_REQUEST[$getB]) && $_REQUEST[$getB]==20){echo ' selected="selected"';} ?>>20</option> <option value="50"<?php if(isset($_REQUEST[$getB]) && $_REQUEST[$getB]==50){echo ' selected="selected"';} ?>>50</option> </select> 　　： 　　：
こんにちは、rss取得方法を勉強中なのですが 下記phpでrssを取得しているのですが、$xml->entry[$i]['item']->titleなどで うまく表示されません。（外部phpからxoopsのpicoというモジュールのrssを取得しようとしています。） phpコード $rssurl = "url"; $xml = simplexml_load_file($rssurl); $num_of_data = 4; $outdata = ""; for ($i=0; $i<$num_of_data; $i++){ $outdata .= "<li>"; $outdata .= "<a href=\""; $outdata .= $xml->entry[$i]->link[href]; $outdata .= "\">"; $outdata .= $xml->entry[$i]['item']->title; $outdata .= "</a><br />\n"; $outdata .= "</li>"; } xmlの中身 SimpleXMLElement Object ( [@attributes] => Array ( [version] => 2.0 ) [channel] => SimpleXMLElement Object ( [title] => XOOPS Cube Site - pico [link] => http://localhost/xoops/modules/pico/ [description] => SimpleXMLElement Object ( ) [lastBuildDate] => Thu, 13 Dec 2012 02:52:29 +0100 [docs] => http://backend.userland.com/rss/ [generator] => XOOPS - pico [category] => TOP [webMaster] => admin@hotmail.co.jp [language] => ja [item] => Array ( [0] => SimpleXMLElement Object ( [title] => コンテンツ１ [link] => http://localhost/xoops/modules/pico/index.php/in … [description] => 正式名称：NARUTO -ナルト概要：体内に九尾の妖狐を封印された落ちこぼれ忍者・うずまきナルトが、里一番の忍である火影を目指し、数々の試練を乗り越え成長していく物語。仲間との友... [guid] => http://localhost/xoops/modules/pico/index.php/in … [pubDate] => Thu, 13 Dec 2012 02:52:29 +0100 [category] => アニメタイトル ) [1] => SimpleXMLElement Object ( [title] => ee [link] => http://localhost/xoops/modules/pico/index.php/co … [description] => e [guid] => http://localhost/xoops/modules/pico/index.php/co … [pubDate] => Thu, 13 Dec 2012 02:03:51 +0100 [category] => アニメタイトル ) [2] => SimpleXMLElement Object ( [title] => コンテンツ6 [link] => http://localhost/xoops/modules/pico/index.php/co … [description] => コンテンツ2 [guid] => http://localhost/xoops/modules/pico/index.php/co … [pubDate] => Thu, 13 Dec 2012 01:53:17 +0100 [category] => アニメタイトル ) ) ) )
環境はphp4です。 for、もしくはforeachを使って配列の中身を変えたいと思っています。 $array1 = array(123csv, 456csv, 789csv); for($a = 0; $a <= count($array1) -1; $a++){ $array2[] = "a" . $array1[$a]; } echo $array1[0]; echo $array2[0]; 上記の出力結果がなぜか異なり困っています。 array1[0]は「123csv」、 array2[0]は「a113csv」、もしくは「a12300v」 などとなってしまいます。 先頭に「a」を付加しない場合も「113csv」、もしくは「12300v」という結果です。 ちなみに$array1はexplodeを使って空白文字をを分割して作成した配列です。 これなバグなのでしょうか。 原因、回避策など、いろいろ調べましたが検討がつきません。 よろしくお願いします。
前回の続き的になりますが、サーバは、allow_url_fopen=off　の環境です。 色々なサイトを調べてみて、下記コードを発見して、自分なりに修正しましたが、 とにかく重くて仕方ありません。いらないものがあるのでしょうか。 $url = 'http://'.$_SERVER["HTTP_HOST"].$_SERVER['SCRIPT_NAME']; $link_en = (str_replace("www", "www.en", 'http://'.$_SERVER["HTTP_HOST"].$_SERVER['SCRIPT_NAME'] )); function url_exists($link_en) { $arr = parse_url($link_en); $fp = fsockopen($arr['host'], 80); if ($fp == FALSE) return FALSE; $out = ''; $out .= "GET {$arr['path']} HTTP/1.1\r\n"; $out .= "Host: {$arr['host']}\r\n"; $out .= "\r\n"; fwrite($fp, $out); //HTTPコール $res = fgets($fp); //HTTPレスポンス $n = preg_match("/^(HTTP\/[0-9\.]+) ([0-9]+) (.+)/i", $res, $arr); if ($n == 0) return FALSE; $num = $arr[2]; if ($num >= 200 && $num < 400) return TRUE; //HTTP 200-399 ならOK return FALSE; } if (! url_exists($link_en)) { $url_en = "English"; } else { $url_en = '<a href="'.$link_en.'">English</a>'; }
PHPプログラミングをしております。 入力フォームを作成しているのですが、前のページで入力し、受け取った内容をもう一度表示させたいのです。 入力フォームにあらかじめ文字を入れておくのは、フォームタグに value="文字" をつけたせば良いのはわかったのですが、 今回文字を$text = $_POST['name']; という形で受け取っています。 入力フォームにあらかじめこの受け取った$text を表示させるにはどうすれば良いのでしょうか。
PHPプログラミングをしています。 「はい」というボタンが押されたらこの処理を行い、 「いいえ」というボタンが押されたらこの処理を行う ということはどうすれば実装できるのでしょうか？
MySQLとPHPを使って、「この情報は何分前に更新されました」という旨の メッセージを表示したいのですが、方法がわからないのでご質問させてい ただきます。 MySQL内では、何時間何分前に更新されたものか表示できるのですが、 これらの値をどのようにPHPで持ってくるのかがわかりません。 --- --- --- --- --- --- --- --- --- --- --- --- mysql> select timediff(modified,now()) from test_TB; +--------------------------+ | timediff(modified,now()) | +--------------------------+ | -348:04:24 | | -614:09:08 | | -614:09:08 | | -614:09:08 | | -614:09:08 | | -614:09:08 | | -614:09:08 | | -614:09:08 | | -546:23:46 | | -111:12:22 | | -111:11:11 | | -111:10:57 | | -98:53:42 | | -04:02:47 | +--------------------------+ --- --- --- --- --- --- --- --- --- --- --- --- テーブル名：　 　test_TB 時間のカラム： 　modified PHPでは以下のように書いてみたのですが、エラーで値が取り出せずにいます。 --- --- --- --- --- --- --- --- --- --- --- --- <?php //データベースに接続 session_start(); require('dbconnect.php'); $t01 = 'select timediff(modified,now()) from test_TB;'; $t02 = mysql_query($t01) or die(mysql_error()); $t03 = mysql_fetch_assoc($t02); ?> <html> <body> <?php while($t03 = mysql_fetch_assoc($t02)): ?> <?php echo $t03['timediff'];?> <?php endwhile; ?> </body> </html> --- --- --- --- --- --- --- --- --- --- --- --- プログラミングをはじめたばかりで質問にも不備があると思いますが、 よろしくお願いいたします。 （お手数ですが、具体的なコードで教えていただけると非常にありがたいです）
$_REQUEST['getA']、$_REQUEST['getB']、$_REQUEST['getC']　・・・　とあり、 これらをMYSQLのSQL文に効率的に組み込んでいきたいです。 mysqlのデータと$_REQUESTのキー名と対応させた$lllを foreachでそれぞれをswitchで処理を分けて、 $qqqのSQL文に組み込んでいるつもりです。 よろしくお願いします。 $lll = array( "getA"=>"mysql_colum_name_A", "getB"=>"mysql_colum_name_B", "getC"=>"mysql_colum_name_C", "getD"=>"mysql_colum_name_D", "getE"=>"mysql_colum_name_E" ); foreach($lll as $key=>$val){ if(!isset($_REQUEST[$key]) or $_REQUEST[$key]==='') continue; switch($key){ case "getA": $ga = explode("+", $_REQUEST[$key]); $val_A = $val; break; case "getB": $gb = $_REQUEST[$key]; $val_B = $val; break; case "getC": $gc = $_REQUEST[$key]; $val_C = $val; break; case "getD": $gd = $_REQUEST[$key]; $val_D = $val; break; ～ 他のcaseが続く ～ } } $qqq =<<<__SSS__ SELECT * FROM table WHERE 1 AND ga0 <= val_A AND val_A < ga1 AND `colum_B` BETWEEN CURDATE() - INTERVAL gb YEAR AND CURDATE() - INTERVAL 1 DAY AND gc <= val_C AND gd <= val_D AND val_E IN(ge) ORDER BY field deskORasc LIMIT L1,L2; __SSS__; $sss = $ddd->prepare($qqq); $sss->execute(array( ':ga0'=>$ga[0], ':ga1'=>$ga[1], ':val_A'=>$val_A, ':gb'=>$gb, ':val_B'=>$val_B, ':gc'=>$gc, ':val_C'=>$val_C, ':gd'=>$gd, ':val_D'=>$val_D, ':ge'=>$ge, ':val_E'=>$val_E, ～いろいろなものが続く～ ':field'=>$field, ':deskORasc'=>$deskORasc, ':L1'=>0, ':L2'=>50 )); $rrr = $sss->fetchAll(PDO::FETCH_ASSOC);
変数の一致条件がたくさんあるときの判定の書き方を教えてください ＜例＞ $areaが、下記の条件判定 tokyo osaka nagoya 現状では、下記のように書いているのですが、 今後、この条件が増えてくる可能性があるので、 そうしたとき、もっとスマートに書きたいです if (($area=='tokyo') || ($area=='osaka') || ($area=='nagoya')) { 　処理; }
phpを使ってページの一部をファイルから呼び出し 自動更新する仕組みを作成しています。 ファイル中の日付をキーにして、今日の日付（例： 2012-12-10）の行から テキスト情報を取り出して表示させようとしています。 -------------------------------------------------------------------------------- $file = file("/data/********/dailydata.dat"); // ファイルを配列に移動 // datファイル内の一行は、「2012-12-10,aaaaaaaa,テキストコメント,10,」となっています。 // 一行は「,」カンマで区切られ４つの要素に分かれます。 // この中のテキストコメントと最後の数値を抽出して表示させます。 // ※datファイルの文字コードは「EUC」のため、抽出後は「SJIS」で表示させます。 $today = date("Y-m-d"); // 日付を取得 if($file != ""){ foreach($file as $sd){ $sd = mb_convert_encoding($sd, "SJIS", "EUC-JP"); // 文字コード変換 print "$sd<br>"; // 確認のためリスト表示 if(preg_match($today, $sd)){ // 配列日付で $sd_array = explode(",", $sd); // マッチした要素を「,」カンマで分割 $s_name = $sd_array[2]; // 指定の配列を変数に代入 $num = $sd_array[3]; // 同じく } } } else{ print "No data!!"; // ファイルが空ならエラーを表示 } -------------------------------------------------------------------------------- 上記で実行すると、$sdには$fileから取り出した要素が入るのですが、 preg_match()でマッチさせた値が取り出せません。 初歩的なミスかと思うのですが、どなたかご指摘、ご教授いただけませんでしょうか？ よろしくお願い致します。
こんにちは、 下記文章があるのですが、今の状態だと データ分だけ行数が増えていくので、これを 3列表示したら改行して、次の行で表示としたいのですが、 どのようなロジックで行えばよいのでしょうか？ <table class="outer"> <{foreach item="value" from=$values}> <tr> <td> <input type="checkbox" name="checked[]" value="<{$value.id}>" <{$value.checked}> > <{$value.title}> </td> </tr> <{/foreach}> </table>
$loop = 5; $count = 0; while($count < $loop){ mt_srand(microtime() * 100000); $rand_key = rand(0,9); if　(in_array($rand_key, $yomi)){ $count--; continue; } echo $yomi[$rand_key]\n; } 配列($yomi)に格納されたひらがなから5つ重複させずに選び出したいのですが、 randで選出された「りんご」が2度選び出された場合、これでやり直しされますか？ 現在出力出来る環境がありません… 初心者ですので指摘やアドバイス等いただけると嬉しいです。 よろしくお願いします。
趣味でＨＰを作ろうとＰＨＰを始めました。 初歩的な質問で恐縮なのですがどなたかご協力頂けないでしょうか？ 多少省略していますが現在作成中のスクリプトは以下の通りです。 $sql="SELECT * FROM property WHERE price BETWEEN ? AND ? AND citycd=?"; $stmt = $db->prepare($sql); $stmt->execute(array($price1,$price2,$citycd1)); $rows=$stmt->fetchAll(PDO::FETCH_ASSOC); foreach($rows as $r){ echo .$r['plan'].; } 上記のなかでarrayの中の変数が変数として認識されません。 変数は$_POSTで受け取っているものなのですが、受け取りの成功は確認済です。 また、変数の代わりに数字を直で入れれば動くので、やはり変数の書き方に問題があるかと思います。 変数のセットの仕方は { } や '..' など色々あると思います。 マニュアルでそのあたりを調べて何パターンか試してみたのですがうまくいきません。 http://php.net/manual/ja/language.types.string.php 恥ずかしい質問ですがよろしくお願いいたします。
検索システムの検索結果を分割表示する仕組みを作っているのですが、１ページ目は問題無く思った通りに表示されます。 しかし、２ページ目以降はすべて全件表示してしまいます。 「◯件中△件表示」というのは正常に動作しています。 いろいろ試行錯誤する中で、$queryの中身が２ページ目以降はwhere句等が外れてしまっているのが原因だということがわかりました。 じゃあ２ページ目以降にもきちんとそれらが反映されるように手直ししていこうということなのですが、どう対処していいかにつまづいています。 いろいろ情報を見ながら何度もチャレンジしているのですがうまくいきません。 ２ページ目以降が全件表示ではなく検索結果として１ページ目の続きとして表示させるためにどうすればいいか、アドバイスをいただけないでしょうか。 よろしくお願い致します。 ※以下に今回の該当箇所のコードを記載します。 <?php $debug = false; //DB 接続 $url = "localhost"; $user = "DBユーザー名"; $pass = "DBパスワード"; $db = "DB名"; $link = mysql_connect($url,$user,$pass) or die("No Connected"); $sdb = mysql_select_db($db,$link) or die("No Connected"); if($debug) echo_r($_GET); mysql_set_charset('utf8'); //エラーチェック //リクエストメソッドチェック if($_SERVER["REQUEST_METHOD"] != "GET") { echo "Error: invalid method"; exit(); } define('NUM_SHOPS', 10); error_reporting(E_ALL & ~E_NOTICE); if (preg_match('/^[1-9][0-9]*$/', $_GET['page'])) { $page = (int)$_GET['page']; } else { $page = 1; } $offset = NUM_SHOPS * ($page - 1); //クエリ生成 $query = "SELECT * FROM テーブル名"; //検索条件抽出 $where = array(); if (isset($_GET['area'])and($_GET['area'] !== '')) { $where[] = sprintf("(area='%s')", mysql_real_escape_string($_GET['area'])); } if (count($where) <> 0) { $query .= ' where ' . implode(' and ', $where) . ' ORDER BY id DESC '; } if (count($where) <> 0) { $query .= "limit " . $offset . ", " . NUM_SHOPS; } //Result $result = mysql_query($query) or die($query . '<br />' . mysql_error() . '<hr />'); $num_rows = mysql_num_rows($result); //検索結果件数カウント $query = "SELECT COUNT(id) FROM テーブル名"; $where = array(); if (isset($_GET['area'])and($_GET['area'] !== '')) { $where[] = sprintf("(area='%s')", mysql_real_escape_string($_GET['area'])); } if (count($where) <> 0) { $query .= ' where ' . implode(' and ', $where) . ' ORDER BY id DESC'; } $total = mysql_result(mysql_query($query), 0); $from = $offset + 1; $to = ($offset + NUM_SHOPS) < $total ? ($offset + NUM_SHOPS) : $total; ?> <!DOCTYPE html> <html lang="ja"> <head> <meta charset="UTF-8"> </head> <body> <!--検索結果表示画面始まり--> ～～～～～省略～～～～～ <!--検索結果表示画面終わり--> <!--以下、ページリンク--> <p> <?php if ($page > 1) : ?> <a href="?page=<?php echo $page - 1; ?>">前</a> <?php endif; ?> <?php for ($i = 1; $i <= ceil($total / NUM_SHOPS); $i++) : ?> <?php if ($page == $i) : ?> <strong><?php echo $i; ?></strong> <?php else : ?> <a href="?page=<?php echo $i; ?>"><?php echo $i; ?></a> <?php endif; ?> <?php endfor; ?> <?php if ($page < ceil($total / NUM_SHOPS)) : ?> <a href="?page=<?php echo $page + 1; ?>">次</a> <?php endif; ?> </p> </body> </html>
環境：mysql と php でプログラム作ってます。 実施したいこと： mysqlのカラム設定上は utf8_unicode_ci　に設定してますが、これだと検索した際 濁点もヒットしてしまうので、　検索結果時に濁点判定を入れたいと考え 以下のプログラムを書いてます。 $sql="select * from テーブル名 where name like '%".$keyword."%' or tel like '%".$keyword."%' collate utf8_bin"; $sql .= "limit " .$page*10 . ", 10"; $datas = mysql_query($sql, $db); while($row=mysql_fetch_array($datas)){ $name = $row["name"]; しかし、実行すると　$name = $row["name"]; で記述している箇所でエラーが出てしまいます。 エラーは、 mysql_fetch_array() expects parameter 1 to be resource, boolean given in となっており、 DBからデータを引っ張れていないと思われます。 検索時だけ、collate utf8_binを記述するのは間違っていたのでしょうか。。 アドバイスよろしくお願いいたします。
PHPのSQLインジェクションですが、sprintf内でクォートをしてあるとそれで大丈夫なのでしょうか？ 以下のようなコードがあり、nameは画面入力なのでSQLインジェクションが起こるのでは？ と作成者に確認したところ、"%s"してあるから大丈夫との返事をもらいました。 ネット調べるとmysql_real_escape_stringでエスケープしてから"%s"で変換すれば大丈夫といった内容は見つけたのですが、mysql_real_escape_stringなど不要との返事をもらいました。 なぜ？と聞くとそういうものだとしか回答がありません。 sprintf('UPDATE users SET name = "%s" WHERE id = %d', name, id); 結局上記のコードでSQLインジェクションは解消されているのでしょうか？
お世話になります、プログラム初心者です。 ＳＱＬ + PHPでデータを必要条件でまとめてテーブル表示させ、ソートが出来るようなページを作成しています。 具体的には保険のプランやサービス内容、特約などの全体の情報が入ったテーブルがあり、そこからヒモつけられた別テーブルに年齢性別別の料金の表があります。 「男性」「女性」や「終身」「定期」等の条件による情報の収集は出来るようになったのですが、並び替えのところでつまずいております。 例えば「保険料の安い順」に並び替えようとすると各料金表のテーブルから持ってきた年齢性別などの条件に合わせた料金を比較しなければならないので2段階の動きとなりうまくいきません。 一つのテーブルであればＳＱＬに「ORDER BY 」等の指定で出来るのですが、複数にまたがっている為、どのような考え方で進めればいいのか、また具体的にどのような方法があるのか。どなたかご教授頂けないでしょうか。
PHP&MySQLで４択形式の問題を作ることになったのですが作れません。 トップ画面から問題画面に移り、解答と解説、統計を出さなければならないのですが、いくら勉強してもわかりません。 助けてください。
strtrは大文字小文字を区別してしまうようなのですが、 こちらを区別せずに使用する方法はありませんでしょうか？ 例えば下記のような文章があったとします。 > これはappleでaです。 この場合のappleとaだけに spanタグをつけて強調表示したい場合です。 $text = "これはappleでaです。"; $key = array("apple", "a"); for($i = 0; $i < $count($key); $i++){ 　$line = "<span class=\"hoge\">{$key[$i]}</span>"; 　$keychg["{$key[$i]}"] = $line; } この後に、str_ireplaceで置き換え処理した場合、 $text = str_ireplace(array_keys($keychg), array_values($keychg) ,$text); この場合ですと、appleのaやspanのa、classのaにまで置き換え処理が及びます。 そこでstrtrを使用した場合、 $text = strtr($text, $keychg); この場合には問題なく、置き換え処理が完了します。 ところが $key = array("APPLE", "A"); $key = array("Apple", "A"); の場合ですと、strtrでは一致しなくなってしまいます。 このような問題を解決するためには どのような方法がありますでしょうか？
PHP, MySQLで検索システムを作り、検索結果の分割表示をしようとしています。 その際、SQL文にエラーが生じるのですが、原因が調べてみてもわかりません。 検索条件のSQL文内のNUM_SHOPSという部分を数値に変えると１ページ目はきちんと分割表示されますが２ページ目以降が全件表示されてしまいます。 そして、NUM_SHOPSの部分をそのままにすると、SQLがエラーを起こします。var_dumpで$queryを確認すると、SQL文が二重に入ってしまっているのですが、どうしてこのような現象が起きるのかがいまいちわかりません。 アドバイス、ご指摘等いただけないでしょうか。 よろしくお願い致します。 以下に該当箇所のコードを記載します。 【result.php】 <?php require_once('config.php'); require_once('functions.php'); connectDb(); if (preg_match('/^[1-9][0-9]*$/', $_GET['page'])) { $page = (int)$_GET['page']; } else { $page = 1; } $offset = NUM_SHOPS * ($page - 1); //クエリ生成 $query = "SELECT * FROM テーブル名"; //検索条件抽出 $where = array(); if (isset($_GET['area'])and($_GET['area'] !== '')) { $where[] = sprintf("(area='%s')", mysql_real_escape_string($_GET['area'])); } if (count($where) <> 0) { $query .= ' where ' . implode(' and ', $where) . ' ORDER BY id DESC '; } if (count($where) <> 0) { $query .= "limit " . $offset . ", NUM_SHOPS" ; } var_dump($query); //Result $result = mysql_query($query) or die($query . '<br />' . mysql_error() . '<hr />'); //検索結果件数カウント $query = "SELECT COUNT(id) FROM テーブル名"; $where = array(); if (isset($_GET['area'])and($_GET['area'] !== '')) { $where[] = sprintf("(area='%s')", mysql_real_escape_string($_GET['area'])); } if (count($where) <> 0) { $query .= ' where ' . implode(' and ', $where) . ' ORDER BY id DESC'; } $total = mysql_result(mysql_query($query), 0); $from = $offset + 1; $to = ($offset + NUM_SHOPS) < $total ? ($offset + NUM_SHOPS) : $total; ?> 【config.php】 <?php define('DB_HOST', '*************'); define('DB_USER', '*************'); define('DB_PASSWORD', '*************'); define('DB_NAME', '*************'); //ページごとのショップ数 define('NUM_SHOPS', 10); //エラー表示 error_reporting(E_ALL & ~E_NOTICE); 【functions.php】 <?php function connectDb() { mysql_connect(DB_HOST, DB_USER, DB_PASSWORD) or die("can not connect to DB:".mysql_error()); mysql_select_db(DB_NAME) or die("can not select DB: ".mysql_error()); } function h($s) { return htmlspecialchars($s); }
Twitterで画像を表示させる場合のURLに 自分のサーバのURLを使いたいときには どうしたら良いでしょうか？ 例えば自分のサーバ上に http://www.hoge.com/img/img01.jpg という画像があったとします。 ツイートを投稿する際に、上記のURLを張り付けると 単にURLを張り付けただけの投稿になってしまいます。 しっかりとこのURL先が画像として認識され、 ツイートに「画像を開く」ボタンが出てくるようにするには どのようにすれば良いでしょうか？ phpのheader関数で出力してもダメでした。 画像には全てidが降ってあるので、 http://www.hoge.com/img/index.php?id=1 のように指定できるのが理想です。 よろしくお願いいたします。
smartyで下記のコードがあり $goodsがarray()の状態で渡されてきた場合でも 一行空白が出力されてしまうので array()の場合、出力しないようにしたいのですが どのように記述すればよいでしょうか？ <{foreach item=value from=$goods}> <{$value}><br /> <{/foreach}>
phpMyAdmin-3.1.4 Apache/2.0.63 (Win32) MySQL 5.0.67 WindowsXP Pro の環境ですがphpMyAdminから新規DBを作成しようとするのですが、 「特権なし」と表示されできません。 どこに問題があるのでしょうか？ 情報が不足でしたら追加します。 よろしくお願いいたします。
$food["1"]["item0"]="y"; $food["1"]["item1"]="bi"; $food["1"]["item2"]="1300"; $food["1"]["item3"]="20060630"; $food["2"]["item0"]="y"; $food["2"]["item1"]="bi"; $food["2"]["item2"]="1500"; $food["2"]["item3"]="20070630"; $e = "a"; if( $e = "a"){ foreach($food as $key1=>$array){ foreach($array as $key2=>$array2){ if ($food["$key1"]["item2"] <="1300") { unset( $food[$key1]); } } } } 上記のプログラムを書いてローカル環境で実行するとNotice Undefined offsetの警告が沢山 出ます。ググるなどして、未定義の変数などがある場合に出ると他のサイトで読んだのですが上記に特に未定義の 変数は無いように思うのですが・・。 （unsetをecho "hello";などに置き換えると警告は出ません） やりたい事は上記のような配列の集まりが数百個あり、 item2の値の数値により配列を消したりしたいのですが、警告を無くすにはどうしたらよいでしょうか。 (一時配列は1から順に増えていきます) phpを始めたばかりで解決方法を探しているのですがネット上では見つけられません・・。
あああ いいい ううう えええ おおお という文を変数$tmpに格納すると横一列に出力されるかと思います。 改行されている状態で変数に格納して取り出す方法はありますでしょうか？ 宜しくお願いします。
カスタム投稿タイプにより、カタログサイトを作っているのですがwp-pagenaviがページ送りがうまくいきません。phpはよくわからないのでご指導いただければと書き込みました。 状況は下記の通りです。 ■index-frame.php (カスタムテンプレートとして、フレームカタログ一覧を表示。wp-pagenaviはこのphp内に表記しています。） パーマリンクは/%category%/%post_id%/ に設定 index-frame.phpによりサムネイルを表示させ、wp-paginaviでページ送りするとカスタム投稿タイプから投稿済みの別のサムネイルを表示させたいのですが、そうならず、index.phpが使用されてカスタム投稿タイプのタイトルと本文が表示されてしまいます。 サイトＵＲＬ　（”フレーム”に関しての表示部分です。）　 http://cm-creation.net/yoshida/localwork/megane- … index-frame.phpの表記は下記のとおりです。 <?php /* Template Name:インデックス・フレームのテンプレート */ ?> <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitio … <html xmlns="http://www.w3.org/1999/xhtml"> <head> <meta http-equiv="Content-Type" content="text/html; charset=<?php bloginfo('charset'); ?>" /> <title><?php bloginfo('name');?><?php wp_title(); ?></title> <link rel="stylesheet" href="<?php bloginfo('stylesheet_url'); ?>" type="text/css"/> <?php wp_head(); ?> </head> <body <?php body_class(); ?>> <div id="head-section"> <div id="header"> <h1><a href="#"><?php bloginfo('name'); ?></a></h1> </div> </div> <div id="wrapper-section"> <div class="clearfix" id="wrapper"> <!--カテゴリーナビ用フレーム強調--> <div id="cate_navi_container"> <?php wp_nav_menu(array( 'theme_location' => 'framebar', 'link_before' => '<img src="' . get_bloginfo('template_url') . '/images/', 'link_after' => '" alt="*" />' )); ?> </div> <!--サイドメニュー用--> <div class="clearfix" id="side-container"> <div id="sidebar"> <?php wp_nav_menu(array( 'theme_location' => 'sidebar', 'depth' => '2' )); ?> </div> </div> <!--メインコンテンツ用--> <div class="clearfix" id="main-container"> <?php if(have_posts()): while(have_posts()): the_post(); ?> <div class="title"> <h2><?php the_title(); ?></h2> <?php the_content(); ?> </div> <?php endwhile; endif; ?> <div class="itemlist"> <?php query_posts('post_type='.$post->post_name); ?> <?php if(have_posts()): while(have_posts()): the_post(); ?> <a href="<?php the_permalink(); ?>"> <?php the_post_thumbnail('ssize'); ?> </a> <?php endwhile; endif; ?> </div> <div id="pagenavi"> <!--ロールナビゲーション--> <div id="roll"><?php if(function_exists('wp_pagenavi')) { wp_pagenavi(); } else { vicuna_paging_link('next_label=Newer Entries&prev_label=Older Entries&indent=2'); } ?> </div> </div> </div> </div> </div> <?php get_footer(); ?> カスタム投稿タイプとwp-pagneviの問題についてネットで見ましたが、すいません、phpについてよくわかっておらずどこをどう表記変更したら良いかわからずにおります。よろしくお願いいたします。
こんにちは、php5.3で Notice [PHP]: Use of undefined constant viewid - assumed 'viewid' in file ～～～～～～ と警告が出るため、出ないようにコードを書き換えているのですが 原因の場所が下記コードの$age = mb_convert_kana($row[viewid],'n','UTF-8'); の部分でして、 function引数の$rowに$_POSTをそのまま渡しているだけなのですが エラーを出さなくする方法ってありますでしょうか？ public function indexaddcheak ($row,$msg){ 　//半角文字に変換 　$age = mb_convert_kana($row[viewid],'n','UTF-8'); 　if(!is_numeric($age)){ 　　　　エラー処理 　}
現在、Webサイトを作成しておりますが、気になることがでてきました。 それは、スマホユーザーとPCユーザーで表示する画面を切り替えることはできるのか？ということです。 私としては、スマホ用とPC用のHTMLファイルをそれぞれ作成し、スマホユーザーにはスマホ用のHTMLファイルを呼び出し、PCユーザーにはPC用のHTMLファイルを呼び出すことができればと思っております。 これは、もしかしてPHPを使えばできるのでしょうか？ その場合、切り替え方を簡単にで良いので教えて頂けないでしょうか？ 詳しく教えて頂ければ、何より幸いですが、どうぞ宜しくお願い致します。 ちなみに、PHPを使い、メールフォームは作成したことがあります。
こんにちは。PHPでTwitter APIを使用して情報を取得したいと思っています。 自宅ではできるのですが、大学で使用すると情報を取得できません。 プロキシサーバのせいでそうなると思うのですが、プロキシを通過するには、どのようなプログラムが必要なのでしょうか。
PHP上のMYSQLで、 個人情報テーブルがあるとします。 個人情報が何人か登録されていて ID5番は岡田さんとします。 別で、メッセージテーブルというのがあります。 こちらもいろんなコメントが、記録されてますが、 ID５番（岡田さん）向けへのコメントは３件あります。 表示結果はこんな感じになります。 名前：岡田 年齢：３０ 岡田さんへのコメント： Aさん　素晴らしい！ Bさん　こんにちわ！ Cさん　ありがとうございました！ このようにレコードが単品で出力されるテーブル（個人情報）と、 レコードが複数出力されるテーブル（メッセージ）を同時に出力される場合 どのようにリレーションを組んだらよいのでしょうか？ 単純にクエリを２回書き、 echo $単品レコード while($複数レコード){ 　echo $レコード } と、単品と複数を組み合わせたほうがよいのしょうか？
現在ＰＨＰとＳＱＬを使ってＨＰを作ろうとしている初心者です。 似たような質問は多くネットで見受けられるのですがうまくいかず悩んでます。 初歩的な質問で恐縮ですがご協力をお願いいたします。 やろうとしていることは、チェックボックスで選択された項目をＭＹＳＱＬでＳＥＬECT文で抽出するというものです。 以下、現在作成中のプログラム（一部抜粋）です。 <?php $stcd=$_POST["stcd"];　　←ここでチェックボックスの値を受け取っているつもりですが、配列の観点をのちのＳＱＬ文含めどのように織り込めば良いかがわかりません。 $db = new PDO("mysql:host=localhost;dbname=".$dbname,$username,$password); $sql="SELECT * FROM property WHERE stcd ={$stcd}"; $res=$db->query($sql); $rows=$res->fetchAll(PDO::FETCH_ASSOC); echo '<br />検索結果は'.$res->rowCount().'件です<br/>'; foreach($rows as $r){ echo '<td>'.$r['price'].'円</td>'; echo '<td>'.$r['stname'].'</td>'; } ?> チェックボックスの受け取り方が明らかにこれではできないとわかってはいるのですが、解決策がさっぱりわかりません。 ご協力をお願いいたします。
PHPでメールフォームを作成し、自動配信メールを付け加えました。 自動配信メールのテキストは次のようになっておりますが、リンクの付け方がわかりません。 <<<EOM　 この度は「OKWave」にお問い合せいただき誠にありがとうございます。 お問い合せ頂きました内容につきましては順次、ご回答を差し上げます。 EOM; htmlではaタグを使ってリンクとなりますが、上記の場合どうのようにリンクを付けたら良いのでしょうか？ 宜しくお願い致します。
submit前のhtmlファイルには次のように記載しております。 <tr> <td align="left" bgcolor="#FFF09D"><span class="tabletext0">本</span></td> <td> <input type="radio" name="book" id="book" value="1" />小説 <input type="radio" name="book" id="book" value="2" />マンガ </td> </tr> submit後、 何も選択していなければ、「必ず選択してください」を表示し、 どちらかが選択されていれば、選択されている項目を表示したいです。 セレクトボックスやチェックボックスではできたのですが、ラジオボタンの方法がわかりません。 submit後のphpファイルには、どのようなコードを記載すれば良いのでしょうか？
検索システムの検索結果の分割をしようとしています。 しかしどうしてもSQL文にエラーがでてしまいます。 SELECT * FROM shops where (area='◯◯◯') ORDER BY id DESC limit0, 10 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'limit0, 10' at line 1 該当するSQL文は以下になります。 $query = "SELECT * FROM shops"; $where = array(); if (isset($_GET['area'])and($_GET['area'] !== '')) { $where[] = sprintf("(area='%s')", mysql_real_escape_string($_GET['area'])); } if (count($where) <> 0) { $query .= ' where ' . implode(' and ', $where) . ' ORDER BY id DESC '; } 　 $query .= "limit" . $page_num*10 . ", 10" ; limit句の使い方等間違いはないのかなと思うのですが、いかがでしょうか？ アドバイスご教示いただけないでしょうか。 よろしくお願いします。
全角の数字が含まれた文字列を整数か小数かを判別して、 最後の余分な0を非表示にしたいです。 結果をこのようにさせたいです。 980.01　←小数 3213.12　←小数 3222.0003　←小数 1000.2001　←小数 2314　←整数 1200.98　←小数 2980　←整数 2313.12　←小数 3222.0003　←小数 800　←整数 4500　←整数 <?php $ary = array( '９８0.0100', '３213.1200', '３２２２.0003', '1000.２001', '2314.０000', '１２００.９８００', '2980.0000', '2３13.1200', '３２２２.0003', '０８00.0000', '４５００.００００' ); $count = count($ary); for($i=0; $i<$count; $i++){ $inputData = $ary[$i]; $hankaku = mb_convert_kana($inputData,'n',"utf-8"); if(!preg_match('/^0$|^-?[1-9][0-9]*$/', $hankaku)) { echo $hankaku.'　←小数'.'<br>'; } else { echo $hankaku.'　←整数'.'<br>'; } } ?>
５００のデータがあります。 １つのデータには、試験１の得点と組が必ずあります。 試験２はある場合とない場合があります。 ない場合はNULLを格納しています。 SELECTで選んで絞込表示させたいです。 試してみたのですが、上手にできませんでした。 ご教示をいただけないでしょうか。 よろしくお願いします。 <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> <head> <title></title> <?php $tokuten = $_GET["tokuten"]; $kumi = $_GET["kumi"]; $selectData = "SELECT * FROM test WHERE 1"; $selectData .= " AND {$t1} <= {$tokuten} AND {$k1} <= {$kumi} AND {$t2} <= {$tokuten} AND {$k2} <= {$kumi}"; $mmm = mysql_query($selectData,$mysql);; $table = "<table>"; while($rrr = mysql_fetch_array($mmm)){ 　$t1 = $rrr["t1"]; //試験１の得点 　$k1 = $rrr["k1"]; //組１の得点 　$t2 = $rrr["t2"]; //試験２の得点 　$r2 = $rrr["r2"]; //組２の得点 　if ( is_null($t2) ) { 　　$td = ""; 　} else { 　　$td = "<td>試験２の得点</td><td>$t2</td><td>試験２の組</td><td>$k2</td>"; 　} 　$table .= "<tr><td>試験１の得点</td><td>$t1</td><td>試験１の組</td><td>$k1</td>{$td}</tr>"; } $table .= "</table>"; ?> </head> <body> <form name="formName" action="<?php echo $_SERVER['PHP_SELF']; ?>"> 得点 <select name="tokuten"> <option value="0">0点</option> <option value="25">25点以下</option> <option value="50">50点以下</option> <option value="75">75点以下</option> <option value="100">100</option> </select> 組 <select name="kumi"> <option value="Ａ組">Ａ組</option> <option value="Ｂ組">Ｂ組</option> <option value="Ｃ組">Ｃ組</option> </select> </form> <div id="bbb"><?php echo $table; ?></div> </body> </html>
/{(.+?)}/e この正規表現はどのような意味でしょうか？ 下記のようなプログラム(テンプレートエンジン)に使われています display('index.html', $prm); function display($tpl, $prm) { $html = file_get_contents($tpl); $html = preg_replace('/{(.+?)}/e', '$prm[\'$1\']', $html); echo $html; }
POST /xxxxxx/xxxxxx/xxxxxx/ HTTP/1.1 GET /xxxxxx/xxxxxx/444444444444444 HTTP/1.1 GET /xxxxxx/xxxxxx/44444444444444/ HTTP/1.1 GET /xxxxxx/ HTTP/1.0 GET /xxxxxx/P707 HTTP/1.1 GET /xxxxxx/P707_0123 HTTP/1.1 GET /xxxxxx/xxxxxx/?xxxxxx=444444444444444&xxxxxx= HTTP/1.1 GET /xxxxxx/xxxxxx/xxxxxx/444444444444444/?xxxxxx=123456789 HTTP/1.1 GET /xxxxxx/xxxxxx/444444444444444/?xxxxxx=ABC_123_3&xxxxxx=ABC_123_3&xxxxxx=123456789 HTTP/1.1 これらは、とあるサーバーのログなのですが、 上記の内容を、正規表現によって以下のように置換を行っています。 POST /xxxxxx/xxxxxx/xxxxxx/ HTTP/1.1 GET /xxxxxx/xxxxxx/ HTTP/1.1 GET /xxxxxx/xxxxxx/ HTTP/1.1 GET /xxxxxx/ HTTP/1.0 GET /xxxxxx/ HTTP/1.1 GET /xxxxxx/ HTTP/1.1 GET /xxxxxx/xxxxxx/ HTTP/1.1 GET /xxxxxx/xxxxxx/xxxxxx/ HTTP/1.1 GET /xxxxxx/xxxxxx/ HTTP/1.1 これらの内容を秀丸(jre32互換)で行っていたのですが、 PHP(perl互換)で実装をしょうと、正規表現を用いて、行ってみたところエラーが出てしまいました。 検索 ([GET|POST]) /([a-zA-Z]+[0-9]?/)?([a-zA-Z]+[0-9]?/)?([a-zA-Z]+[0-9]?/)?([a-zA-Z]+[0-9]?/)?[^\s]*\s 置換 \1 /\2\3\4\5 (\5のあとに半角スペースあり) ひとくちに正規表現といっても、jre32互換かperl互換かで挙動が違うのだと思いますが、 どこをどのように直したら良いのか、よくわかりませんので 教えて頂けないでしょうか？(この正規表現でなくても同じ結果が得られるなら、それでも良いので・・・) また今回、2回正規表現をしても良いので POST /xxxxxx/xxxxxx/xxxxxx/ HTTP/1.1 GET /xxxxxx/xxxxxx/ HTTP/1.1 ↓ /xxxxxx/xxxxxx/xxxxxx/ /xxxxxx/xxxxxx/ といった具合にもしたいのです。(1回でできれば、一番いいのですが・・・・)
フリーのテンプレートをダウンロードして使う際に、テンプレート内にカレンダーが付いているものはPHPで動かせるでしょうか？ もし、動かせる場合は、その方法が知りたいです。 あと、テンプレートの拡張子もPHPにする必要があるのでしょうか？ 詳しく知りたいので説明してもらえると嬉しいです。 よろしくお願いします。
以下のような配列arrdataがある時、値cの降順で並べ替えたいのですがどうすればよいでしょうか？ function sort1(？, ？){ 　？？？} } uasort($arrdata,sort1); Array ( 　[0] => Array 　　( 　　　[a] => 1 　　　[b] => 東京 　　　[c] => 75 　　) 　[1] => Array 　　( 　　　[a] => 4 　　　[b] => 京都 　　　[c] => 50 　　) 　[2] => Array 　　( 　　　[a] => 2 　　　[b] => 名古屋 　　　[c] => 22 　　) 　[3] => Array 　　( 　　　[a] => 3 　　　[b] => 奈良 　　　[c] => 22 　　) )
お世話になります。 データベースで結果を取得する場合など、連想配列のままではなく何故、わざわざオブジェクトに格納する様な手法が使われるのでしょうか？ 連想配列のままで処理するほうが早いと思いますし、それに付随するクラスファイルも多くなります。また、「結びつきを緩くして仕様変更に耐えうる様に」など聞きますが、余計複雑になってしまう様な気がしますので、メリットが今ひとつ分からず判断に迷ってしまいます。 どの様な使い分け、考え方をすれば良いかアドバイスいただけたら幸いです。 何卒、宜しくお願いします。 例） ※必要と思われる部分のみ記述しております。 ■連想配列 while($row=mysql_fetch_assoc($res)){ ～以下必要な処理} ■オブジェクト配列 while($row=mysql_fetch_assoc($res)){ $example = new Example(); $example->setName($row['name']); $example->setAddr($row['addr']); $array[] = $example } ～以下必要な処理 ○モデル class Example { private $_name = null; private $_addr = null; public function __construct() {} public function setName($name) { $this->_name = (string) $name; return $this; } public function getName() { return $this->_name; } public function setAddr($addr) { $this->_addr = (string) $addr; } ～以下省略 }
PHPでの検索機能が動かなくて困っています。 <form>で入力した値を、MySQLのWHEREで条件付けて取り出したいのですがうまくいきません....。 最終的に、 １、formに検索ワードを入力 ２、DBから条件にあったレコードを持ってくる ３、持ってきた値を表示 という機能にしたいのですが....。 --- --- --- --- --- --- --- --- --- --- --- --- <?php //データベースに接続 mysql_connect('xxx', 'xxx', 'xxx') or die(mysql_error()); mysql_select_db('xxx'); mysql_query('SET NAMES UTF8'); //フォームで送られてきた条件を元にSELECT文を作成 if (!empty($_POST['nm'])) { $q = $_POST['nm']; $sql = 'select * from test_tb where name like "%$q%"'; $record = mysql_query($sql) or die(mysql_error()); } ?> <html> <body> <form action="" method="post"> 　　　名前：<input type="text" name="nm"> 　　　<input type="submit" name="exec" value="検索"> </form> <?php while($row = mysql_fetch_assoc($record)): ?> <?php echo $row['id']; ?> <?php echo $row['name']; ?> <?php endwhile ?> </body> </html> --- --- --- --- --- --- --- --- --- --- --- --- エラーは表示されないのですが、結果も表示されません。 さまざまなサイトや他の方の質問、MySQLやPHPの本を参考にしたのですが うまくいかなかったのでご質問させていただきました。 プログラミング初心者の上、はじめての質問で不備があると思いますが、 どうぞよろしくお願いいたします。
PHPで問い合わせフォームを作成しましたが、サニタイズされているかがわかりません。 以下は、submit後のphpファイルですが、サニタイズされていなければ、どこにどのようなコードを記述すれば良いのでしょうか？ また、サニタイズはhtmlsprcialcharsの他になにかあるのでしょうか？ function myEcho($errorBool, $value) { if($errorBool) { echo'<FONT COLOR="#cc3333">',$value,'</FONT><br/>';; } else { echo $value; } } // list用？ function myListEcho($errorBool, $value) { if($errorBool) { echo'お問い合せ内容をお選びください<FONT COLOR="#cc3333">※必ず入力してください。</FONT>';; } else { echo $value; } } // 名前のチェック $name=$_POST['name']; $nameError = false; if($name=='') { $nameError = true; $name = '※必ず入力してください。';; } // E-mailのチェック $mail=$_POST['mail']; $mailError = false; $mail2=$_POST['mail2']; $mail2Error = false; if (!preg_match( '/^[a-z0-9][a-z0-9_\.\-]*@[a-z0-9][a-z0-9_\.\-]+[a-z]$/i', $mail)) { $mailError = true; $mail='※正しいメールアドレスを指定してください。'; }elseif($mail!==$mail2) { $mailError = true; $mail='※確認用メールアドレスと一致していません。'; } // 確認用チェック if($mail2=='') { $mail2Error = true; $mail2='※必ず入力してください。'; } // お問い合わせ内容確認？ $list=$_POST['list']; $listError = false; if($list=='お問い合せ内容をお選びください') { $listError = true; } // 内容 $content=$_POST['content']; $contentError = false; if($content=='') { $contentError = true; $content='※必ず入力してください。';; } ?> <?php if($nameError || $mailError || $mail2Error || $listError || $contentError) { echo'<p align="center"><FONT COLOR="#cc3333">入力内容に誤りがあります。※印の項目は必ずご記入ください。</FONT></p>';; } else{ echo'<p class="text4">以下の内容で送信しますか？</p>';; } ?> <table class="table margin01" width="592" border="0" cellpadding="0" cellspacing="0"> <tr> <td width="190" align="left" bgcolor="#FFF09D">お名前<span class="tabletext1"></span></td> <td> <?php myEcho($nameError,$name);; ?> </td> </tr> <tr> <td align="left" bgcolor="#FFF09D">メールアドレス<span class="tabletext1"></span></td> <td> <?php myEcho($mailError,$mail);; ?> </td> </tr> <tr> <td align="left" bgcolor="#FFF09D">メールアドレス（確認）<span class="tabletext1"></span></td> <td> <?php myEcho($mail2Error,$mail2);; ?> </td> </tr> <tr> <td align="left" bgcolor="#FFF09D">お問い合せ内容<span class="tabletext1"></span></td> <td> <?php myListEcho($listError,$list);; ?> </td> </tr> <tr> <td align="left" bgcolor="#FFF09D">内容<span class="tabletext1"></span></td> <td> <?php myEcho($contentError,$content);; ?> </td> </tr> </table> <?php if($nameError || $mailError || $mail2Error || $listError || $contentError) { echo'<form>'; echo'<p align="center" class="margin01"><input type="button" value="戻る" onclick="history.back()"</p>'; echo'</form>'; } else { echo'<form method="post"action="thanks.php">'; echo'<input type="hidden" name="name" value="'.$name.'">'; echo'<input type="hidden" name="mail" value="'.$mail.'">'; echo'<input type="hidden" name="mail2" value="'.$mail2.'">'; echo'<input type="hidden" name="list" value="'.$list.'">'; echo'<input type="hidden" name="content" value="'.$content.'">'; echo'<p align="center" class="margin01"><input type="button"onclick="history.back()"value="戻る">'; echo'<input type="submit"value="ＯＫ"></p>'; echo'</form>'; } ?>
view配下のファイルとlayout配下のファイルとでは以下の違いがあるかと思います。 layout配下 ・コントローラから渡された変数を表示できる ・php関数が利用できる view配下 ・コントローラから渡された変数を表示できない ・htmlタグで表示する viewはlayoutの中で利用するようできていることからすると、定形的なもの（たとえばTOPの紹介文など）を書き込んで利用するかと思いますが、使い方としては正しいでしょうか。 また、場合によっては(layoutの中でviewを)切り替える必要性が出てくると思いますが、できるとすればどのように制御するのでしょうか？ ※例文などあると助かります。 ご存じの方、アドバイスをお願いします。
問い合わせフォームが次のようなフローで作成できました。 (1)入力画面→戻る画面 (2)入力画面→戻る・OK画面→問い合わせを受け付けました画面 そこで、ユーザーが入力したデータをメールソフトで受け取りたいのですが、どうすれば良いのでしょうか？ 問い合わせを受け付けました画面のphpファイルで、何かメールに関するコードを入力する必要があるとは思うのですが、参考書を読んでもできませんでした・・・ お手数ですが、簡単にでも良いのでご指導お願い致します。
さくらのVPSを複数契約したところ、 仮想化されて別アカウントになってはいるものの、 別IP別アカウントにも関わらず、 サーバ上に何らかの形でキャッシュされた同じ変数結果を読み込んでしまい困っております。 例えば、 $x1=rand(1,100); $y1=rand(1,100); のようにランダマイズしたい箇所で、 $x1→77 $y1→33 と一度表示すると、 同一物理サーバ内に格納された別アカウント別IPのサイトに同時アクセスした際に、 同じように $x1→77 $y1→33 と出力してしまうのです。 また、同時アクセスに限らず、 数分後まで同じキャッシュされた変数を何度も読むようです。 php.iniで、設定箇所を探す等したのですが特定できず、 投稿した次第です。 ちなみに、unset(); では直りませんでした。 お知恵を頂ければ幸いです。 何卒宜しくお願い申し上げます。
$ab .="yz"; php文で出てきたのですが、変数の後の「 .」はどういう意味なのでしょうか？
現在、ある２つの画面を表示させる為に以下のような記述で画面を表示させて います。 本来はframeset を使えば問題ないですが、なぜか表示できない為、やむなくこの 方法で表示させていますが、その際に、frameset でできる名前付けのような事は できないのでしょうか？ 《現在の書き方》 <table> <tr> <td valign="top" width="100%"> <?php $_GET['ps']=$psw; $_GET['emp']=$id ;include("\TEST\TEST_CALEN.php"); ?> </td> </tr> <tr> <td valign="bottom" width="100%"> <?php include("\TEST\TEST_INDEX.html"); ?> </td> </tr> </table> 上記のプログラムで、下記のname = “header” 等の名前付けがしたいです。 初歩的な事で申し訳ありませんが、教えて下さい。 よろしくお願いします。 ※参考例　 下記のような形がよかったのですが、なぜか表示されず、、、 <frameset rows="30,70"> <frame name="header" scrolling="no" noresize target="main" src=<?php print("\TEST\TEST_CALEN.php?ps=".$psw ."&emp=".$id); ?>> <frame name="main" src="\TEST\TEST_INDEX.html"> </frameset>
php_value include_pathを、あるディレクトリ以下では、無効にしたいのですが、 どうすればよいでしょうか？ ■前提 ・サイト全体は、「.htaccess」に「php_value include_path」を書いて制御 ■やりたいこと ・ある特定ディレクトリ「hoge」以下では、「php_value include_path」ではなく、 PHPに直接書いた「require_once './★★/●●';」を利用したい ・つまり、設定ファイル「.htaccess」に記述した中のある一部分(特定ディレクトリ以下)だけは、「PHPソースに記述」したincludeパスを使いたい ■試してみてダメだってこと ・「hoge」に「.htaccess」を設置し、空の「php_value include_path=""」と書いてみたけど、うまくいきませんでした
表を使った問い合わせフォームを作成したのですが、データを受け渡す方法がわかりません！！ 初めの問い合わせページは以下のようにhtmlファイルで記述しました。 この場合、次のページにデータを引き渡すphpファイルには、どうのような記述をしたら良いのでしょうか？ <form method="post" action="info.php"> <table class="table margin01" width="592" border="0" cellpadding="0" cellspacing="0"> <tr> <td width="190" align="left" bgcolor="#FFF09D">お名前　<span class="tabletext1">※必須</span></td> <td><input name="name" type="text" class="form01" id="name" /><br /> 入力例：山田 太郎 </td> </tr> <tr> <td align="left" bgcolor="#FFF09D">メールアドレス　<span class="tabletext1">※必須</span></td> <td><input name="mail" type="text" class="form01" id="mail" /><br /> 入力例：●●●●●●@yamada.co.jp </td> </tr> <tr> <td align="left" bgcolor="#FFF09D">メールアドレス（確認）　<span class="tabletext1">※必須</span></td> <td><input name="mail2" type="text" class="form01" id="mail2" /></td> </tr> <tr> <td align="left" bgcolor="#FFF09D">お問い合せ内容　<span class="tabletext1">※必須</span></td> <td> <select name="list" id="list"> <option>お問い合せ内容をお選びください</option> <option>事業内容について</option> <option>求人について </option> <option>その他</option> </select> </td> </tr> <tr> <td align="left" bgcolor="#FFF09D">内容　<span class="tabletext1">※必須</span></td> <td><textarea name="content" id="内容" cols="45" rows="5"></textarea></td> </tr> </table> <p align="center" class="margin01"> <input type="reset" value="クリア" /> <input type="submit" value="送信内容を確認する" /> </p> <input type="hidden" name="test" value="cloud" /> </form>
ＰＨＰを勉強中です。 進数のマニュアルページを見ていてわからないことがあったので教えていただけませんか？ 例として、 $a = 0123; // 8進数 (10進数の83と等価) とありました。 ローカル環境で試したところ、確かに変数$aは10進数で83と表示されたのですが、10進数として0123を表したい時にはどうしたらよいのでしょうか？ intval(value, base)で置換するにも一度文字列として扱わなくてはならないようですが、10進数の数字として扱う方法は別にないのでしょうか？ 8進数表記は0から始まるということですが、例えば「０１２３」の値を「１２３」として扱いたい！という時などが今後あるかもしれませんので、上記内容についてアドバイスいただけないでしょうか？ お願いしますｍ＝＝ｍ
MediaWiki1.2でサイト作成中です。 画像（test.jpg）をアップロードするとフォルダが2つ自動作成されます。 例：サイトルート/images/5/2a/test.jpg imagesフォルダはデフォルトで存在するもので、「5」「2a」が自動で作成されます。 前回、「5」「2a」のフォルダのパーミッションが644になって不具合が出てしまうので質問しました。 chmodを利用すると、「2a」フォルダだけは777にすることはできました。 ディレクトリ作成と思われるソース抜粋は以下の通り。 /** * Make directory, and make all parent directories if they don't exist * * @param $dir String: full path to directory to create * @param $mode Integer: chmod value to use, default is $wgDirectoryMode * @param $caller String: optional caller param for debugging. * @return bool */ function wfMkdirParents( $dir, $mode = 0777, $caller = null ) { global $wgDirectoryMode; if ( FileBackend::isStoragePath( $dir ) ) { // sanity throw new MWException( __FUNCTION__ . " given storage path '$dir'." ); } if ( !is_null( $caller ) ) { wfDebug( "$caller: called wfMkdirParents($dir)\n" ); } if( strval( $dir ) === '' || file_exists( $dir ) ) { return true; } $dir = str_replace( array( '\\', '/' ), DIRECTORY_SEPARATOR, $dir ); if ( is_null( $mode ) ) { $mode = $wgDirectoryMode; } // Turn off the normal warning, we're doing our own below wfSuppressWarnings(); $ok = mkdir( $dir, $mode, true ); // PHP5 <3 chmod($dir,0777); wfRestoreWarnings(); if( !$ok ) { // PHP doesn't report the path in its warning message, so add our own to aid in diagnosis. trigger_error( sprintf( "%s: failed to mkdir \"%s\" mode 0%o", __FUNCTION__, $dir, $mode ), E_USER_WARNING ); } return $ok; chmod($dir,0777); } ※chmodの使用タイミングが理解未熟なので、2か所に登場しています。 「$dir」はフルパスなんですが、上記方法だと「2a」だけ777になって「5」フォルダは777にならないのです。 そこで、 「$dir」のひとつ上の階層（最下層のひとつ上になります）のフォルダのパーミッションを指定して777にしたいのですが、どのようにすればよいのでしょうか。上記例の場合、「5」フォルダの名称は自動生成なので「../5」のようにソースに書けなくて困っています。
MediaWiki1.2を利用してサイト構築しようとしていますがトラブルが発生しています。 MediaWikiインストールは成功しました。 画像アップロードそのものは可能なのですが、表示されません。 画像に直リンクすると Error403 You don't have permission to access /images/2/2a/Test7.jpg on this server. というメッセージが出てきます。 画像をアップロードするとフォルダを自動生成してくれるのですが、そのフォルダ（images/2やimages/2/2a）の属性が700になっていました。すべて755にすると画像は表示されます。 自動生成されるフォルダの属性が自動的に755になる方法はありませんでしょうか。 ※無料サーバー「あいらんど」を使用、ImageMagickは入っていませんでした。
$this->set('title_for_layout', 'タイトル'); でタイトルの変更ができるということですが、アクション内のみで有効のようです。 すべてのアクションでタイトルを変更したいという場合、どうすればできますでしょうか。 宜しくお願いします。
皆様こんにちは！今月ＰＨＰを初めた初心者です。 月曜の午前中までに仕上げないといけないプログラムがあるのですが、 調べても全くわからないので初めて投稿しました。 失礼な記載などありましたら合わせてご指摘頂けると幸いです。 質問内容ですが、 現在DB_SVにあるスタッフリストを検索し、 CLI上で表示させるプログラムを作成しています。 その機能にエンターキーを叩いてページ送りの機能を追加しなければなりません。 また、単にページ送りだけでなく、2ページ毎に項目のヘッダ(ID,名前,所属名etc...)も 表示させなければなりません。 UNIXコマンドでmoreをパイプで繋いで実行すればページ送りはできましたが、 これではヘッダも表示されないし、機能として追加されているわけではないのでＮＧです。 どなたかわかる方、ご回答頂けますでしょうか？
いつもご協力頂いている皆様、ありがとうございます。 当方ＰＨＰ初心者です。つまらない質問で恐縮ですがご協力をお願いいたします。 現在作成している内容は下記の通りです。 $sql = mysql_query('SELECT `市区町村`, COUNT(`市区町村`) AS `count` FROM `estate` GROUP BY `市区町村`'); while ($row = mysql_fetch_object($sql)) { echo '<table border="1" cellspacing=0 cellpadding=5 width=780>'; printf('<td>%s(%d)</td>', $row->市区町村, $row->count); echo '</table>'; } イメージする結果の在り姿は、指定した１行の幅の中に均等な間隔で４つ程の結果を表示して、５つ目以降は順次必要に応じて改行されていくというようなものです。 ↓こんなイメージです。 ○○市（１２）　■○市（４）　　××市（８）　　○×市（７） ×○市（８）　　■▼市（６）　　■■市（８８）　■○市（９） ですが、現状では結果が１つづつ改行されてしまい、どうにも格好がつかない状態になってしまっています。 ↓こんなイメージになってしまっています。 ○○市（１２）　 ■○市（４）　　 ××市（８）　　 ○×市（７） 皆様ご協力くださいますようお願いいたします。
日ごろからお答えくださっている皆様ありがとうございます。 現在ＰＨＰを使ってＨＰ作成中の初心者です。 初歩的な問題なのかもしれませんがこの種の質問で参考になりそうなものはネットでは調べられなかったので質問させていただきます。 以下のような形でラジオボタンを使おうとしているのですがエラーが出てしまいます。 $sql = mysql_query('SELECT `市区町村`, COUNT(`市区町村`) AS `count` FROM `estate` GROUP BY `市区町村`'); while ($row = mysql_fetch_object($sql)) { echo '<table border="1" cellspacing=0 cellpadding=5 width=780>'; printf('<input type="radio" name=%s value=%s/> (%d)', $row->市区町村, $row->count); echo '</table>'; } エラーメッセージは以下の通りで、48行目はprintfを使用している行です。 Warning: printf() [function.printf]: Too few arguments in C:\xampp\htdocs\Home_Search\src\search\search1.php on line 48 以上、よろしくお願いいたします。
困っています。 index.htmlにて <form action="yoyaku.php" method="POST" name="frm1"> <span>ご注文フォーム(1/2)</span><br/><br/> <font color="black"><b>お名前:</b><input name="name" type="text" class="input"/> <br/><br/> <b>ご連絡先:</b><input name="adress" type="text" class="fm"><br/> <br/> <input type="image" class="srart" src="images/next.png" alt="移動する" title="移動する"/> </form> として、yoyaku.phpにて <?php session_start(); $_SESSION["name"] = $_POST["name"]; $_SESSION["adress"] = $_POST["adress"]; ?> <html> <head> <meta http-equiv="content-type" content="text/html;charset=UTF-8"/> としていますが、index.htmlからypyaku.php遷移すると、 Warning: session_start(): open(/var/lib/php/session/sess_6qcppjihnjq41ven1dedko75f0, O_RDWR) failed: Permission denied (13) in /home/nois/public_html/yoyaku.php on line 2 と出てきてしまいます。 原因はどこにありますでしょうか？ ちなみにEclipseを使用しています。 宜しくお願い致します。
インタフェースと抽象クラスの違いがいまいちよくわからないのですが、 違いではなく インタフェースにできて、抽象クラスではできないこと、 抽象クラスにできて、インタフェースにはできないこと をお伺いできますでしょうか。 宜しくお願いします。
定義されているファイルが無いように見えますが、PHPの組み込みクラスと考えてよろしいでしょうか？ 宜しくお願いします。
今、文字列で、(1)のような内容があるのですが、 これを(2)や(3)のようにしたいのですが、どのようにすれば いいでしょうか？ (1)5/Nov/2012:04:02:49 (2)2012/11/05 04:02:49 (3)20121105040249 初め文字の切り出しをして(2)や(3)の結果になるように 文字列の切り出しや操作で行おうと考えましたが、 しかしながら、月の部分がスペルになっているので、数字に変換する必要があったり 日付の部分が1桁だったりするので2桁にそろえる必要があったりとして 意外に(2)や(3)にするのに色々な工程(実装コスト)が必要です。 もっと上手い方法があるような気がします。 例えば、今の文字列を一旦、シリアル値に変換した後に(2)や(3)の表示フォーマットで表示しなおしたり、正規表現で配列にぶち込んだ後、月の部分の置き換えをして(2)や(3)の表示に並べ替えるなどです。 ただ処理としては思い浮かぶのですが、実装するとなると 具体的にどういうコードを書けばイイのか判らないので、教えてほしいといった感じですし また、こういう方法の方がスマートで、簡単ですよ？といった場合もあるかも知れませんので そう場合はどういうコードを書けばイイのかというのも教えてほしいです。 回答には、必ず(1)を(2)や(3)にする動作するサンプルコードを明記するか、 この当方の(1)を(2)や(3)にするサンプルが明記されているサイトのＵＲＬでも構いません。 よろしくお願いいたします。
参考書で PHP+MySQLで作る掲示板のプログラムを学んでいます。 MySQLのテーブルには会員一覧のテーブル member と書込記事用テーブル comment があります。 質問は、認証を経てログインした memberテーブルの登録会員が、commentテーブルにアクセスするための、権限を設定するには、どのようにすれば良いか、ということです。 やはり、会員一人ひとりについて DB 接続文とテーブル操作の grant 文を書くのでしょうか？ 登録会員に自動的にアクセス権を付与する方法はないでしょうか？ 実際の掲示板運用では、どのように行っているのでしょうか。 複数の参考書をあたっても、その辺の解説が見当たらないので質問させて頂きました。 愚問に属することかもしれませんが、よろしくお願いいたします。
foerachの中でキーを足したり、キーを引数として関数に渡して、戻り値の合計を表示させたいのですが、どうすればよいでしょうか？ foreach ($data as $key=>$va){ この時、ここで、$keyの合計値を表示したい また、$keyそれぞれに対して、別途関数(hoge)処理した返り値の合計 をここに表示したい $result=hoge($key);　の　$result　の　合計 　　　　 　　　　処理 } 　
プログラミング初心者です。 INSERT INTOを使ってPHPからMYSQLにデータを書き込むページを作ったのですが、ブラウザの更新ボタンを押したり、戻るボタンでそのページにたどり着くと同じデータが再度書き込まれてしまいます。 このようにならないためにはどのように処理すればよろしいのでしょうか？一般的な方法を教えていただけたらありがたいです。 よろしくお願いします。
Webサイトでの問い合わせフォームを作成しているのですが、添付した図のように表の中でデータを受け渡しする方法がわかりません。 添付している図では、「名前」の1項目だけですが、この他に「メールアドレス」、「メールアドレス確認」、「問い合わせ内容　※セレクトボックス」、「内容」の項目があります。 一応、phpの本を読んで、データの受け渡しには、次のようなコードを入力する必要があることはわかっているのですが、表の中でデータを受け渡しするためには、phpファイルのどこに入力したら良いのかわかりません。 ちなみに、submit後の表は、submit前の表と、少しだけデザインが違います。その場合、特別な方法があるのでしょうか？ <?php $name=$_POST['name']; if($name=='') { print'入力されておりません。'; } else { print $name; } ?>
Parse error: syntax error, unexpected T_LNUMBER, expecting ',' or ';' in /..../..../result.php on line 202 というエラーが出ます。 このエラーはresult.phpファイルの２０２行目に「,」もしくは「;」が足りないよという意味を示していると思うのですが、どう足りないのかというところでひっかかっています。 改行してみたりして行数を確認してみると、特定のコードの箇所に対するエラーでした。 以下が該当する２０２行目のコードです。 if ($p > 1) { echo "<font size=¥"1¥"><a href=¥"$_SERVER[PHP_SELF]?p=$prev1¥"><</a></font>"; } 上記コードのecho "~~~~~の行が202行目です。 これはどこが間違っているのでしょうか？ もしくはそもそも違う部分で間違っている可能性があるということなのでしょうか。。。 アドバイスをいただけないでしょうか？ よろしくお願いします。
PHPとビルドについて教えてください ＜質問背景＞ ・jQueryライブラリを修正しようと思ったら、実際に呼び出しているファイルは「jquery.★★.min.js」だけだった ・ダウンロードしたファイルの中には、「build.php」「build.sh」がある ＜質問＞ ・ビルドした結果が、「jquery.★★.min.js」なのでしょうか？ ・PHPでビルドって出来るのでしょうか？　コンパイラとか不要？ ・PHPで「PHP」をビルドしているのでしょうか？ それとも、PHPで「JavaScript」をビルドしているのでしょうか？ あるいは、PHPで「PHP」と「JavaScript」を足して、ビルドしているのでしょうか？ ・「build.php」と「build.sh」で連携して、ビルドファイルを作成しているのでしょうか？ ・ビルドするには、「.sh」が使える環境(Linux？)が必要なのでしょうか？ ・何のためにビルドするのでしょうか？ 容量を圧縮して、処理を早くするため？ ・ビルドしなくても、ビルド前の必要ファイルを読み込めば、利用できるのでしょうか？
＜やりたいこと＞ <span class="blue">データ</span> <br> の<br>タグを削除したいです。 ＜試したけどううまくいかなかった内容＞ $match = "/(<span class=\"blue;\">(.*?)<\/span>)(.*?)<br>/ism"; $replace = "<span class=\"blue;\">$1</span>"; $code = preg_replace($match, $replace, $code);
SNSボタン設置について質問です。 ショッピングサイトなどでよく見かける、各商品ごとにfacebookのいいね！ボタンなどを設置する方法を教えて下さい。 各商品ページはPHPで生成されています。CMSは使用しておりません。 ボタンを生成する時に指定したURLだけをシェアするボタンを張る方法はわかったのですが、 それを各ページのURLを自動で取得するにはどうすればいいでしょうか？ 設置したいボタンはfacebook、ツイッター、google+1なのですが、 ツイッター、google+1ボタンは作成する時に、URLを指定しなければ、そのボタンが表示されているページのURLが自動で取得されるということでしょうか？ それともとりあえずトップページのURLを入れてボタンを作成し、それをPHPで取得した、自分自身のURLと置き換えるということでしょうか？ どうかわかりやすく解説していただけると助かります。 このサイトの各商品ページのようなものをイメージしております。↓↓ http://www.ttrinity.jp/ よろしくお願いします。
下の$tdを入れたいのですが、やり方として正しいでしょうか。 <?php if ( is_null($a_2) ) { $td = ""; } else { $td = "<td>クラス名</td><td>$a_2</td><td>名前</td><td>$b_2</td><td>成績</td><td>$c_2</td>"; } $xxx = " <table> <tr><td>Ａ</td><td>$s</td><td>Ｂ</td><td>$ss</td><td>Ｃ</td><td>$sss</td></tr> <tr><td>クラス名</td><td>$a_1</td><td>名前</td><td>$b_1</td><td>成績</td><td>$c_1</td>{$td}</tr> <table>"; ?> <html xml:lang="ja" lang="ja"> <head> <title></title> </head> <body> <div><?php echo $xxx; ?></div> </body> </html>
Easybotterを使用してbotを作っているのですが、更新も何もしていないのに今日の午前中から急にリプライができなくなってしまいました。（今まではできていました） botは３体いるのですが、２つは正常に稼動していて、一つだけがエラーになります bot.phpを叩くと Warning: Invalid argument supplied for foreach() in /home/users/0/xxxxxxxx/web/xxxxx/EasyBotter.php on line 414 3分以内に受け取った未返答のリプライはないようです。 Warning: Invalid argument supplied for foreach() in /home/users/0/xxxxxxxx/web/xxxxx/EasyBotter.php on line 414 3分以内のタイムラインに未反応のキーワードはないみたいです。 こういうエラーが出ます reply_pattern.php、もしくはEasybotter.phpの記述が悪いのかと思って両方デフォルトのものに差し替えてみましたが変化ありません。Easybotterのバージョンは最新にしてあります。 原因がわかる方是非ご教授ください。
ワードプレス　バージョン3.4.2 をインストールしています。 ワードプレスで記事は投稿できるのですが、 投稿した記事のデータ（ファイル）の保存場所がサーバ内の どのフォルダに入っているかがわかりません・・・。 すべてのフォルダを開いて中を確認したつもりなのですが、 htmlファイルはどこにも見当たりませんでした・・・。 ワードプレスはじめてで、初歩的なことかと思うのですが、 投稿した記事のデータは、何フォルダに保存されているのか （どのファイルに書き込みされているのか？） 教えていただけないでしょうか？ ヒントだけでも構いませんので、よろしくお願いします。
PHPでウェブページを作成しています。 自動でページ移動させるには、どうすればよいでしょうか。 例えば、$Score = 1　ならばこのページに移動 $Score = 0　ならばあのページに移動 といった機能をつけたいです。 よろしくお願い致します。
こんにちは。質問お願いいたします。 PHPで、スペースで分けられた一文を区切って、配列に格納し、その配列が終わるまで出力するにはどうすればよいのでしょうか。 例えば、 $word = あいう えお かきく けこ という一文があったとして、配列にスペースで区切って word[0] = あいう; word[1] = えお; word[2] = かきく; word[3] = けこ; と格納し、 echo $word[0]から入っているものがなくなるまで繰り返す ; 出力結果は あいうえおかきくけこ という風にしたいです。 どうすればよいのでしょうか。 お手数をお掛けしますが、よろしくおねがいします。
現在、ワードプレス　3.4.2を使っています。 新しい記事を作成しようとすると自動で、 投稿画面の記事タイトルの下に、 例）　パーマリンク: http://abc.net/80.html と表示され、ファイル名が勝手に80.htmlとかつきます。 しかも、新しい記事を作成しようとするごとに ファイル名の数値はランダムにつきます。 次に新しい記事を作成しようとすると、 パーマリンク: http://abc.net/6.html とかつきます。 このhtmlファイルのファイル名を手動でつけることは できないのでしょうか？ また、このhtmlファイルの保存場所が、 サーバにアップしているフォルダのどこに保存されているのかが わかりません。 関係あるのかわからないのですが、現在のパーマリンク設定は、 カスタム構造で　/%post_id%.html　を入れています。 ↑ これが関係あるのかわからないのですが、 htmlファイル名を手動でつける方法がありましたら教えてください。 よろしくお願いします。
YouTubeの等サムネイル画像をクリックするとJavascript(Ajax)によって同じページ内にムービービデオ（動画）をオーバーレイ表示するVideobox（Lightbox for videos）を使っていますが、動画毎にクリック数を把握したいですが、教えてください。 普通は、次のような型式ですが、 例：<a href=" rel="vidbox 600 400" title="caption">our video1</a> → onclickを入れて、phpでカウントアップしたいですが、方法がありますか？ 例：<a href="http://www.youtube.com/watch?v=VhtIydTmOVU" rel="vidbox 600 400" title="caption"　onclick="<?php count(); ?>">our video1</a> <?php function count(){ dbのカウントをアップ; } ?>
SQL+PHPでサイト制作をしております データベースからセレクト文でデータを引っ張りたいのですが、当方、プログラム初心者のため稚拙な記述方法しか浮かばず困っております。どなたかお力をお貸し願えたらと存じます。 【内容】 テーブルにa1～a80までのフィールドがあり、それぞれにレコードがあります。 【例】 $sql = "SELECT * FROM テーブル名 WHERE フィールド名 LIKE '$xxx'"; $dyn = mysql_query($sql); while($row = mysql_fetch_array($dyn)){ ////この部分の記述方法 } mysql_close($cn); 単純に $a0 = $row['a0']; $a1 = $row['a1']; $a2 = $row['a2']; $a3 = $row['a3']; $a4 = $row['a4']; $a5 = $row['a5']; $a6 = $row['a6']; $a7 = $row['a7']; ・ ・ ・ として、セレクト文からwhileにて必要に合わせPHPを書いているのですが繰り返し受け取るプログラムがシンプルな記述ができません。 できましたら、フィールド数が多いので長くなりがちな記述を短くしたいと考ええています。 forやfordach、またはarrayを使ってはみたのですが、$row['axx']の部分がネックとなりうまく記述することが出来ません。 困っております。お力添え、宜しくお願い申し上げます。
現在、ワードプレスのタイトルのコードは、 <title><?php if ( is_single() )?><?php wp_title(); ?><?php bloginfo('name'); ?></title> になっています。 これでサイトをWebで表示させ、ソースを見るとタイトルのところが、 <title>　今日のできごと日記</title> と、なぜか<title>タグのうしろに空白がはいってしまいます。 しっくりとこないので、この空白をなくしたいのですが、どこのコードを修正したらよいかわかりません。 この原因は何が考えられるでしょうか？ わかる方がいらっしゃいましたら、ヒントでも構いませんので、 よろしくお願いします。
こんにちは。PHPプログラム初心者です。 今回、実装したいのは、テキストファイルを読み込みます。 ----------------------- 優れる:すぐれる 1 良い:よい 0.999995 喜ぶ:よろこぶ 0.999979 褒める:ほめる 0.999979 ・・・ ------------------------ といった内容のテキストファイルです。文字と数字の間には半角スペースがあります。 そして、入力した文字が「良い」であるとします。 その文字をテキストファイルの中にあるかどうか検索して、文字と数字をスペースで分割して、 0.999995を出力したいのです。 この作業を何回か繰り返し、最後に合計を出したいと思っています。 どうすればよいでしょうか。 よろしくお願い致します。
以下のようなスクリプトについて質問です。 if(!isset($hoge)){echo"hoge";} 上記のスクリプトの結果、$hogeが定義されていないはずなのに、hogeが出力されていたので、試しに直前にecho$hoge;と加筆してみたところ、「Notice: Undefined variable: hoge in・・・」が出ました。 $hogeが未定義ならhogeが出力されないはずなのに、hogeが出力された上に$hogeの未定義noticeが出る理由が分かりませんでした。 理由が分かる方（または想像がつく方）、ご教示ください。
WordPress（ワードプレス）の記事タイトルとサイトタイトルに入れ替えについて教えていただけないでしょうか？ 現在、WordPress（ワードプレス）のバージョンは、3.4.2です。 現在、記事ページを表示するとヘッダーには、 サイトタイトル　－　記事タイトル　 の順で表示されます。 これを、　 記事タイトル　－　サイトタイトル へ入れ替えたいのですができません。 現在、header.phpファイル内のタイトルのコードは、 <title><?php bloginfo('name'); ?> <?php if ( is_single() ) { ?> &raquo; Blog Archive <?php } ?> <?php wp_title(); ?></title> となっています。 で、おかしいと思うのですが、いろいろためして、 <title><?php wp_title(); ?></title> とすると、サイトタイトルがヘッダーに表示されると思ったのですが、この場合、記事タイトルのみがヘッダーに表示されました。 逆に、 <title><?php bloginfo(‘name’); ?><?php if ( is_single() ) ?></title> とかすると、サイトタイトルだけがヘッダーに表示されます。 is_single　－　記事タイトル wp_title　－　サイトタイトル でないといけないと思っていたのですが？ どちらにしても、どのファイルを修正したらよいのかわかりません。 この場合、 記事タイトル　－　サイトタイトル　 の順番に表示させるためには、どのファイルの箇所を修正すればよいと推測できるでしょうか？ ヒントでもよいのでよろしくお願いします。
PHPで mb_convert_encodingを用いて UTF-８で記述されたPHPスクリプトファイルの PHPファイル内の任意の文字列の文字コードを変換する場合、 $value = "文字列"; $str = mb_convert_encoding($value ,"UTF8","UTF8"); print $str; この場合、特に問題なく、変換がおこなわれます というか、意味のないで処理ではありますが。 次に $str = mb_convert_encoding($value,"EUC-JP","EUC-JP"); とした場合 うまく文字列の文字コードの変換がおこなわれず 出力内容は文字化けします。 次に $str = mb_convert_encoding($value,"SJIS","SJIS"); とした場合 EUC-JPと同じく文字コード変換に失敗し 文字化けするだろうとおもいましたが おもいのほかブラウザの文字コードUTF-8のままで文字化けしていないのです。 これはどういう現象でしょうか？ たとえば一つ目は　UTF8で記述されたPHPファイルの文字列をそのままUTF-8として 変換されせるのですから、問題ないはずです。結果問題ありません。 二つ目は　UTF-８でかかれたPHPファイルの文字列をEUC-JPでかかれたファイルとして EUC-JPという文字コードに変換しなさいという命令ですよね？ これは思う通りにいかなくて文字化けした文字列が出力されるのはわかるのですが 三つ目はUTF８で記述された文字列をSHIFT-JISとしてSHIFT-JISに変換しようとしているにも かかわらず、結果問題なくブラウザのUTF-8で文字列と表示されてしまいます。 これはいったいどういう事なのでしょうか？ これが仮に $str = mb_convert_encoding($value,"SJIS","UTF-8"); なら話は簡単んです。 UTF-8で記述されたファイルの任意の文字列を UTF8からSJISに変換しようとしているのですから問題なく SHIFT-JISでエンコーディングされた文字列が帰ってくるはずです。 こ乃原因をご存知のかたよろしくご教授ください。 お願い致します。
初歩的なお話かもしれないのですが他の質問や手持ちの文献ではわからなかった為質問させていただきました。 私はPHPとMYSQLで絞り込み検索ができるサイトを作成しております。 $sql ="SELECT*FROM facility WHERE 所要時間 BETWEEN $minute1 AND $minute2"; このようなソースで検索をし、以下のような形で結果を表示しております。 while(1) { $rec =$stmt->fetch(PDO::FETCH_ASSOC); if($rec==false) { break; } echo '<table border="1" cellspacing=0 cellpadding=5 width=770>'; echo '<tr><td>施設名</td>'; echo '<td>費用</td>'; echo '<td>交通</td>'; echo '<td>所在地</td></tr>'; echo '<tr><td>'.$rec['施設名'].'</td>'; echo '<td>'.$rec['費用'].'万円</td>'; echo '<td>'.$rec['交通'].' '.$rec['最寄駅1'].' '.$rec['駅距離1'].'分</td>'; echo '<td>'.$rec['所在地'].'</td></tr> echo '</table>';'; 結果は適切に表示されているのですが、タイトルの通り見た目に問題があります。 検索結果は枠線に囲まれて表示されてますし、枠線の横幅もwidth=770で統一されて表示されます。 ですが、この罫線の内側の罫線の間隔が各レコードによってまちまちです。 EX)施設名の文字数の数多寡で縦の罫線の位置がまちまちになります。 罫線の内側の広さや間隔などを設定する方法をご存じでしたら教えて頂けますでしょうか？ よろしくお願いいたします。
同じ質問が数多くあるようですが、どうにもうまくいかない為恐縮ですが質問させて頂きました。 私はPHPとMYSQLを使ってホームページを作成しております。 やりたいことは、DBのＴＢに数百ある情報をPHPで幾つかの条件で絞り込み検索をかけることで、それ自体はできたのですが、何件の結果が抽出されたかを表示することができません。 例：○○件の検索結果が表示されました。　←こんな感じにしたいのです。 他の質問を参考に以下のように記述をしたのですがどうにもうまくいきません。 $sql ="SELECT*FROM estate WHERE 価格 BETWEEN $price1 AND $price2'"; print 'sql_num_fields( $sql ) . "\n"件の検索結果が表示されました'; どのような点が問題なのか教えていただけますでしょうか？ できればソースを教えていただけると助かります。
現在、初めてphpプログラムを組んだサイトを作っています。 内容としては自分の撮った写真をコメント付きでアップしているのですが、 場所や季節でその写真を任意で並び替えられるようなウェブサイトを目指しています。 （チェックボタンなどで新着順、おすすめ順など訪問者が任意で並び替えられるphpプログラム） $food["1"]["item0"]="tokyo"; $food["1"]["item1"]="0001.jpg"; $food["1"]["item2"]="20120430"; $food["2"]["item0"]="oosaka"; $food["2"]["item1"]="0002.jpg"; $food["2"]["item2"]="20120815"; それで写真を並び替えるために上記のような配列の塊が200近くあります。( 上記は例です） 今後1000個以上に増える予定ですのでphpファイルに全部記載すると編集しづらいので 上記の配列の部分だけ別にテキストファイルに記載してrequire_once ("test.txt")で 呼び出すことにしました。ここで質問なのですが、保存するファイルはテキストファイルで よかったのでしょうか？ 何分初めてで、ググってもその辺のことが詳しく書いてあるサイトもありません。 通常みなさんはどのようなファイル形式で保存するのでしょうか？ できる限り軽い方がいいです。 よろしくお願いします。
ホームページのメールフォームを作ってます。 返信用メールアドレスを記入してもらうフォームで、 携帯アドレスがエラー扱いになってしまいます。 if (trim($email) == '') { $error[] = 'メールアドレスは必須項目です。'; } else { $pattern = '/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/iD'; if (!preg_match($pattern, $email)) { $error[] = 'メールアドレスの形式が正しくありません。'; } } という感で、yahooやgmailを入れたときには上手くいくのですが、 自分のドコモの携帯のアドレスを入れると上手くいきません。 買った本を写して書いてる感じなので、どう直していいかわかりません。 教えてください！！
どなたかお分かりの方がいらっしゃいましたらご教授お願いします。 本当に困っております。 create table team(team_id int not null primary key,team_name varchar(30),year int(4), leagueid int(32) ); insert into team values(1,"A",2012,1),(2,"B",2012,1),(3,"C",2012,1),(4,"D",2012,1),(5,"A",2012,2),(6,"B",2012,2),(7,"C",2012,2),(8,"D",2012,2),(9,"A",2011,1),(10,"B",2011,1),(11,"C",2011,1),(12,"D",2011,1); create table taisen(id int not null primary key auto_increment,hometeam int,homepoint int,awayteam int,awaypoint int); insert into taisen (hometeam,homepoint,awayteam,awaypoint) values(1,3,2,2),(3,1,4,0),(1,0,3,2),(2,2,4,2),(1,1,4,2),(2,0,3,0),(2,1,1,2),(4,1,3,3),(3,5,1,2),(5,3,6,3),(5,1,7,1),(7,1,8,1),(9,1,10,1),(11,1,12,3); select (select count(*)+1 from ( select team_id ,sum((homepoint>awaypoint)*3 +(homepoint=awaypoint)) as 勝ち点 ,sum(homepoint) - sum(awaypoint) as 得失点差 ,sum(homepoint) as 得点 from ( select hometeam as team_id,homepoint,awaypoint from taisen union all select awayteam as team,awaypoint,homepoint from taisen ) as sub1 group by team_id ) as sub2 where 勝ち点>(@a:=coalesce(sum((homepoint>awaypoint)*3 +(homepoint=awaypoint)),0)) or ( 勝ち点=@a and 得失点差>@b:=coalesce((sum(homepoint) - sum(awaypoint)),0)) or ( 勝ち点=@a and 得失点差=@b and 得点>coalesce(sum(homepoint),0)) ) as 順位 ,year 年度 ,leagueid リーグID ,team_name チーム名 ,coalesce(sum((homepoint>awaypoint)*3 +(homepoint=awaypoint)),0) as 勝ち点 ,coalesce(count(sub.team_id),0) as 試合数 ,coalesce(sum(homepoint>awaypoint),0) as 勝ち数 ,coalesce(sum(homepoint=awaypoint),0) as 引き分け ,coalesce(sum(homepoint<awaypoint),0) as 負け数 ,coalesce(sum(homepoint),0) as 得点 ,coalesce(sum(awaypoint),0) as 失点 ,coalesce(sum(homepoint) - sum(awaypoint),0) as 得失点差 from ( select hometeam as team_id,homepoint,awaypoint from taisen union all select awayteam as team,awaypoint,homepoint from taisen ) as sub right join team on sub.team_id=team.team_id where team.year = 2012 and team.leagueid = 2 group by team.team_id order by 勝ち点 desc, 得失点差 desc, team.team_id asc; とした場合、順位が5位からの表示になってしまいます。 これを1位からの表示にしたいのですが、どのように変更したらよいのかわからず困っており、whereのteam.yearとteam.league.idを変更するたびに順位をリセット(?)する方法を知りたいです。 お分かりの方がいらっしゃいましたらご教授お願いします。
ランダムに画像を出力するプログラムを書いています。 <img src='test.php' border=0 /> test.php header("Content-Type: image/gif"); header("Expires: Thu, 01 Dec 1994 16:00:00 GMT"); header("Last-Modified: ". gmdate("D, d M Y H:i:s"). " GMT"); header("Cache-Control: no-cache, must-revalidate"); header("Cache-Control: post-check=0, pre-check=0", false); header("Pragma: no-cache"); 現在は上記のようにheaderが書いてあり、1秒ズレれば別ページとして判断されるようになっているようです。 しかし、 <img src='test.php' border=0 /> <img src='test.php' border=0 /> <img src='test.php' border=0 /> このように、３つHTML上に記述した場合、1秒以内で読み込みが来てしまい同一ファイルと判断される為なのか、全て同じ画像が出てしまいます。 phpが回ればログを書くようにしてみましたが やはり1回しか回っていないようです。 そこで、headerに乱数など必ず変わる値を差し込んで、 別物として読み込ませるような方法はないでしょうか。 もちろん、 <img src='test.php?i=1' border=0 /> <img src='test.php?i=2' border=0 /> <img src='test.php?i=3' border=0 /> このように、HTML側でURLを変えれば別物として読まれますが、この方法はNGです。 あくまでtest.phpのプログラム側でなんとかしたいのです。 宜しくお願い致します。
はじめまして、PHPの初心者の者です。xamppをインストールしたあと、様々な設定をしました。その後、お問い合わせフォームというプログラムのために2つファイルを作りました。 一つ目は、inquiery.htmlというファイルで、ソースコードは <html> <head> <meta http-equiv="Content-Type" content="text/html;charset=Shift_JIS"> <title>お問い合わせフォーム</title> </head> <body> ■お問い合わせ内容を入力してください。 <br> <form action="check_inquiry.php" method="POST"> お問い合わせタイトル： <br> <input type="text" name="title" size="50"> <br> <br> <input type="submit" value="お問い合わせ内容の確認"> </form> </body> </html> というHTMLファイルで、入力した内容を、下の「check_inquiry.php」に飛ばします。その後、 <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS"> <title>お問い合わせフォーム</title> </head> <body> ■お問い合わせ内容を確認してください。 <br> お問い合わせタイトル： <br> <?php echo $_POST['title']; ?> </body> </html> check_inquiry.phpファイルでinquiry.htmlファイルの内容を受け取ります。 うまくいけば、$_POST['title' ]: でinquiry.htmlの内容を受け取るはずなのですが、うまくいきません。 inquiry.htmlの送信ボタンをクリックすると、check_inquiry.phpのソースコード全体が表示されてしまいます。 何が間違っているのかわかりません。もし、詳しい方がいましたら、アドバイスいただけないでしょうか？よろしくお願いします。
条件 掲示板は投稿するとすぐに掲示板に反映されますが、私の希望する掲示板は 投稿後、一旦保留になり、掲示板管理者が掲示することを許可した投稿のみが 掲示板に反映されるPHPです。 よく似た機能の掲示板がFC2に存在しますが、会社のサーバーに設置するので 広告の入ったものが使用できないので、ご存知であれば教えてください。
htmlのフォームactionからphp側で入力チェックを行った場合 下記のようにすると別ページに表示されますが、html側に戻って 表示するにはどのように行えばよいでしょうか。 ---html--- <form action="abc.php" method="post" > <input type="text" name="ord[name]" size="30" VALUE=""> <input type="submit" name="button_confirm" value="確認画面" /> ---abc.php--- <html> <head><title>output</title></head> <body> <?php $name = $_POST["order"]["name"]; if ($name == null) { //エラー表示 print ("名前が未入力<br />"); } ?> </body> </html>
imagemagickでPDFからJPG画像作成を行おうとしていますが PDFが埋め込みフォントの場合正常に画像が作成されます PDFがサブセットフォントの場合はエラーが出て画像が作成されません。 imagemagickバージョン:6.2.8 Ghostscriptバージョン:8.15.2 エラー内容↓ [0] => ERROR: /rangecheck in --cvrs-- [1] => Operand stack: [2] => --dict:14/14(L)-- F1 12.0 --dict:7/7(L)-- --dict:7/7(L)-- AAAAAB+IPAGothic --dict:10/12(ro)(G)-- --nostringval-- --dict:8/8(L)-- --dict:8/8(L)-- 1248 --dict:8/8(L)-- --nostringval-- FontMatrix --nostringval-- FontBBox --nostringval-- FontName -2147483647 16 (\000\000\000\000\000\000\000\000) [3] => Execution stack: [4] => %interp_exit .runexec2 --nostringval-- --nostringval-- --nostringval-- 2 %stopped_push --nostringval-- --nostringval-- --nostringval-- false 1 %stopped_push 1 3 %oparray_pop 1 3 %oparray_pop 1 3 %oparray_pop --nostringval-- --nostringval-- 2 1 1 --nostringval-- %for_pos_int_continue --nostringval-- --nostringval-- --nostringval-- --nostringval-- 1 %stopped_push --nostringval-- --nostringval-- --nostringval-- 1 %stopped_push --nostringval-- --nostringval-- --nostringval-- %array_continue --nostringval-- false 1 %stopped_push --nostringval-- %loop_continue --nostringval-- --nostringval-- --nostringval-- --nostringval-- --nostringval-- %array_continue --nostringval-- --nostringval-- --nostringval-- --nostringval-- --nostringval-- --nostringval-- [5] => Dictionary stack: [6] => --dict:1125/1686(ro)(G)-- --dict:0/20(G)-- --dict:107/200(L)-- --dict:107/200(L)-- --dict:104/127(ro)(G)-- --dict:241/347(ro)(G)-- --dict:20/24(L)-- --dict:4/6(L)-- --dict:25/32(L)-- --dict:33/50(ro)(G)-- --dict:24/40(L)-- [7] => Current allocation mode is local 原因が不明で困っています、ご回答お願い致します。
nameタグが下記のようになっている場合、 PHPではどのように取得すれば良いのでしょうか？ selectタグは取得できましたが、配列になっている場合の取得方法が分かりません。 ---HTML--- <form action="abc.php" method="post" > <input type="text" name="ord[name]" size="30" VALUE=""> <input type="text" name="ord[company]" size="30" VALUE=""> <select name="pref"> <option value="">-- 都道府県 --</option> <option value="北海道" >北海道</option> <option value="青森県" >青森県</option> <option value="岩手県" >岩手県</option> </select> ・ ・ ---abc.php--- <html> <head><title>output</title></head> <body> <?php $pref = $_POST['pref']; print ("次のデータを受け取りました<br />"); print ("住所：$pref<br />"); ?> </body> </html>
phpで作成したプログラムををHTMLに組み込んで動作確認するには クライアント用のPCとサーバー側PC、計2台は最低用意しないと 検証できないのでしょうか？ また、PHPでお客からお金を取れるようになるには、どの程度の スキルがあれば、いいのでしょうか？
お世話になります。 クライアントから、あるサイトを管理できるか聞かれています。 サイトはhttp://xxx.xxx.xxx/index.phpで作成されているのですが、 wordpressなどのCMSで作成されているのか、独自システムで 作成されているのかを判別する方法をご存知の方はいらっしゃいませんでしょうか？ トップページ以外のページでは、 http://www.www.www/index.php/xxx-xxx/xxx-xxxxx などと、index.phpの後にフォルダ名らしきものが並んでいます。 これは何を意味するのでしょうか？ 初心者のような質問で申し訳ありませんが、 何卒、ご教授をお願い致します。
PHP 5.1.6で、 <?php $ary[0][0]="ABC"; $ary[0][1]="DEF"; echo "$ary[0][0],$ary[0][1]"; ?> だと Array[0],Array[1] と出力されます。$ary[0]までで変数の認識を終わらせちゃってるようです。 <?php $ary[0][0]="ABC"; $ary[0][1]="DEF"; $a=$ary[0][0]; $b=$ary[0][1]; echo "$a,$b"; ?> とすると ABC,DEF と出力されます。 上のような記載方法でうまく出力する方法はないものでしょうか？ 実用で困ってる訳でも変数をケチっている訳でもないんですが、些細な可読性の面で。
Webデザイナーは将来いらなくなる?と下記サイトにあるのですがそう思いますか？ http://akatsuki-works.com/special/free/free_05.h …
すいません。今htmlで書いただけのサイトを持っているのですが、 （今使っているさくらサーバーのレンタルサーバーでphpは使えます） 今度フォームを作り、phpで処理して出力するプログラムを作りました。 内容は自分で取った写真を日付順や季節順で並び替えるphpです。 （チェックボックスなどで選択し、画像を並び替えるプログラムです） 私は、phpは初めてで、今手元にあるのは test.html・・フォームなどを設置した通常のwebsitです。 test2.php・・フォームで送られた値を処理して結果を出力するプログラムです。 この二つをとりあえず、フリーソフトのffftpでアップしてみた所、上手く動きました。 たださくらのレンタルサーバーで「php.ini 設定ファイル編集」という項目があるのですが、これは 何もしなくて良いのでしょうか？ 白紙の記述ページみたいなものなのですが・・。 とりあえずphpを動かすだけならphpのファイルごとアップロードしてしまえば良いものなのでしょうか？
ユーザーログイン機能について、取得した全てのDBユーザーテーブル情報を、セッション変数$_SESSION['★★']に格納しているサンプルコードがありました(2つ程見かけました) ■質問 ・セッション変数にパスワードを保持しても良いのでしょうか？ ・生成した予測不能な文字列（セッションキー？）が破られたらどうしようもないので、そういう意味ではセッション変数には何を保存しても良いのでしょうか？ 単に保存先が、セッション変数かDBかの違いでしかない？ ・あるいは、セッション変数には必要最低限なもの、もしくはセキュテリティに関係ないもの、のみ保存して、その都度DBに問い合わせた方が良いのでしょうか？ でも、これって非効率的？
こんにちは。PHPプログラム初心者です。 今回、Twitterのツイートを取得して、その文章の単語ごとにネガティブかポジティブかを値をつけてくれている辞書を利用して、ツイートのネガポジを測ろうと思っています。 ここでお聞きしたいのが、入力文字に対して、テキストファイルの文字が一致すればその文字の横にある数字を出力して、文章の単語すべて足しあわせて、文章全体の数値を出したいのです。 テキストファイルの内容は -------------------------- 優れる すぐれる 1 良い よい 0.999995 喜ぶ よろこぶ 0.999979 褒める ほめる 0.999979 めでたい めでたい 0.999645 ・・・ --------------------------- といった感じで、-1～1の値が単語ごとに割り振られていて、 数字と単語の間には半角スペースが２つあります。 このテキストファイルを読み込んで、 入力文字（単語ごとに分けられています）に対して、 テキストファイルを検索して「すぐれる」があればその右の1を出力して、 それを繰り返して足しあわせて、文章全体での数値を出して、 全体で負の数字が出ればネガティブ！みたいなことをしたいです。 説明が下手ですみません。 わかりにくい表現があれば追記いたします。 すこしでもヒントがありましたらどんどん回答くだされば嬉しいです。 よろしくお願い致します。
言語 PHP 使用ツール Zend Framework Ecrips ＰＨＰの処理を独学で始めて１週間経つのですが、 イベント処理がいまいちよくわかりません・・・ 画面上に地図が入っており、 そこの地図より国が選択された時に、 コンボボックス内に国情報に紐づく情報を入れたいのですが、 イベント処理に悩んでおります。 国が選択されたのをキーにし、 国を条件にSELECT投げて、 コンボボックスに出力と書きたいです。 (1)地図を選択する。 (2)SELECTを投げる (3)コンボボックスに情報をセットする （Contollrollesはうまく出来なかった為、phtml内部に処理を書きました。） という３つの処理はバラバラに出来ているのですが、 うまく連動出来ません。 Contollrollesの処理内にどの様に書いたら、 SELECTした情報を画面にあるコンボボックスにセット出来るのでしょうか？？ 補足必要な場合はすぐ書きますので どうぞ宜しくお願いします。
こんにちは。PHPプログラム初心者です。 ファイルから数字を読み取って計算するにはどういうプログラムにすればよいでしょうか。 やりたいのは、テキストファイルを読み込みます。 そのテキストファイルの中には、 --------- 文字 123 あいう 456 もじ 7890 ・・・ --------- といった感じで、文字と数字が並んで入力されています。 文字の中にスペースはなく、文字と数字の間にはスペースがあります。 ここで、ユーザの入力に対して、 「もじ」があればファイルの「もじ」のすぐ隣の「7890」を出力するようにしたいのです。 これを繰り返し、最終的には、出力した数字を合計する作業をしたいです。 説明不足でわかりにくいかもしれませんが、 ヒントだけでも結構ですので、なにかありましたらよろしくお願いいたします。
php初心者です。 自動計算する見積ページを独学で作っているのですが、どうしてもわからなかったので、質問させてください。 htmlページでセレクトタグから選択してもらった結果（値）を、phpページに送信し、phpページでvalueとname両方を別々の場所に表記するには、どのようなコードを書けば良いでしょうか？ valueの値をphpページで表記させたり計算させる事はなんとか独学でもできたんですが、nameを表記させる事がどうしてもできませんでした。 お詳しい方、何卒ご教授ください。 途中までなんとかできたタグを下記に記載します。 ＜例＞input.html　→　output.php (1)input.html　（細かいタグは端折ります） <html> <body> <form action="output.php" method="post"> <tr> <th>生菓子</th> <td> <select name="goods1" onChange="keisan()" style="padding:5px; border:1px solid #dcdcdc;" /> <option value="0" name="未選択">お選びください</option> <option value="500" name="フルーツケーキ">フルーツケーキ</option> <option value="3000" name="チーズケーキ">チーズケーキ</option> <option value="5000" name="チョコレートケーキ">チョコレートケーキ</option> <option value="※別途見積" name="おまかせ">おまかせ</option> </td> </tr> <tr> <tr>焼き菓子</th> <td> <select name="goods2" onChange="keisan()" style="padding:5px; border:1px solid #dcdcdc;" /> <option value="0" name="未選択">お選びください</option> <option value="500" name="クッキー">クッキー</option> <option value="3000" name="パウンドケーキ">パウンドケーキ</option> <option value="5000" name="パイ">パイ</option> <option value="※別途見積" name="おまかせ">おまかせ</option> </td> </tr> <tr> <th><input type="submit" value="submit" /></th> </tr> </form> </body> </html> ↓上記で選択してもらった値を下記のoutput.phpにsubmit。 (2)output.php　（細かいタグは端折ります） <html> <body> <tr> <th>生菓子</th> <td>ここに選択されたnameの値を表記したい！</td> <td><?php echo htmlspecialchars($_POST["goods1"]); ?></td> </tr> <tr> <th>焼き菓子</th> <td>ここに選択されたnameの値を表記したい！</td> <td><?php echo htmlspecialchars($_POST["goods2"]); ?></td> </tr> <tr> <td colspan="2">Total </td> <td><?php echo htmlspecialchars( $_POST["goods1"] + $_POST["goods2"]); ?><td> </tr> </body> </html> 以上。 ぜひ、ぜひぜひご教授よろしくお願いいたします。
mysql内のデータを条件検索する時、検索結果の表示順を指定します。 新着順（id降順）で指定する場合のエラーについてアドバイスをいただけないでしょうか。 例えば、DB内データを降順で全件表示する場合は、 $query = "SELECT * FROM テーブル名 ORDER BY id DESC"; とすることでできると思います。 そこで、条件検索で結果表示をする場合は、上記の通りにしてもエラーが発生します。これについてのコードは以下のような感じです。 $query = "SELECT * FROM テーブル名 ORDER BY id DESC"; $where = array(); if (isset($_GET['area'])and($_GET['area'] !== '')) { $where[] = sprintf("(area='%s')", mysql_real_escape_string($_GET['area'])); } if (count($where) <> 0) { $query .= ' where ' . implode(' and ', $where); } これは、ORDER BY id DESCを書く位置が悪いのでしょうか？ order by句は$query = select ~~~のあとに付けるという認識だったのですが、場合によって間違いとなるということなのでしょうか。 アドバイスをいただければ幸いです。
画像の縦:横比を維持してリサイズし表示したいのですが、ご指導よろしくお願い致します。 <?php $array_img = glob( '*.jpg'); for($i=0; $i<sizeof($array_img); $i++){ $array_img[$i] = ereg_replace("\n","",$array_img[$i]); $thumbHeight = round($height * THUMBNAIL_WIDTH/$width); print "<br style=\"border:1px solid #000000\"><img src=\"$array_img[$i]\" width=\"320\" height=\"340\"></br>"; } ?>
例えば、 http://www.example.com/test のページに、以下のようなフォームがあり、 <form name="form" method="post"> <input type="text" name="key" value="" /> <input type="submit" name="submit" value="送信" /> </form> 例えば、文字数をカウントするプログラムを作ったとして、 テキストBOXに適当な文字、例えば「テスト」と書いて送信をクリックすると、 URLをそのままで、テキストBOXに入力された「テスト」の文字数である「３」と表示するような事をPHPで作ったとします。 これは、手動で実際に入力して送信をクリックしなくても、 PHPで操作して、結果ページの情報を取得することって可能ですか？ PHPでテキストに書く文字を指定して、（仮想的に）送信を押して、表示されるページのHTMLソースを取得したいのです。 もし可能でしたらお願いします。
mysql> SELECT COUNT(id) AS rows FROM someTABLE WHERE name IN ( 'A','B','C' ) ; で +------+ | rows | +------+ | 9 | +------+ と出すことができます。　この rows の数「9」を php の変数に入れたいのです。 <?php // DB接続省略 $sql = "SELECT COUNT(id) AS rows FROM someTABLE WHERE name IN ( 'A','B','C' )" ; $result = mysql_query($sql, $conn); var_dump($sql."<br />"); echo ($result."--result"."<br/>"); $rows= mysql_num_rows($result); echo ($rows."--rows"."<br/>"); ?> として、ブラウザで確認すると string(80) "SELECT COUNT(id) AS rows FROM someTABLE WHERE name IN ( 'A','B','C' ) " Resource id #3--result 1--rows となって、 $rows に値’9’が入りません。$rows にレコード数を取得させるには、どうすれば良いでしょうか？
あるサイトを作っています。 サイトのメイン部分の上段に、 <?php include("*****.php"); ?> でインクルードすると、それより下のphpが絡んだ部分が表示されなくなります。 インクルードした内容はきちんと表示されます。 また、 <?php include("******.php"); ?> をコメントアウトしてみると、それより下のphpが絡んだ部分は表示されます。 調べてみてるのですが答えが見つかりません。 どういった問題によりこういうことが起きるのでしょうか？ アドバイスをいただけないでしょうか。 よろしくお願いします。
echoを使ってできないことがあり、自力解決ができないでいます。 お分かりになる方いらっしゃれば解決方法をご教授願います。 【やりたいこと】 WordPressでphpをカスタマイズしています。 その中で下記のことをやろうとしています。 echo '<a href="' . the_permalink() . '">' . the_title() . '</a>'; 【期待する結果】 下記のような感じです。WordPressの関数？の戻り値が展開されて <a href="aaa.html">bbb</> 要はリンクが張られている状態を作りたいのですが、現在の結果は下記のようになります。 aaa.htmlbbb とリンクが張られずにそのまま文字列が表示されてしまいます。 Fifrebugで確認すると、なぜか上記文字列の下に <a href=""></a> と入れられているのがわかりました。 試しにWordPressの関数の戻り値を使わず下記(ハードコード)にすると echo '<a href="' . 'zzz.html' . '">' . 'test' . '</a>'; ただしくリンクが張られています。 また関連するかはわかりませんが、戻り値の扱い方がおかしいのかも判断して 下記のようにしました。 $title = the_title(); 変数に入れるつもりが、なぜかこれが、echoがされた状態になり、(上記のコードだけで)プレビュー画面でタイトルが表示されています。 他にはヒアドキュメントでやっても同じような結果となり、原因がわかりません。 もともとは <a href="<?php the_permalink( ); ?>"><?php the_title(); ?></a> で書いてあったコード(正常に動作)をIF文などの条件が必要になり、(上記の書き方では私の知識ではわかりづらく) <?php ?> のようなブロック単位？に書き直しているタイミングで発生しました。 当方はPerl等メインでやっていますが、PHPは初心者です。ネットで検索したサンプルなどを手直しして使っているレベルです。 識者の方お願いします。
<?php while($row = mysql_fetch_assoc($result)): ?> ～～～～省略～～～～ <?php endwhile; ?> とした時、ブラウザで確認すると「～～省略～～」の部分が消えてしまう現象が起きます。 エラーのチェックもやるようにしているのですが、これといってエラーも表示されません。 一方で、while,endwhileを外してみると中身は表示されます。 また、同じような内容のコードを別途作ってみると、きちんと動作します。 これは、サイトのデザインの問題によるものなのでしょうか？ アドバイスいただければ幸いです。
PHP初心者です。 PHPでシステム開発中ですが、サーバーではなくて 操作しているパソコン内にあるフォルダが存在するかを 調べたいのですが、 そんな事って出来るのでしょうか？ もし出来るのであれば、ソースなどサンプルのURLや 関数があれば、ご教示お願い致します。
ファイルアップロードについて質問させて下さい。 ID、ファイルアップロードの機能の２つがあります。 ファイルを指定し、submitボタンを押下すると「b.php」に遷移します。 ファイルをアップロードした場合には遷移をせず ID、画像パスが入力されている場合のみ「b.php」に遷移したいのです。 入力チェックはjavascriptで行っていますが、その場合には「action=""」として javascript側で遷移するしか方法は無いのでしょうか？ ---a.php---- <form enctype="multipart/form-data" action="b.php" method="post" name="a"> <input type="hidden" name="MAX_FILE_SIZE" value="50000000" /> <table> <tr> <th>ID</th> <td><input type="text" name="ID" value=""></td> </tr> <tr> <th>画像</th> <td><input type="file" name="img" value=""> <input type="submit" name="upload" value="upload"> </td> </tr> </table> <a href="#" onClick="javascript:check('a');"><img src="button.jpg"></a> </form> お手数ですが、ご教授よろしくお願い致します。
チェックボックスでチェックした配列の値を　データベースのカラム名と照らし合わせて 一致する所に「1」を入れたいのですが、うまくいきません。 PHP Version 5.1.6 MySQL - 5.0.45 で運用しています。 どうしたら、入れることができるでしょうか？ ご教授、よろしくお願いいたします。 １　送るページ $sql = "select * from `class_tbl`"; $rest = mysql_query($sql, $con); while($col = mysql_fetch_array($rest)) { $classID = $col["classID"]; $class_name = $col["class_name"]; $sql = "select * from `member_sub_tbl` where `ID` ='$ID'"; $rst = mysql_query($sql, $con); while($col = mysql_fetch_array($rst)) { $kekka = $col["$classID"]; if($kekka==1){ echo <<<EOF <input type="checkbox" name="classID[]" value="$classID" checked/> $class_name EOF; } else{ echo <<<EOF <input type="checkbox" name="classID[]" value="$classID" /> $class_name EOF; } } } echo <<<EOF <input name="ID" type="hidden" value="$ID" /> EOF; ２　受けるページ $ID=$POST["ID"]; $classID=$POST["classID"]; var_dump($_REQUEST); 以下のように表示しています。 array(3) { ["classID"]=> array(10) { [0]=> string(4) "1010" [1]=> string(4) "1050" [2]=> string(4) "1110" [3]=> string(4) "1182" } ["sn"]=> string(2) "45" ["PHPSESSID"]=> string(32) "********************" } 「ID」の行に、配列の「1010」「1050」と　「member_sub_tbl（テーブル）」の「カラム名」を比較して、一致する所に「1」を入れたいのですがうまくいきません。 ※update　をしたいのです。 試行錯誤していますが、方法が分かりません。 ご教授、よろしくお願いいたします。
よろしくお願いします。 PHPでフォームを作成しております。 例えば電話番号の入力チェックを行う際にはpreg_matchを使用して可能かと思いますが 電話番号の項目が必須ではなく、入力された時のみにチェックするにはどのように記述すればよいでしょうか？
環境：CentOS6.3, PHP Version 5.3.3, Apache/2.2.15 (CentOS) ,MySQL Server version 5.1.61 （Client API versionも同じ） です。テーブルmembers にname,password の2欄があり、データがそれぞれ、taro , abc　と入っています。　　ここで　phpを下記のように書きました。 1 <?php 2 // データベースに接続　 　　　　中略 7 8 // 認証処理（Basic認証） 9 if (!isset($_SERVER["PHP_AUTH_USER"])) { 10 header("WWW-Authenticate: Basic"); 11 header("HTTP/1.0 401 Unauthorized"); 12 exit; 13 }else{ 14 var_dump(($_SERVER)." --line_a"."<br />"); 15 print ("ユーザ名：". $_SERVER['PHP_AUTH_USER']." --line_b"."<br />"); 16 17 // 入力されたアカウントが正しいかチェック 18 $result = mysql_query( "SELECT COUNT(id) AS rows FROM `account` WHERE name = $_SERVER [ 'PHP_AUTH_USER' ] AND password = $_SERVER ['PHP_AUTH_PW' ]", $conn); 19 20 echo( $_SERVER [ 'PHP_AUTH_USER' ]."-".$_SERVER ['PHP_AUTH_PW' ]."--line_c"."<br />"); 21 echo($result."--line_d"."<br />"); 以下略 これでブラウザから認証を経てログインすると、 string(20) "Array --line_a " ユーザ名：taro --line_b taro-ptaro--line_c --line_d となって、$result に値が入りません。 18行の WHERE句を外し、 $result = mysql_query( "SELECT COUNT(id) AS rows FROM `account`", $conn) or die("result取得エラー") ; とすると、 string(20) "Array --line_a " ユーザ名：taro --line_b taro-abc--line_c Resource id #3--line_d となり、$result にResource id #3 が返ります。 WHERE句で name = 'taro' 　を指定し、 $result = mysql_query( "SELECT COUNT(id) AS rows FROM `account` WHERE name = 'taro' ", $conn) or die("result取得エラー");　　とすると、 string(20) "Array --line_a " ユーザ名：taro --line_b taro-abc--line_c Resource id #3--line_d となり、やはり、$result にResource id #3 が返ります。password を追加し、WHERE name = 'taro' AND password = 'abc' としても、Resource id #3--line_d　と出ます。 ところが、18行の taro を $_SERVER [ 'PHP_AUTH_USER' ] に置き換え、 $result = mysql_query( "SELECT COUNT(id) AS rows FROM `account` WHERE name = $_SERVER [ 'PHP_AUTH_USER' ] AND password = 'abc'", $conn) or die("result 取得エラー") ; string(20) "Array --line_a " ユーザ名：taro --line_b result 取得エラー となって、$result に値が入りません。 $_SERVER [ 'PHP_AUTH_USER' ] を’’で囲んでも同じ。 何故でしょうか？　どのようにすれば不具合の解決ができるでしょうか？
任意の列の、値が「1」のカラム名を求めるにはどうしたらいいでしょうか？ PHP Version 5.1.6 MySQL - 5.0.45 で運用しています。 そもそものテーブルの作り方がおかしいのかも知れませんが、 以下のようになっています。 このテーブルで、IDが「40」の列の値が「1」のカラム名を求めたいのです。 どの様にしたらいいでしょうか？ ※カラム名「会員番号110」は実際は整数になっています。 ID　　会員番号110　　会員番号111　　会員番号112　　会員番号113　 40　　1　　　　　　　1　　　　　　　0　　　　　　　1　　　　　　 41　　0　　　　　　　1　　　　　　　1　　　　　　　1　　 $sql ="select * from `member_sub_tbl` where `ID`='$ID'"; $result = mysql_query($sql, $con); //カラムの数を取得する $numFields = mysql_num_fields($result); for($i=0;$i<$numFields;$i++){ $nameFields[] = mysql_field_name($result, $i); } print_r($nameFields); これで、カラム名は全て配列に入るのですが、値が「1」のと限定する方法がわかりません。 ご教授、よろしくお願いいたします。　　　　
IDが表示される掲示板が２ちゃんねる等ありますけど、あれって、どうやって実装するんですか？ PHPをちょっと触れるようになった程度の初心者なんですけど、個人サイトに実装したいと思っています。 ライブラリとかないのでしょうか？
SQLで 「返り値(戻り値？)が空」とでる。 Windows7ー64BitでXAMPPの最新バージョンの1.8.1を使ってます。 MyAdminでinsertなどのSQL文を直接実行してできてたのですが、 DreamWeaverでPHPとSQL構築してブラウザで実施してもデータベースに反映されません。 その後再度MyAdminで直接しても反映されなくなりました。 上記のように返り値が空とでてきます。 どのような原因があるか教えいただけますでしょうか。
下記のような変数を、「並べ替えたい順番」に応じて、 「希望結果」のように導き出したいのですが、どうすればよいでしょうか？ 変数名で、条件分岐とか出来ないでしょうか？ $id1=9; $zz1=6; $id2=8; $zz2=5; $id3=7; $zz3=4; ■並べ替えたい順番例 $order= array("3,1,2"); … 数字は重複しない前提 ※1番目が3、2番目が1、3番目が2 ・「1の数字が付いた変数の値」を、「3の数字が付いた変数の値」へ変更したい ・「2の数字が付いた変数の値」を、「1の数字が付いた変数の値」へ更新したい ・「3の数字が付いた変数の値」を、「2の数字が付いた変数の値」へ更新したい ■希望結果 $id1=7; $zz1=4; $id2=9; $zz2=6; $id3=8; $zz3=5;
PDFからepubに変換するウェブサイトを自作したいと考えています。 ブラウザから選んだPDFファイルをepubに変換するプロセスが難しく、わかりません。 何かソフトウェアが必要でしょうか。あるいはPHPなどのコーディングで自作できるものなのでしょうか？ もしこのようなサイトを自作された経験のある方がいらっしゃいましたら、お教えくださいますでしょうか。
http://ja.phptherightway.com/pages/Functional-Pr … 上記ページにありますようにPHPは再帰関数をサポートとあります。 関数プログラミングなるものはこの再帰関数を使ってループをつくったりすると ききました。 たとえば function roop($i){ print($i); $n = $i + 1; if($n < 100){ roop($n); } } roop(1); というようなコードでしょうか。 これは１～99までのループですよね。 これはPHPがインタープリターといえど、一度　PHP専用のバイトコードに変換して からPHPエンジンがバイトコードを実行するため再帰が可能という解釈でもんだいないですかね？ もしほんとうに逐次解釈なインタープリターなら解釈途中に、その関数自体の定義をインタープリターが認識？ し終わる前に未定義状態の関数が出現してしまうってことですよね？ undefined な関数があるといようなエラーがでてくのでしょうか？ 生Cのソースみればわかるのでしょうけれども、私はCがわからないので・・・。 概要でよいのでご教授ください。
こんにちは、趣味でプログラミングをしている者です。 さっそくですが質問させていただきます。 php で何かを作ったことはないのですが すこし勉強してみようと思い、 インターネットでphpの記事を見たりしていたところ、 次のような例文を見つけました。 <?php $http_response = ''; $fp = fsockopen('www.php.net', 80); fputs($fp, "GET / HTTP/1.1\r\n"); fputs($fp, "Host: www.php.net\r\n\r\n"); while (!feof($fp)) { $http_response .= fgets($fp, 128); } fclose($fp); echo nl2br(htmlentities($http_response)); ?> この例文の処理はなんとなくわかるのですが、 上記の例文で、fputs について調べようと思い以下のサイトの 記事を見ました http://www.php.net/manual/ja/function.fputs.php そこには次のように書かれていました。 fputs fwrite() のエイリアス そこで質問させていただきたいのですが、 エイリアスとはどのようなものなのでしょうか？ windows のエクスプローラでいえばショートカットのような ものでしょうか？ 例文で fwrite を使ってもよいのでしょうか？ ご存知のかた、教えていただけないでしょうか？ よろしくお願いします。
http://oshiete.goo.ne.jp/qa/7763338.html 上記のように回答を頂き、試したのですがうまくいきません・・・ 具体的におしえていただけないでしょうか？
header Locationの転送について教えてください。 PHPファイル内で画像プレビューを表示させ ページ転送を行いたいです。 しかし、プレビューが表示される部分に 転送先の<header>(html5)の内容が表示されてしまいます。 どこが悪くてどう直せば良いのでしょうか？ どなたか教えてください。 <?php header("Location: http://www.********.com/"); ?> <?php //前にアップロードされた写真のファイル名 $postPhotoName = $_POST["postPhotoName"]; $result = false; if($_FILES['img']['name'] == "") { die("ファイルがないぜよ。"); }else{ //アップロードされたファイルの情報を取得 $fileName = basename(date("U")."-".$_FILES['img']['name']); $fileType = $_FILES['img']['type']; $fileTmpName = $_FILES['img']['tmp_name']; if(!preg_match("/jpeg/",$fileType)){ unlink($fileTmpName); die( "jpegじゃないぜよ。"); }else{ //ファイルの保存 if (!move_uploaded_file($fileTmpName, 'thumbimg/' . $fileName)) { die('保存にしっぱいしたぜよ。'); } else { //サムネイル作成 include('class.image.php'); list($width, $height, $type, $attr) = getimagesize('thumbimg/'.$fileName); $thumb = new Image('thumbimg/'.$fileName); $thumb->name('thumb-'.basename($fileName,".jpg")); if($width>$height){ if($width > 380) $thumb->width(380); }else{ if($height > 400) $thumb->height(400); } $thumb->save(); $result = true; } } } if($result == true){ ?> <img src="<?php echo 'thumbimg/thumb-'.$fileName;?>"> <input type="hidden" value="<?php echo $fileName?>" name="postPhotoName" id="postPhotoName"> <?php }
通院生活をしていて忘れてしまっていたMySQLを見たら、 100万件のデータが蓄積してしまっていました。 まずいと思ってphpmyadminで古い順に並べて少しずつ削除しようと思ったのですが、 重すぎて並べ替えすらできない状況です（汗 日付管理のカラムで直接検索をかけても重くて絞り込めない状況です。 放っておいた自分がいけないのですが、 このような状況で一部データを削除する方法はどういった方法が考えられるでしょうか？ 例えば何月何日以前のファイルを全て削除する方法などで、 負荷を最小限にする方法というのは存在しますでしょうか？ よろしくお願い致します。
PHP Version 5.3.1を使用しています。 Zend Frameworkというフレームワークを使用しているのですが、 http://manual.zfdes.com/ja/zend.db.profiler.html http://ideone.com/JekM0d ┬ Zend │└ Db │　├ Profiler │　│└ Query.php Query.phpというファイルのクラスZend_Db_Profiler_Query内のbindParamsメソッド /** * @param array $param * @return void */ public function bindParams(array $params) { if (array_key_exists(0, $params)) { array_unshift($params, null); unset($params[0]); } foreach ($params as $param => $value) { $this->bindParam($param, $value); } } の if (array_key_exists(0, $params)) { array_unshift($params, null); unset($params[0]); } この部分は具体的に何をしている処理なのでしょうか？ 配列内に数値の0があるかを調べて、 存在したらunshiftで先頭にnullを挿入する。 でもunsetでその挿入した行（インデックスが0なので）を削除する。 というふうに自分は解釈しているのですが、もしそれだと array_unshiftでnullの行を挿入する意味が分かりません・・・ そもそもなぜarray_key_existsで0があるかを調べる必要があるのでしょうか？ できればこのメソッドの具体的な使用も含めてアドバイス頂けないでしょうか？
CentOS5.5 のサーバ上にて、Apache + PHP + Smarty + Zend Framework で 構築されたサイトを、事情により異なるサーバへ引っ越すことになりました。 新しいサーバにも CentOS5.5 がインストールされたものを用意し、 Apache と PHP は旧サーバと同じバージョンのものをインストールし、 Smarty と Zend Framework は旧サーバから tar ball でまとめて コピーし展開しました。 その他ソースコードも tar ball でまとめて持ってきましたので、差異はないと 思っていたのですが、新しいサーバのページを表示させると、あちこちに 下記のようなエラーメッセージが表示されてしまいました。 [8] Undefined index: checked /file_path_to_smarty/templates_c/%%A6^A6C^A6C4B1AA%%index.tpl.php(143) PHPで書かれたプログラムの内容については、開発に携わっていなかったので 詳しいことは分からないのですが、ソースコードを見ると、確かに変数が 初期化されないまま来ているので Undefined Index が表示されるのは 当然という感じです。 error_reporting や display_errors の設定の問題かと思いましたが、 設定やソースコードを変えてもエラーが表示されてしまいました。 Smarty には default という修飾子がありますが、もともとのソースコードでは 書かれていないので旧サーバでは default 無しでもメッセージが表示されない ようです。 旧サーバでは、変数が初期化されていなくてもメッセージが表示されずに 処理される設定になっているのではないかと思うのですが、どこをどう変えれば 良いのかわからない状態です。 あと数週間は旧サーバも稼働していますので比較することは可能ですが、 チェックすべきポイント等ありましたら教えていただければありがたいです。 よろしくお願いします。
教えて下さい。 プログラム上でereg_replace関数を多数使用しています。 この関数は、PHP 5.3.0以上では使えない事がわかり、他の関数に切り替えたいと考えて いますが、書き方がわかりません。 以下の記述をPHP 5.3.0以上で動作させる為には、どのように記述すれば良いでしょうか？ 《現在の記述》 $dest=ereg_replace('^', '&gt;' ,$dest); $dest=ereg_replace("\n", "\n>" ,$dest); $dest = ereg_replace("http://[^<>[:space:]]+[[:alnum:]/]", "<a href=\"\\0\">\\0</a>", $src); 初歩的な質問で申し訳ありませんが、教えて下さい。 よろしくお願いします。
