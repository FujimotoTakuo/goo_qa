同じ数字が何箇所もあるので、2+2=4 と言われても、どの2とどの2なのかがわかりません。 どのセルとどのセルの和、という関係性をはっきりさせれば、その通りに入力するだけでは? 見たところ =1つ上のセル + 一つ左のセル になっているように思いますが、いかがでしょうか
局所変数名であれば、同一の名前を別の意味で使用しても問題ない 大域変数名であれば、同一の名前を別の意味で使用すると、期待した実行にならない 同様に、 局所関数名であれば、同一の名前を別の意味で使用しても問題ない 大域関数名であれば、同一の名前を別の意味で使用すると、期待した実行にならない なお、言語によっては、同一の関数名でもパラメタによって関数が区別できる場合には、別の意味で使用できるものもあります。 ＞「ageとagが紛らわしかったので、agに統一したところ」実行結果は同じでした。 ＞今回たまたま同じになったのか！ プログラムの詳細は見てませんが、一般的には、 　今回たまたま でしょうね。
動画の説明欄のところにあるリンクのサイトに行って 少し下にスクロールしたらメールアドレス入力するところありますね。 そこに入力して「登録する」ボタンを押せばいいんじゃないでしょうか
> サンプルソースなどあればありがたいです。 いやむしろ、具体的な例示をしてどういう結果がほしいのか提示すべきでは？
マルチポストは関心しません 向こうの方に書いときましたよ https://teratail.com/questions/45272
いわゆるデフォルト値ですね セットしないとその値が参照されます
<?php print "<a href=\""; the_permalink(); print "\"><img src=\""; bloginfo('stylesheet_directory'); print "/images/hoge.png\" /></a>"; ?> 的な感じ？
<!DOCTYPE html> <html> <head> <title>P251 Sample8-2 複数のオプションを作成する</title> </head> <body> までは、何も処理されないで、そのままHTMLになってますよね? その後の <?php #$は変数の宣言 $pr1 = new Person; ... ?> という部分は、PHPで処理が実行されて、変数の設定とかは行われますが、printやecho等が無いので、何も出力されませんよね? このように、 <?PHP 〜 ?> の間は、PHPのプログラムとして処理される その外側は、そのまま出力される。PHPで処理されない。つまり、コメントを無視したり、計算式を計算したりしない。 となっています。 では <table border="2">#表を定義し外枠サイズ2を定義 は <?php 〜?>の中と外、どちらにありますか? そのときの扱いは「PHPで処理する」「そのまま出力する」のどちらでしたっけ?
回答ではないですが、ここで質問するより、 https://ja.wordpress.org/support/forum/plugins/ で、質問された方が回答が得られるかと思います。
エラーが出ますか？
ある程度、javascriptの挙動がわかって、オブジェクトについて理解がある 中級者以上向けじゃないですかね？ もちろん一つ一つ読み解いていく根気さえあれば初級者でも大丈夫だと思いますが 安価で内容の薄い入門書的な書籍は大量に出回っていますので
$foo = フォーム入力したTEXTAREAの文字列を取得(); if (preg_match_all('/<\s*(.+?)\s*>\s*(.+?)\s*$/m', $foo, $ms, PREG_SET_ORDER)) { _ print_r("<table border>\n"); _ foreach ($ms as $m) { _ _ print_r("<tr><th> {$m[1]} <td> {$m[2]}\n"); _ } _ print_r("</table>\n"); }
すみません、print するの忘れてました
固定ページのファイルは　page.php　だと思います。 それに、header.phpやfooter.phpその他（テーマによって違う？）を読み込んでひとつのページを表示しているんだと思います。 内容自体はデータベース化されていて、条件によって読み込んだ内容を表示している、、、だそうです。 自作の固定ページのテーマを作るにはＦＴＰソフトでサーバーに接続してそのためのファイルをアップロードしてやる必要があります。 固定ページなら、page-スラッグ名.phpあるいはpage-ID.phpといったファイル名にしてやる必要があるようです。サーバーに接続してファイルをアップできるのであれば、自分の思ったテーマを作ることが出来ます。そうでないと、既存のテーマを改造するするしかないと思います。 ひとつのテンプレートで条件分岐によって表示させる内容を違えていたりするので、テンプレートをみていても（わたしの場合）よくわからなかったりします。
深く考えずに別の変数に代入してやればよいでしょう <?PHP $res=array("price"=>1000,"name"=>"hoge"); $formated_price=number_format($res['price']); $html="..."; $html .= <<<EOT <div class="price" style="color:#565656;text-align:left;font-weight:bold;"> {$res['name']} {$formated_price}円 </div> </div> EOT; print $html;
>memory_limitを設定してもよいでしょうか。 そりゃシステム側で使っているメモリ容量もあるし memory_limitって1プロセス辺りだからシングルタスクで動くなら良いけど 今の呼び出し元のacacheも呼ばれるphpのプロセスもマルチタスクだからな。 どれだけのプロセスが立ち上がるようにapacheの設定しているかもわからないし 質問者以外この質問に回答なんてできない。 できるとしたらそれは質問者のサーバをクラッキングもしくは物理的にサーバがある場所に侵入してさらにはログインできる人だけだ。
ちょっとおかしくない？ > for ($i=1; $i<=$cnt; $i++) なので$iは1から回しているのに 出力は > 0-->組織1, と、0から出力されています。 何かへんなやっていませんか？ odbc_関数を利用していますが、とりあえず使わないで デバッグした上で仕様通りに動いてからodbc接続してみてください
すくなくともサーバー側にphp_intl.dllが導入されていないと難しいですね htaccessにしてもphp.iniにしても所詮インストール済みのモジュールを 使えるようにするか使えないようにするかだけなので やってみてphpinfo()で状況を確認するしかないでしょうね
こんな風になにか適当なidをふった要素にvalueを代入してやるとよいです。 <script> function check(id){ var n=document.getElementById(id); var c4=document.getElementById("c4"); if(!n){ c4.value=id+"は存在しない"; }else if(n.type!=="checkbox"){ c4.value=id+"チェックボックスじゃない"; }else if(n.checked){ c4.value=id+"チェックされてる"; }else{ c4.value=id+"チェックされてない"; } } </script> <form> c1:<input type="checkbox" id="c1"> <input type="button" value="c1をチェック" onclick="check('c1')"><br> c2:<input type="text" id="c2"> <input type="button" value="c2をチェック" onclick="check('c2')"><br> c3:存在しない <input type="button" value="c3をチェック" onclick="check('c3')"><br> c4:<input type="text" name="c4" id="c4";><br> </form>
どこでどうエラーがでているのか整理して提示してください DBは情報を保持しているだけで、データはDBに保存していないのですよね？
httpで落としたファイルとftpで落としたファイルのサイズを比較して見てください
(1)削除の確認 <form> <input type="submit" name="del" value="削除" onclick="return confirm('削除していいですか?');"> </form> (2)ログイン 各ページにセッションを設定して isset($_SESSION["userid"])でチェックして未設定のものに header("Location:/index.htm"); 的な処理をいれる ライブラリ化して於けば各ページの冒頭で呼び出すだけ
何を指定したらどの範囲で探し続けるのか仕様さえ決めれば いくらでも対応できるでしょう
frameもしくはiframeではどうでしょう？ もちろん、サーバー側がframeでの呼び出しを拒否している場合は表示できませんが その場合は一度phpでワンクッションすればframeのソースとして利用することは可能でしょう
phpを使っていないので「ord」は判りませんが、他は判ります。参考にどうぞ！ 「bin」は、2進数（binary number）から 「2」は、toの音から 「hex」は、16進数（hexadecimal number）から
カプセル化の概念がわからないという質問でしょうか？ https://www.google.co.jp/search?q=%E3%82%AB%E3%8 … どうせならsetname()、setage()も用意したほうがよいような・・・
たとえば <?PHP system("ls /home/vuser10/1/8/0089181/ホームページアドレス/search/"); ?> 的な検証をしてみては？
http://okwave.jp/qa/q7481523.html
Apache サーバーはなくても開発できます。 プロジェクトの設定で、phpセルフサーバーを選んでください
まぁコメントなんで<html>タグより後に書いたほうが良いですね。 ソースの視認性のために、先頭に近い部分に載せておきたいなら <?PHP ob_start(); ?> // コメント文 <?PHP ・・・ 途中でhttp header出力OK ・・・ $comment=ob_get_contents(); ob_end_clean(); ?> <html> <?php print $comment; ?> のようなことをしないと、コメントをhtmlに出力することができません。 htmlで出力する必要がなければ(申し伝え文書っぽいのでこちらのケースだと思いますが) #3さんの言うようにphpのコメントとして書けばいいでしょう <?PHP /* コメント */ ?>
コンピュータなどのソフトウエアの世界では一般的に「ハンドル」とは、あるオブジェクトや機能など(=この場合データベース)を操作するためのキーや、そのものを示すもののことを指します。 英語で、ある何かを操作することをHandle(ハンドル)、操作する人(者)のことをHandler(ハンドラー)といいますが、これが語源です。ご指摘のWebページで「車のハンドルと同じ」と言われているのはそのためと思います。つまり、あるものを操作するためID、あるいは、あるものを示すためのIDのことがハンドルなので、この場合データベースを操作するために使われるもの＝データベースハンドル、ということになります。
全角カナとはカタカナのことでしょうか？それともひらがな含む？ 文字コードによって範囲が違うみたいなので環境に合わせる必要がありそうですが とりあえずUTF8でのありがちなパターンとして 半角英数字→[0-9a-zA-Z] 全角カナ→[ァ-ヶ]、これに長音を足すくらい？[ーァ-ヶ] これだけで構成されているかどうかですから $pattern="/^[ーァ-ヶ0-9a-zA-Z]+$/u"; 的なパターンになるでしょう
>>あまり自身はないのですが！？もし何かありましたら・・・ 何も有りません。合ってます。 処理は左から右へ、上から下へ、書いた順番に実行されます。
MVCが当たり前になっている状態でVだけに特化しているdreamweaverは邪魔なだけ。 メインのモデルとコントロールには必要ない。 それとdreamweaverってxdebugと連携してのステップ実行ってできなかったはずだけどな。 >プロの開発の現場でdreamweaverを使って開発しているよう デザイン会社ならあり得るけどシステム開発側では上記の理由からあり得ない。使っている人がいたらそいつは偽物のPG。
PHPでやる場合は毎回再読み込みがされますが大丈夫ですか？ この手のインタラクティブな処理はjavascriptでやります。 処理的にはsetIntervalでajaxなどで修正内容を取りに行くのが妥当かと 再読み込みでもOKならmetaタグなどで1分に１度refreshする前提で 時間を種にしたテキストや背景の切り替えプログラムをいれておけばよいでしょう
フレームワークは流行りがありますよね codeigniter https://www.amazon.co.jp/CodeIgniter%E5%BE%B9%E5 …
プロではないですが、私の運用方法は以下 ・プログラムはすべてクラスで管理 ・よくつかう関数はcommon.phpで一括管理 ・公開されているライブラリは積極的につかう ・出力についてはテンプレートを利用する ・非推奨となった機能は排除する ・特定のcmsに依存しない ただし人に勧めるときは統合環境やcmsなどは積極的に活用するように誘導します。
ずいぶん初心者っぽいですがホントにoracleユーザー? 最近のoracleならgroup_concatできるみたいですよ
どうやらマルチポストのようなので考え方だけ ・今月はdate("n")でえる ・来月はdate("n",mktime(0,0,0,date("n")+1,1,date("Y")); ・カレンダは最大6週を7日間で回す ・date("w",mktime(0,0,0,date("n"),1,date("Y"))で得た当月の1日の曜日をつかって表示をずらす
とりえあずget_defined_functions()でリストは拾えるので <?PHP print implode("\n",get_defined_functions()["internal"]); ?> のようにして一覧を得てください
「規約上おかしくないでしょうか」の「規約」ってなんですか? どのような「規約」があるんでしょうか?
google chartを全然調べないのに回答します。 $element_data = [test_sales]; test_salesに$いらないんですか？
「効率がいい」かどうかはさておき http://php.net/manual/ja/function.range.php
windowsのdosには、環境変数のpathにフォルダへのＰＡＴＨ（プログラムの場所）をたくさんセットできます。pathにセットするといちいち長いネストされたc:\sss\aaa\fff￥xxx.exeのように指定しなくてもxxx.exeだけでコマンド（プログラム）であるxxx.exeを走らせることができます。こういった利便性が要求されているわけです。 添付の画像では、現在表示されているものすべてがすでにセットされているのですが、これにプラスしてc:\php￥を追加でいいんじゃ？￥はアスキーでバックスラッシュで/の反対の傾きのキャラクターです。 やるまえに、c:\phpのフォルダをエクスプローラー（ファイルエクスプローラー）で確認してみてくださいね。そこにphpのプログラムなどがあればたぶんいいと思います。
strtotime("2016-06-09 00:00:00")のように日時からタイムスタンプを得て now()と比較すればいいでしょう
アクションが2つ必要な意味がちょっとわからないですが たんに飛び先のactionに2つの機能がついていたらだめなの？
レンタルサーバーがわかりませんが、httpアクセスできるフォルダと httpアクセスできないフォルダがあるのではないでしょうか？ httpアクセスがどのユーザで実行されるのかわかりませんが、 適切なアクセス権を設定するか公開されないフォルダに配置すれば大丈夫かと思います。 またtest.shはCronからのみ実行したいのですよね？ public_htmlにおくものではないかとおもいます。 おそらくですが、public_htmlに置くとそのまま外部からアクセス可能な状態になるかと思われます。
単純に「mail.phpが(phpのスクリプトではなく)シェススクリプトとして実行されている」だけでしょう。 <?php を ?php というファイルを < で標準入力へのリダイレクションと解釈すれば、そんなファイルは無いだろうから ?php : No such file or directory と、エラーメッセージの内容とも合致します。
２さんのサイトを翻訳してみるとこんなかんじです 「php.exeに 'は、内部コマンドまたは外部コマンド、操作可能なプログラムまたはバッチファイルとして認識されません。 なぜそのエラーは、私は私の環境変数にPHPを追加したにも関わらず発生しますか？ 私の環境変数PATHを以下に示します。 C：\プログラムファイル\ NVIDIAコーポレーション\ PhysXの\共通; C：\ Program Files \ Commonファイル\ Microsoft共有\のWindows Live; C：\プログラムファイル\ PC ...............ファイル\ QTSystem \;：\ xamppのの\ PHPの\の場合php.exe １さんの言うように環境変数のパスが通ってないようですね。 それとできればサーバの構成を一緒に教えてください 今回win＋はIISのようですが、大体はLinux＋Apacheの場合が多いです。
イメージされているかもしれませんが PHP内で認証コードを作って、それと同じ計算で手動で認証コードを作ってメールで渡すとか 「日付＋何かのmd5」とか決めておけば手動でも認証できる感じです。
正直にいうと 1点大きな違和感がある. ほんとうにこの形なら, __init_check で例外を throw した方がシンプルじゃないかねぇ.
「エスケープシークエンス」ではないけど「余計なもの」が入っているという点では正解＞#1. find( '.typeTK td') で クラス属性が typeTK である要素の子孫となる「td 要素」がとれる ことを分かっているかどうか, だねぇ.
mb_convert_variablesは $hogehoge = mb_convert_variables(・・・ と文字コードを変換したものを別の変数に入れるものなのです。 http://php.net/manual/ja/function.mb-convert-var … 配列にする前なのか、配列でも変換できるかはとりあえず調べてみてください。
$strじゃなくて$numberをpreg_match_allしてるけど大丈夫?
見た感じh1～h6タグを吐き出すための仕様のようですね <h1>大見出し</h1> この「大見出し」の文字を与えているのが$head変数で 「1」の部分が$numです こうして任意の見出しを作成しています
以前はPEAR::Http_requestなんかよく使ってましたが https://pear.php.net/package/HTTP_Request 今ならcURL関連かな http://php.net/manual/ja/book.curl.php 多プロトコル対応だし とはいえ、先方に受け口がないなら、全体を受け取って こちら側でジャッジするしかないんでしょうけどね
いわゆるコールバック関数で昔はこういう書き方をしました 例１：数字に1を足す <?PHP $str="abc123abc"; print $str; print "<hr>"; $pattern="/\d/"; $str=preg_replace_callback($pattern,"mycallback",$str); print $str; print "<hr>"; function mycallback($a){ return $a[0]+1; } ?> 今は無名関数が使えるのでこう書けます 例2:数字から1を引く <?PHP $str="abc456abc"; print $str; print "<hr>"; $pattern="/\d/"; $str=preg_replace_callback($pattern,function($a){return $a[0]+1;},$str); print $str; print "<hr>"; ?> これを見やすくして <?PHP $str="abc456abc"; print $str; print "<hr>"; $pattern="/\d/"; $replacement=function($a){return $a[0]+1;}; $str=preg_replace_callback($pattern,$replacement,$str); print $str; print "<hr>"; ?>
混乱させて申し訳ない、転記ミス preg_replace()→preg_replace_callback() <?PHP $s=<<<eof <a href="test">test a</a> <span class="hoge">test span</span> <br> <img src="hoge" alt="hoge">test img <hr> <p id="hogep">test p1</p> <p>test p2</p> eof; print $s; print "\n<hr>\n"; $s=h($s); print $s; print "\n<hr>\n"; $s=s($s); print $s; print "\n<hr>\n"; function h($s) { return htmlspecialchars($s, ENT_QUOTES, 'utf-8'); } function s($s){ $pattern="/&lt;((a|img|p) .+?|\/(a|p)|p)&gt;/"; $replacement=function($a){return htmlspecialchars_decode($a[0],ENT_QUOTES);}; return preg_replace_callback($pattern,$replacement,$s); }
phpinfo()で確認しましょう。 mb_send_mailは、mbstring拡張モジュールが入っていないと使えません。 phpinfo の上の方にあるConfigure Commandの中に–enable-mbstring–という記述があれば問題なく利用できます。
＞「水曜と金曜もはぶきたい」 例示したrangeは連続したデータの取得方法なので、不連続の場合arrayで指示するほうが簡単です in_array($today,array(1,2,4,6)) ＞「22時から1時まではぶきたい」 除外する場合 not（!）をandでつなぐとよいかも !in_array(0,1,22,23) in_array($today,array(1,2,4,6)) and !in_array(0,1,22,23) であれば、月、火、木、土の0-1、22-24時以外の時間にヒットします
たびたびすみません。 よく考えたらふつうにマッチした文字をデコードするだけですね function s($s){ $pattern="/&lt;((a|img|p) .+?|\/(a|p)|p)&gt;/"; $replacement=function($a){return htmlspecialchars_decode($a[0],ENT_QUOTES);}; return preg_replace($pattern,$replacement,$s); }
例示のものだとすると日本語の場合まず分かち書きをして 文書を主語述語その他にわけて、文脈から判断しないと 文字が入っているかどうかだけで判断するのは危険
状況わからないのでなんとも言えませんが いったんhtmlspecialcharsしたあと、 特定のタグに該当するぶんだけstr_replaceで元に戻してみては？
>自分が聞きたいのは、そのほんの１行の間に他のコードが入るかどうかを聞いただけです 可能性はゼロではない。
> $product = array(array(100,5),array(20,16),array(25,40)); これは、視覚的に表すと、以下のようなことです。 $product 　[0] 　　[0]　⇒　100 　　[1]　⇒　5 　[1] 　　[0]　⇒　20 　　[1]　⇒　16 　[2] 　　[0]　⇒　25 　　[1]　⇒　40 二次元配列なので、添字は2つ指定して、初めて目的の値を得ることができます。 [0]、[1]という指定は、おまじないでもなんでもなく、目的の値を得るための添字になります。 つまり、 $product[0][0]は100 $product[0][1]は5 $product[1][0]は20 $product[1][1]は16 $product[2][0]は25 $product[2][1]は40 ということになります。
変数を変えていく意味がよくわかりません 普通は配列でうけませんか？ とはいえあえて指示通りでやってみるとこんなかんじ？ foreach(array(10,20,30) as $val){ $sql="SELECT * FROM info WHERE cat = ? "; $stmt = $pdo->prepare($sql); $data=array($val); $stmt->execute($data); ${"cat".$val} = $stmt->fetchAll(); } まぁ外部からの値の受け渡しではないのでプレースホルダーではなく 直接変数を埋め込んでもいいかもしれませんが $sql="SELECT * FROM info WHERE cat = $val ";
> これだと中身がないよ 人に聞く際には、エラーメッセージの意訳はやめましょう。 万が一誤訳であった場合、まったく関係の無い解決策を考えてしまい、結局無駄になります。 また、そのまま書いてあれば、検索して調べることもできますが、意訳されていると元の文章を推測しなければ検索できません。 address:address っておかしくないですか?
単純に、「先頭から始まる数字以外」か「数字」を拾えばよいのでは？ <?PHP check("東京都千代田区神田神保町1丁目103"); check("東京都千代田区神田錦町3丁目14-12"); check("東京都千代田区神田錦町3丁目14-12-110"); function check($str) { $pattern="/^[^\d]+|\d+/"; preg_match_all($pattern,$str,$matches); print_r($matches); }
関数の役割はいくつかあります ・再利用性 一定の手続きをひとまとめにすることで、同じ様な作業をするときに 関数を呼び出すだけで、同じ様な結果を導くことができます ・可読性 冗長なプログラムはどこの部分が何をやっているかわかりづらくなります 機能ごとに関数化することで、全体の流れがわかりやすくなります ・保守性 冗長なプログラムはバグが出た場合、同じ様な箇所をすべて修正しないといけません 関数化してればその関数を修正すれば該当する箇所全てに反映されます。 また機能を拡張したり、エラーや例外対策する場合なども関数化していると楽です ・ブラックボックス化 関数化すればユーザーは機能だけ理解していれば、その関数内の過程を気にする必要はありません。 したがって自分のプログラミング能力以上の機能を利用することができます その他もろもろありますが、今の時点では理解しづらいでしょうから割愛
たとえば <?PHP myfunc(1,2); function myfunc($a,$a){ print $a; } としたら$aで引っ張ってこられる数値はあとから指定した「２」になり 実質「1」は「2」に上書きされて書き換えられています。 参照できない引数なら指定しないのと同じです。
さて, では <?php $x = array( 'test1' => 'Bad' ); $x = array( 'test1' => 'Good', 'test2' => 'Very'. $x['test1'] ); print_r($x); ?> だったらどうなると思うかな?
＞いろいろ試してみましたが全く消えません。 では ＞各行に更新と削除ボタンを設けています。 をどうやって指定しているか書いてください また、「$in['id']」はどこからやってきているのですか？
画像をアップロードさせてその画像を表示すれば (URL が分かるので) その画像を挿入できます。編集中にもアップロードできれば便利だと思います。 > メニューより画像一覧を選択して 「Enter URL:」もできないと、他サイトの画像や Data URI スキームとかが入力できなくなるので不便だと思います。 GUI でできなくても Show Source して onclick="" とかを挿入できそうなので、PHP 側で何か検査した方がいいかも。
私はNetBeansでやってました。コード補完がやたら 賢いし、デバッグもひと通りできます。 評判のよいのは有料ですがphpstormですね。
URIにはエンコードが必要 またlocation.hrefに代入するならクォーテーションが抜けてる それと&はパラメータの区切りなのでnoの前につけない <input type="button" value="削除" onClick="location.href='index.php?no=<?php echo urlencode($test['test']); ?>'">
こんな感じじゃない？ <form method="post"> <input type="hidden" name="ca[]" value="ans1"> <input type="text" name="SA[]" value="ans1"><br> <input type="hidden" name="ca[]" value="ans2"> <input type="text" name="SA[]" value="ans2"><br> <input type="hidden" name="ca[]" value="ans3"> <input type="text" name="SA[]" value="ans3"><br> <input type="hidden" name="ca[]" value="ansx"> <input type="text" name="SA[]" value="ans4">←間違い<br> <input type="submit" value="go"><br> <?php error_reporting(E_ALL); $point=0; $count = (isset($_POST['SA']) and is_array($_POST['SA']))?count($_POST['SA']):0; for ($i = 0; $i < $count; $i++) { if(strcmp($_POST['SA'][$i],$_POST['ca'][$i]) !== 0 ){ $point += 0; }else{ $point += 15; } } print $point;
理由は警告メッセージに出ています。現在の設定が「allow_url_include=0」だからです。 下記を設定すれば許可できます。変更可能な場所が PHP_INI_SYSTEM なので、php.ini または httpd.conf で設定します。 allow_url_fopen = On allow_url_include = On http://php.net/manual/ja/filesystem.configuratio … http://php.net/manual/ja/configuration.changes.m …
>スクリプトを 下記のように囲ってみても、CSSだけは無視されます もう少しソースを絞ってテストしてみては？ どこかjavascriptがエラーになっているのかもしれないし
普通はsql側でidでgroup by してmax(time)で最新時間を 取得します
Wordpressのどこにコピペしたのでしょうか？ 記事投稿欄であれば、PHP部分が全てエスケープされたためだと推測しますが…。 ウィジェットとして登録すれば動くと思います。
まずは入門書を読むところから始め、 とりあえず書いてみるしかない 私はすべて独学だけど困ったひとにアドバイスする 程度までは習得できたし
非同期処理をすればリロードに影響されません 具体的にはajaxが一般的 ただしjavascriptに依存するので、非対応のブラウザや 禁止されている環境だと更新自体ができなくなる リスクもあるので注意が必要
postしたページのリロードは、再度postすることです。 <?php if (@$_POST['friend_req']) { try{ require_once("../../db/connect_db.php"); $sql = "INSERT INTO friend(user_i, req_fg, user_you, add_fg) VALUES(?,?,?,?)"; $datas=array($user_id, 1, $_GET['no'], 0 ); $stmt = $pdo->prepare( $sql); $stmt->execute($datas); header("Location:".$_SERVER["SCRIPT_NAME"]); }catch(PDOException $e){ die($e->getMessage()); } } ?> 的な、INSERTしたら別ページに飛ぶようにしないとダメです 普通は更新したら「更新完了ページ」に飛ばすもんですけどね ちなみにheaderで飛ばすので、HTMLの出力をする前に組み込む必要があります あとPOSTとGETを組み合わせて使うのはかなり気を使わないといけません $_SERVER["SCRIPT_NAME"]では飛べないし、仕様をよく検討してみてください
ご提示の方法で$nameが取れているはずです。 ただし、エラーが「UPLOAD_ERR_PARTIAL」（値=3）などで 失敗していると、$_FILES["imgfile"]["error"] をforeachで回せなくなるみたいです
正規化の例 仮に物件テーブルが元々こうだとします。 create table bukken0(bid int not null unique,bname varchar(100) not null,address varchar(100) not null); insert into bukken0 value(1,'東京都中央区中央町1-1','物件A'), (2,'東京都中央区中央町1-2','物件B'), (3,'東京都中央区中央町1-3 ××マンション201号','物件C-1'), (4,'東京都中央区中央町1-3 ××マンション403号','物件C-2'), (5,'東京都中央区東町1-1 ○○マンション103号','物件D-1'), (6,'東京都中央区東町1-1 ○○マンション202号','物件D-2'), (7,'東京都中央区東町1-1 ○○マンション303号','物件D-3'), (8,'東京都千代田区千代田町3-1','物件E'), (9,'東京都千代田区神田町4-1','物件F'); 上記例ですと、物件3と4,５と6と7はそれぞれ同じ住所（マンション）です 住所データを外に逃がし、物件データと住所データに分けます create table address(aid int not null unique,avalue varchar(100) not null); insert into address value(1001,'東京都中央区中央町1-1'), (1002,'東京都中央区中央町1-2'), (1003,'東京都中央区中央町1-3 ××マンション'), (1004,'東京都中央区東町1-1 ○○マンション'), (1005,'東京都千代田区千代田町3-1'), (1006,'東京都千代田区神田町4-1'); create table bukken1(bid int not null unique,aid int not null,ashosai varchar(100),bname varchar(100) not null); insert into bukken1 value(1,1001,'','物件A'), (2,1002,'','物件B'), (3,1003,'201','物件C-1'), (4,1003,'403','物件C-2'), (5,1004,'103','物件D-1'), (6,1004,'202','物件D-2'), (7,1004,'303','物件D-3'), (8,1005,'','物件E'), (9,1006,'','物件F'); これを結合して表示すれば select bid,avalue,ashosai,bname from bukken1 as b inner join address as a on a.aid=b.aid 住所ごとの物件数はこう select a.aid,avalue,temp.count from address as a inner join ( select aid,count(*) as count from bukken1 group by aid ) as temp on temp.aid=a.aid このように集計単位をあらかじめ想定して、データの持たせ方を設計していきます。 たとえば都道府県→市区町村→町とドリルダウンさせるのであれば、 それぞれをテーブルに分割して処理する必要があります。
> うまくうごきません どう「うまくうごきません」なのかを正確に把握して、その現象が起る原因を予測することが、修正への近道です。 > MySQLの命令が5つあり この部分はPHPのプログラムであり、MySQLの命令はいっさい含まれていません。 <?php foreach ($cats1 as $cat1) { ?> の $cat1 は、おそらくこのループの中だけで使う変数でしょう。 それならば、5つ書くにしても <?php foreach ($cats1 as $cat) { ?> <?php foreach ($cats2 as $cat) { ?> ...と同じ名前にすれば <OPTION value="<?=$cat['cat_id']?>" <?php if( $cat['cat_id'] == $row['cat1'] ){ echo "selected" ;}?> > <?=$cat['name']?></OPTION> と、( $row['cat1'] を除いて )同じ書き方にできます。 'cat1'という文字列を変数にしてしまえば $cat_id = 'cat1' ; <SELECT name=$cat_id > <?php foreach ($cats1 as $cat) { ?> <OPTION value="<?=$cat['cat_id']?>" <?php if( $cat['cat_id'] == $row[$cat_id] ){ echo "selected" ;}?> > <?=$cat['name']?></OPTION $cat_id = 'cat2' ; <SELECT name=<?=$cat_id?> > <?php foreach ($cats2 as $cat) { ?> <OPTION value="<?=$cat['cat_id']?>" <?php if( $cat['cat_id'] == $row[$cat_id] ){ echo "selected" ;}?> > <?=$cat['name']?></OPTION .... とループの中も SELECT name= の部分もまったく同じになります。 残りは $cats1,$cats2 .. だけです。 可変変数を使うにしても、この一点だけ済みます。 $a='cats1' ; $cats = $$a ; $cat_id = 'cat1' ; <SELECT name=$cat_id > <?php foreach ($cats as $cat) { ?> <OPTION value="<?=$cat['cat_id']?>" <?php if( $cat['cat_id'] == $row[$cat_id] ){ echo "selected" ;}?> > <?=$cat['name']?></OPTION また、この一連の内容を、 関数にしてしまえば、可変変数を使う必要もなくなり、 option_list('cat1',$cats1,$row); option_list('cat2',$cats2,$row); option_list('cat3',$cats3,$row); option_list('cat4',$cats4,$row); option_list('cat5',$cats5,$row); 等と、ベタに書いてもそれなりに見易いものになります。
内部データは配列で持てば、CSVに出力する際も fputcsvで一度テンポラリを介して出力すればいいでしょう。 出力方法だってテーブルに出す以外にエクセルやpdfデータに 出力したいことだってあるでしょうから、元データは一元化しておけばよいかと
……はて？ 『このように』の SQL で comment テーブルを join しているんだから、現在の SQL で取得している comment テーブルからのデータを持ってこれそうに思うんだけど……。 SQL 文を SELECT comment.user_id, comment.content, profile.user_name FROM profile LEFT JOIN comment ON profile.user_id = comment.user_id WHERE comment.post_id = ? としてみてうまくいきませんか？
状況がよくわからないけど、フォームで不特定のEmailアドレスを 指定してメールする・・・という仕様ならスパムの温床になるので お勧めできません。 もしどうしてもそういう仕様が必要な場合は、悪用を極力おさえるために 同一ユーザーに対するメールを複数回おくらないようにRDBで管理するなど 相当気を使う必要があります。 いわゆる管理者宛のメールなど受ける側が決め打ちの場合は いたずらされても被害は大きくないので、運用は少しくらいゆるくても 大丈夫です。
なにかのCMSのテンプレートか独自の拡張ファイルじゃないですかね 何から参照されているか、直接開いたときにどう処理されるか さえ理解すれば拡張子がなにかということはあまり重要ではありません
>$mes = change($mojiretu2).change2($mojiretu2); $mes=change($mes); $mes=change2($mes); じゃない？
こんにちは。 カスタムフィールドから抽出する方法はわかりませんが、 ワードプレスにもともとある「タグ」分類で記事に分類させれば解決できるのではないでしょうか？ 記事を投稿する画面右側に、アイキャッチやカテゴリーなどのならびに「タグ」って項目ありませんか？ そこに、８月など、お好きな項目も追加します。 外観＞ウィジェットで利用できるウィジェットのなかに「タグ」があるはずですので、 とりあえずサイドカラムなどに表示させてみましょう。 そうすれば、８月のタグを設定した記事が一覧で見れると思いますが、いかがでしょうか。
確認しようとしている変数名を間違ってるとか。
ファイルリストを取るならdir() 複雑なマッチを確認するならpreg_match() <?php $path="./image"; if(!is_dir($path)){ echo "no dir"; }else{ $d = dir($path); $files=""; while (false !== ($entry = $d->read())) { $files.=$entry."\t"; } $d->close(); $pattern="/abc001/"; if(preg_match($pattern,$files)){ print "match!"; }else{ print "not match"; } } ?>
aをbに置換する。
書籍ですが「独習PHP」はどうでしょう？ 最近第三版が出たばかりです。旧版の評判は良さそうですよ。 http://www.amazon.co.jp/PHP-3/dp/479813547X
答は出尽くしていると思いますが、基本はこれだけ ■共有サーバにはブラウザからみえるファイルと 見えないファイルがある。 ■imgタグの画像はブラウザから取りに行くので ブラウザから見えないファイルは表示できない。 ■phpのrequire_onceによるファイル参照は phpがサーバ側でファイルを読むということなので全く別の話 共有サーバであなたに与えられた公開用フォルダが public_htmlなら、画像はその下に置かないと 駄目でしょう。
#2を無視してとりあえず２つのテーブルにデータを投入することを優先する場合 (つまり#1を実行する) <?PHP $pdo = new PDO($dsn, $user,$password); $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); $sql = "INSERT INTO post(member_id,display_name,title,content) VALUES( ?, ?, ?, ?)"; $datas=array(1,'dsp1','title1','content1'); $stmt = $pdo->prepare( $sql); $stmt->execute($datas); $pid=$pdo->lastInsertId(); $sql = "INSERT INTO item_01(post_no, member_id, name, number) VALUES( ?,?,?,?)"; $datas=array($pid,1,'name1','list1'); $stmt = $pdo->prepare( $sql); $stmt->execute($datas); ?>
array_keys()でキーの一覧を得ればよいでしょう ただしPHPの場合、inputの名称を工夫すると、配列を得ることができます こんな風にするとよいのでは？ <form method="post"> <input type="text" name="post_title" value="Hello!"><br> <input type="text" name="post_explain" value="Hello! World!"><br> <input type="text" name="name_list_0" value="test01"><br> <input type="text" name="number_list_0" value="test01"><br> <input type="text" name="name_list_1" value="test02"><br> <input type="text" name="number_list_1" value="test02"><br> <input type="text" name="name_list_2" value="test03"><br> <input type="text" name="number_list_2" value="test03"><br> <input type="text" name="image_list_0" value="test01"><br> <input type="text" name="explain_list_0" value="test01"><br> <input type="text" name="add_id" value="1"><br> <input type="text" name="add_display_name" value="Daisuke"><br> <input type="text" name="submit" value="POST"><br> <input type="text" name="test[0]" value="aaa"><br> <input type="text" name="test[1]" value="bbb"><br> <input type="text" name="test[2]" value="ccc"><br> <input type="submit" value="go!"><br> </form> <?PHP $p=is_array($_POST)?$_POST:array(); print substr_count(implode("\t",array_keys($p)),"name_list"); print "<hr>"; //最初から配列として渡せばcountするだけ print count($p["test"]); ?>
いまいち何が聞きたいのかわからないのですが system()やexec()系の関数で、curlコマンドを実行するのではダメなの？
htmlだからです。 htmlのアプローチが、より"寛容"であるということです。 ブラウザもこれに沿って、寛容に補正して呉れます。 特定のタグが暗黙裡に挿入されたり、ときおり開始タグや終了タグを省略したり、といったことが起きます。 XMLという物もあり、こちらは堅牢で正確な記述を要求する構文です。
ご提示の機能はすべて１フォルダで管理すればいいような気がします。 phpのプログラム自体classで管理していますよね？ 直接アクセスするファイルと、共有ライブラリのフォルダを分ける程度が妥当かと
tryの中でthrowしているので分かりづらいかもしれませんが 関数とtry~catch構文を分ければイメージできませんか？ <?php function division($a,$b){ if($b === 0){ throw new Exception("cannot divide by 0"); } echo $a / $b; } try{ division(7, 2); division(5, 0); } catch (Exception $e){ echo $e->getMessage(); } ?> SplFileObjectのくだりはせっかくなんだし 元の質問にあるようなthrow構文で書く方がよいのでは？
基本的には条件にあわせて所定のページをインクルードする セッションのあるなしで別ページを読んでもよいし、 同じページを読めば同じ内容が表示される ＞ログイン済みユーザーだけに部分的に編集ボタンを表示 インクルードする内容についてもパーツ分けして特定個所を変更するか インクルードする際に部位を解釈しながら読み込めば 条件によって表示する文書を変更できる
No.1です。 > 　年をループさせている 変数 $i と　postで受け取っている $row['birthyear']) が同じならば、selectedを挿入するという文にしましたが、うまくいかず、($row['birthyear']の部分を配列でなく、直接数値をいれると、動くのですがー。。)、 　ここをなぜ追求しないのでしょう？ 　プログラムは思った通りには動きません。作った通りに動きます。 　そういう意味でアルゴリズムが大切です。言語に落とす前にいかにして目標のHTMLを生成するか、その手順を日本語で考え書き物にまとめていますか？ 　それをしっかり行わずソースコードばかり見ていてもダメです。 　まず日本語での処理手順がしっかり出来ていて、これで行けるという思いがあって、それから日本語を採用しているプログラム言語に翻訳するのです。 　先にも書きましたがどういうHTMLにすればよいか具体的にわかっていますか？ 　それに対し今生成されているHTMLはどうなっていますか？（動いているのでしたらブラウザ側で確認していますね？） 　その差が仕様通りに動いていない不具合部分です。そこを生成しているソース部分を見れば原因は一目瞭然です。
＞お気に入り 考え方は２つ ひとつはログイン画面をつくってユーザーidで管理し、DBにお気に入りページを保持する イメージ的には「いいね」や履歴ページと同じ様な感じ もう一つはお気に入りページ自体をクッキーに保持する サーバー側の負担は軽くてすむが、ブラウザ側でクリアするとお気に入りがきえちゃうので注意
>私はもともと組み込みエンジニアでWEB開発はまったくやったことがありません。 外注に出せ。 これネットワークのセキュリティとかまったくできなくてセキュリティホール作りまくって個人情報流出させるパターンだ
じっくりみてませんが、ぱっと見へんなところ ＞$sql = $pdo->query("UPDATE post SET title={$_POST['title']}, content={$_POST['content']} WHERE no ={$_POST['no']} "); ＞header('Location: index.php'); ＞$stmt = $pdo->prepare( $sql); ＞$stmt->execute($datas); SQL文の作り方がまずおかしい、prepare処理なのだから直接変数を代入しない ちなみに数字以外がエラーになるのは「SET title=たいとる」のように代入されているからで せめて「SET title='たいとる'」のようにクウォートで文字列をくくってやらないと・・・ ただ、それをしないためにprepareで処理しているんですけど $pdo->query()の結果を$sqlに受けちゃっているけど、このへん何をやっているか ご自身でうまく理解していないのでは？ $pdo->query()は単純なSQL文の実行、$pdo->prepare()は外部からデータを もってくる場合のSQL文の実行と切り分けて考えてください。 結果、こんな感じ？ $datas=array($_POST['title'], $_POST['content'],$_POST['no']); $sql="UPDATE post SET title=?,content=? WHERE no =? "; $stmt = $pdo->prepare( $sql); $stmt->execute($datas);
ごめんなさい、そもそも今回file_get_contentsで得ようとしているのは フォームからアップロードしたファイルということで間違いないですか？ 切り分けるとして print_r($_FILES)で得られたsize情報は、実際のファイルサイズと合致している？ 違っているなら、ファイルアップロードの問題、 あっているなら、ファイルI/Oの問題の可能性が高い 後者ならfile_get_contentsではなく通常のfopenしてfreadでデータを取得してみるとか・・・
統合環境を整えるのが妥当です 上記がもし無理でもデバッガやトレーサー的なものも用意されています print_rやvar_dumpは標準で用意されているので最低限のデバッグは可能
Javascriptのhistory.back()を使用して問題ない仕様なのでしょうか？ 　戻る先のページはサーバ側のプログラムが更にその前のページでの入力内容を受け取って処理して生成しているページはありあませんか？ 　また、最終的な処理結果を格納するMySQL上のテーブルのキーは画面上で利用者が入力したり、あるいはプログラムが決めて登録前のページに表示したりしているデータ項目ではなく、最終的にテーブルへのデータ登録を行うプログラムが自動生成する項目ということでしょうか？ 　二重に登録されるという事はそのように見えます。 　そして「作成中の機能としてそれは本当に適当なのか？」とも思います。
> USBメモリなどにデータをインストールして両方のPCで使えるようにするための質問です。 データと書かれていますけれども、おそらく実行環境すべてをUSBにいれたいのだとと推測して…… xampp-portable-win32-7.0.4-0-VC14.zipをUSBに展開すれば、そのUSBを挿したPCで使用できます。使用方法（起動方法）は展開したフォルダにあるreadme_en.txtのQUICK INSTALLATIONを読んで下さい。 > サイズが異なっていますがどのような違いがあるのでしょうか。 もう一つの質問で既に回答されているので省略。
私のPCにはxampp-portable-win32-5.6.15-2-VC11.zipとバージョンは忘れたがportable版ではないほうの両方がはいっています。 portableとのちがいは、ftpサーバのFileZillaと、メールサーバーのMercuryMailを入れないでサイズを軽くしているのだと思います。 デスクトップPCにxampp-win32-7.0.4-0-VC14.zipをいれて、FileZilla FTP ClientなどでノートPCからuploadすればいいのではないかと思います。 または、両方にインストールして、htdocsの内容をコピーするとかすればいいのでは？
Phpファイルをいじりましたか？それならftpそうとを使ってサーバーにアクセスし弄ったphpファイルを元に戻すと治ります。僕も一回なりましたが治せました。
表現は未熟ではありませんが、Campus2さんがどのような思考をしているのかという意味で 国語の問題に近いと言っただけですのでご了承を〜 ちなみに今回のはキーに関しては何でもいいのです。 以下のコードでも最高点は80と出力されます。 <?php //$test = array(80,60,22,50,75); $test = array("apple"=>80,"tomato"=>60,"banana"=>22,"milk"=>50,"cake"=>75); $max = 0; foreach($test as $id => $value){ if($max < $value) $max = $value; } print "<p>最高得点{$max}です。</p>"; ?> また$id => $valueも関係性を示しているだけなので、 foreach文は以下のようにも記述できます（紛らわしいのでこんな書き方しませんが）。 foreach($test as $aaa => $bbb){ if($max < $bbb) $max = $bbb; } /////////////////////////////////////////// 過去の質問 https://oshiete.goo.ne.jp/qa/9200257.html でも答えましたが、 例えば配列 array("22","80", "75","60","50") はキーを何も指定しない場合以下と同じになります。 array('0' =>"22",'1' =>"80", '2' =>"75",'3' =>"60",'4' =>"50"); array("50","80", "75","60","22") と並び変えても array('0' =>"50",'1' =>"80", '2' =>"75",'3' =>"60",'4' =>"22"); のままです。
＞このvalueのところにbgColorの値をもってくるにはどのようにすればよろしいでしょうか？ chgColor1()の仕様次第でしょうけど、たとえばこんな感じ （視認できるようhiddenではなくtextとにしてあります） <script> function chgColor(obj,color){ obj.style.backgroundColor=color; var n=obj.getElementsByTagName("input"); for(var i=0;i<n.length;i++){ if(n[i].name==obj.id+"bgcolor"){ n[i].value=color; break; } } } </script> <table> <tr> <td id="ch1" onclick="chgColor(this,'#ff0000')"> <input type="text" name="ch1bgcolor" value=""> <input type="text" name="a1i"> </td> <td id="ch2" onclick="chgColor(this,'#0000ff')"> <input type="text" name="ch2bgcolor" value=""> <input type="text" name="a2i"> </td> <tr> <td id="ch3" onclick="chgColor(this,'#00ff00')"> <input type="text" name="ch3bgcolor" value=""> <input type="text" name="a3i"> </td> <td id="ch4" onclick="chgColor(this,'#000000')"> <input type="text" name="ch4bgcolor" value=""> <input type="text" name="a4i"> </td> </tr> </table>
"mail_data.txt"ファイルの先頭にBOMが付いているのではないでしょうか。 BOM無しで作成してください。 BOM付きでしか作成できないのであれば、先頭3バイト（1文字）を読み飛ばす。
もう見ていないかもしれませんが…… readme_en.txtをみていたら以下の記載がありました。 "Please do not use the "setup_xampp.bat" for an USB stick installation!" portableの場合、setup_xampp.batを実行してはいけないようです。
＞てっきり下記のような書き方だと思っていましたが、SQL以外は不可能でしょうか。 ご使用のライブラリ次第でしょうけど、普通考えれば99%不可能だと思います。 ・「%%m_magazine:+1 url%%」というデータを受け渡しているとは思えないので ・前月や翌月が計算で抽出できるならともかくSQL上に登録されているデータを参照する必要がありそうなので ・前述したとおり、そもそも前月や翌月を抽出するのに例外処理がいくつか必要なため
ようは ＞$test = array(80,60,22,50,75); は、 $test = array(0=>80,1=>60,2=>22,3=>50,4=>75); というデータ構造(0から始まる連番のキー)ですので foreachでキーを$idで受けるため表で言うと左がわの列になりますね まぁ ＞<td>{$id}</td> と書いているので当たり前ですが。 ちなみにソースがおかしいのは >foreach($test as $id => $value){ >if($max < $test[$id]) >$max = $test[$id]; とするなら普通は foreach($test as $id => $value){ if($max < $value) $max = $value; としますよね
＞空行を<br />に置換したい と、SQL処理の部分がどう絡んでいるのかいまいちわかりませんが 命題の処理だけでいえば、preg_replaceで処理すればいいような たとえばこんなかんじ <?PHP error_reporting(E_ALL); $mystr=<<<eof 月刊タイトル あいうえお かきくけこ さしすせそ eof; $mystr=preg_replace("/^(\r\n|\n|\r)/m","<br />\\1",$mystr); print "<pre>"; print htmlspecialchars($mystr); print "</pre>";
ぱっと見ですが、最初のNoticeはユーザID入力欄のvalueに$_POST["userid"]を指定しているのが原因と思います。恐らくパスワードを間違えた時にIDは入力したまま残してあげるためでしょうが、入力画面を読み込んだ直後は$_POST["userid"]が未定義のため、Noticeが出るのだと思います。対処法は色々ありますが、issetを使って、$_POST["userid"]がセットされている時のみユーザIDのvalueをセットするというのも一つの方法と思います。 あるいはIDを読み込まなくて良いなら、86行目？にある入力欄のvalueの中身を空欄にするというのも消極策ですがありかもです。 人によってはNoticeを無効(非出力)にしてしまうこともあるかも知れませんがあまりお勧めできません。 二つ目の接続問題は、ご質問内容からだけではぱっと見、原因が分かりませんでした。 登録時mysql_connectの成功しているというのは本当でしょうか。値をphpMyadminなどで確認してみると良いと思います。 mysql_connectが確かに成功しているなら、失敗した方もその接続設定にしているかどうか、もう一度確認してみると良いかもです。 どうしてもお手上げということであれば、成功しているmysql_connectでの接続方法のみ使うよう書き直すということもありだとは思いますが、出来ればスッキリしたい問題ですよね。。 何れにしても認証はセキュリティに直結しますので、慎重なコーディングが大切と思います。 以上、ぱっと見の回答なので間違っているかもしれませんので、あくまでご参考まで。。
＞⑨コード 「for ($wk=1; $wk<=2; $wk++) { if ($dir = opendir("template_cms/")) { while (($inc_file = readdir($dir)) !== false) { if ($inc_file != "." && $inc_file != "..") { if (preg_match('/%%include:'.$inc_file.'%%/', $buff)) { $inc_buff = file_get_contents('template_cms/'.$inc_file); $buff = preg_replace('/%%include:'.$inc_file.'%%/', $inc_buff, $buff); } } } ＞「($wk=1; $wk<=2; $wk++)」の条件の指定 単にfor文ですから$wkが1から始まり2まで・・・2回転しているだけです ＞「readdir($dir)」の意味 http://php.net/manual/ja/function.readdir.php ＞「if ($inc_file != "." && $inc_file != "..")」の「"."」と「".."」の違い 「.」はカレントのディレクトリ、「..」はカレントの一つ上位のディレクトリです ＞「$buff = preg_replace('/%%include:'.$inc_file.'%%/', $inc_buff, $buff);」の意味 正規表現で$buffの値を置換しています 内容は提示のものだけみてもちょっと何をしたいかわかりません ＞「closedir($dir);」の意味 ＞なぜクローズするのか 開けたら閉じるのがプログラムの基本だからです。 開けっ放しだとメモリが無駄なのと、間違ってリソースを参照する可能性があるからだでしょう ただ基本的には最終的には自動で閉じてくれることになっています ＞⑩コード ＞$cdirs = array();の指定 $cdirsを空の配列で初期化しています ＞「$m_magazine_m as $m)」の「_m」と「$m」はどういう意味でしょうか。 「_m」は筆者のセンスなのでわかりません 「$m」は$m_magazine_mの要素を１つずつ抽出したものです ＞⑪コード ＞「fwrite($fp, $dt . " " . $msg . "\n");」の中の「" "」はどういう意味でしょうか。 なんとなく半角スペースを区切り文字としてつかっているのでしょう ＞「 " " 」の両脇の「. 」と「 .」は変数を繋げるための記述でしょうか。 文字列を連結する演算子です ＞⑫コード ＞グローバル宣言する理由はほかのPHPファイルでも使えるようにする意味 「ほかのPHP」の意味がわかりませんが、グローバル変数は関数内で参照・変更するための 多くの言語にある仕様です ＞⑬コード ＞「%%%%」で囲ったらDBを参照する意味になりますでしょうか。 これも筆者のセンスです。 とくにそういう仕様がPHPの常識となっているわけではありません ＞⑭コード ＞「$h['cnt'] > 0」の中の「cnt」はCOUNTでしょうか。 たぶんそうでしょうけど、真偽は筆者にきいてください。 ＞「 > 0」は0より大きいIDということでしょうか。 なにをもって「ID」と判断しているかわかりません。 $h['cnt']の値が0より大きいという条件節だとしか・・・ ＞⑮コード ＞質問：%%n%%は任意数という意味でしょうか。 なんか意味ありそうですがよくわからないですね ＞⑯？コード ＞「$wk[$key] == ""」はどういう処理になりますでしょうか。 $wk配列の$key要素が空かどうかをチェックしているのでしょうけど 前述した通り、センスがない書き方です。 また$wkも別の場所ではint型を受けているのにたいして、ここでは 配列でうけていて、あまり美しくないと思います。 （たぶんワーク用の変数なんでしょうけど） ＞「%%1%%」はDBに入れる順番で「''」はどういう意味でしょうか。 おそらくこれもsprintf的なプレースホルダを意識しているのでしょうけど なんとも言えません。 ＞何かオススメのリファレンスはありませんでしょうか。 基本的にはPHPの公式マニュアルが一番分かりやすいです。 http://php.net/manual/ja/index.php 各関数の説明のところに事例ものっていますしね http://php.net/manual/ja/indexes.functions.php
他人の書いた冗長なコードを一部だけ見ても明確な回答はむずかしいですが 想像してかきます ＞①コード それを$para配列のキー：is_deletedの値が3つあって 「y」・・・削除済みのときはmagazine_idカラムがNULLではないデータを抽出 「yonly」・・・y only？より厳密に削除済みのときはis_deletedカラムが「y」のデータを抽出 それ以外はis_deletedカラムが「n」のデータを抽出しています。 「yonly」は筆者のセンスなので良いとも悪いとも、なんとも言えないですね ＞②コード ＞質問：「. 」と「' "」はどういう意味と役割でしょうか。 「. 」は文字列の結合です、PHPの一般的な使われ方 「' "」はそこだけ切り取るから意味不明なのであって 「 and m_magazine.magazine_id = '・・・・' 」というSQL文を書くための布石です。 ちなみにf_db_escape()というユーザー関数の内容がわからないのでなんとも言えませんが 書き方がかなり古い、今のPHPでは敬遠される書き方です。 ＞③コード ＞質問：「desc」と「asc」を両方指定する意味は何でしょうか。 パラメータのキーorderbyをみて "magazine_title_desc"をチェックしているので それ以外のモノがはいっていれば「magazine_title」を利用してソートしないということです。 ＞④コード ＞「$sql .= " , m_magazine.magazine_id asc";」 magazine_idの値で昇順にソートしています。 「,」でつないでいるので、一次ソートが別途あり、あくまで二次ソートしているのでしょう ＞⑤コード 全体が俯瞰できないのでなんともいえません ＞⑥コード ＞「""」は初期化 ちがいます。 $data['list']の値が""と合致する場合という意味です。 ただし演算子「==」はよほどのことがない限り使いません。 最低でも「===」を利用しましょう。 ※「==""」でチェックすると、falseや0やNULLといった理論的な空文字もヒットして 比較が厳密にできません。 ＞⑦コード ＞「$data['ctl_add'] = 'y';」はどういう意味でしょうか。 $data['ctl_add']に'y'を代入しているだけです なぜそうしているかはわかりません。 ＞「%%1%%」という指定はidを「1」からセレクトするという意味でしょうか。 「magazine_id」の値が「%%1%%」と合致するという条件ですね 筆者の意図はわかりませんがおそらくf_db_select()関数でsprintf的な 置き換えをしてSQL文を実行してるように想像できます ＞先頭の要素はこの場合ではIDではなく、どの要素を指しますでしょうか。 質問の意味がわかりません コード自体は$retにSQL文をした戻り値が配列として返ってきていて その１行目を$dataに代入しているだけです。 ＞「$data['READONLY_magazine_id'] = 'readonly';」 そもそもそんな記載がないのでなんとも言えません。 筆者がなんらかの意図をもってreadonly属性をつけているのでしょう ⑧コード ＞質問：こちらの処理は「エラーはvalidate_magazine.phpを通して、もし1個以上ありましたら ＞validate_magazine.phpで設定しましたエラーメッセージを出す」という意味でしょうか。 これも意味不明 おそらくライブラリ「lib/validate_magazine.php」にエラー処理がかいてあって f_validate_magazine_confirm()でエラーを$err配列に代入しているのでしょう f_err_exit()はおそらくデバッグでエラーを表示して終了するというコードが書いてあるのかと
以前に他のxamppなどをインストールしていませんか？ https://sourceforge.net/projects/xampp/files/XAM … からxampp-win32-5.6.15-2-VC11.zip をsdカードにいれてみましたが FileZillaとMercuryは空でしたが他は起動できました。 実行は『xampp-control.exe』で起動しました。 私の環境では別のHDDにxamppが入っていますが、それらを停止してSDカードのほう起動したらSDカードのxamppが起動しました。 ちなみに、E:\xampp\phpにphp5ts.dllが入ってました。 E:\はSDカードのドライブです。(自分の環境のドライブレターに変更してください)
＞→プログラムで画像を出力しようとした場合という理解でよいでしょうか？ ＞投稿時にプログラムでリサイズをかけているのですが、 ＞これも不正コードを実行される原因になるのでしょうか？ それはバックドア次第でしょう。 ＞→投稿画像は最初にウィルスチェックをかけた方がよい。 ＞ということでしょうか？ 私ならやらないですが、必要だと思うなら選択肢としてはありという意味です。
setup_xampp.bat　を実行してますか？
> 以上の表で、なぜ、”試験”の下に枠が現れないのですか？ データが無いから、内側のforの中のprintが実行されないからです。 No.1で回答した内容をご理解いただけているのでしょうか？ プログラムに以下（データ）を追加すれば表示します。 $data[0][3] = "試験A"; $data[1][3] = "試験B"; $data[2][3] = "試験C"; $data[3][3] = "試験D"; $data[4][3] = "試験E";
＞PHPExcel のライブラリの仕様は把握していないので もっと簡単な例から出力をためして、仕様を追加していき エラーになった時点で対応するという方法が妥当かと
> の１)２)のどちらと「直接関係」があるのでしょうか？ No.1さんと同じく質問の意味が理解できません。 わかり易く補足いただいた方が良いかと思います。 ”の１)２)のどちらと「関係」があるのでしょうか？” というご質問であれば ”どちらとも関係あります” という回答になります。
＞その際DBに登録したカラム名がurlとdiary_datetitleです。 ＞だから$hで呼び込もうとしました。 まぁ後だしされてもなんだかなぁ・・・って感じですが テーブルの構成しだいですね テーブルに、年、月、url、タイトルのカラムがあるなら 提示した$listは簡単につくれますよね？
mb_send_mail()はサーバー側のOSによって仕様がかわることもあり 挙動も不安定なのであまりよい関数ではないですね PEAR::Mailなどで処理したほうがよいかも ＞入力されたフォームの内容を管理者のメールに届くようできません。 これって本当に転送？ たんにBCCで送ればいいのでは？ もしくは処理を２度入れてTOを送り先と管理者に同じ内容を送ればよいでしょう （効率はわるいですが） ちなみに$_POST['mail']で受けたメールアドレスにメールを送る仕組みは 攻撃やスパムの踏み台にされる可能性があるので感心できません
お礼拝見しました。 > $objectはstdClassです。 質問にも記述いただいていましたね。。。失礼しました。 それであればオブジェクト内のプロパティが分かれば良いので、 if(count(get_object_vars($object1)) === 0) { のようにすれば判定可能かと思います。 プロパティ名が分かればproperty_exists() 関数も使用できますが、ちょっとケースが違うようなので。 http://php.net/manual/ja/function.get-object-var … http://php.net/manual/ja/function.property-exist …
こんなかんじ？ <?PHP newimage("src.jpg","new.jpg",50,50); function newimage($src_filename,$new_filename,$new_width,$new_height) { $src_img=imagecreatefromjpeg($src_filename); list($src_width, $src_height) = getimagesize($src_filename); $src_ratio=$src_width/$src_height; $new_ratio=$new_width/$new_height; if($src_ratio>$new_ratio){ $dst_width=$new_width; $dst_height=$new_height/$src_ratio; $dst_x=0; $dst_y=($new_height-$dst_height)/2; }else{ $dst_height=$new_height; $dst_width=$new_width*$src_ratio; $dst_x=($new_width-$dst_width)/2; $dst_y=0; } $new_img = imagecreatetruecolor($new_width,$new_height); $backgroundcolor = imagecolorallocate($new_img, 255, 255, 255); imagefill($new_img, 0, 0, $backgroundcolor); imagecopyresized($new_img,$src_img,$dst_x,$dst_y, 0, 0, $dst_width, $dst_height, $src_width, $src_height); imagejpeg($new_img,$new_filename); imagedestroy($new_img); exit; } ?>
http://www.amazon.co.jp/s/search-alias=aps&field … このあたりから本を選んでください。 現在PHPが得意だと言うことでも無い限り、PHPを使う理由は無いです。 「Rubyによるクローラー開発技法」がお勧めです。
念のため補足 EXTR_OVERWRITEを指定すると接頭辞が無視されることは理解されましたか？ ＞$city2 = array("埼玉"); ＞extract($city2,EXTR_OVERWRITE, "c");//c_0は上書きされない $city2は実際には「array(0=>"埼玉");」なので EXTR_OVERWRITEをつかって展開しようとすると接頭辞「c」を無視して $0に「埼玉」を展開しようとしますが、$0は使用禁止されているので結果として 上書きされずになにも起こりません。（$c_0は東京のまま） ＞$city3 = array("c_1"=>"千葉"); ＞extract($city3,EXTR_OVERWRITE, "c");//c_1は上書きされる $city3は$city2と同様に、接頭辞「c」を無視して展開します もし接頭辞「c」を利用するなら$c_c_1が「千葉」になりますよね？ ここでキーに「c_1」が設定されていますので$c_1に展開して 「東京」が「千葉」に上書きされているわけです extract($city3,EXTR_OVERWRITE, "c") としましたが、結局接頭辞は無視されるので、 extract($city3,EXTR_OVERWRITE) としても同じです
これらのソートのロジックは あいうえお順を論理的に理解してソートしているわけではなく、 文字コード順にソートしていると考えれば 他のマルチバイト言語でも文字コード順にはソートされると考えてよいはずです。 ただマルチバイト処理も複数持ち方があるので、かならずしも想定されてる ソートにならないかもしれません。（すくなくともあいうえお順ではないでしょう） しかし、理論上はコード順にはなっているはずです。
たんに01234の表示を消去するのでしたら、 foreach($test as $id => $value){ print "<tr><td>{$id}</td><td>{$value}</td><tr>\n"; } の{$id}の記述を消すだけです。 foreach文は配列を取り出す場合に利用します。 使い方は、実際にコードで実感したほうがはやいので色々検索して見て下さい。 例）http://www.phpbook.jp/tutorial/for/index9.html 言葉で説明してみると以下のような感じです。 ・foreachで$test配列の要素を順番に取り出します。 { }内は配列の数（5つ）だけ繰り返され、今回の場合は以下の動作が5回繰り返されます。 { ・printでブラウザに表示。 ・<tr><td>はHTMLでテーブルを意味する。 ・$idには連想キー（01234）が入っています。 ・$valueには要素("22","80", "75","60","50")が入っています。 } ### ちなみに array("22","80", "75","60","50") は何も指定しない場合以下と同じです。 array('0' =>"22",'1' =>"80", '2' =>"75",'3' =>"60",'4' =>"50"); キーと要素に関しては以下のように良く利用されます。 array('フジテレビ' =>"22",'日テレ' =>"80", 'テレビ朝日' =>"75",'TBS' =>"60",'NHK' =>"50");
空というか文字化けでしょうか？ 以下のコードを追加してみるとどうでしょう。 mb_language('ja'); mb_internal_encoding('UTF-8');
私の環境（レンタルサーバ）では上記のコードでちゃんとメールを送信できました。 環境は自分のPCなどですか？ その場合はphp.iniなどをいじらないとmb_send_mailは利用できません。 「mb_send_mail xampp」などで検索して設定方法などを調べて下さい。 http://techacademy.jp/magazine/4129 ### あと考えられるのは、 ・単純にPOSTで値を取得できていない。 ・迷惑メールのほうに届いている。 などでしょうか。
MDB2必須なのでしょうか？PDOではダメなの？ 「$GLOBALS['DNS']」がどうなっているかもわからないので・・・ データベースの接続だと普通はDSNのような気もするし・・・ プレイスホルダーの処理も TOKENに「text」という文字の一致をチェック REGISTRATED_TIME に"timestamp"という文字以上？で比較 しているように見えますが、本当にやりたいこととあっているのでしょうか？
ごめんなさい、一部文字がぬけていました ＞それこそセッションで処理すればよい話で、普通ははセッションには含めません。 ↓↓ それこそセッションで処理すればよい話で、普通は「パスワード」はセッションには含めません。 ＞SSLを使えばセッションハイジャックは気にしなくても大丈夫でしょうか？ 基本的には大丈夫ですが、クッキーにかかれたセッションIDは、 ブラウザ側に保存されているわけですから、ブラウザのセキュリティホールをつけば 閲覧できる可能性はあります。 とはいえ、よほどのことがない限り大丈夫でしょう
＞apacheについて、無料のプランの方は、2.4　と ＞記述されているのに対して有料（私が借りてるのはこちら）の方のプランは何も記述がないのですが おそらく有料プランでも同じ2.4なので列記していないのでは？ たいていphp利用可に併記して(CGIとして)的な書き方をしていると思うので とくに注記がなければモジュールで実行している可能性がたかいと思います
間違っている、と考える根拠は? エラーが出ないので「文法は正しい」プログラムです。 あとは どういう目的で、どういう処理をしようとしているのか それがどこがどんな風に期待通りに動作していないのか が無いと、何が「正しい」なのか、判断できません。 本当にここで期待通りに動いていないのなら $prms['keyword'が思っていたの違う urlencodeが思っていたのと違う %A%A1なんて文字列、$keywordに出てこない %20なんて文字列、$strに出てこない// 予想と違う場所にある → explodeが期待と違うので。lastの戻り値も期待と違う のどれかでしょう。
具体的にはどんな「計算」をしたいんでしょうか?
なんでxdebugでもいれてステップ実行しないの?
コントローラーの中で $this->load->database(); $this->db->trans_start(); $this->model_a->更新(); $this->model_b->更新(); $this->db->trans_complete(); コントローラー内で処理することの是非については、以下が参考になるでしょう http://codeigniter.jp/user_guide_ja/overview/mvc …
$name には、"みかん"、"いちご" など。$valueには、80や60が入ります。 > $stock = array("みかん"=>80,"いちご"=>60,"りんご"=>22, "もも"=>50,"くり"=>57); の => という記号と対応しているでしょ？
配列Aと配列Bをarray_mapでidの配列に変換してそれぞれarray_diffで差分をとってarray_intersectで共通をとればいいのでは？
>PHPmyadmin 上で　ON DUPLICATE 構文のSQL文を >実行すると、ON, DUPLICATE, KEY の所でエラーになります。 insert into extra(userid,date,extext) values(1,'2016-03-02','hoge') ON DUPLICATE KEY UPDATE extext='hoge' のように一続きのSQLできちんと実行していますか？
以下の SQL 構文でいかがでしょうか insert into ... values (?,?,?) on duplicate key update extext = ? https://dev.mysql.com/doc/refman/5.6/ja/insert-o …
SQLであればこんな感じ？ create table t_test(id int,商品 varchar(10),金額１ int,金額２ int); insert into t_test values(1,'あ',100,0),(2,'い',0,200),(3,'う',200,0),(1,'あ',0,200),(2,'い',400,0); select 商品 ,greatest(sum(金額１)-sum(金額２),0) as 金額１ ,greatest(-sum(金額１)+sum(金額２),0) as 金額２ from t_test group by 商品;
普通かくならこうじゃない？ $placeholders[':userid']=$post_data['userid']; $placeholders[':date']=$post_data['date']; $placeholders[':extext']=$post_data['extext']; $sql='insert into extra(userid,date,extext) values(:userid,:date,:extext)'; $stmt=$dbh->prepare($sql); $flag=$stmt->execute($placeholders);
＞foreachでループしてphpmyadminからデータのやり取りをする まず「phpmyadminからデータのやり取り」ことはありません。 データをやりとりするならmysqlからですよね？ また、ループしながら複数回mysqlにアクセスするような指示ですが それでは非効率です。 普通はmysqlから得たデータををループして表示します なお例示されたhtmlを見てもどの部分のデータをどう組み込みたいかわかりません。
とりあえずhtmlが表示されたら、ブラウザの機能でソースを表示してみましょうよ imgでしたらsrcに表示された画像が本当にあるのかどうか確認すれば済むはずです さすがにhtmlの内容ぐらい読めるでしょ？
SimpleXML で複雑な条件で要素を取得するなら XPath をオススメします。 $条件を満たすlink要素の配列 = $data->xpath('link[name/text()="りんご" or name/text()="いちご"]'); 参考 http://php.net/manual/ja/simplexmlelement.xpath. … https://ja.wikipedia.org/wiki/XML_Path_Language
最初に検索ワードをPOSTで流して後はページャーがGETで渡しているのであれば 検索ワードの引き継ぎは一般にセッションを使います 場合によってはクッキーでもできるかもしれません。 ページングに必要な要素は ・現在地 ・１ページ要素数 ・全体要素数 です。現在地はその前後を計算し、ページャーでGETで受け渡せばよいでしょう sql_calc_found_rowsについては、データが増えるとボトルネックになる可能性が高いそうなので 処理的には検索ワードを絞るWHERE句をつくっておいて 全体要素数と、現在地と１ページ要素数から抜き出す現在ページをそれぞれ取りだすところで 同じ条件をつかって２度SQLを発行した方がよいかもしれません。 ちなみにプログラム側でもつoffsetとlimitをsprintfで渡すのは合理的ですが prepare処理にまかしてしまう方がすっきりするかも SQL的には前方後方一致（LIKE '%keyword%'）はインデックスされないのでスピードに苦しむ可能性もあります
＞単にインクルード化したいだけなので、プログラムを実行するという認識がない html自体にその機能がないのですから、「プログラム」でインクルードしているとしか・・ 昔標準的だったSSIだってプログラムでしょ？ もちろんフレームやajaxで処理するならPHPである必要はないですが。 ＞htmlとshtmlが混在しているのですが shtmlを知っているなら状況わかりますよね？ htmlでSSIを評価しないで済むようにshtmlがあったわけですから ただSSIが動作しているところにphpをさらにかぶせると 処理が競合する場合もありますね むしろ本当にSSIが動いているならそれでメニューを取り込めばよいような気もしますけど？ ＞サーバを確認したら、Postgresqlだった・・・ とりあえずこの意味がわからない Postgresqlがhttpデーモンとなることはないと思いますが
$括弧階層数 = 0; $置換文字列 = ''; foreach(str_split($対象文字列) as $c){ _ if ($c == 括弧開き) $括弧階層数++; _ if ($c == 括弧閉じ && $括弧階層数 > 0) $括弧階層数--; _ if ($c == カンマ && $括弧階層数 > 0) { _ _ $置換文字列 .= 別の文字; _ } else { _ _ $置換文字列 .= $c; _ } }
まず仕様を確認した方がよい ＞一度に送信できるメール数が100件で、 ＞続けて送信する場合は、1時間開けないといけない これは101件目のメールや59分以内に追加で送ったメールは プールされていて1時間100件ルールで徐々に処理されるのか？ それとも破棄されるのか？ 前者であれば好きに送りつけて、サーバーにスケジュールを任せればよい 後者の場合は100件ごとにユーザーをグルーピングして70分おきに処理を走らせるなど工夫が必要 ただ、負荷の問題よりもむしろスパム対策として制限されているのでしょうから レンタルサーバーではきびしいでしょうね （1日制限のほかに１カ月制限も別途設定されていたりするし） 逆にレンタルサーバーでは無理とわりきる必要はあるかも 「大量メール配信サービス」などでググれば、多少お金はかかりますが ご希望にそうサービスがあるかも
1つ質問です. あなたは, Parse error: syntax error, unexpected '}' in C:\xampp\htdocs\YPHPSample\05\Sample5-10.php on line 19 というエラーメッセージを見て何を考え, どう行動しましたか?
cronではまる一番の理由は、「環境が最小限になっている」ことです。 環境変数、特にPATHが別のものになっており、シェルからは実行できるけどcronでは失敗する、ということがよくあります。 そのPHPのスクリプトはmysqldumpコマンドをコマンド名だけで実行しようとしています。 このとき、環境変数PATHを使って探すので、cron実行時のPATH(おそらく /usr/bin:/bin 程度しか入って無いと思います)に無ければ(/usr/local/binにある、とか)見つけることができません。
まずタイプミスをなくすところから始めてください ＞print "<img src=\"{$ch}.ipg\"/>"; print "<img src=\"{$ch}.jpg\"/>"; >print "<img src=\"{ch}.jpg\"/>"; print "<img src=\"{$ch}.jpg\"/>"; ただ上記がただしくてもCircleやtriangleが定義されていませんね テキストをもう一度よく読んで応用を考えてみてはいかがでしょうか？
プログラムをよく見てなかったのですが。 $num[100]= 42; $num[210]= 5; $num[420]= 100; $num[600]= 9; $num[890]= 58; $num[910]= NULL; これって、そのアルゴリズムと全然違うことやってます。 #5の繰り返しになりますが、元のアルゴリズムは 先頭からデータ1、データ2、....., 最後のデータn、番兵 となっている配列で、データがいくつあるか数える。 ・データは番兵とは一致しない ・配列はnよりも大きいかもしれないし、そこにデータらしきものがあるかもしれないが、番兵よりうしろは無視する。 というものです。 それにそぐわないデータを用意しても、アルゴリズムの確認にはなりません。 アルゴリズムとデータ構造はセットです。 こういうデータ構造に、こういうアルゴリズムを適用すると、こういう結果が得られる、というものです。 組合せを間違えると、期待した結果が得られません。 あと。 アルゴリズムの動作確認なら、まずは、できる限り書いてある通りに作ってはどうですか? ## PHPでは変数宣言は不要 #○整数型: I #○整数型:COUNT　　　　　　　　 $ary=array_fill(0,1000,NULL) ; #○整数型配列: ARY[1000] 先頭要素の添え字は0 ## $aryに適当に(しかし適切に)データと番兵を入れる #---処理部分↓-- $count=0 ; #・COUNT ←　0 $i = 0; #・I ←0 while($ary[i] !== NULL){ # ■ARY[I] ≠　番兵データ $count=$count + 1 ; #・COUNT ← COUNT + 1 $i = $i +1; #| ・I ←　I +1 } #■
SSLなサイト作ったことはありませんが… >Apacheのログもどのように見てよいか分らず、どのように調査し、対応すればよいか /var/log/httpd以下ですね。 service httpd start を実行した後にタイムスタンプが更新されるものがあるはずです。 予め停止させてから1分位おいてからにすると起動時のものだけ出力されるのでわかりやすいでしょう。 再起動だと停止時のものもログに出力されますし。 たいした情報が出力されなかった場合はログレベルの変更を行ってみるとよいかと。
ごめんなさい、ちょっと試す環境がないので わかる範囲で・・・ ＞$server = "imap.gmail.com"; 「imap.googlemail.com」宛でも同じでしょうか？ ＞$account = "hogehoge@hogehoge.com"; // Gmailアカウント 例示が微妙ですが「hogehoge@gmail.com」とフルのメールアドレスいれていますよね？ あとはgmail側のIMAP設定の開放が本当にうまくいっているかどうかくらい
＞ビット演算の目的 ビットは1か0という表裏の関係なので、適合するかしないかチェックするのに便利です また桁ごとに相関関係がないので特定の桁が変わっても他の桁に影響がないのも重要です 仮に好きな食べものを以下とすれば ラーメンが好き=8(1000) カレーが好き=4(0100) ハンバーグが好き=2(0010) すしが好き=1(0001) 複数好きなものがある場合和を取ります カレーとハンバーグが好き=6 ラーメンとカレーとすしが好き=13 ここで、＆演算子は「かつ」ですから カレーとハンバーグが好き「かつ」ラーメンとカレーとすしが好き ですから、答えはカレーがすき＝4が残ります 同様に カレーとすしが好き=5 ラーメンとカレーが好き=12 の&をとれば、やはりカレーが好きの4が残ります。 このように全部すきじゃない=0から全部すき=15まで最低限の数字で簡潔に表現できるのが ビット演算の利点です
試していないので、うまくいかなかったらごめんなさいですが、、、 Dim X(1 To 5) As Variant を Dim X(1 To 5) as String としたらどうでしょう？
役割とは、「例文の意味がわからないから解説して」なのか 「こんなものがホントに役に立つのか？」なのか なにを知りたいのかわからない ちなみに5&12は5→0100、12→1100で共通する1を抜き出すと0100 0100→10進数で言うと4という意味・・・は、わかりますよね？
> $a==6 || $a>=12 ですが5以下でfalseで6以上だとtrue　との考え方で間違いないでしょうか？ 間違いです。 この式には「==」「>=」「||」の演算記号があります。 以前、どこかの回答で書いたと思いますが、演算記号には優先順位があります。 　　　演算子の優先順位：http://www.phpbook.jp/tutorial/index_ope.html 「==」と「>=」は同じ順位です。 「||」は、「==」と「>=」よりも順位が低くなります。 従って、元の式に判り易くカッコをつけると ($a==6) || ($a>=12)　となり、 意味は、" 「$aが6と等しい」または「$aが12以上」 " の場合にtrueとなります。 従って、$aが7,8,9,10,11の場合も false になります。 ※件の書籍を参考書として使用されていると思います。103ページの表4-2の下の説明をご覧ください。 ※大変失礼な物言いとなってしまいますが、質問者様が早朝にされるご質問の内容は、単純な勘違いと思われる内容のものが多くあるように見受けられます。 　お仕事に出る前で時間が無いのかもしれませんけれども、不明点が生じたら質問される前にもう一度参考書の該当のページを読み直されては如何でしょう。 　ご自身で解決された方が、より身につくと思います。
＞確認ページからは、修正するボタンを押して戻るといった感じです！ 戻るときにGETでパラメータ渡してみては？ x.php→y.php→z.phpだとして //x.php <?PHP session_start(); $list=array("a","b","c"); $flag=isset($_GET["re"])?$_GET["re"]:""; foreach($list as $val){ $$val=($flag)?$_SESSION[$val]:""; } ?> <form action="y.php" method="post"> a:<input type="text" name="a" value="<?PHP print htmlspecialchars($a) ?>"><br> b:<input type="text" name="b" value="<?PHP print htmlspecialchars($b) ?>"><br> c:<input type="text" name="c" value="<?PHP print htmlspecialchars($c) ?>"><br> <input type="submit" value="go"> </form> //y.php <?PHP session_start(); $list=array("a","b","c"); foreach($list as $val){ $$val=isset($_POST[$val])?$_POST[$val]:""; $_SESSION[$val]=$$val; } print "\$a=".htmlspecialchars($a)."<br>"; print "\$b=".htmlspecialchars($b)."<br>"; print "\$c=".htmlspecialchars($c)."<br>"; ?> <a href="x.php?re=1">再入力</a> <a href="z.php">登録</a> //z.php <?PHP session_start(); $list=array("a","b","c"); foreach($list as $val){ $$val=isset($_SESSION[$val])?$_SESSION[$val]:""; unset($_SESSION[$val]); } print "\$a=".htmlspecialchars($a)."<br>"; print "\$b=".htmlspecialchars($b)."<br>"; print "\$c=".htmlspecialchars($c)."<br>"; ?> <a href="x.php">戻る</a>
PHP標準のmb_send_mail()はおまけみたいなものですから より多機能なクラスをつかわないと思った通りに送ることは難しいでしょう 私は環境が古いのでいまだにPEAR::Mail利用者ですが 最近はPhpmailerあたりがはやっているのかな？ 「gmail Phpmailer」あたりでググると吉
＞[Native message: Unknown column 'RESISTER_TIME' in 'field list'] テーブルのレコード「RESISTER_TIME」（一番最後のカラム）が見つからないと出ています。レコードを確認してみてください。
>$my_array=array( >　　/*1*/ array(0,array(26,'tokyo','03-xxxx-yyyy','253-xxxx','male')), >　　/*2*/ array(1,$defined_a), >　　/*3*/ array(0,array(69,'chiba','043-xxx-yyyy','986-xxxx','female')) >); とするくらいなら別途管理用の配列を作った方がよいのでは？ <?PHP $defined_a=array(59,'osaka','06-xxxx-yyyy','978-xxxx','male'); $my_array=array( array(26,'tokyo','03-xxxx-yyyy','253-xxxx','male'), $defined_a, array(69,'chiba','043-xxx-yyyy','986-xxxx','female') ); $my_flag=array(0,1,0); foreach($my_array as $key=>$v){ if($my_flag[$key]){ echo "key={$key} is const<br>"; } } ?>
>これでやってみたのですが、エラーメッセージではなく　サーバーエラー５００が出てしまいます。 ローカル環境でテストしていないのか?いきなりサーバで実行するなんてバカなことしてないよな?
> 前述の手順でWord文書をpdf出力した際に作成されたPDFファイルは、 文字のコピー＆ペーストできるフォーマットでしょうか。 > それともスキャンした画像イメージのように文字がコピー＆ペーストできないフォーマットになるのでしょうか。 『前述の手順』がPDF化に対して、どのように影響するのかが分かりませんが、 OpenOffice Writer または Microsoft Word で、PDF化したPDFファイルは、 『文字のコピー＆ペースト』ができます。 『文字がコピー＆ペースト』できないPDFファイルが必要な場合は、ご存じのように、プリント → スキャナーします。
curlで生成したいファイルのURL全部たたいてしまえばどうでしょう。 リクエストだけなげつければいいんじゃないですか？
違います。 正しく元の UTF-16LE に変換されています。 より正確に言えば、 bin2hex で16進文字列に変換されたバイト列が、hex2binで元のバイト列に戻されています。 0x22 0x6f 0x57 0x5b となったバイト列を「UTF-16LEの『漢字』」と解釈するのか、 「ASCII互換コードの 『"oW[ 』」と解釈するのかは、それを表示するアプリケーションです。 例えば、ブラウザに "oW[ と表示されるのなら、それは、ブラウザがUTF-16LEと解釈していないからです。 よって、対策は ・アプリケーション側の設定を変えて、UTF-16LEと解釈するようにする ・UTF-16LEからアプリケーション側で対応している文字コードに変換して出力する のいずれかになります。
効率という意味では、配列の文字コード変換は mb_convert_encoding()よりmb_convert_variables()の方がよいかも $_POST["flag"]で分岐していますが $_REQUESTでforeach回して大丈夫でしょうか？ データの整合性をチェックしている$commaあたりのロジックも微妙かなぁ・・・ 入力データが全て数値であるなど、前提条件があるのでしょうか？ $listへの落とし込みも、連続したキーをつかって抜き出すなら $list=array(); for($i=0;$i<=17;$i++){ $list[] = $pieces[$i]; } でよいかと。
html修正　＆　css追加 ●html修正部分 ※ココの部分です。<th>お問い合わせ内容</th> <td> <input type="text" id="ta" name="toi" > </td> ↓修正：inputでは無く、textareaを使う ※ココの部分です。<th>お問い合わせ内容</th> <td> <textarea id="ta" name="toi" ></textarea> </td> ●css追加：以下追加、サイズは要調整 #contact table td #ta{ width: 300px; height:100px; text-align:center; padding: 0 10px 0 10px; }
No.1です。 120ページに、画像ファイルを準備しておいて下さいと記述があります。 画像ファイル0.jpg～4.jpgは用意されていますでしょうか？
エラーメッセージなどから見ても、ここが参考になると思います。 http://www.pahoo.org/e-soul/webtech/php07/php07- …
以下で如何でしょう。 考え方 a～fの各文字の間にbitを置き、1なら両側の文字がくっつくとする。 a～fだと5bitになるので、00000～11111で文字の状態をつくりprintする。 ------------------------------------------ <?PHP $original = "a b c d e f"; $org_ary = explode(' ', $original); // 要素数6 $max_cnt = pow(2, count($org_ary) - 1); // bitで表せる状態数 $max_digit = $max_cnt / 2; // 最上位bitのみ1のときの値 for($cnt = 0; $cnt < $max_cnt; $cnt++){ $data0 = $org_ary; $data1 = array(); array_push($data1, array_shift($data0)); $digit = $max_digit; while($digit != 0){ if(($cnt & $digit) != 0){ // 状態cntのn bitが1ならば、両側の文字をくっつけて$data1に格納 $tmp = array_pop($data1) . array_shift($data0); array_push($data1, $tmp); } else { array_push($data1, array_shift($data0)); } $digit >>= 1; } print(implode(',', $data1) . "\n"); }
JavaScript で Web ブラウザの API を利用することにより、実現可能です。 https://developer.mozilla.org/ja/docs/DragDrop/D … 古い Web ブラウザも対象とする場合は、少々泥臭くなります。 https://www.google.com/search?q=onmousedown+drag …
ページを遷移してよいならformを設定する おなじページ内でデータを更新したいならajax
execute()でエラーが出てるようでしたら、$res = $stmt->execute(・・・　以降にある if (PEAR::isError($res)) {}　内で以下をecho出力して何かヒントとなる情報は出てきませんか？ $res->getMessage(); $res->getDebugInfo();
>Parse error: syntax error えーと、どこでしょうね。エラーの行数が表示されていればその前後だと推定されます。 もう少し簡単なモデルにしてチェックするとわかりやすいと思いますよ。
No1の最終行は↓ですね、失礼しました。 $birthday = $_POST['birth_y'] . "/" . $_POST['birth_m'] . "/" . $_POST['birth_d'];
X-Frame-Optionsの絡みもあるしむしろiframeに有名サイトはほぼ表示できないのでは？ そうでない場合はiframeに限らずどういう文字列をどう変更したいのかという希望を書けば それに対応するソースは例示されると思いますが・・・
laravelはちょっとわからないのですが、検索文字をajaxで渡すと 無駄が多いかもしれません 普通にsubmitしてはダメなのでしょうか？
Web 情報提供と閲覧を、簡単に行える様にした仕組み。 提供する側の Web サーバーと、 閲覧する側の Web クライアントで成り立つ。 もともとは欧州の研究所で、論文やデータを共有するために生まれた。 HTML Web で提供される情報の基本構造を定めたデータ形式。 Web サーバーがこの形式で情報を送信し、 受信した Web クライアントが解析して、画面などに情報を表示する。 CSS HTML の表示を飾り立てる命令文の集まり。 Web サーバーがこの形式で情報を送信し、 受信した Web クライアントが解析して、画面などの表示を整形する。 Web アプリケーション Web の仕組みを活用して、ソフトウェアサービス等を提供する仕組み。 一般的には、Web サーバー側で複雑な計算をし、Web クライアントで表示や操作を行う。 PHP HTML を生成する命令文の集まり。 Web サーバーが実行することにより、Web アプリケーションの機能を提供する。 ただし、この分野は PHP 以外にも色々な種類がある。 JavaScript HTML に含まれる命令文の集まり。 Web クライアントが実行することにより、Web アプリケーションの機能を提供する。
文字列のスペルミスと言っているようです。該当する行は１３。 $product3 = "消しゴムを" 　の文字の最後を目をよくこらしてみてみよう。
いまいち状況がわかりませんが docやdocxを出力できるライブラリがあるので、それをご利用になるのが妥当かと。 html(XML)上に何か書いて疑似的にword形式っぽくするのは限界があるかと
bootstrap3しか使ったことがないので、質問の回答になることはいえないですが、アドバイス程度。 動いていないと思うのであれば、ブラウザでF12キーを押して、コンソール画面に何かエラーが出ていないかなど確認してみるのがよろしいかと思います。 また、bootstrap3とFoundation5はそれぞれCSSフレームワークというカテゴリのもののようですので、基本的に同居させられるようなものではないのではないですか？ パッとみクラス名など重複してるものもあるようですので、両方の影響を受け残念な見た目になったりするような気がします。
＞IDの1～24のみを取り出したい時 そういうのはSQL側でやることです、たとえば SELECT * FROM テーブル WHERE ID BETWEEN 1 AND 24; 的な・・・
どこがわからないのか、よく理解できないのですが…… 練習問題の解答は、巻末Appendix-Aに載ってますよ。
タイプミスがいろいろあるので気を付けてください 単純に書かれてあるものを羅列するだけでいけそうですけどね・・・ $pattern='/(<div class="form-control">)(<input .+?>)(<label)( for=".+?">)(.+?)(<\/div>)/'; $replacement='$3 class="checkbox-inline"$4$2$5'; $text=preg_replace($pattern,$replacement,$text); print $text;
微妙な変換なので、ちょっと手を抜くとこんな感じ ちなみに変換後の例示はクォートが競合して文法的におかしい <?PHP $str="test[font red]&quot;あいうえお&quot;<br />かきくけこ<br />さしすせそ<br />[/font]test"; $pattern="/\[font (.+?)\](.+?)\[\/font\]/mis"; if(preg_match($pattern,$str,$m)){ $replacement=str_replace(array("&quot;","<br />"),array("\"","\n"),$m[0]); $str=str_replace($m[0],$replacement,$str); $replacement="<font color=\"$1\">$2</font>"; $str=preg_replace($pattern,$replacement,$str); print $str; }
まだ初心者の私がお答えするのも僭越なのですが、私も同じようにメール送信できなくて、 調べたら、windows8ではこの機能は使えないみたいです。 win7とかなのに出来ないのだったらごめんなさい、わかりませんですが、もし8以上だったら、 こちらをご覧になられると良いと思います。 http://msnaka.sakura.ne.jp/wp/?p=1312
＞アドセンスの売り上げは今年の10月から非課税対象になると言うのを… それの確認はしていませんが、間違いない情報だとして、 ＞それとも簡易課税方式の場合は対象外で1100万円が消費税課税対象になる… 消費税のイロハをもう一度復習してみましょう。 納付税額の求め方は、 [消費税の納付税額] ＝ [課税期間中の課税売上に係る消費税額] − [課税期間中の課税仕入れ等に係る消費税額] http://www.nta.go.jp/taxanswer/shohi/6351.htm です。 簡易課税とは、この式で [課税期間中の課税仕入れ等に係る消費税額] を簡易に求められるようにしただけで、納付税額の求め方として本質的に本則課税と異なっているわけではありません。 非課税取引や不課税取引、免税取引は「課税売上」でも「課税仕入れ」でもないので、本則課税であろうが簡易課税であろうが、この式には関係ないということです。 なお、今後、課税対象外の売上が大幅に増えるのなら、厳格に区分した記帳が求められることは言うまでもありません。 税金について詳しくは、国税庁の『タックスアンサー』をどうぞ。 http://www.nta.go.jp/taxanswer/index2.htm
＞$dsn = 'mysql:host=localhost; dbname=area'; $dsn = 'mysql:host=localhost; dbname=area;charset=utf8'; とすればよいかもしれません。 またhtml上でもmetaでutfの指定があった方がベターです。 （もしわかればテキストで保存時にutf8n形式で保存してください） <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> </head> <body> ・・・・ </body> </html>
前者はPHPの文字エンコード、後者はHTML上の文字エンコードです。 つまり、後者はPHPの設定で行うことではなく、各ページを作成する際のことです。 PHP側は、どのような文字エンコードで処理するのかという設定。 HTML側は、どのような文字エンコードで表示するのかという設定。
おそらくsudoへのpathが通っていないのかと sudoをフルパスで指定してみてください
なんとも言えませんが mysql_real_escape_string()自体、mysql_系の他の関数と並行してしか使えない関数で 現在mysql_系の関数自体が非推奨な状況なので、かなり古いプラグインというではないでしょうか？ 無理やり回避したとしても今後長く使うには無理があると思います。 ご利用を控えるのが賢明です。
> データベースからユーザーのIDと名前を取り出してPOST形式で次のページへ送信したいのですが、 　何か大きな勘違いをされていませんでしょうか？ 　POSTというのはWebブラウザからWebサーバーへ、Webブラウザ上で表示している画面上で利用者が入力したり選択したりしたデーターを送る際の方式です。 　一方、データベースはWebサーバー側にあります。 　なので言われている意味がよくわかりません。 　ある画面で利用者が入力したデータを、Webサーバーを介してこの画面以降の画面へ渡したい場合はHTMLのhidden変数を使えばよいです。 　しかしこれだと利用者が入力したデーターが何度もWebブラウザとWebサーバーの間を飛び交うので効率の面でもセキュリティーの面でも好ましくありません。 　Webサーバー側の処理プログラムをJavaで実装する場合はセッション・オブジェクトに保持するとよいです。Javaでない場合はデータベースに一時格納するかですね。しかしその場合、使用者が途中で何処か他のサイトへ行ったり、途中で操作を止めた場合に一時格納されたデータをどうやって消すかという問題があります。その辺は時間を切って消すとかになりますね。
一番あやしいのはキャッシュがおかしくなっている？ いちどブラウザのキャッシュをクリアしてやるとよいと思います あとはcssの:visitedが何らかの設定がされたテンプレを使っているとか・・・ ただ更新するとうんぬん・・・があるので違うかもしれない
>例えば、豊中市のページ(area.php?id=1)に駅名(例：豊中駅、千里中央駅、曽根駅)、町名(例：本町、野田駅、曽根駅)を入れたりする場合は 駅名や町名をいれるとして、該当したテキストがない場合もあります データがなくても列記する必要があります //area.csv 1,豊中市,豊中駅、千里中央駅、曽根駅,本町 2,池田市,池田駅、石橋駅, 3,吹田市,, たとえば・・ 1列目はid、2列目は市名、3列目は駅名、4列目は町名だと（勝手に）定義します この例だと豊中市は全て埋まっていますが、池田市は駅名しかなく 吹田市は、駅名も町名もないですが、そこにデータがあると想定してカンマを入れておきます 次にテンプレートですが //area.htm <html> <head> <title>%sのお店</title> <body> <h1>%sのお店</h1> この地域の駅は「%s」です<br> この地域の町は「%s」です<br> この地域は「%s」です<br> </body> </html> テンプレートを使う限り駅名や町名があらかじめデータがあると想定されています。 ここにデータがない池田市や吹田市をうめると空白になってしまします。 その場合は仮データとして「不明」にするとか対応が必要になります //area.php <?PHP $id=$_GET["id"]; $area=array(); $station=array(); $town=array(); if (($handle=fopen("あ.csv","r")) !== FALSE) { while(($data = fgetcsv($handle,1024, ",")) !== FALSE) { if($data[0]!==""){ $area[$data[0]]=($data[1]!=="")?$data[1]:"不明";//１列目のデータを抜き出し$areaに入れる、なければ「不明」 $station[$data[0]]=($data[2]!=="")?$data[2]:"不明";//2列目を$stationに以下略 $town[$data[0]]=($data[3]!=="")?$data[3]:"不明";//3列目を$townに以下略 } } } if(in_array($id,array_keys($area))){ $content=file_get_contents("area.htm"); printf($content,$area[$id],$area[$id],$station[$id],$town[$id],$area[$id]); //出てくる順番に値を指定してやる }else{ $content=file_get_contents("error.htm"); print $content; } ?> これを駅名や町名がない場合など表示したくない・・・とかだと テンプレートを工夫する必要があります。
念のため //test.htm <html> <body> <a href="area.php?id=1">id=1</a> <a href="area.php?id=2">id=2</a> <a href="area.php?id=3">id=3</a> <a href="area.php?id=99">id=不明</a> </body> </html> //area.php <?PHP $id=$_GET["id"]; if (($handle=fopen("area.csv","r")) !== FALSE) { while(($data = fgetcsv($handle,1024, ",")) !== FALSE) { if($data[0]!=="") $list[$data[0]]=$data[1]; } } if(in_array($id,array_keys($list))){ $test=$list[$id]; $content=file_get_contents("area.htm"); printf($content,$test,$test); }else{ $content=file_get_contents("error.htm"); print $content; } ?> //area.csv 1,豊中市 2,池田市 3,吹田市 //area.htm <html> <body> この地域は%sです<br> %sはいいとこです </body> </html> //error.htm <html> <body> error! </body> </html>
＞<input type='hidden' name='del'>に元のように<input type='hidden' name='del' value='$id'> ＞としないとidは渡っていないように見えますが？ ＞今回の処理の場合、削除条件を　ban=21　としているので、idって必要ないと思ってvalueを ＞つけなかったんですが、必要なんでしょうか？ <input type='hidden' name='del'>でデータを送ると 当然GETのパラメータでdel=（空）になりますね $del=isset($_GET['del'])?$_GET['del']:""; のロジックでは$_GET['del']は「空データ」セットされているので $delはまさに""になり if($del != ""){ //この中にははいってきません } このさいダミーでよいので <input type='hidden' name='del' value="99999"> みたいに適当な数値でよいので付けておくのが吉 デバッグ用に if($del != ""){ $data=array($del); $query="DELETE FROM table2 WHERE dat = ?"; $stmt = $pdo->prepare( $query); $stmt->execute($data); }else{ echo $del."が不明"; } のような条件分けをしてみるとかでしょうかねぇ
> Microsoft Office Outlook　とおなじ でいいのでしょうか？ いいと思います。
＞最後に改行マークというのは\nのことでしょうか？ ああ、一般には改行文字っていうのかな？ 個人的に改行マークと読んじゃってましたけど 今回のフローにおける改行マークの処理はちょっと面倒な説明になります・・・ 前提として、ログファイルが行単位で保存されているということは 行の末尾にキャリッジリターン(CR)またはラインフィード(LF) もしくはその両方が付加されているということはお分かりですよね？ CR=\r、LF=\nですので改行マークは「\r+\n」「\r」「\n」のいづれかになります。 PHPでは定義済み定数としてPHP_EOLが存在しますのでプラットフォームごとの 誤差を調整できます。 http://php.net/manual/ja/reserved.constants.php プログラムで改行を入れるときはたいてい、\nまたはPHP_EOLを使いますね。 print "test\n"; print "test".PHP_EOL; それでfgets()関数は、末尾のCRやLFを除外しない・・・つまり $keyは実は末尾に改行マークが付加されたままの状態になっています。 なので本来なら 　if(preg_match($pattern,$buffer)){ 　　$buffer=preg_replace($pattern,$replacement,$buffer); 　　$buffer=str_replace(array("\n","\r"),"",$buffer); 　　$errors[$buffer]++; 　} としておいて foreach($errors as $key => $value){ 　$ErrorMessage .= $value."　".$key."\n"; } とするのが筋ですね。
#3 でも言われていますが, ! empty と isset は判定基準が違います. ちょっと探してみると http://starzero.hatenablog.com/entry/20101117/12 … なんかが見つかります.
以下はあくまで私見ですので、参考程度にお読みください。 パーフェクトPHPは、初学者には少々ハードルが高いと思われます。 （PHPの基礎が理解できていれば、出版時期の古さはあまり関係ないと思います） PHPの基礎用の本とのことですので以下は如何でしょうか？ やさしいPHP 第3版 http://www.amazon.co.jp/%E3%82%84%E3%81%95%E3%81 … 約1年前に出版された本で、Amazonでの評価も悪くありません。また目次を見た限りではPHPの基礎を学ぶには良いと思われます。 ただし、この手の本には個人によって合っている・いないというのがあります。 上記の本に限らずPHP入門本はたくさん出版されていますので、書店で実際に内容を確認して購入されることをお勧めします。 入門本でPHP言語自体の基礎固めをしてから、パーフェクトPHPや、実際にWebアプリの作成を解説している本に進まれるのが良いのではないかと思います。
ISPによって異なるとしか言いようがないと思います。 ですから、使用したい（使用している？）ISPのホームページを確認するか、ISPへ問い合わせして下さい。 ご質問内でご提示されているリンク先のNo.2さんが詳しく説明されている通りです。 ※マルチタスクではなくて、マルチポストですよ！
まぁ普通に仕様を組み込んでいけばいいと思いますが 具体的にはこんな感じ？ チェック用に11/1~12/31までの日付けをだしときます <?PHP $current_day=strtotime("2015/11/1"); for($i=0;$i<61;$i++){ print date("Y/m/d",$current_day); print "-&gt;"; print nextreserveday($current_day); print "<br>\n"; $current_day+=60*60*24; } function nextreserveday($current_day){ $y=date("Y",$current_day); $m=date("m",$current_day); $d=date("d",$current_day); if(in_array($d,array(9,24))){ return "tel"; }elseif(in_array($d,array(10,25))){ return "no reserve"; }else{ return date("Y/m/d",mktime(0,0,0,$m+(($d>25)?1:0),($d<9 or $d>25)?10:25,$y)); } }
プログラムは思った通りに動かない。 書いた通りに動く。 という格言があります。 このプログラムがそのように動くのは、そのように動くように書かれているからです。 ということは、どうしたら「そのよう」に動くかを考えれば、逆に問題点をつきとめることができるのです。 そんな目線で見れば。 「画像サイズが変わらない」ということは、「画像サイズを変える部分が期待通りに動いていないのでは?」という仮説が立ちます。 ということで、現在の画像サイズから縮小したサイズを計算している箇所に注目します。 if($file['size'] > 100 * 100){ $new_h = 100; $new_w = $w * 100 / $h; } else{ $new_h = $h; $new_w = $w; } $w,$hは現在の画像サイズ $new_w,$new_hは新しい画像サイズ。 ( $file['size'] > 100 * 100 ) ならば高さ100,幅は画像比を保持して。 そうでなければ、現在のサイズを使う というプログラムになっています。 画像サイズが変わっていない、ということは ( $file['size'] > 100 * 100 ) ではない、と予想されます。 実際にどうなっているか確認しましょう。 $fileにどんなデータが入っているか知りませんけど、 $file['size'] って「ファイルサイズ」ではないでしょうか? それと、 100*100 を「100x100の画素の画像サイズ 」のつもりで使っているのでは? 100*100はそのまま計算されて 10000 になります。 従って、ここは「 $file['size'] > 10000 」と解釈されます。 ファイルサイズという予想が正しければ 「ファイルサイズが10000超」という意味です。 「画像サイズが100x100超」のつもりでこう書いたとしても、そんな風に都合よく解釈してくれません。 「思った通りに動かない」とはこういうことです。
> explodeですと「特殊文字」を指定できない http://php.net/manual/ja/function.explode.php マニュアルのどこにもそんな制限は書いてありません。 実際に、 "b で分割できてます。 var_dump( explode('"b', 'abc"bbb"c"c' )); => array(2) { [0]=> string(3) "abc" [1]=> string(6) "bb"c"c" } > preg_splitですと「特殊文字のみ（正規表現」しか指定できない 正規表現には特別な動きをする文字(メタ文字)がありますが、「特殊文字にしかマッチしない」というわけではありません。 "b にマッチする正規表現を書けば、 "b で分割できます。 var_dump( preg_split('/"b/', 'abc"bbb"c"c' )); => array(2) { [0]=> string(3) "abc" [1]=> string(6) "bb"c"c" } 引数の指定方法や記述を間違えているのでは? 例えば、 「特殊文字」だからといって無闇に \ を付けているとか、逆に\が必要な箇所で抜けているとか。 文字列をくくる ' (シングルクオート)と " (ダブルクオート) との挙動の違いを間違えているとか。 引数の順番を間違えているとか。
考えられること ・ホスト名が間違っている ・ポートが間違っている ・そもそも認証ではない可能性がある 　（認証でなければextensionもあやしい） ・ユーザー名が間違っている（@以下がいらない？） ・パスワードが間違っている 結局全部違う可能性があるということ
ISPのポート587経由で送りたいということですよね？ ポート587はサブミッションポートといって25の代替ポートして ほとんどの場合認証が必要となります。 ここ10年ほどで出所を隠したスパムが送れないようにISPが対策をしたということです。 http://www.ii-okinawa.ad.jp/support/mail/port587 … 以前の質問で以下あるよう https://oshiete.goo.ne.jp/qa/8025090.html mb_send_mail()ないしmail()は単純に認証なしでメールを送る機能なので 認証付きメール送信はなんらかのライブラリを介するのが妥当です。 よくつかわれるのはPEAR::Mail。 PEAR::Mailは複数メールを送るときなどにも mail()関数でループ処理をするより効率がよいようです。 http://pear.php.net/package/Mail 一応、みる限りXAMMPには補完機能としてsendmail.iniが用意されているので 調整ができるかもしれません C:\xampp\sendmail\sendmail.ini また、php.iniのSMTPやsmtp_portも合わせて変更する必要がありそうです。 ただし私はUNIX環境でしかphpを使用しないのでWin版については検証していません、あしからず http://php.codeindepth.com/php-sending-mail/
>リンクの貼り方がいまいちわかりません ということでしたら単純に ＞echo "<bt>名前</bt><dd>$name</dd>\n<br>"; echo "<dt>名前</dt><dd><a href=\"shousai.php?id={$id}\">{$name}</a></dd>\n"; のような処理で十分でしょう おそらくタイポですが、dl内の要素はbtではなくdt、またdi内にbrは不要です。 （dd要素の中にはいるならともかく、まぁそれもよくないのですが・・・）
#2です 別途おなじような質問をなげているようですが この回答が役にたたなかったなら別にそれでいいので ベストアンサーなし質問を閉じてから 別途質問をたてるのがマナーじゃない？
preg_replaceはパターンにデリミタを付加しなくてはいけません また今回の例であればstr_replaceが適切です str_replace('<p></p'>,'',$comment);
つ Office for Mac https://products.office.com/ja-jp/mac/microsoft- …
>データベースに計算結果を登録するには変数が必要と考えています。 いまいち何を言いたいかわかりません。 ＞1.日付、2.商品名、3.個数、4.重量or容量、5.価格です。 を入れたいのにINSERT文が ＞INSERT INTO shipping (hiduke,syouhin,kosu,jyuryo,tanka) になっているのは何か意味があるのでしょうか？ tankaに価格をいれるとは思えませんが・・・ 仮にjyuryoが0より大きいときはjyuryo*tanka、 kosuが0より大きいときはkosu*tanka をkakakuの定義とすれば・・・ $kakaku=0; if($jyuryo>0) $kakaku=$jyuryo*$tanka; if($kosu>0) $kakaku=$kosu*$tanka; $data=array($hiduke,$syouhin,$kosu,$jyuryo,$kakaku); $sql='INSERT INTO shipping (hiduke,syouhin,kosu,jyuryo,tanka) VALUES(?,?,?,?,?)'; $stmt=$dbh->prepare($sql); $stmt->execute($data); 的な処理を想定しているのでしょうか？
＞実際はファイルパスの前半部が固定で格納されており、変動しないのです。 ＞function内に$mogeを書いている状態 普通そういうのは定数で指定します。 そうでないならメンバ変数で処理します。 以下例だとhogeを実行する前と後でfugaから参照できるmogeの値は変わります。 またmogeraのようにコンストラクタで初期化しておいてもよいかもしれません <?PHP class myclass { const MOGE="bar"; public $moge; public $mogera; function __construct() { $this->mogera = "baz"; } function hoge() { $this->moge = "foo"; } function fuga() { print "1)".MOGE."<br>"; print "2)".$this->moge."<br>"; $this->hoge(); print "3)".$this->moge."<br>"; print "4)".$this->mogera."<br>"; } } $me=new myclass; $me->fuga();
・urlと文字列のセパレータを半角スペースとしてよい ・urlの整合性をチェックしなくてよい という条件があるなら正規表現が楽では？ <?PHP $str="てすと[http://hogehoge.com ほげほげ]てすと"; $pattern="/\\[(.+) (.+)\\]/"; $replacement="<a href=\"\\1\">\\2</a>"; $str=preg_replace($pattern,$replacement,$str); print htmlspecialchars($str); ?>
$sHandleや$sMsgはどこからやってきてる？ $sqlはinsert後なにも処理せずにすぐにselectしているけど意味あるの？
>$sth = $dbh->prepare($sql); が通っているなら接続でのエラーではないのでしょうね ねんのためtry~catchでエラーメッセージをとってもよいかもしれません。 try{ $dsn = '・・・'; $user = '・・・'; $password = '・・・'; $pdo = new PDO($dsn, $user,$password); $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); $sql="・・・"; $st = $pdo->query($query); }catch(PDOException $e){ die($e->getMessage()); } なんとも言えませんが・・・ $sql = "SELECT * FROM user ORDER BY id"; をみる限り変数の受け渡しをしてないようなのでprepare処理をやめて $data =$dbh->query($sql)->fetchAll( PDO::FETCH_COLUMN ); するだけでよいのでは？
fputcsv() http://jp2.php.net/manual/ja/function.fputcsv.php
>そうなんですか？クッキーについて一応調べてはみた いや、命題に ＞setcookie("nick",$nick) とあるので、そうかと思いましたが違いますか？ ＞名前付きプレースホルダか「？」プレースホルダを使うのが良いと本に書いてあるので むしろ?を使わないのであればprepareをつかわずにそのままqueryを発行してしまえばよいでしょう ＞SET NAMES utf8 については、あまりクエリーとして発行しない方がよい・・・と言われています。 PHPの現行バージョンではcharsetの指定はPDOを宣言する際に指定するのが標準です （古いPHPのバージョンは別途処理するのが妥当） またわざわざtimeをわたさないでもMySQL側の日付関数を使った方がよいかも そうじて以下のような感じ？ $pdo = new PDO('mysql:dbname=sim2;host=localhost;charset=utf8',$user,$password); $nick=isset($_COOKIE['nick'])?$_COOKIE['nick']:""; $words=isset($_POST['words'])?$_POST['words']:""; if($words !==""){ $data=array($nick,$words); $query="INSERT INTO `chat`(`chtime`,`nick`,`words`) VALUES(NOW(),?,?)"; $stmt= $pdo->prepare($query); $stmt->execute($data); } $pdo=null;
大手で多い実装方法ですが以下のようになります。 自社ページを表示 ↓ 自社ページから決済代行会社へ金額といくつかの必要情報(ここは自由選択が多い)をつけて遷移する （この際に決済開始時の情報をDBに保存） ↓ 決済代行会社のページ上で決済処理を行う。 （顧客へのメールはこの時決済代行会社から送られる） ↓ 決済代行会社から決済が成功、もしくは失敗したなどの結果を自社の特定のページに送信されてくる。 （この際にDBに保存された開始情報と決済会社から送られてくる結果情報を比較して紐付を行い結果を保存） ↓ 終了
PDOでやるならtry~catchでやるとよいんじゃない？ try{ $dbh = new PDO($dsn, $user,$password); $dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); $sql="・・・・"; $stmt = $dbh->prepare( $sql); $stmt->execute(); }catch(PDOException $e){ die($e->getMessage()); }
#1です ごめんなさい、大きく勘違いしていました こういうことですよね？ (実際のところforeachで回しているのと変わりませんが・・・) <?PHP $a_array=array( array('a', 1, 'aです'), array('b', 2, 'bです'), array('c', 3, 'cです'), ); print_r(f($a_array,'b')); function f($a_array,$val){ $my_array=array(); array_walk($a_array,function($item,$key) use(&$my_array,$val){if($item[0]===$val){$my_array=$item;}}); return $my_array; } ?> ただし問題があります。 $a_array=array( array('a', 1, 'aです'), array('b', 2, 'bです'), array('c', 3, 'cです'), array('b', 4, 'bでした'), ); のようなときに、合致するデータが複数でてきます。 前述のものですと一番最後に合致したものが表示されます。 なにをどう返したいのかよく仕様を検討した方がよろしいかと
そういうデプロイシステムを作れば可能。
「PHPの文字列比較」で検索してみましょう。 少なくとも、文字列比較に == を使わないようにしましょう
あてずっぽなので合ってないとは思いますが php.iniでshort_open_tag がおかしかったりしません？ http://php.net/manual/ja/ini.core.php ちなみにご提示の foreach($_POST as $k => $v){ if (get_magic_quotes_gpc()) { $v = stripslashes($v); } $v = htmlspecialchars($v); $$k = $v; } } は、あまりEXTRACTと同じであまりお勧めできない書式です 外部から受けたデータを変数名として使うのはかなり危険です nameやemailなど変数名が決めうちなのですからめんどくさがらず $list=array("name","email")などを提示して、ループ処理をしてください また確認画面でhiddenでデータを渡すのは今となってはあまり使わない手法ですね 入力→確認→実行 間の受け渡しはできるかぎりセッションを利用してください
メールアドレスのような固有情報をこのサイトに記載できるはずもナシ 直接学校に聞くのが出来ないのは何か理由があるんだろうか・・・・
#1です。ちなみに変数に冗長な文字列を入れる方法はいくらでもあります どれが正しいといわけではないので「好みの問題」と回答しましたが それぞれくせや特徴があるので使い分けが必要です (1)元データ $sql = ' INSERT INTO user '; $sql .= ' ( '; $sql .= ' login_id '; $sql .= ' ,login_password '; $sql .= ' ,name '; $sql .= ' ,update_date '; $sql .= ' ) VALUES ( '; $sql .= ' :login_id '; $sql .= ' ,:login_password '; $sql .= ' ,:name '; $sql .= ' ,NOW() '; $sql .= ' ) '; については、文字列のおわりもわかるしそこそこ良いですが クォートのエスケープ処理が必要になる場合は若干注意が必要です (2)ヒアドキュメント $sql = <<<EOD INSERT INTO user ( login_id ,login_password ,name ,update_date ) VALUES ( :login_id ,:login_password ,:name ,NOW() ) EOD; を利用すると、文字列のエスケープを気にする必要はへります ただし、変数への代入時に条件式をいれたりするのが不得意なので プレースホルダで不特定多数のデータを処理するときには面倒です また、見た目上各行の終わりが見えないので厳密にソースを確認したいとき多少理解しづらいです それとソースに埋め込むさいインデントがずれるのを嫌がる人もいると思います。 ちなみに「SQL文は改行を解釈しない」ので上記で問題ありませんが、 文字列に改行をいれたくない場合は通用しません (3)複数またがる連結 $sql = ' INSERT INTO user ' .' ( ' .' login_id ' .' ,login_password ' .' ,name ' .' ,update_date ' .' ) VALUES ( ' .' :login_id ' .' ,:login_password ' .' ,:name ' .' ,NOW() ' .' ) '; 考え方としては(1)にちかいです。 終端子がでてこなければ行にまたがることは可能ですのでやり方としては間違いではないですが ソースとしてはあまり美しくありません。 (4)さらに冗長に $sql = ' INSERT INTO user ( login_id ,login_password ,name ,update_date ) VALUES ( :login_id ,:login_password ,:name ,NOW() ) '; メンテナンス的にあまり好んでやるべき処理ではありませんが考え方は(2)に近いかと。 (5)別ファイルから $sql = file_get_contents("hoge.sql"); メンテナンスは楽になりますが、ちょくせつhoge.sqlをアクセスされないように 権限やパスの管理が面倒かも・・・
リファレンス読め
400 エラーの詳細を送りたいなら、通常データとして JSON 等を付ければ良いでしょう。 $.ajax の error 関数は引数に jqXHR が渡されるので、 jqXHR.responseText から詳細を読み取れます。 http://api.jquery.com/jquery.ajax/
フレームワークでは手動でインクルードすることがない。 ディレクトリも考慮したオートローダが書かれているだけ まともなオートローダ書いているなら >include_pathにおくなど標準化しておいた方がトラブルが少なくなります こんなの無駄なこと。
＞MySQLのデータベースに画像を入れるのか、 所詮バイナリデータなのでRDMに詰め込んでも検索性があがることはありません。 たとえば特定のユーザーに紐づけたいなどの理由がないかぎり・・・ ＞フォルダを作り、そこに入れるようにするのがよいのか というファイルでデータを持たせた方がオーバーヘッドがすくなくすみます ただしファイル管理は面倒なので結局MySQLで管理することが賢明です
＞メールで認証する為には、どのうよにプログラムすればよいのでしょうか? サーバー自体のメールサーバー機能もしくは外部のメールサーバーへのアクセスを担保する必要があります。 あとは仮IDに対して仮キーをRDB側に登録しておき、突合して本登録すればよいでしょう また有効期間を設定しておいて定期的にゴミデータをクリアする必要はあります
新規登録したはずなのにサイドバーに「スタッフブログ」というメニューが表示されないっていう質問でしょうか。 いろいろ考えられるので何とも言えないですが、思いついたところでは ・Show in Menuの設定でどこかの下層に入っている ・UIを表示の設定が「false」になっている ・新しい投稿タイプの登録は「add new post」ではなく「Create Custom Post Type」のはずなので、そもそもカスタム投稿が登録されていない などでしょうか。 あまり自信がありません。的外れだったらスイマセン。
test.txtのありかが、想定と違うのではないですか？ あなたの想定しない場所に作られている。
こちらではじめてgoutteを知り、面白いな〜と思ったくらいのもんなので、正確な回答である自信は全然ないのですが、要は最初の要素だけ抜き出したいので、 $crawler->filter('section.booksLink ul li:nth-child(1)')->each(function($element){ でいけないでしょうか。。 goutteが擬似要素をサポートしているのかわからないのですが・・・
>PHPとjavascriptで作ることは可能だということですね。 できないことはないけど 「ひたすら横にずっとつながっていてスクロールやボタンなどでページ移動」するような仕様は ブラウザでやるには向いていない >できれば手順だけでも教えていただければありがたい 「ドラッグして選択」がブラウザによって微妙に挙動の違いがあり意外に面倒、 なにかブラウザを指定しないなら、標準化するのがちょっと面倒です。 マウスの挙動としては以下のようなイベントの組み合わせになるでしょう。 mousedown,mouseup（もしくはclick）,mouseover,mouseout,mousemove ,dragstart,dragover,dropなど ちなみにデータの保存をサーバー側にする場合はphpのファイルI/Oを使うより RDBと組み合わせた方がデータが扱いやすいと思います
oracle目指すのはよいと思いますが、ベンダーとしてoracleを提供できないなら 別業者に案件ごとまるっともっていかれそう だいたいにおいてoracle提案する業者はphpなんて勧めないでしょうし・・・ 場合にもよりますがRDBからめるならMySQLやPostgreなどで一括提案できる方が有利かも HTML5については抑えておく必要はあるでしょうけど レガシーな環境を考えるとそれで統一することは難しい 現時点ではjQueryなどのライブラリでサービスを提供する方が現実的かな （まぁ資格という意味ではあれですが・・・） ちなみに会社（チーム？）で案件を提案する場合、資格は決して無駄ではない むしろ「実務経験がある」というのは当たり前の話、 資格があればいい仕事ができるなんてだれも思っていないが、 資格さえない奴は所詮意識が低いと思われがち まぁ学歴と就職みたいな話でどんな能力が高く優秀だとしても 学歴フィルターにかかれば他者とおなじ土俵にすら立てないのが現実
>$torokuno = $_POST['torokuno'];で受け取り >$sql = 'SELECT * FROM data_tbl WHERE data_torokuno = $torokuno' ;で読み込み なんでバインド変数使わない? >data_tblの内容をUPDATEしたのですが、サンプルコーディングはないでしょうか？ えっ? 何がわからない?
……ふむ、PHP のバージョンが 5.2.0 以降なら true を引数にして呼んでみたらどうなりますか? http://php.net/manual/ja/function.memory-get-usa … http://www.xserver.ne.jp/manual/man_program_php_ …
データベースを何にするかにもよると思いますが、MySQLであれば、 まず会員認証のテーブルに会員ID等のユニークな文字列を各ユーザへ付与する必要があります。 マイページであれば、会員（認証）テーブルにユーザの情報を表示させるカラムを追加すれば良いと思いますが、日記等の機能を持たせようとすると、 別テーブルを作り尚且つそのテーブルに、各会員に付与してあるユニークな文字列が入ってくるカラムを用意する必要があると思います。 で、ユーザが新しく日記を作成、変更、削除でinsert、update、delete文を必要に応じて投げれば良いと思います。 （必ずキーとなる各ユーザのユニークな文字列を使用してsql文を発行） かなり大規模で多機能な日記システムであれば、各ユーザ毎にテーブルを作成して個別に管理する方法もあると思いますが、 不特定多数のユーザを対象に考えるなら不向きな方法だと思います。 とにかく、まずは設計図の様なものを作ってみて、ココとココがつながって、このカラムにこのデータが入ってきて・・・という感じで、 最初はシンプルに基本的なロジックを考えて、ベースが出来上がったら拡張してくいのが良いでしょう。 あと、sql文の発行の際にはセキュリティ対策を忘れずに。 頑張ってトライしてみてください。
>何か助言がありましたら、教えて下さい。よろしくお願い致します。 http://tmaeda.s45.xrea.com/20041101.html >レンタルサーバーだとドメイン名が会社の名前で出てしまうので自分でオリジナルで作ったことにはならなくなってしまいます。 意味不明。独自ドメインとってレンタルサーバのそれに割り当てればいいだろ。 >タグでホームページが少しできたので、 なんでPHPがそれで必要なの? とりあえず質問者は上記URL先を読むこと。
まず単純なSQL文が間違えております。 $sql = "SELECT * FORM recipes"; ↓ FORMはFROMですね。 上記を直すとうまく表示されますか？
あとindex.phpから見て rssup.phpは二階層上なので 以下のようにするとインクルードされます。 <?php include("../../rssup.php"); ?>
＞$v["id1"]["name"] = 田中 ; ＞$v["id5"]["name"] = サトウ ; $v["id1"]["name"] = "田中" ; $v["id5"]["name"] = "サトウ" ; ですね。 ＞全要素の取り出し方 取り出し方といわれても、どう抽出した結果を得たいのかわかりませんが たとえばこんな風に配列の全要素に再起処理をする方法があります・・ <?PHP $v = array() ; $v["id1"]["name"] = "田中" ; $v["id1"]["prof"]["id"] = 1 ; $v["id1"]["prof"]["date"] = 2015 ; $v["id5"]["name"] = "サトウ" ; $v["id5"]["prof"]["id"] = 1 ; $v["id5"]["prof"]["date"] = 2015 ; array_walk_recursive($v,function($item,$key){echo "$key holds $item<br>\n";});
if(count($element->filter('a'))>0){・・・ 的な処理が必要？
>何故phpが選ばれているのか、 バカでも書けるほど楽な言語だから ただし書けるのと実用レベルで使い物になるかは別。 バカが書くともれなくセキュリティーホール大量なソースができあがります。 後、良くも悪くも大量のフレームワークが存在するから 自分にあったフレームワークを選べるから >私自身はrubyを勉強中の初学者で、 rubyやっているならわかると思うけどrubyはRuby on Railsが事実上標準化しているけど PHPにはそれがない。 >「アンケート作成の主流になっている言語」というのはあるのでしょうか。 じゃぁWebシステムとして常務レベルでよく利用されているからJavaをすすめておく。 特に勉強目的ならJavaなら教科書のようなオブジェクト指向の実装がされているのでなおさらJavaをすすめておく
配列の配列です。添え字が 数字なら他の言語でもよくある書き方ですよね。 php や perl や Javascript では添え字に文字列を使うことができます。 こういうのを連想配列とか、ハッシュとかハッシュテーブルとかマップとか ディクショナリとかいいます。 まず、これらの言葉を検索して、何者かを把握してください。 Javaや.netなどでも使うので、プログラマにとっては結構基本的な知識です。
配列 http://php.net/manual/ja/language.types.array.php
おそらく書かれてない部分で問題があるのでは無いかと思います。 <?php $hensu=1; if($hensu) { echo "TRUE"; } else { echo "FALSE"; } とだけ書いたファイルで、両環境で動作が異なるか調べてみてください。
＞$_POST['picture1'] multipart/formのpostでファイルを送るときはphpの受け側は$_FILESです http://php.net/manual/ja/features.file-upload.po …
たぶん wp-content\themes\seller\inc\template-tags.php の６４行～ の６８行のあたりが関係しているのでは function seller_posted_on() {
いまいち何をやりたいのかわかりませんが、 $html['sort']['order']の値でユーザー関数を逆転させるなら useでフラグを渡して、逆転させるだけでは？ ちなみに $standard[$a]と$standard[$b]がかならず同じ値にならないと担保されていないなら 普通は $standard[$a]===$standard[$b]でreturn 0しないと 想定したソートができません。
>${hoge}とどちらが一般的な表現なのか ${hoge}と{$hoge}は考え方ちがいます 前者は、普通に変数として参照する処理です。 別に文字列に埋め込まなくても使えます <?PHP $hoge="fuga"; print ${hoge}; print "test${hoge}test"; ?> 後者は文字列に埋め込む手段です。 ようは変数のケツを確定する処理です。 前者との大きな違いは、配列を参照するときです。 <?PHP $hoge["a"]="fuga"; print "test{$hoge["a"]}test"; ?> とかけますが、${hoge["a"]}とは書けません。 文字列に埋め込まない場合は逆に <?PHP $hoge["a"]="fuga"; print ${hoge}{a}; ?> とかけますが、print {$hoge["a"]}とはかけません。 文字列に埋め込むのを前提とするなら{$hoge}の方が柔軟にかけると思います。
エラーメッセージの意味、理解していますか? syntax error, 文法のエラー unexpected 'echo' (T_ECHO) 期待されない「echo」 ということで、 『本来 echo と書けない箇所(echoが期待されない箇所)に echo がある、という文法上の間違い」ということです。 この「unexpected 〜」のエラーが出るときにチェックするべき点は次の3つです。 (1) 単純に、書き間違いをしていないか? (2) 使い方を勘違いしていないか? 　例えば、echo は関数ではないので、式の途中に書いたりはできません (3) 括弧、引用符、 セミコロン等の忘れ/余分はないか? 　(1)に近いですが。 　括弧等を間違えると、期待とは違う文法解釈されて、「正しい」箇所が「間違い」と判定されることがあります。 　この場合、エラーメッセージにある行番号や「期待されないXX(= XX がいらない)」と、真因が違うことがよくあります。 　そのため、メッセージから真因を考える必要があります。 　例) unexpected '}' だったら、次の2つが考えられます 　　　・ } が多い(単純な書き間違い) 　　　・ 上の方で { が抜けているために、ここで「 } が多い」と判定されてしまった(真因はメッセージとは別) さて。 echo が多い、というエラーですが、 18行目に echo はありません。 次の行の echo がありますが、 これは「正しい」ものです( 少なくとも、あなたはそう思っているはずです) ということは、 「echo が余分」なのではなく、「なにかが足りなくて、『echoが余分』と解釈されてしまっている」と考えられます。 そういう視点で date_default_timezone_set(Asia/Tokyo) //表示 を見ると、確かに足りないものがあります。 また、これを解決しても、間違いがあります。 ・マニュアルをよく読みましょう. http://php.net/manual/ja/function.date-default-t … ・(Asia/Tokyo) とは、どういう意味になるかわかりますか? ・何の目的で date_default_timezone_set を使っているのか、考えましょう。 　プログラムは、実行した順序で内容が変わります。
>間違っている部分のご指摘をして頂けますと幸いです。 エラーの内容を読んで理解しようとしない質問者の存在が一番の間違い。 つまり質問者が存在することが間違いです。
サーバーのos次第ですが、mail()コマンド(もしくはmb_send_mail())をつかうなり PEAR::Mailなどライブラリを使うなりするとよいでしょう。 なお、hiddenで送り先を変えるのはオススメできない そこをいじれば誰宛にでもスパムが送れてしまうので・・・ （ソース側で管理してください）
$aaa と $bbb を id でソートして、頭から同一 id 同士でマージしていけばいいんでないかい？ ……と思って書いてみたら意外と長くなってしまったorz ---------------------------------------------------------------------------------------------- $aaa = array(array('id'=>1), array('id'=>2)); $bbb = array(array('id'=>1, 'name'=>'taro'), array('id'=>3, 'name'=>'hanako')); $ccc = array(); $ia = 0; $ib = 0; $ic = 0; function comp($lhs, $rhs) { if ($lhs['id'] < $rhs['id']) return -1; if ($lhs['id'] > $rhs['id']) return 1; return 0; } usort($aaa, 'comp'); usort($bbb, 'comp'); while ($ia < count($aaa) || $ib < count($bbb)) { if ($ia == count($aaa)) { $ccc[$ic] = $bbb[$ib]; $ib++; } else if ($ib == count($bbb)) { $ccc[$ic] = $aaa[$ia]; $ia++; } else { switch (comp($aaa[$ia], $bbb[$ib])) { case -1: $ccc[$ic] = $aaa[$ia]; $ia++; break; case 1: $ccc[$ic] = $bbb[$ib]; $ib++; break; case 0: $ccc[$ic] = array_merge($aaa[$ia], $bbb[$ib]); $ia++; $ib++; break; default: break; } $ic++; } }
>大文字小文字を区別 区別したいなら $_SERVER['REQUEST_METHOD']==="post" でいいんじゃない？ ただ等号での文字列比較に対しては否定的な現場も多いので strcmp($_SERVER['REQUEST_METHOD'],"post")===0 の方がよいかも ちなみに多くのサーバーでは「POST」を返すので小文字「post」とはマッチしません。 むしろ strtolower($_SERVER['REQUEST_METHOD'])==="post" など小文字同士の比較をしていることを明示した方がよいかと。
再起動してもダメですか？
smartyの使えるバージョンがそもそも変わっている。 5.5だと3系を使う必要がある。 しかも3系の日本語ドキュメント間違っているところあるんだよな。(ぱっと見、「拡張セットアップ」の項) 基本、smartyの3系のドキュメントは英語版を読まないとだめ。 で、この「拡張セットアップ」も2系向けの書き方と3系で変わっているので修正が必要だったり他の場所もすべて確認必要でしょう。 それと、Pearに関してもライブラリの集合体だから具体的に何を使っているかどうか。 それ以外のところも他の回答者が書いているように非推奨になっていたり削除されている関数などが無いか。 >他社が作成したもので構造は全て把握していませんが、 それだめだろ。まずは、その構造をすべて把握するところからだぞ。 全ソースのソースレベルでのレビューは必ず必要。 さらにすべてのテスト(ユニットテスト、単体テスト、結合テスト)も絶対にする必要がある。
ＣＳＶ出力のトリガーとそのアクションによるのでは？ 普通にechoで出力してexitすればそれ以外がでる要素はありませんが ご利用されているサイトの仕様で全ての出力に強制的に任意のhtmlが 挿入されるなどあればそういうものかと・・・
「dat系」「メタデータ」「フラグファイル」の定義を提示し 具体的にどういうデータからどういう結果がほしいのか質問した方がよいのでは？ またこれはPHPでしたいという意図でよろしいですか？
unexpected 'echo' は、その前の行のラストでセミコロンを忘れている場合に多いようですね。見た感じでは入っているようなのですが、念のため再度のご確認をお勧めします。 あとは、requireやechoの後にはとりあえずスペースを入れた方が良いと思います。 それでもおかしい場合は、いずれにしてもパースエラーはセミコロンやダブルクオートをとじわすれていたり、何か余計なものが入っていて、構文が崩れたときに起こりますので、いろいろいじってみて変化を見てみると良いと思います。 お勧めなのが、徹底したシンプル化です。まずはコメントを全て取ってみて、echo 内もHTMLタグを入れずに、可能な限りシンプルにします。(前後のHTMLも取ってしまってもいいかもしれません) 不要な改行も取り、テキストを選択状態にして反転し、全角スペース(エディタによっては隠れた厄介者になります)が混じっていないか確認します。 万一ですが、文字コードがらみの不具合の可能性を消すため、echo 内の全角文字を全て半角英数にしてしまった方が良いと思います。 コードをWEBからコピー&ペーストした部分がある場合、クオートなどが全角だったり、異なる改行コードなどのゴミが入っていることもありますので注意が必要です。 クオートをダブルクオートからシングルクオートにしてみると、変化がある場合もあります。(一見論理的に不要でも、意外な効果がある場合があるものです) 大事なのは、上記の調査をいっぺんにやらずに、1つ行うたびに実行(リロード)して変化を見ることだと思います。 それでもだめなら、まっさらな状態からこまめに動作を確認しつつ書き直してみると、発見がある場合もあります。 長くなりましたが、たぶん些細な「何か」が原因だと思いますので、案外No.3あたりでアッサリ指摘してくれるかもしれません・・・が、「私ならこうする」という対処方ですので、ご参考になれば幸いです！
http://www.syncdesign.tv/?tag=mesocolumn ここはどうでしょう
楽天APIが使えるかもしれないけど、無理なら地道に DOMでデータをひっこぬいてください http://php.net/manual/ja/book.dom.php ちなみに単にカンマ区切りだと、値自体にカンマや改行が含まれると 参照データがボロボロになるので、CSVにするなど仕様をよく考えた方がよいかと
仮に1つのスクリプト内で、それぞれを件数取得を非同期で行えたとしても、すべてが取得し終わってから、後続処理を行う必要があると思うので、どれか1つの件数取得が何らかの原因でやたら遅かった場合、結果的にレスポンスが遅いことになると思いますよ。 (今よりは早くなるでしょうが、瞬時ではない) 逆に、件数取得を待たずに画面を表示するならば、そのタイミングで件数を取得する必要性もないと思います。 完全にリアルタイムである必要がないのならば、1スクリプトですべてを担う方法ではなく、サーバ側のcronなどを使って定期的に件数を取得させるようにしておいて、表示側はただ予め取得されている件数を表示するだけ、とかの方がよくないですか？ その上で、まさに今時点での件数が見たいんだ、というアプローチを件数更新画面などを設けて作るとか。 その時にはexec()コマンドで叩きます。 http://se-suganuma.blogspot.jp/2009/02/php_27.html なので、とりあえずぱっと思いついた方法論は以下の2つ 【方法１】 スクリプトA 　予め取得済みの件数を表示するのみ。 cron 　exec()を叩くアドレスに対して定期的にリクエストを投げ、 　件数を取得・保持する。 【方法２】 スクリプトA 　予め取得済みの件数を表示する。 　JS(jQuery)でクライアントにAjaxを頑張ってもらって、exec()を 　叩くアドレスへリクエストを投げ、定期的に件数を取得・保持 　しに行き、JSON形式などで件数をクライアントへ受け取り、 　画面に表示されている件数を変更する。 cron 　exec()を叩くアドレスに対して定期的にリクエストを投げ、 　件数を取得・保持する。 それらの過程でデータベースでも使えばいいんじゃないですかね。 簡単に、 id：bigint, autoincrement name：varchar(128) url：varchar(256) status：int(1) 0：未リクエスト、1：リクエスト中 hit_count：unsigned int とか定義して、 １．exec()で走行した直後にstatusを確認して、リクエスト中なら 　　現在保持してる件数を返す。 ２．statusをリクエスト中に更新。 ３．対象URLへアクセスして件数を取得。 ４．hit_countに件数、statusを未リクエストに更新。 とか？
PHP の知識、今現在どれくらいありますか? HTTPの仕組や、ヘッダの種類や機能、今現在どれくらいありますか? もし、ある程度あるのなら、この index.php が 「正常に実行できたらどうなるのか」 「動作しなかったらどうなるのか」 を考えてみましょう。 プログラムの中に、「エラーになったときだけ表示されるメッセージ」が書かれている、というのはよくあることです。 そんな「エラー用のメッセージ」を「エラーで無いとき」に読んでも意味はありません。
exec('php body.php', $output); $body = implode("\n", $output);
内部の「行」「列」と表示用の「行」「列」とは、一致させる必要はありません。 そもそも、 二次元配列(配列の配列) は [行][列] ではありません。 [1つ目の添字][2つ目の添字]があるだけです。 それにどんな意味を持たせるかは、プログラマが決めることです。 このプログラムの場合、 $bingo[列][行] としています。 「行を列に変換」なんてことはやっていません。 ○一つ目のfor文では、とりあえず５「列」にならべて、それぞれの「列」を範囲を決めてシャッフルしてます ○そして、その次の 2番目のfor文(行用のループ)とその中にのfor(列用のループ)で対応する行、列の値を出力します あえて言うなら、 一般には $a[行][列] として扱うことの多い二次元配列を、 $bingo[列][行] として扱っている、 というのが「行を列に変換」する仕組です
ざっと例示するとこんな感じ エクセルのファイルとしてあつかうのだからheaderのContent-typeはtext/htmlじゃない方がよいです ※headerは指定しなくても問題ないですが、いろいろ書きたいなら以下のような感じ <?PHP require_once("Spreadsheet/Excel/Writer.php"); header( "Content-type: application/vnd.ms-excel" ); header( "Expires: 0" ); header( "Cache-Control: must-revalidate, post-check=0,pre-check=0" ); header( "Pragma: public" ); $book_name="test.xls"; $sheet_name="hogehoge"; $workbook = new Spreadsheet_Excel_Writer(); $worksheet = &$workbook->addworksheet($sheet_name,$workbook); $worksheet -> write(0,0,"hi!"); $workbook->send($book_name); $workbook->close(); exit(); ?>
facebookのrssに有効かどうかはわかりませんが ＞PHPならあたかもWWWブラウザのように振舞って であれば、cURL系の関数で処理してみてはどうでしょうか？ http://php.net/manual/ja/ref.curl.php
CSVは書式を指定することができないので そういうものだと思うしかないですね どうしてもというのであれば最初からexcel形式で出力できる ライブラリを使うのが妥当です。
pixabayの2.9を見てみたら ２３０,２３１行が $parsed_url = parse_url($url); if(strcmp($parsed_url['host'], 'pixabay.com')) { になっていました。
先頭の <?php は省略出来ません。書かないで済ませるためにはphp自体を改造することが必要です。<?php の代わりに <? と書いても良いようには設定変更で出来ます。 末尾の ?> は省略できます。というか、普通は省略します。
＞<?php echo $uplaod["Upload"]["tags"]; ?> ＞このカンマを表示させたくないのと、php html cakephp の ＞ように一つ一つ分離させて表示させたいです。 カンマをスペースに変えるだけなら <?php echo str_replace(","," ",$uplaod["Upload"]["tags"]); ?> ＞<?php echo $uplaod["Tagged"]["name"]; ?> ＞とすると表示されない 省略状態がよくわからないのですが、もしかして <?php echo $uplaod["Tag"][0]["Tagged"]["name"]; ?> のようなネストになっていませんか？
＞なぜ、嘲笑されるのかが疑問 それは悪い評判を書いている人たちがPHPユーザーをバカにしているからです。 （評判がわるいと問題提起されたのは質問者さんですからその前提にたっています） たとえばアイドルの悪口をかいて評判をおとしている人たちは アイドルファンをみて嘲笑しますよね？そういうことです。 もちろん悪口を言う人が大勢をしめているわけではありませんので 気にしなければすむ話です。
いくつか問題があります →h3タグにアンカーやbrをいれてよいか（文法の問題） →h3タグにアンカーやbrをいれるべきか（用法の問題） そもそも「見出し」にごちゃごちゃ入れることが妥当かどうかということです つぎに →h3が複数ある、またはh3の中にaが複数ある場合どうするか？ という課題がありますが、とりあえず最初に見つかったh3の中の最初のaのhrefをとるなら こんなかんじ <?PHP $str=<<<eof <h3 style="margin-bottom:10px; width:541px;"> <a href="exsample.htm">色街百景<br /> <span style="font-size:14px;">定本・赤線跡を歩く</span> </a> </h3> eof; $html = new DOMDocument(); $html->loadHTML($str); $url=$html->getElementsByTagName('h3')->item(0)->getElementsByTagName('a')->item(0)->getAttribute("href"); print $url; ?> 複数ある場合はforeachなどで走査してやるとよいでしょう
#4 ありがとうございます。 CLIですね
著作に関係する事はこんなところで聞かず、作者に直接交渉する方が早いし道理だと思います。
ERROR: failed to mkdir C:\php\pear\data\symfony\bin はディレクトリをmkdirで作ろうとしたら作れないとゆうエラーです。 C:\php\pear\data\symfony\binとゆうディレクトリをエクスプローラーなどであらかじめ作っておくか DOSプロンプトを管理者権限で実行してみたらどうでしょう。
>htdocsは常に書かなくていいのでしょうか？ はい。htdocsの下のパスを書きます。 ＞また、そのように書くと... PDOのエラーが出たと言うことは、このスクリプトが動いたと言うことです。 PDOはよく知りませんが、Access denied なので、ファイルかディレクトリのアクセス権が無いのでは？
PHPでのメモリの管理は次の通り。 http://php.net/manual/ja/features.gc.php 正直、あなたのボスはPHPのしくみを理解していないように見えます。
CGIが置けるサーバー環境でしたら、 フリーのメールフォームCGIをご自身のサーバーに設置される事をおすすめ致します。 http://www.kent-web.com/mail/
とりあえず、ヒアドキュメントではなく phpからreadfileで所定のhtmlを読み込んでおなじような状況か確認してみては？ 最終的には・・・ htmlファイルと、phpで吐いたhtmlファイルを比較してみればわかるのでは？
PHP のプログラムならば $doc = new DOMDocument(); $doc->loadHTML('<ul><li>ほげ<ul><li>ふが</ul><ul>'); foreach ($doc->getElementsByTagName('li') as $item){ _ $xpath = $item->getNodePath(); _ preg_match_all('#/ul/#', $xpath, $m, PREG_SET_ORDER); _ $txt = str_repeat("\t", count($m) - 1); _ foreach ($item->childNodes as $c) { _ _ if (XML_TEXT_NODE == $c->nodeType) { _ _ _ $txt .= $c->nodeValue; _ _ } _ } _ echo $txt . "\n"; }
http://php.net/manual/ja/function.htmlspecialcha … http://php.net/manual/ja/function.htmlentities.php 引数にあるdouble_encodeをfalseにすればいいだけでは。
phpはサーバーサイドのプログラムなので インタラクティブな処理は得意ではありません。 問題分をPHPで管理し、UIはajaxを含むjavascriptで処理するのが妥当でしょう
phpのライブラリでやらないなら、いっそのこと 自サバのsmtpを殺して、ssmtpを入れてしまえば そのサーバーから送るメールはすべて外部smtp経由にすることができます。 （この方が現実的かも）
postとgetのメリットデメリットとセッションは直接的な相関関係はあまりないかと そもそも「戻る」行為自体があまり勧められるものではないので 戻ってセッションがきれているようなら、強制的にどこかにとばすような 処理をいれるほうが現実的かも。 ただ、セッションが切れていると表示されることがすなわち「不正な状態」をユーザーに しらしめているのだから、セッションエラーのままでいいと思いますけどね
普通にlog10すればよいのでは？ <?PHP $list=array(0.15,0.265,0.434,0.054,0.065,0.034); foreach($list as $val){ print $val."→".round($val,1-intval(log10($val)))."<br>"; } ?>
＞ローカル開発環境の構築 [Windows編] 見てみました。 この通りで環境構築できているのであれば ちょうど「 #09 PHPファイルをブラウザから確認しよう 」でまさに phpのファイルの実行をしていますね WinSCPで仮想マシンにはいり、あとはエクスプローラ感覚で /var/www/htmlにあるファイルやディレクトリをいじっていけば ほぼローカル環境でやっているのと変わらないと思いますよ
削除する対象や件数が都度変わる用途ならば、3回クエリを実行するのが望ましいと思います。 $targets = array(2,3,5); $stmt = $mysqli->prepare("DELETE FROM sample WHERE ID = ?"); $stmt->bind_param('i', $id); foreach ($targets as $id) { _ $stmt->execute(); } $stmt->close();
<?php $price = $sum[0][0]["sumPrice"] / $count[0][0]["count"]; if (empty($price)) { この 「$price = $sum[0][0]["sumPrice"] / $count[0][0]["count"];」 を実行した時点で発生しているNoticeとWarningと思われます。 Notice (8): Undefined offset: 0 から 　$sum[0] が存在しない 　$sum[0][0]が存在しない 　$count[0] が存在しない 　$count[0][0]が存在しない 　のいずれか、あるいは、複数が原因 Warning (2): Division by zero から 　$count[0][0]["count"] == 0 になっている 　$count[0] が存在しないため、0として扱われている 　$count[0][0]が存在しないため、0として扱われている 　のいずれか、あるいは、複数が原因 単にメッセージを出さないだけなら、error_reportingで制御等の方法がありますが、根本対策ではありません。 　$price = $sum[0][0]["sumPrice"] / $count[0][0]["count"]; 　if (empty($price)) { と、「エラーが発生する可能性のある処理」→「エラーの判定」 とするのではなく 　if ( エラーが起る条件 ) { 　　print '0円'; 　} else { 　　print $sum[0][0]["sumPrice"] / $count[0][0]["count"]; 　} と、先に判定して、「エラーが発生する可能性のある処理」自体を実行しない、というのがよいやり方です。 あるいは 　if ( 有効な値になっているか? ) { 　　print $sum[0][0]["sumPrice"] / $count[0][0]["count"]; 　} else { 　　print '0円'; 　} と、する方がいいかもしれません。 なお、emptyでは nullかどうかの判定にはなりません。 nullの判定は is_nullです。 また、「Notice (8): Undefined offset: 0 」のような、配列の添字が存在するかは、 issetやarray_key_existsを使います。 http://php.net/manual/ja/function.isset.php
繰り返しになりますがデータベース（SQL）で処理したほうがよいですし そうでなければかなり煩雑なデータ管理になります たとえば絵本Aがあったとして 価格が1000円で、カテゴリーは絵本だとします。 お勧めのageは１世代だけでよいのでしょうか？ たとばこんな感じで <form> <p> <select name="age"> <option value="" selected>選択してください</option> <option value="19" id="age_1">20歳未満</option> <option value="20" id="age_2">20～29歳</option> <option value="30" id="age_3">30～39歳</option> </select> <select name="cate"> <option value="" selected>選択してください</option> <option value="19" id="cate_1">絵本</option> <option value="20" id="cate_2">小説</option> <option value="30" id="cate_3">図鑑</option> </select> <input type="text" name="income">円 <input type="submit" value="go"> </p> </form> <?PHP $books=array( 'id0001'=>array("name"=>"絵本A","cate"=>"19","age"=>"19","price"=>1000) ,'id0002'=>array("name"=>"絵本B","cate"=>"19","age"=>"20","price"=>3000) ,'id0101'=>array("name"=>"小説X","cate"=>"20","age"=>"30","price"=>1500) ,'id0102'=>array("name"=>"小説Y","cate"=>"20","age"=>"30","price"=>1200) ,'id0103'=>array("name"=>"小説Z","cate"=>"20","age"=>"30","price"=>1000) ); print_r(gebooks()); function gebooks($books) { $age=isset($_GET["age"])?$_GET["age"]:false; $cate=isset($_GET["cate"])?$_GET["cate"]:false; $income=isset($_GET["income"])?$_GET["income"]:false; if(!$age or !$cate or !$income) return false; $retbooks=array(); foreach($books as $id=>$book){ if($book["age"]==$age and $book["cate"]==$cate and $book["price"]<=$income){ $retbooks[]=$id; } } return $retbooks; } ?> ここで30代、小説、1万円以下とすれば3つヒットします 書籍名をだのであれば各idにたいして $books[該当id]["name"]で参照すればいいでしょう
デバッグ手法の一つ。（私は試したことはないが・・・）。 ＞Q. CGI がエラーで動きません。エラーの内容がわからないのですが、どうすれば? ＞http://www.hayawakari.com/xrea/?FAQ%2FCGI%A1%A6S … ＞XREA と CORESERVER では、CGI の拡張子を「cgid」に変更してから実行すれば、 ＞エラーの内容を確認することが出来ます。VALUE SERVER ではこの方法は使用できません。 　ＸＲＥＡは２月頃から順番にサーバのバージョンアップ作業をしている最中なのでこれの関係なのだろうか？ 　確かセーフモードの制限は順次、撤廃しているので情報が古いかも知れませんが。 ＞コアサーバーで画像がアップロード出来ない時やパーマリンク設定でエラー時の対処 ＞http://web-pc.net/wp002 　メンテナンス情報として。 ＞MySQL／PostgreSQL／Apache／PHPのバージョンアップメンテナンスについて ＞https://oshiete.goo.ne.jp/qa/8997454.html 　サーバ側に問題は無いはず。
ごめんなさい、以下微調整 function add_parenthesis($str,$keywords) { ini_set("display_errors",1); mb_internal_encoding("UTF-8"); $keywords=array_unique($keywords);//重複キーワードを削除 if(($key=array_search("",$keywords))!==false) unset($keywords[$key]);//空データを削除 usort( $keywords , function($a,$b){return (mb_strlen($a)==mb_strlen($b))?0:((mb_strlen($a)< mb_strlen($b)) ? 1 : -1);}); //長い順にソート if(count($keywords)==0) return $str; //キーワードがない場合はそのまま返す $delimiter="/"; array_walk($keywords,function (&$item) use($delimiter){ $item=preg_quote($item,$delimiter);});//キーワードにクォート処理 $pattern=$delimiter."^(".implode($keywords,"|").")".$delimiter; //パターン作成 $len=mb_strlen($str); $m=array_fill(-1,$len +2,false);//IN,OUTのチェック、前後にダミー for($i=0;$i<$len;$i++){ if(preg_match($pattern,mb_substr($str,$i),$match)){ $m=array_replace($m,array_fill($i,mb_strlen($match[0]),true)); } } $str2=""; for($i=0;$i<=$len;$i++){ if(!$m[$i-1] and $m[$i]) $str2.="「"; if($m[$i-1] and !$m[$i]) $str2.="」"; $str2.=mb_substr($str,$i,1); } return $str2; }
つかっている$convmapと$encodingが一緒なので、まとめたほうがよいかも function test3($str) { $convmap=array(0, 0x10FFFF, 0, 0x10FFFF); $encoding="UTF-8"; $pattern="/<.*?>|[\r\n]+/"; if(preg_match_all($pattern,$str,$matches)){ $datas=preg_split($pattern,$str); array_walk($datas,function (&$item) use($convmap,$encoding){$item=mb_encode_numericentity($item, $convmap, $encoding);}); $str2=implode("%s",$datas); $str2=vsprintf($str2,$matches[0]); }else{ $str2=mb_encode_numericentity($str, $convmap, $encoding); } return $str2; } じっさいのところ、preg_replace_callback()でやる方が簡単にできそうなのですが ちょっと書き方がめんどくさそうなのでご提示の処理になっています。
リファラをつかってもいいですが、実際有効な回答項目がうまっていればよいので 想定したリクエスト値が適正かどうかをkekka.phpで検証し、 不適正ならshindan.phpに戻すかどこかエラーページに飛ばすようにすればいいのでは？ 場合によってはクッキーやセッションで判定してもよいかもしれません
楽天が提供しているサービスを利用しましょう https://webservice.rakuten.co.jp/guide/ お探しの情報ならこちらから取得できると思います https://webservice.rakuten.co.jp/api/ichibaitems … 便利なライブラリもあるようです https://webservice.rakuten.co.jp/sdk/php.html HTMLページから情報を抽出する方法もありますが、 素直に上記サービスを使うほうが簡単です。
とりあえず$ID--でデクリメントしたあとに $ID++でインクリメントしたらもとに戻るだけなので次のページには飛ばないです ($ID-1)と($ID+1)でよいでしょう。 もしくはどうしてもインクリメントしたいなら$ID+=2 してください とりあえずこんな感じ <?php $ID_MIN=1; $ID_MAX=5; $ID=isset($_GET['no'])?$_GET['no']:1; if($_GET['no']<$ID_MIN) $ID=$ID_MIN; if($_GET['no']>$ID_MAX) $ID=$ID_MAX; ?> <ul> <?php if($ID>$ID_MIN){ print "<li><a href=\"?no=".($ID-1)."\">&lt;&lt;</a></li>\n"; } if($ID<$ID_MAX){ print "<li><a href=\"?no=".($ID+1)."\">&gt;&gt;</a></li>\n"; } ?> </ul>
買うときはドルだけど、返金の場合は逆になるので減っちゃいますね。
単純に、Lightboxの初期化が完了していないだけだと思うけど？ <a href="<?php the_permalink() ?>" rel="bookmark"> の要素に対して、Lightboxのイベントハンドラが正しく設定されていない。 Wordpress テンプレートの中では、「素の」jQuery や protptype がマトモに動作しないのは知ってるよね? ttp://kachibito.net/web-design/wordpress-with-jquery.html
まぁ環境かえないでもmb系の関数を実行するより前に mb_internal_encoding("UTF-8"); を実行すればたいてい解決すると思います http://php.net/manual/ja/function.mb-internal-en …
ブルー画面で、訳の分からない英語の羅列。 ＯＳの起動不良。 起動ディスクを挿入し、ＯＳの修復。 でなければ、 ＨＤＤ・メインボードの故障・メモリの浮き(外れ)。 メーカー製のＰＣだったらサポートに聞く。 以上です。
その構造でデータにアクセスするならこう？ print $data[0][0]["sumPrice"];
こんにちは。 私は普段cURL使わないので的確な回答ではないかも知れませんが、CURLFileを使うとmultipart/form-dataでのファイルアップロードになってしまうのではないでしょうか。 ちなみにマニュアルを見る限りでは、「test_name」は「どういうファイル名としてアップロードするか」で、「test_file」はPOSTデータのnameのようです。 マニュアル http://php.net/manual/ja/curlfile.construct.php ここまでの回答でたぶん違和感をもたれているかもしれませんが、その場合はやはり、アップロード（CURLFile）ではないのかもしれません。 ただ、普通のPOSTで送るにしても、一般的には下記例のように、nameとvalueのペアで送りますので、CURLOPT_POSTFIELDSにXMLをテキストで入力、というのも、違和感がある気がします。（xml内にnameとvalueの記載をされているのかもしれませんが、マニュアルを見る限りxml形式は対応の記載が無いような気がします） （例） http://deamu.hatenablog.com/entry/2015/02/11/214 … ちなみにPHPからPOSTする方法の検討としてはこの辺もご参考になるかもしれません http://www.programming-magic.com/20080226023511/ いずれにしても、もういちどAPIを再確認されてみてはいかがでしょうか。（あるいは、APIの情報を補足として記載されたら、他の方の回答の参考になると思います。） 以上、間違っていたらすみませんが、ご参考になれば幸いです！
とりあえず 1 のところ (つまり 「11行目はfooクラスから作成されたfooオブジェクトのメンバ変数$barを表示させる、ということだと思います。」 のところ) が間違いであることに気づいてください.
カテ違い ちゃんとしたところでちゃんとした質問をしてください。
そもそもこれwordpress使う意味あるの?
単純にlistの話では？ <?PHP <?PHP $hairetu[] ="いちご"; $hairetu[] ="ぶどう"; $hairetu[] ="もも"; list($a1,$a2,$a3)=$hairetu; print $a1; ?> http://php.net/manual/ja/function.list.php
マッチしていないので$matches[1]が未設定だというエラーですね ＞return parse_url($matches[1],PHP_URL_PATH); を、たとえば return isset($matches[1])?parse_url($matches[1],PHP_URL_PATH):""; にするなどで対応してみては？
PHPでは、 == TRUE と != FALSE は同じ結果になります。 参照: http://php.net/manual/ja/types.comparisons.php PHP 型の比較表 の 「== による緩やかな比較」 != は == のTRUE/FALSEを逆にしたものですから、 ・TRUE の行 ・FALSEの行のTRUE/FLASEを逆にしたもの を比較すれば、一致していることがわかります。 != FALSE が推奨される理由は、おそらく、次のようなことだと思います。 ○ 代入演算子 = と比較演算子 == とを間違えることがある。 if ( $a == TRUE ) のつもりで if ( $a = TRUE ) と書くと、このifは常に成立する上、$aがTRUEに書き変わってしまいます。 よくやる間違いです。 != なら間違いようがありません。 # =! にしてしまう、等という間違いには対応できませんが。 ○ 「真」と 「TRUE」 とがかならずしも一致しない == は型変換して比較します。 数値の場合 ・0以外: TRUE ・0: FALSE としてboolean型に変換されます。 http://php.net/manual/ja/language.types.boolean. … 例えば -1 とTRUEを==で比較すれば -1 == TRUE → (boolean)-1 == TRUE → TRUE == TRUE → TRUE -1 != FALSE → (boolean)-1 != FALSE → TRUE != FALSE → TRUE となります。 ==TRUEと!=FALSE の結果は同じです。 ところで、あなたは > 前者に0が入ってた場合、0==1となり、FALSE > 後者に0が入ってた場合、0！=0となり、FALSE と、TRUE=1,FALSE~0 と書き換えてしまっています。 この場合、型変換は行われず、数値同士の比較となります。 よって -1 == 1 はFALSE -1 != 0 はTRUE と ==1と!=0とでは結果が違ってきます。 ==1では ・1: TRUE ・1以外: FALSE となり、先に書いた 「0以外がTRUE」という判定と違うものになってしまいます。 !=0では ・0以外: TRUE ・0: FALSE となり、先に書いた 「0以外がTRUE」という判定と同じものになります。 よって、 !=0 の方が「期待通り」の結果になります。 直接 1,0 / TRUE,FALSEが書いてあればまだわかるのですが、例えば if ($flag == $trueVal ) と書いてあって $flag =-1 ; #真のつもり $trueVal= 1 ; #真のつもり となっていると、「真」==「真」→真 のつもりが -1 == 1 → 偽となり、elseの方が実行されてしまう $trueVal= TRUE ; だと、 -1 == TRUE → 真となり、期待通りにthenの方が実行される という現象が起ります。 これが if ($flag != $falseVal ) だと $falseVal= 0 ; #偽のつもり でも $falseVal= FALSE でも、 $flag != $flaseVal → 真 となります。 これは、 PHPの == の特性に関連するものです。 自動で型変換するので便利な == ですが、気をつけないと期待と違う型変換が行われて(あるいは、型変換させないままで)比較してしまいます。 曖昧な == , != は使わず、 ===,!==を使い、必要なら明示的に型変換する、という考え方もあります。 それに、 if(条件式==TRUE){ とするなら if(条件式){ でいいわけです。 ※ 論理型を持たない言語では、「論理型への変換」ができません。 そのため、==TRUE に該当する「型変換して判定」ができません。 よって「0以外で真/0で偽」 とするためには、 ==1は使えず、 != 0 で判定する必要があります。
フレームワーク以前の問題。 基礎をまずやりなさい。
リダイレクトする際に、数字の部分をGETパラメータとして渡すようにすればいいんじゃない？
＞ 決まりごとや法則などあるのでしょうか？教えてください。 決まり事はあります。ちゃんとした入門書になら書いてあるはずですが。 ＞("h")の()は必要なのか、 関数呼び出しに () は必要です。 ＞{print"goodnight";}の{}は必要なのか、 このケースでは不要です。{ } は複数の文をまとめるときの記号です。 if (date("h")>=18) {print"goodnight";} と、 if (date("h")>=18) print"goodnight"; は同じです。 if (date("h")>=18) {$x = 1; print"goodnight";} と if (date("h")>=18) $x = 1; print"goodnight"; は違います。 どう違うかは考えてください。 ＞{}が()に変わるとだめなのか、 { } と ( ) は全く意味の違う記号です。
httpでやるかぎり無理だと思うけど
＞支障が出やすい そうでもないと思いますがどうしても気になるなら 読み込む部分を標準化するようなクラスや関数を用意しておけばよいのでは？
Virtual Boxとvagrantを使う。 これならば，PHP/Web Server/DB Server etc.の複数バージョン同居問題を気にする必要がほぼありません。 詳しくは，vagrant PHPあたりで検索すれば，色々なサイトが出てくると思います。 なお，Windows 8/8.1 Proの場合はHyper-Vを無効化する必要があります。 refs) https://www.virtualbox.org/ https://www.vagrantup.com/ http://www.vagrantbox.es/
＞透過型プロキシを利用する事で通信内容が丸見え どの辺の情報をみて、どう判断してるのかわかりませんが ユーザーが意図的につかっている信頼のおけないプロクシをつかってるとリスキー っていうのならあくまでユーザーの自己責任で解決すべき問題ではないですか？ またプロクシ自体ネットワーク環境の関係でゲートウェイ的な処理をしているものもあるので 本格的に排除すると、むしろ別の課題にぶつかると思いますが・・・ 状況を誤解しているかもしれないので、もう少し詳しく状況を説明された方が 適切な回答が得られるかもしれません
画像は見えんけど・・・、 コピペしてオッケーなモノを期待するのは止めといた方が宜しいかと。 宿題も今後ますます難しくなるでしょうしね。 勉強中の貴方に必要なのは答えを探すことではなく 脳みそが沸騰するまで、頭から湯気を出しながら答えを『考える』事だと思います。 教科書やノートを読んで講義の事を思い出し理解を深めれば 解決の糸口が見つかるハズです。 「うるさいオヤジが湧いて出た」とは思わないでね。
><form method="POST" action="set_img.php"> ファイルを送りこみたいなら最低でも ENCTYPE="multipart/form-data" を指定してください バイナリーデータをSQLに投げるならプレースホルダで処理した方がよいでしょう
＞変数stmtが定義されていないのと、fetchが空？のエラーのようです。 あれ？phpからpostgreにつなぐ方法理解していません？ そのあたりから躓いているのであれば一度入門書から始めた方がよいと思います。 またまだ始めたばかりでPostgreを絶対につかなわなくてはいけないわけではないなら 個人的にはmysqlの方が参考になる書籍やサイトも多いのでよいと思いますが・・・
＞自分の希望としては、やはり本体html自身が外部PHPファイルを呼び出して、 ＞そこに書かれている処理によって自分を整形して表示することです。 まずは「the_html.html」つまり拡張しhtmlはphpを実行することができるよう 設定してあるんですか？ それができていないなら何をやっても無駄です。 で、できている前提で ＞そこで1行ゲットできる関数がないのかと思いを巡らしています。 １行ゲットする意味がわかりません、１行ゲットしてもなんの解決にもならないし １行ずつゲットしなくても解決できる内容ですよね？ 変な話<!--から-->の間に改行がはいってたら即アウトですよね？ ほぼ繰り返しになりますが、以下ソース //the_html.html <?php ob_start(); ?> <html lang="ja"> <head> </head> <body> <!-- ここから --> aaあ<br><br> bbb<br><br> <!-- ここまで改行するな --> <!--コメント--> </body> </html> <?php $buffer=ob_get_contents(); ob_end_clean(); include_once "func.php"; ?> //func.php <?PHP $buffer=preg_replace('/(\t|\r\n|\r|\n)/s', '', $buffer);//タブ・改行を削除 $buffer=preg_replace('/<!--[\s\S]*?-->/s', '', $buffer);//コメントを削除 print $buffer; ?>
ネットの閲覧とはどこを見ていて何の操作をしているか？によります。 　ソフトの作り方によっては、「はい」を押してもらっては困る場面で意図的に操作ができないようにブロックしていることがあります。 　そのときは必要な設定が終わっていない、何かを記入しているなら必須項目が入力されていない場合に受け付けないことがあります。
>実際には同じ文字列でも異なってしまいます。 う～ん……試せる環境がないのでアレですが……。 echoの場合は「abc」だけ。 phpでやったものは「abc」に文字列終端のコード(0x00)が付いていた。 とかいうことはありませんか？ バイナリエディタで”abc”に0x00を追加した4バイトのファイルを作成し、 openssl．exeの入力ファイルにそのファイルを指定してみたらどうでしょう？？
>直接編集するのは書込の権限が無いためコピーを作成する いやたんに書き込み権限をつけて編集すればいいのでは？
それってPHPでやらなくてはいけないの？ <html> <head> <style> <?PHP if(isset($_GET["color"]) and $_GET["color"]!=="") print "body{background-Color:".htmlspecialchars($_GET["color"]).";}\n"; ?> </style> </head> <body> <form method="get"> <select name="color" onchange="this.form.submit()"> <option value="">==color==</option> <option value="aqua">aqua</option> <option value="lime">lime</option> <option value="yellow">yellow</option> </select> </form> </body> </html> とりあえず変えるだけならsubmitせずにjavascriptで動的に変えた方がいいと思いますが
行ごとに送信ボタンをつくっていますが、formが全体を覆っている状態なので test01というnameの競合したデータが送られています。 しかもsubmit名にまで同じtest01を付けているので、かなりダメダメな状態 やるなら以下のどちらか？ (1)formを一つでやるなら、「test01[]」的な名称をつかって受け側で配列でうけ submitのnameに該当する番号をつけておいて判断する (2)各行の送信ボタンを囲むようにformを設置する
>PHPショートタグを使うとエラー 本件については詳細はわかりませんが、一般的なはなしとして ショートタグはxmlなどの書式と競合することがあります したがって環境によってはphp.iniなどでショートタグを禁止にしている場合もあります。 また禁止にしていない状況で競合した場合、優先順位など自己責任で管理する必要があります 特別な理由がないかぎりショートタグの利用は控えた方がよいでしょう
結果的にphpinfoが見れないかもしれませんが、原因を突き止める場合には何が原因かを1つずつ探す必要があります。 (1) そもそもApacheが正常に動いていない (2) PHPが動いていない (3) phpinfoが表示できない (1)は、普通のHTMLファイルは見えるのか、ApacheデフォルトのIt Works!画面は出るのかで確認できると思います。 (1)に問題がないのであれば、(2)のPHPがきちんと動いているかの確認ですが、phpinfo以外のファイル 例えば <?php echo "Hello"; ?> だけのファイルが動くのか (2)も問題がないのであれば、(3)で、記述ミスはないか、PHPのエラー表示をさせてみたら何か表示されるか、などで問題を絞り込めると思います。
ごめんなさい、面倒なのでよく読んでません（ぉぃ ちょっとプラグインが何をしているのかわかりませんが、カスタムフィールドに入れた値をそのままトップページに表示させたいというだけですよね。 テキストだけでしたら特にプラグインは要らないと思うのですが。 カスタムフィールドを表示させるのは、 <?php echo get_post_meta($post->ID , 'キー' ,true); ?> で表示されるはずです。 上記の場合ですと、 <?php echo get_post_meta($post->ID , 'news_title1' ,true); ?> になります。 the_fieldはAdvancedCustomFieldの関数なので、ACFの設定ができるプラグインなのかな？？？ で、なんで表示されないかというと、キーが一致していないから。 news_title1で設定したなら、記事画面のほうでも「見出し１」ではなく「news_title1」とする必要があります。 もしくは、どちらも「見出し１」で統一するか。 それと、「値がありません」って表示は別な問題で、 <?php query_posts('post_type=top_news'); ?> <?php $text = get_field('news_title1'); このあたりは、下層のブログ記事でtop_newsの記事の一覧を取得する関数（しかも今は推奨されていない書き方）なので、前半の部分は不要です。 まとめますと ・カスタムフィールドにnews_title1,news_contents1という名前で値を入力 <?php get_header(); ?> <div id="contents"> <div id="info02"> <h3><?php echo get_post_meta($post->ID , 'news_title1' ,true); ?></h3> <p><?php echo get_post_meta($post->ID , 'news_contents1' ,true); ?></p> ・・・ </div> </div> <?php get_footer(); ?> もし、下層にページを作って、その一覧をトップに5件表示したい、という話でしたらまた別なハナシです。
よほど独自に拡張をしていない限りさほど問題なく移行できるとおもいますが 旧バージョンのpukiwikiをご利用の場合、現行PHPのバージョンにそのままのせると 致命的な部分もあるので注意が必要です。 ・PHP5.4で仕様が大きく変更した関係でソースのhtmlspecialchars()や、hex2bin()が 記載されている個所をすべて回収しないといけないかも ・クラスの参照渡しの書き方を変えないかも ・error_reportingを調整しないといけないかも ・date_default_timezone_set()を調整が必要かも
}; に対応する{が無いようですが，実際には存在するのでしょうか。 しないのであれば，そこでPHPが警告メッセージを出力していて，それが画像ファイルに混入した可能性があります。 出力されたファイルの末尾を確認してみてはどうでしょうか。 なお，Content-Typeに利用可能なMedia Typesとして，application/force-downloadは登録されていません。 http://www.iana.org/assignments/media-types/medi … http://www.ietf.org/rfc/rfc2616.txt 私的なMedia Typeには，x.を使うべき，とされています。 http://www.ietf.org/rfc/rfc6838.txt
バーチャルドメインを利用している？ であれば参照ディレクトリを別に設定すればよいのでは？
DBの検索性を考えると、通常文字の方がヒットさせやすいでしょうね 逆にその文字列を検索の対象にしないのであれば、 どちらでもいいのでは？ 今回の例だと「&amp;」を「&」に変換するかどうかにもよります。
>２０文字まで書くことができるのですが >７文字入れるとエラー これは３バイト文字が７文字いれると21バイトになるからでは？ ソースの初めの方に mb_internal_encoding("utf8"); など明示するか ＞mb_strlen($comment) でチェックするときに、エンコードを指定するとか必要かも mb_strlen($comment,"utf8")
ご提示の用途ならば、SimpleXML の XPath 機能を使うのが一番簡単でしょう * 簡単に書ける * 性能がでる * RSS や ATOM の知識がある程度必要 * XML の基礎知識も当然必要 参考) http://php.net/manual/ja/simplexmlelement.xpath. … MagpieRSS を使うのも間違いのない選択ですが、少々大げさな気がします。 * RSS や ATOM や XML の知識がなくても大丈夫 * 大量処理する場合に、性能的な問題がでるかもしれない Google feed API ですが、 そもそもこの程度の処理に外部 API を使用すること自体が、 むやみに依存性を上げてしまってシステムの性能や可搬性を落とす原因となるので オススメしません。
いちばん簡単なのは、保存の際fputcsv() をつかい、読みだしの際にfgetcsv()を使えば 改行を含む一区切りでデータを呼び出すことができます。 ちなみにこの手の処理をテキストでやる限りデータの競合はさけられません。 ちゃんとやるならデータベースでデータ管理することをお勧めします
……? XAMPP のインストーラーなら https://www.apachefriends.org/jp/index.html からダウンロードできますが、 > 現在phpでフォームを制作しています ということはすでに PHP を実行できる状態なのですよね。 あなたがやりたいのは現在の環境で MySQL を使用できるようにしたいという事でしょうか。それとも現在の環境に新たに XAMPP をインストールしたいという事でしょうか。
>存在し閲覧可能な状態でパスが分かれば別アカウントPHPもインクルードできる >とのご返答でしたので疑問です であれば、#1で回答した通り、他人にソースを参照したりされたりしちゃうような ザル管理なサーバーすぐに乗り換えてください。 それと、どうしても今の環境から抜けられないのであれば いわゆる難読化で対応できないことはないですが、高価なので個人で導入するほどの 費用対効果はないと思いますが・・・ http://www.ioncube.jp/ http://www.zend.co.jp/products/guard/
本当に中国語なのかどうかも微妙 ・単に文字化けして中国語風に見えるだけ ・ブラウザの自動翻訳機能的ななにかが動いている など可能性はあります。
>１台の内容をすべて、もう１台に移したい 　それだけじゃ答えられない。 　ハードがまったく同じで、クローンを作りたいのか、データだけをコピーしたいのか・・
>header("index.php"); header("Location:index.php"); としたいのでしょうか？ ＞header("Location: index.php . '?' . $_SERVER['QUERY_STRING']"); クォーテーションがおかしいでしょ？ $qs=$_SERVER['QUERY_STRING']!==""?("?".strip_tags($_SERVER['QUERY_STRING'])):""; header("Location:x.php{$qs}"); 的な書き方の方がよいのでは？
＞例えばこちらで変数に入れた値を出力する際もなのでしょうか 変数に代入と、HTML出力の間に他の処理が挟まった場合に、その間に変数の値が安全であり続けるということは自明ではないので、それを保証する必要がありますが、それは面倒ですし、不必要な努力です。 HTML出力時に変換することにしていれば、安全なのは自明で、安全の保証に手間が掛かりません。 「自分が作ったプログラムを自分だけが利用して被害も自分だけが被る」のであれば自分が「このプログラムは安全だ」と確信を持てれば良いので、他人に対して品質保証するということを考えなくてもいいのですが。 HTMLを出力する他にも、 ・何らかの理由で動的にSQLを組み立てなければならないケース ・ファイル名を指定してファイルにアクセスするケース ・OSコマンドを実行するケース ・JavaScriptを生成出力するケース などなど、対処が必要なケースはいくらでもありますが、それぞれそれをする直前にパラメータを変換して無害化するのが正しいやり方です。$_GET/$_POSTを参照する時点で上記すべてへの対処をするのは不可能です。
>log.dat自体をteraPadで開いて確認しますとどうもshift_jisで保存されているよう ログをどのように出力しているのかわかりませんが mb_convert_encodingやらなにやらでutf-8ででるようにすればいいのでは？ またはshift_jisで保存されていて問題ないなら、terapadで開くときにshift_jisで 開けばいいだけのような気がします
こんにちは。 市場に出回れているクリーンアップソフトは多いですが、有効なのが少ないです。 友達からWindows上の掃除機と呼ばれるEaseUS CleanGeniusを薦められました。利用した後、動作スピードが以前より速くなりました。その時から、このソフトをずっと使っています。 EaseUS CleanGeniusの紹介ページにて見てみましょう。 http://jp.easeus.com/win/utilities/
＞どうしたらログインできるようになりますか パソコンでもPC版LINEをダウンロード、インストールします。 LINEアプリでメールアドレス/パスワードの設定必要（スマホ版のLINEアプリの設定からメールアドレス/パスワードの登録） またはPC版LINEで表示したQRコードをスマホ版LINEで読み取ってログインする「QRコードログイン」の方法でPC版LINEにログイン。 LINEのメニュー「その他」「設定」「アカウント」「メールアドレス登録」登録するメールアドレスとパスワードを入力（パスワードは2回）「確認」登録したメールアドレス宛にLINEから認証番号を記したメールが届ぃ。 （スマホで既にメールを確認しているなら、メールのリンクをタップすると認証が完了） LINEに戻り、4ケタの認証番号入力「登録する」 パソコンでPC版LINEをダウンロード 「Download」クリック パソコンでPC版LINEをインストール ダウンロードしたexeファイルをダブルクリック、言語（日本語）選択 インストール開始「次へ」「同意する」「インストール」完了「閉じる」PC版LINEが起動 PC版LINEを起動、スマホ版LINEで登録したメールアドレス/パスワード入力「ログイン」 本人確認のための認証番号が発行される。 4ケタの認証番号を、スマホのLINEを起動して3分以内に入力 スマホのLINEを開くと、認証番号入力画面が自動的に表示、番号を入力、「本人確認」ボタンをタップ （第三者がログインするのを防ぐため、スマホ版LINEに警告メッセージを送って本人に知らせる機能） PCへ戻ると、PC版LINEにログインできている。 （どこが違いますか？）
PHPを覚えようとしているなら意味ない回答かもしれませんが、 考えすぎて詰まるより「WP Admin UI Customize」というプラグインを 入れれば楽だと思うので参考として貼っておきます。 http://netaone.com/wp/admin-ui-customize/
履歴は保存場所が決まってます。 ただ何の履歴なのかで保存場所が変わってきます。 同じブラウザでもIEの履歴とChromeの履歴は異なる場所に保存されます。 その場所を知っていれば削除もできますし、スキル次第では削除後の復元も可能になります。 >それでも見ることができるのですか？ 見ようとする人のスキル次第です。 見られることが心配で見る可能性がある人のスキルがわからないなら、パソコンを再セットアップした上で、空き領域に対してcipherコマンドで復元が困難になるようにするか、他のパソコンにディスクを接続してdiskpartのcleanコマンドでディスクの内容を消去したあとでパソコンを再セットアップするなどの対処をしないと安心できないでしょう。
画像ファイルを readfile などで直接取り込む場合は、画像専用のスクリプトを用意してください。 でないと、画像と認識されず、うまく出力されません。 たとえば [image.php] <?php header('Content-type: image/jpeg'); readfile('aaa.jpeg'); ?> image.php にはこれ以外にはもう何も書いてはいけません。せいぜいファイルの存在チェックとかくらいです。とりあえず気にしないでください。 では、どのように表示させるかというと、img 要素を使います。 [test.html] <!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="ja"> <head> <title>test</title> <meta charset="UTF-8" /> </head> <body> <p><img src="image.php" alt="" width="10" height="10" /></p> </body> </html> 単純な HTML ファイルですが、これで画像が表示されると思います。 画像とHTMLは完全に別にしないと動作しないので気を付けてください。とりあえずそういうものだと思ってください。
ちなみに header('Content-type: image/jpeg'); を header("Content-type: application/octet-stream"); header("Content-Disposition: attachment; filename=\"test.jpg\""); に変更してダウンロードされるかどうか試してみれば？
＞Can't connect to local MySQL server through socket は、mysql側のソケットとphpの指定するソケットが合わないときにでるエラーですね php.ini の「mysql.default_socket = ○○」の値を、エラーで表示される ソケットに変更して、apacheを再起動すればなおるかもしれません。 ちなみに ＞$dbpassword = ""; とありますが、ホントにルートのパスワードなしで運用しているのでしょうか？
PHPファイルの先頭に以下の指定が必要です #!/usr/bin/php <?php ファイルに実行権限が必要です chmod +x cron.php
503エラーなので接続先がオーバーフローしているか、不正アクセスだとみなされて はじかれている可能性はあります
ファイルのアップロードについてよほど変なプログラムを書かない限り メモリ容量の制限をうけることはあまり考慮する必要はないと思います （POSTの上限やタイムアウトの設定を調整する必要はありますが） ただしあまりギガ単位のファイルをhttpベースで送るのは効率的ではないので ftpなど別の方法を検討されることをお勧めします。
Lightboxは別のプラグインと相性が悪いものもあるようですので（zenbackとか） もしかしたら他のプラグインが影響している可能性もありますね…(´・ω・｀) あとはLightboxのプラグインは色々あるので正式名称とかが分かると より詳しい方からの回答が頂けるかと…！
参考程度にお聞きください。 カレンダーがサイドバー内で中央揃えになっているから ずれてるように感じるんじゃないでしょうか？ 他の表示をも中央揃えにすれば ずれはなくなるんじゃないでしょうか？
＞く、”？”　や　”：”　でとまどってしまいました。 いわゆる三項演算子というやつです http://php.net/manual/ja/language.operators.comp … 多用するとむしろ見にくくなりますが、代入をともなう簡単な分岐なら 便利だと思う人も多いでしょう if~elseで書き換えるとこんな感じ function magic($p, $q) { if($q == 0){ $val=$p; }else{ $val=magic($q, $p % $q); } return $val; } ユーザー関数magicの中から自分自身magicを呼び出しているのは 再起呼び出しという処理で、プログラムでは一般的な方法です。 https://ja.wikipedia.org/wiki/%E5%86%8D%E5%B8%B0 たとえば1071と1029で考えれば magic(1071,1029); ↓　　　　　　↑21を戻す 1029!=0なので magic(1029,1071%1029);→magic(1029,42) ↓　　　　　　↑21を戻す 42!=0なので magic(42,1029%42);→magic(42,21) ↓　　　　　　↑21を戻す 21!=0なので magic(21,42%21);→magic(21,0) ↓　　　　　　↑21を戻す 0==0なので・・・ 最終的に21が戻ります ただ、以下phpマニュアルに注記があるよう、ネストが深い再起処理は プログラム的にはNGになるケースがあり、最大どのくらいまで再起するか 運用に際してはあらかじめ想定値を設定して例外処理を入れておいた方がよいでしょう。 http://php.net/manual/ja/functions.user-defined. …
できれば eval しないのが好ましいので、少々手間をかけるなら function 前から順番に計算していく関数($s) { $pattern = '#^\s*([\+\-]?\d+(?:\.\d+)?)\s*([\+\-\*\/])\s*(\d+(?:\.\d+)?)#'; $callback = function($m) { $a = floatval($m[1]); $b = floatval($m[3]); switch($m[2]) { case '+': $r = $a + $b; break; case '-': $r = $a - $b; break; case '*': $r = $a * $b; break; case '/': $r = $a / $b; break; } return $r; }; $res = preg_replace_callback($pattern, $callback, $s, 1, $c); while ($c > 0) { $res = preg_replace_callback($pattern, $callback, $res, 1, $c); } return $res; }
とりあえず file_get_contentsはやめて、通常のファイルI/O処理をしてみては？ <?php header('Content-type: image/jpeg'); $filename="bbbb.jpeg"; $handle=fopen($filename,"rb"); while (!feof($handle)) { print fread($handle, 1024); } fclose($handle); ?> BOMではないと本当に検証したいのであれば 文字化けしているデータをブラウザ上から保存し、バイナリエディタで 「EFBFBD」が先頭近くについていないことを確認してみてください。
こちらの記事に書かれている物のような棒グラフなら作成可能なようですが… http://blog.goo.ne.jp/xmldtp/e/8d9cd1ae4bda6e64f … グラフの種類によっては作成などは難しいかもしれないですね(´・ω・｀)
コントロールパネルから「Faster Light」を検索かけてアンインストールできませんか？ 他にもツールを使っての削除方法などありますよ。 http://www.2-removevirus.com/jp/delete-faster-li …
>文字列 "111+222-333*444/555"を 数字と符合に、分割してから 計算 通常電卓なら前から計算するものですが、 四則演算の優先順位とかどうするつもりでしょうか？ 単に文字列を計算式とみなす場合はevalで処理ができます。 <?PHP $str= "111+222-333*444/555"; print eval("return $str;"); ?> ただし汚染されたデータがevalで実行されるリスクがあるので 想定する文字列のみであることを計算前にチェックする必要があります。
除去方法の動画
ホームページビルダー6.5 はＷｉｎ７以降には対応していないので基本的には不可です。 Ｗｉｎ８.１のＸｐ互換モードがどの程度有用かはよくわかりませんが、 これを試してみてだめだったら 新しいバージョンのものを導入した方が良いでしょう。 ベンダーもＩＢＭからＪｕｓｔＳｙｓｔｅｍに代わっているみたいだし、 新しいバージョンを導入するのがベストだと思います。 過去に作成したＤａｔａ類との互換性は保たれていると思います。
> office20013のwordについて。Windows8.1でワード文章を作っている途中で、区切りをつけたくて、「-」を連続で20回くらいおして、エンターを押すと、端から端までの 長い線ができ、後から線を消そうとすると消すことができません。 「オートコレクト」の機能で「段落罫線」に変更されています。 段落記号を正しく選択して、[Delete]を押せば、削除されます。 下記URLの過去ログをご参照して削除してください。 「Word2013の点線が実線になってしまいます」 https://oshiete.goo.ne.jp/qa/8469108.html
都道府県テーブルつくってjoinしながらcountすればいいのでは？
イベントの設定がおかしいんじゃないかと思います。 下記の設定で何とかなりませんかね？ レ　All-day event レ　No end time Start date/time：　2015/3/1 End date/time：　遠い未来日付 Time zone：　Tokyo レ　繰り返し レ　除外する　除外のルール選択　←臨時休診を除外する 除外する日付：Choose dates　←2015/3/1 他のプラグイン http://webshufu.com/event-organiser-wordpress-ev …
＞Forbidden 権限なしのエラー ブラウザからアクセスの設定は参考URL http://www.vpswordpress-admindocs.com/tool/phpmy …
＞文字化けになりました ああ・・・そう書いてありましたね。 たぶんutf-8のBOMじゃないですか？ BOMなしで保存し直してみては？
せめてOSとかブラウザの名前を書かないとだめだと思いませんか？ http://detail.chiebukuro.yahoo.co.jp/qa/question … http://detail.chiebukuro.yahoo.co.jp/qa/question … http://detail.chiebukuro.yahoo.co.jp/qa/question …
>$path = 'http://aaaa.jpg'; カレントにあるのaaaa.jpgをダウンロードさせたいのですよね？ 「http://」がいらないのでは？
どこまで拡張したいかわからないので、最低限のテーブル構成でこんなかんじ create table t_user(uid int not null primary key,uname varchar(20)); insert into t_user values(1,'aaa'),(2,'bbb'),(3,'ccc'),(4,'ddd'); ユーザーテーブルはuidとユーザー名を保持します uidは管理上任意に設定した方がいいですが、めんどうであればauto_incrementでも大丈夫です。 create table t_toko(tid int not null auto_increment primary key,uid int not null,contents text,created datetime not null,modified timestamp); insert into t_toko(uid,contents,created) values(1,'message_aaa_1',now()),(1,'message_aaa_2',now()),(1,'message_aaa_3',now()),(2,'message_bbb_1',now()),(2,'message_bbb_1',now()),(2,'message_bbb_2',now()),(4,'message_bbb_1',now()); 投稿テーブルは、投稿idとユーザーIDを持つ必要があり、実際のメッセージに加えて、作成日時、 更新日時を持っておいた方がよいでしょう。 MySQLのバージョンによっては、createdのdefaultをCURRENT_TIMESTAMPに設定できるものも あるので、その場合はnowを指定する必要はなくなります。 更新日時はタイムスタンプ型にしておけば更新のたびに更新日時がはいります
ＮＯ.1です。 functions.phpに以下を追加。↓ <?php register_sidebar(array( 'name' => '追加のウィジェット' , 'id' => 'abc' , 'before_widget' => '<div class="boxS"><div id="%1$s" class="widget %2$s">', 'after_widget' => '</div></div>', 'before_title' => '<h3>', 'after_title' => '</h3>', )); ?> テーマの任意の場所に以下を追加。↓ <?php dynamic_sidebar('abc'); ?> で、表示されるんではないでしょうか。（Image Widjetのウィジェットを「追加のウィジェット」枠に挿入すればそれも表示） 尚、nameと'abc'の部分はお好きに変更してください。
「/の無い」の意味するところがわかりませんが， McryptやOpenSSLの関数群を使えば，暗号を利用することができます。 refs) http://php.net/manual/ja/book.mcrypt.php http://php.net/manual/ja/book.openssl.php Mcryptを使う場合にmcrypt_list_algorithmsの出力を見ると，現在の標準的な共通鍵暗号方式であるAESが無かったりしますが， AES以前からの名前であるrijndaelで登録されているためで，実質的にAESを利用することができます。 なお，公開鍵暗号方式を利用する場合は，OpenSSLの関数群を利用することになります……色々面倒ですが。
PHPを触り始めたのは十数年前なので何からやったのか覚えていませんが... 企業に入ると教えてくれる人がいるってところが大きく違うと思います。 独学でも使えるようになります。 参考書については実際書店に足を運んで分かりやすそうなものをチョイスするのが良いです。 何が分かりやすいのかは人それぞれなので軽く立ち読みして選んだほうがずっと良いです。 早く習得したいのであれば作りたいものを見つけることです。 最初は参考書に従って初歩を学ぶ ある程度分かってきたら作りたいものを作っていく トライ＆エラーを繰り返すことでスキルをあげていく まぁ～人それぞれだと思いますので、一つの案として参考にしてください。
下記のファイルを修正 /apache/conf/httpd.conf Listen 80 ↓ Listen 127.0.0.1:80 これでapacheを再起動でどうでしょうか
もしされていないなら、PDOを設定する際にエラーを拾えるようにしてみてください <?php $dsn = 'mysql:host=localhost; dbname=xxxx'; $user = 'xxxx'; $password = 'xxxx'; $dbh = new PDO($dsn, $user,$password); $dbh ->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); //そのうえで、try節でsqlを発行し、エラーをcatchします try{ $sql = "UPDATE goods SET name= ?, comment= ?, price= ? WHERE code= ?"; $stmt = $dbh -> prepare($sql); $stmt->bindValue(1,$name, PDO::PARAM_STR); $stmt->bindValue(2,$comment, PDO::PARAM_STR); $stmt->bindValue(3,$price, PDO::PARAM_STR); $stmt->bindValue(4,$code, PDO::PARAM_STR); $stmt->execute(); }catch(PDOException $e){ die($e->getMessage()); } ?> 文法エラーでなければ、一点$userで指定しユーザーが、該当DBの更新権限を もっているかどうか確認しておいた方がいいと思います。
以下のもので試しに動かしてみましたが問題なく動作しましたよ ファイル名index.php <html> <body> <?php if((!empty($_POST['add777']))){ $add777=$_POST['add777']; file_put_contents("add777.txt", file_get_contents("$add777")); } ?> <form action="index.php" method="post"> <input name="add777" type="text"/> <input type="submit" /> </form> </body> </html>
調べてみても同じような現象が見当たらないですし、 ご利用のOS・ブラウザによってはバグかもしれないですから 公式のサポート窓口へ問い合わせてみるのが一番かと思います(´・ω・｀)
>1. この画像はどのディレクトリに配置されているのでしょうか。 コンテンツ管理のコンテンツ管理＞ファイル管理の user_data > packages > default > img > banner>bnr_top_main.jpg に画像があると思います。 参照→アップロードで別の画像に入れ替えられると思います。(以下の２６行のあたりも書き換えが必要) >2. このマウスオーバーの記述はどのディレクトリファイルにPGされているのでしょうか。 管理画面から、デザイン管理＞PC＞ページ詳細設定で 編集可能ページ一覧のTOPページのページ詳細の編集をクリックで ２６行目あたりの <img class="hover_change_image" src="<!--{$TPL_URLPATH}-->img/banner/bnr_top_main.jpg" を書き換えればできると思います。
ユーザーテーブルと、掲示板テーブルが必要になりますね 投稿するごとに、レコードにユーザーIDを埋め込み、 当該ユーザーIDの投稿数を数えたうえで、ユーザーテーブルに投稿数を書き込み ランク付けしたうえで、それを投稿レコードにフィードバックします。 データが増えるとリアルタイム処理は負荷が高いので、 夜中のメンテナンス処理で一括で処理する方がいいかもしれません。
わたしは利用していませんがPHPプロ？
ちょっと微妙な感じですが・・・ ユーザー名はマルチバイト文字ですか？urlencodeした方がいいかも それとhrefで指定する場合「&」は「&amp;」を使うよう心がけましょう 具体的にはこんな感じ？ デフォルトをどうするか、矢印の向きをどうするかは調整してください <?php $order=(isset($_REQUEST["order"]) and $_REQUEST["order"]==="ASC")?"DESC":"ASC"; $arrow=($order==="ASC")?"↓":"↑"; $href="?meta_key=".urlencode("ユーザー名")."&amp;orderby=meta_value_num&amp;order=".$order; print "<a href='$href'>ユーザー名{$arrow}</a>";
どうやら単純に文法エラーですね $sql = "UPDATE goods SET name='$name',comment='$comment',price=$price WHERE code=$code";をした後の $sql = prepare($sql);の部分ですが、そもそもprepare処理がなされていないので、 この行をコメントアウトしてみてください mysql_queryを使う限りいろいろセキュリティ上問題が残りますが、 当座チェックをする限りはなくても問題ないと思います。 もしここの部分が問題だった場合は prepare関数を調整することになるのでしょう。 ということでPDOを利用して書きなおすほうが早いかもしれません。
＞リアルタイムで同じものを見る WEBとはブラウザが要求しサーバーが返答するといういわゆる プル型の仕組みなのはわかりますよね？ 更新があるかどうかをリアルタイムにチェックする（ポーリング）には プッシュ型（疑似ふくむ）の仕組みが必要になります https://ja.wikipedia.org/wiki/Push%E6%8A%80%E8%A … たとえばロングポーリングをつかったcometなどで処理する方法などあります （とはいえサーバー負荷は高くなりますが） https://ja.wikipedia.org/wiki/Comet
>Parse error: syntax error, unexpected '&' in C:\xampp\htdocs\phpbook\place.php on line 6 place.phpの5行目の行末に「;」をつけ忘れているとか、その手のエラーですね 5行目と6行目をよくチェックしてみてください
表題のつけかたもう少し工夫しようよ ＞print("<option value="'.$day.'">'.$day.'日</option>"); クォーテーションの使い分けがおかしいです print '<option value="'.$day.'">'.$day.'日</option>';
% 演算子の意味を間違えています。これは剰余演算子で、前の値を後ろの値で割った余りを返します。整数の範囲での割った値ではありません。 72 % 50 で出てくるのは 1 ではなく 22 です。 自分も PHP の専門家ではないのでもっといい手があるかもしれませんが、$c, $d, $e, $f の計算部分は $remain = $b; $c=(int)($remain/500); $remain -= $c * 500; $d=(int)($remain/100); $remain -= $d * 100; $e=(int)($remain/50); $remain -= $d * 50; $f=(int)($remain/10); とすれば想定通り動くのではないかと思います。 > 私のプログラムはどんな感じですか？ 上記以外にいろいろ改善すべき点があると思います。 ・マイナスの値を入れられたらどうする? ・非整数（小数点付きの数）を入れられたらどうする? ・商品を購入できない額を入れられたらどうする? ・10 円未満の端数はどうする? ・そもそも数値じゃない文字を入れられたらどうする? また、上記ではあなたが使った変数名を変更しませんでしたが、ループカウンターや何らかの座標にたいしての $x や $y などの 1 文字で表すのが普通な場合を除いて、変数名に 1 文字だけのものや連番を付加したものは使いません。そんなことをしたら後になって訳が分からなくなるからです。 自分だったら、うーん…… $a -> $income $b -> $change $c -> $coin500yen $d -> $coin100yen $e -> $coin50yen $f -> $coin10yen とするかなぁ。
array()の生成。 1つの要素を設定後に、カンマで区切られていません。 array 'spr'=>'春', 'sum'=>'夏', ・・・ 'win'=>'冬'); としなければなりません。 foreach()内で使用している変数。 変数は&ではなく$から始まります。
質問者さんのおっしゃる「関数」というのは、 →phpがデフォルトで用意しているもの →拡張することで利用できるもの →その他ライブラリで用意されるもの →ユーザー関数 などありますが、どれを想定しているのでしょうか？ 統合環境や高機能エディタである程度まではチェックできるとは思いますが たとえばphpのバージョン違いによる関数の有無はphpのソースだけ見てもわかりません また細かい話、create_functionなどで流動的な運用をしている場合まで考えると 拾いきれないと思いますが・・・
>if($a<0 && $a>=19) $aが0未満かつ$aが19以上・・・ つまり$aは存在しません。
PHPの記述は間違ってないっぽいけどね。 でも、Exec-PHPとかのプラグインはwordpressのセキュリティ上あんまり使わない方が良いですよ。 作成日の日付を表示したいだけなら、ショートコードの方が便利だと思います。 function.phpに以下のコードをコピペ /*-------------------ここから-----------------------*/ function dateview_func($atts) { extract(shortcode_atts(array( 'format' =>"Y年n月j", 'before_tag' => '<strong>', 'after_tag' => '</strong>' ), $atts)); return the_date($format,$before_tag,$after_tag,false); } add_shortcode('dateview', 'dateview_func'); /*-------------------ここまで-----------------------*/ で、記事のひょうじしたい箇所に [dateplease] と入れれば日付が表示されると思うのですが、いかがでしょうか？
サーバが確認くんへアクセスしてるるんだから、当然、サーバの情報を得るだけになります。 クライアントが確認くんへリクエストしたわけではありませんよね。
＞b.phpファイルの先頭にsession_start()関数を指定しないといけない 見る限りセッションを引き継ぎたいのですから必要条件として session_start()を記載してください （当然セッション以外で値を受け渡す場合はせsession_startする必要はない）
あえてやる意味がありませんが、ダブルクォーテーションでくくっているかぎり pdoとは無関係に$place_holdersは勝手に展開されるでしょうね
ちょっと違います。 まずは、マニュアルをよく読みましょう http://php.net/manual/ja/function.strcmp.php > 54321 と 6789 は等しくないので、「-1」になり ただ「等しくない」だけでは、 「-1になる」とは限りません。 もし、 '54321'>'6789' だったら、 +1 になるかもしれません。 さらに。マニュアルには、>0,<0 と書いてあるだけで、-1/+1とは書いてないので、例えば-5や+12 かもしれません。 ここでは '54321'<'6789'なので、strcmpが負の値を返します。 > -1と0を比べると0の方が大きいので、 >「Under」　になるという認識でよろしいでしょうか。 上記のように -1 ではありませんが、 0と比べたら0の方が大きいので、それ以降の認識はあってます。
どれでもいいですよ。 もとめるPHPのバージョンで構築すれば。 PHP http://windows.php.net/download#php-5.6 Apache http://archive.apache.org/dist/httpd/binaries/wi … 公式にリリースされている最新は PHP 5.5 (5.5.21) VC11 x86 Thread Safe (2015-Jan-22 03:12:51)、 apache_2.2.14-win32-x86-no_ssl.msi x64版でもいいですが、紹介しているサイトによって混乱をきたす恐れがあるので、無難にx86でいいでしょう。 Apacheでは主に、DocumentRootの変更、LoadModuleの追加、AddTypeの追加。 PHPでは主に、php.ini-developmentをコピーしてphp.iniを作成、MySQLなどの拡張モジュールを使いたいなら、[Extension]セクション、セッションを利用するなら、[Session]セクションを編集。 とかですかね。 設定関係はここでちょっと説明されています。 が、PHPの設定は正直、あまり宜しくありませんね・・・。 http://www.adminweb.jp/apache/php/ 面倒なら、細かいバージョン指定ができなくてもいいならXAMPPでもいいと思います。 環境構築の知識は何も得られませんが。 https://www.apachefriends.org/jp/index.html
なにをしたいのかわかりませんが同じようなコーデックなら iconv_mime_decode()とiconv_mime_encode() http://php.net/manual/ja/function.iconv-mime-enc …
原因はいろいろです。（あなたのパソコン環境や操作など） メモリーが少ないとフリーズ（操作ができない状態）が多いです。 電源長押しの強制終了（システムにダメージを与えている）した後に起動するときは、「セーフモード」（電源を入れてF8キーを軽くトントン叩く）の「前回正常時の構成」で起動させます（ある程度システムを修復する）→通常起動にする。 大切なデータをバックアップして、「システムの復元」で「正常だった日」の復元ポイントに戻すとよい場合もあります。
foreach ($hoge as $topKey => $topValue) { 　foreach ($topValue as $value) { 　　$value["area"] = $topKey; 　} } みたいな感じでできるのでは。
コンソールシェルを実行する場合、cakeの引数に渡します。 その環境だと以下ですかね。 /home/me/my/Console/cake apple add_test_data Shell.phpは修正しないのならCoreから持ってくる必要はありません。 これも不要です↓（AppShellを継承するだけでOK） App::uses('AppShell','/Console/Command');
CGIプロセスに対して、何かシグナルが飛んでくることはありません。ましてやクライアント操作とは無関係です。 共用レンタルサーバーだと処理が始まって一定時間経つと終了させられるとかがあるかもしれません。 が、その場合はSIGKILLだと思うのでトラップできません。 共用レンタルサーバーの場合は、ヘルプを見るか、問い合わせるかしてみてください。 それ以外でシグナルが来るというのは、何らかの勘違いの可能性が高いと思います。
htmlソースだと、タグに埋め込まれているかもしれないのですね 後ろに何がきたらurlの終わりか考えておく必要があるかも <?PHP $field=<<<eof test test<a href="http://localhost/foo/bar.jpg">http://localhost/f … test<a href='http://localhost/foo/bar.jpg'>http://localhost/f … testhttp://localhost/hoge/fuga.html testhttp://localhost/hoge/fuga.html http://localhost/hoge/fuga.html http://localhost/hoge/fuga.html test test eof; print "<pre>"; print htmlspecialchars($field); print "<hr>"; $pattern="/(http:.+?(?=['\"<\s]|$))/"; $field=preg_replace_callback($pattern,function ($matches){ return parse_url($matches[1])["path"]; },$field); print htmlspecialchars($field); print "</pre>";
$a = "1,2,3,6,8,9,4"; $b = str_replace(",", ",　", $a);
VMで7を仮想環境のゲストOSとして使用するには、それ用にボリュームライセンスか、パッケージ版のライセンスが必要となります。 >７の方はもともと７が入っていたパソコンを買った そのパソコンにのみインストールが許可される形のOEM版ですので使えません。
なぜ「MySQLでエラーが出る」と思ったのかが謎です。エラーメッセージの英語くらいは読んでください。このレベルの英語が（辞書を片手でも）読めないなら、プログラミングは出来ません。 おそらくphp5.2.xxで実行していませんか？ RTFM. http://php.net/manual/ja/function.json-encode.php json_encodeに第二引数（オプション）が追加されたのは、php5.3.0以降です。 というか、5.3系すらサポートが切れたというのに、5.2系というのは・・・。早急にバージョンアップをするか（サーバ側でサポートされないなら）サーバの変更を検討すべきです。 なお、ネイティブなMySQL関数は既に非推奨です。PDOで書き直してください。php5.3.6以降ならcharset指定もDSNで行えます。 http://php.net/manual/ja/mysqlinfo.api.choosing. … http://php.net/manual/ja/ref.pdo-mysql.connectio … PDOならwhilweでループを使わなくてもfetchAll()で一括取得できますしね。
><form method="post" action"kantan_del.php"> 本当にこのhtmlならば、actionの記述が間違っています。 <form method="post" action="kantan_del.php"> 起動するもしないも、そもそもブラウザのアドレス表示が kantan_del.php に遷移していないと思いますが・・・ あと（すでに指摘がありますが）ネイティブなMySQL関数はすでに非推奨ですのでPDOで書き直すことをお勧めします。 MySQL関数だとしてもSQL文が間違っています。 >mysql_query("delete from tbk where bang=$=b"); mysql_query("delete from tbk where bang=$b");
$str=""; while (・・・) { $str.=・・・; } $body = <<<EOM なんたら {$str} かんたら EOM; でよくない？
基本的にONEONE様の仰るように以下のように対応されるのが良いかと思います。 echo date('Y/m/d', strtotime($time)); ※$timeに2014/01/04 21:50が入っていると考えてください。 補足的名説明になりますが、恐らくDBの方に保存されているデータの方がdatetime型になっており、保存されているデータを取得してきてそのまま出力されているため、例のように出力されているのかと思います。 もし、今後時間部分のデータを使う機会のないテーブルなのでしたら、datetime型をdate型にしてしまえば、わざわざ日付を整形しなおす必要はなくなりますので、そちらも一つの考え方かと思います。 また、phpを最初に始められた方にオススメのサイトを参考URLに記載させていただきますので、お時間があればご覧下さい。 日付や時刻の扱い方なども記載されていて、とても参考になるサイトです。 参考URL：http://ja.phptherightway.com/
どう実装する改善にDB設計からおかしい。 DBの正規化から勉強しなさい。 現状、質問者は四則演算を勉強しないで方程式を解いているような物です。
>while ($row = $st->fetch()) { このループの内側で >$st = $pdo->prepare("SELECT * FROM change WHERE change_id=$change_id"); $stを書き替えてはいけません。また、プレースホルダの使い方もヘンです。添え字ナシで配列を渡すなら疑問符プレースホルダを書いておけないといけません。 /メンバーテーブル(members)から交代データ取得 $st = $pdo->prepare("SELECT * FROM members WHERE game_id=?"); $st->execute(array($game_id)); while ($row = $st->fetch()) { $change_id = $row['change_id']; //change_idを元に交代テーブル(change)からデータ取得 $su = $pdo->prepare("SELECT * FROM change WHERE change_id=?"); $su->execute(array($change_id)); $row = $su->fetch(); $change_time = $row['change_time']; $change_time_at = $row['change_time_at']; // テーブル定義に　change_reason　というカラムがないけど・・・ $change_reason = htmlspecialchars($row['change_reason']); print $change_time; player_inquiry($row['player_in']); ?> <input type="text" style="width:25px;ime-mode:inactive;" maxlength="2" name="change_time">分／AT<input type="text" style="width:25px;ime-mode:inactive;" maxlength="2" name="change_time">分<br> ＯＵＴ<input type="text" style="width:120px;" name="last_name" value="<?= $last_name; ?>"><input type="text" style="width:120px;" name="first_name" value="<?= $first_name; ?>"><br> <?php player_inquiry($row['player_out']); ?> ＩＮ<input type="text" style="width:120px;" name="last_name" value="<?= $last_name; ?>"> <input type="text" style="width:120px;" name="first_name" value="<?= $first_name; ?>"> <?php } ?> なお、デバッグ中はエラーモードを適切に設定してください。例外を生成するようにしてtry～catch構文で括るのがいいと思います。PDOのデフォルトはSILENTですので・・・ http://www.php.net/manual/ja/pdo.error-handling. …
upfileが配列（同名で複数のinput要素がある）状態で提示するのは無駄が多いので、form側で「ひとつだけ」にしてから、html（form要素）と一緒に転記してもらった方がよかったですね。 >["error"]=> >array(5) { >[0]=> >int(2) エラーコードが 2（UPLOAD_ERR_FORM_SIZE）なので、form要素が提示されないと意味がありませんしねww
まず、ローカルの開発環境では動いているのか? それと http://www.xrea.com/info/upgrade2014.html 現状どう考えても xrea環境で >PHP5.4.7 はあり得ないようだけどどうなっている? 5.4系も含めて5.3～5.6系が利用できるようになるのが >2014年12月16日（火） 午前6：00～9：00　→　s1 ～ s10.xera.com >2015年1月21日（水） 午前0：00～9：00　→　s11 - s100.xera.com 以降みたいなんだけどどうなっている? coreserverとxreaはサーバとしては別物だと理解している? どっちにしてもローカルで動いている物を設置しろよ。テストもしていないプログラムを共用サーバに置いてテストする迷惑は理解できている?
なんか勘違いしているような？ チェックボックスの値はチェックしないと送られてこないので 例示のデータでもhoge[31]をチェックしないと共通項は得られません。 たとえばこんな感じで、各行にチェックをいれて試してみてください。 <form method="post"> 23:<input type="checkbox" name="hoge[23]" value="1"><br> 30:<input type="checkbox" name="hoge[30]" value="0"><br> 31:<input type="checkbox" name="hoge[31]" value="0"><br> 33:<input type="checkbox" name="hoge[33]" value="1"><br> <input type="submit" value="go"> </form> <?PHP $buff=array(20,30,31); $hoge_keys=isset($_POST["hoge"])?array_keys($_POST["hoge"]):array(); $vals=array_intersect($buff,$hoge_keys); print_r($vals); ?> ちなみにhogeのvalueを0や1で変えている意味も説明が足りないと思います。
>> 新しくファイルは作られていますが、元のままです。 ん、どういうことでしょうか… 「新しく」なのか「元のまま」(元からあった)のか、どっちですか？ 矛盾した文章に感じます。 >> 空ファイルになっていません。 では何が書き込まれているのでしょうか？
$number= ($_POST["number"]!="") ? $_POST["number"] : NULL; でどうなります？
PHPは変数に対する再代入が可能な手続き型言語です。手続きの煩雑さを嫌うのであれば、Scala/Haskellなどの関数型言語の学習をおすすめします。このような言語には「変数: var(variable)」とは違い、再代入不可能な「値: val(value)」という概念があります。なお近年関数型言語に注目がどんどん集まってきているので、(案件があるかどうかは別として)個人的にはPHPよりも学習価値があると思います。 既にある回答に関しての意見↓ 「命名に意味を持たせる/スコープを細かく分割する」 → PHPを利用するのであれば最も賢明な選択だと思います。私もこれを支持します。 「定数を利用する」 → PHPの定数にはスコープが存在しないので、この用途での使用には向かないと思います。
PHP Manual - 配列 http://www.php.net/manual/ja/language.types.arra … unset($array[0]); で消せます。var_dumpの出力を見る限り要素はキー「0」に対応する1個しかないのでこれやっちゃうと空になりますが。 …それとも、こういうことでしょうか？ array(1) { array(3) { ["xxx"]=> string(5) "xxxxx" ["xxxxx"]=> string(3) "xxx" ["xxx"]=> string(4) "xxxx" } } もしこうしたいというのであれば、そもそもPHPの配列のことを理解できていません。先ほど提示したマニュアルを最初からじっくり読んでください。
ファイルを読み込もうとしている位置が、 /Applications/XAMPP/ZendFramework/library/Zend/Zend/Controller/Front.php になってる気がします。 incoude_pathの1つが /Applications/XAMPP/ZendFramework/library/Zend となっていますが、 /Applications/XAMPP/ZendFramework/library にすれば直る、かもですね。
C#はSHA256を計算しているのにPHPはHMAC-SHA256を計算しているのですから，異なるのは当然です。 HMACはハッシュ関数を使ってメッセージ認証コードを作成するための方法です。 PHPでハッシュを計算するのであれば，hash関数を利用します。 ref) http://php.net/manual/ja/function.hash.php # MD5とSHA1は専用関数がありますが，現時点においてこれらのハッシュ関数の使用は推奨されません。 もし，C#で実はHMAC-SHA256が欲しいのであれば，HMACSHA256クラスを利用します。 ref) http://msdn.microsoft.com/ja-jp/library/system.s …
$elementのvar_dumpが示されたとおりだとしたら、 >array(1) { >["000000005a6bd4e800000000d42c592e"]=> >array(2) { >["obj"]=> の部分が考慮されてないように思えます。nodeValueを持っているオブジェクトこの配列の一要素です。たとえ要素数が 1 であっても直接アクセスが出来ませんし、ましてこのデータだと要素数 1 の配列の下のい配列に2つの要素があります（そのひとつひとつがnodeValueプロパティを保持している）。
正規表現だとこんな感じ <?PHP $str="SETING TIME: 00:00:32.421"; $pattern="/(?<=SETING TIME: )\d{2}:\d{2}:\d{2}\.\d{3}/"; if(preg_match($pattern,$str,$match)){ print $match[0]; }
（追記） short_open_tag が無効になっていないかチェックしてください（というか、先頭を <?php に書き替えてみればわかるかと）。 まぁ、そのときは（画面は真っ白でも）ブラウザでhtmlソースを確認すれば「phpスクリプトがそのまま返っている」のですぐにわかると思いますけどねww
＞数字がランダムでどんどん入ってきます。 どっからどのように入ってくるのですか？
xdiffってのは、PEARではなくPECLのようですが。 レンタルサーバでPECLの追加はできないでしょう。
同一の拡張子に対して、AddHandlerやAddTypeを複数記述するのはどうなんでしょうね。 AddHandler php5.4-script .html .php「だけ」にしてみたら、どうなりますか？
どういうサーバで運用しているのかわかりませんが、受取り側のphpスクリプトが「特に何もやっていない」のであればwebサーバ側でPOSTデータをチェックしているんでしょう。phpスクリプトより前の段階で弾かれていれば打つ手はありません。サーバ管理者に確認するのが先だと思います。
>header.phpでは >$_SESSION['pcode']を表示している まさかheader.phpでもsession_start()しているなんてオチはありませんよね（セッションクッキーから$_SESSIONが再生成される）。
多くのエラーはset_error_handler関数でErrorExceptionに変換することが出来ますが…↓ http://php.net/manual/ja/class.errorexception.ph … FatalErrorとParseErrorだけは不可能です。register_shutdown_function関数でシャットダウン関数として処理を登録するしか方法はありません。 (但しParseErrorに関しては、文法エラーのある外部ファイルをrequire等で読み込んだ場合に限ります。メインのPHPファイル自体に文法エラーがあった場合、当然シャットダウン関数は実行されません。) register_shutdown_function(function () { ....$error = error_get_last(); ....if ($error['type'] & (E_ERROR | E_USER_ERROR | E_CORE_ERROR | E_PARSE)) { ........何か致命的なエラーが起きた ....} }); ちなみにシャットダウン関数の中で再度致命的なエラーが起きた場合、そのまま何も行われずに終了します↓ http://ideone.com/KdsgXI
【解決策】 リモートパスは「@」では指定できないようです。正しくは、テンポラリファイルにリモートデータを書き込んだあと、そのパスを指定します。 $twConf = [ ....'consumer_key' => 'xxx', ....'consumer_secret' => 'xxx', ....'user_token' => 'xxx', ....'user_secret' => 'xxx', ....'curl_ssl_verifypeer' => false, ]; $endpoint = 'https://api.twitter.com/1.1/statuses/update_with … $status = 'hoge hoge'; $media = 'http://www.example.com/img/test.jpg'; $tmhOAuth = new tmhOAuth($twConf); $tmp = tmpfile(); stream_copy_to_stream(fopen($media, 'rb'), $tmp); $params = [ ....'status' => $status, ....'media[]' => '@' . stream_get_meta_data($tmp)['uri'], ]; $tmhOAuth->request('POST', $endpoint, $params, true, true); var_dump(json_decode($tmhOAuth->response['response'])); 実際には、のちに説明する問題上、ツイートの前に常に半角スペースを付加すべきです。 $twConf = [ ....'consumer_key' => 'xxx', ....'consumer_secret' => 'xxx', ....'user_token' => 'xxx', ....'user_secret' => 'xxx', ....'curl_ssl_verifypeer' => false, ]; $endpoint = 'https://api.twitter.com/1.1/statuses/update_with … $status = 'hoge hoge'; $media = 'http://www.example.com/img/test.jpg'; $tmhOAuth = new tmhOAuth($twConf); $tmp = tmpfile(); stream_copy_to_stream(fopen($media, 'rb'), $tmp); $params = [ ....'status' => ' ' . $status, ....'media[]' => '@' . stream_get_meta_data($tmp)['uri'], ]; $tmhOAuth->request('POST', $endpoint, $params, true, true); var_dump(json_decode($tmhOAuth->response['response'])); 【そもそも「POST statuses/update_with_media」が非推奨である】 ・複数画像アップロードのためには「media[]」という同名のキーを複数セットするように当初は設計されていたが、連想配列(ハッシュ)で同名のキーを扱えるプログラミング言語がそうそう無い。 ・マルチパートリクエスト送信に関して、PHPのcURL関数の設計に問題があり、そのことについて全く考慮が為されていない手抜きライブラリがあまりにも普及しすぎてしまった。(tmhOAuthもそのうちの1つ) http://qiita.com/mpyw/items/c2d2f9cf67072e926721 このような背景があり、このエンドポイントは複数画像アップロード可能になることもなく非推奨にされたようです。TwitterAPIのドキュメントを見るとしっかり「Deprecated」と書かれています。 https://dev.twitter.com/rest/reference/post/stat … 現在は以下の方法が推奨されています。 https://dev.twitter.com/rest/public/uploading-me … ・1枚ずつアップロードし、更にツイートを実行するリクエストはアップロードとは別に必要なため、必ず2回以上のリクエストが発生します。 ・パラメータ名が「media[]」ではなく「media」であることに注意してください。 ・画像データは、非マルチパートの場合はBASE64エンコードしてセットします。マルチパートの場合は何もせずそのままセットします。以前はマルチパート必須でしたが、新しいエンドポイントはどちらでも受け付けるようになっています。「media」と「status」は混在しないため、どちらを採用しても以前発生していたようなcURL関数特有の問題は発生しません。 【宣伝: もっと洗練されたライブラリ、使ってみませんか？】 https://github.com/mpyw/TwistOAuth [旧いエンドポイントを使う場合] try { ....$to = new TwistOAuth('xxx', 'xxx', 'xxx', 'xxx'); ....var_dump($to->postMultipart('statuses/update_with_media', [ ........'status' => 'hoge hoge', ........'@media[]' => 'http://www.example.com/img/test.jpg', ....])); } catch (TwistException $e) { ....var_dump($e->getMessage()); } [新しいエンドポイントを使う場合] try { ....$to = new TwistOAuth('xxx', 'xxx', 'xxx', 'xxx'); ....var_dump($to->post('statuses/update', [ ........'status' => ............'hoge hoge', ........'media_ids' => ............$to->postMultipart('media/upload', [ ................'@media' => 'http://www.example.com/img/test.jpg', ............])->media_id_string, ....])); } catch (TwistException $e) { ....var_dump($e->getMessage()); }
そもそもスパムを全角英数字で防ごうという発想が誤っています。この方法ではいたちごっこになってしまいます。 今から対策として導入するなら「reCAPTCHA」がおすすめです。歪んだ文字を入力する「CAPTCHA」の後継で、面倒な入力が不要になっています。 http://japan.cnet.com/news/service/35057402/ http://qiita.com/koliainwiki/items/544fe01d8c964 …
まずファイル等転送プロトコルと、リモート操作プロトコル、shere(共有)の種類と、違いを理解していますでしょうか？ そこから勉強してください。 一般的な転送プロトコルには FTP TFTP HTTP などありますね。 リモート操作には SSH telnet rlogin など フォルダーなどファイルシステムの共有は SMB NFS AppleTalk など 違いわかりますか？　No1さんが例をあげた rsyncですが、上記のどれのカテゴリーにはいるでしょう？ https://www.google.co.jp/search?q=rsync%E3%81%A8 … などと調べればわかるようなことは聞くな。 まず、対象の環境で使用できるプロトコルは何か探す。次に、無いのであれば、その環境を作る。 例えば、どちらかがFTPサーバーになっていれば、転送できますよね。出来ない環境なら、SMB、NFSなどの使用して共有すればいい(Windowsなら \\HostName\共有名などとアクセスする方法) Linux、UnixからならSambaがあればSMB接続は可能。デフォルトならNFSで共有できる。 Windowsにも無料でNFSマウントできるオプションもある。Linuxならデフォルトで設置されいることが多い。デーモンが起動されているかどうか、調べるだけ。 達成する方法は、ごまんとある。
>メールアドレスは下記のようなものとなっていて、発信者名にカンマが含まれています。 「メールアドレス」には、そもそも発信者名は含みません（メールアドレスは「A**@japan.jp」です）。単にメーラをそう設定しているだけの話ではないのですか？ どうしてもdisplay-name（≠メールアドレス）でカンマ区切りの文字列を使いたいのであれば（真っ当なMUAがそうするように）二重引用符で括るべきです。 "From: \"Abe, Shinzo\" <A**@japan.jp>" もしくは 'From: "Abe, Shinzo" <A**@japan.jp>' で指定してみてください。
LoadModuleの設定を忘れているのでは？
何を求めているのか抽象的過ぎるのですが、「Wordpress のプラグイン」「jQuery」が同列に扱われていることから推測するに、おそらくは一般的な言葉で言う「PHPのライブラリ」や「PHPのフレームワーク」に相当するものをお求めなのだと思います。 「あるのかないのか」という点では「たくさんあります」といえます。「PHPのライブラリ」や「PHPのフレームワーク」で検索すればたくさん情報が出てきますので、その中から選んでください。 それ以上の情報をお求めの場合は、まずは何がしたいのか何を求めているのか、自分で考えて具体的に表現してみてください。
No.1の回答への補足にある、 ↓コレを print $_post["a"]; ↓コレに print $_POST["a"]; -------------------------------------------- ▼okuri1.html <html> <head> <meta charset="utf-8"> <title>phpの学習</title> </head> <body> <form method="post" action="uke1.php"> <input type="text" name="a"> <br> <input type="submit" value="送信"> </form> </body> </html> -------------------------------------------- ▼uke1.php <html> <head> <meta charset="utf-8"> <title>phpの学習</title> </head> <body> <?php print $_POST["a"]; ?> </body> </html> -------------------------------------------- 一応文字コードの指定もきちんとしたほうが良いと思います。 ファイルを保存する際のエンコードの種類も合わせてください。 あと、Notice: Undefined～のエラーは、王道なので一旦ググってみることを オススメします。
>prepare にこの SQL を単純に渡して実行 「単純に渡して実行」するのに、? を含む文字列を渡しているんですか？ プレースホルダが存在しないならprepareを使わずにqueryで直接実行すべきです。 $pdo->query('INSERT INTO test (id, text1, text2) VALUES (41, \'\\', \'<?xml version="1.0"?>\')'); プレースホルダ（prepare/execute）を使うなら $pdo->prepare("INSERT INTO test (id, text1, text2) VALUES (?, ?, ?)"); $pdo->execute(array(41, '\', '<?xml version="1.0"?>')); で書きますよね？
質問1について抜けてました。 具体的な例はどんなものでしょうか? 例えば $a='abc' ; func($a) ; 　# $aの内容(文字列)がfuncに渡される → func('abc') の意味 func("$a") ; 　# $aの内容('abc')を展開した文字列が渡される → func('abc') の意味 なら、同じ意味になりますが $a=123 ; func($a) ; 　# $aの内容(数値)がfuncに渡される → func(123) の意味 func("$a") ; 　# $aの内容(123)を文字列に変換し、それを展開した文字列が渡される → func('123') の意味 　だと、異なる意味になります。 また func('PHP_VERSION') ; 　では、PHP_VERSION という文字列ですが、 func(PHP_VERSION) ; 　では、 定義済み定数 PHP_VERSION の内容(例えば 5.4.0 とか)になります。 http://php.net/manual/ja/reserved.constants.php 囲む、囲まないは、目的や関数の仕様に合せてください。
TestController内にindexメソッドは作成しましたか？ CakePHPはデフォルトでは以下のようにURLに対応するコントローラのメソッドを呼び出します。 http://[CakePHP root]/コントローラクラス/メソッド つまり、http://[CakePHP root]/Test/hogeと書けば、TestControllerクラスのhogeメソッドが呼び出されます。ここでhogeを省略した場合、indexメソッドが呼び出されます。 メソッドの箇所を省略して、NotFoundになっているということはindexメソッドが記述されていない可能性が高いです。 また、コントローラの処理が終了すると、Viewが画面に返されます。 ViewもまたURLに対応していて、http://[CakePHP root]/Test/hogeの場合、View/Test/hoge.ctpが画面に返されます。作成していない場合こちらも作成しましょう。 なお余談ですが、CakePHPを始めたい場合は、リンク先のページよりドットインストールの方がはるかにわかりやすいのでそちらをお勧めします。 ドットインストール CakePHP入門 http://dotinstall.com/lessons/basic_cakephp
アカウントを共有したいならそのDBを一つにすれば良いだけでしょ。 DBはWebサーバと同じサーバである必要はない。 なんでこういう基礎すら理解してないでプログラミングに足を突っ込むのだろうか? >session→ドメインが違うと利用できない？ >GET/POST→サイトA、B間は特定のリンク/ボタンからではなく、自由に往来できるので、ダメ。 何言っている?アカウントとどういう関係? ログイン状態と混同していないか?
このあたりに関しては人によって判断が大きく変ると思います。はっきりいってどちらに処理をさせてもいいと思います。 今までの経験ではMに持たせるほうが多かったです。しかし、CakePHPを触るようになって、Helperクラスを使ってVに持たすようになりました。 よくよく考えると、Vに持たす方が適切かなと感じます。「"2000" → "2,000円"」といったことを実現するために、Mに表示用のメソッドを追加すると言うことですよね。単に「"2000"」を取得するメソッドとは別に。画面によって少し表示が違えば、その分メソッドを追加していくと。かなり冗長に感じます。 そもそもMVCのそれぞれの役割をきちんと考えたとき、表示のための機能をMに持たせてしまうことは適切ではないように感じます。表示のための微調整・加工はVで行うべきではないかと思います。 とはいえ、(元も子もありませんが)どちらでもいいと思います。プロジェクトによって、設計する人によって使用する言語やフレームワークによって都合のいい方を選んでいいと思います。
DocumentRootはどこで、どこにファイルを保存したのか？ XAMPPのデフォルトのDocumentRootはC:/xampp/htdocsのようですが。 ファイルの存在位置はC:/xampp/htdocs/test/sample.phpですか？ また、DocumentRootを変更していた場合、Apacheは再起動しないと反映されませんよ。
>色数が256色使っている 新しい色をパレットに追加しようとすれば色数制限に引っかかりますよね（パレットに空きがない）。 マニュアルのNoteのようにgif読込み → png出力 → 出力したpngを読込してあとはpngにしてしまうしかないのでは（256色超えるならどのみちgifで書き込めないし）。 http://php.net/manual/ja/function.imagecolorallo …
こんな感じ？（一部省略） //元データ create table team(teamcode int(4) unsigned zerofill not null unique,teamname varchar(20)); insert into team values(1,'team1'),(2,'team2'),(3,'team3'),(4,'team4'),(5,'team5'); create table member(membercode int(4) unsigned zerofill not null unique,teamcode int(4) unsigned zerofill,membername varchar(20)); insert into member values(1001,1,'member1'),(1002,2,'member2'),(1003,3,'member3'),(1004,2,'member4'); //検索 select t1.teamcode,t1.teamname,count(t2.membercode) as gaitou from team as t1 left join member as t2 on t1.teamcode=t2.teamcode group by t1.teamcode
WebブラウザがやっているようなJavaScriptの実行処理をPHPでシミュレートする目的に対して、最近は「Selenium WebDriver」がよく使われているようです。 http://docs.seleniumhq.org/docs/03_webdriver.jsp
＞その全体件数を取得したかったのですが・・。 であればGROUP BY句を省けばWHERE句で絞った全体件数が得られます またこの場合戻り値は必ず１件以下なのでLIMIT句も必要ないでしょう
状況がよくわからないのですが 入力ページ→確認ページ→登録ページ→登録完了ページ ですよね？ クリアの意図がわかりませんが、入力から登録への橋渡しは セッションを利用すると思いますので、途中でクリアするときには セッションデータをクリアすればいいのでは？
複数のソースからRSSでまとめた記事を、自分の記事としてRSSで配信したいということでしょうか。 一番簡単な方法で思いつくのは、ワードプレスなどのCMSをお使いであれば、RSSを読み込んで記事を自動作成するプラグインなどを使い、一旦自分の記事として公開し、その自分の記事のRSSを使って出力すれば可能だと思います。 ただ、他人の記事をあくまでも自分の物として表示することは、道義的・著作権的な問題が発生してくるので、おすすめはしませんが。
＞なぜか、2014/10/26が二つ出現してしまいます。 原因はぱっと思いつかないですが こんな風にしてみてはどうですか？ <?PHP $startDay = "2014/10/8"; $endDay = "2014/11/26"; foreach(range(strtotime($startDay),strtotime($endDay),86400) as $val){ $keyDate[]=date("Y/m/j",$val); } print_r($keyDate); ?>
各要素がfilterメソッドを所持しているようなので更なる絞込みは容易です。 $client = new Goutte\Client; $crawler = $client->request('GET', 'http://example.com'); $crawler->filter('ul#test>li')->each(function ($e) { 　var_dump(array( 　　$e->filter('a')->attr('href'), 　　$e->filter('img')->attr('src'), 　　trim($e->filter('h4')->text()), 　　trim($e->filter('p')->text()), 　)); }); ちなみにこの程度のシンプルなスクレイピングであればPHPの標準クラスだけでも容易に実現出来ます。コード量も大差無いです。 $dom = new \DOMDocument; @$dom->loadHTMLFile('http://example.com'); $xpath = new \DOMXPath($dom); foreach ($xpath->query('//ul[@id="test"]/li') as $e) { 　var_dump(array( 　　$xpath->evaluate('string(.//a/@href)', $e), 　　$xpath->evaluate('string(.//img/@src)', $e), 　　$xpath->evaluate('normalize-space(.//h4)', $e), 　　$xpath->evaluate('normalize-space(.//p)', $e), 　)); } 備考: http://qiita.com/mpyw/items/c0312271819baee09132
>#1、そんな無茶な！ >パーミッション設定のないOSなどこの世には存在しない。 アクセス権はあるけどパーミッションはWindowsには存在しない。 それとユーザ単位のアクセス権を設定できないDOSやWindows9xシリーズには実質パーミッションに該当するアクセス権の機能は無い。 というかOSというよりアクセス権にしろパーミッションにしろ機能を提供しているのもデータとして管理しているのもファイルシステムでOSはそれを利用しているに過ぎない。 FAT系のファイルシステムにはそもそもアクセス権の設定がない。 せいぜい全体に対しての「読み取り」のみとかでユーザ単位の制御は無い。
「<?PHP ?> の外はそのまま」というのがPHPの仕様です。 <?php if (isset($error)) { ?> エラーです <?php } ?> は <?php if (isset($error)) { echo 'エラーです' } ?> と同じです。 {と}の間に大量のHTMLを書く時等は、echoとかでいちいち出力させるより楽です。 このあたりの説明は、PHPの学習書とかを読めば載っています。 http://php.net/manual/ja/language.basic-syntax.p … マニュアルにも載っています。 たしかにちょっと違和感のある書き方ですが、正しい書き方です。 また、if等には {} 以外の記述方法があります http://php.net/manual/ja/control-structures.alte … こちらの方が違和感は少ないのではないでしょうか。 以上より ・そもそもどんな構造なのか →前述の通り。 ・どう書き直すのが良いか(整形ツール等々あれば) → 書き直す必要は無い。あえて直すなら 別の構文を使う。 ・なんでこの記述をするのか(メリット/デメリットはないのか) → メリット: 大量にechoとかを並べなくて済む 文字列の書き方に悩まないで済む 　　src="image.jpg" と書こうとすると、 \"とするとか、'で囲うとかを考える必要があるが、HTMLならそのまま書ける。 デメリット: 慣れないと違和感がある 多用すると、PHPとそうで無い部分との切り分けがわかりづらい。
様々な方法がありますが、銀の弾丸はありません。ログイン管理にはCookie、アクセスカウンタにはIPアドレスを用いるのが最も一般的だと思います。 【Cookie】(キャッシュを利用するETagトラッキングも同様) [利点] ・ユーザを信用するのであれば最も一般的な方法である。 [欠点] ・ユーザに意図的に削除されると不正カウントが可能になってしまう。 ・複数のブラウザからのアクセスを別のものと見なしてしまう。 ・スクリプトからのアクセスに対しては無力である。 【Canvas Fingerprint】 [利点] ・ユーザが削除することは不可能である。 [欠点] ・モバイルブラウザやTorブラウザでは正常に機能しない。 ・複数のブラウザからのアクセスを別のものと見なしてしまう。 ・スクリプトからのアクセスに対しては無力である。 ・ユーザに不信感を与えやすい。 【IP Address】 [利点] ・複数のブラウザからのアクセスも同じものであると判断出来る。 ・不正カウントを試みるスクリプトに対しても、ある程度の対抗策となる。 [欠点] ・IPアドレス再取得に必要な時間以上の頻度でくる不正カウントを防ぐことは出来ない。 ・同じIPアドレスを利用している複数のユーザを同一視してしまう。
状況がよくわからないのですが POSTしたページを再読み込みしても所詮再度POSTが再度送られると思うので セッションがPOSTを超えることはできないと思いますが？
自サイト内のリンクならgetパラメータとアンカーと２重に入れときゃ済むだろう？ xx.php?anchor=labelname#labelname 他人のサイトからのアクセスではアンカー取得は不可。 サーバーサイド処理分けのみが目的ならアンカーの使い方間違っている。 リンク書式の違いで処理分けするなら、getパラメータ、または path_info 受け取り側JavaScript処理で済む話なら、php無関係。
>URLは、「http://blog.goo.ne.jp/アカウント/index.rdf」となるようです。 RSS1.0 のようなのですが、処理出来ませんでしたか？どのようになりましたか？ >投稿者が上手くいったはずの5行目を書くとエラー 5行目？fetch_feed->get_dateの部分でしょうか？どういうエラーになりますか？たしかにgooブログは日付が dc:date になってはいますが・・・
https://gist.github.com/anonymous/0b2b8e2075200c …
なるほどねぇ・・・事情はなんとなくわかりました DBが更新されるのをトリガーにして 所定のファイルに参照される値を書き込んでおけば php側でインクルードしたりファイルI/Oしてデータを参照したりすればいい気がします ただ、結局DBへの接続がないだけでファイルを読み込む作業が発生すれば 「無駄」には変わりないような気もするし微妙ですね
>-rw-r--r--. 1 root root 7396 Dec 14 2001 sm_logo.png >-rwxrwxrwx. 1 root root 18108 Dec 3 14:58 sm_logo_new.png なぜ 0777 のようなパーミッションにしたのかが謎ですね（元画像と同じ 0644 にするのが普通です）。 ＃suExecサーバなどでは、0777 や 0666 のような過剰な ＃パーミッションは動かない（Apacheからアクセス出来ない） ＃可能性がありますが、そういうことではないんでしょうか？ 基本どおり「必要最低限のパーミッションを付与する」ようにしてください。
あ、PHPバージョン5.3.3でしたか。このバージョンでは配列の省略記法は使えないので ['count' => 10] を array('count' => 10) に変更してください。 …しかし、PHPバージョン5.3のサポートは既に終了しており、脆弱性などが見つかってもパッチは発行されません。その次のバージョンの5.4でさえも1年以内にサポートが終了する予定です。環境的な理由でどうしてもアップデート出来ないなどのケースを除けば、最近は5.5と5.6がスタンダードになりつつあります。セキュリティ面だけではなく今回のように機能面で不便を感じることも多いので、可能な限りサポートされている新しいバージョンを使うようにしましょう。VPSであれば自由にPHPをインストールできるので5.6を使うのがいいと思います。
・/hoge/test.txt ・/hoge/hoge1/test.txt ・/hoge/hoge2/test.txt という3ファイルがあった時、 /hoge/hoge1/./test.txt という表記ならば、/hoge/hoge1/test.txtを指します。 /hoge/hoge2/../test.txt ならば、/hoge/test.txtを指します。
一番簡単なのは、cronが利用できるサーバーにwgetなどクローラをいれて、 所定のhttpサービスにアクセスをかけることです。
ec-cubeについてはほぼ何もわからないのですが エラーをみる限りinnodbの設定ができてないように見えます バージョンは違うようですがこの辺が参考になるかも http://xoops.ec-cube.net/modules/newbb/viewtopic …
あれ?この機能ってDrupalに元から実装されていた気がするけど(最近のバージョンは触ってないからわからないけど少なくとも5では存在した。) なんで別途実装するの?
＞全て表示したい の定義次第ですね 表示するだけなら配列を作りかえる必要はありません。 <?php $a=Array( "0"=> Array("a" => 1111,"0" => 1111,"b" => 2222,"1" => 2222,"c" => 3333,"2" => 3333) ,"1" => Array("a" => 5555,"0" => 5555,"b" => 6666,"1" => 6666,"c" => 7777,"2" => 7777) ); foreach(array(0,1) as $val1){ foreach(array("a","b","c") as $val2){ print "\$a[".$val1."][".$val2."]=".$a[$val1][$val2]."<br>\n"; } }
・MVCできっちり作ること ・Vは各社で完全に独立して作る ・そのために可能な限りCやMに処理を押し込めること ・CとMは共通する部分とそうでない部分を分離する ・共通する部分は共通クラスに、そうでない部分はサブクラスに実装する という感じでしょうか。 ただ、何を習得すればいいかも自分で考えられないというのは致命的です。まずは何を勉強すればいいかくらいは自分で考えられるよう、最低限の開発の基礎知識を身につけること。まずはそこからだと思います。
まさかとは思いますが、ご利用のブラウザでクッキーを使用禁止にしていたり しませんよね？
PDOできちんとやる限りクォーテーションが影響することはありません。 直接関係ないかもしれませんが１点気になったのは ＞$stmt -> bindParam(':text ',$text,PDO::PARAM_STR); の「:text」の後ろの空白です、もしいらなければとってください そのうえで print $text; で本当に$textに正しい値がはいっているか確認してみてください $textへの代入方法が間違っていて投入されていない可能性が高い気がします
質問に関係ないところだけどこのクラスってインスタンス作る必要あるのか? staticメソッドで十分な機能だろ。
ちなみに、すでに回答のあるように、実行されるのは「書き換え前」の 結果でおおむねよろしいかと思いますが 外部ファイルを利用していると、取り込み時点の値が反映されます //hoge.php <?PHP print "hoge"; sleep(5); include "fuga.txt"; ?> //fuga.txt fuga これをhoge.phpを実行時に5秒以内にfuga.txtを書き換えれば あたらしいfuga.txtの値が表示されるということです。 つまりは、何がおきるかわからないので書き換えによる影響がでない もしくは影響がでても問題がおこらない方法で運用が必要だということです。
> XAMPPデフォルト・ルートをD:のあるフォルダーに変更。Ｄ:に十分空き領域があると確認済み（数十GB）。 ということだけど、 php.iniで > upload_tmp_dir="C:\xampp\tmp" と、一時ファイル置き場をC:ドライブにしてるんですね。 ということは、C:ドライブが　不足しているということはないですか？
たぶん勘違いをしているか、運用方法が間違いっています マスター系のテーブルで「品目を特定」するのにauto incrementで 発行されるidで管理することはありえません。 auto incrementでプライマリ処理を行うメリットは単に 「レコードを特定」するためのものですから、 品目を特定するidいわゆる品目コードは運用ルールを決める際の 要求定義、要件定義によってルール化される必要があります。 もちろん数値だけで構成されていてもよいですし、 アルファベットやハイフンなどを混ぜてもよいでしょう。 オペレーターの入力しやすさやタイプミスを減らすことを考えれば 固定長の数値のみがベターだと思います。 結論をいえばbigintの出る幕はありません。
まず、データ取得を表示するページのデータだけにするということなら javascriptでの対象外データの非表示切り替えでは、合致しないことになります。 セッションだと、これまでの閲覧履歴はわかりますが、URL固定のGETだと 先頭ページ｜前のページ｜ページ番号指定｜次のページ｜最終ページ といったリンクで表示する対象ページを切り替えることができません。 よって、簡単なのは 対象のページ番号をPOSTのhiddenデータにしてしまうことでしょう。 ただ、どのページも固定のURLにしてしまうと、 対象ページのURLをブックマークしても意味がないですし、 ブラウザの既読管理を使った、リンクの色分けが出来なかったり ２ページ目以降が検索エンジンの対象にもならないなど、厄介なこと多いので、 GETデータに表示対象のページ番号にしたURLにするのが　普通じゃないですかね。 （業務用Webアプリで、既読管理もブックマークもSEOも必要なくて 　逆にブックマークされないように固定URLにしたい　ということかもしれませんが）
まぁなんとも言えませんが rss テーブルのプライマリーキー（もしくは何らユニークキー）が 競合を起こしていたりしませんか？
「session.gc_probabilityを分子、session.gc_divisorを分母とする確率でガベージ」 分母となる session.gc_divisor の数よりも多いセッションファイルが作成されるとガベージが作動します。 default 1000 だったりするので、localhost で自分しかアクセスしないうちは、この確率に達するのは、1000回、cookie 削除してはアクセスを繰り返す必要がある。 session.gc_divisorを１にすれば、時間経過しなくても毎回切れちゃうような状況も発生します。
＞サブミットもajaxも実行ファイルは別ファイルになりますか？ ＞一つのページで実行できないでしょうか？ サブミットは自分自身に送ることはよくあるので１ファイルでいけるでしょう ajaxの場合できれば分けた方がいいですが、getのパラメータ次第で 自分自身をつかって処理することは可能です 例えばhoge.phpが通常のhtml文を返すとして hoge.php?ajax=1&del=1&file=..%2Fimg%2Fa0001.jpg のような送り方をすれば ajax=1を見てhtmlを返さずに、del=1を見てfileの削除作業をする など工夫次第でなんとでもなるかと
ごめんなさい、ちょっと検証できてないんだけど $sql_txt = <<<EOF LOAD DATA LOCAL INFILE %s INTO TABLE `%s` fields terminated by ',' enclosed by '"' LINES TERMINATED BY '\n' EOF; としているところ $sql_txtに投入する際「\n」が展開されてないですか？ LINES TERMINATED BY '\\n' としてみてはどうでしょう？ （SQL文として\nという文字列にするので・・・）
「include」や「file_get_contents」で読み込んで、HTMLに埋め込むことは可能です。 includeの場合は、 ----- <html> <head> <?php include("jsfile"); ?> .... ----- って感じでHTML内のJSを記述したいところでincludeすればOKです。 file_get_contentsの場合は ----- <?php $js = ; ?> <html> <head> <?php echo file_get_contents("jsfile"); ?> .... ----- って感じでHTML内のJSを記述したいところでfile_get_contentsするか、事前に変数にJSを読み込んでおいてechoすればOKです。 メリットは特に無いと思います。 デメリットは、毎回クライアントに対してJSが送信されることです。 JSを別ファイルにしてscriptタグで読み込ませるようにしておけば、ブラウザがキャッシュしてくれるのでデータ転送量、読み込み時間が短くなります。
anchor要素だと（QueryStringで渡すにしてもpathinfoで渡すにしても）間違ってログアウト後のTOPページをBookmarkされてしまうと、そのBookmarkでTOPに戻ろうとするとログアウトしてしまうけどそれはいいんですかね。 anchor要素でやるならlogout.phpのようなログアウト専用のスクリプトにリンクして、そちらでセッション情報を破棄してからLocationヘッダでtoppageへ遷移させる方が素直だと思います。 logput.php <?php session_start(); if (isset($_COOKIE[session_name()])) { setcookie(session_name(), '', time()-42000, '/'); } $_SESSION = array(); session_destroy(); header('Location: http://example.com/toppage.php');
＞htmlspecialcharsでサニタイジングすれば良いのでしょうか？ そうですね 場合によってはhtmlspecialchars()に加えて trim()してあげたり、nl2br()で改行を<br>に変えてあげてもよいかと。
＞URLからHTMLソースを取得し、 http://php.net/manual/ja/function.file-get-conte … ＞要素を取得し https://www.google.co.jp/search?q=PHP+HTML%E8%A7 … ＞RSSファイルを作りたいと思っています。 https://www.google.co.jp/search?q=PHP+RSS%E5%87% …
では「編集」ではなく「新規作成」してコピペしてください。多分これならいけます。
>この件に関しては修正してまたアップしたのです。 >間違えたと思ったのです。 今現在、まだ修正されていませんよね？ いずれにしても、http://sen.jeez.jp/2.php が404エラーになっている現状では（正しい場所にphpスクリプトがアップロードされていない）どうしようもありません。phpスクリプトが動くとかどうとか以前の問題です。「htmlファイルやCSSファイル、画像ファイルを正しくアップロード出来る」のは最低限のスキルです。これが出来ないうちにphpスクリプトを書いても何の意味もないです。
PHPの基礎本を何冊かお読みになられているということですが、 もし既読でなければ、「気づけばプロ並み PHP」(谷藤賢一著、リックテレコム) という本が、MySQLと組み合わせるという条件に合致していると思います。 セキュリティ関連との組み合わせであれば、 「PHPサイバーテロの技法 攻撃と防御の実際」（GIJOE著、ソシム） という本もあります。
＞google chromeのURLのとこにhttp://localhost/sample2.phpと打ちました 私が回答に書いたもの↓と違いますね。 ＞HTMLでフォームを作り、書いたPHPのURLを指定してサーバーに送信したということで、認識は合ってますか？ htdocs\a.html に下記を置いて、表示させ、submitボタンをクリック。 <!DOCTYPE html> <form method="POST" action="sample2.php"> <input name="my_name" type="text"> <input type="submit"> </form> そもそも、どういう結果を期待して、http://localhost/sample2.php と打ったのでしょうか？
>だめっす。 んじゃあapacheのドキュメントルートを確認して。 ＞きちんとした証明書じゃないから表示されるの。 >これがよく解らないです。 実際は認証機関で発行された証明書をサーバにインストールするの。 xamppでインストールされるのはそんなたいそうなものじゃないから。 ブラウザ的には「なんだこの証明書は、怪しいな」ってなるわけ。 ベリサインとかのサイト見てみるといいよ。 >ちなみにですよ。 >今回zamppでお話ししてますが、通常WEBページを管理している人は >サーバーでレンタルなり自分でもっていたりしますよね。 >formに書かれたテキストの内容などは ><form action="フィル名">となっているファイル名。つまり画像をだすファイルに >その書いたものを転送？するって考え方なんでしょうか？ >だとすると、外注かなんかに管理している会社は >xamppで言うところのhtdocsのようなファイルを入れるところが不明である為に、 >自分達でそれをコントロールする事はできないのではないでしょうか？ 言っていることが良くわからない。 まずなんでformの話で画像が出てくるのか。 外注なんかに管理している会社 外注に管理させている会社ってこと？ ドキュメントルートからの絶対パスもしくは相対パスで書いていればどこのサーバに置いても動作は変わらないよ。 公開されるファイルの入れる場所(ドキュメントルート)はちゃんとサーバごとに決まってるもの。
app/View/Layouts/default.ctpが呼ばれていると思うんだけどそこの <title> <?php echo $cakeDescription ?>: <?php echo $title_for_layout; ?> </title> を <title> <?php echo $title_for_layout; ?> </title> こうじゃない？ んで $cakeDescription = __d('cake_dev', 'CakePHP: the rapid development php framework'); を消すとエラーになるのは ctpのどこかで$cakeDescriptionが使われているからじゃないかな。 わからないんだったら$cakeDescription='';ってしておけばいいよ。 $cakeDescriptionはただ説明用に入っているだけだよ。無理に使うことは無い。
感じからすると、テンポラリに最新3件を抽出して、itemをtruncateし、 テンポラリを戻すのが一番早くて確実だとは思います
>事前作成せずにその都度処理するので、もしかすると >画像表示とかが遅くなるのでしょうか？ もしかしなくても遅くなります（生成に要する時間は確実にレスポンスが遅れる）。しかも毎回作成すると、毎回同じ処理を行うことになります。 一度しか表示しないならいいですが、保存画像のサムネイルなんてしょっちゅう表示させることになりますから（元画像よりも表示頻度は高くなるのが普通でしょ）その都度「まったく同じ処理」を行うことになります。 メリットは保存領域の節約くらいでしょうけど、そもそもサムネイルサイズなのでそれほどの節約になるとも思えません。 あと、動的に生成すると「スクリプト経由」でしかアクセス出来なくなりますよね。これはアクセス制御が必要な局面ではメリットかもしれませんが代償が大きすぎます。アクセス制御に関しては他の手法を採るべきです。
>「ブラウザから渡されたファイル名は汚染リスクがある」と書いてあったのですが、 >この意味は、「ブラウザから渡されたファイル名をそのまま使用してはいけない」 >ということだけでしょうか？ はい。 >書きかえるファイル名は何でも良い？ はい。重複さえしなければいいです。データの（バイナリの）ハッシュ値を使えば「中身が同じ画像なら同じファイル名」になるので無駄がなくなる（ことが期待できる）というのはありますが、二次的な話です。バイナリでなくmicrotime()やアップロードユーザ名+追番などのハッシュ値を使うこともありますしね。 >上記のように、推測されやすいファイル名でも問題ない？ 問題ないです。隠すことが主目的ではありませんので。 本当に隠蔽したいなら、httpでアクセスできない場所（DocumentRootより上の階層とか、.htaccessでアクセス不能にしたディレクトリ）に置いて、phpスクリプト経由でしかアクセスできなくします。httpでアクセス可能な場所に置くのであれば、アクセスされることは想定すべきです。
JSON形式で返してあげればいいんではないでしょうか。 http://php-archive.net/php/ajax-json/
…あー、でも >> phpで会員制サイトの制作を勉強中です。 会員制サイトだったらセッションフィクセーション攻撃対策のため、ログイン直後の session_regenerate_id(true); の実行は必須であり、このタイミングで再度必ずCookieが送信されますね。だったら session_set_cookie_params(...); session_start(); session_regenerate_id(true); の順番でログインするページにだけ書いておけば問題ないと思います。
バージョンにこだわりがあまりないならXAMPPなどでトライしてみては？
(相互リンク) http://detail.chiebukuro.yahoo.co.jp/qa/question …
別の方が回答するけど、これは無理。 クライアント側の負荷も考えないといけないよ。 検索結果のみを表示する、ページングを考える、ソートも実行された時にSQL等で処理。 こうしないとサーバ、クライアントともに負荷が高すぎて、使い物にならない。 自分の処理の都合で容易にするよりも利用者側に立って開発するべき。
WEB上のボタンは必ずしもHTMLのフォームを使っているとは限りません たとえばflashやその他プログラムで作ったページ（とくにゲームなど）であれば phpやjavascriptでボタンを押すことは極めて困難です。 場合によってはいわゆるBOT的なツールでキー入力をエミュレートすることもできますが 過度にサーバーに負担をかけると不正アクセスとみなされ アカウントを削除される可能性もあります
XAMPPをインストールしたのでしょう。 さらに、C:\WINDOWS\System32\drivers\etc\hostsファイルの内容に、 127.0.0.1 study.localhost とかいう記述でも追加したのでしょう。 不要ならアンインストール、行削除すればいいです。
根本的な解決策ではないですが、 PEAR::Mailで外のメールサーバーを介しておくってみてはどうでしょう？
if ($a['exists']['non_existent']) { $a['exists'] は存在するという前提で、php5.3と同じ動作を期待するなら if (isset($a['exists']['non_existent']) ? $a['exists']['non_existent'] : substr($a['exists'], 0, 1)) { ですかねぇ。
>$array = >array("146-0082", "東京都大田区", "田中さん"), >array("120-0015", "東京都足立区", "山田さん"), >); となっております。 いや、syntax errorになるソースで提示されても困ります・・・ 私が書いたとおり $array = array( array("146-0082", "東京都大田区", "田中さん"), array("120-0015", "東京都足立区", "山田さん"), ); という意味でいいということですよね。 この配列（insertする内容だけで構成）が生成できているなら疑問符プレースホルダを使って $stmt = $dbh->prepare('insert into table (number, address, name) values (?, ?, ?)'); foreach ($array as $data) { $stmt->execute($data); } とも書けますね。 なお、PDOのエラーモードは適切に設定されていますでしょうか？デフォルトはPDO::ERRMODE_SILENTなので何かエラーがあってもわかりません（エラーになる記述なのに「何故か動かない」と悩む方を見かけますので）。 http://www.php.net/manual/ja/pdo.error-handling. …
IE11, Firefox32, Chrome38 でXML表示を試してみましたが、全て正しく表示されました。ブラウザ上での通常表示もソース表示でも同様です（画像参照）。 ソース表示でメモ帳が起動するってことはめちゃくちゃ古いIE7以下を使ってますね…バグだけで済むならまだしも、脆弱性だらけでかなり危ないので早急にアップデートしたほうがいいと思います…
列のcharsetがutf8mb4_general_ciであっても、utf8のクライアントからキチンと挿入できますし文字化けしたりはしません（そういう仕様です）。 （例） // テーブル定義 CREATE TABLE IF NOT EXISTS testtb ( id int(11) NOT NULL AUTO_INCREMENT, name varchar(256) CHARACTER SET utf8mb4 NOT NULL, PRIMARY KEY (id) ) ENGINE=InnoDB; // phpスクリプト <?php try { $pdo = new PDO('mysql:host=localhost;dbname=test;charset=utf8', 'root', ''); $stmt = $pdo->prepare('insert into testtb (name) values (?)'); $stmt->execute(array('テスト１')); $stmt->execute(array('その２')); $stmt->execute(array('参番目')); // 以下同様に日本語の name を追加していく $stmt = $pdo->query('select * from testtb order by id'); while ($row = $stmt->fetch()) { printf('%s：%s<br>', $row['id'], $row['name']); } } catch (PDOException $e) { die($e->getMessage()); } 上記phpスクリプトでの表示はもちろん、phpMyAdminでもちゃんと確認出来ます。当然、スクリプトの文字セットをSJISにしてもEUC-JPにしても、charsetとしてcp932やujisを指定すれば何も問題ありません。 ＃逆に指定する文字セットを誤れば（実際の文字セットと ＃異なっていれば）確実に化けます。 接続しているクライアントの文字セットは何でしょうか？またその文字セットはちゃんとサーバに通知していますか？PDOならDSNで、MySQLiならmysqli_set_charsetで通知しているハズです。
>果物の名前を4回繰り返す この 4回 というのは要素数とは無関係でしょ？foreach は繰り返す回数が「要素数」なのが便利だから（全部の要素を網羅してくれるから）使う。 そうでないなら普通に for や while （カウンタをインクリメントして所定の条件まで）を使うべき。 >繰り返しはforeachのみで実現したいと考えています。 自分で要素数を 4 にした配列を（array_fillとかで）あらかじめ作れば出来ることは出来る。が、そんなものに何の意味もありません。 // 意味のないソース $loops = array_fill(1,4,'tmp'); // 添え字が 1,2,3,4 の配列を生成 $fruits = array("りんご", "ばなな", "ぶどう", "みかん"); foreach ($loops as $key=>$loop) { if (($key == 1) || ($key == 3)) { echo "食べてください"; echo "<br />"; }; foreach ($fruits as $value) { echo $value; echo "<br />"; } print "<hr />"; // 終端をわかりやすくするために追加 } もしかして外側のLoop（4回処理）と内側のループ（フルーツ名の各要素を処理）の二重ループが必要だということが理解出来ていないんでしょうか？
PHPとJavaScriptの役割をしっかり分けて考えてください。 【PHP】 ・サーバー側で動く ・PHPファイルにリクエストがあると、コードを実行して、出力されたHTMLをブラウザに返す ・リクエストごとに変数の値などは初期化される（状態を保持しない） ・一度HTMLを受信し終えると、（Ajaxを使ってバックグラウンドでやりとりしない限り）更新ボタンを押すまで新たにPHPを実行することは出来ない 【JavaScript】 ・ブラウザ側で動く ・更新ボタンを押したり画面遷移しない限り、変数の内容は保持される ・ユーザがブラウザで表示している間はいつでもコードを実行することが出来る 基本的にPHPとJavaScriptで連携するんだったら「JavaScriptのコードを出力する」のではなく「JSONを出力する」方法の方が一般的であり、使い勝手もいいと思います。 JavaScript(jQuery)からPHPのAPIを利用する http://qiita.com/mpyw/items/62e6e415f86eb30a5ff4
そういうサイトは実際には全て特定の1つのphpファイルに処理を投げているだけです。「php .htaccess ルーティング」とかで調べてみるといろいろ見つかるんじゃないかと思います。 .htaccessファイルでルーティング設定 http://qiita.com/shuntaro_tamura/items/28aeade18 … フレームワークを使えば話が早いですが、触ったことが無ければ少し抵抗があるかもしれません。そういう人にもおすすめ出来る、ほとんどルーティングしか担当しないマイクロフレームワークが「Slim」です。Composerを使って簡単にインストールできます。もしComposerを導入していないのであれば是非導入を検討してください、最近はこれがあるのが当たり前…という風潮になりつつあります。 Composer https://getcomposer.org/ PHPマイクロフレームワークSlimを使ってTinyURLを作ってみた http://d.hatena.ne.jp/amari3/20140329/1396101865
`wp_postmeta`.meta_key = 'area' AND `wp_postmeta`.meta_value = '1' AND `wp_postmeta`.meta_key = 'category' AND `wp_postmeta`.meta_value = '1' ↓ `wp_postmeta`.meta_key = 'area' AND `wp_postmeta`.meta_value = '1' OR `wp_postmeta`.meta_key = 'category' AND `wp_postmeta`.meta_value = '1'
> 今会社ではfuelphpを使ってWEB制作をしています。 なら何で会社で聞かないの。 知恵袋みたいな場所で聞く程度の内容かよと思われたら、誰も答えませんわ。。 あなたの期待する内容は、FuelPHPの公式ドキュメントにちゃんと書いてありますよ。 http://fuelphp.jp/docs/1.7/installation/instruct … の「設定：ドキュメントルート内にインストールする」 んで、ここに書いてる設定は、コメントにある通り、「あくまでも簡易な開発用環境としての設定」だと。 当然。Fuelのcoreがユーザルートから丸見えの位置にあるのはセキュリティ的にいいはずがない。 運用環境に構築する場合は、 ・FuelPHPの本体（/app配下）を（可能なら）ルートディレクトリの外に配置。 ・FuelPHPの公開部分（/public配下）をルートディレクトリ直下に配置。 ・上記の /public/index.php （ブートコード）内部の、本体部分への参照パス記述を修正。 ・ルートディレクトリ直下に.htaccessを置き、アクセスを上記ブートコード /public/index.php に振る cakePHPとかLaravelも同じです。 php のような処理系の MVC には独立した httpハンドラ が存在しないので、全部 .htaccess 任せ。こいつに URL を振ってもらいとにかく自身の index.php を動かして、そこからコア部分を動かす。
動くようにするなら SELECT code,name,team_name,price,position,gazou FROM mst_player_market WHERE code IN (SELECT code FROM team WHERE team_id IN (1)) and code IN (SELECT code FROM mst_player_market where name = '玉田') ですね。
>> 私はPHP担当ではなく、部署の事情で知識がないまま今残業させられています。終電がなくなってしまいそうです。。 テンプレみたいな○○○○企業… お気の毒なので <?php header('Content-Type: text/plain; charset=utf-8'); $data = explode(',', file_get_contents('data.txt')); echo isset($data[1]) ? $data[1] : '';
本番環境（&テスト環境）と、開発ツールがごっちゃになっていると思います。 本番環境はLinux、開発するのはWindowsPCでというのが多いんじゃないかな。 Macで開発というのもあると思いますが。
普通、正規表現ではなくてDOM使うだろ。
RDBから出してきた行($row)には未設定の値はNULLで格納されているはずなのでその前提で。PDOクラスを用いる例を書きます。 $stmt = $pdo->prepare('SELECT 番号, 上位番号 FROM テーブル名 WHERE 番号 = ? LIMIT 1'); $stmt->execute([filter_input(INPUT_POST, 'id')]); $row = $stmt->fetch(PDO::FETCH_ASSOC); if (!$row) { /* そもそも該当する番号が存在しない */ } elseif ($row['上位番号'] !== null) { /* 削除が禁止されている */ } else { /* 削除可能 */ }
mktimeで処理してみては？ function hoge() { $d=mktime(); //$d=mktime(0,0,0,10,31,2014); if(date('d',$d) >= 15){ return date('Y-m-d', mktime(0,0,0,date('m',$d)+1,1,date('Y',$d))); }else{ return date('Y-m-d', mktime(0,0,0,date('m',$d),1,date('Y',$d))); } } echo hoge();
そのIDがINTEGER PRIMARY KEYということなら、last_insert_rowid()でいいのでは？ http://www.dbonline.jp/sqlite/function/index24.h … http://www.dbonline.jp/sqlite/table/index8.html
http://blog.syuhari.jp/archives/17 http://php.net/manual/ja/function.array-merge.php array_margeの名称を短くしたもの。 機能は同じ 例1 array_merge() の例 を参照して動きをみてみて。
>結果はおろか、エラーも何も表示されませんでした。 PDOのエラーモードはどうされていますか？デフォルトはPDO::ERRMODE_SILENTです。 http://www.php.net/manual/ja/pdo.error-handling. … PDO::ERRMODE_EXCEPTIONにしたければ、コンストラクタのoptionで指定するか、setAttributeで設定しないといけません。 ちょっと見た限りではSQL文がヘンです $stmt=$db->prepare('SELECT 【住所】, COUNT(*) as CNT FROM 【顧客情報】 WHERE search like :search GROUP BY 【住所】 LIMIT :limit , 20'); ではないですかねぇ。 （蛇足） $search = '%'.$_GET['search'].'%'; の部分も $search = '%' . addcslashes($GET['search'], '\\_%') . '%' であるべき（likeで意味をもつ文字はエスケープする）。
update は予約語です。update を `update` と記述すれば動作するはずです。
たとえば「-_-」など組み合わせをセパレータに利用すれば ぐっと仕様の競合は減ってきます 任意の文字をあわせて「__SeP__」的なこと （複数のアンダーバー、大文字小文字をまぜるなど）までやれば よほどのことがなければ競合することはないでしょう。 精度をあげるのであれば、先頭や末尾に任意の文字列を埋め込んでも 良いかもしれません。 例）HOGE_aaa-_-bbb-_-ccc.txt →「HOGE_」から始まるファイルを対象とし、「-_-」をセパレータとみなす。 aaa__SeP__bbb__SeP__ccc_FuGa.txt →「_FuGa」で終わるファイルを対象とし、「__SeP__」をセパレータとみなす。
ちなみに例示のものですと正規化が中途半端にしかされていません。 とくに日本語つかって商品名を記載する場合、入力にブレが生じやすいので きちんとしたアプローチを検討した方がよいかもしれません
いまいちきちんと理解していませんが、 単純にテーブルAのカラムAにテーブルBのカラムDをリレーションして表示するだけでは？ SELECT * FROM テーブルA INNER JOIN テーブルB ON カラムA=カラムD 的な？
コードは関係ありません。cronを実行してPHPスクリプトを呼び出すタイミングを10月23日00時00分にするだけの話です。 よく分からなかったらtwittbot.netとか使っとけばいいと思います、全然複雑なことはしていないのでこれで十分事足りるはずです。動かしっぱなしに出来る自分のサーバ（VPSや自宅サーバ）を所有していないなら尚更ですね。
function array_rand_each_group(array $arrays,$column){ 　$res = []; 　shuffle($arrays); 　foreach($arrays as $array){ 　　$res[$array[$column]] = $array; 　} 　return $res; } $arrays = [ 　['id' => 5, 'name' => '佐藤', 'age' => 5], 　['id' => 5, 'name' => '伊藤', 'age' => 7], 　['id' => 5, 'name' => '鈴木', 'age' => 12], 　['id' => 8, 'name' => '山田', 'age' => 17], 　['id' => 8, 'name' => '奈良', 'age' => 2], ]; print_r(array_rand_each_group($arrays,'id'));
C:/xampp/htdocs/study.localhost　フォルダは作成しましたか？ そのフォルダに　index.php　または　index.html　ファイルを置きましたか？
Windowsですよね？OSバージョンとか書いた方がいいですよ コントロールパネルの管理ツールから、サービスでhttpdが動いていませんか？ もし動いていたら停止ししてみてください もしくは、コマンドプロンプトから httpd -k stop で停止できるかもしれません
さて、ここでAPIの意味についてもう一度振り返ってみましょう。 API http://e-words.jp/w/API.html APIには幅広い意味がありますが、これを「Web API」というようにすると一気に定義が狭まります。 WebAPI http://e-words.jp/w/Web20API.html その中でもとりわけシンプルに、具体的には普段HTMLを表示するときにリクエストを送るのと同じような形式で実現できるのが「REST API」と呼ばれるものです。 REST http://e-words.jp/w/REST.html 簡単に言えば、HTTP通信における「レスポンスボディ」の部分に、HTMLの代わりに何かプログラムから利用しやすいようなフォーマットのデータを置いてあげるだけのことです。もちろんHTMLをプログラムから解析することも可能ではありますが、お世辞にも効率がいいとは言えないので、プログラムからの利用に特化したものがあってもいいとは思いますよね。それで最近頻繁に利用されているのがJSONなのです。もとはJavaScriptだけのための存在でしたが、その有用性が評価され、さまざまな目的に用いられるようになってきています。 JSON http://ja.wikipedia.org/wiki/JavaScript_Object_N … PHPでは以下のような関数を使えばPHP内での構造に相互変換することが出来ます。 json_decode http://php.net/manual/ja/function.json-decode.php json_encode http://php.net/manual/ja/function.json-encode.php 蛇足: json_decodeの第2引数にTrueを渡すかどうかの議論↓ http://d.hatena.ne.jp/ariteku/20120415/p2 --------------------------------------- さて、ここまで一気に説明してきましたが、どれくらいついてこられましたか？ 「バッチリ」 → 嬉しい限りです。 「何となく…分かったかも…？」 → 実際に自分でコードを書いてみるとどんどん理解が深まってくると思います。 「全然わからない！」 → プログラミングスクールへGO!(笑)
「形態素解析ライブラリ」もしくは「形態素解析API」の利用が必須です。前者は「MeCab」、後者はYahoo!JAPANの「日本語形態素解析」が有名です。 …が、前者はインストール、後者は登録の手間がかかるので、手軽に試したいなら http://140note.hitonobetsu.com/apipage/mp のようなところで利用させてもらってもいいんじゃないでしょうか。 【サンプル】(全角スペースでインデント) <?php function convert_into_katakana($sentence) { 　$ch = curl_init(); 　curl_setopt_array($ch, [ 　　CURLOPT_URL => 'http://api.hitonobetsu.com/mp/analysis?str=' . urlencode($sentence), 　　CURLOPT_RETURNTRANSFER => true, 　]); 　return implode(array_map( 　　function ($item) { 　　　return isset($item->reading) ? $item->reading : ''; 　　}, 　　(array)json_decode(curl_exec($ch)) 　)); } var_dump(convert_into_katakana('質問サイトで回答する')); なお、JavaScriptで実装する場合もほぼ同様ですが、クロスドメイン制約云々で面倒だったらJSONPを利用するのが手っ取り早いと思います。
まず、使用しているライブラリは何でしょうか？TwistOAuthに「OAuthRequest」というメソッドは存在しないので、おそらくtwitteroauthを使用されているんだと思いますが、例外をTwistExceptionとしてキャッチするのはもちろんTwistOAuthの独自仕様です。twitteroauthはそもそも例外処理に対応していません。例外処理を行いたいのであれば、一貫してTwistOAuthを使用してください。 Examples/Details/FAQなどはこちらで↓ https://github.com/mpyw/TwistOAuth 【例】(全角スペースでインデントしています) <?php // ライブラリをロード require 'TwistOAuth.php'; // レスポンスはテキストで返す header('Content-Type: text/plain; charset=utf-8'); // インスタンスを生成 $to = new TwistOAuth(...省略...); // 検索を実行し、statusesをforeachにかける try { 　foreach ($to->get('search/tweets', ['q' => 'foo'])->statuses as $status) { 　　// リツイート済は除外 　　if ($status->favorited) { 　　　continue; 　　} 　　// リツイートを実行 　　try { 　　　// リツイート後に得られた自分のツイートのステータスIDを表示 　　　echo 'Retweeted: ' . $to->post('statuses/retweet/' . $status->id_str)->id_str . PHP_EOL; 　　} catch (TwistException $e) { 　　　// リツイート失敗時はエラーメッセージを表示 　　　echo $e->getMessage() . PHP_EOL; 　　} 　} } catch (TwistException $e) { 　// 検索失敗時はエラーメッセージを表示 　echo $e->getMessage() . PHP_EOL; }
・VPSであれば自分の意思でgitやcomposerをインストール出来ます。 ・共用サーバであれば基本的にあらかじめインストールされている場合にしか使用できません。ただ、composerに関しては「composer.phar」という単一のファイルを叩くだけなので、共用サーバでも使用出来るかもしれません。 HerokuのようなSasSだとデフォルトでgitやcomposerが使えるのでお勧めです。SSLも無料で最初から使えるようになってます。PHPバージョンも5.5と申し分ないです。 ただ、ファイル転送方法に癖があり、一般的なFTP転送ソフトのようなものを一切用いません。あくまでgitのリモートリポジトリにpushすることでデプロイする仕組みになっています。GitHubにpushする感覚で使うといいと思います。 蛇足ですが、無料共有サーバは管理者のセキュリティに関しての配慮が足りないことが多いのでおすすめしません。某サービスはデフォルトでは同じドメイン間でセッションが共有されてしまうという脆弱性を放置していたりしますね…
＞onclick="<?php updateMemo('.$sid.'); そもそもの考え方が間違っています。 htmlで出力されている時点でonclickの中身は「結果」なので なにをしても結果は変わりません。 どうしてもやりたいならonclickでajaxを通して 更新用プログラムにsidを渡してやることです （もしくは普通にgetでページ遷移する）
#2です、ちなみにこんな感じ $pdo = new PDO($dsn,$user,$password); $sql = "select * from test where 1"; $res1 = $pdo->query( $sql); $res2 = $pdo->query('SELECT FOUND_ROWS()'); $res3 = $pdo->query($sql." ORDER BY id LIMIT 5"); $sql = "select count(*) as count from test where 1"; $res4 = $pdo->query( $sql); print $res1->rowCount()."<br>"; //行数をひろう場合 print $res2->fetchColumn()."<br>"; //直前のSELECTで拾った行数をひろう場合 print $res3->rowCount()."<br>"; //LIMITで減った行数をひろう場合 print $res4->fetch(PDO::FETCH_ASSOC)["count"]; //きちんとCOUNT()する場合
最初のページのURLには 「?page=数字」というクエリストリングがないために、 $_REQUEST['page']と書くと Notice: Undefined indexというエラーが出ます。 $page = $_REQUEST['page']; を $page = isset($_REQUEST['page']) ? $_REQUEST['page'] : ""; と置き換えればエラーは消えます。 三項演算子を使っています。 A ? B : C と書いたとき、AがtrueならB, falseならCという処理となります。 isset関数で配列インデックスが定義済かどうか確認し、 定義済みならその値を、未定義なら空文字""を$pageに代入しています。 詳しくは下記を参照ください。 http://qiita.com/mpyw/items/2f9955db1c02eeef43ea …
さくらのスタンダードプランを使ってますが、セッションが使えない状況になったことはありませんね。 http://shimix.sakura.ne.jp/session_test.php session.save_path は no value ですが問題ありません。 HTTPリクエスト/レスポンスで、セッションクッキーのやりとりがどうなっているか確認してください（お使いのブラウザが何かわかりませんが、そういうデバッグが出来るブラウザは用意されてますよね）。
＞メールの内容は同じなのです。 Toの内容もメールの内容の一部ですよ。
>上記のように記載した時、windowsのchromeでみると文字化けしてしまいます。 記載されたソースではfputcsvの戻り値（整数）をvar_dumpしているだけのようですが、何が化けるんでしょうか？ $name などをprint していて（しているのかどうかソースからは読み取れませんが）文字化けするということなら、$name に格納されている文字列の文字セットとブラウザが認識している文字セットが違っているだけでしょ。 スクリプトの先頭で、記述している文字セットに合わせてheader()を返してやってください。 （例） header('content-type:text/html; charset=utf-8');
phpからメディアデータ扱うなら、常識的にはffmpeg phpラッパーでしょう。 http://codezine.jp/article/detail/5173 記事掲載は動画変換ですが、オーディオ系の機能も豊富ですよ。 オーディオフィルタでいうと、adelay と amerge あたりで実現できると思います。 https://www.ffmpeg.org/ffmpeg-filters.html#toc-A …
レガシー php 指定での開発案件？　私の所でも、大手 SIer がらみの php 案件は全部それですわｗｗｗ これがjavaとかc#、RoRですと、全部 MVC フレームワークになるんですが、何で php だけ？　と思うのですが、やはりフレームワーク自身の安定性や成長性、バージョン変更時のコード互換性など、言われてみれば思いあたるフシもあります。 CakePHP や FuelPHP はコミュニティが活発なのは日本だけ、Laravel など海外の有名フレームワークは日本で全然実績がないとか、継続性を指摘されることが多いです。 でもまあ、発注者の立場ですと、納品されたコードを部分的に保守するのが仕事なので、思い切りスキルの低いチームでも対応できるように、という事は理解できます。 いっそのこと（当社のように）普段の開発がフレームワーク一色なら、思い切ってレガシー php 案件は全部社外スタッフに発注されたらいかがですか？ 変な話ですが、開発難度の高いはずのレガシー php のほうがずっと容易に人員を調達できますし、請負先のコストだって３割以上低いし。 不条理と言えば不条理な話なんですが、レガシー php に我々が合わせる必要もないのと違います？
#1です。 お礼コメント拝見いたしました。 XoopsもWordPressも基本的にはCMSと言われるようなもので、 どちらもサイトを動的に更新したり管理できるシステムです。 WordPressはブログサイト向きで、Xoopsはもっといろいろなことができます。 Xoopsは、各ユーザがID、Passwordによってログインし、 各ユーザにメッセージボックスのようなものがあり、ユーザは各々メッセージの送受信ができます。 また、掲示板のようなフォーラムを作成する機能もあり、複数名でのやり取りもできたはずです。 それらの公開・非公開などもユーザー毎に設定する権限でコントロールすることもできます。 Xoops向けに様々な開発者が作成したモジュールというアプリのようなものを追加すると、 サイトに新たな機能を追加していくことができます。 モジュールを使えば、スケジュールの共有や、写真の共有、動画の共有などもできるようになります。 (以前にXoopsを使っていたことはありますが、最近使っていないので正直なところ、 最新Verの事情はよく知りませんのでご了承願います。) ただし、導入から設定やデザインの変更などをしようとすると、色々と調べることが必要かもしれません。
＞　>>すべてのヘッダでドメインが一致していることが必要です。 ＞　このドメインの意味が、わかりません。 ＞　[xxxxxxxx.esy.es] [srv65.main-hosting.eu] ＞　どちらのことをさしているのでしょうか？ 実際にFromとして使いたいドメインで一致させるので [xxxxxxxx.esy.es] になりますね。
状況がよくわかりません たとえば以下のようにしてみては？ <style> div.h1000{height:1000px;background-Color:lime;} p#test{height:100px;background-Color:aqua;} </style> <div class="h1000">spacer</div> <form action="#test" method="get"> <p id="test"> <input type="text" name="a" value="x"> <input type="submit" value="go"> </p> </form> <div class="h1000">spacer</div> サブミットすると、formに移動しているはずです。 (いちおう移動がわかるよう色をつけておきました) また「action="hoge.php#test"」のようなページを指定しても問題ないはずです。 もちろんidは同じページにユニークにしか設定できませんので注意ください
＞解決する為にはどういった方法で1つ1つ原因を突き止めていけば宜しいでしょうか 切り分けとしては４つ (1)アップロードの障害 (2)アップロードデータをRDBへインタフェースする際の問題 (3)RDBへのINSERTの問題 (4)RDB自身のパフォーマンスの問題 (1)については、ファイルのアップロード後にMySQLの更新をかけていると思うのですが 単純に「MySQLの更新」をしないテストをすればいいでしょう。 単にアップロードを大小さまざまなシチュエーションでテストすれば アップロード時の問題はつきとめることができます (2)アップロードしたデータをなんらかの変換をかけた上で RDBに投入していると思いますが、その変換効率がわるければ当然 処理時間がかかります。こればっかりはフローをよく練るしかありません。 処理的にはアップロードした状態のデータをWEB上において、 それを変換して結果をWEB上にアウトプットする時間を計測するフローでしょうか (3)インサート処理がどのくらい負荷がかかっているかはphpMyAdminなどの ツールで状況を確認できるでしょう。 サーバーをまるまる１台借りるサービスなら別ですが、共有してつかうサービスなら 過負荷をかけているようだと、運営から上限キャップを掛けられている可能性はあります (4)テーブルにオーバーヘッドが発生していたり、テーブルが肥大化していたり 検索項目であるにも関わらずインデックスが効いてなかったり、 RDB自体の問題で低速化は起こりえます。 RDBの基本にたちかえって、効率的なデータの持ち方を学習しなおす必要があるかもしれません
>> 「is_ref」フラグが立ってしまうと、&で代入した変数だけでなく他にも影響してしまうということなのでしょうかね…。 $copy = $array; で行われる処理は、内部的には以下のようになっているはずです。 (※コピーオンライトについては説明を簡単にするために無視することにします) 1. $arrayは is_ref=0 なので、$copy に対してコピーを行う。これは配列であるので子要素にコピー処理が続く。 2. $array[0] はis_ref=0 なので、$copy[0] に対してコピーを行う。 3. $array[1] はis_ref=1 なので、$copy[1] に対してエイリアスの作成を行う。（※$arrayのis_refには左右されない） 4. $array[2] はis_ref=0 なので、$copy[2] に対してコピーを行う。 $copy = &$array; 参考までにこちらについても… 1. $arrayは is_ref=1 なので、$copy に対してエイリアスの作成を行う。 以上です。 >> ただ、その結果何がどう異なるのかはよく分かりませんが 以下の2つの結果は変わりません。 $a = new stdClass; $a->foo = 'bar'; $b = $a; $b->foo = 'baz'; var_dump($a); $a = new stdClass; $a->foo = 'bar'; $b = &$a; $b->foo = 'baz'; var_dump($a); 以下の2つの結果は変わります。 $a = new stdClass; $a->foo = 'bar'; $b = $a; $b = null; var_dump($a); $a = new stdClass; $a->foo = 'bar'; $b = &$a; $b = null; var_dump($a);
ちょっとエスパー回答になりますが 「添え字がわかっているけどスマートな取り出し方が分からない」 という質問であると仮定します。簡単に言えば、foreachで回さなくても 「->」 (アロー演算子) を使えば子要素へのアクセスは可能だということです。 【返り値を json_decode($response, true) で処理している場合】 ・すべての枝要素は数字添字配列または連想配列になります。 $v[0], $v['a'] のようにアクセスしてください。 ・すべての葉要素の型情報は保持されたままPHPで扱えます。 ・存在しないキーにアクセスした場合はNoticeが発生します。issetを使えば回避可能です。 【返り値を json_decode($response) で処理している場合】 ・枝要素には数字添字配列配列とstdClassが混在します。$v[0], $v->a のようにアクセスしてください。 ・すべての葉要素の型情報は保持されたままPHPで扱えます。 ・存在しないキーにアクセスした場合はNoticeが発生します。issetを使えば回避可能です。 【返り値を SimpleXML で処理している場合】 ・枝要素、葉要素ともすべてSimpleXMLElementオブジェクトになります。$v->a のようにアクセスしてください。 ・属性には $v['a'] のようにアクセス出来ます。 ・すべての葉要素を値として利用する際は、(String)を使って文字列にキャストしなければなりません。型情報は失われます。 ・存在しないキーにアクセスした場合は空のSimpleXMLElement要素が返却されます。Noticeが発生するわけではないので注意してください。これもissetを使えば回避可能です。
>> 例えば、下記では初期化を実施する必要があるでしょうか？ >> $hoge = array("foo", "bar"); これ自体が初期化処理ですね。新しい配列を変数に設定していますから。「空配列の代入」が初期化を意味しているのではありません。何らかの初期値を与えることが初期化を意味します。これを初期化しない書き方にするならば以下のようになります。 $hoge[] = "foo"; $hoge[] = "bar"; >> 配列の初期化を実施するのはどんな時でしょうか？ それがないと誤った結果を返してしまったり、NoticeやWarningを発生してしまうケースが存在するときです。これが無いのであれば初期化の必要はありません。迷ったら初期化しておく方がいいと思います。 【必要】 while, foreach ループは1回も実行されないケースがあるため、初期化が必要です。 // file関数のcsvバージョン function file_csv($filename) { 　if (!$fp = fopen($filename, 'r')) { 　　return false; 　} 　$rows = array(); 　while ($row = fgetcsv($fp)) { 　　$rows[] = $row; 　} 　return $rows; } 【不必要】 doループはかならず1回実行されるため必要ありません。 // 例外スタックからメッセージだけを取り出してきてキューの順番に並べ替え function exception_to_array($e) { 　do { 　　$arr[] = $e->getMessage(); 　} while ($e = $e->getPrevious()); 　return array_reverse($arr); } 【不必要】 最初の例も、issetによるチェックを行うのであれば初期化は必要ありません。(あんまりこんな書き方しませんが) // file関数のcsvバージョン function file_csv($filename) { 　if (!$fp = fopen($filename, 'r')) { 　　return false; 　} 　while ($row = fgetcsv($fp)) { 　　$rows[] = $row; 　} 　return isset($rows) ? $rows : array(); } 【不必要】 複数階層に渡る初期化はその都度issetで調べなければならないため結構面倒なことになりそうです。このケースでは積極的に省略していってもいいと思います。以下のケースではstatic宣言を使用しているため static $list; とした時点で$listにNULLが代入されてしまっていますが、 static $list = array(); としておいても構いません。但しNULLに対して配列要素を追加しようとした場合でもエラーは発生せずに適切に処理されるので特に問題はありません。 // create_functionのメモリリーク問題を解決する関数 // (現在ではクロージャが使えるため、まず使われることは無い) function create_lamba($args, $code) { 　static $list; 　if (!isset($list[$args][$code])) { 　　$list[$args][$code] = create_function($args, $code); 　} 　return $list[$args][$code]; } >> また、配列の初期化を行う方法は、下記以外にもあるのでしょうか？ PHP5.4以降では array() の代わりに [] が使えます。
>なんとなくですがセキュリチィーがなんか関わってませんかね。 セキュリチィー（セキュリティのことでしょうか）で404エラーになったりはしません。（Apache以外なら）サーバからの応答がない状態になるか（Apacheの設定なら）403エラーが返るかくらいです。 C:\xampp\htdocs\2.php の位置にスクリプトを置いて、http://localhost/2.php でアクセスしてみたのでしょうか？ あるいは、2.php の配置が C:\xampp\htdocs\htdocs\2.php で間違いないのですかね。
そのテンプレート全体がどうなっているか分からないのでget_postsでもいいかも知れないが、代わりにWP_Queryを使うと使い勝手が良くなろう。 <?php $q = new WP_Query(array('cat' => 1, 'posts_per_page' => 1)); ?> WP_Queryの引数はposts_per_archive_pageあたりを調べても参考になろう。 で、これで$qにはカテゴリIDが1の全投稿が入るわけだが、後は普通に$q->have_posts()で投稿があるかどうかが判定できる。 以上のことから質問のソースを書き換えると ～～～～snippetここから～～～～ <?php $q = new WP_Query(array('cat' => 1, 'posts_per_page' => 1)); ?> <?php if($q->have_posts()): ?> <h2 class="entry-title">カテゴリ1の投稿一覧</h2> <div class="container"> <?php while($q->have_posts()): $q->the_post(); ?> <ul class="hogehoge"> <li> <a href="<?php the_permalink(); ?>" ><img src="<?php echo catch_that_image(); ?>" /></a> </li> <li> <a href="<?php the_permalink();?>"><b><?php the_title(); ?></b></a><br /> <a href="<?php the_permalink();?>"><?php echo mb_substr(get_the_excerpt(), 0, 80); ?>…</a> </li> </ul> <?php endwhile; ?> </div><!-- /container --> <?php else; ?> ○○に関する記事は現在ありまへん。 <?php endif; ?> ～～～～snippetここまで～～～～ 上のコードは想像で書いたので実際に動かしてはないのでその辺はあれこれ試してみて欲しい。 まず、WP_Queryで$qの中に投稿を詰め込む。前述の通り$q->have_posts()が投稿有無の判断基準になるので if($q->have_posts()): // ある else: // ない endif: が一番大きなくくりになる。で、「ある」の方は今度はwhileで$q->have_posts()がfalseになるまでくるくるまわす。while開始直後に$q->the_post()を呼ぶ事でそこからendwhileの中までは通常のthe_title()などで$q内の現在の投稿にアクセスする事ができる。「ない」は普通に「ねーよ」というのを書けばいい。 直接は関係ないがHTMLの話。一応１投稿に対して１ulタグにしたかったのかなと思ってサンプルコードはこうしたが、明らかに意図が違う２つのliタグが入っているulタグよりかはdlタグを用いた方が良いのではないかな。それか<div>とかで１投稿に対する見せ方をレイアウトするか。 後、get_the_excerpt()の後ろのてんてんてんって要るかね？ 80文字で切るも含めてこのあたりの制御はWP Multibyte Patchに任せたほうがいいような気もする。
setMaruBatuの中でどっちがsetしたか持っておいて function setMaruBatu($x,$y,$k){ if($this->turn === $k) return 'dame'; $this->turn = $k; if($this->board[$x][$y] == 0){ $this->board[$x][$y] = $k; } } // マルのひと $mb->setMaruBatu(0,0,1); // この時点でturnは1 // 本来はバツのひとだけどマルのひとがまた呼んでみる // turn(1)===1が真になりreturn 'dame'でそれ以降は実行されない $mb->setMaruBatu(0,1,1); // バツの人が呼ぶと // turn(1) ===0で偽となり配列へのセットが実装される $mb->setMaruBatu(0,1,2); で、turnには2が入る このくりかえし～
これから勉強するならせっかくだからpdoを使った接続で学んだほうがいいよ。 というかmysql_connectは使わない用がいいよ。もうずっと非推奨 で、まえの回答にあったcountってのはSQLだよ。 whileの前で$count = 0; whileの中で$count++; while出たら echo $count で、取得した数になるけど？
そもそも、CakeやZend Framework、Fuelなどほとんどのフレームワークが、設計コンセプトにおいて、Smartyの存在を無視している以上、あえて過去の遺物を引きずる必要はないです。 Smartyはテンプレートエンジンですらない、単なるタグパーサであり、モダン・フレームワークのアーキテクチャに合いません。 最新のMVCであるLaravelなどは、自前でBladeというテンプレートエンジンを装備していますし、WordpressのようなCNSでもSmartyは用なしです。 Smartyを採用したがるのは、開発をレガシーphpの手法に引き戻して、何とか仕事を自分たちの手の届く範囲に止めたい、オールドデベロッパーの悪アガキに思えます。
> ・取得する段階で何か指定するのでしょうか？ Select文に DATE_FORMAT 関数を書き加えて下さい。 select DATE_FORMAT(く列名＞, '%Y-%c-%e %T') from くテーブル名＞; ＜と＞の間は適宜置き換えして下さい。
仕事でサイトの開発をしていますが、基本的には連番を振って管理用のIDを付与します。 メールアドレスは個人を一意に特定できますが、永久に同じとは限りません。 メールアドレスの変更をする場面が必ず出てきますが、メールアドレスだけで情報を管理しているとメールアドレスの変更時にDBに記録しているたくさんの情報を更新しなければいけなくなります。 例えばショッピングサイトだと購入履歴など大量のデータが貯まっていて、全ての購入履歴レコードを更新しないといけなくなり、更新漏れやDBへの負荷など考慮しなければいけない事がたくさん出てきます。 なのでメールアドレスは会員情報だけに記録し、別途用意した管理用IDで全てのデータを管理するようにすると、メールアドレスの変更は会員情報だけで済みます。 また、複数のテーブルをリレーションしてデータを取り出す場合、キーとなる情報が数値だとDBのインデックスの効率がよく処理が早くなるので、数値で管理するようにします。
RBD(MySQL)を使っているのですからCOUNT()を利用すれば一発では？ あとはMySQLにどのようにデータを持たせるかきめるだけです。 PHP＋MySQLでWEBアプリをつくる方法については 本屋や図書館にいけばたくさん参考書がでてます
いろんなアプリに関わってきたけど、動的にカラムを削除するシステムって出会ったことない。 まあ中にはあるのかもしれないけど、自分が設計するとしたら考えられない。 どういうリレーションとか考えてるかわからないから何とも言えないけど、 SQLを工夫したりすればいいだろうし。 カラムを削除するメリットが見つからないよ。 DBの設計ってふつうっていったらあれだけど、横(カラム数)に増やしたり減らしたりじゃなくって 縦（レコード数）にしたほうが扱いやすいよ。
(1) 書き込み時に一番上から追加していけば、表示するときは特に何も操作せずにそのまま出せばいいんじゃ？ 書き込み時に一番下に追加しているのを変えられないなら、取得時は配列に読み込んで逆にすればいいかも？ (2) 埋め込むって、その表示部分のみを埋め込みたいならphpが動く方法をとらないといけないけど1番さんの回答で拡張子を変える必要は無いよ。 同じく1番さんの回答でiframeで表示する方法なら難しいことしなくてもそのままurlを指定すればよいだけ。
＞<img src="sample.png"> を、 <img src="viewimage.php?src=sample.png"> 的な処理にして、 loadimage.php側でエージェントをしらべて sample.pngを表示するか、sample_sp.pngを表示するか決めればよいのでは？
>それも分からないので質問しています。 接続先がわからないというのはちょっと・・・・。 データソース名は既知だがその中身は不明ということですかね。コンパネの管理ツール/データソース（ODBC）から当該データソースの構成は（利用しているドライバも含めて）わかると思いますけど。
>今回はとにかく２テーブルで作ってみたいです。 了解。ただし今後いろいろ機能追加しようとすると、どんどん辛くなってきますよ。覚悟。 HAVING COUNT(*) = N の部分は、「kidの個数」が入ればよいので、 count($_POST['kid']) で取得できます。 その他どんな関数があるのか目を通しておくとよいです。 http://jp2.php.net/manual/ja/ref.array.php kidが1個しかない場合でも動きますが、本来は WHERE kid = X だけにして、 fid毎にまとめるGROUP BY ～や、集計するHAVING COUNT～は不要です。 余力があれば1個の時を分岐させてみて下さい。
オススメのjavascript, phpの本とのことですが、自分は本は購入して読んだことがありません。そばに聞ける人がいれば言葉は悪いですが、その人を利用しましょう。 javascriptはjQuery(javascriptのライブラリ)から入りましたので、生のjavascriptは苦手です。 jQueryはやりたいことに対して直感的に扱えるし、ブラウザ間の差異も吸収してくれます。 要素の指定方法がわかれば簡単なところはなんとかなるはずです。
＞PHPで他のサイトを読み込んで、 これは普通にできますよね？ ＞javascriptを実行した結果を PHPのサーバー側処理でjavascriptを走らせるのはかなり難しいですね なんらかの理由でjavascriptをかます必要があるのであれば クライアントでphpの結果を受け取り、javascript実行後 sumitするかajaxで再度phpに投げる処理が必要になると思います
以下は蛇足です。 回答No.2のようにエラーチェックは事実上TwitterAPIを利用する上では必須になってきます。毎回これを書くのはちょっとつらいので、もしこの部分をラクにやりたいとお考えならば、ぜひ私の自作したライブラリを使ってみてください。twitteroauthが非常に古くてあまり洗練されていないことに業を煮やして作ってしまったやつですｗ GitHub - TwistOAuth https://github.com/mpyw/TwistOAuth twitteroauthとの互換性を考えて作っているので、使い方は非常に似ています。既に提示したサンプルコードをこのライブラリ用に書き直すと以下のようになります。なお、このライブラリはtwitteroauthのようにOAuth.phpを必要としません。このファイル単独で利用可能です。また、PHP5.4以降では array() は [] と簡略化して書くことが出来るので、ここではその表記を使用することにします。 <?php require 'TwistOAuth.php'; try { 　$to = new TwistOAuth('***', '***', '***', '***'); 　$params = ['q' => '治療' ,'count' => '1', 'lang'=>'ja']; 　$statuses = $to->get('search/tweets', $params)->statuses; 　$statuses = array_filter($result->statuses, function ($status) { 　　return 　　　strpos($status->user->name, '病院') && 　　　strpos($status->text, '治療') 　　; 　}); 　foreach ($statuses as $status) { 　　echo htmlspecialchars($status->text, ENT_QUOTES, 'UTF-8', false) . '<br>' . PHP_EOL; 　} } catch (TwistException $e) { 　 　echo $e->getMessage(); 　 } このライブラリでは、エラーが発生しときにはTwistException例外オブジェクトがスローされるようになっています。それをcatchして処理するだけでいいので、issetでチェックする必要がありません。ゆえに以下のように「->」でつなげて書けてしまうのもメリットの一つですね。 $statuses = $to->get('search/tweets', $params)->statuses; なお、前の回答でも今回の回答でも出力時にhtmlspecialcharsを通していますが、第4引数にfalseを渡していることに着目してください。これはTwitterのエスケープの仕様が不十分なことによるものです。詳しくは以下の説明を読んでください。 https://github.com/mpyw/TwistOAuth#tweets-are-al … http://php.net/manual/ja/function.htmlspecialcha …
＞通常のhttp環境下では正常にCSVダウンロードができている これはX-SEVERのPHPから何らかの関数で外部サーバーにhttpsで接続すると データが受け取れないということですね？ 当該のX-SEVER上のクライアントになるブラウザからならダウンロードできる のでしょうか？ ファイアウォールかプロクシの問題のような気がしますが PHPの関数はなにを利用していますか？
以下のものは必ず右辺は静的な値でなければなりません。 ・クラスプロパティ宣言 (private, protected, public, var キーワード) ・クラス定数宣言 (constキーワード) ・定数宣言 (constキーワードを使う場合のみ、define関数による定義は除く) ・静的変数宣言 (staticキーワード) 静的な値の例を述べます。 ・null ・true ・1 ・'hoge' ・array() ・array(3 => 'hoge', 'five' => array('fuga')) 以下のような特徴があると思われます。 ・変数展開を使ってはいけない ・演算子を使ってはいけない ・関数を使ってはいけない (arrayキーワードは関数ではないので大丈夫) ・クラスのインスタンスを生成してはいけない ただ、PHP5.6からはこの制限が少し緩和されるようです。 http://php.net/manual/ja/migration56.new-feature …
可能性はいくつかありますが一番多いのはUTF8のBOM BOMなしで保存してもだめでしょうか？
$_SERVER["REQUEST_URI"]
仕様を固めたほうがいい点に関してはyambejpさんに同意です。 とりあえずそれっぽいのを作ってみました。 http://ideone.com/FR3iRe
mysqlを利用したページングであれば SQL文でLIMITを利用してページ当たりのデータ数を調整すればいいでしょう。 必要な情報は以下があれば過不足ないでしょう ・カレントページ(1ページ目から数える) =$currentPage ・１ページ当たりのデータ数 =$perPage ・全データ数 =$totalItems (場合によってはメニューに表示する上限数もあってもよいかも) 現在のページを表示するなら SELECT * FROM db LIMIT ($currentPage -1)*$perPage,$perPage; でよいでしょう。 ceil($totalItems/$perPage)だけページ数が発生するので 各ページのメニューをつくってgetでデータ渡ししてやればよいでしょう 面倒であればなにか適当なページャーを利用してみてください （PEARなどにも用意されています。）
もしかしたらUTF8のBOMが影響しているかもしれないので ファイルを保存する際にBOMなしを選択してみてください （エディタの機能なのでご利用の環境にあわせてください） たとえば、こんな感じでエラーが発生しているかどうか確認するのもよいでしょう <?PHP ini_set("display_errors",1); error_reporting(-1); header("Location: http:うんたらかんたら");
提示されたソース以上はほぼ無理だと思います。 私なら $setting = '2013'; $year = $setting . ($setting === date('Y') ? '' : date('-Y')); ここまでが許容範囲。やればやるほど読みにくくなるので、ある程度で抑えるのが吉です（あとで読む方の身にもなってくれということで）。
>一般的なアメブロなどのブログシステムでは、そのような変数は >URLについていないかと思います。 Wordpressあたりでは RewriteEngine On RewriteBase /wordpress/ RewriteRule ^index\.php$ - [L] RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule . /wordpress/index.php [L] とやって、全部index.phpに渡して、あとはwordpress/index.phpが適宜処理します。example.com/aaa でアクセスすると、wordpress/index.php で$_SERVER['REQUEST_URI'] で　"/aaa" が受け取れます。 それ以外にもrewriteするときにQueryStringに変換する（example.com/aaa を example.com/index.php?user=aaa にする）ケースもあります。なのでアクセスしているURLと内部的な値の受け渡しは必ずしも一致しません。 >あらかじめユーザーごとのフォルダにuser_id.txtのようなファイルを用意し、 >そこに書かれているidを読み込んでいるのでしょうか？ えっと・・・。質問者さんがすでに書かれているように「データベースを使う」方が一般的です。わざわざテキストファイルを使う意味はありません。データベースで一元管理します。 >管理画面からユーザーが記事を投稿した時に、$user_idをファイルに >埋め込んだ動的なphpファイルを生成して保存しているのでしょうか？ 記事テーブルにデータを追加するだけです。 まずはWordpressあたりを動かして「各々のテーブルの設計がどうなっているのか」「どういう動きになっているのか」を学ぶといいと思います。
少し古いドキュメントですが、一読をおすすめします。 安全なSQLの呼び出し方 - 情報処理推進機構 http://www.ipa.go.jp/files/000017320.pdf MySQLの場合はデータベースへの接続方法によっては、 DBMSへ引き渡す前に変数とクエリが結合されてしまうようです。（動的プレースホルダ） そして残念なことに、この接続方法がデフォルトになっているようです。 そして、上記のドキュメントには、次のように記述されています。 ---------------------------------------------------------------------------------- 静的プレースホルダは、SQLを準備する段階でSQL文の構文が確定し、あとからSQL構文が変化することがないため、SQLインジェクションの脆弱性が生じません。 それに対して、動的プレースホルダは、バインド処理を実現するライブラリの実装に問題があると、SQL構文が変化する可能性があり、SQLインジェクションの脆弱性が生じる可能性を否定できません。
xamppは、「Apache,php,MySQL」を一括インストールするためのものです。なので個別にインストールしたときとは状態が違います。質問者さんは、あくまでも『xamppをインストールした』だけです。 逆に一括のアンインストールと個別のアンインストールが混在してしまう方がわかりにくいと思います。そもそも個別にインストールするものとは「多少初期設定などが違うもの」になっているわけですしね。
３年ほど前に少しだけファーストサーバを利用していましたが、PHPのバージョン（モード？）切り替えみたいなものが、ファーストサーバのコンパネから操作できませんでしたっけ？ かなり前なので仕様変更がされているかもしれませんが。 No.2の回答者様がおっしゃる様に、.htaccessの原因が高そうですが、echo等で簡単な文字列を吐き出すファイルを設置しても同じエラーが返りますか？ パーミッションも含めて、色々試しても上手く行かなければファーストサーバ自体に問い合わせた方が良いと思います。 しかし「サーバ側の問題」という様な問い合わせ方で無いと、「技術的な質問に対する回答はできません」といった様な定型文で返される可能性があります。
つ ストアドプロシージャ http://dev.mysql.com/doc/refman/5.6/en/stored-pr …
普通にbakeして生成したコードだとどうでしょう？ もし普通の速度であればSmartyが問題だと切り分けられるはずです。 自作なのかgithubとかから拾ってきたのか分かりませんが、何かしらのヘルパー等を使ってSmartyでレンダリングさせてると思いますが、その処理が失敗してて重くなってる可能性は考えられませんか？ あくまでも個人的な意見ですが、CakeとSmartyを組み合わせるのは辞めたほうが良いと思います。
素直にこう書いちゃダメなんですか？ date('Ymd', strtotime('-1 day', strtotime( 'last day of -2 month' )))
まず、ご質問の内容はPHPではなく、JavaScriptの分野になります。 ご質問の内容についてですが、次のように修正してみてください。 ●JavaScript部分（confirmの確認の結果を返しています） function showData(){ return confirm("表示しますか") } ●ボタン部分（onClickにイコールと、return 関数名、のようにします） <input type = "submit" name ="Display" onClick="return showData();" value="表示"> ボタンでは、クリックしたときにshowData関数が呼ばれます。 showData関数では、confirmの結果、OKが押されていればtrueを、キャンセルが押されていればfalseをボタンに返します。 そうすると、OKのときには送信ボタンとして機能し、キャンセルのときには送信しないようになります。
「下記と同等機能」という意味がわかりません。呼び出し側で&を付与することはないので array_walk($ary,"userfunc",&$hoge); ではなく array_walk($ary,"userfunc",$hoge); と書いて function userfunc($val, $key, &$arg) { と受けるのでは？ それともarray_walkが終わって時点でもuserfuncで処理した最終結果の値を使いたいということですかね。そうなるとuserfunc側でglobal宣言するか（引数としては渡さない）処理した結果を別のglobal変数に代入してそれを使うしかないです。array_walkの定義として出来ないものは出来ません。 http://www.php.net/manual/ja/function.array-walk … array_walk($ary,"userfunc"); function userfunc($val, $key) { global $hoge; （蛇足） 「PHP5.4で」というのはもっとわかりませんね。この記述が可能なバージョンがあるということでしょうか。
SimpleXMLは最後に文字列へのキャストが必要なところがネックです。 http://ideone.com/3eZeC7
mtssb-mail.php の 43行目からのbooking_mail()の中で「送信先が存在したら送信」するようにはしていますが、送信したときしか戻り値がないにも関わらず無条件に戻り値チェックしていますね（82行目からの記述）。 ＃undefined variables にならないのが謎ですが・・・ if (!empty($client_to)) { $client_ret = wp_mail($client_to, $subject, $client_content, $this->fromshop); } を if (!empty($client_to)) { $client_ret = wp_mail($client_to, $subject, $client_content, $this->fromshop); } else { $client_ret = true; } とでもすればいいんじゃないでしょうか。
色を変えるだけなら合致したときだけクラスを設定するのが妥当ですね こんな感じ？ <style> table{border-collapse:collapse;} td{border:solid 1px #000000;text-align:center;} .red{background-Color:#ff0000;} </style> <?PHP $a=range(1,10); $b=array(1,4,8); print "<table>\n"; for($i=0;$i<count($a);$i++){ print "<tr>\n"; $class=(in_array($a[$i],$b))?" class=\"red\"":""; print "<td{$class}>\n"; print $a[$i]; print "</td>\n"; print "</tr>\n"; } print "</table>\n"; ?>
action属性の値を「phpで」変更することは出来ません。代替方法として （１）クライアント（ブラウザ）側の処理なので、JavaScriptで行う （２）受けとったphpスクリプト側で処理を分ける（includeするファイルを変えるなどでも可）。 のどちらかを選択することになります。 なお、例示されているhtmlは文法的にあまりに酷いです（まともに動きません）。いくら「例」でももうちょっとキチンとしたhtmlを提示してください。このhtmlではJavaScriptでの処理を例示しようにも書きようがありません。
テンプレートはphpスクリプトにincludeで読込んでいるんですよね（readfileなら何もやりようがないので）。 $_SERVER['SCRIPT_NAME'] をチェックすればいいのでは？ <?php if ($_SERVER['SCRIPT_NAME'] === '/index.php') { print '<link rel="stylesheet" type="text/css" href="css/index.css">' . PHP_EOL; } ?>
ちゃんとなりますが。 【ソース】 <?php $html = "www.sample.com/hoge"; $html = str_replace("www.sample.com/hoge", "hoge.hogeoge.net", $html); echo $html; 【結果】 I:\WebApp\php>php.exe test.php hoge.hogeoge.net I:\WebApp\php> $htmlの中身に対象文字列がないだけでは？
> 初期値が取得できたときはその初期値と一致した配列の値を表示する、、、 > 初期値が取得できなかった場合は配列の決まった値を初期表示する、というようなことがしたいのです つまり$start_time[$j]の値が取得できない場合ということですよね？ それなら$start_time[$j]が取得できなかった場合のコードを書けば済むだけだと思いますが。 例えばPHPは緩いですから、取得できなかったら意図的に$start_time[$j]を作り上げてしまえば、後のコードも変更する必要ありませんよね。
あ、ついでにもう一つ UTF8で保存しているのであればBOMが悪さすることもあるので BOMなしで保存してください
PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 No.2さんが仰るのは、上記で紹介している「PDO::ATTR_PERSISTENT」のことですね。このオプションはぜひ有効化しましょう。
Cakeはブラウザに設定されている言語設定によって言語を切り替える仕組みになってます。 Consoleで起動した場合は言語設定が読み取れないのでデフォルトで表示されているのだと思います。 日本でしか（または日本人しか）使わないのであれば言語設定を強制したら良いかと。 Configure::write('Config.language', 'jpn'); を書いたら日本語で固定されます。 bootstrapに書けば全てのアクセスに対して固定されます。 コンソールだけ強制したいならコンソール側のconstructor辺りにでも書いたら良いような気がします。 ただし、コンソールアプリは日本語が表示できないアプリだと文字化けするのでご注意を。
一つ重要なことを書き忘れました。 PDO::ATTR_EMULATE_PREPARES このオプションをFalseに設定している場合は先ほど危険と説明したケースにおいても安全です。デフォルトはTrueなのでご注意を。
前回の回答に付け加えるものは何もないと思います。 http://oshiete.goo.ne.jp/qa/8736837.html 「どういうソースを書いているのか」を示さずに現象だけ（しかも相当に特殊な現象）書かれても、回答者はエスパーではありません。
たとえば http://php.net/manual/ja/security.globals.php 自己責任できちんと処理をしていれば問題ないのですが 旧バージョンだとデフォルトでセキュリティが甘い状態だったりするので よほど知識がなければ旧バージョンを使いつづけることはむずかしいことです まれにですが、PHPでもクラッシュを伴う致命的なセキュリティホールが 発見されることがあります。あまり古いバージョンだとリビジョンでの セキュリティ対策がされないケースもあるので、注意が必要です。 言い方がわるいかもしれませんが、古いバージョンを使いつづけるということは すべて自分でなんとかできる人間の特権です。 以下マニュアルを参考にご自身で判断されるとよいでしょう http://php.net/manual/ja/security.current.php
mysqli_query()で実行するのは変数など渡さないような単純なSQL文です どうしても変数を渡したい場合は#1さんの指摘するよう mysqli_real_escape_string()でエスケープ処理をしてください http://php.net/manual/ja/mysqli.real-escape-stri … mysqli_系でもプリペアド処理ができるのでそちらを利用する方がいいと思います http://php.net/manual/ja/mysqli.prepare.php
> $query = "SELECT * FROM $editpagename ORDER BY id DESC LIMIT 0 , 50"; $query = "SELECT * FROM " . $editpagename . " ORDER BY id DESC LIMIT 0 , 50";
サーバパス（フルパス）で指定すれば（読み込み権限さえあれば）どの場所でも可能。当然、VirtualHostで割り当てたディレクトリより上の階層くらいは何の問題もない。 ＃include_pathに /usr/local/php とかもあるわけだしww >あるディレクトリをドメインのように利用する 正確にはVirtualHostで、そのホスト名でのアクセスに対してのDocumentRootを設定するだけ。
＞アプリケーションを選択させられます。 可能性としては、特殊なheaderを吐いているとかかな
ちなみに、最初に error_reporting(-1); ini_set('display_errors', 'On'); を実行しておくと全てのエラーが表示されるようになります。ご提示のソースコードにはエラーを引き起こす要因が3種類含まれています。2つに関しては以下を読まれれば分かると思います。 PHP Manual - 配列ですべきこととしてはならないこと http://php.net/manual/ja/language.types.array.ph … Qiita - $_GET, $_POSTなどを受け取る際の処理 http://qiita.com/mpyw/items/2f9955db1c02eeef43ea もう1つ問題なのは、session_is_registered関数を使用していることです。 PHP Manual - session_is_registered http://php.net/manual/ja/function.session-is-reg … この関数はPHP5.3の時点で非推奨です。PHP5.4以降では使用することすら出来ません。isset構文を使って調べましょう。なお、PHP5.3系のサポートももう切れていおり、認められる最も古いバージョンはPHP5.4系です。古いバージョンでは言語自体に脆弱性が発見されても修正が行われない等の問題点があります。「サポートの切れたWindowsXPを使っている」ぐらいの危機感を持ってください。
>１ファイルずつ開いて検索を繰り返すのが普通なのでしょうか？ そういう意味ではgrepという機能がありますよ。秀丸に限らずほとんどのエディタで使用できます。関数の定義元を探す際や、関数が使われている箇所すべてを探すときにgrepをよく使います。 特定のフォルダ以下のすべてのファイルを検索対象に処理できます。結果は多くのエディタで新しいタブでヒットした一覧が表示され、該当の行でタグジャンプの機能を発動すると対象ファイルが開きます。 秀丸でのgrepの使い方やタグジャンプの発動の仕方は秀丸のヘルプを見てみてください。
すでに回答がありますが・・・ 一般的には、substr(sha1(microtime()), 0, 15) 程度でじゅうぶん実用になります。まず重複することはありませんが、絶対ではありません。∴ ミッションクリティカルな場合にはDBなどで管理すべきです。
正規表現にする必然性がないのでは？ $arr = array(); if (substr($str, 0, 12) === 'fetchAllWith') { $arr = explode('And', substr($str, 12)); }
setcookie("TestCookie", $value, time()+3600, "/"); のようにパスをルートで設定を追加してみては。
phpはコンパイル時に --enable-mbstring オプションを指定しないとmb関数はインストールされません。 phpのインストールはどのように行ったのでしょうか。
>環境変数「PATH」さえ通れば、問題が解決するのではないか まぁそうだと思います。おそらく単にPATHの値がきちんと設定できていないだけではないかと思います。とりあえず最低限まず、「PATH」が通っているのか確認しましょうよ。 で、なぜ自分で確認しないのでしょうか？ PATHを表示させる方法が分からないのですかね。 「echo getenv('PATH');」でも 「phpinfo();」でも何でもいいですよ。 いうまでもないことですけど、問題が起きているのはWeb上なので、 Webサーバーにtest.phpなどを配置して確認してくださいね。 話はそれからです。 で、PATHが意図せぬおかしな値になっているのではないかと思います。そのPATHの値を見れば何をミスったのかが分かる可能性が高いと思います。 たぶん既存のPATHに追加するつもりで間違えて、上書きするような記述をしたとかそういう話だと思います。
>参考になるようなサンプル どういう部分で参考にしたいのでしょう。まさか「スケジュール共有管理ツール」そのまんまのソースコードという話ではありませんよね？ユーザ管理部分とか、カレンダーの表示/入力部分とか細分化して考えた方がいいと思いますが・・・ >既にあるアプリケーションの使い方等は出てきますが >ソースコードを公開しているものが見つかりません。 phpで作られたもので。でしょうか？一般的には（もし存在するならば）オープンソースになっていると思いますが（当然PHP以外の言語だと話は別です）。OpenPNEだってカレンダー（予定表）はありますしね。 古くて開発が止まってますが（なので相当に手を入れないとダメかもしれない）こんなものもあります。 http://www.unicale.com/
#2です。念のため http://php.net/manual/ja/session.idpassing.php
ちゃんと返ってきますが。 <?php $text = "日本 中国 オランダ　ロシア"; $result = preg_split("/[\s　]+/", $text); var_dump($result);
>1枚だけでなく、ランダムで連続して表示させる方法 それはサーバ側のphpじゃなくてクライアン側のJavaScript（jQuery）側で行うことです。 まずはjQueryのプラグインを探してください。で、そのプラグインで複数の画像ファイルを指定している記述をphpで（配列で持っているのをshuffleして）書き出すだけです。
>アクセス数が増えるまではレンタルサーバーでも平気ですか？見たところクラウドは料金も高そうですし。 クラウドといってもいろいろあります。Google App EngineやHeroku、OpenShiftといったサービスは、一定のアクセス枠内なら無料です。それ以上にリソースを消費するようになったらその分だけ必要な料金を払う、という感じです。探すと、無料で始められるところは意外とありますよ。 ただ、PHPをサポートするクラウドは意外と少ないのですよね……。ですので、PHPにこだわるなら、当面、レンタルサーバーというのも一つの手だと思います。ただ、私個人は、レンタルサーバーはかったるくてやってらんねーという思いが強いのでクラウド一択です。このへんは好みの問題もありますね。 >調べてみましたが、簡単に実装できて便利そうですね。やはりMVCフレームワークの方が良いのでしょうか。 どちらもピンきりですので、どちらがいいか？という問題では無いと思います。開発するサイトにはどちらが適しているか？ですね。 ただ、開発の勉強ということも兼ねて考えるなら、何かしっかりしたMVCフレームワークを一つ使って学びながら作ったほうが、後々残るものが多いように思えます。MVCフレームワークは、現在のサーバーサイド開発の一つのスタイルとして定着しています。このMVCフレームワークの考え方や設計思想などを知っているというのは、開発者として大きな武器となるはずですから。
シングルコーテーションの箇所をダブルコーテーションで書けばよいと思います。 for ($i = 1; $i <= 5; $i++) { if($hoge["test_$i"]){ } } ダブルコーテーションの内の変数は展開されるからです。 $i = 1; echo 'test_$i'; //=>test_$iが出力 echo "test_$i"; //=>test_1が出力 もしくは、文字列を結合したものもキーに使えます。 for ($i = 1; $i <= 5; $i++) { if($hoge['test_' . $i]){ } }
#2です デフォ値を指定したいならこんな風にしていもいいかもしれません <table> <?php $defaultvalue=array(1=>1,2=>3,3=>7,4=>10); for ($i= 1; $i < 5; $i++){ print "<tr><td>\n"; print "<select name=\"test{$i}\">\n"; for ($j = 1; $j <= 10; $j++){ $selected=($defaultvalue[$i]===$j)?" selected":""; print "<option value=\"{$j}\"{$selected}>{$j}</option>\n"; } print "</select>\n"; print "</td></tr>\n"; } ?> </table>
いやいや、おかしくないですｗ > 2ページ目 > http://www.example.com/hoge/2/page:3 page:3はCakePHPで言うnamedパラメータと呼ばれるものです。 コントローラで$this->request->params['named'] をダンプすると表示されます。 このnamedパラメータはCakePHPでは良く出てきます。 > 理想 確かにRouterを駆使したら出来るかもしれないけど、ページネーションはページ数だけ維持するとは限りません。 Bakeしたソースだと一覧(index)で表のタイトルをクリックしたらそのカラムで並べ替え（昇順/降順）が可能で、その並べ替えの状態を維持してページングを維持してますが、ソート対象のカラムや並び順もnamedパラメータに乗せてページ遷移してるから状態維持できるんですよ。 次のページに行ったらID順に戻ってたらページングにならんでしょ？ Routerに小細工するとそういうケースが出てきて行き詰まる要因になります。 やるとしてももうちょっと熟練されてからが良いかと。 > また、パラメータがついた場合も ?パラメータのことをQueryStringと言いますが、これはコントローラ側で設定します。 やり方は参考URLを参照してみて下さい。 > パラメータをクエリストリングで指定できるような設定もあるようだ。下記のようにparamTypeにquerystringを設定すると、「?page=2」のような指定で遷移した。 の箇所 参考URL：http://j-caw.co.jp/blog/?p=264
＞※$_POST['test' + $i] ＞これでも取れませんでした 文字列の連結ですから・・・ $_POST['test' . $i] ですね ちなみに今回の例だと ＞<select name="test<?php echo $data?>"> の個所を <select name="test[<?php echo $data?>]"> としておけば <?php foreach($_POST['test'] as $key=>$test){ echo $key."→".$test."<br>\n"; } ?> で受けられます
すでに的確なツッコミがありますが（汗 ソースをSJISで書いているならば（本来sjisはphpでは使ってはいけない文字セットですが、それは置いといて） >mysql_query("set names sjis"); でなく、 mysql_set_charset('sjis'); とすべきだし、実行するタイミングは「MySQLに繋いだ直後」に行うべきです。提示されたソースでは >$result = mysql_query($sql,$con); >mysql_query("set names sjis"); update文の実行後に set names が実行されていますので、update文に対して何の効果も与えていません。 なお「SJISを使う」メリットは何もありませんので、UTF-8で書くことをお勧めします（MySQLでは文字セット名が「utf8」なので注意）。
一意どうのこうのというより、認証制限をかけたいということでしょう。 ログインする際にセッション管理してください。 ページ表示が行われるリクエストが行われる度にセッション情報からログイン認証を 行った上でページを表示してください。 http://php.net/manual/ja/session.examples.basic. …
うーん。database.phpを設置したにも関わらず 「CakePHP is NOT able to connect to the database.」 が出るんならやっぱりdatabase.phpの設置ミスか中身のミスかなぁ。 MySQLの待ち受けやポート開放、ならびにPHPにmysql接続機能が入っているかは phpMyAdminが出来ていることから問題ないと思われる。 > cakephpがmini_bbsへの読み書きが本当にできるようになっているかどうかを > 確認する方法を教えていただければ幸いです。 それは普通にphpMyAdminでcakephpユーザでログインしてみればいいです。 少なくとも読み込めるならばログイン後のデータベースツリー一覧に出てきます。 書き込みできるかは実際にCREATE TABLEとかしてみないと駄目かも。 閑話休題。 今ちらっとぐぐってみたらPHPにpdoエクステンションが無い状態もこのエラーが表示されるらしいかも？ こちら（「Mac PHP PDO」とかでぐぐるとか）でも情報を集めてみるといいかも。 この辺の説明しとくと、PHPにはMySQLに接続するために主に3つの手段がある。 mysqlエクステンションとmysqliエクステンションとpdo_mysqlドライバーだ。 このうち、phpMyAdminはmysqlエクステンションを用いるので、 上でphpMyAdminで繋げられてるから接続は問題ないはずという根拠は崩れる事になる。 mysqlエクステンションが入っててpdoエクステンションとpdo_mysqlドライバーが入ってないという可能性があるからだ。
PHPだと思って読んでしまいました。これ、JavaScriptなんですね。紛らわしい書き方はしないほうがいいですよ。 $kekka_time = explode(".",$kekka_min); 　↓ $kekka_time = ("" + $kekka_min).split("."); としてください。
いまだにmysql系の関数を使っているのはいただけませんが （せめてmysqli系にシフト、もしくはPDOで） とりあえず考え方だけ ＞$row = mysql_fetch_array($query,MYSQL_ASSOC); をwhileで回す。 while($row = mysql_fetch_array($query,MYSQL_ASSOC)){ mail($mail, 'kenmei', $row[key]); } むしろ、ほとんどの場合fetchしたデータは常にwhileで得る方が現実的
>while ($row = $stt->fetch()) { >print($row['password']); >} このループを抜けたとき、$row は false です（読むレコードがなくなってから抜けるので）。せめて if ($row = $stt->fetch()) { if($row['password'] == $_POST['password']) { header('Location: ログイン完了画面のページ'); exit; } } print('入力内容が間違っています。'); としてください。 本来は $stt = $db->prepare('SELECT password FROM `information` WHERE (email=:email')and(password = :password)); $stt->bindValue(':email', $_POST['email']); $stt->bindValue(':password', $_POST['password']); $stt->execute(); if ($row = $stt->fetch()) { header('Location: ログイン完了画面のページ'); exit; } print('入力内容が間違っています。'); とするのが一般的だと思います。 というかパスワードをそのまま格納するのはやめましょう。ハッシュを取るとか復号不可の暗号化をするとか（あまりセンシティブなものでなければsha1でもいい）。
timeoutが頻発するようではサーバーの負荷も大きいでしょうから ajaxも危険ですね ユーザーが無意識な分バックグラウンド処理がたまりすぎて オーバーフローするかも・・・ 考え方は３つ 第一にそんな作業はWEBアプリ上ですべきではない 第二にアルゴから考えなおして高速化を図るべき 第三にどうしてもというなら作業を予約しておく仕組みをつくり 結果をデータベースに登録、ユーザーはアウトプットをDBから取り出すようにする という感じでしょうか
＞無料で実現するようなWEBシステム まずhttpサーバーを用意する気はあるのか？ httpサーバーにphpがのっているとしてご自身でプログラムを組むスキルはあるのか？ の２点がはっきりしないと答えようがないですね 他人のシステムにフリーライドする前提ならご希望の要件にぴったり 一致させるのはかなり厳しいと思います （ようはどこまで無料にこだわるかですね） ライブラリさえあれば自力でなんとかする気があるなら (1)何種類かある画像の中から選択し、 (2)その画像の横に好きな文字を入力してもらい、 (3)そのデータを受信する の3つの要件は、機能としては画像を合成する機能と、メールを送る機能が あればいいのですからさほど難しいものではありません。 データ管理まで手を出すと若干ハードルはあがりますが、きちんとした 手順を踏めば高度な技術は必要ないので実現できるでしょう ただし気になる点が２点あります。 一つはフォントを二次利用する場合、ライセンス料が発生する可能性があること。 もう一つは合成した画像でdxfを生成できるクオリティが確保できるか。 そのあたりは仕様をつめてみないとなんとも言えませんね
すでに回答がありますが「phpからjavascriptを実行」は出来ませんね。 ブラウザ側のhtmlソース（静的なものかphpなどで動的に生成しものかは問わない）で動作するJavaScriptがAjax的に（非同期に）サーバに問い合わせてその結果でhtmlソースを書き替えることになります。 で、そのAjaxでの問い合わせに対してサーバからデータを返す部分をphpで作ることになります。おそらくはjson形式にして返すのがJavaScriptで扱うのに楽だと思われますので、そのあたりも学んでみてください。
#2は、いずれにしろいい方法ではありません 失礼しました、あしからず
PHP5.4以降大きく下位互換がけずられたため とくにPEARではエラーが大量に出るようになっています。 http://php.net/manual/ja/migration54.incompatibl … とりあえず error_reportingでE_STRICTをはじいてください
三項演算子です。 PHPBook - 三項演算子 http://www.phpbook.jp/tutorial/if/index8.html isset($get_meta[0]) ? $get_meta[0] : null この式は、$get_meta[0] が定義されていて且つ null でないならば $get_meta[0] を、未定義または null でれば null を表すことになります。 なお、もしスーパーグローバル変数に対してこれを適用するのであれば、filter_input関数を使う方がオススメです。記述がシンプルになるだけでなく、意図せず配列をセットされるリスクも防げます。 Qiita - $_GET, $_POSTなどを受け取る際の処理 http://qiita.com/mpyw/items/2f9955db1c02eeef43ea △ isset($_POST['data']) ? $_POST['data'] : null ○ filter_input(INPUT_POST, 'data')
たぶん空白入りの値が POST されているのだと思いますが。 fputcsv する前に、 $val = array_map('trim', $val); で、すべての要素に、trim を適用すれば良いように思います。
FORUM形式でよければphpBBとか如何でしょう。設定が簡単とは言い難いですが、機能的には不足ないと思います。 ＃要MySQLなので、レンタルサーバの選択には注意（有料無料問わず）。
POSTされてきたデータをinputタグのvalue属性に書き出せばいいのです。 <input type="text" name="hoge" value="<?php echo $hoge; ?>">
CSVの容量と検索項目しだいですね 容量が少ないなら、fgetcsv()ですべて読んでから検索するなり、 通常通りfreadで検索ワードがヒットするまで読み続けるなりでいいでしょう 容量が大きくなったり複雑な検索、集計が必要ならデータベースを からめないときびしいと思います。 手軽にやるならSQLite、本格的にやるならMySQLでしょうか
返信が遅くなり、申し訳ありませんでした。 IEでは上手くいって、Chromeでは上手くいきませんか・・・。 逆なら何となく納得できそうですけど。 一応私の方でも簡単にフォームを作って、ご提示いただいているソースに対して postして戻るボタンで戻った場合に、正常に入力データは残っていることは確認できました。 （ IEとChrome両方を試しました。 ） 多分関係ないと思いますが、ご提示いただいているJavaScriptが干渉してしまっているとか？ 一応削除してみてください。 あと、メタ情報に <meta content="86400" http-equiv="Expires" /> を記述するくらいしか、すみませんが思いつきません。
共有サーバであれば同サーバを使っている全ユーザーに影響する可能性があるので 知識のないサポセンだと確認がたらいまわし。 ライブラリをダウンロードして、自信の領域にアップロードしてインクルードパスを通して インクルード
そのURLは所有者が存在するので例示として使ってはいけない 使ってよいのはexample.com preg_match("/^https?:\/\/example\.com\/([a-z0-9_\-]+)\/$/i",$url,$match); $match[1]がユーザーID サブディレクトリがあるなら＄は不要 aaaaaaaaaaaaaaaaaaaaaaaahttpになっていても通るから eden3616さんの回答は不完全 -は特殊文字だから Ogre7077さんの回答は若干間違い 各回答は example9comでも通るから間違い
パッケージ管理されているバージョンFPDFをインストールするか、 任意のバージョンのFPDFをインストールするかの違いでしょう。 別にコンパイルするわけでもないし、任意のディレクトリに置きやすいから zipやtgzを解凍する方法でいい気がしますが。
>>どこを確認すればよいのか 「header」関数あたり？ >>「UTF-8」で表示するようにしているはずなのですが、 >><meta http-equiv="Content-Type" content="text/html; charset=utf-8"> コレよね。 コレはあくまで、この文章はUTF-8で書かれてんよ。ってのを、くっつけてやってるだけ。 仮にだけど、中身がSJISだろうが、Unicodeだろうが、「UTF-8なんだろ？じゃあUTF-8として開くぜ！」ってコトです。 出力してるデータが何形式なのか。は、また別なので、 ・データベース上、保持しているデータ ・サーバからページへ吐き出すデータ ・ページに表示するデータ の形式を気にしてやらなきゃいけない。 のがPHPかな。と思ってるので、メタタグの表示形式指定だけじゃ不足してるんだと思いますよ。 ってのが、今のとこの自分の理解です。
OSとPHPのバージョンは？ 状況よくわかりませんがセーフモードつかっています？
class Combin { protected $result; protected $datas; protected $num; function __construct($datas) { $this->datas = $datas; } function select($num) { $this->result = array(); $this->num = $num; $this->recursive(array(), 0); return $this->result; } function recursive($buff, $index) { if (count($buff) == $this->num) { $this->result[] = implode('-', $buff); return; } for($i = $index; $i < count($this->datas); $i++) { foreach($this->datas[$i] as $v) { $this->recursive(array_merge($buff, (array)$v), $i+1); } } } } $arr_lst = array( array('aaa','bbb') ,array('AAA','BBB') ,array('111','222') ); $obj = new Combin($arr_lst); print_r($obj->select(1)); print_r($obj->select(2)); print_r($obj->select(3));
まずは $html = file_get_contents($url); を $ch = curl_init($url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); $html = curl_exec($ch); に変えるところからどうぞ。これだけでかなり速くなると思います。これで速度が足りなければ fopen で1行ずつ読み込んでいくことも検討しましょう。なお、提示された関数中の文字コードの羅列順序が不適切です（私もググって出てきたってことで以前はこれ使ってましたが、誤りです）。以下に正しい順番に直したサンプルを掲載しておきます。 function getPageTitle($url) { 　　static $regex = '@<title>([^<]++)</title>@i'; 　　static $order = 'ASCII,JIS,UTF-8,CP51932,SJIS-win'; 　　static $ch; 　　if (!$ch) { 　　　　$ch = curl_init(); 　　　　curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); 　　} 　　curl_setopt($ch, CURLOPT_URL, $url); 　　$html = mb_convert_encoding(curl_exec($ch), 'UTF-8', $order); 　　return preg_match($regex, $html, $m) ? $m[1] : ''; } また、そもそも遅い原因が「この関数の実行を繰り返している」ということであれば、今はオーダー表現で表せば O(n) 時間かかっていることになりますが、回線が許す限り O(1) の実行時間にする方法があります。これに該当する場合はその点の補足をお願いします。
他のやり方としては、cookie（セッション）を使うのが順当な所ではないでしょうか。 JavaScriptがわかるならJavaScriptでもできますが。
「Deprecated」は非推奨という意味です。5.3以降のPHPバージョンではpreg_matchなどの関数を利用することが推奨されています。以下は必読です。 PHP Manual - POSIX 正規表現との違い http://php.net/manual/ja/reference.pcre.pattern. … PHP Manual - preg_match http://php.net/manual/ja/function.preg-match.php こっちは参考程度にどうぞ↓ Qiita - 私の正規表現におけるポリシー http://qiita.com/mpyw/items/8dd5378cb01c877e1f7b また、あまり対策としては望ましくないですが、少ない手間でこの問題を回避したければ Qiita - $_GET, $_POSTなどを受け取る際の処理 #全てのエラーを表示 http://qiita.com/mpyw/items/2f9955db1c02eeef43ea … ここで紹介しているエラーを全表示するための方法で E_ALL | E_STRICT としている場所を ~E_DEPRECATED & E_ALL | E_STRICT と書き換えることでこの「非推奨」エラーのみを非表示にすることが可能です。
無料でと言うとstingerのことですかね。有料だと賢威だと思います。 stinger開発者の方のブログなんか読むとわかりますが、seoはアクセス数アップの基礎体力みたいなもので、コンテンツが良くないといくらseoが良くてもgoogleからペナルティ受けますし、検索も上位には上がりません。 そもそもseoとは検索エンジンのクローラーがサイトを巡回しやすいかどうかということなので、seoを強くするということは、単にクローラーが自分のサイトをもれなくきちんと巡回してくれるということです。もれなく巡回してくれた結果、検索エンジンの上位に表示させる価値がないと判断されることも当然あります。 実際、stingerもなにかずるいことをしてseoを強化しているわけではありません。単純にクローラーに対して記事をわかりやすく構成しているだけで、それ以上のことはしていません。開発者の方はseoよりもむしろ、広告のクリック率や、記事をいくつも読んでもらうことに対して注力している印象があります。 一番大切なのはコンテンツの質と記事の本文の書き方です。やっぱり検索する人を想定したタイトルと本文を付けると、アクセス数は変わります。といっても、結局はこれも広告のキャッチコピーと一緒なので、検索エンジンに受けるように書くものではなく、検索する「人」に受けるように書くものですが。 最初はどんなにいい記事を書いても、googleの検索結果に表示されるのはせいぜい3ページ目とかその辺りです。それでもその記事の内容に興味を持っている人が多くて、なおかつキャッチーなタイトルがついていれば、1記事で一日10人はアクセスが有るでしょう。そういう記事をいくつも書いていくと徐々にサイト全体の価値が上がり、最終的にgoogleに高く評価されるようになります。それが本来のseoですし、最近のgoogleのクローラーはseoのテクニックで騙せるレベルではなくなっているので、裏をかくようなことはせずに、単にいい記事を書くことが一番の最良のseoになります。 結論をいうと、seoは完璧には無理でもある程度の水準までできていて当たり前。逆に完璧にseoできている必要はない。なぜならseo以上に大切なのはいかに検索をしてきた人がクリックしてくれるかなので。ちなみに、仰るとおり、テーマを同じにすれば確かに外見的には似通ったブログが沢山できることになりますが、内容が独自のものであれば特に問題はありません。
>data.txtのファイルの中身を確認しましたが、何も記述されておりませんでした。 そうなると、こちらで確認したものと全然違う動作ですね（こちらでは確実に追加されていきましたので）。 というか「何も記述されていない」のに「1行だけ表示される」という時点で滅茶苦茶です。スクリプト内のファイル名とチェックしているファイル名が違っているとしか思えません。 >尚、data.txtは.txtの拡張子で保存しています。 その表現だと、data.txt.txt みたいに思えます。ファイル名「data.txt」だけでいいです。WinPCで「登録されている拡張子を非表示」の環境なら、「data」としか表示されていないかもしれませんが・・・ ＃プログラミングするなら「拡張子非表示」はやめるべき。間違いの元です。
$filenameをshift_jisに変換したらできる気がします。 参考URL：http://pentan.info/php/mkdir_ja.html
基本的に業務で行う場合は全部アクセサを設けています。 どんな時でも、メンバ変数をpublic宣言することはしません。 クラス設計として良しとされない方法論は取りません。 大したアクセス数を望めないもの(主にプライベートなもの)はマジックメソッドで処理してます。 それでも、値の設定を行う場合などに特定の条件下でないとセットされないなどの、 制御を必要とする場合はアクセサを個別に実装します。 メンバ変数をpublicにして直接アクセスしようとする実装方法は、単に正しい設計を 無視しためんどくさがり屋か、チームや他社との共同開発経験が浅かったり、 利用側に好き勝手された経験が少ない人だと思います。 多分。 メンバ変数の直接操作におけるメリットは、『生産性は最も高い』でしょう。 その分、その人しかいじれない怖いソースになると思いますが。
＞$arr = array("gif","jpg"."png"); 「jpg」と「png」を「.」で結合していますが、これは「,」で分離したい？ ＞cid:(\d{2,}) で得られるものは例示だと「02」に当たる部分ですが $arr["02"]を参照しても得るものはありませんが、02を数値として読み替えて $arr[2]を参照したい？ また$arr[2]は「png」だけど、例示だと「jpg」、書き間違い？ $arr[xx]のxxがキーとして存在しない場合、例外処理など放置でよい？ ＞@(\d{6}).(\d{6}) このままだと「.」は「なにか1文字」にマッチするので「.」という文字ではない 「\.」（より厳密には「\\.」）にしないとまずいです 以上踏まえて、かなり好意的に解釈してこんな感じ？ 以前はe修飾子というやり方もありましたが今は非推奨のようなので コールバックで処理しています <?PHP $arr = array("gif","jpg","png"); $text="cid:02@123456.123456"; $pattern="/cid:(\d{2,})@(\d{6})\\.(\d{6})/"; $body=preg_replace_callback($pattern,function ($matches) use ($arr){ $num=(int) $matches[1]; return "/bl/id/".$num."/".$arr[$num]; },$text); print $body; ?>
スラッグがうまく設定出来ていない可能性も考えてカテゴリーIDでの分岐を提案してみます。 ■HTML <!--ループ--> <div class="bgcolor-<?php $cat_now = get_the_category();$cat_now = $cat_now[0];$now_id = $cat_now->term_id ;echo $now_id; ?>"> 記事内容 </div> <!--ループここまで--> ■CSS .bgcolor-1 { background-color:#ff0000; } .bgcolor-2 { background-color:#ffff00; } ※「1」「2」の部分はカテゴリーのIDを入れて下さい。 カテゴリーのIDの確認はWPの管理画面でカテゴリーを編集するときのURL内のtag_ID=となってる箇所を確認するのが早いと思います。
php5-mbstringやphp5-mysqlなどのパッケージはインストールしたの？ pkgngを使っているなら % pkg info|grep php5 それ以前のものなら、 % ls /var/db/pkg|grep php5 をしたらインストールされているかどうかすぐわかるけど。
find('first',　のとき、降順設定しないと、取得する先頭１行目は最小値だけど、そこは設定してますか？ ちゃんと最大値を得るようになっていたとして、あとは、cakePHPよりは、MySQL innodb の問題じゃないかな。 http://dev.mysql.com/doc/refman/5.1/ja/innodb-lo … innodb のtransaction は、defaultは REPEATABLE READ で、select 文でのデータ取得時は、他者に読み書き可能なので、これを防ぐには、先に発行される select文に for update が必要です。これで、他者の読み書きをブロックします。 Modelの findメソッドでは、それを追加するすべはないので（接続先データベースによって対応の違う物は実装されていない） よって、 Model->query(string $sql ,array $placedata) メソッドで直接SQL文を渡して実行することになります。 プレースホルダーも使えるので、pdoでのプレースホルダー指定方法に則って作成するとよいです。 SQL例 SELECT max( number ) as number FROM exsample_models where classification=? and commoncode=? FOR UPDATE;
>しかし、ここでのnumberというフィールドだけきちんと定義されません。 そういうSQL文を書いているからです。 >$stt = $db->prepare('SELECT name, email, password FROM `users` WHERE number = :number'); $row['number']でなく$_GET['number']（同じ内容）を使うか、SQL文を $stt = $db->prepare('SELECT * FROM `users` WHERE number = :number'); としてください。普通は取得する列名を書き出すのも面倒なので select * from ～ としますねぇ（あとで項目が増えても大丈夫だし）。
あなたがどういう状況にあるのかわかりませんが、開発の経験がほとんどない方なのでしょうか？でしたら普通に周りの先輩などに聞けばいいと思うのですが。…まぁそれができない状況だから質問しているということなのでしょうかね。 月間5万のトランザクションという事だと私からすると小規模で、どんなつくりにしても問題は起きないだろうと思ってしまいます。将来アクセスが激増して月間500万になったとしても、30日*24時間*60分*60秒＝259万秒で割れば、1秒当たり1.9件です。ので普通にリアルタイムにDBにINSERTで何も問題はないでしょうね。さらにピーク時は平均の10倍のアクセスがあるのだとしても、1秒19件、1件当たり50msならば(そこまで行くとサーバー性能によりますが)ギリギリ持つと思います。というかそれくらいは耐えられるシステムを作りたいものです。 あと考慮することはDBの容量など。1レコードあたりのバイト数(もちろんインデックスも付与するのでしょうからその分の容量もきちんと考慮する事)と何件分・何年分保存するかの要件から保存に必要な容量を計算しそれを根拠にハードを確保したり、逆にハードが決まっているなら何件保存できるか逆算しておくべきでしょう。そして古いものは削除するのかとかその辺を考えます。「どのくらい使えるのか自分でもさっぱりわかりません」なんてことを言うものなら、入社1年目でもかなり恥ずかしい事だと思います。 それから検索ですかね。将来データが溜まった時に例えば100万件のデータを1画面で表示しようとすればどうしたってHTML作成に時間がかかってしまいます。ので、ページングしたり検索数の上限値を決めたり、期間指定を必須とし半年以内とするとか、データ数をしぼる何かしらの工夫は必要でしょう。 さらに、データの追加と検索はプロセスを分離した方がいいかと思います。万が一、検索時にデータを絞る処理がきちんとできていなくて、検索の応答が返ってこなくなってしまった場合などでも無関係にデータの追加ができるようにとか。
105行目 echo '<span>入会日</span>：'.$in_enter.; // 行末のドットいらない。 まともなエディタ使ってりゃ、気づかないはずないんだけど。 https://ja.netbeans.org/ http://www.jetbrains.com/phpstorm/
ご提示のプログラムに、肝心のjavascriptによるアップロード部分がか書かれていませんが、 AJaxによるファイルアップロードは予想以上に大変です。 HTML5対応ブラウザであれば、FormDataオブジェクトが使えるので比較的簡単に送信できます。 http://molaovo.hatenablog.jp/entry/20130111/1357 … しかしIE8以下のような「旧タイプ」ブラウザは内部でiFrameなどを生成して送信する仕組みを作り込まなければいけません。Flashを使う場合もあります。 クロスブラウザ判定などもあるので、普通はjQueryによるファイルアップロード用プラグインを使います。サーバサイドはそのまま使用できますし、アップロード後の画像表示も自由です。 ttp://webchoko-tips.com/2014/01/jquery-fileupload-summary/
チェックボックスのnameをどうしているかによりますね そもそもチェックボックスはチェックしなければデータが飛ばないので 普通にnameをつけていればissetでチェックすればセットされていないという 分岐にひっかかるでしょう また「hogehoge[]」的なカッコをつけたnameで拡張していれば isset($_REQUEST["hogehoge"])すると同時に is_array($_REQUEST["hogehoge"])もチェックする必要があります その上で、foreachすればいいでしょう 例示のものでいうと ＞if (isset($_POST['required'])) { ＞foreach ($_POST['required'] as $v) { となっているのは if (isset($_POST['required']) and is_array($_POST['required'])) { foreach ($_POST['required'] as $v) { とするか if (isset($_POST['required'])) { foreach (is_array($_POST['required'])?$_POST['required']:array($_POST['required']) as $v) { のようにしておくと汎用性があがります requiredが配列だと確定しているのであれば、手を抜いて if (isset($_POST['required'])) { foreach ((array) $_POST['required'] as $v) { という書き方でも通用します
<input type="submit" value="送信"＞ の最後の閉じカッコが全角になっているせいです。 ※XHTML1.0の場合はimgやbrの閉じスラッシュが必要ですが、HTML4.01は不要です。
フレームワークは、オブジェクト指向を理解した上でないと解析は難しいと思いますよ。 まずは簡単なクラスなどを自分で作ってみたりするのがいいのでは。 フレームワークになると規模が大きすぎて理解に苦しむと思います。 オブジェクト指向をある程度理解したら、PEARとかのライブラリを見るくらいで丁度いいかもしれません。
コントロールパネル→プログラムのアンインストール そこの一覧にインストールしたApacheがあるのでしたら、アンインストールしてください。
他のアパッチが立ち上がってないか確認する。 index.htmlの内容を書き換えて反映されるか確認する。 index.htmlをコピーしてtest.htmlを作成しアクセスしてみる。 index.htmlをindex.phpにしてアクセスしてみる。 など確認してみてください
フレームワークを使う使わないの2択に限定する 必要はないのでは？ 仮に既存のフレームワークを使わないと決めたと しても便利な点が1つでも2つでもあったら取り入 れれば良いだけだと思います。
個人的にはCookBookは入門としては向いてないと思います。 説明が理解し辛いと感じましたので。 本から入るのが分かりやすいかもしれません。 本を立ち読みできる本屋は近くにありませんか？ 実際立ち読みして分かりやすいそうだと感じたら買ってみるのが吉です。 cakephpの大枠が理解できたら自分が作りたいのを作りながら勉強するのが良いかもしれませんね。
>> $stmt->bindValue(":name", null, PDO::PARAM_NULL); >> ですが、 >> $stmt->bindValue(":name", null); >> できちんとnullが入っているので問題ない気がしますが、どうでしょうか？ NULLだけが特別視されると考えるのが良さそうです。SELECTで抜き出してくる時もNULLだけは型を保っていますし、言われてみれば当然の挙動だったかもしれません。検証有難うございます。
セッションIDはどうなっていますか？全部同一ですか？ もしそうなら、サーバ管理者に現象を報告して対処依頼するしかないと思いますけどね（私ならとっととサーバ移転する）。
まあまあ 画面設計を考慮しないで言うのも何なのですが、こういう従来系のWebアプリケーションのデザインパターンは俗に[BROWSE]＋[EDIT]と呼ばれるもので、定番的な内容です。 基本設計は「処理」＋「表示」であり、「表示」前に前画面から引継がれたデータを元に何らかの処理を行った後に画面を表示します。 データ引継ぎはForm送信であったり、クエリ文字列であったり、セッション・クッキーです。 ■入力・編集画面(edit.php) Formによる投稿画面表示 ・投稿IDが指定されている場合 指定されている投稿をＤＢから取得して表示 隠しフィールド[ID]に投稿IDを設定 ・投稿IDが指定されていない場合 新規投稿画面を表示 隠しフィールド[ID]に-1を表示 ■一覧画面(browse.php) データ処理と一覧表示 ・入力・編集画面からの投稿内容が存在する場合 投稿内容にしたがいＤＢにINSERTまたはUPDATEを行う ・一覧画面から削除パラメータが存在する場合 投稿内容にしたがいＤＢにDELETEを行う ・共通 投稿一覧を表示 ＤＢからデータを取得して表示 各行にedit.phpへのリンクを表示 <a href="edit.php?id=xxx">...</a> 各行にbrowse.phpへの削除リンクを表示 <a href="edit.php?mode=delete&id=xxx">...</a> ・更新項目表示（入力・編集画面からの投稿内容が存在する場合） 項目内容を表示 //== 入力・編集画面が小さい場合には、２つを結合して１画面にする場合もあります。 また、上記のようにクエリ文字列表示や、formのhiddenに生のid値を書き込むと、利用者サイドに類推されれますので、実際はセッションを使ったり、乱数CDでデータを特定します。
>register.phpというページで入力した会員情報を >confirm.phpというページで最終確認させたい 正直、ひとつのスクリプトにしてしまった方が（locationで遷移させない方が）はるかに楽です。locationヘッダで遷移させる代わりにPOSTデータから内容を表示して（同時にtype="hidden"のinput要素にもセットする）最終確認のフォームを組み立てて exit すればいいだけですから。私なら（というか普通の仕様だと）データベースへの登録も同じスクリプトに書きます（というか、元はひとつで状況に応じて必要な部分をfunctionで呼び出すとかincludeして使うとか・・・）。 >できればあまりこの形は変えたくありません…。 （けっしてお勧めはしませんが）どうしても今のregister.phpとconfirm.phpの構成のままでやるなら 両方のスクリプトの先頭で <?php session_start(); を行ってください。その上でregister.phpの header('Location: confirm.php'); の直前に $_SESSION['name'] = $_POST['name']; $_SESSION['email'] = $_POST['email']; $_SESSION['password'] = $_POST['password']; を記述してください。あとはconfirm.phpでこの3つについては$_POSTの代わりに$_SESSIONを使えばいいです。
register.phpとconfirm.phpの違いがわからない・・・。この二つのスクリプトはどういう使い分けなんですか？ >できればあまりこの形は変えたくありません…。 >action部分をconfirm.phpに変えると、入力値が空だったりするエラー時に >confirm.phpに飛ばないようにする方法が分かりません。 普通「確認画面」は入力内容を表示して、確認ボタン（と入力画面に戻るボタン）だけにします。 ＃locationで遷移させずにregister.phpの中で表示・確認・登録まで ＃やってしまうことの方が多いかな。 最低でもregister.phpで入力が「全部問題なかったら」confirm.phpに遷移すべきです（入力がありさえすれば遷移するというのはダメです）。で、（locationで遷移したらPOSTデータは消えるので）遷移する前にセッション変数にでも入れておいてconfirm.phpでセッション変数から表示すればいいと思います。
PDO::FETCH_OBJオプションを使う、またはfetchObjectメソッドを使うのも選択肢の一つですね。これは5.3でも使えます。 http://qiita.com/mpyw/items/b00b72c5c95aac573b71 … $dbh->query($sql)->fetchObject()->id
xdebug自体はよくわからないんですが freebsdで運用しているならportsにdevel/php-xdebugがあるようなので portinstallできませんか？
＞chmod("index.php",606);としても、 chmod("index.php",0606);
#3です ボトルネックになっているのがMySQLにあるのでしたら 効率的なSQL文でチューニングすることで高速化できるかもしれません また更新を並行処理すると、トランザクションの問題が発生するかもしれません 普通にInnoDBで単純な更新をかけるだけならレコード単位でのロックなので 大丈夫かなぁ・・・
cake1系は買っても無意味なのでやめときましょう。 手順書のような本は存じ上げませんが、結局ドキュメントを読むことになるので、一通り規約など目を通しておいたら良いかと思います。
シリアル形式よりはJSON形式の方がセキュリティ的に余分な懸念が必要ないと思います。いずれにせよバリデーションは必須ですが。
>> また、想定しているレンタルサーバがMySQLのみ対応です。 SQLiteってただの "1つの" ファイルだけでデータベースのように扱えるものなんですよね。レンタルサーバーがもし「MySQLしか対応していない」という表記でも、SQLiteは使えるというケースがあります。レンタル前にサーバー管理者に「PDO_SQLITEは使えますか？」と聞いてみるのもいいと思います。
それ以前の私の回答ですねｗｗｗ 結局のところ、スクレイピングするしか無いです。 ただ、ブログのテンプレートによって微妙にHTML構成が異なるので、一貫した正規表現を書くのはかなり困難かもしれません。エラーが出るのも期待したHTML構成になっていないからだと思います。
$dbh がどういうオブジェクトなのか書かれていないので、どのAPIなのか（どういうプロパティ・メソッドがあるのか）わかりません。なので「どの手法でもできるやり方」で・・・ ループの前にprintしようとすると悩みます。1件目の表示をする直前に行えばいいんじゃないですかね。 $count = 0; foreach ($dbh->query($sql) as $row) { 　　if ($count++ === 0) { // ++を後置しているので、比較は加算前の値で 　　　　print "条件の合うレコードがあったら表示させたいヘッダ部分。"; 　　} 　　$row の内容を表示する } ループを抜けたあとで、対象データが1件もなかったときに何かを表示したいケースにも対応できます（ $count === 0 でチェック）。 （蛇足） >$sql = 'SELECT * FROM game WHERE scorer LIKE '.$scorer; SQL文がヘンですけど・・・。likeなのに%もないし、そもそもプレースホルダを使わないんでしょうかねぇ・・・。
書いた記事を格納する場所が必要なんでデーターベースはブログでは必ず使っていると思います。 ＰＨＰとデーターベースの勉強を始めるのであれば是非データーベースを使ってブログを構築してくださいね。 データーベースを使った方がいいのは大量のデーターを格納しても安全性が高いのとデーターベースはＳＱＬという言語が使えて検索機能を作る時に便利です。
controller側のコードがおかしいのではないでしょうか。 可能であればcontroller側のコードを貼り付けてみてください。
phpinfo()でmysqlやmysqliがきちんと組み込まれているか確認してください また、過去の書き込みを見る限り config.inc.phpのパーミッションを644にするとなおったという 指摘もあるようです。
ジャンルマスタ側に削除フラグを用意するだけで実際には削除しない。 って >・削除フラグ すでに削除フラグあるじゃないか。 実務システムでも削除フラグだけで削除したことにして物理削除はしないことなんてよくあることです。 (これにより既存のデータはそのままで店舗データ新規登録時にその削除したジャンルを紐付けさせない)
いいえ、不要ですです。トランザクションは使えば使うほどパフォーマンスが悪くなるので、使用は最低限に抑えましょう。 （蛇足） >> if (!$ret) { >> throw new Exception('INSERT 失敗'); >> } executeの返り値をチェックして自分で例外を投げるのは二度手間です。PDO::ERRMODE_EXCEPTIONを有効にしましょう。 【推奨される書き方(もしトランザクションを使うのであれば)】 try { 　 　$dsn = 'mysql:dbname=〇〇〇;host=〇〇〇;charset=utf8'; 　$user = 'user'; 　$pwd = 'pwd'; 　$options = array(PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION); 　 　$pdo = new PDO($dsn, $user, $pwd, $options); 　$pdo->beginTransaction(); 　try { 　　 　　$sql = 'INSERT into table (test1, test2, test3) VALUES (:a, :b, :c)'; 　　$st= $pdo->prepare($sql); 　　$st->execute(compact('a', 'b', 'c')); 　　$pdo->commit(); 　　 　} catch (PDOException $e) { 　　 　　$pdo->rollBack(); 　　throw $e; 　　 　} } catch (PDOException $e) { 　 　echo 'Error: ' . $e->getMessage(); 　 }
実はメールフォームというのは奥が深いです。「見た目」については、お好みでどうとでもすればいいと思いますが、メールフォームで一番大事なのは確実にメールが届くことですのでね。 mb_send_mail一発でどんな環境からでも確実にメールが送れるなら何の問題もありませんが、ある日突然スパム判定を受けるようになるとかは日常茶飯事です。なので「どういうサーバで運用するのか」「送信先は固定なのか」「外部SMTPは使えるのか」などを総合的に勘案して方策を練ります。送信ログ（メールが届かなくてもログで問い合わせがチェック出来るようにする）の作成は必須です。 この部分は無料スクリプトではほとんど対応しきれていませんので、自分で書きます。 ・・・と ↓ で回答しましたww http://detail.chiebukuro.yahoo.co.jp/qa/question …
ANo.1の方とほぼ同意見です。 ＃質問者さんは気に入らないようですが、理解できていないのは質問者さんだけ ＃だろうと思います（多少なりともソースを書く人間なら意味がわかること）。 >サーバーで受けて、金額を計算して、クライアントに >返すソースって下記の文が基本ですか。 レベルが違い過ぎます。提示されたソースを何度読んでも「金額を計算してクライアントに返す」ことは出来ないと推測されます。最低限 http://www.phpbook.jp/tutorial/ http://www.phpbook.jp/appli/ http://dotinstall.com/lessons/basic_php_beginner http://dotinstall.com/lessons/basic_php_advanced を全部読み終えてからの話になります。 そもそも「金額を計算」といいつつ、formから何がPOSTされるのか（内包するinput要素が何なのか）すら提示されていません。数量は当然ですが、単価を引っ張ってくるための品番はPOSTされるんですよね？それを元に単価を取得するためにはデータベースを使う？CSVなどのテキストファイル？ 何一つ仕様が決まっていないのに「どうすればいいか」なんて回答出来ません。ソースを書く前に「設計」という作業をしてください。 >計算表に罫線を入れる場合は、どうすればいいのでしょうか。 そういうhtmlソースを組み立ててブラウザに返すことになります。まずはhtmlソースが思い浮かばなければ、それを（phpで）動的に生成することは出来ません。htmlをちゃんと学んでください。webアプリである以上、htmlやcssを覚えないでプログラミングは出来ません。 逆に「htmlがわかっている」ならば「そういうソースになるようにphpで書いていくだけ」です。
以下のリンクに全てまとめてあります。 Qiita - PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 【失敗したときにどうなるか】 PDO::ERRMODE_EXCEPTIONが有効 → PDOExceptionがスローされる PDO::ERRMODE_EXCEPTIONが無効 → executeの返り値がFALSEになる 返り値を毎回チェックするのは億劫なので、connectDb()の中でこのオプションを有効にしておくことを推奨します。 また、片方だけ失敗したら困る場合には「トランザクション処理」を行います。PDOExceptionをスローするように設定してある場合、Try～Catchを２重に設けて、内側でロールバックを実行する必要があります。（このあたりも記事に全部書いてるので読んでください。）
protectedやprivateにはメソッド経由でしかアクセス出来ません。 「title配列」が何を指しているのかよく分からないので「data配列の中のtitle」と仮定します。 $obj->getTableMetaData()->getTableName() 備考: http://phpunit.sourcearchive.com/documentation/3 … http://phpunit.sourcearchive.com/documentation/3 …
今回のような単純な２次元配列であればarray_mapをつかって行列を入れ替えることができます。 <pre> <?PHP $a=array( "hidden_name"=>array("test.jpg","test.jpg","test.jpg","test.jpg","test.jpg") ,"number"=>array("8","4","14","14","15") ,"comment"=>array("test1","test2","test3","test4","test5") ); $b = array_map(null, $a["hidden_name"], $a["number"], $a["comment"]); print_r($b); foreach($b as $c){ print implode(",",$c)."\n"; } ?> </pre>
http://dotinstall.com/lessons/basic_php_beginner まずはこの辺でPHPの概要について理解された方が無難かと思います。
もちろん基本的なセキュリティ対策は当然として、問題ありません。 毎回取得すると分かり切っているようなユーザの基本的な情報、例えばidの他、name,メールアドレス(よく使用するなら),ロール(権限の種類)や所属,ログイン成功時のIP、その他POST送信時のトークン、Referrerとして現在のURLなどを入れたりします。 質問者さまの場合、idやname、dir は適当だと思いますが、記事の方は持ち回るにはデータが大きい割に使用するかどうかも分からないのでセッションに入れるには不適切かと。 こちらはこれまで通り、必要な場面でDBから取得すればよいのではないでしょうか。 また「ユーザ情報をセッションに格納するのはログイン成功時のみ」に限るので、用済みになるパスワードは暗号化されているかどうかにかかわらず不要なので保持することはありません。
＞なのでこの方法だとデータにない月、日のみ選択され検索される可能性もあります。 なるほど・・・ そういうことであれば、ajaxをつかって、年、月、日のどれかが選ばれた時点で 裏で問い合わせをして、ヒット件数を表示するというのがベターだと思います ajaxについては少し学習が必要ですが、慣れればさほど苦にはならないはずです
2MBはでかいですね。 それをbase64に変換してDBに入れるのも結構重い処理なのではと思います。 その画像はアップしたサイズのままがいいのでしょうか？ 圧縮してもよいのならクライアント側で圧縮するのが良いでしょう。 FILE APIが使える場合（IEだとIE10以上）に下記URLが使えます。 http://www.egashira.jp/2013/03/image-resize-befo …
> webサバーをレンタルしている場合は、アパッチはどのような取り扱いをすればいいのでしょうか？ レンタルサーバならば、Apacheは基本的に導入済みです。 Apacheに致命的な脆弱性が発覚した場合、運営会社が対応します。 契約者はWebサーバのメンテナンスを意識する必要はありません。 VPSや専用サーバと呼ばれるものの契約を行った場合は、 Webサーバのインストールから運用までを全て自分で面倒見る必要が あります。
マルチバイト文字をhtmlspecialcharsでエスケープするときは クォートのタイプや、文字コードまで渡してやるとトラブルが減ります。 また、postで送られてくる生データあくまでもエンコードされたデータでしかないので それをphp側で最大限解釈しているものです。 生データを確認する場合はこんな感じで行います <form method="post"> <input type="text" name="hoge" value="<?php print htmlspecialchars('<p><a href="./">TOPに戻る</a>',ENT_QUOTES,'UTF-8'); ?>"> <input type="submit" value="送信"> </form> <?php if(isset($_POST)){ $rawpostdata = file_get_contents('php://input'); print $rawpostdata; } ?>
print　($_GET["dis"][2] == "blood" ) ? '<td><a href="http://○○.com/">' . $row['blood_type'] . '型</a></td>' : '' ; 三項演算子がすでにあるので、三項演算子を重ねるのは避けたいですねぇ。三項演算子を重ねると、あとで他人が読み取るのに苦労します（数日後の自分も「他人」です）。 ＃マニュアルでも「重ねないこと」を推奨しています＜三項演算子 それほど三項演算子で有利になる（読みやすくなる）とも思えないので、素直に if で括ってください。 ・　$_GET["dis"][2] が "blood" だったらtd要素を出力する ・　$row['blood_type']が空白でなかったらanchor要素を出力する ・　$row['blood_type']が空白だったら何も出力しない という条件なら if ($_GET["dis"][2] === 'blood' ) { print '<td>'; if ($row['blood_type'] !== '') { print '<a href="http://○○.com/">' . $row['blood_type']. '型</a>'; } print '</td>'; } だと思います。空のtd要素の見映えが気になるなら if ($_GET["dis"][2] === 'blood' ) { print '<td>'; if ($row['blood_type'] !== '') { print '<a href="http://○○.com/">' . $row['blood_type']. '型</a>'; } else { print ''; } print '</td>'; } でもいいです。
あ、こうするとどうでしょう？ <?PHP $sample[1] = 'test1'; $sample[2] = &$sample[1]; print_r( $sample); $sample[1] = 'test2'; print_r( $sample);
if(isset($_POST['title'])&&$_POST['title']!=''){ $title = $_POST['title']; }else{ $title = ''; } ↓ $titile = (string)filter_input(INPUT_POST, 'title'); 貼るのN回目ですが（汗）: http://qiita.com/mpyw/items/2f9955db1c02eeef43ea
> どうしたらいいでしょうか？ どうしたらもこうしたらもありません 「正しいPHPの文法を勉強して、正しく記述してください」 PHPの文法におけるセミコロンは、国語で言えば、「。」に相当します。 国語の作文で 「ボクは、公園に行きました。」 を 「ボクは。公園に行きました、」 って書いたら、減点されますよね? それでも、人間だったら大目に見てくれることもあります。 ですが。コンピュータは融通がききません。 文法がちょっとでも違えば、「理解できません」とエラーを出すだけで、理解する努力などまったくしません。 よって、コンピュータを思い通りに動かすには、人間側が努力してコンピュータに正しく説明してやる必要があります。 「プログラミング言語の文法について、正しく理解する」というのは、基礎の基礎です。 始めて数日、ということですが、そういう基礎がまったく身についてないのに、先に進めようとしていませんか? 遠回りに思えるかもしれませんが、最低限の基礎を身に付けるのが、結局はプログラミング上達の早道です。 それから > セミコロンを下手にうつとエラーがでてくる こんな曖昧な説明では、熟練プログラマでも対策のやりようがありません。 ・エラーが出たらメッセージを読んで、内容を理解する。 ・エラーメッセージには、行数やファイル名等の情報があるので、それを手掛りにして間違いを探す。 熟練プログラマでも、そうやって間違いを直します。 初心者のあなたが、これをサボっていては、上達などできるわけがありません。
http://www.php.net/manual/ja/about.prototypes.php
せっかくMySQLと連携しているんですから、前回実行時刻をdatetime型で 管理用テーブルで管理し、実行のたびに更新すればよいのでは？
>そもそもmethodがなんでPOSTなのかも解らないくらいです。 phpをどう書くとかいう以前の問題です。phpを学ぶ前に、HTMLは必須ですしhttpの仕組みについても理解していないとダメです。 >お金がないんですよ。習うだけの あなたの目の前の機械を有効活用してください。少なくとも「phpについては」公式のオンラインマニュアルでじゅうぶんです。 http://www.php.net/manual/ja/index.php
＞　つまりページをアップロードする際、こうしたアンケート用紙などは ＞　PHPファイルとしてつくりアップロードするという事になるのではないか？ ＞　と思うのです。 「アンケート用紙」とはアンケート項目が書かれたフォームのあるページの事でいいでしょうか。 フォームに記入されたデータを受取るページはPHP等で書かれたプログラムで無ければ処理できません。 しかし、フォームの項目や選択肢が変化しないのであればHTMLで書いてフォームのaction先をPHPのファイルにすると送れます。 もし、アクセスしている人に合わせて項目が変化したり、名前などを予めフォームに記入された状態で表示したのであればフォームの表示自体をPHPで処理する必要があります。 ＞　今回の質問ではテキストボックスの送信は万事上手くいっておるんです。 ＞　質問としてはただの文字、例：おはようございます ＞　という字をテキストボックス以外で送る方法をお聞きしたいのです。 「おはようございます」をフォームで次のページへ送るという意味でしょうか？ であれば <input type="hidden" name="hello" value="おはようございます"> でいいのではないですか。 これならフォームのデータを受け取ったページの$_POST{"hello"]に「おはようございます」が入ってきます。 もし、フォームに埋め込むのが嫌なのであればセッション機能を使って遷移先のページへデータを引き継ぐ事も出来ます。 ＞　も一点、このやりかただと字が連続しでてしまって、みずらいです ＞　＜ｂｒ＞か<￥n>などのことで段区切りみたいのはできないのでしょうか？ <?php print "ようこそ<br>".$_POST["ad1"]."<br>".$_POST["ad2"]."<br>様"; ?> と＜ｂｒ＞を改行したい場所でprintするだけす。
>Windowsの「メモ帳」なんかは使わずにハイライト機能のあるエディタを使えばこの手のエラーはだいたい原因が分かるんですけどねぇ どうせならEclipse+PDTあたりのIDEでしょう。 自分で探さずともIDEが構文チェックもしてくれる。
１つなら20～30万、色違いで2つなら25～40万、色違いで3つなら30～50万。 （1つめは20～30万、２つ目以降、1つあたり5～10万） でも、オリジナルの物を2種類なら40～60万、3つなら60～90万。 （個数に関係なく、１つあたり20～30万） コピーサイトを自分で作っていく、というのであれば、著作権譲渡、または無制限複製ライセンス料が100万だとしても、 アンテナサイトを100個作れば1サイト1万で作った事になります。
(null === $obj = json_decode($response = curl_exec($ch)) ↓ (null === $obj = json_decode($response = curl_exec($ch))) 括弧抜けてましたすみません
単純に2回に分ければいいと思いますけど・・・ function error($msg){ echo <<<EOM <p class="txt"><font color="red">$msg</font></p><br> <p class="txt"><INPUT type="button" name="close" value="戻る" onClick="history.back(); return false;" class="button"></p><br clear="all"> </div> <div id="s_main-bottom"></div> </div> </div> EOM; include('footer.php'); echo <<<EOM </div> </body> </html> EOM; exit(); }
>Parse error: syntax error, unexpected '$_POST' (T_VARIABLE) in C:\xampp\htdocs\9.php on line 26 parse error →　文法のエラー on line 26 →　コードの26行目あたりにエラーの原因があります ということなんですね。 だからコードの26行目を書いていただくのが速いんですけど。。 今回はおおかた <?php echo $_POST['ad1']; ?> のechoの前に全角スペースが入ってるとかじゃないですか？ 本のほうで、「ああああああああ」のように 送信した内容を表示させる部分にどのようなphpコードが記述されているか 確認してみて下さい。僕の書いた内容でも表示は出来るんですけど。 9.phpになにも記述せずに、6.phpから送信した内容が 9.phpから表示されることはありえないので。 手紙だけ受け取って開封していない、みたいなもんですからね。
投稿画像（子）は投稿記事（親）に紐づくはずです。 投稿画像に設定された投稿記事のidに該当がなければ投稿画像は削除していい と判断できるので、定期的に削除するバッチ処理をはしらせればよいでしょう 投稿画像が投稿記事にひもづかない場合は、投稿ユーザーにひもづきます。 したがって投稿ユーザーの画像一覧ページに表示させ、ユーザーが不要だと 考えれば削除する・・・というフローが妥当です （ユーザーが任意に削除しないデータはすべて必要なデータだと考える）
もしくは <?PHP $html_txt = <<<EOT ($_SERVER[PHP_SELF]) EOT; echo $html_txt; 備考: http://qiita.com/mpyw/items/8dd5378cb01c877e1f7b
>> 検索窓になにも入力しないで検索すると >> 下記エラーがでました。 おっと失礼しました！コーディングミスです。 >> Notice: Undefined variable: rows in C:\xampp\htdocs\test\kensaku5.php on line 56 「56行目で未定義の変数 $rows の値を使おうとしました」というエラーです。 // 件数をセット $msg = count($rows) . '件見つかりました'; この部分を if ($keywords) { } の中の最後に含めてしまってください。現在の実装では入力が無い時は検索を実行しないようになっています（検索を実行しないとき $rows は定義されない）。 >> Warning: Cannot modify header information - headers already sent by (output started at C:\xampp\htdocs\test\kensaku5.php:56) in C:\xampp\htdocs\test\kensaku5.php on line 69 「69行目でヘッダー送信に失敗しました（ヘッダー送信は56行目で済んでいます）」というエラーです。 【HTTP入門】 http://www.tohoho-web.com/ex/http.htm 上記で説明されているContent-Typeヘッダーはデフォルトでは「Content-Type: text/html」となっており、文字コードの指定がされません。これでは文字化けしてしまう可能性があるので、header関数を使って header('Content-Type: text/html; charset=utf-8'); として明示的に文字コードを指定したものに上書きすることで文字化けを防がなければいけません。上で示したリンク先の「応答メッセージ」のフォーマットを見てもらえれば分かると思いますが、 ヘッダー群（レスポンスヘッダー）→HTMLの内容（レスポンスボディ） というコンテンツが空行1行を挟んで連続的に送信されていますよね。PHPでは何かの出力を "初めて" 行った時にレスポンスボディが送信され始め、そのときレスポンスヘッダーも全部送られてしまうのです。レスポンスヘッダーの送信は1回しか出来ないため、それ以降でheader関数を使おうとするとこのエラーが発生します。 「56行目で何も echo してないじゃん！？」 と思われるかもしれませんが、実はこれには先ほど発生したようなエラーも含まれてしまいます。よって、先ほどのエラーを潰せばこちらのエラーも直ることになります。
attributesプロパティがprotectedなので普通のプロパティ参照では取り出せません。Responseクラスに「getId」といったメソッドが必ず用意されているはずです。そのクラスの説明書をちゃんと読んでください。
「ノーリファラ」になる１３のケース http://kaisekihiyoko.blogspot.jp/2012/06/blog-po … 多分5番に該当しているんじゃないでしょうか。あなたもSSLを導入すれば解決します。
まず、imgを相手に埋め込ませるという不確実な方法では効果が薄い さらに1ピクセルとはいえimgでずれがでるとデザインに影響する可能性がある また、imgは相手のブラウザにキャッシュする可能性がある 以上からimgで処理するのはデメリットの方が大きいと考えます。 imgなど姑息な処理ではなくシステムの機能に組み込んでしまえばよいような 気がするのですがいかがでしょうか？
こんにちは。 テキストエディタで作ったphpの拡張子が実は.txtになっているとかありませんか。 (test.php.txtみたいな感じ)
総論として、処理が単純でかつ永続的に処理内容が変わらなさそうな場合には三項演算子を使います。 ご提示の例は引数のチェックをしているのですよね。引数のチェックの場合、 ・項目が存在しない場合 ・項目は存在するが空文字で送信された場合 を区別して処理したり、エラーメッセージのセットをそこで行ったりと、処理の内容が変わる可能性が高いといえます。 将来変更の可能性が高いので、このようなケースでは私はif文を使います。
> IDはセッションを入れレベルに２と３と４の人を こう書かれるとAND なのか　ORなのか判別できません。 例があるのでORの場合で話を進めます。 > WHERE id = ? AND level = ? OR id = ? AND level = ? OR id = ? AND level = ? OR id = ? AND level = ? これちゃんと意図した通り動きますかね…。 自分ならこうします。 WHERE （id = ? AND level = ?) OR (id = ? AND level = ?) OR (id = ? AND level = ?) OR (id = ? AND level = ?) 括弧を付けておく方が、後で見やすいし、DBも確実に抽出してくれるでしょう。 ただ、この場合 WHERE id = ? AND level IN(2,3,4) だともっと見やすいですね。
多分バージョンが古いせいで以下の機能が有効になっているのでしょう。 PHP Manual - マジッククオート http://www.php.net/manual/ja/security.magicquote … これを無効にすればそれだけで解決します。というか相当古いバージョンなので最新版に乗り換えましょう。もし何らかの理由で無効化も更新も出来ない場合は以下の処理を通すことで解決できます。 if (get_magic_quotes_gpc()) { $str = stripslashes($str); } これを施したうえで…CakePHPを用いて開発しているのであれば何も「\」のことを特別扱いする必要はないはずです。CakePHPであんまりSQLべた書きとかしませんよね？自分でSQLをべた書きするにしても、PDOクラスやmysqliクラスのプレースホルダを用いている場合は同様です。 いわゆる明示的な「エスケープ」が必要になるのは、非推奨なmysql_queryなどの関数を使うときに限られます。 (参考リンク) http://qiita.com/mpyw/items/b2a2b0e8e60ed4680f06
$t_home = $row["t_home"]; のうしろに print_r($row); と書いてデバッグしてみてください
>> htdocsの中にフォルダーいれましたけど画像がでないで 言ってることが滅茶苦茶です。こんな突っ込みするのもバカバカしいですけど、 「フォルダーを入れたら画像が出る」 こんなコンピュータがどこに存在するんでしょうか。言いたいのはそれが意味不明かどうかいうことではなく、日本語をしっかり書いてください、ということです。失礼ですが…日本語を習得したての外国人か小中学生並みの文章にしか感じられません。こういうことが苦手だとしてもさすがに非常識すぎます。 >> アップしたものをみるなら通常アドレスを入力してみるわけですけど >> そのぱすはどうやるのかもよく解りません。 回答No.4読んでないんですか？ちゃんと書いてますけど。もしこれで分からないのであればQ&Aサイトで教授可能なレベルを逸脱しています。自分に適性が無いとして諦めを付けるか、お金を払ってマンツーマンで教えてくれる指導者を探してください。
怪しい中国のウイルス対策ソフト？ですかね 無効にする方法↓ http://windowcpu.com/bbs/board.php?bo_table=exe_ …
参考にどうぞ↓ http://qiita.com/mpyw/items/4508dc677b11e487effc 【ポイント】 ファイルをダブルクリックで開いてもHTMLファイルとして認識されてしまうため、確実に http:// からアクセスする。 一応質問に答えておくと >> xamppというのはサーバーの代わりと考えていいのでしょうか？ XAMPPに含まれる「Apache」がサーバーソフトウェアです。一口にサーバーといっても「サーバーコンピュータ」と「サーバーソフトウェア」の2種類の意味があります。 [サーバーコンピュータ] サーバーソフトウェアをインストールして運用する目的に特化して作られたコンピュータです。パーソナルコンピュータと異なります。 [サーバーソフトウェア] サーバーとして実際に稼働させるためにはこれをインストールしなくてはなりません。実は…サーバーコンピュータに限らず、パーソナルコンピュータに対しても汎用的にインストールすることが出来ます。これが起動している間、Webブラウザから http://localhost/ を通じて指定されたフォルダにアクセス出来るようになります。通常の file:/// のアクセスと異なり、PHPコードが実行されます。
１つのレコードに投稿した記事のデータが全て入ると言うことは、ある人が100件記事を投稿していた場合、そのうち1件の記事を取り出したいだけでも100件分のデータを取り出して、その中から1件分の記事を探さなければいけなくなり、余分なデータをDBから取り出すことになるので時間が掛かる事になると思います。 また、記事を検索する場合には、DBの検索でAさんの記事に探しているキーワードを含んでいる記事がある事が分かっても、何件目の記事にあるかまではDBの検索で見つけられなくなるので、DBからデータを取り出した後に、プログラムで再度検索をして記事を特定しなければいけなくなり、無駄な処理が発生することになります。
ライブラリをつかってpdfにしてみては？
>ここでは乱数を用いたファイル作成が書かれています。 >それを<html>～</html>間への追記に変更したいのです。 まず、『<html>～</html>間』という表現が乱暴です。 ファイルの場所(今回はなくても可)、ファイル名、該当箇所 を全て説明して、指定している箇所が一意になるように表現することは重要です。 システムでは一意でないものには動作しませんので、曖昧なものは全て取り去るようにして下さい。 とりあえず、index.phpでの事だとして、単なる書き込みから、追記になってしまうのも飛躍しすぎです。 ファイルを作成して書き込むことが出来るとして、次にやろうとすることは、同じファイルに書き込んだらどうなるか？ 追記とは何か？ fopenはどんな機能なのか？ この時点で追記の認識が間違っていることに気がつきます。 追加して記す。 だから、追記した場合は必ず最後に増えます。 ～と～の間に追記という時点で矛盾しています。 また、index.phpがphpファイルである必要性が全く感じられません。 参考リンクの例はhtmlファイルにを作成して書き込んでいるのに、なぜわざわざphpファイルに変更してしまったのでしょう。 自分で考えるべきところな気もしますが、index.phpは新規作成したり追記したりしたファイルを読み込んで出力したら、本当に追記するだけで目的のことが出来そうです。 phpがはじめて学ぶ言語なら仕方ないのかもしれませんが、 どんな言語でも下記が重要です。 表示の方法 結果が見れないと何もわからないので話になりません。 ファイルに関してなら、 読込 作成 編集 削除 この4つしか基本的には出来ることがないので、それぞれの方法を確認すべき。 phpマニュアルでfopenを確認しろと言ってませんでしたっけ？ 確認してませんよね？ 確認してもわからなくて放置しましたよね？ すみません。中途半端な感じにはなりましたが、回答しても、その後の行動が生きてこないと言うのが見えてきてしまいました。 回答した内容に対して、まずは一つ一つ確認しようとしたと思える内容の話をして下さい。
>どのように変更すれば、正しく条件式が機能しますか？ http://www.php.net//manual/ja/language.operators … http://www.php.net//manual/ja/types.comparisons. … if の条件が比較演算でなく代入式の場合は「代入する値」が条件になります。 <?php if ($var = false) { print 'true<br>'; } else { print 'false<br>'; } if ($var = true) { print 'true<br>'; } else { print 'false<br>'; } >if($_SESSION['user_id'] = $employee_id) これで「else が実行される」のであれば、$employee_idの値が false と判断される値（ 0 など）だと推測されます。また比較演算に書き直したら true になるということは $_SESSION['user_id'] もどうかなとは思います（未定義だったりはしないんでしょうねぇ・・・）。 いずれにしても、$_SESSION['user_id'] や $employee_id をvar_dumpして内容を確認するのが先です。それを確認しないでソースを書き直しても無駄です。 （蛇足） ネイティブなMySQL関数はすでに非推奨です。PDOで書き直すことを強くお勧めします。 http://www.php.net/manual/ja/mysqlinfo.api.choos …
私が普段の業務で行っている方法ですと、大きく分けていくつかのパターンがあり、「１、動的URL又は静的URLのどちらにするか」、「２、メインコンテンツのテキストはデータベース管理して、必要に応じて吐き出すか」、「３、PC用ページ、スマホ用ページ、iPad等のタブレット用ページ分けを行うか」といった事項をあらかじめデザイナーサイドと一番最初に打ち合わせを行います。 「１、動的URL又は静的URLのどちらにするか」については、SEO対策の絡みがありますので、クライアントから「このページはSEOは必須」という要望であれば、静的URLで実装するように考えますが、「特にSEOは意識しないでブログの様な感覚で、ページを作成していきたい」という要望であれば、動的URLにして【 hoge.php?page=1 】の様な感じにしてDBとひも付けします。 「２、メインコンテンツのテキストはデータベース管理して、必要に応じて吐き出すか」については、【１】とも関連することですが、デザイナーサイドが今後テキストを変更する可能性があると判断した場合は、DB管理したほうが後々楽という意味で、大量のページを構築する際はDBからテキストを吐き出すようにしています。 「３、PC用ページ、スマホ用ページ、iPad等のタブレット用ページ分けを行うか」については、アクセスされた端末のユーザエージェントを取得して、それぞれの端末に対応したテンプレートを呼び出します。 PHP側の設定で、アクセスされたページのファイル名を抽出して、そのファイル名を例えば【 $filename 】という変数に格納しておき、テンプレートを呼び出す際に、 ↓ //【 PC用 】 {$filename}_pc.tpl //【 スマホ用 】 {$filename}_sp.tpl //【 iPad用 】 {$filename}_ip.tpl という感じで呼び出せば、非常に楽です。 この場合は、必ず「 ○○.php 」と「 ○○_pc.tpl 」&「 ○○_sp.tpl 」&「 ○○_ip.tpl 」の「 ○○ 」つまり【 拡張子を除いたファイル名 】は統一させる必要がありますが、特別こだわりが無ければ全く問題ありません。 includeについては、他の回答者様の仰る通りで良いと思いますが、マニュアルの http://www.smarty.net/docsv2/ja/language.functio … の「 {include file='file:/usr/local/include/templates/header.tpl'} 」の様に絶対パスで書いたほうがいいかもしれません。 デフォルトの「 templates 」ディレクトリ内でincludeする場合は、相対パスで大丈夫ですが、全く違うディレクトリの「 templates 」の中のファイルを呼び出そうとした場合に絶対パスで呼び出す必要が出てきます。 結論を申しますと、設計図の様な全てのファイル構成を紙に書くなりして、頭の中を完全に整理したほうが良いかと思われます。（ そうは言っても、途中で予想外の構成の変更点などが出てくる可能性はありますが・・・ ） とりあえず、私が行っている方法を今何となく思い返しながら勢いだけで回答してみました。 参考にしていただけば幸いです。 参考URL：http://www.smarty.net/docsv2/ja/language.functio …
すみません。 > $a, $b, $c... をそれぞれして指定したパーセントの割合で表示 何をおっしゃっているのか、可能性がありすぎてわかりません。 「$a は 10%, $b は 30%, $c は 60%」 ならば ・hogeを10回、hugaが30回、piyoが60回、計100 回表示されればいいのか? ・↑の回数表示されるけど、順不同なのか? ・「真の確率」が10%というだけで、実際の実行で100回中11回とかになってもいいのか? ・hoge.huga...........piyo................. と、hugeが10%の幅、hugaが30%の幅、piyoが60%の幅で表示する、という意味なのか? まずは、やろうとしていることを、人に説明できるようにまとめてください。 まとめることで、なにをやるべきか見えることもあります。
ちょっと不完全な回答だったので補足します。 ・PHPで Google TTS API へアクセスして、生成されるMP3をダウンロードしたいのですが、どうすればいいでしょうか？ → サーバー側への保存 ・PHPで、MP3のダウンロードってどうやるのでしょうか？ → クライアント側への保存 という解釈でよろしいでしょうか？前者に関しては先ほど説明しましたが、後者については <?php header('Content-Type: audio/mp3'); header('Content-Disposition: attachment; filename="' . $filename .'"'); header('Content-Length: ' . filesize($filepath)); readfile($filepath); このようにヘッダーを送出すれば実現できます。 $filename に関してはマルチバイト文字や特殊文字が混入しているものはブラウザによって扱いが異なるので可能な限り避けましょう。半角英数字とアンダーバー・ハイフン程度に限定するのが一番無難です。 また $filepath に外部から受け取る値を用いる場合、ディレクトリトラバーサル攻撃に必ず対策してください。 (蛇足) 以前から貼らせていただいている記事ですが、isset+is_stringで行っていた面倒な処理はオプション無しのfilter_input1つでとてもシンプルに済ませられることが分かったので追記修正しました↓ http://qiita.com/mpyw/items/2f9955db1c02eeef43ea
agunuzさんの回答に具体的にこうしてくださいという方法が書いてあるのに、なぜスルーするんですかね？
再三訂正失礼します。定数の頭にいくつか「PDO::」が抜けておりました。
>もちろん、echo <<<EOM ~　EOM; で、ヒア文字列で書いています。 もちろんて・・・。?> でphpを抜けてから書いているわけじゃないんですね。echoしている文字列の中にphpスクリプトを書いちゃダメでしょ。 http://www.php.net/manual/ja/language.types.stri … >もしかして、ヒア文字列が原因とかでしょうか。 はい。その場合は <TD><INPUT type="text" name="バッチＮｏ．" id="text1" size="30" class="ws1" value="$list['tokuisaki_syamei']"> もしくは <TD><INPUT type="text" name="バッチＮｏ．" id="text1" size="30" class="ws1" value="{$list['tokuisaki_syamei']}"> でいいです。
最初にコードが全て読み込まれます、ただし条件分岐の手前までです。例えば if (true) { function hogehoge(){} } とすると結果が変わりますw
まず原則から・・・ テーブルのカラム名は仕様書に書いておくものなので「わからないはずがない」 とはいえテスト段階で仕様変更が頻繁にあれば、確かに無作為にカラム名を 取得したいことがないとは言えない、その場合は SHOW columns from tbl; で取得すればいい、また手を抜くなら SELECT * FROM tbl を利用すれば、とりあえずカラム名と一緒にデータが取得できる ただし本番環境ではSELECT * は大きなバグの元になるので使わないこと
'<a href="remove_thread.php?id='.$post['thread_id'].'&;delete='.$post['thread_detail_id'].'"　onclick="return confirm(\'本当に削除してもよろしいでしょうか？\');">削除</a>'
$b += $a; は「+=」という代入演算子で $b = $b + $a; と解釈される $q =+ $p; は「=+」というひと固まりの演算子はなく、 「=」という代入演算子と「+」という算術演算子に分けられ $q = (+ $p); ということ（$pの符号を変えずに$qに代入するだけ）
とりあえずこれで直ると思います。 while ($post = mysql_fetch_assoc($date)) { $logs = array( array($post['thread_detail_id'], $post['parent_thread_detail'], $post['body'],'<a href ="thread.php?id='.$post['thread_id'].'">編集</a>', '削除'), ); } ↓ $logs = array(); while ($post = mysql_fetch_assoc($date)) { $logs[] = array($post['thread_detail_id'], $post['parent_thread_detail'], $post['body'],'<a href ="thread.php?id='.$post['thread_id'].'">編集</a>', '削除'), ); } （蛇足） $sql = "SELECT * FROM thread_detail WHERE thread_id = $id"; これだと $id は未定義になりますが、実際のコードではたぶん外部から受け取った値を使っていますよね？この埋め込み方だと「SQLインジェクション」という攻撃が簡単に成立します。データベースのデータを外部から全消去したり盗んだりたいていのことが出来ます。 Wikipedia - SQLインジェクション http://ja.wikipedia.org/wiki/SQL%E3%82%A4%E3%83% … これを防ぐには ・整数であれば明示的にキャストする ・専用の関数を使ってエスケープを行う ・プレースホルダを使う などの方法がありますが、3番目のプレースホルダを利用する方法が最も推奨されます。プログラマのミスで脆弱性を作り込む可能性が一番低いからです。ところが、「mysql_*」系の関数ではこの機能がサポートされていません。おまけに、PHP5.5以降ではこの関数自体が非推奨として、公式マニュアルでデカデカと警告されています。今からコードを書くのであれば、この関数を使用している参考書やWebサイトは参考にしてはいけません。 PHP Manual - mysql_query http://www.php.net/manual/ja/function.mysql-quer … 現在はPDOクラスかMysqliクラスが用いられることが多いです。 PHP Manual - PHP Data Objects http://www.php.net/manual/ja/book.pdo.php PHP Manual - MySQL 改良版拡張モジュール http://www.php.net/manual/ja/book.mysqli.php 以下で詳しく解説しています。 Qiita - PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 どちらもオブジェクト指向に対する理解が少しは必要なので、全くなじみが無ければここから軽く勉強してください。 Qiita - PHPオブジェクト指向入門 http://qiita.com/mpyw/items/41230bec5c02142ae691 そのほか読んでおいてほしい記事↓ Qiita - $_GET, $_POSTなどを受け取る際の処理 http://qiita.com/mpyw/items/2f9955db1c02eeef43ea
文字列の中の変数展開 http://www.phpbook.jp/tutorial/string/index5.html sprintf http://www.php.net/manual/ja/function.sprintf.php HTMLが混ざってくる場合はsprintf関数系が一番読みやすいです（個人的には） × '<a href="thread.php?id=$thread_id">編集</a>' ○ "<a href=\"thread.php?id=$thread_id\">編集</a>" ○ '<a href="thread.php?id=' . $thread_id . '">編集</a>' ◎ sprintf('<a href="thread.php?id=%d">編集</a>', $thread_id)
> echo '<br>' . '<a href="thread.php?id=<?php echo htmlspecialchars($post['thread_id']); ?>">' . > $post['thread_title'] .'</a>'.'<br>'; 明らかにここが変です。 ここは、『PHPスクリプトとして文字列を出力している』わけですから、 PHPスクリプト内に、更にPHPスクリプトであることを明示する必要は ありません。 正しくはこうです。 echo '<br>' . '<a href="thread.php?id='. htmlspecialchars($post['thread_id']) . '>' . $post['thread_title'] .'</a>'.'<br>'; また今回発生しているエラーは上記によるものではありません。 （正しく解釈されていたら、<phpなどの文字列がただの文字列として出力されるだけですので） 何がエラーを起こしているかというと、 シングルクォーテーションの囲みで『文字列』だと認識させているにも関わらず、 『文字列』の中にシングルクォーテーションが存在し、その時点で『文字列』が 終了したと判断されている為です。 具体的には$post['thread_id']の1つめのシングルクォーテーションです。 文字列の中にシングルクォーテーションを利用したい場合は\'としてエスケープ しましょう。
認証完了後にフォローAPIを叩けばいいだけでは？ POST friendships/create https://dev.twitter.com/docs/api/1.1/post/friend …
「こうしたい」と例示された内容では、どの順に処理するのかが読み取れません。親記事は古い順、レスは新しい順ということでしょうか？ （例） <?php $logs = array( array(1, 0, 'あああああ'), //記事番号・親記事番号・記事内容 array(2, 1, 'いいいいい'), array(3, 1, 'ううううう'), array(4, 2, 'えええええ'), array(5, 3, 'おおおおお'), array(6, 3, 'かかかかか'), array(7, 0, 'ききききき'), array(8, 6, 'くくくくく'), array(9, 8, 'けけけけけ'), array(10, 7, 'こここここ') ); print '親記事、レスとも古い順<br>'; foreach ($logs as list($no, $oya, $kiji)) { if ($oya > 0) { continue; } print $no . $kiji . '<br>'; listchild($logs, $no); } function listchild($logs, $parent) { $ct = 0; foreach ($logs as list($no, $oya, $kiji)) { if ($oya !== $parent ) { continue; } if ($ct++ == 0) { print '<ul>'; } print '<li>' . $no . $kiji . '</li>'; listchild($logs, $no); } if ($ct > 0) { print '</ul>'; } } print '<hr>'; print '親記事は古い順、レスは新しい順<br>'; // おそらくはこちらですかね？ foreach ($logs as list($no, $oya, $kiji)) { if ($oya > 0) { continue; } print $no . $kiji . '<br>'; listchilds($logs, $no); } function listchilds($logs, $parent) { $ct = 0; for ($i = count($logs) - 1; $i >= 0; $i--) { list($no, $oya, $kiji) = $logs[$i]; if ($oya !== $parent ) { continue; } if ($ct++ == 0) { print '<ul>'; } print '<li>' . $no . $kiji . '</li>'; listchilds($logs, $no); } if ($ct > 0) { print '</ul>'; } }
私自身は、秀丸を使ってなく、PHP もよくわかりませんが、次のようにしてみたらどうでしょうか。単に、タグを跨がないようにしているだけです。 /<img src="http:\/\/.*?.jpg"\s(?!width)/ ↓ /<img src="http:\/\/[^<>]*?\.jpg"\s(?!width)/
見た感じ、1～10の数値をifで場合分けするロジックの演習ですよね 演算子の書き方もおかしいし、論理式の考え方も変 さらに文法エラーもあるので、もうすこし教科書をよくよんで 気をつけて書いた方がいいでしょう $randが3以下、4以上6以下、7以上10以下の場合分けであれば if ($rand <= 3){ echo"<img src='a.jpg'>"; }elseif ($rand <=6 ) { echo"<img src='b.jpg'>"; }else { echo"<img src='c.jpg'>"; } ifは前から評価されますから最初に3以下をチェックしているので つぎにelseifを使うのであれば$randはすでに4以上は確定しています 同様に次のifで6以下をチェックしているのであれば 最後のelseは7以上が確定しています 無駄だと理解したうえでどうしてもかきたいなら if ($rand >= 1 and $rand <= 3){ echo"<img src='a.jpg'>"; }elseif ($rand >=4 and $rand <=6 ) { echo"<img src='b.jpg'>"; }elseif ($rand >=7 and $rand <=10 ) { echo"<img src='c.jpg'>"; }
<input type="submit" value=" 送信"＞ 最後の　＞　がマルチバイト文字です。 > に修正してください。
PHPの方は多分、問題無い。読み込みデータの "http://table.yahoo.co.jp/t" のHTML自体の文字コードが何か変。と言うかPHP標準の「UTF8、改行LF」では無く「EUC（euc-jp）、改行CR+LF」ですね。だからPHPに取り込む時に正常に処理されず、文字化けしてるんだと思います。 なので mb_convert_encoding 関数を使って、読み込みデータの文字コードを正しく指定してやり、それを再度PHP用に「UTF8、改行LF」に再変換して書き出す様にすれば多分OK。
私なりに書き直してみました。 Pastebin.com - V8pST9nc http://pastebin.com/V8pST9nc もしかしてINSERT文に「IGNORE」をつけているのが原因じゃないですか…？このオプションはユニークキーがダブってたときにエラーを出さなくするためのものですね。
とりあえずpreg系の基本だけ理解した方がいいでしょう ・検索文字はデリミタで囲う http://www.php.net/manual/ja/regexp.reference.de … ・予約語との競合をさけるため変数でパターンを渡すときにはpreg_quote()でエスケープする http://www.php.net/manual/ja/function.preg-quote … 当然処理するためのメタ文字はクォートしてはいけません <?PHP $delimiter="/"; $pattern=$delimiter."^".preg_quote($x).$delimiter; preg_match($pattern, $y);
手元のphpMyAdmin（4.0.9）と最新バージョン（4.2.2）のconfig_functions.lib.phpには当該ソースが見当たりません。お使いのphpMyAdminのバージョンはいくつでしょうか？ >↓としたのですが eオプションの外すのはわかりますが（http://www.php.net/manual/ja/function.preg-repla …）、preg_replaceをpreg_replace_callbackに書き替えたのはどういう意図でしょうか？ >phpadminのアップデートを検討しているのですが >いまのデータベースを保持したまま、アップデートすることは可能でしょう phpMyAdminはMySQLのデータベースには何も変更を及ぼしません（至極当然のことだと思いますが・・・）。
あるツイートをRTした人はAPIで取得できます。 GET statuses/retweeters/ids https://dev.twitter.com/docs/api/1.1/get/statuse … APIのエンドポイントをPHPから簡単に利用するためにはライブラリが必要ですが、自作しているライブラリを紹介します。また以前にこれを用いてとある製菓企業さんのキャンペーンをお手伝いさせていただいたこともあるので、そのときの実装例も併せて紹介しておきます。 GitHub - UltimateOAuth https://github.com/Certainist/UltimateOAuth 実装例 http://pastebin.com/fUV5yYV0
＃２です。 今ロジックで処理しようとすると、このようになると思いますよ。 求めているものとは異なると考えます。 insert into receipt_issue ( Array ) values ( reg_id ) insert into receipt_issue ( Array ) values ( user_id ) insert into receipt_issue ( Array ) values ( namae ) insert into receipt_issue ( Array ) values ( mail ) insert into receipt_issue ( Array ) values ( money ) insert into receipt_issue ( Array ) values ( ymd ) ダブルクォーテーションの中に変数を記すと確かに展開を行いますが、 配列の中身を勝手にカンマ区切りで展開するわけではありませんよ。 カンマ区切りで展開したいなら、 implode(",", $arr) などとしないとできません。 また、 $sql = "insert into receipt_issue ( $arr ) values ( $value )"; echo $sql; exit; mysql_query($sql); とした際に「Resource id #6」と表示されるならば、そもそも変数名を誤っているなど が原因と思われます。 Resource id #nは、例えば今回で言えばDBにクエリを発行した際に取得できる リソースなどがそれにあたります。 つまり、格納されている内容は文字列ではありません。 http://www.php.net/manual/ja/function.mysql-quer … また、 > mysql_query($sql); > $result = mysql_query( $sql ) ; となっていますが、上のmysql_query()は不要ですね。 上記の状態が解消され、正しく文字列が出力されてきたら、SQLが誤っている状態であることが 確認できるでしょう。 そしたら、前回回答しましたが、正しいループ、正しい変数値を利用してSQL文を生成するよう 修正すればいいでしょう。
一般的にfeofでのチェックではタイミングが「遅い」です。下記のスクリプトで試してください。 <?php $r_fp = fopen( "hoge.txt" , "r" ); $ct = 0; if( $r_fp ){ while( !feof( $r_fp ) ){ $row = fgets( $r_fp , 1024 ); if ($row === false) { print ++$ct . ':false<br>'; } else { print ++$ct . ':' . $row . '<br>'; } } fclose( $r_fp ); } print 'End'; hoge.txtの最後の行が「改行なし」でEOFがあればいいですが、そうでなければ false の表示が出てくるハズです。つまり「（前の行を改行まで読んで）次行を読もうとしたら EOF だった」というケースには対応出来ません。 どちらのケースにも対応するには while ($row = fgets( $r_fp )) { // $row の処理 } としてください。
なにをやりたいのかがイマイチ不明瞭なため明確には答えられませんが、 主にサーバサイドのプログラムであるPHPではユーザーのPCやスマホのマイクデバイスにはアクセスできないと思います。 故にPHPでは実現できません。
>> 何が問題で更新・削除処理ができていなかったのでしょうか。 "本 当 に " 最初からずっと <form action="ファイル名" method="post"> <input type="submit" value="送信" /> </form> のSUBMITボタンを押して遷移していましたか？これを押さない限りパラメータは何も $_POST に送信されませんよ…失礼ですが、 ・最初に method="post" の指定を忘れていた ・あなたがSUBMITボタンを押したつもりだったが実際は別の方法で遷移していた ぐらいしか思いつきません…
PHPやMySQLには詳しくないのですが、 化け方は、UTF-8のバイト列をISO 8859-1で読んだものに間違いありません。 > 「ãƒ†ã‚¹ãƒˆ」を調べたらＵＴＦ８とでた ということですので、考えられることは2つ。 ・文字列はUTF-8で正しく入っているが、表示の段階でISO8859-1として解釈されている ・文字列は「UTF-8のバイト列をISO8859-1で読んだもの」がUTF-8に変換されて入っている 前者ならば分かりません。 後者ならUTF-8からISO8859-1に変換してからUTF-8として読んでみてください。
エラーと直接関係ないですが、「file」じゃなくて「file_get_contents」の方が目的に合っていませんか…？ PHP Manual - file http://www.php.net/manual/ja/function.file.php PHP Manual - file_get_contents http://www.php.net/manual/ja/function.file-get-c … そして「file_get_contents」の代替として使えるcURL関数群を使えば、とりあえずエラーは回避出来る可能性があります。 ob_start(); curl_exec(curl_init($URL)); $data = ob_get_clean(); もしくは $ch = curl_init($URL); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); $data = curl_exec($ch);
＞メールボックスを空にするためにの処理 メールを送るのはPEAR::Mailですが受け取るのはPEAR::Net_pop3ですね http://pear.php.net/manual/ja/package.networking … deleteMsg() で削除ができます
【パーフェクトPHP】 PHP5.3のときに書かれたものでmysql関数を扱っている章がありますが、PDOについても書かれており、書き換えることは可能です。その点を除けばほとんどパーフェクトな書籍です。但し、「入門者～初心者」ではなく「初心者～上級者」ぐらいを対象としています。 【安全なWebアプリケーションの作り方】 セキュリティ業界で著名な人が書かれた本です。パーフェクトPHPでもセキュリティ対策に関しては申し分なく学べますが、こちらはセキュリティ対策だけに特化した本です。そのため、PHP以外にもPerlなどのコードも出てきますね。 【PHP逆引きレシピ】 目的からサンプルコードを探せるような本です。内容は確認していませんが、レビューを見る限りはちゃんと書かれていそうですね。 【いきなり始めるPHP】【気づけばプロ並みPHP】は地雷なので買わない方がいいです。 くどくて申し訳ないですが（笑）、こういった本でも $text = isset($_POST['text']) ? $_POST['text'] : ''; とか書いてることが多いです。が、つい先日filter_input関数がオプションを設定せずとも大変有用であることが分かりましたので、これに関しては http://qiita.com/mpyw/items/2f9955db1c02eeef43ea や http://qiita.com/mpyw/items/346f1789ad0e1b969ebc で紹介している通り $text = (string)filter_input(INPUT_POST, 'text'); と書くことを強く推奨します。この書き方がデファクトスタンダードになってほしいと願うぐらいですね。
これはRDBの基本の正規化ですね INNER JOINして表示すればいいでしょう ただし、以下２点問題があります。 第１に、「両方」というカテゴリはあまり一般的ではありません。 考え方としては海釣り、川釣りの両方のデータをもたせることです たとえば湖釣りがくわわると、カテゴリとして 海釣り－川釣り、海釣り－湖釣り、川釣り－湖釣り、３つとも という場合分けが必要になりカテゴリが増えるごとにどんどん複雑になるからです。 第２に、上記とかかわってきますが、カテゴリは変動しやすい要素なので ユーザーテーブルに埋め込むことは効率的ではありません ユーザー×カテゴリーテーブル的なものを作ってテーブル分けした管理がよいでしょう
HTMLだけでホームページを作る場合でも、カテゴリー毎にディレクトリを分けてページを作成しますよね。 /index.html /comapny/index.html /about/index.html って感じで。 それと同じでPHPを使う場合でもカテゴリー毎にディレクトリを分けて作成するほうが管理が楽になります。 一つのディレクトリに全ファイルを入れたら、そのうち訳が分からなくなって管理できなくなっちゃいますよ。 同じファイル名がたくさんあってエディタで混乱するなら、表示方法を変えてディレクトリ名まで表示されるようにすれば見分けられますし、単純なエディタではなくIDEを使えばディレクトリツリーも一緒に表示してくれるから見分けやすいかもしれませんね。 あとは、フレームワークを使うようにして、URLでの階層構造とプログラムの階層構造を別物にしちゃうっていう手もありますね。
ほぼ、IPスプーフィングによるデータの詐取は出来ないと考えて構いません。 現在ではIPアドレスの詐称はDoS攻撃に利用されます。 DoS攻撃に関しては、必要があれば別途対策を検討されたらいいと思います。
まぁ実際にやってみれば済む話ですが・・ cmdAがバックグラウンド処理でなければ、非同期処理にならないので cmdAが完了してからcmdBが実行されます でもわざわざ分けなくても、「exec("cmdA;cmdB")」的な処理で十分ですよね
userIDにユニーク属性をつけておきINSERT IGNORE INTO でデータを投入する。 mysqli関数を利用しているのであればmysqli_affected_rowsの戻り値が 「0」ならばすでにデータが存在する、「1」ならば新規で追加された と判断できます
パスの区切りで分割( http://www.php.net/manual/ja/function.explode.php 等) ↓ 空の配列に順番に追加 ただし .. で、末尾を削除。ただし、配列が空だったり 末尾が .. だった時は末尾に追加 . なら追加しない ↓ 配列のパスの区切りで連結
php a.php php b.php php c.php こんな感じ？ 参考URL：http://manual.xwd.jp/features.commandline.html
formからPOSTしたデータをftpで転送したいということ？ $_FILESに対する処理がないようですが？
そういうのはhtmlタグの<ul>と<li>を利用する。
>newの役割を教えてくだい インスタンスを生成する。 RTFM. http://www.php.net/manual/ja/language.oop5.basic … -------　　引用ここから new あるクラスのインスタンスを生成するには、new キーワードを使わなければなりません。エラー時に 例外をスローするような コンストラクタを定義していない限り、 オブジェクトが常に生成されます。 クラスは、そのインスタンスを作成する前に定義しなければなりません (これが必須となる場合もあります)。 -------　　引用ここまで
>仕様書ではショップ⇒決済会社間はPOST送信 決済会社にPOSTするのはショップ（のwebサイトを置いているサーバ）からと明示されていますねww API仕様次第ですが、file_get_contentsでも第3引数（context）を適切にセットすればPOST可能です。 http://www.php.net/manual/ja/function.file-get-c … http://www.php.net/manual/ja/function.stream-con … （例） 以下のようにして、test.phpにアクセスすればvar_dump_post.phpが返した内容（$_POSTをvar_dumpしたもの）を表示できます。 【test.php】 <?php $data = http_build_query(array('aaa'=>'abc', 'bbb'=>'xyz')); $opts = array( 'http'=>array( 'method'=>"POST", 'header'=> "Content-type: application/x-www-form-urlencoded\r\nContent-Length: " . strlen($data) . "\r\n", 'content' => $data ) ); $context = stream_context_create($opts); print nl2br(htmlspecialchars(file_get_contents('http://localhost/var_dump_post.php', false, $context), ENT_QUOTES)); 【var_dump_post.php】 <?php if ($_POST) { var_dump($_POST); }
繰り返し、dirname() で、順に上位パスが得られます。 <?php $this = dirname(__FILE__);// PHP 5.3.0 以降なら、 __DIR__ と同じ $up1 = dirname($this); $up2 = dirname($up1) ; var_dump($this, $up1, $up2);
osxに元々入っているPHPではなくMAMPから持ってきたPHPなんですね。 それであれば以下が一番わかりやすいかと思います。 http://sachips.byeto.jp/php/mamp_pear_install.html ビルトインのPHPとは違い、MAMPのPHPならばインストールした時点でpearが使える環境が整っているので、以下の場所にあるpearに引数を付けてインストールするだけです。 /Applications/MAMP/bin/php/php5.4.10/bin/pear install -a インストールしたいパッケージのURL
ごく普通に $_POST でいいのでは…もしかして curl_setopt($ch, CURLOPT_POSTFIELDS, $params); curl_setopt($ch, CURLOPT_HTTPHEADER, array( 'Content-Type: application/x-www-form-urlencoded' ) ); としているのが原因でしょうか。普通は curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($params, '', '&')); とすると思います。配列を渡すと先頭の「@」の扱いで結構面倒なことになっちゃうので… http://kosugi.typepad.com/blog/2007/05/curlopt_p … http://stackoverflow.com/questions/648292/escapi … 参考までにこっちも↓ http://qiita.com/mpyw/items/2f9955db1c02eeef43ea
>(1)ページランクは下げたくない トップページからのリダイレクトは止めたほうがいいと思います。 以前リダイレクトさせた時に、一気に圏外まで落とされました・・・。 Smarty等のテンプレートエンジンを使用する方法は手遅れでしょうか？ もしガッチリ作り込みされているシステムでしたら、今更？って感じですが、 テンプレートエンジンの選択肢がOKであれば、HTTP_ACCEPT_LANGUAGEで識別して 日本語と英語それぞれの、該当のテンプレートファイルを呼び出せば良いと思います。 >(2)閲覧者の表示言語の選択肢は残したい Smarty等のテンプレートエンジンを使用する選択肢がOKであれば、 http://www.abc.ne.jp/index.php で、(1)は解決しますので、 ご提示されているように、 http://www.abc.ne.jp/en/ とディレクトリを用意し、http://www.abc.ne.jp/index.phpの 英語のコンテンツと全く同じものを「 en 」ディレクトリに設置します。 但し、HTTP_ACCEPT_LANGUAGEの制御はこのディレクト内では行わないようにします。 では、お役に立てれば幸いです。
ファイルをアップするサーバーを複数用意して、DBは一つでいいのでは？ ファイル自体は容量を食いますが、DB上のデータなんてたかが知れています DBサーバーが複数に分かれると同期がそれなりにめんどくさいことになりますので
=> : 連想配列を生成する時のキーと値の関連付けで利用する構文 (foreachでも使う) >= : 「以上」を意味する演算子 まったく意味合いが異なります。 $name = array('りんご'=>'赤','メロン'=>'緑'); は， $name = array(); $name['りんご'] = '赤'; $name['メロン'] = '緑'; と同じことになるコードですが， $name = array('りんご'>='赤','メロン'=>'緑'); は， $name = array(); $name[] = ('りんご' >= '赤'); // おそらく falseの代入 $name['メロン'] = '緑'; と同じことになるコードです。
fpdfでとくに問題ないと思いますけどね 数年使っていますがとくに困ったことはありません UTFからSJISへの変換時に特定の環境依存文字がくずれるのであれば 個別に例外処理をいれてやれば、ほぼ問題なく稼働しますよ まる数字とかかっこ株とか波ダッシュとか・・・
サイズが大きいのが原因でしょう。 90Mは圧縮したサイズ？それとも圧縮していない？ 圧縮していないなら、gzip等で圧縮すればサイズが小さくなってできると思います。 それでもダメなら、ターミナルからコマンドを使ってインポートして下さい。
私も検索してみました。 http://oshierumanaberu.net/ マッチングサイトです。 フリーワードやリクエストをお試しください。wordpressの登録も多数あるようです。 かつメールやスカイプ可の先生もおられます;。 生徒の自宅またはカフェまで、先生が来てくれるようです。 http://tokushu.tands.to/pc.htm http://highfivecreate.com/service/lesson/
文字コードについては、2つの考え方があります。 一つは、「文字列は一旦内部で共通のコードに変換して、外部に出力するときは、その出力先の文字コードに変換する」 もう一つは、「文字コード等考えずに、書かれたままのバイナリーデータを出力する」 シェルは基本的に後者です。 「文」「字」「列」という3文字だとは認識していません。 UTF-8なら「文の1バイト目」「文の2バイト目」「文の3バイト目」「字の1バイト目」... という 9文字だと認識しています。 この9バイトの列を「UTF-8だと解釈して表示する端末」を使うと「文字列」と読めます。 利点は「解釈しないのそのまま使える」こと 欠点は「日本語等の1文字を『1文字』として扱えない」こと、あるいは、「日本語等の1文字を扱うために、特別な方法が必要」ということです。 Pythonは前者です。 利点は「日本語等の1文字を『1文字』としてあつかえる」 欠点は「内部コードへの変換のために、元がどのコードなのか判断する必要がある」ということです。 自動判定、というのもないわけではないですが、誤判定してしまうという問題があります。 確実なのは、「書いた人に聞く」ことです。
>$d1 = $row['D1']; >$d2 = $row['D2']; のように扱うと面倒です。「配列のまま」扱うべきです。 （例） <?php $pdo = new PDO("mysql:host=localhost;dbname=test;charset=utf8", 'root', ''); // SQL文の準備（年月によって日付・列数が変わる） $sql = "select media.name as m_name, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-01' then 1 else 0 end) as D01, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-02' then 1 else 0 end) as D02, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-03' then 1 else 0 end) as D03, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-04' then 1 else 0 end) as D04, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-05' then 1 else 0 end) as D05, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-06' then 1 else 0 end) as D06, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-07' then 1 else 0 end) as D07, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-08' then 1 else 0 end) as D08, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-09' then 1 else 0 end) as D09, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-10' then 1 else 0 end) as D10, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-11' then 1 else 0 end) as D11, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-12' then 1 else 0 end) as D12, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-13' then 1 else 0 end) as D13, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-14' then 1 else 0 end) as D14, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-15' then 1 else 0 end) as D15, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-16' then 1 else 0 end) as D16, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-17' then 1 else 0 end) as D17, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-18' then 1 else 0 end) as D18, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-19' then 1 else 0 end) as D19, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-20' then 1 else 0 end) as D20, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-21' then 1 else 0 end) as D21, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-22' then 1 else 0 end) as D22, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-23' then 1 else 0 end) as D23, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-24' then 1 else 0 end) as D24, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-25' then 1 else 0 end) as D25, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-26' then 1 else 0 end) as D26, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-27' then 1 else 0 end) as D27, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-28' then 1 else 0 end) as D28, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-29' then 1 else 0 end) as D29, sum(case DATE_FORMAT(raikyakusuu.date,'%Y-%m-%d') when '2013-11-30' then 1 else 0 end) as D30 from media left join raikyakusuu on media.id = raikyakusuu.media_id where raikyakusuu.shop_id = ? group by media.name"; $st1 = $pdo->query('select * from shop order by id'); // 店舗名を取得するSQL実行 $st2 = $pdo->prepare($sql); // データ取得の準備 while ($row = $st1->fetch(PDO::FETCH_ASSOC)) { print $row['name'] . '<br>'; // 店舗名 $st2->execute(array($row['id'])); // 店舗IDでデータ取得 $sw = 0; while ($item = $st2->fetch(PDO::FETCH_ASSOC)) { if ($sw++ === 0) { // ヘッダ出力 print implode(',', array_keys($item)) . '<br>'; } // 明細出力 print implode(',', $item) . '<br>'; } print '<hr>'; }
一番かんたんな方法は、PHPとサーバを諦め、FileMakerProでカード型データベースを作ることです。 これなら、ド素人でも3日あればできます。 どうしてもサーバを使いたいということであれば、MSアクセスでSQLを勉強すると良いです。 SQLの使い方を覚えたら、PHP経由でサーバにSQLで問合せ、目的の項目を表示します。 HTML、フォーム、CGIくらいはご存知なのですよね？
＞■データベースから全件取得後→絞り込み振り分け表示を行う ＞■絞り込み命令を元にデータベースからデータを取得し、表示する ＞上記の２パターンで考えております。 いまいち状況がわかりませんが 絞り込みをしないデータベースってただのデータ置き場ってことでしょうか？ 後者しかありえないと思いますが・・・
$row = mysql_num_rows($result); $count = 1; for($i=0;$i<$row;$i++) { $array = mysql_fetch_array($result); $tmp_kenmei[$count] = mb_convert_encoding($array[0],"SJIS","UTF-8"); echo mb_convert_encoding($array[0],"SJIS","UTF-8"); $count++; } のところを $count = 1; while($array = mysql_fetch_array($res,MYSQL_ASSOC)){ echo $count.":".$array["kenmei"]."<br>"; $count++; } としてみてください それでもだめなら echo のところを print_r($array); に変えてみてください 条件なし、半角文字のみ検索、全角文字検索の３パターン試してみてください
クエリストリングの正しい形式について理解をしてください。先頭に「?」を起き、以降は「&」で連結します。HTMLとして埋め込む場合は「&amp;」にする必要があることに注意してください。 Wikipedia - Query String (英語版しかないようです) http://en.wikipedia.org/wiki/Query_string (参考) 半角英数字であればそのまま埋め込めば問題ありませんが、記号や全角文字を含めたいときはパーセントエンコード(URLエンコード)が必須です。 Wikipedia - パーセントエンコーディング http://ja.wikipedia.org/wiki/%E3%83%91%E3%83%BC% … PHPではこれを簡単に実現するための関数が用意されています。 PHP Manual - urlencode http://www.php.net/manual/ja/function.urlencode. … さらに、連想配列形式で格納された複数の要素を適切にクエリストリングとして組み立ててくれる便利な関数もあります。これを用いておけばどんな場合にも対応できます。 PHP Manual - http_build_query http://www.php.net/manual/ja/function.http-build … 【例: 生のURLとして生成する場合】 $url = 'http://../thread.php?' . http_build_query( 　array( 　　'id' => '4694', 　　'res' => '52', 　), 　'', 　'&' ); 【例: aタグとして生成する場合】 $html = sprintf( 　'<a href="%1$s">%1$s</a>', 　'http://../thread.php?' . http_build_query( 　　array( 　　　'id' => '4694', 　　　'res' => '52', 　　), 　　'', 　　'&amp;' 　) ); 送信側に関する注意は以上です。受信側での注意に関しては以下の記事にまとめてあるのでご一読お願いします。 Qiita - $_GET, $_POSTなどを受け取る際の処理 http://qiita.com/mpyw/items/2f9955db1c02eeef43ea
三項演算子は優先順位が低いので、他の演算と合わせるときは括弧で括っておくのが無難です。 RTFM. http://www.php.net/manual/ja/language.operators. … （例） $str = 'aaaa'; $str .= $chk ? 'bbb' . 'ccc' : 'ddd' . 'eee'; ↓↓↓↓ $str = 'aaaa' . ($chk ? 'bbb' . 'ccc' : 'ddd' . 'eee'); 実行速度の違いはありません。厳密には測定誤差未満の差があると思いますが、全体の処理がけっして速くはないphpスクリプトでは問題にはなりません。速度より「ソースの読みやすさ」を優先してください。
外部ライブラリを利用するケースもあるでしょうし たとえば、個人的につかうのであればmyで始まるクラスとか nakayamaさんならnakayama_やnk_など特徴的な接頭語をつけた名称を使えば 競合する可能性は減ります。 プロジェクトで作るときはディレクターが方針をきめればいいでしょう また当然あまり一般的な名詞やよく関数名で利用されるような単語を使うと 予約後でなくても、別で書いたご自身のソースと競合する可能性も高いので なるべくやめたほうがいいでしょう
っていうか、データベースに格納してあるなら 文字列関数でバイト数を調べることできるでしょ？
テーブル構成 【記事テーブル】 [entry](プライマリキー: id) id(記事ID) | writer_id(書き手のユーザーID) | text(記事本文) 【既読管理テーブル】 [flag](ユニークキー: entry_id, reader_id) entry_id(記事ID) | reader_id(読み手のユーザーID) | last_read_at(最終読み込み時間) 既読管理テーブルの挿入と更新は INSERT INTO flag(entry_id, reader_id, last_read_at) VALUES (?, ?, ?) ON DUPLICATE KEY UPDATE last_read_at = ? のようなSQLでどうぞ(?はプレースホルダ)
静止画も動画も同じように保存できますよ。
「たまたま1例での実行結果が一緒になった」 ということと 「常に実行結果が一緒になる」 ということを、きちんと区別しなければなりません。 後者なら入れ替えが可能です。 あなたの書いた例は「前者」です。 あなたが実験したときは「たまたま一致した」だけで、常に一致するものではありません。 よって、入れ替えはできません。 算数で例えるなら 2÷1=2 2×1=2 「以上計算結果は同じですが、どちらを選択しても宜しいのでしょうか！？」 と質問するようなものです。
$resultsに正しく配列が展開されているとすれば、 echo $results['results']['collection1'][info]; ではなく、 echo $results['results']['collection1'][0][info]; では？
そのC言語を改修して CGIにする。 PHPのモジュールに改修する。 exec()を使って実行結果を得る。
正規表現で抽出します。 //入力した文字列を取得する $文字列 = $_REQUEST["xxx"]; //xxx=入力領域の名前 //未入力時のチェックなど 中略 //正規表現を設定する $正規表現 = "/\\/\\d{9}\\?/"; //数字部分を抽出する（正しくは"/nnnnnnnnn?") preg_match($正規表現,$文字列,$抽出部分); //抽出した文字列の"/"と"?"を除く $抽出部分 = substr($抽出部分,1,9); //SQLの構築 $sql = "INSERT INTO ～ VALUES('" . $抽出部分 . "')"; //SQL実行 以下略 正規表現の意味は以下の通りです。 "/"以降に続く9個の数字とその後の"?" 英数字で任意の長さの正規表現は以下の通り $正規表現 = "/\\/[\\da-zA-Z]+\\?/"; ※任意の文字数なので、substrの第3引数に注意 あるいは正規表現による置換で、英数字以外を 空文字列にする方法もあります。この方が有利 かも知れませんね。 正規表現の構文はググれば見つかります。
こんにちは。 Error: Apache shutdown unexpectedly. 14:53:12 [Apache] This may be due to a blocked port, missing dependencies, 14:53:12 [Apache] improper privileges, a crash, or a shutdown by another method. 14:53:12 [Apache] Press the Logs button to view error logs and check 14:53:12 [Apache] the Windows Event Viewer for more clues 14:53:12 [Apache] If you need more help, copy and post this 14:53:12 [Apache] entire log window on the forums エラーメッセージをそのまま検索すれば答えはすぐ見つかると思いますよ。 ポートの競合が起きてるんでは？ 通常Webサーバは80ポートを利用します。 Skypeが入って起動していませんか？Skypeは80ポートを利用します。
wordpressのバージョンに依存するかもしれませんが、 開発中に匿名な人に見られることを考えるとこまめな設定変更が必要ですね。 それなら wp-config.phpの最下行に以下を追加すれば所望の動作になると思います。 if ($current_user->user_level == 10) { //管理者ログイン中か確認 if (!ini_get('display_errors')) { // 管理者なら現在の設定を確認して変更 ini_set('display_errors', '1'); } else { if (ini_get('display_errors')) { // 管理者以外なら 設定を戻す ini_set('display_errors', '0'); } } 注意）管理者ログインしたままブラウザを閉じてしまうとdisplay_errors=1の設定が残ります。 　wordpressだけ運用しているのなら自動で戻りますが、他のPHPアプリに影響が 出ますので、毎回ログオフ後にどこかのページをアクセスするか、設定を戻す処理追加が 必要でしょう。
for ($i = 1; $i <= 100; $i += 2) とかですか？
逆質問で申し訳ないですが、ハッカーを何と思っていますか? なにか誤解しているような気も。
>もしその可能性が高いなら、残念ではありますがメールフォーム自体を廃止して別の方法を取ろうと思っているのですが… 実際にどのサーバーがそのスパム？送信をしているか？ 調査は必要そうですね。 なんとなくなんですが、 そのシステム、その辺にあるような、フリーの物ではないですか？ 確信はないのですが。 掲示板などを巡回して悪さするBOTが多数あります。 可能なら、改造は必要ですが、 次の数字はなに？　グラフィックの数字などが並ぶ　：「入力」 みたいな、"人”にしかわからない問題をだして入力させる。 または、 数字+数字＝「入力」　という簡単な計算をさせるなどを 追加してもらうなども手ではあります。 一度、有料でも仕方ないので、 現在のシステムの管理者の方と相談をしたほうが良いと思われます。 あと、メモ帳 他の方の指摘でしたが、確かに 「改行コード」がCRLFだと、まずいこともあります。 LFのみにするのはメモ帳だと、制御が出来ないですね。 ではでは
form要素の内側でループしてはダメです（ループで作成した全部のinput要素が送られます）。ループの内側でform要素を作成してください。 当然ですが、form要素のname属性（もしくはid属性）に$countの値を組み入れることになりますしwindow.openに自分自身の$countを引数で渡さないとform要素が確定出来ませんので、そのあたりもお忘れなく。 まぁ、window.openに渡した『引数をセットして送信する』ならform要素自体はひとつでもいいですかね（まったく別の位置にあってもいいしJavaScriptで動的に生成してもいい）。
>$str = ($data >= 10)?"１０以上":"１０以下"; 質問者は、算数レベルの事理解できている? 10以下はあり得ない。 10未満な 以下と未満の使い分けできるか?
データがPOSTされてからはどうしようもありません。 押されたボタンによってform要素のtarget属性（送信先の「フレーム名」）を書き替えてからPOSTするようにJavaScriptで処理することになります。
＞中略には何を入れればいいのですか？ えーと・・・ほんとに釣りじゃないの？ ここに書かれてないサーバーに渡したいすべてのことを書きます。 あなたが何を渡したいのかは私の知るところではありません。
httpdはapacheですか？ httpd.confもしくは運用しているディレクトリの.htaccessなどで limitでpostをはじいてたりしませんか？
何度も紹介されていますが、以下のような処理が妥当 <?php $data1=isset($_POST["data1"])?$_POST["data1"]:""; echo $data1;
javascriptを使う使わないにかかわらず タイプsubmitの要素については、サーバーにデータを渡すことができ タイプbuttonの要素については、渡すことができません submitは「送信ボタン」でbuttonは「ただの飾り」 だと思っておけばよいでしょう
＞何か確認すべきことがありますか？ ごめんなさい Win環境のPHPは利用していないので、よくわかりません system("net use z: \"\\\\サーバー名\共有名\" パスワード /user:ユーザー名",$return_var) 的なエスケープ処理くらいしか思いつきません
フルに書くと「kses strips evil scripts」ですね。php（PHP: Hypertext Preprocessor）みたいなものかなww
1画面目にsubmitがないのですが、どうやって2画面目に遷移するのですか？ >２画面目ではファイル名だけを表示させ、 この時点で、POSTされたファイルを保存していないといけません（スクリプトを抜けたらuploaded_fileは削除されるので）。テンポラリな名前で保存する（一定期間経過したらまとめて削除する）とか、セッション変数に格納するとかの工夫が必要です。 ＃そもそも「ファイル名を表示」に何か意味があるんですかね。 ＃画像のときにサムネイルを表示とかならわかりますが（汗 あと、最終的にファイルデータを保存する（テンポラリファイルからmoveするとかセッション変数のデータを書き出すとか）ときに、ブラウザから送信した「ファイル名」を使ってはいけません。アテにしちゃいけないです。
<?php $a = 10; $var = ($a>=10 ? "１０以上" : "１０以下"); print ($var); ?> と書いてみようとは思わなかったのですか…？どうして「不可能かもしれない」と思ったのか全く分かりません。
http://www.php-labo.net/tutorial/php/upload.html この辺が参考になると思いますが、 パスなんてありません。 そもそも、PHPが見ているのは、「サーバー側のパス」であり 送ったのは、「ローカルクライアント側のパス」なので、 まったく違う世界のパスになりますので。 パスがあっても無意味です。 もし、PHPにc:\windows\....って来たとしても、 PHPからユーザーのHDDを読むわけではなく POSTにマルチパート形式で実体がくっついてくるのを読むだけですよ。
>※ftp_chdir($ftp, $path);　の$path　は、相対パスか絶対パスか、URLか FTPサーバにURLを与えても仕方ない気がしますけど（ftp:// で記述できるURLがあるなら別ですけどね）。 RTFM. http://www.php.net/manual/ja/function.ftp-chdir. … カレントディレクトリに存在するサブディレクトリに移動するので「ディレクトリ名」だけです。上の階層に移動するときはftp_cdupを使いますので。 http://www.php.net/manual/ja/function.ftp-cdup.php ∴「今どの階層にいるのか」を意識していないとダメです。 >※ftp_fput($ftp, $remote_file, $fp, FTP_BINARY)の、第二引数$remoto_file　は、リモートでの ファイル名だけでよいのか、相対パスか、絶対パスかURLか ファイル名だけです。カレントディレクトリにアップロードされますから、あらかじめftp_chdirで移動しておくのが前提です（ここでpathが指定できるならftp_chdirは要らない）。
・insert ignoreとは何ですか ・主キーとは何の話ですか ここのカテゴリはPHPなので，PHP以外の要件が関わってくる話であれば， その要件についてちゃんと提示して下さい。
＞新規登録として登録できたら別ウインドウに遷移せずそのままtopに戻し戻ってきたらデータが登録されているようにしたい ごめんなさい、日本語としてよくわからない 新規登録したら遷移せずにTOPに戻しとありますが TOPに戻ることを遷移といいませんか？ 戻ってきたらデータが登録されているというのもイメージがわきません。 ajaxで非同期処理をすればページ遷移なしでデータ更新は可能です そのことをいいたいのでしょうか？
> ここから氏名と住所が空白だったらエラーメッセージを出したいのでがtryで出せばいいですか try～catchは例外が発生した場合に、エラーを補足するために使用します。 未入力などのエラーチェック機構は自分で実装する必要があります。 ※以下は簡易例です。 update2.php <?php $err = ""; if(empty($_POST['NAME'])) $err.= "名前を入力してください。<br>"; if(empty($_POST['ADDR'])) $err.= "住所を入力してください。<br>"; if(empty($err)){ 　$pdo = new PDO("mysql:dbname=db_test;host=localhost", "root", "admin"); 　$st = $pdo->prepare("UPDATE tbl_test SET 氏名=?,住所=?WHERE 番号=?"); 　$st->execute(array($_POST['NAME'], $_POST['ADDR'],$_POST['ID'])); }else{ 　echo $err; } ?>
POSTとGETの絡みかもしれないので $id=isset($_REQUEST["id"])?$_REQUEST["id"]:0; ↓ $id=isset($_POST["id"])?$_POST["id"]:(isset($_GET["id"])?$_GET["id"]:0); にしてください それと UPDATE tbl_test SET `名前`=?,`住所`=? WHERE `番号`=? ↓ UPDATE tbl_test SET `氏名`=?,`住所`=? WHERE `番号`=? でしたっけ？
そもそもは二重引用符で括っているんですよね。途中で単引用符+文字列連結になっているのが不思議ですが・・・ print("<a href='//192.999.999.999/doc/$tmp_no.pdf' Target='_blank'>AAAAA</A>"); もしくは print("<a href='//192.999.999.999/doc/" . $tmp_no . ".pdf' Target='_blank'>AAAAA</A>");
＞12月のあとに1～12月の合計を表示する場合 あれ？スクールカレンダーじゃないの？ #3さんのロジックを使うのであれば //1～12月 sum(if (date_format(`販売日`, '%Y')='2014', `数量`, 0)) as `合計` //4～翌3月 sum(if (date_format(`販売日`, '%Y%m') BETWEEN '201304' AND '201403', `数量`, 0)) as `合計` pivotを使っていれば、データの絞り込みがすでにできているので sum(`数量`) as `合計` をつければ大丈夫です
定番は、 IDE側はEclipse+PDTかNetBeans デバッグ側はxdebugを利用する。
もしユーザーごとに管理を行うのであれば、所有者が明確に分かるように画像データ自体をMySQLに入れたほうがいいかも… http://qiita.com/mpyw/items/117ab6a88fd58d911c34
（追記） >クッキーってFQDNが違えば、クッキー名がかぶっても問題ないんでしたでしょうか？ ホスト名が違えば別物です（同一ドメインでもpath指定で別に出来ますけどね）。
wp_enqueue_scriptsというhookは wp_enqueue_script()を適切なタイミングで行う為のhookです つまるところwp_enqueue_scriptで使う為の wp_register_scriptでの登録とかがちゃんと 終わったタイミングってとこでしょうか 公式によるとwp_enqueue_scriptsというhookは wp_enqueue_scriptsという名前だけど wp_enqueue_script()とwp_enqueue_style() 両方の適切なタイミングで行う為のhookだそうです add_action( 'wp_enqueue_scripts2', 'my_scripts' );が ちゃんと動いてしまうのは、無効な名前のhookも どこかのタイミングで実行されているからってことなのかもしれませんが そこはちょっと確認できてません
MacOSXは、BSD系のUNIX系OS。 Linuxなんて入れる必要がない。 MacOSXをUNIX OSとして使えばいいだけ。 >Ubuntuのインストルールを考えています。 Linuxの勉強でこれはないな。 サーバサイドの勉強をしたいならREHLかそのクローンのCentOSが一般的。
>式の提示有難うございます。この式の出し方についても教えていただけないでしょうか？ http://ja.wikipedia.org/wiki/%E7%AD%89%E5%B7%AE% … 等差数列 です。 １+２+・・・10なら、 （1+10）*（10）/２＝55 （最初+最後）*（間の距離）/２です。 この手の式は答えが最初からあるので、 実は計算する意味はなかったりもします。 等比が、掛け算タイプ。
>JSで動的に生成された後のサイトのページ構造は取得できますか？ 出来ません
おそらく、the_titleを定数と勘違いをしているんじゃないでしょうか？ the_titleをechoしているわけでもありませんし、指定していない定数をただphp上に記述しているだけですから、エラーもでないと思います。
>もしかして一般的にはプラグインを用いるのが慣例でしょうか？ >手持ちの本には当たり前のようにプラグインを用いているものでして。 「使いたい」だけならプラグインでやるのが楽だとは思います。 Wordpressを詳しく知りたいなど理解すること自体が目的なら、自分で弄ってみるのもいいでしょうけど・・・
>$argv[1]) && $argv[1] この切り方がそもそもダメダメです。&&の直前の閉じ括弧に対応する括弧がありますよね。 >isset($argv[1]) && $argv[1] isset($argv[1])　と、$arg[1] の論理積です。けっして >両辺は同じ ではありません。 $arg[1] という変数が存在し、NULL以外の値であり（isset($arg[1])）、なおかつ$arg[1] が空文字列や"0"ではない（論理値として真の値になる）ときに『与えられた引数は真です』となります。 そもそも$arg[1] という変数が存在しない状態では『引数が与えられていない』ことになります。 当然ですが、issetでチェックしないと変数が存在しないときにUndefined variablesのwariningになります。外部から与えられる変数は存在するかどうかをissetでチェックせず扱ってはいけません。
php.iniのoutput_buffering設定に影響されているようですね。「バッファリング」といって、echoした後もすぐには出力せずに、ある程度溜めておいてまとめて表示させる手法です。実際にApacheを利用してWebサイトを公開する場合にはバッファリングを使用したほうが好都合なことが多いのですが、コマンドラインの場合には完全に要らない子ですね。局所的に無効にしたい場合は <?php while (ob_get_level()) ob_end_clean(); print "Input->:"; $str = trim(fgets(STDIN)); print "Print->$str\n"; こんな感じでどうでしょうか。なお、終了タグ「?>」は書かなくてもいいには過ぎず、書かない方がいいと推奨されています。マニュアルにそう書かれています。
本当にそのままだとすれば本の誤植でしょうが、閉じ括弧が抜けています。正しくは以下の通りです。 if(isset($argv[1]) && $argv[1]) { というか、]) と書いてあるのを見間違って ] と入力したようにしか見えないのですが……。
To_aru_User 様が実装に集中されていて仕様については気にされていないようなのですが、一点疑問点がございます。 > (1)得点を挙げた選手 > 得点を挙げた選手にチェックを入れて更新ボタンを押すと、チェックを入れた選手のgoalに「1」が追加される。 この仕様だと一選手が一試合に複数回ゴールした場合に goal の値が実際のゴール数とずれると思うのですが 問題ないのでしょうか？ サッカーのゴールは一選手が一試合で複数回することがまれだというのは知っているので、その場合はレアな特殊ケースとして phpMyAdmin を使って更新するという運用にするというのならいいのですが、それなら左記の特殊ケースを仕様として明示しておく必要があります。
うーん。 手っとり早くは page.php に書いて良いですが、テンプレートを汚すので、正直自分も好きではありません。「アクセス」だなにテンプレを用意するのも何ですし。。 phpにより動的に何かを取得して表示する、という使途であれば仕方ないですが、 今回の場合、生成する内容は単なる javascript なので、本文にjavascriptの実行文を直接、打ち込むのが良いと思います。 Wordpressの場合、本分の html に javascript を直打ちすると、勝手に改行を入れられたりして まともに動作しませんので、プラグインを使います。 CSS & JavaScript Toolboxあたりどうですか？ http://coliss.com/articles/blog/wordpress/plugin …
……実行環境の問題、かなぁ？ 参考 URL の一番下のコメントに、Windows 版では未実装という趣旨のものがあるのですが。 参考URL：http://us1.php.net/manual/ja/function.posix-getp …
すみません、同時期に質問された以下の質問によるとどうやら実行環境の影響も考えられます。 http://oshiete.goo.ne.jp/qa/8543599.html エラーの発生する環境（OS、Web サーバ、PHP のバージョン）について補足をお願いいたします。
昔ながらの方式だと「.forwardでスクリプトを実行する」というのが ありますが、これはセキュリティ的にも環境の作りにくさ的にも 最近はあまりはやっていないですね、興味があったらググってみてください 普通の環境でおこなうのであれば (1)プールしておくメールアドレスをつくる (2)メールを読むPHPをかく もし所定の形式のメールがあれば、更新プログラムを実行、なければスルー 読み終わったらメールを削除 メールの読み込みにはPEAR::mailなど利用するとお手軽です http://pear.php.net/manual/ja/package.mail.mail. … (3)cronなどで定期的にPHPプログラムを実行する。 その際はwgetなどhttp経由で実行すればPHPの実行サーバーと定期処理を要求する サーバーは同じである必要はないため権限的にも有利 cronの実行タイミングは5分に1度程度であれば1日288回のチェックですし 負荷もたいして問題はないと思います。 （平日の朝8時から夜10時とか限定すればもっと少なくてもすみます）
疑問に思ったら、人に聞く前に、まずはマニュアルを読みましょう。 PHPの勉強の前に「マニュアルの読み方」を覚えましょう。 マニュアルを読んで、なお、わからないことがあるのなら、その時点で質問しましょう。 人に聞いたものはすぐに忘れます。 自分で調べたことは覚えていられるものです。 「わからなければ聞けばいいや」という姿勢では、いつまで経っても習得はできません。 マニュアルの読み方で覚えておくべきことは「直接探せないときは、関連する項目から手繰る」ことです。 こういう記号は、検索してもうまく見つけることができません。 そこで、世間一般でこういう計算するものを何と呼ぶかを考えます。 算数では、こういう計算するようなものを「式」と読んでいますね? そこでマニュアルから「式」について説明しているものが無いか探すと 『式』 http://www.php.net/manual/ja/language.expression … が見つかります。 これを読んでいくと > PHP と他の多くの言語のユーザーは、variable++ や variable-- といった表記法に慣れていることでしょう。 > これらは、加算子および減算子です と探していた「++」についての説明がありました。 「加算子および減算子」の部分がリンクになっています。 『加算子/減算子』 http://www.php.net/manual/ja/language.operators. … > ++$a 前置加算子 $a に 1 を加え、$a を返します。 > $a++ 後置加算子 $a を返し、$a に1を加えます。 と説明が書いてあります。その後にサンプルコードもあります。 また > PHP は C 言語形式の加算子/減算子（前置・後置ともに）をサポートします。 とあります。元々C言語で使われていたものだとわかります。 ということは「C言語 加算子」で検索してC言語での解説を読む、というのも理解を深めるのに役立つだろう、と考えられます。 日本語でピンとくるものがなければ、英語で探しましょう。 コンピュータ用語は英語が基になっているものがほとんどです。 上記 PHP のマニュアルで言語を「 English」に変えると、「加算子/減算子」は「Incrementing/Decrementing Operators 」だとわかります。 「Incrementing」や「インクリメント」で検索すると、また違ったサイトを見つけることができます。 あとは、「実際にプログラムを動かしてみる」ことです。 今回の例なら、結果が違うことが一目瞭然です。 その結果を見て「なぜそうなるのですか?」という質問をするなら、まだマシです。 実行もしない、マニュアルで調べもしない、で質問して、回答が来るまで数日勉強が止まる、では、習得できるわけがありません。
提示された文字列を見てふと思ったのですが…おそらくPHPの関数ではなくエディタの正規表現置換を利用するんですよね？ '2009-\d{2}-\d{2} \d{2}:\d{2}:\d{2}', 0, 'http://'\); 以上の正規表現にてnotepad++で動作確認しました。
http://www.fedex.com/us/developer/web-services/i … 以下にあるであろうドキュメントに沿って，送ればいいと思いますが，違うのでしょうか。 FedExの開発者向けドキュメントはユーザー登録が必要なので読んでいませんが， 公開されていてFedExが利用を許可しているAPIであれば，ドキュメントがあると思うのですけれどね。
Smarty をかじってみて失望した。。ああ、それは正しいです。 かつて「 HTML +直コード」の混ぜ書きしかできなかった php に、「テンプレート」という概念を広めた Smarty の意義は買いますが、それ以上でも以下でもないですし、開発効率がさほどアップすることもないですよね。 今でもSmartyをフレームワークだとか、MVC モデルだとかと言い張る輩も多いですが、Smartyはやはり単なるテンプレートエンジンで、そんな高級なものではないです。 さて、フレームワークですが、個人的にはどれを採用しても問題ないものかと思います。 CakePHP は日本で人気があり、書籍やWeb記事が多くて習得もたやすいです（といっても素のphpからは長い道のりになりますが）。習得3ヶ月くらいで小さな仕事に実戦投入しました。 Cakeの使いづらい部分が改良された FuelPHP もおすすめです。少し勉強しました。 ただ、元も後発で発表された、海外で人気の Laravel が個人的には最も気に入っています。 電子書籍の発行部数も最近、際立って多いです。 自分でも少し使ってみましたが、記述はエレガントだし、Blade テンプレートエンジンの出来はいいし、O/Rマッパーである Eloquent の洗練具合も素晴らしい。 もう少し実戦的な参考書や記事が出回ってくると、洗練度が高いだけに、定番化する可能性が高いです。 自分は仕事で、後発である C# の ASP.NET MVC4 を使っていますが、前からやっていた cake が非常に泥臭く思えてきて、いまは php フレームワークは Laravel4 のマスターに一生懸命です。 よって、これから始める方には、Laravel をお勧めします。
HTTP_Clientにそこまでの機能が実装されていないのであれば別の方法を検討しなければなりません。 一番原始的な方法が、fsockopen関数やstream_socket_client関数で作成したコネクションリソースを使って、リクエストヘッダの書き込みやレスポンスヘッダとレスポンスボディの読み取りを行っていく方法です。 PHP Manual - fsockopen ・通常接続 → ホスト名をそのまま使う ・SSL接続 → ホスト名に ssl:// を付加する http://us3.php.net/manual/ja/function.fsockopen. … PHP Manual - stream_socket_client ・通常接続 → ホスト名に tcp:// を付加する ・SSL接続 → ホスト名に ssl:// を付加する ・非同期接続に対応 http://us3.php.net/manual/ja/function.stream-soc … 特に拘りが無ければfsockopenでいいと思います。手順としては以下のようになります。 1. fsockopenでリソースを作成して接続 2. fwriteでリクエストヘッダーを書き込む（改行コードは\r\n） 3. stream_get_contentsでレスポンスヘッダとレスポンスボディを読み込む（初めて\r\n\r\nが出現する場所で分割する） コードにするとこんな感じでしょうか。リクエストヘッダは最後に\r\n\r\nが出現するように空行を入れて調整してください。 if ($fp = @fsockopen('example.com', 80)) { 　fwrite($fp, implode("\r\n", array( 　　'GET /index.php HTTP/1.1', 　　'Host: example.com', 　　'Connection: close', 　　'', 　　'', 　))); 　list($header, $body) = 　　explode("\r\n\r\n", stream_get_contents($fp), 2) 　　+ array(1 => ''),　 　; 　var_dump($header, $body); 　fclose($fp); } else { 　$error = error_get_last(); 　die('Error: ' . $error['message']); } 「HTTP通信の内容を覗きたいっていったじゃん！」 「代わりの方法なんて聞いてねーよ！」 って思われるかもしれませんが、HTTP_Clientが内部で使用しているNet_Socketクラス内で「fsockopen」「pfsockopen」「stream_socket_client」といった関数が使われているのを確認しました。内部的にやってることは同じなんです。 つまりインストールされているPEARに探りを入れれば送出する内容を見ることが可能です。fwriteされているものをvar_dumpするという感じで。
httpd とは Webサーバのプログラムのことです。 Apacheなどが有名ですね。 ＞　コアサーバーでもhttpdを解析する方法ってできますか？ ホームページの仕様を見ると log という名前のディレクトリに生ログが置かれているようなので、このデータを解析すると出来ると思います。 また、無料のアクセス解析サービスもあるようなので利用したらいいのではないでしょうか。
全てのファイル及びHTMLのcharsetの文字コードは統一していますか？ できればUTF-8で統一したほうが良いかと思います。 ご提示されている構文自体には、特に問題が無いように見えますが、 これはレンタルサーバ等のLinuxで走らせていますか？ もしそうなら、php.iniファイルの設定は、きちんと行っていますか？ 設定をしていないければ、 mbstring.internal_encoding = UTF-8 date.timezone = Asia/Tokyo これをテキストエディタにコピペして、php.iniとしてphpファイルと同じ ディレクトリに設置してください。 date.timezone = Asia/Tokyo は、直接関係ありませんが後々date関数等を扱う時に必要になりそうなので、 一応設定しておいたほうが良いと思います。 これでも解決しないようなら、すみません分かりません。
こんな感じでいけないですか？ $pdo = new PDO($dsn,$user,$password); $place_holders= implode(',', array_fill(0, count($Array), '(?,?)')); $vals=array(); foreach($Array as $a){ $vals[]=$a[0]; $vals[]=$a[1]; } $stmt = $pdo -> prepare("INSERT IGNORE INTO table(id,name) VALUES".$place_holders); $stmt->execute($vals);
ANo.2のソースに転送処理を組み込んでみました。とりあえず添付ファイルなどがあっても問題なく転送出来ています。参考にどうぞ。 <?php $server = 'POPサーバ名'; $user = 'メールアカウント'; $pass = 'パスワード'; $log = array(); $dat = array(); $sock = fsockopen($server, 110, $errno, $errstr, 20) or die(sprintf('cannot connect %d, %s', $errno, $errstr)); $buf = fgets($sock, 512); if(substr($buf, 0, 3) != '+OK') die($buf); $buf = _sendcmd("USER $user"); $buf = _sendcmd("PASS $pass"); $data = _sendcmd("STAT");//STAT -件数とサイズ取得 +OK 8 1234 sscanf($data, '+OK %d %d', $num, $size); for($i=1; $i<=$num; $i++) { $line = _sendcmd("RETR $i"); $dat[$i] = ''; while (!preg_match("/^\.\r\n/", $line)) { $line = fgets($sock,512); $dat[$i] .= $line; } // $data = _sendcmd("DELE $i"); } $buf = _sendcmd("QUIT"); fclose($sock); file_put_contents('pop3log.txt', implode(PHP_EOL, $log)); foreach ($dat as $key=>$val) { $out = md5(microtime()) . '.txt'; file_put_contents($out, $val); printf('%03d : %s<br>', $key, $out); _mailsend($val); } function _sendcmd($cmd) { global $sock, $log; fputs($sock, $cmd."\r\n"); $log[] = 'send : ' . $cmd; $buf = fgets($sock, 512); $log[] = 'recv : ' . $buf; if(substr($buf, 0, 3) == '+OK') { return $buf; } else { die($buf); } return false; } function _mailsend($arg) { $mail = explode("\r\n", $arg); $head = array(); $body = array(); $sw = 0; // 0:ヘッダ、1～:ボディ foreach($mail as $line) { if (trim($line) == '') { $sw++; } // 空行があったらヘッダ終了 if ($sw == 0) { // ヘッダチェック $hf = false; // 残すヘッダは true if ((substr($line, 0, 1) != " ")&&(substr($line, 0, 1) != "\t")) { if (strtolower(substr($line, 0, 7)) == "content") { $hf = true; } // content* は残す if (strtolower(substr($line, 0, 4)) == "from") { // fromはx-org-fromにして残す $line = 'x-org-' . $line;; $hf = true; } } } switch ($sw) { case 0: if ($hf) { $head[] = rtrim($line); } break; default: $body[] = rtrim($line); break; } } $head[] = 'From: 自分のメールアドレス'; return mail('転送先メールアドレス', 'test', implode("\r\n", $body), implode("\r\n", $head)); // subjectに日本語を使うときはmime処理なども自前で }
画像小さくなっちゃったのでこっちで↓ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 …
もう一度「基本コーディング」あたりのおさらいを。 PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 "自動で" というのが引っかかっているようですが、単に定期的にそのスクリプトを実行させればいいだけです。Linuxであれば標準で「cron」という機能が使えます。Windowsであれば適当なフリーソフトを導入してください。一応シンプル性を重視したツールを以前にVisualBasic言語を使って自作したことがあるのでダウンロードリンク貼っておきますねｗｗ SimpleCron ダウンロード http://www1.axfc.net/u/3196654 なおRSS取得部分に関しても、以下の点には気を付けてください。 ・正しくXMLとして読み込めたかどうかをチェックする ・並列処理でリクエストを送る 後者が特に重要です。逐次リクエストだと著しく実行速度が遅くなるので、ある程度束ねて並列で送ってしまったほうが合理的でしょう。 curl_multiでHTTP並列リクエストを行うサンプル http://qiita.com/Hiraku/items/1c67b51040246efb4254 そのままだと若干使いにくいので、こういうラッパークラスを作っておいてもいいかもしれません。 MultiRequest::get() や MultiRequest::post() をコールして使います。 cURLマルチリクエスト用簡易ラッパー http://bloggdgd.blog28.fc2.com/blog-entry-290.html INSERT文に関しては、IGNOREオプションを使うとユニークキーに重複があったときにエラーを出さずに無視してくれるので、今回の用途に向いていると思います。あらかじめ「date」「title」「link」でユニークキー制約を設定しておいてください。 【実装例】 http://pastebin.com/AsjSq1Mu 結局全部書いてしまいましたｗ
Drupalで構築して無い機能のものは自分でモジュール開発する。
その通りです！HTMLじゃなくても画像ファイルやJavaScript,CSSなどどんなファイルに化けることも出来ますね。但しデフォルトでは Content-Type: text/html というヘッダーが送られるので、そういったファイルを出力したいときは Content-Type: image/png などと明示したりしますし、単純にHTMLを出力する場合でも文字化けを防ぐために Content-Type: text/html; charset=utf-8 としたりします。PHPが使える場合はmetaタグを使わずしてこうやって直接ブラウザにヘッダーとして指示を送ることが可能で、こちらの方法の方が望ましいと思います。 PHP Manual - header http://www.php.net/manual/ja/function.header.php
ちょっと微妙なかんじですが、sql側で集計したものを表示した方がはやくないですか？ //元データ create table tbl(type int,name varchar(20),hour int,day date); insert into tbl values(19,"山田",5,"2014-03-21") ,(19,"山田",8,"2014-03-24") ,(19,"山田",8,"2014-03-26") ,(19,"田中",8,"2014-03-23") ,(19,"田中",8,"2014-03-26") ,(19,"田中",3,"2014-03-28") ,(20,"大田",3,"2014-03-21") ,(20,"大田",5,"2014-03-27") ,(20,"田中",3,"2014-03-24") ,(20,"田中",4,"2014-03-27") ,(0,"高橋",1,"2014-03-27"); //集計 select type,name ,sum(hour*(day='2014-03-21')) as '0321' ,sum(hour*(day='2014-03-22')) as '0322' ,sum(hour*(day='2014-03-23')) as '0323' ,sum(hour*(day='2014-03-24')) as '0324' ,sum(hour*(day='2014-03-25')) as '0325' ,sum(hour*(day='2014-03-26')) as '0326' ,sum(hour*(day='2014-03-27')) as '0327' ,sum(hour*(day='2014-03-28')) as '0328' from tbl group by type,name;
Ethnaの仕様はよくわかりませんが、配列で渡してやりキーと値をみているのであれば <?PHP $data=array(""=>"","x"=>"y"); var_dump($data); ?> 的な処理で、キーにも値にも空文字を渡してやるとかできませんか？
ごめんなさい、printfの後にtrの閉じタグ入れ忘れました… あと…入力データにHTMLタグなどが含まれる可能性がある場合、htmlspecialchars関数を通してからechoしなければいけません。 PHP Manual - htmlspecialchars http://www.php.net/manual/ja/function.htmlspecia … 毎回この関数を書くのは面倒なので、 function h($str) { 　return htmlspecialchars($str, ENT_QUOTES, 'UTF-8'); } として1文字で呼べる関数を用意しておくと非常に便利です。
Qiita - 【PHP入門講座】 文字列 http://qiita.com/mpyw/items/d61b50d90e84e289e2be サポートしていないとはいっても、上で述べている通りUTF-8を使えばだいたいの関数はマルチバイトにも対応できますね。
訂正 × コメントアウトすれば ○ アンコメントすれば
PHPの比較演算子の ==と ===　の違いの説明は、ともかくとして、 0.0という小数点以下が０しかない数値が数学的にありあるのかどうかっていうことですよね。 違和感があるのであれば、プログラミング上の書式として考えられてはいかがでしょうか？ たとえば、電卓で　0.1を 入力するとき、 最初の0を省略して　．1 と入力しても0.1扱いになりますし、 0　をあえて　0.0000と　入力しても0扱いになりますよね。 それと同じで。
【数の構成】指数表記と浮動小数点 http://oto-suu.seesaa.net/article/204829406.html Qiita - 【PHP入門講座】 型変換 http://qiita.com/mpyw/items/3aac811629622f7f4d8b
fooが入っているのは > 一件見ただの文字列のようなものでも、キャストにより、０以外の数値となります。 ということを理解させるためのものでしょう。
ああ、これ確かuse句でカウンタを参照して、置換回数に上限設けていましたね…これだと無名関数ではない通常の関数では実現しにくく、クラスを使ったほうが実装が綺麗になると思います。 以前作成した関数には冗長な部分が多く、エスケープも誤って2重にしてしまっている部分もあったので、5.2でも動く形で書き直してみました。「2個以内の動画に該当するURL」以外のURLについても、aタグを使ってリンクするようにしまいした。 ※ 確認のため現在は最大値99に設定していますが、2に変更して使ってください http://pastebin.com/xtTgsLKA http://ideone.com/ppEqLZ
>「"DELETE FROM address where no=$no or where name='$name' or where tel='$tel'"」に >変えてみたのですがやはり結果は上手くいきません。 とりあえずはMySQLで「どういうSQL文になればいいのか」をちゃんと考えてください。 この例でいえば（$no は整数値だとして） $where = array(); if ($no !== '') { $where[] = sprintf("(no = %d)", intval($no)); if ($name !== '') { $where[] = sprintf("(name = '%s')", mysql_real_escape_string($name)); if ($tel !== '') { $where[] = sprintf("(tel = '%s')", mysql_real_escape_string($tel)); if (count($where) === 0) { die('abort'); } // エラー処理 $result = mysql_query("DELETE FROM address where " . implode(' or ', $where), $con); くらいは最低限やらないとダメです（というか or で繋ぐというのもけっこうアバウトすぎる仕様だとは思いますけどね）。 >少し解りかけはじめたのに本当に残念です。 mysql_set_charsetやmysql_real_escape_stringまで覚えたのに・・・というなら解りますけど。まだ実用になるソースが書けないのですから、今のうちならいいでしょ。
PHPはどうやってインストールされましたか？XAMPPを使われたのであれば、以下のようにフォルダとURLが対応します。 【フォルダ】 C:\xampp\htdocs\ 【URL】 http://localhost/ 例: C:\xampp\htdocs\a\b\test.php → http://localhost/a/b/test.php もちろんXAMPPコントロールパネルからApacheを起動している前提です。但し <?php echo (float)'15foo', PHP_EOL; echo (float)'15.33foo', PHP_EOL; echo (float)'1e2foo', PHP_EOL; echo (float)'foo', PHP_EOL; これだとそのままではHTMLとして認識されるので、ブラウザ上では改行が反映されません。意図したように改行させたければ以下のようにする必要があります。 【選択肢A: <br>を書く】 <?php echo (float)'15foo<br>', PHP_EOL; echo (float)'15.33foo<br>', PHP_EOL; echo (float)'1e2foo<br>', PHP_EOL; echo (float)'foo<br>', PHP_EOL; 【選択肢B: <pre></pre>で囲む】 <?php echo '<pre>'; echo (float)'15foo', PHP_EOL; echo (float)'15.33foo', PHP_EOL; echo (float)'1e2foo', PHP_EOL; echo (float)'foo', PHP_EOL; echo '</pre>'; 【選択肢C: HTMLではなくテキストとして認識させる】 <?php header('Content-Type: text/plain'); echo (float)'15foo', PHP_EOL; echo (float)'15.33foo', PHP_EOL; echo (float)'1e2foo', PHP_EOL; echo (float)'foo', PHP_EOL; 【A】や【B】はContent-Typeを設定していないので、Apacheで規定されているデフォルトのContent-Typeが使用されます。何もいじっていなければHTMLを意味する「text/html」が適用されるので header('Content-Type: text/html'); としていることと同じになりますね。しかし日本語を扱う場合にはこれだと文字化けする恐れがあるので、自前で header('Content-Type: text/html; charset=utf-8'); としてブラウザにUTF-8であることを認識させたほうが望ましいです。【C】の場合はHTMLではなくテキストですがこれも同様に header('Content-Type: text/plain; charset=utf-8'); となりますね。
メモリが足りないと言っているのですから、メモリを消費しないようにコードを書き換えるべきです。 というか、10万件をいっぺんに登録しようとしているところに問題があるように思います。 データを1万件ずつに分けて登録してみたらどうでしょうか。 あるいは、SQL でデータ重複をはじくのではなく PHP のほうで array_unique() を使って重複を除去したうえで save() するとか。 http://www.php.net/manual/ja/function.array-uniq …
いわゆるキャスト（型変換）処理です ＞(string)」は関数扱いになっているのかな 意味合いとしてはキャスト関数を使う効果を得られますが構文的には関数ではないです http://www.php.net/manual/ja/language.types.type …
＞もしidに欠番があっても該当する「 id 」に ＞正常にデータをupdateできる構文 考え方は２つ (1)そもそも存在しないIDをupdateするのだから存在しない時点でupdateはされないので問題ない たとえばidが1,2,4しかない時点で update ～ where id=3 としても条件節にヒットするデータがないので0件更新されておしまい (2)存在しないIDをupdateするときには新規に追加する これはINSERT ... ON DUPLICATE KEY UPDATE構文を使えばよい 同じ例でいえばidが1,2,4しかないとき ID=1はアップデータするけど,ID=3のときにはINSERTする いずれにしてもIDはデータを特定するためのものですから IDを振り直すという行為はしていけない さらに言えば、データ削除するのではなくdelete_flag的なカラムで コントロールすればIDに抜け番は発生しない （ただし抜け番が発生してもなんの問題もないし、むしろ削除フラグのついた IDに対してアップデートをしていいかどうかのルール決めが必要になるが）
■ 回答1 PHP Manual - spl_autoload_register http://php.net/manual/ja/function.spl-autoload-r … マニュアルにちゃんと書いてあります。 「複数の autoload 関数が必要となる場合でも spl_autoload_register() は対応できます。この関数は autoload 関数のキューを作成し、 定義された順にそれを実行していきます。」 キューとスタック http://flute.u-shizuoka-ken.ac.jp/~s-okubo/class … 今回はキューなので、「定義順」となっています。 【回答2】 PHP Manual - spl_autoload_functions http://php.net/manual/ja/function.spl-autoload-f … PHPにはいろいろなコールバック指定方法がありますが、登録したときと同じように返してくれるみたいです。 http://ideone.com/9kX2Uy
>> $fp = file_get_contents("sample.txt"); ちょっとこれは変数名がよくないですね。ただの文字列に対して「$fp」（FilePointer）は不適切でしょう。PHPの値の型と、fopen・fgets・file_get_contentsのマニュアルを再確認してください。 PHP Manual - 型 http://www.php.net/manual/ja/language.types.php PHP Manual - fopen http://www.php.net/manual/ja/function.fopen.php PHP Manual - fgets http://www.php.net/manual/ja/function.fgets.php PHP Manual - file_get_contents http://www.php.net/manual/ja/function.file-get-c … 個人的に「fgets」はほとんど出番がないと思っています。「1行ずつ」読み込んだところでPHPの場合は末端に改行コードが付いてきますし、ちょっと使いにくいと思います。ファイルを処理する関数はいろいろあるので下記を参考にどうぞ。 Qiita - [PHP] ファイルオープンモードに関するマニュアルの記述は間違っている #さまざまなファイル読み出し関数 http://qiita.com/mpyw/items/3adcec3c66e515895b08 … preタグを使わない場合に導入するnl2br関数に関しては、HTMLとする場合は第2引数にfalseを指定すべきです。デフォルトだとXHTML仕様の「<br />」になってしまうので、HTML仕様の「<br>」と違うことに注意してください。 PHP Manual - nl2br http://www.php.net/manual/ja/function.nl2br.php 応用的な方法として、fopen関数で開いたリソースに自動的に文字コードを変換するフィルタをつけることが出来ます。これに関してはマニュアルにも詳しくは載っていません。以下のブログエントリを参考にどうぞ。但し、こちらの方法の場合は文字コードの自動判定は使えないようです。あらかじめ変換元の文字コードを知っていなければなりません。 ぱせらんメモ - ストリームフィルタで文字コード変換してみる http://d.hatena.ne.jp/pasela/20081224/stream_fil … CP932(Windowsが名乗っている「Shift_JIS」は実際には「CP932」です)からUTF-8に変換する方法で、あなたが試みようとしたコードに一番近い形で書くならば以下のようになります。「rb」ではなく「r」単体で開くとWindowsであれば改行コードが全て「\r\n」、Linuxであれば「\n」に勝手に変換されるので、ここではOSがWindowsであると仮定します。 if ($fp = fopen('sample.txt', 'r')) { 　stream_filter_prepend($fp, 'convert.iconv.cp932/utf-8', STREAM_FILTER_READ); 　flock($fp, LOCK_SH); 　while (false !== $data = fgets($fp)) { 　　echo rtrim($data) . "<br>\n"; 　} 　flock($fp, LOCK_UN); 　fclose($fp); } ループ条件にfeof関数を含めるのは、ローカルファイルを開く場合は大して問題ないですがネットワークストリームの場合には不適切で汎用的な方法とは言えないので、fgets関数の返り値を調べる方が無難です。PHPのマニュアルもそういう書き方になっていますよね。また、 ehco "$data<br>" とすると、実際にファイルを表示したときにソース上で 1行目[\r\n] <br>2行目[\r\n] <br>3行目[\r\n] <br>4行目 となってしまって非常に不恰好なので、 1行目<br>[\n] 2行目<br>[\n] 3行目<br>[\n] 4行目 となるようにしました。というかこんなことするぐらいなら「1行ずつ」読む意味って全く無いですよね…file_get_contentsを使わないにしても、fopen+stream_get_contentsでいいような気が…
Github - php-src https://github.com/php/php-src/ こちらからC言語で書かれたPHPの構成コードを検索してみました。 1. 「tmp_name」で検索 2. 検索結果より、「tmp_name」はC言語中の変数では「temp_filename」に対応していると推測 3. 「fd = php_open_temporary_fd_ex(PG(upload_tmp_dir), "php", &temp_filename, 1 TSRMLS_CC);」に目をつける 4. 「php_open_temporary_fd_ex」のプロトタイプを見ると第2引数が「const char *pfx」となっているので、これが「prefix」を意味すると推測 5. 「fd = php_do_open_temporary_file(dir, pfx, opened_path_p TSRMLS_CC);」に目をつける 6. 結果的にWindowsAPIの「GetTempFileName」もしくはLinuxAPIの「mkstemp」「mktemp+VCWD_OPEN」を叩いているところにたどり着く コードを見る限り、OSがランダム生成した文字列にプレフィックス「php」を付加していることは確認できますね。各APIに関しては下を参照してください。mktempはファイル名を得るだけの関数で自前で作成(VCWD_OPENをコール)しなければなりませんが、自動的に作成してくれるmkstempがコール可能な場合はそちらを利用する実装になっているようです。 GetTempFileName http://msdn.microsoft.com/ja-jp/library/cc429354 … mkstemp http://kazmax.zpp.jp/cmd/m/mkstemp.3.html mktemp http://kazmax.zpp.jp/cmd/m/mktemp.3.html
>file_get_contents("php://stdin"); >でメールデータを取得した際にUID（もしくはメール番号）も取得できているのでしょうか？ メールデータのヘッダ部からMessage-IDは抽出出来ていますよね？あとはimapで繋いでメール番号の先頭からimap_headerinfoでmessage_idが同一のメール番号を探して削除することになります。 http://www.php.net/manual/ja/ref.imap.php
あー、なんで誤りに気づかなかったか分かりました。php.iniの設定で一部のエラーが隠蔽されているからです。おそらく error_reporting = E_ALL & ~E_NOTICE になっているんじゃないですかね。ところがE_NOTICEはデバッグ上非常に重要なエラーで、これを隠蔽してしまうことはデバッグ作業を困難にします。よって error_reporting = E_ALL | E_STRICT にしてすべてのエラーを表示させてください。恒久的ではなく、PHPスクリプト実行中に一時的に変更したい場合はerror_reporting関数を使って error_reporting(E_ALL | E_STRICT); としてください。また、下記リンクで未定義とNULLの違いの再確認をお願いします。 Qiita - 【PHP入門講座】 NULLと未定義の違い http://qiita.com/mpyw/items/0a4ea0bc9a695da33f0c さて、先ほどのコードを実行してみると分かるのですが http://ideone.com/ZrWoN2 このように PHP Notice: Undefined variable: n が発生してしまっていますね。そしてその部分はNULLと見なされ、一見array_mapのコールが失敗するように思われるのですが…実は、array_mapはNULLも第1引数に取ることが出来るのです。 PHP Manual - array_map http://php.net/manual/ja/function.array-map.php 以上の例4が該当しますね。
fwrite関数のマニュアルより補足します。 http://jp2.php.net/fwrite 注意: fopen() を使用して追記モードでオープンした handle の場合、 fwrite() はアトミックになります (ただし、一部のプラットフォームにおいて string がファイルシステムのブロックサイズを超えない場合、 そしてローカルファイルシステム上のファイルである場合に限ります)。 アトミックであるとは、つまり fwrite() をコールする前にリソースを flock() する必要がないということです。データの書き込みが中断されることはありません。 今回はaモードでオープンしているのでロックする必要すらないようですね、これは私も初めて知りました…
単にJavaScriptの実行結果に依存しているだけでは…？もしそうであればエミュレーションが必要です。それもデフォルトでは使えないのでPECLからのインストールが必要となります。 PHP Manual - V8js http://www.php.net/manual/ja/book.v8js.php Windows用のDLLはこちらにあるようです↓ https://code.google.com/p/v8cgi/downloads/list 私も全く使ったことが無く、完璧に再現できるかどうかの保証はありませんが、参考程度にどうぞ。いずれにせよ、試みられていることはPHPから行うにはかなり難易度が高くなりそうです。.NET系の言語でデスクトップアプリを作る分には全然そんなことないのですが…
そもそもUTF-8以外でPHPスクリプトを書いている時点でちょっと…普通はUTF-8で書きますね。UTF-8以外だと以下のような弊害が起こります。このメソッドでもstr_replace関数同様です。 Qiita - 【PHP入門講座】 文字列 #UTF-8だけが正しく扱われる理由 http://qiita.com/mpyw/items/d61b50d90e84e289e2be … 【解決策】 1. UTF-8を使う これが最良の選択肢です。以下を参考にどうぞ。 Qiita - 【PHP入門講座】 PHPを使うための準備 #テキストエディタの導入 http://qiita.com/mpyw/items/4508dc677b11e487effc … 2. mb_ereg_replace関数を使う 結局正規表現になりますが、すべて漢字を「/」に変換してからという方法で。 str_replaceやpreg_replaceは使えないのでmb_ereg_replace1択になります。 Windows標準の文字セットは「Shift_JIS」ではなく「CP932」なので注意を。 $text = '2014年03月07日'; mb_regex_encoding('CP932'); $text = date('Y年n月j日', strtotime(mb_ereg_replace('[年月日]', '/', $text))); それかこういう方法でもいいかもしれません。頭のゼロを削除するということで。 $text = '2014年03月07日'; mb_regex_encoding('CP932'); $text = mb_ereg_replace('(?<!\d)0++', '', $text);
<?php $url = 'http://example.com/detail.php?p=abcde.php'; $pattern = '@\Ahttp://example\.com/detail\.php\?p=(.+?)\.php\z@'; $p = preg_match($pattern, $url, $matches) ? $matches[1] : false; var_dump($p); http://ideone.com/jQRDlS
コピペしてみましたが、原因はこの部分ではないようです。ソース全体の提示をお願いします。 http://ideone.com/TXRadU
コールバック関数で use(&$i) してカウンタで判定すれば解決できます。 http://pastebin.com/q4x9Veqv http://ideone.com/0peqRc
「IE8で32KBまでしか扱えない」というのは覚えておいてください（ウチのイントラはWin7proSP1+IE8に限定されているので）。 http://www.softel.co.jp/blogs/tech/archives/2117
もしCSV形式としてそのファイルが有効であれば、fgetcsv関数とfputcsv関数が向いていると思います。 PHP Manual - fgetcsv http://php.net/manual/ja/function.fgetcsv.php PHP Manual - fputcsv http://php.net/manual/ja/function.fputcsv.php Pentan.info - fgetcsv関数を文字化け対応 setlocaleの文字コード指定 http://pentan.info/php/fgetcsv_char.html ただ、一度全部の行を1行ずつ配列に読み込ませてはまた1行ずつ保存していくってすごく無駄ですよね。2万件あるなら結構きついと思います。そういうときはシリアル関数の出番です。PHPでは配列をそのままの形で保存したり復元したり出来ます。これであれば10万件程度までは何とかなるでしょう。 PHP Manual - unserialize http://php.net/manual/ja/function.unserialize.php PHP Manual - serialize http://php.net/manual/ja/function.serialize.php それ以上の世界となると、MySQLなどのデータベースを利用する選択肢に限られてきます。以下の回答を参考にどうぞ。 http://oshiete.goo.ne.jp/qa/8501002.html こちらの方法ならば、kmeeさんのおっしゃる通り行番号をあらかじめ用意しておき、 SELECT * FROM table_name ORDER BY date_value DESC, index_value ASC みたいな感じのSQLになると思います。
よけいなお世話だと思いますが・・・ MySQLから渡すデータが「03-07」だと、「2014-03-07」と「2013-03-07」など 年が違うデータが競合します。 可能な限り渡す段階ではYYYY-MM-DDの形でおこない、PHP側で加工する方がよいと思います。 またPHP側で「03-07」とデータを持った時、感覚的に日付データだと認識しづらい フォーマットになっています。 せめて「03/07」にするなど、工夫が必要かもしれません
＞各階層ごと出てくる用素数 数が同じでも要素が違うとかなり散らかった感じになるので注意 あとは単純に二重でforeachしてやれば？ <?PHP $associative_multi_d_array = array('a'=>array('a'=>1,'b'=>2),'b'=>array('a'=>1,'b'=>2),'c'=>array('a'=>1,'b'=>2)); $temp=array(); foreach($associative_multi_d_array as $key1 => $array){ foreach($array as $key2 => $val){ $temp[$key2][$key1]=$val; } } $associative_multi_d_array=$temp; print_r($associative_multi_d_array);
>要するにローカルPCにサーバ上のファイルを保存するためには、 >ftp_getをローカルPCで実行しなくてはならないという理解でよろしいでしょうか？ そうですね。サーバ側のスクリプトを動かしたらローカルに勝手に（何の警告もなしに）ファイルが出来上がるようだと怖くて使えません。セキュリティ的にどう考えても無理だし、ましてサーバ側ではローカルPCのpathなんてわかりませんから、httpでダウンロードするにしても「ファイル名」しか指定出来ません（しかも「参考」程度の扱いですよね）。 ローカルPCにApacheとphpをインストールして、http://localhost/xxxxx.php にアクセスしてそのphpスクリプトがｆｔｐ_getを実行することになりますが、そこまでしてftpクライアントを使わずにダウンロードする意味はないでしょう。
冗長な部分があったので訂正します。 // 注文を追加する $stmt = $pdo->prepare("INSERT INTO ticket_order(name, event_id) VALUES(?, ?)"); for ($i = 0; $i < $count; ++$i) { $stmt->bindValue(1, $name); $stmt->bindValue(2, $event_id, PDO::PARAM_INT); $stmt->execute(); } ↓ // 注文を追加する $stmt = $pdo->prepare("INSERT INTO ticket_order(name, event_id) VALUES(?, ?)"); $stmt->bindValue(1, $name); $stmt->bindValue(2, $event_id, PDO::PARAM_INT); for ($i = 0; $i < $count; ++$i) { $stmt->execute(); }
訂正: Y-m-d じゃなくて Y-n-j でしたね。 あと一応strtotime関数のマニュアルより... 注意: この関数を使って日付の足し算や引き算を行うことはおすすめできません。 PHP 5.3 以降なら DateTime::add() や DateTime::sub() を、そして PHP 5.2 なら DateTime::modify() を使いましょう。 他の人の回答を否定するわけではないですが、マニュアルはこちらを推奨しているようです。
同じようなことはやっています PEAR::Net_POP3でメールを読めば、送信元の情報や本文データなど読みとれます。 http://pear.php.net/manual/ja/package.networking … MySQLへの登録は名前にあたる項目をユニーク属性にして INSERT ... ON DUPLICATE KEY UPDATE 構文で処理すれば上書きされていきます http://dev.mysql.com/doc/refman/5.1/ja/insert-on … ただし同姓同名がいたら上書きされるし、名前入力のブレ たとえば氏名の間にスペースが入ったり入らなかったりで同じ人からのメールでも 複数登録されていくことになりそうで、運用で細かくカバーしないといけないですね cronで定期処理をする場合はwgetなどでhttp経由で読んでやると 汎用性がたかくなると思います
xamppでload data local がエラーになるのは知ってましたが、日本語で検索してもでてきませんねぇ。 http://osdir.com/ml/ProfessionalPHPDevelopers/20 … なにやら linux でも同じ問題があるらしい。 →検索キーワード「PDO, mysqlnd bug load」で漸く、、、 https://bugs.php.net/bug.php?id=54158 mysqli では問題ないので pdo_mysql の問題のようです。 どうやら、pdo_mysql driver の再コンパイルが必要らしい。 でもって、php5.4でも配布版では直ってないらしいです。上記ページの最後に以下の記述が！。 ＞I still seem to have this problem on: PHP 5.4.17-1~precise+1 Ubuntu 12.04 windows での再コンパイルは、Cのコンパイラー持ってないと無理なので 対策１：load だけ、mysqli でやってしまう 対策２：windowsのlocalhost なら、php側ファイルであっても、絶対パスにすれば、mysql serverからも読み込み可能なので、local はずして、実行させる。 emulation mode (オプションの PDO::MYSQL_ATTR_DIRECT_QUERY =>true またはこのキー省略)で実行すればいけます。PDO::MYSQL_ATTR_DIRECT_QUERY =>false にすると、windowsのversionによってはまた違うエラーが出たりして、pdo_mysqlのload文への対応おかしいです。 <?php // ファイル名を絶対パスにする。$fileに相対パスが入ってるとする。 $file = dirname(__FILE__) .DIRECTORY_SEPARATOR. $file; 参考URL：https://bugs.php.net/bug.php?id=54158
訂正 $stmt = $pdo->prepare('SELECT * FROM people WHERE name = :name AND age = :age'); $stmt->execute(compact('name', 'age'));
構文を変更していないのを前提とするならば、 ・新着情報表示ページファイル修正時に、誤ってphpの一部を削除してしまった。あるいは、改行を消してしまった、余計な文字がうっかりphpプログラム部分に挿入された。 というのが、一番在り得そうです。 そうでなければ、ファイル全体をアップしたということで ・読み込んでいるファイルのパスが変わった、あるいは読み込むファイルが無くなった ・ログや画像ファイルの入っているフォルダのパーミッションが変わった ・ログファイルの文字コードなどが変わった という可能性もあります。 （その場合は、syntax errorにはならない気もしますが） 最初の方の回答通り、syntax errorの後に行数なりファイル名なりが書いてあるかと思います。
手っ取り早くオブジェクト指向のメリットを理解するのであれば「プロパティ」から入るといいでしょうね。言葉で書いていても伝わりにくいので具体例で示します。 [基本情報] 田中太郎(男) [詳細情報] 1年2組 田中太郎(男) [基本情報] 山田花子(女) [詳細情報] 1年3組 山田花子(女) と表示することを目標とします。 【クラス・メソッドでの例】 class Student { 　 　private $name; 　private $grade; 　private $class; 　private $gender; 　 　public function __construct($name, $grade, $class, $gender) { 　　$this->name = $name; 　　$this->grade = $grade; 　　$this->class = $class; 　　$this->gender = $gender; 　} 　 　public function getInfo() { 　　return $this->name . '(' . $this->gender . ')'; 　} 　 　public function getDetail() { 　　return $this->grade . '年' . $this->class . '組 ' . $this->getInfo(); 　} 　 } $st = new Student('田中太郎', 1, 2, '男'); echo '[基本情報] ' . $st->getInfo() . PHP_EOL; echo '[詳細情報] ' . $st->getDetail() . PHP_EOL; $st = new Student('山田花子', 1, 3, '女'); echo '[基本情報] ' . $st->getInfo() . PHP_EOL; echo '[詳細情報] ' . $st->getDetail() . PHP_EOL; 【関数での例】 function format_student_info($name, $gender) { 　return $name . '(' . $gender . ')'; } function format_student_detail($name, $grade, $class, $gender) { 　return $grade . '年' . $class . '組' . format_student_info($name, $gender); } echo '[基本情報] ' . format_student_info('田中太郎', '男') . PHP_EOL; echo '[詳細情報] ' . format_student_detail('田中太郎', 1, 2, '男') . PHP_EOL; echo '[基本情報] ' . format_student_info('山田花子', '女') . PHP_EOL; echo '[詳細情報] ' . format_student_detail('山田花子', 1, 3, '女') . PHP_EOL; さて、あなたはこれを見てどっちが美しいと感じますか？単純なコード量で比較すれば関数で書いた方がスッキリしているように思えますが、「再利用性（何回も使うことを考慮）」という観点から見れば…言うまでもないですよね。クラス・メソッドで書けば限定した複数のメソッド間で「プロパティ」を共有させることが出来るので、何回も引数を渡したりする必要が省けます。これがオブジェクト指向最大の強みの一つです。また、関数名よりもメソッド名のほうが（所属するクラスも含めての分類になるので）短く書ける傾向にあると思います。 関数を用いる方法でも、強引に引数を渡す必要を無くしてしまう方法はあります。「グローバル変数」の利用です。 【関数での例（グローバル変数）】 function format_student_info() { 　global $name; 　global $gender; 　return $name . '(' . $gender . ')'; } function format_student_detail() { 　global $grade; 　global $class; 　global $name; 　global $gender; 　return $grade . '年' . $class . '組' . format_student_info($name, $gender); } $name = '田中太郎'; $grade = 1; $class = 2; $gender = '男'; echo '[基本情報] ' . format_student_info() . PHP_EOL; echo '[詳細情報] ' . format_student_detail() . PHP_EOL; $name = '山田花子'; $grade = 1; $class = 3; $gender = '女'; echo '[基本情報] ' . format_student_info() . PHP_EOL; echo '[詳細情報] ' . format_student_detail() . PHP_EOL; さて、こうすると一見スッキリしたように感じるかもしれません。しかし、これには大きな問題点があります。「他の関数と使う変数名が被っていたらどうするのか」ということです。グローバル変数は全ての領域で共有される変数なので、プログラムの規模が大きくなってくると訳のわからないことになります。それに対し、「これだけの範囲でなら共有させてもいい」と限定的な提供を行える優秀な役割を持つのが「プロパティ」なのです。 他にもメリットはたくさんありますが、大雑把に取っつきやすい点から述べるとこんな感じでしょうか。
>$argv[1]とはこのプログラムではどんな働きがあるのでしょうか！？ コマンドラインから渡された最初の引数が格納された変数 RTFM. http://php.net/manual/ja/reserved.variables.argv …
DBから読み込み後の処理でも良いのなら 以下でも出来そうです。 <?php // DBからの読み込み結果が下記のように$resultに格納されているとします $result = array("A"=>1, "B"=>1, "C"=>0, "D"=>0, "E"=>1, "F"=>0); // 下記の１行で！ print implode(", ", array_keys($result,1)); ?>
＞「isset」は変数が存在しているかどうかの判別をすると 書いてある通り「変数」が存在しているかどうかなので 変数の中身が存在しているかどうかではありません プログラムの中で考えれば <?PHP if(isset($a)) print 1; $a=""; if(isset($a)) print 2; ?> みたいに、とにかく中身が空でも宣言がされていれば変数は存在します。 また今回のように外部からデータを送り込む場合 $_POST["name"]が空だろうがなんだろうが、フォームのポスト中に nameという要素があってそこから送られてくれば「空」でも $_POST["name"]は存在します。 中身があるかどうかはisset()ではなくempty()などでチェックしてください
>アップロードはできたのですが偽装がみやぶれないみたいです （拡張モジュールがインストール出来るなら）KTaglibでも使って各種プロパティを確認するとか http://www.php.net/manual/ja/book.ktaglib.php
＞既存の掲示板やサイトから検索 ライセンスは無視したとしてgoogleで検索させて結果を表示させれば？ 適当なapiを利用すれば効率的でしょう ちなみにリアルタイムに無作為のWEBサイトからデータを探すことは 物理的に不可能ですので、定期的に調べたいサイトをクロールして データベースにデータをプールしておかないと難しいと思います。
PDOでプリペアド処理するとして一行ずつ投入するのはナンセンス まとめて投入してください。 ざっとテストしてみて14～15倍スピード差がありました。 <?PHP $pdo = new PDO($dsn,$user,$password); $a=array("あ","い","う","え","お","か","き","く","け","こ"); $count=100000; val=""; $datas=array(); for($i=0;$i<$count;$i++){ $num=rand(0,count($a)-1); $datas[]=$a[$num]; if($val!=="") $val.=","; $val.="(?)"; } $sql = "insert ignore into tbl(tag) values".$val; $stmt = $pdo->prepare( $sql); $num=rand(0,count($a)-1); $stmt->bindValue(1,$a[$num]); $stmt->execute($datas); ?>
CGIとかの制約がややこしいなら 逆にindex.htmlへのアクセスを index.phpにurl rewriteしちゃうというのはどうでしょう
imagedataやdataディレクトリの内容はどうなっていますか？ というかダウンロード・展開したものをちゃんと設置していますか（qrcode.phpが入っているimageディレクトリだけ置いてもダメです）。
もちろんバイトストリームを自分で処理してファイルに追記していくのを手動でやってもいいですが、PHPにはそういったローレベルの操作をサポートしている「クラス」は存在しません。古典的に「関数」を使って書きにくいコードを書くしかないです。 それぐらいならば $_FILES や $_SESSION といったPHP言語レベルでサポートされたファイルアップロード機能（テンポラリファイル生成機能）を利用すべきだと私は考えますね。実際こっちのほうがメモリ消費も少ないと思います。PHPの変数の最小単位(zval構造体)は、PHPのもとになっているC言語の変数の最小単位よりも遥かに大きな記憶領域を必要とします。
> メソッド呼び出しを毎回行う方が高速になりました。 phpに限らず、あらゆる言語処理系は、ソースコードを逐一解釈するわけでなく、ラインタイムライブラリへで動作させる内部コードへのの変換において、「ロジックの先読み」などの最適化処理を行います。 また実行時も、プロセスキャッシュのような機能を使い、高速化を意識しています。 そのため、配列などへのインラインアクセスより、組込オブジェクトによるアクセスのほうが高速であるのは、javaやC#のようなコンパイラ処理系ではよくある話です。 phpのようなインタプリタ処理系では、このあたりの能力がかなり落ちるのですが、そのベンチマークが正しいとすると、zendの実行エンジンも結構頑張っていると言えるのでは。
正常に動作してますが、文字化けだけ気になりますね。以下を参考にどうぞ。 Qiita - コマンドプロンプトで文字コードがUTF-8なテキストを表示する http://qiita.com/yu_naka0607/items/5cf26397a1a02 …
uniqid() はデフォルトでは１３文字の１６進で返りますが、hexdecで１０進数に変換すると 整数型の範囲を超えた大きな値になります。 PHPでは、整数型の範囲を超える数値は浮動小数点型に型変換されます。 そのために指数表示になっているだけです。
urldecode関数はデコード可能な部分のみデコードする関数です。 Qiita - [PHP] リクエストパラメータ・セッションに関するまとめ http://qiita.com/mpyw/items/7852213f478e8c5a2802 こちらの記事で詳しく書いているのでご覧ください。GETに関して、 「パーセントエンコードされていない 半角スペース と 改行 と NULLバイト の混入は一切認められない。」 と書きましたが、これはリクエストヘッダーレベルで見たときのことを指します。ブラウザがリクエストヘッダーを生成する段階で自動的に無効な文字列をエンコードするように実装されていれば問題なく処理されるでしょう。ですがこれに依存するのは互換性を考えると当然避けるべきです、基本的にはすべてurlencode関数もしくはrawurlencode関数を通すようにしましょう。
テキストボックスのchangeイベントはテキストボックスにフォーカスがあるうちは編集中とみなされて動作しませんがその点については問題ないでしょうか？
関数の有効無効っていうより変数の有効無効 $showtextが定義されてないって状態です footer.phpやheader.phpは get_footer();やget_header();など 関数を使って呼び出されているので function.phpやindex.phpなどと名前空間が違います プラグインとfooter.php,header.phpに 「global $showtext;」 と書き足してやれば動くはずです あるいはheader.phpやfooter.phpを require(get_tamplate_directory().'/header.php'); っていうような読み込み方しても動くでしょう プラグインってのはやっつけて言えば function.phpへの追加コードです ただそれだけのものです あまり特別に考えることはありません
twitteroauthはストリーミング非対応です。私の自作ライブラリであればOAuth2.0以外のあらゆるものに対応しているので一度試してみてください。サンプルコードも掲載しているので参考にどうぞ。ただし、まだ仕様が全然固まっていないのでβ版です。個人的にTwistOAuthクラスの設計が失敗したと感じているので、このクラスに関しては結構大きな仕様変更を加える可能性があります。 GitHub - TwistOAuth https://github.com/Certainist/TwistOAuth (build内にまとめたファイル、src内にまとめる前のバラバラのファイルがあります) 【基本的な流れ】 1. set_time_limit(0); タイムアウトまでの秒数を無制限にする。但し多くの無料レンタルサーバーでは実行不可。 2. $tc = new TwistCredential('***', '***', '***', '***'); クレデンシャルオブジェクトを生成する。「***」には各キーを投入。 3. $req = TwistRequest::getAuto('user', array('delimited' => 1950), $tc); /1.1/user.json にリクエストするためのオブジェクトを生成する。 4. foreach (new TwistIterator($req) as $req) { $response = $req->response; // これを使って何か処理 } foreachでイテレータオブジェクトを無限ループさせ、$req->response から1回あたりのレスポンスを取り出す。 なお、2～4のステップは try { ..... } catch (TwistException $e) { echo $e; } という感じでくくってください。
そもそも「httaccessでURL末尾のスラッシュの制御」をする意図は何でしょうか？ http://www.hoge.com/a 　→　a がディレクトリなら、http://www.hoge.com/a/ でないといけない http://www.hoge.com/a/b 　→　b がディレクトリなら、http://www.hoge.com/a/b/ でないといけない 　→　b がファイルなら、http://www.hoge.com/a/b でないといけない（最後に / が付いてはダメ） が自然なURLです（default index を返すときにサーバ側で自動的にセットされるハズです）。でないと返したソースからの相対パス（ブラウザ側が認識しているパス）が違ったものになってしまいます。 ＃たまにpath_infoを利用して「ファイルをディレクトリに見せかける」ことは ＃やりますが、外部cssもimg要素のsrc属性も全部DocumentRootからの ＃パス（もしくはhttp:// からの記述）にしないといけなくなります。
セッションIDのみを cookie に保存するのが真っ当な使い方ではあります。 ですが... 不特定多数を相手にしたサイトの場合は サーバー側に全ての情報を保存するのは大変なので、 重要でない情報に限っては cookie という選択肢もありです。 例: http://www.google.co.jp/ は、ユーザーの検索設定や言語を PREF に保存 クライアント側の JavaScript だけでサービスを行うような場合は、 保存できる仕組みが通常は cookie しかありません。 例: http://orteil.dashnet.org/cookieclicker/ は、ゲームの進行情報を CookieClickerGame に保存 そのほか、同じドメインだけれどセッションを共有できないサービス間にて、 「利用規約に同意した」等の偽造されても問題ない情報に限って cookie で値を共有する、というのもあります。 ですが、現在なら webStorage なる仕組みがあるので、 今後はセッション以外の目的には cookie は使用されなくなる と感じています。
いろいろ機能を付け加えて、更には（せっかく他のDBに書き換えが容易なPDOを使っているので）DSNの部分をメモリー上に作成するSQLiteに書き換えて、簡単にコピペで動くようにサンプル作ってたんですが…LIKE検索用のエスケープ方法がMySQLとSQLiteで全然違ってかなり困ったので結局MySQLに途中から戻しました。そこからのデバッグは行っていません、多分大丈夫だとは思いますが… サンプル http://pastebin.com/TTDkVmf3 全角英数字は半角英数字に変換して、大文字小文字を区別する検索が出来るようにstrtrではなくpreg_replaceを使う方法に戻したのですが、実際のDBのデータってどうなってるんでしょうか？全角英数字であればそもそもそういった検索が不可能なので、strtrを使う方法に戻してもらったほうがいいと思います。
たとえば「件名」に初期値をセットしたければ、data/contact.phpの47行目のinput要素 <input type='text' id='contact-subject' class='contact-input' name='subject' value='' tabindex='1003' />"; のvalue属性に記述すれば反映されます。なので同様にこのあたりでinput要素を書き出してやれば（変数 $output へ追記すれば）いいハズです。 name属性値は、mysubj[] もしくは mysubj[$i] のようにすればいいと思いますが・・・
ざっくりこんな感じ？ <?PHP $html=<<<EOF <html> <head> <title>test</title> </head> <body> <h3>test1</h3> <p>test2</p> <h3>test3</h3> <p>test4</p> <h3 id="xxx" class="yyy zzz">test5</h3> <p>test6</p> </body> </html> EOF; print "余計なデータがない<br>\n"; $pattern="/(?<=<h3>).*?(?=<\\/h3>)/mis"; $replacement="<span>$0</span>"; $result=preg_replace($pattern,$replacement,$html); print nl2br(htmlspecialchars($result)); print "<hr>"; print "idやclass付<br>\n"; $pattern="/(<h3(?:| .*?)>)(.*?)(<\\/h3>)/mis"; $replacement="$1<span>$2</span>$3"; $result=preg_replace($pattern,$replacement,$html); print nl2br(htmlspecialchars($result));
作ってみました。先ほどの回答で提示したローレベルな処理を実装しています。 Qiita - 文字列中に存在するURLのタイトルを取得して自動リンクする http://qiita.com/mpyw/items/e0524f199f6e357b780e
微妙にずれている気がしますが、こんな感じで？ <?PHP $mes=<<<EOF xxx56.gifxxx100.gifxxxx 6.png yyy123.bmpyyy6549.pngyyy 79169.jpg zzz35.jpgzzz EOF; print nl2br(htmlspecialchars($mes)); print "<hr>"; $pattern = "/\d+.(?:png|gif|jpg)/mis"; $replacement="<a href=\"$0\">$0</a>"; $mes=preg_replace($pattern,$replacement,$mes); print nl2br(htmlspecialchars($mes));
>Eclipse Platform　Version: 3.3.2 >を使用していたのですが、PHP5.3以上？の記述をすると >エラーが出るので、この際重たいし別のエディタに変えようと思ってました。 >次のような記述でエラーがでます・・・ PDTのバージョンは? それにしてもEclipse 3.3.2ってもう骨董レベルの古いバージョン。 たぶんPDTも古いバージョンだからでしょう。 3系の最後のバージョンの3.7.2か4系を入れてPDTも最新版を使いましょう。 ><?php >//～ >のような記述付きで作成してほしい //ってコメントだよね? コメントはphpdocに準じた書き方にした方が良いですよ。
sqliteだけかと思ってmysqlでも調べたら、取り出しデータは、全部とりあえずstring型ですね。 PDO側取り出し時は、csv から切り出す場合や、$_POSTデータなどと同じで、全部テキスト状態で渡ってくるためかと思われます。 SQLite3 や mysql5.0 以降であれば、カラムのメタ情報が取れるので、これで判断するとよいでしょう。 <?php // fetch 後にメタ情報が取れる $info = $rs->getColumnMeta($i) ;// $i は、select 節での記述順 0 開始 $info['native_type'] に実データ型が入ってます。SQLite では integer, string, double など、Mysql では、LONG, VAR_STRING, DOUBLE など。 それ以外のgetColumnMetaで得られる連想キーは、select節での記述形式によって変わるので、適宜var_dump などで調べてください。 結論としては、数値としての扱いが必要なら php側でキャストするしかないということではある。 ほとんどは、データベース内部で処理して、phpでは、表示用途でしかないことが多いから、気にしたことなかったけど。 参考URL：http://jp.php.net/manual/ja/pdostatement.getcolu …
単純にやるなら連番の配列を用意して、差分をとること <?PHP $sample_num[1]=1; $sample_num[2]=3; $sample_num[3]=6; $sample_num[4]=8; $renban=range(1,10); $result = array_diff($renban,$sample_num); print_r($result); ?> プログラム的にやるならこんな感じ <?PHP $sample_num[1]=1; $sample_num[2]=3; $sample_num[3]=6; $sample_num[4]=8; for($i=1;$i<=10;$i++){ if(array_search($i,$sample_num)===false) $result[]=$i; } print_r($result); ?>
CORE SERVER.JP - PHPをCGIとして動かす方法について http://www.coreserver.jp/help/index.php/phpcgi/ 参考にされたのはこちらの記事でしょうか？ちょっと内容が古そうですね。 >> そのほうがセーフモードやユーザー名の制限が無くなる…とありました。 PHPのセーフモード自体がすでに昔の機能なんですよね… PHP Manual - セーフモード http://php.net/manual/ja/features.safe-mode.php パーミッション644で動作するのかに関しては、私が調べた限りでは肯定する意見も否定する意見も存在したので、実際に検証してみないことには明言することは出来ません。一般的にCGIという枠で考えれば755が必要だと思ったのですが…ただ、これがCGI版のメリットではないことは断言できます。モジュール版はパーミッション644で動作します。 もっと詳しい記事を見つけたので掲載させていただきます(CentOS向けですが)↓ レンタルサーバー・自宅サーバーの設定・構築のヒント http://server-setting.info/centos/php_cgi_module … http://server-setting.info/centos/apache_fastcgi … http://server-setting.info/centos/apache-mod_fas … まあ、特に拘らずとも標準のモジュール版を使っておけば何も問題はないと思います。練習環境でパフォーマンスチューニングなんてする必要もありませんし。
全く違います。session_id関数を利用して無理やり他人のセッションIDに変更しない限り、他人のセッションに干渉することはありえません。 unset($_SESSION['var']) → 自分のセッション変数のvarキーを削除する $_SESSION = array() → 自分のセッション変数を空にする というわけで「別問題」説が濃厚となります。 備考: PHPでセッションを完全に破棄する方法 http://d.hatena.ne.jp/Kappuccino/20080726/121704 …
Smartyのご利用を検討されてはいかがでしょうか？ 一つのヘッダー用テンプレートで各PHP毎のSEOを設定できますよ 解かり易く使い方を説明しているサイトはこちらです http://www.phppro.jp/school/smarty/vol1/1 ダウンロードは　参考URLからどうぞ 参考URL：http://www.smarty.net/
\c:\php; を追加したのでは C:\Program Files (x86)\Windows Live\Shared\c:\php というディレクトリになります。C:\phpは追加されていません。 PATHでディレクトリを区切るのには、 ; (セミコロン)を使います。 先のURLにある画像でも C:\phpの前に ; があります。 [コマンドプロンプト path]で検索してみましょう。 また、[コマンドプロンプト 使い方] で基本的な使い方くらいは勉強しましょう
>name属性値とvalue値が同じというのはそんなに変なことなんでしょうか？ はい。ヘンです。受け取ってから、どう処理するんですか？また「今から入力する」空のinput要素はどういうname属性値にするんですか（それが既存のtitleと重複しない保証はありますか？）。 「置換だけ」なら 　　foreach ($_POST as $key=>$val) { 　　　　// $keyが置換元の文字列、$valが置換する文字列 　　} でいいので何とかなるでしょう（それでも置換元文字列に制限がかかるので「やるべきではない」と思います）。
>なかなか奥が深いですね（基本ではあるのでしょうが。。。） とりあえず「基本」を先にやった方がいいと思います。htmlと違い"/"から書くとフルパス（サーバパス）になります。 というかhtmlの場合はそのホスト名に対するDocumentRootからのパスなので、考え方として「最上位から」というのは同じです。
>SESSION変数を表示するときはhtmlspecialcharsを使ったほうがいいでしょうか? 何が入っているかに依存です。 例示されている$_SESSION['id']のようなものならhtmlspecialcharsする必要があるとは思えませんが、フォームから入力されたデータを持ち回るのにセッションに入れたなんてケースでは当然必須です。 ∴ 悩みたくなければhtmlspecialcharsを使っておけばいいと思います。 なおhtmlspecialcharsした結果を変数に格納する意味はないので（ブラウザに返すとき限定のエスケープなので） $xxx = htmlspecialchars($_SESSION['xxx'], ENT_QUOTES); echo $id; ではなく echo htmlspecialchars($_SESSION['xxx'], ENT_QUOTES); と書くべきだと思います。
>空欄なら という仕様になっていません。formからPOSTされなかったら（そもそもname属性の値が"subject"になっているinput要素が存在しなければ）という条件になっています。 $subject = isset($_POST["subject"]) ? $_POST["subject"] : $subject; 「空欄なら」という仕様を追加したければ $subject = (isset($_POST["subject"])and(trim($_POST["subject"]) !== "")) ? $_POST["subject"] : $subject; のようにしてください。
何件か参考になるQ&Aがありました。 【Google検索結果】 https://www.google.co.jp/search?q=php+%E5%A4%9A% … 「ログアウトせず、ブラウザを閉じたりするとログイン情報がが残り、最終アクセス日時からタイムアウト時間が経過するまでログインできません。」 これは大問題です。基本的に "操作出来ないようにする" という方針はやめたほうがいいです。 そうではなくて、新しくログインしようとしたときに "既存のセッションを終了させる" という方法を採ればすんなり解決できます。実際、私がやっていたネットゲームではこの方法が採られていましたｗｗ IPアドレスに関してですが…いわゆるガラケーであれば個体識別番号というものがありましたが、現状ほとんどのデバイスではそういったものは存在せず、ユーザーに特別なソフトウェアをインストールしてもらわない限り、IPアドレスで判別するしかありません。これは妥協すべき点だと思います。 逆に…ガラケーにも対応させるのであれば、IPアドレスだけでのチェックは不十分です。何故ならば、複数のユーザーが同一のプロキシサーバーを経由してインターネットにアクセスするため、ユーザーが違ってもIPアドレスが一致するケースが大いにあるからです。個体識別番号が環境変数に存在しているかどうかを調べ、存在していればそれを使用し、存在しないならばIPアドレスを使用する、といった工夫が必要になります。 今回の件とは直接関係ないですが参考にどうぞ↓ Qiita - PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71
if (式) { } elseif (式) { } while (式) { } for ( ; 式; ) { } どんな場合においてもこれらの「式」は最終的に論理値に変換されます。 FALSE → (そのまま) FALSE 0 → FALSE 10 - 10 → 0 → FALSE "A" === "B" → FALSE >> もしそうであれば条件文にする意味があるのでしょうか？ if文の場合は無意味ですね。デバッグの際、一時的に「必ずこっちを実行させたい」というときに if (何か) を if (false) や if (true) にしたりすることはありますが。 switch (true) { } while (true) { } はわりと使います。前者はif文がズラーッと続くのをswitchでまとめたい、でも比較対象の変数が異なる、といったケースで用います。後者は意図的に無限ループさせるときに使います。 [備考] http://qiita.com/Hiraku/items/af2b304650272410ec29 http://www.php.net/manual/ja/language.operators. …
GCは、session.gc_probability / session.gc_divisor の確率で起動します。1/1000であれば、999/1000はスルーです。 というか、もし共用サーバなら session.save_path の値がどうなっているか（他のユーザと共用になっていないか）をチェックしておくべきです。これが共用になっていると自分のスクリプトだけ長く設定しても意味がありません（他のスクリプトの実行時に消されてしまう）。自分のサイトスペース内に設定してください。
＞valueの値は他の情報に使いたい が何を意図しているかによります。 単にvalueを表示上の要素に使いたいということであればbuttonで処理する 手もあります。 <form method="get"> <p> <input type="text" name="x" value="y"> <button name="a" type="submit" value="b">c</button> </p> <form>
そういう意味でしたか。 「これを実現するためのロジック」ということなので、全体の流れと思いました。 私なら、まずは $keysA=array(Aのkey全て) $keysB=array(Bのkey全て) を2重ループにします。 もっと便利だったり効率がいい方法はあるかもしれません。 ですが、それを考えたり調べたりする時間で、2重ループのプログラムを完成させることができます。 単純なコードになるので、間違えることも少ないでしょう。
+ を * にすれば 「0文字以上の繰り返し」 になりますよ。 RewriteRule ^([-0-9A-Za-z]+)/?([-0-9A-Za-z])*$ index.php?a=$1&b=$2 [L]
要点をまとめるとそんな感じですね。多く書きすぎた気もしますが、中途半端に省略するとかえって疑問が生まれると思ったので詳しく回答させていただきました。 cURLを使う方法がやっぱり一番書きやすくてオススメです。非同期通信に拘るときは fsockopen や stream_socket_client からローレベルな処理を書くときもありますが・・・下記の自作Twitterライブラリでは全ての通信をこれらの関数を使って行っていますね。 GitHub - TwistOAuth https://github.com/Certainist/TwistOAuth ソケットをオープンしている部分 https://github.com/Certainist/TwistOAuth/blob/ma … スクレイピング認証(通称「疑似xAuth認証」）でレスポンスを解析している部分 https://github.com/Certainist/TwistOAuth/blob/ma …
>echo '<input type="hidden" name="hidden" value="' . $seikai . '">'; > >に変えてみたのですが >やはり答えは同じように全て「間違いです」になってしまうので >違う所に原因があるようです。 ブラウザ側のhtmlソースを確認しましたか？ 私の手元では、下記のソースで問題なく動作しています。 <?php if ($_POST) { $kotae = $_POST["kotae"]; $seikai = $_POST["hidden"]; if($kotae == $seikai){ echo "正解です"; }else{ echo "間違いです"; } echo '<a href="">戻る</a>'; } else { $saki = rand(1,9); $ato = rand(1,9); echo "計算：{$saki}Ｘ{$ato}＝"; $seikai = $saki*$ato; echo '<form action="" method="post">'; echo '<input type="text" name="kotae">'; echo '<input type="hidden" name="hidden" value="' . $seikai . '">'; echo '<input type="submit" value="回答"></form>'; }
＞自宅サーバー ようはテストサーバーを立てたいだけならXAMMPみたいなのを導入すれば 自分のマシン上に環境はつくれるのですきなだけテストができます ただし公開したいというのであれば条件のあう無償・有償の レンタルサーバー（サービス？）を借りるのが妥当です
「ダブルクオートよりもシングルクオートの方が速い」と言い張る人がちらほら居ますが、全くの事実無根です。全ては変数展開の回数で決まりますし、「シングルクオートリテラルを文字列結合演算子で結合する」よりも「ダブルクオートリテラル内で変数展開する」ほうがごく僅かですがパフォーマンスもよくなります。 Disproving the Single Quotes Performance Myth http://nikic.github.io/2012/01/09/Disproving-the … で・・・「何が貧弱」なのかがはっきり分かっていないとだめで・・・おそらく【メモリ不足】ではなく【CPUスペック不足】なんじゃないですかね。そういった場合には、例えば（極端にサイズの大きい配列や画像リソースなどを除き）「unset() で変数をその都度解放していく」などやってしまうと全くの逆効果です。メモリが枯渇しているのでもなければ単なるオーバーヘッド増加につながるだけです。 実行コードキャッシュは結構効果ありそうなので試してみてください。といっても、共用レンタルサーバーであれば導入が厳しいと思いますが… PHP のパフォーマンスチューニング http://www.goofoo.jp/2012/01/1768 PHPコード最適化Tipsのウソと本当(解説) http://d.hatena.ne.jp/koto2/20080524/1211684383 ↑こっちには若干疑わしい事柄も混じってますのでご注意を。 >> 03. echo '文','字'; （カンマ区切り）の方が、'文'.'字' （ドット連結）より速い。 友人が以前気になって検証していましたが、その時のベンチマーク順は echo "${foo}${bar}"; echo "{$foo}{$bar}"; echo "$foo$bar"; echo $foo . $bar; echo $foo, $bar; のようにむしろ一番遅い結果となっていました。output_bufferingの設定が関係している可能性もありますが、いずれにせよ気にするような箇所ではないと思います。最初に決めたコーディング規約に従うべきです。 >> 16. 処理が終わったらデータベースの接続は切っておこう。 "処理" の後に続くHTMLレンダリングのコストが少ない場合、これを行ってもそれほど効果は期待できません。 >> 11. strtr（str_replace の4倍速い） ＞ str_replace ＞ preg_replace の順に速い。 strtrは2つの使い方がありますが、どちらを使うかによって大きくパフォーマンスが変動する関数です。具体的には ｓｔｒｔｒ(引数を3つ取る使い方)　＞ str_replace ＞ strtr(引数を2つ取る使い方) ＞ preg_replace のようになるでしょう。
>私はもともとJavaをやっていたので、 って言っているならわかっていると思うけど >多くのページで共通に使うコード、たとえばHTMLのヘッダやメニューの出力処理などはどうするのかでしょうか。 PHPにおいてもMVCが基本。 >「print($input_text)」と「print $input_text」どちらを使うか？ MVCで書くからprintもechoも使わない。 >絶対に使わない戻り値をわざわざ発生させるのもどうかなと思っています 普通そういうのはecho使いますから >「"」と「'」の使い分け プロジェクトのコーディング規約による。 "を使って変数を展開するような場合もあれば文字列は'を使って変数はその外で.で連結させるとか プロジェクトのコーディング規約によって変わってくる。
1. XAMPPはサーバーなので動きます。 2. WPはMySQLを使ってます。MySQLを使わないと動きません。 3. WPをアップするのに適したFTPはありません。なんでもいいです。 4. WPの入門本を購入して一読してください。または入門用のwebサイトの情報を確認して、WPがどのように動くのか、そもそも「サーバー」とは「MySQL」とは「PHP」とはというところを理解してからWPの使用を始めたほうが良いと思います。
はい。どんな言語をもってしても不可能です。HTTPの仕様ですのでどうしようもないです。
訂正。先頭2文字はソルトになるのでsubstrで取ってあげてください。 $elements = array( $_SERVER['REMOTE_ADDR'], date('Y-m-d', $_SERVER['REQUEST_TIME']), 'ユーザーが入力したキー', ); $hash = substr(crypt(implode("\0", $elements), 'tY'), 2);
>いろいろ試しているうちに間違って残ったまま >コピーしてしまいました。 で、正しくはどういう属性値になっているんでしょうか？ 「JavaScriptで動的に増やす」ということですが、追加したinput要素にJavaScriptでname属性値を適切に付与しておくか、同じname属性値にするならばokuriname[]のようにしておかないといけません（受け取ったphpスクリプトでは配列として foreach で処理する）。送る方がそういうinput要素を生成できていないと（同一のname属性で[]も付加されていない状態で送信されると）、受け取った側では何も出来ません。 var_dumpした結果がそうなっていますよね。$_POSTがそういう状態になっている以上、受け取り側ではどうしようもありません。 （蛇足） 同一のname属性があってもPOSTされることはされるハズなので、POSTされた生データを自前で展開する手もないわけではありません。が、受け取り側でそこまでやるのは違うだろうと思います。基本的には送信するフォーム側をキチンと書く（phpスクリプトで$_POSTから処理出来るようにする）べきです。
http://ajax.googleapis.com/ajax/services/search/ … という検索APIのURLはGoogleから提供されているもので、固定です。「q=」の後ろに検索したいキーワードを設定しますが、これはURLエンコード(パーセントエンコード)する必要があります。PHPに限らず、URLを扱う際の決まり事です。 Wikipedia - パーセントエンコーディング http://ja.wikipedia.org/wiki/%E3%83%91%E3%83%BC% … ↑このURLだってそうですよね。Chromeなどのブラウザで見ると 「ja.wikipedia.org/wiki/パーセントエンコーディング」と表示されると思いますが、それはブラウザが気を利かして読みやすくしてくれているだけで、実際はこうなっています。 URLエンコードの役割を担うPHPの関数が urlencode() です。 PHP Manual - urlencode http://php.net/manual/ja/function.urlencode.php URLやファイルにアクセスして内容を文字列として取得してくれる関数が file_get_contents() です。 PHP Manual - file_get_contents http://php.net/manual/ja/function.file-get-conte … このAPIによって取得できる文字列は「JSON」という形式になっています。 Wikipedia - JavaScript Object Notation http://ja.wikipedia.org/wiki/JavaScript_Object_N … これを解析してオブジェクト化してくれる関数が json_decode() です。オブジェクトが分かりにくいようであれば、第2引数に True を渡すことで連想配列にすることも出来ます。 PHP Manual - json_decode http://php.net/manual/ja/function.json-decode.php この先は単に表示を行っているだけですが… var_dump() の結果はHTMLソース上では見やすいですが、HTML上だと<br />ではなく単に改行コードでしか改行が行われていないので、1行で表示されて非常に見にくいですよね。デフォルトだと Content-Type: text/html という指示がブラウザに送られ、エンコーディング不明なHTMLとして解釈されますが、ここでは Content-Type: text/plain; charset=utf-8 という指示をブラウザに送り、HTMLソースを表示したときの挙動に強制的に変更し、同時に文字化けを防ぐために UTF-8　であることも示しています。 PHP Manual - header http://php.net/manual/ja/function.header.php PHP Manual - var_dump http://php.net/manual/ja/function.var-dump.php また質問するときに気を付けてほしいこととして… ・質問する前に該当する関数のマニュアルを読む（Googleで検索すればたいてい見つかります） ・どのあたりが分からないのかを明示する
>お近くのブックオフさんみたいな古本屋さんで、 > 「ＰＨＰ＋ＭｙSOL」のCD付入門本を入手して、通しで読むほうが良いと思います。 それこそ >バージョン差異でつまづくこともあるでしょう。 だからやめるべき。 今更古いバージョンのを読んでも意味がない。 PHPはバージョン間でだいぶ作法が違う。 (互換性のために古い作法でも記述できるか) >ｍｙＳＱＬの数年前と最新版のバージョンの違いだと思うのですが、 >仕様ががなり違うのか >今更コマンドプロンプト操作での勉強は効率がよいのかなと >不安になってしまいます。 SQLを書けなくてPHP側はどうする気? >もちろんコマンドプロンプトでDB操作するからプロい、GUIだとアマいという事ではありません。 >どちらにもメリットがあるからどちらの方法も提供されているというだけです。 普通に仕事でOracleとかMySQLなど使うけどまぁデータの中身を見るときにはGUIツール使っちゃうからね。 それでも内部結合とか外部結合する場合はSQLを直接書いてデータ確認したりする。 GUIツールは簡単な検索にはよく利用するけど複雑な条件などになるとできなかったり設定がめんどくさくなるからSQLを直接書いた方が楽。
PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 【サンプルコード】 <?php function h($str) { return htmlspecialchars($str, ENT_QUOTES, 'UTF-8'); } $username = 's'; try { $dsn = 'mysql:dbname=test;host=localhost;charset=utf8'; $dbuser = 'root'; $dbpass = ''; $options = array( PDO::MYSQL_ATTR_USE_BUFFERED_QUERY => true, PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION, PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC, PDO::ATTR_EMULATE_PREPARES => false, ); $pdo = new PDO($dsn, $dbuser, $dbpass, $options); $stmt = $pdo->prepare('SELECT * FROM kd3musers WHERE username = ?'); $stmt->execute($username); } catch (PDOException $e) { } header('Content-Type: text/html; charset=utf-8'); ?> <!DOCTYPE html> <html> <head> <title>Test</title> </head> <body> <?php if (isset($e)): ?> <p>Error: <?php echo h($e->getMessage()) ?></p> <?php else: ?> <table border="1"> <tr> <th>ID</th> <th>USERNAME</th> <th>First Name</th> <th>Last Name</th> </tr> <?php foreach ($stmt as $row): ?> <tr> <td><?php echo h($row['id']); ?></td> <td><?php echo h($row['username']); ?></td> <td><?php echo h($row['first_name']); ?></td> <td><?php echo h($row['last_name']); ?></td> </tr> <?php endforeach; ?> </table> <?php endif; ?> </body> </html>
Qiita - シリアライズ可能なcURLのラッパークラス http://qiita.com/mpyw/items/c65fb4ec4cef80909a47 file_get_contents関数は必要最小限のヘッダーしか送らないので、一度こっちで試してみてください。cURLクラスを使えるようにした上で、例えばGoogleChromeになりすますなら <?php $curl = new cURL('Chrome'); echo $curl->get('http://www.hogehoge.com/index.html'); という感じでどうぞ。
>見慣れないものが マニュアルの配列のページで、すでに多次元配列は出てくるのですが・・・ http://www.php.net/manual/ja/language.types.arra … 少なくとも >PHPでプログラムを開発しています。 というのであれば、マニュアルを一度は通読しておくべきです（どのあたりに何が載っているかは頭の隅に入れておくべき）。
とりあえずは、マニュアルを読みましょう。 http://www.php.net/manual/ja/language.basic-synt …
質問者さんのおっしゃる通り、北極点または南極点に近づくほど 長方形近似に誤差が生じてきて、台形補正しなければいけません。 そこで、東＋0.00001度、北＋0.00001度の場合の、右斜め４５度で 計算してみました。 結果を見ると、結構誤差が大きいですね。 基点緯度：距離 0:1.5742953363631(m) 10:1.5623825371302(m) 20:1.5275622620182(m) 30:1.4726183799388(m) 40:1.4022827123297(m) 50:1.3233334724947(m) 60:1.2445896682403(m) 70:1.1765041298042(m) 80:1.1298536938737(m) そもそも、私がこれを作ったのは、ストリートビュー間の距離を 求めるためで、日本で使えれば良いぐらいに安易に考えました。 是非、正確な補正を行なって、完璧なものにしてください。
>FTP supportの項目がありません。 であれば無理です。 BackWPupはphp標準のFTP機能に依存しています（わざわざ自前で実装していたりはしない）。
×　$foo = <<<'EOI ' ○　$foo = <<<'EOI'
起動時にネットからデータを読込むので、オフラインでは使えません。
ユーザーに入力させるのではなく、プログラムを実行しただけで文字列として検索結果を得られるようにし、プログラム内で処理したいということですよね？そうであればAPIを利用する方法が最も一般的でしょう。 【サンプルコード】 <?php // 検索キーワード $keywords = 'PHP 初心者'; // 検索APIを叩くURL $url = 'http://ajax.googleapis.com/ajax/services/search/ … . urlencode($keywords); // 取得してオブジェクト化 $object = json_decode(file_get_contents($url)); // ダンプして表示 header('Content-Type: text/plain; charset=utf-8'); var_dump($object); 【動作確認】 http://codepad.viper-7.com/GRF0Q4 なお、この方法で得られる結果は通常の検索と比べて圧倒的に情報量が少ない上に、現在はGoogleが非推奨としています。しかし、簡単に済ませたいならこれでもいいでしょう。勉強の1ステップとして。 なお、既についている回答に関して…PHPを含み今からWeb関連のテキストファイルを扱う際、間違ってもShift_JISなんかを使わないように。PHPの組み込み関数はUTF-8専用のものがたくさんありますし、現在世界の80％のWebページがUTF-8で書かれていると言われています。
なるほどそういうことですね php.iniはphp上の制約で、それが乗っているhttpdの設定が低く設定されていれば そちらが優先されます。 私の備忘録を見る限り、httpd.confに <Files *.php> LimitRequestBody 0 </Files> など書くようにメモがありました。 （apacheのPOSTの初期設定が500K程度だったような・・・） ただしBOM攻撃など考慮するなら無条件にhttpd.confの条件を緩めるのは危険です
私もちゃんと見ていませんが、 $memoCustomer = str_replace("\r\n", '\n', $row["memoCustomer"]); 等の置き換え文字の'\n'をシングルクォーテーションで括っているのは、ちゃんと意図してやってるのだろうか？ ソースコード内コメントの // 格納されている改行コード \r\n(CR+LF) から \n(LF) に変換 を読む限り、シングルとダブルの違いを理解せずにやってるようにしか思えない。 まあ、コメントの書き方が悪いだけかも知れないが…
ですから、具体例を出してくださいな。 タグにおいて画像ファイルのパスを指定しています ではなくてそれがわかる部分のHtmlソースを書くのが具体例です。 移動というのは、どこからどこに移動したとまで言って初めて意味があります。 普通に『今日行った』ではなく、『今日は幼稚園に行った』ということと同じです。
モデルからはコントローラを参照できないはずです。 私も以前にCakePHP1.3で開発をしていて、モデルからコントローラのparamsフィールドを参照しようとして結局できなかった記憶があります。 cakeの規約に従わなければ、強引にインスタンスを生成することはできると思いますが・・・。 以下に参考になりそうなURLを貼っておきました。 http://blog.xao.jp/blog/cakephp/how-to-access-to … http://stackoverflow.com/questions/7598675/use-c … よろしくお願いします。
例外がスローされたとき、完結していない操作は中断される、と覚えておくといいでしょう。ご提示の例であれば単純に $a のインクリメントは 3 になるまで済んでいますが、ここで以下のような例を考えてみましょう。 function div($a, $b) { if ($b == 0) { throw new InvalidArgumentException('Division by zero'); } return $a / $b; } try { $result = div(3, 0); } catch (Exception $e) { echo $e->getMessage(); } こちらの例では、$result に代入しようとした段階でまず div がコールされますが、途中で例外がスローされています。こういった場合では $result に対する操作は中断され、 $result は未定義の状態のまま catch ブロックに移行し、 $e に例外がセットされるということですね。 なお、例外の使い分けに関して…最初は「Exception」でひとまとまりでいいと思いますが、慣れて来たら最低限「LogicException」「RuntimeException」「ErrorException」の3つぐらいは区別してスローするようにした方が望ましいでしょう。 LogicException ソースコードを実行する前の段階で検出しなければいけない例外で、プログラマの誤りを示すのに使われます。 RuntimeException ユーザー入力・環境依存な情報を使う過程で発生してしまうかもしれない例外です。 ErrorException set_error_handler によるエラー→例外変換専用の例外です。 必ずしも LogicException と RuntimeException のどちらかに明確に分類できるということはありません。さきほどの div も「ユーザー入力をそのまま使うことを想定するなら RuntimeException」「プログラマ側に事前に検証させることを想定するなら LogicException」という2通りの解釈が出来ますね。 RuntimeException → 堂々と catch に含めてOK LogicException → 必ずしも catch に含めちゃダメというわけではないが、基本的に含めない方がいい ぐらいの感覚でいいと思います。 参考: PHP標準例外まとめ http://qiita.com/mikakane/items/dafd3d28c27311e5 …
OSにもよりますがシンボリックリンクをはっておけばよいような気がします インクルードパスを利用してもいいかも /index.php?category=1のようなアクセス方法で 論理的なカテゴライズがされていればよいような気がします その場合はhttpd側のmod_rewriteで処理することも可能です
> その中に「出現”する”まで」を逆に考えると > 「出現”しない”まで」がるあると言うことでしょうか？ 失礼ながら、日本語感覚が変です。 「出現するまで」の逆は「出現しない間」ではないでしょうか。 「出現しないまで」という言葉は無い言葉でしょう。 論理的に成立しません。 and,or,notの論理演算、又は集合の概念で捉えると矛盾が明らかです。 これらの論理演算はプログラミングをされるなら四則演算よりも基本中の 基本となります。 といいますのも、例えば掛け算をばらすと足し算の組み合わせになり、 掛け算の基本は足し算と言えますが、さらにそれらをばらすと論理演算に なるからです。
>何にあとるのですか！？　 読解力もそうですが、表現力（というか自分が書いた内容を投稿する前にチェックする、最低限の注意力）も養ってください。 >構文（<<<）のあとに終端識別子を定義し、その終端 >識別子が出現するまでを文字列とします。 書いているとおりです。 $foo = <<<終端識別子 いろいろな記述 いろいろな記述 いろいろな記述 終端識別子; print $foo; と書きます。例示されたソースでは終端識別子として ECI を使っていますが、他の文字列でもかまいません。 正直、マニュアルを読んで（なおかつソースの例もあって）これが理解できないなら、プログラミングには向いていません。今のうちに諦めた方がいいです。プログラミング能力には確実に「向き・不向き」があります。これ以上やっても報われない努力になる可能性が高いです。
BASE64は暗号化ではなく単なる符号化で、元に戻すことが出来ます。したがってコンテンツを守りたいという理由からそうしているならば無意味と言えます。 まず、暗号化・難読化させたい理由をはっきりとさせてください。もしログインしている特定のユーザーにしか表示を許可したくないなどの理由であれば、PHP経由でファイルをブラウザにダウンロードさせることで解決出来ます。この場合、リソースが格納されているディレクトリはpublic_htmlの外においてください。 【image.php】 <?php // セッション開始 session_start(); // Content-Typeを返す header('Content-Type: image/png'); switch (false) { // ログイン状態か、idをGETパラメータで受け取っているかどうか case isset($_SESSION['logined'], $_GET['id']): // "[id].png" という名前のファイルが存在するかどうか case is_file($name = sprintf('/foo/bar/images/%d.png', $_GET['id'])): // 該当しない項目があった場合は強制終了 exit; } // ファイルデータ読み出し readfile($name); 【sample.php】 <img src="image.php?id=3" />
セッション使ったらどうですか。
ぱっと思いつく限り正規表現で処理してみては？ <?PHP $pattern="/[0-9a-z]+|[^0-9a-z]+/i"; $str = "ブックbook01本comicこみっく123"; preg_match_all($pattern,$str,$matches); print_r($matches[0]); $str=implode($matches[0]," "); print $str; ?> ちなみに ＞2バイト文字と英数字 2バイト文字ではなくマルチバイト文字という認識の方がよいかと また英数字とありますがシングルバイトの英数字以外の記号はどちらに振ればよいのでしょう？
ちょっと雑ですが再帰処理を場合分けして書いてみました <pre> <?PHP $a=array( array( 'id'=>'10' ,'size'=>Array('height'=>'25.1','width'=>'10.6','length'=>'15.7') ,'name'=>'shose' ,'comment'=>'' ) ,array( 'id'=>'10' ,'size'=>array('height'=>'25.1','width'=>'10.6','length'=>null) ,'name'=>'paper' ,'comment'=>'colorisred' ) ,array( 'id'=>'10' ,'size'=>array('height'=>'25','width'=>'10.0','length'=>'0') ,'name'=>'paper' ,'comment'=>'colorisred' ) ); function test_cast(&$item, $key) { if(is_null($item) or $item===''){ $item=null; }elseif(preg_match("/^[0-9]+$/",$item)){ $item=(int) $item; }elseif(preg_match("/^[0-9]+\\.[0-9]+$/",$item)){ $item=(float) $item; } } array_walk_recursive($a, 'test_cast'); var_dump($a); ?>
なにか激しい思い込みというか、大きな勘違いがあるような。。 １．WordPressは「ダイナミック生成型」のシステムであり、MovableTypeのように「静的な」ページ生成は行わない。 レスポンス対策として、静的ページ生成を「あえて」行う場合があるが、それはあくまでプラグインによる動作である。 ２．WordPressがシングルページを表示するのは、あくまでそれを要求するパーマリンクがURLとして指定された場合である。 もしアーカイブにある程度の詳細な内容が表示されているのであれば、当然、シングルページへのパーマリンクを<a href="">としてリンクする必要はなく、結論としてシングルページは表示されるはずがない。 ３．面倒であれば、カスタム投稿タイプごとのシングルページテンプレートを作成する必要はない。 テンプレート中で投稿タイプを判断できるため、それに応じたデータ取得を行い、表示を切り替えれば対応できる。 投稿タイプが「カスタム投稿タイプ」であってもなくても、ほとんど違いはありませんよ。
>検索できません。 ググるな。なぜマニュアルに書いている（と、普通に考えればわかりそうな）ことをググるのか？ http://www.php.net/manual/ja/control-structures. …
>書き直したソースには、utf8で記述してあると思いますが…。 書き直したソースにあるのは「DSNでのcharset指定」がutf8という部分だけです。MySQLサーバに「データをutf-8でください」と頼んでいるだけですね。headerでのcontent-typeの出力については何の（修正した）記述もありません。 MySQLからutf-8で受け取ったデータをそのまま出力していても、httpレスポンスでcharsetをSJISに指定していますからブラウザはShift_JISだと思って処理します。つまり確実に化けます。ブラウザが適用しているエンコードを確認してください。 いっそheader出力がない方が（ブラウザの自動判別にまかせた方が）化けない可能性が高いです。が、どうせやるなら <?php header("Content-Type:text/html;charset=utf-8"); ?> に書き直してください。
普段、配列の戻り値はforeachなどでしか使わないので気にしてませんでしたね（汗 手元のphp5.5.3ですが、 echo getArray()[0]; 特に問題なく動きます。どういうエラーメッセージが表示されていますでしょうか？
以前に「C言語で・・・」と質問されていましたが、C言語の経験はあるのでしょうか？そうであれば理解もしやすいと思いますが… 質問する前に調べましょう。 https://www.google.co.jp/search?q=%E3%83%97%E3%8 …
><?php wp_head(); ?> この部分が実際のサイト表示でどのようなhtmlソースになっているかを確認してください。 jQueryなどを使う場合には、その展開されたhtmlソースと矛盾・競合しないように記述しないといけません。
試した事ないんだけど、反応させたくないINPUTタグに対するセレクターのクリックイベントでバブリングというのを無効にすればいけるかもしれない。 $("#aaa").click(function(){ $(this).css("opacity","1"); }); $("input", $("#aaa")).click(function(){ // バブリングをキャンセルするコードをここに追加 } 余談ながら、可能ならばひとつのHTML中に複数の同じIDを持つエレメントを存在させない方が良いでしょう。
fgets/fwriteなどの全てのストリームの読み書き操作に、こんな関数が適用されると思ってください。str_replace関数だと複数置換時にすでに置換した部分の上書きが起こるので、長さ順にソートして上書き置換を起こさないように自動でうまく調整してくれるstrtr関数を内部的に用います。 /* 改行コードを全てPHP_EOLで使われているものに統一する関数 */ function filter($str) { return strtr($str, array_fill_keys(array("\r\n", "\r", "\n"), PHP_EOL)); } まぁ私は互換性の面から、テキストファイルであってもバイナリファイルであっても全て「b」を使うようにしてますが…Windowsであってもメモ帳以外のエディタであればCRLFでなくてLF単独で正しく扱えますし… 備考↓ [PHP] ファイルオープンモードに関するマニュアルの記述は間違っている http://qiita.com/mpyw/items/3adcec3c66e515895b08
$assoc = json_decode(json_encode($object), true); でどうぞ。こうすると全部連想配列になります。 （個人的にはオブジェクトのままの方が扱いやすいと思いますが…）
【訂正】 前回の回答に不備がありましたので訂正します。 $result = mysqli_query($link, sprintf( 'SELECT name, mail FROM table WHERE name="%s" OR mail="%s"', mysqli_real_escape_string($link, $name), mysqli_real_escape_string($link, $mail) )); while ($row = mysqli_fetch_assoc($result)) { if ($name === $row['name']) { $name_duplicated = true; } if ($mail === $row['mail']) { $mail_duplicated = true; } } if (isset($name_duplicated, $mail_duplicated)) { throw new Exception('その名前とメールアドレスは既に登録されています'); } elseif ($name_duplicated) { throw new Exception('その名前は既に登録されています'); } elseif ($mail_duplicated) { throw new Exception('そのメールアドレスは既に登録されています'); } として最大で2件チェックするようにしないと正しい結果が得られる保証がありません。 【回答1】 「LIKE がワイルドカードキャラクタで始まらない定数文字列の場合、インデックスはLIKE比較にも使用できます。」とMySQL公式マニュアルにあるので、裏を返せば「%value%」ではインデックスは使えないということです。 【回答2】 実はこっちでサラっと解説してますｗ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 … 「q」という名前でフォームから受け取るとすると下記のようなソースになります。 （ネスト多いので全角スペースでインデントしました） if (isset($_REQUEST['q']) && is_string($_REQUEST['q'])) { 　$regex = "/[\\x0-\x20\x7f\xc2\xa0\xe3\x80\x80]++/u"; 　if ($keywords = preg_split($regex, $_REQUEST['q'], -1, PREG_SPLIT_NO_EMPTY)) { 　　foreach ($keywords as &$keyword) { 　　　$keyword = sprintf("`name` = '%s'", '%' . addcslashes($keyword, '\\_%') . '%'); 　　} 　　unset($keyword); 　　$result = mysqli_query($link, 'SELECT * FROM `table` WHERE ' . implode(' AND ', $keywords)); 　} } while(isset($result) and $row = mysqli_fetch_assoc($result)){ ?> <tr> <td><?php print $row['name']; ?></td> </tr> <?php } ?>
提示されたコードにおかしい点が含まれているのでそれも直しつつ1つにまとめました。 $result = mysqli_query($link, sprintf( 'SELECT name, mail FROM table WHERE name="%s" OR mail="%s"', mysqli_real_escape_string($link, $name), mysqli_real_escape_string($link, $mail) )); while ($row = mysqli_fetch_assoc($result)) { if ($name === $row['name'] && $mail === $row['mail']) { throw new Exception('その名前とメールアドレスは既に登録されています'); } elseif ($name === $row['name']) { throw new Exception('その名前は既に登録されています'); } elseif ($mail === $row['mail']) { throw new Exception('そのメールアドレスは既に登録されています'); } }
3サイトにマルチポストですか（汗 もう解決されたようですが、一応参考リンク貼っておきます。PDOを使うならばマニュアルに加えて一度は目を通していただきたい記事です。 Qiita - PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71
最低限のエラー処理は入れること $headers = @get_headers( 'http://www.yahoo.co.jp' ) or die('get error'); 他サーバではOKということなので、サーバ側の制限の可能性は高いです。が、詳細はサーバ管理者に問い合わせるしかありません（設定でどうこうするようなものでもないです）。
【補足】 画像をHTML内に出力したいのであれば <p><?php $url = 'http://ch.nicovideo.jp/kindan-nama/live?rss=2.0'; $item = simplexml_load_file($url)->channel->item[0]; $src = $item->children('nicoch', true)->live_thumbnail; $alt = $item->title; printf('<img src="%s" alt="%s">', $src, $alt); ?></p> ブラウザに対して、PHPファイル自体を画像ファイルのように扱わせたいなら <?php $url = 'http://ch.nicovideo.jp/kindan-nama/live?rss=2.0'; $xml = simplexml_load_file($url); $src = $xml->channel->item[0]->children('nicoch', true)->live_thumbnail; header('Content-Type: image/jpeg'); readfile($src);
PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 Mysql関数でLIKE検索を行う際でも参考になる情報を掲載しているのでご覧ください。 サンプル http://pastebin.com/YDH12zqe Mysql関数使うと例外処理が非常に面倒なので、簡略化するためにErrorExceptionを使っています。こんなことするぐらいなら、上記まとめでも書いていますが「オブジェクト指向を毛嫌いせずに」学んでいった方が身のためだと思いますが…
phpは問題ありません。JavaScriptの話ですね（∴ カテゴリ的にどうなんだと思います）。 document.body.innerHTML を使っていますから、body要素内が全部対象になっています。 <div><?= $replaceText ?></div> このdiv要素にidを付与して、そのidをセレクタとして使ってください。
>パソコンで見たりiphoneで見たりしたいので、クッキー以外で状態を保存したいです。 Cookie以外で保存したいとなると、ユーザログイン必須にしてそのユーザごとのデータとして保存する(データベースもしくはテキストファイル）しかありません。でないとPCやiPhoneでアクセスしてきた相手を同一ユーザとして紐付けられません。 >そして、これはできれば…でいいのですが、画面変遷はせずにチェック状態が保存できれば嬉しいです。 JavaScript（Ajax）でやってもいいですし、「いいね」のよういインラインフレームで扱ってもいいと思います。場合によっては相手端末によって（JavaScriptが使えないとかインラインフレームが使えないとか）を考慮して使い分ける（何も使えない相手なら画面遷移させる）ことも必要でしょう。 いずれにしてもphpスクリプトを書く以前の設計の問題だと思います。
Testクラスのprivateなプロパティですね。クラスに public function getItems() { return $this->items; } といったゲッターメソッドを実装した上で echo $_SESSION['test']->getItems('Test')[0]; で表示できます。但しPHP5.4より古いバージョンの場合は関数の返り値に直接配列アクセスすることは出来ないので、 echo call_user_func('reset', $_SESSION['test']->getItems('Test')); とするなりして工夫する必要があります。reset()は先頭要素を返す関数ですが、本来の目的が配列の内部ポインタ移動であるため、引数を参照渡しでしか渡すことが出来ません。この掟を警告なしに破るためにcall_user_func関数を通すというテクニックを使っています。（もちろん無理にワンライナーにする必要は無いですが） 他に、末尾要素であれば echo call_user_func('end', $_SESSION['test']->getItems('Test')); 順番を問わず使える方法としては echo current(array_slice($_SESSION['test']->getItems('Test'), 36, 1)); などが考えられるでしょう。
どこも直す必要はありません。もとの.htaccessに戻してください。 RewriteCond %{REQUEST_FILENAME} !-f .htaccess のこの行で、同一ディレクトリー内に存在するファイルとブラウザなどからのリクエストパスがマッチすれば、次行のRewriteRuleは適用されず、そのファイルにapacheが直接アクセスします。ディレクトリーについても !-dの行があるので、存在しているjs や css ディレクトリー内のファイルも同様にcakePHPは経由せず、直接実在ファイルにapacheがアクセスします。 実在ファイル名パスをブラウザurl欄にいれて、もし、cakePHPのcontrollerが無いなどというエラーが出るようなら、ファイル名かディレクトリー名に間違いがあります。 あとは、apacheが読み込み出来るようにパーミッションを設定してください。通常604とします。 ちなみに、以下の設定は、 sitemap.xml というリクエストの時だけ、次行のRewriteRuleを適用するという意味になる。 RewriteCond %{REQUEST_FILENAME} ^sitemap.xml 実際には、!-fの行で既にsitemap.xmlは、はじかれて何も適用されずに表示しており、それ以外のcakePHP用のパス記述はここで全部弾かれる
連投失礼します。「セッション名」を変更するという方法も考えられそうです。どちらかと言えばこちらの方が扱いやすいかも… session_name http://php.net/manual/ja/function.session-name.php で、OKWaveで検索してみたら案の定、既に質問がありました。 【ＰＨＰ】SESSION変数の競合を避ける方法は？ http://oshiete.goo.ne.jp/qa/4139810.html このケースでは test1 をそのままセッション名にすればいいと思います。半角英数字しか使えないことには注意してください。
$(function() { 　　//ここに処理 }); 上記の「ここに処理」の部分だけが動いてないのであれば、jQuery 1.8.3というのを探してきて、 ～～～～～～～～ <!doctype html> <html> <head> <script src="jquery-1.8.3.min.js"></script>　←ここを追加 <script src="example_A.js"></script> <script src="example_B.js"></script> </head> //ここにHTMLの記述があるとします。 </html> ～～～～～～～～ という風に書き換えるとうまくいくかも知れません。ひょっとしたらjQueryではなくprototype.jsかも知れません。 jQueryは $(); が一つの関数（function）であり、それは「htmlの閉じタグまで読み込まれたらこの中身を実行する」という意味になります。 $(function() { alert("hoge");} ); と書くと、</html>まで読み込まれたらalert("hoge")が実行されます。このためにjQueryのjsライブラリをあらかじめ読み込んでおく必要があります。この関数の動作はbody.onLoadと似ていますが正確には違うものなので興味があれば違いを調べてみると良いでしょう。 jQueryは既に1.9や1.10どころかバージョン2まで出てるのになぜ今更1.8.3なのというご意見に対しては、単に私の好みなだけです。
スクリプトで決まった内容を展開するのであれば（ユーザーの入力値を扱うのでなければ）「送る側」を気にする必要はありません。 問題は「受け取る側」です。 どうやってhtmlを生成しようがJavaScriptを絡めようが、想定していないパラメータが（GETでもPOSTでも）送られてくることはあります。当然ですが想定していないものは不正アクセスとして処理するようにしなければいけません。
#1です。 ソースをつらつら見ていて気付いたんですが、 <link href="css/****.css" media="screen" rel="stylesheet" type="text/css" > と、リンクが相対になってますが、ここを <link href="/css/****.css" media="screen" rel="stylesheet" type="text/css" > サイトルート記述だとどうですか？
中学校で「正負の数」って習いませんでしたか…？ （前の質問でご自分で「符号付整数」っておっしゃってますよね、この「符号」ですよ） (+4) - (-3) = 7 http://ideone.com/neapT6
これまでの質問を見ていると、基礎の基礎を理解していないのに、どんどん先へ進もうとして、よけいに理解できなくなっているように思います。 キャスト(型変換)を理解するためには、まず「型」とは何か、が理解できていることが前提です。 型とは何か、が理解できていないのに、それを変換する、ということが何なのか理解はできません。 http://php.net/manual/ja/language.types.php PHPでは、型が違う場合に自動で型変換を行います。 この自動変換のルールを無視して、指定した型に変換させるのがキャストです。 http://www.php.net/manual/ja/language.types.type … そのプログラムは、そのままウェブでも動作します。 ただ、そのプログラムは「変数に代入」しか実行していません。 結果を出力する部分が無いので、見た目は「何もしていない」ように見えます。 何かを表示させたかったら、「表示する」命令を書く必要があります。 今回の目的は「型変換とは何か理解する」です。 ならば、型がどう変化したかが判別できるプログラムが必要です。 何を使えばいいか、昨日のことですから、覚えていますね? http://oshiete.goo.ne.jp/qa/8430437.html
実際の結果はどうやって出力させたのでしょうか。 手元では，NULLとなりましたし，それが妥当です。 # $arrayに2個以上の要素があった場合，関数の戻り値がないから。 saiki内でsaikiを呼び出した戻り値を，ちゃんと関数の戻り値にしないといけません。 > saiki($array); return saiki($array);
これぐらいは自分で解決できないとまずいですよ… var_dump(isset($var1); ↓ 明らかに「)」が足りません var_dump; ↓ これは何・・・？
URLエンコード面で不安があれば http_build_query 関数を使ってください。 http://jp.php.net/manual/ja/function.http-build- … $params = array('gif' => '32.jpg'); $query = http_build_query($params, '', '&'); HTMLに埋め込む場合は & → &amp; で。
研究社 新英和中辞典 http://ejje.weblio.jp/content/dump 4【電子計算機】〈…を〉打ち出す 《記憶装置の内容を印字装置等へ数値等の形式で出力すること》 コンピュータ用語には英単語が使われている事が多いので 意味が判らない場合には、英和辞書を調べてみると判る事 が有ります。
「この投稿は、現在サポートで確認中のため、回答は他の方には表示されなくなっております。」が出てしまいました＞＜ ついでに補足入れておきます。 $data = preg_replace('@<a href="\K(?![a-z-]++:/*+)@i', 'http://example.com/', $data); まず、デリミタは「/」である必要はありません。ここでは見やすいように「@」を用いました。 次にHTMLタグの開始「<」からマッチングを開始しています。これがないと文中に普通に登場した「href」という文字列に反応してしまうからです。 そして、マッチング開始位置リセットを表す「\K」を使っています。これはPHP5.2.4以降で使用可能で、出来ることとしては肯定先読み (?=...) と少し重複しますが、こちらを使ったほうが可読性が向上する上にパフォーマンスもよくなるので、私は頻繁に採用しています。 そこから否定戻り読み (?!...) を用いて「...に続かない」という設定にします。ここで除外対象にするのは [a-z-]++:/*+ にマッチする文字列、つまり http:// ftp:// mailto:// file:/// view-source:// などです。戻り読みでは登場回数不定な表現は使えなかったと思いますが、先読みでは問題なく使えます。独占的最長マッチ「++」「*+」は通常の最長マッチ「+」「*」と違ってバックトラックを行わないものであり、ここではバックトラックを行う必要がないのでパフォーマンス向上のために利用することにしています。
問い合わせフォームボタンから飛んできたのが原因で「文法エラー」が発生することは、よほど特殊なことをしていない限りあり得ませんね。念のため、こちらに質問されたファイル内容をコピペして逆にもとあった場所に上書きしてみてください。その際、UTF-8エンコーディングを正しく扱えるもので編集するようにしてください。現在Windowsのメモ帳をお使いであれば、Notepad++などのエディタを新しく導入されることを強く推奨します。 Notepad++の導入 http://qiita.com/mpyw/items/4508dc677b11e487effc …
えーっと、だから var_dump(PHP_VERSION); を実行してもらえればバージョン分かりますって（汗 サンプル http://ideone.com/xsKhem こちらは 5.4.4-12 なので メジャーバージョン: 5 マイナーバージョン: 4 リビジョン: 4 ビルド: 12 ですね。 備考: バージョンの考え方 http://www2.opro.net/jp/opss/docs/version.html
//登録処理 $sql = sprintf('INSERT INTO test_users SET name="%s", email="%s", password="%s", created="%s"', mysql_real_escape_string($_SESSION['join']['name']), mysql_real_escape_string($_SESSION['join']['email'], mysql_real_escape_string(sha1($_SESSION['join']['password'])), date('Y-m-d H:i:s')); 上記の部分に足りないものがあります（何か閉じ忘れはありませんか？ よくコードを見てください。
>> Warning: Unknown: It is not safe to rely on the system's timezone settings.You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone 'UTC' for now, but please set date.timezone to select your timezone. in /home/****/www/join/index.php on line 39 >> Parse error: syntax error, unexpected ':' in /home/kazu94/www/join/index.php on line 39 Warning と Parse Error が同時に発生することってあるんですかねぇ… Parse Error が発生するからそれを直したら Warning が発生するようになったように見えるのですが、違いますか？ この Warning に関しては英語が読めれば質問しなくても分かる内容です。この程度の英語が読めずにプログラミングをしているとあとあと困ることも多いので、プログラミングの学習と並行して英語の学習も検討してください。以下に自分なりの意訳を掲載します。 警告: 不明なタイプのエラー: システムのタイムゾーン設定に依存するのは安全ではありません。 php.ini による date.timezone の設定もしくはdate_default_timezone_set関数による設定が "必須" です。(後略) php.ini に timezone をセット http://sfi.hamazo.tv/e1317196.html date_default_timezone_set http://php.net/manual/ja/function.date-default-t … 東京は 'Asia/Tokyo' です。 【備考】 この入門書ですが、内容的にはかなり古く、Webセキュリティ専門家の方からもボロクソ指摘がある内容です。 もし『よくわかるPHPの教科書』の著者が徳丸浩の『安全なWebアプリケーションの作り方』を読んだら http://d.hatena.ne.jp/ockeghem/20110823/p1 難易度的に理解できるのであれば「パーフェクトPHP」等の方がはるかにオススメです。また、以下のまとめもご覧ください。 $_GET, $_POSTなどを受け取る際の処理 http://qiita.com/mpyw/items/2f9955db1c02eeef43ea PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71
以下を参考にどうぞ。 [シリアル版] ページング処理を採り入れた掲示板サンプル http://qiita.com/mpyw/items/e7f3f60b687053b7832a こちらでは記事を配列に格納し、シリアル形式で保存/復元を行っています。記事が何十万件という膨大な数になるまではこれでもまともに動いてくれるはずです。PHPから扱う分にはCSVよりもシリアルの方がはるかにラクですね。また、厳密には >> 'a+'　だとファイルポイントをファイルの末尾に置く為 この認識は誤りです。マニュアルにはそう書かれていますが、実際に「未定義」としてごまかされている挙動をチェックすると、ポインタはファイルの先頭に置かれています。 [PHP] ファイルオープンモードに関するマニュアルの記述は間違っている http://qiita.com/mpyw/items/3adcec3c66e515895b08
クラス設計の上ではこっちも参考になるかも・・・ http://qiita.com/mpyw/items/6bd99ff62571c02feaa1 https://github.com/Certainist/sns_php 生のPDOが書きにくければこういった継承クラスも活用してください。 https://github.com/Certainist/PDO2
Webでやらなくてもイイのでは？ <php $a = "1"; $b = 3 + $a; print($b); ?> こういうソースファイル（仮にhoge.php)を作って、 コマンドプロンプトからphp hoge.phpと入力すれば $bの内容が表示されますよ。勿論、phpにパスが 通っていることが前提です。 尚、Webプログラムの方はエラーになった理由と 行番号が表示されるはずなので、それを掲示 してください。
定義済みの定数です。 http://www.php.net/manual/ja/reserved.constants. …
$postnum = 0; // カウンタ初期化 しておいてから /* The loop */ while ( have_posts() ) : the_post(); のあとで $postnum++; if ($postnum === 3) { 3番目の記事用の表示 } if ($postnum === 5) { 5番目の記事用の表示 } if ($postnum === 7) { 7番目の記事用の表示 } でいいのでは？
PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 とりあえず、 PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTIOIN を設定すればSQL実行時のエラーが例外としてスローされるので何らかの原因は分かるでしょう。PDOを扱う際はこのオプションは必須といっても過言ではありません。
user_imgディレクトリが存在していない可能性が非常に濃厚です。以下のまとめも参考にしてください。 ファイルアップロードの例外処理はこれぐらいしないと気が済まない http://qiita.com/mpyw/items/939964377766a54d4682 画像アップロード処理サンプル集 http://qiita.com/mpyw/items/73ee77a9535cc65eff1e また、この質問には直接関係ないことですが、PHPを使える場合は <meta http-equiv="Content-Type" content="text/html"; charset="UTF-8" /> よりも <?php header('Content-Type: text/html; charset=utf-8'); ?> を先頭（HTMLを1文字も出力していない状態）に書いた方がベターです。
１．後述の２のようなアプリをGoogle Playに登録すれば良い。 ２．変換する方法は、無い。無い、が、その「一部」というのが、閉じた世界（トップページとしたい場所、たとえばhttp://hogehoge.example.com/isi999app/index.phpから「一部」全体をリンクでたどれるがそれ以外の場所や他のサイトにはリンクでたどれない）にある状態であれば、WebViewが一つだけぽつんとあるアプリを作り、起動時にWebViewにトップページたとえばhttp://hogehoge.example.com/isi999app/index.phpを表示させるようにすると、あたかも独自のアプリの中でそのWebシステムが動いているかのように見せる事はできる。この場合、ハードキーの戻るキーでActivityを終了させるのではなくWebViewのナビゲーションバックを実行するようにしておくとなお良いだろう。AjaxというかJavascriptがAndroid端末できれいに動くかは要検証だ。 ３．WebViewはネットにつながらないエラーの時にどうするかをプログラムで制御できるので、そこでオリジナルのエラーHTMLをWebViewに表示させるようにすればOK。
他社の回答を批判するのは筋ではないですが、ちょっとこれは酷過ぎませんかね…（汗）Picosoftさんの回答の方法はAPI1.0までは有効でしたが、残念ながらAPI1.1ではすべてのエンドポイントにOAuth認証が必要となってしまったので、そのままではエラーしか返されません。結局のところライブラリに頼るのが一番楽です。どのライブラリを使うかはその人の趣向によって変わってきますが、ここでは私が自作したライブラリを使用します。1ファイル単体設置するだけで使えるようになるのでお手軽です。 まずは下記URLにてコンシューマーキー・コンシューマーシークレットを取得し、自分用のアクセストークン・アクセストークンシークレットを確認してください。 Twitter Developers https://dev.twitter.com/ 次に以下からUltimateOAuth.phpをダウンロードしてください。細かい使い方はREAEMEに書いてあるので必要であればお読みください。 UltimateOAuth https://github.com/Certainist/UltimateOAuth 同じディレクトリに下記ファイルを設置して実行します。 <?php require_once 'UltimateOAuth.php'; $ck = 'コンシューマーキー'; $cs = 'コンシューマーシークレット'; $at = 'アクセストークン'; $as = 'アクセストークンシークレット'; $id = 'URL末尾のステータスID'; $uo = new UltimateOAuth($ck, $cs, $at, $as); $status = $uo->get('statuses/show', array('id' => $id)); if (isset($status->errors)) { die($status->errors[0]->message); } echo $status->text; なお、取得できるツイートのテキストに関して…「<」と「>」は「&lt;」「&gt;」にエスケープされていますが、「&」だけはそのままであるというゴミ仕様なので、ここをHTMLの仕様に厳格に従うようにしたいならば echo preg_replace('/&(?!lt;)(?!gt;)/', '&amp;', $status->text); とする必要があります。
取り違えがありましたね、これで問題ないでしょうか？「値を削除」＝「NULLをセット」として考えました。今回のケースではプリペアドステートメントを使わない方がスッキリするかも。 $name = isset($_POST['name']) && is_string($_POST['name']) ? $_POST['name'] : ''; if ($name !== 'null') { $name = "'" . mysqli_real_escape_string($link, $name) . "'"; } mysqli_query($link, "UPDATE table SET name = {$name} WHERE id = 1"); ちなみにOracleはNULLを空文字列と同一視することを今後も保証し続けるかどうかは分からないとしています。今回利用しているのはMySQLなので関係ないですが。
ボタンを１つ設置する場合は、それで合っています。 もし複数のボタンを設置する場合は、下部に設置したボタンの下に<script type～～>を記述してあげれば良いと言う事ですね。
バッファクエリ（デフォルト）を用いている場合のみmysqli_num_rows関数が使えます。 mysqli_num_rows http://www.php.net/manual/ja/mysqli-result.num-r … バッファクエリと非バッファクエリ http://www.php.net/manual/ja/mysqlinfo.concepts. …
すいません、ちょっとずれた回答してました。 html,jsは「自分のパソコン」上で実行するものなので、ソースコードを直接見る事もできます。 それに対して、phpは「サーバー」と言う自分のパソコンとは別のパソコン上で実行されていますので、アクセス権を持つ人（サイトの運営者など）しか中を見たり編集したりはできません。
ちょっと難しく書きすぎた気がするのでまとめます。 【ユーザー間で変数の内容が共有されることはないのか？】 「ユーザー」が実行させるのは「プロセス」なので、以下はこの言葉に置き換えます。プロセス間通信という特別な手段を用いない限り、用意されるメモリ領域はまったく別個のものになるので、そのようなことはあり得ません。 【次回実行するまで変数の値は保存されているのか？】 コンピュータにおける「メモリ(主記憶)」と「ハードディスク」の役割の違いは分かりますよね・・・？メモリは一時的な記憶であり、ハードディスクは恒久的な記憶です。ハードディスク上でプログラムを実行することはできず、ハードディスク上に保存されているPHPのソースコードをもとにメモリ上でプログラムが動作します。実行が終わると使われたメモリ領域は全て解放されます。つまり実行中に明示的にハードディスク上にファイルデータとして保存しない限り、情報は消滅します。但し、 $_SESSION に関してだけは、PHP側で保存と復元の作業を自動的にユーザーごと(セッションID)ごとに行ってくれます。 【JavaのGCはPHPにも当てはまるのか？】 [PHPはこちらに該当] Wikipedia - 参照カウント http://ja.wikipedia.org/wiki/%E5%8F%82%E7%85%A7% … [Javaはこちらに該当] Wikipedia - マーク・アンド・スイープ http://ja.wikipedia.org/wiki/%E3%83%9E%E3%83%BC% … 方式は異なりますが、どちらもガベージコレクションは実装されています。C言語のようにfree関数を使って動的なメモリ解放をしたりする必要がないということです。もちろんPHPはC言語ベースで成り立っており、内部的にはfree関数によってメモリ解放が行われてはいるのですが。 【「オブジェクト変数が無くなる」と「オブジェクトが無くなる」の違いは？】 それぞれは別個の事柄ですが、refcountが1であるケースについてはこれらは同時に発生します。refcountが2以上であるケースでは前者しか発生しません。別の変数がまだそのオブジェクトを利用しているからです。 また、オブジェクトの参照に関しては少しややこしいので、まず私の知恵ノートをお読みください。 http://note.chiebukuro.yahoo.co.jp/detail/n127275 例を挙げます。 1. $a = new stdClass; 2. $a->hoge = 'test'; 3. $b = $a; 4. $c = &$a; 5. $a = null; これを実行すると、$aと$cはNULL、$bはプロパティ「hoge='test'」を持つstdClassオブジェクトとなります。オブジェクトIDを用いて説明すると、下記のようになります。 1. zend_object_value構造体(stdClass)が生成され、ID(#1)が割り振られる。そしてID(#1)がzval構造体($a)に対応するzvalue_value共用体にセットされる。 zval($a, refcount = 1, is_ref = 0) … zvalue_value(#1) 2. zend_object_value構造体(stdClass)のハッシュテーブルに「hoge='test'」がセットされる。実際にはこれもzval構造体（$hoge)→zvalue_value共用体('test')→str構造体のようになっているがここでは大雑把に考える。 zval($a, refcount = 1, is_ref = 0) … zvalue_value(#1) 3. zval構造体($b)がzval構造体($a)と同じzvalue_value共用体を指すようにする。 zval($a, refcount = 2, is_ref = 0) … zvalue_value(#1) zval($b, refcount = 2, is_ref = 0) … zvalue_value(#1) 4. zval構造体($c)がzval構造体($a)と同じzvalue_value共用体を指すようにする。 zval($a, refcount = 3, is_ref = 1) … zvalue_value(#1) zval($b, refcount = 3, is_ref = 0) … zvalue_value(#1) zval($c, refcount = 3, is_ref = 1) … zvalue_value(#1) 5. zval構造体($a)とzval構造体($c)が指すものとして、新しくNULL構造体(？)をセットしたzvalue_value共用体が用意される。 zval($a, refcount = 2, is_ref = 1) … zvalue_value(NULL) zval($b, refcount = 1, is_ref = 0) … zvalue_value(#1) zval($c, refcount = 2, is_ref = 1) … zvalue_value(NULL) オブジェクトIDをスカラー値と考えれば、他のスカラー値の扱いと全く同じになります。
何をやりたいのかが理解できません。 >　以上のプログラムを実行すると、 >　以下のエラーが出るように組まれたプログラムです。 ということなら 「エラーが出るように」作ったのですから 「エラーが出る」のが「正しい、期待通り動作」ということになります。 「エラーを出さない」というのも、2つの解釈ができます。 (1)「エラーの無い」プログラムを作る (2) エラーが発生しても、画面上には表示しない (1)の場合、間違いを訂正する、ということになります。 「訂正する」ということは「正しい状態は何か?」がわかっている必要があります。 しかし、このプログラムでは、何が「正しい」のかが皆目見当が付きません。 (2)については、php.iniやerror_reporting関数を使うなどで、メッセージの制御ができます。 http://www.php.net/manual/ja/function.error-repo … ただ、これは「エラーは発生しているけど表示はしない」という状態で、実運用時にエラー表示を隠す、といった目的で使われるものです。 学習中や開発時は、むしろ多くのメッセージを出すようにしておいて、エラーメッセージをよく読んで理解することが大事です。
GIFBreweryなんてアプリありますよ
> PHP側で、<input type="hidden" id="hidden_value" name="pushsubmit" value="0"> > この文で、value=1 ではないんでしょうか？ > value=0　だとうまく動作しませんでした。 どう書いてうまく動作しなかったのか分かりませんが、 これは初期値として0を設定しているだけです。 ここを1にすると、onsubmit内で1に設定する意味が無くなってしまいます。 #1の回答で、 if(isset($_POST['pushsubmit'])){ 　$pushsubmit = $_POST['pushsubmit']; }else{ 　$pushsubmit = '0'; } としましたが、pushsubmitが数値になるようにしたい場合は if(isset($_POST['pushsubmit'])){ 　$pushsubmit = (int)$_POST['pushsubmit']; }else{ 　$pushsubmit = 0; } としてください。
それがあるんですね実は。 PHP for Android http://phpforandroid.net/doku.php exec/shell_exec/system関数あたりを活用すれば不可能じゃないと思いますよ。
厳密にはPHPスクリプトの実行が開始した時点で、（$_FILES['name属性名']['error']がUPLOAD_ERR_OKである限り）テンポラリディレクトリにアップロードは終了しています。rename関数を使ってテンポラリファイルを目的のディレクトリに移動することが出来ますが、is_uploaded_file関数によるチェックも同時に行うのがmove_uploaded_file関数です。 if (!is_uploaded_file($tmp_name) || !rename($tmp_name, $new_name)) { ... } if (!move_uploaded_file($tmp_name)) { ... } これらは全く同じ意味です。実際のファイル移動処理に関しては、既に回答がある通り move_uploaded_file($tmp_name) の時点で移動は実行され、それに「!」をつけて返り値を反転させているだけです。 こちらも参考にどうぞ。 http://qiita.com/mpyw/items/939964377766a54d4682 http://qiita.com/mpyw/items/73ee77a9535cc65eff1e
Androidで撮影されたファイルならば、更新日時とは別に撮影日時という情報も埋め込まれているはずです。 ファイルをコピー等していなければ更新日時でも撮影日時と一致するので撮影日と認識しても大丈夫ですが。
スマホにファイル管理アプリをインストールすれば簡単ですよ。 無料アプリでもたくさんあります。
strposは位置として「0」を返す可能性があるので、 strpos($mes, $word) !== false で判定しなければなりません。マニュアルにも注意が書いてあります。 http://jp1.php.net/function.strpos
あまりよろしくない方法ですね。 クラスなどを使って書いたほうが良いかと思います。
ちなみにPHPでは、ファイルの末尾にあるPHPの閉じタグ「?>」を省略することが推奨されています。
mysqlでint型でもphpで取得した段階では厳密に型宣言しなければ文字列ですよ。
php5.4以上が使えるサーバを借りる。 FTPツールでアップロード。
・PHPにおいて配列サイズの指定は不要な上、これだと5番目の要素に更に配列を作ってしまい、別の意味になります。 ・http_build_queryは変数名を親配列にはしません。 ・HTML中に埋め込む場合は「&」ではなく「&amp;」としなければHTMLとして不正になります。 正しくは下記のようになります。 <a href="image.php?<?=http_build_query(array('data' => array(6,4,3,7,9)), '', '&amp;')?>">リンク先</a> また、これらの値を受け取って使う場合、特に今回のように ・GETを使う場合 ・配列を渡す場合 該当する場合は十分に「正しい構造を受け取っているか」の検証を行ってください。GETはURLを書き換えるだけで簡単に渡す値を操作できてしまうので特に注意が必要です。 $_GET, $_POSTなどを受け取る際の処理 http://qiita.com/mpyw/items/2f9955db1c02eeef43ea 汎用的な変数構造フィルタリング関数 http://qiita.com/mpyw/items/c39b9ee695a5c2e74627
sqlのupdate文の条件指定しなければダメでしょう。
PHP一択です Javaでも作れますが色々面倒です。
php5.2での sqlite_open 関数は、SQLite version 2 のデータファイル用です。 データファイルのversion確認というか、sqlite_open 関数で作ったファイルをSQLite3クラスで開こうとすると「形式が違う」といった意味のエラーが出るはずです。新規作成なら、SQLite3クラスでは version 3 のファイルが作られます。 SQLite version 2のデータファイルを version3に直接変換する方法は有りません。古いデータベースファイルからselect文で読みとっては、新しいデータベースファイルにinsertするしかありません。 もし、新環境で、PDOでも sqlite2: のDSNが使えない場合は、旧環境で、データの移行を行っておく必要があります。
setlocale(LC_ALL, "nld_nld"); としても正しく結果が得られます。 phpのmb 関連の設定で標準から変更したところはありませんか？ PHPのヴァージョンは最新でしょうか？ 2013/12 現在のPHP最新バージョンはPHP 5.5.7となっています 私のPHP 5.4.7 (cli) (built: Sep 12 2012 23:48:31)では前回の回答のように問題ありません。
basename()で取れます 以下参考にしてください。 http://phpspot.net/php/man/php/function.basename …
↓の質問が締め切られてしまったのでこちらに回答させていただきますがご了承ください。 http://oshiete.goo.ne.jp/qa/8403918.html PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 こちらにMySQLから取得したデータの型についての情報を記載しています。エミュレーションの有無で全く異なるので注意してください。以前私はパフォーマンス面と同名プレースホルダの利点からエミュレーションを推奨していましたが、PDO::PARAM_*定数による型キャストが正常に行われないバグに限りなく近い仕様が存在していることが分かったので、それ以来エミュレーションを無しにするよう推奨しています。エミュレーションが無い状態ではmediumint(11)はPHPのint型で取り出されるはずです。
可能。 ただ自分で一からかくのは大変かと。 ライブラリを使うのが良いと思います。
SOHOサイトに依頼してみてはどうでしょうか。 安くて３～４万かと 私はwordpressのスパゲティコード嫌いなので絶対wordpressが絡んだ案件はやりませんけどね。
普通ヒットしたかどうかを確認するのであればcount(*)で件数を カウントするもんですが、どうしてもselect * したいのであれば、 戻り値があるかないかで判断すればいいのではないでしょうか？
可能。 PHPだけでは厳しいかもしれません。 おそらく外部プログラムとの連携かと。
>これって何を表わしているのでしょうか！？ マニュアルに書いているとおり、『PHPや拡張機能により大量の定数が定義されている』ということを表しています。個々の説明は要らないですよね（マニュアルに書いていますから）。 なので、普通は（マニュアルに例示されているように categorize を指定して使います。全部引っ張ってきても意味がないので。 <?php define("MY_CONSTANT", 1); $arr = get_defined_constants(true); print_r($arr['user']);
>>PHPを勉強すればJavaやPythonなどをやる際にも役立つでしょうか？ 普通に考えたら、あまり役に立たない。 PHPという言語が作られた歴史的状況を考えれば、プログラムを学ぼうというときに選ぶ言語ではない。
PDOStatement::executeの返り値が成功したか/失敗したかどうかをTrue/Falseで示してくれますが、そのように「返り値で可否をチェックする」コーディング自体が手続き型の古い書き方に該当します。オブジェクト指向のモダンなコーディングでは、「例外」を活用して、成功したときだけのコーディングに専念し、別の場所で失敗したケースを捕まえるような書き方をします。 PDOで例外処理を行うには、「PDO::ATTR_ERRMODE」オプションに「PDO::ERRMODE_EXCEPTION」を設定します。 Qiita - PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 また、オブジェクト指向のメリットの1つに「メソッドチェーン」があります。 Wikipadia - Method chaining http://en.wikipedia.org/wiki/Method_chaining#PHP PDO自体は「中途半端なオブジェクト指向」に設計されており、メソッドチェーンを活用したいのであれば、PDOStatement::executeやPDOStatement::bindValueなどを「return $this;」するようにして継承クラスを作ると非常に使い勝手がよくなるのでオススメです。 PDO2 https://github.com/Certainist/PDO2
var_dump(array_keys(preg_grep('/^15$/', get_defined_constants()))); 上記のコードを用いて、エラーコード15を表す定数に何があるかどうか、そちらのPHP環境で調べてみてください。ideone.com上で調べてみたところ ・FORCE_DEFLATE ・ZLIB_ENCODING_DEFLATE ・XML_ELEMENT_DECL_NODE ・MHASH_TIGER160 ・SIGTERM ・IMAGETYPE_WBMP ・SOCKET_ENOTBLK ・XML_ERROR_BINARY_ENTITY_REF が存在していました。「SIGTERM」は強制終了を表すシグナルです。アップロード処理中にPHPコアで何らかのエラーが発生し、強制的に実行を中断させられた、と考えるのが妥当ではないでしょうか。もし古いバージョンのPHPを使ってる場合は最新版にアップデートしてください。 アップロードの例外処理に関してはこちらを参考にどうぞ。 http://qiita.com/mpyw/items/939964377766a54d4682 http://qiita.com/mpyw/items/73ee77a9535cc65eff1e
弊社のブログでREST APIのサンプル（Javaベースですが）を公開していますので、よろしければご覧ください。 参考URL：http://kintoneblog.joyzo.jp/category/rest
そのような質問をするレベルの方ですと、失礼ながらASPあたりに丸投げした方が良いと思います。 せめてOpenPNE等のCMSを使って構築した方がまだまし。 素人が一からつくったサイトなんて危なっかしくてみてられないですねー。 HTMLとCSSの勉強ぐらいはされたほうが良いと思います。
ワードプレス（WP）はphpで動作しているWebアプリなので、設定ファイルから関数の定義、テンプレートの中身などすべてphpです。 テンプレートファイルもindex.phpやpage.phpなど、そのものズバリのphp。 無償・有償で配布されているテンプレートをそのまま使うだけなら、phpの知識がなくても構いませんが、表示内容をカスタマイズしたり、独自のテンプレートやサイト構成を行う場合は、phpで記述しなければいけません。 あとは関数の追加や、簡単なプラグイン作成など、「phpで何ができるか」というより、「phpを知らないと何もできない」という方が正しいでしょう。 ただ、一般的なphpとは違い、扱う対象がwp独自のメソッドや変数で、普通のWebサイト構築についてのphpの知識はほとんど役に立ちません。 データベースやフォーム、セッションなどはすべて、wp独自の関数を使って行いますので、「phpを使う前提でのwpの知識」が必要です。
まずはここからどうぞ。 http://dotinstall.com/lessons/sns_php_v2 phpのエキスパートのまっぴーのアカウント作成システム https://github.com/Certainist/sns_php
> そして、ステージング、本番ではDBへの接続が正しく行われる為 > エラーは発生しません。 テスト用サーバでもDBを構築すればいい話では。 環境が整っていないにも関わらず、そのテスト用サーバでの検証を行うが為に コードを改変することは、到底正しいアプローチとは思えません。 きっちりしたコードであれば、むしろDBに接続できないからシステムを利用することは できない旨の表示が行われ、それが試験の一部になると思います。 見た目の試験と言えど、DBの抽出結果に応じて『見た目』が変化する場面は 往々にして存在すると思います。 もし、テスト用サーバ上で本当に単調な見た目だけを確認するだけならば、 コードを破棄する前提で、コードが改変されても良しとした上で、処理部分を 全部コメントアウトして都合のいいデータが渡されるようにすればいいのでは ないでしょうか。 『見た目』だけを求めて、処理部分は注視しないのですから。 しかし、それが『試験』として妥当な方法かどうかは別です。 そういうことをやるのは、せいぜい、画面レイアウトをキャプチャして資料化 する際でしょうか。
>> 「 Call to a member function execute 」 PDOStatementの生成に失敗しています。$stmtの値はFALSEになっているはずです。PDOを使うときは例外をスローする設定にし、PDOExceptionをCatchできるようにコーディングを行うのが常識です。1回1回prepare()やexecute()の返り値がFALSEになっていないかチェックするのって馬鹿馬鹿しいでしょう、ここは例外に任せておけばラクになります。 PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 PDO::ATTR_ERRMODE オプションの値を PDO::ERRMODE_EXCEPTION に設定するようにしてください。また、PDO::ATTR_EMULATE_PREPARES も FALSE にしておいたほうが基本的には正解です。型キャストまわりで気持ち悪い仕様が多いので。 生成に失敗する直接の原因ですが… >> $sql = "UPDATE `{$id_set}` SET no = ? WHERE id = ?"; $id_set におかしな値が入っているからでしょうね。 >> $id_set = $_POST["id"]; 絶対にやめてください。せっかくプリペアドステートメントを使ってるのに、POSTされた値を何の検証もせずしてテーブル名にそのままセットしてしまったらSQLインジェクション攻撃への対策が台無しになってしまいます。 既に他の回答者さんから提示がありますが、あらかじめ許可する値を $id_sets = array('1', '2', '3'); として配列に用意しておき、 if ( ____isset($_POST['result'], $_POST['id']) && ____false !== $key = array_search($_POST['id'], $id_sets, true) ) { ____$id_set = $id_sets[$key]; } とするなどの工夫が必要です。どうせキーが必要なら in_array よりは array_search を使っておいた方が正解でしょう。また、この前の自分の回答で手抜き仕様にしてしまって申し訳ないのですが、不正パラメータのチェックをもう少しちゃんと行ったほうがいいかもしれません。具体的には型の検証です。 $_GET, $_POSTなどを受け取る際の処理 http://qiita.com/mpyw/items/2f9955db1c02eeef43ea 単に配列が文字列として処理された場合には E_NOTICE を発生し文字列 "Array" に変化するだけで済むのですが、explodeに配列が渡されてしまった場合 E_WARNING を発生し、さらにその後のforeachまで E_WARNING を連続的に発生していろいろ問題が起きてしまうので、ここは厳密にチェックを行うべきだと思います。これらを考慮すると先ほどのifブロックは isset($_POST['result'], $_POST['id']) && is_string($_POST['result']) && false !== $key = array_search($_POST['id'], $id_sets, true) となりますね。 なお、「false !== 」を頭に持ってくるメリットしては、代入を同時に行う際に ( ) が1つ不要に点があるでしょう。 ○ false !== ($key = array_search($_POST['id'], $id_sets, true)) ○ false !== $key = array_search($_POST['id'], $id_sets, true) ○ ($key = array_search($_POST['id'], $id_sets, true)) !== false × $key = array_search($_POST['id'], $id_sets, true) !== false 最後の例だと !== の方が優先順位が高いために、 「array_search($_POST['id'], $id_sets, true) !== false」 の結果の True/False が $key に代入されてしまいます。 「false !== 」が問題ないのは、もし「false !== $key」が先に評価されてしまったとしたら、変数ではなく「値」に対する代入を行うことになり、この文自体が無効になるからです。PHP4のあるバージョン以降からは無効になる文のことを考慮して優先度を変化させてくれるようになったようです。
再帰上限の問題でしょうか？ http://tips.recatnap.info/error_recursion_run_10 … 【代替案1： DOMDocument::loadHTMLFile】 http://php.net/manual/ja/domdocument.loadhtmlfil … $dom = new DOMDocument; @$dom->loadHTMLFile($url); 【代替案2： preg_match】 http://php.net/manual/ja/function.preg-match.php こちらは正規表現の知識が必要となります。
これでどうですか↓ http://qiita.com/mpyw/items/95e205056e25b7a59dfa まあ基本的に define() / constant() は定数らしさを奪ってしまう関数なので、使わない方針でもいいかもしれません。特に後者はそうです。PHP5.3より前であれば define() は必須となってしまいますが。
ちょうどドンピシャの記事書いていました。 MySQLで投票を集計してランキングを降順で取得する http://qiita.com/mpyw/items/a7720726a1e1bbc820fb PHPからデータベースを扱う際に関する注意点に関しては下記をどうぞ。 PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 おすすめ継承クラス↓ PDO2 / PDOStatement2 https://github.com/Certainist/PDO2
文字列を渡すとき、下記ではなく var bbb = 'abc'; 次の様になっているのではないでしょうか？ var bbb = abc; 下の場合Javascriptは変数と認識し、Undefinedになると思います。
追記です。 基本的に「処理速度」よりも、ソースの読みやすさ（内容を把握しやすい記述）を心がけてください。明らかに無駄な処理とかボトルネックになる処理でもない限り、処理速度は誤差の範囲でしかありません。逆に読みにくくてバグを生みやすいソースは決定的にアウトです。
すいません、重要なことを1つ忘れていました。 【○】 require_once 'UltimateOAuth.php'; session_start(); 【×】 session_start(); require_once 'UltimateOAuth.php'; セッションにオブジェクトを入れるときは、先のそのクラス定義を読み込んでおかないと復元に失敗します。全てのファイルでこの順番で記述されているかどうかを確認してください。
エラーメッセージに書かれている通りPDOには disconnect() というメソッドが存在しません。 なので「必要ない」どころかそのような処理は存在しません。 基本的にはインスタンスが消えるときに接続は切られます。 参考URL：http://www.php.net/manual/ja/class.pdo.php
> このプラグラムも私が作ったものではないので漠然としか理解できていないと思います^^; 作った人に聞くのが筋だと思いますが。 こちらもPHPは素人ですが、DBへの問い合わせと更新を行っているようですね。 それぞれ、正常になされているのか、確認できますか？ > //メール解析用インスタンス > $structure = Mail_mimeDecode::decode($params); ここも怪しいかもしれません。このソースではデコード処理対応が適切にされているか、でこの後の処理が変わってくると思います。 これの戻りに対して、正常かどうかの判定がありませんので、ガラケーだけ、というのも関連しているかもしれません。 あとは、一般的な方法として、デバッグ文などを入れてみて、どこまで処理がいっているか確認するしか無いでしょう。 ---- ソースをすべて乗っけても、デバック出来るわけではありませんので、悪しからず。
マルチポスト先に呼び戻されるとは思ってもいませんでした。悪いこと（マルチポスト）をしているという意識がないんでしょうね。 >フォームはPC.htmlと言うものでphｐはindex.phpとなっています。 >この場合フォームのaction属性はPC.htmlに設定しておけばよろしいのでしょうか？ pc.htmlは「テンプレート」です。モバイルからのアクセス対しては別のテンプレート（mb.html）を使う仕様になっています。そのあたりは同梱の「お読み下さい.txt」に書かれていますから、当然読んでいますよね。キチンと理解してください。 このスクリプトを動かすときはindex.phpにアクセスします（そうやって動かしているハズです）。なので「自分自身」も標準であればindex.phpです（なので省略してaction="./"で動かせる）。index.phpからリネームしたのであれば、その新しい「自分自身」のファイル名を指定してください。
>サーバ側からset cookieのレスポンスヘッダが返っているかどうかどのように調べるのでしょう ほとんどのブラウザで開発用にツール（アドオン）があるハズです。 ＃FirefoxであればLive HTTP headersとか・・・
訂正 $pdo->prepare($sql); ↓ $conn->prepare($sql);
スーパーグローバル変数(どこからでもアクセスできる変数)の一種ですね。 ----------------------------------------------------- [ユーザーから受け取るもの] $_GET / $_POST / $_COOKIE / $_REQUEST [サーバー側でユーザーごとに操作されるもの] $_SESSION [アクセスしてきたユーザーの情報・サーバー側で実行されているスクリプトの情報など] $_SERVER [環境変数] $_ENV ----------------------------------------------------- 「ユーザーのIPアドレスとりたいんだけどどうしよう…」 ↓ 「あ、$_SERVER にありそうだな！」 ぐらいに思い出せれば問題ないですよ。私も $_SERVER の項目全部覚えているわけじゃないです。
先日サーバをWindows系からLinux系に移動した時、同じようにセッションの問題が発生しました。 原因は、セッションの保存先でした。 Windows系の時、保存先がc:\ などとなっていた。 そのためLinuxサーバで動作させるため /tmp/ などと修正する必要がりました。 php.iniやプログラム内でセッションの保存先がどこになっているかチェックしてはいかがでしょうか？
配列で不正なパラメータが送信された場合に想定外の処理が行われてしまう例 http://www.hackerschool.jp/hack/take46.php （上記の問題はPOSTを使っていますが、FirefoxのLiveHTTPHeaders等のアドオンを利用することにより突破できます） もちろんこんなコードを書くことは稀ですが、エラーログを保存するようにしている場合、このパラメータの送信を繰り返すだけで大量にエラーログ領域を圧迫する攻撃も成立してしまいますね。
>$timeout = time() + (365*30) * 86400; 30年後ですか？ さすがに長すぎませんかね。3ヶ月くらいで試したらどうなりますか？
テーブル設計はどのようになっているんでしょうか？ SELECT ID,名前,友達１,友達２ FROM テーブル名 友達1、友達2がそのまま表示出来ているということは、友達のIDではなく友達の名前で保持しているのでしょうか？ もしそうであれば「テーブル設計がおかしい」としか言いようがありません。普通は友達のIDを保持します（でSQl文で引っ張ってくるときにリレーションで友達のIDと名前を同時に取得する）。 「友達の名前」で保持してしまうと名前からIDを取ってくるのは無理です（同一の名前があったりするでしょう？それを区別するための ID です）。
17 : 長野県が => ではなく = になっています。 ,ごとに改行するとかした方が，この手のバグは見つけやすくなります。 # 足りない2県は……宮城と滋賀か，
> 「大人しく」の意味が分かりません。 ご存じのように、条件が単純な場合は三項演算子を使うことでシンプルなコードを書くことができます。 が、複数の条件が重なる場合などはif文を使った方が可読性が上がりますし(自分にとっても、他人にとっても)、 可読性が上がることで論理バグを防ぐことができます。 シンプルさを追求することも大事ですが、最も優先すべきはクオリティではないでしょうか？
>構文的には、間違っていないでしょうか！？ Syntax Errorにならないなら構文的には問題ありませんし、undefined variablesやundefined indexにもならないなら何も問題ありません。 >最初のプログラムと、同じ結果になるのでしょうか？ どういう結果になるかは試せばわかると思います。それともphpを学ぶのに試す環境がないのでしょうか？ ちなみに（前回も書きましたが）普通は ・引数で渡す $a = 1; $b = 2; $c = Sum($a, $b); echo $c; function Sum($arg1, $arg2) { return $arg1 + $arg2; } ・global宣言する <?php $a = 1; $b = 2; $c = Sum(); echo $c; function Sum() { global $a, $b; return $a + $b; } のどちらかです。間違ってもfunction内でグローバルスコープの変数（$GLOBALS['c']）をいきなり生成してはいけません（メイン部分で知らずに $c を使う可能性がある）。 基本的にfunctionは「値を渡して」「処理してもらって」「戻り値を受け取る」ものです。それ以外の動作を与えるときは『こうでないと書けない』理由があるときだけです（普通はそんな理由はあり得ません＝なのでそういう書き方をしない）。
PEAR::DBはできるだけ控えてください。 PDOを使うようにしてください
Cookie削除は関係なかったのかな…… どちらかというとCookie削除の方が効くと思ったのですが……。 ・キャッシュが原因だった場合 エラーメッセージそのものとブラウザのキャッシュには特に関連性はありません。 「このURLのデータの最新版はこれだ！(エラー画面)」とブラウザが勘違いしていただけの話です。 (詳しくはブラウザのキャッシュについて調べてみてください) ・Cookieが原因だった場合 PHPでセッションを使っていた場合、 サーバはCookieの値を見て「今接続しているのはこのユーザだな」と判断し、 そのユーザ用のデータを用意します。 今回は、質問者さんのPC用のデータが何らかの原因で不正なデータになってしまい、 そのために質問者さんのPCのみでエラー画面が表示される、 という状態になっていたのかもしれません。
RTFM. http://jp2.php.net/manual/ja/session.configurati … session.cookie_secure が 1(On) ということは、SSL通信（https）でないとCookieが送られません。 >ローカルもレンタルサーバーの設定に合わせたいと思っています。 ローカルのサーバでhttpsを試すと言うことですか？それ以前にレンタルサーバではhttpsは（利用可能だとは思いますが）どういうURLでアクセスすればいいかなどは理解されていますか（普通は共用SSLだと思いますが・・・）。 キチンとsession_regenerate_idなどを挟んでいるのなら、session.cookie_secure は off でもいいと思いますけどね。それとも、そんなに大切なデータを扱うのでしょうか？
yum install httpd とかでインストールできるでしょう。 ディストリビュータが用意してくてれていますよ。 というか、OSなんです？ Windowsなら個別にインストールするよりXAMPPでインストールした方がいいかと。 設定とかで悩まなくて済みますし。 http://www.apachefriends.org/jp/xampp-windows.html
昔、BASIC言語にはグローバル変数しか存在しませんでした。 そのため以下のようなバグをよくやらかしたものです。 1. 処理αにて、変数Aに値を入れた 2. 処理βにて、一時的な作業用に変数Aを使った 3. 処理αにて、変数Aに基づく処理を行い、暴走した その後 C 言語のローカル変数という存在を知り、 また構造化プログラミングを覚えたため、 この手のバグからはオサラバできました。 と思ったら、大昔の業務用ソフトの保守をすることになり、 「このグローバル変数FLAG5を勝手に変更している奴はドイツだ！」 と笑えない冗談をかましながらチーム一丸となって 犯人探しに躍起になったことがあります。 その時は確か 怪しいCOBOLソースをラインプリンタで全部印刷して(ここまでで半日) 手分けして一行一行さがして(ここまでで二日) 候補をもちよって検討して(四日) 結局謎のままうやむやになった(五日) 悪いことは言いません。 プログラムの用途や規模に関係なく、グローバル変数は更新しちゃいけません。 もし万が一にも更新する必要があるならば、ソース内のコメントに ・処理の必要性を訴える理由 ・この決定にいたる詳細な経緯、できれば議事録をそのまま ・決定者の氏名と本人への確実な連絡手段 を記載する位の覚悟でお願いします。
>上手く動かずプログラムがそのまま表示されます。 phpスクリプトとして認識されていないということですね。基本的に拡張子が.phpならphpスクリプトとして認識されて動作するハズです。ASCII（テキスト）モードでアップロードされていますよね（テキストファイルなので当然ですが）。 スクリプトの開始をshort_open_tag（<?）で書いていたりはしませんか？
>同じ条件でUPDATEするには >どの様な構文にすれば良いでしょうか？ どのカラムをどう更新するのかわかりませんが $sql = "UPDATE テーブル名 SET aaa=xxx, bbb=yyy, ccc=zzz WHERE p_end_time <= '$time_now'"; $count = $conn->exec($sql); RTFM. http://dev.mysql.com/doc/refman/5.1/ja/update.html
全ソースが書ききれていないので、どこが問題なのかはわかりません。括弧や引用符を追っていけば確実に「おかしな部分」はあります（なのでエラーになるわけで・・・）。 あと、他の方からも指摘があるとおりツッコミどころ満載ですが・・・ <html> <head> <?php header('Content-Type: text/html; charset=utf-8*'); ?> これは絶対にやめましょう。出力バッファリングが無効だと（phpのデフォルトは無効です）意味を為しません。ローカルテストだと（xamppなどは出力バッファリング on になっているので）たまたま動いているかもしれませんが・・・ そもそもutf-8*って文字セットなんかないです（汗 <?php header('Content-Type: text/html; charset=utf-8'); ?> <html> <head> RTFM. http://php.net/manual/ja/function.header.php あと、都道府県番号→都道府県名なんかでswicthを使うのはソースが無駄に長くなるだけです。配列を使ってください。もしそれが出来なくてもfunctionにして元の流れと別にしてください（ベストはfunctionにして、function内で配列を使って都道府県名を返す）。意味も無く長いソースを追うのは慣れていても疲れます。初心者が追いかけられる範疇ではないです。
>「フィッシングが報告されたウェブサイトを事前に検出しました」と表示されて、 このメッセージを見る限りは、あなたの書いたPHPが悪いのではなく、そのPHPサイトの他の利用者がフィッシングするために利用してる(またはしてた)のでそのようになってるのだと思います。 ですので、 (1) その警告をChromeが出しているものならChromeを使用している人であれば同じように警告されると思います。またセキュリティソフトで遮断される可能性もあるでしょうから他のブラウザでも同様になる可能性はあると思います。 (2) 関係します。 (3) おそらく関係ないです。 (4) 有料でもサポートのあるレンタルHPスペースやサーバを利用される方がよろしいかと思います。 (5) 同PHPサイトの他の利用者がフィッシングを行っている場合は、Chromeは謝った警告を出してるわけではないので効果はないと思われます。
こんな感じでしょか？ javascript を使っていますのでもしかしたらスクリプト警告が出てくるかもしれませんが。 <html> <body onLoad="document.FORM1.FIELD.focus()"> <table> <tr> <td>東京で良く行く場所はどこですか？※選択必須です</td> <td> <form action="#" name="FORM1"> <input type="radio" name="Basho" value="Shinjuku" />新宿<br /> <input type="radio" name="Basho" value="Shibuya" />渋谷<br /> <input type="radio" name="Basho" value="misc" />その他<input size="20" type="text" name="FIELD" value=""/></FORM1> <input type="submit" value="Submit"> </td> </tr> </table> </body> </html>
PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 上でも紹介していますが、「1回1回エラーチェックする」というコーディングスタイル自体がもう昔のものになってきています。PDOはモダンな例外処理をサポートしていて、これを利用すれば一箇所にCatchブロックを設けるだけで済みます。 また、PDOではトランザクション処理はメソッドとしてサポートされています。 beginTransactionメソッドでトランザクション開始。 ↓ PDOの大元のTryブロックとは別に、トランザクション用のTryブロックを内側に更に設ける。 ↓ 必要な処理をこの中で行い、その最後にcommitメソッドを実行。例外が発生したときはCatchブロックにてrollBackメソッドを実行、必要であれば外側のCatchブロックに向けて捕まえた例外をスローし直す。 ちなみにトランザクション処理中であれば、最後のINSERT時にAUTO_INCREMENTで自動生成されたプライマリキーの値をlastInsertIdメソッドでSQLを発行せずに取得することができるというちょっとしたオマケもあります。
/\([^)]*、.*?\)/ とか?
>> それともPHPは最後まで実行されて、その結果のレスポンスをブラウザが受け取らないだけなのでしょうか？ その通りです。 同時書き込みを気にするならば最初からMySQLやPostgreSQLを使えばいいと思いますが・・・
ちょっとセンスの無い例ですね・・・この参考書ってE_NOTICEの表示が無い前提で作られているんでしょうか・・・このままではマズいので、php.iniの設定で error_reporting = E_ALL | E_STRICT display_errors = On になるように2ヵ所の編集と確認をお願いします。こうすることで全てのエラーが表示されるようになります。そうすると先ほどのコードではエラーが発生するのが分かるはずです。 Notice: Undefined variable: a in ... on line 7 PHP入門講座 http://qiita.com/mpyw/items/752e19a578cf7d96fc5f こちらの「NULLと未定義の違い」「型変換」をご覧になればだいたい何が起こっているか把握できると思います。 1. $a+1 の $a が未定義なので、Noticeエラーを発生してNULLと扱われる 2. $a+1 の 1 は整数である 3. NULL + 1 となる 4. 加算ではNULLは整数に変換され、これは0として扱われる 5. 0 + 1となる 6. 結果として整数の1を得る 7. printによって整数が文字列に変換され、画面上に出力される >> $a = 1 の１は、数字と認識しなくて、文字扱いになるみたいです！ >> なので計算結果が「１となる」と・参考書には色々書いていあるんですが、 >> たぶんそれをいいたのでしょう？ ホントに参考書にそうやって書いてあるなら、「絶対に参考にするな」と言いたくなるレベルのとんでもない参考書です。だって間違ったこと書いてますから。
Marshmallowsさん コピペしましたが、エラーは出ませんでした。 http://ideone.com/QVkrPQ Wr5さん PHPは(以降にHTMLを書かない場合は)閉じタグを書かない方が推奨されています。 http://php.net/manual/ja/language.basic-syntax.p … http://qiita.com/mpyw/items/176fb1f6fb75da74339f
>アプレットから送信するデータ(String)に処理を加える必要はありますか？ 処理というのはどのような処理をイメージしていますか？ >またphpファイルは ><?php >$filename = "log.txt"; >$post_data = $_POST["data"]; >$fp = fopen($filename, "a"); >fwrite($fp, $post_data); >fwrite($fp, "\n"); >fclose($fp); >?> >のような形で書いています． dataという名前で取得しているなら以下のような形になると思います。 PrintWriter writer = new PrintWriter ( urlCon.getOutputStream() ); writer.print ( "data=あいうえお" ); writer.close(); これで「あいうえお」が書き込まれます。 >アプレットから送信したデータをPHPで受信することができず，苦戦しています． エラーとかなにか表示されていますか？ デバッグしながらひとつずつ確認していくことをおすすめします。
失礼。whenを書き漏らしてましたね。 $pdo = new PDO("mysql:host=localhost;dbname=test;charset=utf8", "root@localhost", ""); $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); $stmd = date('m/d'); $endmd = date('m/d', strtotime('+1month')); $join = $stmd < $endmd ? 'and' : 'or'; $sql = "SELECT shop.*, (case when date_format(birth, '%m/%d') <= ? then 1 else 0 end) as sw FROM shop where date_format(birth, '%m/%d') >= ? " . $join . " date_format(birth, '%m/%d') <= ? order by sw, date_format(birth, '%m/%d')"; try { $sth = $pdo->prepare($sql); $sth->execute(array($stmd, $stmd, $endmd)); while ($row = $sth->fetch(PDO::FETCH_ASSOC)) { print date('m月d日', strtotime($row['birth'])) . '' . $row['name'] . '<br />' . PHP_EOL; } } catch (PDOException $e) { die($e->getMessage()); } （前回との違いは$sqlへ代入する文字列リテラルだけです）
こちらでコピペして実行する限りでは、問題なく動作します。 27行目の EOM; の前後に空白があったりはしませんか。コピペしたのであればEの左側やセミコロンの右側に空白が混じっている可能性があります（ヒアドキュメントの終端なので EOM; 以外のいかなる文字も許されません）。 http://www.php.net/manual/ja/language.types.stri …
違う世界、違う文化に触れるという意味では他言語の勉強は役に立つと思います。 これについては、（読者自身が実際に手を動かす必要がありますが）『７つの言語 ７つの世界』という本がよい入口になると思います。 http://www.amazon.co.jp/%EF%BC%97%E3%81%A4%E3%81 … だけど、どちらかというとそれよりも各種言語パラダイムそのものについて勉強したほうがつぶしがきくかなと思います。 とりあえず、構造化・オブジェクト指向・関数型について、それぞれ基礎知識・現在の主流・もっとも有望な将来像として学んでみる価値はあると思います。 あと、アルゴリズム・データ構造・デザインパターン・リファクタリングも勉強しておいた方がいいかと。
Mysqli手続き型ならこうですかね・・・ （手続き型はコードが長くなるのであんまり好きじゃないですが） foreach ($checks as $k => $v) { 　　if ($v !== null) { 　　　　$params[] = $default_checks[$k]; 　　} } if (!empty($params)) { 　　$sql = sprintf( 　　　　'DELETE FROM table WHERE checks IN (%s)', 　　　　implode(', ', array_fill(0, count($params), '?')) 　　); 　　$stmt = mysqli_prepare($link, $sql); 　　call_user_func_array( 　　　　'mysqli_stmt_bind_param', 　　　　array_merge( 　　　　　　array($stmt), 　　　　　　array(str_repeat('s', count($params))), 　　　　　　$params 　　　　) 　　); 　　mysqli_stmt_execute($stmt); } Mysqli使ったこと無い上にデバッグしてないのでミスあったらごめんなさい m(_ _)m
>毎回ページ移動をするたびに再読み込みが必要なため、メモリを無駄に消費してしまっているように思えます。 まぁカテゴリ一覧の表示ページ以外で「全部のカテゴリ名」を取ってくるのは無駄でしょうね。商品と結合させてカテゴリを取ってくれば、その商品を表示するときに必要なカテゴリ名は（商品と同時に）取ってこれますから。何のためにデータベースを使っているのかという話になります。 >カテゴリ2つにまたがる場合があり、そのカテゴリIDは「1,2」というようにカンマ区切りでデータを格納しています。 設計からやり直した方が（結果的に）いいと思います。 単純に使うだけの文字列なら取得後に分割したりも何てことはありませんが、他のテーブルと関連付けるものをそういう格納をしてはダメです。最大いくつのカテゴリに属するようにするかを決めてその数のカテゴリID列を持つべき（2つめ以降、空きの場合はNULLを許可する）。
関数の定義箇所に飛ぶ方法ですよね？ eclipseやnetbeansのようなIDEには、普通に機能としてありますよ。 昔はctagsとか使ったものですけど、いい時代になったものです。
データベース設計の問題点に関しては他の人から既にたくさん指摘があるので割愛します。 1. 非推奨のMysql関数を使うのはやめてPDOクラスで書きましょう。 http://qiita.com/mpyw/items/b00b72c5c95aac573b71 2. Mysql関数を使う場合でもPDOクラスを使う場合でもいずれにせよ、データベースと接続するコードをグローバル空間にべた書きするコーディングは、将来的にいろいろ機能を追加したりする場合はやめておいた方が無難でしょう。典型的な「スパゲティプログラム」の要因になります。最低限、専用の関数を作る、理想は専用のクラスを作ること。 https://github.com/Certainist/sns_php
問い１ 下のhitomuraさんの言う通り文章そのままですね・・ CLIで実行している場合は標準出力。 Webサーバで実行された場合はWebブラウザ。 　　少し『、』と『“』の使い方がおかしいのは感じますが。。 問い２ 2の項と2.1の項と2.1.5近辺の項がわからないので何とも言えません。 質問文の下部のみを解説すると１行の出力行だけではまだバッファに溜まっただけで完全には出力していないと言っています。わかりやすく解説するならば、 print("A"); sleep(10); print("B"); こういうphpソースがあればAが出力され10秒後にBが出力されるのではなく10秒後にABが同時に出力されます。各行出力をまとめhtml構成要素とし整形し直している事を表しています。 PHPはスクリプト言語の代表ではあるが厳密にはHTTPヘッダなどその他要素を最適に生成/構成しWeb環境に特化した言語であるという事が言いたかったのでしょう。
>なおここはLinux上で、Apache２が既にインストールされているものとし、 >コマンドライン上での操作を前提として進めます。 と書かれているのですから >この手順はLinuxの設定になるのか、さだかではございませんでしたので、 って疑問を挟む余地はありません。Linuxでの手順が説明されています。なのでWindows7環境では適宜読み替えないといけませんが、おそらく質問者さんのスキルでは無理です（php-5.5.6.tar.bz2の「展開」は出来ましたか？ここで躓くようならあとは推して知るべしです）。 もし「phpをインストールしてphpを学びたい」だけであれば（サーバ環境構築が主目的でなければ）、素直にxamppをインストールすることをお勧めします。 http://www.apachefriends.org/jp/xampp-windows.html
> とりあえず、やみくもに進めています。 まず、あなたの目的をはっきりさせてください。 本を最初から最後まで書いてある通りにやっても、PHPはマスターできません 内容を理解し、それを自分の目的に合わせて変更できるようにならなければ、マスターしたとは言えません。 とりあえずPHPの勉強がしたい、ということなら、ソースからのインストールは必要ありません。 ・バイナリーが用意されていない最新版を使いたい ・用意されたバイナリーとは違う設定にしたものを使いたい ・バイナリーが用意されていない環境(OS等)で利用したい などがソースからインストールする理由です。 用意されたバイナリーで十分、という人には必要の無いものです。 そもそも、ソースからインストールするためには、Cコンパイラが必要です。用意していますか? PHP-5.5.6.tar.bz2 [12679 KB] 2013年11月14日 PHP-5.5.6.tar.gz [16418 KB] 2013年11月14日 PHP-5.5.6.tar.xz [10260 KB] 2013年11月14日 これらは、圧縮方法が違うだけで、展開して出てくるソースファイルは同じ物です。 身近なもので言えば、同じファイルをZIPとLZHで圧縮した、みたいな感じです。 Windowsでは標準的な圧縮方法では無いので、別途解凍ソフトが必要です。
連投すみません訂正です $regex = '/(?!\A[a-z]*+\z)(?!\A\d*+\z)\A[a-z\d]{8,}+\z/i'; if (!preg_match($regex, "fwaaaaaaaaaaaaaaaa")) { echo '半角数字1文字以上・半角英字1文字以上・計8文字以上で構成してください'; }
空白の返し方が指定していないことが原因です。 使い方次第で邪魔になったりすることの方が多いからだと思われます。 具体的な修正は↓ ３３行目に if("" !== $_GET['query']){ ４８行目に } 全体を書くと ↓ <?php /** * Yahoo! JAPAN Web APIのご利用には、アプリケーションIDの登録が必要です。 * あなたが登録したアプリケーションIDを $appid に設定してお使いください。 * アプリケーションIDの登録URLは、こちらです↓ * http://e.developer.yahoo.co.jp/webservices/regis … */ $appid = ''; // <-- ここにあなたのアプリケーションIDを設定してください。 $CHIE_SEARCH_API_HOST = 'chiebukuro.yahooapis.jp'; $CHIE_SEARCH_API_URL = '/Chiebukuro/V1/questionSearch'; $CHIE_SEARCH_API_APPID = $appid; function escapestring($str) { return htmlspecialchars($str, ENT_QUOTES); } print<<<EOM <html> <head> <meta http-equiv="Content-Type" content="text/html" charset="utf-8"> <title>知恵袋デモサイト - 質問検索(php)</title> </head> <body> <h1>知恵袋デモサイト - 質問検索(php)</h1> EOM; print '<form action="./'. basename($_SERVER['SCRIPT_NAME']) .'">'; print '<input type="text" name="query" value="' . escapestring($_GET['query']) . '">'; print '<input type="submit" value="search">'; print '</form>'; if("" !== $_GET['query']){ $responseXML = ''; { $curl = curl_init(); curl_setopt($curl, CURLOPT_URL, "http://${CHIE_SEARCH_API_HOST}${CHIE_SEARCH_API_URL}?appid=${CHIE_SEARCH_API_APPID}&query=".urlencode($_GET['query'])); curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1); $responseXML = curl_exec($curl); curl_close($curl); } { $xmlObj = simplexml_load_string($responseXML); foreach($xmlObj->{'Result'}->{'Question'} as $que) { print("<li>{$que->{'Content'}}<br><a href=\"{$que->{'Url'}}\">{$que->{'Url'}}</a>\n"); } } } print<<<EOM <hr /> <!-- Begin Yahoo! JAPAN Web Services Attribution Snippet --> <a href="http://developer.yahoo.co.jp/about"> <img src="http://i.yimg.jp/images/yjdn/yjdn_attbtn2_105_17 … width="105" height="17" title="Webサービス by Yahoo! JAPAN" alt="Webサービス by Yahoo! JAPAN" border="0" style="margin:15px 15px 15px 15px"></a> <!-- End Yahoo! JAPAN Web Services Attribution Snippet --> </body> </html> EOM; ?> あなたのアプリケーションIDを入れて下さい
>if(print(htmlspecialchars($_POST['kaitouran31'], ENT_QUOTES, 'UTF-8')) == 'a') printの戻り値を'a'と比較しているのは何ですかねぇ。この時点でのprintの出力も画面に表示されてしまっていると思いますが・・・。またhtmlspecialcharsを通す必要はないですよね（何のための関数かを考えれば自明）。 if ( $_POST['kaitouran31'] === 'a' ) と書くべきでは？
たとえばmysqlだったらこう where truncate(mod( カラム名 , 1000) , -2 ) =900
一つ気になったのですが >> NULLと返ってきてしまいます。 のように「エラーが発生してNULLになった」と述べられていないということは、E_NOTICEの表示をされていませんね？これだと変数名のタイピングミスをしてしまったときなどに非常にミスに気づきにくくなるので、全てのエラーを表示させるようにphp.iniの設定で error_reporting = E_ALL | E_STRICT display_errors = On としましょう。ループが一周もしない可能性がある場合、つまり回される配列が空になる可能性がある場合は $key_text = array(); foreach ($text as $value) { 　　if (in_array($value, $key)) { 　　　　$key_text[] = $value; 　　} } として、ループ前に結果の配列を初期化しておく必要があります。
まずは、メールの仕組みをよく勉強してください。 多少語弊がありますが、sendmailは、OutlookやLiveメール等のメールソフトの送信部分だけ取り出したようなものです。 > 宛先を、プロバイダーのFTPアドレス当てに送信することは可能でしょうか？ あなたが使っているメールソフトから、その「プロバイダーのFTPアドレス」とやらに送信できるのでしょうか? 送信できるなら、mb_send_mailでも送信できる可能性はあります。 「プロバイダーのFTPアドレス」っていうのは、FTPで送受信するときに使う XXX.nifty.com みたいなホスト名のことではないですか? ホスト名(アドレス)とメールアドレスは同じ「アドレス」という言葉が使われていますが、まったく別物です。
結論から述べると、セッションに「ユーザーID」以外のデータを格納しようとしているから困っているのです。セッションには「ユーザーID」だけを格納し、それ以外の情報は毎リクエストごとにデータベースからとってきて表示させればいいのです。 一連の質問が参考になると思うので確認してみてください。 http://okwave.jp/qa/q8326234.html http://okwave.jp/qa/q8333166.html http://okwave.jp/qa/q8333900.html http://okwave.jp/qa/q8345886.html http://oshiete.goo.ne.jp/qa/8351885.html
/var/lib/php/session/ のパーミッションを757にしたら消えませんかね？
結論から述べると、以下の回答No.1が事実を物語っています。 http://oshiete.goo.ne.jp/qa/8145396.html 複数のフォームを1つのリクエストにまとめることはHTTPの仕様上不可能です。素直にAjaxで分割送信させましょう。単に「対応しやすい」「確認しやすい」だけでとどめられると何か納得がいかないので一応確認させていただきます。 問1に全て回答 ↓ Ajaxで送信させる ↓ 問2に全て回答 ↓ Ajaxで送信させる ↓ 採点結果をチェック ということをしたいんでしょうか・・・？
＞相手側の処理能力の問題で大きなトラフィックをさばいているサイトでしたら、 ＞そんなに問題はないということでよろしいでしょうか？ 一言でいえば運用者が恣意的にNGといえば利用者は有償の責任を負うということです 前述した岡崎市立中央図書館事件では1時間に400リクエストでオーバーフロー する仕組みに対して1秒以上猶予をおいてリクエストを投げ続けたことで 問題となったようです。 https://ja.wikipedia.org/wiki/%E5%B2%A1%E5%B4%8E … 問題ないかどうかは、運用者と司法が判断することなので、なんとも言えませんが 前例から見ておそらく有罪にはならないと思いますが20日程度の拘留の可能性は否定できません。 また損害が発生すればその賠償責任もでてくる可能性があります。 ＞wgetなどのコマンドを使用するより、file_get_htmlなどの方が作業的には楽になる phpで非同期処理を模索するくらいなら 個人的にはwgetをバックグラウンドで処理する方が楽だと思いますよ ファイルに落としたものを評価すればいいだけなので ＞wgetやfile_get_htmlなどで相手側に与える負荷の差は特にない これは大差ないと思います
ネイティブなMySQLがすでにオワコンであることの指摘はすでにあるようなので割愛。 >bunsyo の中にデータが入っているか否かを確認したい データが入っていない場合の初期値はどう設定されているのでしょうか（空文字列とNULLは違う扱いになります）。初期値がNULLに設定されていれば select * from テーブル名 where (no=1)and(bunsyo is null) が返す行数で判断すればいいと思います（最初のfetchの真偽値でもいいです）。
断っておきますが、ご提示した書籍は所持していません。 何をするのかわからないと言う前に、これが何をするための作業か理解していますか？ 仮想的なホストを追加するためですよね つまり、これは1 台のマシン上で二つ以上のウェブサイトを扱うための設定です 手元に書籍が無いので推測ですが P.28で設定したドキュメントルート等は、追加されるホストとは関係ない設置済みのホストのはずです httpd.confでバーチャルホストの設定を読み込むように設定済みのはずだと思いますので 既に設置されているのは study.localhost でアクセスできますよね？ さて、内容についてですが 行頭に # がない<VirtualHost *:80>から</VirtualHost>までの内容をコピーして（<VirtualHost *:80>、</VirtualHost>も含み その下に貼り付けてください それから追加するウェブサイトのDocumentRoot(コンテンツが置かれているディレクトリ)と ServerName(http://hoge.piyo.jp でアクセスされて表示したいならhoge.piyo.jpと書く)を設定し直してください あとはApacheを再起動させればいいです。 詳しくは http://httpd.apache.org/docs/2.4/vhosts/ http://kazmax.zpp.jp/apache/apache5.html　をご覧下さい 今回のご質問はプログラミングではなくサーバの設定ですのでカテ違いです サーバ(Apache)のカテゴリーで、ご質問なさるべきでした 以上の内容やリンク先で理解できなかったのなら再度、そちらのほうにご質問なさると 知識に明るい方々がいらっしゃいますので回答がつきやすいかと思います
はい、一番下で問題ないと思います。
/ と sample2.php の間にあるスペースは何ですか? 「 sample2.php」( 先頭に空白があるファイル)を探しにいったけど見つからない、ということではないかと。
ツッコミどころ満載ですが、それについてはすでに指摘がありますね 根本的な問題として、 >$sql = 'UPDATE mst_productSET name=?,price=? WHERE code=?'; $sql = 'UPDATE mst_product SET name=?,price=? WHERE code=?'; でないとマズイのでは？
なんとなく うっすら思っていたことですが、もしかして俺の行のカウントの仕方と、そちらの行のカウントの仕方が違うのかな？と。 俺の行のカウントの仕方は、改行があるところまでを一行としてます。 件のサンプルコードの15行目が 画面上3行に渡っているので誤差が出たようで。 なので、俺の言う35行目というのは ↓ここになります。#2の人と同じ場所です。 echo '<TD style="color : ' . $c . ';background-color : ' . $bc . '; padding:0 50px 50px 0;">' . $days . '</TD>'; #2の人とは HTMLで適用させようとしているか、CSSで適用させようとしているかの違いです。 さらに、分かりやすいように 昨日のより 大げさにpadding入れてます。50pxの所です。 ちなみに、俺が確認しているブラウザは chromeのみで、他は未確認です。
#1です。 ■構築中のロリポサーバ公開 レンタルサーバは普通、ドメインエイエイアスが使えるので、ドメイン取ってもDNSを切り替えずそれで開発します。 ロリポなら、xxx.cute.jpとか、そんな感じです。 DNSを変更できない（まだ未構築なのに公開中？）のであれば、.httaccessでリクエストヘッダ見てルーティングせんとけません。 ■xamppからレンサバ転送 レンサバ側でWPをインストールしていれば、転送する内容は wp-content/functions.php wp-content/themes/テーマ名/*.* ぐらいになるので、余計楽かと思います。 うーん。。一般的にはレンサバ側のWPと、xampp側のバージョンは異なるので、WPは全部FTPしてしまうのがいいんですが。。 ■客先でのメンテ テンプレートもプラグインも全部、WP側の管理画面で直接メンテできますので、客がすぐ壊します（笑 ファイルが直接書き変わるので、その場合はxampp側をFTPで上書き要。 このあたりの仕様が、まあ自由というか杜撰というか。WPらしい
FirefoxとChromeはこれでいけると思います・・・ http://tmlife.net/programming/javascript/javascr …
コピペで申し訳ないですがこちらと回答内容がかなり重複するのでご了承ください。 http://okwave.jp/qa/q8352943.html とりあえずPDOを扱う上で PDO::ATTR_ERRMODE の設定はほぼ必須と言ってもよいでしょう。デバッグのときもこれがあるのとないので作業効率が全く違います。
ざくっと見てサッと回答していますが、 postal.phpの > echo $rec['State']; > echo $rec['City']; > echo $rec['Address']; ここを、 > echo json_encode($rec); に変更して、 postal.htmlの > $("#State").val(data); ここを、 > $("#State").val(data.State); > $("#City").val(data.City); > $("#Address").val(data.Address); にしたらどうでしょう？
"この質問への回答は締め切られました。" ので回答出来ないだけだったのでしょう。 http://oshiete.goo.ne.jp/qa/8351280.htm <==> http://oshiete.goo.ne.jp/qa/8351280.html ご存知だと思いますが、okwave.jpが親サイトでその他のoshiete.goo.ne.jpサイト等はokwave.jpと契約の元利用されている関係のようです。 http://oshiete.goo.ne.jp/qa/8353172.html この質問と次サイト等での質問とは同じ質問です。 http://oshiete.goo.ne.jp/qa/8353172.html 教えて! Goo http://questionbox.jp.msn.com/qa8353172.html MSN相談箱 http://soudan1.biglobe.ne.jp/qa8353172.html BIGLOBE その他にも各企業での質問はokwave.jpサイトでサポートされているものもあるようです。 右上の"法人向けサービス"等から辿って調べてみて下さい。 http://www.okwave.co.jp/service/ok_corp/success. …
>> $recursion_level >> この数値をいじるといけてしまうのでしょうか？ そうですね。 3再帰以内の人を取得したいならば $this->getInvitationLeaves($_SESSION['user_id'], 3) 3再帰ちょうどの人を取得したいならば $this->getInvitationLeaves($_SESSION['user_id'], 3, true) といった感じでいくらでも調節できますね。getInvitationTreeメソッドは他にもいろいろ応用が利きそうなので、そのときは是非使いまわしましょう。 出来た時の喜びを掴みたいという意思があれば、自然にどんどんスキルアップしていけますよ！私も最初はド素人から始まって汚いコードばかり書いていましたが、オブジェクト指向でTwitterアプリを手さぐりで作ってみたりしているうちに自然にスキルが身についてきて、そこからQ&Aサイトでの回答をするようになった今の自分があります。
回答1 私の環境でも間違いなく「httpd-vhosts.conf」となっていますね。(この本にしては珍しいですが)教本側の誤字でしょうか。私もこのファイルを編集しているので、間違っていないと思います。 回答2 「#」が先頭についているのは全部コメントです。あくまで「こんなふうに書いてね」と例が示されているだけです。下記に私が示すように、そのコメントの↓あたりに貼りつけてください。 【C:\xampp\apache\conf\extra に追加】 NameVirtualHost *:80 <VirtualHost *:80> ServerName study.localhost DocumentRoot "C:/xampp/htdocs/study.localhost" DirectoryIndex index.php index.html <Directory "C:/xampp/htdocs/study.localhost"> AllowOverride All Allow from All </Directory> </VirtualHost> 【C:\Windows\System32\drivers\etc に追加】 127.0.0.1 study.localhost これで http://study.localhost/ またはhttp://study.localhost:80/ にアクセス可能になります。 さらに別のフォルダ(sample.localhost)も81番ポートから利用したい場合の例↓ 【C:\xampp\apache\conf\extra に追加】 NameVirtualHost *:81 <VirtualHost *:81> ServerName sample.localhost DocumentRoot "C:/xampp/htdocs/sample.localhost" DirectoryIndex index.php index.html <Directory "C:/xampp/htdocs/sample.localhost"> AllowOverride All Allow from All </Directory> </VirtualHost> 【C:\Windows\System32\drivers\etc に追加】 127.0.0.1 sample.localhost これで http://sample.localhost:81/ にアクセス可能になります。
C:\PHPに移動してコマンドphp –vを入れてみてください。 動けばPATHがおかしい。
>>To_aru_Userさん > CakePHPのコアコードでさえもこれを理解していない人が書いていてバンバン empty() 使われていたりするんですが・・・(苦笑 理解してないのはTo_aru_Userさんのほうかもしれません（苦笑 例えばModel::find系のメソッドで該当がなかった場合の戻り値が、今までに２通りありました(falseか空array)。 $users = $this->User->find('all', $query); if ( $users !== false ) { /* 処理 */ } なんて書いてて、Cakeのバージョンあげたら空arrayが返却された・・なんてなればコードはたちまち破綻するでしょう。 Model::findの戻り値の評価としては取得できたか出来ないかが重要なので、===ではなくemptyで書いておくべきだと私は思います。 > ・string(0) ""判定は、どう書くのでしょうか？ ケースバイケースになるでしょう。 if ( empty($hoge) ) { } でtrueになるケースは''とNULLと0とarray()とfalseです。 これらを厳密に区別する必要があるなら===を使いましょう。
phpの実行モードはどうなっていますか？AサーバがCGI動作で、Bサーバがモジュール動作なんてオチがありそうなので・・・ モジュール動作ならApacheの権限でしか動作しませんからotherへの書き込み権限が必要です（606とか707とか）。
>アクセスできる場所にあるという時点で、セキュリティ上　問題があるのかなとも思います。 アクセスできるといっても、それは「httpで」という話です。つまりApacheがphpを解釈して実行している限りは何の問題もありません。 どうしても気になるなら接続情報を外部ファイルにしてDocumentRootより上に（httpでアクセスできない場所に）置いて、それをincludeするという手もあります（が、レンタルサーバによってはDocumentRootより上の階層にアップロードできなかったりもしますので・・・）。
こういうのでどうでしょうか。 http://phpintroduction.seesaa.net/category/13206 … jQuery.ajaxは戻り値をそのままコールバック関数に渡せるようですね。おそらく内部ではJSON.parseが使われていると思いますが。 住所取得PHP(zipcode_backend.php)にJSONべた書きされていますが、ここはjson_encodeを使えばいいでしょう。
http_build_query http://php.net/manual/ja/function.http-build-que … 【第1引数】 URLエンコードしたい連想配列 【第2引数】 プレフィックス(何もつけないのであれば空文字列を指定) 【第3引数】 PHPから利用するためのURLを生成： '&' HTMLとして埋め込むためのURLを生成： '&amp;' 第3引数まではほぼ必須。 【第4引数】 PHP_QUERY_RFC1738(デフォルト)： RFC1738(urlencode関数の形式) PHP_QUERY_RFC3986： RFC3986(rawurlencode関数の形式)
>> そもそも<img>としてbargraph.phpを表示させるやり方は問題ない・・・というか普通ですか？ 　非常によくある手法です。プログラマ側としては一番実装がラクになります。但し、アクセスの集中するサイトである場合、前の解答で述べたようにテンポラリファイルを生成したほうが負荷を緩和できたりすることも考えられます。 >> GET送信＝よくないっていう偏見とURLの後ろにくっつけるのが綺麗じゃないと思っていたのでこういった質問になってしまいました。 　FirefoxのLiveHTTPHeaderなどのアドオンを利用すれば、ノンプログラマな一般人の人でも任意のPOSTリクエストを送信出来てしまうため、GETであろうとPOSTであろうと入力の妥当性を検証すべきことには変わりありません。 　確かにファイルの後ろにクエリを付加することは汚いように思うかもしれませんが、画像ファイルとして参照するだけならばこれでも問題はないでしょう。そこまで気にするならばそもそも画像を出力するファイルの拡張子を(見た目上)PHPから他に変更することから始まると思います。
time関数は実行ごとに新しく値を計算するので、そのスクリプト実行中に一意な値を取り続けることを保証したい場合は、代わりにサーバー変数 $_SERVER['REQUEST_TIME'] を利用します。それを踏まえた上で、 【回答1】 date('Ymd', $_SERVER['REQUEST_TIME']) 【回答2】 省略するとtime関数の返り値が使われてしまうので、省略しない方がベターです。 【回答3】 date('Ymd', $_SERVER['REQUEST_TIME'] + 60 * 60) なお、$_SERVER['REQUEST_TIME'] と書くのが煩わしいならば、スクリプトの最初に define('TIME', $_SERVER['REQUEST_TIME']); として定数TIMEを定義しておいてもいいかもしれません。
こんな感じです。 ただし「住所」の後ろや「電話」の前にあるスペースも拾ってしまうので注意ください <?PHP $data="あいう 平成25年6月12日 かきくけこ 平成25年6月12日 さしすせそ 住所　東京都あいうえお1番234-5 電話 23098098098"; $pattern="/(?<=住所).+(?=電話)/"; if(preg_match($pattern,$data,$match)){ print $match[0]; }
>> 上記の環境からphp_pdo_sqlsrv_54_ts.dllとphp_sqlsrv_54_ts.dllを使用することを決定。 とありますが、実際にご利用になられているのは PHP 用 Microsoft SQL Server ドライバ http://php.net/manual/ja/book.sqlsrv.php のほうみたいですね。こちらは日本語版マニュアルが存在しないほどマイナーな関数で、わざわざこれを利用するメリットは全くないと思います。せっかくなので PHP Data Objects http://www.php.net/manual/ja/book.pdo.php Microsoft SQL Server 関数 (PDO_SQLSRV) http://www.php.net/manual/ja/ref.pdo-sqlsrv.php こっちで書きませんか？下の記事はMySQL向けに書いていますが、ある程度は参考になると思います。 PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 DSNに関しては下記を参照してください。 PDO_SQLSRV DSN http://php.net/manual/ja/ref.pdo-sqlsrv.connecti …
file_existsはHTTP経由では使えません。ステータスコードを調べる手段が最も適切なのではないでしょうか。 function url_exists($url) { $h = (array)@get_headers($url); return $h[0] && !strpos($h[0], '404'); }
回答1 style属性やonclick属性なんかでわりと何でも出来てしまうので、完全に安全とは言い難いです。 回答2 全然大したこと無いです。常識的な範囲の処理でかつネットワークアクセスを介さない処理は「一瞬」です。前の件の正規表現も一見すごく重そうに見えましたが一瞬でしたね。 解決策としては、Markdown記法の採用が最適でしょうか。パーサーはたくさんあるようなので、お好きな物を選んでください。 https://www.google.co.jp/search?q=markdown+php
お礼ありがとうございます、お返事遅くなりました。 まず、pdo で接続するときは、dsnで、phpファイルの文字コードで charset を指定する。phpもmysqlも最新版なので、これが標準。 http://jp.php.net/manual/ja/ref.pdo-mysql.php To_aru_Userさんのでもそうなっています。 あと、第４引数のoption配列 で PDO::ATTR_ERRMODE と PDO::MYSQL_ATTR_LOCAL_INFILE も指定しましょう。phpの最新版では、PDO::MYSQL_ATTR_LOCAL_INFILE をここでtrueにしないと、load出来ないようです。ここらへん、私もまだphpが古いversionでやってたりするので、マニュアルみて漸く気づいたりします。 mysqlとphpのversionの組み合わせで、制約がいろいろ変わるので、混乱しやすいかと思いますが、なるべく、それぞれのマニュアルを参照するようにしてください。 以下、お礼の提示文に少々追加。字下げは全角空白使ってるのでコピー時は削除のこと。 <?php // PDOオブジェクト生成 $dsn = 'mysql:dbname=shop;host=localhost;charset=utf8'; 　　　　 $user = 'user'; 　　　　 $password = 'password'; $option = array( 　　　　 // エラーモードを例外スローに設定 　　　　 PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION, 　　　　 // local ファイルからload可能にする 　　　　 PDO::MYSQL_ATTR_LOCAL_INFILE => true , ); $pdo = new PDO($dsn, $user, $password, $option); ?> それから、$pdo->query($sql) に入れてる、$sql文を先に表示してみて、間違いがないか見ることと、query()メソッド はprepared ではないので、executeは不要。 細かいことをいうと、mysql本体は、load文にプレースホルダーが使えないのですが(mysqliでの接続も同様)、 pdo_mysqlでは、通常設定時、エミュレーションモードといって、php側で先に置き換えてしまうので、load文でもプレースホルダーが有効になります。To_aru_Userさんのはプレースホルダー使用例。 オプションでPDO::MYSQL_ATTR_DIRECT_QUERY をtrueにすると、mysql本体と同じ動作になります。 最後にエラーチェック、例外モードにしていないときは、query発行後に var_dump( $pdo->errorInfo() ); してみる。 または、PDO::ATTR_ERRMODEを例外モードにしていれば、query 発行部分を try{}catch(){} でくるんで、sql発行時のエラーチェックをしてください。 <?php try{ /* ここに query 発行部分 */ }catch(Exception $e) { echo 'エラー：', $e->getMessage(); }
パーフェクトPHP http://www.amazon.co.jp/dp/4774144371 個人的におすすめしたいのは「パーフェクトPHP」ですが、入門レベルじゃなくて脱入門～中級レベルぐらいが対象かもしれません。また、少し内容が古く、現在では非推奨のmysql関数を扱っている項があるので、そこは後の項で解説されているPDOクラスに置き換える等の工夫が必要です。超入門レベルの本で「良書」といえる本は未だに見たことがありません。そのレベルだと作者が書くコードの品質も悪いものばかりです。 【PDO関連リンク】 PHP Manual - PDO http://php.net/manual/ja/book.pdo.php PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 【掲示板サンプル】 簡略化のためにファイル1つで作成していますが、1つでもここまでちゃんと作れます。 [MySQL版] ページング処理を採り入れた掲示板サンプル http://qiita.com/mpyw/items/4ab192e04430119d5599 [シリアル版] ページング処理を採り入れた掲示板サンプル http://qiita.com/mpyw/items/e7f3f60b687053b7832a 【脱手続き型スパゲティコード・オブジェクト指向コードデビューしたい人向け】 sns_php https://github.com/Certainist/sns_php
「a.phpにあるアクセスカウンターの数値を取得する」とはどういうことでしょう。ごく普通にb.phpでもファイルをオープンして書き込まないようにするだけでは問題があるのでしょうか？ 【a.php】 if ($fp = @fopen('counter.txt', 'r+')) { ____if (flock($fp, LOCK_EX)) { ________echo $counter = (int)stream_get_contents($fp) + 1; ________ftruncate($fp, 0); ________rewind($fp); ________fwrite($fp, $counter); ________flock($fp, LOCK_UN); ____} ____fclose($fp); } 【b.php】 if ($fp = @fopen('counter.txt', 'r')) { ____if (flock($fp, LOCK_SH)) { ________fpassthru($fp); ________flock($fp, LOCK_UN); ____} ____fclose($fp); } 備考 http://qiita.com/mpyw/items/3adcec3c66e515895b08 http://qiita.com/mpyw/items/e7f3f60b687053b7832a
すでにオワコンのネイティブなMySQL関数を使っていて、挙句にmysql_set_charsetもなければmysql_real_escape_stringも使っていないようなものを参考にしてはダメだと思う。 せっかく覚えるなら、もうちょっとマトモなものを覚えるべき。 まぁ、それ以前に > if( mysql_query($spl,$sv)){ if( mysql_query($sql,$sv)){ のtypoですよね。
PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71 ついさっきこちらにさせていただいた回答がまさにPDOのトランザクション処理を解説しているのでご覧ください。 http://okwave.jp/qa/q8333900.html
DB負荷の多いシステムかWebサーバ負荷の多いシステムか 高速化チューニングされたPHPか、 最新PHPか(DBも何か) インデックス最適化されてないDBか、 搭載メモリ量を超えるデータ取り扱いか、 いろいろな要素が絡み変わってくると思われます。 http://www.phppro.jp/qa/150 http://oshiete.goo.ne.jp/qa/2316284.html 一番の方法は質問者の環境で自分で試す事だと思われます。 私はWebサーバ側になるべく負荷は掛けたくない派なので一発DBアクセス派です。。
（全角スペースでインデントしています） 【回答1】 $rst = array(); foreach ($array as $key => $value) { 　if (preg_match('/\A(img_(?:path|caption))(\d++)\z/', $key, $m)) { 　　$rst[(int)$m[2] - 1][$m[1]] = $value; 　} } 【回答2】 foreach ($rst as $i => $attr) { 　if ($attr['img_path01'] == '' && $attr['img_caption'] == '') { 　　unset($rst[$i]); 　} } データベースのNULL値はPHPで取ってくると空文字列になるのでこうしました。 参考：PHPでデータベースに接続するときのまとめ http://qiita.com/mpyw/items/b00b72c5c95aac573b71
最初の「／／」をタブに、２番目の「／／」をbrタグ+改行にするのであれば 以下のような感じ、ただし「／／」がなく文字列の最後まできてもOKとします <?PHP $str = "とある魔術／／OP／／とある魔術II／／ED"; $pattern="/(.+?)".preg_quote("／／")."(.+?)(?:".preg_quote("／／")."|$)/"; $replacement="$1\t$2<br>\n"; $str=preg_replace($pattern,$replacement,$str); print $str; ?>
「PHP アップロードファイル文字化け」 http://wghost.org/it/2009/07/mb_convert_encoding … こちらでは「auto」で書かれていますがこれはphp.iniに依存するので使用すべきではありません。Windowsであればエンコーディングは「cp932」または「SJIS-win」と指定しますが、アップロード元がWindowsだとは限らないので $filename = mb_convert_encoding($filename, 'UTF-8', 'ASCII,JIS,UTF-8,CP51932,SJIS-win'); としてください。 参考 http://doremi.s206.xrea.com/php/tips/mbconv.html
Aサーバに以下の設定が必要です。 １．BサーバでMySQLポートを開放する。 ２．BサーバのMySQLにBサーバからのアクセスを受け付ける設定をする。 これらが済めば、BサーバのPHPでAサーバのMySQLを使う設定をして下さい。
どうぞ http://codecanyon.net/item/button-download-progr …
＞このままで、問題なく表示はできるのですが、 ＞大丈夫でしょうか？ 質問の意図がよくわからないのですが 考え方だけ・・・ まずもともとの質問、データを登録するときの問題は、どう保存してもよい という回答でご理解いただいたでしょうか？ むしろそれを考慮してのプリペアード処理なのだと推測して回答したつもりです。 また今回の質問が信頼できないユーザーの投稿や、他人の書いた文書を取り込んで そのまま表示させたときに問題があるか？という命題であれば、 閲覧者が意図していないページへ誘導されたりいろいろ問題です 仮に自分が書いたものもしくは自分の属するグループが書いたものであれば セキュリティ面ではある程度リスクは低くなりますが、「強調したテキストや下線」 など意図したとおり見せることは少し難しいです 必ずしも情報提供者と同じ環境ではないユーザーが閲覧するため ご自身で下線と思って表示したつもりでも相手の環境では網掛けになっているかも しれません（もちろんそれを考慮していろいろデザインを工夫するのでしょうけど） ご自身の見られる表示に近い形で他人にみせようとするなら、画像やpdfといった 環境に依存しにく手法をとることになります。
考え方としては まずマッチするかどうかしらべる マッチするならマッチした数値と与える数値が合致するか調べる という処理をすればよいでしょう 具体的には <?PHP $pattern="/&gt;&gt;(\d+)/"; $replacement="<a href=\"bbs.php?no=$1\">$0</a>"; $mes="test&gt;&gt;123test"; $row_cnt="123"; if(preg_match($pattern,$mes,$matches) and $matches[1]===$row_cnt){ $mes=preg_replace($pattern,$replacement,$mes); } print $mes."<br>"; ?>
オブジェクトのままセッションに格納することも出来ますよ。 その場合は自動的に文字列に変換/文字列から復元されます。 注意点 (1) PHPで一般的に用いられる「serialize」「unserialize」関数 セッションの管理に使われる「session_encode」「session_decode」関数 これらは全くの別物です。 (2) オブジェクトを格納した場合、 他のファイルでsession_start関数をコールする前に 必ず「require_once」等でクラス定義の情報を読み込む必要があります。 session_startの "前に" というのがミソです。 【XXX.php】 <?php class XXX { ____ ____private $data; ____ ____public function __construct($data) { ________$this->data = $data; ____} ____ ____public function getData($data) { ________return $this->data; ____} ____ } 【a.php】 <?php require_once('XXX.php'); session_start(); $_SESSION['xxx'] = new XXX('test'); /* $instance = new XXX('test'); $_SESSION['xxx'] = $instance; としても全く同じ意味 (オブジェクトの代入は自動的に参照になるため) */ 【b.php】 <?php require_once('XXX.php'); session_start(); if (!isset($_SESSION['xxx'])) { ____echo 'No Object'; } else { ____echo $_SESSION['xxx']->getData(); }
BOM付きUTF-8で書かれてるとか？ そうであれば全部の場合で失敗すると推測されるから違うか・・・
情報テーブル 情報id(PRIMARY)　内容 ---------------------- 1　　　　　　　　　　　あいあい 2　　　　　　　　　　　うううう タグテーブル タグid(PRIMARY)　[情報id　タグ](UNIQUE) ----------------------------------- 1　　　　　　　　　　　1　　　　あ 2　　　　　　　　　　　1　　　　い 3　　　　　　　　　　　2　　　　う みたいな感じで格納して、JOINとWHEREを活用して取り出してみてはどうでしょうか。 http://www.pursue.ne.jp/jouhousyo/SQLDoc/select2 …
複数の画面に分けるなら PHP の範疇ですが、一つの画面だけで入力させるなら必然的に JavaScript だけで解決することになります。 「連動 プルダウン jQuery」で検索するといろいろ見つかりますが、そんなに難しいスクリプトでもないので、挙動などを拘りたいなら自作もありでしょう。 こんな感じで <script> function interlockOptions(clazz) { __ var context = {}; __ var listener = function(ev){ __ __ var elem = ev.target; __ __ while (elem) { __ __ __ var name = elem.getAttribute('data-gear-name'); __ __ __ if (!name) break; __ __ __ var sopt = elem.options[elem.selectedIndex]; __ __ __ var expr = sopt? sopt.getAttribute('data-gear-value'): null; __ __ __ var vals = expr? expr.split(' '): null; __ __ __ var ctrl = context[name].select; __ __ __ context[name].opts.forEach(function(o){ __ __ __ __ if (o.value == '') { o.selected = true; return } // 無選択を特別あつかい __ __ __ __ var f = !vals || vals.some(function(v){return v == o.value}); __ __ __ __ if (ctrl.contains(o)) ctrl.removeChild(o); __ __ __ __ if (f) ctrl.appendChild(o); __ __ __ }); __ __ __ elem = ctrl; __ __ } __ }; __ var sels = document.querySelectorAll('select.' + clazz); __ [].forEach.call(sels, function(element){ __ __ context[element.name] = {select:element, opts:[].slice.apply(element.options)}; __ __ element.addEventListener('change', listener, false); __ }); } addEventListener('load', function(){ __ interlockOptions('interlock') }, false) </script> <form> <dl> <dt>capital<dd> <select name=cl class=interlock data-gear-name=uv> <option value=>- <option value=a data-gear-value="ara arr ars">A <option value=b data-gear-value="bay bak bbb">B <option value=c data-gear-value="cam cut cit">C </select> <dt>university<dd> <select name=uv class=interlock data-gear-name=de> <option value=>- <option value=ara data-gear-value="lit law eco irs">あらあら大学 <option value=arr data-gear-value="lit eco">あららぎ大学 <option value=ars data-gear-value="eco sci">あらし大学 <option value=bay data-gear-value="sci eng med">ばよえん大学 <option value=bak data-gear-value="lit law eco irs sci eng med">ばかだ大学 <option value=bbb data-gear-value="eng">びびび大学 <option value=cam data-gear-value="lit eco">きゃめる大学 <option value=cut data-gear-value="irs med">きっとかっと大学 <option value=cit data-gear-value="sci eng">きてれつ大学 </select> <dt>department<dd> <select name=de class=interlock> <option value=>- <option value=lit>文学部 <option value=law>法学部 <option value=eco>経済学部 <option value=irs>国際関係学部 <option value=sci>理学部 <option value=eng>工学部 <option value=med>医学部 </select> </dl></form>
http://detail.chiebukuro.yahoo.co.jp/qa/question …
（連投失礼します） ベンチマーク取ってみました http://qiita.com/mpyw/items/1e422848030fcde0f29a …
プログラムでどうこうするのではなく、WebサーバーのMIMEタイプを設定してください。 http://technet.microsoft.com/ja-jp/library/ee309 …(v=office.12).aspx Office2007以降のファイル(.docx とかxがつくもの)の実体はzip圧縮ファイルですので、拡張子をzipにすると解凍できます。
チェックする条件が不変の場合は、表示させる入力WebページにJavaScriptでチェックプログラムを用意して、エラーメッセージや入力テキストボックスのリセットなどを行います。 チェックする条件が流動的な場合や多くのデータとの商号が必要だったりする場合には、phpプログラムで受け取ってからチェックします。そのプログラムでいきなり投稿データに追加するのではなくて、エラーがなければ投稿データ書き込みプログラムにデータを渡して書き込ませ、投稿完了の表示をするようにリダイレクトします。もし、エラーがあるときには、書き込みプログラムは呼び出さずに、エラーメッセージや再入力指示のプログラムを呼び出してリダイレクトします。 これは拙者習作のPerlのCGIプログラムですが、上に書いたような動作を実装しています。 http://homepage1.nifty.com/tetsuhito/cgi-html/pw … ネット上の応答の仕組みや必要なコマンドを勉強してスキルアップしてみましょう。
普通にこんな感じでよいのでは？ <?PHP $str="さっきの回答>>10ありがとう"; $pattern="/>>(\d+)/"; $replacement="<a href=\"bbs.php?id=$1\">&gt;&gt;$1</a>"; $str=preg_replace($pattern,$replacement,$str); print $str."<br>\n"; print htmlspecialchars($str); ?>
サンプル http://bloggdgd.blog28.fc2.com/blog-entry-289.html 先に1つ前の質問の回答からあたってみてください。
最初に言っておきますが、PHPは「プログラミング言語」です。一方HTMLは「マークアップ言語」です。PHPは習得が比較的簡単な言語ですが、HTMLと比べてどちらが難しいかと言われたら言うまでも無くPHPですよね。それぐらいは覚悟しておいてください。 【あなたの想像】 使うファイル bbs.html bbs.php 1. bbs.htmlで入力受け付け。 2. bbs.phpでbbs.htmlを書き換えるように記述。 【実際】 使うファイル bbs.php data.txt 1. bbs.phpでdata.txtから記事の情報を読み込んで、HTMLとして整形して表示。そして入力受け付け。 2. bbs.phpでもし投稿があれば、data.txtにデータを追記する。 上記の例をシンプルに実装したのが前質問の内容です。 http://oshiete.goo.ne.jp/qa/8317605.html もうちょっと実用レベルまで持ってくるとこんな感じでしょうか。 http://qiita.com/mpyw/items/e7f3f60b687053b7832a 掲示板を作るための基礎的な学習が足りていないように感じます。いきなり掲示板作成だと少しハードルが高いので、下記の問題に答えられるかどうか試してみてください。 問1-1. input.htmlのフォームから2つの整数a,bを受け取って、送信先のoutput.phpにてa+bの結果を表示せよ。この時点ではまだ「ユーザーは正しく数字を入力してくれるもの」として信用してよい。 ヒント: https://www.google.co.jp/search?q=php+%E3%83%95% … 問1-2. 間違って数字以外を入力してしまったときに、また何も入力せずに送信してしまった時に「正しく数字を入力してください」と表示できるようにせよ。 ヒント: https://www.google.co.jp/search?q=ctype_digit 問1-3. input.htmlとoutput.phpの機能をcalc.phpというファイル1つにまとめよ。 ヒント: https://www.google.co.jp/search?q=isset 問2. ユーザーから文字列の入力を受け取り、それをそのまま表示するスクリプトcomment.phpを作成せよ。但し、HTMLタグを含む文字列を受け取ったとき、開始タグ「<」と終了タグ「>」を文字参照「&lt;」「&gt;」に置換し、安全に表示できるようにせよ。 ヒント： https://www.google.co.jp/search?q=htmlspecialchars
セキュリティ上の危険はないと思いますが、普通はプリペアドステートメントを使います。 http://php.net/manual/ja/mysqli.prepare.php 【習得難易度】 [○] Mysql関数(非推奨) ＜ PDOクラス ＜ Mysqli関数 ＝ Mysqliクラス [△] 【おすすめ度】 [○] PDOクラス ＞ Mysqliクラス ＞ Mysqli関数 ＞ Mysql関数(非推奨) [△] Mysqliから入ってもいいですが、かえって足かせになるような気がしないでもないですね・・・Mysqliをわざわざ選ぶ人と言えば「チューニングに拘るベテラン」か「クラスとオブジェクトを毛嫌いする初心者」ぐらいしかいないでしょう・・・ 以下蛇足 emptyはissetの機能に加えて空文字列を弾くようにもなっていますが、空文字列だけでなく文字列「0」を弾いてしまいますので、一般的にはあまり用いられません。 http://php.net/manual/ja/types.comparisons.php 厳密に「空でない文字列」だけを許容するようにしたければ if ( ____isset($_POST['name']) && ____is_string($_POST['name']) && ____$_POST['name'] !== '' ) { .... .... } という条件になります。 http://qiita.com/mpyw/items/2f9955db1c02eeef43ea 各項目に対して毎回このように記述するのが煩わしかったり、配列をフォームから受け取る必要があって子要素までの厳密なチェックが手に負えなくなると感じる場合、こういった関数を用意しておくのも１つの手です。 http://qiita.com/mpyw/items/c39b9ee695a5c2e74627 「ここまで厳密にしなくても本番環境ではどうせdisplay_errors=Offだからいいじゃん」と言われればそれまでですが、気になるならばここまでやっておいても損はないでしょう。
提示されたソース自体、（個人的には）実用性から見れば問題ありすぎて「こんなもの使うな！」と言いたくなるぐらいですが、流れの理解をするためならシンプルで優れている面もあるので、100歩譲ってナシではないでしょう。しかし、解説も付けてくれてあるのにこれを「全てわからない」と言われたらもう救いようがないです。諦めるかお金払ってパソコンスクール通ってくださいとしか言えません。
ログイン機能とか、JavaScriptとかがあるページでスクレイピングするの難しくめんどくさいので私の場合は、IEのCOMオブジェクトを使ってやっています。Windowsでしか動かないのですが、それでもよろしければ使ってみるといいと思います。 この方法は、IEをプログラムから操作するというものです。ログインページにアクセスして、ログインボタン押して、次にこのページに移動して、ここから情報を取得みたいなことが直感的にできて簡単です。 「InternetExplorer.Application」で検索すると出てきます。ただほとんどVBAの記事だと思います。ですが、PHPからでも同じように使えます。 new COM("InternetExplorer.Application")でIEオブジェクトを呼び出せます。
たとえばこんな感じ <?PHP $val = "キー１　キー２ キー３"; $pattern="/[　 ]+/u"; //utf8が前提 foreach(preg_split($pattern,$val) as $v){ print "「".$v."」"; } ?>
以前回答したように、処理部分と出力部分をわけることです。 だらだらと出力しながらフローが書けるのがPHPの良いところではありますが むしろそれによって煩雑なコードになりがちです 処理部分については関数化し、出力部分は変数にためたのちまとめて printするほうが見やすいコードになります たとえばselectタグを得るところはgetSelect()的な関数を作るとよいでしょう （関数名は競合を考えると命名法はもうすこし工夫が必要です） PHPの使用もだいぶ長くなってきているのでそろそろ classを利用することを考えた方がよいころだと思いますよ
参考までに：http://w3q.jp/t/3969 参考URL：http://w3q.jp/t/3969
PHPの勉強が目的なら面倒なインストール作業にてこずってると時間の無駄なので、サクっとXAMPPで全部セットで入れちゃいましょう。 XAMPP http://www.apachefriends.org/jp/xampp-windows.html 最新バージョンは「XAMPP PHP 5.5」(XAMPP Windows 1.8.3)です。
もしかして、formタグに、「enctype="multipart/form-data"」属性を入れ忘れてませんか？
>他のプログラムが隙あらば、という感じですぐに80を使ってしまって困っています。 一般的には、そうそう「ポート80が必須」なプログラムはないハズです（少なくともOS標準の状態ではあり得ません）。自分がインストールしたプログラムでしょうから、自分で管理してください。 そのプログラム特定出来ているなら（特定出来ているんですよね？）、自動起動しないように設定するとかサービスを切るとかしかありません。
<ul></ul>の間にインクルードしたいならばこんな感じでどうでしょうか。 http://pastebin.com/2RJjcPV4 SSIって最近使われているんですかね・・・？ 恥ずかしながらSSI自体の存在を今まで知らなかったのですが、 正直わざわざこれを今採用するメリットは皆無に思えます。 http://detail.chiebukuro.yahoo.co.jp/qa/question … 素直に読み込み元のファイルについて 「*.shtml」 ↓ 「*.php」 「<!--#include virtual="上記phpファイルのアドレス" -->」 ↓ 「<?php require('上記phpファイルへの相対パス'); ?>」 でいいんじゃないですかね。 読み込みもとのファイルはShift_JISで書かれていると思いますが、 この際全部UTF-8に変えちゃいましょう。 Shift_JISなんて今の時代デメリットばかりでメリット皆無です。 Windowsの「メモ帳」を使っているならば支障がありますが、 メモ帳を使うこと自体がナンセンスです。 世界の流れもご覧ください↓ http://news.mynavi.jp/news/2012/02/09/027/ 最初の例を含め、参考にされている情報が非常に古いようなので、 賞味期限が切れていないんか確認するようにしましょう。
よかったらどうぞ。 https://github.com/Certainist/UltimateOAuth/blob …
＞ループの中のnameを変更する どう変更したいの？
質問は問題・疑問点を簡素にピンポイントで書かれたほうが良いと思いますよ。 私の代わりに無料でソースコード作って的質問はよほどな人じゃないと回答来ないかと・・・・
XAMPPを使わない場合だと， http://windows.php.net/download/ からのダウンロードになります。 まず，PHPは上記ページの該当バージョンの，Thread Safe版をダウンロードして下さい。 # 5.5のx64はexperimentalとあるので，x86版がよいでしょう。 次に，左側の"Which version do I choose?"の"Apache"欄にある， "Please use the Apache builds provided by Apache Lounge."という文面に従い， Apache LoungeからApacheのVC9 or VC11のビルド版をダウンロードします。 PHP 5.4ならVC9版，PHP 5.5ならVC11版です。 なお，Apache Loungeの「本当の」ダウンロードリンクは，左側のメニュー ("Downloads")です。 そこら中に出てくる「Download」という画像は，Google AdSenseによる広告です。
まず1点。Shift_JISをやめてUTF-8(BOM無し推奨)にしましょう。 【UTF-8を使うメリット】 ・UTF-8には接頭符号が用いられているので、マルチバイト非対応の関数でもマルチバイト文字列をそのまま扱うことが出来ます http://www.softel.co.jp/blogs/tech/archives/525 ・preg_match関数での文字クラスに関して、UTF-8であればu修飾子を使うだけで「バイト単位」ではなく「文字単位」で扱うことが出来ます。 【1以上を表す半角数字のみかどうか判定するif文】 今回は正規表現を使うまでも無いです。 http://php.net/manual/ja/function.ctype-digit.php $str = mb_convert_kana($str, 'n', 'UTF-8'); if (!ctype_digit($str) || !$str) { echo "1以上の数字で入力してください。"; } else { echo "OK"; } なお、ctype_digit関数のシグネチャをマニュアルで見ると第1引数$textは文字列でなければならないと書かれていますが、他の一般的な関数とは異なり、例外的にctype_***関数は文字列以外（配列など）を渡したときにもエラーを一切出さずにそのままFALSEを返してくれます。
私の以前のPDOを使った回答で 　// 結果を取り出して表示しやすいようにセットしていく 　$data = array(); 　foreach ($stmt as $row) { 　　if ($row['title'] === '') { 　　　$data[$row['yyyymm']][$row['category']] = ''; 　　} elseif ($row['category'] === '') { 　　　$data[$row['yyyymm']][$row['title']] = $row['author']; 　　} else { 　　　$data[$row['yyyymm']][$row['category']][$row['title']] = $row['author']; 　　} 　} としているところがあったと思いますが、このように一度連想配列にセットすることで、親見出しが重複するものを一つにまとめることができます。mysql関数を使った場合でもやってることは同じなので参考にしてください。 （PDOが一見難しそうに見えるかもしれませんが、「クラスとオブジェクトが分からない」という思い込みから毛嫌いしているだけかもしれないので、チャレンジしてみてください。実際何も難しいことはありません。コーディング自体もPDOを使ったほうが短く書けますしラクです。） >> （質問とぜんぜん関係ないですが、冒頭のコードで、$sv_magazine = '';と初期化？させているのは理解できますが、WHILEの外側でなぜ効くのか、悩んでます(^_^;） 変数のスコープ http://php.net/manual/ja/language.variables.scop … スコープを構成する単位には「グローバル空間」「名前空間」「クラス」「メソッド」「関数」「無名関数(クロージャ)」などがあります。「if」「while」「for」「foreach」などが含まれていないことに注意してください。このあたりが他の言語と実装が大きく異なります。PHP独特です。
【訂正】 $finfo = finfo(FILEINFO_MIME_TYPE); ↓ $finfo = new finfo(FILEINFO_MIME_TYPE);
DBが更新されたかどうか　だけであれば DN更新時に目印の空ファイルでも作ってそれを目印に　 キャッシュの再作成をすればいいかなぁ　と思いましたが、 個別のデータを精査しなければならなければ判別つかないなら 実際にDB叩かないとイケないのでこの方法は使えないですね。
うーん XAMPPローカル環境で、Chrome/FireFoxですがやっぱ想定通りうごくスねぇ・・・。 ブラウザの問題かもしれんですね。
>mysqlで1つのアイテム（カラム）に+1するにはどうすればいいでしょうか？ ＃SQL文の話ですよね（汗 テーブルに、item（加算したい値）, itemudate（加算した日付）を持っていれば update テーブル名 set item = item+1, itemudate = curdate() where itemudate < curdate();
print "$key\n"; ↓ print urldecode("$key\n");
【回答1】 [Cookie] ホストに保存されているデータから受け取る。 データ形式は文字列か、それを含む配列にしかなり得ない。 $_GETや$_POSTと同じ。 ホストが勝手に編集することももちろん可能。 [セッション] Cookieで「セッションID」というデータだけをホスト側に渡し、 実際の$_SESSIONのデータはシリアル化されてサーバー側に保存される。 復元時はCookieで送られてきたセッションIDを照合し、 それに対応する有効期限内のシリアルが見つかれば デシリアライズされて$_SESSIONに復元される。 [安全性] 攻撃者に「セッションID」を知られることが無ければ安全。 XSS脆弱性があると http://bakera.jp/glossary/%E3%82%AF%E3%83%AD%E3% … のようなJavaScriptコードを埋め込まれ、 他人のセッションIDが攻撃者に抜かれてしまうので注意。 また、セッションIDをログイン後にsession_regenerate_id関数で 変更していない場合、セッション固定攻撃の餌食になる。 http://bakera.jp/glossary/%E3%82%BB%E3%83%83%E3% … 【回答2】 http://pentan.info/php/session_gc.html
ダッシュボードに　「投稿」　やら　「固定ページ」　やら　「メディア」　というメニューはありませんか？ そこから記事投稿をします。 ファイルのコピー・FTPなどのスキルが必要な作業は必要ありません。 もし、上記メニュー項目が無いのであれば（例えば「プロフィール」のみになっている） そのログインしているアカウントは編集する権限が無いアカウントです。 まずは、すべてを操作出来る、スーパー管理者の権限を入手しましょう。
次のページに行くリンクを解析して、リンク先を読めばよいのでは？ 次ページへのリンク自体は実装方法がサイトのポリシーによるでしょうから そのサイトに合わせたものを予測してテストして実行して検証するの繰り返しです
>>phpファイルの文字コードはUTF-8 ファイル自体以外にも内部でなんの文字コードで扱っているかの設定とかもあります。 POSTで受け取った文字コードの判別順序の設定もあります。 phpinfo(); してみて mbstring の mbstring.internal_encoding　などを確認しましょう。
いや、僕の理解が浅いだけかもしれないので、No.7はとりあえずスルーしてください。 それにしても、リバースプロキシをどういう用途で使ってるのか気になる。 プログラムの結果をキャッシュする目的ではないの?
短いコードしか書いていない場合は、グローバル変数のデメリットになかなか気づかないかもしれません。 大きな規模のアプリを作る場合はグローバル変数なんか使ってたら弊害がありすぎてコーディングに苦労すると思います。 例えば、(普通はオートロードに任せてこんなことしませんが) require_once('A.php'); require_once('B.php'); require_once('C.php'); として呼んでいるとして、A,B,Cともそれぞれ中でグローバル変数をバリバリ使っているとします。 「あれ・・・B.phpの中で$idって変数使ってたけどこれってA.phpの中にもあったっけ・・・影響ないのかな・・・」 とか思ったりしませんか？このように変数名が競合したりする問題を引き起こすのがグローバル変数です。PHP5.3から利用可能な「名前空間」を使えばこの問題は解消することが出来ますが、名前空間に甘んじてグローバル変数を多用するならば本末転倒です。
http://detail.chiebukuro.yahoo.co.jp/qa/question … こちらもあわせてどうぞ
回答ではなく申し訳ないですが、 http://domain.jp/ こちらは質問者さんのサイト？会社？ 例示ドメイン　には example.com ecample.jp などが準備されてます。
>> requireを使うとrequire_onceより転送量が増えるのでしょうか？ そんなことはありませんし、転送量の問題ではないです。 ループ中でソースコードを2回以上読み込む必要が出てきたとき、例えば for ($i = 0; $i < 10; $i++) { 　echo '<li>'; 　require_once('list_item.php'); 　echo '</li>'; } のようなケース。 このとき1回目の読み込みしか実行されません。 2回読み込むとマズいもの → require_once そうでないもの → require という使い分けでいいんじゃないでしょうか？ そもそもrequire_onceの「同じものを読み込もうとしても2回目以降はキャンセルする」機能に依存するコーディング自体よろしくないとは思いますが。
こんばんは。 配列　count ($row)　の 値と、実際の行数を比較してみれば判る。ごみが残ってない？！
オブジェクト内のメソッドを動的に指定するcallableは array($this, 'sanitize') です。 また、クラス内のメソッドを静的に指定するcallableは array(__CLASS__, 'sanitize') です。PHP5.3以降では 'Valid::sanitize' のように書くことも出来ます。 なお、配列再帰処理でしたらarray_walk_recursiveを使うのが一番速いですよ。 http://php.net/manual/ja/function.array-walk-rec … (5.3以降のみのクロージャを使用しています) class Valid { ____ ____public static function sanitize($input) { ________if (is_array($input)) { ____________array_walk_recursive($input, function(&$v) { ________________$v = str_replace("\0", '', $v); ____________}); ________} else { ____________$input = str_replace("\0", '', $input); ________} ________return $input; ____} ____ } （この指摘をすると質問の前提条件自体が崩れると思いますが） そもそもNULLバイトを削除したところで安全対策になるかどうかというと疑問です。 現在のPHPの多くの関数はバイナリセーフなのでNULLバイトを含んでいても正しく処理できます。 それよりもUTF-8エンコーディングバリデーションの方が必要な気がします。 私はこんな感じで、リクエストを処理する部分にエンコーディングバリデーションも組み込んでいますね。 http://qiita.com/mpyw/items/c39b9ee695a5c2e74627 【preg_match関数でパターンにu修飾子をつけたとき】 不正エンコーディングが見つかった際、返り値は必ずFALSEになります 【preg_replace関数でパターンにu修飾子をつけたとき】 不正エンコーディングが見つかった際、返り値は必ずNULLになります
比較的難しくない要件だよね。 フロントエンド側のデータはキャッシュしてファイルなりに置いておく。 (バックエンド側のDBには最終更新時間のカラムを用意する。そのカラムを見てキャッシュを破棄して 最新のデータを取得するかを処理する。) 表示部に関してもブラウザの負荷にならないように何回かに分けてajaxで取得。 それによって最近よくあるスクロールしながら順次データを表示していく方式を利用。 >ハードウェアの性能等なんでも結構です。） 最大時のページビューからサーバ数など計算して算出。 ロードバランサーとその必要なサーバ数を用意する。 別にそれほど難しい事ではない。 こんな案件で金をもらえるなら儲け物でしょ。
>私はその掲示板と同じタイプの物を作りたいです。） 作れば良いでしょ。 その模倣したい物がどこの物かなんて関係ないでしょ。 自分でその機能を使って模倣すれば良いだけですから。
ちなみに ・連想配列である ・キーと値のペアで考える という前提のもとに ・同等の配列かどうか調べたい（ペアの順番は異なってもいい） この場合はソートも何もせずに $a == $b で調べられます。「===」ではなく「==」です。 http://php.net/manual/ja/language.operators.arra … パフォーマンスは先ほど調べてみましたが、これもスカラー値比較と同じように「==」よりは「===」の方が速いみたいです。
なんのためにどうやって運用するのか不明ですので、なんとも言えませんが、 ご記入いただいた仕様だと非常に運用しにくい気がします・・・・ >>keyword:に一度入ったコードを検索して表示内容を確認するまでは次のコードの読み込みは待機させたいです 10件新規のエラーが発生してて、1件表示して閉じたら次、閉じたら次　と表示！？ -------------------------------------------------- 僕なら・・・ エラーをリスト化して表示するリストページを作ります。 項目は ・発生日 ・エラーNO ・エラー簡易詳細 ・既読かどうか ・詳細へのリンクまたはボタン このページをjavascriptもしくはメタタグを使ってリロードさせます。 ＜META HTTP-EQUIV="Refresh" CONTENT="t; URL=url"＞ これでだいたいの最新状態でブラウザ画面表示されます。
私はなんとなく「文字列リテラルだけのときはシングル。変数展開するときはダブル」というように使い分けていますが、確かにこれは意見が分かれるところではあると思います。ダブルクオート中であればエスケープシーケンスが増えることも加味しなくてはならないので、どちらにもメリット・デメリットはあります。結局のところ、一人我流で日曜大工プログラミングをする場合はその人のサジ加減に依存しますが、フレームワーク等で定められている場合はコーディング規約に従い、特にない場合も開発チームで統一したほうがいいかもしれませんね。
もうひとつ。 $pdf->Output(); の前に $g = mb_convert_encoding($d, 'unicode', 'utf-8'); $pdf->Write(8,$g); $pdf->Ln(); と、これも OK だったので、replace するだけで良いようです。 replace する場合は html_entity_decode は不要でした。 試しているファイルのエンコーディングは UTF-8 なので、 $a も UTF-8 です。
前の回答で述べたとおり、「static」をつけるかどうかでどちらを使うべきか分かれます。 というかどちらかしか使えません。 静的に使うならば class Message { 　public static $number = 1; 　public static function hello() { 　　return "こんにちは"; 　} } $number = Message::$number; $message1 = Message::hello(); のように書かなくてはいけません。 誤った使い方 http://codepad.org/3OXZnCXS (こちらはFatalErrorが発生してスクリプトが停止) http://codepad.org/bQIHWH6O (こちらは動作はするが望ましくないというメッセージが発せられる) 負荷についてですが、静的コールのほうが動的コールよりも軽いです。 オブジェクト指向初心者のうちは全て動的に扱うようにし、 「このメソッド静的にしても問題ないんじゃ」と気づけばそのように変更すればいいと思います。 ちなみに静的メソッド内から他の静的メソッド・プロパティにアクセスしたい場合、 自分自身のクラス名(ここではMessage)の代わりに「self」を使うことが出来ます。 class Message { 　public static $number = 1; 　public static function echoNumber() { 　　echo self::$number; 　} } Message::echoNumber(); 遅延静的束縛を利用するならば「static」というまた別の意味のstaticが現れますが、こちらはまだ知らなくてもいいでしょう。 http://php.net/manual/ja/language.oop5.late-stat …
回答1 クラスのプロパティ・メソッドへの静的アクセス 「::」 HogeClass::$hoge; HogeClass::hoge(); オブジェクト(クラスのインスタンス)のプロパティ・メソッドへの動的アクセス 「->」 $obj = new HogeClass; $obj->hoge; $obj->hoge(); 回答2 他のファイルにクラスが定義されている場合はrequire_onceでの呼び出しが必要です。 オートローディングという手法もあります。 http://php.net/manual/ja/language.oop5.autoload. … 回答3 PDOクラスはC言語レベルでコーディングされたエクステンションです。 コードが読み込まれる前にすでに使える状態となっています。 回答4・回答6 ifブロックの中で定義されている場合を除き、後ろに定義を書いていても前で使うことが出来ます。 ただし分かりにくくなるのでお勧めはしません。 回答5 >> 変数や関数 「プロパティやメソッド」が正しい呼び名です。 >> $hoge変数にclass numberdayoの処理が詰まっているってことでしょうか？ 「static」とついているもの以外の内容が詰まっています。 それらには「->」でアクセスできます。 「static」なものに関しては回答1で述べたようにクラス名に対して直接「::」でアクセスします。 なお >> function numberdayo() { >> 　print($this->number); >> } よりも public function numberdayo() { 　print($this->number); } とちゃんと「public」を頭につけたほうが望ましいでしょう。 省略はもちろん「public」を意味するんですが。 またクラス構成として、インスタンスを作った後に$numberを外部から変更されたくなければ class numberdayo { 　private $number; 　public function __construct($number) { 　　$this->number = $number; 　} 　public function numberdayo() { 　　print($this->number); 　} } $hoge = new numberdayo(2); $hoge->numberdayo(); として「コンストラクタ」で代入を行い、プロパティ自体は「private」にして外部からのアクセスを遮断するのがポイントになります。
>> throw new Exceptionが出現したら、catchまでの処理をしないでとばすとゆうことですか？ はい。 代入において右オペランドで例外が発生した場合、その代入文は無効になります。 代入せずに直接echoしようとした場合も同様に、そのecho文は無効になります。 例 function hoge() { 　throw new Exception('エラーが発生しました'); 　return 'hoge'; } try { 　throw new Exception('エラーが発生しました'); 　echo hoge(); // hoge() は実行されるがecho文は実行されない } catch (Exception $e) { 　echo '例外発生', $e->getMessage(), "\n"; } >> try～catchを抜けたら、他の処理は普通に実行されるのでしょうか？ はい。 >> try～catchのカッコ｛で囲む範囲は大きくしたほうがいいでしょうか？（大きく囲むと処理スピードおそくなりますか？） 処理速度云々ではなく、 "意味" で囲う範囲を定めてください。 例 /* 初期化処理 */ $a = ...; $b = ...; /* ユーザーからの入力を受け取る */ try { 　 　if (!isset($_POST['input']) || !is_string($_POST['input'])) { 　　throw new RuntimeException('パラメータが不正です'); 　} 　if (preg_match('//u', $_POST['input']) === false) { 　　throw new RuntimeException('不正なエンコーディングです'); 　} 　if ($_POST['input'] === '') { 　　throw new RuntimeException('1文字以上入力してください'); 　} 　 　echo htmlspecialchars($_POST['input'], ENT_QUOTES, 'UTF-8'); 　 } catch (RuntimeException $e) { 　 　printf("例外発生: %s\n", $e->getMessage()); 　 } 上記の例でも使用していますが、可能な限りExceptionクラスの代わりにその継承クラスである「RuntimeException」や「LogicException」を使ったほうがいいと思います。前者は実行時に発生するかもしれない例外、後者は発生してはいけない例外(コーディングミスなど)です。それらにもさらに継承クラスがあるのでそれを用いるとさらに例外が細分化できていいと思います。 http://qiita.com/mikakane/items/dafd3d28c27311e5 …
仰るようにJavaScriptやhtaccessでも設定は出来ると思いますが、 以前クライアントからPCでアクセスした場合と、スマホでアクセスした場合に それぞれ反映される内容（HTMLやCSS等）を変えて欲しいという 要望がありましたので、PHPでユーザエージェントを取得して、正規表現で 条件分岐を行って振り分けていました。 今回のケースだと『 http://×××.com/ka/ 』にアクセスした場合に、 ユーザエージェントを取得して、正規表現を使用する場合に(Android（SO-04E）)の 処理をし忘れたか、構築途中ということも考えられませんか？ 参考URLのユーザエージェント一覧表に記載されているように、 これらのユーザエージェント全てを条件分岐するとなると、非常に時間や 労力がかかってしまいますし、新機種が発売されると新機種のユーザエージェントを 追加処理しなければいけないという厄介な作業が増えます。 そのため、例えばユーザエージェントを取得したら、【 Android 】という 文字列が含まれている場合は、スマホ用のページに飛ばすという処理を行えば 良いかと思います。【 iPhone 】も同様に。 PHPやJavaScriptやhtaccess・・・どの様な言語やファイルを使用するにしても 恐らく考え方は一緒だと思います。 参考URL：http://www.openspc2.org/userAgent/
ブラウザからローカル環境の参照はできないようになっています ブラウザごとに前回使用したディレクトリを覚えていたりする仕様があるので ブラウザ依存だと考えた方がいいでしょう。 それがいやならブラウザからのアップロードはあきらめ 別のツールを利用することを検討してください
ながいのでざーーーっと読みました。 ■ドメインの例を出すときは 　example.jp example.com などを使いましょう。 　http://www.atmarkit.co.jp/fwin2k/win2ktips/801ex … ■推測ですが、回答 　ワードプレスの事はよく知りませんが、リンクが自動生成されるのであれば 　おそらく仮ドメインで管理画面を表示し作成しているため、リンクが作成時の仮ドメインになってるのでは？ 　具体的にリンク先がそのような不明なリンク先になっているかHTMLソースを見て確認してください。 　もし、そうであればコンテンツ作成時からすべてhostsファイルをいじって本番時のドメインで 　作成すべきでしょう。 　もし、リンク先が相対リンク等でありあってるのであれば・・・ 　わかりません。
こんなんじゃない？ <?PHP $pattern="/^[A-Z0-9]([A-Z0-9]|-(?!-))*$/"; $array=array("aBC","","A","ABC","-ABC","A-BC","A-B-C","A--BC"); foreach($array as $val){ print $val.":"; print preg_match($pattern,$val)?"ok":"ng"; print "<br>\n"; } ?> A-Zもしくは0-9ではじまり、0回以上のA-Z0-9か後ろにハイフンのないハイフンで できた文字列
10日も前の質問に今更回答するのも、どうかと思いましたが、 目標なんかよりかは、目的を持ったほうが良いのではないでしょうか。 何か作りたいものとかはないですか？ Webを徘徊していると、 ・少し便利なフリーソフトウェアを公開している人が居ます ・オープンソースプロジェクトでライブラリやフレームワーク、CMSを公開している人が居ます ・ブログに仕事で使ったプログラミングのノウハウを公開している人が居ます ・暖めていたアイデアで新しいサービスを公開している人が居ます ・ExcelのVBAで事務作業を自動化して仕事を楽にしようとしている人が居ます ・iPhoneやAndoroidでアプリケーションを公開してアフィリエイトで稼ごうと頑張っている人が居ます ・クッキーをクリックするだけのコンテンツを作成してなんでだか大ヒットしている人が居ます ・OKWaveで夜中によくわからない回答している30代のおっさんが居ます ちょっと考えただけでもこれだけプログラミングをした後のアウトプットの方法があるわけで。 せっかくなんで、既に作成している掲示板以外にも何かアプローチを考えてみてはいかがですか？
>ならそもそもrequire_once使わずにspl_autoload_registerでオートロード関数を登録して spl_autoload_registerはあくまで __autoload()の代わりとして使う関数を登録するだけの物。 でその実装の関数の中でrequire_once()は呼ぶ。 君の書き方だとrequire_once()はまったく必要がないように見える。 リンクをはるべきは http://php.net/manual/ja/language.oop5.autoload. … http://php.net/manual/ja/language.oop5.autoload. … こっち。
http://paranoid360.blogspot.jp/2011/04/imagemagi … とりあえずflattenは使わない方が良いよ。 flattenを抜きにしてレイヤー単位で出力させて それをまた重ね合わせたらどう? (どこのレイヤーまで処理が行っているかわかると思うけど) >teratermでコマンドを実行して変換までいかず、teratermのカーソルが点滅してるだけで・・・ >30分ぐらいまでは実行してみたんですが、途中でCtrl + Cで止めてしまいわかりません。 >参考にならなくてすみません。 PSDって拡張子は変わってないけどフォトショップのバージョン毎に微妙に中身が変わっている。 (aiと違って保存するバージョンが選択はできないけど) それで変で問題が発生する可能性ってあるのかな? topコマンドでCPUやメモリの動きを監視してImageMagickが動いているか見てみた方がいいかも >本題に戻りますが、参考になりそうな質問と回答をStackoverflowで見つけましたので掲載させていただきます。 （「ImageMagick MemoryLeak」で検索したらすぐ見つかったから理不尽な難癖つけられる前にもっと早くやっていればよかったなぁ・・・） >PHPレベルでのメモリリークならFatalErrorで知ることが出来るのにちょっぴり不便ですね・・・ あのさぁコンソールでImageMagickをやっても問題が起きているって質問者書いているのが見えない人?
"パズル＆ドラゴンズ " (末尾に空白がある) と "パズル＆ドラゴンズ" (末尾に空白がない) は異なります。 このため， ・XPath:/feed/entry/title/text()の，-の前の空白も削除して配列にする ・空白を入れて探す のどちらかをすればよいと思います。 ちなみに，PHPで利用しているエンコーディングがUTF-8の場合， ・ひらがな ・カタカナ ・漢字の一部 (JIS X 0208/0212, Windows-31jの全ての漢字含む) ・全角・半角形領域 の各文字は，1文字を3バイトで表します。 なので，"パズル＆ドラゴンズ"であれば9 * 3 = 27で，string(27)となっているはずです。 ところが，実際には空白文字1バイトが後ろに付いているため，var_dumpした結果はstring(28)になっています。
エクスプレスチェックアウト は複雑で、恐らくPayPalカスタマーサポートに問い合わせしても即答してこないとは思いますが、、 経験上、PayPalまで問い合わせすることで、問い合わせ窓口を教えてくれますので 一度お問い合わせされてはいかがでしょうか。 私が以前携わったときには、英語での質問だったと思いますが、今は日本語でできるかもしれません。
＞　はじめサイト上の座標を指定して描画するようなものを想像していたのですが、 ＞　いったん画像ファイルにしてそれを表示するって感じなんですかね？ HTML5 にはCANVASという図形を描画する機能が有りますのでこちらを使う方法も有りますが、行う作業は画像ファイルを生成するのと同じです。（JavaScriptを使ってブラウザ上で画像ファイルを生成します） 古いブラウザへの対応や、ブラウザ間の動作の違い等へ対応する事を考えればサーバ側で画像ファイルを生成する方が簡単で、美しいグラフが描画できます。 棒グラフであればCSSを駆使して描画する事も可能ですが、印刷を考慮するとなると細かな調整が必要になります。
PDOを使ったサンプル http://codepad.org/HeIMjkbl
phpmyadminでインポートするのはダメなのか? load data local infileで直接インポートするのはダメなのか?
この投稿には https://www.google.co.jp/search?hl=ja&q=%E5%9B%B … なんて問題がかくれている。そう、ひっかけのような質問ですね。この手のひっかけの問題おおいんですよね。私はよくひっかかります。それを、ひっかけて別サイトで投稿するという、悪徳デジタルマスターがいる。このサイトの社員だけど
>素直にPDO使ってオブジェクト指向で書いた方がいいと思うのですが・・・ 質問者が使おうとしているmysqliでもオブジェクト指向で書けます。 mysqliは手続き型とオブジェクト指向型の両方で書けるようになっているだけです。 別にMySQLだけを使うつもりでいるならわざわざPDOで書く必要もありません。 mysqliのオブジェクト指向で書けば良いだけの話。
>テンプレートエンジンを使って2ファイルに分割する場合でも、テンプレートエンジンを使うだけの工夫だと先ほど述べた「手抜き」に変わりありません。「テンプレートエンジン + フレームワーク」が不可欠でしょう。 フレームワークを使うか使わないかは用件によって変わってくる。 CとMは比較的自分でも意識して書けばなんとかなる。 ただしVにあたるテンプレートエンジンはなかなか作るのがしんどい。
まず、Windowsの「メモ帳」を使われている場合は使用をやめましょう。欠陥品です。 気軽に導入できるエディタとしてはNotepad++が一番おすすめです。 http://notepad-plus-plus.org/ こちらの回答を参考にしてください。 http://okwave.jp/qa/q8264830.html これを導入して全HTML・PHPファイルの改行フォーマットを「UNIX」(LF)、文字コードを「UTF-8N」(UTF-8BOM無し)に変換した上で、 【HTMLファイル】 <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 【PHPファイル】 PHPで出力を開始する前に header('Content-Type: text/html; charset=utf-8'); を実行する (HTMLファイルの方法でも出来るがこちらの方が望ましい) のように書くようにしてください。 >> また、if分の条件式にはHTMLの特殊記号は使えないのでしょうか？ そんなことはあり得ません。 むしろPHPはどんな「バイト列」でも扱えます。 画像ファイルなどのバイナリデータもいけちゃいます。 【備考】 デバッグ時はphp.iniの設定で error_reporting = E_ALL | E_STRICT display_errors = On でやりましょう。全てのエラーを出しながらデバッグするのは常識です。 そうすると気づくと思いますが、 if ($_POST["kigou"] == "×" ) { } だとE_NOTICEが発生する場合があるので、やめましょう。 http://qiita.com/mpyw/items/2f9955db1c02eeef43ea http://qiita.com/mpyw/items/c39b9ee695a5c2e74627 入力値のバリデーションも実装すべきです。 http://php.net/manual/ja/function.ctype-digit.php http://php.net/manual/ja/function.is-numeric.php
まさにその記事を書いてました http://qiita.com/mpyw/items/f24d3764fe3eedf132ff
PHPはオープンソースで作られているスクリプト言語で、あらゆる環境で動作します。 http://www.php.gr.jp/ ASPとだけの表現だと２種類あるのですが、言語？として言えば、MicrosoftのWebサーバー(IIS)上で動作するスクリプト言語です。 http://www.microsoft.com/ja-jp/server-cloud/wind … 別の意味では、SaaSの一歩手前みたいな感じでしょうかね。 http://e-words.jp/w/ASP-2.html http://www.itmedia.co.jp/enterprise/articles/080 … ---- どちらが良いか、というのは今後の事を考えると非常に微妙です。 前者はサーバーを除いてすべてオープンソースで利用できますが、セキュリティ対策やバージョンアップ等に手間取るかもしれません。 後者はサーバー、OSを準備すれば、メンテナンスなどはデスクトップPCの延長でもありますが、思った以上に面倒です。 今後のメンテナンスについての方針や金額を確認されてから契約してください。 また、汎用パッケージソフトで代用できるなら、そちらの方が良いかもしれません。(柔軟性は欠けますが)
Notepad++がかなり優秀ですね。 http://notepad-plus-plus.org/
Cake歴は４～５年です。最近Laravelにもちょっと興味があります。 今売れてる本で言えば「CakePHP2実践入門」ですね。僕も持ってます。 FW初心者の観点から見るとちょっと難しいかもしれませんが。 > 実践的な技術が習得できる学習法、もしくは参考書を知りたいです。 実践に勝る学習法はありません。 １さんも書いてますが小さい案件やチュートリアルをこなして慣れるしか無いでしょう。 なお、FW初学者としてCakeを選択するのは非常に良いと思います。 現在、日本語でググれる情報は他のPHP系FWと比較にならないほど多いです。 ユーザーが多いので各地で勉強会も活発に行われてます。そういうコミュニティに参加するのも上達の１歩かと。
楽天APIのマニュアル読んでも、特に指定する方法はなさそうですね。 受け取ってから自前で並べ替えるしかないのではないでしょうか。 <?php $data; //$dataを楽天から受け取ったジャンルの一覧として、 $sort_master = array('101354', '505034', '101311', '112493'　・・・・); //並び替え用マスタ $sort_end = '112960'; //その他が必ず一番最後にくるようにするとして。 $sorted = array(); //並び替え後のデータを格納 $end = array(); //その他格納用 $cnt = count($sort_master); //indexを保持したいので、配列数を取得しておく foreach($data['children'] as $child){ if(in_array($child['child']['genreId'], $sort_master)){ //並べ替えマスタに存在するジャンルIDだったら $pos = array_search($child['child']['genreId'], $sort_master); //マスタの配列キーを取得して $sorted[$pos] = $child; //そのキーに格納 }elseif($child['child']['genreId'] == $sort_end){ $sort_end = $child; //その他はその他用の変数にいれておく }else{ $sorted[$cnt++] = $child; //マスタに存在しない奴らは並び順を添字を並び替えマスタの最大値より大きい値で保存 } } //最後にその他を$sortedに追加 $sorted[] = $sort_end; ?> とか、ぱっと思いついた感じで書いてみました。 コレを全ジャンルにかけるのは正直微妙ではありますが、特定のジャンルのみサイトに表示されるのであれば、 そんなには問題ないのかなと思います。
ちなみにパス指定は × /img/hoge.jpg ○ ./img/hoge.jpg ○ img/hoge.jpg 1番目の例だとルートからの絶対パス指定で意味が異なります。
>>PHPのエディタが開くだけで て　それターミナルじゃないのでは？ GUIでマウス操作してるんじゃないの？
変数ではなく「定数」で管理したほうがいいような気はします。 定数であれば一度定義すれば書き変わることは二度とありません。 http://php.net/manual/ja/function.define.php 変数だとうっかり同じ名前の変数を同じスコープで使ってしまった時に上書きされてしまいますので注意が必要です。 define('URL', 'http://hoge.jp'); define('TITLE', 'タイトルの名前'); として URL, TITLE でアクセスできます。 PHP5.3以降ではdefine関数の代わりにconstキーワードが使えます。 const URL = 'http://hoge.jp'; const TITLE = 'タイトルの名前'; お好みの方でどうぞ。 ご存じだとは思いますが、他のPHPファイルを読み込むには require_once, include_once, require, include のどれかを用います。 【requireとincludeの違い】 ・require … 読み込み失敗時にFatalErrorでスクリプトが停止 ・include … 読み込み失敗時にWarningでスクリプトは続行 【once有り無しの違い】 ・有り … 同じファイルは1回しか呼ばれないように強制できるが少し負荷がかかる ・無し … 何回でも読み込んでしまうが負荷は少ない このような違いがあります。 同じファイルが2回読み込まれないようにしっかりコードの流れを追えるならば require を使うといいでしょう。 不安な場合は require_once でもいいと思います。
出来ますよ。 管理パネルでのURL変更　＋　若干のファイルのコピー、編集が必要です。 http://wpdocs.sourceforge.jp/Giving_WordPress_It … ページ中程の 【既存のサブディレクトリをルートディレクトリとして表示する場合 】　の欄をご参照下さい。
効率は悪いですが、こんな風にした方が見やすいかもしれません <?PHP $last_year=date("Y",strtotime("-1 year")); $year="2010"; for($i = 2002; $i <= $last_year; $i++){ $selected =($i == $year) ? ' selected="selected"' : ''; echo htmlspecialchars("<option value=\"{$i}\"{$selected}>{$i}</option>\n"); } ?> おそらく$yearは外部からくる文字列だと思いますので 本来であれば数値と文字列の比較を厳密にする処理を入れた方がいいのですが 今回のケースであれば「$i == $year」で問題ないでしょう （===で比較するとマッチしない）
「スクレイピング」といいます。 https://www.google.co.jp/search?q=php+%E3%82%B9% …
まず1点。何かのライブラリを利用されているならばそのドキュメントを熟読してください。 $connが何かすら書かれていないこれだけの情報で回答を強いるのはかなり酷です。 ちなみに「関数」と「メソッド」は意味が異なるので注意。この場合はメソッドが該当します。 http://deepfolte.hatenablog.com/entry/20080513/1 … 私個人としてはPDOの使用をおすすめしています。 こちらを参考にどうぞ。 http://qiita.com/mpyw/items/b00b72c5c95aac573b71
strtotime関数はY.m.d形式には対応していないようなので、自前でフォーマットを指定する必要があるみたいですね。 <?php $sample = '2013.09.15'; $timezone = new DateTimeZone('Asia/Tokyo'); $date = DateTime::createFromFormat('Y.m.d', $sample, $timezone); $now = new DateTime('now', $timezone); $imgfile = $date->diff($now)->days < 30 ? 'A.jpg' : 'B.jpg'; header('Content-Type: text/html; charset=utf-8'); ?> <!DOCTYPE html> <html> <head> <title>Sample</title> </head> <body> <p><img src="<?=$imgfile?>"></p> </body> </html>
popen関数を使う方法を試してください。 http://pentan.info/php/sample/html_mail.html
>> セッション変数でログインしているか判定している場合は、セッションidは使用しなくてもいいのでしょうか？ 「既にsession_startを実行したかどうか」を確かめるためだけに使います。 正直言って自分が書いたコードならばどこで実行したかぐらい把握しているのが普通なので、ほとんどこの関数の出番は無いでしょう。ログイン状態の有無は関係ありません。 ログイン状態の有無は if (!isset($_SESSION['logined'])) { die('ログインせずにこのページは閲覧できません'); } などとしてください。
ソース中、 --------------------------元ソースここから------------------- if ($fp){ if (strstr($fileName , "index")) $lastmod = "<changefreq>daily</changefreq>\n<priority>0.7000</priority>"; else $lastmod = "<lastmod>{$time}</lastmod>\n<priority>0.5000</priority>"; $temp = <<<EOF <url> <loc>{$domain}{$path}{$fileName}</loc> {$lastmod} </url> EOF; --------------------------元ソースここまで------------------- ↑の部分を --------------------------変更ソースここから------------------- if ($fp){ if (strstr($fileName , "index")) { $lastmod = "<changefreq>daily</changefreq>\n<priority>0.7000</priority>"; $locPath = $domain . $path; } else { $lastmod = "<lastmod>{$time}</lastmod>\n<priority>0.5000</priority>"; $locPath = $domain . $path . $fileName; } $temp = <<<EOF <url> <loc>{$locPath}</loc> {$lastmod} </url> EOF; fputs($fp , $temp); --------------------------変更ソースここまで------------------- としたらどうでしょう？ 変更点としては 質問で指摘のindexを検出している条件分に新たにlocPathという変数を定義して、indexである場合にfileNameを除外し、 実際に出力している場所で固定で記述されていた{$domain}{$path}{$fileName}を{$locPath}としました。 コピペして試してみてください。 なお、未検証です。
チーム名がA,B,C,D,...,Lだと仮定すると、 $teams = range('A', 'L'); $table = array_fill_keys($teams, array_fill_keys($teams, '-')); $sql = 'SELECT ...'; $result = mysql_query($sql, $link); while ($game = mysql_fetch_assoc($result)) { 　if ($game['homepoint'] > $game['awaypoint']) { 　　$table[$game['hometeam']][$game['awayteam']] = $game['homepoint'] . '○' . $game['awaypoint']; 　　$table[$game['awayteam']][$game['hometeam']] = $game['awaypoint'] . '●' . $game['homepoint']; 　} elseif ($game['homepoint'] < $game['awaypoint']) { 　　$table[$game['hometeam']][$game['awayteam']] = $game['homepoint'] . '●' . $game['awaypoint']; 　　$table[$game['awayteam']][$game['hometeam']] = $game['awaypoint'] . '○' . $game['homepoint']; 　} else { 　　$table[$game['hometeam']][$game['awayteam']] = $game['homepoint'] . '△' . $game['awaypoint']; 　　$table[$game['awayteam']][$game['hometeam']] = $game['awaypoint'] . '△' . $game['homepoint']; 　} } が正しいです。（全角スペースでインデントしてるので注意） チームIDを取ってくるなら $teams = range(1, 12); チーム名を取ってくるなら $teams = range('A', 'L'); としないといけないのは自明ですよね。 実際にはこんな連番じゃなくてちゃんとした名前になってると思いますが。
できるかどうかではなく、注意する点があるかどうかということですか？ Document Root内の出来事であれば、特別に問題はないと思いますよ。 ただ、使用しているサーバーのphpユーザーの種類によっては、ftpユーザーから削除・変更できなくなる可能性がありますね。
$result = array(); $first_numbers = array_flip(array_map('end', $first)); foreach ($second as $item) { 　　if (isset($first_numbers[$item[2]])) { 　　　　$result[] = $item; 　　} } http://codepad.org/PDODnMeE
ちょっと冗長になりそうですが、「前の画面に戻る」ボタンからPOSTでもGETいいのでクリックしたときに値を渡すようにして、そこから戻られる可能性のあるページ全てでそのパラメータをチェックして条件分岐させればいいと思います。 「全て」と言いましたが恐らく1ページしか無いかとは思いますが。 【確認ページ】 ...(省略)... <a href="form.php?destroy">前の画面に戻る</a> ...(省略)... 【入力ページ】 <?php session_start(); if (isset($_GET['destroy'])) { unset($_SESSION['変数名']); } ...(省略)... ?> <!DOCTYPE html> <html> ...(省略)... こちらも参考にどうぞ。 セッションを使わずにこうやって全部1ページにまとめちゃう方法もあります。 （このサンプルには入力内容を破棄する「前の画面に戻る」は未実装です） 大がかりなもので無ければ私はこっちのやり方の方が好みですね。 http://bloggdgd.blog28.fc2.com/blog-entry-287.html
コードをよく見てください。 #fgetcsv関数がfalseを返却するまで実行 while($c_data = fgetcsv($fp_c)){ //←fgetcsvの結果を$c_dataに代入 　　print "<tr>"; 　　#csvファイルの列数だけ実行 　　for($i=0;$i<count($c_data);$i++){ 　　　　print "<td>".$c_data[$i]."</td>"; 　　} 　　print "</tr>"; } print "</table>"; //←$c_dataがfalseになったのでwhileを抜けた var_dump($c_data); //$c_dataはfalseなのでfalseを表示
>>何がどうおかしいのかわからない 何もおかしくないですよ。 作った通りの動作をしております。
HTTP1.1ではLocationヘッダで相対URLを指定することは禁じられています。 HTTP1.0でも可能な限り（個人的には）絶対URLで書くべきだと思います。 なお、 'Location: http://..../login.php' は正確に入力してください。 半角ペースのあけ方がおかしかったりすると正常に遷移しない可能性があります。 PHPからMySQLに接続する際に注意すべき点をまとめているのでこちらをご覧ください。 http://qiita.com/mpyw/items/b00b72c5c95aac573b71 以下は少しagunuzさんの回答と重複しますが再確認のために。 ・$_SESSION['id'] が定義されているかどうかはisset構造でE_NOTICEを発生しないようにしてチェック。 ・セッションの乗っ取りに関して http://qiita.com/mpyw/items/8f8989f8575159ce95fc ・ログインが終わった後はパスワードを保持する必要はないです。会員IDのみで十分です。SQL文を発行する際に「WHERE id = 会員ID」のようにします。
一般的なメール配信システムにはCUE(予約のようなもの)が用いられると思います。サーバーの稼働状況を見て、正常稼働しているときに送信するような感じです。行き当たりばったりで作ったり、闇雲に質問するのではなくて、まずは専門書に目を通すことを強くお薦めします。 その上で、分からないことを質問されてはいかがでしょうか。
ブログシステムのようなものを作りたいということでしょうか。 方法としては、その1～500まであるPHPファイル（内容はテーブルタグの1つの記事、ってことですよね） とは別に、ファイルの番号に連動する形のタグを列挙したCSVファイルでも作ってみてはいかがでしょう。 ■tags.csv （番号）,（季節）,（日時）,（場所）だとして 1,春,20130909,北海道 2,夏,20130801,東京 3,冬,20121010,長野 ・・・・ みたいに。 で、絞込フォームで、該当の記事を絞り込むとして、表示は10件表示ってことなんでしょうか。 <?php $data = file('tags.csv'); //file関数で1行毎に配列にする形で開く。 $result = array(); //結果取得用の配列 foreach($data as $datum){ $datum = rtrim($datum); //改行くっついてくるので改行を削除 list($no, $season, $date, $place) = explode(',', $datum); //「,」で文字列をバラバラにしてlist内にある変数にいれる。 //POSTされた絞り込み種別によって振り分けをしながら、 //適合する記事の内容のみ$resultへ代入していく if($_POST['sh_season'] == $season){ $result[] = array($no, $season, $date, $place); } } //で最終的に、絞り込みの並べ替えを昇順/降順でどのキーでそうするのかをチェックの上、 //usort関数あたりで任意の並び順で並べ替える。 if($_POST['st_date'] == 'desc'){ //例えば何か日付を降順に、とかだったとして、 usort($result, 'date_sort'); } //並べ替えたら上から10件とか適当に表示 foreach($result as $item){ echo file_get_contents($item[0] . ".php"); //配列の先頭の番号が記事のファイル名に連動。 } //$resultの日付を降順に並べ替える関数 function date_sort($a, $b){ if($a[2] == $b[2]){ return 0; } if($a[2] > $b[2]){ return -1; } return 1; } かなりざっくり書くとこんなかんじでしょうか。 ただ、全部台無しにする話ですが、データベースを勉強されたほうが、建設的です。 データベース使えば、これらの実装がかなりスッキリ書けます。
mb_send_mail関数の頭に「@」をつけるのも一つの手ですが、更にそれより前に if (filter_var($email, FILTER_VALIDATE_EMAIL) === false) { // エラー処理 } として不正なメールアドレスを弾いておくといいかもしれません。 IPv6を直接指定するアドレスには対応していませんが、大半のアドレスはこの関数で正しくチェック出来ます。
<?php $num1 = $_SESSION['num1']; $num2 = $_SESSION['num2']; /* POSTされてくる値は全て文字列になりますし、 このゲームの場合は数字は数字であって数字でなく多分 各桁ごとに独立した記号ですよね。 PHPでは、文字列に対して、配列のようにアクセスすることができます。 例) $var = "abcd"; echo $var[2]; //「c」と表示される */ $hits = 0; for($i = 0; $i < 3; $i++){ if($num1[$i] == $num2[$i]){ $hits++; } } echo "あっていた数は{$hits}個"; ?> 全て一つづつの変数に展開するのも良いと思いますが、見づらくなる場合もあるので、配列やループ文を上手く使って回避することをオススメします。
CMSのWordPressのプラグインにいろいろとあります。 例．MTS Simple Booking C http://www.nishi2002.com/3341.html PHPは使っている様子ですから、さらにMySQLとWordPressとインストールし、プラグインを設定してみましょう。
TwitPicよりもTwitter公式にアップロードする方が簡単なのでそちらで説明させていただきます。 ライブラリは私が作ってるUltimateOAuthの例とします。 https://github.com/Certainist/UltimateOAuth $uo = new UltimateOAuth('ConsumerKey', 'ConsumerSecret', 'AccessToken'm 'AccessTokenSecret'); $uo->OAuthRequestMultipart('statuses/update_with_media', array( 'status' => '画像つきツイートテスト', '@media[]' => 'test.jpg', )); これだけです。 TwitterOAuth以外であれば各ライブラリ類似の方法が存在すると思います。
$player1num は、どのように吐き出した変数なのでしょうか。 ゲーム自体は、いわゆるヒットアンドエラーというものと思うのですが、 hitosashiさんがどのように設計されているかによるんですが、 セッション変数にある、一部の内容のみ削除されるのであれば、 $_SESSION['player1num'] = array(); と、削除したいキーのみ空にすれば良いのではないでしょうか。
ループ処理なので、チェックした結果でexitしていなければ当然次のデータを読むのですが、それを忘れていませんか？ 最初の構文では、 まず一致したデータがあるかどうか調べる ・　一致データ　→　該当データを表示して終了 ・　不一致データ　→　次のデータを読む 最後まで読んで終了していなければ（一致したデータがなければ）該当なしを表示しています。 ＃このときに、再度データを読んで不一致データの存在を確認しているのが謎です。これはまったく不要で、いきなり該当データなしを表示してかまいませんよね（一致してexitしていないんですから）。 で、2番目の構文では不一致のデータがあるかどうかを調べています ・　不一致データ　→　「該当なし」を表示して終了 ・　一致データ　→　次のデータを読む つまり1件でも不一致のデータがあったら「該当なし」になります（全データが一致データでないとダメ）。
>現在MAMP環境(PHP+Mysql)でWEBシステム開発の勉強をしています。 その勉強は意味がないからやめた方が良いよ。 >PHP 5.2 すでにサポートが終了したバージョン >mysql_connect() mysqlはすでにPHP5.5系で非推奨になって削除される予定の関数。 PDOかmysqliを利用することが推奨されている。 今後の事を考えて勉強ならすでにmysql系の関数を勉強するのは無意味。
最低限、webサーバとphpはインストールしてください。 http://www.php.net/manual/ja/install.windows.php 個別にインストールするのが面倒であれば、（ローカルテストなら）xamppでもいいと思います。 http://www.apachefriends.org/jp/xampp.html
http://ideone.com/ncP9f5 <?php 　 $test　=　array( 　　　　'test_1'　=>　array( 　　　　　　　　0　=>　'dummy1_0', 　　　　　　　　1　=>　'', 　　　　　　　　2　=>　'dummy1_2', 　　　　), 　　　　'test_3'　=>　array( 　　　　　　　　0　=>　'', 　　　　　　　　1　=>　'dummy3_1', 　　　　　　　　2　=>　'', 　　　　), 　　　　'test_2'　=>　array( 　　　　　　　　0　=>　'dummy2_0', 　　　　　　　　1　=>　'', 　　　　　　　　2　=>　'dummy2_2', 　　　　), 　　　　'test_4'　=>　array( 　　　　　　　　0　=>　'', 　　　　　　　　1　=>　'dummy4_1', 　　　　　　　　2　=>　'', 　　　　), ); 　 $max　=　0; $result　=　array(); array_walk_recursive($test,　function　($v)　use　(&$max)　{ 　　　　if　(preg_match('/\A[^\d]++(\d++)_\d++\z/',　$v,　$matches))　{ 　　　　　　　　$max　=　max((int)$matches[1],　$max); 　　　　} }); if　($max　>　0)　{ 　　　　array_walk_recursive($test,　function　($v)　use　(&$result,　&$max)　{ 　　　　　　　　if　(preg_match('/\A[^\d]++(\d++)_(\d++)\z/',　$v,　$matches))　{ 　　　　　　　　　　　　$title　=　'result_'　.　($matches[2]　+　1); 　　　　　　　　　　　　if　(!isset($result[$title]))　{ 　　　　　　　　　　　　　　　　$result[$title]　=　array_fill(0,　$max,　''); 　　　　　　　　　　　　} 　　　　　　　　　　　　$result[$title][$matches[1]　-　1]　=　$v; 　　　　　　　　} 　　　　}); } uksort($result,　'strnatcmp'); print_r($result);
users/showを使えば可能です。 https://dev.twitter.com/docs/api/1.1/get/users/s … HybridAuthのdocumentを読む限り， $twitter->api()->get('users/show.json?user_id=12345') のようにアクセスできそうです。 http://hybridauth.sourceforge.net/userguide/Acce …
ご質問斜め読みしかしてませんが。。 session_cache_limiter("public"); が犯人では？ テンプレートと同時にPHPを入れ替えないと反映されないとか聞いたことないっす。 多分　ブラウザが以前のキャッシュ使ってるだけだと思うっす。
>>ログインしていないとログイン画面にリダイレクトされる API使ったプログラムの作り方次第でしょうけど、ログイン等関係ないと思います。 以前、PHPにてAPI使って連動させて、 １，facebookユーザーがAPI使った私のプログラムに投稿内容をPOST この時点でプログラム連動許可をユーザーにいただく。 ２，投稿内容、投稿者のfacebook ID等をDB保存 ３，管理者が内容をチェックして２で登録された文章を２の人のタイムラインにPOST なるものを作りました。 ３の時点では管理者はFacebooKにログインしていません。 上記のようなことできますので、API使っての投稿等々の時にログインは関係ありません。 APIとして連動できているのであれば、ユーザーが許可した権限内であなたのプログラムはログイン関係なく、 なんでも出来るはずです。
WordPressの設定内容や記事内容はMySQLに保管されます。 それに対し、テーマやアップロード画像などは、直接サーバーのディレクトリに保存されます。 これが前提です。 同じサーバーで同じMySQL(DB)を共有するのであれば、基本的にはファイルのコピペだけ(パーミッションの設定が多少あるけど)でできます。DBの共有ということは、テスト環境でのテスト投稿も本番環境に同時に反映されるということです。 本番環境とテスト環境を完全に分離することもできます。早い話、改めてテスト環境にWPをインストールすればいいのですから。ただし、テスト環境の内容(ファイルとDB)を、どうやって本番環境に反映させるかが課題になります。方法はいろいろありますが、基本的なDBの知識がないと難しいと思います。
【追記】 大変古いバージョンですね。 いろいろ制約が大きいので以下の点に留意してください。 1. バージョン5.4未満では、「<?=$var?>」のecho短縮構文は、php.iniでshort_open_tagsが有効になっている場合しか使えません。そうでない場合は「<?php echo $var; ?>」と書くしかないです。 2. PHP5.3未満では無名関数（クロージャ）が使えないので、それらが使われているコードの場合、自分で関数宣言するか、create_function関数を使います。但しこの関数をそのまま使うとメモリリーク問題の原因になるので、下記のように工夫してください。 http://bloggdgd.blog28.fc2.com/blog-entry-280.html 3. PHP5.3.7未満ではPDOのバグ問題があるので、先ほどの回答に記載した記事を熟読してください。
＞header("Content-type: application/csv"); header("Content-type: application/octet-stream"); でどうでしょう？ それとphpファイルの保存時にBOMが乗らないように指定してください
訂正 if (isset($_POST['new']) && is_string($_POST['new']) && preg_match('/\A(?<!\z)/u', $_POST['new'])) { $_SESSION['list'][] = $_POST['new']; }
データの大小と、順列番号の大小は別　なのですが、質問者さんの引っかかってる「must」については、日本語の語順に惑わされてるようです。 must return an integer は、返値は、Integer型で返す必要があるの意味。 引数比較については　considered to be respectively　なので、どっちを大きい(順列の後方)と考えるかによって返値を調整しろということ。「必ず大きい方」ではない。 日本語にすると語順的にどこに「必要」がかかってるか解りにくいのが欠点ではある。ていうか「整数」が抜けてるせいか？
PHPはHTMLを埋め込める言語です。 逆に言えば、HTMLの中にPHPを埋め込めるとも言えます。 基本は、print文でhtmlを出力できますが、長文をprintで出力する場合は、ヒアドキュメントが向いています。 print<<<HTML <h1>挨拶</h1> <ul> <li>おはよう</li> <li>こんにちは</li> <li>こんばんわ</li> </ul> HML; これは「ヒアドキュメント」で検索すればすぐにでも出るでしょう。 ただ、管理の上では、PHPプログラムの中でprint文を多用するのはあまり効率がよくないかもしれません。 それは、経験ですのでやってみればわかります。 さて、冒頭で HTMLの中にPHPを埋め込めるとも言えます。と書きましたが、答えはすでに出ていて、No.2さんのような書き方です。 <html> <head> <title><?php print $title</title> </head> <body> <?php print $body?> </body> </html> こういう書き方を覚えると、大枠を全てのページで共通させて、変更部だけをphpプログラムによって分岐させるという手段が簡単にとれます。URLなどをきっかけに内容を変更するのが一般的でしょう。 また、phpは外部ソースを読み込めるので、外部に読み込み用のhtmlを準備し、それを出力するという方法も一般的です。そうすると、htmlとphpを分離できるので、管理が楽になります。 どれが一番すぐれているというものではありません。プログラムの内容によって、適宜手段を選択していけばよいと思います。
PHP部分についてはとりあえずおいておいて create table a(`index` int,no_a int,no_b int,no_c int); create table b(no_a int,no_b int,no_c int); insert into a values(1,11,12,13),(2,21,22,23),(3,31,32,33),(4,41,42,43); としたときaのindexが1,3の場合bにデータを投入するのは insert into b(no_a,no_b,no_c) select no_a,no_b,no_c from a where 1 and `index` in (1,3); で、いけます ご利用のPHPの関数は古いので微妙ですが、とりあえずwhileのループの中で mysql_query()していないのでそのあたりが引っかかっているのかも （もちろん上記のようにすればwhileで処理する必要はない）
Cookieは有効にしていますか?
RTFM. http://www.php.net/manual/ja/function.basename.php http://www.php.net/manual/ja/function.pathinfo.php 個人的には if (strpos($str, '.')) { $str = substr($str, 0, strrpos($str, '.')); } みたいに切り出してもいいと思います。
質問が漠然としていますが、エスパー回答 require_once("facebook.php"); $facebook = new Facebook(array( 'appId' => FB_APPID, 'secret' => FB_APPPASS, )); //************************* // ログイン状態を取得 //************************* $user = $facebook->getUser(); //************************************* // ログインしている？ //************************************* if(!$user){ //ログインできていなければ終了 print "ログインできてねーよ"; exit; } //************************* // ユーザー情報の取得 //***************************** $user_profile = $facebook->api('/me?locale=ja_JP'); print_r($user_profile);
javascriptを使ったプラグインを使用します。 http://blueimp.github.io/jQuery-File-Upload/
WEBページが格納されているディレクトリの全ファイルを開き、日付以降の更新ファイルについて文字列検索し、ヒットしたファイル名を表示するコード例です。 検証していませんので、各命令を調べつつ改良してみて下さい。 <?php $kensakuword="検索キーワード"; $timelimit="検索するタイムスタンプの下限": // 例 2010/08/25 $hitfilemei=""; foreach (glob("Webページのあるディレクトリ/*.*") as $filename) { // 日付のフィルタリング $get_date = date("Y/m/d",filemtime($filename)); if ($get_date < $timelimit) { break; } // 個別のファイル内のキーワードの検索 $filehandle = fopen($filename, "r"); while( ! feof($filehandle) ) { $buffer = fgets( $filehandle, 2048 ); if (strstr($buffer,$kensakuword)) { $hitfilemei.=$buffer."/n"; break; } } fclose ($filehandle); } // とりあえず結果一覧文字列の$hitfilemeiをエコーする。 // 他の表示がしたかったらこの$hitfilemeiの中身を出したいように取り出す。 echo($hitfilemei); ?>
http://ideone.com/r7rPvp
連想配列ならkey集合をサーチすれば拾えますが、無駄なのでカウンタを 使った方がましです。 <?PHP $arr = array('a' => 'A', 'b' => 'B', 'c' => 'C', 'd' => 'D'); foreach($arr as $key=>$val){ print array_search($key,array_keys($arr)); } ?>
× header("Location:top.php"); × header("Location :top.php"); ○ header("Location: top.php"); ◎ header("Location: http://hogehoge.com/top.php"); http://ledyba.org/2012/07/08221601.php
test_tableテーブルにc_name=1のレコードはほんとにあるのでしょうか？
bind_result()のバインドさせようとしている変数の数が、抽出してきている項目数と一致しないのでは？ http://php.net/manual/ja/mysqli-stmt.bind-result …
典型的なゴミコードですね。 いや、ちょっと異常なケースかも・・・ foreach($arr as $item){ print "abcdefg"; } ↓ $loop = ループするかどうかのブール値; foreach ($arr as $item) { print "abcdefg"; if (!$loop) { break; } } これで済むような内容であればいいんですが、条件によって$itemを使ったり使わなかったり分岐するようであれば2パターン作るしかないですね。
前回分再再再訂正（笑 http://ideone.com/cDMhqh
>さくらってhtml形式のメールは対応していないんですか？ いや、対応しているしていないの問題じゃないです（というかメールサーバはメールボディの中身は関知しません）。 生のメールデータがphpスクリプトに引き渡されて、それを自分で解析しないといけないんだから、余計な手間はかけたくないでしょ？添付ファイルなら形式は決まっているけど、htmlメールは形式がいろいろあって面倒過ぎる。 まぁ、何の解析もチェックもせずに単に転送するだけなら、ヘッダに最低限の置換処理と追加処理だけして「そのまま」SMTPに投げればいいとは思うけどね（ヘッダ/ボディの区切りは最初に出てくる「改行のみの行」だからそれは明確に判別できる）。メーリングリストやメールマガジンのアプリは基本的にそういう動作だし。
ログイン情報に地域を手で入力させて記憶しておくのが常套 ログインさせない方法ならクッキーにとっておくのでもOK IPアドレスなどから推定するのは誤差が大きくあまり有効な手段ではありません
サーバサイド言語としてPHPは確かに一勢力なんですが・・・ 今回の質問としてはPHPあまり関係なくデザイン的な部分ですよね。 ＞素人からすると仕様とツールが分かりません。 基本的にツールはツールでしかないですから、それがあれば作れるわけでもなく。 それこそ回答にあるとおり、メモ帳と画像編集ソフトで作ることも不可能ではありません。 仕様って、何の仕様やねんって話になってきますが・・・。 また、綺麗なサイトのイメージを実際に形にするのはまた違ったスキルです。 その形をサイトのHTMLやCSS、JavaScriptなどを使って構築していくのも一つのスキルです。 サイトで使うための部品を作っていくのも、また別のスキルですね。 結局、ツールに関してもどこに重点を置くかで変ります。 DreamWeaverを使う場合もあれば、Aptana+eclipseで作る場合もあります。 画像編集も、GIMPで行く人もいればFireWorksを使う人、Photoshopを使う人とさまざまです。 そんな感じですから、こうすればいい、こうやればいい、これ使えばいい、といったものは基本的にありません。 求めるレベルによっても変わってくるし、状況によってはサーバ知識も普通に求められます。 ぶっちゃけ手を動かすことが重要で、それをしないならいつまでたっても何もできません。
でしたら、まずはHTMLとCSSの勉強をして、スキルを高めてください。 エラーの内容を理解することが大事なのは、HTML,CSSでも、PHPのプログラミングでも同じです。 一つ予想できるのは、position : absolute ; によって、領域が重なって隠れてしまっているのではないか、ということです。 position : absolute ;が何のための設定か理解した上で設定していますか? ボーダーに色がつかないのは、CSSの資料でborderに関する内容をよく読んでください。 「表示していないボーダー」に色を付けても意味はありません。
■dikon_007さんへ >　データベースで、過去のある期間のデータだけを集約して、出来たデータをブラウザに出力して >そのリンクを張り付けるということでしょうか。　 そういうことですね。 example.com/archive.php?param=201307 例えば、このようなPHPでこのようなパラーメタを持たせて、 そのパラメータに引かれている値によって取得する内容を変えるということです。 ■oooioiさんへ http://www.mysql.com/about/legal/licensing/foss- … FOSSライセンスエクセプションというものがあります。 是非ご一読を。
改行コードや文字化けに注意が必要ですが、基本的には動きますねー。 Perlだと、一部の関数（ロック関数とか）が、Windowsでは使えないけど、Linuxでは使えたりする場合（質問とは逆の場合）はありますが、PHPでは特に問題なさそうです。（たぶん。 それに、Winでは使えるけど、Linuxでは使えない関数って、多分ないかと。 ないといっても、例外は、（きっと）あるのかもしれないけど。＾ｘ＾； そして、実際にアップしてみると、なぜか動かないんだ、これが。（苦笑 ＊ PHPだと、サーバにアップすることが前提のイメージなんで。 WinでPHPのスクリプトを作っていますが、サーバ（Linux）にアップする時に、気をつけたほうがいいことってありますか？ スクリプトはなにか変更する点はありませんか？ くらいの広い範囲でも回答がつくと思いますよ。 他に気をつけるのは、ファイルのパーミッション（権限）くらいですかねー。
$hoge="piyo"; function func(){ global $hoge; echo $hoge; } func(); で一応できます、が・・・ global宣言はソースコードを汚くする大きな要因となるので、可能な限り使わないでください。
mysql関数とmysqli関数を並行して使っていてかなりダメな状況です mysqli関数に統一して処理するようにしてください
恐らくですが、save()を呼ぶことでsymfonyによってcommitされて、オートコミットモードに戻っているんだと思いますよ。 symfony自体にトランザクションをコントロールする機能があると思うので、pdoを直に触らず、そっちを使ってください。
なんども訂正すみません。。。 これで大丈夫だと思います。 <?php $arr = $list = array(); $i = 0; $skip = false; array_walk_recursive(もとの配列, function($v, $k) use ($arr, $list, $i, $skip) { ____if ($k === 'area_id') { ________if (!isset($list[$v])) { ________$list[$v] = 1; ________$arr[$i][$k] = $v; ____________$skip = false; ________} else { ____________$skip = true; ________} ____} elseif (!$skip) { ________$arr[$i++][$k] = $v; ____} ); print_r($arr);
for文で０～件数まで廻すんじゃなくて、別にカウンタ基点用の変数持って カウンタ基点からの１０件で廻す。 ページ操作でカウンタ基点を±１０してやる。 （もちろん、上限・下限チェックは必要ですが）
商用サイトでしょうから、ＡＰＩのビジネス版を使用するのが 正当な方法だと思います。 ＣＳＶ読み込みで、１秒以上のタイムラグを入れるとなれば、 かなり非実用的です。 また、無償版には、２５００／日というアクセス制限もあります。 　→参照ＵＲＬをご覧ください それから、裏技的になりますが、ジオコーディングだけを バージョン２で行うという手はあります。 それでも、１００箇所以上あると結構な時間がかかります。 こちらは、個人サイトでなら許される姑息な手段です。（自分） また、Ｖ２は１１月にサポート終了です。 ＞また、住所によってはうまく経度・緯度が取得できないばあいもある これはしょうがないですね。間違った場所を示すこともあり得ます。 参考URL：https://developers.google.com/maps/documentation …
> ("./sql/create.sql"); ＳＱＬ文の中身を開示してください。 パラメータ（where条件？）を必要としているのに、処理できてないように思います。
なぜstrtotimeの中でもechoしているんでしょうか…… <?php echo "1月前:" . date("Y/m/d",strtotime("-1 month" ,strtotime($row_target_date['ap_date']))) . "<BR>"; ?>
mysql_ を mysqli_ に変えるだけでほとんど対応できます。 引数の順番が変わっていることはよくあるので、マニュアルでチェックしてください。 Google検索すればだいたい引っかかります。
error_reportingはphp.iniだけでなく、実行中にも変更できますので、ソースで変更している部分がないか調べてみましょう。
whileで回せばよいのでは？
ちょうどQiitaの記事作ったところなので。 http://qiita.com/mpyw/items/6539a0a65240103a5d43 そもそもPHP5.2の頃のPDOはバグ・セキュリティホールのオンパレードで使い物にならないレベルなので、非推奨であるmysql_○○関数を使うのと大差ないレベルだと思います・・・ PHPに存在するセキュリティホール問題が一通り解消されたのはPHP5.4.1以降なので、それより古いバージョンのものは極力使わないでください。 ちなみにPHP5.2.5環境をもし有料で提供しているレンタルサーバーならば、はっきり言って「タダ未満」です。私だったら速攻解約します。無料で5.3以上を使わせてくれるところもたくさんあります。 回答1 問題なし。ちなみに "$user" は冗長なので単に $user だけでOK。 回答2 PDOに関係なくPHPの基礎レベルの知識です。 http://korikorikorikori.blog.fc2.com/blog-entry- … http://www.shigeweb.jp/php/project_p/?page=class … 回答3 MySQLネイティブのプリペアドステートメントを使うかどうかの指定です。 PDO::ATTR_EMULATE_PREPARES => True → PDO側でエミュレートする(デフォルト) メリット ・MySQLとのやりとりが減るので、パフォーマンスが向上する。 ・名前付きプレースホルダで、複数の箇所に同時にバインドすることが出来る。 デメリット ・PDOがセキュリティホールをかかえたバージョンだと、プリペアドステートメントを使ってもSQLインジェクション攻撃の餌食になることがある。PHP5.3.8以降であれば問題なし。 PDO::ATTR_EMULATE_PREPARES => False → MySQLネイティブのを使う メリット ・SQLインジェクション攻撃が絶対に起こらないと保証できる。 デメリット ・MySQLとのやりとりが増えてパフォーマンスが低下する。 ・名前付きプレースホルダの複数個所同時バインドをしようとするとエラーになる。（ちょっと記憶が不確かだけどこんな記事を見た気がする。要検証。）
考え方は４つ (1)読み込むときに読まない（読み飛ばす） (2)全て読んで、読み込んだ後で削除する (3)全て読んで、削除せず、表示するときに表示させない (4)全て読んで、削除せず、表示するが、表示側で処理する SQLで処理する場合(1)がベターですが、今回のようにCSVで処理するなら (2)か(3)でしょうか、 (2)の方が無駄なデータを取り込まずに済む分メモリなどには有利ですが処理は煩雑 (3)の方がロジックは簡単で絞り込みなどもやりやすいですが一時的に不要なデータを 持つ必要があるため無駄がおおい また、表示項目を任意に変更する場合は(4)の方がよいかも
肝心の「関数」のソース書いてください・・・
ページ内にフォームがひとつしかないならそういうことは起こらないですが 投稿フォームと検索フォームが同居してるページで レイアウト通り作ると投稿フォームが検索フォームを内包しちゃったり 商品の一覧ページとかの商品毎の同じ入力フィールドの値を 個別に送信ボタンとまとめて送信とか違う送信ボタンで使いたいとか 複数フォームがある場合はそういうケースがないことはないですよね そういう場合ウチは ボタンだけが外に出るならボタンのonclickでsubmitさせる 泣き別れしたformの値を結合して使わなきゃいけない場合は jqueryのselializeやselializeArrayを使って送信時に結合して処理 データを拾いたい入力が散在していて個々にはformでくくる必要が ない場合にはonchangeでhiddenで入れるみたいなカンジの使い分けをしてます javascriptがないと動かないってのは好ましくないので出来る限り避けますが
PHP 5.4.17でちょっと実行してみましたが、 var_dump($hoge); var_dump($foo); したら、 string(13) "文字列\テスト" string(13) "文字列\テスト" とでたりしませんか？ そうすると、比較演算の違いではなくて代入の時に、何もエスケープしていないバックスラッシュはバックスラッシュという文字があったとして処理しているのではないかと予想します。 というわけで、ドキュメントを見てみたら、こんなこと書いてありますね。 http://www.php.net/manual/ja/language.types.stri … > 繰り返しますが、この他の文字をエスケープしようとした場合には、 バックスラッシュも出力されます!
手元の環境ではそもそもaaa.phpに遷移しませんでした（IEとFirefoxで確認）。 Firefoxのエラーコンソールで確認したら「document.fm.operate is undefined」だそうです。この部分を消したら、$_GET['name']で取得出来ました。methodがget（未指定）なので$_POSTは空配列です。 提示されているソースと現象が不一致なので、これ以上は何とも・・・
hhtpサーバーのユーザーと、鍵交換したユーザーとが違うとか。 httpサーバーはnobodyとかのユーザー権限で動作していることが多いです。
「改行」だけマッチしたいなら\nやら\rをチェックした方がよいでしょう また改行を一つまで許すのか複数でもいいのかによっても若干書き方がちがいます <?PHP $data = <<< EOF ABXYCDX YEFX YGHX YIJ EOF; $pattern="/X(?:\r\n|\r|\n){0,1}Y/s"; preg_match_all($pattern,$data,$matches); print_r($matches); ?>
https://www.google.co.jp/search?q=php+short_open … これでは？
既に回答にあるとおり、$_FILES['Img']['type']は信用してはいけません。 こちらをお読みください。 http://qiita.com/mpyw/items/939964377766a54d4682 http://qiita.com/mpyw/items/73ee77a9535cc65eff1e
回答遅くなりましたが、 BOMがついてしまっているのであればエディタで開き直して、ファイル名を指定して保存等で、BOMなしのUTF-8に保存し直す等していただければと思います。 ちなみにエラー画面ですが、 http://localhost/xampp/ にアクセスした時の禁止と、 http://localhost/ にアクセスした時の禁止でエラー画面が違いますが、どのようになっていますか？
readfileだけで表示されたのは、そのファイルのバイナリデータです。 当然表示できない文字は「◆」に「?」が載ったような文字で化けで表示されます。 もしかしてブラウザの問題・・・？ http://ameblo.jp/hiroro-chi/entry-10894465064.html
SQLで階層構造を表現する手法として、有名なものがあるようです。 http://www.geocities.jp/mickindex/database/db_tr … こちらを見て下さい。 CakePHPのビヘイビア（プラグインのようなもの）でTreeというものがありそれのアルゴリズムを確認していた時に たどり着いたサイトです。 実は文章量が多く、自身ではうまく把握できませんでした。 ただ、この内容がわかると、質問者さんが行いたい出来事がかなりスムーズに解決するような気はします。
ノイズが混じらないようにした改良版 function get_keywords($text) { ____ ____$pattern = '/[\\w!"#$%&\'()=~^\\\\|`@[{+;*:}\\]<,>.?\\/ -]++/'; ____preg_match_all($pattern, strip_tags($text), $matches); ____return array_filter(array_map(function ($i) { ________return trim($i, '!"#$%&\'()=~^\\|`@[{+;*:}]<,>.?/ -'); ____}, $matches[0]), 'strlen'); ____ } http://ideone.com/FzUzTd
それ以前によそのサイトを自分のコンテンツの一部のように表示するのはやっちゃダメ。
改良しました。 http://qiita.com/mpyw/items/c39b9ee695a5c2e74627
my.ini / あるいはmy.cnfを編集します。C:\xamppとあるので、後者かもしれません。 同じ別事例 http://detail.chiebukuro.yahoo.co.jp/qa/question … 参考URL http://www.dbonline.jp/mysql/myini/ →「文字コードの設定」
データの持ち方がよくないように感じます こんな感じでデータを持てばよいのでは？ create table tableA(s_date date,staff_id int,cell int,jikan time,basho varchar(30),flag int,unique(s_date,staff_id,cell)); insert into tableA values ('2013-08-04',2,1,'10:35','会議室',1) ,('2013-08-04',2,200,'19:40','フロアB',3) ,('2013-08-04',3,1,'10:40','フロアB',2) ,('2013-08-04',3,200,'19:40','フロアA',1) ,('2013-08-05',2,1,'10:20','会議室',1); これを一覧で得るのであればこんな感じ？ select s_date,staff_id ,group_concat(if(cell=1,txt,null)) as cell001 ,group_concat(if(cell=2,txt,null)) as cell002 ・・・ ,group_concat(if(cell=200,txt,null)) as cell200 from( select s_date,staff_id,cell,concat(hour(jikan),':',minute(jikan),',',basho,',',flag) as txt from tableA ) sub group by s_date,staff_id
http://www.sssc.cc/wiki/index.php?Apache2.4%2FTips http://blog.matsumoto-r.jp/?p=3482 <RequireAny> Require all denied Require ip 127.0.0.1 Require localhost </RequireAny> かなり書き方が変わってしまったようです。Apacheが2.4というところがキモでした。
インポートはできてます。 でているのは警告で、no effectと書いてありますので、効果が無い、ということです。 「￥」のないものは非修飾名というものになり、確かに、SAMPLEという名前空間をuseしても、エイリアスを貼る効果はありません。 namespace SAMPLE\Foo{ class Example{ public functoin test(){ echo "test"; } } } と合った場合に、 use SAMPLE\Foo; $obj = new Foo\Example(); とするとエラーは出てこないと思います。SAMPLEの部分を記述しなくても呼び出せるのでエイリアスを貼る意味はあったと。 で、 use \SAMPLEとした時に警告が出てこない理由は、完全修飾名だからです。 http://www.php.net/manual/ja/language.namespaces … こちらを見ていただくと、 「￥」で区切られていない記述は、非修飾名であり、「￥」を含まれている記述は修飾名となりますが、 先頭に「￥」がある場合は、ソレが先頭以外で非修飾名でも修飾名でも「完全修飾名」とみなされます。 その為、useで警告がでないということになります。
PerlもPHPもCGIモードで動かせばCGI。 PerlもPHPもモジュールモードで動かせばCGIではない。
<?php $str = "aaaa\nbbbb\ncccc\ndddd"; $arr = explode("\n", $str, 3); array_pop($arr); $result = implode("\n", $arr); うーん・・。ちょっと冗長か（汗
>mysqli○○と言う書き方が推奨されたのを知り、 >コードを書き直しています。 元の（MySQL関数の）ソースではどうなっていましたか？おそらくはmysql_fetch_arrayやmysql_fetch_assocでfetchして、その結果を使っていたと思います。それをそのままmysqliに書き直すだけでいいんですが・・・ $row = $result->fetch_array(); とすれば $row['max']に得られますよね？ RTFM. http://php.net/manual/ja/mysqli-result.fetch-arr … http://php.net/manual/ja/mysqli-result.fetch-ass …
・まず、言語検出 ・次に その言語に対応したフォントを適用 → $pdf->SetFont('[対応したフォント]'); と、単純に思ったのですが、正直どうなんでしょうねぇ。。
あくまでも僕のやり方としての回答で、no1の回答者さんとほぼ同意です。 SQLの集計等で処理コストが高いものを、httpの出力寸前にそのままファイルへ保存しキャッシュしています。SQLの最終更新の時刻を保存ファイルのfilemtimeと比較して、キャッシュ出力か再レンダリングかを判定します。 ただこの手段は、SQLの集計時間、ページのレンダリング、ネットワークコストなどを計測し、キャッシュが有効かどうかを判定してから利用を考えています。当然、ページレンダリング時の処理時間も細かく計ったりしながらです。 マシンパワーの問題もありますが、個人的にはページのレンダリングはあまり時間を食わない印象があります。クライアント側でストレスを感じる場合レンダリングより、SQLのクエリーが非効率だったり、ネットワークコストの問題だったり。 それぞれを振り分け、ストレスの元を探ると、「え！ここが。」的な新しい発見する事も多いですよ。 ^-^
あ、HTMLエスケープ忘れてたので、ブラウザに出力する際、「名前」はhtmlspecialchars関数を通すようにしてください。
DBにイチイチアクセス情報を書き込んでいると負荷が大変なので、ユーザーのセッション管理にmemcached等のオンメモリのデータキャッシュサーバを使ってると思われますが、基本的にはアクセスする度に最終アクセス日時を記録しておくしか方法はありませんね。
こんにちは。 if(!$res=mysql_query($sql)){ echo mysql_query(); echo $sql; exit; } と回答しましたがすみません、コピペ失敗してました。。。 if(!$res=mysql_query($sql)){ echo mysql_error(); echo $sql; exit; } です。
jqueryみたいにhtmlいじくりたいなら simple_html_domってのがいいかもですよ
見た感じ「数字」を消したいようにみえますが、「英数字」を消したいのでしょうか？ まし数字だけなら\dでマッチさせます 複数行あっても最終行だけ処理するなら $pattern="/\d+$/u"; 複数行の各行末を処理したいならm修飾子 $pattern="/\d+$/mu"; でよくないですか？ <?PHP $moji="あいうえ215おかき15\naiueo111kakiku222"; $pattern="/\d+$/mu"; print preg_replace($pattern,"",$moji)."<br>"; $pattern="/\d+$/u"; print preg_replace($pattern,"",$moji)."<br>"; ?>
（あんまりブログ記事のせるのはよろしくないけど） こちらでまとめているのでよければご覧ください。 http://bloggdgd.blog28.fc2.com/blog-entry-282.html 「パーフェクトPHP」は超オススメです。 若干著者のコーディング癖が出てるので、「ん？？」って思ったところはスルーしてもらって構いません。 【例】 if (isset($_POST['hoge']) === true) { } 私だったら冗長に思うので if (isset($_POST['hoge'])) { } で済ませちゃうかなぁ とか。
>リンク先には$_GET['page']という関数を使って○○○という部分を取り出し、 これ関数ではない。 変数。 >この○○○という部分が半角数字以外で始まるものであれば理想通り機能するのですが、 >半角数字でから始まる語句のみ[http://hogehoge.com/db_search/○○○]というページに飛ばされてしまい上手く機能しません。 GETパラメータの値がセキュリティー的に問題ないかも含めてチェック処理すらしていないダメソース?
【再訂正】 !isset($_POST["syokugyou"]) || $_POST["syokugyou"] === "" ↓ isset($_POST["syokugyou"]) && $_POST["syokugyou"] !== ""
まずメッセージ読もうね。 そうすれば意味わかるはず。 自分で手動でビルドすればいいのかもしれないけど基本的にこのままでは解決法はない。 後、気になったけどcコンパイラはインストールしてあるんだよね?
>使用しているサイト そもそもそのサイトでphpが使える状況なのでしょうか？ もし使えるのであれば運営に確認してどうやってphpを利用するのか マニュアルをもらってください。 （見た感じ最初から使えないような気もします。）
ピボットを先頭要素にとったクイックソートかな？ というかアルゴリズム云々いろいろやるならC言語でやった方がいいと思います。 http://qiita.com/mpyw/items/e6ef473fe3464599f498
> コードではなく証明書の方に問題があるのでしょうか？ それが判断できないくらい情報が少ないです。 現状どんなコードになっているか不明です。 最初のコードではrealpathの部分は明らかに間違いですが。 ファイルが生成されないのもパーミッションの可能性もあるし、疑わしい原因を絞りこむ情報が明らかに不足しています。
直接の回答は既にあるので掲示板作成に関して蛇足。 http://qiita.com/mpyw/items/2f9955db1c02eeef43ea http://qiita.com/mpyw/items/e7f3f60b687053b7832a
SQL文修正 $stmt = $pdo->query('SELECT `size`, `price` FROM `info` WHERE `price` > 0');
以前の私の回答そのまま使っちゃうとコーディングのレベル的に「お前誰かに写させてもらっただろ」とバレかねませんね。 まぁ出題者のコーディングレベルも著しく低いようなので、そんなこと気にする余地もないかもしれませんが。 （正直「お前教える資格ないだろ」とブチギレる程度のソースの汚さ）
なんか面白そうなサイトですね。 不正解答は駄目のようなのでアルゴリズムはさておき、 これをphpで組むならまずはデバッガ(トレーサ)を入れるところからやるべきかと思います。 XDEBUG 参考URL：http://xdebug.org/
dateは普通にFlicker APIでYYYY-MM-DD形式で使えるようなので、 'date' => '2013-07-24', のように囲んでもダメでしょうか？
順位を出すときにソートは必ずしも必要ありません 順位計算のロジックは (1)全件数 (2)点数が自分以下の人数 から、(1)-(2)+1をして求めます。 仮に10,20,20,30,30,40という分布だった場合 全件数は6件で ・10の人は自分以下が6人なので6-6+1=1位 ・20の人は自分以下が5人なので6-5+1=2位 ・30の人は自分以下が3人なので6-3+1=4位 ・40の人は自分以下が1人なので6-1+1=6位 です。
type="submit"のボタンが押されたとき，ブラウザはform要素のaction属性で指定されているURIを， method属性で指定したメソッドで呼び出します。 今回の場合，actionはlog.csvでmethodがGETですから， log.csv?simei=XX&gender=YY&favorite_sports=ZZ&check1=WW&submit=UU を相対パスとしてブラウザのURI入力欄に入力したのと同じ扱いになります。 まず， ・form要素のaction属性は，入力されたデータを受け取るPHPファイルのURIにする ・$_POSTで受け取るのであれば，form要素のmethod属性は，POSTとする ことが必要です。 そして，PHPファイル中でCSVに保存する処理をちゃんと書く必要があります。
＞header('Content-Length: '.filesize('$file')); これってシングルクォーテーションで変数囲むと展開されないので ファイルサイズが0になりませんか？ filesize($file)ないしfilesize("$file") ダウンロードされたファイルサイズと本来のファイルサイズを比べてみてください またその他、ファイル名を英数のみにしてみるとか readfileのように中途半端な関数を利用せずにきちんとファイルI/Oしてやる などで改善する可能性はあります
みた感じ、すでにOnになってるかと。 242行から263行のコメント部と、そこで示されてるURLの説明を読んでみては。 すでに読んでいるなら、ごめんなさい。 参考URL：http://php.net/output-buffering
>$uploadfile = $_FILES[uploadfile$i][tmp_name]; とりあえずはこのへんから $uploadfile = $_FILES["uploadfile".$i]["tmp_name"]; どちらかというと foreach($_FILES as $file) 的な処理をした方が分かりやすいかも
こんにちは。 Eclipseの起動時にワークスペースはどこか聞いてくると思いますが、そこで xampp\htdocsを選択してあげれば、各々のプロジェクトは http://localhost/project/ でアクセスできるはずです。 それが一番手っ取り早いのですが、ほかの方法としてはApacheのdocumentルートをc:\workspaceに変更するとか。 apacheのvhost機能を使ってやるとか。(hostsファイルをいじる必要がありますが) http://project/ とかでアクセスできるようになります。 デバッグ等が必要であればこのあたりを参考にしてみてください。 http://atmarkplant-dj.blogspot.jp/2011/04/xampp- …
default.charsetは特に無指定でかまいません。httpレスポンスヘッダ（default.mimetypeのtext/html）に付随するだけです。 もちろん、default_charset = "iso-8859-1"が有効な状態で残っているとマズイのでコメントアウトもしくは削除するか（出力文字セットにutf-8しか使わないのなら）utf-8に書き直すべきではあります。 ＃正直、私はxampp1.7.7の初期状態を覚えていません。「教本どおり」にやりた ＃いのはわかりますが、古いバージョンだと回答するのに難儀します それよりも[mbstring]ディレクティブの ;mbstring.language = Japanese　← ; を削除して有効化する ;mbstring.internal_encoding = EUC-JP　←　; を削除して、utf-8に変更する あたりの方がよほど大事です。
多分最も簡単で、よく使われる方法は、#1の回答の方のものと思います。 単純に正規表現の勉強ということであれば、 /([^\/]+?)(?:\.[^\/\.]+?){0,1}$/ こんな感じでしょうか。 最初に、「/」を含まない1文字以上の文字列を最短マッチ（括弧内の最後が？になっていると最短マッチ） その後ろに、「.」が先頭にあって且つ、「.と/」以外の文字にマッチする文字列が、０～１個存在する（括弧外{0,1}がそれ）。 なおかつ、ソレは、全文字列の一番後ろである（正規表現の一番最後の＄マーク） といった内容です。 これで、拡張子なしのファイル名、多重拡張子のファイル名にも対応できるかなと。 正規表現はあまり得意ではないので、もしもっと良い記述方法があれば・・・
ん、単純にyambejpさんの記述されている update hoge set ID=replace(replace(URL,'/AAA/',''),'/top/',''); だけ実行すれば良いのでは。yambejpさんの書いた、createt tableとinsertは、テストデータ作るための記述ってだけですよね？ テーブルに含まれている全レコードのURLが全て/AAA/と/top/を含んでいるのであればそのUPDATE文を一つ投げれば終わると思いますが何か別の意図があるんでしょうか。
あ、htmlspecialchars関数でのエスケープも忘れないでください。 function h($text) { return htmlspecialchars($text, ENT_QUOTES, 'UTF-8'); } って関数を作っておくとラクです。 こちらも参考にどうぞ。 http://bloggdgd.blog28.fc2.com/blog-entry-284.html
こういうこと？ <?PHP $fuga=array(); function hoge( $foo ) { $arrs['a'] = 'A'. $foo; $arrs['b'] = 'B'. $foo; $arrs['c'] = 'C'. $foo; $arrs['d'] = 'D'. $foo; return $arrs; } $fuga[]=hoge('3'); $fuga[]=hoge('9'); print_r($fuga); ?> array_pushしてもよいかも。 関数だけで処理したいなら、引数で配列を渡す処理が必要
[1行ずつ管理する場合] → 改行コードが入力されたらどうするか？（<input type="text">にも改行コードを入力することは可能です。） → どうせならfputcsv/fgetcsv関数に任せた方がいい（改行コードを適切にエスケープしてくれる） しかしこの場合にも、特定の行だけを修正する、というのはかなり面倒な手順を踏まなければなりません。 fseek関数で行数を指定出来たらいいですが、バイト数しか指定できないので。 1人分のテキストボックス4個程度ならば、全部読み出してもパフォーマンスにほとんど差がないので、以下の方法の方がいいと思います。 [データをシリアライズしてまとめて管理する] 具体的には、テキストボックスa,b,c,dの情報を格納する配列を用意し、serialize/unserialize関数、またはjson_encode/json_decode関数を用いて保存/復元を行う。 $arr = array( 'a' => '', 'b' => '', 'c' => '', 'd' => '', ); // 保存時 $text = serialize($arr); // 復元時 $arr = unserialize($text); // 保存時 $text = json_encode($arr); // 復元時 $arr = json_decode($text, true); 【参考リンク】 外部から変数を受け取る際の処理 http://qiita.com/mpyw/items/2f9955db1c02eeef43ea 不正なバイト列が含まれていないかチェック http://qiita.com/mpyw/items/f0628b35a368fa468775 CSRF攻撃対策 http://qiita.com/mpyw/items/8f8989f8575159ce95fc Twitter風匿名一言掲示板サンプル(CSVで簡易的にデータ管理) http://qiita.com/mpyw/items/e7f3f60b687053b7832a
http://puu.sh/3HyTo.png cURL関連でエラーが起こっているようですね。 具体的にエラーNo.77は、 http://curl.haxx.se/libcurl/c/libcurl-errors.html これを見ると CURLE_SSL_CACERT_BADFILE (77) Problem with reading the SSL CA cert (path? access rights?) に該当していることが分かります。 SSLのエラーでしょうか。 検索してみたらいろいろヒットしますが・・・ちょっと今回のケースの解決につながる直接的な情報かどうかは分かりません・・・ http://hiro99ma.blogspot.jp/2013/03/cygwincurlcu … 'oauth_callback' => 'http://' . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'] ↓ 'oauth_callback' => 'https://' . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'] とりあえずこれでどうですかね。 今のTwitterってセキュリティ上SSL以外受け付けてなかったと思うので。 こちらもどうぞ。 ＃ 正直Codebirdは分かりづらいのであんまりおすすめ出来ません・・・ ＃ 以下のどちらかをオススメします。 twitteroauth(とってもシンプル) https://github.com/abraham/twitteroauth UltimateOAuth(私が開発してます) https://github.com/Certainist/UltimateOAuth/blob …
補足のソースについて、 リサイズ時のcall_user_func(image{$mime}　で、imagejpegや、imagepng を指定しているなら、ファイル名しか指定してないので、default 圧縮率で保存されますし、メタ情報は保持されません。 リサイズしないで、ファイル移動している方は、元のファイルのままメタ情報などがついています。こちらのメタ情報を削りたければ、$imgに読み込んで、resizeは行わずに、imagejpegや、imagepngで保存すれば、メタ情報は失われます。
docomoは、imodeブラウザ2.0からファイルアップロードに対応しているようですね。 ソレ以前の端末では対応していません。 docomo限定で良ければ、シュミレータがあるのである程度確認はできます。 参考URL：http://www.nttdocomo.co.jp/service/developer/mak …
＞$sql ="UPDATE テーブル名 SET フィールド名 = REPLACE(フィールド名,"AAA","BBB")"; ＞mysql_query($sql2); (1)クォーテーションの競合？ $sql ="UPDATE `テーブル名` SET `フィールド名` = REPLACE(`フィールド名`,'AAA','BBB')"; (2)文字列「$sql」に対して、投げているクエリが「$sql2」になっているtypo？
悪かったのは入力データのようです。 何らかの原因でデータが壊れているので、Tidyを使って修復すれば正常に読み込めます。 http://codepad.viper-7.com/OW2xCH ※Tidyはphp.iniで「php_tidy.dll」を有効にする必要があります 壊れた原因はよくわかりませんが・・・ Flickrのドキュメンテーションを見ても、あのような形のレスポンスは見当たりませんでした。 （XMLで要素の間にハイフンが紛れてることなんて本来あってはいけない）
例示して頂いた内容等をもとに数パターン試してみましたが、私の手元では再現できませんでした。 データベースのデータに何らかの制御文字のような物が混入していて表示をおかしくしているような気がします。 No.2さんの回答にあるように、データを詳しく調べる必要があると思います。 根本解決ではありませんが number_format((int)$body["img_title"]) のように、DBの値をintにキャストしてやると余計な文字は消えるので、とりあえずは改善されるかもしれません。
ご利用の環境が見えないのでなんとも答えようがありませんが、 とにかく書いてあることは、 ・Webサーバ（Apache？IIS？nginx？）のエラーログを読む（Apacheだったら、httpd.confにログファイルの吐き出し場所はかいてある） ・PHPのエラーログファイルを読む（php.iniにログファイルの書き出し場所は書いてある） とのことです。 また、 PHPのセッションは、設定データをどこかのディレクトリのファイルに書き出すような方法なので、セッションデータの保存場所にアクセス権限が無い可能性はあります。 一度パーミッション等確認されてはいかがでしょうか。 なお、そのエラーの原文に関してですが、そのまま全部コピーして、Googleの検索窓に貼り付けはためしましたか？ 同じ現象が出ている人がいろいろな対処方法を試しているようですが・・・
>まず、記事の投稿にPHPを直で書いて実行するようなCMSはあまりないような気がします。 絶対にWPより重いのであえて紹介はしないけどそれでも某有名CMS (日本ではあまり人気がないけど海外だとそこそこ人気があり某アメリカの政府機関でも採用されたCMS) ではモジュールとか入れずに標準で可能な物があるけど
追記しました。
Linuxだと、php-fpmや、spawn-fastcgiなどを使ってプロセス管理をするようですが、Windowsではそれらがありません。 ので、できない、が結論ではないかと思います。 どちらにせよ、Windows7で構築されているということで、ローカルの開発環境という意味で使われているのかと思います。 それであれば、Apacheや、統合環境的なXAMPPで良いのではないでしょうか。 どうしても、nginxを使いたいということであれば、VMPlayer等で、Linux環境を構築してそこで環境を作ってはいかがでしょう。
直接の答えは既にあるので、私からはアドバイスを。 >> echo $a[$i] >> みたいな書き方はできませんか？ 配列知らないのかなー・・・と思ったらご存じのようですね。 こういうときは可変変数に頼らずに、配列を使うのが最もコードが美しくなります。 $a = array("あああ", "いいい", "ううう"); 【方法1】 for ($i=0; $i<count($a); $i++) { echo $a[$i] . PHP_EOL; } 一番オーソドックスな方法。 【方法2】 for ($i=0, $max=count($a); $i<$max; $i++) { echo $a[$i] . PHP_EOL; } 方法1だとcount関数がループごとに無駄に実行されるので、最初の1回だけ実行してそれを覚えておくように改善したバージョン。パフォーマンスはこっちのほうがいい。 【方法3】 foreach ($a as $value) { echo $value; } そもそもforeachを使えばcount関数も使わなくていいし$i++のようにインクリメントも行わなくていい。これが一番パフォーマンスがいい。 【方法3で配列の中身を書き換えたい場合】 foreach ($a as &$value) { $value = "test"; } unset($value); 「&」を頭につけてリファレンス渡しで回すと、$aの要素自体を書き換えることが出来ます。 但しループを抜けた後もリファレンスがついていると厄介なことが起こるので、foreachを抜けたらすぐにunsetを実行。
＃２です。 全然別なお話になってしまうかもしれませんが、始めたばかりでしょうから、へんなクセがつく前に やり続けて、それが当たり前になった方がいいことを書いてみます。 ・だらだらと処理を書き続けない。 　⇒とにかく見づらいです。他人が見てわかるコードにしましょう。 　　処理の責任範疇を明確にし、メソッドを分割して処理を細分化しましょう。 　　すると自然に1つ1つの処理が分かり易くなります。 　　私の1メソッドの行数はよっぽどコードを分割しづらいことを前提に最大80行までは許容しますが、 　　もっと厳しい人だと1メソッド30行までとかあります。 ・色んなカテゴリに属する処理をごちゃまぜにして書かない。 　⇒責任範疇があいまいになり、処理がスパゲッティになりがちです。 　　処理が密結合になると同じような処理を何度も書いたり、バグも生み出しやすいです。 　　それを明確にする為にメソッドを使うわけですが、その結果、複数のメソッドを 　　1つのカテゴリと捉えてクラスを用いることができます。 ・色んな画面でも使うのか、同一画面でも色んな場面で使うのか、1度きりの処理なのか 　⇒どの範囲で利用する処理なのかを把握した上で、最適な場所（別ファイルor同一ファイル）に 　　プログラミングします。 　　全く用がないところで定義してたせいで、他人がプログラムを修正する際に呼び出してし 　　まったら・・・？ ・変なスコープ（public, protected, private）で宣言しない 　⇒なぜそのスコープが必要なのかを考えた上で、最適な位置に最適なスコープで宣言しましょう。 　　それが崩れると更にバグを生みやすくなります。 　　特に、クラスなくせにpublicメンバだらけで、外部から壊し放題とか。 ・コメントを省略しない 　⇒クラス、メソッド単位のコメントは面倒でも必ず書く！変更されたなら必ずメンテナンスする！ 　　プログラムを見るのは自分だけじゃない！ 　　自分がそんな趣味レベルのふざけたコメントとかを見たら殺意を湧かないのか？！と考える。 他にもいろいろ、覚えたてのころから気を付けてやってクセにした方がいいものがありますが、 なんかキリがなくなってきそうなのでやめます。 結構、1画面を作ろう！となった時、画面を作る前に作るプログラム、というのがあります。 オブジェクト指向言語は画面を作る前の設計が重要であり、それが抜けていると1画面を 作るのに時間がかかったり汚くなったりします。（別にオブジェクト指向言語に限った話ではありませんが） ここでいう設計とは、画面を作る前に作るプログラムです。 例えばDB接続をするという処理がありますが、いちいち画面ごとにプログラミングするかと 言ったら、まずしないでしょう。どう共通化しようか？と考え出します。 それを考え、作っている間は、画面は全然作ってませんが、これが重要です。 その時その時で場当たり的にやりたいことをだらだら書いてると、いつまでも綺麗なコード にはなりません。 当たり前のようにコードするプログラムを、どうやって特定の画面に依存しないように 追い出そうかを考えます。（依存していいものは別）
.htaccessは、サーバの設定とかを上書きする記述をしていく事になるんですが、 その中で、PHPの設定内容の変更も行えるものになってます。 しかし、サーバ側の環境によってはそれを許可していない場合があります。 許可されていない記述がある場合、500エラーが現れます。 つきまして、php_flag/php_valueから始まっている行は全て行ごと削除してみて下さい。 そしてそれらの記述部分は全てindex.phpなどのフロントコントローラやphp.iniに書いて下さい。
直接の回答はNo1さんの通り。 なお、セキュリティの観点からは、formを表示するページ、action先のページ、両方がhttpsである必要があります。 参考： http://takagi-hiromitsu.jp/diary/20051130.html
考え方としては、市外局番の場合は0から、そうでない場合は数字から始まり 数字でおわるとか、ハイフンが続かないとか、ハイフンで２つないし３つにわかれるとか、 チェックのやりかたはあるけど、しょせん実在するかどうかをチェックできないので無意味 数字とハイフン以外使っていない程度のチェックで十分 <?PHP check("03-1234-5678"); check("0312345678"); check("03---4-8"); check("-"); check("-123-"); check("0a123"); function check($num){ $pattern="/^[0-9\-]+$/"; print $num.":"; if(preg_match($pattern,$num)){ print "ok<br>\n"; }else{ print "ng<br>\n"; } } ?>
＞つまり、 ＞リンク先にscriptを記述した攻撃ページを用意できるから危険。 ということも間違いなくあると思いますが、 参考書で言及されているのは、 ユーザーからのinputが javascript:alert(\'test\'); のような文字列だった場合、 【サンプル】 ----------------------------------------- <?php $input = 'javascript:alert(\'clicked!\');' // ユーザからの入力値（本来は$_POSTなどで受ける） ?> <a href="<?php echo htmlentities($input, ENT_QUOTES); ?>">click</a> ----------------------------------------- という風に出力した場合でも、 Javascriptが実行されてしまうと思いますので、 こういう部分に書かないようにという注意書きだと思います！ ご参考になれば幸いです。
firebugではhtmlを見られるがブラウザでソースを表示すると見えないのは、HTML上には何も書かれておらずブラウザでJavaScriptを実行して書き足しているという事です。 従って、その部分の情報を得るにはJavaScriptを実行する必要ああります。
MDB2はPEARでPHPで書かれたライブラリ それに対してPDOは元々はPECLで提供されてきたライブラリでCで書かれているライブラリになる。 速度面でPDOは優れている。 しかも http://www.php.net/manual/ja/intro.pdo.php みればわかるけど5.1以降ではPECL側での提供からPHPにバンドルされるようになったので 標準で組み込まれることが多くなった。 そういう意味ではPDOと各DBのドライバがロードされている環境ならPDOを PDOや使いたいドライバがロードされてない環境なら単純にPHPのライブラリとなるMDB2を使えばいい。 (ただしMDB2は各DBのネイティブのドライバがロードされていないと使えないけど) MDB2でもPDOと同じくらい簡単にプリペアドステートメントは扱える。
>使っているレンタルサーバは >ＶＡＬＵＥ－ＤＯＭＡＩＮ.ＣＯＭ >です。 xreaもしくはcoreserverということでいいんでしょうかね。suExecサーバなので、0666や0777はマズかったのではないでしょうか。0606もしくは0707で試してみてください。
少し調べてみました。 http://dev.mysql.com/doc/refman/5.1/ja/sqlps.html Mysqlのマニュアルを見たところ、LOAD DATA INFILEは、対応していないようです。
PHPではHTML/CSS/JavaScript等を出力すると思いますが、そもそも、HTMLやCSSによる表示はブラウザ環境によって異なりえます。 どんなブラウザ環境でも同じ表示にするのにはかなりの知識が必要。 また、PHPには様々なバージョンがあるので、プログラムの書き方が悪いと特定のバージョンのPHPでしか期待通りに動かないと言うことは十分あり得ます。
>0を評価してから残りのnullを評価する、という方法しかない、ということが結論 いやいや、それなら#2のような条件の併記ですね emptyじゃないかズバリ0の時、という条件ですね <?PHP function check($flag=NULL){ $where="WHERE 1"; if(!empty($flag) or $flag===0){ $where .=" AND flg='".$flag."'"; } return $where."<br>\n"; } print "1.".check(); print "2.".check(NULL); print "3.".check(false); print "4.".check(""); print "5.".check("0"); print "6.".check(0); print "7.".check(1); print "8.".check(true); print "9.".check("test"); ?> ちなみに「WHERE 1」はSQLでは全件表示になります この場合空データのチェックだけしているのでtureを1と評価したり 文字列をそのまま流したりしてますが、仕様はサンプルをみて拡張してください なお、プレースホルダーで処理しないため、バリデートをきちんと入れた方がよいです。
お礼してもらっていたのに、しばらくココ自体を見ていませんでした。 返事が遅くなってすみません。 昔 自分がやったのは結構乱暴な方法です。 CSVの一行の各文字列の中のカンマは事前に全角カンマに置換した上で、半角カンマでexplodeして、各文字列の前後にクォートがあった場合除去する。 という事を自前でやっただけです。 具体的に言うと↓みたいな感じです。 CSV : "てすと,てすと","abc","def" ↓ てすと，てすと abc def 文字列の中にクォートが入っていないのは前提でしたので使えた方法ですし、スマートなやり方ではないと思いますし、負荷的にどうなのかも分かりません。
＞どのような場合に使うのでしょうか？ 自分自身を自分の要素に設定していますが、リファレンスで参照していないので 単にその時点の状態を確保しているにすぎません。 あまり有効に使えるようなテクニックではないので、無視してかまわないでしょう。 たとえばこんなことをすると面白い参照ができますが <?php $def = 'test'; $abc = array(); $abc[] = $def; $abc[] = &$abc; print $abc[1][1][1][1][1][1][0]; ?> これも実用性があるわけではなく、ある意味プログラムの挙動を確認するための テクニックにすぎません。
少し、調べてみましたが、?は全てバインドされてしまうようです。 めぼしい情報も見つけられませんでした。 大概少し特殊な情報も、PHPマニュアルのコメント欄なんかに書いてあることがありますが、ソレも無いようです。 解決策は、 ・プリペアドステートメントを使わない ・テーブル名を変更する のどちらかしか無いと思います。 ただ、今後のメンテナンスなども含めて考えると、テーブル名に半角英数以外の文字が入っているのは 少し実装としては厄介ではないかなと思います。 規模が大きくなり、フレームワークを利用することになった場合、フレームワークのORマッパーを使うことになると思いますが、 その場合でも、プリペアドステートメントのところで毎回引っかかるようなことになりそうです。
ファイルの文字コードと、mb_internal_encodingとmb_substrの指定文字コードを あわせてください バイト数ではなく文字数だとわかると思います <?PHP mb_internal_encoding("UTF8"); $str="abcあいうxyz"; $substr=mb_substr($str,2,3,"UTF8"); print $substr; ?>
いろいろな意見があるので（勝手に）総まとめ的な感じで。 ・PHP5.4以降しか使わないならば、これを使ったほうが見やすい場面があれば積極的に書いていっても良い。 ・PHP5.3以前に戻る可能性があるならば、丁寧に<?php echo $aaa; ?>と書いた方が良い。
訂正 ×　if (!isset($_REQUEST['name']) || !is_string($id = $_REQUEST['name'])) { ○　if (!isset($_REQUEST['name']) || !is_string($name = $_REQUEST['name'])) {
これは、UTF-8のBOMがついてますね。 結論としては、ご利用のテキストエディタで、今回のアプリケーションを作るにあたって使用したファイルを全て開き、 「UTF-8（BOMなし）」などといった文字コードに変換して下さい。 治ると思います。 BOMについては、ちょっと調べてみてもらうとして、簡単にいえば、ファイルの先頭に付加される3バイトほどのゴミのようなものです。UTF-16なんかでは意味があるものですが、UTF-8ではあまり意味が無い為、BOMなしの形式が選べるようになってます。 PHPは特に、言語の特性として、「<?php」から「?>」までの間がPHPであるとする言語で、PHPのくくりの外にあるものは全て即座に出力するようになってます。 その為、include/requireしてきたPHPファイルの先頭のBOMと、該当HTMLの先頭のBOMが合わせて２個出力されているため、今回のようなバグが起こっているものと思います。
ご質問内容に簡単に答えるならですが。 phpで[mb_send_mail]を利用するなら subjectに件名 messageに本文 を指定する、が質問の答えです。 ただ、細かく設定したり、うまくいかない場合など、phpの[mail]が必要になる場合もあります。 この場合だとメールの特性などを理解する必要がでてきます。 メーラーでメールのソースを見れば解りますが、ヘッダーだけでも多くの項目がありますよね。 それらを理解する必要があるんです。 他にも、 Subjectの文字コードISO-2022-JPで 添付が必要であればboundary管理が必要 Return-Path・From・サーバーの組み合わせで場合により「なりすましメール」となる RFCの規程通りに指定しも思い通りの結果にならない などなど、管理しないといけない項目がたくさんあります。 あと、送信サーバーが自前だったりする場合、特に注意が必要な事があります。 送信者に制限をつけないとスパム業者が利用し、結果そのサーバーが危険なサーバーとして認識されてしまうのです。このためにサーバーが送信できない設定にしてる場合も多くあります。 mail管理はとても苦労することが多いんです。 頑張ってくださいね！ ^-^
リンク張りミス（さっきの回答は無しで） http://detail.chiebukuro.yahoo.co.jp/qa/question …
【実装例】 http://ideone.com/b1T4dS <?php $arrs = array( 'arr1' => array(1, 2, 3, 4, 5), 'arr2' => array(101, 102, 103, 104, 105), 'arr3' => array(3, 4, 2, 5, 1), 'arr4' => array(5, 3, 4, 2, 1), ); foreach ($arrs as $base_name => $base_arr) { $copies = $arrs; unset($copies[$base_name]); echo "【{$base_name}の他に対する類似度】\n"; $base_str = implode("\0", $base_arr); $results = array(); foreach ($copies as $target_name => $target_arr) { $target_str = implode("\0", $target_arr); similar_text($base_str, $target_str, $percent); $results[$target_name] = $percent; } arsort($results); foreach ($results as $target_name => $percent) { printf("%s -> %01.2f%%\n", $target_name, $percent); } echo "\n"; }
その行を見てもダメならもっと前を見る.
input type="text" とか"hidden"とか追記するのではダメなの？
好意的に解釈して、条件がそろうまでバッファしておいて、 条件にあったら表示してバッファをクリア・・・ってこと？ <?php $str=""; for ($i = 1; $i < 15; $i++) { $str.=(string) $i; if($i % 5 ==0){ print $str."<br>\n"; $str=""; } } ?>
うまく読み解けなかったのですが、状況としては、 1. jphpmailerを使用して、15Mのファイルを添付送信できる環境が既にある。 2. 1と同環境でphpmailerを使用すると、3M(10M以下)のファイルを添付送信できる。 3. 1と同環境でphpmailerを使用すると、15Mのファイルを添付送信できない。 で合っていますでしょうか？(特に2が可能かどうか) 2が可能であれば対策を講じられているように容量に関する問題、 不可能であればphpmailerでのメール送信の実装に関する問題になると思います。 まずはこの切り分けが必要です。 また、error_logかstdoutあたりに他のメッセージが出ていないでしょうか？
> IF文を使う際、条件に否定演算子を使うべきときってのがあるんだと ないですよ。否定演算子を使ったほうがわかりやすいときに、素直に使うだけです。 ＞ IF（!A || !B){ こいつだけ見れば、 if ( A && B ){ ... としたほうがシンプルですが、具体的な条件が否定で書いたほうが自然なのであれば、問題ないです。 なので、サンプルコードに否定演算子が多いというのは、わざとなのかもしれません(※)し、あるいは何も考えてないかもしれませんが、著者に訊かなければ真実は不明かと。 ※たとえば、処理Aが成功したときリターンコード0を返す場合など否定で判定させたりします。
>【""】を外すと正解になるのですが それだとエラーになってしまいませんか？エラーがちゃんと捕捉出来ない環境なんでしょうか（ちょっと謎です）。 下記のソースで確認してみてください。これで問題なければ if で書き直してもいいだろうとは思いますが・・・ <form action="" method="post"> <input type="text" name="data" /> <input type="submit" value="送信" /> </form> <?php if ($_POST) { $input_data = isset($_POST['data']) ? $_POST['data'] : ''; switch ($input_data) { case 40: // （緩やかな比較なので'40'でなくてもOK） print '正解です（40）<br />'; break; case 'JP': print '正解です（JP）<br />'; break; case '日本': print '正解です（日本）<br />'; break; default: print '間違いです<br />'; } }
前回答者さんと同じですが、まったく同じものを別カラムに持つのは意味を感じないので、構成の一考が必要かもしれませんね。 ただ、ここはPHPの質問コーナーなので、PHP上での都合と想像してみました。 SQLのテーブルでは一つのレコードに一意保証されたPRIMARY KEYが必要で、多くのAUTO_INCREMENTはこの一意を保証するために使われていると思います。 また、SQLでは別のカラムにAUTO_INCREMENTを設定することも可能ですが、この辺はPHPではなくSQLの仕様や望むテーブル構成により決定するものです。 なので、AUTO_INCREMENTはSQLのテーブル設計で決定しているはずだし、まだ存在していないレコードのIDも存在もしていない事になります。 なので新たなレコードをINSERTした後でないとそのIDも確認できませんし、存在しないIDを移すような処理もできません。 なので、僕ならと言う感じでPHPでの処理ですが。 ・新しいレコードをINSERTする。 ・LAST_INSERT_IDで直前にINSERTされたレコードのIDを取得する。 ・取得したIDからご質問の「link_id」を作成してそのIDのレコードにUPDATEする。 な感じで処理します。
それを行おうとする場合、送信側でやる必要があるというのはわかりますか？ ということは送信側で動作するプログラムで行うことになりますがjavascriptでは送信側のファイルにアクセスすることはできませんので、ActiveXやjavaアプレットを使って送信してもらうということになるかと思います。
php本体ではなく別のメール送信用プログラム（sendmailなど）にデータを送ってメール送信させます。 無料レンタルサーバーでは、sendmail の利用を禁止しているところも多いので、サーバー仕様をよくご確認下さい。
んー .htaccessを使えばできるんじゃないかしら。 たとえば html側で <a href="http://www.●●●●.com/abcd">サイトはこちら</a> で、そのサイトのabcdファイルがあるパスにhtaccessを置くんですよ。 その内容はこうです。 RewriteEngine on RewriteRule ^(.*\.html)$ ../php/shop.php?pid=104 [L] 説明しますとURLを書き換えられます。 リライトルールの後は正規表現で、条件を指定します。ここではすべてのhtmlファイルが対象です。 すべてのhtmlへのアクセスはshop.php?pid=104 へ書き換えられます。 つまり http://www.●●●●.com/abcd がアドレスバーに表示されたまま 実際には ../php/shop.php?pid=104 へアクセスしています。 これがリライトです。 これを使えばいいんじゃないかな。 上手に説明できないけど、htaccessとRewriteEngineを調べて理解できれば使えますよこれ＾＾
んーー私の判断といたしましても、 ＞以降に $flg　が出てこない為、悩んでいます。 ということですので、 8行目に $flg = false; は必要ないのではないかなぁ・・・と思います。 誤植ですかねぇ・・・
No2 回答者です。 SetEnvIf Request_URI "^(.*)/([^/]*)\.pdf$" Req_Uri=$1 この正規表現で、 () の出現順に $1, $2 に格納されるので、 $1 には、ディレクトリpath名が入るはず。 apacheサーバーの正規表現はperl準拠とあったからこれでいいと思ったのだけど。 　ブラウザが http://example.com/ringo/ringo1.pdf を要求したときに、 Link <http://example.com/ringo/index.html>; rel="canonical" この文字列がファイルheaderに追加されて、pdfファイルが返ってくるはず。この状態にしたいのですよね？ Google 検索エンジンはこの情報を解析するようになったが、普通のブラウザには用がないので、ファイルヘッダーは普通のブラウザ(operaとかieとか)じゃ表示してくれなくて、うまくいってるのかよく解らないのが悩みどころ。 firefoxならプラグインで表示してくれるのがあったような気もするが。。。そこまで入れてないので確認できてません。
WordpressはWordpress 初心者はまずココ http://wpdocs.sourceforge.jp/テンプレート階層 そしてテーマの基本を理解したら http://wpdocs.sourceforge.jp/関数リファレンス http://wpdocs.sourceforge.jp/関数リファレンス/WP_Query このへんとにらめっこしながらテーマをいじる プラグインをいじくるときは http://wpdocs.sourceforge.jp/プラグイン_API/アクションフック一覧 http://wpdocs.sourceforge.jp/プラグイン_API/フィルターフック一覧 とにらめっこ…と言いたいとこだけど数が多すぎるので 似たようなことやってるプラグインがどのフックを使ってるかを 実際にみてやったほうがいい、プラグイン独自のフックの定義もあったりするので プラグイン周りはわりと現物を解析するほうが吉 １テーマの構造　style.css index.php function.phpの役割の理解 ２テーマの関数　loopの書き方、WP_queryについての理解 ３フックについて　プラグインの役割、フックについての理解 だいたいこんな順番で学習するといいかと思います
xamppならデフォルトで動きますが、 Apacheの設定が変わったか、 Apacheの設定の場所にページを置いていないか、でしょう。
To_aru_Userの回答に補足させてください。 php.iniはサーバー環境により変更ができない場合があります。そのような場合には.htaccess（ドットエイチティーアクセス）で対応できると思います。この辺もググッてみてください。.htaccessで非表示にしてる場合も… また、エラーインフォは開発時とても参考になり、作業工程を大幅に軽減してくれますので、To_aru_Userさんの回答通り利用価値が高いと思います。 ただ、開発終了後のエラーインフォは場合によりサイト情報の漏洩につながる危険性があります。 業務として請け負っているサイトの場合、開発時・修正時以外はエラーインフォを出さないよう設定しています。 To_aru_Userさん勝手に補足してすいません。 ^-^
質問趣旨にあってるかわかりませんが、僕個人の意見を。 JavaScriptでの構築も可能でしょうが、ネットワークコストが増えるし隠ぺいもできず、メリットが無いので僕は採用しません。 で、下記を想定してみました。 ------------------- name,product_id,product_class_id A11,137,634 B11,001,001 C11,002,002 D11,003,003 E11004,004 F11005,005 ------------------- もし上記程度のレコード数ならSQLを使わず上記内容を書いたテキストファイルを作ります。これをfile文で読み込むと行単位の配列ができるので、続けてforeach文とexplode文を使い連想配列を作ります。 $lines = file('上記のファイルを指定'); $list = array(); foreach($lines as $line){ $temp = explode(",", $line); $list[$temp[0]] = $temp; } var_dump($list); な感じでできた配列を利用しhtmlへ反映します。 この管理なら早くコーディングもできるし、テキストファイルの修正でレコード管理も可能です。EXCELからの出力と連携をとることもできるでしょう。 しかし、レコード数やカラム数が膨大になると、この管理では不十分になってきます。 その場合ここまでの回答者さんと同じようにSQLの利用が必要です。 当然規模や保守性などを考慮して利用するSQLを選択したり、SQLの入れ替えなどを考慮してPDO(異なるSQLの差を吸収してくれるコネクト)を利用するなどを検討します。 製作の作業コストもかなり増えることになります。 それと、別な内容ですが。 <input type="hidden" name="product_id" value="137" /> <input type="hidden" name="product_class_id" value="634" /> など、html上にhidden項目を置いていますが、PHP上で処理できるため、不要にできるかもしれませんね。ECサイトや商品マスターなどでは、利用者への告知が不要なものは隠ぺいしたほうがよい事が多いのでこの辺もご一考を。
>> 502エラーは毎日数十～100件程度出ているようです。 これが起きたタイミングと、ご質問の現象の発生時間は一致すると思うのですが如何でしょうか。 サーバー側から応答がないのでクライアント側は待機状態となり、 サーバー側にはクライアント間機器(もしくはバックエンド)と通信できないので502が記録されている、 と考えれば辻褄は合います。 色々考えられますが、まずはIISのログを詳細に記録するように変更してみては？
やり方は色々あるだろうけど 常に上から3つとそれ以降で分けたいのであれば $a = array('一個目', '二個目', '三個目', '四個目', '五個目'); //0番目から、３つの要素取得 $b = array_slice($input, 0, 3); //3番目以降の要素を取得 $c = array_slice($input, 3); //それぞれ回す foreach($b as $key => $vallue) { } //なんか表示 foreach($c as $key => $vallue) { } とかでも。 ちょっと厳密に動きを精査してないんで、配列に3つ以上要素があるかとか、array_sliceの仕様をちゃんと理解してから使ってみてください。
何かの間違いでしょう。　｝には　｛　の対が必要では？
>表示された一覧記事一つ一つにボタンをつけてボタンを押したら そういう条件であれば、Loopの中でForm要素を生成してください。つまりボタンごとに全部別のフォームにすべきです。でないと、どのボタンが押されたのかが判別出来ません。 というかボタンがsubmitになっていないということは、他の手段で（JavaScriptなどで）POSTする予定なんでしょうか？ 普通は foreach (何らかのループ) [ print '<form action="" method="post">' . PHP_EOL; print '<tr>' . PHP_EOL; print '<td>' . $a++ . '</td>'; print '<td>id = ' . $row['id'] . '</td>'; print '<td>name = ' . $row['name'] . '</td>'; print '<td><a href="http://localhost/test/' . $row['slug'] . '">' . $row['slug'] . '</a></td>'; print '<td><img width="200" height="200" src="' . $row['links_img'] . '" /></td>'; print '<td>' . $row['description'] . '</td>'; print '<td><input type="hidden" name="id" value="' . $row['id'] . '"><input type="submit" value="複製"></td>' . PHP_EOL; print '</tr>' . PHP_EOL; print '</form>' . PHP_EOL; } // ループここまで とします。JavaScriptなどでPOSTさせるというのであれば、今現在その部分をどう書いているのかを提示してください。 （以下蛇足） まぁ、 >できればページ遷移を行わずに複製が理想なのですが、 ということなので、jQuery.postあたりを使うならフォームの必要すらないかもしれません（全部自前ででセットしてPOSTすればいいので）。単なるボタン要素にしてonclickで呼び出す関数（その関数内でpostする）に引き渡すのを$row['id']とかにすればいいでしょう。 http://semooh.jp/jquery/api/ajax/jQuery.post/+ur … print '<input type="button" onclick="postdata(' . $row['id'] . ')">'; みたいな感じで出来ませんかね（未検証ですのであしからず）。
ファイルの更新日時（タイムスタンプ）を利用すればいいのでは？ <?php $upd = filemtime('update.tmp'); while ($upd < time()) { $upd = strtotime('+1week ', $upd); touch('update.tmp', $upd); } $next = strtotime('+1week ', $upd); print '更新日：' . date('n月j日', $upd) . '／次回更新予定：' . date('n月j日', $next); 一番最初だけ touch('update.tmp', strtotime(date('Y/m/d'))); などとして時刻部分が 0:00:00: の状態にしておけばいいと思います（このときに任意の日付をセットしてもいいでしょう）。
PHPは専門外なので、見当違いな回答ならスルーしてくださいな。 preg_match("/$val/", $kpa[0], $matches, PREG_OFFSET_CAPTURE); 　↓ preg_match("/^$val\$/", $kpa[0], $matches, PREG_OFFSET_CAPTURE); としてみたらどうでしょうか？
失礼を承知で申しますが。 > 一通り学習しました の根拠は何でしょうか? 2冊も参考書を読んで理解したのなら「ちんぷんかんぷん」等ということは無いはずです。 作ろうとしているプログラムの全てはわからなくても、部分的にはわかるはずです。 例えば、 掲示板を作りたい →フォームをSUBMITしたら、そのテキストを受信して、ログファイルに書き出す ・ファイルの読み書きはわかる ・フォームからの受け取り方法がわからない といった具合に。 あるいは サンプルコードを読んでいるとき ・whileでループしているのはわかる ・whileの条件に知らない関数使われていて、どんなループ動作するかわからない といった具合に。 わからない箇所が判明したら、それについて調べる、というのが、次の学習です。 その内容について詳しい本やサイトを見る等で、理解を高めます。もしかしたら、今持っている本に書いてあって、その理解が不十分なだけかもしれません。 こういう「わからない箇所」すらも判断できないようなら、「一通り学習」が済んでいません。 もう一度その本を学習しなおしてください。
自分で手を動かして（ソースを書いて）確認してください。 <?php $def = 'test'; $abc = array(); $abc[] = $def; $abc[] = $abc; print '<pre>'; print_r($abc); print '</pre>'; $abc[0]　に $def を代入して、$abc[1] に $abcという配列（[0] に $def の内容がある）を代入しています（二次元配列になる）。
(1) page2.phpにどうやって遷移するのか次第ですが、QueryStringで渡して（anchor要素のhref属性で、page2.php?i=<?= $i; ?>）受け取り側で$_GET['i']で取り出してもいいですし、セッション変数に格納することもあります。 (2) >$recordSet = "SELECT * FROM syokuhin WHERE syoku_id = ". '$num' ; >$table = mysql_fetch_assoc($recordSet); この書き方では$recordSetは単なる「文字列」ですよね。mysql_fetch_assocの引数はmysql_queryを実行した戻り値のリソースです。つまり $recordSet = mysql_query(sprintf("SELECT * FROM syokuhin WHERE syoku_id = '%s'", mysql_real_escape_string($num)); $table = mysql_fetch_assoc($recordSet); としなければいけません。本来であればエラーメッセージが出ないといけませんが >何も表示されません… ということでしたら（少なくともデバッグ時には）エラーメッセージが表示されるように設定を変更してください。 なお、MySQL関数はもうすぐオワコンです。MySQLiもしくはPDOで書き直してください。
基本的に やり方は一緒ですが、「区切り文字」を作るというだけなら nl2br を使うのも手かと思います。 まぁ、やってみたら うまくいきませんでしたが、理論上は ↓の例３の通りかと。 http://php.net/manual/ja/function.nl2br.php 参考URL：http://php.net/manual/ja/function.nl2br.php
> 99－「インクリメント値×100/配列要素数」？ 正解です。 > これは何をしているのでしょうか？ 回答者が↓と書いてますよね。 > 1.Sort the array based on the "score", ascending > 2.Percentile = (Index of an element in the sorted array) * 100 / (total elements in the array) 1.配列をスコアを元に「昇順」で並び替えると、 2.パーセンタイル ＝ 並び替え後の配列のindex値 × 100 ÷ 配列の要素数 で求められる つまり… > $i * 100 / $total; …は、上記説明の2をそのまま式にしただけです。 ですが、回答者のコードは、説明とは裏腹に配列をスコアの「降順」でソート（arsort($array);）してからループで回してますので、 > $percentile = 99 - $i*100/$total; …という式になっています。一気に色々やらずに段階を踏んだコードだと、冗長にはなりますが、例えば↓みたいになると思います。※全角スペースは半角に置き換えてください。 $dataAry = array( 　　45 => 5, 　　42 =>4.9, 　　48 => 5, 　　41 => 4.8, 　　40 => 4.9, 　　34 => 4.9 ); //-- スコア別に集計 $aggregateAry = array(); foreach ($dataAry as $id => $score) { 　　if (isset($aggregateAry["{$score}"])) { 　　　　$aggregateAry["{$score}"][] = $id; 　　} else { 　　　　$aggregateAry["{$score}"] = array($id); 　　} } //-- 集計結果をスコアの「昇順」でソート ksort($aggregateAry, SORT_NUMERIC); print_r($aggregateAry); //-- パーセンタイル値を求める $cntData = count($dataAry); $percentile = -1; foreach ($aggregateAry as $score => $idAry) { 　　$percentile += (100 / $cntData) * count($idAry); 　　echo 'ID:', implode(',', $idAry), '/Score:', $score, ' => ', $percentile, "\n"; }
#1です。 ちなみにcronをGUIでWEB画面上から編集したいというだけであれば webminなどの管理ツールを使う手もあります
特にこだわりが無ければ、Ubuntu なら apt-get で入れちゃえば良いのではないでしょうか。 # apt-get install libxml2 libxml2-dev 上記へ、必要に応じて libjpeg-dev や libpng-dev 辺りも付け足せば良いです。 もしくは、libxmlは DOMやSimpleXml 等が使用しているので、それらが不要ならPHPのconfigure時に↓のオプションを足せば、libxmlが入ってなくても大丈夫な筈です。 --disable-libxml --disable-dom --disable-simplexml --disable-xml --disable-xmlreader --disable-xmlwriter ※↑は手元の古いメモから引っ張り出してきたので、抜けがあるかもしれません。
レンタルサーバのPHPのバージョンとあわせる。 >PHPの部分は他社の方と組んで完成させています。 >そろそろ、自分でもPHPの勉強を始めたいと思っています。 そのままの方が良い。 下手に質問者がにわかの知識で手を出してセキュリティーホール大量のソースを作れば 迷惑するのはクライアント。
投稿主さんの環境を考慮した場合、最も現実的な方法としては「Googleに報告する」という手段になるかと思います。 パクりサイトの事を「スクレイピングサイト」と呼びますが、Googleは以前から「スクレイピングサイト」の撲滅に力を入れています。 ■スクレイピングサイトの報告 https://docs.google.com/spreadsheet/viewform?for … ■著作権侵害によるURLの削除依頼 https://www.google.com/webmasters/tools/dmca-not … ■その他参考になれば… https://www.google.co.jp/search?q=google+%E3%82% … 以下は技術的な話です。 オーソドックスなものとしてはIPアドレスで弾く方法がありますが、実現するには… ・botのIPアドレスをアクセス解析やログ等で確認する事ができる ・ブログにIPアドレスで弾く機能がある …事が前提になります。 botは、特有の「環境変数」を吐いていたり、普通の人では開いていない筈の「port」が開いていたり、JavaScriptやクッキーを処理できなかったり、<iframe>タグの処理が通常のブラウザと異なっていたり…といった何かしらの特徴がありますので、知識さえあれば大抵のbotは弾くことが可能です。
ご記述頂いてますエラーログを適当に区切ってGoogleで検索してみました。 参考URLを御覧ください。 php-fpmを起動し忘れてたぜ、というような文章のようでした。 php-fpmは起動されておりますか？ 参考URL：http://blog.jmoz.co.uk/nginx-connect-failed-whil …
>具体的には、リンク先ページで言えば、css.phpに記述してい >る「ランダムなカラー設定」を、index.phpに記述したい であれば、css.phpでindex.phpを（fileやfile_get_contentsで）読み込んで（解析して）カラー設定を記述している部分を抜き出すしかありません。 当然ですが「読み込むファイル名」（この場合だとindex.phpですが、固定じゃないですよね）の判断に$_SERVER['HTTP_REFERER']をアテにしてはいけません。POSTやGET（当然QueryStringやpathinfoもダメなんでしょうね）となるとCookieでも使うしかないと思いますが・・・ ＃どうせ呼び出し元のphpスクリプトに記述するのですから、 ＃QueryStringやpathinfoで渡せば楽なのにとは思います。
考え方は２つ PHPで総当たり表をつくるなら、チーム一覧を配列に収め、二重でループをすればできます。 SQL側で総当たり表をつくれば、結果をforeachで表示するだけですみます。 元データの持ち方にもよりますが、この程度のものならSQLで作ってしまう方がよいかもしれません。
evalを使うならこんな感じの方がよいかも <?PHP $a = "6861/2500"; $b=eval("return ".$a.";"); print $b; ?> データを検証するならこんな感じ？ <?PHP $pattern="/^\s*(\d+)(\s*[\/*+-]\s*(\d+))+\s*$/"; $a="1+2 / 3-4 *5"; $b=0; if(preg_match($pattern,$a)) $b=eval("return ".$a.";"); print $b; ?>
途中経過をすっとばすとして $one_month_buy_money = $sum_point['SUM(request_money)']; でSUMした集計値を変数に取り込めないというだけの話であれば $sql = "SELECT SUM(request_money) AS total ・・・"; というように別名を付けておき $one_month_buy_money = $sum_point['total']; のように別名でアクセスします
> $n=0+$line[0]; 実は俺 昔そういう書き方したことあるんですよねぇ。。。 既に他の方も書かれてるようにキャスト（型変換）したかっただけだと思いますよ。 その $line[0] を var_dump か gettype すると 多分 String じゃないですかねー
※ 以下、お礼へのコメントです。 > apacheしか使った事がない webサーバが立てられるのであれば、ApacheでもIISでも何でもいいんですよ。 ただ、Windows2008サーバだとIISが標準で入ってるしそれ使えば良いかな？と。競合にさえ気をつければApacheとIISとの共存は可能ですので、Apacheで運用しても全く問題ありません。 ※くどいですが、競合には気をつけてください。 > apacheにそんな事ができるとは ？？？ Apache や IIS ＝ webサーバ ＝ サーバ上の任意のディレクトリをwebブラウザから見れるようにするもの…ですが。。。
※ 以下、補足とお礼に書かれた内容に対するコメントです > クリックしたとき配列のNo.を変数（$mode）セットし出力するという処理でよいでしょうか。 違います。例えば… http://localhost/index.php?mode=explain&id=1 …のようにindex.phpにパラメータが渡されたとすると、$_GET['mode'] に 'explain' が入り $_GET['id'] に '1' が入ります。 「スーパーグローバル変数」の理解が怪しいですので、最低限 $_GET と $_POST の意味から調べてみると良いです。 http://www.php.net/manual/ja/language.variables. … > <a href= をどのように記述したらよいでしょうか。 私のコードをコピペすれば動きますよ。 ※全角スペースは半角に置換してください。 初心者の方は、往々にして書籍等のコードを見よう見まねで手打ちする事がありますが、それよりもまずはキチンと動くコードを実際にブラウザ上で動かしてみて、その挙動をよ～く確認するようにすると良いです。 「PHPのソースコード」「ブラウザの画面」「ブラウザ上部に表示されるURL」の3つをにらめっこしながら何度も動かしていると、細かい部分は理解できなくとも、大雑把に全体の流れがイメージできるようになります。まずはそこから始めてみてください。全体のイメージがつかめないまま1行1行を理解しようとするのは駄目です。「木を見て森を見ず」ってやつです。 > <a href="$mode = (isset($_GET['mode'])) ? $_GET['mode'] : '';"><img src="001.png"></a> > で良いでしょうか。 自分で試してみましたか？ もしご自分のパソコン上にPHPを実行できる環境が整ってないのであれば、とりあえずプログラムは置いておいて、まずはその環境づくりからです。「急がば回れ」ってやつです。 https://www.google.co.jp/search?q=Windows+PHP+%E …
実際に書いて実行してみると良いです。 $ary = array(array()); print_r($ary); $ary['key'] = 'value'; print_r($ary); ------------------------- $ary = array(); print_r($ary); $ary['key'] = 'value'; print_r($ary); 当然ながら、出力される結果は違いますよね？ > これは何をしているのでしょうか？ 配列 $ary のキー 0 には空の配列が入っているという意味になりますね。 > $hoge = array()；ではダメなのでしょうか？ 配列 $ary のキー 0 に「必ず」空の配列が入っている事が期待されるプログラムなら $ary = array(array()); ですが、そうでないなら $ary = array(); で良いです。
> csvの改行コードのせいで繰り返しができてないのかも そう考えたのであれば、まずは改行コードを変更してテストしてみるのが先決ですね。 Macで定番の↓のようなテキストエディタを使えば簡単に変更できます。 http://www.mimikaki.net/ 改行コードすら確認・変更できない環境で開発されているなら、まずは開発環境から見なおした方が良いと思いますよ。 私の環境で試したところ、改行コード LF(\n) と CR+LF(\r\n) では問題なく動作しますが、CR(\r) では1行目しか取れませんでした。 改行コード？ ⇒ http://ja.wikipedia.org/wiki/%E6%94%B9%E8%A1%8C% … ・fgetcsv() は setlocale() とセットで使うようにします。 ・feof() をループで回すと無限ループの原因になる事があるので、個人的には下記のようなループの書き方を推奨します。 ・list() を使うとコードがスッキリするでしょう。 // エラー表示ON error_reporting(E_ALL|E_STRICT); ini_set('display_errors', 1); var_dump(setlocale(LC_ALL, NULL)); // 変更前のロケール設定 setlocale(LC_ALL, 'ja_JP.UTF-8');// csvファイルがUTF-8の場合 $fp = fopen('itemlist.csv', 'r'); while (($data = fgetcsv($fp)) !== FALSE) { if (count($data) !== 5) { continue; } list($itemid, $filename, $itemname, $price, $detail) = $data; var_dump($itemid, $filename, $itemname, $price, $detail); } fclose($fp); 参考URL：https://www.google.co.jp/search?q=fgetcsv+setloc …
返り値があるかないかに依らず、echoは関数ではないので引数にできない。 print(if(1)) や print(for($i=0)) がエラーなのと同じ。みたいな？
ObjectiveCの方は見ていませんが、PHPで使うべき関数を間違えているのが原因だと思います。hash値を計算するならhash関数です。 とりあえず、ハッシュ関数や暗号化などが正しく動いているかどうかを調べるときは、入力と期待される出力が例示されているテストベクトルを見るのが当たり前です。SHA256のテストベクトルは下記で見つかります。 http://www.nsrl.nist.gov/testdata/ 例えば、 "abc"のhash値を計算して、16進数表示した時に BA7816BF 8F01CFEA 414140DE 5DAE2223 B00361A3 96177A9C B410FF61 F20015AD という結果が出ないというのはSHA256の仕様通りの計算ができていません。 ちなみに、hash_hmac('sha256', 'abc', false);するとこの値は出ません。 まずはhash関数のマニュアルを見てみましょう。 http://www.php.net/manual/ja/function.hash.php ちなみに、hash_hmac関数というのはHMACを計算するための関数です。 http://ja.wikipedia.org/wiki/HMAC http://www.php.net/manual/ja/function.hash-hmac. … 当然、出てくる値も違うはずです。
＞SELECT * FROM テーブル名 WHERE number>=2 AND sort='猫' OR sort='犬' ＡＮＤとＯＲが横に並んでいると、 SELECT * FROM テーブル名 WHERE (number>=2 AND sort='猫') OR sort='犬' になります。 SELECT * FROM テーブル名 WHERE number>=2 AND (sort='猫' OR sort='犬') が正解です。
>データ保持ができません。 $_POST['test']の値をanchor要素（のhref属性）に引き渡していませんからね。 こちら ↓ をどうぞ（多分同じ方ですよね）。 http://www.phppro.jp/qa/4056
単純なミスが多すぎです。こんなの人に聞くのは恥かしいと思ってください。 エラーメッセージの内容を良くよみましょう。 ちゃんと「prinfという関数が未定義」と書いてあります。 prinfを定義するか、正しい関数名に修正するかしましょう。
>> file_put_contentsを使いたいのですがPHP Version 5.2.5ではバグがあって使えないようです 失礼しましたm(_ _)m 最初のfopenの書き方でOKです。 ファイルロックに関して http://tumblr.tokumaru.org/post/37141017115/php5 … PHP5.2.5であれば flock($fp, LOCK_UN); は不要みたいですね。 >> mysqliに変更したいのですがレンタルサーバーが対応していませんでした あーこれは仕方ないですね＾＾； 【訂正】 サンプル内 ×　_mysql_fetch_assoc ○　mysql_fetch_assoc
DBに何かを突っ込む時は、最低限の正規化を行う以外はなるべく元のデータのまま入れるようにし、変換は出力の直前に行うようにします。 「原則からはずれる」と書かれてますので、この辺りご存知の上での質問だと思いますが、もし「なぜそうするのか？」という部分が納得いくレベルで理解できていない場合は、下記をご参考ください。 例えば、改行とHTMLタグの混ざったデータがあるとします。 <h1>sample</h1> <は<span>&lt;</span>と書きます htmlspecialchars() を通すと↓のようになり、これをDBに入れたとします。 &lt;h1&gt;sample&lt;/h1&gt; &lt;は&lt;span&gt;&amp;lt;&lt;/span&gt;と書きます 【例1】HTMLとして出力したい 「htmlspecialchars_decode() を通し改行を<br>に変換する」という処理が必要になります。 【例2】<h1>を含むデータを検索したい 単純に htmlspecialchars() を通して <h1> ⇒ &lt;h1&gt; にして検索するだけでは、例えば「&lt;」での検索結果がおかしくなりますので、処理がやや煩雑になります。 【例3】phpMyAdmin等から簡単に中身を確認したい パッと見では何が入っているのかよく分かりません(笑) このように、データに対する「汎用性」が失われてしまうので、「最低限の正規化を行う以外はなるべく元のデータのまま入れるようにし、変換は出力の直前に行うようにする」わけです。 そういった事まで「理解した上で」あえて htmlspecialchars() を通してからDBに入れるという設計にしたいのであれば、好きにすれば良いです。 > 変換した文字がmysqlに不具合を与えることはありますか? DBにデータを入れる際に適切な処理（プリペアドステートメントを使う or 特殊文字のエスケープを行う）が行われているのであれば、どのような文字列であっても、DBにデータを入れる事自体には問題ありません。 > 例えば1000行10カラムを表示する場合、1万回もhtmlspecialcharsを使わなくてはいけないので、何とか軽く処理できないか DBに格納する処理よりも出力する処理が呼ばれる回数の方が圧倒的に多くなりますから、DBに突っ込んだデータをそのまま出力する事を想定しているのであれば、決して間違った発想ではありませんが、例えば… $html = ''; while ($row = $stmt->fetch()) { $html .= $row['foo']; } $html = htmlspecialchars($html); …のようにすれば1回で済みますよね。始めから「1万回htmlspecialchars() 呼ばなければいけない」と決めつけるのではなく、柔軟な発想が必要です。 更に究極を言えば、PHPを通してHTMLを出力するよりも、静的なHTMLを出力した方が処理速度は圧倒的に速いです。 即ち、htmlspecialchars() 等を通し更にHTMLとして加工した結果をHTMLファイルとして保存し、出力はDBを通さずにそのHTMLファイルを出力するようにするのが最速です。
ＡＡＡの中の.htaccessにアドレス転送 ＢＢＢとＣＣＣの中の.htaccessににアドレス統一 日本語ドメインならwww有り無しは関係ないのでは？
既に回答にあるように、mb_send_mail関数ですね。 http://php.net/manual/ja/function.mb-send-mail.php http://www.abe-tatsuya.com/web_prog/php/mb_send_ … http://d.hatena.ne.jp/minmin_lucky7/20110425/130 … >> http://www.php-labo.net/tutorial/php/upload.html を参考に こちらのサイトはセキュリティーホールに対する考慮が一切説明されていないので下記URLをご覧ください。 http://qiita.com/items/939964377766a54d4682
経験上mb_internal_encodingは精度に問題があるのであまりお勧めできない mail()かPEAR::Mailでエンコードは自前でやる方が確実
> phpでurlのチェックをする方法 正規表現でチェックする方法もありますが、filter_var() 関数を使うと良いです。 https://www.google.co.jp/search?q=php+filter+url > mysql_real_escape_string() mysql_xxx ではなく mysqli_xxx 系の関数を使った方が良いです。 即ち、mysql_real_escape_string() ではなく mysqli_real_escape_string(); ですね。 ※もちろん、他の mysql_xxx と書いているコードも修正する必要があります。 書籍やサイト上では、未だに mysql_xxx 系の関数が使われている古いコードが散見されますが、参考にしない方が良いです。MySQLなら、mysqli_xxx か PDO を使い、プリペアドステートメントを使っているコードを参考にしましょう。 https://www.google.co.jp/search?q=php+%E3%83%97% … > 文字数制限は必要ないですよね？ 最初は面倒かもしれませんが、外部から来るデータは、文字数の長さ，正当性等、丁寧にチェックする「癖」を付けておいた方がいいですよ。
>自動返信メールの送信元を現在のメールアドレ >スとすることはできるのでしょうか？ メール送信時の送信元アドレスは何にでも出来ます。 ただ「なりすまし」と判断されてスパム認定される可能性が高くなるだけです。メールを運用しているハズのない日本語ドメインを名乗った場合も同じです。
>mypage.phpに\\1ではなく、パラメーター(?id=$post['id']のような)を振りたい 意味が伝わってこない $post['id']は配列を展開してパラメータとしたいのでしょうか？ urlencode()でエンコードしてつなげるだけだと思いますが
>> 数値が入っているものと入っていないもの（NULL) >> af3 ='' >> af5 ='' NULL値 と 空文字 "" は当然異なるものです。 下記でもこれについて言及します。 Yune-Kichiさんの回答に補足します。 コールバック関数の function ($i) { return is_null($i); } について。 私のものは function ($i) { return !$i; } でしたが、これとは判定基準が異なります。 PHPのisset,empty,is_null http://d.hatena.ne.jp/sngmr/20080209/1202520832 is_null($i) は「NULL」のみ、 !$i は「NULL」「FALSE」「0」「0.0」「"0"」「array()」 を対象とします。 空きカラムをあなたがどのように管理しているかによって、どちらを採用すべきかが異なってきます。 自分で「空きカラム」とするときにNULLを代入しているのであれば、前者の方法でいいでしょう。 どちらかといえば関数を呼ばずに function ($i) { return $i === null; } と書いた方がパフォーマンスはいいですが、お好きな方で。 そうではなくて単に空文字列 "" としている場合は、私の function ($i) { return !$i; } を採用してください。但し、上で述べたように文字列の「"0"」も空と見なされてしまうので、純粋に0文字の場合のみとしたい場合は function ($i) { return $i === ''; } とでもしてください。 ----------------------------------------------- 個人的にはそもそも、データをフェッチしてくる段階で空きカラムのみを取得すべきだとは思いますが。 SQL文でNULL（または空文字）の場合のみを取得するように書くべきです。
訂正： エラーハンドラ内でErrorExceptionをスローしない場合は最後に「return true;」が必要
$example = 'AABBCC'; if (strpos($example, 'AA') !== false || strpos($example, 'CC') !== false) { echo 'Matched.'; } 処理が単純なときは出来るだけ正規表現を回避。
$sqlは文字列ですから普通にsprintfあたりで処理してやれば？ <?PHP $sql="select * from item order dy price %s limit %d,%d"; $sort=(isset($_GET['price'])and $_GET['price']==="low")?"asc":"desc"; $show=isset($_GET['show'])?$_GET['show']:0; $p=isset($_GET['p'])?$_GET['p']:30; $sql=sprintf($sql,$sort,$show,$p); print $sql; ?>
必要に応じてissetかemptyを使いましょう。 http://php.net/manual/ja/function.isset.php http://php.net/manual/ja/function.empty.php (1) if ($_GET['data']) ↓ if (!empty($_GET['data'])) (2) if (!$_GET['data']) ↓ if (empty($_GET['data'])) (3) if ($_GET['data'] != '') ↓ if (isset($_GET['data']) && $_GET['data'] != '') (4) if ($_GET['data'] == '') ↓ if (!isset($_GET['data']) || $_GET['data'] == '') POSTならまだしも、GETなら特に ～/test.php?data[hoge]=var とかするだけで簡単に配列も渡せてしまうので、厳密に "文字列" かどうかチェックしたい場合は (1) if (!empty($_GET['data']) && is_string($data = $_GET['data'])) (2) if (empty($_GET['data']) && is_string($data = $_GET['data'])) (3) if (isset($_GET['data']) && is_string($data = $_GET['data']) && $data !== '') (4) if (!isset($_GET['data']) || !is_string($data = $_GET['data']) || $data === '') (3)と(4)に関してはついでに途中で代入を同時に行って、$_GET['data']みたいな面倒な書き方しなくても、$dataだけで次から呼べるようにしてます。 こちらでは==演算子の代わりに===演算子を使ってます。 型が想定できていれば、可能な限りこちらを使うべきです。 ==演算子に関連したPHPの気持ち悪い挙動について http://bloggdgd.blog28.fc2.com/blog-entry-275.html ＃これぐらいならブログURL貼ってもいいよね・・・（運営様に怒られても知らない
ごめんなさいタイポです × inteval ○ interval
正規表現で数字だけ抜き出せばOK？ いまいちどういう処理をしたいのか分かりにくいけど。 http://ideone.com/FQlkaW
fetch を使ってみてはいかがでしょうか？ 多少書き方は変わりますが… index.tpl 内を <h2>男の子</h2> {$boyposition} <h2>女の子</h2> {$girlposition} とします。 index.php 内で $Boy = new Smarty(); $Girl = new Smarty(); として $Boy -> assign( "data", $boy ); $boyhtml = $Boy -> fetch( "test.tpl" ); $Girl -> assign( "data", $girl ); $girlhtml = $Girl -> fetch( "test.tpl" ); $Smarty -> assign( "boyposition", $boyhtml ); $Smarty -> assign( "girlposition", $girlhtml ); これでいけそうな気がしますがいかがでしょうか？
あなたの言う「情報を足す」とはどのような操作を言っているのでしょうか? SQL1で 1,12,13 2,14,15 SQL2で 1,22,23 2,24,25 とあったとき 1,12,13 2,14,15 1,22,23 2,24,25 と配列の後ろに、追加するのか 1+1,12+22,13+23 2+2,14+24,15+25 のように配列の要素同士を足すのか 1,12,13,1,22,23 2,14,15,2,24,25 のように、横に継げるのか 可能ならば、1つのSQLで済ませる、という意見に賛成です。
2.4.1 releaseのようですから， Codebird::setConsumerKey(CONSUMER_KEY, CONSUMER_SECRET); =>\Codebird\Codebird::setConsumerKey('YOURKEY', 'YOURSECRET'); $cb = Codebird::getInstance(); =>$cb = \Codebird\Codebird::getInstance(); そして，srcの中にあるcodebird.phpとcacert.pemを同じディレクトリに設定 して，試してみられたら。 ちなみに，私はそれでうまくいきました。
以下で回答しましたが、バグのようです。 http://oshiete.goo.ne.jp/qa/8114885.html 上記QAでは、Aptana Studio 4.3.1で修正されるようだと書いたのですが、公開されず。 引き続き注視する必要があります。
http://opensourcecms.blog122.fc2.com/blog-entry- … http://blog.verygoodtown.com/2010/01/youtube-lik … http://www.openpne.jp/about/
>端末用にコーティングするにはどのような記述をしたら良いでしょうか。 phpでの「処理」はPC向けでもスマホ向けでも携帯（フィーチャーホン）向けでも変わりません。相手によって『htmlやcssが変わる』だけです。スマホ向けであれば画面サイズを別にすればPC向けと大差なく書けると思いますが・・・ なお >$_SERVER['PHP_SELF'] こういう危ない記述はやめましょう。いったいどこから引っ張ってきたのでしょうか。 http://www.google.co.jp/search?q=PHP_SELF
正規表現にはこの関数を使ってください。 http://php.net/manual/ja/function.preg-match.php
if (!isset($_POST['submit'])){
#2です。蛇足。 データベースなどから取り出す場合はこんな感じで処理する方が わかりやすいですね <?PHP $s = array( array('A-1'=>'A-2','B-1'=>'B-2','C-1'=>'C-2','D-1'=>'D-2','E-1'=>'E-2') ,array('A-1'=>'A-3','B-1'=>'B-3','C-1'=>'C-3','D-1'=>'D-3','E-1'=>'E-3') ,array('A-1'=>'A-4','B-1'=>'B-4','C-1'=>'C-4','D-1'=>'D-4','E-1'=>'E-4') ,array('A-1'=>'A-5','B-1'=>'B-5','C-1'=>'C-5','D-1'=>'D-5','E-1'=>'E-5') ); $t="<table>\n"; $t.="<thead>\n"; foreach (array_keys($s[0]) as $val){ $t.="<th>".htmlspecialchars($val)."</th>\n"; } $t.="</thead>\n"; $t.="<tbody>\n"; foreach ($s as $row){ $t.="<tr>\n"; foreach($row as $key_1=>$val){ $t.="<td>".htmlspecialchars($val)."</td>\n"; } $t.="</tr>\n"; } $t.="</tbody>\n"; $t.="</table>\n"; print $t; ?> 単に連想配列であれば１行目と２行目以降のキーが同等である保証はありませんが データベースなどからの抽出であれば同等のデータとなるはずなので・・・
http://php.net/manual/ja/control-structures.else … http://php.net/manual/ja/control-structures.alte … 公式リファレンスマニュアル
今はレンタルサーバでも「1分おき」にcronで起動させられるところが増えていると思います。 なので、現象発生→ファイル作成もしくはデータベース更新などでフラグを立てる→cronでフラグが立ってからの経過時間が一定時間を超えたら所定の処理をする。などといった感じがいいんじゃないでしょうか。 よほど「正確に10分」が必要でもない限りは、じっと遅延させる（実行を待ち合わせる）のは無意味です。10分以上で11分未満でよければcronで1分ごとにチェックする方がいいです。
>本当に改行が複数あった場合などは、どうなるのか？ ユーザーが任意で複数入れた改行と、ブラウザの仕様で送られてくる複数の改行は 見分けがつけられないでしょうね エージェントをみて判断するとしても、微妙なモードによって違うのであれば なおさらです。 ポイントとしては ・そのモードを利用しない／させない ・IE10では不具合の可能性がある旨明示する などの対応しかないと思います もしくは仕様として、preg_replace("/\n+/","\n",$str)のような変換するなどして、 2回以上の改行を禁止にするという考え方もあります
とりあえず、FBのいいねボタンの仕様は知らないけど、ぱっと思いつくのは以下の様な感じ。 必要なテーブルが三個。 ユーザーテーブルと記事テーブルと、いいねカウントテーブル。 いいねカウントテーブルは ユーザーIDと記事IDだけのシンプルなテーブル。 ユーザーが その記事を開いた時点で このテーブルを参照し、「いいね」ボタンにするか「キャンセル」ボタンにするか決める。 Ajaxでやるなら その都度だけど。 んで、記事に対して いいねが押された時に このテーブルに追加。キャンセルだったら 当該レコードを削除。 その流れでカウントを集計して、記事テーブルの方にもカウント数を反映。 こんな感じかなと思います。 多分、言ってることは agunuzさんと一緒。
出力するタイミングで使うのが正解。 http://note.chiebukuro.yahoo.co.jp/detail/n149597
（私の頭がカタいだけかもしれませんが）ちょっとこれだけでは何をしているのか分かりづらいですねぇ・・・ とりあえず他の回答者さんのために整形したコード貼っておきます http://ideone.com/Qk3Ld9
1次元配列:長屋(平屋) 2次元配列:アパート 3次元配列:団地(複数の棟がある物)
SQL全然無知で回答しますがお許しください。 [1] SELECT DISTINCTで解決。 http://www.syboos.jp/database/doc/20080216155839 … EXISTSを使ったほうが高速(？) http://d.hatena.ne.jp/annin102/20060908/1157734624 [2] すでにOKWaveに質問がありました。 http://okwave.jp/qa/q5089253.html
基本的にパスワード領域を保存するかどうかはブラウザの仕様なので ユーザー環境に依存するものだと理解しておいた方がよいです。 あえてjavascriptで処理するならクッキーに保存しておいて、ログイン画面が 呼び出された場合に任意に吐き出してやる手もありますが その場合クッキー上に生のパスワードが残ってしまうのであまり 頭のよい方法ではありません。 一般的にはページへのアクセスにセッションを残しておき、 一定期間はログインIDとパスワードではなくセッション情報でログイン状態を 確保するのが基本になるでしょう。 その場合パスワードを保持しておく意味がないので、あえて処理をいれなくても よいでしょう。
よほど自信がないかぎりhtmlに書きだすときは htmlspecialchars()を利用した方がよいでしょう
投稿データテーブルに一意になるキーを付けます（id　とか） タグテーブルを作り、投稿データテーブルのidとタグを入れます。 create table toukou (id integer, basho varchar(100)); create table tags (id integer, tag varchar(100)); みたいな感じですかね。 idをリレーションキーにすれば、タグの個数が不定でも投稿1件毎に適当な数のタグを付けられます。
t_ohtaさんのソースを拝借します。 function printTable($table) { echo '<table>' . PHP_EOL; foreach ($table as $line) { echo '<tr>'; foreach ($line as $cell) { echo '<td>' . $cell . '</td>'; } echo '</tr>' . PHP_EOL; } echo '</table>' . PHP_EOL; } 行の終わりにPHP_EOLを付けてあげたほうが出力HTMLがきれいになるので、出来ればこちらで。
整数部分（小数点以下切り捨て）はnumber_formatに任せて、 小数部分は、floatvalした上で「.」が出現すればそれ以降を返せばよいでしょう <?PHP $array=array(10000,10000.10000,10000.00300,12345.67890); foreach($array as $val){ print number_format(floor($val)).(preg_replace("/^[0-9]+?($|\.[0-9]+$)/","$1",floatval($val)))."<br>\n"; } ?>
>クッキーやSESSION以外 GETかPOST ただしGETなどで変数を別ページに引き継ぐのはセキュリティの問題も大きいので やめた方がいい >同じページ内で削除 PHPで利用するクッキーはhttpヘッダを利用してブラウザと更新するのですから 同じページ内で変更や削除は行われるという考え方はありません （クライアントの何らかの処理をトリガーとする場合すでにヘッダは送られた あとの話なので）
>> http://から始まっていたので、クロームのアドレスバーに打つものだと思っておりましたが…。 目的は何でしょうか？ PHPを使って何かWebアプリを開発されているもの、とみて回答したのですが… 取得してどうしたいのか、というところがネックになってきます。 これをきっかけに自分のPCにPHPインストールして始められてみてはいかがでしょうか（笑 XAMPP （PHP関連物一括インストーラ） http://www.kkaneko.com/rinkou/mysql/xamppinstall … PHP公式マニュアル http://php.net/manual/ja/index.php PHPBook(めちゃくちゃな記述をしている入門書や入門サイトが多い中、ここは比較的まとも) http://www.phpbook.jp/tutorial/ 知恵ノート http://note.chiebukuro.yahoo.co.jp/detail/n149597 もしくは無料レンタルサーバー上にアップロードしてブラウザからアクセスしても動きます。 atpages(日本・広告有り) http://atpages.jp 1freehosting(米国・広告無し) http://1freehosting.com
そもそもデータ構造に問題がある気が… 同じ商品で、「これは包装あり・こっちは包装なし」といったことも出来るようにユニークな注文IDを生成し、 $_SESSION['cart']['ユニークな注文ID]['id'] = 商品ID; $_SESSION['cart']['ユニークな注文ID]['num'] = 個数; $_SESSION['cart']['ユニークな注文ID]['size'] = サイズ; $_SESSION['cart']['ユニークな注文ID]['deco'] = デコレーションの有無; とすればいいと思うんですが… 備考： よりよいコーディングのために http://note.chiebukuro.yahoo.co.jp/detail/n149597
ちなみに $bar = substr( $foo, 0, str_pos( $foo, "検索文字列", オフセット値 ) ); 普通にここに $bar = substr( $foo, 0, str_pos( $foo, "\n", オフセット値 ) ); と「\n」を入力してあげれば改行コードとして展開されます。 【シングルクオート内】 \\ … 「\」自体 【ダブルクオート内】 \\ … 「\」自体 \s … 半角スペース \r … 改行コード「CR」 \n … 改行コード「LF」 \f … 改ページ \v … 垂直タブ \x○○ … バイト表現（○○には16進値が入る） ちなみに改行を表す定数として PHP_EOL も用意されています。これが「LF」になるか「CRLF」になるかは環境に依存します。
http://ideone.com/k60gaK 未定義のときにNoticeエラーとなります。 ・変数が未定義 … Undefined Variables ・配列のオフセット(int)/インデックス(string)が未定義 … Undefined Offset / Index ・オブジェクトのプロパティが未定義 … Undefined Property マニュアルを見れば分かりますが、issetとemptyは関数ではなく、「言語構造」であることに注目。 これらの構造は「エラーを出力せずに変数の存在を確認」することが出来ます。 エラー出力の有無を除けば、 if ($var !== NULL) は if (isset($var)) if ($var) は if (!empty($var)) と等価です。 ※ issetは同時に複数の変数をチェックすることが可能 ※ issetもemptyも確認できるのは「変数」だけで、「値」そのものを渡すとエラーになる。(PHP5.5以上のemptyを除く) error_reporting = E_ALL ^ E_NOTICE に設定されている場合はNoticeエラーは出力されませんが、それでもエラーは発生しているので動作は遅くなります。多少面倒でもissetやemptyでチェックされることを強く推奨します。
＞PHPにおける参照渡し（&をつかう）はC＋＋におけるエイリアスとおなじ処理（同義）ですか？ そうですね。 $foo = &$obj; した以降は、$foo と $obj への代入や参照はどちらも同一になります。別名。 この結びつきは、 unset($foo); で解除されます。 http://www.php.net/manual/ja/language.references … から始まる数ページを読んでください。
質問者さんはどういう順番を意図されているんでしょうか？ php側はブラウザから送られたままの順番で格納します。で、一般的には「option要素の記述順」で送るブラウザが多いと思います（手元のIEもFirefoxもそうなっていますね）。
Webデザイナってよほどのセンスがない限りデザインだけで食べていくのは無理。 となるとサイトの構築からクライアントとのやりとりすべてを一人でこなす必要がある。 クライアントの打ち合わせが必要。 >私は、両脚股関節人工関節の身体障がい者です。おまけに、性同一性障害なのですが、そういった関係上、職業が限られてきます。 と言う人には無理な仕事です。 それと質問者のプロフィールを見ると >生年月日： 1965年06月24日 とあるけど40歳代も後半の人が実務未経験で雇用してくれる会社はありません。 (まぁ30代でも未経験では雇用してくれる会社はない) いきなり独立はまず無理です。 >就労支援センター こんな所に行ったところで基礎の基礎だけで実務レベルのことはまず学べない。 実務レベルのノウハウは学べない。 となるといきなり実務経験もないのに独立したところで仕事はこない。 >本来ならば、自力で調べなければならないのですが、どういった書籍が該当するのかわかりませんでしたのでよろしくお願いします。 今時、本かよ。ネットでWebデザイナをやりたいという割にはネットの活用すらできないレベル。 もう無理です。 F1ドライバになりたいと良いながら車酔いして運転できませんって言うレベル。
偽物出没なのか本人がアカウント変えて時間差で二回質問したのかは知りませんが、全く同じ内容が２回質問されてますね。 一体、何を参考にして こんなソースになったのやら。。 ↓これ ちょいちょい見られる記述だけど、一般的なんですかね。。？ > $sql = sprintf("SELECT * FROM tanzyouseki WHERE code = '%d'", mysql_real_escape_string('1')); たしかに、mysql_real_escape_string は した方がいいけど、この場合 意味が無い。エスケープするものがない。 あと、sprintf も悪くはないけど、あまり意味が無い気がする。 ↓どうして、ネストさせちゃったのか。。 さらに、オブジェクトで取得してくる意味はあるのか。。。mysql_fetch_assoc で良くないだろうかと思ったり。 > while($row = mysql_fetch_object($query)){ > while($row2 = mysql_fetch_object($query2)){ > while($row3 = mysql_fetch_object($query3)){ ↓これ 多分 意図した動きはしていない。これは、加算された結果の評価が返されているだけ。$page自体は何も変化しないはず。 $page+1; 加算したいなら $page++; とか $page+=1; かな。 とりあえず、暇だったのでツッコみたい所はツッコんでみました。 あとは優しい誰かが正しく書きなおしてくれると思います。
echo "<input type=\"submit\" onclick=\"location.href='info.php\'' value='案内' >"; と\を"の前に付ければ""で囲んである場所でも"を使えます。 詳しくはPHPの文字列についての説明を読んでください。 http://www.php.net/manual/ja/language.types.stri …
>Warning: Failed to Connect in C:\phpdev5\www\form2.php on line 16 phpからメール送信するための環境はセットアップされているのでしょうか？レンタルサーバなどでなくローカルのxamppで試しているということであれば「メール送信するための設定」を自分でしないといけませんが・・・ 普通はFailed to ConnectのあとにSMTPサーバ名が入ると思いますが、それがないということは（SMTPを使う設定なのに）SMTPサーバ名が空白ではないのですかね。
テーブルと書いているのでデータベースを使っているのでしょうか。その場合はPHP側で判定をするのではなく、SQLのwhere句で条件を指定する方法が一般的です。 行全体を呼び出す場合も同様です。select句で「*」を指定すればカラム全てを取得します。 …だけではあれなので、一応PHPでやる場合は、 if ($row['category'] == 'news') { // categoryカラムの値が"news"の場合 } else { // それ以外 } こんな感じでしょうか。
検索結果を表示するときに <form action="reg.php" method="post"> <input type="hidden" name="kokyaku_id" value="<?=$row['kokyaku_id'] ?>"> <input type="submit" value="売上登録"> </form> っていう形で1レコード毎に作ればいいんじゃない？ そうすれば出力されるHTMLは <form action="reg.php" method="post"> <input type="hidden" name="kokyaku_id" value="1"> <input type="submit" value="売上登録"> </form> <form action="reg.php" method="post"> <input type="hidden" name="kokyaku_id" value="2"> <input type="submit" value="売上登録"> </form> とかなるでしょ。そうすればそれぞれのボタンをクリックすればkokyaku_idはそれぞれの値が飛ぶ。 reg.phpではそのkokyaku_idを取得してその値でselect insertすればいいんじゃない？
JavaScript は ブラウザ上には表立ってエラーを表示してくれませんからねー Chromeで「メニュー＞ツール＞JavaScriptコンソール」とか表示してると、原因が分かりやすいかも。 あと、とりあえず、document.write のところを 簡単なもんにして試してみてはどうでしょう。 echo "document.write('hoge')"; とかに。 んで、それが表示されるなら、書き方が なんか悪いんでしょうねって事で。 個人的な好みの話ですが、一行に クォートが やたらとあると 目が痛くなってくるので、少し分割するとかして欲しいなってのは思います。 俺なら こうしてしまうという書き方。 $url = $row['url']; $name = $row['name']; $tensuu = $row['tensuu']; $a = "<a href='{$url}'>{$name}</a>"; $p = "<p>{$tensuu}</p>"; echo "document.write($a);\n"; echo "document.write($p);\n"; テキトーに書いてるので、動く保証はありません。
なんかへん ＞$sql = mysql_query("select * from テーブル名 where update < DATE_SUB( CURDATE(),INTERVAL 1 DAY )"); ではなく $result=mysql_query("・・・"); では？ ちなみに日付(update)で降順なら、 select * from ・・・ order by `update` desc すればいいでしょう
調べるのが「今日」を基準に「昨日」とするならcurdate()で調整します select * from hoge where `date` between curdate() - interval 30 day and curdate() - interval 1 day; 「2013-05-23」が基準ならcurdate()のところを該当日（'2013-05-23'）に書き換えてください
元時間を$a、求めたい時間を$bとすれば <?php $a=strtotime("2013/05/23 15:07:32"); $b=strtotime(date("r",$a)." +3 month"); print date("Y-m-d H:i:s",$b); ?>
まず、nameにユニーク属性をつけておきます（プライマリでも可） なお、counterのデフォルト値は1にしておきます create table users(name varchar(20) not null unique key,counter int default 1); insert into users values('田中',1),('佐藤',2),('鈴木',5); 以下、すでにデータがあればcounterがインクリメントされ、なければ追加されます INSERT INTO users(name) VALUES ('田中') ON DUPLICATE KEY UPDATE counter=counter+1; INSERT INTO users(name) VALUES ('吉田') ON DUPLICATE KEY UPDATE counter=counter+1; 参考URL：http://dev.mysql.com/doc/refman/5.1/ja/insert-on …
こんにちは。 そのJavaScriptを出力しているPHPに直接アクセスしてみてください。 document.write("<P>ghi</P><br>")document.write("<P>def</P><br>")document.write("<P>abc</P><br>") こんな出力になっていると思います。 echo "document.write(\"<P>$tmp</P><br>\");\n"; にすれば良いです。 FirebugみたいなWeb開発ツールを利用すれば一発でエラーがわかりますよ。
perlでの書き方は既に記憶の欠片すらないけど似たようなもんじゃなかったっけかなー？とか思ったり思わなかったり。 PHPでは ↓こんな感じ。 呼び出す方。 $ans = Hoge(3); 呼び出される方。 function Hoge($num) { $num = $num * 5; return($num); } ま、これがいわゆるユーザー定義関数。
>「[]」と「{}」が正しく閉じているかチェックするだけでいいのかな？？ それだと「*aaa」も正常と判断してしまうのでは？ まじめにやろうとすると正規表現の構文解析をすることになります。 PHPで作られた自作の正規表現エンジンでも探せば方法はあるかもしれませんが、 正規表現として正しいかを調べたいだけであれば、 おとなしくtry-catchを使う方がよっぽど低コストだと思います。
＞nl2br()を使うと <br />となりますよね？ ＞他にもXHTMLの形になる関数ってありますか？ ＞HTML4で /が付いても問題ないですかね まずはリファレンスぐらい読もうね。 http://php.net/manual/ja/function.nl2br.php もし、PHPのバージョンが5.3.0より前だとしたら、<br />を<br>に置換して出力すりゃいいんじゃない？
スクリプトの検証はしていないので、ご参考までのご意見です。 アップロードする先のフォルダをクリーンアップする処理と ｈｔｍｌのimgタグを削除する処理を検討してはどうでしょう。 具体的なスクリプトの提示は、ちょっとお時間の関係でご自身で調査して欲しいのですが。 アップロード先のフォルダさえわかれば、php側は (1)ディレクトリを読み取る（opendirやreaddir等） (2)ディレクトリにある、画像ファイルをすべて削除（unlink) … move_uploaded_file以降の処理 （echoでクロスサイトスクリプティング（XSS）対策はした方が良いと思いました。） また、js側は、 おそらくjqueryで、imgのタグを削除する処理があると思います。 （タグというより、DOMにおいてはエレメントという表現が適切かもしれません。) ご参考になると幸いです。 見当違いでしたら申し訳ございません。
その状況から考えるに、今までの mysql_query と PDO では null の評価の仕方が違うってことなんでしょうかね。 正直、どの段階で変換されるのか分かんないのですが、↓ここらへんを なんやかんやすると どうにかなるかもしれません。 PDO::setAttribute PDO::ATTR_ORACLE_NULLS http://php.net/manual/ja/pdo.setattribute.php なんか これなら回答しないほうがいいんじゃないかぐらいのテキトーすぎる回答ですみません。
＞　ApacheのモジュールとしてPHPがインストールされた環境で実行します であれば、PHPのプログラムはApacheの子プロセスの一部として実行されます。 Apacheは親プロセスはブラウザーからのアクセスを受付けるだけで、受付た後の処理は子プロセスに引継ぎ子プロセスとブラウザーの間で通信が行われます。 ＞　requireで読み込むと子プロセスも1つになるのですか？ PHP自体の実行としては、ファイルが別々でもincludeやrequireで読み込んだプログラムは一つのプログラムとして実行されます。 実際には最初に呼ばれたファイルを開き、includeやrequireされたファイルを開きながら一つのプログラムとしてメモリ上に展開します。 メモリ上に展開したPHPプログラムをPHPの言語エンジンで実行するためのプログラムとしてコンパイルを行い、コンパイル結果を言語エンジンで実行します。 従って1つ1つのファイル毎に実行される訳ではありませんので、ブラウザからの1回のリクエストは1つのプロセスで処理することになります。 但し、PHPのアクセラレータを使用すると若干動作が変わります。 ＞　子プロセスとゆうのはオーバヘッドにはあまり関係ないですか? 何のオーバーヘッドでしょうか。 Apacheの子プロセス自体は、親プロセスがApacheの設定情報に基づき必要数を予め作成してリザーブしていますので、ブラウザーからアクセスがあってから子プロセスに処理が引き継がれるまでのオーバーヘッドは気にするほどでは無いと思います。 よほど突発的にアクセスが急増するような状況で無い限り、アクセスが来てから子プロセスを作成するような動作にはならないと思います。
PHPは、web上で実現したい事をなるべく短いコード（手間）で済ませる事を最重視した言語だと勝手に解釈してますが、そのせいか組み込み関数・クラスの数がべらぼうに多く、元々PECLだったものが標準化するなど、バージョンが上がる毎にその数は今もどんどん増えている状況です。 そのスピードに対し、標準化する共有ライブラリの整理が追いついていない感がありますね。 例えば正規表現1つとっても、preg系，ereg系，mb_ereg系と3つもあり、それぞれ依存するライブラリが異なっていたりするのは、PHPらしいというか、言語として綺麗だとは決して言えませんね。 p.s. 私は「何で作るか？」よりも「何を作るか？」の方が大切だと思っていますので、PHPが言語として劣っているというつもりは決してありません。
ロクにデバッグせずに回答して申し訳ありませんでした（汗 おそらくこれで大丈夫です。 http://ideone.com/u2EdM2 こんな感じでデバッグしたらちゃんと動いてくれました。 http://ideone.com/l6xOv2
ちょっと調べるのが面倒なのでやっていませんが configureに --disable-shared とか --enable-static とかは無いですか? 場合によっては、使用するライブラリ全てを--enable-static --disable-shared相当でビルドしなおす必要があるかもしれません。
short_open_tagをonにしていれば <?php $hoge = "晴れ"; ?> ここからHTML、直接変数を表示したい 今日は<?=$hoge;?>です という書き方ができます。 まぁ全体をヒアドキュメントでprintしてもいいかも <?php $hoge = "晴れ"; print <<<eod ここからHTML、直接変数を表示したい 今日は{$hoge}です eod; ?>
>ということは、通常大半の方は、解決策１をとるということでよろしいでしょうか？ 通常とか大半とかといった形容は要りません。それ以外は「あり得ない」です。 たまに「あり得ない方法」を選択してドツボに嵌まって楽しんでいる開発者もいないわけではないでしょうが、そういう『例外』をカウントしても意味がありません。
$dn_in = $page1_to[1]； セミコロンが大文字になっている。
もう一つの可能性。 HTMLで<form>が二重になってたりしませんか？
>最低： 5.3 >推奨： 5.4 or 5.5 残念ながらPHP 5.3のサポートを終了しています。(2013/3末で5.3のサポート終了) 最低が5.4です。
>出力されるエラーは >Warning: rename( tmp/5194a2db03b16.jpg, photo/164.jpg): in >C:\xampp\htdocs\hogehoge\hoge\complete_01.php on line 18 なのに >$oldpath = " ichiji/". $_SESSION["onamae"]; >$newpath = " photo/" . $_SESSION["id"]; となっていますが「一時的な保存用ディレクトリ」は、tmpですか？ichijiですか？またディレクトリ名の最初にasciiの空白を入れているのは意図してのことでしょうか（printしても見分けにくいでしょうけど）。
$pattern = '@https?://[\\w.-]++/index\\.html@'; $replacement = './index.html'; echo preg_replace($pattern, $replacement, $foo); こんな感じでどうぞ。 動作テスト： http://ideone.com/SnYdRq 他の方と差別化（？）するために心がけたポイント ・URL検出時に「/」をデリミタに使うとエスケープ地獄になるので無難な「@」を使う ・「+」の代わりに「++」を用いて無駄なバックトラックを回避 ・置換文字列が「./index.html」固定なので、無駄に()でキャプチャしない ・「\w」「\.」でも動作するが厳密に正しいは全てのバックスラッシュをエスケープした「\\w」「\\.」なのでこちらを採用。ちなみにPHP以外のほとんどの言語では「\w」「\.」と書くと「w」「.」と認識されてしまう。PHPだけ変態。 今回はシンプルに正規表現にしましたが、ユーザーの入力するテキストから厳密にURLを抽出したい場合はもっと複雑な正規表現になります。 TwitterのURL判定アルゴリズムにほぼ従っている正規表現 https://github.com/Certainist/TwitterText#urlregex
高機能でNGだとどこまで低機能化していいのかわからないので回答しようがないかと とりあえずFAQでコミュニケーションが取れればいいだけならpukiwikiなどの wiki系のページでよいのでは？
無難にzipあたりで？ http://php.net/manual/ja/book.zip.php
＞$sql = sprintf('INSERT INTO members SET name="%s", mail="%s", pass="%s", image=:%s, created="%s"', image=:%s,　　のところはimage=:"%s",　　ではないですか？
「まとめる」というのが、配列でまとめるのか、文字列のカンマ区切りでまとめるのか明示されていない。 「同じidがあったときだけ(3つ以上の可能性もあり)、[pre] [pre_id]をまとめたい」 → [rank] はどうなるの？
この辺りのモジュールはどうですか？ http://www.php.net/manual/ja/refs.search.php
フォームからはutf-8でPOSTされてくるのですよね？それをSJISのスクリプトでそのまま扱えば、メール送信云々以前に「画面に表示させる」だけでも文字化けすると思いますが、そういう状態ではありませんか？ スクリプトをutf-8で保存し直して、Shift_JISなどの表記がある部分を全部utf-8に書き替えた上で （画面出力対策） header('Content-type: text/html; charset=utf-8'); （メール用） mb_language('ja'); mb_internal_encoding('utf-8'); の記述をしてください。 なお、「utf-8で保存」するのはエディタで保存する文字セットを指定するだけですが、間違っても「BOM付きのutf-8」で保存しないように（WIndowsのメモ帳だとBOMが必ず付加されるので注意）。
＞phpのheader()関数は引数にurlを書いてジャンプさせるものという理解をしております。 間違っています。 header()関数は、HTTPの応答の中のヘッダ情報を追加したり書き換えたりする物です。 Locationヘッダを追加するとお書きのジャンプになります。 Content-Typeヘッダは、応答のファイル形式を指定する物で、これは応答がXML形式であることを示します。
html側に画像を入れてみました。 <!DOCTYPE html> <html> <head> <meta charset="UTF-8"> <title>Insert title here</title> <style type="text/css"> img.im{width: 100px;height: 100px;} </style> </head> <body> <form action="test.php" method="post"> お名前　<br><input type="text" name="t1"><br> メールアドレス<input type="text" name="from"><br> 商品を選択してください。　<br> <img class="im" alt="" src="rinngo.jpg"><br> <input type="checkbox" name="c1[]" value="りんご">りんご<br> <img class="im" alt="" src="suika.jpg"><br> <input type="checkbox" name="c1[]" value="スイカ">スイカ<br> <img class="im" alt="" src="mikan.jpg"><br> <input type="checkbox" name="c1[]" value="みかん">みかん<br> <input type="checkbox" name="c1[]" value="イチゴ">イチゴ<br> <input type="checkbox" name="c1[]" value="メロン">メロン<br> <br> <input type="submit" value="お問い合わせ"> </form> </body> </html>
> $result = mysql_query($query . implode(" AND ", $where)); この後にでも echo "<p>", $query . implode(" AND ", $where) ,"</p>"; とでもして、どんなSQLを使っているか確認してはどうですか?
自分も質問者さんと全く同じような事で行き詰った事があります。 自分の場合はそのjavascriptソースコードの中のurlなどからサードパーティアプリケーション名が判明しました。一度ソースコードを調べて見てはどうでしょうか？もしかしたらコメントアウト部分にサードパーティアプリケーション名が書かれているかもしれません。
そもそもそれってHTMLメールじゃなくて単なるテキストメールですよね？ テキストメールの自動リンクは、既に回答にある通りメーラーの処理に依存します。 あなたがどうこう出来ることではありません。
> if (isset($_POST["$input"])){ <input name="input" /> なら $_POST["input"] ですな
テキストファイルのエンコード・改行コードは把握されていますか？ PHPスクリプトと同じエンコーディングでなければいけません。 【推奨】 エンコード: UTF-8（正確にはUTF-8N） 改行コード: LF 一応、もう出来てるとは思いますが正規表現を。 http://ideone.com/d6NOKw
さくらのレンタルサーバーだと、エラーログは見られない可能性が高いですね。 サーバー単位の全ユーザーのエラーログ、となっているはずなので。 問題は示していただいた箇所とは違うソースです。 最後に画面にHTMLを出力する部分で失敗しているのだと思います。 ここで一番多いのが、Content-typeの出力忘れ、あるいは構文ミスですが、テスト環境ではうまく行っているとのことなので、考えづらい。 開発環境がWindowsで、さくらのレンタルサーバーはFreeBSD(EUC)その辺りも大丈夫でしょうか。 ブラウザへの出力部分、プログラムだけでも示せませんでしょうか？（文字列の内容は当然NGだとおもいますので＊＊＊等黒塗りして）
【Q1】 ソケットて何ですか？ 【A1】 ソケットの定義 http://e-words.jp/w/E382BDE382B1E38383E38388.html 「ソケットには、通信を行うアプリケーションソフトがTCP/IPを扱うための仮想的なインターフェースという意味もある。」 こっちの意味です。 【Q2】 この1行にどういう意味があるのでしょうか？ 【A2】 fsockopen関数を用いて、www.example.com に ポート80 で接続要求。 通常、HTTPで接続する場合はほとんどのサーバーがポート80を要求する。 接続を最大30秒まで待つ。 それより長引いたら接続失敗とし、FALSEを返す。 それに伴い、$errnoにエラーコード、$errstrにエラーメッセージが代入される。 接続成功したとき、リソース(ファイルポインタ)を返す。 リソースはそのPHPスクリプトが終了するか、fclose関数で意図的に解放するまで使い続けられる。 リソース型について http://www.sakc.jp/blog/archives/8698 【Q3】 事前に通信エラーを確認？ GETとかPOSTとかでエラー判定してはいけないのでしょうか？ 【A3】 意味を取り違えています。 A4参照。 【Q4】 「fsockopenを利用するメリット」と、「どういう時に利用するものなのか」教えてください 【A4】 そもそも$_GETや$_POSTで取得できるものは、「ブラウザ」(閲覧者)から送信された情報だけです。 [リクエスト] ブラウザ → 自サーバー <ブラウザ側> アドレス入力欄にURLを入れて、Enterを押すこと。 そこからの実際のリクエスト処理(リクエストヘッダー送信)は全部ブラウザがやってくれる。 このときはパラメータはGETで送られる。 フォームを用いて、ユーザーを押させて送信させることもでき、そのときはform要素のmethod属性で指定した方法(GETやPOST)が使われる。 <自サーバー> $_GETや$_POSTなどでクエリを受け取ることも出来る。 [レスポンス] ブラウザ ← 自サーバー <自サーバー> 普通にHTMLとして記述したものや、<?php?>内でechoするなどして出力したものをブラウザ側にHTMLとして返す。 <ブラウザ側> HTMLを解析し、Webページとして表示することは全部ブラウザがやってくれる。 一方、fsockopen関数は、「接続先サーバー」との通信に使います。 [リクエスト] 自サーバー → 接続先サーバー <自サーバー> fsockopen関数を使う場合、実際のリクエスト処理(リクエストヘッダー)を全て自分で記述しなければならない。 リクエストヘッダーはfwrite関数で送信する（書き込む）。 <接続先サーバー> $_GETや$_POSTなどでクエリを受け取ることも出来る。 [レスポンス] 自サーバー ← 接続先サーバー <接続先サーバー> 普通にHTMLとして記述したものや、<?php?>内でechoするなどして出力したものをブラウザ側にHTMLとして返す。 <自サーバー> fsockopen関数を使う場合、レスポンスはfgets関数を繰り返して取得する。 通常、feof関数がTrueを返すまで（ファイルポインタが末尾に達するまで）ループさせる。 ループが終わって、fgets関数で取得していった文字列を全て繋げると、レスポンスヘッダー(通信状態を記したもの)とレスポンスボディ(HTMLソース)が連続する2つの改行によって区切られていることが分かる。通常、これをexplode関数を使うなりして分割して使う。 【まとめ】 分かりやすく言えば、「ソケット通信をPHPスクリプトに記述する」ということは、「PHPスクリプトをあたかもブラウザのように動かす」、という言い方も出来るかもしれません。 【サンプルコード】 例： Yahoo!JAPANのトップページをfsockopen関数を用いて取得し、HTML特殊文字をエスケープして表示 http://ideone.com/kMxEIH
PHPは判りませんが…エラーメッセージが書かれている行の内容とか確認されてはどうですかね。 んで……ファイルネームからの推測として、 http://www.kklib.com/fmail_php.htm のものでしょうか？ であれば、サポートに問い合わせる。というのもあるかと思いますけど。 # お金払っているんでしょう？
正直、画像が小さくて ちゃんと見えてませんが、valueのダブルクォートが 一つにしか見えないです。 そして、黄色い波線が <p class=" まで 続いているように見えるのですが。 前回、俺が言った事は右から左に受け流されたようで。(古) > プログラム自体は、意図通りに動きますが…。 気の利いたブラウザはHTMLに不備があっても、正常に表示してくれます。 多分、それが意図通りに動いている理由です。 警告出てるところにカーソル合わせると、その理由は出ると思いますよー。
内容は他の回答者さんと同じですが、少し言い方を変えてみます。 ようするに、利用しているレンタルサーバーで.htaccessが許可されていない、あるいは、ごく一部の記述しか認められていないということではないかと推測します。レンタルサーバーのマニュアルを見るか、サポートに問い合わせたほうが早いです。具体的に言えば、Apacheの設定内容ということになりますが、レンタルサーバーだと変更したくてもできません。従って、できることは、そのレンタルサーバーで.htaccessによるmimeの変更が許可されているかどうかの確認だけです。
他の回答者さんよりだいたい指摘は済んでると思いますが、自分なりに最適化したコードが以下のもの。 ちょっと手直ししすぎな気もしますが・・・ http://ideone.com/DWA0iM エディターで何を使用されているか気になる所です。 確かに他の方のおっしゃるとおり、ミス多すぎです。 ＃正直この参考書使ってる初心者さん多いですが、私個人的には「不適切なコーディング多すぎだろ！」と批判したくなる内容ですね…Amazonならレビュー★1付けたいぐらい…
> ボタンで売上テーブルへ挿入するデータの値が取得できません。 > 検索結果、末尾データの値になってしまいます。 テーブル構造やページの構造でアプローチの仕方が変わってきますので、 もう少し情報が欲しいところです。（ソースなど） ぱっと書いたので検証はしていませんが、とりあえずということで一例： （全体的に記述を簡略化しています） <form action=…… method="post"> <input type="hidden" name="customer_id" value="" /> 2　山田　太郎　<input type="button" value="登録" onclick="customer_id=2;form.submit()" /> 3　山田　花子　<input type="button" value="登録" onclick="customer_id=3;form.submit()" /> </form> $_POST['customer_id']の値を見ればどの顧客のボタンが押されたかわかりますので、 それをキーに顧客テーブルを検索し、そのデータを売上テーブルに登録 ……という感じでしょうか。
理由は既に出ているので。 型変換 文字通り、型を変換することです。 "100"というようなstringを、100とintに変換して計算する、とか 50というintを"50"という文字列に変換して、文字列結合させる、とか gettype($var)の値は変化していますが、$varには、それぞれの型の定数を「代入」しているだけで、変換されているわけではありません。 gettype関数は、指定した値の型を「判定」しているだけで、変換はしていません。 プログラム6 プログラム12 一連の動作をまとめたもの全体で「プログラム」です。 「プログラム6」という言い方だと、これと同じような「プログラム」が複数あって、そのうちの6番目、という風に感じられます。 今回の場合なら「6行目」「行番号6」等と「行」という用語を使います。 プログラミング用語を間違えると、相手に伝わらないことがあります。 正しく使いましょう。 今回は、「型変換」が質問とは関係なかったこと、プログラム6が行番号6のことだと推測できたこと、で特に問題になっていませんが、今後もうまくいくとは限りません。
$tmp = explode(" ",file_get_contents("/proc/uptime")); $tmp[0]　が起動してから秒数　$tmp[1]かもしれん　調べて確認ちょ 適当に手打ちしたので動作の保証はしない。
他の方の回答に対して補足します。 >>idはなるべくならstringよりintで持った方がいいですよ そうですね。 stringを採用するメリットがあるのは、32ビットシステムで非常に大きな整数を扱う必要があるときぐらいです。 intを採用する場合はintval関数を通す必要はもちろんありません。 function func($a,$b){ if($a['id']===$b['id']) return 0; if(intval($a['id']) < intval($b['id'])) return 1; return -1; } と function func($a,$b){ return intval($b['id']) - intval($a['id']); } ってどっちが一般的なんでしょうか？ 個人的には後者の方がすっきりしてて好きなんですが…
とりあえず、アドバイスだけ。 insertの時も mysql_queryの戻り値 取っておいた方がいいですよ。 あと mysql_queryは PHP5.5から非推奨らしいので mysqliとか PDO使ってねー。って事らしい。 んで、insert されていないのだから、その部分が正常に行われていないのは確実です。 その insert文をechoしてみて、MySQL Command Line Clientに投げるとどうなるか確認してみてください。
>>3の補足に対しての追記になります。 > 一度目は、「560123456012345601234560123」と表示されました。 それは、「2013年」2月のカレンダーではないですか？ 日数が28日しかなく、金曜日から始まってる月は ここ最近では 今年のものかと思います。 まぁ、本題とは関係ないので 正直 それほど気にすることでもないのですけど。 > Notice: Undefined variable: hoge これは、俺の説明不足です。 一番 最初の行に ↓を追加すると ↑コレは出なくなるはずです。 <?php $hoge = ""; ?>
マニュアル http://www.php.net/manual/ja/reference.pcre.patt … まずPHPの正規表現パターンの基本から。 /パターン/ のように記号で全体をくくります。よく使われるのは「/」ですが、 実は「\」以外なら何でも良いです。 「/」以外だと「#」「~」「@」あたりがよく使われます。 /パターン/i 後ろについてるのはパターン修飾子です。 「i」は半角アルファベットの大文字小文字の区別しません。 この正規表現は一応動作するのですが、無駄なエスケープが行われていたり、逆にエスケープすべきところが足りてなかったりするので、「正しい」正規表現に書き直すとこうなります。 PHPコード "/^increment\\((-?\\d+)\\)$/i" これがPHPに文字列リテラルとして評価されると、 /^increment\((-?\d+)\)$/i となります。 【変更点】 1. 「-」に関して エスケープが不要なので「\」を消しました。 2. 「\」に関して 以下のコードを見比べてください。 PHP http://ideone.com/0wBB9d C言語 http://ideone.com/f2A7Es C言語では「\」はどんなときも必ずエスケープしなければなりません。 PHPではそうではないのですが、PHP以外の他の多くの言語ではそうなってます。 初心者が混乱を招くもとなので、私はPHPでしか出来ないこの書き方は可能な限り避けています。 PHPに評価された後の文字列リテラルについて、順に追って説明します。 「^」は文頭であることを表す。マッチング対象の1文字目がかならずここに来なければいけないという制約。 「increment」はただの文字列。 「(」はサブパターンを表すメタ文字だが、「\(」とエスケープすることによってただの「(」という文字を表すようにしている。 その次の「(」でサブパターン開始。 「-」はただの文字列。 「?」で直前の文字(ここでは「-」)があってもなくてもいいことを表す。 「\d」は半角数字。 「+」で直前の文字(ここでは「\d」)の繰り返し(最長マッチ)を表す。 「)」でサブパターン終了。 「)」はサブパターンを表すメタ文字だが、「\)」とエスケープすることによってただの「)」という文字を表すようにしている。 「$」は文末であることを表す。マッチング対象の最後の文字がかならずここに来なければいけないという制約。 よってマッチする文字列の例として、 "increMent(-1)" "inCremEnt(05)" などが挙がります。 マッチング結果は $m に代入されます。 ここでは、 $m[0] … 全体 $m[1] … 1つ目のサブパターン となります。 "increMent(-1)"　の場合は、 $m[0] = "increMent(-1)"; $m[1] = "-1"; という内容になります。 全て文字列扱いです。 preg_match関数は、以下の返り値を返す可能性があります。 ・マッチした時 … 1 ・マッチしなかった時 … 0 ・パターンが正規表現として間違っていた解 … FALSE そのままif文に返り値を突っ込むと、マッチした時のみTRUE、あとの2つはFALSEと評価されます。 $q .= "`$key` = `$key` + $m[1], "; これどこが変数展開されるか分かりにくくて見にくいですね。 $q .= "`{$key}` = `{$key}` + {$m[1]}, "; 個人的には { } で明示したほうが見やすいと思います。
参考だけ、ホームも、無料アプリに掲載配信する広告プラットフォームも含めて、 Googleのデベロップメント機能も借りてる様子があります。 http://nw.appbank.net/ http://tinyurl.com/appbanknetworkfaq (redirect to docs.google.com/document /d/1FOc3cEu20JMDIlyxQB_5V3-eUNce5urgHw8br4j67oA/edit)
>実際の現場で使用されているフレームワークを使用したいと思っておりますが 定番はZend Framework,Symfony,Symfonyが定番で 最近はFuelPHPが少しずつ人気が出てきている。 >＞PHPフレームワークを使用したWEBシステムを作成したいのですが >PHPだったらSmartyですかね。あとは入門しやすいWordPressかなぁ >テンプレートエンジンとしては、両方とも日本語情報が充実しているので学習を進めやすいかと思います！ Smartyはテンプレートエンジンであってフレームワークではない。 WordPressはCMSであってフレームワークではない。 >何か自分の作品を作り上げて、ポートフォリオにしたいと思っているのですが、 重要なのは職歴(実務経験)。 実務経験が無くても雇用されるのは20代前半まで。
【補足】（１）について「分ける理由」を見落としていました。ごめんなさい。 １番目の括りと、２番目の括りの間に、html タグを書きたい場合、そのようになるでしょうね。 間に何もする必要が無ければ、下のように続けて書いても問題ないです。 <?php $date = sprintf('%04d年 %02d月 %02d日',2013, 1, 23); print ($date); ?>
【サルにもわかる正規表現】 http://www.mnet.ne.jp/~nakama/ 【公式マニュアル】 PCRE目次 http://www.php.net/manual/ja/book.pcre.php パターン構文 http://www.php.net/manual/ja/reference.pcre.patt … パターン修飾子 http://www.php.net/manual/ja/reference.pcre.patt … ※「$1」に関してはpreg_replaceのページに載ってます。 ※よく使う関数として「preg_match」「preg_match_all」「preg_replace」「preg_replace_callback」が挙げられます。 【注意点】 「PHPとしてのエスケープ」と「PCREとしてのエスケープ」の2つがあることに留意してください。 正規表現で「\」という文字自体にマッチさせたければ、コード上は「\\\\」と書かなければなりません。 コード $pattern = '/\\\\/'; ↓ PHPがPCREエンジンに渡す内容 パターン： \\ ↓ PCREエンジンのパターン解釈後 マッチする文字列： \ 私が敢えて「\d」でなく「\\d」と書いたのはこの理由からです。 「d」はPHPコード上、エスケープが必要な文字ではないので「\d」と書いても正しく動作するのですが、こういった仕様もPHP特有のようです。 他言語使用者がこの仕様を知ったら『「\\d」でないと気持ち悪い』っていう人が多いかもしれません。 たとえばC言語の場合は無視されてしまいます。 http://ideone.com/65136A
書いたphpソースが実行されずにそのままブラウザに返ったりしたら「サーバの設定ミス」でしょうね。普通はphpスクリプトはサーバで実行されて（スクリプトで出力しているものが）ブラウザに返ります。 >phpは一冊丸ごと、全部やりました。 一冊「読んだ」のかどうかは知らないけど、こんな質問をしている時点で「やりました」なんて言っちゃダメ。基礎の基礎（そもそもphpが何をするものなのか）が理解出来ていないなら、何冊読んでも何万行書いても意味がない。
単純にfor文で2重ループさせればいいだけでは？ for($i=1;$i<=8;$i++) { for($j=1;$j<=4;$j++) { echo "<li class=\"list{$j}\">リスト</li>\n"; } }
イマイチ何をしたいのか分かりませんが… オブジェクトや配列を別スクリプトにGETやPOSTで送信して復元したいときに役立つのはserialize/unserializeです。 ただこれはNULLバイトを含む可能性があるのでBASE64エンコードを忘れずに。 【渡す側】 $str = base64_encode(serialize($data)); //$strを何らかの方法で送信(file_get_contentsが一番簡単) 【受け取る側】 //$strに受け取った値を代入しておく $data = unserialize(base64_decode($str)); file_get_contentsでPOSTする方法はこちら http://d.hatena.ne.jp/ryster/20070907/1189148449 書いたあとに気付いたんですけど、この件に関してはわざわざこんなことしなくても、 index.phpの末尾に require('class.php'); を書けばいいだけの気がする… requireしたスクリプトに関しては、既に存在している変数などは全て共有されます。（同じ名前空間扱い）
既に回答が出てますが、メールに色を付けようと思ったら　HTMLメールにする必要があります。 んで、HTMLメールを送る場合、一般的に送られる相手に事前に確認とっておく必要があります。 よく登録時に「HTMLメール送っていいですか？」的なチェックボックスがあったりしますが、アレです。 HTMLメール送ろうと思ったら、ヘッダーからイジらないといけなかったはずなので、地味に面倒になります。
お疲れ様です。 自分用の備忘録代わりのエクセル・ファイルですが 何かの参考になれば幸いです。 http://www.hesaka.in.arena.ne.jp/iK/PHP_mbstring … 参考URL：http://www.hesaka.in.arena.ne.jp/iK/PHP_mbstring …
なんかのセキュリティソフトが一度リンク先のページをチェックするので 二重送信になってしまうとかどこかで見たような。気のせいかも。
これってシェルでやった方が制御もかるくないですか？ echo "select * from `データベース`.`テーブル` into outfile '/tmp/hoge.csv' fields terminated by ',';"|mysql -uroot -pパスワード; でhoge.csvをつくって、コマンドライン系のftpでアップするだけ。 どうしてもphpから動作させたければ、手順をバッチ処理にして system系の処理で実行させる。
>「0x0, 0xffff, 0, 0xffff」の意味が分かりません。 convmapはマニュアルにあるとおり int start_code1, int end_code1, int offset1, int mask1 でワンセットです。当然（必要があれば）開始コード～終了コードの範囲指定で複数のセットを指定することも可能です。例示されている（0, 0xffff, 0, 0xffff）は0～65535（0x0000～0xffff）の範囲に対して、オフセットなし（0）で、そのまま変換する（マスクがフルビット）という意味です。おそらくは「これ以外の指定をする必要があるエンコード」が存在するのでしょうけど、寡聞にして知りません。少なくとも日本語を扱っている範囲では（0x0, 0xffff, 0, 0xffff）の指定で困ることがないです。 なお、数値文字参照「だけ」に拘らなければ mb_convert_encoding($html_source, $output_encoding, 'HTML-ENTITIES'); でも出来るらしいです（phpでサポートされる文字エンコードにHTML-ENTITIESもある）。 http://www.php.net/manual/ja/mbstring.supported- …
shimixさんの回答で事足りてると思いますが、スルーされた部分を補足的に回答（汗 ArwinさんはbindValueのマニュアルをまず… http://php.net/manual/ja/pdostatement.bindvalue. … bindValue・bindParamともにコロンは必要で、エスケープは自動的にこのメソッドによって行われるため不要。
>零細規模でしかも一人で全部やるなら、MVCの原則に従う必要もないかと思います。 必ずしもMVCの原則に従う必要がないというのは、その通りだと思います。 ただ、オレオレ仕様を求めているのであれば、この場にその答えがあるはずもなく、あなたの理想が答えです。ここでの質問は無意味です。しかし、あなたの質問は「作業効率、ソースの可読性、表示速度の面で優れいてるのではないでしょうか？」なのですから、その点について皆さんが回答しているのだと思います。 作業効率、ソースの可読性、表示速度、その全ての面において、内容によるとしか言いようがありません。逆から言うと、内容によっては、逆効果の場合があります。つまるところ、「ある条件にマッチするなら」という限定的な仕様は、その条件が特殊であればあるほど、不利な仕様と言えるでしょう。 「CSSやJavascriptをheader.phpや、footer.phpに直接記述」という仕様は、おそらく以下の様な条件が出ます。 ・サイトの規模は決して大きくならない。 ・サイトのアクセスは永続的に小規模である。 ・サイトオープンからサイトクローズまで、あなた以外は絶対にWebサイトの編集に携わらない。 一般的に、上記のような条件はとても特殊です。「仮にサイトの規模が大きくなったとしたら」「仮にアクセスが急増したら」「仮に他者が編集することになったら」と考えるのが一般的です。冒頭にも書いたように、その例外を言うなら、あなたの趣味のサイトを趣味の範囲で管理する分には、何をやってもOKです。困るのは未来のあなただけですから。 分かりやすいところだけ取り出すと、「表示速度の面」は不利になるケースが多いでしょう。 仮にjsとcssの総容量が100KBだとしましょう。これをすべてのページのheaderに記述する場合、その全てのページの容量が100KB増えることになります。対して、通常の外部ファイルでjsとcssを読み込む場合、ダウンロードされるのは最初の1回だけです。仮に、一人のユーザーが10ページを回遊したと考えた時、前者の場合は、余分に900KBを読み込むことになります。また、サーバーの観点から言っても、1000人のユーザーが10ページづつ閲覧したと仮定すると、900MB分の負荷を余分にかけていることになります。むやみにリクエスト数さえ減らせばいいという話ではないと思います。
列の数が、名前（列）と、住所（列）、の２列の場合 $var[行][列] は内部で $var[(行×２＋列)] と判断してくれているだけ 三次元の場合、仮に、２列３行で１段とした場合、 $var[段][行][列] は内部で $var[段×(３×２)＋行×２＋列] と判断してくれているだけです
ユニークなデータを確定するときには通常プライマリーキーを利用します。 GETなどでプライマリキーを指定したURLへリンクをはり、 削除のSQLを発行すればよいでしょう。 <a href="?do=delete&key=100">削除</a> みたいな感じになるでしょうか？ ただし、データの削除や編集をできるようなページを一般ユーザーに 公開するのはきわめて危険です。 管理者専用ページなどに限定し、セッションなどで管理者権限を確保した上で 運用することをお勧めします。
失礼しました テンプレについてはtime型でよいと思います 実際の予約データをdatetimeで管理すればよいでしょう。
単純なメールサーバでの転送じゃダメなのかな？ PHPではないけど、fmlを使ったことはあります。 http://ja.wikipedia.org/wiki/Fml linuxサーバ自体コントロールできる環境じゃないとダメと思いますけど参考までに
スクレイピング用のクラス作っちゃいました。 http://ideone.com/5WRXm5 ライセンスに関してはCC0主義ですので、どうぞご自由にお使いください。
何度同じミスをすればいいのか・・・ <?php require('dbconnect.php); $id = isset($_GET['id']) ? intval($_GET['id']) : 1; 3行目じゃなくて、1行前の require('dbconnect.php); 『いつものように』引用符が閉じていない。 正直、プログラミングには向いていないと思う。諦めるなら早い方がいい。
URLの一部として渡すときには、urlencodeしてください。 http://php.net/manual/ja/function.urlencode.php
そのサイトでphpが使えるかどうかの確認はされているんでしょうか？
実際にURLを貼ってもらわないことには検証できないんですが・・・ $context = stream_context_create(array('http'=>array('header'=>implode("\r\n",array( 'User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:20.0) Gecko/20100101 Firefox/20.0', 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language: ja,en-us;q=0.7,en;q=0.3', 'Accept-Encoding: gzip, deflate', ))."\r\n"))); file_get_contents($url,false,$context); とりあえずこれで試してみてください。
$keywordsはpreg_splitの戻り値ですから「配列」ですよね？それなのに >$keywords='%'.$keywords; こういう書き方は無理でしょう。printしているから、ご自分でも「おかしい」のはわかっていると思います。"%Array"などとなっているのではありませんか？ 書くとすれば下記のような感じでしょうか・・・ $where = ''; if (count($keywords) > 0) { //　要素数が0なら処理しない $like = array(); switch($mae_naka_ushiro){ case "mae": foreach ($keywords as $val) { $like[] = '(' . $key2 . ' like %' . $keywords . ')'; } break; case "naka": foreach ($keywords as $val) { $like[] = '(' . $key2 . ' like %' . $keywords . '%)'; } break; case "ushiro": foreach ($keywords as $val) { $like[] = '(' . $key2 . ' like ' . $keywords . '%)'; } break; case "zen": foreach ($keywords as $val) { $like[] = '(' . $key2 . ' = ' . $keywords . ')'; } break; } $where = ' where ' . implode('and', $like); } ＃まったくの未検証ですのであしからず ＃typoなどがあるかもしれません（汗 なお、上記ソースではエスケープ（mysql_real_escape_string）は端折っています。端折った理由は「ネイティブなMySQL関数はそろそろ先がないので早めにPDOなどで書き直すべき」ということです。プリペアドステートメントを使えばエスケープを意識する必要はありませんので。
マニュアル読んでください。 boolean への変換 http://www.php.net/manual/ja/language.types.bool … ついでに いきなり $_GET['name'] で検証すると入力がないとき警告が発生しているので ふつうは isset() で検証します。 $state = isset($_GET['mode']) ? $_GET['mode'] : null; あと私は {} の入れ子が多いと読みにくいので意図しない処理を先に除外します。 if (!$conn = mysql_connect()) { 　exit;// or return } // 成功時の処理 さらについでにこういうのも読んでおいたほうがいいでしょう。 http://framework.zend.com/manual/1.12/ja/coding- …
デフォ値を設定するのはすでにでているので func_get_arg()を使えば、好きなように引数を処理できます。 ただ仕様が固めにくいのであまりお勧めはできません。 <?php function hoge() { for($i=0;$i<func_num_args();$i++){ var_dump(func_get_arg($i)); } } hoge("abc","xyz",1,2,NULL);
基礎でも変わっているところもある。(過去との互換で昔の方式も書けるけど) それはやっぱりコンストラクタの書き方でしょう。 PHP4の頃はコンストラクタはクラスと同じ名前のメソッドを用意すればよかったけど PHP5からは__constructを使うようになっている。 >最近の俺が衝撃受けたのは 5.5以降で mysql_query が非推奨になってる事。 別に不思議ではないと思いますよ。 mysqlはパイント変数が使えないと言うセキュリティーレベルで見れば欠陥品です。 だからこそmysqliやpdoのようなバインド変数が使えるライブラリに移行するのは必然ですから。
＞「HTMLタグが含まれた文章」 を処理します。 あの、PHPで処理する以前に元のファイルをエディタの置換で処理し、正しいXHTMLにしておく方が良いのでは？ 私はPHPもWebの実務もよく知らないのでそう思いましたが…PHPで置換処理するのが大前提なのかな。 とにかく、お急ぎのようなので、一般的な正規表現だけをお答えします。 必要ならばPHPの文字列リテラルに合わせ、\を\\にするなどして使ってください。 <img ～> <br> <hr> ↓ <img ～ /> <br /> <hr /> ■検索 <(img\s+[^>]+[^\/\s]|br|hr)\s*> ■置換 <\1 />（または、<$1 />） ＞最初から終了タグが含まれていた場合は処理対象外にしたい 上記の正規表現は少々工夫してこの要求を満たしています。 しかし常套手段としては終了タグが含まれる場合も処理の対象とし、置換後に望む結果になっているようにするのが一般的です。 その場合はこうなります。（置換は同じく、<\1 />または、<$1 />） <(img\s+[^>]+?|br|hr)\s*\/?>
もう少し、具体的な内容があれば、回答も具体的になると思います。 たとえば、「実際のhtmlはどのようなものか」「何を基準に並び替えをするのか」「大量のテキストファイルとはどれくらいの数を指すのか」などです。目的や内容によってケースバイケースなので「通常」というものは存在しません。その都度最適な方法を採用するだけです。
＞そのまんま********が貼り付けられていました。 ああ、あるあるネタですね そういうことならgaintのidentified byで適当なパスワードを設定するだけで いけるかもしれません
http://oshiete.goo.ne.jp/qa/8036585.html は参考になりましたか?
php本体には、home_urlやbloginfo('url')といった関数はないです。 おそらくWordPressのことを言ってるんですよね？ Codexに全部載ってます。 http://wpdocs.sourceforge.jp/%E3%83%86%E3%83%B3% … http://wpdocs.sourceforge.jp/%E3%83%86%E3%83%B3% …
おおまかに原因を推測するなら、 ・ネットワークに問題がある ・サーバーの設定に問題がある ・PHPのソースに問題がある(DB接続含め) のいずれかでしょう。 提示された情報では、すべての可能性を疑う必要があり、回答のしようがありません。誰も闇雲に回答なんてしたくないはずです。 また、たとえば、 <?php print 123 ?> という単純な内容で、同様のエラーが出ないのであれば、直接ではないとしても、phpの内容が関与しているのは確実です。phpに問題はないと断言するのは早計です。逆に、上記の単純なコードで同様のエラーが出るのであれば、phpとの因果関係は薄くなりますね。phpが原因の可能性を排除するなら、最低限その程度の情報は必要です。 技術的に詳しいことが分からなくても、「たとえばDBとの接続をしない場合はどうだろうか」などの試行錯誤は誰でもできます。原因を探るには、phpのどの部分に問題があるのか、あるいは関与しているかを特定する必要があるわけです。それは我々ではなく、質問者さんにしかできません。
○ if 文などの説明をよく読んでください http://www.php.net/manual/ja/control-structures. … if()のかっこの中は「式」で、その評価結果が真か偽かで分岐します。 式ということは $a=式; という形で計算結果を変数に代入できるはずです。演算子の優先順位を考えれば $a=(式); が確実でしょう。 ○比較演算子の「等しい」には===と==があります。 それぞれの否定(等しくない)は!==と!=です。 この2つは意味が違います。 その違いを知らない人が、使い方を混同して、期待通りに動作してくれない、というのがよくあります。 http://www.php.net/manual/ja/language.operators. …
そもそもデバッグにはPHP側は何を使っている? どのURLからスタートするか設定できるけどそれすらやっていない?
set_error_handler()などエラー処理をいれてみては？ http://www.php.net/manual/ja/book.errorfunc.php たとえば、 <?PHP print "x"; trigger_error("hoge", E_USER_ERROR); print "y"; ?> を実行すると、xが表示された後Fortal errorが発生してyは表示されません。 こうすると、フォータルエラーをつかんで復帰します エラーの種類によってcaseを分けて処理していけばよいでしょう。 （さすがにシンタックスエラーは回避できないとおもいますが） <?php function myErrorHandler($errno, $errstr, $errfile, $errline) { switch ($errno) { case E_USER_ERROR: print "致命的なエラー つづく...<br>"; break; default: print "その他のエラー"; break; } return true; } $old_error_handler = set_error_handler("myErrorHandler"); print "x"; trigger_error("hoge", E_USER_ERROR); print "y"; ?>
phpmyfaqでもよさそうではありますが、テンプレートのカスタマイズが必要になりそうですね。 個人的にはパッケージを使わず自分で作ってもいいのでは？と思います (パッケージを使うということはPHPは理解しているんですよね。カスタマイズは必ず必要ですし)。 そんなに難しいものでもないですし、最悪ベタHTMLでもいいのかも…
「データが存在する」というのはどういう意味で使われていますか（NULL以外＝空文字列は存在すると判断するのかどうなのか）。 空文字列は「存在しない」でいいんでしょうから if ($row['db_url'] !== "") { print '<div>URLデータは' . $row['db_url'] . 'です</div>'; } でいいのでは？ http://www.php.net/manual/ja/language.operators. …
お遊びレベルでよければこんな書き方もあります $kingaku="-"; if(in_array($name,array("6メートル","10メートル"))){ for($i=10;$i<=50;$i+=5){ if($keta ===$i."メートル") $kingaku=${($name==="6メートル"?"a":"b").$i}; } } ただし、命題では$name =="１0メートル"の表記の十のケタが全角になっているので そのままではうまくいきません。
そもそも文字列カラムにNULLを指定する意味がないので ''（長さ0の文字）でよいような気がします。 場合によっては、「NULL」という文字列をデータ投入後 UPDATE テーブル SET カラム=NULL WHERE カラム='NULL' のような処理でもいいかもしれません。
$_SERVER["SCRIPT_NAME"]とか$_SERVER["SCRIPT_FILENAME"]、__FILE__ などを元に（basenameで）ファイル名だけ切り出せばいいのでは？ http://www.php.net/manual/ja/reserved.variables. … http://www.php.net/manual/ja/language.constants. … http://www.php.net/manual/ja/function.basename.php
$_SERVER['QUERY_STRING'] で受け取ります。index.phpで <?php print $_SERVER['QUERY_STRING']; とでも書いてみればわかります。
PHPのdate関数はシステム日付を元に出力しています。 使っているOSが何か分かりませんが、システム日付が狂っていませんか？ unix系OSであればコンソールでdateコマンドを、windows系OSであればタスクバーの日付を確認してください。 codeigniterは多分関係ないですね。
本来の要件は /*----------------------------- たとえば、インプットフォームに文字を入力して、受け取る。そして表示。 と同時にHTMLファイルを書き出して保存する場合、 どのようにスクリプトを書けばいいでしょうか。 -------------------------------------*/ でしょうけど、こちらは置いときますｗ ob関係の使い方について書きます。（嘘書いてるかもしれんけど） //出力抑制開始　コレ以降の出力はバッファに溜め込まれる ob_start(); print "hogehoge"; //hogehogeはブラウザには送られない、バッファ行き $hoge = ob_get_clean(); //現在のバッファの中身を取得し、出力バッファを削除します。 これで出力しようとしてた内容は変数に取得出来ます。 ob_ end_ flush　とか色々ありますんで、他の詳しいことはマニュアル見よう～
ANo.1 に追記です。といっても『下記URLを参照してください』というだけですが（汗 http://oshiete.goo.ne.jp/qa/8036014.html
エラーメッセージは単純です。Parse error: syntax error,ですから実行時エラーでなく文法的なエラーですね。 in xxxx でエラーが発生したphpスクリプト（ファイル）名が、on line 999 でそのスクリプトファイルでの行番号が表示されています。 phpスクリプトのファイル名が何であるかによって、どうすればいいかが変わってくると思います。自分で触っていないファイル（プラグインとかテーマで追加されたファイル）でしょうかねぇ・・・
既にライブラリがあるのでそれを用いた方法だけ。 http://simplehtmldom.sourceforge.net/ $titles = array(); $html = str_get_html('HTMLの記述'); foreach ($html->find('div[style="display:none;"]') as $item) { $titles[] = $item->find('span[class="title"]',0)->innertext; } print_r($titles); どうやって実現しているのかは、ご自分でライブラリを改造して各メソッドでvar_dumpするなりして、追って確認してください。 ネストを考慮するとなるとかなり処理が面倒になります。
質問者さんがインストールしようとしているXHprofというのは、これとは別のものなんですよね？ http://www.php.net/manual/ja/book.xhprof.php http://pecl.php.net/package/xhprof
SQL文をphpから投げる。 update <テーブル名> set SUBID = <挿入する値> where ID = X ※データ型によっては　リテラルをクォーテーションで囲うこと
×）IFNULL(vwB.pnt_ttl) as point_total ○）IFNULL(vwB.pnt_ttl, 0) as point_total
ヒント ： リファラ $_SERVER[”HTTP_REFERER”]
そのまま書いていけば出来上がりそうなものですが・・・ $colors = array(1=>"#ff0000", 2=>"ff6600", 3=>"#ff0066", 4=>"#ff3399"); $fp = fopen('select-ringo.txt', 'r'); while ($row = fgetcsv($fp)) { if (!is_array($row)) { continue; } $key = intval($row[0];); if (!array_key_exists($key, $alldata)) { continue; } $name = $alldata[$key]['name']; $color_style = ""; if (count($row) > 1) { $color = intval($row[1]); if (array_key_exists($color, $colors)) { $color_style = "color::" . $colors[$color] . ";"; } } $size_style = ""; if (count($row) > 2) { $size_style = "font-size:" . $row[2] . "px;"; } if (($color_style !== "")or($size_style !== "")) { print '<span style="' . $color_style . $size_style . '"' . $name . '</span>'; } else { print $name; } } fclose($fp);
＞　一点わからないのですが、$stmt1　というのは何かの略なんでしょうか？ PDOStatementのインスタンスを入れているので、ステートメントの1個目という意味で使ってます。 複数のSQL文を同じループの中で使う時1個目、2個目と定義しておいて使い分ける事があるので、私はそんな感じで変数名を付けてます。
>urlについている?つければgetで送ったことになるんですか？ >HTMLのフォームから送るものと思い込んでいました method="GET"のフォームで送ったときのURLを見れば一目瞭然です。 サーバサイドスクリプトを使うのであれば「httpの仕組み」は理解しておいた方がいいです。
そもそも$xmlData->Itemは（Objectであって）配列ではありませんよね？foreachが配列以外も扱えるからといって、配列関数でも（配列ではないObjectが）扱えるというわけではありません。 $arr1 = array(); $arr2 = array(); としておいて、 foreach ($xmlData->Item as $itemValue) { $arr1[] = $itemValue; } foreach ($xmlData2->Item as $itemValue) { $arr2[] = $itemValue; } foreach ($arr1 as $key=>$itemValue1) { $itemValue2 = $arr2[$key]; // $itemValue1 と $itemValue2 を使って処理 } などとした方が手っ取り早いと思います。
$img = '../images/other.gif; よ～く見てみな。「;」の手前に、何かが足りないから。 んで、こういうエラーでハマるのは、「'」を多用するから、が原因。 「'」って、ソースコードの「改行」も無視して、「'」が閉じるまで「とにかく全部文字列」って言う動きをする。 だから、こういうミスをすると、次に「'」が現れるまで、ずっと「変なコンパイル」になって「訳の判らない行でエラー」になる。 ソースコードの中の「'」を、可能な限り「"」に書き換えてごらん。 そうしたら『「"」を閉じ忘れた所でちゃんとエラーが出る』から、今回みたいな罠にはハマらない。 PHPで書くなら、「'」は極力使わない、可能なら一切使わないで書くこと。
$data = file_get_contents($r[0]); ではなく $data = $r[0]; でいいかと。 何故ファイルパスの部分に内容の文字列そのものをぶち込んでいるのかが分からない。
xamppであればMySQL側を弄る必要はありません。 >もしくはPHP5.2.2以降なら「mysql_set_charset(‘utf8′);」を実行しても良い。 MySQL関数であればそうですが、すでにMySQL関数は「先がない」状態です。PDOやMySQLiを使ってください（マニュアルを読めば載っているのですが・・・）。 http://php.net/manual/ja/function.mysql-set-char … PDOなどで接続するのであれば、接続文字列（DSN）でcharsetを指定します。 $pdo = new PDO("mysql:host=$host;dbname=$dbname;charset=utf8", $user, $pass); set namesを使うのはDSNで指定できない（phpが5.3.6未満のケース）だけですが、その場合でも $options = array(PDO::MYSQL_ATTR_INIT_COMMAND => 'set names utf8); $pdo = new PDO("mysql:host=$host;dbname=$dbname", $user, $pass, $options); のように書いておくといいです（わざわざ$pdo->query('set names utf8')を書くのは避ける）。
参考にしている情報が2008年と非常に古いものです。 APIが新しくなっているので、それに合わせてPHPを作成する必要があります。 詳しくはmixiを見て下さい。
$str = str_ireplace('<p></p>', '', $str); とか・・・ http://www.php.net/manual/ja/function.str-irepla …
正直、CGIが 「こもん げーとうぇい いんたーふぇいす」だという事は知っていたけど、深く考えたことはなかった。 「そういうものだ」としか思ってなかった。 という事で、wikiってみました。 うん。俺が説明するより、直接見てもらったほうが早いですね。 参考URL：http://ja.wikipedia.org/wiki/Common_Gateway_Inte …
>プレースフォルダは使ってるのですが、 >WHERE IN ( $1 ) に配列を >突っ込もうと思ってたのですが、 要素数分のプレースホルダが必要なので $array = array('aaa', 'bbb', 'ccc', 'ddd'); $tmp = array(); for ($i = 0; $i < count(); $i++) { $tmp[] = "?"; } $stmt = $pdo->query("select * from table where column in (" . implode(",", $tmp) . ")"); $stmt->execute($array); のようになります。引用符は何も考えなくていいですけどね（なので質問の主旨が変わってしまいますが・・・）。
まずhtmlで処理するなら「<」は「&lt;」と書くように心がけたいですね で、不注意や特殊なケースでのエラーをさけたいなら 変数は文字列のかたまりから出すことです。 echo $hoge."&lt;100"; あとはsprintfなどフォーマットをつかった表示をするとか echo sprintf("%d&lt;100",$hoge); どうしても塊で処理したいなら「{}」で囲むことです。 echo "{$hoge}&lt;100"; もちろん、自分だけしか使わないファイルで、自分でチェックして 自分のちからで解決できるなら echo "$hoge&lt;100"; でも問題ありません
＞ちなみに、この二重ループの書き方で、配列要素数が4つだった場合、結果を下記のようにすることはできるでしょうか？ 別の方も書かれていますが、何をどうしたいのかを論理的に説明できない物は、プログラムに書けません。人工知能のような物を作ればあり得るが、それにしても多くのケースから学ぶことになるので1例だけでは無理。 ＞また、回答まではどういう過程を踏んでるのでしょうか？ ＞質問見た瞬間に答えが頭に思い浮かぶのでしょうか？ ＞それとも何らかの試行錯誤なりをするのでしょうか？ 二重ループにするというのは、すぐ浮かぶこと。 あとは、グループ内は 1 → 4 → 7 なので3ずつ加算する。また、それぞれのグループの１つめは、1 → 2 → 3 なので1つずつ加算することから自明。 ifで配列をはみ出してないかチェックするのは、エラーになって後から追加しました。 最初によく考えれば気づくとは思いますが、何回も実行しながら改善する方が楽です。
出力用ディレクトリが \　になってますね。これかな。たぶん 適宜ディレクトリを作成して分かりやすい場所を指定してみるとどうでしょう。.htaccess　なら php_value xdebug.profiler_output_dir C:\Xdebug_log とか。
>行頭のスペースまたはタブを削除する方法 $pattern="/^\s+/m"; $replacement=""; $str=preg_replacement($pattern,$replacement,$str); >行末のスペースまたはタブを削除する方法 $pattern="/\s+$/m"; $replacement=""; $str=preg_replacement($pattern,$replacement,$str); >行の最後にカンマを付ける $pattern="/$/m"; $replacement=","; $str=preg_replacement($pattern,$replacement,$str); >特定の文字後にカンマを付ける $pattern="/特定の文字/m"; $replacement="$,"; $str=preg_replacement($pattern,$replacement,$str); ただし特定の文字は所定のエスケープ処理が必要になるかもしれません。
出力を保留して後でimplode for($i = 0; $i<10;$i++){ $array[i] = array("ID".[$i] => "NAME".[$i]); } $rsl=""; foeach($array as $key => $value){ foreach($value as $id => $name){ $rsl.=sprintf('<a href="aaa.php?id=%s">%s</a>',$key,$name); } } print(implode(',',$rsl));
言語は PHP でしたか。PHPのクラスの仕様は特殊な上に、私自身が PHP では継承をあまり使ったことがないので、マニュアル引き引きの 回答になりますが…。 ・子クラスのコンストラクタでしか呼び出せない、という理解で合ってる 　でしょうか？ 　　⇒PHPでは試したことがないうえに、マニュアルに明確なことが 　　　書いてないので回答しにくいのですね。少なくともその他の一般 　　　的な言語（CとかJAVAとか）ではその理解であっています。 　　　# CとかJAVAとかでは、『子のコンストラクタの最初』 以外で 　　　# 親のコンストラクタを呼び出すと、エラーで動きません。 　　　PHPではどう振る舞うか、確実なところはわかりませんが、 　　　やっぱりエラーになると思われます。 ・暗黙の内にコールされることはありません 　　⇒PHPの仕様です。マニュアルに従って、呼び出してください。 　　　(他の言語からPHPに移った人は、よく引っかかる罠なんだとか) ・所有関係 　　クラスAに実装した変数 (もしくはプロパティ)に、クラスBのインスタンス 　　を入れた場合、『A が B (のインスタンス) を所有している』 と言います。 　　この関係を親－子という場合もあります。
＞$this-> __construct();と記述したら、「Fatal error: Allowed memory size」になりました。 そのエラー文には続きがありませんか？ エラー文全てがどうなっているのか気になるところです。 ＞・なぜ、$this-> __construct();ではダメなのでしょうか？ ダメではありません。 $this->__construct();内でダメになる処理を記述されていないでしょうか？ ＞・メモリエラーと言うことは、文法的には間違っていない、ということでしょうか？ はい、そうです。 またはsyntax errorを検知する前にメモリエラーが発生してしまっているのかも知れません。
load.phpで何も出力されていませんが、$num を出力しなければならないのは「load.php側」です。index.phpではありませんよ。 あるいは誤解なさっているかも。 jQueryでのload()は、phpでのinclude等とは異なります。 http://～/load.php と直接アクセスしてみて下さい。そこに表示されるものが load()で取り込まれます。なのでload.phpで何も出力しなければ当然何も表示されません。 また >jQuery.event.add(window,"load",function() { // 全ての読み込み完了後に呼ばれる関数 この「全て」にload.phpの完了は含まれませんよ。 load.phpの完了を検知してfadeout等いろいろ実行なさりたいようですから、load()よりも ajax が妥当でしょう。ざっくりとでしたら -------------------------- [index.php] <html> <head> <script language="JavaScript" src="/jquery.js"></script> <script type="text/javascript"> $.ajax({ url: "load.php", }).then( function(data){ //load.php完了後にしたい処理 $("#sample").fadeOut(800); $("#container").html(data); } ); </script> <div id=sample style="z-index:10;position:absolute;"> <div id="loader"><img src="loader.gif" /></div> </div> <div id="container"></div> ----------------------------- [load.php] // 重い処理 echo "結果は $num 件です"; ----------------------------- 詳細は [ jQuery ajax ローディング ]等で検索してみて下さい。
文字数固定の決め撃ちはやめたほうがいいですね。 下記は とりあえず、今回のケースでのみ動くという程度のもの。 正直、俺は正規表現を良く知らないので、もっといいやり方があると思う。 foreach($html->find('table.infoBox') as $item); $str = $item->plaintext; $DimData = explode(" " , trim($str)); foreach($DimData as $i => $dat) { list($num , $price) = mb_split("個" , $dat); $price = preg_replace("/[^0-9]/" , "" , $price); print "$num 個 $price 円<br>\n"; }
$moji にはどこで何をセットしているのでしょうか？ 以前はregister_globalsが on だったということなのかもしれません。php4.2.0（2002年4月）以降は off がデフォルトですが、onにして運用していた可能性もあります。 http://php.net/manual/ja/security.globals.php
＃PHP初心者というよりはプログラミング自体が初めてなんでしょうね >$keyや$valは自分で定義した覚えはありません。 定義している必要はありません。foreachで処理する内容がセットされる（つまり受け取る）ための変数です。 http://www.php.net/manual/ja/control-structures. … -------　引用ここから 最初の形式は、array_expressionで指定した配列に 関してループ処理を行います。各反復において現在の要素の値が $valueに代入され、内部配列ポインタが一つ前に 進められます。(よって、次の反復では次の要素を見ることになります。) 2番目の形式は、さらに各反復で現在の要素のキーを変数 $keyに代入します。 -------　引用ここまで $keyとか$valueはあくまでも「仮に」書いているだけで、自分で好きな変数名を使えばいいです。その変数に値（あるいはキーの値）がセットされた状態でループ処理出来るというだけですから。
確認はしていませんが、__('削除') は　PHP側の関数なので alert("<?php echo __('削除'); ?>"); になるのでは?
たとえばこんな感じです。 select * from table where kuwake in ('hobby', 'work') and (main LIKE '%キーワード1%' or main LIKE '%キーワード2%');
こちらのフォーラムで質問に近い内容が議論されています。 再帰関数を使えば実現できると思いますよ。 以下引用 function dfs($array, $parent = null) { static $result = array(); if (is_array($array) * count($array) > 0) { foreach ($array as $key => $value) { dfs($value, $parent . '_' . $key); } } else { $result[] = ltrim($parent, '_'); } return $result; } 参考URL：http://stackoverflow.com/questions/2749398/get-a …
手元の環境では、issetだけでエラー回避出来ましたが・・・ <?php $url = "http://weather.livedoor.com/forecast/webservice/ … $json = file_get_contents($url,true) or die("JSONの戻り値がfalse。"); $obj = json_decode($json); $weather = array(); if (isset($obj->forecasts[0]->temperature->max->celsius)) { $weather["today_max"] = $obj->forecasts[0]->temperature->max->celsius; } if (isset($obj->forecasts[2]->temperature->max->celsius)) { $weather["day_after_tomorrow_max_celsius"] = $obj->forecasts[2]->temperature->max->celsius; } if (isset($obj->forecasts[2]->temperature->min->celsius)) { $weather["day_after_tomorrow_min"] = $obj->forecasts[2]->temperature->min->celsius; } echo "今日の最高気温："; echo isset($weather['today_max']) ? $weather['today_max'] . "<br />" : "取得不可<br />"; echo "明後日の最高気温："; echo isset($weather['day_after_tomorrow_max_celsius']) ? $weather['day_after_tomorrow_max_celsius'] . "<br />" : "取得不可<br />"; echo "明後日の最低気温："; echo isset($weather['day_after_tomorrow_min']) ? $weather['day_after_tomorrow_min'] . "<br />" : "取得不可<br />"; echo "<pre>"; var_dump($obj); echo "</pre>";
動作確認でその画面が出るということは、 apacheがtest.phpをphpスクリプトではなくテキストファイルと認識しているということ。 3種類出るというのは、スタートメニューのことだと思いますが、 それであれば、アンインストール失敗しているか、 アンインストール成功しているがスタートメニューのショートカットが消えていないか。 > もしかしたらこちらでも動くのではないかとやろうとしたところ > apacheが動かなくなりました。 > こちらとはどちらですか？何を思って、何をやったのですか？ なんにせよ、その質問だけでは状況がよくわかりません。 いったん全部アンインストールし、再度やり直した方がいいんじゃないかな。 もしくはxamppを使うか。そのサイトにxamppの解説もありました。 また、そもそもですが、vmwareなどでlinuxを入れてやった方がいいと思います。 webサーバはlinuxであることが多く、その分情報も多いです。 linux触ったことないとしても、 WEBアプリ作るとなったら、linuxとネットワークの基本知識はどうせ必須です。 WEBアプリはどうでもよくて単にプログラミングの勉強であれば、 phpではなく身近にあるものを使ったほうが良いでしょう。 身近にあるものとはjavascript、vba、コマンドプロンプトなどです。
プロファイリングで自分で解析しない理由は?
＞　smtp_port = 587 SMTPのポート番号に587を指定すると言う事は、接続にSMTP認証を使用しているはずです。 SMTP認証が必要な場合はmb_send_mail()が使用できませんので、認証が不要な25番ポートで使用できるSMTPサーバを使用するか、PEAR::MailなどSMTP認証に対応できる機能を使用するしかありません。
たとえばだけど、cronの使えるサーバーを別途契約するなり、自宅に用意して そこからwgetなどでcronを走らせて、該当サーバーの更新をするという手もあります
ANo.2 です。 >update_time以外にフラグをもつ理由としては >同一のレコードが例えば半年後あるいは一年後には >再び、新着レコードとなる場合が多々あるということです。 すでに他の方からもツッコミがありますが、そのときには「update_timeが書き替えられて」新着として扱われるようになるというのが普通の処理です。 たとえフラグを持っていたって2週間経過後に更新するためには起点となる日付は必須ですよね。逆にその起点となる日付（日時）さえあれば、フラグなんて要らないし更新する必要もないです。 update_time以外にcreate_time（最初に作成した日時）も持っておくというならまだ理解できます。リストで「新着」と「更新」を分けて表示するケース（表示期限も別だったり）もありますので。
Array ( [name] => tst.pdf [type] => application/pdf [tmp_name] => /tmp/phpSRfZEs [error] => 0 [size] => 8182546 ) このサイズのファイルを添付すると、メールデータのサイズは10MBを超えると思いますが、メールサーバは10MB以上のサイズに対応していますか？
元テーブルの設計が正規化してないのでNGですね おそらくnoとnameの組み合わせが1対1だとおもうので 別テーブルを組んでnameを追い出してやるのが妥当 今回の例だとmysqlだとこんなんでなんとなく動いちゃいます。 select no,sum(point) as point,name,count(*) as count from hoge group by no ただし、SQL文としてはあまりほめられた書き方ではありません。
No.1です。 ＞UDID←端末が最初から持ってるID ＞UUID←こちら側で作成して、端末に割り振るID はい、お察しのとおりUUIDとはアプリ開発者側が生成し発行されるユニークな値です。 たしかにUDIDと名前が似ていますが、 UDIDは端末に最初から割り当てられているユニークな値に対し UUIDはアプリ開発者が生成するユニークな値の事です。 補足ですが、UUIDのように開発者側が生成するユニークな値で、 かつ「アプリインストール単位で」割り当てられるユニークな値をUIIDと呼びます。 参考）http://d.hatena.ne.jp/tanamon/20120924/1348491831
コピペでやっただけですが、エラーは再現されず普通に動くようです。(PHP5.2) 意図しない同名別ファイルが読み込みされているかと思いましたが、絶対パスとのことですし…。 詳しい方の回答を待ってみて下さい。お役に立てずご容赦
<link rel="stylesheet" href="style.css"> を <style> <?php include("style.css"); ?> </style> とすれば同じ結果になると思います。
昨日（というか早朝4時頃）に4も書いたんですが、どうやら送信し忘れたようなので、追記。 二度も同じ事を書くのが面倒なので、簡単に説明。 (ssid,　product_cd)の2つを主キーとしているのでなければ、多分、原因は SSIDのあたり。 insert文のSSIDが 毎回同じ数値と思われるので、最初の一行以外は重複不可で無効になってる。 SSIDが重複可なら他に原因があるんでしょうけど。 あと insert の時でも戻り値は取っておいたほうがいい。 SQL投げるたびに、↓みたいに表示しとくとデバッグしやすい。 print "[$result] $sql<br>\n"; 更に気がついたことがあるので追記。 これってssid で誰が買い物カゴに入れたか判断してるんでしょうか？ ユーザーCDみたいのがssidなんですかね。
正直、前回回答したとき深く考えていなかったので、できるかなーできるかもなーどうだろう？ぐらいの考えで回答してました。 前回は他ドメインというのも条件になく、できるか分からなかったので、今回ちょっくら書いてみようかなーとか思ってたら、既にやっている人がいた模様です。 http://q.hatena.ne.jp/1213176191 こういう事でしょうか？ 参考URL：http://q.hatena.ne.jp/1213176191
エラーがでないのであれば、phpのコードに問題はないと思います。 サーバーのsendmailが許可されているかなどを調べてみてください。 ただ、サンプルのソースは、セキュリティ的に使用するべきではない見本ですね。。。
Ano3 間違いすみません。 $row は status1～5だけとは限りませんでしたね。 foreach($row ～ )の部分はANo2さんのように forにして番号を付加したり、あるいは別の配列を用意して　 foreach( array($row['status1'],$row['status2'] ～) 　と必要な部分のみ回るようにする必要があります。
>シングルクォートで囲むと文字列になるので囲わないでdbに入れたいのです > >mysql_query("INSERT INTO table(id) VALUES($id');"); 囲まずに使えばいいのでは？SQL文は「整数値を表す文字列」であればいいだけですから。 mysql_query("INSERT INTO table(id) VALUES($id)"); ＃というか、提示されたソースも"囲んで"はいませんね ＃あとセミコロンを付けないようにしてください どうしても気になるなら、 if (is_mumeric($_POST['id'])) { $id = intval($_POST['id']); } else { die('POST DATA ERROR'); // 適切なエラー処理 } とか。 なお、MySQL関数はすでに古いです。将来のバージョンでなくなることが明言されています。今のうちにPDOやMySQLiに移行してください。
初心者でもできる2つの提案があります。 1. 一口にエラーと言っても、回答者は正常に表示されないんだな、くらいしか読み取れません。何をもってエラーと言っているのか、もしくは勝手にエラーと思い込んでいる可能性もあります。また、エラー表示があるのならば、その内容を書くべきです。 2. それが仮にほんとにエラーなのであれば、エラーの特定をしてください。幸いサンプルのコードは短いです。$の表示が疑わしいのであれば、一度$の部分を消せば、それが問題だったかどうかが分かります。また、文法間違いの可能性があるのであれば、疑わしい部分を削除して正常に動けば、原因を特定できます。 質問はそれからですね。
#1を反映するならこんな感じ <?php $sql = "select product_id,product_cd,name,price from products "; $result = mysql_query($sql) ; while($row = mysql_fetch_array($result)){ print "<tr>\n"; print "<th><input type=\"checkbox\" name=\"check[]\" value=\"".$row["product_id"]."\"></th>\n"; print "<td>".htmlspecialchars($row["product_cd"])."</td>\n"; print "<td>".htmlspecialchars($row["name"])."</td>\n"; print "<td>&yen;".number_format($row["price"])."</td>\n"; print "<td><input type=\"text\" name=\"goods[".$row["product_id"]."]\"></td>\n"; print "</tr>\n"; }
やりたい目的がハッキリしているのであれば、書籍よりもPHPマニュアル（http://php.net/manual/ja/index.php ）とGoogle検索が一番分かりやすく、早いと思います。 ・一定時間ごとに外部サイトからデータを取り込む ・自分のサイトに商品別ランキングで表示する ・商品価格の変更にも対応する という3つの要件を実現するよう、1つずつ解消していくのが良いです。 １）「一定時間ごと」というのはどうしたら良いか？ 　　→OSの知識が必要になるかもしれません ２）外部サイトからデータを取り込むのはどうしたら良いか？APIが用意されているか、スクレイピングするのか。 　　→外部サイトの仕様に依存してしまうので、この実装はとても難しそうです ３）商品別にデータを表示するにはどうしたら良いか？ランキング付けするにはどうしたら良いか？ 　　→SQLの知識が必要になります ４）価格の変更に対応するにはどうしたら良いか？ それぞれ解決方法は数多くあり、質問者様の方である程度調査したあとで再度細かい実装方法などについて質問されると、回答がつきやすいかも知れません。 参考URL：http://php.net/manual/ja/index.php
>同じ検索キーワードで、あとは違うパラメータをくっつけた >３つのリクエストを同時に送信するなんてことが、出来る >のかしら？ 出来る。と楽天APIの仕様に書いている。 http://webservice.rakuten.co.jp/api/itemsearch/# … 「例」でも、&sort=%2BitemPrice というのが書いている（逆順は&sort=%2DitemPrice）。 ＃仕様を読まずにプログラムを作っているわけじゃないと思うんだけど・・・
header()関数でファイル名設定しているか?
こんにちは。 無駄に伏せて違う会社のことを回答されたら質問者様も困るし、回答する人も困ると思います。 >CSVダウンロードできるのは確認しておりましたが、 >どうしてもここは手動にするしかないとの認識で大丈夫でしょうか？ いえ、cronで(タスクみたいなもの)CSVダウンロードからデータの書き換えまで自動です。 >運営側で洗替結果CSVを毎月、自サーバに設置する作業が発生する CSVをファイルとして利用するのであれば自サーバなりどこかに設置しますが(自動ですが) いま関わっている案件はCSVデータをワークテーブルに書き込んでそこからSQLで処理しています。 一応ファイルとしても保存していますが、ログのような扱いで実際の処理には利用していません。 HTTP経由でログイン、CSVのダウンロード、ダウンロードしたCSVデータをワークテーブルにインサート、 そのデータを基に処理 これを定期的に自動実行しています。
ざっくり見ただけですが、 > <button id="btn3"> と > $("#btn3").click(function(){ の「btn3」をループする度に違うIDにすればいいと思いますよ。 試して無いですが、こんな感じかな。 <button id="btn{$smarty.section.tloop.index}"> $("button[id^='btn']").click(function(){
同じ事した事あります $cft_data=get_option('custom_field_template_data'); でカスタムフィールドテンプレートの設定を取得 $cft_data['custom_fields'] にカスタム投稿から値を設定 update_option('custom_field_template_data', $cft_data); でカスタムフィールドテンプレートの設定を上書き ってカンジです カスタムフィールドテンプレートで値とラベルを別にするのは value とvalueLabelを別々に設定すればいいだけです
とりあえずちょっと書き方をかえて select *,(select count(*) from tableA y where y.name = x.name) as z from tableA x where kind ='果物' order by z desc,name,No とすれば、きちんと出現頻度でソートされていることがわかると思います。 もしzの値が想定と異なる場合は、なんらかの条件が違うのでしょう そうなると質問者さんの環境がわからないので答えようがありません
色々と条件が違ってて回答になってない気もしますが、こんな方法もあるよ。程度にお聞きください。 一つ確認したいのは、そのPHPを呼ぶのはブラウザからですよね？ 一回、ブラウザに その目的のページを表示させてから、ブックマークレットでPHPに丸ごとPOSTで投げてやるという力技なら出来るかもしれません。 そのページのJavaScriptは表示が完了している時点で、完結しているものとしてですが、以下の様なブックマークレットでJavaScript実行後のものでもソースが取れます。 javascript:void(alert(document.body.innerHTML));
(1)はリンク切れではなくHTTP_REFERERをチェックするってことですか？ であれば、mod_rewriteかな。 (2)は#1さんと同じ。 (3)のGETパラメータが見えるor見えないってのは、 URLを人が見て理解できるorできないって話しですか？ 単に人がブラウザのアドレス欄を見て理解できないだけで 良いのであれば、暗号化と言うより難読化ですよね。 だったらURLエンコードでいいんじゃないかな。 でも、可能であればpostを使った方がいいと思います。 これはapacheではなくクライアントとサーバのスクリプトの話しですね。
この質問に対しての回答は2の人ので正解だと思います。 Eclipse使い始めたようなので、ちょっとアドバイス。 2の人も言ってるような、セミコロン忘れとかは、エラーの出てる行じゃなくて、次の行に出たりするので要注意。 括弧の閉じ忘れは 最終的に数が合わないってことで 一番最後に「エラーだよん」ってのが出る。 んで、カーソルを括弧とかに合わせると、それと対になる閉じ括弧にマークがつく。 そのマークが分かりづらいのがアレだけど。 あと CTRL+SHIFT+F で 自動でインデント入れてくれるので、if とかがネストした時に分かりやすくなる。 ただ、エラーが有るとやってくんない。 あと、1の人のに関しては、3の人の言ってることが正しいけど、言い方が良くないとは思う。 正直、俺はHTML5になってからついていけてない。
CSSやHTMLの質問ではないというけど、CSSやHTMLが分かれば解決できそうですね。 枠線が入るということは、どこかのタイミングでCSSが適応されているということです。 たとえば、ブラウザの要素の検証などで、どういうCSSが適応されているかとか調べられましたか？ 原因はSmartyかもしれませんが、結局のところ、CSSとHTMLの問題ですよ。
とりあえず、phpMyAdminに投げてみただけですが、そちらの書き方で問題なくコピーされることは確認しました。 ↓ これ、$connect1 を決め打ちしてるのが原因ってことはないですかね？ $result = mysql_query($sql, $connect1)or die("コピーできません"); ↓ こうしてみたら どんなもんになるでしょう？ $result = mysql_query($sql)or die("コピーできません"); あとyambejpさんがご指摘の通りですが、SQL文の末尾のセミコロンは複数行を実行させようとしない限り、必要ありません。 ちなみに、サーバーが異なってたりはしませんよね？
なんかテキストエディタ使った方が良いよ。 ワードはテキストエディタとは言わないと思う。 何が良いかは人それぞれだけど、テキストエディタであれば、 文字コード改行コード設定、行数表示、タブ設定、矩形選択、 正規表現置換、キーワードハイライト、折り返し表示設定、、、 があると良いかな。 テキストエディタでなくともIDEという選択もある。 eclipseやnetbeansが有名だけど、他にもphpが使えるのはいくらでもあると思う。 自分はvimで開発してる。
define()は定数の指定。 ただし注意が必要。 define()で指定した定数のスコープはグローバルになってしまうこと。 特定の範囲(スコープ)で指定したいならconstを使う必要がある。 それでもクラスを作ってその中でconstを使えば abc::AAAとか指定すればconstでもグローバルに使えるようにはできるけど
正規表現パターン中に不要な / があるからですね。 > preg_match_all( "(/abcNo=(.*?)&ckFlg/)", $_getHTML, $matches); '/'を区切り文字にするのはawkからの伝統ではありますが、PHPではそういうことをしないですね。 そもそも、'/'は正規表現を囲うために使う区切り文字として使うので'/'とマッチしたい場合を除き正規表現中に出現するのはおかしいんですが。
> 「対象データがないよ」ってことでしょうか。。。 find()の呼び元がオブジェクトじゃないよ、てことです。 直訳まんまですが・・・。 データがないのはないのですが、たぶんもう一つ前のステップでデータが見つかってないです。 find()の結果にデータがなかったというわけではないです。 例えば、<ul>の中の<li>を取り出したいと思って次のように書いたとします。 $ul = $html->find( 'ul' , 0); # htmlから<ul>取り出し $li = $ul->find( 'li', 0); # <ul>から<li>取り出し もしHTMLに<ul>が無ければ1行目で$ulはnullになりますが、それにもかかわらず続けて<li>の取り出し(2行目)を実行しようとすると質問同様、「$ulはオブジェクトじゃないのにfind()メソッドを呼んでます」というエラーが出ます。
壮大な勘違いをされているようです。 通常、そのような仕組みを作るのに、phpファイルは1つで十分です。 phpなどのプログラムの目的は、自動化であり、更新を簡単にすることです。 cinnronさんが例にしたものは、そのどちらとも叶っていません。 たとえば、5000個のphpの中の画像パスが変わった時、再び5000個のphpを編集するのでしょうか？ つまり、その例の場合、phpを使う意味がほとんどありません。(並び替えの部分をどうやってるか分かりませんが) 配列、もしくは連想配列をご存知でしょうか。 詳しくは説明しませんが、例えばこんな感じで5000個の要素の配列を作れば、1つのphpで5000個の画像セットが作れます。 ---------------------------------------------------- //画像配列 $path="/iamges/"; $img_array=Array( 　Array('path'=>$path.'1jpg','alt'=>'画像の説明1','width'=>500,'height'=>300), 　Array('path'=>$path.'2jpg','alt'=>'画像の説明2','width'=>500,'height'=>300), 　Array('path'=>$path.'3jpg','alt'=>'画像の説明3','width'=>500,'height'=>300), 　・・・・以下画像数分の要素 ); //画像を呼び出す関数 function getImg($n){ 　global $img_array; 　$img=$img_array[$n]; 　return "<div><img src='{$img['path']}' alt='{$img['alt']}' width='{$img['width']}' height='{$img['height']}'></div>"; } //画像育成 print getImg(1); //<div><img src='/images/1.jpg' alt='画像の説明1' width='500' height='300'></div>が出力される。 ---------------------------------------------------- 上記のような方法で動きますが、より更新を簡単にするために、画像情報をCSVにしたり、DBに格納したりする場合もあります。5000という枚数ならば、通常はDBを使うケースがほとんどでしょう。もっとも、質問文を見る限り、cinnronさんがDBに手を出すには早いと思うので、まずは、配列について学習されることをおすすめします。 >phpで呼び出す場合、phpファイルが最も負担が少ない DBや配列を使えば必要がなくなりますが、そういう話は聞いたことがないですね。どこのソースですか？ 仮にそうだとしても、あまり気にするような差ではない気がします。
No.1です。 ＞希望としては、この配列自体を動的生成したいのですが、五十音とかアルファベットが絡む配列を一気に作成する方法ってないでしょうか？ そういうクラスなり、ライブラリなりを自作されれば一気に配列を作成する事はできるようになりますが、僕の知る範囲ではありません。 ※アルファベットに関するものは探せば見つかりそうですが。 どうしてもそういうライブラリが必要であれば、 「あ」～「ん」または濁音、半濁音、カタカナ（全角/半角）、小さいひらがなを管理するクラスを作成し、 パラメータをセットすることで返す配列を変えるようなstaticなクラスで対応できそうですが、汎用性はほとんどありませんね。。
>>特定のページを見るとポイントを減らすというのはどうやったらいいのでしょうか？ 特定のページを見る処理を呼び出したとき、データベースに記録されているポイントを減らすコードをプログラムに記述します。 もちろん、ログイン＆ユーザ管理やポイント管理など、それに付随していろんなコードが必要となりますし、当然ながらセキュリティ対策をしたコードにすることも必要です。 >>PHPやMySQLでそのようなシステムを組むことはできるのでしょうか？ 既存のサイトはそういうものを利用して作られています。もちろん実際に使われている言語・データベースはもっとイロイロなものがあります。
>今まで試したのは、whileとfopenを使った >方法なのですが、なぜか失敗しました。 具体的なソースを提示してください。ブラウザに返しているのと同じ内容をfputsしているのであれば失敗するとも思えません。 普通は出力バッファリングを使って同じ内容をfile_put_contentsなどすると思います（スクリプトの最初でob_startして、最後にバッファ取得→書き出し）。
>たとえば以下のデータを取得した状態とします。 （中略） >上記データは全て繋がった状態なので これって「改行コード」で区切られた状態ですよね？であればstr_replace()で"\n"を"\n,"にでも置換すればいいのでは？ ＃そもそもカンマを付加したりせず、改行コードで ＃explode()した方が楽じゃないかと思いますが・・・
#4の人が言うように全角スペースかもしれませんね。 > あと 2の人にツッコむと、多分 printとシングルクォートの間に > 半角スペースがあろうとなかろうと動作に変わりはないはずです。 > 知りませんでした。 ちょっと調べてみましたが、確かに動作に違いはないように見えますね。 でも、 print1; print 1; これだと動作違いました。
こんな感じで <?php $str=<<<eof <p>昔むかし、あるところに</p> <p>おじいさんと</p> <p>おばあさんが</p> <p>住んでいました。</p> eof; $pattern="/(.+?<\/p>){3}/s"; $replacement="$0文字"; $str=preg_replace($pattern,$replacement,$str); print htmlspecialchars($str); ?>
前回のは多分これですね。 http://oshiete.goo.ne.jp/qa/8002889.html 前回の続きで書くならこうですね。 function convert_to_map(&$in) { $out = array(); foreach ($in as $value) { $out[$value['no']] = $value; } return $out; } $vegemap = convert_to_map($data); $vegenums = array_map(rtrim, file("vegenum.txt")); foreach ($vegenums as $num) { if (is_numeric($num) && array_key_exists($num, $vegemap)) { print $vegemap[$num]['name']."\n"; } } convert_to_map関数で$out[$value['no']]に$value['name']でなく、$valueを入れているのが違いです。 こうすると、$vegenumsで配列そのものが見えます。 あと、前回の#1さんの前の方の回答を別の書き方で書くとこんな感じです。 $vegenums = array_map(rtrim, file("vegenum.txt")); foreach ($vegenums as $no) { $veges = array_filter($data, function($x) use($no) {return $x['no'] == $no;}); array_walk($veges, function($x) {print $x['no'].":".$x['name']."\n";}); } array_filterでnoが所定のものだけ抽出してarray_walkの中身で表示しています。もし、noが重複するものがあったら両方表示します。 ちなみに、一番外枠のforeachもarray_walkで書けますし、$vegesも要りませんがそこまでやると読みにくいと思ったのでこの程度にしました。 参考までに: http://php.net/manual/ja/function.array-filter.php http://www.php.net/manual/ja/function.array-walk … http://www.ibm.com/developerworks/jp/opensource/ …
＞親ディレクトリはその上の/（ドキュメントルート） No1回答者さんの記述にもあるけど、/ 開始のルート解釈が違います。 マニュアルuser note に windows IISの場合 / 開始のファイルを virtual host のトップ開始と解釈するとある。 http://jp2.php.net/manual/ja/function.include.ph … しかし、windows apache だと、/始まりの時は、include_path から探す。（xampp1.7 で include_path にドキュメントルート以外のみ登録して検証、登録されていないドキュメントルート下のファイルには、/ 開始では読み込みできないが、include_path内のファイルには、/ 開始で読み込みできた） linux系列OS だと、/ 開始は、サーバー本体のルートから探しに行く。 ということで、 今回の場合は、include_pathが記述の通りなら parts/mypartsA/main.php とするか、 ../parts/mypartsA/main.php を指定することで、どのOSでもドキュメントルート以下が同じ構成なら動く。
こんにちは。 どのような種類の予約（宿泊、レンタル、ツアー、サロンなどなど）システムを探されているか、 分からないので、正しくお答えできるか分かりませんが…。 多業種に対応しているものなら、ASPサービス（有償）ですが、こちらはいかがでしょうか？ ワードプレスのプラグインもありますが、インラインフレームでの表示もできるみたいですよ。 在庫管理機能もあるので、参加上限になると自動で予約終了するようです。 予約管理システム Choice RESERVE http://yoyaku-package.com/ 初めての解答なので、ご質問内容に少しでもお役に立てれば嬉しいです。 参考URL：http://yoyaku-package.com/
個人の開発用と言うことで、インターネットなどあなた以外の人からサーバーにアクセスできないのであれば、別に気にする必要はありません。 逆に、そのサーバーをインターネットに公開しているなら、公開をすぐにやめましょう。
>一つずつであれば、どのデータも問題なく取得できますが、 そのマッチさせる根拠を提示してみてはどうですか？ そうでないと、仕様がかなりぶれるとおもいます。
思いつきなので超いい加減ですがこんなかんじ <?PHP $str=<<<eof {"version":"1.0",・・・・ eof; $pattern="/(http:\/\/[^\"]*?\/default.jpg)|(http:\/\/[^\"]*?\/mqdefault.jpg)|(http:\/\/[^\"]*?\/hqdefault.jpg)/mis"; preg_match_all($pattern,$str,$matches); $defaultArr = array_merge(array_filter($matches[1])); $mqArr=array_merge(array_filter($matches[2])); $hqArr=array_merge(array_filter($matches[3])); print "<hr>"; print_r($defaultArr); print "<hr>"; print_r($mqArr); print "<hr>"; print_r($hqArr); ?>
自分で学ぶつもりがない（とにかく動くソースが欲しいだけ）なら、外注に頼めばいいと思うのですけどね。 ＃ただ働きはいなんだけどww <?php $list = file('list.txt', FILE_IGNORE_NEW_LINES); $i = intval(date('j')) - 1; if ($i > 0) { print $list[$i]; } ?>
何かの課題臭いですが、人が書いたコードを見るのも良い勉強だと思いますのでちょっと書いてみます。 noをキーにして、nameを返す連想配列に変換してから探せば良いと思います。 $data = array ( 0 => array ( 'no' => 22, 'name' => 'とまと',), 1 => array ( 'no' => 1508, 'name' => 'かぼちゃ',), 2 => array ( 'no' => 5482, 'name' => 'せろり',), 3 => array ( 'no' => 1813, 'name' => 'にんじん',), 4 => array ( 'no' => 54118, 'name' => 'ナス',), 5 => array ( 'no' => 484, 'name' => 'レタス',),); function convert_to_map(&$in) { $out = array(); foreach ($in as $value) { $out[$value['no']] = $value['name']; } return $out; } $vegemap = convert_to_map($data); $vegenums = array_map(rtrim, file("vegenum.txt")); foreach ($vegenums as $num) { if (is_numeric($num)) { print "$vegemap[$num]\n"; } } ここで、vegenum.txtに野菜の名前の番号を入れてあるとします。
不審な記述なので、英文を見ると、 Returns the type of the PHP variable var. For type checking, use is_* functions. と、「この関数ではなく」という部分がありません。つまり、翻訳者が言葉を補ったつもりで結果的に誤訳に近い物になってしまったと言うことでしょう。 つまり、利用してはいけないとか奨励されていないと言うことは無いでしょう。 変数の型が何かを知りたいときはgettype()を使えば良いし、特定の型かどうかのチェックをしたいときはis_*()を使えば良い（効率もよい）。 ただし、is_numeric()だけは、ゆるい型のチェックをするので、型チェックにはなりません。
クォートの挙動を理解するためのコード2つ。 内部的な扱いの違い。 <?php $hoge = 1; var_dump($hoge); $hoge = '1'; var_dump($hoge); $hoge = "1"; var_dump($hoge); ?> ・シングルクォートとダブルクォートの違い。 <?php $a = "abc"; $hoge = '$a'; print $hoge . "<br>"; $hoge = "$a"; print $hoge . "<br>"; ?>
＞phpスクリプトの先頭で「#!bin/usr/php」を書く方法と は、「#!/bin/usr/php」のタイプミスだとして、 ＞test.php: line 1: ?php: No such file or directory そのメッセージは、sh test.php としたときに出るメッセージですね。つまり、 * * * * * /bin/sh /パス/test.php と書いたときに出ます。 * * * * * /usr/bin/php /パス/test.php で、そういうメッセージが出ることはあり得ないと言っていいです。間違いは無いでしょうか？ * * * * * /パス/test.php と書いた場合でも、一行目の先頭二文字が #! でないとかですね。
キーが0からの扱いという前提で。 特にユーザー定義関数作らなくてもarray_uniqueで出来ちゃうんですよね～ サンプルコード： http://ideone.com/liJPUu マニュアル： http://www.php.net/manual/ja/function.array-uniq … http://www.php.net/manual/ja/function.array-valu …
＞[^@\s] と -a-z の意味がわかりません。 ＞-a-zはa-z　とは違うのですか？ [^@\s] は、「"@" と空白文字以外の文字」 です。空白文字＝半角空白、タブ、改行等 [-a-z] は、「"-"または"a"または"b"または"c"または(中略)または"z"」 です。 [a-z] は、「"a"または"b"または"c"または(中略)または"z"」 です。
まさかと思いますが/tmpが一杯ってオチは？
2ch
class Test extends CI_Controller { function __construct(){ // Model クラスのコンストラクタを呼び出す parent::__construct(); $this->load->library('encrypt'); $this->load->model('array_constant'); $this->load->helper(array('form', 'url')); $this->load->library('form_validation'); $this->load->helper('string'); $this->load->model('cntl/mtest'); } public function index(){ if($this->input->post("cps")){ $prm=$this->input->post("cps"); $ary=$this->cmu001->Get_Data($prm); } }
>windowsのメモ帳でソースをアップし直した所「Warning: Cannot modify >header information - headers already sent by (output started at >/home/…) in /home/….php on line 2」の表示までたどり着くことが出来ました。 それは（文字セットがutf-8で）メモ帳で書いたソースにBOMが付いているというだけではないですかね。つまりheaderがエラーになっているので画像だということすら返ってきていないよいうだけです。 まぁとりあえずはheader関数をimagejpegの直前にしてください（そこまでにエラーメッセージが返っていてもheaderがあると表示されないので）。 ＃というか「画像取得なのかリサイズなのか」の ＃切り分けはしたのでしょうか？
横長の場合は x150 ではなく x100 と縦の方を基準にしてやればよいので、画像の縦横を比較して値を変更すればよいかと。 list($width, $height) = getimagesize(元画像);//横縦サイズ取得 $resize = ($width > $height) ? "x100":"150x";//横長なら x100 他は 150x exec("convert -resize $resize ～"); ちなみに "convert -define jpeg:size=150x100 -resize $resize ～" とサイズ指定すると早くなります。またcropThumbnailImageを使用したいなら $image = new Imagick("元画像"); $image->cropThumbnailImage(150, 100); $image->writeImage('保存ファイル名'); こっちが簡単かも知れませんね。
こんにちは。 目指す完成系のリストが1ヶ月後じゃないのは間違いでしょうか？ 今月2013.03の1か月後は2013.04 今月2013.03の2か月後は2013.05 今月2013.03の3か月後は2013.06 今月2013.03の4か月後は2013.07 今月2013.03の5か月後は2013.08 今月2013.03の6か月後は2013.09 今月2013.03の7か月後は2013.10 今月2013.03の8か月後は2013.11 今月2013.03の9か月後は2013.12 今月2013.03の10か月後は2014.01 今月2013.03の11か月後は2014.02 今月2013.03の12か月後は2014.03 こう出力したいのであれば $i = 1; //本日(文字列にはしない) $cumonth = strtotime(date("Y-m-01")); while($i <= 12){ // $iヶ月を本日に加算して、文字列を返す $plmonth_ts = date("Y.m", strtotime("+$i month", $cumonth)); // ここで初めて今月を文字列に echo '今月'.date("Y.m",$cumonth).'の'.$i.'か月後は'.$plmonth_ts.'<br />'; $i++; } こうなります。 dateで戻ってくる型等をマニュアルで確認してみると何故動かないか見えてくると思います。
>添付の画像のようにデータベース名が出てこないんです。 画像では（「簡易」が選択されていて）「詳細」になっていないいんですが（汗 いずれにしてもデータベース未選択状態なので、先に上部のタブの一番左の「データベース」をクリックしてWordpressで利用しているデータベースを選んでください（上部のタブが、データベース・SQL・状態・・・から構造・SQL・検索・・・に変わります）。その状態でエクスポート → 詳細を選択すれば（そのデータベースの）テーブル一覧が表示されるハズです。
apachefriends英語表記のページのトップにも、各国語リンクが有りますけど?　/en/ と /jp/ が違うだけですよ。 既に回答があるように、どのみちadminページくらいしか日本語にはならないけど。
単にURLを書き換えるだけもできるし、リダイレクトすることもできます。 ＞「mod_rewrite では post で渡されたパラメタを取得できない」 意味不明ですが、好意的に解釈すると、「POSTパラメータを元にURLを書き換えることはできない」という意味でしょう。
$thisは自分自身だから
Ghostscript周りが原因かと。 直接動かすとどうなりますか? exec("gs -dBATCH -dNOPAUSE -sDEVICE=jpeg -r300 -sOutputFile=yyy.jpg xxx.pdf"); または日本語なしの簡単なpdfで試してみて、うまくいくようなら日本語フォントの問題だと。 あるいはバージョンが古いかも。 echo system("gs -v");とかで確認 (8.7では動作) 場合によってはサーバへのインストールが必要になるので、きつきつの環境では対応は厳しいかもしれません。
補足というか <friends_count>348</friends_count> こっちは該当ユーザーがフォローしている数 <followers_count>600</followers_count> こっちは該当ユーザーがフォローされている数
＞javascript内からsubmitしたい 別にtypeがsubmitでもjavascriptからサブミットできますよ
なんか最近似たようなの見た気がするなと思ったら、なんだ同じ人か。 新しい質問出す前に、前の質問片づけなさいな。 まぁ、それは置いといて。 > また、年月日の値を"2013-03-13"のように変換して格納するにはどうすれば良いでしょうか？？ 普通に結合すればいいと思いますよ。 文字列の結合は 「.」（ピリオド）を使う。他にも方法あるけど簡単にやると こうなる。 年月日が $year $month $day だとしたら、↓これで。 $date = sprintf("%02d" , $year) . "-" . sprintf("%02d" , $month) . "-" . sprintf("%02d" , $day); あと、$_POSTを いきなり htmlspecialchars すんのは最近の流行りなんですか？ もしくは 推奨されるようにでもなってるんですかね？ ここんとこPHPまともに触ってなくて疎いもんでよく分からんのですけど。 あと、初心者に出す課題じゃねーな。って思いますよ。前回の質問のアレは。
cron走らせてるなら どっかにエラーログとか出てないですかね？ 単体で動いてて、一括でやると動かないって言うと、やっぱ 関数とかクラスとかのバッティングとか変数の初期化忘れ（または不要に引き継いでしまっている）が原因かなーと。
ああ、なるほど、曲解して失礼しました。 であれば select count(distinct d) as count from テーブル というクエリを実行して、 dがそろっていない場合はcountが2以上になりますのでエラーとすればいいでしょう。 PHPフローの中で処理するならフラグ管理して 以下のように前回のデータを取っておいて比較してもよいかも <?PHP $error_flag=false; $pre_d=""; while ( $row = mysql_fetch_array( $result )){ if($pre_d !=="" and $row["d"]!==$pre_d) $error_flag=true; 処理・・・ $pre_d=$row["d"]; } if($error_flag) print "エラー"; ?>
$_SERVER["HTTP_USER_AGENT"] で判断するのが妥当では？ 404エラーを送りつけるのはセンスがないとおもいます
fgetcsvで処理してみては？ <?php $handle=fopen("hoge.csv","r"); while (($data = fgetcsv($handle, 1000, ",")) !== FALSE) { foreach ($data as $val) { echo $val. "<br>\n"; } } fclose($handle); ?>
ざっくり書くとこんな感じでカレンダーを表示する <form> <p> <select name="ym"> <option value="201301">2013年 1月</option> <option value="201302">2013年 2月</option> <option value="201303">2013年 3月</option> <option value="201304">2013年 4月</option> <option value="201305">2013年 5月</option> <option value="201306">2013年 6月</option> </select> <input type="submit" value="go"> </p> </form> <?PHP $ym=isset($_REQUEST["ym"])?$_REQUEST["ym"]:false; $pattern="/^([0-9]{4})([0-9]{2})$/"; if(preg_match($pattern,$ym,$matches)){ $y=(int) $matches[1]; $m=(int) $matches[2]; $d=mktime(0,0,0,$m,1,$y); $w=date("w",$d); $d -=$w*86400; $table="<table border>\n"; $table.="<caption>{$y}年{$m}月</caption>\n"; $table.="<tr><th>日</th><th>月</th><th>火</th><th>水</th><th>木</th><th>金</th><th>土</th></tr>\n"; while(mktime(0,0,0,$m+1,1,$y) >=$d){ $table.="<tr>"; for($i=0;$i<7;$i++){ $table.="<td>"; if($m != (int) date("m",$d)) $table.=""; else $table.=date("j",$d); $d+=86400; $table.="</td>\n"; } $table.="</tr>\n"; } print $table; } ?> あとは$yと$mをもとに、データベースからひと月分予定を抜いてきて、表示を調整する。 たとえば、こんな感じ・・・ $sql="SELECT 日付,予定 FROM 予定表 WHERE 日付 BETWEEN @d:='{$y}-{$m}-1' AND @d + interval 1 month - interval 1 day";
＞　10,000案件以上あり、1案件当たり1年で30MB(30万行分)のデータをDBで管理できますか？？ データベースは大量のデータを効率的に管理するためのモノです。 データ量が多くなればなるほどテキストファイルよりデータベースの方が効率的です。
パターン内で「.」は任意の一文字ですから.jpであれば\.jpとしなくては・・・ いまいち何をしたいかわかりませんが <?PHP $str="・・・"; $pattern="|http://[^\.]+\.hoge\.jp/hage/hige/|"; $replacement="./foo/faa/fii/"; $str=preg_replace($pattern,$replacement,$str); print htmlspecialchars($str); ?> みたいな感じでどうでしょ？
入門サイト+下記のchangelogでいい。 http://www.php.net/manual/ja/migration55.php http://www.php.net/manual/ja/migration54.php http://www.php.net/manual/ja/migration53.php http://www.php.net/manual/ja/migration52.php http://www.php.net/manual/ja/migration51.php というか入門サイトなんかより公式マニュアルで覚えた方が間違いは少ないと思うけどね。 http://www.php.net/manual/ja/
>php.iniの中の829行目あたりの条文も眺めて？はいるのですが、このinclude_path = “.;C:\xampp\php\PEAR”　これが? Include_pathが通ったことなのか…？。 >そもそもincludeファイルなるものはどこにあるのか？、無ければ「新規作成」で作ってみたらどうだろうか？、だとしても、それでinclude_pathが通っているのか？。 質問者はphp.iniを編集して自分用に構築できることを知っているのだろうか?
ファイル名に使う数値のカウンタとファイルに書き込んだ行数のカウンタの2つを持てばいいと思う。 書き込むごとに書き込んだ行数をカウントして1000行になったら ・出力先をいったんclose ・ファイル名のカウンタを+1して新しいファイル名でfopen ・書き込み行数のカウンタをリセット で、そのまま継続して書き込んでいけばいいだけでは？
こんにちは。 サーバ側のエラーとはApacheのエラーログ等の事です。 まずは調査したい部分です。 また、画像取得用のスクリプトを噛ませている理由はありますか？ 外から見えない場所に画像ファイルがあるのでしょうか。
$date = new DateTime($val->created_at, new DateTimeZone('Asia/Tokyo')); $today = $date->format('D M d'); 2行で日本時間に直せます。
コマンドラインの mysql client からの実行なのでしょうか？ きちんと多バイト文字が一致できていないのでは？ mysql client の文字コード設定とか、データベース側文字コード設定とか、sql ファイルで流しこんでいるなら、sqlファイルの保存時文字コードとかご確認下さい。 ascii文字（単バイト文字）だけの行も作ってみて、意図通りに実行できているのかも確認してみると文字コード問題なのか別の原因かも絞り込めるでしょう。
agunuzさんの指摘するようにpreg_match_allで出来ます。 preg_match_allの返す$matchesは2次元配列（PREG_OFFSET_CAPTUREを指定した場合は3次元）になります。 PREG_PATTERN_ORDER(デフォルト)の場合は、第1階層のキーがパターンの番号、第2階層のキーが(0から数えて)何回目のマッチかを表します。 PREG_SET_ORDERの場合はこの逆になります。 用途に合わせて使いやすい方を選択してください。 今回の場合はパターンが1つしかない（おそらく全体マッチは使わずにキャプチャNo.1だけを使うと思われる）ので、デフォルトのままでいいと思います。 簡単に説明しましたが、マニュアルを読んでください。 マニュアルを読む癖をつけましょう。 使用する関数名が分からないときは、こんな感じで検索すれば結構見つかります。 例1：配列の先頭に新しい要素を追加したい 検索ワード：「PHP 配列 先頭 追加」 検索結果： http://bit.ly/ZwXVf0 例2：複数回の正規表現マッチを行いたい(今回のケース) 検索ワード：「PHP 正規表現 複数回 マッチ」 検索結果： http://bit.ly/13OePcw 「複数回」を「繰り返し」に変換して検索してくれるGoogle先生すごい（笑） あと個人的には「<w1>文字列<w2>」よりも「<word>文字列</word>」のほうがいい気がします。
ちょっと試してみましたが、環境によって結果が結構異なりますね。 \が効いたり効かなかったり…、あるいは何故か GLOB_NOCHECKオプションで print_r( glob("ero_movie/[20130302]書類/*",GLOB_NOCHECK)); でうまく動作したり…。 環境に左右されないのは [] の中で[や]自身を指定する方法 print_r( glob("ero_movie/[[]20130302[]]書類/*")); とか、任意の一文字?で print_r( glob("ero_movie/?20130302?書類/*")); でがまんするとか。
ものすごくざっくりと書いてみました // 管理画面 <?php if (isset($_POST['text'])) { file_put_contents('data.txt', $_POST['text']); } $text = ''; if (file_exists('data.txt')) { $text = file_get_contents('data.txt'); } ?> <form action="" method="post"> <textarea name="text"><?= $text; ?></textarea> <input type="submit" value="post" /> </form> // 表示 <?php if (file_exists('data.txt')) { print nl2br(htmlspecialchars(file_get_contents('data.txt'), ENT_QUOTES, 'UTF-8')); } ?>
最も簡単にできてお勧めの方法 $word = file('123.txt', FILE_IGNORE_NEW_LINES|FILE_SKIP_EMPTY_LINES); FILE_SKIP_EMPTY_LINESを指定すればrtrimする必要が無くなります。 FILE_IGNORE_NEW_LINESを指定すればarray_filterで空文字を取り除く必要が無くなります。
就職難で必死なのは分からないでもないけど、ここは「プログラミング言語であるPHPのカテゴリ」なんだってば。 まぁ、たしかにPC繋がりなので、知ってる人もいるかもしれないけど、確率は下がると思うよ。 職業相談に関しては、もっと適切な施設があるでしょうに。 あと もう少し自立型思考したほうがいいよ。 俺からはもう何も言わない。
#1の人が出してくれているフレームワークですがViewの部分があまりよくなかったりします。 で多くのフレームワークではViewの部分でSmartyが使えるようになっていることがあります。 だからMVCのMとCはフレームワークでVはSmartyって使い方でも問題ありません。
ごめんなさい、やはり間違ってましたか。 実はまだ意図を汲み取れていません。 fooとかhogehogeのところが任意文字列で $text = preg_replace('|[/\w]*/(\w*\.html)\b|', './$1', $text_org, 1); みたいなやつの高速バージョンをお探しだったとかでしょうか。 どうやら私の手に余るようです。 お急ぎの所、中途半端に手を出してごめんなさい。
30を10で割るとあまりが0なので仕様が競合していますね とりあえずこんな感じでは？ <?php for($i = 1; $i <= 100; $i++){ $str=sprintf("%03d", $i); if(($i % 3) == 0 or strpos((string) $i,"3") !== false) { echo("<strong>".$str."</strong>"); }else{ echo $str; } echo " "; if($i % 10 == 0) echo "<br>\n"; } ?>
すでにネイティブなMySQL関数は非推奨です。 http://www.php.net/manual/ja/intro.mysql.php 後継としてMySQLi関数がありますし、PDOを使うことも多いです。 http://www.php.net/manual/ja/book.mysqli.php http://www.php.net/manual/ja/book.pdo.php 今からならPDOで覚えておくのが吉だと思います。
以下の事例が現象(というかエラーメッセージ)が似てるな http://www.smarty.net/forums/viewtopic.php?p=69968 『なんてこった、サーバ上の「templates_c」ディレクトリにパーミンション777を設定してみたんだ。そしたらちゃんと動いた』 だと。 ＞テンプレートファイルの{$msg}を削除して動作させるとコンパイルされてはいるようです。 という事なので、現象は違うかも知れないが…念のためパーミッションの確認を。 他にも、『/libs/sysplugins ディレクトリをちゃんとアップしてないか、パーミッションの関係で読みとれてないんじゃねえの？』と推測している人も居るようなので、その点も確認してみてください。
どう思うかと聞かれたら、「W3Cって硬っ苦しくて何かアレだよね」と思います。 アレがドレなのかは聞かないでください。 基本的に俺が書いたソースをW3Cのチェッカーに流すと、盛大にerrorやらwarningが出ます。 俺が使うのは ほとんど自分用なので参考にならないかもしれませんが、はしょれるクォートは最初から書きませんし、chromeで動けば別にいいやと思って書いています。
１、設定値の違う複数のインスタンスを同時に利用する必要があるのか？ ２、設定値だけが違うインスタンスをこの二種類以外にも作る事になる可能性があるか？ ３、設定する値自体が増えたりすることはあるのか？ そのへんでどれが最適かは変わってくるでしょう そもそもその仕様をなしにしてるみたいですが コンストラクタに設定値を入れて渡すのが本来だと思います 設定する値自体が増えたりする可能性を考えると 設定値の連想配列を渡すような形にしとくのが 以降なんらか変更があったとき、子クラスを作る場合にも対応しやすいです
あんま回答になってないんでスルーしてもらって構いませんが、AndroidのJavaでWebViewとブックマークレットで、簡易の自動処理ツールを作ったことはあります。
cakephp2 は、php5 のクラスで構成されているので、まずは、phpにおけるクラス記述の文法をしっかり覚えること http://jp.php.net/manual/ja/language.oop5.paamay … あと、cakephp内の　lib/cake/Core/App.php の useやloadメソッドを読む
mysql・・・簡単ですよ？ ていうかCSVやXMLを無理矢理使うよりも、データベースきちんと組んだ方が、 よっぽど簡単な処理でデータ管理できます。 （内部の処理的に） workbenchなど使えば視覚的にも分かりやすいですし。 たぶんそんなにがっつり勉強しなくてもちょっとSQL構文と データベースの仕組み理解すれば使えるようになると思います。
>$yesterday = date('D M d', strtotime('-1 day')); これって（たとえば）"Tue Mar 05"といった文字列ですよね？これと提示されている文字列をどのように比較されているんでしょうか？ 文字列としての「含む・含まない」とは違う比較方法じゃないかと推測するのですが（データベースに格納されている日付時刻値とか）。文字列でなく日付時刻として比較すると、提示されているのがGMT（+0000）ですからJST（+0900）とは「9時間の時差」があります。 ＃xamppは明示的にDateTimeZoneをTokyo/Asiaに ＃指定しないとJSTにならなかった気がするので・・・
俺のやり方は正しいとは言えないけど、チェックする前に別の変数に入れて、ハイフンをstr_replaceでざっくりやってから、[0-9]{11,12}としてる。 あと htmlspecialchars は表示する段階で使ってる。
>$dbh = new PDO('mysql:host='.DB_HOST.';dbname='.DB_NAME,DB_USER,DB_PASSWORD, >array( >PDO::MYSQL_ATTR_INIT_COMMAND => "SET CHARACTER SET 'utf8'") >); php5.3.6未満なので第4引数（options）を使っているのだとは思いますが、set namesにしていない理由は何でしょうか？ http://www.php.net/manual/ja/ref.pdo-mysql.conne … >エラーが表示されるわけではないのですが、 デフォルトはPDO::ERRMODE_SILENTです。デバッグ時には $dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING); は入れておいた方がいいと思います。 出来ればPDO::ERRMODE_EXCEPTIONで例外を投げて捕捉するのがいいです（本番環境とデバッグ環境で捕捉してからの動作を変えることも出来ますし・・・）。 http://www.php.net/manual/ja/pdo.constants.php
うーん、なんといえませんがhttp.confに以下記載して httpdをrestartしてみてはいかがでしょうか？ (私の備忘録には500K制限的なメモが残っていました) <Files *.php> LimitRequestBody 0 </Files>
【補足】 saveHTMLFIleメソッドではなく、saveHTMLメソッドを使って文字列として変数に格納して、先ほどの処理を通したあとにfile_put_contents関数を利用されるといいと思います。
SELECT * FROM books WHERE id=3　の結果が1行しか返ってこないものなのであれば、　if(mysql_fetch_assoc($recordSet)){　を実行した時点で1行分取り出し処理が行われてしまい、while に移った時点で結果リソースの中は空っぽです。（データポインタが最終行まで行ってしまってます）
回答ではないのですが、http://dozo.matrix.jp/pecl/tidy　の説明を、読まれましたか？・・・ ソースチェックのValidのために、おこなうのであれば、Ｗ３Ｃのvalidateを使ったほうがいいと思うけど。 このサイト自体も、１３の記述ミスがあるよ！
iPhoneでもAndroid端末でもtype="file"のinput要素は使えます。 というか、フィーチャーフォンでも「メールでないとダメ」ってわけでもなかった気もしますけど。旧機種のために残しているというのが大部分じゃないですかね（すでに対応機種の方が多いのではなかったかなぁ・・・）
POSTされるのが日本語のようですが、DSN文字列でcharsetの指定がありません。これだとキチンとMySQLに（正しい文字セットで）渡されない可能性があります。 http://www.php.net/manual/ja/ref.pdo-mysql.conne … php5.3.6未満ならoptionsで引き渡すことになりますが、いずれにしても「何もしない」のはマズイです。 なお（すでに指摘がありますが）POSTされたデータを引き渡すのであれば、プリペアドステートメント（プレースホルダ）を使うのが基本です。 http://www.php.net/manual/ja/pdo.prepare.php
うーん・・。すでに適切な回答が付いているような気もします（汗 マニュアルをちゃんと読んで書いていけば到達出来ると思うんですけどねぇ・・・ <?php $source =<<<EOD <tr> <td class="c"> <IMG border='0' src='../common/img/noimage.gif'> </td> <td class="c">hoge</td> <td>hoge</td> <td></td> <td class="c">hoge</td> <td></td> <td class="c"></td> <td class="c"><A hoge</a></td> </tr> <tr> <td class="c"> <IMG border='0' src='hoge'> </td> <td class="c">hoge</td> <td>hoge</td> <td>hoge</td> <td class="c">hoge</td> <td>hoge</td> <td class="c">hoge</td> <td class="c">hoge</td> </tr> <tr> <td class="c"> <IMG border='0' src='hoge'> </td> <td class="c">hoge</td> <td>hoge</td> <td>hogehoge</td> <td class="c">hoge</td> <td>hoge</td> <td class="c">hoge</td> <td class="c"><A target="_blank" href="hoge"><img src="../common/img/to_site.jpg" width="42" height="30"></a></td> </tr> <tr> EOD; $data = '/<td class="c">(.*)<\/td>|<td>(.*)<\/td>/'; preg_match_all($data, $source, $data_matches, PREG_PATTERN_ORDER + PREG_OFFSET_CAPTURE); $arr = $data_matches[1]; foreach ($arr as $key=>$val) { if ($val[0] === '') { continue; } print htmlspecialchars($val[0]) . 'pos:' . $val[1] . '<br />' . PHP_EOL; }
<?php $html = <<<EOT <h2 class="mt1e"><img src="../common/img/h2_01.gif" alt="検索結果" width="95" height="25" class="va-m"> <span class="count">（全138件）</span> </h2> <div class="pagenavi"> <ul> <li class="now">1</li><li><A href="JavaScript:next_list_view('1')">2</A></li><li><A href="JavaScript:next_list_view('2')">3</A></li><li><A href="JavaScript:next_list_view('3')">4</A></li><li><A href="JavaScript:next_list_view('4')">5</A></li><li><A href="JavaScript:next_list_view('5')">6</A></li><li><A href="JavaScript:next_list_view('6')">7</A></li><li><A href="JavaScript:next_list_view('7')">8</A></li><li><A href="JavaScript:next_list_view('8')">9</A></li><li><A href="JavaScript:next_list_view('9')">10</A></li><li><A href="JavaScript:next_list_view('10')">11</A></li><li><A href="JavaScript:next_list_view('11')">12</A></li><li><A href="JavaScript:next_list_view('12')">13</A></li><li><A href="JavaScript:next_list_view('13')">14</A></li><li class="next"><A href="JavaScript:next_list_view('1')">次の10件</A></li> </ul> </div> EOT; preg_match('/<span class="count">[^\d]+(\d+)[^\d]+</', $html, $matches); var_dump($matches); ?> ものすごくアドホックです。 元のhtmlは勝手に構造や内容が変わったりする可能性がありそうなので、 適当に作って変更があれば都度書きなおすしかないと思います。 他の背景がわかればもっと適した(少々の構造変更には耐えれる)正規表現も書けると思います。
一口にメールが送れないといっても、原因は様々。 (1)関数の実行が失敗している。 (2)関数の実行は正常だが、送信が失敗する。 　・POP before SMTP 　・認証のエラー 　・プロバイダの制限 　・Outbound Port 25 Blocking (3)受信側で制限されている 　・迷惑メールフィルター 　・DNSが不正で拒否される
質問文を読んでいたらいきなりPHPプログラミングは、まだ無理のように思われます。 もう少しwebサーバの勉強が必要でしょう。 具体的にはApacheの設定ファイルがいじれるようになることです。 webサーバとブラウザのやり取り、その中でPHPがどう働き、htmlとの関連がどうなのか？ メモ帳でプログラムを打っても表示させることは可能です。 上記の仕組みを知っていたら、どこでどうメモ帳を使うかが分かるわけです。
PHPの問題というよりwget コマンドのオプションの問題 man wget すべし。 http://oshiete.goo.ne.jp/qa/2976936.html
そのテキストファイルをWindowsで作ったなら、改行はCRLF(\r\n)の2文字で表されています。プログラム中で\nと書くと自動的に\r\nで表示するのでわかりにくいとは思いますが。 CR(\r)で1文字、LF(\n)で1文字使うので、trimしたら消える謎の2文字の理由が説明できると思います。 もしそうなら、$word = "AAA";ではなく、$word = "AAA\r\n";とするとarray_keysでお目当てのものが見つかるでしょう。 そのマシンであなたが使えるメモリーの容量、同時に実行されるプログラムの数、プログラム中でfileで取得するファイルの数にもよるのではないでしょうか。 メモリーの容量が限られていて、同時実行数、fileで読み込むファイルの数ともに多いなら、数キロバイト程度の小さなファイルでもfopenでファイルを開いてfreadや長さを指定したfgetsで決まった量だけ読み込んで処理するようにしたほうがよいと思います。逆に、メモリーがたくさんあって、同時にプログラムが実行されることもなく、ファイルも数個しか無いなら数百メガバイトのファイルでもfileで開けば良いと思います。 メモリーバカ食いな方がプログラミングは楽で、スピードが出ると思うので、まずはメモリーバカ食いな実装で最初作っておいて、それだとメモリーの制限で止められるようになったり、スラッシングが起きるようになったりしてきたら、節約したプログラムに切り替えると良いでしょう。でも、データを入れるときには構造化しておくと思うので、普通はわざわざテキストに改行してデータを入れておくような実装にするよりもRDBMSなどを検討しませんか？
それぞれのプログラミング言語には得手不得手があるので、目的や利用環境に合わせて使い分けます。 PHPでバッチ処理のプログラムを書くことが無いのかというと、そんなことは無くPHPを使った方が便利な場合も有るので、その時は使います。 例えばWebサーバ内でバッチ処理を行う際にDB接続が必要な場合は、DBサーバの接続情報をWebアプリ用とバッチ処理用に分けるのではなく一元管理したいので、その場合は全部PHPで書いて定義情報などを共有します。（メンテナンス性を考えたら定義情報は共通化します） サーバ内のファイル操作や、Linuxのコマンド、プログラムを駆使した処理を行いたい場合はシェルスクリプトで行うのが圧倒的に効率的なので、その場合はシェルスクリプトを使いますし、何か特殊な処理を行う場合、ある言語にはとても便利な機能やライブラリーが有るという時は、その言語を使ってプログラムを書いた方が効率的なので、その言語を使います。
最初にでてくるco.jp/までということなら最短マッチですね <?PHP $url="http://****.yahoo.co.jp/hogehoge/aaa/bbb/ccc?fug … $pattern="/http:\/\/.*?co.jp\//"; $replacement=""; $url=preg_replace($pattern,$replacement,$url); print $url;
>動的ページ生成という事は、静的なhtml（ファイル自体を生成）とは違い >その記事に対して固定（不動）のURLが出来る訳ではない？ >という印象なのですが・・・。 動的とはユーザがリクエストするとそれにあわせてプログラムが毎回ページを生成すること 動的の場合でもURLは固定にはできる。 >.htaccessを使って静的なurlに見せる（記事番号.htmlでのアクセスを内部的に上記の処理に引き渡す）ということもよく行われてはいますね。 .htaccessを使って見せているわけではない。 .htaccessはあくまで設定を書く場所。 Apacheの設定ファイルそのものをいじれる権限があるならそっちを直接いじる事だってある。 (VPSや専用サーバのroot権限ありの場合など) 処理そのものはmod_rewriteと言うモジュールを使う。
今現在、「トップページ内のインフォメーション」と「過去のインフォメーションページ」でどういう処理をしているのか1行もソースがないのでわかりませんが、提示されたhoge.phpをincludeもしくはreadfileしているだけですかね？ もしそうであれば、fileで配列に読み込んで先頭行と最終行を除いた残りについて10行までしか返さないようにすればいいだけだと思います。foreachで処理してカウンタが10になったらbreakすればいいと思いますが・・・ $arr = file('hoge.php'); $header = array_shift($arr); $footer = array_pop($arr); print $header; $ct = 1; foreach ($arr as $val) { if ($ct++ >= 10) { break; } print $val; } print $footer;
たぶん2行目の r+ のせいだと思います fopenの r+ オプションとはファイルを開いてポインタを最初に持ってくるという方法です つまり 12345678 というファイルを開いて abcd をfputsすると abcd5678 となってしまいます fopenのオプションを w+ にすれば大丈夫だと思いますが、fopenやfcloseを使わないで、file_get_contentsとfile_put_contentsを使うとわかりやすいと思います
>sqlite PDOのDSN接頭辞では絶対パスの入力を求めてくるので、 >そこだけは絶対パスで書いてます。 DSNこそ「データベースを扱う全部のスクリプトで共通に読み込む」ファイルに書くだけですね。 ＃common.incでなければdb.incとかww たとえ（SQLiteでなく）MySQLだったとしても、ローカルのテスト環境と本番環境で同一ということはまずありませんから。逆に「あちこちのスクリプトに書いている」のであれば、そっちの方がマズイ気がします（汗
>じゃぁ、その場合、自分とは誰なのでしょう？ phpスクリプトのownerは「ftpユーザー」です。ご自分のftpアカウントですね（でないとftpでファイル操作が出来ませんから）。 >その自分というのが、phpスクリプトを実行する状況についても、 >併せて教えて欲しいなと思います。 CGIで動作するサーバ（+suExec）ではApacheではなくftpユーザーの権限で実行します。なので604とかのパーミッションのままでもファイルの読み書きが可能です。ownerの権限ですからね。そういうレンタルサーバもいくつかあります。さくらがそうだったと思いますし、ロリポップもphp5に切り替えるときにCGIになったハズです。 XREAサーバでも、.htaccessでCGI動作にする設定があります（下記URL参照）。 http://sb.xrea.com/showthread.php?t=10744
お疲れ様です。 先ほどの回答の補足です。 <?php echo 'Real Path = '.str_replace('\\','/',realpath('./')).'/<br>'; ?> 上記phpをhomeに置いて実行すると 自分のレンタルサーバーでは 「/virtual/***.***.212.34/home/」 となります。 XPのApache2では 「H:/Ap2_root/home/」 となります。 何が言いたいかは、お察しが付くと思いますが HTMLでは「/」とすると「home」の事ですが phpから「/」としたときとでは意味が違いますので これに気を付けて下さい。
・iOS対応のWebアプリの開発。 ・サーバサイド側のAPIの実装にPHPで行う。 まぁここら辺では? それとObjectCなんて言語この世に存在しないぞ。 存在するのはObjective-C。
UAで判断した上で、ユーザーに任せる。 他の人も言ってるけど、docomo の Optimus G pro なんて 5インチなのに 解像度 1,080×1,920 です。 自分の知ってるサイトだとUAで判断して、「スマホ用のページあるけど、そっち表示する？」みたいな confirm 表示するトコもあります。 スマホでyahoo見てもらえれば分かりますが、一番下に[ 表示 : モバイル | パソコン ] て切り替えようのリンクがあります。 俺の結論としては、端末側だけでの判断は限界がある。って事です。
これは、Unicodeではなく、UTF-8に対応したものです。 http://ja.wikipedia.org/wiki/UTF-8 に従って、Unicodeのコードポイントにすれば u+FF61からU+FF9Fになります。一覧表で見るのは、こちらのコードです。 http://ja.wikipedia.org/wiki/Unicode一覧_F000-FFFF
apache経由しないでも、phpはコマンドライン呼び出しできますから、 ローカル実行ってバッチ実行のことを云ってるのだと思いますけど。 windowsなら、バッチファイル（拡張子 .bat ）に、php.exe php_source.php の呼び出しと、RocketMouseアプリ呼び出しとを記述しておけば、バッチファイルクリックで自動実行します。
> <a href="logout.php">ログアウト</a> > でログアウト処理をしているのですが、これだと自作のlogout.phpが > よばれず、<a href="logout_aa.php">ログアウト</a> > とすると、自作のlogout_aa.phpはよばれるのですが、PHPのlogout.php > がよばれなくなってしまいます。 > 自作とPHP両方のlogout.phpをよぶことはできないのでしょうか？ > 何を言ってるのかわからない。 <a href="logout.php">ログアウト</a>をクリックしたらlogout.phpにアクセスするし、 <a href="logout_aa.php">ログアウト</a>をクリックしたらlogout_aa.phpにアクセスする。 logout_aa.phpでlogout.phpを読み込むという意味であれば、require_onceなどを使う。 当然、logout.phpとlogout_aaa.php内の処理によっては意図した結果にはならないと思う。 例えば、 logout.php <?php ログアウト処理A・・・ header('Location: http://www.example.com/'); exit(); ?> logout_aa.php <?php ログアウト処理B・・・ header('Location: http://www.example.com/'); exit(); ?> となっている場合、 <a href="logout.php">ログアウト</a>にアクセスすれば処理Aが、 <a href="logout_aaa.php">ログアウト</a>にアクセスすれば処理Bが実行される。 この時、logout_aa.phpを <?php require_once 'logout.php'; ログアウト処理B・・・ header('Location: http://www.example.com/'); exit(); ?> として、<a href="logout_aaa.php">ログアウト</a>にアクセスした場合、 logout.phpの処理Aを実行後に処理が終わってしまい、logout_aaa.phpの処理Bが実行されません。
> @以下はhttp://から必要でしょうか？ > それとも//以降からでよいでしょうか？ > $feedURL = "https://username:password@https://api-url/"; というふうに回答したわけではないけど、どうしてそう思ったのでしょうか？ まずは試してみては？こっちがウソつかないまでも間違ってるかもしれないし。 サーバにbasic認証の設定をしてブラウザのURL欄に上記の書き方でアクセスしてみる。 ダイアログなしにアクセスできたら成功でしょ。 これがすぐに試せない環境にあるんだったら、それ自体が非常に問題です。 VMwareやvirtualboxなど、自由にできる環境を手元に作りましょう。 phpとかbasic認証がどうこうの前に、環境を作るところから始めましょう。
phpが動いていなかったらIndex ofのページが表示されることもないので、そうなることは分かっていたのですが・・・。 とはいえ、あのページは出さない方が安全ですので設定していて間違いではないです。 とりあえず、PHPが動いていないんです。 なので、phpが実行されずにコードが表示されているのです。 http://www.webdlab.com/guide/php/php_3.php ↑この辺のサイトが参考になりませんでしょうか。 その他、セキュリティ面でしておいた方が良いこともあったりしますので、勉強しながら設定頑張ってください。
ご質問の意味がわかりません。 {assign var='var' value={counter}} これは何でしょう？動作しますか？ counter関数とは何か有名な関数ですか？ どこで定義されてるのですか？ おじさんにはさっぱりです。
「基本的にはデフォルト値」ということであれば、引数は無しとして、関数内にてfunc_get_argsで投げられた引数を取得すればよいかと。 function setParam(){ //初期値 $param = array('aaa'=>'AAA','bbb'=>'BBB','ccc'=>'CCC'); //渡された引数を取得 $args = func_get_args(); //指定ありの時は引数の1個目つまり[0]に連想配列が来るので$arg[0]で判定 if(count($args[0])){ $param = array_merge($param,$args[0]); } return $param; } ※もし引数があまりに多いようでしたら、個人的にはclassにする方をおすすめしますが・・・
>$sql = "select * from `thumbnail`"; >$con = " where id = " . $get_id; この部分は転記時のtypoでしょうか？
Shift_JISのダメ文字があるから、UTF-8に設定した方か良いかもしれない。 Shift_JIS(cp932) の文字コードで、2byte目が0x5c のエスケープ文字 \ になっているものの俗称(だめ文字、駄目文字) エスケープ文字は使用するフォントやロケールにより￥記号またはバックスラッシュで表示されます。 ダメ文字を含む文字列やパス、ファイル名を処理する場合には文字化け、検索不可など様々な不具合が起きることがあります。 参考URL：https://sites.google.com/site/fudist/Home/grep/s …
こんにちは。 headerでリダイレクトをかけるとpostの内容は引き継がれません。 セッションを利用して値を引き継ぐのが手っ取り早いと思います。 <?php if ( empty($error) ) { session_start(); // 極端な例だけどPOSTをそのまま突っ込んでみる $_SESSION['post'] = $_POST; header('Location: index_insert.php'); exit(); } ?> ==== index_insert.php <?php session_start(); // これで$postの中身は前ページで代入した$_POSTの中身 $post = $_SESSION['post']; ?>
Lolipopサーバにアカウントがあるので自分のFTPアカウントで試してみましたが、問題なくダウンロードされてC:\index.htmlが作成されます。 ＃Win7/32（Pro.）+xampp1.8.1の環境です 念のためftp_connect以降の一連の処理に全部 or die で戻り値チェックは入れましたが、どれも引っかかりません。 ∴ phpスクリプトとしては問題ないと思います。
去年からPHPを独習しました。色々なPHP参考書が買いましたが、初心者に向けのは「独習PHP 第2版」、「よくわかるPHPの教科書」結構良いです。出来れば、SQLの参考書を一冊を買った方がオススメです。
単純にforeachなどでまわしてはいけないのでしょうか？ <?PHP $data=array( 0=>array("id"=> 1,"day"=>"20130201","title"=> "あああああ") ,1=>array("id"=> 2,"day"=>"20130202","title"=> "いいいいい") ,2=>array("id"=> 3,"day"=>"20130203","title"=> "うううううう") ,3=>array("id"=> 6,"day"=>"20130206","title"=> "えええええ") ,4=>array("id"=> 7,"day"=>"20130207","title"=> "おおおおお") ); foreach($data as $key=>$item){ if($item["id"]==2) unset($data[$key]); } $max_id=0; foreach($data as $item){ if($item["id"]>$max_id) $max_id=$item["id"]; } print "<pre>"; print_r($data); print "</pre>"; print "max_id:".$max_id; ?> ＞配列をテーブルに使用する方法 むしろSQLから拾うより配列からのほうがテーブルには落としやすいです しかし配列ではデータ管理しにくいですね
> 今、システム内でのdbへのアクセスへは > $db=mysql_connect("localhost","root","パスワード") > としております。 > これは、別サーバからもアクセス可能なのでしょうか？ > それはphpからのアクセス方法ですね。 アクセス可能かどうかはデータベース側の設定によります。 mysqlならば以下が参考になるでしょう。 http://www.dbonline.jp/mysql/user/index6.html http://d.hatena.ne.jp/uriyuri/20081024/1224798772
＃あ、先に書かれた（汗 thx.>agunuzさん 少なくともプリペアドステートメントが使える関数・クラスを利用しているのであれば「内容の保証がない」データはプリペアドステートメントで扱うべきですね。そうすれば括るのが単引用符か二重引用符かなんて気にする必要はありません（気にしなくても適切に処理されます）。もちろんバイナリデータでも。です。
>とりあえず文字列の浄化だけを行いたい場合 この意味がわかりません。データベース固有のエスケープは文字列をデータベースに格納する直前に行うべき処理です。「とりあえず」やる必然性がありません。 htmlspecialcharsをブラウザに返す直前に通すのと同じです。htmlspecialcharsした状態で保持する意味なんてありませんよね。逆に『2回通して』しまって壊してしまう可能性が増えるだけです。
>全部、SQLite3で対応しています。 ということであれば、sqlite_escape_string()を使ってはいけません。最初から最後までSQLite3クラスで完結させるべきです。 http://www.php.net/manual/ja/book.sqlite3.php
fgetcsvのマニュアルに一応書いてはあるのですが…… http://php.net/manual/ja/function.fgetcsv.php > この関数はロケール設定を考慮します。 とあるように，setlocale関数を使ってLC_CTYPEを設定し，CSVの文字コードと同じ文字コードを含むロケールを指定しておく必要があります。 http://www.php.net/manual/ja/function.setlocale. … ところが，このロケールの設定値はシステムに依存します。 また，設定値のリストをプログラムで取得する標準的な方法が無いため， システムに依存した方法で調べる必要があります (コマンド入力したり，マニュアル調べたりetc.)。 # おそらく，そのままPHPのCコード中でsetlocaleに渡されるのだと思います (標準Cのsetlocaleの設定値はシステム依存) str_getcsv関数が使えるのであれば，文字コードの変換はmb系関数を使ってしまうことで，汎用に作れるかと思います。 http://www.php.net/manual/ja/function.str-getcsv …
処理次第でどうにでもなります。調べる方法と見方を載せておきます。 print_r($date);を実行してください。$dateの中身が添字と一緒に出力されます 例： Array( [0] => '和食' ...中略 [5] => '洋食') とあれば$date[5]の中に'洋食'が入っています。 Arrayの中に更にArrayが入っている場合は$date[*][*]というように[]を2個以上繋げて指定します。
文字コードは何になってますでしょうか？ UTF-8 以外の場合、CSV が正確にパースされない可能性があります。 また、return htmlentities( $str, ENT_QUOTES, 'UTF-8' ); の部分を文字コードに合わせて変更してください。
関数をどっかにしまって、きれいに書きたいなら こんな感じはどうですか？ 最初の $arrdata = array( というところは、サンプル用なので、 消して下さいね～ make_colsの第2引数は列の数です。 <?php $arrdata = array("sample1", "sample2", "sample3", "sample4", "sample5", "sample6", "sample7", "sample8", "sample9", "sample10", "sample11", "sample12", "sample13" ); function make_cols($args, $col_num){ $result = array(); $cnt = 0; $len = count($args); $one_col = floor( count($args)/$col_num ); $over_num = $len%$one_col; while($col_num){ $slice_len = ($over_num > 0) ? ($one_col+1) : $one_col; $result[] = array_slice($args, $cnt, $slice_len); $cnt += $slice_len; --$over_num; --$col_num; } return $result; } ?> <?php $arrdata = make_cols($arrdata, 3); ?> <?php foreach($arrdata as $data): ?> <ul> <?php foreach($data as $value): ?> <li><?php echo $value; ?></li> <?php endforeach; ?> </ul> <?php endforeach; ?>
>イメージできていません 通常のhtmlは作成したページをそのまま表示しますよね。これに対しPHPでは、ページ自体に価格や商品名を直接記入するのではなく、「データを読み込んでから表示する」という流れです。なので元データのcsvを変更するだけでページも自動的に更新されることになります。 >具体的にどのようなことを覚えれば良いのでしょうか？ 「ファイルの読み込み」です。 http://ponk.jp/php/file/csv ここが分かりやすそう php man(マニュアル) fgetcsvの例1 のあたり http://jp2.php.net/manual/ja/function.fgetcsv.php 覚えるというよりも、まずは1行づつ、何をしているのか「理解」して下さい。 理解できれば、関数などはその都度 php manで調べればよいです。 また個人的には、簡単なものでよいので「掲示板」を作成してみることをお勧めします。 掲示板にはファイルの読み書きからHTML表示まで、基本がすべて詰まっています。 >CSVについても理解が足りません。 難しく考えすぎかと。エクセルで作成した .xls はエクセルでないと読み込めませんが、他のプログラムでも利用できるように、ただのテキストで,(カンマ)区切りにしたもの、というだけです。 なので、エクセルでデータを修正したら、csv形式で保存・アップロードします。
http://www.openspc2.org/userAgent/ 端末毎のuaで判断させる。 ただし、同じ端末が複数キャリアから発売されていたり simロックフリー化されて別キャリアで利用されていたら無理だけど
＞今月（2月で言えば、1日～28日）だけリンクを貼ること $todayの月と、回してる$i+$*86400の月を比べてみては？ <?PHP $today=mktime(0,0,0,2,16,2013); $m1=date("m",$today); $firstday=mktime(0,0,0,date("m",$today),1,date("Y",$today)); $startday=$firstday-date("w",$firstday)*86400 ; $endday=mktime(0,0,0,date("m",$today)+1,0,date("Y",$today)); for($i=$startday;$i<=$endday;$i+=7*86400){ for($j=0;$j<7;$j++){ $m2=date("m",$i+$j*86400); if($m1===$m2) print "<a href=\"#\">"; print date("j",$i+$j*86400); if($m1===$m2) print "</a>"; print " "; } print "x<br>"; } ?>
存在しないページ指定ページ表示設定でしょうか？ そうなら ｈttp://hoge.example2.com/.htaccessに RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^.*$ blog/index.php [L] では？ 301リダイレクトなら RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^.*$ /blog/index.php [R=301,L] でどうでしょう？
・<title>タグが閉じてませんので以降が全てtitleになってます ・hulelineが打ち間違い ・if($fp !== FALSE)のチェックをして下さい <pre> <?php $fp = fopen('time.txt', 'r+'); if($fp === FALSE){ print 'error';exit;} $fileline = array(); while(($buff = fgets($fp)) !== FALSE) $fileline[] = $buff; fclose($fp); print_r($fileline); ?>
>$f = mb_convert_encoding($f,"utf-8","eucjp-win,utf-8,sjis-win,EUC-JP"); とりあえず（そのサイトが）EUC-JPであることが既知なら $f = mb_convert_encoding($f,"utf-8","eucjp-win"); と決め打ちしてもいいと思います。EUC-JP/eucjp-win以外でdetectされたって困るだけですから。 もし『どのサイトも同じロジックでやりたい』ということであれば、httpレスポンスヘッダのcharsetを確認すべきですし、それが存在しなかったらhtmlソース内のmeta要素を拾うようにすべきです（ブラウザもこの順番で行っているハズです）。 http://www.php.net/manual/ja/reserved.variables. …
自分で簡単にpearをインストールできますよ。 ・使いたいモジュールをダウンロードして、展開しサーバーにアップロード。 ・そこまでパスを通して使用する。 です。 .htaccessで設定するか、使いたいPHPのファイルで設定するかは、ご希望で・・・。 <?php ini_set('include_path', '/home/FTPアカウント/pear'.PATH_SEPARATOR.ini_get('include_path')); require_once("PEAR.php"); ?>
>単純に「あ」「い」「う」毎に分けて MySQLからorder by で「あ」「い」「う」の順に取得出来るなら、単純なキーブレーク処理で書けると思う（前行の「かな一文字」と同じかどうかだけ判断出来ればいい）。 $fwd_kana = ''; while( fetch) { // どういう手順かわからないがとりあえずfetchはするだろう・・・ $this_kana = // この行のかな文字（mb_substrで一文字目を切り出すとか） if ($this_kana !== #fwd_kana) { if ($fwd_kana !== '') { print '<hr />';// 前の文字のフッタ処理 } print $this_kana; // 新しい文字のヘッダ処理 } print $this_data; // 読み込んだ行の処理 $fwd_kana = $this_kana; } // whileはここまで if ($fwd_kana !== '') { print '<hr />';// 前の文字のフッタ処理 }
置換した結果を取得してください $urs = preg_replace(～);
惜しい。$matches3[2]ではなく$matches3[0][2]です。
こういうphpは使わないので想像で答えますが 画像1枚につきphp1個という意味なら、ほとんど処理が同じようなら一つしか使いません。 特殊な処理を追加するときはその処理用のファイルを作成してincludeします。 GDなどを使用して複数画像を合成やら編集するのなら…気分ですね。凄く面倒な予感がしますので やはり機能分割したファイルをincludeになると思います
会社に、ファイル共有サーバ使ってませんか？ パソコンでエクセル資料作って、それを共有サーバに置きますよね。サーバでも同じです。 データ用のサーバを用意することは可能で、それは特殊な運用ではありません。 そして、そのデータ用サーバを追加する際の用意、設定をどうやって安く簡単に素早く問題なくするか、 そういうところで各社工夫しています。
$変数名 = @file("テキストファイル"); で、$変数名が自動的に配列になって、テキストファイルの内容が格納されます。 1111 2222 3333 4444 と書かれたテキストファイルの場合、改行で区切られるので $変数名[0] = 1111 $変数名[1] = 2222 $変数名[2] = 3333 $変数名[3] = 4444 となります。 $aaaaなどの固定した変数名にはなりませんが、$変数名[0]は同じことです。
>送信できなくて困っています。 個人的にはmb_send_mailはクソなのでお勧めしません。 送信できないのはおそらくメールサーバーとの接続ができてないのでは？ PEAR::Mailなどでメールサーバーをしてして送るのが妥当 なお、サブジェクトなどはマイムヘッダーの調整も必要です $enc="自身の環境のコード"; mb_internal_encoding("JIS"); $subject=mb_convert_encoding($subject,"JIS",$enc); $subject=mb_encode_mimeheader($subject,"JIS"); mb_internal_encoding($enc); みたいなエンコードをしてください。 本文はmb_convert_encoding()だけで十分です。 $mailbody=mb_convert_encoding($mailbody,"JIS",$enc); メールについては最近はメーラーが優秀になってきたのであまり気にする必要はありませんが トラブルを減らすためには昔ながらの7bitJISでエンコードする方がよいかもしれません。 http://pear.php.net/manual/ja/package.mail.mail. … より精度をあげるためにはメールヘッダに メール本文のエンコードを宣言するとよいでしょう Content-Type: text/plain; charset="****" Content-Transfer-Encoding: **** >またif文の日本語が文字化けしてしまいます。 これは単にHTMLにmetaでcharsetを書いてやることです。 <meta http-equiv="Content-Type" content="text/html; charset=****">
>パスワードに@を入れるなよ、、、ってツッコミはさておき 一番のツッコミどころは、今どきPEAR::DBを使うなよってことじゃないですかね。 そんな古いシステムの保守をしているんでしょうか？
>確かにそうですね。 >やりたいことは、アクセスしてきたIPアドレスで処理を切り分けたいのですが、そこまで気が付きませんでしたー IPアドレスに応じて処理を切り分けるとのことですが、 これらの処理をPHP側で行うことは難しいのでしょうか？ WebサーバにてIP別にアクセスするファイルを変えることもできますが、 実行環境に依存することになるので個人的にはオススメしません。 また.htaccessは基本的に単一ファイルですので、複数のアクセスがあった場合書き換えが競合するかと思います。
提示されたソースはqueryメソッドだけなので、そもそも抽出もしていませんよね。 fetchでLoopしながらinsert文のexecute もしくは fetchall → 取得した結果をLoopしながらinsert文のexecute が必要ですが、その部分はどう書かれているんでしょうか？それを提示してもらわないことには何も回答出来ません。
「参照」というのは、メモリ上の地番のことで、phpでは「シンボルテーブルのエイリアス」と記述されています。 http://jp.php.net/manual/ja/language.references. … 「シンボルテーブル」ってのは、云ってみれば本の目次のようなもの。 「エイリアス」はデータ格納場所（本の各ページ）の名前 <?php $a = new A(); /* ここで、new という操作によって、オブジェクトが作成されて、オブジェクト格納場所を示す#id という名前(これがオブジェクト参照)が $a の内容として格納されます。 　*/ $b=$a ; var_dump($a,$b); /* これは、変数内容をコピーします。 // $bの格納場所は、$a と違うところにあるけど、中身のオブジェクトを指すための #id は同じ 　*/ $c= &$a; var_dump($a,$b,$c); /* リファレンス記号& により、$aの格納場所（参照）を $c の格納場所として、目次に書き込みます。 // よって $c は、$aと同じ格納場所の中身を見て動作します。 　*/ $a = 12; var_dump($a,$b,$c); /* $aは 12、$bは元のオブジェクトidのまま、$cは$aと同じ格納場所をみてるので 12 になる 　*/
コンストラクタがどうという話じゃなく、 Class直下ではvarとかfunctionしか書けないという話かと。 かつ、varとかfunctionの引数には動的なものは使えない。
vbでクラス/メソッド参照を「.」でつないでいくのと同じと思えば読めると思います。 自分も初めての言語に向かうときソース読みから入って解説本を探します。 何もせずに本屋に行ってもどれを選べば良いか路頭に迷うけど、ソース読みで出てきた疑問に成るべく答えてくれている本を一冊。 それと、上手く系統立て解説してそうなのを一冊。計二冊買って勉強を始めます。 あとは必要に応じて追加で買います。 自分がphpを始めた頃は(いきなり遣らなくてはいけなくなった)マトモな本が無くphpドキュメントと「phpユーザー会の質疑応答／教えてgoo」を読み漁る日々でした。 今は書籍も充実してると思います、頑張って下さい。
>TRUNCATE TABLE テーブル名; で特に問題ないはずですが、「table」は省略できるので TRUNCATE テーブル名; もしくは TRUNCATE `テーブル名`; で、いけませんか？最悪、 DELETE FROM `テーブル名`; という手もありますが・・・ もしかして、なんらかの制約を受けているテーブルでデータが消せないとか 実はテーブルではなく集計したビューだとかいうオチではないですよね？
$list = array($data); fputcsv($fptemp, $list); ↓ fputcsv($fptemp, $data);
お疲れ様です。 間が開きましたが(風邪を患ってました)解決しましたか？ >>apache2のフォルダーです なぜ消えたかは置いといて、やはり再インストールするしか無いようですね。 お手間でしょうが頑張って下さい。 homeに作成されたページも消えていたら大ショックでしようが・・・ 一度、ディスク中をサーチ掛けてはいかがでしょうか。
何もかかれてない場合は、入ってなかったのかと思います。 ですがライブラリなので、出来るだけ新しいバージョンを入れることを推奨しているのかもしれません。 xampp付属のpearはバージョンによっては不安定な事もあるようです 公開用ルートというのはapacheの公開用ディレクトリだと思います。（エイリアスが無ければ\(XAMPP)\apache\htdocs\) 正直include_pathさえ記述してあれば何処でも良いと思いますが。 それとpearを移動する場合は、php.iniのinclude_pathなどを忘れずに変更してください。
2つあります。 ・ /【[^】]*】/ カッコだらけで非常に見にくいですね。 「【」から始まって「】」以外が0個以上続いて「】」で終わる、という意味です。 ・ /【.*】/U パターン修飾子というやつです。 http://www.php.net/manual/ja/reference.pcre.patt …
>これまでHTMLタグは許可しちゃダメ、という認識でいたのですが、例えば、入力内容を一旦全部タグとして読めないよう変換して(サニタイズ？)、さらに許可するタグだけ再変換してタグ状態に戻す、という使い方はありなのでしょうか？ 自装すべきと言ってるわけじゃないですよ。防ぐべきものが分かっていない以上、他者に頼ろうが自分で実装しようが危険度は同じです。その考え方は、いわゆるホワイトリストで許可されたものだけを有効にするという一般的なものですね。それだけで十分かどうかは、やはり、ご自身でXSSを勉強するしかないと思います。
$_SERVER["HTTP_REFERER"]　に直前ページのurlとQUERY_STRINGも入ってるけど。 配列に分解したいなら、 parse_url() とか、 とQUERY_STRINGを $_GETのような配列に変換するなら parse_str() とかの関数がある。 http://jp.php.net/manual/ja/function.parse-url.php
#2です。 コピペのミスで「where」が重複してしまいました。 携帯からなものでご容赦を。
元ソースが想像つかないのでなんとも言えませんが たとえばtype=hiddenの項目にnameが設定されていないとか凡ミスでは？ hiddenをtextでデバッグするところからはじめてみてください また、firefoxのfirebugなどでデバッグすれば DOMなどで作成したタグも表示することができるので 送る前の状態が検証できると思います
「株価 ブログパーツ」で検索してみるとか。 例えば、 http://stockmarketwind.com/
> Class 'HTTP_Request' not found というエラーが出てしまいます。 not foundってことは読み込めてないってことです。たぶんrequireしている箇所のPATHに誤りがあるのでしょう。 Cakeには位置を特定する定数があります。APPとかROOTとか。 どこでも良いから echo APP;とかしてみると分かるかと思いますが、それを参考にrequireを絶対PATHで読み込めば解決すると思います。
ページがphpで出来てても商品が増えたら手動でページ編集をされてるのでしょうか？ csvでアップロードしたら自動的に商品が反映されるのは、PHPで処理してると思います。 その処理の中にナビゲーション機能がついてない、ということなのでしょうか。 そういったサイトは、ざっくり言うと データ　→　HTML＠PHP 　　　　　　↑CSS（デザイン部分） という構造で、「データ」の部分がMySQLなどのデータベースか、CSVかの違いです。 要は、データを読み込むだけ読み込んで、そのデータ件数が何件かを最初に知って 例えば35件あるけどHTML（画面）上では1ページ10件までしか表示しないのであれば 「データ件数を10件表示したら次ページへ飛ばす」処理をPHPで行います。 HTML（ページ換算）で言うと作成するのは１ページのみです。 ファイルとしては１つ、あとはPHPが処理して中身を勝手に書き換えるからです。 なので、PHPでページが出来てる以上、手動で操作する部分がどこなのかよく分からないのですが 具体的にどういう作業をされているのでしょうか。
合っているかと。(さほど厳密に区別されずにインスタンスをオブジェクトと呼んだりもします) ただ少し気になるのは、 "$objectKamaboko の private $name に「'.$objectKamaboko->getName().'」と書いた" という表現です。 クラスを使っている立場の時には、あなたは「名前を"かまぼこ"とセットしただけ」です。 「private $name に書いたかかどうか」は知っていてはいけません。 クラスの中で、どのような変数が使われていて、どのような処理が行われているのかは分かってはいけません。(自分で作成したので当然知っているのですが、知らないことにしなければなりません) クラスを「作成する人」と「使う人」、頭を切り替えて２人の人間になってください。
質問の意味がわかりません。 データベースから取得するSQL文で select sum(1) as count, sum(`anycolumn`) as item_total from `xxxxx` where `item` = 1 などということですか？ if ($row['count'] > 0) { print $row['item_total']; } それとも配列で $array[$key]['item'] == 1 の条件で、$aray[$key]['anyname'] の合計を $item_total に集計したいのでしょうか？ $cnt = 0; $item_total = 0; foreach ($array as $val) { if ($val['item'] !== 1) { continue; } $cnt++; $item_total += $val['anyname']; } if ($cnt > 0) { print $item_total; } どういうことをしたいのか、わかるように書いてください。
>＞ファイルはプログラムがあるドメインとは別のドメインからダウンロードできたほうが良いです >この部分を理解できなかったのですが、JavaScriptはアップロードしたファイルが置いているドメインのものとして実行されてしまうから、「何をされてもいいような中身が空の、この用途専用のドメイン」を用意して、ファイルアップロード先はそこへ指定し、ダウンロードもそこからした方が良い、ということでしょうか？ 大方おっしゃるとおりです。 細かいところを修正すると、アップロードに別のドメインを用意する必要はありませんが、ダウンロードについてはダウンロード専用のドメインにしておいたほうが良いということです。 お分かりの通り、same origin policyを考慮してのことです。
私の経験上ですが、jsは意外とブラウザによって挙動不審になったりするので、PHPでやるのが確実だと思います。 特にフォーム関係で、入力内容チェックをjsでやるとブラウザによって微妙になったりすることが多いので。。 たぶん、一般的なメールフォームの「必須項目チェック」と挙動は同じなのかなと思います。 5つのチェックボックスがあって、そのうち２つを選んだときA、それ以外B、であれば 飛んだ先（formタグの、actionに割り当てる）にPHPファイルを指定して、 ↓↓指定したPHPファイル内 <?php if($_POST): 　if($_POST["aaa"]):　//※チェックボックスのname（id）が"aaa"とする 　　if($_POST["aaa"] == "みかん" || $_POST["aaa"] == "葡萄"): 　　　header("location: A.html"); 　　else: 　　　header("location: B.html"); 　　endif; 　endif; endif; ?> これでいけるとおもいます。
質問の内容だけだと「どこ」にCakeやappが配置されているのか分からないので的外れかもしれませんが・・ /の位置にappが配置されていると想定した上で、参考程度のヒントを書くと、 app/Config/routes.php に Router::connect('/jp/foo/bar', array('controller' => 'foo', 'action' => 'jp_bar')); Router::connect('/en/foo/bar', array('controller' => 'foo', 'action' => 'en_bar')); と書くとお望みのように動くかもしれません。 的外れならごめんなさい。 質問される際はもう少し詳しい状況を書くと回答がつきやすいかと。
解決出来なかったラ御免なさいね。 syndaxエラーって出ていますが、★の右にある「,」っていりますか？ $sql1.= "(null,'".$time_array[$i][0]."',"."'".$time_array[$i][1]."',"."'".$time_array[$i][2]."',"."'".$flag."')★," ;
手書きで最初から最後までコードを書くというのは、比較的規模の小さい開発だけだろうと思います。ある程度以上の規模になると、やることも煩雑で複雑になりますし、多数のページを統合的に管理するための仕組みも必要になります。そのために各種のライブラリやフレームワークを導入することになります。 こうしたライブラリやフレームワークでは、たいていクラスを使って機能が実装されています。なぜなら、そうしないと収拾がつかないことになるからです。例えば特定の状況下で利用する数十の変数があったとして、それらは必要に応じて値を保持しいつでも利用できないといけません。これらをすべてグローバル変数にした場合、すべての状況下で必要とされる変数は数百にものぼり収拾がつかないでしょう。こうした大規模開発用のフレームワークなどではクラスは必須になります。 また、特定の役割を果たす機能が状況に応じて複数ある場合、それらをすべて同じ名前のメソッドとして用意することで効率がぐっとアップすることもあります。例えばデータベースアクセスの場合、関数を使うと、MySQLやPostgreSqlでそれぞれ関数名が違っていますね？　もし、データベースを変更しようとしたら、これらの関数をすべて探しだして書き換えなければいけません。それぞれのデータベースごとにクラスを定義し、その中にすべて同じ名前でアクセス用のメソッドを用意すれば、データベースを変更する場合も、使用するクラスを変更するだけで他は一切書き換える必要もありません。（PDOのように単独クラスであらゆるデータベースを使えるようにすれば更に便利ですが） 実は、私自身も個人でフレームワークも使わずにコードを書くときは、ほとんどクラスは使いません。せいぜいPDOなどの既存クラスを利用する程度です。が、CakePHPなどのフレームワークを導入すると、とにかくクラスを書くことが基本になりますから、クラス以外のコードを書くことはなくなります。一度、そうしたフレームワークを使ってみると、クラスの役割が実感できるのではないでしょうか。
リソースが更新された時にサーバーサイドからブラウザの更新をかけたいということですか？ WebSocket等を使えばサーバーサイドからプッシュできます それをJavaScriptで受け取って更新してください まあプッシュが難しければ定期更新iframeを使ってもできます
Ano1 語弊があるので一応訂正 >html出力前にバッファリングを開始 >HTMLが終了したら 出力の前後に限らず、PDFにしたい箇所で適宜 ob_start()～ob_end_flush()でかまいません。
aタグでupdate_shop.phpに飛ばしているのだから、そのページでPOSTデータが入っているのかチェックするべきです。 リンクをクリックして遷移した時はフォームデータは送られませんので当然の結果です。 また、各入力項目の値が正しいのかのチェックもupdate_shop.phpで行うべきでしょう。 そうしないとSQLインジェクションやクロスサイトスクリプティング等、セキュリティ上の問題が発生する可能性があります。 利用者が社内など限定されていて悪意のあるアクセスは発生しない条件でも、意図せずに変なデータを入力してしまって、結果としてデータが壊れたりする事もあり得ますので注意しましょう。
たとえばこう <?PHP $a=array("1","4","5～7","3～4","2"); $b=array(); foreach($a as $val){ $b=array_merge($b,explode("～",$val)); } print_r($b); ?>
画像名を新しい番号でrenameしたいのですよね? ループ内で1つ1つrenameするのが王道でしょうけど、同名ファイルが存在する可能性が高く、is_file次第で 新名画像を"tmpimg" などと逃がしてから再renameしたり、拡張子を取得したりとけっこう煩雑になりそうです。 単純に、一旦全ファイルを [ 新No.旧No.拡張子 ]にrenameし、次に旧Noの部分を削除して[ 新No.拡張子 ]としてはどうでしょう? $imgs = array('a_1.jpg' ,'a_2.jpg' ,'a_3.jpg' ,'a_4.png' ,'a_5.gif'); $sort = array(1,2,5,3,4); //新Noを冠した画像名の配列 $tmpImgs=array();　 //一旦 すべてに新Noをかぶせて [新No.旧No.拡張子] にする foreach($sort as $k=>$v){ $oldImgName = $imgs[$v-1]; $tmpImgName = "a_".($k+1).".$oldImgName"; rename($oldImgName,$tmpImgName); $tmpImgs[] = $tmpImgName; } //真ん中の 旧No の部分を削除して[新No.拡張子]に foreach($tmpImgs as $tmpname){ list($new,$old,$ext) = explode('.',$tmpname); rename($tmpname,"$new.$ext"); }
こんにちは。 DBにデータ作成後にsleep(5);で処理を一旦sleepしては如何でしょうか。 sleep(5)で5秒間停止します。
http://jp2.php.net/manual/ja/function.array-diff …
>>オブジェクト指向で開発されているシステムについて、オブジェクト指向を理解している 他のエンジニアでしたら設計書については不要なのでしょうか？ オブジェクト指向を理解しているエンジニアであっても、そのシステムの設計書が無いと、当然ながらメンテが難しくなります。 >>それともかなり詳細な設計書が無いと修正は難しいのでしょうか？ さしあたり、詳細じゃあなくとも、概要設計書や、クラスの機能設計書などがあれば、詳細な設計書は不要かもしれません。まあ詳細なものがあれば、それにこしたことはないと思いますけどね。なお、設計書があっても、実際の修正の作業が容易になるかどうかは、ケースバイケースでしょう。 オブジェクト指向で作ったために、ちょっとした修正に対応するだけなのに、いくつものクラスの修正を引き起こしてしまうこともあります。（昔、オブジェクト指向に変にこだわりすぎたため、修正しずらいシステムとなり、ボツになったプロジェクトがありました。結果として、億単位の開発費が無駄になりました。） >>もし必要であれば設計書を外注先にお願いして作業を行おうと思っています。 そのお願いをすると、新たに費用が発生すると思いますけど、いいのでしょうか？
PHPは使いませんが、返事がつかないようなので。 > ・サーバー上のコマンドライン端末でのant debugコマンドは実行可能(Build Successfull) > ・ターミナル(Tera Term)上でのant debugコマンドは実行可能(こちらもBuild Successfull) この2つはユーザとしてログインするので、その際に環境変数を設定しているのでしょう。 > ・ブラウザからのant debugコマンド(PHPのsystem関数使用)が実行不可。 一方、こちらはHTTPサービスから呼んでいるので、ログインしていません。 そのため、環境変数が設定されないのでしょう。 HTTPサービスもしくは、PHPに対して環境変数JAVA_HOMEを設定して下さい。 JAVA_HOMEはJavaのインストールディレクトリです。
えーと、セーフモードの意味をわかった上でその質問してますか？ 対象のファイルがプログラムと同じUIDを持つように設定すればunlinkもrenameも使えるはずです。 http://php.net/manual/ja/features.safe-mode.func … 逆に、自身が関連しない（同じUIDを持つようにできない）ファイルに対してその関数を使うプログラムは問題があります。 とはいえ、PHP 5.4.0 からセーフモードは使用できなくなったはずですが……。 http://php.net/manual/ja/features.safe-mode.php
fail.inc の test_val を $test_val にしてみるとか。
単純な仕組みで考えれば、セルにidを振り、ajaxで送受信しながら更新するのが妥当
>続けて検索させ一行ごと増やしていきたい セッションで前のデータをとっておくか、 一度検索した結果をhiddenでidを再送して毎回全id分を拾ってくるか
こちらに解説されています。（サンプルコードもあります） http://php.net/manual/ja/function.file-get-conte …
なぜそうしているかは、書いた本人に聞かないとわかりません。
見た目が同じようなフォームを作るのはHTMLのtableとinputタグを駆使するだけです。 受け取ったデータをcrontabのフォーマットに変換するのは、フォームの形式からして難しいことは無く、受け取ったデータを順番にスペースを挟みながらくっつけて、１行のテキストにするだけです。 crontabの書換は、httpdの実行ユーザーが誰なのかと、cronで登録したコマンドを実行するユーザーが誰なのかによって方法は異なりますが、フォームがユーザー認証等で十分セキュリティーが確保されているのであればsudoを使って書き換えるのが簡単かもしれませんね。
自分で削除しています RewriteRule ^(.*)$ index.php?pathinfo=$1 [L]
>アカウント名：メール用の設定がなかったのでftpと同じアカウント >パスワード：メール用の設定がなかったのでftpと同じパスワード info@アカウント名.sakura.ne.jp は有効なメールアカウントにしているんですよね（サーバのコンパネで確認してください）。その設定を使うべきだと思いますが・・・。 （蛇足） pear::mailだからといってsmtpを使わないといけないわけではありません。php標準のmailやmb_send_mailを避けたいだけなら（なぜ避けるのかわかりませんが）、バックエンド名を「mail」でなく「sendmail」にして直接sendmailに引き渡せばいいのでは？localhostに繋ぐのであればsendmailを使っても同じです。まして同じサーバの自分のアカウントに送るのですから。
外部から「可視状態」になっている画像のダウンロードを防ぐことはできません。 ブラウザで「見る」こと自体がすでにダウンロードを意味しているので。。 ただ、「可視」というのは、「存在が知れる」ということです。一般的には、HTMLからリンクされている、という意味。 フォルダ中に配置されているだけのファイルは、ディレクトリ表示がonになってないかぎり、存在を知られることはありません。 それ以外の場合、普通にimgタグが書かれている場合は、スクレイピング（HTML解析）によって存在を検知されますし、最近のGoogleボットなどは、jQueryなどで動的にDOMを生成していても、その構成を自動解釈します。 ファイル名と場所がわかれば、httpリクエストで一点残らずダウンロードすることができます。 なので、 「ダウンロードされたくない」相手が一般的なスクレイピング・プログラムなら、jQueryをかまして<img>タグを隠蔽。 他サイト画像の無断転載隠蔽など、GoogleBotにもクロールされたくない場合は、<div>で空のボックスを置き、CSSで背面に画像を置く。さらにそれをjQueryで動的生成（できれば遅延させて）すれば隠しおおせるかと。 ただ、相手が手動でHTML/CSS/Javascriptを解析したり、ブラウザキャッシュの中まで漁ってくる場合には、隠しようがないと思います。
マッチするところ以外を削除するなら、マッチしたものをつなげるのが 手早いかもしれません <?PHP $html=<<<eof test<img src="1.jpg">test<img src="2.jpg">test test<a href="3.htm">test</a>test test<a href="4.htm"><img src="5.jpg"></a>test test<a href="6.htm">test<img src="7.jpg">test</a>test<img src="8.jpg">test test<a href="9.htm"><img src="10.jpg"><img src="11.jpg">test<img src="12.jpg"></a>test test<iframe src="13.htm" ></iframe>test eof; print "<pre>\n"; print htmlspecialchars($html); print "<hr>\n"; //実作業 ここから $pattern='/<(a|iframe) .*?>.*?<\/\\1>|<img .*?>/mis'; preg_match_all($pattern,$html,$m); $html=implode("\n",$m[0]); //ここまで print htmlspecialchars($html); print "</pre>\n"; ?>
使えます。 ただし、5.3「まで」のバージョンではshort_open_tagの設定に依存します（5.4以降はshort_open_tagの設定がどうなっていても使える）。 http://php.net/manual/ja/ini.core.php#ini.short- …
>>HTTP エラー 500（Internal Server Error）: サーバーによるリクエストの実行中に、予期しない状況が発生しました。 エラーメッセージのとおり、サーバ上でなにか不都合が発生したのだと思います。 ご自身でサーバにwordpressをインストールされたのなら、サーバ内のログをチェックされて原因を追究されればいいと思います。 そうじゃあないなら、サーバ管理者に連絡して原因調査してもらいましょう。
リンクサブパネルに、「リンク一覧」「新規追加」「リンクカテゴリー」３つが並んでいると思います。若しかしたら、管理者権限が無いのか？
とりあえずXAMPPの解説書をよんでみては？
>Notice: Undefined index: search_key >Notice: Undefined index: search_ken >と言う具合にsearch_keyとsearch_kenが見つからないみたいなことが書いてありました。 Undefined indexなんだから、$_POST['search_key']がない（$_POSTはある）ということですよね。 print_r($_POST); でも入れて、データチェックすればいいんじゃないですか？
仕様がおかしいです。 list['b1']['id']=1 list['b1']['body']=か１ list['b1']['id']=3 list['b1']['body']=か２ 同じ添え字に別々の内容を代入するというのはプログラミング言語として無理です（$list['b1']['id']を参照したときに 1 と 3 のどちらが返るのか・・・）。 （蛇足） list['b1'][0]['id']=1 list['b1'][0]['body']=か１ list['b1'][1]['id']=3 list['b1'][1]['body']=か２ となっていいのであれば、 <?php $list = array(); $lines = file('test.txt') or die('cannot read'); foreach ($lines as $line) { if (substr($line,0,2) === '//') { continue; } list($idx, $id, $body) = explode(',', rtrim($line)); $list[$idx][] = array('id'=>$id, 'body'=>$body); } print '<pre>'; print_r($list); print '</pre>'; などと書けます。 「CSVファイル」ならexplodeじゃなくてstr_getcsvする（あるいはfgetcsvで読み込む）べきでしょうけど、詳細な仕様が提示されていないので手抜きしました（汗
スキーマ名とテーブル名の順序が逆じゃないでしょうか。
値は1000円単位固定でいいのでしょうか？それでよければ function xprint($arg) { if ($arg % 10000 === 0) { print sprintf('%5.0ｆ万円', $arg / 10000); } else { print sprintf('%5.1f万円', $arg / 10000); } } とでもすればいいように思いますが、小数以下2桁以下があると端数処理をどうするか考えないといけません（単純にやって勝手に四捨五入されても困るでしょうから）。そのあたりの条件（というか仕様）は固まっていますか？
>$time = getdate($rows['1382296955']); >$modified_time = $time['year'].'/'.$time['mon'].'/'.$time['mday']; $rows['1382296955']がタイムスタンプならgetdateなど介さずに $modified_time = date('Y/m/d', $rows['1382296955']); とした方が手っ取り早いのでは？ 何のためにわざわざ分解していいるのかが謎です。
２です > とは　phpinfo.php　のことでしょうか？ phpinfo.phpの内部コードを見るのではなく、ブラウザで実行してください[http://localhost～]形式でです PHPINFO()は現在のPHPの設定をブラウザで確認する為に使います。(タイムゾーンや言語指定等） *.phpはエラーを起こしたphpファイルです。 <?php date_default_timezone_set('Asia/Tokyo'); //他のコード ?> という風に記述してください 実行するphpファイルのタイムゾーンを指定するものです。(要は応急処置)
参考にどうぞ http://www.phppro.jp/qa/3926
array_sliceで切り出せるのは「配列」だけです（関数名からも自明ですしマニュアルで確認すればもっと確実でしょう）。例示されたソースでは「オブジェクト」を扱っていませんか？ 対象がオブジェクトであれば、素直にforeachの中で（カウンタを）カウントアップして自前で判断するのが適切だと思います。 $cnt = 0; foreach ($obj as $val) { $cnt++; if ($cnt < 2) { continue; } if ($cnt > 8) { break; } // $val を処理 }
どういう結果を取得したいのか、具体的に提示されないと答えようが無いかと。 おそらく、結果を3行にしたいのだと思われますが、codeカラムやhogeraカラムはどの様な値にしたいのでしょうか？ code　　hoge　　hogera ---------------- ?　　　　港区　　??? ?　　　　南区　　??? ?　　　　北区　　???
他にPaypalという名前がプレフィックスになったクラスを使ってませんか？ たとえばPaypalComponentなど。$this->Paypalをダンプするなど、中身を確認したほうが良いかと。 また、名前から察するに決済結果を保存するモデルだと思いますが、他に決済系のプラグイン等を使われていませんか？ Cake2ではプラグイン内にも同名のクラスがあれば衝突するので、Paypalという文字でプロジェクト内を検索すると良いかもしれません。
１、qに全角文字を使った場合UTF-8・URLエンコードをちゃんとしないといけなくなった ２、search/tweetsの戻り値が変わった(検索結果がresultsではなくstatusに入るようになった） ３、twitteroauth.phpの使用APIのバージョンが古い($hostの末尾を/1/から/1.1/にする） 去年ウチのBotが動かなくなった原因はこれでした
$b[] = $a[$i];
アソシエーションが適切に書かれているならば可能です。 findするときにrecursiveを2にしたらお望みの結果が得られると思います。 どうしても出来ないならばアソシエーションの記述に誤りがあると思います。 その構造ならbakeで自動生成できるはずなので（元のファイルはリネームして保管するなどして）bakeし直してみるのも良いかと。
こちらが参考になるのでは？ http://detail.chiebukuro.yahoo.co.jp/qa/question …
controller から直接SQL文を発行するようにはなってないです。 controller のpropatyにdefaultで登録されているmodelオブジェクトからquery()メソッドを呼び出して下さい。 modelにしても直接SQL文を作成＆発行しなくてもいいようにfindメソッドが実装されているので、マニュアル読んでからやった方がいいですよ。 http://book.cakephp.org/2.0/ja/cakephp-overview/ …
Windowsであればご利用環境のphp.iniで smtpの値に普段利用しているメール送信サーバーを指定してあげてください。 またそのhttpサーバーからメールサーバーへの経路が確保されていることを 確認しておいてください。
追記 php.ini でタイムゾーンを設定 http://php.net/manual/ja/datetime.configuration. … 例 date.timezone="GMT" 上を下に date.timezone="Asia/Tokyo" 関数でタイムゾーンを設定 date_default_timezone_get http://php.net/manual/ja/function.date-default-t … date_default_timezone_set http://php.net/manual/ja/function.date-default-t … date_default_timezone_set('Asia/Tokyo'); サポートされるタイムゾーンのリスト http://php.net/manual/ja/timezones.php
pagerを使うべきだと思いますけどねぇ。まぁ一度は練習問題としてやってみるといいかもしれません。 5件表示なのに5件しか読まないのでは「次データがあるかどうか」が判断出来ません（最初に全レコード数を取得していれば別ですが、そうではありませんよね）。 ざっくりと書きますので、ソースを机上で追ってみてください。 <?php $pdo = new PDO("mysql:host=localhost;dbname=test;charset=utf8", "root", ""); // デバッグ用ここから $st = $pdo->query("truncate table post"); $st->execute(); $st = $pdo->prepare("insert into post(no, post) values(?, ?)"); for ($i = 1; $i < 21; $i++) { // 作成数を変えてデバッグする $st->execute(array($i, 'post_' . $i)); } // デバッグ用ここから $page = isset($_GET['page']) ? intval($_GET['page']) : 1; if ($page < 1) { $page = 1; } $perpage = 5; // ページ当りの記事数 $st1 = $pdo->prepare("select * from post order by no desc limit :skip , :read"); $st2 = $pdo->prepare("select * from comment where post_no=:post_no order by no desc"); $skip = ($page - 1) * $perpage; $read = $perpage + 1; $st1->bindParam(':skip', $skip, PDO::PARAM_INT); $st1->bindParam(':read', $read, PDO::PARAM_INT); $st1->execute(); $cnt = 0; while($row1 = $st1->fetch()) { // 記事を読む if (++$cnt > $perpage) { break; } print $row1['no'] . '<br />'; //とりあえずnoだけ表示 $post_no = $row1['no']; $st2->bindParam(':post_no', $post_no, PDO::PARAM_INT); $st2->execute(); while($row2 = $st2->fetch()) { // コメントを読む print $row2['post_no'] . '-' . $row2['no'] . '<br />'; // こっちもとりあえずの表示 } } // リンク生成 if ($page > 1) { print '<a href="?page=' . ($page - 1) . '">Prev.</a>'; } if ($cnt > $perpage ) { print '<a href="?page=' . ($page + 1) . '">Next.</a>'; }
userかcategory2でレコード削除してたら不一致が生じますね
多分、これが参考になるww http://detail.chiebukuro.yahoo.co.jp/qa/question …
何故結果表示が while($rs=$result->fetchRow(MDB2_FETCHMODE_ASSOC)) のLoopを抜けてからになっているのでしょうか？書くとしたらLoopの内側に書かないとダメです。 while($rs=$result->fetchRow(MDB2_FETCHMODE_ASSOC)) { if(substr(PHP_OS,0,3) == 'WIN') { $rs['name']=mb_convert_encoding($rs['name'], "EUC-JP", "SJIS"); $rs['address']=mb_convert_encoding($rs['address'], "EUC-JP", "SJIS"); } ?> <tr><td aling="center"><?=$rs['name']?></td> <td><?=$rs['address']?></td> </tr> <?php } ?> なお、OSがWindowsかどうかでmb_convert_encodingしている意図はさっぱりわかりません。Windowsとそれ以外のOSで書き方に違いがあるわけはないのですが・・・・。もしWindowsとそれ以外で入力フォームや出力の文字セットを変えているとしても（そういうことをする意味がわかりませんが）MySQLにクライアントの文字セットを通知するだけで済む話です。 また、エスケープにaddslashesを使うのは如何なものかと。プレースホルダを使ってください。
つかぬ話・・・ phpファイルではない普通のテキストファイルはインクルードできますか？
$css = str_replace($array[0],$null, $css); でいいはずです。置換結果を受け取ってません
get_archivesで検索しましたか？ 検索すればすぐに答えでるのに。 検索して考えることを放棄しないこと。
う～ん・・・私が思うに、普及していないのではなく、お手軽という点で普及はしてるが、評価が低いというか、評価が両極端なんだと思います。 でも、私が知る限りでは、PHPではCake案件が一番多いんですけどね・・・ 他と比べてCakePHPが「万能」でも「特に素晴らしい」わけでもありませんし、 そもそもビジネスにおいて、それぞれのフレームワークの利点は、 プロジェクトの目的や開発チームの状況、立ち位置によっても変わってくるのではないでしょうか？ Cakeに限りませんが、例えばプロジェクトごとにメンバーを入れ替えたり、有用なプロパーを採用しきれなかったり、要するに外部スタッフを多用してるようなところや、独自でフレームワークを開発している時間がないところでは、一般的に普及しているオープンソースなフレームワークの方が、チーム全体としての学習コストや開発コストが有利という理由で導入してる場合も多いようで、そういう意味で汎用性を保つことが可能です。 私が知っているいくつかのところでは、人員の補充という事情でパイの多いCakeを採用しているというところもあります。 でも、チーム内に共有資産があって、空気の入れ替えの少ないチームでは、これらの利点は少ないかもしれません。 そもそも「外部のフレームワーク」(笑)と言ってる時点で、彼らにはオープンソースのメリットはないのでしょう。 また「MVCモデルや、テンプレート対応は十分に可能で、高品質で迅速な開発が可能・・・」ということですが、確かにその通りです。 フレームワーク開発やテンプレートエンジン開発は難しいものではありません。 しかし「一部の熱狂的な開発者・・・」や「・・・そもそも実開発で、CakePHPはほとんど採用されていない」の部分はおそらく誇張でしょうか、一般的にはそんなことはありませんよ。 前述したように、公共機関含め、かなり多くのプロジェクトで採用されているのを知っています。 熟知すればWeb上でそれを見分けることもできるようになるでしょう。 ただ、他の利点やCakeの弱点をあまり知らずにCake導入というのはちょっと早計な気はします。 フレームワークは、それぞれ一長一短があり、それぞれの特徴をきちんと知った上で、目的やチーム事情に合ったフレームワークを選定できるのが私はベターだと思います。 例えば、PHPしか知らないプログラマが、PHPは素晴らしいと言ったところでその説得力は欠けますよね？フレームワークも同様ではないでしょうか？ 最後に私感ですが、Cakeは最近やっとマシにになってきたものの、ちょっと雑というか、フレームワークデザインパターンをあまり知らない開発者が作ったことがすぐに分かります。 また、厳密な方々からすれば、MVC混乱の元凶、えせMVCとも言われてしまってますね。 また、中～大規模なプロジェクトにはとても向かないでしょう。 また、特にCakeはあくまで簡略化ツールとして割り切るべきであって、標準化すると有能なプログラマは育ちにくいという声も多いようです。 それこそ、独自フレームワークの中身をいじらせた方が、育成という点ではまだマシなんでしょう。 それでも、Cakeの特徴が目的や状況にマッチしていれば大きなメリットになると思います。
一旦配列の形にして、implode()でつなぐ方法もあります。 $lines = explode( "\n", $text); //一旦$Clolors['きいろ'] = array(3,4,9)のような配列に $Colors = array(); //全データ格納用 foreach( $lines as $line ){ list($color,$n) = explode("\t",$line); $Colors[$color][] = $n; //各色の配列ができました } //作成した配列を きいろ\t3,4,5\n の形式にして追記してゆく $text=''; foreach($Colors as $color=>$values){ $text .= "$color\t" . implode(',',$values)."\n"; } echo $text;
ただのプレーンテキストみたいだから、 $num = file_get_contents('http://api.b.st-hatena.com/entry.count?url=[ブックマーク数を取得したいURL]'); $num = intval($num); でとれますよ
探して無ければ、DBを直接弄るかな。俺なら。
まずはsudoをフルパスで指定するところから。 それとhttpdはapacheでしょうか？ もし実行ユーザーがapacheならvisudoしてユーザーapacheにNOPASSWDで実行できる 権限をつける必要があるかもしれません。 ただしapacheの乗っ取りのがあった場合を想定して、利用可能コマンドは ある程度しぼる必要はあると思います。
＞更新ボタンを押した時にそのデータの更新ができるようにする 普通にtext.php側で、$_POST["submit"]の値が"更新"だったときに データを更新する仕組みをつくれば済むのでは？ ただしいまのロジックだと複数行が表示されるので ・1データに１つずつフォームを用意する ・とりあえず全データを更新する 　ただしnameやmemoを工夫してidを埋め込む必要がある ・submitのnameを工夫する ・ajaxで非同期にそのデータだけ更新する などの処理が考えられます
どういうサーバ設定なのか分かりませんが、 例えばPHPの設定で、magic_quotes_gpcがonだったりすると、 特定の値はエスケープされます。 (5.2.8でそういう設定をしているとは思えないですが・・・) それを除去せずに比較しているのか、などと。 考えればキリがありません。 出ないということは、対象のif()または値の設定箇所、もしくは print、echoしている部分に問題があるから出ないわけなので、 その辺がサーバ移行によって正常に動作しているかを1つ1つ デバッグしながらなどして調査しましょう。 そもそも、それが仕様的にOKなのではないか？ if()の直前にecho $hen1;exit;をしたらどう出力されるのか？ $titleをechoまたはprintしてる前に$titleが書き換わっていないか？ 結構、サーバ移行は、仮にレンタルサーバなどの移行だったとする場合、 環境が同一でないにも関わらず、ファイルをアップロードすれば 済むと思いがちですが、環境によって左右される部分もあるので、 設定回り、プログラム自体にアクセスできる人間が調べないと分かりません。 古い資産を動かそうとしてると、ソースがおかしくてそういうのに つまづいちゃって怖いですね。
PHP Regex Generator http://phpreg.1weekhack.com/preg_replace <?php $string = 'http://www.google.co.jp/aaaaa?a=1 '; $pattern = '/(http:[\/][\/][^\s|^\n]+)/'; $replacement = '<a href="\1" >\1</a>'; echo preg_replace($pattern, $replacement, $string); ?> で、どうでしょう。
もとの日付をあらわす文字列はいわゆるISO8601形式ですね PHPのバージョンによってはきちんと処理されない可能性がありますので あくまでも最新のPHPをつかっている前提が必要です。 また「+0800」は日本の環境ではないですね。台北あたりのタイムゾーンで 処理するといいでしょう(なぜかBeijingやHong Kongがないようなので) <?PHP date_default_timezone_set('Asia/Taipei'); $str="2012-12-27T15:46:02+0800"; print date("Y-m-d H:i:s",strtotime($str)); ?>
magic_quotesが on になっている環境ですかね。 http://php.net/manual/ja/info.configuration.php# … get_magic_quotes_gpc() の戻り値がtrueだったら、stripslashesしてから表示してください。 http://php.net/manual/ja/function.stripslashes.php
＞レベルの低い質問かとは思いますが、どうぞよろしくお願いいたします。 レベルが低いとか以前に質問する先が違います。 あなたの出向先の開発環境の構築手順は、その出向先の方に質問してください。 このようなQAサイトの回答者はあなたの出向先の開発環境構築手順なんて知りませんから、一般的な事例でしか回答できません。
剰余演算子ですね。 1%7 商0、余り1 2%7 商0、余り2 3%7 商0、余り3 4%7 商0、余り4 5%7 商0、余り5 6%7 商0、余り6 7%7 商1、余り0 8%7 商1、余り1 … 割られる数が割る数より小さい場合、商は0、割られる数が余りとなります。 > ≒0.7143 よって、小数まで計算しません。
>インデックスを付けて、検索スピードを早くする方法はあるのでしょうか。 厳密にいうとない事はないです。 たとえば全文検索やキーワードを別テーブルに保存するなど また1万件前後であればMyISAMで処理すれば気にならないスピードかもしれません。 SQLのLIKE検索も、前方一致もしくは後方一致のどちらかだけなら インデックスが有効です。 いずれにしろ特定の文字が現れるをチェックするというのは SQLの得意分野ではありませんので、そういうものだと割り切って管理するしかありません
>EUC-JPで統一したのにこんな問題があったので・・。 EUC-JPで統一したのであれば、EUC-JPで扱えない文字を格納するのはやめましょう。eucJP-winというのもありますがPostgreSQLはeucJP-ms（NEC選定IBM拡張文字が存在しない）です。 http://msyk.at.webry.info/200511/article_2.html http://ja.wikipedia.org/wiki/EUC-JP というか今どき「文字コードを統一」するならutf-8以外の選択肢はないと思うのですが・・・ >他の文字コードにする場合ですが、PHPのソースと、データの文字コードを >変更するのは簡単なのでしょうか？ PostgreSQLはあまり扱ったことがないのですが、基本的にはソースはテキスト処理系のソフトで一括変換、データベースもエクスポートしてからテーブル設定変更（というか削除して再作成）後にインポートという手順になります。
strstr()だと、$item['link']が http://hoge1.com/ とか http://hoge1.ドメイン違い.com/ とかでもHITしちゃうけど、ざっくりと「サブドメインがユーザ名」という規則でかまわないのなら、以下のような方法でも。 //300件のデータを羅列 $users = array( "hoge1"=>"http://hoge1.hogehoge.com/", "hoge2"=>"http://hoge2.test.com/", "test3"=>"http://test3.hogehoge.com/" ); //拾ってきたURL $item['link'] = "http://hoge1.hogehoge.com/xxx/yyy/zzz"; //ドメインの頭抜き出して、登録があれば表示、なければ未登録 $name = preg_replace("#http://(.+?)\..+$#","$1",$item['link']); $blog = $users[$name] ? "<a href=\"{$users[$name]}\">{$name}さん</a>": "<a href=\"http://#\">未登録</a>";
DBからデータを拾ってループでリクエストを拾えばさほど難しい話ではないような 気がしますが、httpでの処理をトレースする場合、どこかで引っかかると その後の処理が流れずにタイムアウトする可能性が高いですね DBの接続部分と、リクエスト部分のプログラムをわけて リクエストは非同期で回した方がよいかもしれません
もし本当に「key」というカラム名を使っているのであれば 予約語なのでエラーになっている可能性はありますね ＞$sql ="INSERT INTO temp_memo (key, stylecode) VALUES ('{$Key}', '{$Value}')"; $sql ="INSERT INTO temp_memo (`key`, `stylecode`) VALUES ('{$Key}', '{$Value}')"; 的な処理が必要になると思います。 （ふつうは予約語をカラム名には使いませんが・・・）
使っているRDBMSが「自動インクリメントフィールド、 もしくはシーケンスの概念をサポートしていれば」使えます（ドライバにも依存しますが、サポートしているRDBMS用のドライバでこれが欠落することは一般的には「ない」ので）。 http://php.net/manual/ja/pdo.lastinsertid.php （当然ですが）phpでよく使うMySQLやPostgreSQLでは問題ありません（マニュアルに記載のとおり、PostgreSQLでは引数でシーケンスオブジェクト名の指定が必須になります）。
単純に「確率」でいうなら、13桁で利用していれば16^13（16の13乗）、23桁で利用していれば16^23（16の23乗）。 それ以外に計算しようがない。
array_diffでよいのでは？ <?PHP $a = array("りんご","ごりら","らっぱ","たこ","すずめ","@aaa","@bbb"); $b = array("りんご","たこ","@aaa","@bbb"); $c = array_diff($a,$b); print_r($c); ?>
根本的なことだけれど、phpスクリプトで「複数の画像」を返すことは出来ません。ループの「中」で、httpレスポンスヘッダとコンテンツ（画像データ）を返すというのが間違っています。 やるとすれば複数の画像を（縮小するなら縮小して）それをひとつの画像データに組み立ててから返すことになります。まずは全体のimageデータを作っておいて縮小した画像データをそこに順にコピーしていって最終的に出来上がったデータを（レスポンスヘッダとともに）返すことになります。 座標指定なんて書いているので当然理解していると思ったんですが、このコピーする段階で位置を決める（座標を指定する）ということだと思うんですが・・・
はじめまして。 イマイチ良く分からないのですが、 ＞記事を予め書いておいて指定時刻までは表示しないようにphpで処理している のであれば、同じように 指定時刻まではRSSを更新しないようにphpで処理したらいいのではないでしょうか？
それはPHPソースじゃないです。 おそらく、Smartyのテンプレート。つまり、PHPプログラム(Smarty本体)が読み込むデータです。 意味はSmartyのドキュメントを参照してください。
＞try-catchで例外処理を記載しているのですが、internal server errorには効かないようです。 internal server errorって、ブラウザに表示される「500 internal server error」のことでしょうか？ それだとすると、それはWebサーバーの用語で、PHPのエラーの種類ではないです。 つまり、「try-catchでinternal server errorを捕まえる」という考え方が間違っています。 Webサーバーがそのメッセージをブラウザに返すのは、PHPプログラムのエラーによる終了が原因ですので、PHPプログラムのバグを修正する必要があります。原因は例外によるものかどうかすらわからないですね。 普通に、デバッグしてください。error_logに何か出てるのでは？
#1です。 phpファイル別々ですね。 じゃ違うか。なんでだろう。
JavaScript　でも　form.elements('group1[]') で取得できまっせ。 DOMScript では、elements から取得するのが書くのが正しい書き方です。 1.name属性はフォーム内の項目のグループ化をしている？ JavaScript では、name や id が重複した場合（本来ありえない）配列として返してくれる。 2.name属性値に"［"や"］"は仕様では使用可能な文字ではない？ 確かに仕様では、そうなってますね。 http://www.asahi-net.or.jp/~sd5a-ucd/rec-html401 …
この質問がPHPとどう関係する?
もしかしたらクッキーは１つしか保存できないと思っていますか？ print_r($_COOKIE); としてみればわかりますが、前のデータがゴミで残り、新しい クッキーが保存されているだけなので、前のデータをリセットしたことには なりません。
クエリ文字列に全部の閲覧情報が入っているというのは甘いケースです。 Webアプリケーションの動作においては、クエリ文字列だけでなく、その時点でのSessionの値も評価の対象になっている場合が多いです。 ページ・スクレイピングを行う場合は、必要ならば、スクレイプしたい詳細画面の前にあるカテゴリ選択や、一覧表示画面、さらにはその前の商品分類画面から、人間が検索していくように絞り込んでいく過程をとる必要があります。 また、匿名アクセスに対してもトップ画面でCookieを発行しているサイトが多いので、Cookie保存への対策も行う必要があります。 （BookOffはこのタイプでしょう） とにかく最近は、プログラムを使った掲載情報の盗用を防ごうと、あの手この手で防衛策をとっていますので、それに対抗しなければいけません。 まあ、ブラウザだけ見れて、スクレイピングに対して完全に隠し通せる情報はありませんので、丁寧に読んで行けば問題ないはずです。
単純に、Homeへのanchor（のhref属性）が「index.php」を書かずに「/」とかになっているというだけすよね。そちらを書き替える方がいいとは思いますが、全部のanchor要素を書き替えるのも現実的ではないのでしょうね。 仕方ありませんから（あくまでも次善の策です）2013.phpでCookieを出しておいて、それが存在したら無条件にindex.phpに飛ばせばいいんじゃないですかね。 個人的には（.htaccessは触らずに）index.phpで「一定期間内かつCookieがなければ2013.phpに飛ばす」という方が好みです。
foreach ($Array as $Key => $Val) { switch ($Val['nu']) { case '東京': $Array[$Key]['nm'] = '関東'; break; case '大阪': $Array[$Key]['nm'] = '関西'; break; default: $Array[$Key]['nm'] = ''; } }
>どうしても途中で出力せざるをえない 文書の途中に画像を表示させる的なイメージなのでしょうか？ それはありえないですね もしそうなら仮にheaderをクリアできたとしても画像は表示できません。 そのテンプレを使うかぎりプログラムでの画像処理はあきらめたほうがいいです
>RSSが更新されたかどうかは、取得しなくても分かるのでしょうか？ レスポンスのbodyが大きいようなケースだと、最初にhttp_headなどでレスポンスヘッダだけ取得してlast_modifiedを確認（更新されていたらbodyを取得）するようなこともないわけではありません。 が、RSS程度のデータ量だと意味がないように思います。 >「キャッシュ利用」＝「予め保存期間を決める」 >＝「その期間中に、元RSSが更新されても、キャッシュが効いて >いるので、表示内容は変更されない」ということ？ そういう使い方が普通だと思います。数秒前に読んだRSSをもう一度読んでも更新されている可能性は低いので。
こんにちわ。 在宅でお仕事をされているのですね。詳しい状況はわかりかねますが上記内容を拝見した限りでお答えします。 フリーランスでやるならjQueryとPHPはできた方が良いと思いますが、どのみち覚えたての人に頼むのだったらすでに経験がある人に依頼しちゃうと思います＾＾； ご自身の強みを棚卸しされると良いように思えます。例えば、スピードだったら更新系の作業専門にするとか。 その手の強い人は沢山いますから、無理にそのレベルに追い付かなくても方法があるように思えます。
次の方法で値が取得できます。 // サンプルデータ $data = array("input" => "自転車", "status" => 0, "result" => array()); array_push($data["result"], array("りんご")); array_push($data["result"], array("ばなな")); array_push($data["result"], array("ミカン")); array_push($data["result"], array("オレンジ")); array_push($data["result"], array("ブドウ")); array_push($data["result"], array("パイナップル")); //　result 値を別の変数 basket に取得 $basket = array(); foreach($data["result"] as $value) { array_push($basket, $value[0]); } var_dump($basket); 何故、キー result の値は配列型にもかかわらず、 そのなかに果物名の値１つだけを持つ配列型の変数にして格納しているのでしょうか？ 特に理由がなければ、直接、result の値に果物名を格納しては如何でしょうか？ $data = array("input" => "自転車", "status" => 0, "result" => array("りんご","ばなな","ミカン","オレンジ","ブドウ","パイナップル")); var_dump($data["result"]);
＞　配列にある値を$myUrlにセットしても、 ＞　配列に○○○○は存在しません。となってしまいます。 $array は2次元配列になっているので正しい動作だと思います。 in_array() は第2引数の1次元目の配列の中に第1引数の値があるかチェックしています。 $array = array($url, $test); を $array = array_merge($url, $test); にすると $myUrl を見つけられますが、その場合 $array は2次元配列では無く1次元の配列になります。 $array を作った後で var_dump($array); を実行すると変数の中身がどうなってるか分かると思います。
Apacheのバージョンはいくつでしょうか？ XAMPPは使用していませんが、Apache Ver.2.2.9で同様の問題にあいました。 どうもWindows8,WindowsServer2013でApacheは、Program Files, Program Files (x86)への書き込み権限がないようです。 logsフォルダにログファイルが作られないこととエラーメッセージからも権限の問題と思われます。 私は、C:\ApacheにApacheのインストール先を変更して回避しました。
$query = '自転車'; $url = 'http://api.suggest.search.rakuten.co.jp/suggest? …($query); $json = file_get_contents( $url ); $json = trim(substr($json, 2), '()'); $obj = json_decode($json); var_dump( $obj->result ); cb とやらが、何を示すか知らないが、json として扱うなら取り払う必要がある
提示されたソースでは第二引数（salt）を省略されているようですが、適切な文字列を指定してもダメですか（当然ですが登録時・参照時で同じsaltを使います）。 RTFM. http://php.net/manual/ja/function.crypt.php salt - ハッシュのもととなる salt 文字列。省略した場合の挙動は アルゴリズムの実装によって決まるので、予期せぬ結果となることがあり得ます。 （蛇足） 「例」として提示されているソースは、input要素のname属性と$_POSTの添え字が違うなど、ちょっと例としても不適切ではないですかね（汗
$date = new DateTime( 'now', new DateTimeZone( 'Asia/Tokyo' ) ); $date->setTime( 0, 0, 0 ); $date->modify('-1 weeks'); echo $date->format('Y-m-d H:i:s') . "\n";
>while($test = mysql_fetch_array($sql, MYSQL_ASSOC)){ > >$name = $test[name]; このwhileループ内で変化するのは、$test（配列）と$name（$test['name']）だけですよね？$cntは何も変化しませんが・・・ >whileで繰り返した結果、 というのであれば、 $cnt = 0; // 件数カウンタを初期化 while($test = mysql_fetch_array($sql, MYSQL_ASSOC)){ $name = $test['name']; // nameは引用符で括ること！ if (empty($name)) { continue; } // 空文字列は読み飛ばす // $nameを表示する部分は見当たらなかったけど // 書くならここに $cnt++; // カウンタ加算 } if ($cnt == 0) { print "データはありません<br />"; } でしょう（やむなくmysql関数のまま書きましたが、当然書き替えてくださいね）。 なお、$test['name']を表示する必要がないなら、列nameが空文字列以外という条件（where）のSQL文にして、mysql_num_rowsで結果セットの行数で判断した方が手っ取り早いです。
実際のtable 名は何ですか？ 複数形にしてないのかと思われますが。 ｜ Cake would expect a database table named 'sales' ｜ Do you want to use this table? (y/n) この質問は、「sales」 という複数形のtable名で存在するなら [y] 、名前が違うのならば [n] をいれて、実際のtable名を指定し直す部分です。
$datetime1 = new DateTime('2009-09-12'); $datetime2 = new DateTime('2012-12-22'); $interval = $datetime1->diff($datetime2); echo $interval->format('%R%a days'); echo $interval->format('%R%Y/%m/%d %H:%i:%s');
imagecopyresized($dest, $src, 10, 10, 0, 0, 30, 30, $width, $height);
そいつは JSON だ、JSON ならJSONの用法に従う、 $json = '{"AS":{"Query":"日焼け止め","FullResults":1,"Results":[{"Type":"AS","Suggests":[{"Txt":"日焼け止め新基準","Type":"SF","Sk":""},{"Txt":"日焼け止め ランキング","Type":"AS","Sk":"SF1"},{"Txt":"日焼け止め ランキング 2012","Type":"AS","Sk":"SF1AS1"},{"Txt":"日焼け止め スプレー","Type":"AS","Sk":"SF1AS2"},{"Txt":"日焼け止め spf","Type":"AS","Sk":"SF1AS3"},{"Txt":"日焼け止め 塗り方","Type":"AS","Sk":"SF1AS4"},{"Txt":"日焼け止め ノンケミカル","Type":"AS","Sk":"SF1AS5"},{"Txt":"日焼け止め 落とし方","Type":"AS","Sk":"SF1AS6"}]}]}}'; $a = json_decode( $json ); foreach ( $a->AS->Results[0]->Suggests as $s ) { echo $s->Txt, ','; } どうしても正規表現でやりたいなら preg_match_all( '/(?<="Txt":")[^"]+(?=")/' , $json, $m ); var_dump( $m ); ただし、UTF-8でないとうまく動作しない。UTF-8以外の場合は、mb_ereg_searchを利用する。
まぁふつうの運用では以下のような感じなんですけどね ・データの削除をせず、フラグで管理する ・仮にデータを削除する場合はauto incrementなどでつけるような連番は 　そもそも抜け番号など気にしない ・それでもどうしても連番で表示したいなら、変数でインクリメント処理するとか 　ランク処理をいれる SET @renban=0; select *,(@renban:=@renban+1) as renba from テーブル; みたいな感じ（ランク処理はここで例示するにはめんどうなので割愛）
apache サーバーでは、 .htaccess は公開ディレクトリーにあるものしか見ません。 よって、/var/www/html/example.com　のドキュメントルートにある「htaccessファイル2」のみが実質動作します。あとの２つの.htaccess は読み込まれない場所にあるので、置いておく意味もありません。参考リンク先でも、.htaccess は一つですし。 「htaccessファイル2」の記述は、ほぼ配布元と同じなので、問題なく動作していると思います。 ドキュメントルートのindex.php から開始するなら、RewriteBaseは不要かとも思いますけど。 あと問題の url http://www.example.com/sample でアクセスしているときに <form action='./sendform' >とすると、http://www.example.com/sendform へ送信されるのは、ブラウザの仕様です。 http://www.example.com/sample/ のurlでform表示する必要があります。actionメソッド名index は省略可能だけど controllerの後方の / は省略しないこと。ブラウザが判断するディレクトリー区分が違ってしまいます。
>なぜか真っ白なページとなってしまいます。 おそらくエラーメッセージの表示を抑制していますよね？エラーメッセージを表示するように設定を変えてください。 Fatal errorを吐いていると予想されますが、あれこれ想像するよりもそのエラーメッセージを読んだ方が早いです。
RDBMSが何か書かれていませんが、お使いのRDBMSのマニュアルでSQLを調べればLIKEの構文はすぐにわかると思いますし、ワイルドカードに何を使うかは書かれているハズです。 一般的には「%」と「_」を使います（「*」と「?」を使うのはMS-Accessくらいでしょうかね）。 http://www.sql-reference.com/select/like.html
基本機能では、存在しません。 それは、いわゆるAOP(アスペクト指向プログラミング)の1つです。 PHP AOPや、PHP アスペクト指向とかで検索すると、 フレークワークの機構としてあったりします。 そこまでするのが正直面倒な場合、マジックメソッドをオーバーロードするのが 一番手っ取り早いかもしれません。 public class Hoge { 　public function __call($name, $args) { 　　$this->putLog($name, $args, 'start'); 　　$result = $this->$name($args); 　　$this->putLog($name, $args, 'end'); 　　return $result; 　} 　private function fuga() { 　　～ やりたい処理 ～ 　} 　private function putLog($name, $args, $section) { 　　$logValue; 　　if (strcmp($section, 'start') == 0) { 　　　$logValue = $name . $args. ' ' . $section; 　　} else { 　　　$logValue = $name . ' ' . $section; 　　} 　　～ ログ書込み ～ 　} } 【呼出し側】 $hoge = new Hoge(); $hoge->fuga(); みたいな。 http://php.net/manual/ja/language.oop5.overloadi … 色々はしょってるしPHPをもう忘れちゃったので、調べればできると思います。
こんな感じでforeachでまわしてみては？ foreach($arrayAAA as $key=>$vals){ $n=&$newArray[$key]; $n["name"]=$vals["name"]; $n["color"]=$arrayBBB[$key]["color"]; $n["media"]=$arrayCCC[$key]["media"]; }
そのブログで「ひとつの記事」のURLはどうなっていますか？ たとえば http://example.com/index.php?eid=1234 などとなっていれば、 http://example.com/topic/1234 を そういうURLにrewriteすればいいだけです。 RewriteEngine On RewriteCond %{REQUEST_URI} ^/topic/ RewriteRule topic/(.*) index.php?ied=$1
Cookieを書き出すスクリプトを置いてそのURLにアクセスしておけばいいと思います（ブラウザにCookieを食わせる）。 カウンタのスクリプトではそのCookieが送られていたらカウントアップしない（&Cookieの期限を延長する）。 >掲示板でIPアドレス制限とかあるかと思いますが、あれはどうやっているのでしょうか？ 全然違う質問ですが（汗 そのまんま、IPアドレスが規制すべき一覧（テキストファイルで1行1IPアドレス）にあるかどうかをチェックしているだけです。
テンプレート側で判断させるのではなく、呼び出すページ側(TOPページ)から指定するという方法もあります。テンプレートには適当な変数を入れておくだけ。変数がセットされていれば表示され、無ければ何も表示されません。 ▼TOPページ側 $H2 = "<h2>○○○○</h2>"; include テンプレートfile; ▼テンプレート側 $H2 <p>○○○</p> 別の方法として、できればclass、あるいはfunctionにしておくと function print_page($title="",$discription="",$h2=""){～} のようにパーツ毎に指定できて応用範囲が広がります。 原則として「使う方(TOPペジージ側)が指示し、使われる側(テンプレート)は指定通りの仕事をするだけ」にしておくと、後々使い回ししやすいので手持ちの資源がどんどん増えますよ。
書く順番が間違っています。下記が正しい順番です。 RewriteEngine on RewriteCond %{HTTP_HOST} ^mydomain.com //これを追加した RewriteRule ^(.*)$ http://www.mydomain.com/ [R=301,L] //これを追加した RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule . index.php
A、B、Cでテンポラリテーブルをつくりouter join (left?)でつなげばよいでしょう
まずはマニュアルをちゃんと読んでください。 http://php.net/manual/ja/function.array-multisor … array_multisortの戻り値はbool値（ソート処理の成否）なので、$outputに代入しても意味がありません。 書くとしたら if (array_multisort($res['score'], $res['name'])) { print($res['name'][0]) . "<br />"; print($res['name'][1]) . "<br />"; print($res['name'][2]) . "<br />"; } などとすることになります。
手元のWinXP+xampp1.7.7で試しましたが、ちゃんとCookieの送受信が行われています。 FirefoxならLive HTTP Headersでhッtpリクエスト/レスポンスが確認できると思いますので、サーバからSet-Cookieが送られているか（それをFirefoxで認識出来ているか）、FirefoxからCookieを送信しているかを確認してみてください。 まぁListenで65500というポート番号はどうなんだろうとも思いますが（汗
phpBBはどうですか？ https://www.phpbb.com かなり高機能でデザインを触るのもそれ程、難しくありません。 ネットで調べれば情報量も多いです。 上記サイトは英語表記ですが、phpBBの日本語ファイルも 上記サイトで配布されています。
RSSなんかないと思うけど、どういうhtmlソースが返っているかを確認すれば、取得したhtmlソースから切り出すのはそれほど面倒なことでもない。2chのhtmlソースは案外に整形されているし。 スレッド一覧を取得すればスレッド番号、スレッドタイトル（レス数含む）はすぐに取り出せる。スレッド作成日時はスレッド番号を元に最初の記事だけでも取得すればいいんじゃないかな（当該スレッド番号で一度だけ実行すればいい）。
fopenで開けられるのはファイルだけではありません。 RTFM. http://php.net/manual/ja/function.fopen.php http://php.net/manual/ja/wrappers.php http://php.net/manual/ja/wrappers.php.php >php://output は書き込み専用のストリームで、 print および >echo と同じ方法での出力バッファへの書き込みを許可します。 ∴ $fp = fopen('php://output', 'w'); fputcsv($fp, $arr); で直接ブラウザに返せます。
すでに指摘がありますが、提示されたスクリプトでは「何も表示されない」のが正しい動作だと思いますが・・・ 最低でもQueryStringがどうparseされるのかは理解しておかないと、先に進めませんよ。 http://winofsql.jp/VA003334/infoboard.php?mid=pg … http://php.net/manual/ja/language.variables.exte … foreach ($_GET as $val) { print $val . "<br />"; }
https://www.google.co.jp/search?hl=ja&q=PHP+%E6% … なんでこんな初歩的なことすら検索しない? おまえ検索すらする能力無いならプログラミングの才能はゼロだからやめておけ。
契約条項で厳しく縛るしかないんじゃないでしょうか。 著作権を放棄せず使用権だけ相手に付与する契約にして、不正に複製したら著作権法違反で損害賠償請求する事にしましょう。
とりあえずカッコの数をあわせるところから始めてみては？ あとはご指定の関数が本当に用意されているか確認してみてください
>処理の一部にjavascriptの関数を使用するよい方法はないでしょうか。 ないでしょうね。 仮にあったとしても、例示いただいた関数を使うことの方がはるかに 効率的でしょう。
>条件を指定しない場合は、その全部を対象にしたいです。 え？それで「FORMで選択されていないデータを対象にした文章までも入ってしまいます」ということは、指定した条件もセットされていないということですか？ 一度、$qqq をprintして「自分が作りたかったSQL文になっているか」を確認してください。 正直case文で分けているロジックは（どの変数が何になっているかの説明もないし、用途が想像しにくい変数名だし）追う気にもなりません。ただ、「指定した条件が全部andになっている」のであれば、上記のような結果にはならないハズです。どこかで想定外のSQL文になってしまっていると思われます。 なお、プレースホルダを使わないならPDOを使う意味はほとんどありません。「テスト段階だからエスケープしていない」といってもプレースホルダさえ使っていればエスケープを意識する必要も列の型を考慮する必要もありません（勝手に処理してくれるので）。 逆にこの状態でエスケープを「適切に」入れるのは無理です（ネイティブなMySQL関数ならmysql_real_escape_stringを通すんでしょうけどね）。結局プレースホルダに書き直すしかありません。 今のうちに書き直してください。そうすればSQL文に渡したプレースホルダとそれに対応させるために作成した配列に気を配れば大きな破綻はありません。
せめて「ソース表示」にした状態を転記してください。構造が読み取れません。 [item] => Array ( [0] => SimpleXMLElement Object ( [title] => コンテンツ１ となっていますから、最低でも $xml->channel->item[$i]->title などとなるのではないですかね。 var_dumpで$xml->channel、$xml->channel->item、$xml->channel->item[0]などと少しずつ辿ってみた方が早いです。
見た感じとくに問題なさそうですが・・・ ここに記述した別のところに問題があるのかも <?PHP $array1 = explode(" ","123csv 456csv 789csv"); for($a = 0; $a < count($array1); $a++){ $array2[] = "a".$array1[$a]; } echo $array1[0]."<br>"; echo $array2[0]."<br>"; ?>
＞これは、テンプレートみたいなものですか？ ライブラリ集ですね 参考サイトご覧頂いていないですか？ http://pear.php.net/manual/ja/ Wikipediaあたりにも解説があります http://ja.wikipedia.org/wiki/PEAR
受け取ったページでもう一度フォームを表示して、受け取った値を初期値として入れておくと言う事でいいのでしょうか。 であれば、 <input type="text" name="name" value="<?php echo htmlspecialchars($text); ?>"> でいいのではないでしょうか。
どういう環境下で作っておられるのかが全然わかりませんが、 PHPというこですので、Webベースのフォームですよね。 たとえば、「はい」ボタンと「いいえ」ボタンをそれぞれフォームのSubmitにしておいて、 POST先のフォームで処理を分ければどうでしょうか。 送信元 <form name="Hai" method="POST" action="hoge.php"> <input type="hidden" name="answer" value="1"> <input type="submit" value="はい"> </form> <form name="Hai" method="POST" action="hoge.php"> <input type="hidden" name="answer" value="0"> <input type="submit" value="いいえ"> </form> 送信先 $answer = $_POST["answer"]; if($answer == 1){ //　「はい」の時の処理 }else{ //　「いいえ」の時の処理 } ちなみに、自分から自分へPOSTすればPHPスクリプトも２つに分けずにできると思います。 また、POSTじゃなくGETでも同様のことはできると思います。
>エラーで値が取り出せずにいます エラーメッセージが表示されるのであれば、それを転記するのが質問の基本だと思います。それとも回答者に推測させて回答者のレベルを判断しようという意図でしょうか？ とりあえず（Undefined Indexであれば） echo $t03['timediff']; などと書く前に print_r($t03), でどういうものが読めているかを確認するべきです（それがデバッグです）。
質問は何でしょうか？ ざっと見たところでは、 （１） $_RESUEST[$key]が空文字列だったら処理をスキップしているのにそれを考慮してステートメントを組み立てていない （２） プレースホルダの記述がおかしい（プレースホルダになっていない）。 という点が気にはなりますが、いずれにしても$qqqやそれに引き渡す値をprintしてみればわかることだとは思います（それがデバッグですから）。
根本的な問題 PHPにおいて文字列比較に「==」は使うのはNG
preg_matchで使っている$todayの中身が正規表現になっていないからだと思います。
smartyへの組み込みはおいておいてロジック的にはこんな感じ 配列が0から始まる連番である前提。 ポイントは最終的にあまったセルを埋めないといけないことくらい <table border> <?PHP $x=range(0,40); $count=0; $col=3; $row=ceil(count($x)/$col); for($i=0;$i<$row;$i++){ print "<tr>\n"; for($j=0;$j<$col;$j++){ $key=$i*$col+$j; if(array_key_exists($key,$x)){ print "<td>".$x[$key]."</td>"; }else{ print "<td></td>"; } } print "</tr>\n"; } ?> </table>
シャッフルして前から5個取り出せばよいのでは？
>$stmt->execute(array($price1,$price2,$citycd1)); 記述自体は問題ありません。$price1,$price2,$citycd1 にキチンを値がセットされているかどうか（printするなどして）確認されていますか？ >変数は$_POSTで受け取っているものなのですが、受け取りの成功は確認済です。 たとえば確認したのが$_POST['price1']で、それを$price1に代入するのが漏れているなんてオチはありませんよね。
いろいろ突っ込みどころ満載過ぎるソースなんだけど ・非推奨のmysql関数を使っている。 現在はmysqliやPDOを使うことが推奨されている。 PHPの公式のリファレンスマニュアルすら読まない無能? ・今時プレースホルダを使わずにエスケープ処理を使っている ・変数の存在チェックすらしない?isset()すらせずにerror_reportingでごまかすという非常識ソース。 >error_reporting(E_ALL & ~E_NOTICE); >if (preg_match('/^[1-9][0-9]*$/', $_GET['page'])) { >$page = (int)$_GET['page']; >} else { >$page = 1; >} などなど
No2回答者です、前回の回答のしかたじゃ解りにくかったようなので。 collate の設定は yambejpさんのご指摘の通りで問題ないです。 質問者さんの sql 文が limit の手前に半角空白を入れない限り、構文エラーが直らないだけです。
>エスケープとしてこれで対策になっているのでしょうか？ なっていない。 >文字列を""付きでsprintfするだけでなぜ対策になるのかわからないのです。 俺もわかりません。ド素人が作ったソースなのでしょう。 >作成者はPHPではこれでいいと言っています。 よくない。 PHPにおいてもプレースホルダを使うのが一般的になっている。 また、 >ネット調べるとmysql_real_escape_stringでエスケープしてから"%s"で変換すれば大丈夫といった内容は見つけたのですが、mysql_real_escape_stringなど不要との返事をもらいました。 http://php.net/manual/ja/function.mysql-real-esc … mysql系の関数はすでにPHPにおいては非推奨の関数になっている。 使うべきはmysqliや汎用のDBドライバとなるPDOを利用すべき。
>複数にまたがっている為 SQLの結合すら知らない人? というか、DBの正規化すらできてなさそうだ。
>トップ画面から問題画面に移り、解答と解説、統計を出さなければならない まずは「どこで何をすればいいか」を考えてください。（どういうものを受け取って）どういう処理をしてブラウザに何を返すのかをキチンと決めてください。 それが出来ていなければ1行たりともソースは書けません（書いてはいけない）。
\\0 には正規表現でマッチした部分文字列が入ります。 例では apple にマッチした場合は \\0 に apple が a がマッチした場合は a がといった具合です。 以下を実行してもらえれば部分文字列置換の意味合いが多少なりわかるかと思います。 mb_eregi_replace( 'a(p(pl)e)', '0:\\0 1:\\1 2:\\2', 'Apple' );
定数はダブルコーテーションで囲まれた文字列内で変数のように展開されませんので、 $query .= "limit " . $offset . ", NUM_SHOPS" ; は $query .= "limit " . $offset . ", " . NUM_SHOPS; にしないといけませんね。
Twitterで画像が表示されるのは，単純にTwitter側が対応しているサイトだからです。 あなたがTwitter社とかえあって例外を認めさせられれば表示されるかもしれませんが。 基本的には，update_with_mediaを使ってTwitterサーバーへ投稿することになります。 https://dev.twitter.com/docs/api/1/post/statuses … # その他，twitpicなど対応しているサイトであれば利用可能ですが……。
空でも一行出るのは仕様なようですから、if文で囲うか、<br>タグを$goodsの中身に含めるか、$goodsを受け取って希望するリストを出力するようなSmarty関数を自作するか、ということになると思います。 <{if count($goods) gt 0}> <{foreach item=value from=$goods}> <{$value}><br /> <{/foreach}> <{/if}> 参考URL：http://blog.b-shock.co.jp/pooza/2006/02/smarty.h …
phpMyAdminでrootでログインできるようにするか すでにrootでログインしているならhostとの組み合わせが間違いないか確認 rootでのログインが難しいならログインするユーザーに権限を付加する のどれかですね
No.4さんへ ああ、そうですね。「普通、比較に用いない」はおかしく、「普通、if文には用いない」と書くべきでした。
改行コード自体はちゃんと格納されていると思います。 <?php $str = "abc\nefg hij" . PHP_EOL; for ($i = 0; $i < strlen($str); $i++) { printf('%02x', ord($str[$i])); } などとしてみればわかります。 ブラウザ上でhtmlとして改行したいのであれば。nl2brを使って改行位置に『br要素』を挿入してください。
個別ページ用のテーマファイルそのままアーカイブページに使っても まあうまくいかないですよね URLによって本来リクエストされ表示する投稿と テーマファイル内で自分でリクエストする投稿が 逆になるのでそのようにしましょう <!--メインコンテンツ用--> <div class="clearfix" id="main-container"> <?php if(have_posts()): while(have_posts()): the_post(); ?> <div class="title"> <h2><?php the_title(); ?></h2> <?php the_content(); ?> </div> <?php endwhile; endif; ?> <div class="itemlist"> <?php query_posts('post_type='.$post->post_name); ?> <?php if(have_posts()): while(have_posts()): the_post(); ?> <a href="<?php the_permalink(); ?>"> <?php the_post_thumbnail('ssize'); ?> </a> <?php endwhile; endif; ?> </div> ↓ <!--メインコンテンツ用--> <div class="clearfix" id="main-container"> <?php $q=new WP_Query('name=frame'); if($q->have_posts()): while($q->have_posts()): $q->the_post(); ?> <div class="title"> <h2><?php $q->the_title(); ?></h2> <?php $q->the_content(); ?> </div> <?php endwhile; endif; ?> <div class="itemlist"> <?php if(have_posts()): while(have_posts()): the_post(); ?> <a href="<?php the_permalink(); ?>"> <?php the_post_thumbnail('ssize'); ?> </a> <?php endwhile; endif; ?> </div> ちなみに$q=new WP_Query('name=frame');のあたりは結構テキトーです 投稿のスラッグが被らないならいいんですけど ちゃんと確実にタイトル部分を書いた投稿が呼び出されるようにして上げてください
>引数の$rowに$_POSTをそのまま渡している ということは$rowは配列ですよね。$row[viewid]ではなく、普通は$row['viewid']（もしくは変数$viewidに値が代入されていれば$row[$viewid]）と書きますが・・・・ 変数（$viewid）でもリテラル（'vireid'）でもなく定数（viewid）で書くということは、どこかでviewidという定数を定義（define）していますか？ ＃していないから警告が出ているのだとは思いますが（汗
UserAgent（phpスクリプトであれば、$_SERVER["HTTP_USER_AGENT"]で取得できます）で切り分けてください。 http://www.openspc2.org/userAgent/ もちろん、.htaccessで振り分けることもできます。PC/携帯の振り分けと基本的に同じです。IPアドレスがアテに出来ないのでUserAgentのみで判断するしかないのと、未知のスマホ用ブラウザがあるかもしれないとかタブレットの取り扱いをどうするかとか・・・ なお「PC スマホ 振り分け」で検索すれば山ほどヒットしますけど、それはまだ試されてないですかね（汗 http://allabout.co.jp/gm/gc/386483/ http://html5-css3.jp/smartphone/pc-iphone-androi … 下記あたりではスマホ/タブレットも考察されてます http://wakana.me/?p=43
twitteroauth のソースを見た所、twitteroauth.php の中の http という関数（今ダウンロードしたソースだと197行目）に Curl settings というコメントの下で curl の設定を行っているところがあります。 ここに curl_setopt($ci, CURLOPT_HTTPPROXYTUNNEL,TRUE); curl_setopt($ci, CURLOPT_PROXY,'proxy.server.xxxx:8080'); といった感じでプロキシサーバーの情報を書き込むとうまくいくのではないでしょうか。 手元にプロキシを使える環境が無いのでテストしてませんが、たぶん上記の設定で行けると思います。
無理にリレーション処理をすると、同じデータをなんども得ることになるため無駄 バラバラに呼んだ方が効率的
>ＳＥＬＥＣＴ文の中で配列であるstcd[]をどのように書けばよいかがわからないのです。 （最初のソースのように）プリペアドステートメントを使わないのであれば $sql = ""SELECT * FROM property"; $where = array(); foreach ($stcd as $val) { $where[] = "(stcd ='" . $val . "')"; } if (count($where) > 0) { $sql .= " where " . implode('or', $where); } とかでしょうね。
もともと、メールは素のテキストを使っているので、タグを使っても効果はありません。 ・HTMLメールとして送信するように設定を変える ・URLを書くだけに留める。リンクになるかどうかは相手のメールソフト次第 のいずれが対策かと。
http://oshiete.goo.ne.jp/qa/3871366.html No2をご確認下さい。
＞SELECT * FROM shops where (area='◯◯◯') ORDER BY id DESC limit0, 10 "limit0" は間違いですよね。"limit 0" でないと。 単純なシンタックスエラーです。 ＞ $query .= "limit" . $page_num*10 . ", 10" ; $query .= "limit " . $page_num*10 . ", 10" ; limitの後ろに半角スペースが足りないと思います。
正規表現をつかうのが必須でないなら普通にキャストすればよいでしょう <?php $ary = array( "９８0.0100", "３213.1200", "３２２２.0003", "1000.２001", "2314.０000", "１２００.９８００", "2980.0000", "2３13.1200", "３２２２.0003", "０８00.0000", "４５００.００００" ); foreach($ary as $val){ $num =(double) mb_convert_kana($val,"n","utf-8"); echo $num."　←".((int)$num==$num?"整数":"小数")."<br>"; } ?>
<?php // 初期値ぐらい設定する $tokuten = isset($_GET["tokuten"]) ? $_GET['tokuten'] : 0; $kumi = isset($_GET["kumi"]) ? $_GET['kumi'] : 'Ａ組'; $sql =<<<__SQL__ SELECT * FROM test WHERE 1 AND :t1 <= :tokuten AND :k1 <= :kumi AND :t2 <= :tokuten AND :k2 <= :kumi __SQL__; // 直接突っ込むような雑なことはせずなるべくプリペアドステートメントを用いる $sth = $pdo->prepare( $sql ); $sth->execute( array(':t1'=>$t1, ':t2'=>$t2, ':k1'=>$k1, ':k2'=>$k2, ':tokuten'=>$tokuten, ':kumi'=>$kumi) ); $result = $sth->fetchAll( PDO::FETCH_ASSOC ); ?> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> <head> <title></title> </head> <body> <!-- form の下には、ブロックレベル要素しか置けない --> <!-- action に PHP_SELF を突っ込むようなことはしない。通常 SCRIPT_NAME を用いる --> <form name="formName" action="<?php echo $_SERVER['SCRIPT_NAME']; ?>"> <fieldset> <label for="tokuten">得点<label> <select name="tokuten" id="tokuten"> <option value="0" selected="selected">0点</option> <option value="25">25点以下</option> <option value="50">50点以下</option> <option value="75">75点以下</option> <option value="100">100</option> </select> <label for="kumi">組</label> <select name="kumi" id="kumi"> <option value="Ａ組" selected="selected">Ａ組</option> <option value="Ｂ組">Ｂ組</option> <option value="Ｃ組">Ｃ組</option> </select> <fieldset> </form> <div id="bbb"> <table> <? foreach( $result as $r ) : ?> <tr> <td>試験1の得点</td> <td><?=htmlentities( $r['t1'], ENT_QUOTES, 'UTF-8')?></td> <td>試験1の組</td> <td><?=htmlentities( $r['k1'], ENT_QUOTES, 'UTF-8')?></td> <? if( !is_null($r['t2']) ) : ?> <td>試験2の得点</td> <td><?=htmlentities( $r['t2'], ENT_QUOTES, 'UTF-8')?></td> <td>試験2の組</td> <td><?=htmlentities( $r['k2'], ENT_QUOTES, 'UTF-8')?></td> <? endif; ?> </tr> <? endforeach; ?> </table> </div> </body> </html> 質問とは関係ない内容だが、 とりあえず質問では、何をどうしたいのかが汲み取れない。 もう少し具体的に記入していただかないと答えようがありません。
? は最長の一致指定子なので、 大括弧に括られた任意の一文字の1回以上の出来るだけ少ない繰り返しという意味。 e が付いてるから、その文字列を式として評価するってことでしょ？ '{1}{12}{123}' という文字列があったら、{1} を $prm[1] と置換、次に {12} と $prm[12]、最後に {123}、$prm[123] 。 違うかな～？
正規表現はそれで良いです。 ・プログラムの中で正規表現をどう使うか ・置換後の文字列をどう指定するか という正規表現以外のPHPの知識不足です。 たとえば、 $line = 読み込んだデータ; $line = preg_replace('!([GET|POST]) /([a-zA-Z]+[0-9]?/)?([a-zA-Z]+[0-9]?/)?([a-zA-Z]+[0-9]?/)?([a-zA-Z]+[0-9]?/)?[^\s]*\s!','$1 /$2$3$4$5 ',$line); こんな風にプログラムを書きます。
「フリーのテンプレート」というのが、php用（何らかのテンプレートエンジン用）というわけではなく、単にサンプルのhtml（xhtml）ソースというだけなんですね。 別に「読み込んでここをこう書き替えればいい」とphpスクリプトからわかるように編集しておけばいいと思います。 年月の表示部分や前月・次月へのanchor要素、7列×6行のtable要素（の中のtd要素）に置換用の文字列を埋め込んでおけばいいとは思います。まぁ、6行目は不要な月の方が多いので行自体をカットするでしょうから、スクリプトで書き出してもそれほど手間ではないと思います（カレンダーくらいはスクリプトで出力できますよね）。 それも含めて「phpスクリプトからテンプレートとして読み込む」のでもいいし、このhtmlソースに「（動的に変えたい部分だけ）phpを埋め込んで」使うのでもいいでしょう。
マニュアルのとおりに書けばいいだけだと思いますが・・・ http://jp2.php.net/manual/ja/function.uasort.php <?php $arrdata = array( 0=>array('a'=>1, 'b'=>'東京', 'c'=>75), 1=>array('a'=>4, 'b'=>'京都', 'c'=>50), 2=>array('a'=>2, 'b'=>'名古屋', 'c'=>22) ); print "<pre>"; var_dump($arrdata); print "</pre>"; print "<hr />"; uasort($arrdata, 'sort1'); print "<pre>"; var_dump($arrdata); print "</pre>"; function sort1($arg1, $arg2) { if ($arg1['c'] == $arg2['c']) { return 0; } return ($arg1['c'] < $arg2['c']) ? -1 : 1; }
こういう処理をO/Rマッピングと言いませんか？ O/Rマッピングにはメリット・デメリットがあります。 メリットはざっくり言えば変換後はオブジェクト指向の世界のことだけを考えればよくなるということです。データの取得、設定はsetter / getterで行えますし、一連のデータの受け渡しもオブジェクトの受け渡しとして描かれます。 デメリットはメモリーが無駄に使われて、性能が出ないということに尽きるでしょうね。O/Rマッピングの段階で抽象化されてしまい、RDBのことを綺麗サッパリ忘れるので、RDBだとインデックスを使って高速にデータを選択できるところがそれを使わないために遅くなったり、無駄なメモリーを使ったりすることになります。O/RマッパーによってはSQLを直書きできるオプションを用意しているものもありますが、あまり筋がいいとは思えません。 あと、PHPだと簡単に連想配列を作れるので、わざわざオブジェクトを作ってもあまり嬉しくないかもしれません。JavaだとHashMapなどで連想配列を作るのにもそれなりのコストが掛かりますし、オブジェクトにしたほうが型のチェックもしてくれますのでオブジェクトにする利点はPHPに比べてはるかに大きいとは思いますが。 O/Rマッピングで検索すると賛否両論見つかると思うので、まぁ、見てみてください。個人的にはRDBを裏で使うなら、強く型づけされた言語でもあるまいし、連想配列の配列で良くない？と思ってしまいますが...
$sql = 'select * from test_tb where name like "%$q%"'; を $sql = 'select * from test_tb where name like "%' . $q . '%"'; か $sql = "select * from test_tb where name like '%$q%'"; に変えましょう。 シングルコーテーションで囲まれた文字列の中では変数を展開してくれませんので、テーブルの中から「$q」という文字が含まれるレコードを一生懸命探していて、結果として1件も見つかっていません。
<?php function in_array_denial( $ary, $n ) { foreach ( $ary as $a ) if ( $a !== $n ) return false; return true; } define( 'FE_EMPTY', 1 ); define( 'FEDESAGREEMENT', 2 ); $e = array( 'name'=> 0 ,'mail'=> 0 ,'mail2'=> 0 ,'list'=> 0 ,'content'=> 0 ); // 名前のチェック if( $_POST['name'] === '' ) $e['name'] = FE_EMPTY;// 空文字と比較する場合は === を用いる // E-mailのチェック if ( !preg_match('/^[a-z0-9][a-z0-9_\.\-]*@[a-z0-9][a-z0-9_\.\-]+[a-z]$/i', $_POST['mail']) ) $e['mail'] = FE_DESAGREEMENT; // 確認用チェック if( $_POST['mail2'] === '' ) $e['mail2'] = FE_EMPTY; elseif( $_POST['mail'] !== $_POST['mail2'] ) $e['mail2'] = FE_DESAGREEMENT; // お問い合わせ内容確認？ if($list=='お問い合せ内容をお選びください') $e['list'] = true; // 内容 if($content=='') $e['content'] = FE_EMPTY; ?> <?php if( in_array_denial( $e, 0 ) ) : ?> <p align="center"><font color="#cc3333">入力内容に誤りがあります。※印の項目は必ずご記入ください。</font></p> <?php else : ?> <p class="text4">以下の内容で送信しますか？</p> <?php endif; ?> <table class="table margin01" width="592" border="0" cellpadding="0" cellspacing="0"> <tr> <td width="190" align="left" bgcolor="#FFF09D">お名前<span class="tabletext1"></span></td> <td> <?php if( $e['name'] === FE_EMPTY ) :?> <font color="#cc3333">必ず入力してください</font><br/> <?php else : ?> <?=htmlentities($_POST['name'], ENT_COMPAT|ENT_XHTML, UTF-8 )?><!--値を埋め込む場合は必ずサニタイズを行う--> <?php endif;?> </td> </tr> ・・・ <?php if( in_array_denial( $e, 0 ) ) : ?> <p align="center" class="margin01"><a href="..." value="戻る" onclick="history.back()"></a></p>'; <?php else : ?> <form method="post"action="thanks.php">'; <input type="hidden" name="name" value="<?=htmlentities($_POST['name'], ENT_COMPAT|ENT_XHTML, UTF-8 )?>"> <input type="hidden" name="mail" value="<?=htmlentities($_POST['mail'], ENT_COMPAT|ENT_XHTML, UTF-8 )?>"> <input type="hidden" name="mail2" value="<?=htmlentities($_POST['mail2'], ENT_COMPAT|ENT_XHTML, UTF-8 )?>"> <input type="hidden" name="list" value="<?=htmlentities($_POST['list'], ENT_COMPAT|ENT_XHTML, UTF-8 )?>"> <input type="hidden" name="content" value="<?=htmlentities($_POST['content'], ENT_COMPAT|ENT_XHTML, UTF-8 )?>"> <p align="center" class="margin01"><a href="..." onclick="history.back()"value="戻る"> <input type="submit"value="ＯＫ"></p> </form> <?php endif; ?>
element を使って、表示用テンプレート分割みたいなことが出来るようですけど。 参考　cakephp マニュアル http://book.cakephp.org/1.3/ja/view/1081/エレメント
サンプルのURLです。 参考にしてみてください。 参考URL：http://ameblo.jp/code225
・srandを使ってますか? → 使っているなら、srandに与える種が数分単位でしか変化しないものとかはないでしょうか? randやmt_randは疑似乱数と言って、実際には計算から求めた値で、srandに指定する値が同じだと、同じ乱数列になります
「PHP マニュアル 演算子」でググるとよいでしょう http://www.php.net/manual/ja/language.operators. … 「結合代入演算子」というらしいです
こんにちは。 <frameset>の記述を確認しました。 src属性の値をシングルかダブルコーテーションを忘れている以外は問題ありません。 変数$psw、$id は定義されていますでしょうか？ 私が試した環境では、変数が未定義のためエラーページが表示されました。 変数を定義したら表示されました。 追伸： おそらくユーザ認証で使うであろうIDとパスワードは 暗号化するのを忘れないようにしましょう。
カレントの意味を誤解してる気がするんですが。 apache から呼び出された最初のファイル(たとえば /home/aaa/index.php)のある場所(/home/aaa)が、カレントで、そこから連鎖的に、次々異なるディレクトリーのファイルを読み込んだとしても、カレントは今読んでるファイルの場所ではなく、最初のファイルのある場所(/home/aaa)です。 include 先を ./ から記述すると include_path に関係なく、カレント＝最初のファイルのある場所(/home/aaa)内でファイルを探します。 よって、連鎖して呼ばれたファイル(たとえば /home/ccc/xxx.php)からみた同じディレクトリーのファイル(たとえば /home/ccc/zzz.php)を呼び出したいなら require_once( dirname(__FILE__).'/zzz.php' ); のようにして、絶対パスを作る方が、ファイル検索時間がかからない分、速いです。 .htaccessで指定するなら php_value include_path="/home/ccc" のように、その .htaccessが置いてあるディレクトリーの絶対パスのみを指定して 該当ディレクトリー内のファイルから呼び出すときは、先頭に ./ を付けないでファイル名またはサブディレクトリー名からのみ記述します。 require_once('zzz.php')
ここが参考になりますかね。 http://www.phppro.jp/school/phpschool/vol6/1 postの処理をどう判定するのかどうか書いてあります。 若干異なるのは、質問者さんは次の画面で入力チェックを行いたいと言う事ですが、 参考サイトは遷移前で入力チェックを行っています。 入力するたびに次画面に遷移してエラーであれば戻ると言うのは あまりよろしくないかと思いますが…。
＞10進数の数字として扱う方法は別にないのでしょうか？ ない ＞例えば「０１２３」の値を「１２３」として扱いたい！という時などが今後あるかもしれません そんな可能性はない 今回の命題は定義の問題なので、たとえば「+」という記号で減算したいのですが どうしたらいいの？レベルの質問です。 どうしてもというなら質問の中身にあるとおり文字列として処理するしかありません。 <?PHP $a = (int) "0123"; print $a; ?>
global $wgDirectoryMode; の後にumaskを実行したらどうでしょうか？
mediawikiのプログラム自体をあまりいじりたくない場合、プログラム中のアップロード保存処理前にumaskを使う手もありますね。 umask(0022); 参考URL：http://php.net/manual/ja/function.umask.php
こんにちは。 すべてのアクションで同じタイトルにする場合、beforeFilterメソッドを使えば実装できます。 function beforeFilter() { $this->set("title_for_layout", "タイトル"); } 参考URL：http://book.cakephp.org/1.3/ja/The-Manual/Develo …
OSは具体的になんでしょう？ sedやらawkやらUNIXコマンドが実装されていると考えてよろしいのですか? シェルはなにを前提にしていますか？ またコンソールの表示文字数や行数の限界は規定されているのでしょうか？ 桁あふれしたときはどうする予定でしょうか？
printf以外はwhileの外に出す $sql = mysql_query('SELECT `市区町村`, COUNT(`市区町村`) AS `count` FROM `estate` GROUP BY `市区町村`'); echo '<table border="1" cellspacing=0 cellpadding=5 width=780><tr>'; $i=1; while ($row = mysql_fetch_object($sql)) { printf('<td>%s(%d)</td>', $row->市区町村, $row->count); if($i==4){$i=1; echo "\n</tr>\n<tr>\n"; }else{ $i++; } } echo '</tr></table>';
printf('<input type="radio" name="市区町村" value=%s />%s(%d)', $row->市区町村, $row->市区町村, $row->count);
セッションなんて使ってないから外してるかもですが、 メッセージから判断すると/var/lib/php/session/ディレクトリに 書き込み可能なパーミッションが設定されてないってことらしいです。 666か777にchmodしてみてはいかが？
同じインターフェースを実装したクラスは同じ変数にキャストすることができます。 クラスは違うがある処理をする同じ名前のメソッドを実行する場合に、この特徴が必要になります。 定義済みのCountableインターフェースを利用した例をあげます。 Countableインターフェースはcount()メソッドの実装を義務づけています。 １つめのインターフェース実装クラスCounterAは、 setCountメソッドで設定された値をcount()メソッドでリターンします。 class CounterA implements Countable { private $cnt = 0; public function setCount($cnt) { $this->cnt = $cnt; } public function count() { return $this->cnt; } } ２つめのインターフェース実装クラスCounterBは、 データベースから取得したあるデータの件数をcount()メソッドでリターンします。 class CounterB implements Countable { public function count() { return データベースから取得したあるデータの数; } } ２つのインターフェースを実行するクラス CounterAppを次のように定義します。 class CounterApp { private $obj; public function setCounter(Countable $obj) { $this->obj = $obj; } public function execute() { echo $this->obj->count(); } } CounterAppクラスのsetCounterメソッドの引数にCountableインターフェースを指定しています。 Countableインターフェースを実装しているクラスであれば引数に渡すことができます。 呼び出しは以下のようになります。 $app = new CounterApp(); $counter = new CounterA(); $counter->setCount(10); $app->setCounter($counter); $app->execute(); $counter = new CounterB(); $app->setCounter($counter); $app->execute(); 同じ抽象クラスを実装していても、サブクラス同士のキャストはできません。 また抽象クラスは、インスタンスを作成できないので変数の型には使用できません。 参考URL：http://www.php.net/manual/ja/class.countable.php
Standard PHP Library (SPL) このエクステンションは、PHP 5.0.0 ではデフォルトでコンパイルされ利用可能です。 注意: PHP 5.3.0 以降では、このエクステンションは無効化できなくなります。 つまり、常に使用可能となります。
こんにちは。回答者No.2です。 すみません。質問を誤って認識していました。 (1) の書式の日時を (2)、(3)の書式に変換して出力するのですね。 次の方法で実装しては如何でしょうか？ $date = date_parse_from_format("d/M/Y:H:i:s", "5/Nov/2012:04:02:49"); echo(date("Y/m/d H:i:s", mktime($date["hour"],$date["minute"],$date["second"],$date["month"],$date["day"],$date["year"]))); echo(date("YmdHis", mktime($date["hour"],$date["minute"],$date["second"],$date["month"],$date["day"],$date["year"])));
#1さんの回答通りなのですが、もう少し噛み砕いて書きます。 MySQLへのアクセスはすべてPHPを実行しているソフトウェアの権限で行うのが普通です。よって、誰に読み書きの権限を与えるかというのはすべてプログラムが読めるデータベース上に置いてあり、プログラムの中でそれを元に表示をしたり、アクセス禁止を伝えたりすると思います。 当然、ログインに使うパスワードなどもDB上に置きますが、通常は暗号強度のあるハッシュ関数を通したハッシュ値を置くと思います。ナイーブに作るとアタックの時の探索空間が狭くなるので、ランダムな値をsaltとしてつけて計算するのが普通です。自分だったらCRYPT_SHA256が使えるならそれで計算しますね。DESやMD5は今や昔という感じがしますし。 http://www.php.net/manual/ja/function.crypt.php この場合の実装では、member、commentの他に最低でもgroupというテーブルとaccess_control_listというテーブルがあったほうが良いでしょう。groupというテーブルではどのメンバーがどのグループに属しているかを示し、access_control_listではどのグループがどのcommentを読めるかを示します。コメントを書くときにどのgroupに見せるかを設定すると自動的にaccess control listが設定されます。また、別のところでgroupの追加・削除もできるようにします。利便性を考えるとグループ名のテーブルも作り、UIではグループ名を見せるようにしたほうがいいですね。
foreachがわかって足し算がわからないというのが不思議ですが、質問に文字通り回答すると、 $sum=0; foreach ($data as $key=>$va){ $sum+=$key; } $sum=0; foreach ($data as $key=>$va){ $sum+=hoge($key); }
こんにちは。 次の方法はいかがでしょうか？ １．入力画面で埋め込んだ重複しない文字列を処理チェック用文字列として保持する。 ２．完了画面に移動した時に、セッションに保持した処理チェック用文字とリクエストの処理チェック用文字が一致しなければ登録処理を行う。 ３．登録処理後に、その文字列をセッションに保持する。 以下は、その実装サンプルです。ご覧ください。 ＜PHPファイル１＞ １．入力画面表示 ２．PHPで登録処理チェック用の非表示データ埋め込みを行う。 ３．JavaScriptでボタン２度押し防止処理を実装する。 <html> <head> <meta http-equiv="Content-Language" content="ja"> <meta http-equiv="Content-type" content="text/html; charset=utf-8"> <title>q7810942-Input</title> <script type="text/javascript"> function onSubmit() { document.forms[0].action = "q7810942-02.php"; document.forms[0].submit(); document.getElementById("go").disabled = true; return true; } </script> </head> <body> <h3>Input Page</h3> <form action="javascript:onSubmit();"> <input type="hidden" name="token" value="<?php echo(date("YmdHis")); ?>" /> <input type="submit" id="go" /> </form> </body> </html> ＜PHPファイル２＞ １．データ登録処理 ２．完了画面表示 <html> <head> <meta http-equiv="Content-Language" content="ja"> <meta http-equiv="Content-type" content="text/html; charset=utf-8"> <title>q7810942-02</title> </head> <body> <h3>Complete Page</h3> <?php session_start(); echo("REQUEST: ".$_REQUEST["token"]."<br>"); echo("SESSION: "); if (isset($_SESSION["token"])) { echo($_SESSION["token"]); } echo("<br>"); if (!isset($_SESSION["token"]) || $_REQUEST["token"] != $_SESSION["token"]) { // DBインサート処理 echo("DBインサート処理実行<br>"); $_SESSION["token"] = $_REQUEST["token"]; } ?> </body> </html>
<?php $m = ''; if(isset($_POST['NAME'])){ $m = $_POST['NAME'] === '' ? '<strong style="color:red">必ず入力してください。<strong>' : ''; } echo <<<__HTML__ <form action="." method="POST"> <table> <tr> <td>名前<strong style="color:red">＊必須</strong></td> <td><input type="text" name="NAME" value="${_POST['NAME']}"/>${m}</td> </tr> </table> <p><input type="submit" value="送信"/></p> </form> __HTML__; ?>
もしかして、Mac使ってますか? http://ja.wikipedia.org/wiki/%E3%83%90%E3%83%83% … Macで使う場合、円マークとバックスラッシュは別になっているケースが多いです。 その場合はOptionと一緒に押すとバックスラッシュになります
JavaScriptライブラリのビルドというのは、一般的なコンパイラ系プログラミング言語のビルドとは全く違います。JavaScriptというのは、スクリプトをテキストとして用意し、それを読み込んで動かします。つまり、ライブラリはテキストファイルでないといけないわけです。C言語みたいにバイナリファイルにコンパイルなんかしたら読めないわけですね。 ではどうやっているのかというと、「余計なものを取り除き、ぎりぎりまで切り詰めて短いテキストにしている」ということです。例えば、変数名hogeなんてのは４文字も使っているからhに変える、とか。改行や半角スペースは無駄なのですべて削除するとか。関数やメソッドも公開されていないものはわかりやすい名前である必要がないので記号のような短い名前に置き換えるとか。そうやってスクリプトが正しく動くぎりぎりまで長さを短くしたものが、jquery.○○.min.jsです。付属のスクリプトは、この変換処理をするためのものです。 同時に、minのつかない、jquery.○○.jsというファイルもjqueryのサイトで配布されています。こちらは、そうした圧縮をする前の状態です。普通のスクリプトですので、中を開けば普通に読めます。修正するならこちらに手を加える形になるでしょう。もちろん、どちらも内容的にはまったく同じものです。ただしファイルサイズはかなり違います。ですので、ファイルサイズの違いをあまり気にしないのであれば、そのまま圧縮せずに使ってもまったく問題はありません。サイズを小さくするのは、単に読み込みを早くするためです。アルゴリズム自体は同じなので、スクリプトの実行速度は、普通に使う分にはほとんど違いがわからないはずです。
それなら元々作成されていたものがほぼ正解に近いです。 (当然ながら、spanの属性の書き順などには依存しますが) 主な誤りは、セミコロン、$1とするパターン範囲です。 まず、パターンからclass属性内のセミコロンを外しましょう。 $1は、初めに優先、つまり「(」が現れたグループを対象とするので、 今回の質問内容だと、<span class=\"blue;\">(.*?)<\/span>で マッチした部分になってしまいます。 <span>～</span>の中身を欲しいわけですから、$2とすれば良いです。 また、今回の場合だと、<span>～</span>は全て必要なわけですから、 (<span class=\"blue;\">.*?<\/span>) とした上で、置換文字は$1とすれば良いです。 (?<=)は肯定戻り読みです。 (?<=)で指定した文字列がマッチする次の文字から、残りのパターンを調べ、 マッチする文字列を取り出します。 肯定戻り読みで指定した部分は取り出し対象になりません。 肯定戻り読みの中では可変文字長の指定はできません。.*とか.{3,}とか。
次のページを参考になさっては如何でしょうか。 参考URL：http://creazy.net/2010/09/howto_setup_social_med …
こんにちは。 変数にはNULLの他に空文字が代入されている可能性があります。 条件分岐式はNULLかどうかだけ確認するのではなく、 trim 関数を使って空文字かどうかもチェックしなければなりません。 ＜実装例＞ if ( is_null($a_2) || trim($a_2) == "" ) { }
本来であればforeachに投入する配列が事前にきちんと宣言されているか 検証するルーチンを組み込むものです そうでない場合はerror_reportingのレベルをさげる手もありますが これは他の処理が影響をうけるのでおすすめできません。 とりあえず foreach($a as $b){ ・・・ 的な表記が該当するphpの414行目にあると思うので foreach((array) $a as $b){ ・・・ というような明示的な処理にすれば当座しのげるかと
データはMysqlというデータベースサーバーの管理するデータに保管されていますのでwebスペースには存在しません。 Mysqlにアクセスしてsqlやcsvといったテキストファイルに変換して出力することは可能です。
headerで（httpレスポンスとして）Locationヘッダを返せばいいのでは？ switch ($Score) { case 0: header('Location: http://www.example.com/test0.html'); break; case 1: header('Location: http://www.example.com/test1.html'); break; case 2: header('Location: http://www.example.com/test2.html'); break; }
1さんの方法が柔軟性があり最適ですが ただ分解した後もう一度くっつけるだけならimplode()でも済ますことができます。 $word = 'あいう えお かきく けこ'; $word_2 = explode(' ', $word); echo implode('',$word_2);
/%postname%.html とかすればいいと思います。 %post_id%は記事番号ですから変更不可です。 記事編集画面でパーマリンクを自分で変更できるようになります。 尚、%postname%は同じものは2つ存在できない（ユニークネーム）なので気を付けてください。
phpでは画面の読み込み完了後に処理はできませんから、クリックをカウントするphpファイルにリンクする <a href="count.php?video=VhtIydTmOVU" rel="vidbox 600 400" title="caption">our video1</a> ※count.phpでカウント記録した後ビデオにリダイレクトする あるいはAjaxを使ってphpにデータを送ってからyoutubeに飛ばす。 <a href=" rel="vidbox 600 400" title="caption"　onclick="ajaxClick('VhtIydTmOVU')>our video1</a> <script language="javascript"> <!-- function ajaxClick(vid){ var xmlHttp; xmlHttp = new XMLHttpRequest(); xmlHttp.open("GET", "ajax.php?video="+vid, false); xmlHttp.send(null); location.href='http://www.youtube.com/watch?v='+vid; } //--> </script> ※ajax.phpに$_GET['video']を使ってカウントを記録する処理を書く
先ほどの説明ですが while($row = mysql_fetch_array($dyn)){ でなく while($row = mysql_fetch_assoc($dyn)){ でした mysql_fetch_array = 通常の配列で取得 mysql_fetch_assoc =　連想配列で取得
<?php if ( is_single() )?> はいらない気がしますが。 <title><?php wp_title(); bloginfo('name'); ?></title>
（相互リンク） http://detail.chiebukuro.yahoo.co.jp/qa/question …
!isset($hoge)　ですから、$hoge がセットされていない時に TRUE になりますよ。 なので、今の動作が正しいと思います。
bloginfo('name')がサイト名、　wp_title();が記事タイトルです。 <title><?php if ( is_single() ) { ?> &raquo; Blog Archive <?php } ?> <?php wp_title(); ?> &raquo; <?php bloginfo('name'); ?></title>
元のPHPファイルがUTF-8で、UTF-8→UTF-8の場合はなんら変換されないのはご記載のとおりですが、SJIS→SJISの場合でも、SJISとは判定されない文字（UTF-8で書いてあるんですから）については変換の対象外と判定されて、元のUTF-8のままで出力されたものと思います。 EUC-JPの場合は、たまたまEUC-JPとも解釈できる文字だったので、実はUTF-8であるにもかかわらずEUC-JPと見なされて、それがEUC-JPで出力され、文字化けになったものでしょう。
マスの幅を指定したいということですか？ それは施設名などの項目名のtdにwidthを指定するか<th>を先に挿入してそれで指定するかですね。 echo '<tr><td width="25%">施設名</td>'; echo '<td width="25%">費用</td>'; echo '<td width="25%">交通</td>'; echo '<td width="25%">所在地</td></tr>';
以下簡素化したPDOサンプルです。 今のコードに合わせてカスタマイズしてみてください。 <?php #以下データベース名、ユーザー名、パスワードをセット $dbname=''; $username=''; $password=''; #PDOのデータベースオブジェクト作成 $db = new PDO("mysql:host=localhost;dbname=".$dbname,$username,$password); #$dbを使って結果セット取得 $sql="SELECT * FROM estate WHERE 価格 BETWEEN $price1 AND $price2 AND 駅距離1 BETWEEN $minute1 AND $minute2 AND 市区町村 ='$area1'"; $res=$db->query($sql); $rows=$res->fetchAll(PDO::FETCH_ASSOC); #結果セットを使ってリスト出力 foreach($rows as $r){ echo $r['施設名'].' '.$r['価格'].' '.$r['交通'].' '.$r['所在地']."<br />\n"; } #合計件数出力 echo '<br />合計'.$res->rowCount().'件です';
他の方が書いてるようにDBを使うのが正攻法ですが、テキストでなくphpファイルで配列の状態で書く方が読み込み後の評価、変換処理が省かれるのでやや速いです。 ちなみにrequireの方が速いです。（ただし2度読みしないようなロジックにしてください） 1000以上のレコードはテキストで処理するには多いですが、テキストファイルで管理されてるBBSもあるくらいですから非現実的ともいえないですね。
aaaa_aaaaaaaa@docomo.ne.jp でならそのコード正常に動作しますけど。 フォームの方でinputにsize設定してデータが切り取られたりしてませんか？ phpの方で受け取った$emailをechoするなりして確認してみてください。 echo 'Email: '. $email; if (trim($email) == '') { $error[] = 'メールアドレスは必須項目です。'; } else { $pattern = '/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/iD'; if (!preg_match($pattern, $email)) { $error[] = 'メールアドレスの形式が正しくありません。'; } }
順位のカラムが1、２、３...としたいのですか？ 詳しくは調べてないですが順位のカラムに代入しているものが間違ってませんか？ それでは1、２、３..とはならないと思いますが。 まずは順位のカラムを使い捨てで後付すればいいんじゃないかと思います。
2です。 test.phpのまま3回読み込めば同じ内容が出る可能性が高いですね。すいません。 ヘッダを300番台で転送すればtest.phpだけで行けるかもしれませんね。 本来は１さんも言ってるようにajax等javascriptで処理すべきだと思いますが。
ソース自体には問題がないと思います。 多分Apacheの設定が上手くいっていないと思います。 まず、前提としてOSはWindowsとして話を進めます。 xamppをインストールしたフォルダーのhttpd-xampp.conf又は httpd.confのバックアップを取っておいてから 適当なエディタで開いてください。 LoadModuleの冒頭部分が#でコメントアウトされているかもしれません。 #LoadFile "C:/xampp/php/php5ts.dll" #LoadModule php5_module "C:/xampp/php/php5apache2_4.dll" そうなっていた場合、以下のように#を削除してください。 LoadFile "C:/xampp/php/php5ts.dll" LoadModule php5_module "C:/xampp/php/php5apache2_4.dll" インストールした場所がデフォルトでない場合は読み替えてください。 それと、拡張子の紐付けができていないかもしれませんので、 なければ以下を追記。又は#がついていれば上のように外す。 <IfModule mime_module> AddType text/html .php </IfModule> <FilesMatch "\.php$"> SetHandler application/x-httpd-php </FilesMatch> 上記作業が終われば、保存してサーバのリロード又は再起動をします。 そして、ブラウザを起動してください。 余談ですが、No.2さんの言っていることは間違いです。 >echo $_POST['title']; でも表示されます。但しXSSの問題がありますが、それは別の話ですね。 参考URL：http://www.adminweb.jp/xampp/php/index3.html
まだオピニオンが出てないようなので、、、、 いわゆる日本的な掲示板じゃないですが世界的にはphpbbあたりがメジャーです。 ただフォーラムなど運営できる多機能さなので通常の掲示板にはオーバースペックかもしれません。
他の方の言ってるようにjavascritp等でページを戻すのがいいんじゃないでしょうか。 以下のように半ば強制的に戻して余計なことをさせないようにするのも手かと思います。 <html> <head> <script language="javascript"> <!-- alert('名前が未入力です。入力してください。'); history.back(); //--> </script> </head> <body> </body> </html>
Ghostscript がアップデートできればそれで解決できそうな気もしますが、できそうですか？
<form action="abc.php" method="post" > <input type="text" name="ord[name]" size="30" VALUE=""> <input type="text" name="ord[company]" size="30" VALUE=""> であれば nameは$_POST["ord"]["name"] companyは$_POST["ord"]["company"] で拾えばよろしいかと
PCにサーバーソフトをインストールすれば１台で検証できます。 PHPでお金を取るには、お客さんが求めることに対応できるかどうかです。 １．お客さんは当然素人なので、こんなことができるかできないかいろいろ聞いてきます。 　　それに即座に返事できなければ、お客さんが心配になり他の人に頼むことになります。 ２．後から、できてからいろいろ変更を言ってきます。 　　PHPでできるけど、自分ではどうしていいか分からないということがしばしば発生します。 　　ごまかせるお客さんには対処できますが、他の人に聞いてできるはずだといわれたら 　　お金を払ってくれない可能があります。 ３．作り方が悪くて、動作はするけど、不正アクセスの温床になり、迷惑がかかり 　　最悪損害賠償をもとめられたり、返金を求められたりする心配があります。 つまり、プロ（お金を取る）の場合、なにかができるということに加えて、予期しないいかなるトラブルに対処できるかどうかで決まります。
＞クライアントから、あるサイトを管理できるか聞かれています。 クライアントに聞くのが一番 かりにCMSだと思って受けて独自システムだったら目の当てようもない 逆に独自システムだと思ってバカ高い見積もりだしたら、単純なCMSでした ああ、あそこはぼったくりだから今後の取引は他で・・・というパターンもありえます 逆にクライアントからの技術力を見極めるテストだと考えれば パターン分けをした回答をするのが大人の対応かも
<?php $ary[0][0]="ABC"; $ary[0][1]="DEF"; echo "(1)".$ary[0][0].",".$ary[0][1]."<br>\n"; echo "(2){$ary[0][0]},{$ary[0][1]}<br>\n"; ?> (1)の方がいいけど、(2)でやるなら{$変数}
Web制作に関するスタンスで方向性は変わると思います。 Webを運営すること、あるいはWebサービスやテクノロジーについて探究心があるのであれば浅く広くオールマイティータイプあるいはプログラマ寄りでphp、Javascritptをある程度のレベルで習得したほうがいいでしょう。 Linuxに関しても多少触れるようになった方がいいです。 デザイン指向（あくまでWebとして、グラフィックデザインでなく）に重きを置くであれば、プログラマとの分業での能力が必要とされると思います。 まずデザインするときにページがプログラムで動的に変化するロジックを理解しながらデザインできることが必要です。 ただ平面デザインの様にデザインして「はいこれ」みたいなデザイナがよくいますが、これどうやってパーツに分解するんだ？みたいなhtmlコードの場合があります。 プログラマがたやすく分解できる、あるいは分解して渡せるデザインのできる人は優秀です。 phpは大部分はバックエンドの処理なので主にプログラマの担当ですから、基礎ぐらいでいいと思います。 Javascritptが出来ればインターフェィスの部分をある程度任せられるし、phpを完全に理解できてなくてもajaxで接続するphpの入りと出の部分だけでも多少理解できれば分業がスムーズになります。 どちらにしてもIT業界からプログラミングという作業が必要なくなることは当分ないでしょうからデザインがらみも事も含めてWebデザイナにはプログラミングの基礎は必須だといえると思います。
設定画面に書かれているとおり、 >>PHP言語の設定変更はすべて【上級者向け】です。 >>言語に関する仕組みが理解できない場合は「標準」のままでご利用ください。 ということです。「そのまま」使っても問題ありません。
>セッション変数にパスワードを保持しても良いのでしょうか？あのーーーーーー。もしかしてDBの方にもパスワードそのまま保存しているのか? それセキュリティーを考えるなら絶対にやっちゃ駄目な手法だぞ。 DBの方にはパスワード文字列から生成したハッシュを保存するんだよ。 でもちろんセッション側もパスワードのまま保持なんてしない。ハッシュを保持する。 >生成した予測不能な文字列（セッションキー？）が破られたらどうしようもないので それの心配するならワンタイムセッションくらい使えよ。 >あるいは、セッション変数には必要最低限なもの、もしくはセキュテリティに関係ないもの じゃあパスワードのハッシュも一応セキュリティーに関係するけどそうすると今度は ログインユーザに対してどうやって確認処理をする?
(1)専用のインデックスをつくっておく (2)文字ごとにgrepをしてヒット数に係数をかけるような仕組みにする のどちらかがよいかなと。 分かち書きした文字面だけで評価すると「優れるとは思えない」的な 表現が正しく評価されないような気がしますが・・・
状況がよくわかりませんが、とりあえずajaxが必要かも？ いい機会ですから学習してみては？
ANo.1です。 >ここで、ユーザの入力に対して、 >「もじ」があれば 「もじ」のチェックを書き漏らしました（汗 ＃まぁ、$textをチェックして処理すればいいだけなので ＃簡単に組み込めるでしょう でも「あれば」というのが完全一致なのか部分一致でも含めるのか仕様として明確にしておかないといけません（普通は部分一致だと解釈してstrposあたりでチェックしますね）。 （蛇足） 「ユーザーの入力に対して」という意味ががわかりません。入力（$_POSTや$_GET）が見当たらないのですが・・・。テキストファイルのデータが「ユーザーの入力を保存したもの」という意味で書かれたのでしょうか？
相互リンク http://detail.chiebukuro.yahoo.co.jp/qa/question …
RTFM. http://dev.mysql.com/doc/refman/5.1/ja/select.html
IE6を考慮しなくていいならcssで済むと思いますが。 ***に入れたいブロックのサイズ指定してください。 <img src=\"$array_img[$i]\" style="max-width:***px;max-height:***px;">
画面の偏移(urlが同じ)なら基本的にjavascriptを使ったajaxが必要になります。 他にはiframeで他のphpを埋め込むとか変則もありますが、セキュリティがらみでトラブる場合が多いので。 <html> <head> <script language="javascript"> <!-- function ajaxFn(elm){ var ajaxtext = encodeURIComponent(elm.value); var xmlHttp; xmlHttp = new XMLHttpRequest(); xmlHttp.open("GET", "ajax.php?text="+ajaxtext, false); xmlHttp.send(null); document.getElementById('ajaxmessage').innerHTML=xmlHttp.responseText; } //--> </script> </head> <body> <form name="form" method="post"> <input type="text" name="key" id="ajaxkey" value="" onchange="ajaxFn(this);" /> <input type="submit" name="submit" value="送信" /> </form> <div id="ajaxmessage"></div> </body> </html> これで ajax.phpで受け取った$_GET['text']を加工して送り返すメッセージをechoします。 ajaxmessageのdivにメッセージが表示されます。
mysql_num_rowsはクエリを実行した結果セットの行数です。つまり列名rowsに値として9が入っている1行だけです（count()をselectしていますから当然ですね）。 どの関数がどういうものを返すのかはマニュアルを読めば書いています。熟読すればこういう間違いはあり得ません。 select count(*) as rows from　・・・　というSQL文を実行したのであれば、 if ($row = mysql_fetch_array($result)) { $rows = $row['rows']; } else { die('cannot fetch data'); } です。 mysql_num_rowsを使うなら、SQL文は「select * from ・・・」です（全部の結果セットを得て、その行数を調べます）。 なお、mysql_queryが返すのはリソースIDですから$resultという変数名には違和感があります。またネイティブなMySQL関数は（マニュアルに記載があるとおり）すでに非推奨です。今から覚えるならMySQLiもしくはPDOを使ってください。
ANo.3です >これは単純に、<html></html>や<body></body>タグを消して、 >phpの部分と<form></form>のみ書いてそれをincludeするということでしょうか？ いいえ。開始タグまで消してしまってはダメです。 前の回答でも書きましたが、今現在どういうhtmlソースがブラウザに返っているか（ブラウザの「ソース表示」で）確認されましたか？ そして「どういうhtmlソースを返せばいいか」をちゃんと設計してからphpソースを書いてください。返すhtmlが（ブラウザがどうレンダリングするかはひとまず置くとしても【正しい】htmlが）書けない状態でphpスクリプトを書くことはできません（php以前の問題です）。
the_permalink() は「記事のパーマリンクを出力」する関数です。呼び出し側にパーマリンクの文字列を返す関数ではありません（いわゆるfunctionではなくprocedure的な用途です）。 http://wpdocs.sourceforge.jp/%E3%83%86%E3%83%B3% … the_title() も同様です。 なので、最初にあった <a href="<?php the_permalink( ); ?>"><?php the_title(); ?></a> のような記述になります。どうしてもechoしたければ（全部phpモードで書きたければ） echo '<a href="'; the_permalink( ); echo '">'; the_title(); echo '</a>'; のようになります。
＞htmlで書かれている部分もすべて表示されなくなる いや、だからwhileが回らなければhtmlも表示されないでしょう？ <?PHP $count=0; while($count<5): $count++; ?> test1<br> <?PHP endwhile; ?> test2<br> <?PHP while(false): ?> test3<br> <?PHP endwhile; ?> test4<br>
まず、回答としては不可 これはPHPの基礎というより、サーバスクリプトやHTTPの基礎ですからきちんと習熟しておいたほうがいいです。 クライアントではただ単にHTMLをHTTPで受信して表示しているにすぎません。 動的といっても、コンテンツを動的に生成するのはサーバです。クライアント側では静的HTMLと動作は変わりません。 もしクライアント側ノードで何か動作させたいのであれば、そちら側で何かしらのスクリプトを動作させる必要があります。 ブラウザであればJavaScriptですし、ActiveXなども基本的にはそういった技術です。 もちろん、そのためには別途スクリプトを動作させる必要がありますし、クライアントで起動させるために何かしらの方法を取ることになります。 もちろんできることに制限はありますし、セキュリティによる制限もあります。
>IDを入力する前に画像をアップロード >しようとするとID、fileの入力チェックを行ってしまうため、 >アップロード（うまく出来たと記憶しています。）と同時に >エラーメッセージも表示されてしまうため、 もし本当にそういう動作になっていたとしたら、JavaScriptのチェックが間違っています。return falseすればsubmitしませんので、アップロードされません（phpに引き渡すPOST自体が発生しない）。submitしているのであれば、JavaScriptがおかしいです。 もちろん（前述のとおり）JavaScriptが動作しなくても「キチンとしたエラー処理を行う」ようにphpを作成するのが基本です。
おっと。失礼。 $sql = sprintf("update `member_syb_tbl` set " . implode(',' ,$set) . " where `ID` = '%s'", mysql_real_escape_string($ID)); ですね。 とりあえず $set = array(); foreach ($classID as $val) { $set[] = '`' . $val . '` = 1'; } print implode(', ', $set); で出力した内容がupdate文でセットしたい内容になっているか確認すればいいと思います。
$tel=isset($_REQUEST["tel"])?$_REQUEST["tel"]:""; $pattern="/^検索条件$/"; if($tel!=="" and preg_match($pattern,$tel)){・・・;} と条件設定するか $tel=isset($_REQUEST["tel"])?$_REQUEST["tel"]:""; $pattern="/^検索条件$|^$/"; if(preg_match($pattern,$tel)){・・・;} みたいなチェックをする。
var_dump("SELECT COUNT(id) AS rows FROM `account` WHERE name = $_SERVER [ 'PHP_AUTH_USER' ] AND password = 'abc'"); で出力されるSQLを確認すると取得できない原因が判ると思います。 "SELECT COUNT(id) AS rows FROM `account` WHERE name = '" . $_SERVER['PHP_AUTH_USER'] . "' AND password = 'abc'" こちらでいかがでしょうか。
$sql ="select * from `member_sub_tbl` where `ID`='$ID'"; $result = mysql_query($sql, $con); $nameFields = array(); while ($row = mysql_fetch_array($result, MYSQL_ASSOC)) { 　$fieldArray = array(); 　　foreach($row as $key => $value){ 　　　if($value == 1){ 　　　　$fieldArray[] = $key; 　　　} 　　} 　$nameFields[$row['ID']] = $fieldArray; } print_r($nameFields); こんな感じでよろしいかと。 （インデントのために全角スペース使っています） IDが「40」の列の値が「1」のカラム名を求めたいのであれば、 $nameFieldsのキーが40の値が列名の入った配列になると思います。 動作確認してないのでエラーになったら申し訳ないです。
<?php $str = $_SERVER["REMOTE_ADDR"]; $str_md5 = substr(md5($str), 0, 30); $date_md5 = substr(md5(date("Y-m-d")), 0, 20); $key_md5 = substr(md5("samplekey"), 0, 10); $id_md5 = md5($str_md5 . $date_md5 . $key_md5); $id = substr(base64_encode($id_md5), 0, 8); echo $id; ?> IDを作成して表示するサンプルです。 参考URL：http://memorva.jp/memo/php/2ch_id.php
ユーザーの権限が書かれている「mysql」のuserテーブルやhostテーブルの 情報が壊れたもしくは上書きされたということはありませんか？ phpMyAdminから確認できると思うので一度みてみては？
PHPの連想配列を使用すれば実現出来ると思います。 このへんのサイトを参考に、勉強してみてください。 参考URL　http://c-brains.jp/blog/wsg/08/04/14-192257.php
ＰＤＦもePUBも専門では有りませんが、ＰＤＦからテキストデータのみを抽出するＣＧＩをperlで作成したことがあります。 自分の経験した範囲では、万能なものを個人で作成するのは無理です。 ＰＤＦは基本的に組下印刷用（画像）データであって、組版データではないからです。 例えればすき焼きから、生肉や白菜、しらたきなど、材料を分解抽出するようなものです。 家庭用スキャナなどで取り込んで生成したＰＤＦを例にすると、それは単なる画像データでしかなく、そこからテキストを取り出すにはＯＣＲソフトの力を借りなければいけませんし、画像は境界線が明白でなければページから手動で切り離す必要があります。 その時点でＷｅｂサイト云々って言うのは困難ですから・・・。 透明テキストが付いてるＰＤＦならテキストを抽出するくらいならできるかと思います・・・「参考："透明テキストPDFとは"で検索してみてください」。 蛇足ですが、ＰＤＦの仕様に関するリンクを参考ＵＲＬにつけておきます。 夢も希望も無いような回答でスイマセンがＰＤＦを加工するよりは、なにかをＰＤＦにすることなら望みは有るでしょう。 参考URL：http://www.adobe.com/jp/devnet/pdf/pdf_reference …
逐次実行される場合でも、 関数を書いてある部分はあくまでも定義であって、読み込み中に実行されるわけではありません。 function roop($i){ では$1の値が確定していませんので、実行しようが無いのです。 最後の roop(1); で引数が確定するので、ここで初めて実行されます。 No.3で書かれているように、ローカル変数が使えないと再帰関数は難しいでしょうねえ。 やっぱり変数のスコープが需要なのでしょう。 いろいろなスクリプト言語で逐次実行環境があるはずですが、Rubyにはirbというのがあります。 一行入力すると結果が出力されます。 関数を入れると当然ですが読み込むだけです。その関数を呼び出したときに初めて答えがでます。 逐次実行のようすがよくわかります。 ループや条件分岐などもおもしろい動作をしますし、クラス定義などほぼ全ての機能が使えます。
他言語からの移植性、仕様上の関数名変更にともなう互換保持などを理由に 所定の関数につけられた別名です。 基本的にどちらかに優位性はないとされますが、いつか互換を はずされる危険もありますし、グループで作業する際にぶれたりするので 元の関数名で作業する方が賢明です http://www.php.net/manual/ja/aliases.php
><a href="<?php echo http://xxx.info/; ?>" title="<?php echo esc_attr( get_bloginfo( 'name', 'display' ) ); ?>" rel="home"> > ><a href="<http://xxx.info/>" title="<?php echo esc_attr( get_bloginfo( 'name', 'display' ) ); ?>" rel="home"> > >両方、試したのですがうまくいきません。 どちらも記述が間違っています。 前者は文字列リテラルを引用符で括っていないのでsyntax errorになりますし、後者はブラウザに返ってきているhtmlソースを確認すればURLの記述が間違っていることに気付くハズです。 <a href="<?php echo "http://xxx.info/"; ?>" title="<?php echo esc_attr( get_bloginfo( 'name', 'display' ) ); ?>" rel="home"> もしくは <a href="http://xxx.info/" title="<?php echo esc_attr( get_bloginfo( 'name', 'display' ) ); ?>" rel="home"> ですよね。
（相互リンク） http://www.phppro.jp/qa/3852
まずテーブルのバックアップをとります。 元のテーブルのデータをすべて消します。 日付にインデックスをはります。 バックアップしたテーブルからデータを流し込みます。 あとはデータ削除にインデックスがきくので範囲指定をするなり好きにしてください
>array_unshiftでnullの行を挿入する意味が分かりません・・・ おそらくはnullでも何でもいいです（どうせすぐに削除しますから）。array_unshiftで挿入したら「キーが0から振り直される」ということだけが目的だろうと思います。先頭に（値は何でもいいので）要素を挿入してキーを0,1,2・・・にしておいてから0を削除する。つまり要素の値を変えずにキーだけを1,2,3・・・の順に振り直すことになります。 bindParamなので、プレースホルダが疑問符（?）のときには1からの連番になります。単純に「配列」を渡されたときには0から付番されているのでそれを調整しているだけでしょう。
error_reportingをE_ALL ^ E_NOTICEにしてもダメでしょうか？
＞３行目に関してですが、画面から取得したメッセージを、作成した変換関数へ飛ばして いや、そうじゃなくて、どういう文字列をどう変換したいか具体的にという 意味だったんですけどね・・・ まぁ推測してhttp://からはじまりスペースかタグがきたらやめるってこと なのかなぁ・・・元コードが微妙なのでなんとも言えませんが <?PHP $pattern=array("/^/mis","/http:\/\/.*?(?=[<>\s])/"); $replacement=array("&gt;","<a href=\"\\0\">\\0</a>"); $dest=<<<eof test<br> testhttp://exsample.com<br> test<br> testhttp://exsample.com/foo/bar/test test<br> test<br> testhttp://exsample.com/foo/bar/test<span>test</span … test<br> testhttp://exsample.com/foo/bar/test/<br> test<br> eof; $dest=preg_replace($pattern,$replacement,$dest); print $dest; ?>
