SQLの上達方法もしくはSQLドリル的なガリガリ書いて覚えらる本、サイトを教えていただけないでしょうか？ 私は最近中途入社したシステム開発の会社でプログラマとして働いています。 職場ではOracleのPL/SQLとSQLを書くこと多いですが、PL/SQLは大丈夫ですが、複雑なSQLをこれから先書けるようになるために勉強しています。 ミックさんのSQL入門は学習しましたが、SQLは覚えただけではなく実際に書いて書いて書きまくって覚えらるものと考えています。 おすすめの本、サイトをご存知でしたら是非教えていただけないでしょうか。 よろしくお願いします。
サーバにOracle Cliannt12cをインストールし、PDBとユーザを作成しました。 クライアントに12cのクライアントをインストールしました。 tnsnames.otaを下記のように記述し、sqlplusで接続しようとしましたが、 「ora-12560」のエラーになり、接続できません。 ちなみにtnspingは通ります。 原因と対策をお教えください。 Oracle12cは初めてで、インストールから苦しんでいます。 よろしくお願いいたします。
お世話になります。 Oracle SQRの正式名称は何ですか？ Oracle SQRを使用するため調べているのですが、GOOGLEで「Oracle SQRインストール」で 検索すると、SQLの検索結果ばかり出てくるのですが。 まずは、Windows Server 2012とOracle12cの環境にインストールしたいので、 インストールの手順を調べたいのです。 どなたか、Oracle SQRの正式名称をお教えください。
初心者です。 DBの同じカラム直下に複数のレコードをinsertさせるにはどうすればよいかどなたか教えて頂けますでしょうか。 以下は入力フォームで入力した複数の日付を確認画面で受け取ったものです。 <table> <th>休日年月日</th> <td>2016/9/12,2016/9/14,2016/9/20,2016/9/26,2016/9/28</td> </table> 日付が一つでしたらinsertは可能ですが、複数の場合はinsertできませんでした。 複数でinsertした場合のDBのイメージは以下の通りです。 holiday(カラム名) 2016/9/12（レコード1行目） 2016/9/14（レコード2行目） 2016/9/20（レコード3行目） 2016/9/26（レコード4行目） 2016/9/28（レコード5行目） どなたか教えて頂けたら幸いです。 よろしくお願い致します。
DBを作成するときに、誰かがセッションをつないでいて うまくいかないときがあり、他の人に頼んでセッションを 切ってもらってます。 セッションを確認することが出来るツールで扱いやすいのは 何がありますでしょうか？
以下のようなテーブルがあります。 組織名/コード/備考 本社/000/ 経理部/000000/ 経理担当/000000000/ 人事総務部/000001/ 人事総務担当/000001000/ マーケティング部/000002/ マーケティング担当/000002000/ システムソリューション事業部/001/ 第一ソリューション部/001000/ 企画担当/001000000/ 営業担当/001000001/ 開発担当/001000002/ 第二ソリューション部/001001/ 企画担当/001001000/ 営業担当/001001001/ 開発担当/001001002/ 上記テーブルの「コード」は、３桁で階層を表すものとなります。 以下のような組織構造となります。 本社-経理部-経理担当 システムソリューション事業部-第一ソリューション部-企画担当 システムソリューション事業部-第一ソリューション部-営業担当 システムソリューション事業部-第一ソリューション部-開発担当 上記テーブルの「備考」欄に、「順番」を与えることによって、順番によって、「コード」を振り直したい場合、どのようにSQLを記載したらよいでしょうか？ 組織階層の親子関係は、そのまま保持したく、以下のように、「順番を指定」した結果が、「SQL実行結果」になる必要があります。 ＜順番を指定＞ 組織名/コード/備考 本社/000/1 経理部/000000/11 経理担当/000000000/12 人事総務部/000001/2 人事総務担当/000001000/3 マーケティング部/000002/9 マーケティング担当/000002000/10 システムソリューション事業部/001/4 第一ソリューション部/001000/5 企画担当/001000000/8 営業担当/001000001/6 開発担当/001000002/7 第二ソリューション部/001001/13 企画担当/001001000/16 営業担当/001001001/15 開発担当/001001002/14 ＜SQL実行結果＞ 組織名/コード/備考 本社/000/1 人事総務部/000000/2 人事総務担当/000000000/3 マーケティング部/000001/9 マーケティング担当/000001000/10 経理部/000002/11 経理担当/000002000/12 システムソリューション事業部/001/4 第一ソリューション部/001000/5 営業担当/001000000/6 開発担当/001000001/7 企画担当/001000002/8 第二ソリューション部/001001/13 開発担当/001001000/14 営業担当/001001001/15 企画担当/001001002/16
初めてOracle 11gを使用して以下の形の DBから値を取得したいと思っています。 ユーザを絞って１項目だけなら取得することはできたのですが、 複数項目になると取得する方法が思いつきませんでした。 DB(貸出テーブル)は以下の８カラムを持っています。 ユーザID、レンタル開始年月、レンタル終了年月、アクション、ドキュメント、アニメ、洋画、邦画 （アクション、ドキュメント、アニメ、洋画、邦画カラムはboolean型です） （ジャンルには優先順位があり（１洋画＞２邦画＞３アクション＞４ドキュメント＞５アニメ）） 複数のジャンルがtrueになっていても、優先順位の高いもののみ、取得をしたいです。 例えば以下の様なレコードがある場合、 A0001,201601,201602,true,false,false,false,false A0001,201510,201512,false,false,true,false,false A0002,201512,201601,true,true,false,false,false A0003,201512,201602,false,true,true,false,false A0003,201509,201510,false,true,false,true,false A0004,201512,201602,false,false,false,true,false 取得したい結果は、ユーザ毎の直近のレンタル終了日のもので、且つジャンルの優先順位が高いものを 以下の様に表示をしたいです。 A0001,アクション A0002,アクション A0003,ドキュメント A0004,洋画 色々とやってみたのですが、別のカラムにあるものを 最終的にどのように表示するかがわからず悩んでします。 わかりずらい説明で申し訳ございませんが、教えてください。 よろしくお願いいたします。
Oracle DBに接続できなくなりました。 本日Oracle DBを問題なく利用していたのですが、 途中で勝手に落ちてしまい、再度ログインしようとすると ログインできなくなってしまいました。 接続ツールはCSEを利用しており、 ログインしようとすると以下エラーとなります。 エラー内容：データベース接続時にエラーが発生しました DBエラー詳細：エラーコード1017 ユーザ名/パスワードが無効です。ログオンは拒否されました。 こちらはパスワードもユーザ名も変更しておりません。 また、ODBCデータソースアドミニストレータにて接続テストを実施すると、 SQLState 2800エラーが出ます。 特にパスワード間違いを繰り返したわけでもなく、 それまで正常に利用できていたので、何故ログインできなくなったのか不明です。 どなたか解決策が分かる方がいらっしゃいましたら、 お手数ですが教えていただけると有難いです。 よろしくお願いいたします。
ID SUB_ID STATUS 他のカラム省略 2 ｜ 1 ｜ 99 2 ｜ 2 ｜ 99 2 ｜ 3 ｜ 00 2 ｜ 4 ｜ 00 3 ｜ 1 ｜ 99 3 ｜ 2 ｜ 99 3 ｜ 3 ｜ 99 3 ｜ 1 ｜ 88 3 ｜ 2 ｜ 00 3 ｜ 3 ｜ 00 3 ｜ 4 ｜ 00 3 ｜ 5 ｜ 00 4 ｜ 1 ｜ 88 4 ｜ 2 ｜ 88 5 ｜ 1 ｜ 99 主キー：ID, SUB_ID, STATUS 抽出したいのは、同じIDのSTATUSが全て99か、または、全て88 の場合です。 上記の例の場合は、IDが3と4と5が抽出対象です。 データの量は多くて1万ですので、恐らくFULL SCANで アプリに読み込んでから抽出する場合、テーブルから最初に 読み取るときに時間がかかり過ぎると思ってしまいました。 以上、宜しくお願いします。
お世話になります。 oracleデータベースをインストールしてアンインストールしたいのですが。 RPMでしようとすると次の様にエラーがでます。 [root@centos7 Disk1]# rpm -i oracle-xe-11.2.0-1.0.x86_64.rpm パッケージ oracle-xe-11.2.0-1.0.x86_64 は既にインストールされています。 [root@centos7 Disk1]# rpm -e oracle-xe-11.2.0-1.0.x86_64.rpm エラー: パッケージ oracle-xe-11.2.0-1.0.x86_64.rpm はインストールされていません アンインストールする方法を教えてください。 RPMの --force --nodeps を指定しても上記と同じエラー がでます。 宜しくお願いします。
adobeのPhotoshopCCの体験版をインストールしようとしても失敗しましたとしか出ません。何回も試しましたが、、、。 パソコンのことは全く詳しくなく、このようなソフトをダウンロードしようとするのも初めてで、なにもわかりません。 パソコンは Windows Dynabook/t350/46BR CORE i5 です。 不可能なんでしょうか、、、 だれか助けて下さい！！ 画像見にくくて申し訳ありません。汗
質問させていただきます。 win10(64bit)端末にOracleClient11gをインストールして OLEDBでOracle11gへの接続を行いたいと思っています。 端末にOracle11gをインストールしたところ 「OraOLEDBver.dll」などのdllはインストールされましたが プロバイダに「Oracle Provider for OLE DB」が出てきませんでした。 プロバイダの確認方法としては ***.udl というUDLファイルを作成してダブルクリックで起動し、 [プロバイダ]タブを確認しています。 別途テストで使用しているwin7(64bit)端末では 上記方法でプロバイダタブに「Oracle Provider for OLE DB」が表示されています。 （この端末は私が構築したものではないので、設定内容は不明です。） win10の端末のプロバイダに「Oracle Provider for OLE DB」を追加するためには 別途作業が必要なのでしょうか。 それとも私の確認方法が悪いのでしょうか。 お手数をおかけしますが、ご回答いただければ幸いです。 よろしくお願い致します。
統計の方法について教えてください。 名義尺度（はい・いいえ）のデータを15の群間で比較します。 （この時点では、全体的に差があるかないか、を見ます。） それぞれの群に含まれる度数は8から80までと不ぞろいです。 最初にカイ2乗検定をすると、期待値が5以下というのが複数あり、 カイ2乗検定は無理なようです。 ほかにも、ノンパラメトリック、群数が多い、など、条件が悪く、 どうやって比較すればよいのかわかりません･･･。 （最初は、カイ2乗で差を見る→残差分析で差のある箇所を特定、と 考えていたのですが。） どのようにすればよいか、ご教授いただけますでしょうか。 よろしくお願いいたします。
初めまして。 ご教示頂けると幸いです。よろしくお願い致します。 ただいま、sqlを学んでいる最中なのですが、 以下の問題の書き方がわからず手が止まっています。。。 【処理内容 : Aテーブル内のbカラムに’　　　　　’または ｃカラムに’　　　　　’がある時、メールで通知する処理 （空欄はスペース５個分です）】 以下のような書いていくのだろうというイメージはあります。。 select ~ from A where if スペース b has スペース5個分 or if スペース c has スペース5個分 -- "大枠"単位でLOOP -- "小枠"単位でLOOP -- エラーメッセージ作成 このような構成となっています。 ⬇︎ CREATE OR REPLACE PACKAGE BODY XXXXXXXXXX IS ******************************************************************************* */ --～ /*********************** * function 定義 *********************/ /****************************************************************************** 処理名 : abcdef 処理内容 : Aテーブル内のbカラムに’　　　　　’または ｃカラムに’　　　　　’がある時、メールで通知する処理 （空欄はスペース５個分です） *********************この内部が知りたいです。*************************************************/ -- カーソル変数の定義 -- リターンする文字列 -- 初期化 -- "大枠"単位でLOOP -- "小枠"単位でLOOP -- エラーメッセージ作成 -- エラー全件 /***********************この内部が知りたいです。************************************ 処理名 : main ******************************************************************************/ --カーソル変数の定義 -- メール本文 -- メール件名 -- 抽出結果全件 -- ************************************************************************* -- * -- ************************************************************************* -- 本文 -- チェック処理 -- 件名 -- メール送信処理 質問の仕方が上手くなく、申し訳ありません。 よろしくお願い致します。
バージョンは10ｇです 急にシステム管理者が退職し、担当になってしまい困っています。 超初心者なので皆様よろしくお願い致します。 表に売上明細があり下記のように西暦で数値型としてあるのですが これを”月”でgroup化したいのです。 ただし売上明細表には列の追加はできません （別システムからのインポートデータの為） 　 date SH_CD SURYO 　　20151120　　 111 15000 20151121 222 10000 色々調べた中でsubstrで月の部分を抽出できたのですが。。。 　　 CREATE OR REPLACE VIEW V_TEST1 　　 SELECT substr(DATE,5,2) AS MOUTH,SH_CD,SUM(SURYO) FROM MEISAI GROUP BY(substr(DATE,5,2),DATE,SH_CD と作ってみたのですが、”日”の部分でしか集計されません 元の表を変更せずビューで”月”の集計を取る方法はありませんでしょうか？ よろしくお願い致します。
最近まで数年放置してたvista、どう対処したらいいのでしょうか？(´Д` ) iPhoneのデータを保存出来るようにしたいです。 iTunesを更新する事が出来ず、バックアップもとれません。 ブログを始めようにも、vistaではちゃんと見れない場合が出てきて、どうにかしたいです(>_<)
下記を満たすSQLを教えていただけますでしょうか。 データベースタイプはオラクルとなっております。 今入力値として、入力１：SY番号 , 入力2 : 出力数 があるものとします。 ここでは説明のため、仮にSY番号が"sy1" 出力数が"1"とします。 ロジック１：テーブルAから入力１にヒットするSE番号を取得 (例：se1取得) 【テーブルA】 SY番号、SE番号 　sy1 、se1 sy2 、se2 sy3 、se3 ロジック２：テーブルBからロジック1で取得したSE番号に対応したZU番号を取得 (例：zu1取得) 【テーブルB】 SE番号、ZU番号 se1 、zu1 se2 、zu1 se3 、zu1 se4 、zu2 se5 、zu2 se6 、zu2 ロジック３：テーブルCからロジック１で取得したSE番号に対応したDTを取得 (例：1/3 10:10:12) 【テーブルC】 SE番号、DT se3 、1/1 10:10:10 se2 、1/2 10:10:11 se1 、1/3 10:10:12 se5 、1/4 10:10:13 se4 、1/5 10:10:14 se6 、1/6 10:10:15 ロジック4：テーブルBからロジック２で取得したZU番号に対応した全SE番号を取得 (例：se1,se2,se3を取得) 【テーブルB】 SE番号、ZU番号 se1 、zu1 se2 、zu1 se3 、zu1 se4 、zu2 se5 、zu2 se6 、zu2 ロジック５：テーブルCからロジック４で取得した各SE番号に対応したDTを取得 (例：1/1 10:10:10,1/2 10:10:11,1/3 10:10:12を取得) 【テーブルC】 SE番号、DT se3 、1/1 10:10:10 se2 、1/2 10:10:11 se1 、1/3 10:10:12 se5 、1/4 10:10:13 se4 、1/5 10:10:14 se6 、1/6 10:10:15 ロジック6：ロジック５で取得した各DTをロジック３で取得したDTを基準にしてそれよりも 　　　　　 前の日時の各DTを取得する。 (例：1/1 10:10:10,1/2 10:10:11取得) ロジック７：ロジック６で取得した各DTを昇順でソートする。 (例：1/1 10:10:10,1/2 10:10:11) ロジック８：ロジック７でソートした各DTの中から、ロジック３で取得したDTから近い順に 　　　　　　見て、入力２の出力数の数だけ選択及び取得する (例：1/2 10:10:11を取得) ロジック９：ロジック８で取得した各DTに紐付いたSE番号をテーブルCより取得 (例：SE2を取得) かなり丁寧にロジックを書いておりますが、効率よくまとめてSQLを記述するとなると、 おそらくですがどこかのロジックは短縮又は不要になったりするかとおもいます。 その辺りを含めまして最も効率よく一度のSQL文だけでSELECTできるSELECT文を記述して 教えていただけますでしょうか。 おそらくサブクエリを使用すると思いますが、サブクエリ数も最低限の数だけ使用するなど工夫を いただけると幸いです。 以上、宜しくお願い致します。
現在、 11g SQL基礎I（1Z0-051）と Bronze DBA11g（1Z0-018）に合格し、11gのOracle Bronzeを取得しました。 次はシルバー取得を考えていますが、そこで質問です。 今ですと、11gと12c、どちらの取得を目指した方が良いでしょうか？ ①このまま11gのシルバーを取得し、12cシルバーにアップグレードする ②ブロンズを12cにアップグレードし、12cシルバーを目指す ③11gも12cも大して変わらないから、11gのままでよい 職業はSE（主にDB系）、スキルアップ、会社評価の為に資格取得を目指しています。
環境 oracle 11g いつも大変助かっており、お世話になっております。 【テーブル1】 No、ID、大分類、中分類、小分類 1、001、10、0、0 2、001、10、10、0 3、001、10、20、0 4、002、20、30、40 【テーブル2】 No、ID、大分類、中分類、小分類、値 1、001、10、0、0、50 2、001、10、10、0、55 3、002、20、0、0、100 4、002、20、30、0、100 上記のデータあるとします。 select テーブル2.値 from テーブル1 テーブル2 leftjoin on テーブル1.ID = テーブル2.ID where テーブル1.大分類 = テーブル2.大分類 and テーブル1.中分類 = テーブル2.中分類 and テーブル1.小分類 = テーブル2.小分類 上記SQLでは、テーブル2.値は、No1の50とNo2の55が取得されます。 これを、 テーブル1のNo3で、 テーブル2のどれにも当て嵌まらない場合、 テーブル1.大分類を10として、テーブル2のNo1の値を取得したいのです。 また、テーブル1のNo4に関しては、 テーブル2のNo4を取得したいのです。 PL/SQL等、プログラムを組まないと取得出来ないものでしょうか？ SQLで取得できるテクニックをご享受頂きたいです。 どうぞ宜しくお願い致します。
はじめて質問します。 顧客情報のテーブルにN件のメールアドレス、電話番号を保持している構造のテーブルがある場合 以下のような状態でデータを取得したい場合、どのようなSQLを書けば良いでしょうか。 電話番号・メールアドレスは、可変でN件は難しそうなので最大2件固定。 ■取得対象 【顧客テーブル】 |顧客ID　|顧客名 |1　　　|太郎 |2　　　|二郎 【メールアドレス】 |メールアドレス　|顧客ID |a@goo.ne.jp　　|1 |b@goo.ne.jp　　|1 |c@goo.ne.jp　　|2 |d@goo.ne.jp　　|2 【電話番号】 |電話番号　　　|顧客ID |0311112222　|1 |08011112222 |1 |0399999999　|2 |09088889999 |2 ■取得したい内容 |顧客ID|顧客名　　|・・・|電話番号1 　　| 電話番号2　　 |メールアドレス1　|メールアドレス2 |1　　　|太郎　　　|・・・ |0311112222 |08011112222 |a@goo.ne.jp　　|b@goo.ne.jp |2　　　|二郎　　　| ・・・|0399999999 |09088889999 |c@goo.ne.jp　　|d@goo.ne.jp　 ■テーブル構造 【顧客テーブル】 ・顧客ID(PK) ・顧客名 ・生年月日 　etc 【電話番号】 ・電話番号ID(PK) ・電話番号 ・顧客ID(FK) 　etc ※顧客IDで顧客テーブルと紐づく 【メールアドレス】 ・メールアドレスID(PK) ・メールアドレス ・顧客ID(FK) 　etc ※顧客IDで顧客テーブルと紐づく ご回答頂ければ助かります。よろしくお願い致します。
videopadの無料体験版を使って動画編集をしていたのですが、何度か保存をしたら無料体験期間終了になってしまい、それ以降有料版を買え。みたいな趣旨のことしか出なくなってソフトが使えなくなってしまいました。PC本体に保存していなかったのでせっかく作った動画が全部なくなりました。有料版を買わなくても今まで作った動画が戻る方法があれば教えてください。ちなみに無料版をもう一度アンインストールしたら前回までのデータはきれいさっぱりなくなってしまうのでしょうか？
知識不足ですみませんが、 以下の場合の◎の内容が出力できるSQL文を教えてください。 同一のコードが複数あり、有効日時が異なる場合、更新日時に近いレコードを取得したいです。 テーブルの例を記述します。 --------------------------------------- tableA --------------------------------------- コード | 名称 | 開始日時 | 終了日時 A01 | あ | 2012-04-01 |2014-03-01 A01 | 亜 | 2015-04-01 |2018-03-01 A02 | い | 2012-04-01 |2014-03-01 A02 | 位 | 2015-04-01 |2018-03-01 --------------------------------------- --------------------------------------- tableB --------------------------------------- コード | 名称 | 開始日時 | 終了日時 B01 | う | 2012-04-01 |2014-03-01 B01 | 宇 | 2015-04-01 |2018-03-01 B02 | え | 2012-04-01 |2014-03-01 B02 | 絵 | 2015-04-01 |2018-03-01 --------------------------------------- --------------------------------------- tableC --------------------------------------- Aコード | Bコード | 更新日時 A01 | B01 |2012-04-01 A02 | B02 |2013-04-01 A01 | B01 |2014-04-01 A02 | B02 |2015-04-01 --------------------------------------- --------------------------------------- ◎SQLで出力したい内容◎ --------------------------------------- Aコード | A名称 | Bコード | B名称 | 更新日時 A01 | あ | B01 |　う　 | 2013-04-01 A02 | い | B02 |　え　 | 2014-04-01 A01 | 亜 | B01 |　宇　 | 2015-04-01 A02 | 位 | B02 |　絵　 | 2016-04-01 --------------------------------------- ※DBはoracleです。プログラムに実装ではないので、sql文が知りたいです。 よろしくお願い致します。
以下の移動データから転入、転出、部移動入、部移動出の情報を抽出したいのですが いい方法をご教授下さい。 よろしくお願い致します。 データのイメージ 日付　　　　　　社員番号　　　部室名 やりたいこと 20130104　　　A0001　　　　第一部　　　←転入とみたい 　　・　　　　　　　・　　　　　　・ 20130331　　　A0001　　　　第一部　　　←部移動出とみたい（データ取得できず） 20130401　　　A0001　　　　第三部　　　←部移動入とみたい 　　・　　　　　　　・　　　　　　・ 20140228　　　A0001　　　　第三部　　　←部移動出とみたい 20140301　　　A0001　　　　第一部　　　←部移動入とみたい（データ取得できず） 　　・　　　　　　　・　　　　　　・ 20140731　　　A0001　　　　第一部　　　←部移動出とみたい 20140801　　　A0001　　　　第四部　　　←部移動入とみたい 　　・　　　　　　　・　　　　　　・ 20141230　　　A0001　　　　第四部　　　←転出とみたい 転入＝group by 社員番号　min（日付） 転出＝group by 社員番号　max（日付） 部移動入＝group by （社員番号,部室名）　min（日付） 部移動出＝group by （社員番号,部室名）　max（日付） と考えてみたのでですが、「第一部」に2回配属になっているために 上記の「データ取得できず」の状態になりました。 データ件数は60万件強あります。 何かいい方法があればご教授下さい。
MSDOS 時代に　使用していた　ソート用ソフト　sortf ですが 久しぶりに　必要となり　ソフトは有るのですが　使用方法が　見つかりません WEBでも　見つかりませんでした どなたか　分かる方おりましたら　教えて下さい
売上トランと商品マスタがあるとします。 商品マスタは廃止フラグをVARCHAR2(1)で保持していて、 1なら廃止、0なら今販売中で、 商品マスタは全件で100万件あり、そのうち95万件は既に廃止になっているとします。 このとき、 SELECT 売上トラン.* , 商品マスタ.商品名称 FROM 売上トラン INNER JOIN 商品マスタ ON 売上トラン.商品コード = 商品マスタ.商品名称 WHERE 商品マスタ.削除フラグ = '0' と書くのと、 SELECT 売上トラン.* , 商品マスタ.商品名称 FROM 売上トラン INNER JOIN (SELECT * FROM 商品マスタ WHERE 商品マスタ.削除フラグ = '0') 商品マスタ ON 売上トラン.商品コード = 商品マスタ.商品名称 と書くのだと、検索は下の方が速くなったりしますか？ イメージですが、 上だと全件同士でくっつけた後で削るのに対して、 下だと削って5万件だけになったものをっつけていて、下の書き方の方が良いのかな？ と思ったものの、どこかの本などでこういう書き方が良いと読んだわけではないので、 イメージであっているのか、それとも変わらないのか質問しました。 また、削除フラグのように1か0の2値しかとらない項目については、 INDEXを張る効果はあるでしょうか？ ちなみにverで挙動が変わるかわかりませんが、環境はoracle11gを想定した場合となります。
Bツリーのインデックスで、階層数が増えるとパフォーマンスが悪化するとありますが、なぜでしょうか。 データ量が膨大な場合は、むしろパフォーマンスが上がるような気がしてならないのですが・・・ 例えば階層が3から4に増えた場合、検索時に単にIOが1回増えるだけのように思えますが、その1回のコストを問題にしているということなのでしょうか？ 基本的な質問ですみませんが、よろしくお願いします。 （削除リーフ数はゼロという前提で）
ある、スクリプト内にスナップショット取得するコマンドを加えたいです。 引数を7つ指定します。 書き方を教えてください。 スペース、記号等に注意して色々試しましたが上手くいきません。。 指定したい引数は以下です。 i_snap_level= i_execution_th= i_disk_reads_th= i_parce_calls_th= i_buffer_gets_th= i_sharable_mem_th= i_version_count_th= どうぞ、宜しくお願いします。
セットコード、商品コード、金額を持つテーブルがあります。 セット商品コード（Ｘ）は商品コード（Ｍ，Ｎ）を持っています。商品コードＮはセット商品コードとしても登録されており、商品コード（Ｏ，Ｐ）を持っています。Ｐはセット商品コードとしても登録されており、子に商品コードＸを持ちます。ただＸはセット商品コードとして登録されているので、子に商品コードして登場するのは問題があります。 このようなチェック末端まで行う処理を作りたいのですがどのような方法がありますでしょうか？
オラクルの単一ビューには関数を含まない、データのグループを含まないという記載が参考書にあったのですが、具体的にどういう状況をいっているのか教えて下さい。 すいません。追加で聞きたいことがありました。 同一データベースの異なるスキーマで、同じ表名を使用できる。 同一スキーマ内で、同じ表名と同義語名を使用できる。 この文言の意味合いもいまいち解せないでいます。 ご教授お願いいたします。
オラクルＳＱＬ試験をこれから頑張ろうと思っているのですが、クラムメディアという問題集サイトを最近知りました。 このサイトを利用された方に聞きたいのですが、ここでの感想が非常に的中率が高いといわれていることをたくさん拝見したのですが、これは練習問題の内容がということなのでしょうか。それともテストという時間を計った問題が最後にありますがそのテストの的中率ということなのでしょうか。 感想を読んだ限りでは、５５問中９５％がクラムメディアからでてきたものと書かれていました。 もしくはこのクラムメディアのテスト問題というのは、練習問題のページからランダムに出題されているものなのでしょうか。それとも予想的中問題として別個に用意されている問題なのでしょうか。 よろしくお願いします。
オラクルＳＱＬの問題でＤＥＣＯＤＥ関数について教えて下さい。 SELECT employee_id, DECODE(department_id,80, DECODE(commission_pct,NULL,'NO COMMISSION', salary * commission_pct), 'NOT SALES'} "COMMISSION" FROM employees; 上記のは 『ＤＥＰＡＴＭＥＮＴ＿ＩＤ列が80の場合でかつＣＯＭＭＩＳＳＩＯＮ＿ＰＣＴ列がＮＵＬＬ値の場合は「ＮＯ　ＣＯＭＭＩＳＳＩＯＮ」、ＮＵＬＬ値でない場合は「ＳＡＬＡＲＹ＊ＣＯＭＭＩＳＳＩＯＮ＿ＰＣＴ」が文字列に変換されて戻されます。また、ＤＥＰＡＲＴＭＥＮＴ＿ＩＤ列が80以外の場合は「ＮＯＴ　ＳＡＬＥＳ」が戻されます。』と解説があり、 次に SELECT employee_id, DECODE( NULL IF(commission_pct,NULL), 0,salary * commission_pct, 'NO COMMISSION') "COMMISSION" FROM employees; このコードについては 『ＤＥＣＯＤＥ関数が最初に戻す「ＳＡＬＡＲＹ＊ＣＯＭＭＩＳＳＩＯＮ＿ＰＣＴ」が数値型なので、「ＮＯ　ＣＯＭＭＩＳＳＩＯＮ」が数値に変換できないためエラーになります。』 と解説がありました。 正常に実行できるのは前段のもので後段はできないとのことなのですがどうしてかわかりません。 なぜ後段では数値型に変換する必要があるのか、前段では同じsalary*commission_pctが文字列として扱っているのかわかりません。 ＤＥＣＯＤＥ関数の ＤＥＣＯＤＥ（α、 　　　　　　　　β、γ 　　　　　　　　　δ） αがβのときはγを戻し、それ以外のときはδを戻すという公式があると思いますが、 もしかしてγとδは同じ型でなければいけないというルールがあるのでしょうか。でもたとえそうだとしてもまだ解せない部分があるのですが・・・。ご教授どうかよろしくお願いいたします。これはオラクルブロンズＳＱＬの参考書の模擬試験にあった問題になります。
現在本稼働しているDBを開発環境構築の為、テーブルを複製したいと考えております。 本環境:Oracle Database 11g 開発環境:Oracle Database 11g Express Edition 全てのテーブルを複製する必要はありません。 SQLのテストのため、Userテーブルを複製したいと考えてます。 必要なテーブルが、３０テーブルほどあり内１０テーブルは、２００万件程度のレコード数があります。 安全かつ、本サーバーに負担の少ない方法はどうしたらよろしいでしょうか？ 本環境のSQL sql developerのエクスポート機能で、テーブルを１個づつ出力し、開発環境のSQL developerでインポートを実行すれば、正常に稼働するのでしょうか？ MS SQL Serverなら、上記の方法で問題無いのですが、Oracleは初心者の為、全く分かりませんので、ご教授頂けましたら幸いです。
SQLのご質問です（Oracle 11g）。 No 商品 1 A 1 B 1 C 2 A 3 A 3 D 4 E 【下記条件】 Aの商品が含まれている場合対象 また、BとCが混じっていても対象 その他の商品（AとBとC以外）が混じっていると非対象 結果 No 1,2が出力 とのSQLを作成したいのです。 条件が上手く浮かびません。 有識者の方ご享受宜しくお願い致します。
PL/SQLで質問があります。 たとえば複数レコードがあり、フェッチで1件ずつ処理する場合、 1件目で値あり、2件目NULLの場合、2件目のフェッチでINTOした変数はNULLが保証されるでしょうか？　それとも1件目の値が残ってしまうでしょうか？ サンプルでフェッチのループ内で変数の初期化をしない場合でも、NULLで上書きされているようにみえますが、PL/SQLではありませんが以前ProCでNULLの場合は前のレコードの値が残ってしまったため、PL/SQLは上書きが保証されるのかが気になっています（どちらもオラクルなので似た仕様になるのではと懸念）。 グーグル先生に聞いてみましたが、明記されているサイトがみつからず・・・。 ProCはインディケータでNULLを判定するので値の変数にはNULLの場合、何もしないだけでPL/SQLでは特に初期化を気にすることはないのかもしれませんが、仕様として記述されている箇所が見つからないためご存知の方がいらっしゃいましたら教えて頂けると助かります。 具体的には仕事でそういうコーディングになっている箇所があり、直すべきかそのままで問題ないかを検討しています。 現段階ではあまり修正できる状況ではないため、問題にならなければそのままとしたいと考えています。 サンプルの実行結果上は問題なさそうなのですが、できればプラスアルファの情報が欲しく。
※連投すみません。削除も修正もできなかったので連投になってしまいました。 一番重要な説明をコピペミスしてしまいました。 明日になれば削除できるようなので古い方は明日削除致しますm(__)m ---ここから--- 今日は9/24という想定で各部署の10営業日前の日付を取得したいのですが良い方法が思いつきません。 （ここ↓を参考にしたらできそうな気がしましたが私の頭では無理でした。。。） http://oshiete.goo.ne.jp/qa/6677209.html 【休日テーブル】 部署コード,　休日 ----------------- busyo1,　　　9/13 busyo1,　　　9/14 busyo1,　　　9/20 busyo1,　　　9/21 busyo1,　　　9/23 busyo2,　　　9/7 busyo2,　　　9/14 busyo2,　　　9/21 busyo3,　　　9/20 【結果】(各部署の10営業日前の日付) 部署コード,　日付 ----------------- busyo1,　　　9/9 busyo2,　　　9/12 busyo3,　　　9/13 このような「発想の転換」が必要な感じのSQLが本当に苦手です。 全然思いつかずに今日も半日を浪費してしまいました。 何かコツのようなものがあるのでしょうか。 お礼は明日の夜になってしまいますが何卒よろしくお願いします。
日本語でどう説明すればもわからないのでタイトルも意味不明ですが 以下のテーブルからプリウスとアクアだけを取り出したいのです。 ○自動車テーブル○ 車名(PK),　連番(PK),　装備,　　数量 --------------------------------- プリウス,　　　1,　　エアコン,　　2 プリウス,　　　2,　　ブレーキ,　　1 アクア　,　　　1,　　ブレーキ,　　1 アクア　,　　　2,　　エアコン,　　2 レクサス,　　　1,　　　テレビ,　　3 レクサス,　　　2,　　　ビデオ,　　2 ノア　　　,　　　1,　　ブレーキ,　　1 ノア　　　,　　　2,　　　　テレビ,　　1 ○取得したい結果○ 車名 -------- プリウス アクア エアコン2個、且つブレーキ1個が装備されている車名を取得したいのです。 ブレーキ1個が装備されているだけのノアはエアコン2個という条件が満たされていないので取得したくありません。 そもそもこのようなことが可能なのかもわからないのですがjava側で処理をするには件数があまりに膨大なので行き詰まっています。 明日、職場からチェックさせていただきます。 お礼は夜になってしまいますが何卒よろしくお願いします。
現在様々なデータベースを使用していて、プログラムか何かの方法で、 OracleからMySql等ほかのデータベースにデータを移動することは可能でしょうか。 SELECT A INTO Bではできなかったと思います。 100件くらいの名前データだけなので、いちいちCSVに変換して再ロードするのが面倒です。
オラクルのselect for updateでロックをするタイミングがいつですか？ こんなPL/SQLのコードがあったとします。 ---↓↓↓ソースコードここから↓↓↓------------------------- select * from テーブル1 where id = 1 for update;　・・・・・(a) ～ update テーブル1 set kingaku=100 where id = 1　・・・・・(b) ～ commit; ---↑↑↑ソースコードここまで↑↑↑------------------------- id = 1のレコードがロックされるのは(a)、(b)どちらのタイミングですか？ また、このロックは ・他トランザクションから読めるけど更新できない ・他トランザクションからは読むことすらできない のどちらでしょうか？ よろしくお願いします。
ORALCEのexpdpおよびimpdpの勉強のために自宅環境で操作していたところ、 impdpにてORA-39166（オブジェクトが見つからない）が発生してしまいした。 いろいろ調べてみたのですが、解決に至ってないためお力添えをお願いいたします。 【環境】 OS : linux ※CentOS（64bit） ORALCE11gXE 【やりたいこと】 studyスキーマのTEST1テーブルをexpdpでエクスポート（content=data_only）し、 同じスキーマ内のTEST2テーブルにimpdpにてデータを入れる。 【発生までの操作】 １．expdp system/パスワード@XE directory=test_dir tables=study.TEST1 log=test_exp.log content=data_only ２．impdp system/パスワード@XE directory=test_dir dumpfile=expdat.dmp log=test_imp.log tables=study.TEST2 content=data_only ２の操作をしたタイミングで以下のメッセージ。 ORA-39002: invalid operation ORA-39166: Object STUDY.TEST2 was not found. 【備考】 ・TEST1およびTEST2はまったく同じテーブル構造です。studyユーザで作成してます。 ・STUDY.TEST2は存在します。 （「sqlplus study/パスワード@XE」でログインしdesc TEST2で確認できるため） ・exdpは正常に終了しており、dumpファイルは「expdat.dmp」で作成されています。 以上です。 ご教授のほどよろしくお願いいたします。
コンピューターを使うには、データ（電子データ）が必要です。CPU、メモリー、グラフィックボード、チップセット、電源、ディスプレーなどが充実していても、データが空なら単なる鉄の塊で、飾るだけです。 データを保存するにはデータベースが必要と聞いた事があります。本当でしょうか？確かに、データベースにデータを保存する事が多そうですが、データベース以外にもデータの保存スペースがある気がします。私の記憶が確かなら、、キャッシュメモリーはデータベースの構成要素の一であり、キャッシュメモリーにデータがあればデータベースにデータがあるという事と聞いた気がする。 色々と記憶が曖昧で、混乱して、このように質問してます。 データベースにも色々ありますが、その王様はリレーショナルデータベースだとよく聞きます。リレーショナルデータベースは、ありとあらゆるデータを保存できて、何にでも活用できるそうです。本当でしょうか？ 例えば、リレーショナルデータベースの操作にSQLが使われますが、このプログラム文をリレーショナルデータベースに保存しますでしょうか？私の認識だと、SQLはテキスト形式のSQLファイルで、マイドキュメントなどのフォルダーに保存します。 SQLの他、小説、写真、音声、ビデオ、３次元CADなども、リレーショナルデータベースに保存しますでしょうか？ 私の認識だと、リレーショナルデータベースは表（２次元マトリクス）の集合です。表はセルで作られていて、行×列に配置しています。セル１つには、１行文字列、実数（整数と有限少数）、時刻、NULLだけが保存できます。これだと自由度や用途が狭く限られそうですが、セルを膨大に用意できて、これで幅広い自由度を得ます。 リレーショナルデータベースにも小説を保存できる。その方法は、小説を３０字区切りで分割し、主キーを振ること。１つのセルに３０字の文を保存し、その下に次の３０字の文を保存し、これを終わりまで繰り返します。正しいでしょうか？ リレーショナルデータベースにも写真を保存できる。先ず、赤表、青表、緑表の３つを用意する。各表のマトリクスサイズは膨大で写真のピクセルがセルに対応し、行×列に配置します。各セルには画素３原色の強度数（0～255だとgif形式だっけ？）を保存する。その後、赤青緑の３表を合成し、ビットマップで出力します。正しいでしょうか？ リレーショナルデータベースは銀行でよく使われていて、お金の出入りや顧客管理でリレーショナルデータベースは大活躍しているそうです。だけど、本当はもっと用途が広い？ フォルダファイルシステムとデータベースは別物と聞いた事があります。一方で、フォルダファイルシステムの基本はデータベースで、データベースに何かアプリを組み合わせてフォルダファイルシステムが形成されているとも聞いた事があります。どっちが正しいでしょう？どっちも間違い？
AスキーマとBスキーマがあり AにはSというシーケンスが作成されて、GRANTでBに権限付与されています。 BのUSER_SEQUENCESにはもちろん存在しないため、 SELECT MAX_VALUE FROM USER_SEQUENCES WHERE SEQUENCE_NAME でMAX_VALUEの取得でエラーになります。 これを回避する方法ってありますでしょうか？？ もしくはBのUSER_SEQUENCES に追加する方法がありますでしょうか？ どなたかお願い致します。
AUDIT TABLEは特定のテーブルに対する監査ではなく、全部のテーブルに対する特定の処理(DDL)を監査するものだという記述を見ました。 しかし、別のところで AUDIT TABLE ON ＜テーブル名＞ というSQL文の例を見ました。 これだと特定のテーブルに対する監査になると思うのですが、このSQLはそういう解釈で正しいのでしょうか？ また、特定のテーブルに対するすべての操作の監査をするには AUDIT SELECT,INSERT,UPDATE,DELETE,LOCK ON <Schema>.<Object> BY ACCESS; だけではDROPやCREATEが監査できないので不十分でAUDIT TABLEと組み合わせないと無理ということになるのでしょうか？ 出展が明記できてなくて申し訳ありません。個人的なblog等ではないので執筆者に問い合わせるなどはできないようです。
監査について調べています。 監査証跡への出力項目として上の用語が出てくるのですが、いまいち違いがはっきりしません。 具体的にこれらの違い、それぞれ何を指すのか、どのような値が入るのか教えていただけませんでしょうか。また自動的にはいるのか、何か設定していないと入らないのかなど。 差し支えなければ、実際のログの例などから教えていただければ理解しやすいかと思います。 よろしくお願いします。 なお関係するようでしたら、oracle11gサーバはsolaris 端末はwindowsで動作させた場合と想定していただいても結構です。
auditのログが出力先されません。 パラメータは次の通りです。 SQL> show parameter audit audit_file_dest string C:\TEMP audit_sys_operations boolean FALSE audit_syslog_level string audit_trail string OS auditを設定しました。 SQL> audit select on TESTUSER.TESTTABLE; 監査が成功しました。 しかし、次のSQLを実行しても、ログが出力されません(C:\TEMPの中を探しましたが見つかりません)。 SELECT * FROM TESTUSER.TESTTABLE;
続けての質問で失礼します。 特定のカラムの前の行を加算していくということは可能でしょうか？ 【カラムA】を元に【カラムB】のような結果を取りたいと考えています。 回答、宜しくお願いします。 【カラムA】 0 1 3 6 7 【カラムB】 0 1 4 10 17
テーブルの結合についてお聞きしたいことがあります。 カラム「KEY」を結合条件に テーブルA、B、Cを結合して【取りたい結果】のようなデータを取りたいと思っています。 しかし、テーブルAにBとCをLEFT JOINを結合した所、 【取得された結果】のデータが取得されました。 どのような結合をしたら期待通りの結果が得られるのでしょうか？ 回答宜しくお願いします。 【取得された結果】 key dataA dataB dataC ------------------------------------------------- 1 A-1 B-1 C-1 A-1 B-1 C-2 A-1 B-1 C-3 2 A-2 3 A-3 【取りたい結果】 key dataA dataB dataC ------------------------------------------------- 1 A-1 B-1 C-1 A-1 C-2 A-1 C-3 2 A-2 3 A-3 【テーブルA】 key dataA --------------------- 1 A-1 2 A-2 3 A-3 【テーブルB】 key dataB --------------------- 1 B-1 【テーブルC】 key dataC --------------------- 1 C-1 1 C-2 1 C-3
お世話になっております。 現在、oracleの11gの環境に対して object browser10を使用して環境構築を行っています。 DMPファイルをエクスポートし別環境に対して出力したデータを投入しているのですが この際にインポートの処理を中止したいとき、処理を中止するような方法等はあるのでしょうか？ object browser のプロセスを終了してもバックグラウンドで処理が続けられていますので 処理を中止する方法がありましたらご教授のほどお願いします。 なお、11gの環境にはそのほかにEnterprise Managerが導入されています。 以上、よろしくお願いします。
データが多すぎるので書き込めなくてすみません。 ＳＱＬ文がよくわかりません。主にOracleでやってます。 表の名前　hyou1-社員のマスタ　社員コード、名前、職種、給与等級 hyou2-販売のマスタ　顧客コード、商品コード、販売数 「」は抽出例です。 （１）hyou１において給与等級が多い人の社員コードを検出　職種順に表示をする。「社員コード、職種」 （２）hyou１において給与等級平均より給与等級が多い人の職種を検索「職種」 （３）hyou１において給与等級平均より給与等級が多い人の職種毎の人数および平均給与等級の検索「職種、人数、平均給与等級」 （４）hyou１において給与等級が１または３または５である人を検索「全列」 （５）hyou2において、顧客コードが'1992’の人が購入したデータを検索「顧客コード、商品コード」 （６）hyou2において、顧客コードが’１９９２’である人が購入したデータを検索「顧客コード、氏名、商品コード」 （７）hyou２において、顧客名（氏名）’山田太郎’さんが購入したデータを検索「顧客コード、氏名、商品コード」 （８）hyou2において顧客コードが’１９９２’である人が購入した商品と同じ商品を購入した人を検索｛全列」 （９）hyou2において販売数の平均「販売数平均」 （１０）hyou2において販売数の平均以下の購入者を検索「全列」
環境は次のようになっています Windows7 SP1 64bit VMware Player 5.0.3 for Windows 32-bit and 64-bit CentOS-5.2-i386 オラクルマスターBronze11gの資格を取りたいと思い最近勉強を始めました。 Oracle Database 11g R2 をインストールしようと思い↓のサイトに書かれているとおりに作業を進めました。 http://www.asami.asia/tech/oracle/11gR2-install. … 無事にOracleEnterpriseManagerにログインが成功したものの、エミュレータの電源を一度切り、再びエミュレータを立ち上げるとOracleEnterpriseManagerにはもう繋がらなくなっていました。「https://localhost.localdomain:1158/em/」と入力するとFireFoxには次のようなメッセージが表示されます。 「正常に接続できませんでした localhost.localdomain:1158 のサーバへの接続を確立できませんでした。 サイトアドレスは有効なようですが、接続を確立できませんでした。」 どうすれば再びログインすることができるのでしょうか？
以下のようなテーブルがあります。 納品データ 注文番号　売上番号　連番　商品名 11111　　 　2　　　　　　1　　 さしすせそ 11111　　 　2　　　　　　2　　 たちつてと　 11111　　 　3　　　　　　1　　 なにぬねの 11111　　 　4　　　　　　1 　　はひふへほ 売上データ(既存データ) 注文番号　売上番号　連番　商品名 11111　 　 1　　　　　　 1　　 あいうえお 11111　 　 1　　　　　　 2　　 かきくけこ 注文番号は注文毎に付与される番号 売上番号は発送毎に付与される番号 連番は売上番号毎に付与される連番 毎回 納品データを売上データに取り込みます。 連番に関しては、 納品データと売上データで連番は連動しておらず、 売上データに納品データと同等の注文番号があれば、 注文番号の最大連番数を+1した番号で取り込みます。 更新後、売上データは、 注文番号　売上番号　連番　商品名 11111　　　 1　　　　　　 1　　 あいうえお(既存データ) 11111　　　 1　　　　　　 2　　 かきくけこ(既存データ) 11111　　　 2　　　　　　 3　　 さしすせそ 11111　　　 2　　　　　　 4　　 たちつてと 11111　　　 4　　　　　　 5　　 なにぬねの 11111　　　 5　　　　　　 6　　 はひふへほ としたいのです。 SELECT (SELECT 納品データ.連番+(SELECT NVL(MAX(売上データ.連番),0) FROM 売上データ WHERE 売上データ.注文番号 = 納品データ.注文番号) AS 連番) FROM 納品データ で売上データの連番+1はできたのですが、 売上番号が違う場合は、連番が1になるパターンとなり、 納品データ 注文番号　売上番号　連番　商品名 11111　　　 2　　　　　　 1　　 さしすせそ 11111　　　 2　　　　　　 2　　 たちつてと　 11111　　　 3　　　　　　 1　　 なにぬねの　← 11111　　 　4　　　　　　 1 　　はひふへほ ← 上記SQLですと、 更新後、売上データは、 注文番号　売上番号　連番　商品名 11111　　　 1　　　　　　 1　　 あいうえお(既存データ) 11111　　　 1　　　　　　 2　　 かきくけこ(既存データ) 11111　　　 2　　　　　　 3　　 さしすせそ 11111　　　 2　　　　　　 4　　 たちつてと 11111　　 　4　　　　　　 3　　 なにぬねの ← 5にしたい 11111　　　 5　　　　　　 3　　 はひふへほ ← 6にしたい となり、連番となりません。 どのようにSQLを書けばよいのか、困っています。 どうか、ご教示お願い致します。
Oracle と Perl の接続で悩んでいます。 申し訳ありませんが何方かご教授下さい。 OS：Red Hat Enterprise Linux ES release 4 Perl：perl v5.8.5 DB：oracle-xe-univ-10.2.0.1-1.0.i386 ドライバーは以下をインストールしてあります。 perl-DBD-Pg-1.31-6 perl-DBD-MySQL-2.9004-3.1 perl-DBI-1.40-8 以下もインストールしてみましたが駄目でした # rpm -ivh oracle-instantclient12.1-basic-12.1.0.1.0-1.i386.rpm # rpm -ivh oracle-instantclient12.1-devel-12.1.0.1.0-1.i386.rpm # rpm -ivh oracle-instantclient12.1-sqlplus-12.1.0.1.0-1.i386.rpm 環境変数の設定（.bash_profileに以下を設定） . /usr/lib/oracle/xe/app/oracle/product/10.2.0/server/bin/oracle_env.sh Perlでサンプルプログラムを作成して、他の同等のサーバでは正常に動作確認した プログラムを、このサーバで実行すると以下の様なエラーが出ます。 [oracle@IJYOU]$ perl test_db.pl install_driver(Oracle) failed: Can't locate DBD/Oracle.pm in @INC (@INC contains: /usr/lib/perl5/5.8.5/i386-linux-thread-multi /usr/lib/perl5/5.8.5 /usr/lib/perl5/site_perl/5.8.5/i386-linux-thread-multi /usr/lib/perl5/site_perl/5.8.4/i386-linux-thread-multi /usr/lib/perl5/site_perl/5.8.3/i386-linux-thread-multi /usr/lib/perl5/site_perl/5.8.2/i386-linux-thread-multi /usr/lib/perl5/site_perl/5.8.1/i386-linux-thread-multi /usr/lib/perl5/site_perl/5.8.0/i386-linux-thread-multi /usr/lib/perl5/site_perl/5.8.5 /usr/lib/perl5/site_perl/5.8.4 /usr/lib/perl5/site_perl/5.8.3 /usr/lib/perl5/site_perl/5.8.2 /usr/lib/perl5/site_perl/5.8.1 /usr/lib/perl5/site_perl/5.8.0 /usr/lib/perl5/site_perl /usr/lib/perl5/vendor_perl/5.8.5/i386-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.4/i386-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.3/i386-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.2/i386-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.1/i386-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.0/i386-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.5 /usr/lib/perl5/vendor_perl/5.8.4 /usr/lib/perl5/vendor_perl/5.8.3 /usr/lib/perl5/vendor_perl/5.8.2 /usr/lib/perl5/vendor_perl/5.8.1 /usr/lib/perl5/vendor_perl/5.8.0 /usr/lib/perl5/vendor_perl .) at (eval 1) line 3. Perhaps the DBD::Oracle perl module hasn't been fully installed, or perhaps the capitalisation of 'Oracle' isn't right. Available drivers: ExampleP, Pg, Proxy, mysql. at /home/oracle/test2_setting.pl line 18 どうか何方かお願いします。
既にデータベースをOracle 11gR2にて構築していて、初期化パラメータ「NLS_LENGTH_SEMANTICS」をデフォルトのByteベースからCharベースに変更しようとしています。この手順と影響範囲が知りたいです。 (1) 手順 私の理解では単純にSYSユーザにて以下を実行する。データベースの再起動は不要で有効になる。 SQL> ALTER SESSION SET NLS_LENGTH_SEMANTICS='CHAR'; 正しいでしょうか？ (2) 影響範囲 SID上に構築しているすべてのスキーマ上のテーブルに適用される、で正しいでしょうか？ また、既存テーブルと新規テーブルという意味では、既存テーブルには影響を与えない、らしいのですが、そうなのでしょうか？　新しくテーブルを作成した場合にのみCharベースになるということでしょうか。その場合、既存テーブルもCharベースに変更するにはどのような手順を踏めばよいのでしょうか？（例）テーブルのエクスポート→テーブルのドロップ→テーブル再作成→データのインポート？など、思いつきですがよい方法があれば教えてください） 以上、宜しくお願いします。
OracleをDBとして利用し、 Webアプリの開発を行うとしています。 フレームワークを利用して作成しようとしているのですが、 Oracle と CakePHP の情報が少なく困っています。 OracleをDBとして利用し、 Webアプリをフレームワークで作成する場合、 どの言語で、どのフレームワークを使用するのが一番お勧めでしょうか。 PHP？Ruby？java？ ご教授お願いします。
基本的な質問ですみません。Oracle 12cを初めて使うのですが、すごく単純に、ユーザを作成し、そのユーザでデータベースオブジェクト（テーブルなど）を作成する拡張子が.sqlのスクリプトを流したいです。 11gまでの場合、システムユーザでCREATE USERしたのちに、コマンドプロンプトを立ち上げて C:\Scripts> SQLPLUS <USER>/<PASSWORD> @createtables.sql とするだけで良かったと思います。 今回、12cではユーザの考え方が変わっており、CDBとPDBを作成しました。 > SQLPLUS /NOLOG SQL> CONN SYS AS SYSDBA （上記のようにローカル接続するとCDBに接続される） SQL> ALTER SESSION SET CONTAINER=PDB1; // PDBへ移動 SQL> SHOW CON_NAME // 念のため現在接続中のPDBの名前確認 SQL> STARTUP; （これでマウント状態だったPDB1がOPENしてREAD WRITEになる） この状態でCREATE USER文を実行してPDB1上でユーザを作成。 ここからなんですが、PDBやCDBへのログイン方法はわかたのですが、PDB上で作成したユーザにはどのようにしてログインするのでしょうか？　ログインしてテーブル作成をしたいです。また、テーブル作成のスクリプト文（.sql）があるのでそれを流したい場合は、コマンドプロンプトからどのように実行すればよいでしょうか？ 基本的な質問で恐縮ですが、宜しくお願いします。
以下のテーブルのレコードをもとに Ａ Ｂ Ｃ 1| あ | あ | １ | 2| あ | い | １ | 3| あ | う | １ | 4| う | あ | １ | 5| え | あ | １ | 6| あ | あ | ２ | 7| あ | い | ２ | 8| あ | う | ２ | 9| う | あ | ２ | 以下のテーブルを作成したいと考えています。 Ａ Ｂ Ｃ Ｄ Ｅ 1| あ | あ | １ | あ | － | 2| あ | い | １ | い | － | 3| あ | う | １ | う | あ | 4| え | あ | １ | － | え | 5| あ | あ | ２ | あ | － | 6| あ | い | ２ | い | － | 7| あ | う | ２ | う | あ | (1)カラムＣを１つのグループとします。 (2)その中でカラムＡの値が「あ」の場合は、カラムＢの値をカラムＤに設定する。 (3)カラムＡの値が「あ」ではない場合は、カラムＢの値をカラムＥに設定する。 (4)カラムＡの値とカラムＢの値を入替えると同じ場合は(例では上の表の3と4、8と9のレコード)、 カラムＡの値が「あ」でない方のレコード（4と9のレコード）のカラムＢの値をカラムＥに設定する。 (5)(4)で値を設定した方のレコードを削除する。 どのようなSQLを作成すればできるのでしょうか？ SQLに詳しい方がいらっしゃれば、ご教授をお願います
Oracle10gでデータ管理していますが、インターフェースを外注した為、自由なデータ加工ができません。この為、keySQLを用いて、データをExcelとして取出し、Access2003にインポートして解析する方法で対応しています。 しかし、Excelで一度に取り出せるレコード数が65500程度に限られ、効率的にデータ取出しが出来ません。そこで、keySQLで、集計してレコード数を減らして取り出したいと思います。 しかし、Accessのクエリーデザイン画面のような集計ボタンが見当たりません。GUI的には集計できないという事でしょうか？クロス集計はできるようなのですが、Accessのような集計は、SQL文を直接記述する方法しかないのでしょうか？ keySQLにお詳しい方がおられましたら、データ集計の仕方をご教示下さい。 当方、残念ながら、まだSQL文を直接記述できるレベルにはありません。
よろしくお願いします。 【環境】 RHEL 5 Oracle 11g R2 【質問】 AUDIT_FILE_DESTパラメータ に　/opt/oracle/app/diag/AUDIT　を指定して ファイルとして出力しています。（必須監査も含めて）通常は正常に動作していますが、なぜか まれに以下のフォルダに監査ログが出力されてしまいます。 $ORACLE_BASE/admin/adump 出力されるログは今のところ以下の１種類の監査ログのみです。 ACTION:[7] 'CONNECT' DATABASE USER:[1] '/' PRIVILEGE:[6] 'SYSBA' CLIENT USER:[6] 'oracle' CLIENT TERMINAL][13] 'Not Available' 質問ですが、なぜこの監査ログのみ adump 以下の記録されるのでしょうか。
ORACLE初心者で索引について勉強しています。 そこでORACLEの索引（Bツリー）検索について２点程質問させていただきます。 (1)索引を用いるとI/O処理が少なくなりアクセスが高速になるということはわかったのですが、そのI/O処理とはプロセスとメモリ間のやりとりに関するI/O処理という認識で間違いないのでしょうか？ (2)索引付きと索引なしのカラムを抽出条件にして検索した場合、まず索引付きのカラムから検索を行い、そのROWIDを元に索引なしのカラムのデータを取得して対象データかどうかの判断を行うのでしょうか？
■DBサーバ Windows Server 2003 Oracle 9i R2(9.2.0.1.0) ■アプリケーション動作環境(複数OS) Windows Server 2012 Std(64bit) Windows 7(64bit) Windows 7(32bit) Windows XP(32bit) VB.net(.Net Framework 4.0)(32bitアプリ) 上記のアプリケーション動作環境からOracle 9iR2へODP.NETを使って 接続したいのですが、利用可能なODP.NETのバージョン(何bit版)はど れでしょうか。
こんにちは。 現在 oracle11を使用しています。 作業時間 を　文字型で '01:45' として格納したデータを Date型の'1.75'というデータに変換したいのですが、どうしたらできるでしょうか。 ご教授ください。
はじめまして。 この質問に関連する内容につきまして、ご回答を頂けたのですが 以下の事項につきまして、追加で質問させて頂きたく存じます。 【過去の質問】 >SQLにて、”指定の文字「-」を検索し、先頭から「-」のひとつ前までを取得”を実現したいのですが、 >これは実現できますでしょうか。（substrやinstrなどでは無理そうなので、お知恵お借りしたいです。） > >例） >01234567-001 >0123456-001 >012345-001 >0123456789-001 > >上記に対して、期待する実行結果は次の通りです。 >01234567 >0123456 >012345 >0123456789 【ご回答】 >select substr(col, 1, instr(col, '-') - 1) >from tbl; >でいいのではないでしょうか。 >'-'が含まれていない場合はnullが返りますので、そのあたりの制御が必要であれば適宜修正してください。 ★追加質問内容 上記のcolがNULL（'-'が含まれない）場合に、colのそのままの値を出力という形にすることは可能でしょうか。 例） 01234567-001 0123456-001 012345-001 0123456789-001 0123456　　← 111345　 　← 上記に対して、期待する実行結果は次の通りです。 01234567 0123456 012345 0123456789 0123456　　← 111345　　 ← お手数ですが、ご教示のほど宜しくお願い致します。
はじめまして。 SQLにて、”指定の文字「-」を検索し、先頭から「-」のひとつ前までを取得”を実現したいのですが、 これは実現できますでしょうか。（substrやinstrなどでは無理そうなので、お知恵お借りしたいです。） 例） 01234567-001 0123456-001 012345-001 0123456789-001 上記に対して、期待する実行結果は次の通りです。 01234567 0123456 012345 0123456789 こんなことは可能でしょうか。
ＳＱＬ文を分析している最中ですが、以下の構文の意味がわかりません。 where Aテーブル.Aフィールド = Bテーブル.Aフィールド and Aテーブル.Aフィールド = Cテーブル.Aフィールド(+) and Aテーブル.Aフィールド = Dテーブル.Aフィールド(+) この構文の「(+)」の意味を教えて下さい。 宜しくお願い致します。
SQLコマンドで、下記を実行すると「2014/04/03」などが取得できると思ったのですが、 「14/04/03」で取得してしまいます。 （aaa_dateは、DATE型で、「2014/04/03」などが入ってます） select TO_DATE(aaa_date,'YYYY/MM/DD') from AAA_TBL YYYYをYYにして、下記を実行すると、なぜか、「2014/04/03」と正常に取得します。 select TO_DATE(aaa_date,'YY/MM/DD') from AAA_TBL 逆の気がするのですが、なぜでしょうか。
以下のようなテーブルがあるとします。 column1 a,b,c <- カンマの数は最大50 b,d c,x SQLを実行し以下のような結果を返したいです。 以下の３つのことをすればできそうなのですが複数列を複数行にする方法がわかりません。 1.strtokenで50カラムに分割（カンマ分割） 2.　50カラムを1カラムにする 3.DISTINCTで重複データの削除 結果 a b c d x カンマの数が50あるので、かなり長いSQLになるのですが SELECT文50個をUNIONしてやればできるかなとも考えているのですが 何か良い方法はないでしょうか。 よろしくお願いします。
業務用に10個以上作成したストアドプロシージャ/ファンクションをパッケージとしてまとめようとしています。保守性の観点から、PACKAGE BODY内の各ストアドを、以下のようなイメージで別々のファイルで管理したいと思っています。 が、PACKAGEとBODYの分割はできたものの、BODY内のストアドを別々にすると、エラーとなってしまいます。 そういうことはできないのでしょうか？ [xxx_pkg.SQL] CREATE OR REPLACE PACKAGE xxx_pkg IS PROCEDURE procedure_a; PROCEDURE procedure_b; PROCEDURE procedure_c; END xxx_pkg; [xxx_pkg.procedure_a.SQL] PROCEDURE procedure_a IS -- aの処理 END procedure_a; [xxx_pkg.procedure_b.SQL] PROCEDURE procedure_b IS -- aの処理 END procedure_a; [xxx_pkg.procedure_ｃ.SQL] PROCEDURE procedure_c IS -- aの処理 END procedure_ｃ;
初めて質問させていただきます。 よろしくお願いいたします。 Oracle 9i　から 11g　へバージョンアップしました。 9iでは動いていたPL/SQLコマンドが11gでは 以下のようなエラーが大量に発生します A_FLG Ａシノニム名.列名%type , 　　　　　* 行16でエラーが発生しました ORA-00201：行16、列13： PLS-00201：識別子（シノニム名）.（列名）を宣言してください。 PROCEDURE D_FLG_UPD ( a in varchar2 ) is type D_TYPE is record ( J シノニム名.列名.列名%type , 　　　ここでエラー　　　→A_FLG Ａシノニム名.列名%type , B_FLG Bシノニム名.列名%type , C_FLG Cシノニム名.列名%type ); G H; begin これはどういった場合に発生するエラーなのでしょうか？ またOracleのバージョンによってPL/SQLのコマンドが動かなくなったりすることは よくあることなのでしょうか？ よろしくお願いいたします。
WindowsServer2008R2(64bit) SQLServer2012 Express からリンクサーバーで WindowsServer2003(32bit) Oracle9i で稼働しているデータベースに接続したいのですが、必要なのは 1：OracleClient11gまたはOracleClient12c 2：Instant Client 3：他 のどれをインストールすればよろしいでしょうか。保持している OracleClient9iをインストールしたのですがインストール自体は 終わっても正常にインストールできないようでOSから入れなおし ました。 Oracleについては初心者なのでどなたかご教授いただけると 助かります。宜しくお願い致します。
SQL初心者です。 よろしくお願い致します。 Oracle SQLのORDER BY句で日本語の別名と英字の別名とでは処理速度が変わるのでしょうか。 例えば、給与から控除額を引いて税抜き給与支給額の多い順に並べたい場合に 以下のようなSQLを検討しました。 ORDER BY句にはSELECT内の計算結果の別名を指定しました。 その結果、処理が遅くなる感じがしました。 代わりに、"税抜き給与支給額"をSIKYU_GAKと英字にすると早くなった気がしました。 日本語の別名と英字の別名とでは処理速度が異なるものでしょうか。 SELECT t1.ID AS "社員ID" ,t1.NAME AS "社員名" ,t1.KYUYO AS "給与" ,t1.ZEI AS "税金" ,t1.OTHER AS "その他" ,(t1.KYOYO - t1.ZEI - ｔ１.OTHER) AS "税抜き給与支給額" FROM 社員　t1 ORDER BY "税抜き給与支給額"
Oracle9iでvarchar2(3)に半角スペースを含む′01 ′と′002′が存在する場合、MAXでは′01 ′が取れてくるのはなぜでしょう？
助けてください……(T-T) oracleをつかっていますが、SQLが苦手すぎて、どうしたらいいか分かりません。。。 解決策をご存じの方、教えていただけないで しょうか？ テーブルは下記の2つがあります。 (1)Aテーブルの1カラムに、複数の商品IDを格 納している（カンマ区切り） (2)Bテーブルには、商品ID＆商品名の一覧が ある このAテーブルの商品ID列に番号から、Bテー ブルの商品名を取得したいです。 ■Aテーブル no | 商品ID 1001 | 1、2 1002 | 1、2、3 1003 | 3 ■Bテーブル 商品ID | 商品名 1 | 商品A 2 | 商品B 3 | 商品C ■とりたいデータの形 1001 | 商品A、商品B 1002 | 商品A、商品B、商品C 1003 | 商品C カンマ区切りで格納しているとin句は使えな いと知りました。。 テーブルにカンマ区切りで格納することは、 変えることはできませんし、 SQLで1回で取得しなきゃいけないのです。 そんなこと、可能なのでしょうか。。 明日の朝までに教えていただければ、 すごくすごく助かります。。 すみませんが、宜しくお願いします。
Oracleのストアドについて質問です。 32bit版ではコンパイルが通るのに、64bit版ではコンパイルが通りません。 Ora-00918列定義が未確定がでます。 列名ではなく、列番号で指定するとコンパイルが通るようになります。 ただし、きちんと値をとってきていない。 ・Oracle10.2.0.3 x32(windowsServer2003x32)でOK。 ・Oracle10.2.0.5 x64(windowsServer2008x64)ではコンパイルエラーになります。（Ora-00918） 列定義が未確定がでます。 同じくOracle11.0.1x64(windowsServer2008x64)でも同じエラーが出ます。 文字コードはS-JISです。 Oracle10.2.0.5にアップのパッチを当てています。 64bitでなにかあるのでしょうか？
oracleのシーケンスでdual表からselect文のnextvalで取得したものをインサート したいのですが、ループ内で上記処理を複数回行ったときに、値が一回目以降 更新されずに困っています。 例） for (i=0;i < 5){ (1)セレクト文発行しシーケンスを取得。 (2)取得したシーケンスを変数にセット (3)インサート実行（主キーに取得したシーケンスをセット） } こんな感じで実行したときに、はじめはシーケンスが+1されますが、 それ以降シーケンスが増加しません。そのため、重複エラーが発生してしまいます。。。 どのように対処したらよいのかまったく見当がつきません。 大変申し訳ないのですが、ご教示いただきたくよろしくお願い申し上げます。
お世話になります。 oracle11.2で とあるテーブルに select * from テーブル名（条件なし） としたらフリーズする現象が起きました。 元々のテーブル内には２５万行のデータがあったため 同じ構造で違う名前のテーブル（データは１行もなし）を新規作成して 同じようにselect文をなげたところこちらもフリーズしてしまいました。 構造は約５０の列があり 列数を指定して検索した場合、どちらのテーブルも結果が返ってきますが すべての列を指定しようとするとフリーズしてしまいます。 どのあたりを疑えば良いでしょうか？ よろしくお願いいたします。
暗黙的型変換で、 nvl2('aaa','iii',111) これは1を文字だと認識してくれますが upper(aiueo) これはエラーになる。 このように明らかに文字リテラルが入る箇所に ' 省略して入力しても暗黙的型変換が実行されないのはなぜ?
ORACLE　sqlPlusでの話ですが　 例えば、 deptno, dname, loc この三つの属性を持つ、dept表、dept_copy表があったとして INSERT INTO dept_copy SELECT * FROM dept WHERE deptno = 10; このような文は通りますか？ CREATE TABLE文ではこのような * を利用してもエラーにはならないはずなのですが。
VB.NET 2010でOracle11gに接続するプログラムを作っていますが、 接続方法がいまいちわからずに困っています。 プログラムを動かすサーバーはWindows Server 2008 R2の64bitだったので、 Oracle Clientも合わせた方がいいのかなと思い、64bit版をインストールしました。 ASP.NETのWEBアプリでは以下の接続文字列を用いてADO接続できました。 パラメータ値は例です。 （Web.configに記述） <connectionStrings> <add name="oracle" connectionString="Provider=OraOLEDB.Oracle;Data Source=db1;Password=pass1;User ID=user1" providerName="System.Data.OleDb" /> </connectionStrings> 次に、コンソールプログラムを作成し、同じサーバーで上記と同様の接続文字列で 接続しようとしましたが、エラーとなり接続できませんでした。 いろいろ記述を変えても接続できませんでしたが、最終的にOracle Clientの 32bit版を64bit版と違うフォルダにインストールし、以下の接続文字列で接続 できました。（INIファイルに記載） ConnectionString=Provider=OraOLEDB.Oracle;Data Source=db1;Password=pass1;User ID=user1 この状態でWEBアプリの方は何を使っているのかと思い、64bit版のインストールフォルダを リネームしたところ、WEBアプリの方は接続できなくなりました。 現状では32bitと64bitのOracle Clientが両方必要な状況ですが、本来ならどちらかだけで すむと思います。 32bitと64bitで接続文字列が変わるという情報は得られませんでした。 何がまずいのでしょうか？ 最初から32bit版をインストールすれば良かったのでしょうか。
データベースのテーブルのカラムのサイズを定義しようとしています。調べた限りでは、Oracle AL32UTF8においては、以下の容量を消費するとなっていました。 (1) ASCII -> 1 byte (2) 記号文字 -> 2 byte (3) 半角カナ、全角カナ、ひらがな、漢字 -> 3 byte これは、「1」や「a」などの英数字は1バイト、「%」や「#」などの記号は2バイト、「あ」「ア」「亜」などの全ての日本語は3バイトで保存されるということだと思いますが正しいでしょうか？ そうであれば、例えば氏名項目に２０文字を保証したい場合は、一番バイト消費の多い3バイトで見積もり、20 * 3 = 60バイトで定義すればよいでしょうか？ 第3水準文字、第4水準文字は4バイトで保存されるという記事もあったのですが、これらはとても稀なケースなので考慮せずに3バイトで考えておくのが一般的でしょうか？ あとは、バイトで考えずにNLS_LENGTH_SEMANTICSという初期化パラメータをCharにすることで文字数ベースにすることができるとも聞いたのですがこのアプローチは推奨されますか？全てのテーブルに影響があると思うので、大きな決断になると思うのですが普及したやり方なのでしょうか？ 以上、見解を教えて頂けると助かります。以上、宜しくお願いします。
前提：ORACLE 「一番古いレコードを取得する。」というのが条件です。 これを満たすだけであればSEQENCE等で連番を振れば満たせます。 しかし、日付時刻＋連番であればカラム一つで時刻まで把握できます。 (日付時刻を利用することはありませんが、付加価値？として。) というわけで、日付時刻＋連番(桁固定のサイクリック)の主キーを使いたいのですが、 以下のように同時刻で連番が先頭に戻ると順番が守れません。 時刻A９９９９ 時刻A００００　← あとから挿入したのに同時刻の先頭になる プログラムであれば同時刻なら連番を先頭から使うことも簡単ですが、 このよなことをSQL側だけでできるのでしょうか？ よろしくお願いします。
Oracleで一時表領域(TempTbs)用のTEMPファイル(TEMP01.DBF)を新規に作成しようと思いましたが 誤ってTEMP01.DBFに対してインデックス表領域(IndexTbs)を割り当ててしまいました。 ※IndexTbsを割り当ててるDBFファイルはもうひとつ存在してます なので一度下記のコマンドでオフラインにしました。 ALTER DATABASE DATAFILE 'E:\ORADATA\DATABASE1\TEMP\TEMP01.DBF' OFFLINE その後でE:\ORADATA\DATABASE1\TEMP\TEMP01.DBFを誤って別の場所(デスクトップ)へ 移動してしまい、その後で上記所定の位置へ戻し ALTER TABLESPACE IndexTbs DROP DATAFILE 'E:\ORADATA\DATABASE\TEMP\TEMP01.DBF';で 削除しようと思いましたが「ORA-02142:ALTER TABLESPACEオプションがないかまたは無効です」の エラーが表示され削除できません。OracleEnterpriseManagerでTEMP01.DBFファイルの属性を 確認するとステータスが「オフライン(リカバリが必要)」となっています。 正常にオフラインできていないようです。 残っていても問題ないのかもしれませんが、あっても気持ち悪いのでTEMP01.DBFを 削除したいのですが、正しい手順で削除するにはどうすればいいでしょうか？ よろしくお願い致します。
初めてWEBアプリのDB設計を行っています。 あまり時間がなく教育期間がないため、基本的なことがよくわかりません。 疑問 ・WEBページに対してマスタはもつものなのでしょうか。 例） WEBコード　001 　　　WEB画面名称　新規登録 　　　WEBアドレス　HTTP:// など・・・ 最低限これを押さえとけなどの参考ページ等ございましたら ご教授願います。
こんにちは。 独学でPL/SQLを学んでいるのですが、パッケージの使用でうまく処理が走らないので、 アドバイスを頂けたらと思い書き込みさせて頂くことにしました。 パッケージtestは、オーバーロードプロシージャSHOW_BIZDAYS(日付, 数値)とSHOW_BIZDAYS(日付)を含んでいます。パッケージコードは質問の下に書いております。 ■質問１ オーバーロードプロシージャSHOW_BIZDAYSの日付のみパラメータとする２つ目のプロシージャを EXECUTE test.SHOW_BIZDAYS('20-NOV-13') コマンドで実行したところ、『PLS-00307: このコールに一致する'string'が複数宣言されています。』というエラーが表示されてしまいます。 ２つのオーバーロードプロシージャのパラメータ数が異なるよう指定しているので、このエラーに関する原因を見つけれておりません。 ■質問２： SHOW_BIZDAYS(日付)において、ユーザーに数値を入力するようプロンプトをしたいのですが、 PROCEDURE SHOW_BIZDAYS( v_start_date IN DATE := sysdate) IS ACCEPT tdays PROMPT 'Enter how many days are needed: ' v_bus_days NUMBER := &tdays; と記載するとACCEPT文が無効とのエラーが検出されます。パッケージ内ではACCEPTが使用できないということでしょうか。 ■パッケージ create or replace PACKAGE test IS PROCEDURE SHOW_BIZDAYS( v_start_date IN DATE := sysdate, v_bus_days IN NUMBER := 30); PROCEDURE SHOW_BIZDAYS( v_start_date IN DATE := sysdate); END test; ■パッケージ本体 create or replace PACKAGE BODY test IS PROCEDURE SHOW_BIZDAYS( v_start_date IN DATE := sysdate, v_bus_days IN NUMBER := 30) IS v_counter NUMBER(3) := 1; v_date DATE := v_start_date; BEGIN WHILE v_counter <= v_bus_days LOOP IF UPPER(TO_CHAR(v_date, 'D')) NOT IN (1, 7) THEN DBMS_OUTPUT.PUT_LINE('The index is : ' || v_counter || ' and the table value is: ' || v_date); v_counter := v_counter + 1; END IF; v_date := v_date + 1; END LOOP; END SHOW_BIZDAYS; PROCEDURE SHOW_BIZDAYS( v_start_date IN DATE := sysdate) IS ACCEPT tdays PROMPT 'Enter how many days are needed : '; v_bus_days NUMBER := &tdays; v_counter NUMBER(3) := 1; v_date DATE := v_start_date; BEGIN WHILE v_counter <= v_bus_days LOOP IF UPPER(TO_CHAR(v_date, 'D')) NOT IN (1, 7) THEN DBMS_OUTPUT.PUT_LINE('The index is : ' || v_counter || ' and the table value is: ' || v_date); v_counter := v_counter + 1; END IF; v_date := v_date + 1; END LOOP; END SHOW_BIZDAYS; END test; 初歩的な質問で申し訳ありませんが、下記につきアドバイスをお願いします。
こんにちは。 みなさま、教えてください。 サーバーにOracle　11gデータベースを使用しています。 今回クライアントに先日リリースされたWindows8.1を導入しようと思っているのですが 最新のOracle Cliant(Oracle Databese 12c Release 1(12.1.0.1.0)はWindows8までの動作確認しか していないようです。 サポートセンターて問い合わせすると、今までのリリース経緯からすると Windows8.1対応リリースは来年10月頃になるのでは・・・ と言っていました。 私としては、それまで待てず当惑しています。 みなさま、このような悩みはございませんか？、
Oracleにおいて、三者の違いは何でしょうか。分かりやすく説明して頂けるとありがたいです。
私は今大学でWEBデータベースの講義を受け、その場で実習形式で学んでいるのですがなかなか理解が追いつかないです。やることはやりますが、理解ができていない状態です。なので、理解を深められるようなサイト、または書籍を探しております。 使用ソフトは、エクリプス、トムキャット、A5M2で使用言語はJAVAです。また、今はWEBデータベースということで、カレンダーを作成しながら学んでいるところです。しかし、一から作るのは時間的にも内容的にもということなのでしょうが、ある程度出来上がったものを使っています。まずは何から講義以外で勉強するべきでしょうか。 話がまとまらないので、まとめますと (1)WEBデータベースにあたって何をどの順番で学んでいくのがよいか (2)それにあたっておすすめの参考書またはサイト この2つを回答としてお願いしたいです。よろしくおねがいします
PCを再起動した際にOracleのサービスが正常に開始していない事があります。 [サービス]で確認するとサービスもリスナーも「開始」状態になっているのですが、DBソフト(ObjectBrowserなど)で接続しようとすると接続エラーになります。 普通のWindowsのパソコンにOracle10gを入れている状態です。 パソコン自体が6～7年ぐらい使っている古い物なので、物理的な不調かもしれませんが・・・ 何かわかる方が居ましたら教えて頂きたいです。
初歩的な質問で申し訳ありません。 以下のような３つのテーブルを結合する際に、ある１つのテーブルの内容を全て 表示したまま、その他のテーブルの内容を付加するような出力をしたいと考えています。 考え方としては、内部結合という事で、INNER JOIN を使うというような事は想像できますが、 ３つのテーブルではそのような事が可能でしょうか？ 最終的には出力想定イメージのような形としたいと考えています。 [口座] 銀行No 顧客No 残高 ------------------- B001 C001 30000 B001 C003 10000 B002 C001 40000 B002 C002 10000 B002 C004 50000 B003 C004 60000 [銀行] 銀行No 銀行名 --------------- B001 foo銀行 B002 bar銀行 [顧客] 顧客No 顧客名 -------------- C001 阿部 C002 村上 C003 渡辺 C004 越智 【出力想定イメージ】 銀行No 銀行名 顧客No 顧客名 残高 ------------------- B001 foo銀行 C001 安部 30000 B001 foo銀行 C003 渡辺 10000 B002 bar銀行 C001 安部 40000 B002 bar銀行 C002 村上 10000 B002 bar銀行 C004 越智 50000 B003 C004 越智 60000 ※ 口座情報に対し、銀行情報や顧客情報がないケースも存在します。 教えて下さい。 よろしくお願いします。
いつもお世話になっております。 datapumpの実行方法（expdp/impdp）について、ご存知の方がいらっしゃいましたら、ご教授の程お願い致します。 ------------------------------ ●環境 　Oracle 11g (11.2.0.3) 以下の手順で、エクスポート/インポート テストを行ったのですが、 expdpで"tables"を指定するとエラーとなり実行できませんでした。 full=y（データベース全体）は動きました。 tablesで指定するものは、"CREATE TABLE"で作成したテーブル名ではないのでしょうか。 また、テーブルスペースを削除"drop tablespace tbl01"したのですが、 expdpでデータベース全体をエクスポートしたものから、impdpしても 削除したものが戻せませんでした。 impdpのコマンドに誤りがあるのでしょうか。 ●expdp実行 ----- ・tablespace作成 $ sqlplus / as sysdba SQL> create tablespace tbl01 datafile '+data/testdb/datafile/tblsp1' size 10m autoextend off; ----- ・sequence作成 SQL> create sequence seq1; ----- ・TABLE作成 SQL> CREATE TABLE TEST_TBL(USER_ID VARCHAR2(8) NOT NULL, DEPT_NO VARCHAR2(8))　tablespace tbl01; ----- ・INSERT実行（5件分） begin for i in 1..5 loop INSERT INTO TEST_TBL (USER_ID, DEPT_NO) VALUES (seq1.nextval, '1234') ; commit; end loop; end; / ----- ・expdp使用する為の準備 ディレクトリの作成と read/write 権限の付与 $ sqlplus / as sysdba SQL> create directory expdp_dir as '/u01/tpump'; SQL> grant read,write on directory expdp_dir to system; ----- ・expdb実行 $ expdp system/pass dumpfile=TEST_DIR:expdp_all.dmp logfile= TEST_DIR:expdp_all.log full=y ＝＝＝＝＝ "SYSTEM"."SYS_EXPORT_FULL_01"を起動しています: system/******** dumpfile=TEST_DIR:expdp_all.dmp logfile= full=y BLOCKSメソッドを使用して見積り中です... オブジェクト型DATABASE_EXPORT/SCHEMA/TABLE/TABLE_DATAの処理中です -中略- SYSTEM.SYS_EXPORT_FULL_01に設定されたダンプ・ファイルは次のとおりです: /u01/tpump/expdp_all.dmp ジョブ"SYSTEM"."SYS_EXPORT_FULL_01"が11:31:19で正常に完了しました ＝＝＝＝＝ $ expdp system/pass tables=TEST_TBL dumpfile=TEST_DIR:expdp_tbl.dmp logfile= TEST_DIR:expdp_tbl.log ＝＝＝＝＝ "SYSTEM"."SYS_EXPORT_TABLE_01"を起動しています: system/******** tables=TEST_TBL dumpfile=TEST_DIR:expdp_tbl.dmp logfile= BLOCKSメソッドを使用して見積り中です... BLOCKSメソッドを使用した見積り合計: 0 KB ORA-39166: オブジェクトSYSTEM.TEST_TBLが見つかりません。 ORA-31655: ジョブに対してデータまたはメタデータ・オブジェクトが選択されていません ジョブ"SYSTEM"."SYS_EXPORT_TABLE_01"が完了しましたが、2エラーが11:33:54で発生しています ＝＝＝＝＝ ●impdp実行 $ impdp system/pass dumpfile=TEST_DIR:expdp_all.dmp logfile= TEST_DIR:impdp_all.log ＝＝＝＝＝ マスター表"SYSTEM"."SYS_IMPORT_FULL_01"は正常にロード/アンロードされました "SYSTEM"."SYS_IMPORT_FULL_01"を起動しています: system/******** dumpfile=expdp_dir:expdp_all.dmp logfile= full=y オブジェクト型DATABASE_EXPORT/TABLESPACEの処理中です ORA-31684: オブジェクト型TABLESPACE:"UNDOTBS1"はすでに存在します ORA-31684: オブジェクト型TABLESPACE:"TEMP"はすでに存在します ORA-31684: オブジェクト型TABLESPACE:"USERS"はすでに存在します ORA-39083: オブジェクト型TABLESPACEの作成が次のエラーで失敗しました: ORA-01119: データベース・ファイル'+DATA/testdb/datafile/tblsp1'の作成中にエラーが発生しました。 ORA-17502: ksfdcre:4 ファイル+DATA/testdb/datafile/tblsp1の作成に失敗しました ORA-15005: name "testdb/datafile/tblsp1" is already used by an existing alias -中略- ※以下のORAエラーが多数発生 例：ORA-31684: オブジェクト型TABLESPACE:"UNDOTBS1"はすでに存在します 例：ORA-39151: 表"SYSTEM"."REPCAT$_PRIORITY_GROUP"が存在します。スキップのtable_exists_actionのため、すべての依存メタデータおよびデータはスキップされます 例：ORA-39111: 依存オブジェクト型OBJECT_GRANT:"SYSTEM"はスキップされ、ベース・オブジェクト型VIEW:"SYSTEM"."SCHEDULER_PROGRAM_ARGS"はすでに存在します -中略- オブジェクト型DATABASE_EXPORT/SCHEMA/TABLE/CONSTRAINT/REF_CONSTRAINTの処理中です オブジェクト型DATABASE_EXPORT/SCHEMA/TABLE/STATISTICS/TABLE_STATISTICSの処理中です オブジェクト型DATABASE_EXPORT/SCHEMA/TABLE/POST_TABLE_ACTIONの処理中です オブジェクト型DATABASE_EXPORT/SCHEMA/TABLE/TRIGGERの処理中です オブジェクト型DATABASE_EXPORT/SCHEMA/POST_SCHEMA/PROCACT_SCHEMAの処理中です オブジェクト型DATABASE_EXPORT/AUDITの処理中です ジョブ"SYSTEM"."SYS_IMPORT_FULL_01"が完了しましたが、146エラーが20:14:48で発生しています ＝＝＝＝＝
SQLで、UPDATE文を使って行を交換したいのですが、例えばこのようなテーブルがあった時 No Name Qty -- ----- ----- 1 　皿 10 2　 串 20 3　 本 30 No1とNo2のQtyを入れ替えたいとき、Tmpのような所に一旦退避させて交換するような 方法以外で、入れ替える方法はありますか？
現在オラクルマスターブロンズの勉強をしています。 SQLを効率よく理解するため実機で動かしたく、黒本に付属しているDVDROMをインストールしようとしたのですが、11ｇデータベースのインストールがうまくいきません。 警告を無視して無理やりインストールを開始するとデータベース構築の時に容量不足でフリーズしてしまいます。 問題はTempファイルの容量不足と警告がでます。 必要はディスク領域は400MBに対して私のPCは264MBしかありません。 現状試したこと↓↓ ・Tempファイルの余分なファイルを全て削除⇒効果なし ・Tempファイルの容量拡大⇒効果なし ・Cドライブの容量確保⇒30GBの容量があるため、特に問題ない気がする。 ネットでも調べましたが、これ以上の解決策が浮かびません… 完全に白旗を振っている状況です。 OSはWINDOWS　VISTAです。 オラクルに詳しい方、是非ご協力お願いします。 また最悪オラクルDBがインストールができない場合、SQLプラスを使用できる環境もしくは策は何かありますでしょうか？ 宜しくお願いします。
以下のSQLにおいて、表Cに存在するすべてのレコードを表示したいのですが、 表Aと表Cに存在するものしか表示されません。 表Cをメインとし、表示させる方法はありますでしょうか？ select A.FITEMNO from A , B , B B2 , C where C.FCHILDITEMNO = A.FITEMNO(+) and C.FPARENTITEMNO = B2.FITEMNO and A.FITEMNO = B.FITEMNO and B.FITEMTYP = 'P' and (B2.FITEMNO = '123456789')
お世話になります。 下のようなテーブルでデータのメンテナンスを行いたいのですが、update,deleteを効率良く行う方法はありますでしょうか？ No カラムA　カラムB　カラムC　カラムD　 ---------------------------------------- 1 aaa 111 あああ 2 aaa 222 いいい 123 3 aaa 333 ううう 4 aaa 444 えええ 5 aaa 555 おおお 456 6 bbb 222 いいい 7 bbb 333 ううう 8 bbb 555 おおお カラムAが「aaa」のレコードと「bbb」のレコードがあり、カラムB,Cは一部のレコードが重複しています。 この状態から、 ・No2のカラムDをNo6のカラムDにセット ・No5のカラムDをNo8のカラムDにセット ・No2,3,5のレコードを削除 したいのです。 ※カラムB,Cが重複している場合、カラムAが「bbb」のレコードにカラムDの値を反映し、カラムAが「AAA」のレコードは削除したいです。 update,delete共に効率良く行う方法があれば、助かります。 初歩的な質問かも知れませんが、御教示いただけますと幸いです。 よろしくお願い致します。
初歩的なＳＱＬの質問で申し訳ありません。 以前にも同じような内容で投稿させて頂きましたが、教えて下さい。 下記のような、ある異なる名前の同項目を持つ２つのテーブルが存在します。 《テーブル》 Ａテーブル　 　社員番号、日付、内容、所属、時間、結果 Ｂテーブル 　社員番号、日付、内容、理由 　※ 内容に関しては、ＡテーブルとＢテーブルで全く違います。 これらの２つのテーブルをマージさせ、社員番号毎の内容毎、日付順に したいと考えています。 以前に以下のようなUNIONを教えてもらいましたが、所属、時間、結果、理由という 項目全てを出力するとした場合、どのように記載すれば良いでしょうか？ UNIONの場合、項目が異なるとエラーとなってしまうかと、、、 《UNIONのSQL》 SELECT * FROM ( SELECT 社員番号, 日付, 内容 FROM Aテーブル UNION SELECT 社員番号, 日付, 内容 FROM Bテーブル ) ORDER BY 日付, 社員番号, 内容 教えて下さい。 よろしくお願いします。
Oracleについて質問です。 sqlldrでデータをロードする際に、入力ファイルのレコードの終端文字を 指定できます。デフォルトは改行コードとなっていますが これを「＠改行コード」にしたいのですがどうすればよろしいでしょうか。 具体的には、 infile '入力ファイル名' "str 'XX'" XXの箇所を「@と改行コード」としたいのですがうまくいきません。 お手数ですがご教示願います。
EVENT --+-------------------------+----------------+ id| EVT| start_date | end_date --+-------------------------+-----------------+ 0 |AAAA| 2013-06-01　10:00 | 2013-06-01 14:00| --+-------------------------+-----------------+ 1 |BBBB| 2013-06-01 12:00 | 2013-04-01 18:00| --+-------------------------+-----------------+ 2 |CCCC| 2013-06-02 10:00 | 2013-06-05 12:00| --+-------------------------+-----------------+ 3 |DDDD| 2013-06-02 13:00 | 2013-06-05 18:00| --+-------------------------+-----------------+ 4 |EEEE| 2013-06-02 14:30 | 2013-06-05 17:00| ↑こんな感じでイベントを管理するテーブルがあります。 イベントの開催時間の重複を加味して何らかのイベントのある 連続した時間帯のみ取り出すSQLを書きたいのですが、 いい案はありますでしょうか？ 結果的には以下の様な情報が取り出したいです。 2013-06-01 10:00 - 18:00 2013-06-02 10:00 - 12:00 2013-06-02 13:00 - 18:00 ID 0と1は連続してるので　10:00 - 18:00 ID 2はどれとも連続してないので　10:00 - 12:00 ID 4はID3の中にあるので無視
Oracle11gで、以下のようなテーブルから、 「IDごとに、DTが最大のレコードのBUMONを1件ずつ取得」　したいです。 ＜テーブルTB＞ ID DT BUMON ------------- 1 9/1 A 1 9/2 A 1 9/3 B ★Bを取得したい 2 9/4 C 2 9/5 C ★Cを取得したい 3 9/1 D 3 9/3 E 3 9/3 E ★Eを取得したい ＜取得したいデータ＞ BUMON ------- B C E ＜考えたSQL＞ select distinct A.BUMON from (select ID, DT, max(DT) over(partition by ID) as MAXDT, BUMON from TB) A, (select ID, DT, max(DT) over(partition by ID) as MAXDT, BUMON from TB) B where A.ID = B.ID and A.DT = B.MAXDT ; 上記のような方法を考えましたが、取得できますでしょうか？ 現在、SQL実行環境がない場所にいるのですが、急ぎで確認したく、 どなたかお知恵を拝借できませんでしょうか？？ また、可能であれば、★のレコード全体を取得するSQLもご教授いただきたく存じます。 ＜★のレコード全体を取得した結果＞ ID DT BUMON ------------- 1 9/3 B 2 9/5 C 3 9/3 E
SQL文のOrder by句で2つのバインド変数を用いて、ソートする項目・ソート順を決めたいと思い、以下のようなSQLを作成いたしました。 Select row_Number() Over(Order by Case ：ITEM When 'PJコード' then PJコード When '部署コード' then 部署コード end Case ：LINE When '1' then DESC When '2' then ASC end .... バインド変数を直接Order by句に入れますと、結果は帰ってくるのですが、バインド変数の値がすべて無視されてデータが出力されます。 以上の理由より、Case文にてバインド変数の値を参照し、ソートする項目と順番を決めております。 上記のソースで実行しますとORA-00907：右かっこがありませんというエラーが表示されます。 2つ目のCase文（：LINE）を消し、最初のCase文だけを残して、並び順（DESC・ASC）を埋め込むと、実行される状態になります。 Oracleのバージョンは11gです。 ご回答よろしくお願いいたします。
現在、Oracle11g Release2　11.2.0.3（ASM使用）　の環境で、オンラインREDOログファイルが全て消失した場合を想定して、以下の手順で復旧の方法をテストしています。 ----- 1.sqlコマンドでテーブルに1件データを挿入する。 2.フルバックアップ（バックアップセット）を取得する。 3.sqlコマンドでテーブルに1件データを挿入する。 4.累積増分バックアップを取得する。 5.sqlコマンドでテーブルに1件データを挿入する。 6.DBをシャットダウンする。 (RMAN> shutdown immediate;) 7.オンラインREDOログファイルを全て削除する。 8.DBをマウントする。 （RMAN> startup mount;） 9.リストアをする。 （RMAN> restore database;） 10.バックアップの際に除外している表領域をオフラインにする。 （SQL> Alter database datafile '+DATA/orcl/DATAFILE/hoge2' offline drop;） 11.リカバリをする。 （SQL> recover database using backup controlfile until cancel;） （ログの指定は AUTO） 12.DBをオープンする。 （RMAN> alter database open resetlogs;） 13.sqlコマンドでテーブルの中を確認する。 （SQL> select * from HOGEHOGE;） （データが1件） ----- 上記の手順でDBをオープンにするところまで上手くいったのですが、 私の考えでは、13でテーブルを確認するとデータが2件はいっていると思ったのですが、 結果は、1件だけでした。 累積増分バックアップを取得した時点（データが2件入った状態）まで戻したいのですが、 解決の手がかりになる情報などがございましたらご教示いただけますでしょうか。 よろしくお願いします。
教えて下さい。 ある在庫システムを構築していますが、その中で、滞留在庫（６ヶ月動きがない在庫）を抽出 しようと考えています。 関係しそうなテーブルとしては、 　品目マスタ 　仕入データ 　発注データ 　在庫日次データ　※1 というテーブルが存在します。 ※1 在庫日次データというのは、仕入、発注、移動、出荷等のデータが、それらのアクションと 　　　同時にデータとしてそのテーブルに発生します。 イメージ的には、仕入データが発生した日から、在庫日次データにデータがないもをピックアップ すれば良いかと思われますが、どのようなＳＱＬを書けば良いでしょうか？ 初歩的な質問で申し訳ありませんが、教えて下さい。 よろしくお願いします。
お世話になります。 テーブルがA,Bと２つあり、Aの内容をBの内容と一致するようにUPDateしたい。 各テーブルには各々下記のフィールドがあります。 テーブルA　フィールド　DK、　　NUM　 テーブルB　フィールド　DKA、　DKB DK=DKAのときに 下記条件でデータセットしたいのですがUPDATE文がわかりませんご教授お願いします。 DKにDKBを NUMは20ケタのSTRINGで １から13桁目まで元のNUMの文字を 後ろ7桁にDKBと7桁に満たない場合は頭に０を付加した文字をセットしたい。 DK=DKB NUM=concat(substr(NUM,1,13),lpad(to_char(DKB),7,'0') 以上　宜しくお願いします。
はじめまして。 以下の環境で、インストールしてます。 物理マシン OS MS Windows 7 Home Premium 64-bit SP1 CPU Intel Processor @ 3.40GHz 8コア メモリー　16GB 仮想環境 VMware Workstation 9 仮想マシン Centos5.9(32bit) CPU 1コア メモリー 6GB データベース環境 Oracle10g Release 1 (10.1.0.2)　32bit 上記の環境で、仮想マシン上に行っています。 Oracle EnterPrise Manager Grid Contorol インストール途中で、RAM不足になります。 エラーメッセージは、下記のとおりです。 システムには現在5MBのRAMがあります。EnterpriseManager using an existing database インストールでは、少なくとも512MBの物理メモリーが必要です。 この環境では、インストールはできないでしょうか。 色々調べていたのですが、わからなかったので、アドバイスを頂けると幸いです。 よろしくお願いいたします。 vmstat -a procs -----------memory---------- ---swap-- -----io---- --system-- -----cpu------ r b swpd free inact active si so bi bo in cs us sy id wa st 0 0 0 5469796 454856 266152 0 0 136 50 1018 264 1 1 97 1 0 cat /proc/meminfo MemTotal: 6228356 kB MemFree: 5469672 kB Buffers: 36180 kB Cached: 510864 kB SwapCached: 0 kB Active: 266264 kB Inactive: 454808 kB HighTotal: 5373888 kB HighFree: 4675384 kB LowTotal: 854468 kB LowFree: 794288 kB SwapTotal: 6289436 kB SwapFree: 6289436 kB Dirty: 36 kB Writeback: 0 kB AnonPages: 173992 kB Mapped: 72576 kB Slab: 20932 kB PageTables: 5408 kB NFS_Unstable: 0 kB Bounce: 0 kB CommitLimit: 9403612 kB Committed_AS: 533940 kB VmallocTotal: 116728 kB VmallocUsed: 8396 kB VmallocChunk: 108172 kB HugePages_Total: 0 HugePages_Free: 0 HugePages_Rsvd: 0 Hugepagesize: 2048 kB sysctl -p net.ipv4.ip_forward = 0 net.ipv4.conf.default.rp_filter = 1 net.ipv4.conf.default.accept_source_route = 0 kernel.sysrq = 0 kernel.core_uses_pid = 1 net.ipv4.tcp_syncookies = 1 kernel.msgmnb = 65536 kernel.msgmax = 65536 kernel.shmmax = 4294967295 kernel.shmall = 268435456 net.ipv4.ip_local_port_range = 9000 65500 fs.file-max = 6815744 kernel.sem = 250 32000 100 128 kernel.shmmni = 4096 net.core.rmem_default = 262144 net.core.wmem_default = 262144 net.core.rmem_max = 4194304 net.core.wmem_max = 1048576 fs.aio-max-nr = 1048576 以上、よろしくお願いいたします。
こんにちは　shohei3728と申します。 会社にてoracleのシステムの一部を担当している者です。 現在、顧客先に導入しているシステムにて、エラーが発生し困っております。 知恵をお借りしたくこちらに相談させて頂きます。 具体的には下記の現象が発生しております。 ----------------------------------------------------------- バッチ処理にて下記のoracleのimportを行うと下記のエラーが発生しました。 imp user/password@sid file=filename full=y imp-00002:読み取り用のfilenameのopenに失敗しました。 インポート・ファイル：EXPDAT.DMP　> ----------------------------------------------------------- また、現状わかっている内容は以下になります。 ・ファイルはバッチと同じ階層にあり、パスが間違っている事はありませんでした。 ・oracle9i cl と　oracle 10g express　editionの同居 ・windows XP(32bit) 遠方の顧客なため、実際のコンソールを操作する事は難しいです。 （現状わかっている情報は顧客に電話にて操作して貰った内容になります。） 質問内容のレベルは低いかもしれませんが、顧客先にてトラブルが発生しているため、 藁をも掴む思いで書かせて頂いています。 当方の技術レベルもそこまで高くないので、噛み砕いてご助言いただければ幸いです。 ご教授の程、よろしくお願い致します。
RMANを使用してのバックアップとリカバリの検証 Oracleの知識があまりないので、変な事を聞いているかもしれませんが、 RMANのバックアップとリカバリについて以下の現象について、エラーが解決できずにいます。 ＝＝＝現象＝＝＝ Oracle11g Release2　11.2.0.3（ASM使用） 現在、指定の表領域以外のバックアップ（フルと累積増分）を取得し、累積増分を取得した時点までリカバリを行う検証を行っております。 ※バックアップコマンド ・フル 　backup incremental level = 0 format '+DATA/BACKUP/lv0backup_%U' database TAG 'dbbackup' plus archivelog TAG 'archivebackup' delete all input; ・累積増分 　BACKUP INCREMENTAL LEVEL 1 format '+DATA/BACKUP/lv1backup_%U' CUMULATIVE DATABASE TAG 'dbbackup' PLUS ARCHIVELOG TAG 'archivebackup' DELETE INPUT; RMANの環境構成に以下を設定 他はデフォルトです。 　CONFIGURE CONTROLFILE AUTOBACKUP ON; 　CONFIGURE CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK TO '+DATA/BACKUP/CF_%F'; 　CONFIGURE EXCLUDE FOR TABLESPACE 'TBLSP01';←データファイル6 　CONFIGURE EXCLUDE FOR TABLESPACE 'TBLSP02';←データファイル7 この設定で、以下のコマンドで累積増分バックアップを行った時点までリカバリしようとすると、エラーになります。 ～～～～～ RMAN> run{ set until scn = 1069044; restore database; recover database; alter database open; } 実行コマンド: SET until clause restoreが開始されました(開始時間: 13-08-14) チャネル: ORA_DISK_1が割り当てられました チャネルORA_DISK_1: SID=14 インスタンス=orcl_1 デバイス・タイプ=DISK ファイル6はデータベース全体のバックアップから除外されています。 ファイル7はデータベース全体のバックアップから除外されています。 チャネルORA_DISK_1: データファイル・バックアップ・セットのリストアを開始しています チャネルORA_DISK_1: バックアップ・セットからリストアするデータファイルを指定しています チャネルORA_DISK_1: データファイル00001を+DATA/orcl/datafile/system.313.823464749にリストアしています チャネルORA_DISK_1: データファイル00002を+DATA/orcl/datafile/sysaux.323.823464751にリストアしています チャネルORA_DISK_1: データファイル00003を+DATA/orcl/datafile/undotbs1.274.823464751にリストアしています チャネルORA_DISK_1: データファイル00004を+DATA/orcl/datafile/users.286.823464751にリストアしています チャネルORA_DISK_1: データファイル00005を+DATA/orcl/datafile/undotbs2.280.823464985にリストアしています チャネルORA_DISK_1: データファイル00008を+DATA/orcl/datafile/testspace3にリストアしています チャネルORA_DISK_1: バックアップ・ピース+DATA/backup/lv0backup_0ioha718_1_1から読取り中です チャネルORA_DISK_1: ピース・ハンドル=+DATA/backup/lv0backup_0ioha718_1_1 タグ=DBBACKUP チャネルORA_DISK_1: バックアップ・ピース1がリストアされました チャネルORA_DISK_1: リストアが完了しました。経過時間: 00:01:05 以前のバックアップへのフェイルオーバー restoreが完了しました(完了時間: 13-08-14) recoverが開始されました(開始時間: 13-08-14) チャネルORA_DISK_1の使用 RMAN-00571: =========================================================== RMAN-00569: =============== ERROR MESSAGE STACK FOLLOWS =============== RMAN-00571: =========================================================== RMAN-03002: recoverコマンドが08/14/2013 20:57:47で失敗しました RMAN-06556: データファイル6は、SCN 1069044より古いバックアップからリストアする必要があります ～～～～～ 私には、なぜバックアップから除外されているデータファイル6に対して「～古いバックアップからリストア～」といったメッセージが出てくるのか理解できていません。 おそらくリカバリで使用するコマンドが誤っているのだと思うのですが、このエラーの解決のヒントなどございましたらご教示ください。 よろしくお願いします。
Oracleの動作の仕組みについてご教示ください。 1.初回、OracleクライアントがOracleサーバーのデータベースに接続するときは、接続要求をリスナーが受け付けるが、二回目以降、同じデータベースに接続する際、リスナーに接続要求を行わずに直接データベースとやり取りを行うという認識でいいでしょうか。 2.1の認識で間違いがない場合、Windows、Linuxとも同じでしょうか。また、バージョンによって違いがありますでしょうか。
こんにちは ２つのDBより新しい１つのDBにテータを移行することになりました。 VB.NETでプログラムを作成し移行しようと思っています。 今までは１つのDB内での移行は行った事があります。 今、悩んでいるのは他のDBのテーブルを参照したいのですが方法がわかりません。 よろしかったら教えていただけませんか？ オラクルバージョンは１１Gです。 VB.NET２００８でプログラムを作成するつもりです。 よろしくお願いいたします。
Oracleのトリガーについて質問です。 旧システムから新システムへデータ移行を行おうとしているのですが、 新システムではNEWテーブル（仮名）が新規で追加されています。 データ移行の方法として、旧システムのダンプファイルをエクスポートし、 新ステムにユーザを再作成後インポートしました。 その後、あらかじめ新システムでNEWテーブルのみテーブル指定のエク スポートを行っていたダンプファイルより、追加でインポートを行いました。 これでデータ移行完了と思っていたのですが、NEWテーブルのデータはトリガー により生成されるらしいのですが、どのタイミングで生成されるのでしょうか？ データ移行完了時はデータ0件です。 NEWテーブルをインポートする順番が逆なのでしょうか？ それともインポートではトリガーは起動しないのでしょうか？ または、トリガーの仕組みが消えている（？）のでしょうか？ （納入先に行かないと確認できない状態なので実際のデータベースが確認できません…） Oracleはあまり詳しくないため、わかりづらい質問かもしれませんが よろしくおねがいします。 【環境】 Oracle11g R2 Windows2008Server
Oracle Database Express Editionを使って勉強中の者です。 商品TBL、予約TBL、明細TBLと3つのテーブルを使用して、商品に対して予約と受取の明細がきちんと出ているのか、件数を出すSQLを組みたいと思っています。 例えば、 【商品TBL：shohin】 shohin_no / shohin_nm / price ----------------------------- s001 / name1 / 1000 s002 / name2 / 1500 s003 / name3 / 2000 【予約TBL：yoyaku】 yoyaku_no / shohin_no / status(1:予約, 2:受取) ----------------------------- y001 / s001 / 1 y001 / s001 / 2 y002 / s001 / 1 y002 / s002 / 1 y002 / s002 / 2 【明細TBL：receipt】 shohin_no / status / receipt ----------------------------- s001 / 1 / abc.. s001 / 2 / def.. s002 / 1 / ghi.. 【想定結果】 商品NO / 予約数 / 予約明細数 / 受取数 / 受取明細数 ----------------------------- s001 / 2 / 1 / 1 / 1 s002 / 1 / 1 / 1 / 0 s003 / 0 / 0 / 0 / 0 としたいのですが、どうにも上手くいかず、下記のような結果が返ってきます。 【結果】 商品NO / 予約数 / 予約明細数 / 受取数 / 受取明細数 ----------------------------- s001 / 2 / 2 / 2 / 2 s002 / 1 / 1 / 1 / 0 s003 / 0 / 0 / 0 / 0 私が実行したSQLは下記です。 恐らく何か初歩的な所で間違っているような気がするのですが、自分では分からず…。 一体何がいけないのか、ご教授の程、よろしくお願い致します。 select shohin.shohin_no as "商品NO" ,count(yoyaku_1.shohin_no) as "予約数" ,count(receipt_1.shohin_no) as "予約明細数" ,count(yoyaku_2.shohin_no) as "受取数" ,count(receipt_2.shohin_no) as "受取明細数" from shohin ,(select * from yoyaku where yoyaku.status = '1') yoyaku_1 ,(select * from yoyaku where yoyaku.status = '2') yoyaku_2 ,receipt receipt_1 ,receipt receipt_2 where yoyaku_1.shohin_no(+) = shohin.shohin_no and yoyaku_2.shohin_no(+) = shohin.shohin_no and receipt_1.shohin_no(+) = yoyaku_1.shohin_no and receipt_1.status(+) = yoyaku_1.status and receipt_2.shohin_no(+) = yoyaku_2.shohin_no and receipt_2.status(+) = yoyaku_2.status group by shohin.shohin_no order by 1
Oracle 11gを使用しているSQL初心者です。 テーブルの列名を取得する方法についての質問です。 テーブルの列名を取得するときは以下のSQLで取れると思っています。 select column_name from user_tab_columns where table_name = 'テーブル名'; --実行結果-- COLUMN_NAME ------------------------------ NAME1 NAME2 しかし、テーブルにTIMESTAMP型が含まれていると 「レコードが選択されませんでした。」 と表示されます。 TIMESTAMP型が含まれるテーブルは上記のSQLでは取得できないのでしょうか。 TIMESTAMP型が含まれるテーブルの列名の取得方法をご存知の方がいらっしゃいましたら、 ご教示ください。よろしくお願い致します。
■やりたいこと フェッチして取得したデータを条件にカウントした結果を取得したい。 ■事象 フェッチして取得したデータにダブルクウォートで囲まれている為、EXECUTE時にORA-00904が発生する。 ■教えて欲しいこと カーソルおよびフェッチ時にダブルクウォートを削除、またはシングルクウォートに変換をすることが可能でしょうか。または、他の方法でカウントを取得する方法がございますでしょうか。 サンプルコードを記載しておりますのでご確認、ご教授のほどよろしくお願いします。 ※※※の箇所が本事象発生箇所となります。 ■サンプルコード DECLARE V_EXEC_STRING VARCHAR2(2000); V_EXEC_COUNT NUMBER; CURSOR TESTCUR IS SELECT TEST_NAME,TEST_ID,TEST_DATE FROM TARGET_TBL WHERE TEST_NAME IN (SELECT tb1.TEST_NAME FROM (SELECT TEST_NAME FROM TARGET_TBL WHERE STATUS = '2') tb1 INNER JOIN READ_TBL tb2 ON(tb1.TEST_NAME = tb2.TEST_NAME)); --取得レコードを格納する変数定義 TESTREC TESTCUR%ROWTYPE; --処理開始 BEGIN --カーソルオープン OPEN TESTCUR; --ループ開始 LOOP --フェッチ 1行ずつデータ取得 FETCH TESTCUR INTO TESTREC; --レコードの最後でループを終了 EXIT WHEN TESTCUR%NOTFOUND; V_EXEC_STRING := ''; V_EXEC_STRING := V_EXEC_STRING || 'SELECT COUNT(*) FROM READ_TBL WHERE TEST_NAME = '|| TESTREC.TEST_NAME; ※※※上記TESTREC.TEST_NAMEに"AAAA"の形でデータが入るため、下記実行時にORAエラーが発生する。 EXECUTE IMMEDIATE V_EXEC_STRING INTO V_EXEC_COUNT; IF V_EXEC_COUNT = '1' THEN UPDATE TARGET_TBL SET TEST_ID = ( SELECT TEST_ID FROM READ_TBL WHERE TEST_NAME = TESTREC.TEST_NAME), TEST_DATE = ( SELECT TEST_DATE FROM READ_TBL WHERE TEST_NAME = TESTREC.TEST_NAME), STATUS = 10 WHERE TEST_NAME = TESTREC.TEST_NAME; END IF; IF V_EXEC_COUNT != '1' THEN UPDATE TARGET_TBL SET STATUS = 20 WHERE TEST_NAME = TESTREC.TEST_NAME; END IF; END LOOP; CLOSE TESTCUR; COMMIT; END; /
お世話になります。 excelからADOでoracleのデータベースにある テーブルの必要なデータのみを抽出してexcelに 書き出そうとしています。 excelのvbaコードで、まず、ADOコネクションの生成として、 「cn.Open "Provider=OraOLEDB.Oracle;Data Source=" & "DB名" & ";User ID=hpsuser;Password=○○○;", "○○○", "○○○"」と書き、 ADOレコードセットの生成で、 「 rs.Open "～(1)～", cn, adOpenDynamic, adLockOptimistic, adCmdText」 と書いていますが、上記「～(1)～」の部分がかなり長いクエリ文になっているからなのか、 エラーがかかってしまいます。 単純なテーブルのデータを呼び出す事しかできないのか、又、 長いクエリ文のデータを抽出したい場合どの様にしたら良いのか、 どなたかご親切な方、ご教示頂けます様、宜しくお願いいたします。
テーブルA：承認が必要なデータが保存されます。 テーブルB：承認が完了したデータが保存されます。 承認処理はWebからオンライン処理で行います。 承認完了後、バッチ処理でテーブルBに内容をコピーします。 承認完了時の処理として、以下の２パターンのどちらにするかで悩んでいます。 １．テーブルAの完了フラグをONにする。 　　バッチ処理は、テーブルAの完了フラグがONのデータを対象とする。 ２．新たにテーブルCを設け、承認完了したデータをコピーする。 　　バッチ処理は、テーブルCに存在するデータを対象とする。 １は、完了・未完了が混在するデータの中から完了データを抽出しますが テーブルAの完了フラグに索引をつけておけば気にする必要がないのでしょうか？ ２は、存在するデータ全てが処理対象となる為、データの抽出は用意ですが その為だけのテーブルCを作るのもありなのでしょうか？ なお、データ件数は最大で５０万件程度を想定しています。
Oracle11gでlistener.logが肥大化し、4GBまでいってしまい、 停止しました。 ログをスイッチし、Oracleは動作したのですが、 アプリケーションサーバからアプリケーションが動作しません。 例えば、SQLPLUSでSQLを発行すると正常ですが、 dllからは動作しません。 なんとなくですが、with句を用いたものが失敗しているようです。 やっぱりアプリケーションサーバを再起動でしょうか？ 日曜日まで再起動ができないため、何か方法があればご教示ください。
オラクル初心者です。 データベースを構築するにあたってマテリアライズドビューを以下のようなロジックで作成しています。 SELECT A.a, A.b, CASE WHEN (A.c)-(A.d) AS sa その際、(A.c)-(A.d) の差の値によって saの値を変えたいと思っています。 具体的には、(A.c)-(A.d)の差が正の値であるなら、saにはその値を、 (A.c)-(A.d)の値が負の値なら、saには0を出力させたいと考えています。 CASE WHEN ( CASE WHEN (A.c)-(A.d) > 0　THEN … )AS saと書くと右（）が足りないと怒られてしまおます。 この場合、どのようにロジックを書けばよいのでしょうか。 ご回答よろしくお願いします。
将来的にRACのクラスタ構成のDBサーバを導入するのですが、それにあたって事前に勉強しておく目的で、社内の余ったマシンを使って、RACを構築しようとしています。そもそも2台だけで構築は可能なものでしょうか？Oracleの版数は11gR2です。普通にやると外部の共有ディスクが必要のようなのですが、資産としてないので、可能であれば2台のマシンでなんとか構築したいと考えています。 今、実際にOracle Linux 6.4をインストールしました。BindのDNSインストール・設定も完了し、Oracle Grid Infrastructureのインストールを始めたところです。Storage Optionの画面で、 (1) ASM (2) Shared File System が選択出来るところまで来ています。ASMを選んで次に進むと、本来であればディスクの候補のリストが下に表示されるのでしょうが、何も表示されません。ここは、共有ディスクを購入すれば出てくるということなのでしょうか？ Amazonで検索したところバッファローやIODataなどの安価なNASが二万円前後で買えなくもないのですが、そういったものでも使えるはずなのでしょうか？ 2台のマシンにはそれなりの容量の内臓HDDがあるので、これらを流用して何とか構築したいです。。　また、(2)のShared File System（共有ファイルシステム）とは、NFSといった話でしょうか？　あまりASMとの違いがわかっていないのでご教示頂けると助かります。　NFSで構成する、という話であれば、もう一台だけオンボロマシンがないこともないのでOracle Linuxを導入してNFSとして構築できなくもないかもしれませんが、3台構成で複雑になるので避けたいです。。 お手数ですがおわかりの方いらっしゃいましたらご回答お願いします。
下記のようなテーブルで、　レベル4以下で点数が入力されているMAXの行を持ってくるにはどうしたらよいでしょうか？よろしくお願いいたします。 職員番号氏名レベル点数 01000山田　花子4 01000山田　花子340 01000山田　花子230 01000山田　花子120 01100田中　あああ410 01100田中　あああ320 01100田中　あああ230 01100田中　あああ140 01200佐藤　あああ4 01200佐藤　あああ3 01200佐藤　あああ230 01200佐藤　あああ140 この場合欲しい結果は　職員番号01000の人は点数40点の行、01100の人は点数10点の行、01200の人は点数30点の行　　3行を表示したいです。
Oracle Linuxのインストールされているnode1、node2をRAC構成にするために今Oracle Grid Infrastructureをインストールしようとしています。Cluster Node Informationの画面で今Hostname（及びVirtual IP Name）を2台追加しました。 ・node1.abc.com（VIP: node1-vip.abc.com） ・node2.abc.com（VIP: node2-vip.abc.com） 次にSSH ConnectivityのボタンからOSユーザgridとパスワードを入力し、Setupを押したところ、正常に完了しました。試しに各ノードのターミナル上から $ ssh node1.abc.com date $ ssh node2.abc.com date と打つとパスワード入力抜きで日付が表示されますので、実際に設定は成功していると考えます。しかしこの状態で次の画面に進もうとすると（もしくはTestボタンを押すと）次のようなエラーメッセージが表示されます。 [INS-06006] Passwordless SSH connectivity not set up between the follwoing node(s): [node1, node2] なぜこのようなことが起きるのでしょうか？ どのようにすれば回避できますでしょうか？ 以上、宜しくお願いします。
8桁の生年月日(バーキャラ型の文字列 (例：19830609）) から 基準日(こちらも同様に8桁のバーキャラ型(例：20130613)時点の年齢を求めたいです。 この場合結果は30 できるでしょうか？ <生年月日> ID 生年月日 1 19830609 2 19830601 3 19830501 ＜基準日＞ ID 基準日 1 20130616 2 20120616 3 20110601
質問です。 下記テーブルで TOKUTENテーブルのHYOKIKAN_FR時点の氏名をNAMEテーブルからGETし TOKUTENテーブルにくっつけて出したいのですが、どうしたら良いでしょうか よろしくお願いいたします。 <NAME> SYOKUINID SIME TKYSTADATE TKYENDDATE 1 あああ 0000000020120331 1 いいい 2012040199999999 2 花子 0000000099999999 3 太郎 00000000 20140101 3太郎２ 2014010299999999 4 田中 0000000099999999 5 鈴木 0000000020101231 5 鈴木２ 2011010199999999 <KIHON> SYOKUINID SYKNCODE SEX BTD 101100 2 19800101 2 01000 2 19900101 3 02000 119990202 4 03000 1 19880808 5 04000 1 19870301 <TOKUTEN> SYOKUINCD HYOKIKAN_FR HYOKIKAN_TO TOKUTEN 00001 20120401 20130331 00002 20120401 20130331 00003 20120401 20130331 01000 20120401 20130331 10 01001 20120401 20130331 01100 20120401 20130331 20 01111 20120401 20130331 02000 20120401 20130331 30 02222 20120401 20130331 03000 20120401 20130331 40 04000 20120401 20130331 50 0500020120401 20130331 60
はじめまして！ ある日、急に以下のメッセージが出てしまい、エクスポートができなくなってしまいました。 EXP-00056: Oracleエラー1578が発生しました。 ORA-01578: Oracleデータ・ブロックに障害が発生しました(ファイル番号99、ブロック番号99999) ORA-01110: データ・ファイル99: 'D:\ORACLE\ORADATA\xxxxx\yyyyyy.DBF' また、DELETEをかけるとやはり、データ・ブロック障害とのことで不正終了します。 障害になってしまったところのデータはあきらめますが、それ以外のデータだけでも 何とか取り出したいです。たいへん困惑しております。 どうかよろしくお願いいたします。
Oracle(10g)のあいまい検索について。 DB上に「ABC」「DEF」という２つのデータがある状態で、 「ABCDEF」で検索した場合について、 検索結果として、「ABC」と「DEF」の両方を得る方法はありますでしょうか？ （現状では対象データがありませんとなります。） LIKEによるあいまい検索や、Oracle textによる全文検索では、 上記の検索結果を得ることができません。 LIKEやOracle textの場合はあくまで部分一致なので、 検索対象の文字列（[ABC」「DEF」）より長い（「ABCDEF」）文字列での 検索はヒットしないようです。 ご存じの方いましたら、ご教示頂きたいと思います。 以上
お世話になります。 Oracle Sqlでの質問を致します。 Oracleのデータで重複データを削除したく 下記の構文を書いたのですが、 右括弧がありませんと言うエラーが出てしまいます。 見た目括弧はちゃんとあると思うのですが、 どこが悪いのか分かりません。 ご親切な方、ご教示くださいます様、 宜しくお願いいたします。 　　　　　　　　　記 DELETE FROM D入庫データ WHERE ID NOT IN ( SELECT MIN(ID) FROM D入庫データ GROUP BY PPID,台車番号,入庫数量,ロット番号,TO_CHAR（登録日時,'yyyy,mm,dd'） WHERE TO_CHAR(SYSDATE,'yyyy/mm/dd)=TO_CHAR（登録日時,'yyyy/mm/dd'） ）；
Oracle11gGoldの勉強をしているのですが、RMANのチューニングについて理解出来ない部分があります。 ・rmanの非同期I/Oを制御にするには、「DISK_ASYNC_IO」を有効にすべし ・ディスクに対するI/Oスレーブを制御するには、「DBWR_IO_SLAVES」を有効にすべし # I/Oスレーブとは非同期I/Oの際に使用されるバッファ 上の２つを踏まえた上で、次の一文が理解できません。 ・ただし非同期I/Oが有効な場合、I/Oスレーブは使用されません。 # 黒本のP223より 非同期I/Oが有効なら、I/Oスレーブが使用されるのではないでしょうか？ どなたか、RMANのチューニングに詳しい方、ご教示頂けませんでしょうか。
以下の条件を複合したSQL文を考えています。 SQLが分かる方、お手数ですがよろしくお願いいたします。 ●TBL_1、TBL_2のJUDGEが共に「OK」である、IDとJUDGEとTBL_2のDATE ◆TBL_1 ID ,JUDGE,DATE 001,OK ,20100101 002,NG ,20100102 ◆TBL_2 ID ,JUDGE,DATE 001,OK ,20130101 002,OK ,20130102 ◆希望検索結果 ID ,JUDGE,DATE 001,OK ,20130101 おそらく結合という処理が必要なのだと思います。 SQLの知識をお持ちでお時間がある方、よろしくお願いいたします。
自サーバDBでselectしたデータをそのまま他サーバDBへ直接insert出来ますか？　出来るんであればその方法を教えてください。
ODBCにてOracleに接続を行うAccessを作成し、ユーザに使用頂いております。 ２つのサーバがあり、それぞれOracleの本番環境、テスト環境としています。 （双方に作成したテーブルのDB名、スキーマ名は同一です） 開発用端末である自分の端末には、テスト用サーバへ接続するためのtnsnames.oraが、またユーザの端末には、本番用サーバへ接続するためのtnsnames.oraがセットされています。 自分の端末にて開発・テストが済んだら、ユーザの端末にAccessファイルを配布。 しかしこの度、テスト用サーバが撤去されることになりまして、、、これまで本番環境として使用していたサーバにテスト環境を同居させた場合、Accessファイルを変更する事なく　本番⇔テスト を切り替えるようテスト環境を構築する方法はありますか？ テーブルはリンクして使用しております。DB名やスキーマ名を別名で作成をと考えましたが、Access内で指定されるのでNGですよね。。。 よろしくお願いします。
rmanで別ホストへリストアする際に、Oracleのマニュアルを見ると制御ファイルのautobackupからのリストアを行っています。 制御ファイルを別ホストのrmanのカタログなり制御ファイルに登録する必要があるかと思うのですが、 それはどうやってやればいいのでしょうか。 ちなみに以下を参照しています。 http://docs.oracle.com/cd/E16338_01/backup.112/b …
DBA_SEGMENTSのBYTEにて表示されるのは割当サイズ？だと思われるのですが（実サイズではなく）、これはテーブルをCREATE時に決められるサイズなのでしょうか？ データをINSERTすると徐々にDBA_SEGMENTSのBYTEの数値も大きくなるのでしょうか？
初歩的なＳＱＬの質問で申し訳ありません。 教えて下さい。 下記のような、ある２つの異なる名前の同項目のテーブルが存在します。 《テーブル》 Ａテーブル　 　社員番号、日付、内容 Ｂテーブル 　社員番号、日付、内容 　※ 内容に関しては、ＡテーブルとＢテーブルで全く違います。 これらの２つのテーブルをマージさせ、社員番号毎の内容毎、日付順に したいと考えています。 どのようなＳＱＬを書けば良いでしょうか？？ 尚、テーブルに関しては、諸事情であえて２つに分けてあります。 よろしくお願いします。
Oracle初心者です。 機器更新によるシステム移行を行っているのですが、 Oracleより、抽出データをCSVに出力する、プロシージャにて、 「ORA-29280: 無効なディレクトリ・パスです。」 のエラーが出て対処法が分からずに困っています。 以下、プロシージャ部分抜粋 -------------------------------------------------------------------------------- fno1 utl_file.file_type := utl_file.fopen('EXPORT_DIR','TEST1.csv', 'W'); fno2 utl_file.file_type := utl_file.fopen('EXPORT_DIR','TEST2.csv', 'W'); -------------------------------------------------------------------------------- 上記の、「EXPORT_DIR」とは、どこで定義されている変数(?)なのでしょうか？ なんとなく、EXPORT_DIRが正しくないためのエラーと考えているのですが… 処理の流れとしては、TEST.bat → TEST.sql → プロシージャ　　で、 TEST.batには試しに、SET EXPORT_DIR = D:\TEST としてみたのですが、エラーのままでした。 ひょっとして、Oracleに設定すべきもの？ すみませんが、どこでどのように定義するか教えてください。 環境： Oracle11g WindowsServer2008R2
あるカラムを整数で割り、結果が整数で計算できたもののみ 出力を行いたいのですがどうすればよいでしょうか？
オラクルで作成しているのですが、関係演算子が無効です。と出ます。 どこを修正すればよいでしょうか SELECT * FROM 表, ( SELECT col FROM 表 WHERE col1,col2 > ) WHERE col = MIN(col);
SQLについてお聞きしたいです。番号カラムの中で最大の数字をもつフィールドと 同じコードを持つデータを、表から全て取得したいと思っているのですが 書き出すとGROUP BYの式が間違っているというエラーが出てしまいます。 SELECT * FROM 表 GROUP BY コード HAVING MAX(番号) =　コード どう調べればいいのか分からず四苦八苦しています。どこを直せばよいでしょうか？
パソコンにOracle Client10gとOracle Client11gを インストールしたいのですが、注意点はありますか？？ Oracle Client10g⇒Aシステム Oracle Client11g⇒Bシステム ２つのシステムを同時に起動することもあります。
以下のテーブルがあります。 table ID key code cls add_date -- ---- ----- ---- ---------- 1 0001 A01 0 2013/01/01 2 0001 A01 0 2013/01/15 3 0001 B01 0 2013/02/01 4 0002 C01 0 2013/01/20 5 0003 XYZ01 0 2013/01/10 6 0003 XYZ01 0 2013/01/20 ： このテーブルからkey、codeが重複したものを除いて、一意となる日付が最新のを 取り出したいのですがSQLをどのようにすればよいか教えてください。 結果： 2 0001 A01 0 2013/01/15 3 0001 B01 0 2013/02/01 4 0002 C01 0 2013/01/20 6 0003 XYZ01 0 2013/01/20 分析関数、相関関数を使うのでしょうか。 使わなくてもできるのでしょうか。 今後の為に、両方を教えてください。
こんにちわ。 取り急ぎ有識者の方にご教授いただきたい点があります。 シェル上にて、以下のようなことをやりたいのですが、上手くできません。 --ココから # /bin/sh sqlplus Userid/Passwd@sid while true <--無限ループ do exec dbms_mview.refresh('mview_name','c'); <--マテビュー(mview_name)を完全リフレッシュ done exit 0; --ココまで 上記のように、sqlplusにてDBにログインした後、 リフレッシュコマンドをlinuxコマンドのwhile文で挟んでしまうと、 「oracleに"while・・"のようなコマンドはありません。」 のようなエラーメッセージが出て怒られてしまいます。 こういった場合の回避策・正しい書き方をご教授ください。 よろしくお願いします。 P.S 因みに、上記のようなことをやりたい理由として、 DBへの負荷試験(※)を実施するのが目的となります。 ※断続的にリフレッシュを実行し続ける 無限ループでブン回し続けて、試験終了後、 Ctrl+[c]で停止する想定です。
sql文の中で以下のように時間を指定してselectしています。ですが、時間を「sqlの実行時間からn分前までの間」に修正したいと考えています。どなたかご教示いただけませんでしょうか。 select count(*) from tableA where hoge = '0000' and end_time >= cast('2000/1/01 00:00' as timestamp) and end_time < cast('2011/1/31 00:00' as timestamp) たとえば select count(*) from tableA where hoge = '0000' and end_time >= sqlを実施した時間から45分前 and end_time < sqlを実施した時間 のようにしたいです。 ご協力お願い致します。
ストアドプロシージャの中であるSQLの前に ２秒程度待ちを入れたいのですが、可能でしょうか。 INSERT xxxxxxxxx ２秒待ち UPDATE xxxxxxxxx みたいな形にしたいのです。 どなたかお分かりになる方、ご教授のほど、お願い致します。
職場で沢山仕様書を読んで沢山のSQL文を作成するしか方法ないのでしょうか 私の職場はプログラムの修正が多いため新規に仕様書からSQL文を 考える機会が少なく、今あるSQL文に項目を追加するというパターンが おおいです。そのため、複雑な仕様のSQL文を経験する機会が少ないです。 しかも、仕様書を作らずメモ書きや口頭でのプログラム作成が多いため 仕様書がなかったり古かったりで既存のコードからのSQL文の勉強 が難しいです。 皆さんは新人時代どのようにSQL文をマスターしましたか？ 独学方法等を教えてください
コミットされるタイミングに関して。。。 ----------------------------------------------------- REDOログバッファがREDOログファイルに書き出されるタイミングは ・コミットした時 ・3秒毎 ・REDOログバッファが3分の1になった時 ・DBWnがデータファイルに書込むとき ------------------------------------------------------- 上記の認識ですが、この中の3秒毎と言うのが理解できません。 こちらで試してみた結果がこちらです。 プロンプト1にて (1)sql接続 (2)name列確認 結果⇒test01 (3)name列更新 結果⇒test02 (4)コミットせずに3秒以上経過。 プロンプト2にて (5)sql接続 (6)name列確認 結果⇒test01 となります。 3秒毎にコミットされていない！！ (4)でコミットをしてやると、(6)での結果はtest02になります。 3秒毎とはどういったことなのでしょうか。 よろしくおねがいいたします。
環境：Windows 2008 standard edition 64bit Sqldeveloper：sqldeveloper64-3.2.20.09.87-no-jre java：jdk-6u33-windows-x64.exe 今回、Oracleへの接続として、Sqldeveloperを用いて接続しようと考えています。 　※ 厳密には環境の移植（32bit サーバ　⇒　64bit サーバ） その際に、以前の32bit環境では問題なく起動したSqldeveloperが、なぜかこのサーバでは 下記のようなポップアップ表示が出力されてしまいます。 《ポップアップ内容》 　Enter the full pathname for java.exe; その為、java.exe が存在するパスを指定し、OKボタンを押下したところ、今度は以下のような エラー表示となってしまいました。 《エラー内容》 　Cannot find a J2SE SDK installed at path:C:\Program Files\Java\jre6. Sqldeveloperはデスクトップ上から起動させていますが、そもそも64bit版の場合はどこのフォルダへ 格納するのが正しくて、上記のようなエラーを回避する為には何をすれば良いでしょうか？ 初歩的な質問で申し訳ありません。 教えて下さい。
baunceです。 とくに困っているわけではないのですが、ずっと気になって いたのでここで質問させていただきます。 テーブルサイズを求める際に、USER_SEGMENTを参照して求めて いる方があります。 この際、GROUP BY SEGMENT_NAME と記載されている方が多いのですが、これは必要なのでしょうか。 USER_SEGMENTはSEGMENT_NAMEでユニークにはならないのでしょうか。 ちなみに私が携わっている環境ではGROUP BY してもしなくても 同じ結果となるようです。 以上よろしくお願いします。
---------------------------------------- テーブルＡの カラム１、カラム２のデータが １０、作業Ａ ２０、作業Ｂ ３０、作業Ｃ ---------------------------------------- テーブルＢの カラム１、カラム２のデータが １０、2013/1/1 １０、2013/2/1 ２０、1999/1/1 ２０、1999/2/1 ---------------------------------------- のようなデータがあります テーブルＡ、テーブルＢのカラム１はリレーションです この２のテーブルから、テーブルＢの最新日付の カラム１のグループ毎に選択するＳＱＬを教えて下さい ---------------------------------------- 結果 １０、作業Ａ、2013/2/1 ２０、作業Ｂ、1999/2/1 ---------------------------------------- select テーブルＡ.カラム１,テーブルＡ.カラム２,テーブルＢ.カラム２ で、条件をどうしたら、テーブルＢの最新日付を取り出せますか
VB.netからプロシージャーを呼び出してます。 SQLで、inの中などで、動的にパラメータを与えたいです。 Select * from TableX where koumoku1 in (1,2,3,5,10) 例えば上の1,2,3,5,10 をパラメータとして外部から与えたいのですが、 プロシージャー側の実装としては、どのような方法があるのでしょうか？ パラメータの与え方は、 x = "1,2,3,5,10" のように1つの文字列でも良いし x[0]=1,x[1]=2,x[2]=3,x[3]=5,x[4]=10 のように配列みたいな形でも良いです。 よろしくお願い致します。
Oracleで以下のデータから１）、２）の条件でコードをselectしてくるには どのようなSQL文を書けばよいでしょうか。 [DATA] code　date　status　 0001　3-15　A 0001　3-15　B 0001　3-15　C 0002　3-15　A 0002　3-15　B 0003　3-15　B 0004　3-15　A 0005　3-15　C １）3-15においてstatusがAとBを持つcodeを返したい 　→0001,0002が返ってきてほしい ２）3-15においてstatusにCを持つがそれ以外（A,B）は持たないcodeを返したい 　→0005が返ってきてほしい 単純なものなのかもしれませんが、 どうか、お力添えのほど、よろしくお願いいたします。
Oracle instantclient を利用し、 Windows64bit版oracleDB１１ｇR2ドライバを入れましたが cse接続がうまく出来ません。 確認した症状としては、以下のものがあります。 (1)システムDSN追加したデータソースの表示がされません。 　ユーザーDSNに追加した場合はcseで表示がされますが、 (2)ユーザーDSNで追加したデータソースを利用し接続を試みるとエラーとなります。 (1)については、 管理ツールのODBCデータ・ソースアドミニストレータにユーザDSNを追加した場合は、SysWOW64\odbcad32.exeの方にも自動的に追加され、cseのデータソースにはこちら だけ出てきているのは、この32bitの方を見ているせいではないかと思います。。 ちなみにドライバをインストールした直後はODBCデータ・ソースアドミニストレータに システムDSNの追加すらできず（14001エラー表示）、こちらは以下の処理で可能になりました。 mfc71.dll　msvcp71.dll　msvcr71.dll をsyetem32に追加 C++サービスパックedistributable Packageをインストール 似たような症状の記事もありましたが、 当方、初心者なもので、改めて質問させて頂きました。 業務上、どうしてもinstantclientを利用しDB接続する必要があり、 アドバイスがあれば、ご教授よろしくお願いします。
２つの日付を与えてその２つの日付の間の日付を以下のような表形式で返すSQL文を作りたい。 可能でしょうか？ 例えば、与える日付を以下の２つとして、 2012/01/05,2012/01/11 SQL文の実行結果は、 カラム名 2012/01/05 2012/01/06 2012/01/07 2012/01/08 2012/01/09 2012/01/10 2012/01/11 今回の例では、2012/01/05～2012/01/11までの7日間なので7件が返された。
Visual Studio 2010(c#) ASP.netでWeb開発をしており、 Oracle 10g(10.1.0)　Clientを使用してDBサーバーに接続しています。 「DLL 'OraOps10.dll' を読み込めません: アクセスが拒否されました。」というエラーが出て接続できなかったため、 ネットで解決策を探したところ、ASP.NETの権限を与えたら上手くいくとのことで権限を 与えたところ、下記のエラーが出ました。 「DLL 'OraOps10.dll' の 'GetRegTraceInfo' というエントリ ポイントが見つかりません。」 解決方法をご存じの方、ご教授ください。
はじめまして。 次のような通話履歴テーブルから利用頻度の高い電話番号順に ソートして全件を抽出してきたいのですが、よいアイデアが浮かびません。 わかる方がいらっしゃいましたら、お知恵を貸してください。 id　　電話番号　更新日時　　 --------------------------- 01　　1111　　　2013/02/17　 02　　2222　　　2013/02/17　 03　　3333　　　2013/02/17　 04　　2222　　　2013/02/16　 05　　3333　　　2013/02/16　 06　　2222　　　2013/02/10　 上記のようなテーブルから以下のように抽出しようと考えております。 id　　電話番号　更新日時　　 --------------------------- 02　　2222　　　2013/02/17　 04　　2222　　　2013/02/16　 06　　2222　　　2013/02/10　 03　　3333　　　2013/02/17　 05　　3333　　　2013/02/16　 01　　1111　　　2013/02/17　 以上、よろしくお願いいたします。
テーブルが２つあるとします。 テーブルAにはテーブルBの列名がデータとして登録されてます。 テーブルBには値が格納されてます。 テーブルA Key　　field1　　field2　　field3 ------------------------------ 1　　　item2　　item3　　item5 2　　　item1　　item2　　item5 ------------------------------ テーブルB Key　　item1　　item2　　item3　　item4　　item5 -------------------------------------------- 1　　　　101　　　205　　　　350　　　420　　　510 2　　　　111　　　112　　　　113　　　114　　　115 -------------------------------------------- ここでテーブルAとテーブルBへキーを指定して、 テーブルAのfield1～field3に登録されたすべての列名を元にテーブルBから値を取得したいです。 例として キー1を指定して取得すると 205,350,510 が取れます (item2,item3,item5の列名をテーブルAで指定した為） キー2を指定して取得すると 111,112,115 が取れます キーをパラメータとして与え、 できれば２つのテーブルを結合し、１回のSQLで取得する方法はありますでしょうか？ （1回のSQLでなくても簡易であれば良いですが） よろしくお願い致します。
お世話になっております。 Oracle11gを使っています。 PROCESSESの値を変えようとして、 以下のコマンドを実行しました。 ALTER SYSTEM SET PROCESSES = 10 SCOPE = SPFILE; Oracleを再起動した後、 sqlplusを使ってログインできなくなってしまいました。 表面的には、 ORA-12514: TNS: リスナーは接続記述子で要求されたサービスを現在認識していません。 というメッセージなのですが、サーバのログに以下の記述を見つけました。 ORA-00444: background process "MMAN" failed while starting ORA-00020: maximum number of processes () exceeded PROCESSESの値が小さすぎたようです。 SPFILEに定義されているので、 変更するにはsqlplusで接続して、 再度ALTER　SYSTEM　コマンドを実行すると思うのですが、 そもそもsqlplusで接続できないので、変更することができません。 データベースOpen時に、 nomoutにしてPFILEから起動しようとするとしても、 これもまた、接続できないので、使えない手段でした。 また、SPFILEのバックアップも取っていなかったので、どうにもなりません。 この窮状から復旧する方法について、教えていただければ幸いです。 よろしくお願いします。
どなたかアドバイス願います。 ストアドプロシージャから「DBMS_STATS.GATHER_TABLE_STATS」パッケージを使って アナライズをやりたいと思っているのですができません。 以下のSQLをSQL*Plusから実行するとうまく動作するのですが、 プロシージャから「EXECUTE IMMEDIATE」を使って動作させると コンパイルエラーとなってしまうのです。 ※本当はテーブル名を動的に変更したいと考えているのですが、まずはコンパイルを 通したいと思いまして以下サンプルとしています。 （SQL*Plus経由で以下を実行すると動作します） exec DBMS_STATS.GATHER_TABLE_STATS (OWNNAME=>'SCOTT',TABNAME=>'EX001',METHOD_OPT =>'FOR ALL INDEXED',CASCADE => TRUE); （コンパイルエラーとなるプロシージャ） CREATE OR REPLACE PROCEDURE TEAT01 AS BEGIN EXECUTE IMMEDIATE DBMS_STATS.GATHER_TABLE_STATS (OWNNAME=>'SCOTT',TABNAME=>'EX001',METHOD_OPT =>'FOR ALL INDEXED',CASCADE => TRUE); END TEAT01; (エラーメッセージ） Error(3,19): PLS-00222: この有効範囲内に、名前GATHER_TABLE_STATSの関数は存在しません。 以上よろしくお願いします。
SQL文がわからなく困っております。 下記のデータ＊01を＊02のデータのようにSELECTするためには、 どのようなSQL文を書けばよいのかお教えいただけますでしょうか？ DBはoracle11gです。 ※01 ID 　　　　 所属部署 ＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿ 　　　1　　　　　a 　　 1　　　　　b 　 　 2　　　　　a 　　 2　　　　　b 　　 2　　　　　c 　　 3　　　　　a 　　 3　　　　　b 　 　3　　　　　c 　　 3　　　　　d ____________________________ ↓↓↓↓↓↓↓↓↓↓↓↓↓↓ ※02 　ID 　　所属部署　　　　所属部署2　　　所属部署3　　　所属部署4 ＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿　　 1　　　　　　　　　a　　　　　　　　　b 2　　　　　　　　　a　　　　　　　　　b　　　　　　　　　c 3　　　　　　　　　a　　　　　　　　　b　　　　　　　　　c　　　　　　　　　d
お世話になります。 DB：Oracle11g OS：Linux5 上記環境のDBサーバへ、Aさん、BさんがTera Term接続して、 2名とも同じスキーマSSS（DBA付与）でsqlplusにてDB接続しました。 Aさんが、TTTテーブルに対してINSERT文を実行し、 1行追記されていることをSELECT文にて確認することができましたが、、 その後Bさんが同じSELECT文を実行しても、Aさんが追記した行が表示されません。 お恥ずかしい質問で恐縮ですが、 Bさんからも、AさんのINSERT実行結果を即時に確認できるようにするための Oracleの（？）設定がありましたら、ご教示ください。 ※目的はAさんが実行したINSERT、UPDATE、DELETEの結果を、 　 Bさんが開いているTera Termのコンソールからも確認したい。
RMANの不完全リカバリをバッチ化しようとしています。 サービスの起動や状態を確認するバッチ(oracle_restore.bat)内で リカバリを行うsqlファイル(oracke_restore.sql)を呼び出して、 実行しようとしています。 不完全リカバリの方法としては、時間を指定してリカバリを行うので、 rmanコマンドに、時間を引数として渡したいのですが、渡し方がわかりません。 バッチ実行時に oracle_restore.bat 2013-01-21 10:55:00 set RESTORE_TIME_YMD=%~1 set RESTORE_TIME_HMS=%~2 こんな感じで、引数を渡して rmanコマンドに rman target sys/pass @C:\oracle_restore.bat %RESTORE_TIME_YMD% %RESTORE_TIME_HMS% こんな感じで渡すことで、 set until time内に正しく時間を渡したいです。 SET UNTIL TIME "TO_DATE('%1','YYYY-MM-DD HH24:MI:SS')"; ↑sqlplusならこれで渡せたのですが。。。 なにか良い方法はありませんでしょうか。 ご教示願います。 OS：WindowsServer2008 R2 Oracle：oracleDB 11g R2
以下のようなことを実現する方法についてお教え頂きたいです。 ■テーブル [XXXマスタ] ID char(8) 上記のテーブルにはIDという項目があるのですが、このテーブルで 使用していないIDのみをSQLで抽出できないかと考えております。 ただし、なるべくならワークテーブルのようなものは利用せずに 行いたいと思っております。 いい方法があれば教えていただきたいです。
テーブル TB の項目 CDがNUMBER型でユニークキーだとします。 このCDで ・ある値以上の空いている最小の番号を取得したい。 としたら１つのSQLで実現できますか？ 例） ＣＤの値が 6・・・・80　150・・・　（81から149は存在しない） という具合に存在していた場合に、101以上で空いている最小の番号 を取得したいのです。 この場合は101です。1が取得されても駄目、81が取得されても駄目です。 また、同じ条件でデータが 6・・・・150　200・・・　（151から199は存在しない） の場合には151が取得したいのです。 このような値を検出するSQLってわかりますか？ 以上よろしくお願い致します。
どなたかご教示下さい。 Oracle PL/SQLにてカーソル定義を下記のように行う場合 SELECT A.* FROM testtable A WHERE A.testID = 123 AND A.testName = 'aiueo'　←このAND条件を場合によって省く 例えば変数Aが0の場合に下記条件を省きたいのです。 AND A.testName = 'aiueo' 可能でしょうか？
現在、PerlでOracle-DBDを使用したスクリプトを作成しています。 テストした結果、コマンドプロンプトからの実行は問題ないのですが、 JP1から起動するとデータベースとの接続でエラーになってしまいます。 なにをやっても解消する気配がありません。 コマンドプロンプトからは実行可能なのでスクリプトは問題ないと思っています。 原因と対応方法についてご教授いただけないでしょうか。 宜しくお願います。 　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　以上
コンパイル済のVB6のプログラムからストアドプロシージャをCALLして いるのですが、実際にどのような値を渡しているのかを調べなければなりません。 VB6の開発環境があれば容易いのですが、現在実行環境しかない為ORACLE側での 調査が必要です。 全てのプロシージャに出力ロジックを追加すれば良いのですが、 数が多すぎて対応に困っております。 ツールや方法論等につきまして、どなたかご存知でしたらご教授頂けると助かります。 環境は以下の通りです。 Client: WindowsXP SP3 VB6で作成したEXE Server: Linux(Red hat linux) ORACLE 11g Standard PL/SQLで作成したStoredProcedure ちなみに、JdeveloperやOracle SQL Developerも調べて見たのですが、 お恥ずかしながら、今一理解が出来ませんでした。
PL/SQLのバインド変数について調べていますが理解できず困っています。 [理解内容] 1．利点 　：SQL文の検索にバインド変数を利用すると、同一のSQLとして実行できる 　 ⇒ 繰り返し処理（ループ）では有効 ２．使用方法 　：静的SQL・動的SQLで使用可能　 　[疑問点] 　　静的SQLではバインド変数をどう宣言すればよいですか？ 　　[SQL*Plus]・[動的SQL]は例文がありました 　　●SQL*Plusでの宣言方法 　　　（例） 　　　　SQL> set null '<null>' 　　　　SQL> set head off 　　　　SQL> variable var_at_sqlplus number 　　●動的SQLの記述方法 　　　(例) 　　　　declare 　　　　　v_sql varchar2(256)； 　　　　　v_id varchar2(3)； 　　　　begin 　　　　　v_sql = 'select id into ：v_id from test'； 　　　　　execute immediate v_sql into v_id； 　　　　end; 　　●静的SQL　・・・【　エラーになる　】 　　　　declare 　　　　　variable v_id varchar2(3)； 　　　　begin 　　　　　select id into ：v_id from test' 　　　　end; どんな事でもかまいませんので回答よろしくお願いします
別DBのデータを扱う場合、Oracle同士であれば普通DatabaseLinkという使い道があるかと思いますが・・・別製品のDBの場合調べたところやはりDatabaseLinkのような機能はないようだということがわかりました。 元データがOracleにあるとして別DBのデータをキーで一致させたデータのうち特定条件に適合したものをOracle側に反映させるといったことを検討しています。 なにかいい方法はないでしょうか？ よろしくお願いいたします。 （別DB・・・種類が多いのです。対象は、次の６種類です。　MySQL、PostgreSQL、SQLServer、DB２、HiRDB、Symfoware）
バックアップに別サーバに同じＯＲＡＣＬＥテーブルを作成することとなりました。 どんなＳＱＬでそのテーブルを作成したのか資料が無くてわかりません。 調べる方法を教えてください。よろしくお願いします。
sqlplusにてbatファイルを起動するだけで前月のデータを取得しようとしていますが、 ネットで検索等してもなかなかうまく行きません。 以下のようにbatファイルを起動すると、常に前月のT_URIのデータを取得させたいのですが、 どのようにすれば宜しいでしょうか？ご教示頂けると助かります。（期間の日付をじかに入力すれば、取得できたのですが、同じように取得したいテーブルが複数あるので） 月初日は常に1日、月末日は常に31日にして、前月をbatファイルかsqlファイル上で計算させる方法はないのでしょうか？ （会社の業務でoracleのデータベースから抜き出そうとしています。） SQLPLUS ABCD/ABCD@ORACLE.XYZ.WW @0031_ymd.sql PAUSE ↓0031_ymd.sql set heading on set echo off set underline off set termout off set pause off set pagesize 0 set trimspool on set feedback off set termout off set linesize 1000 set lines 30000 spool D:\hoge.csv SELECT * FROM T_URI S WHERE AND S.KJN_YMD >= yyyymmdd AND S.KJN_YMD <= yyyymmdd
DBLINKを使用して、Oracle 10gからSQLServer2005に接続してSQLServer2005のテーブルを参照しています。テーブルデータを参照することはできるのですが、データベースとのセッションを切断してもサーバ上にhsodbcプロセスが解放されずに残る現象が発生しています。 当初は、ストアドプロシージャの不具合と考えていましたが、SQLPLUSでデータを参照した後、SQLPLUSを終了させても プロセスマネージャ上でhsodbcが解放されずに残っていたため、 APの問題ではないと考えています。 DBLINK、Oracleの設定で不備があるような気がするのですが対応策はあるのでしょうか。 お手数ですが回答をお願いします。
あるＳＱＬを実行した結果 ある集計行(X1)が出るとします。 集計行(X1) ------- 12 15 23 24 28 31 45 47 ------- ここで、集計行の左の数字でグルーピングして、その中のもっとも小さい数字を 集計行の横に出すとします。（行数は変わりません） 集計行(X1),項目2 ------- 12　,12 15　,12 23　,23 24　,23 28　,23 31　,31 45　,45 47　,45 ------- もとのＳＱＬを 「select X1 from zz where 条件１」 とした場合、どのようにすればこの結果が得られるでしょう？
こんばんは。 Oracle 11gデータベースのいくつかのテーブルを Microsoft Access 2000のテーブルにコピーしたいのですが お勧めのフリーソフトはございますでしょうか？
Oracle11gを使用しています。 制約と同じようにINDEXも無効化することは出来るのでしょうか。 テーブル名と、フラグ（無効化/有効化）を引数として、制約、INDEXの無効化、有効化 を行うプログラムを作成したいと考えています。 制約は、「ALTER TARBLE テーブル名 DISABLE(又はENABLE ) CONSTRAINT 制約名」 にて無効化、有効化することが出来ますが、INDEXも同じように無効化、有効化することは 出来るのでしょうか？ よろしくお願いします。
はじめまして。 Oracle11gで開発しています。 初歩の初歩の質問なのですが。 下記のように複数のレコードをまとめて、 INSERT先のテーブル(レコードを１個に)に入れ込むまでの処理です。 全てNUMBER型のテーブル列で、NOT NULL制御を施しています。 そのようにすれば、明示的にNULLは無くなり、「0」がデフォルトになると思ったのですが、 「tb_trn_aa_day_r.tx_00」はNULLのままでした。 初期化の「tb_trn_aa_day_r := null;」がまずいのでしょうか？ ちなみに、tb_trn_aa_day_r.tx_00～tx_23に「0」をセットしてもなぜか、NULLとなり、 「tb_trn_aa_day_r.tx_sum」が全てNULLとなってしまいます。 初期j化はどのようにすべきでしょうか？ よろしくお願いします。 /* Aデータ初期化 */ tb_trn_aa_day_r := null; IF c_aa_data_r.hour = '00' THEN tb_trn_aa_day_r.tx_00 := TO_NUMBER2(c_aa_data_r.tx); ELSIF c_aa_data_r.hour = '01' THEN tb_trn_aa_day_r.tx_01 := TO_NUMBER2(c_aa_data_r.tx); ELSIF c_aa_data_r.hour = '02' THEN tb_trn_aa_day_r.tx_02 := TO_NUMBER2(c_aa_data_r.tx); ELSIF c_aa_data_r.hour = '03' THEN tb_trn_aa_day_r.tx_03 := TO_NUMBER2(c_aa_data_r.tx); ..... ELSIF c_aa_data_r.hour = '23' THEN tb_trn_aa_day_r.tx_23 := TO_NUMBER2(c_aa_data_r.tx); END IF; dbms_output.put_line(tb_trn_aa_day_r.tx_00); /* 集計データ */ tb_trn_aa_day_r.tx_sum := TO_NUMBER2(tb_trn_aa_day_r.tx_sum) + TO_NUMBER2(c_aa_data_r.tx); /* INSERT処理 */ CREATE OR REPLACE function SYNONIM.TO_NUMBER2(str varchar2) return number is begin return to_number(str); exception when others then dbms_output.put_line('TO_NUMBER2 error: ' || SQLERRM); return 0; end; /
VisualBasic 2010 よりOracle7へ接続しようと考えております。 ※普通ならばOracleのバージョンを上げたほうがよいのは理解しています。 上記の接続方法としてどのようなものがありますでしょうか？。 現在はODBCで接続していますが、接続が遅くて改善できないものかと悩んでおります。 どなたかODBCよりも早く接続できる方法をご存知に方がいらっしゃいましたら ご教授お願い致します。
oracle sql developer(Version 1.5.1 )を使用してsqlを叩いてもエラーが出てくるので ご助言いただきたく思います。 update table set comment = '新規' where code = '111'; 上記のSQL文を実行すると、ora-01747のエラーが出ます。 commentという名前のカラムですが、 ここを別のカラムmailにして実行するとうまくいきます。 カラムの型は以下の通りです。 comment : varchar2(500 BYTE) mail : varchar2(128 BYTE) 唯一気がかりなのは、通常ならば update,set,where だけが濃い青色で表示されるのですが、 commentもなぜか濃い青色で表示されます。 (mailは濃い青色になりません。) ご助言の程、宜しくお願い致します。
テーブルには複数の主キーがあり、そのうちの3つの主キーを元に 最も古い日付の情報を取得したいです。 同じデータが複数あるので、副問い合わせ（＝）でエラーになると思ったのですが エラーにならずにすべてのデータが取得されてしまいます。 テーブル id name sex date1 1 'A' '男' 20120101 1 'A' '男' 20120101 2 'A' '女' 20120102 select * from table where date1 = (select min(date1) from table where id = 1 and name = 'A' and sex='男'); 下記のような情報を取得するには、SQLとして間違えておりますでしょうか。 ↓ id name sex date1 1 'A' '男' 20120101 1 'A' '男' 20120101 お分かりの方、ご教授頂けませんでしょうか。 以上、よろしくお願い致します。
以前、MySQLでのマージ方法について質問した者です。 今度は、Oracleでのマージ方法ですが、 重複行が発生して困っております。 状況としては、スキーマが二つあります。db1とdb2です。 それぞれ、同じ構造のテーブルを持っていて、格納しているデータだけが違います。 db1にdb2をマージしようとしているのですが、上手くいきません。（重複行が発生します） 方法として、以下の２パターンを試行しました。 （１）インポート 　　　db1をインポートした後に、同じスキーマにdb2からのダンプファイルでインポート　　 （２）ダイレクトパスインサート 　　　insert/*+ APPEND */ into db1.myTable (SELECT * FROM db2,myTable);. 以下は当方の使用環境です。 Windows7 Pro 64Bit Oracle11g　Standard Edition 他に必要な情報があればお聞かせください。 よろしくお願いします。
現在、visual studio2010の環境で、oracle 11gのＤＢに接続を行っています。 その時、Date型の日付を取得しているのですが、DB上登録されているのに値が空白になっていました。 日付が、1990年以降であれば問題ないのですが、たまたま、1899年代の日付が設定されているデータでした。 oracle 11gでは、1990年以前は、サポートしていないのでしょうか？ よろしくお願いいたしす。
お世話になっております。 件名のエラースタック設定について質問があります。 OSはwindows。 oracleのバージョンは11gです。 現在、複数のeventを設定しようと考えておりまして、以下のようなSQLを実行しました。 （仮として1111と2222のエラースタックを設定すると想定します。） ・alter system set event = "1111 trace name errorstack level 3:2222 trace name errorstack level 3" scope=spfile; 上記のSQLを実行後、下記のSQLにて設定を確認しました。 ・select name,value,display_value,isspecified,ordinal from v$spparameter where name='event'; 出力結果のvalueおよびdisplay_valueに「1111 trace name errorstack level 3:2222 trace name errorstack level 3」と表示されているのですが、これは正しく1111と2222のエラースタックが設定されたということで宜しいのでしょうか？ 宜しくお願いします。
自作のストアドプロシージャのどの関数がいつ呼ばれたかを記録したいと思いました。 例えば FUNC_A という関数があって、その関数の先頭で、その関数を実行しているセッションのSIDと関数名を取得できないものでしょうか。 そのようなパッケージ DBMS_**** みたいなものがあって、下記のような感じで使えたらなあと考えています。 ------------------ FUNC_A IS sid NUMBER; funcName VARCHAR2(30); BEGIN SELECT DBMS_****.GET_EXECUTING_SID INTO sid FROM DUAL; SELECT DBMS_****.GET_CURRENT_FUNC INTO funcName FROM DUAL; ... (sid と funcName を現時刻とともに記録） END; ------------------ このような目的に合致したパッケージ、あるいはこの目的を実現する方法などありますでしょうか。 よろしくお願いします
いつもお世話になっております。 以前下記についてお伺いいたしました。 今回はその続編です。 http://oshiete.goo.ne.jp/qa/7772587.html 何卒ご教授ください。 よろしくお願いいたします。 例えば下記のようなテーブルがあるとします。 【運賃テーブル】 日付　　　出発　 到着　運賃 10月1日 東京 青森 8000円 10月1日 東京 大阪 5000円 10月1日 東京 福岡 8000円 10月1日 青森 大阪 6000円 10月1日 青森 福岡 9500円 10月1日 大阪 福岡 5000円 10月1日 大阪 青森 9800円 10月2日 東京 青森 null 10月2日 東京 大阪 5000円 10月2日 東京 福岡 8500円 10月2日 青森 大阪 6000円 10月2日 青森 福岡 9500円 10月2日 大阪 福岡 null 10月2日 大阪 青森 9000円 10月3日 東京 青森 8000円 10月3日 東京 大阪 5000円 10月2日 東京 福岡 8500円 10月2日 青森 大阪 6000円 10月2日 青森 福岡 9500円 10月2日 大阪 福岡 5500円 10月2日 大阪 青森 9000円 仮に運賃を日付で比較した場合（上記を水平展開した場合） 下記のようになります。 【運賃比較】 　　　　　　10月1日 10月2日 10月3日 東京 青森 8000円 ------ 8000円 東京 大阪 5000円 5000円 5000円 東京 福岡 8000円 8500円 8500円 青森 大阪 6000円 6000円 6000円 青森 福岡 9500円 9500円 9500円 大阪 福岡 5000円 ------ 5500円 大阪 青森 9800円 9000円 9000円 ここからが前回と違うのですが 上記の場合、nullがあったら、さらにその前日と 比較する方法を教えていただきたいのです。 ※ 最悪、比較データがない場合、過去1週間前 　　までさかのぼる必要がでることもありえます。 つまり上記でいえば 10月3日の料金は前日値と比べ… 【運賃変更】 東京 青森　変更なし 東京 大阪　変更なし 東京 福岡　変更なし 青森 大阪　変更なし 青森 福岡　変更なし 大阪 福岡　変更あり 大阪 青森　変更なし もしくは 大阪 福岡　変更あり の様に、「大阪 福岡」に変更があったことを アラート表示させたいのです。 【その他条件】 ・このSQLコードは毎日回します ・前日にもデータがなく、前々日のデータと 　比較しなくてはならないこともあります。 　もしくは過去1週間ほどさかのぼらないと 　比較対象のデータがないこともあります。 ・case文を使って【運賃比較】の様なテーブルを作り 　ローカルでVBA等で比較させることも考えましたが 　データが大量すぎて、その方法は使えませんでした。 ・【運賃テーブル】の様な状態でデータをexportし 　それをローカルのExcelでピボットをかけるという方法も 　同様な理由で不可能でした。 何卒よろしくお願いいたします。
サーバーAでOracleデーターベース(10g)が稼働しています（インスタンスは1つ）。 サーバーBに全く同じデータベースインスタンスを構築することを考えています。 サーバーBにはOracleはインスト済みです。 データだけを移すなら expdp/impdb を使ってスキーマ別に移すところですが、 データベースの様々な設定： アーカイブログの設定やSGAのサイズ等など、、、 も完全に同じものを構築したいと思っています。 ----------------------- 1. DBCA を使用 サーバーAでDBCAを使って、既存インスタンスからテンプレートを作成します。 次にそのファイルをサーバーBに移して、サーバーB上でDBCAを使って当該テンプレートからインスタンス作成 => この方法を一度試したのですが、よくわからない点がありました。テンプレートを使っている割には、インスタンス生成の各種パラメータを入力せねばなりません。入力した設定は無視されてテンプレートの値が使われるのでしょうか？それとも、入力した内容が優先されるのでしょうか？あるいはこの方法ではインスタンス生成のパラメータは移せないのでしょうか？ 2. expdp/impdp でFULL=Y データベースをまるごとコピーというならこの方法でもいい気がしますが、まずはサーバーB上にインスタンスを作ってからimpdpをすることになると思います。 するとインスタンスの設定は移されないということになるのでしょうか？ 3. その他の方法 何かもっと有効な方法がありますか？ ------------------------------------- 何卒ご教示のほどをお願いします。
テーブル名:AAA カラム: 'fname' ,ename テーブル名:BBB カラム: "id",fcode テーブル名:CCC カラム : "id",'fname',date 上記三つのテーブルAAA,BBB,CCCにそれぞれカラムがあります。 最終的に ename fcode date　の3カラムを結合した状態でSELECTします。 ただし、条件として AAAのfname列とCCCのfname列を紐付けし、尚且つ BBBのid列とCCCのid列を紐付けし、尚且つ CCCのdate列が2012-10-31以上のものだけをSELECTしたいです。 上記を踏まえて下記二点ご質問致します。 (1)私が考えたSQL文は select a.ename ,bc.fcode ,bc.date from AAA a , (select b.fcode ,c.fname ,c.date from BBB b , CCC c where b.id = c.id and c.date >= '2012-10-31' ) bc where a.fname = bc.fname ; です。先にBBBとCCCから紐付けしその結果とAAAを紐付けしています。 このSQL文で間違いがないかどうか判定していただきたく。 (2)もっとスマートな書き方（短く書けるなど)がありましたら、 ご助言いただきたく。 ちなみにデータベースはオラクル仕様です。 宜しくお願い致します。
以下の処理をしようと考えています。 Aテーブルをカーソルで検索 　　　　→0件だった場合にはエラー　・・・　(1) 　　　　→データが入っていた場合には処理 　　　　→カーソルのデータがなくなったら処理を正常終了 カーソルに入っているデータが0件だった場合、Oracle上ではエラーとはみなされず、処理が正常終了してしまいます。 カーソルデータが0件だった場合にエラーを発生させるにはどのようにコーディングすればよいですか？
こんにちは。Oracle11を使ってます。 大規模システムで大容量のテーブルを毎日バッチで取込む必要が出てきました。 そのテーブル自体カラムが３０前後で、４０００万件あります。 その処理時間に頭を悩ませていましたら、ＭＥＲＧＥ句に巡りあいました。 ＡテーブルからＢテーブルに入れるのですが、列定義(Colum数も全く違う列も存在)が若干違うのですが、それでもこれを使うことは可能でしょうか？ Ａ　　　　Ｂ ----- ----- A1　　　　B1 A2　　　　A2 A3　　　　A3 A4　　　　A6 A5　　　　- またべたのやり方ですと、Aテーブルを全件ループして、ＰＫ連結させて、Select-Ｉｎｓｅｒｔ or Select-Updateになると思うのですが、やはりデータがほとんど同じ場合と全件全部違う場合は、処理時間も軽減されるのでしょうか？
いつもお世話になっております。 表題の件について教えてください。 使用SQL：Oracle 例えば下記のようなテーブルがあるとします。 【運賃テーブル】 日付　　　出発　 到着　運賃 10月1日 東京 青森 8000円 10月1日 東京 大阪 5000円 10月1日 東京 福岡 8000円 10月1日 青森 大阪 6000円 10月1日 青森 福岡 9500円 10月1日 大阪 福岡 5000円 10月1日 大阪 青森 9800円 10月2日 東京 青森 8000円 10月2日 東京 大阪 5000円 10月2日 東京 福岡 8500円 10月2日 青森 大阪 6000円 10月2日 青森 福岡 9500円 10月2日 大阪 福岡 5000円 10月2日 大阪 青森 9000円 仮に運賃を日付で比較した場合、下記のようになります。 【運賃比較】 　　　　　　10月1日　10月2日 東京 青森 8000円 8000円 東京 大阪 5000円 5000円 東京 福岡 8000円 8500円 青森 大阪 6000円 6000円 青森 福岡 9500円 9500円 大阪 福岡 5000円 5000円 大阪 青森 9800円 9000円 この場合、値上がりがあったら、下記の様に 値上がり（値下がり）があった路線について一目で分かる SQLコードはどの様にかけば良いのか教えてください。 【運賃変更】 出発 到着 10月1日 10月2日 東京 福岡 8000円 8500円 大阪 青森 9800円 9000円 もし上記が可能であるならば、【運賃比較】テーブルの様に データを選択剃る方法についてもご教授ください。 よろしくお願いいたします。
ドラえもん 2012-10-29(月) 10:30 ホームページで公開されていたVBAを流用して、EXCELからデータベースの更新、削除をしようとしています。 データベースの更新に関してはうまく動作するのですが、データ削除を実施すると、 440)データをフェッチ中にエラーが発生しました。ORA-01722数値が無効です。 というエラーが発生してしまいます。 01722のエラー内容をホームページ並びに、本サイトで検索したのですが、 データの型が違うという内容で、類似の内容が無い状況でした。 型が違うという内容に対して、何をどうしたらよいかが分かりません。 コーディングのミスを指摘いただきたく よろしくお願いいたします。 VBAまったくの初心者です。 下記は、マクロの構成です。 (1)B3からR***の領域にデータベースからダウンロードしたデータが表示される。 　***は列数でデータベースの項目数で変化する (2)B2からR2には項目名称が表示されている。 (3)編集用の領域はT2からAJ2に(2)と同じ項目名を表示する。 (4)編集用のデータ領域はT3からAJ20まで。 ※ID並びにパスワードは実際のものから変更しています。 　ORACLE9.0　EXCEL2003 ------------------------------------------------------------- '「データの削除」ボタン押下後の処理 ' oo4o使用時 Private Sub btnDeleteDataoo4o_Click() On Error GoTo ERR_HANDLER 'oo4o用のオブジェクト変数の宣言 Dim OraSession As Object 'セッション Dim OraDatabase As Object 'データベース Dim rs As Object 'データセット(レコードセット) Dim rownum As Long Dim colnum As Integer Dim sSQL As String '削除対象のみを抽出するSQL文の作成 sSQL = "select * from M_TOOL_MEISAI where LINECD=" & ActiveSheet.Cells(3, 20) For rownum = 4 To 20 If ActiveSheet.Cells(rownum, 20) = "" Then Exit For End If sSQL = sSQL & " OR LINECD=" & ActiveSheet.Cells(rownum, 20) Next 'oo4oセッションオブジェクトの生成 Set OraSession = CreateObject("OracleInProcServer.XOraSession") 'oo4oデータベースオブジェクトの生成（DBへUserID:○、パスワード:×で接続） Set OraDatabase = OraSession.OpenDatabase(ActiveSheet.Cells(26, 1), "○/×", 0&) 'oo4oデータセット(レコードセット)の生成（削除対象データのみを返すレコードセットの生成） Set rs = OraDatabase.CreateDynaset(sSQL, 0&) 'レコードセット内の全レコードの削除 Do Until rs.EOF rs.Delete rs.MoveNext Loop 'オブジェクトのクローズ rs.Close 'データ表示の更新 btnGetDataoo4o_Click QUIT_OPER: 'オブジェクト変数用に確保したメモリの開放 Set rs = Nothing Set OraDatabase = Nothing Set OraSession = Nothing Exit Sub ERR_HANDLER: 'エラー処理 'エラー番号とエラー内容の表示 MsgBox Err.Number & ")" & Err.Description Err.Clear GoTo QUIT_OPER End Sub ------------------------------------------------------------------------------- 以上がエラーが発生するVBA 下記は、更新処理で正しく動作するVBA ------------------------------------------------------------------------------- '「データの更新」ボタン押下後の処理 ' oo4o使用時 Private Sub btnUpdateDataoo4o_Click() On Error GoTo ERR_HANDLER 'oo4o用のオブジェクト変数の宣言 Dim OraSession As Object 'セッション Dim OraDatabase As Object 'データベース Dim rs As Object 'データセット(レコードセット) Dim rownum As Long Dim colnum As Integer 'oo4oセッションオブジェクトの生成 Set OraSession = CreateObject("OracleInProcServer.XOraSession") 'oo4oデータベースオブジェクトの生成（DBへUserID:○、パスワード:×で接続） Set OraDatabase = OraSession.OpenDatabase(ActiveSheet.Cells(26, 1), "○/×", 0&) 'oo4oデータセット(レコードセット)の生成（全データを返すレコードセットの生成） Set rs = OraDatabase.CreateDynaset("select * from M_TOOL_MEISAI", 0&) 'データの更新 For rownum = 3 To 20 If ActiveSheet.Cells(rownum, 20) = "" Then Exit For End If '更新対象データの検索 rs.Findfirst ("LINECD=" & ActiveSheet.Cells(rownum, 20)) '編集モードに設定 rs.Edit For colnum = 1 To rs.Fields.Count - 1 Select Case rs(colnum).Type Case 10 rs(colnum).Value = ActiveSheet.Cells(rownum, colnum + 20) Case 8 rs(colnum).Value = CDate(ActiveSheet.Cells(rownum, colnum + 20)) Case Else rs(colnum).Value = ActiveSheet.Cells(rownum, colnum + 20) End Select Next rs.Update Next 'オブジェクトのクローズ rs.Close 'データ表示の更新 btnGetDataADO_Click QUIT_OPER: 'オブジェクト変数用に確保したメモリの開放 Set rs = Nothing Set OraDatabase = Nothing Set OraSession = Nothing Exit Sub ERR_HANDLER: 'エラー処理 'エラー番号とエラー内容の表示 MsgBox Err.Number & ")" & Err.Description Err.Clear GoTo QUIT_OPER End Sub
現在、「1週間で学べるORACLE MASTERの基礎が学べる本」という本を片手にORACLEを初めて触っております。 お恥ずかしい話、2日目の「OEM起動」でつまづいて先に勧めませんので、是非お知恵をお貸しください。 現在作業はVM環境にWin7 x64bitをインストールしホストオンリー環境で構築しています。 テキストでは推奨環境に以下の手順で操作をすすめています。 ネットワーク環境を構築（Loopback アダプタ追加　IP10.10.10.10,GW 255.255.255.0 hosts ファイルにて←の名前解決を追記） 再起動 Oracle11gをインストール リスナーの作成 →　DBの作成　○ここでエラーになります。 DBの削除 OEMの起動 ・ ・ ・ DB作成をしている最中に以下のようなエラーがでます。 ！警告 次のエラーが原因でEnterprise Managerの構成に失敗しました 構成データのリポジトリへのアップロード中にエラーが発生しました。 詳細は　..\dbca/orc/emConfig.logにあるログファイルを参照してください。 ..bin/emcaスクリプトを手動で実行することにより、後でEnterprise Managerを使用してこのデータベースの構成を再試行できます。 ※パスは割愛 裏では別ウインドウで正しくDBを作成できましたとあるので、このエラーを無視してOEMの起動まですすめると、 https://localhost:1158/emでOEMにつなごうとした時にサイトが表示できないとエラーになってしまいます。 この時、テキストには ・Loopbackアダプターの構成されているか ・リスナーが開始されているか ・dbconsoleプロセスが起動しているか を確認しろとあったので、Loopbackアダプタ、リスナーの開始については問題ないことを確認。 ORACLE_SIDを設定し、dbconsoleを確認しようと emcl status dbsonsoleと入れたところ、 Environment variable ORACLE_UNQNAME not defined. Please set ORACLE_UNQNAME to database unique name. というエラーが表示されて手詰まり状態です。 set ORACLE_UNQNAMEとありましたので、orclをsetしてみましたが、エラーメッセージが変わっただけで問題解決にいたりません。 是非、この問題について何かわかればよろしくお願いいたします。
オラクルの条件で時間を指定する方法と格闘中です。 ログのようなデータがたくさんあってそこから、 18時～翌2時のデータはいくつあるか。 というSQL文を書きたいのですが、 うまくいきません。以下のようなSQLなのですが、 どなたかアドバイスいただけないでしょうか？ SELECT COUNT(*) as CNT, ID FROM テーブル名 WHERE TO_DATE(DATE型カラム, 'HH24:MI') >= '18:00' AND TO_DATE(DATE型カラム, 'HH24:MI') < '02:00' GROUP BY ID ORDER BY CNT; ちなみにこんなエラーが出ています。 SQLエラー: ORA-01843: 指定した月が無効です。 よろしくお願いいたします。
ｔｒｃファイルを削除する（n日分削除する）スクリプトを作成したいのですが、オラクルユーザにならないと /u01/oracle/diag/rdbms配下へアクセスできません。 スクリプトで（ルートユーザでない）ここのディレクトリへアクセスさせるには何か方法はないでしょうか？
oracleのSQLパフォーマンスについて質問です。 当方、SQLは初めてで、ずぶの素人ですが、SQLパフォーマンスを改善することになりました。 質問の仕方も悪いとは思いますが、お力添えをいただきたいと思います。 【質問１】 DBのレコード件数は、SQLパフォーマンスにどう影響するでしょうか？以下例のようなことが知りたいです。 例１ INDEXのないテーブルに対しSQLを発行する場合、レコード件数の多いDBとレコード件数の少ないDBでは、レコード件数が少ない方が、パフォーマンスが良い？ （前提として、検索対象DBは、レコード件数以外に差がないとする） 例2 WHERE句にINDEX項目を使用した場合、DBのレコード件数はパフォーマンスに影響しない （前提として、アクセスパスは適切で、検索対象をうまく絞り込むことができる） 例3 WHERE句にINDEX項目を使用したSQLをレコード件数の多いDBに発行する場合と、WHERE句にINDEX項目がないSQLをレコード件数の少ないDBに発行する場合では、どちらがパフォーマンスがよいのか （前提として検索対象DBは、レコード件数以外に差がないとする） 【質問２】 INDEXをDBに追加すると、INSERT、UPDATE、DELETEの際に、どのくらい影響するのでしょうか？ 対象のDBは、5項目あり、400万件くらいのレコードがあります。また、複合項目（2項目）のプライマリキーと、単一INDEXがついており、新たに3項目の複合INDEXを追加しようとしています。 以上、よろしくお願いいたします。
OracleのSQLについて　助けてください。 （例） テーブルA 「human」 | ID | 名前 | テーブルB 「kotoba」 | ID | 名前 | テーブルC 「kakutougi」 | ID | 名前 | テーブルD 「kotoba_have」 | human.ID | kotoba.ID | テーブルE 「kakutougi_have」 | human.ID | kakutougi.ID | テーブルAには一人一人のIDと名前が入っています。 テーブルBには言語の種類IDと種類名（英語、日本語など）が入っています テーブルCには格闘技の種類IDと種類名が入っています。 テーブルDとテーブルEはその人がどの言語がしゃべれ、どの格闘技ができるかを示しています。 テーブルD、Eはその人が複数の言語が話せ、複数の格闘技ができる場合複数のhuman.IDが入ります。 ここで日本語と英語が話せ、柔道と空手ができる人を呼び出したい場合はどのようなSQLにすればよいのでしょうか。 プログラムでwhileで回してはできるのですが、データ量が膨大のためSQLでどうにかしたいのですがわかる方いらっしゃいますでしょうか？ 助けてください。よろしくお願いします。
お世話になります。 例えばですが、oracleでsysユーザからaaaというユーザーを作成し、 selectやcreateなどの権限を付与したとします。 そこでaaaユーザーでログインして、aaaユーザーが行うことのできる 権限を調べたいと思ったのですが、いまいちわかりません…。 (1)select * from session_privs; ではcreate系の権限は表示されますが、select系(DML文)の権限が何を付与されているか表示されませんでした。 (2)select * from user_sys_privs; でもselect等の権限の確認はできませんでした。 (3)select * from user_tab_privs; では一件も出てきませんでした。 上記3つは何か間違えているのでしょうか？ それとも他にも何か調べ方があるのでしょうか？ よろしくお願い致します。
初心者です。 oracle 9i で下記の tmp テーブルがあります。 カラムはNoとFlgの２つだけです。 Flgに「A」が存在し、かつ、Flg 「B」が存在しないNoを取得したい場合 どのようにクエリを作ればよいのでしょうか？ <tmp テーブル> No　　　Flg 1　　　　A 1　　　　B 2　　　　A 3　　　　B 4　　　　A 4　　　　C 5　　　　A 5　　　　B 5　　　　C 上記テーブルから結果として、No 2 と 4 だけを取得したいのです。 where Flg='A'のあとにnot existsとかでできそうな気がしたのですが どのように条件指定すればよいのでしょう？
Oracleで下記のようなデータ処理を実現する方法を調べています。 (1)特定の条件でデータを抽出する。 　select X from TABLE1 where Y="test" (2)(1)で抽出したデータを別の抽出条件の値として1つずつ使用し、 　別のsqlにてデータを抽出し、件数を取得する。 select count(*) from TABLE2 where Z = aaa 　※aaaには(1)の結果を順に入れる。 ２，３件であれば手作業で(2)を実施すればよいのですが、(1)の結果が数100件 になっているため、(2)をループ処理させたいです。 PL/SQLが必要なのでは？と思いつつ、使ったことがありません。 少し調べてはみましたが、よくわからず、困っています。 特に難しい処理ではないと思ってはいるのですが、期日まで時間がなく、質問 させていただきました。 一時的なデータ確認のためだけなので、専用にプログラムを組むのはしたく 無いと思っています。 参考になる情報をいただければ幸いです。 もちろん、(2)のサンプルコードなどいただければ大変助かります。 どうぞよろしくお願いします。
以下のような集計を、VIEWを使わずに１回のＳＱＬでできますでしょうか。 【対象TBL】 CD FLG KINGAKU A, 0, 100 A, 0, 200 A, 1, 1000 B, 0, 50 B, 1, 60 【出したい結果】 CD KINGAKU_0 KINGAKU_1 A, 300, 1000 B, 50, 60 普通のSUMで出る以下の結果を、サブクエリなどで横展開しようと試みてるのですが、 うまく出来ません。。 CD FLG KINGAKU A, 0, 300 A, 1, 1000 B, 0, 50 B, 1, 60
sqlを勉強したいのですが... どのような参考書を使えば良いですか？ 独学で出来るのでしょうか？ 20代後半から勉強しても出来るようになるものでしょうか？ 基礎をマスターするのにどれくらいの時間がかかりますか？ このスキルを使って就職できるようになるまでどれくらい 時間がかかりますか？ 資格などはありますか？ 何か勉強する前に知っておくべきことがあれば教えて下さい。 よろしくお願いします。
SELECTのSQLのパフォーマンスチューニングを行なっています。 例えば、A,B,Cと３本の候補があってA,B,Cの順に速度を見たいとき B以降はAによるキャッシュを利用して実行するはずなので、 この３つの実行速度がうまく比較できません。 （頻繁に投げられるSQLではないので、アプリ側から投げられるときは キャッシュにのっていない想定です） SQLを投げるたびに ALTER SYSTEM FLUSH BUFFER_CACHE ; でキャッシュをクリアすれば、３つを比較できるのでしょうが、 運用上の問題でそれもできません。 理想としては SELECT /*+ NOT_USE_CACHE*/ … のようにヒント句や alter sessionなどでキャッシュを使わずにSQLを投げたいのですが、 どのようにしたら実現できるでしょうか？ 環境は 9iと11gの環境がありますので、 それぞれで最適な方法がございましたらご教授ください。 よろしくおねがいします。
oracle10g環境で、LONG RAW型のカラムにイメージ(.JPG)が登録されております。 PL/SQLより、LONG RAW型のイメージデータを取り出したいのですが。 ＯＯ４Ｏでの取り出しあるのですが。PL/SQLで実現したいのです。 サイト検索しても見当たらないよう状態です。 PL/SQLで取り出す方法を教えていただきたいのですが。
はじめまして Oracle初心者のエンジニアです。 あるプロシージャを実行すると 添付のようなアラートが出てエラーになります。 ただ、エラーにならないで処理が成功する人もいて 原因不明です。 原因や対処法をご存じの方、ご教授お願いできますか？ ちなみに他のプロシージャは正常に実行できます。 オブジェクトブラウザの出力 【 実行後パラメータ値 】 V_SHEMA_NAME : BTOB 【 DBMS_OUTPUT 値 】 BTOBスキーマへデータ反映失敗: -53203ORA-53203: セキュリティ違反です。
SQL初心者です。 基本的な質問ですみません、教えてください。 LEFT JOINとRIGHT JOINについて、どちらのテーブルを左側、どちらのテーブルを右側にするのかが分かっていません。どういう基準で左側、どういう基準で右側と考えれてばいいのでしょうか？ 宜しくお願いします。
現在、独学でOracle Master Bronze DBA 11gの勉強をしています。 その勉強の中で出てきた質問です。 Enterprise Managerを使用するには、 ・dbconsoleプロセス ・リスナープロセス を起動しておかなければならない と記載されています。 しかし、別のページでは、Enterprise Managerの画面でリスナープロセスのステータス（起動中、停止中など）が確認できます、とありました。リスナープロセスが停止していれば、Enterprise Managerにはアクセスできず、必然的にリスナープロセスのステータスも確認できない、と思うのですが、いかがでしょうか。
こんばんわ。 先日こちら(http://oshiete.goo.ne.jp/qa/7666702.html) で質問させていただきましたが、まだ問題があったため、 再度質問させていただきます。 以下のような20カラムある「出納帳」テーブルがあって、 同一日付の金額を集約してしまいたいです。 出納帳 ID　日付　　　金額　伝票　・・・(全20カラム) 1　2012/8/20 1000　A01　・・・ 2　2012/8/20 2000　A02　・・・ 3　2012/8/21 -1000　B01　・・・ 4　2012/8/21 -2000　B02　・・・ 5　2012/8/22 3000　A03　・・・ 6　2012/8/23 4000　A04　・・・ 7　2012/8/24 -3000　B03　・・・ 8　2012/8/24 -4000　B04　・・・ 9　2012/8/27 5000　A05　・・・ ↓「日付」で金額集約 ID　日付　　　金額　伝票　・・・(全20カラム) 1　2012/8/20 1000　A01　・・・ 2　2012/8/20 2000　A02　・・・ 　2012/8/21 -3000　　　　・・・(-1000と-2000を集約) 5　2012/8/22 3000　A03　・・・ 6　2012/8/23 4000　A04　・・・ 　2012/8/24 -7000　　　　・・・(-3000と-4000を集約) 9　2012/8/27 5000　A05　・・・ と集約キー以外はNULLにしたいのですが、 またまた、 ( SELECT　ID,　日付,　金額,　伝票,　・・・ FROM 　出納帳 WHERE 　金額>=0 UNION ALL SELECT　NULL,　日付,　SUM(金額),　NULL,　・・・ FROM 　出納帳 WHERE 　金額<0 GROUP BY　日付 ) ORDER BY 日付 とUNIONをする方法しか思いつかなかったのですが、 UNIONせずに端的に表現できるSQLはありますでしょうか？
【Table1】 Col1 Col2 Aa A Ab A Ba B Bb B Ca C Ca D 【Table2】（Data1は固定） Data1 Data2 Aa A Ab B→A Ba C→B Bb A→B Ca B→C Ca C ※Col1に重複がある場合、重複結果の1行目のレコードをData2に入れる (今回の場合CをData2に入れる) Data1は固定で、Table1を使ってData2を上記の様に修正するSQLが書けなくて困っています。 Col1が重複してない場合の修正するSQLを書いてみましたが（合っているかはわかりませんが...）、 重複する場合のSQLも追加して最終的に１つのSQLで、すべて修正できるようにしたいです。 update Table2 T2 　set Data2= 　(select Col2 from Table1 　where Col1= 　　(select Col1 from Table1 T1 　　where T2.Data1=T1.Col1 　　group by T1.Col1 　　having count(T1.Col1)=1 　) ) わかりにくい部分もあると思いますが、ご教授お願いします。
はじめまして。 SQLで部分的にGROUP BYで集計したいのですが、 どうもしっくりくるSQLがかけません。 多分CASEあたりを使うと綺麗で高速なSQLがかけると思っています。 皆様のお知恵をお借りしたく投稿しました。 具体的には以下のような出納帳データで 出納帳 日付　　　　　金額 2012/8/20　1000 2012/8/20　2000 2012/8/21　-1000 2012/8/21　-2000 2012/8/22　3000 2012/8/23 4000 2012/8/24 -3000 2012/8/24 -4000 2012/8/27 5000 ↓集計 日付　　　　　金額 2012/8/20　1000 2012/8/20　2000 2012/8/21　-3000(-1000と-2000を集約) 2012/8/22　3000 2012/8/23 4000 2012/8/24 -7000(-3000と-4000を集約) 2012/8/27 5000 というように、マイナスの金額は集約してしまいたいのですが、どのようなSQLが最適でしょうか？ とりあえず、UNIONかなと思い、 (SELECT 日付, 金額 FROM 出納帳 WHERE 金額>=0 UNION ALL SELECT 日付, 金額 FROM 出納帳 WHERE 金額<0 GROUP BY 日付 ) ORDER BY 日付 とプラス金額とマイナス金額にわけUNIONしたのですが、 もっと綺麗(高速)にやる方法があるのではないか？と思い投稿いたしました。 なにかヒントございましたら、ご教授ください。 DB環境：Oracle 11g
sqlldrを使ってcsvファイルのデータをロードしたいのですが、 ファイル内のデータの属性、型について教えてください。 データが数値にした場合は、 「integer external」と「decimal external」のどちらが良いのですか。 違い、使い方を教えてください。
中途でIT企業に入ったものです。 SQLを勉強していますが、UNIONやMINUSという集合演算子を 学習しています。 これは実際の開発業務では、どういったケース（業務の要件？）で 使用されるのでしょうか？。 例えばMINUSだと、「前月で売れたが今月は売れてない商品」を抽出する、 などのケースで使用するのでしょうか。 参考に教えて頂けると助かります。
いつもお世話になります。 oracleのシーケンスの欠番を確認したいのですが、以下のようにサービス、インスタンスの再起動を試してみたのですが欠番はおきませんでした。 ・サービスの再起動 コントロールパネルから、サービスを開いて、「OracleServiceXE」、「OracleXETNSListener」の再起動。 シーケンスをselectした結果、欠番確認できず。 ・インスタンスの再起動 コマンドプロンプトを起動し、sqlplusから、sysdbaでoracleに接続。 shutdown、startupコマンドを行い、インスタンスを再起動。 シーケンスをselectした結果、欠番確認できず。 インスタンスの再起動を行えば欠番がおきる、というのをサイトで見たのですが、欠番は起きませんでした。なぜ起きないのでしょうか。 何か手順に不備があるのでしょうか。 alter system文による欠番は確認しています。 しかし、意図的にこのコマンドを発行しなければよいので、確認したいのは、通常運用時、データベースが起因してシーケンスの欠番が発生してしまう、ということです。 再起動などは普通に行うと思うので、その際に欠番が発生することを確認したいのです。 宜しくお願いします。 oracle：Oracle Database 11g Express Edition Release 11.2.0.2.0 OS：Windows Vista Home Promium 64bit
Oracleでストアドパッケージを作っています。 key1　key2　key3　sdate　　　edate 1　　 1　　 1　　 2012/07/12 2012/09/11 2　　 2　　 2　　 2012/06/01 2012/07/31 こんなデータがあった時、以下のように日付の範囲を展開した レコード群を得たいのですが、やり方が思いつきません。 key1　key2　key3　date 1　　 1　　 1　　 2012/07/01 1　　 1　　 1　　 2012/08/01 1　　 1　　 1　　 2012/09/01 2　　 2　　 2　　 2012/06/01 2　　 2　　 2　　 2012/07/01 事情により、Typeは使えません。 展開後、別途SQLで利用するつもりです。 ストアド内だけで実装可能でしょうか？
OS: CentOS-6.3 (64 bit) はじめまして Oracle Express Edition (11g Release2) を使って Oracle の勉強を始めた者です。 dba グループに属するユーザでログインし、端末から sqlplus / as sysdba と入力しても、 ERROR: ORA-12547: TNS: 接続を失いました。 となってしまいます。 その後、ユーザ名とパスワードを入力すると、接続できます。 このエラーが出ないようにするには、どうすればいいでしょうか？ よろしくお願いします。 ＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿ [oracle_admin@dell-t108 ~]$ sqlplus / as sysdba SQL*Plus: Release 11.2.0.2.0 Production on 月 8月 6 17:41:06 2012 Copyright (c) 1982, 2011, Oracle. All rights reserved. ERROR: ORA-12547: TNS: 接続を失いました。 ユーザー名を入力してください: sys@xe as sysdba パスワードを入力してください: Oracle Database 11g Express Edition Release 11.2.0.2.0 - 64bit Production に接続されました。 SQL> SQL> select count(*) from hr.employees; COUNT(*) ---------- 107 SQL> exit Oracle Database 11g Express Edition Release 11.2.0.2.0 - 64bit Productionとの接続が切断されました。 [oracle_admin@dell-t108 ~]$ id uid=502(oracle_admin) gid=501(dba) 所属グループ=501(dba) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 [oracle_admin@dell-t108 ~]$
Oracleバージョン10 です。 group byの項目の並び順を変えると結果が異なるのですが、何か原因は考えられるでしょうか？ 例えば以下のSQL ------------------ SELECT T1.COL1, T1.COL2, T1.COL3, TRUNC(T1.COL4,'MONTH') COLM, SUM(T1.COL5) FROM TABLE1 T1 GROUP BY T1.COL1, T1.COL2, T1.COL3, TRUNC(T1.COL4,'MONTH') MINUS SELECT T1.COL1, T1.COL2, T1.COL3, TRUNC(T1.COL4,'MONTH') COLM, SUM(T1.COL5) FROM TABLE1 T1 GROUP BY TRUNC(T1.COL4,'MONTH'), T1.COL1, T1.COL2, T1.COL3 ------------------ このMINUS結合の結果でデータ（差分）が出力されます。 MINUS結合の前と後で違いがあるのは、GROUP BYの並び順のみです。 TRUNC関数を記載してますが、どうもこのTRUNC関数を除くと、 差分が出力されなくなるようです。 （TRUNCを辞めて、ただのT1.COL4 にした場合） なので、TRUNC関数が何か関係してるかも知れません。 原因が分かりません。オラクルの障害が何かなのかも知れません。 何か原因は考えられるでしょうか？
環境：Oracle 11g ＳＱＬで階層問い合わせに関して教えて下さい。 今、ある部品テーブルに対し、直下のレコードのみを抽出しようとしていますが、ある共通の 構成をＡ部品群、Ｂ部品群の中に入れた場合、なぜか同じ結果が２回表示されてしまいます。 以下にサンプルのデータとＳＱＬを作成しましたので、何がおかしいか教えて頂きたいと思います。 【Ａテーブル】 品目番号,親品目番号 A A1,A B,A B1,B ↑　Ａ部品群 C D,C B,C B1,B ↑　Ｂ部品群 　※　Bが共通の構成です。 【ＳＱＬ】 select 品目番号 as 下位品目番号,親品目番号 from A_TABLE where 品目番号 != 'B' AND 親品目番号 = 'B' start with 品目番号 = 'B' connect by prior 品目番号 = 親品目番号 【結果】 下位品目番号,親品目番号 B1,B B1,B ２回表示されてしまいます。 単純に親品目番号=’B’としてしまえば正しく拾えますが、上記のＳＱＬを多様している為、 何が間違っているか教えて頂ければと思います。 初歩的な質問で申し訳ありませんが、教えて下さい。
Windows 2003 Server Windows XP Professional Microsoft Office 2000 Oracle Databasse 9.2.0.1.0 １．Sqlnet経由でのExp/Impができません。SQLPLUSは正常につながります。 　　　　EXP system/???@??? FILE= full120725.dmp LOG= exp_full120725.log FULL=y を実行すると、Copyrights　～　all rights reservedで止まったまま、 エラーメッセージも出ません。 @???を取って実行すると正常終了します。 lsnrctl statusを実行すると以下のエラーメッセージが返ってきます。 ****************** (ADDRESS=(PROTOCOL=tcp)(PORT=1521))に接続中 TNS-12541: TNS: リスナーがありません。 TNS-12560: TNS: プロトコル・アダプタ・エラー TNS-00511: リスナーがありません。 32-bit Windows Error: 61: Unknown error ****************** ２．ＯＤＢＣで接続を設定しようとするのですが、 　　　　Microsoft ODBC for Oracle Oracle in Ora92 ともに失敗します。 １と２の原因が同じなのか、違うのか、 それとそれぞれの対処方をご教示できないでしょうか？
centos5.8 + Oracle10gの環境で、netcaを使おうとすると、日本語が化け（？）ます。 不思議なのが、タイトル部分は、日本語が表示されていて、それ以外の部分の日本語は表示されていません。 http://blog.goo.ne.jp/nokonoko2006/e/2ad87e85fd6 … 上のサイトを参考に、font.properties.jaファイルを修正しましたが、症状は変わりませんでした。 javaの問題のような気もしていますが、どうすれば日本語が表示されるようになるか教えてください。 よろしくお願いします。
お世話になります。 Oracle初心者です。 別のスキーマのテーブルをアップデートすべく、 PLSQL（プロシージャ）作成したのですが、 コンパイルすると、ORA01031：権限が不足しています。 と出てしまいます。 どなたかご教示下さいます様、 宜しくお願い致します。
2つの表をunionでマージした結果を副問合せで使用し、この副問合せを他の表とwhereで結合するとORA-00918: 列の定義が未確定です。がでます。こんな感じです。 副問合せそのものは単独で実行してもエラーにならないので結合に問題があるようです。 どなたか回答お願いします。行き詰っています。 select as.xx1,asxx2 from (select *　from aa union select *　from bb) as, af where as.xx1=af.xx1;
例えば、あらかじめテーブルなどを読み、その内容により、 SQLの文そのものを非常に変えたいとします。 SQLその１ select * from TABLEA where A = 1 SQLその２ select * from TABLEA where A = 1 and B = 2 and C = 3 and D = 4 上記は例ですが、内容などにより複雑な条件式を追加したい。 ベースのSQLは非常に長い為、 例えば　完全に切り分けるのでは無く、共通の部分は共通ソースとしたい。 また、プリプロセッサみたいに、条件式が追加された場合 あたかも、初めからそのSQLのみがあり、他の制御文などをSQL文自身には追加したくない。 動的SQLでは無い方法でそのような事が可能でしょうか？ -----　イメージ ----- select * from TABLEA where A = 1 IF (条件がある時のみ） B = 2 and C = 3 and D = 4 END IF; ------------------- 実際には、SQL文の中にPLSQLの制御文をうまく追加できない。
ORACLE MASTER BronzeおよびSilverの資格取得を検討しております 先ずはBronzeからと私なりに色々と調べてみましたが、確認も含めご質問させていただきます (1)Bronzeの認定資格を得るにあたり、認定パスが必要かと思いますが、 　 　A：【11g SQL基礎I [1Z0-051]】or【Bronze SQL基礎I [1Z0-017]】 　　と 　B：【Bronze DBA11g[1Z0-018]】 　の試験合格を経て認定資格が得られるのでしょうか？ 　もしくはAのどちらかを合格することで認定資格を得て、Bを受けられるということでしょうか？ (2)【11g SQL基礎～…】と【Bronze SQL基礎～…】に違いや差はありますか？ 　それぞれの良し悪しやどちらがオススメなどあれば教えてください (3)10gや11gとありますが、これはVerのようなものですか？ 　現状受けるのであれば11gでいいですか？ (4)企業によると思いますが、転職で実務経験のない者でも当資格は評価されますか？ 　また、その際階級として最低でもSilver以上は必要ですか？ (5)黒本で独学、Mysqlは少しかじった程度の知識です 　オススメの書籍があれば教えてください 初歩的な質問もございますが、 お詳しい方、是非ともご教授願います よろしくお願いいたします
すみません、オラクルに接続しようとすると、 「ＯＲＡ－０１０３３：Ｏｒａｃｌｅの初期化またはシャットダウン中です」とメッセージが表示され、 接続できません。 そこでｓｙｓｄｂａで接続し、shutdownを行った後にstartupを行うと、 「ORA-12514: TNS: リスナーは接続記述子でリクエストされたサービスを現在認識していま せん」とメッセージが表示され、復旧できない状態です。 どのようにすれば復旧・接続できるようになるのでしょうか？ ちなみにオラクルはoracle11gです。
いつもお世話になっております。 Oracleの「'（シングルクォーテーション）」の使い方について教えてください。 テーブルAのフィールド００１には2桁の数値が文字列型として格納されています。 (1)SELECT　COUNT(*) FROM テーブルA WHERE フィールド００１ = '09' でデータの抽出をしているのですが、データがあるにも係らず、「０」となってしまいます。 (2)SELECT　COUNT(*) FROM テーブルA WHERE フィールド００１ = 09 では、「09」だけでなく「9」までカウントしてしまいます。 データの中には「09」「9」が混在していて、これらを別々にカウントしたいのですが、(1)では結果を得ることが出来ません。シングルクォーテーションの使い方に間違いがあるのでしょうか？ 別々にカウントする方法があればご教授いただけないでしょうか？ よろしくお願いします。
distinctをexistsに変換した方がパフォーマンスが良いようで、 例えば以下の例があるとします ---------------------------------- （前）SELECT DISTINCT a.ID1, a.NAME1 FROM TABLE1 a, TABLE2 b WHERE a.ID1 = b.ID2 （後）SELECT a.ID1, a.NAME1 FROM TABLE1 a 　　　WHERE EXISTS ( SELECT 'X' FROM TABLE2 b WHERE a.ID1 = b.ID2) ---------------------------------- もっと複雑なSQLの場合、EXISTSに変換できるのでしょうか？。複雑なSQLとは、 「複数のテーブルからカラムを取得」「テーブル結合が２つ以上」「外部結合」 などのSQLで、以下に例を示します。 （例）SELECT DISTINCT a.ID1,a.NAME1,b.ID2,b.NAME2,c.ID3,c.NAME3 　　　FROM TABLE1 a,TABLE2 b,TABLE3 c 　　　WHERE a.ID1 = b.ID1(+) 　　　　　AND a.ID1 = c.ID1(+)
すいません、教えてください。 以下のようなCMDバッチを作成しました。 TEST.cmd------------ sqlplus -s ID/PASS@DB @MAIN.sql 'SUB1.sql' 'SUB2.sql' > MAIN.log echo %ERRORLEVEL% MAIN.sql------------ @&1 @&2 commit; quit; これを実行した場合、MAIN.ｓｑｌの最後のコマンドquit;の 実行結果を返してきているのでしょうか? SUB1.ｓｑｌ、SUB2.sqlで失敗していても%ERRORLEVEL%で0が返ってきます。 MAIN内のそれぞれのsqlの実行結果ログを取得することは可能でしょうか? SUB.sqlの内容はいずれも単純なMERGE文です。 識者の方がいればご教示いただきたく存じます。 よろしくお願いいたします。
Windows版Oracle 9iでv$sysstatをチェックしたいら table fetch by rowid が　1.123456789E+10 という指数形式になって整数でなくなったのですが、これはOracleを再起動しないと元の整数値表示には戻らないのでしょうか？ 要は１０桁・９９億を越したことが原因なのですが、桁数を増やすとか、１００億を越さない前に値をリセットするなどの方法があればと思っています。
Oracleに適用されているパッチの情報はどこを確認すればわかるでしょうか？
以下のようなSQLがあるとします。 ------------------------ SELECT * from (select * from TABLE-A where 条件色々) AA, TABLE-B BB where BB.x(+) = AA.x ------------------------ TABLE-Aの件数は非常に多く（例100万)、条件は複雑です。 TABLE-Bの件数は少ないです（例30件） この時、実行計画が HASH JOIN RIGHT OUTER TABLE ACCESS FULL TABLE-B のように出ましたが、どのように解釈すれば良いのでしょう？ TABLE-Bは件数が少ないのでACCESS FULLでも問題ないでしょうか？ HASH JOIN RIGHT OUTER　のコストが高くなってて気になってます。 たとえば、この場合のより適切な実行計画ってありますか？
Windows版　Oracle 9iで、下記のＳＱＬを実行した値で質問なのですが・・・ <<SQL>> Select name, value from V$SYSSTAT where name like 'table%'; <<SQL結果>> NAME VALUE ---------------------------------------------------------------- ---------- table scans (short tables) 41298 table scans (long tables) 171 table scans (rowid ranges) 0 table scans (cache partitions) 0 table scans (direct read) 0 table scan rows gotten 151275758 table scan blocks gotten 11959596 table fetch by rowid 23079146 table fetch continued row 1048 table lookup prefetch client count 0 Webで検索すると、 Full Scan率は「table scans (long tables)　/ ( table scans (short tables)+table scans (long tables) )」とあったり、 「table fetch by rowid　＜　table scan rows gotten」は頻繁にFull Scanしている状態とあって、「table scan rows gotten」がFull Scanの行数に思えるですが、実測した下記の値からは違うように思えるのですが、どのように解釈すれば良いのでしょうか？ table scans (short tables) 41298 table scans (long tables) 171 ---- table scan rows gotten 151275758 table fetch by rowid 23079146
PGAメモリに関してですが １．あるSQLがあるとして、そのSQLでどの程度PGAメモリを消費するかを 　　確認する事は出来るのでしょうか？ ２．PGAメモリを消費しやすいSQLとはどのようなSQLなのでしょうか？ 　　簡単なSQLより複雑なSQLの方が消費しやすいと思ってます。 　　その中で特に何か消費しやすいSQLの特徴はあるのでしょうか？ 　 (例）大量データへのアクセス 　　　　INDEXを利用しないFULL ACCESS 　　　　副問い合わせ 　　　　多数のテーブル結合 　　　　関数などの利用 　　　　order by、group by 　　　　（etc）
OEMで実行計画を見てます。 負荷の高いSQLの場合、「トップアクティビティ」からSQLを選択して見てます。 「トップアクティビティ」に出てこない、負荷の低いSQLの場合、 どのようにすればOEMからSQLの実行計画が見れるのでしょうか？
Excel：2010 Oracle：10g 接続：ADODB Oracleで質問すべきか、VB側にすべきか迷いましたが、こちらに質問させていただきます。 ExcelVBAからOracleに接続し、ストアドを実行して複数行のデータを取得後 エクセルの各セルに取得データを設定するマクロを作成しております。 コマンドのExecuteを行った後、レコードセットが取得できていないようで 「オブジェクトが閉じている場合は、操作は許可されません」 となってしまいます。 ストアド自身は、Oracle側でエラーなく動いています。 カーソルで取得したデータをエクセル側に渡すには、それ用のOutputの変数（配列？）が必要なのでしょうか？ よろしくお願いいたします。 ストアドプロシージャ（一部SELECT文は長いため、省いています） -------------------- CREATE OR REPLACE PROCEDURE A.P930 ( varCD IN VARCHAR2, varDate IN VARCHAR2 ) AS CURSOR C_SIM IS SELECT CD, NAME FROM T WHERE CD = varCD AND CNTRCT_DATE = varDate; SIM_REC C_SIM%ROWTYPE; BEGIN OPEN C_SIM; LOOP FETCH C_SIM INTO SIM_REC; EXIT WHEN C_SIM%NOTFOUND; END LOOP; CLOSE C_SIM; END; / VBA側 Connection接続はOK -------------------- Sub LIST() 変数宣言等省いています Set myCmd = New ADODB.Command With myCmd .ActiveConnection = DBADOCon .CommandType = adCmdStoredProc .CommandText = "P930" .Parameters.Append .CreateParameter("varCD", adVarChar, adParamInput, 3, strLineCd) .Parameters.Append .CreateParameter("varDate", adVarChar, adParamInput, 6, strMonth) Set myRs = New ADODB.Recordset Set myRs = .Execute End With If myRs.RecordCount = 0 Then　　　　　←ここでエラーになります 'エラーメッセージ表示 Exit Sub End I
お世話になります。 下記コードにて、抽出されたデータに不備があります。 「q2.新新品番(+) = A.品番」としていますが、 完全一致しない品番が見受けられ、ｔｒｉｍを使ったら 良いのではと思うのですが、どこにtrimを入れたら 良いのか、又は考え方自体違うのか 現在テンパっている所でございます。 どなたか良いアドバイスを頂けたらと思い、 ご質問させて頂きました。 何卒、ご教示頂けます様、宜しくお願い致します。 　　　　　　　　　記 select case when substr(q2.新新品番,8,1)='_' then substr(q2.新新品番,1,7) else q2.新新品番 end as 品番 ,SUM(q2.新新合格数) AS 生産合格数 ,A.伝票ID,A.品番,A.新入庫数量 as 区画入庫数,A.区画番号 from ( select case when substr(q1.新品番,6,1)='_' then substr(q1.新品番,1,5) else q1.新品番 end as 新新品番 ,SUM(q1.新合格数) AS 新新合格数 from ( SELECT 更新日時, case when substr(ハンドル,7,1)='_' then substr(ハンドル,1,6) else ハンドル end as 新品番 ,SUM(合格本数) AS 新合格数 FROM D最終検査履歴 WHERE 更新日時 BETWEEN '2012-5-31' and '2012-6-01' group by 更新日時, case when substr(ハンドル,7,1)='_' then substr(ハンドル,1,6) else ハンドル end )q1 group by case when substr(q1.新品番,6,1)='_' then substr(q1.新品番,1,5) else q1.新品番 end )q2 , (select 伝票ID,品番,sum(入庫数量)as 新入庫数量,区画番号 from D屋外入庫 where 登録日時 between '2012-5-31' and '2012-6-01' and 伝票ID='SN' group by 伝票ID, 品番, 区画番号 )A where q2.新新品番(+) = A.品番 group by case when substr(q2.新新品番,8,1)='_' then substr(q2.新新品番,1,7) else q2.新新品番 end, A.伝票ID, A.品番, A.新入庫数量, A.区画番号
検索の仕方で質問があります。 WinXPでの開発です。 データベースはOracle、開発ソフトはC++Builder5です。 以下のようなテーブルとデータがあります。 TB2,TB3のidは必ずTB1に存在します。 TB3のdataには、カンマ区切りの文字列が入っています。 dataのカンマ区切りの内容は "コード,サイズ1,サイズ2" となっています。 実際はこのような単純なデータではないので、カラム分けするのは 設計時に難しかったようです。 ------------------------------ CREATE TABLE TB1 ( id number, name varchar2(20) ); 1 sample1 2 sample2 3 sample3 ------------------------------ CREATE TABLE TB2 ( id number, keyno number ); 1 100 3 200 ------------------------------ CREATE TABLE TB3 ( id number, data char(200) ); 1 aaa,0.1,0.2 2 bbb,0.3,0.4 ------------------------------ たとえば TB2.keynoが100であり、TB3.dataのサイズ1が0.1のデータのTB1.nameを取りだす という場合、どのようなSQL文になるのでしょうか？ TB3のデータは読み込んだ後に一旦文字列を分解して コード、サイズ1、サイズ2を取得しないことには検索出来ないと思います。 一番高速な手法はどうなるでしょうか？ トリガーを使って、作業用のテーブル作ってやればいい、 みたいなことを言われたのですが、トリガーは違うのでは？と思いながら 手法を悩んでいます。 ローカルデータベースのようなファイルを使ってやる方法になるのでしょうか？ アドバイスをお願いします。
教えて下さい。 ＳＱＬに関してです。 ある２つのテーブルの集計（数量の合算）をＳＱＬで行いたいと考えています。 そこで、UNION ALL を使い集計させる事ができましたが、その中で、１つのテーブルに 条件を加えたいと考えています。 つまり、副問い合わせのような形にできないかと考えています。 《テーブル》 　T_在庫日次 　　 　　品目番号 　　場所コード 　　数量 　　処理区分 　T_在庫月次 　　 　　品目番号 　　場所コード 　　数量 《現状のＳＱＬ》 Select 場所コード,品目番号, SUM(数量) AS 数量 From ( Select 場所コード,品目番号, 数量 From T_在庫日次 UNION ALL Select 場所コード,品目番号, 数量 From T_在庫月次 ) Group By 場所コード,品目番号 上記のＳＱＬに対し、T_在庫日次　の処理区分が　‘10’ のデータに対するT_在庫日次とT_在庫月次の数量の 合計を求めたいと考えています。 ＳＱＬの記述で計算までして取得する事はできないでしょうか？？？ 教えて頂ければ幸いです。 よろしくお願いします。
Oracle9iR2(9.2.0.8) EE を使用しています。(OS は HP-UX 64bit) テストの為、開発環境でインスタンスの定義の exp を行ったところ数分で終了しました。 ところが、いざ本番環境で同様の作業を行ったところ、3時間以上たっても終了しませんでした。 この2環境の差 ・初期化パラメータの差はアーカイブログモードか否か。(本番がアーカイブログモード) ・データ量が本番(150GB程度) >> 開発(30GB程度) 本番環境での exp 中 40MB 程度の dmp を出力するのに　60GB 程度のアーカイブログを出力しており、 event を確認すると log file sync が頻繁に発生していました。 (サイズは中断したので最終的にはもっと増える可能性が有りました。) 作業中 DB アクセスは本 exp のみで他の作業は行っていませんでした。 また、本作業中サーバの vmstat を確認していたのですが、ほぼ常時 idle 80% を占めていました。 disk 上の空容量も十分にある状態でした。 実行した exp のコマンドは下記のとおりです。(開発、本番両環境共) exp system/password@sid file=instance_def.dmp log=instance_def.log full=y compress=n rows=n direct=y 上記 exp コマンドのパフォーマンス劣化を解消する方法についてご教示願います。 インスタンスの設定を no archive log モードに変更する必要が有ったのでしょうか？ または、他に何か懸念される設定や、データ量の差等の影響が有りますでしょうか。 よろしくお願いいたします。
あるテーブルがあって、Viewがそのままテーブルを参照してます。 そのViewをそのまま参照しているViewが階層的にあるとします。 テーブルA　← View１ ← View2 ← View3 [SQL的イメージは] ・creat table テーブルA (・・・） ・create view1 as select * from テーブルA ・create view2 as select * from view1 ・create view3 as select * from view2 質問したい事として、 View1 を参照するのとView3を参照するのは、View1を参照するのが 階層化が無い分、速いのでしょうか？ それともそのまま参照している場合、あまり速さは変わらないのでしょうか？
DBMS_METADATA.GET_DDLを使い定義情報を取得しようとしています。 尚、各定義情報は名前を指定せず、全て取得したいです。 テーブル、ビュー、Indexは以下のようにして取得できました。 （select DBMS_METADATA.GET_DDL('TABLE',table_name) from user_tables;） パッケージ、パッケージボディ、ファンクション、プロシージャーの取得方法が 分かりません。 一応、以下のように名前を指定すると取得できました。 select DBMS_METADATA.GET_DDL('PROCEDURE','名前') from dual; 名前を指定せず、全て取得する方法が分かりません。 パッケージ、パッケージボディ、ファンクション、プロシージャーに関して 全て取得する方法をご教授おねがいします。
受付テーブルと顧客テーブルがあります。 受付テーブル（受付日、顧客Ｎｏ、受付時間、受付内容） 顧客テーブル（顧客Ｎｏ、顧客名カナ、顧客名、顧客住所） 上記のテーブルがあるとします。 やりたい事は顧客Ｎｏを結合し 最新の受付日、前回受付日、前々回受付日を新しい受付日の順番に顧客毎に抽出したいのです。 仮に前回受付日と前々回受付日の内容が無ければＮＵＬＬ値を返します。 抽出したいフィールドは受付日、前回受付日、前々回受付日、顧客Ｎｏ、顧客名カナ、顧客名、顧客住所、受付内容です。 どんな構文になるのでしょうか？ どのようなＳＱＬになるでしょうか？ うまく伝わっているでしょうか？ よろしくお願いします。
環境 DBサーバ ： Linux　+ Oracle9i　 クライアント ： WindowsXP + Oracle10g の SQLPlus(w) 当方SQL初心者です。以下のSelectを行うSQL文がわかりません。（色々悪戦苦闘しましたが） どなたかご教授下さい。 条件指定する TABLESPACE_NAME に属する、全テーブルの現在のデータ数を、 各テーブルに comment on したコメントと一緒に表示するSQLを教えて下さい。 Select 結果のイメージは以下の感じです。 TABLESPACE_NAMETABLE_NAMECount(*)　　　Comments ------------------------------------------- -------------------- 条件としては、 　(1) where TABLESPACE_NAME like 'xxxx%' です。 そして TABLESPACE_NAME が異なれば、同じ TABLE_NAME のテーブルがありますが (1)の条件に合致する全てのテーブルを Select したいということです。 すみませんが、お分かりの方、宜しくお願い致します。
oracleのインストールの問題について。バージョン（１０．２．０．０）です。 同じオラクルのCDで Windows2003Server とWindows7 にインストールしました。 １．まず同じCDでこの２つのOSに正常にインストール可能でしょうか？ ２．Windows7 の方で以下の問題が起きました。 　（１）OEMを起動すると、「java.long.Exception :Exception in sending Request::null」　と出る 　（２）sqlplusをたちあげようとすると 　　　　「SP2-1503 Oracle Call Interfaceを初期化できない」 　　　　「SP2-0152 Oracleが正常に機能していない可能性があります」　と出る このような問題が出る場合、どのような可能性があるのでしょうか。
Oracle Client が入っているサーバのIPアドレスは変更しても問題ないでしょうか？（Oracle Databaseは別サーバに入っている状態） Oracle Databaseが入っているサーバのIPアドレスは変更できない認識ですが、Oracle Clientが入っているサーバのIPアドレスは変更しても問題ないでしょうか？ また、IPアドレス変更時は”tnsnames.ora”のIPアドレスを変更すれば良いのでしょうか？ ご存知の方がいらっしゃいましたら、至急教えていただきたく よろしくお願いします。
オラクルの環境をコピーして全く別の所に構築したい。 ただ、以下のような条件があります。 １．実体の無い物（ビュー、ファンクション、シノニムなど）は 　　そのままコピーしたい。また、Create文の情報もほしい。 ２．実体のあるテーブルですが、非常に件数が多い物があります。 　　その為、ある特定の件数（例えばMax１０００件まで）でコピーしたい。 　　また、Create文の情報もほしい。 ３．テーブルの中身ですが、機密性の高い情報がある可能性があります。 　　なので、そのようなカラムにはマスキング（データ変更）したい。 　　そのようなカラムがどこにあるかは事前に分かりませんので、 　　作業中に判断しながら行っていきたい。 　　（作業はお客様先で、時間的な制約があります） これらを実現する為には、どのようなツールで、どのようなコマンドで 行うのが適切でしょうか？
皆さんはどうやって勉強しましたか 問題集＋参考書を教えてください。 iStudyとか買いましたか？ 私はOracle9i Goldを取得しましたが その時は問題集を何冊も買ってとにかく 答えを暗記しましたがプラチナは 問題集が少なかったため取得することができません でした。 今ってプラチナは実技試験なのですか？ もう資格の勉強を１０年位やっていないので 最新の情報がわかりません。 Goldを取得した時のように問題集を何冊も 買って答えを暗記しようと思います.
処理速度改善に向けて、３つ質問があります。 解答は１つでも良いのでお願いします。 １．検索条件が複数ある場合、もっとも絞れる物から検索するのが早いのでしょうか？ 　　（Indexはその順番に伴い変更する事を前提） 　　例： where X = 3 (1000件中10件に絞れる） and Y = 4　(1000件中100件に絞れる） and Z = 5　(1000件中900件に絞れる） 上記のように、より絞れる物から検索する。 ２．文字列で検索する場合、以下は同じ結果でしょうか。そしてパターン２の方が早いでしょうか 　　・パターン１ 　　where X <> 'Z' ・パターン２ 　　where X > 'Z' and X < 'Z' ３．条件式にTO_CHARが入った場合、indexカラムの場合、遅くなるでしょうか？ 　　下記SQLを直すとした場合、どのように直せるでしょうか？ SELECT * from X,Y where TO_CHAR(X.DATE,'YYYYMM') = Y.DATE2(+)
Oracle Database Client(lib64版）をlinux環境（CentOS5.8）へインストールしていますが、 上手く出来ません。今までインストール作業をして、何度もエラーが出ましたが何とか エラーは解消する事が出来たのですが何故かインストールができません。（と思っています） インストールできていたのであれば、 rpm -aq|grep oracle と打てば何かしらのレスが返ってくるものだと思っているのですが。。。 当然、phpコマンドで php -v と打つと PHP Warning: PHP Startup: Unable to load dynamic library '/usr/lib64/php/modules/oci8.so' - libclntsh.so.11.1: cannot open shared object file: No such file or directory in Unknown on line と出ます。（oracleクライアントがインストールされていないので当たり前ですが。。。） どなたかこの状態での打開方法、参考になる情報等ございましたらご教示の程を お願いします。 また、認識違いのご指摘でも結構です。
参照元テーブルのカラムをNOT NULL属性に変更した場合、参照先のマテリアライズドビューに影響がありますか。マテリアライズドビューを作り直す必要がありますか。 バージョン＝ORACLE11g
ローカルマシンにOracle10gclientをインストールし SQLPLUSにてサーバーのDB環境へ接続を試みたところ、以下のメッセージが表記され 接続が不可となります。 「ORA-12154： TNS:could not resolve the connect identifier specified」 Enter user-name : ちなみに、Net Configuration Assistantでは、接続可能となります。 バージョンは10.2.0.1です。 Cドライブにインストールしておりますが、 パスは以下となっています。 C:\oracle\product\10.2.0\client_1 C:\oracle\product\10.2.0\client_2 C:\oracle\product\10.2.0\client_2\NETWORK\ADMIN\の配下に 以下のファイルが存在しています。 listener.ora sqlnet.ora tnsnames.ora サイトでも調べているのですが、なかなか解決に至っておりません。 上記内容で何か考えられる原因等ございましたら アドバイスいただけると幸いです。 以上、よろしくお願い申し上げます。
今度、自宅のパソコンにOracleを導入したいのですが、 Oracleについて検索をしても英語のHPが多く、よくわかりません。 初心者でもわかるような解説をしてくれているHPはないものでしょうか？ （入手方法とか、インストール手順とか） できれば、図解もあると助かります。
階層構造に対するＳＱＬに関して教えて下さい。 以下のような階層構造になっているデータが存在していますが、単純にトップを指定し、それ以下の 組織を表示させる事は簡単かと思われますが、下位層の品番を指定、その人が所属している部署のトップだけを 抽出するようなＳＱＬはどのように記述すれば良いでしょうか、、、 恐らくCONNECT BY を使うかと思われますが、記述の仕方がわかりません。 以下のケースでは、TANAKAさんを指定した場合、TANAKAさんは兼務している為、トップとしては、 SUZUKIさんとSASAKIさんが抽出されるSQLとしたいです。 【テーブル内容】 EMPNOENAMEMGR（上司） 1SUZUKI 2SATO1 3YAMADA1 4TANAKA3 5FUKUDA1 6ENDO5 7KOIKE6 8SASAKI 4TANAKA8 よろしくお願いします。
教えて下さい。 VB2008を利用し、ODP.NET経由でクライアントから接続していますが、その際に、以下の 記述を行い、SQLを投げましたが、サーバ側では発生はせず、クライアントだけどうしても以下の ようなエラーとなってしまいます。 《記述内容》 　'SQLをセット 　Dim adp As New OracleDataAdapter("SELECT 番号,メーカー名 FROM T_品目マスタ", Connection) 　'データセットをクリア 　ds.Clear() 　'データセットの中に品目マスタ_Tというテーブルを作成し、そこへ格納する。 　adp.Fill(ds, "品目マスタ_T") 《エラー内容》 　ORA-00923　FROMキーワードが指定の位置にありません。 単純SQLなので間違いはないと思い、よくよく調べてみると、SQLの項目（SELECT項目）にカタカナが存在 すると、このようなエラーとなってしまうようです。 そもそもカタカナがＮＧという事はないかと思われる為、何かクライアント側の設定が不足しているので しょうか？ それともこのFillでの検索は、カタカナがＮＧなのでしょうか？？？ 教えていただきたいと思います。 よろしくお願いします。
Oracle Database 11g Express Editionをインストールし、各設定をした後、 SQL-PLUSにて接続を試みています。 その際に、 sqlplus ユーザ名/パスワード@サーバIP の場合接続ができるものの、 sqlplus ユーザ名/パスワード@サービス名（XE） では接続ができません。 エラーの内容としては、 　ORA-12154 TNS 指定された接続識別子を解決できませんでした となってしまいます。 “TNSPING XE”、”TNSPING サーバIP”は、いずれも問題なく通ります。 また、tnsnames.ora　は、 XE = (DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.3.59)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = XE) ) ) と記載がある為、問題はないかと思われます。 名前解決がうまくいってない気がしますが、どこを修正すれば良いでしょうか、、、 環境変数は特にいじっていません、、、 初歩的な質問で申し訳ありません。 教えて下さい。 よろしくお願いします。
Oracle初心者です。 あるテーブル(レコード数：100万件程度)に対してSelectするSQLの実行時間を、Oracleのset timing on, set autotrace onlyで計測しました。 結果は1000ms程度だったのですが、 同じSQL文を実行するプログラム(java)を作成し、pstmt.executequery()してresultsetからデータをgetするまでの時間をログに出力させたところ、400ms程度でした。 プログラムの性能目標として、set timing on の値を設定していたため、実際の結果(javaプログラムが出力した処理時間)の評価に困っています。 差がでる原因をご教示いただけませんでしょうか。 宜しくお願いします。
Oracle Database Express Edition 11g （Oracle Database XE）を使用していますが、 その際に、Application Expressを用いてユーザの作成をしましたが、画面では作成 されているものの、SQLPLUSでログインできません。 また、 　SELECT * FROM ALL_USERS; にも表示されません。 Application Expressが正しく接続されてないかと思いきや、表を作成したところ、正しく 表は作成されました。。。 そもそもApplication Expressで作成されたユーザというのは、SQLPLUS等で接続できない ユーザなのでしょうか、、、 関係性がわからず、、、教えて頂きたいと思います。 よろしくお願いします。
教えて下さい。 Ｏｒａｃｌｅ Ｄａｔａｂａｓｅ １１ｇ Ｅｘｐｒｅｓｓ Ｅｄｉｔｉｏｎ　をインストールし、そこにＯＤＢＣ経由で 接続しようと考えていますが、どうも思ったように接続ができません。 ＯＤＢＣは、 　１．[スタート]→[コントロールパネル]→[管理ツール]→[データ ソース (ODBC)]を選択。 　２．ODBCデータソースアドミニストレータのユーザDSNタブの追加ボタンを選択。 　３．データソースの新規作成から「Oracle in XE」を選択。 して設定してあります。 Ｏｒａｃｌｅ側にユーザとして、"ＡＢＣ"というユーザ（ワークスペース管理者）を作成、そのユーザで、 Oracle ODBC Driver ConfigurationのUserIDを追加しましたが、接続できません。 　Unable to connect 　SQLState=28000 　[Oracle][ODBC][Ora]ORA-01017 ; invalid username/password ;logon 　denied というエラーが表示されます。 但し、SYSTEMというユーザでは接続できます。 ユーザ名／パスワードは間違っていませんが、何が問題でしょうか？？？ そもそもの考え方が間違っているでしょうか、、、 教えて下さい。 よろしくお願いします。
現在、oracleのSYSTEM01.DBFが大きいくなっていています。 １３Ｇです。 SYSTEM01.DBFの縮小する方法がわかりません。 教えて下さい。 Ｗｅｂで調べましたがよくわからなくて・・・。 宜しくお願いします。 わがままとなりますが、なるべく、わかりやすく。
よろしくお願いします。 SQL*PLUSで、ホスト名を入れると、ORA-12154エラーとなってしまいます。 ホスト名を入力しないと、正常に接続可能です。 ちなみに、DBはローカルにあります。 以下、TNSNAMES.ORAの内容です。 =========================== ORCL = (DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = cl-000788.iafc.local )(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = orcl) ) ) ================================= どこか、設定が間違っているのでしょうか？ よろしくお願いいたします。
宜しくお願いします。 自分のPCにORACLE　１０gをインストールして、 ODBC接続しようとしていますが、上手くいきません。 ローカルDBへのODBC接続はできないのでしょうか？ もし、何か方法があれば、教えてください。 宜しくお願いします。
Oracle 10g のインストールで苦戦しています。 機種違いで他のWindows7のPCには問題なくインストール出来ていますが、 問題の機種(Windows7)ではインストールを試みたところ、 コマンドの画面が起動して自動的に閉じた後、 何分待ってもインストーラーが起動しない状態となります。 ウイルスソフトも気になって削除してみましたが出来ませんで。 Oracleのログもインストールが停止されたという内容でしか残っておらず、 レジストリへの書き込みも一切ありませんでした。 コケている可能性がお分かりの方がおられましたらご教示お願いします。
宜しくお願いします。 表領域の物理設計などと言われるデータ・ファイルの配置ですがＯｒａｃｌｅが使用するＨＤＤをRAID ０＋１で構成した場合、「システム表領域、UNDO表領域、一時表領域は独立して作成すること」や「ＲＥＤＯログは他の表領域と別にする」などなどは、下記のどの管理が良いのでしょう？ １．RAID 0+1 を単一パーティションとし、システム表領域などをディレクトリで分ける ２．RAID 0+1 を複数パーティションとし、システム表領域などをパーティションで分ける ３．その他
PL/SQLの変数の宣言の仕方について質問です！！ PL/SQLで変数と変数の使用について質問があります。 PL/SQL内部でUPDATEなどを分を作成する際の、その要素を使用部に変数で格納したいと思ってい ストアドを作成していました。 例えば： update tableA set columnA = 'aaaaaa' where columnA not in ('c1','c2','c3') and columnA like 'c%'; というを --仕様部-- afterset varchar2(100) :='aaaaaa'; --変換したい値 nochg_before varchar2(100) := 'C1'',''C2'',''C3'; --特定で変換してはいけないもの beforeset varchar2(100) := 'c%'; --変換したい対象 --本体部-- update tableA set columnA = afterset where columnA not in (nochg_before) and columnA like beforeset; で、作成して実行した際に、なぜか「特定で変換してはいけないもの」 も一緒に更新をかけていました。 おそらく、２番目の変数の宣言に問題があり、レコードが除外できなかったと思うのですが、 正しい書き方とはどうすればいいのでしょうか？ お力を貸してください。 お願いします。
Oracle9iをチューニングするにあたってデータファイルをどのように纏めるかについて、ご教授ねがいます。 １．データファイルを単一ファイルで構成するか、複数ファイルで構成するかの基準は何かありますか？ 当然、ＯＳの制約で複数ファイルに分割する必要があるのですが、ＯＳの制約内であれば単一ファイルで構成した方が良いのでしょうか？ ２．レコード数が単調に増加する場合、大きめのデータファイルを用意しＯＳの制約に近づいた時点で複数ファイルで構成するように運用すれば良いのでしょうか？ ３．そもそも、データファイルを単一ファイルと複数ファイルで運用する場合でレスポンスは大幅に違うのでしょうか？
PL/SQLを用いて、勤務時間の計算を行うプログラムを作成中です。(DBがoracle11g) 単純に退勤時刻から出勤時刻を引いて求めたいのですが、 実行時にエラーとなってしまいうまくいきません。 （当方勉強始めたばかりで、エラーが出ても何がだめなのか分かっていない状況です。） 以下に実際コーディング中のソースを載せますので、どなたか教えていただけませんでしょうか？ よろしくお願い致します。 ↓以下ソースです。（end_date、start_dateがパラメータでそれぞれchar(04)で定義しています。） --------------------------------------------------- --*変数定義 wk_time char(04) := '0000'; wk_time_h char(02) := '00'; wk_time_m char(02) := '00'; sys_date char(08) := '00000000'; BEGIN wk_time := to_date(end_date,'hh24mi') - to_date(start_date,'hh24mi'); wk_time_h := substr(wk_time,1,2); wk_time_m := substr(wk_time,3,2); if substr(wk_time,3,2) >= '30' then wk_time_m := '30'; else wk_time_m := '00'; end if; ---------------------------------------------------------- 実行すると、 ORA-06502: PL/SQL: 数値または値のエラー: 文字列バッファが小さすぎます。が発生しました と表示されました。
Oracle9.2(9.2.0.8) DB のデータを Win7(64bit) のClient(11.2) および ODP.NET (.NET 3.5) から検索しています。 この時、 DB の IP アドレスが 192.168.0.2/24 Client の IP アドレスが 192.168.1.3/24 のようにサブネットが異なる場合に複数(数十)レコードの返答があるクエリを発行するとクライアント側がハングしてしまいます。 同一サブネットIP(192.168.0.3 等)からの検索ではこのような問題は発生しません。 本事象の原因として思い当たることはないでしょうか？ よろしくお願いします。 尚、サブネット間は VPN 接続を使用しており、数百キロ～数千キロ離れています。
あるテーブル「ＡＢＣ」の定義が CHAR(5), VARCHAR2(10), VARCHAR2(20), NUMBER(5,2) だったとします、 そこへINSERT文で INSERT INTO ABC VALUES ('A1111', 'B222222', 'C33333333', '0') を実行すると、 「ORA-01722: 数値が無効です。」 のエラーとなってしまいます、 形式的には合っているように思えるのですが、 どういった問題が考えられるでしょうか？ ORACLEバージョンは9.2です、 宜しくお願い致します。
現在PL/SQL内にてSELECTを発行しています。 環境はoracle 11g、WinServer2008です。 SQLは下記になります。 SELECT * FROM TABLE_VIEW TV1 WHERE DAY_F <= kijun_dt AND DAYT >= kijun_dt ; kijun_dtは変数で渡しています。 質問は、kijun_dtを変数で渡すと処理が5秒くらいかかってしまうのですが '2012/03/01'のように固定すると一瞬で返ってきます。 型は日付型できちんとわたっており、 他のテーブル（view）でも同じように変数で渡している箇所が あるのですが、結果は一瞬え返ってきます。 統計情報の更新、マテリアライズド・ビューを作成し使用などしてみましたが どうしても遅くなる原因が特定できません。 似たような現象になった、または何か情報をお持ちの方、 ご回答を宜しくお願い致します。 足りない情報等御座いましたら書ける範囲で出しますので よろしくおねがいします。
テーブルの列の定義をvarchar(250)⇒varchar(500)に変更するのはＡＬＴＥＲで変更してやればいいと思うんですが例えば１つのテーブルで上記のような列定義変更を膨大な数行う必要がある場合効率のよい方法ないでしょうか？
DBMS_STATSのdegree句についてご存じの方、教えて下さい。 １．degree句を設定すると対象テーブルの統計情報取得処理がn並列で 　　稼働し、処理時間の短縮が図れるということでしょうか。 ２．適切な並列数はどのように設定すればよいでしょうか。 　　多ければいいというものではないですよね。 以上、よろしくお願い致します。
テーブル A, A@other のデータの全カラムの MINUS の結果を取得しその結果レコードの rowid を 取得する方法を検討しています。 A, A@other は異なるインスタンスの同一定義のテーブルです。 このとき、動的SQL を使用し テーブ ルA, A@other には任意のセットが入ります。 対象のテーブルには主キーが無い場合が有ります。 このような時に期待した結果を効率良く取得する方法をご教示下さい。 環境は Oracle 9iR2 （Miracle Linux 4)を使用しています。
以下の問題の解答はＣと問題集にはあるのですが、Ａのような気もします。 どちらが正しいでしょうか？ CだとNumberをもっていない行も選択されないでしょうか？ NAMES NAME NUMBER -------------------- Wayne Gretzky 99 Jaromir Jagr 68 Bobby Orr 4 Bobby Hull 23 Brett Hull 16 Mario Lemieux 66 Mark Messier 11 テーブル名： POINTS NAME POINTS -------------------- WayneGretzky 244 Jaromir Jagr168 BobbyOrr 129 Brett Hull 121 MarioLemieux 189 Joe Sakic 94 Which of the following statements will display the player name, number, and points for all players that have scored points? A. SELECT p.name,n.number, p.points FROM names n INNER JOIN points p ON n.name = p.name B. SELECT p.name,n.number, p.points FROM names n LEFT OUTER JOIN points p ON n.name = p.name C. SELECT p.name,n.number, p.points FROM names n RIGHT OUTER JOIN points p ON n.name = p.name D. SELECT p.name,n.number, p.points FROM names n FULL OUTER JOIN points p ON n.name = p.name
数千万件が格納されているテーブルにINDEXキーを新設して そのINDEXキーを条件句にもつSQL文にヒント句をつけて必ず参照するように変更し、 実行計画を取得したら、新設したINDEXキーを参照してはいるのですが、 逆にRowsやBYTESなどが増加してしまいました。 Rows | Bytes | Cost ⇒　Rows | Bytes | Cost 　　　1 | 　23　 |　 5　　　　　　2862 |65826 |　　16 ただ、体感速度はINDEXキーを新設した方が早いです。 この場合考えられる原因とは何がありますか？ Oracle１１gです。
SELECT COUNT (*) AS XXXX FROM AAA,BBB WHERE AAA.AAA = BBB.BBB AND ・・・・ ・・・・ やりたい事は、ＡＡＡテーブルだけのカウントをしたいのですが 現状、ＢＢＢのカウントもしてしまいます。 ＢＢＢはWHEREでＡＡＡに対して比較だけを 行いたいのですが、この場合どうやったらいいのでしょうか。
MySQL、PostgreSQL、SQLサーバー、ORACLEデータベースについて 仮に、ユーザが５０００万人のSNSを作った場合、MySQLやPostgreSQLで対応できますか？ 検索に時間がかかったりするのでしょうか？ その場合、DBをORACLEにしたほうがいいのでしょうか？ ■費用について もし、DBサーバーを１台設置して、ORACLEにした場合、初期費用や毎月のコストはどのくらいになるのでしょうか？ ORACLE対応のDBサーバーの金額等も教えて頂ければ幸いです。 あと、ＳＮＳの会員が10万人までだとしたら、 MySQL、PostgreSQL、SQLサーバー、ORACLEのうちだと、どれがコスト的に一番効率的でしょうか？
お世話になります。 UPDATE文のSET句からストアドファンクションを呼び返却値を設定する処理を行っています。 が、以下のエラーが出ます。 「ORA-04091: 表xx.xxxは変更しています。トリガー/関数は見ることができません」 テーブルにトリガーは使用していません。 ストアドファンクション内で、コール側のUPDATEするTABLEを参照(SELECT)しているのですが この箇所を削除すると、エラー発生しません。 以下のような処理です。 UPDATE TABLE_A SET COL_A = FUNC(KEY1,KEY2); FUNC(PKEY1,PKEY2) IS CORSOR C1 IS SELECT COL_B FROM TABLE_A WHERE KEY1 = PKEY1 AND KEY2 = PKEY2; BEGIN ・・・ END; UPDATEですが、自TABLEのSELECTは ・SET句の中でSELECTする場合はうまくいく ・引数渡し→ストアドファンクション内でSELECTはできない という事なのでしょうか。 よろしくお願いします。
いつもお世話になります。 相関サブクエリについて、教えて頂きたいことがあります。 以下のサイトに相関サブクエリについての説明がされています。 http://gihyo.jp/dev/serial/01/sql_academy2/000902 このサイトによると、 ----------------------------------------------------------------- 「行われている動作 リスト2の2つ目のSELECT文においても，最初に評価，実行されるのがサブクエリであるという点は変わりません。・・・」 ※リスト2　 相関サブクエリ（性別による集合カット） SELECT * FROM Employees E1 WHERE age = (SELECT MAX(age) FROM Employees E2 WHERE E1.sex = E2.sex); ----------------------------------------------------------------- と説明があります。 理解できないのが、「最初に評価，実行されるのがサブクエリ」という内容です。 私の理解では、相関サブクエリは、内側のクエリが外側のクエリを参照するクエリのことで、まず外側のクエリが実行される。 その後、その結果の各レコードに対してサブクエリを実行していく、というように理解しています。 しかし、上記サイトでは先にサブクエリが実行されるという説明がされており、ちょっと混乱しています。 相関サブクエリは正しくはどういう挙動をするものなのでしょうか、また正しい説明がされているサイトなども教えて頂けないでしょうか。 宜しくお願いします。
はじめまして 当方、初心者で勉強の身です。ご回答頂けたら幸いです。 Oracle１０ｇを使っています。 表１ カラムA(PK) CHAR型 カラムB(PK) CHAR型 カラムC(PK) CHAR型 カラムD(PK) CHAR型 A　　　　　B　　　　　C　　　　　D --------------------------------- AUD　　　2012　　　1　　　　　 30 AUD　　　2011　　　12　　　　　26 EUR　　　2010　　　7　　　　　 1 EUR　　　2011　　　6　　　　　21 EUR　　　2012　　　5　　　　　 1 JPY　　　2011　　　6　　　　　26 JPY　　　2011　　　12　　　　　25 というデータであれば A　　　　　B　　　　　C　　　　　D --------------------------------- AUD　　　2012　　　1　　　　　 30 EUR　　　2012　　　5　　　　　 1 JPY　　　2011　　　12　　　　　25 というデータを抽出したいと考えています。 具体的には、Aをキーにして、B（年）、C(月)、D(日)の年月日の最新日付を取りたいですが どうすればよいでしょうか。 お手数をおかけしますが、よろしくお願い致します。
10ｇを使ってます。 ストアドで、INパラメータの値をselect文の結果として別テーブルにinsertするには どうすればいいのでしょうか？
お世話になります。 実はsga_max_sizeを変更するとDBが起動しなくなりました。 そのため、元に戻そうと考えました。 変更する前にDBを停止しＳＰＦＩＬＥをバックアップしていましたので DB停止後、SPFILEをコピーしました。 するとDBは起動し問題なく動作しているようにみえています。 この復元方法は正しいのでしょうか？また問題はないでしょうか？ PFILEからSPFILEを作成しなおす方法もあると思いますが・・・
すべてのアカウントに同じ管理パスワードを使用でパスワード入力したのですが入力ミスでパスワード違いになってしまいました。 対処方法はありますでしょうか？DB削除もできません。よろしくお願いいたします。
現在社内のクライアントPCがWin2000でオラクル9.2iを使用しています。 Win7では9.2iをインストールできない為、VMware Workstation7を使ってインストールしたいと思ってます。その時には、ＸＰか２０００をインストールしようと思ってます。 仕様環境としてはほぼ365日電源を入れっぱなしになります。 できれば冷却機能がしっかりしたものが良いです。 極端に遅く無ければ性能にこだわりません。 DVDドライブ、ＦＤドライブが必要です。 メーカーは問いません。（自作系でも問題ありません。） 同様のＰＣを20台ほど購入予定です。 上記内容でお勧めなＰＣがありましたら教えて頂けないでしょうか。 よろしくお願いします。 なお不慣れな為、情報が不足でしたら追記しますのでよろしくお願いします。
ORACLEでのSQL文について質問です。 SQLで条件に合うレコードがあるかどうかはどう判別するのでしょうか？ 画面で２つの条件を選んで テーブル ・ステータス ・フラグ 条件に合うレコードがなければINSERT 条件に合うレコードがあればUPDATE レコードが元々あるが、画面で指定された条件から外れる場合はDELETE としたいのですが、うまくSQLが書けません。 レコードがあればupdate、なければinsertするというのは多いのですが。 何かシンプルな方法はないでしょうか。
32bit版で構築されているOracleDBを64bit版のOracleDBに移行しようとしているのですが、 下記の問題が生じています。 1)下記のストアド、曜日を取得する変数について、 SELECT TO_CHAR(TO_DATE('2012/02/01'),'Day') INTO v_YOUBI FROM DUAL; 32bit版では、6バイトの定義(v_YOUBI VARCHAR(6))でよかったのですが、 64bit版で、6バイトにすると、オーバーフローになってしまいます。 9バイトにしたところ、正常動作しました。 64bit版で、オーバーフローする理由をお教えください。 ※32bit版、64bit版は共にSHIFT-JISにしております。 2)Date型のテーブル項目にChar型の日付を挿入しようとするとエラーになります(32bit版では許容)。 64bit版では制限が厳しくなったのでしょうか？ 32bit版、64bit版の違いをお教えください。 3)ほかに、32bit版から64bit版に移行することによる注意点をお教えください。
　　こんばんは。 EnterpriseManagerが起動できません。 DOS窓でコマンド入力しているのですが C:\>set ORACLE_SID=orcl C:\>emctl start dbconsole OC4J Configuration issue. c:\oracle\product\10.1.0\Db_1/oc4j/j2ee/OC4J_DBConsole_<アドレス>_orcl not found. となります。 そんな所にoracleフォルダなんてないんですが。 それとＤＢＣＡ作成時に、エラーダイアログが出ました。 内容は、 1) 環境変数ORACLE_UNQNAMEを一意のデータベース名設定 2)D:\app\～\11.2.0\dbhome_1\bin\emctl.bat start dbconsole といった内容です。 環境変数ORACLE_UNQNAMEはシステム環境変数の部分に追加するんでしょうか？ またORACLE_SIDやORACLE_HOMEも追加したほうがいいでしょうか？ ここの所が理解しずらいです。 インストールだけでここまで手こずるのは初めてです。 巷の噂だと少し間違えただけでアンイストだとか 正直言って屈指の難易度を誇るソフトだと思う。 不安定すぎてやってられない。 もう自分じゃどうにもなりません；； よろしくお願いします。 投稿日時 - 2008-07-30 13:18:46
データベース自体全くの初心者ですが、仕事でOracleを使うことになりました。 3ヶ月程で基本をモノにしたいのですが、まずは何から手をつければいいのでしょうか。 いきなりOracleの参考書を手に取るよりも、データベース（SQL？）の基礎知識から勉強した方がいいでしょうか。 おすすめの参考書等あればご教示下さい。
Oracle10gを使っています。 項目の順番がバラバラなcsvのデータを並べ換えてテーブルに登録したいのですが、 項目数はcsvによって違っていて、テーブルに登録する項目の数もcsvによって変わります。 例） AAA.csvの場合 元々は1,2,3,4,5,6の順番で項目が並んでいるが、登録する項目と順番は→3,1,2,4,5 BBB.csvの場合 元々は1,2,3,4,5,6の順番で項目が並んでいるが、登録すると項目と順番は→2,3,1,5,4,6 （AAA.csvとは違って、6番目の項目もテーブルに登録したい） といった感じです。 登録するテーブルはデータをプールする場所で、本登録するテーブルにこのテーブルのデータを移したら移し元のデータを消そうと思っています。 登録する側のテーブルの項目数がはっきりと決められないので、毎回テーブルをドロップ→違う項目数で再作成しようかとも思ったのですが、複数の人がこの処理を行いたい場合はやっぱりやめておいたほうがいいですよね？ 分かり難い質問で申し訳ありません…。 何か良い知恵がありましたら、ご教授願います。 よろしくお願いします。
お世話になります。 Excelで[データ]-[外部データの取り込み]-[データの取り込み]-[新しいソース] -「ODBC DSN」-「接続するODBCデータソース」-「OracleDNS」 -「Oracle ODBCドライバ接続」ではＯｒａｃｌｅに接続する事は出来、データも Excel上に表示する事が出来ました。 しかし、下記HPの http://www.atmarkit.co.jp/fdb/rensai/excel2oracl … サンプルコードを元にVBAコードを作成したのですが、 'データベース接続処理がうまくいっていない様で、 Err_Han: ' エラー処理 MsgBox (Err.Description) で、「ORA-12154:TNS: 指定された接続識別子を解決できませんでした」 と言うエラーになってしまいます。 ＶＢＡにてADOの参照設定とかしていないのですが原因はそれでしょうか。 どなたかご親切な方、ご教示くださいます様、宜しくお願い致します。
以下のような5つのレコードがあった場合に --- AAAAAAA　X AAAAAAA　Y AAAAAAA　Z BBBBBBB　P BBBBBBB　Q 以下のように2行に集約して結果を表示したいのですが、どのようなSQL書けばいいでしょうか? --- AAAAAAA　X,Y,Z BBBBBBB　P,Q X,Y,Zおよび、P,Qは昇順で左からカンマ区切りで1つの項目に出したいです。 やはり、PL-SQLを書かないとだめですかね? SQLに詳しく、ご存知の方がいらっしゃれば、ご教授願います。
お世話になります。 インターフェースにｅｘｃｅｌを使用し、 oracleをデータベースとして活用した 仕組みを開発したいと考えております。 ネットで下記コードを参照しましたが、 excelのvbaを起動するpcから下記コードで 別のサーバー内のoracleに接続する際、 パスの記述はどの様にしたら宜しいのでしょうか。 また、CONNECTSTRINGに代入する文字列は oracleの何処を調べれば分かりますでしょうか。 なんとも初心者すぎる質問内容で大変恐縮 致しますが、何卒ご教示頂けます様、 宜しくお願い申し上げます。 　　　記 Sub prcAdoOracleDB() Dim adoCON As New ADODB.Connection '(1)ADOを使いORACLEのDBを開きます adoCON.Open "Driver={Microsoft ODBC for Oracle};" & _ "CONNECTSTRING=ADRSORA; UID=HAPPY2; PWD=ISLAND;" '(2)データベースのクローズ adoCON.Close End Sub
シェルからsqlplusを実行し、そのsqlplusで発生したエラーをハンドリングするために、 出力内容をORACLEエラーコード（ORA-xxxxx)、SQLPLUSエラーコード(SP2-xxxxx) で検索して判定しています。 また、SQLで何らかのエラーが発生した際に処理を終了させるために、 SQL実行前に whenever sqlerror exit; whenever oserror exit; を定義しています。 何らかのエラーが発生した際は、ORACLEエラーコード（ORA-xxxxx)、SQLPLUSエラーコード(SP2-xxxxx) が出力されるため、エラーハンドリングは可能と考えているのですが、 sqlplusのstartコマンドでsqlファイルを実行した場合のみ、エラーコードが出 力されないため、ハンドリングできません。 ■実行例 SQL> start 存在しないsqlファイル O/Sメッセージ:No such file or directory 切断しました。 試しにwhenever oserror exit;の記述を削除したところ SP2-0130が出力されエラーハンドリングできました。 whenever oserror exit; の記述があるとエラーコードが出力されないのはなぜでしょうか？？
oracleに登録された数億件のデータを数日に分割して削除するため、 数億件のデータを5千件ずつ削除する方法を教えてください。 delete from テーブル名　where 条件　set rowcount = 5千; commit; これだと削除処理する件数が5千件であって、 先頭から5千件分見ることとは違うのでしょか？ やりたいことは、 初日：一件目～5千件 二日目：5千1件目から一万件目 ・・・・・・ という感じで削除処理を行いたいです。 皆様の力を貸してください。宜しくお願いします。
WindowsServer2008R2(64bit)にOracle11g(64bit)のデータベースを構築し、 同機上のアプリケーションからアクセスしようとしています。 （具体的にはPro*C/C++を使ってプリコンパイルしているCで作成したDLLやEXEです。） これらのアプリケーションは元々Oracle10gの機能を用いて作成してあった物を流用している為、 Oracle11g(32bit)のクライアントがないと動作しない様です。 従って、2008Serverには32bit版の11gクライアントもインストールしました。 （Oracle11g(64bit)のメディアパック内の32bitクライアントディスクからインストール） （手順） １：Oracle11g(64bit)ホストのインストール＆データベースの構築 ２：Oracle11g(32bit)クライアントのインストール ３：データベースに表領域とユーザを作成 ４：クライアントでローカル・ネットサービス名の作成 で、ここまではできたのですが、 11g(32bit)クライアント側のSQL*Plusを起動して作成したユーザでログインしようとすると ORA-12560:TNS:プロトコル・アダプタ・エラーが発生しましたとなってしまいます。 ただ、コマンドプロンプトから「ユーザ／パスワード＠接続文字列」を直接指定して SQL*Plusを起動するときちんと接続できます。 何か順番や方法を間違えているのでしょうか？ ちょっと急いでいてなるべく早く解決させたいので、 間違い・チェックすべき事の漏れなど 直接的な解決策でない事でもかまいませんのでご教授下さい。
10ｇをつかってます。 ストアドプロシージャ内のexecute immediate内で変数は使えないのでしょうか？
いつもおせわになっております。 最近、取りたい資格が1つ落ち着いたので、データベーススペシャリストを目指し、 その入口としてまずはBronzeを取ろうと考えています。 受講内容は程々理解していますが、どの程度教材を用意して臨むべきかわかりません。 ※自分は応用情報程度はありますが、DATABASE完全初心者です。 ブロンズで以下の本(黒本)があると思いますが、 最低限どれほど揃えるべきかご相談させてください。 ・11g SQL基礎I(教科書) ・11g SQL基礎I(問題集) ・11g DBA(教科書) ・11g DBA(問題集) 流石に4冊は…と思うのが自分の本音ですが、皆様はどの位の勉強をしておられるのか、アドバイスを御願いします。
独自に TYPE を定義した表のデータを export したのですが、exp した dmp ファイルの imp で 下記エラーが発生してしまいます。 「ORA-01861: リテラルが書式文字列と一致しません」 export 元環境 OS： HP-UX 11i v2（64bit） Oracleバージョン：9.2.0.8 Enterprise import 先環境 OS：Windows7 Pro (64bit) Oracleバージョン： 11.2 Express Edition 対処方法、または原因の切り分け方法について、ご教示願います。
vb.net2010とoracle10gを使用してます ストアドをVB．NET2010でODBC経由で実行するとodbc4200 ora-00900 sql文が無効 ですとなります。 このストアドをsql/plusからだと問題無く実行出来ます。 なぜでしょうか？
sqlplus testuser/passwd@TESTの形式ではログインできますが、sqlplus testuser/passwdだとORA-01034、ORA-27101が発生します。 ORACLE_SIDは正しくセットしていますが、どのように調査すればよいか分かりませんので、教えて下さい。 以下は実行結果です。 USER[2]% sqlplus testuser/passwd@TEST SQL*Plus: Release 11.2.0.1.0 Production on 水 1月 11 22:19:45 2012 Copyright (c) 1982, 2009, Oracle. All rights reserved. Oracle Database 11g Enterprise Edition Release 11.2.0.2.0 - Production With the Partitioning, OLAP, Data Mining and Real Application Testing options に接続されました。 SQL> exit Oracle Database 11g Enterprise Edition Release 11.2.0.2.0 - Production With the Partitioning, OLAP, Data Mining and Real Application Testing optionsとの接続が切 断されました。 USER[3]% setenv ORACLE_SID TEST USER[4]% env | grep ORACLE ORACLE_SID=TEST ORACLE_HOME=/opt/app/oracle/product/11.2.0/dbhome_1 ORACLE32_HOME=/home/oracle2/32Bit ORACLE_TERM=sun5 USER[5]% sqlplus testuser/passwd SQL*Plus: Release 11.2.0.1.0 Production on 水 1月 11 22:20:17 2012 Copyright (c) 1982, 2009, Oracle. All rights reserved. ERROR: ORA-01034: ORACLE not available ORA-27101: shared memory realm does not exist SVR4 Error: 2: No such file or directory プロセスID: 0 セッションID: 0、シリアル番号: 0
10ｇを使ってます。 １．ワークテーブル作成 ２．そのテーブルにインサート の一連のスクリプトをsql/plusかなんかでやると問題ないのに それをストアドにしたら２．の時にテーブルが存在しないと言うことで コンパイルエラーになってしまいます。 こうゆう場合どうすればコンパイルエラーを回避できるのでしょうか？ １．と２．を分割して二つのストアドにしないといけないのでしょうか。
ＳＱＬでこんな事ができないかと考えています。 実際のデータの内容として、発注データと仕入データが存在し、結果として 発注残の数量を拾いたいと考えています。 １、発注データ 発注番号、品名、数量・・・・ ２、仕入データ 仕入番号、発注番号、数量・・・・ ※　仕入は分納もある為、１つの発注番号に対し、複数データが存在します。 結果として、 　発注番号、発注残数量 これらを繋ぎ合わせ、なんとか１つのＳＱＬで発注残が取得できないかと 考えていますが、不可能でしょうか？ これをプログラムで作成する事は可能かと思われますが、かなりボリュームが 大きくなってしまう為、ＳＱＬでなんとかならないかと考えています。 教えて下さい。　よろしくお願いします。
10gを使用しています。 create global temporary ～　preserve rowsとしているのにも関わらず セッション終了時にテーブルが削除されないのですがなぜでしょうか？
10gを使っています。 ストアドプロシージャ内のexecute immediate内に"'"（シングルクォーテーション）が あった場合はどう扱えばいいのでしょうか？ エスケープしないことでエラーになっているようです。
OcaleMasterにむけて勉強中です。 Oracle11.2をOracleLinux5にインストールして以下を行いました。 1.ユーザー「test」を作成。権限はconnectロールのみ。 2.sqlplusにtestでログイン(sqlplus test/***) 3.テーブル「t1」を作成/行移動を有効。 4.t1に対し挿入・更新を実行する。 5.flashback tableを実施すると以下のようなエラーが発生しました。 SQL> flashback table test.t1 to scn 1015246; flashback table test.t1 to scn 1015246 * 行1でエラーが発生しました。: ORA-00604: 再帰SQLレベル1でエラーが発生しました。 ORA-01031: 権限が不足しています。 6.testにflashback any tableシステム権限/sysdba権限を付与 7.sqlplusにtestで再度ログイン(sqlplus test/***) 8.flashback tableを実施するとやはり同様のエラーが発生しました。 9.sqlplusにsysdbaでtestで再度ログイン。(sqlplus test/*** as sysdba) 10.flashback tableを実施すると成功しました。 参考書などの記載を見る限り、基本的に自分のテーブルであれば権限は不要と思ったのですが（少なくともSYSDBAでないと不可というものではないはず!?)、No5、No8でエラーとなってしまったのは、どこに問題があったものでしょうか。 何か情報ありましたら教えてください。
オラクルのソフトウェアライセンス費用のコストダウンの仕方を考えています・・・ とあるシステムの運用をしていますがそろそろリプレイス時期が近づいて来ました。 まぁそれなりに費用がかかることは織り込み済みなのですが・・・景気も景気なのでコストを削減しなさいと厳命されています。 そこでとりあえずサーバは仮想で現在の物理サーバより台数を減らして諸費用を削減しています。 その企画書を上司に出したらもっと削減はできないか検討しろと突き返されました。 基本的に今のアプリを移行することが一番安上がりです。 （使うDB変えたりアプリを買い換えは一応見積もってみたけど論外な金額になりました） あと減らすとしたら保守費用？ライセンス費用？といったところしかないかと思っています。 この対象のシステムは本番運用環境とてすと環境があります。 上司と相談していて「てすとの稼働率は低くていいんだから本番にてすと用インスタンスでも作りゃコスト削減だからやれよ！」 みたいに言われました・・・ 私としては正直えっ？？？と思っています。 たぶんリソースとかでは問題ないかと思いますが有事の際困るのではとおも一瞬頭をよぎりましたが反論できる材料がなかったのでその場では調べてまた報告しますにしました。 サーバ異常時について考慮を入れていないとは思うのですが・・・（たぶん上司は確率的に低い、最悪バックアップから戻せよって考え） 私的にはアプリの状況から同一サーバにはしたくありません。 しかし、コスト的にも厳しいのです。 １０ｇの導入を進めていますが、なんとかオラクルのライセンスコストをカットするいい方法はないでしょうか？ また、上司の意見は有りでしょうか？？？
色々試行錯誤していますが、求めた結果になりません。 下記URLに詳細を明記した画像を載せましたので、ご覧ください。 宜しくお願い致します。 http://www2.ocn.ne.jp/~aiken/okwave-index.html
はじめまして。 各部門に所属している人の件数を配列に格納して処理したいと考えています。 （例）テーブル名：buhyo SQL：select bumon_cd,count(*) from buhyo group by bumon_cd order by bumon_cd 上記SQLの結果↓ 部門コード(bumon_cd)　　　　　count(*) --------------------------------- A11　 　　　　　　　 　　　　　　　　 100 A12 　　　　　　　 　　　　　　　　　　150 A13 　　　　　　　 　　　　　　　　　　200 上の結果であるA11と100、A12と150、A13と200をそれぞれ配列に入れたくて PLSQLで以下のロジックを作成しましたが、うまくいかなくて困っています。 ＜ロジック＞ DECLARE CURSOR KEKKA IS SELECT BUMON_CD,BUMON_CD,COUNT(*) RCNT FROM BUHYO GROUP BY BUMON_CD ORDER BY BUMON_CD; TYPE BUMON_TAB IS TABLE OF KEKKA%ROWTYPE INDEX BY PLS_INTEGER; WK_ARRAY BUMON_TAB; BEGIN FOR WK_BUMON IN KEKKA LOOP I := I + 1; WK_ARRAY(I).BUMON_CD = WK_BUMON.BUMON_CD; WK_ARRAY(I).RCNT = WK_BUMON.RCNT; DBMS_OUTPUT.PUT_LINE(WK_ARRAY(I).BUMON_CD || ',' || WK_ARRAY(I).RCNT); END LOOP; END; / これで出力しようとしてもWK_ARRAY配列に部門コードと件数が入りません。 どのようにすれば各部門とその対になる件数を配列に入れることが 可能でしょうか？ご教授ください。 よろしくお願いします。
いつもお世話になっております。 データベース資格として、現在Oracleと情報処理試験のデータベーススペシャリストを考えております。今秋に１つ落ち着いたので、目標を立てたいと思っています。 私はDBに関する知識はほとんどなく、1から勉強する身です。 そこで教えていただきたいのですが、以下の7つの試験を難易度の高い順に並べるとどのような順番になるでしょうか。もちろん個人的なご意見でも結構です。 よろしくお願いします ・基本情報処理試験 ・応用情報処理試験 ・データベーススペシャリスト ・Oracleブロンズ ・Oracleシルバー ・Oracleゴールド ・Oracleプラチナ(←一番上かな？）
あるテーブルのキー項目をnumberからvarchar2に変更します。 テーブルの全件を仮テーブルを作成してコピー 元テーブルをTRUNCATE後、型変換 仮テーブルのデータを元テーブルへコピー という流れで、それぞれSQL文はできましたが、 仮テーブルのデータを元テーブルへコピーを実現する SQLが思い浮かびません。 insert into AAA select * from BBBだと、属性もコピーされてしまう？ とのことで、ご教授お願いいたします。
テーブルが2つあり、 テーブル１　ＩＤ１　ＩＤ２　ＩＤ３　[PRIMARY-KEY制約]　ID1 ID2 テーブル２　ＩＤ１　ＩＤ４　ＩＤ２　[PRIMARY-KEY制約]　ID1 ID４ のテーブルがあります。 テーブル２にてFOREIGNKEY制約（ＩＤ１とＩＤ２）を実施すると ora-02298が発生してしまいます。 どのようにすればFOREIGNKEY制約をかけれますか？
電話番号のデータを文字列分、'#'で置換したいのですが、 update test set tel_no = replace(tel_no,tel_no,'#'); では、'#'一文字になってしまいます。 電話番号が10桁の場合、##########と置換するための OracleのSQLを教えてください。
下記エラーの解決方法に心あたりのある方がいらっしゃったら教えてください。 現象 　サーバーを用意し、そこにOracleDatabase11gR2をインストールし、クライアントマシンから 　Oracle Net Configration Assistantでネットサービス名の構成をする際、以下のエラーが出て 　接続できません。 　 　「ORA-12170: TNS: 接続タイムアウトが発生しました。」 　 　※１ 　サーバーでは同様のユーザ(SYSTEMユーザ)とパスワードでデータベースに接続できることは確認できています。 　またファイアーウォールの設定でポート1521の接続の許可は行っております。 　(クライアントからの接続のときのポートはデフォルトのまま1521を使用) 　 　※２ 　ファイアーウォールを有効にしたまま接続を試みたとき、 　C:\Windows\System32\LogFiles\Firewall\pfirewall.logに接続がブロックされたことがログとして出力されると思いますが、出力されませんでした。 　よって、ポート1521はファイアーウォールに到達する前に、どこかで遮断されているように思われます。 　(ポート1158で同様にファイアーウォールの有効性を確認したところpfirewall.logにブロックした旨の内容が出力されました。) 　 　よろしくお願いいたします。 環境 サーバー 　OS：Windows Server 2008 R2 (64bit) 　Oracle：Oracle Database 11g Release 2 (11.2.0.1.0) for Microsoft Windows (x64) 　ファイアーウォールの設定：ポート1521の接続は許可済み 　(1158の接続も許可) クライアントＰＣ 　OS：Windows7 (32bit) 　Oracle：Oracle Database 11g Release 2 Client (11.2.0.1.0) for Microsoft Windows (32-bit)
オラクルのサービスを停止して オラクル１０Ｇのシステムと　ＤＢ領域のＨＤをデフラグしても大丈夫でしょうか
どなたか次の文法でまちがっている点をおしえてください SELECT NY.nko_yotei_date, KM.shoh_nm, KM.btr_center_cd, KM.souko_cd, KM.juchuu_kikakukai, KM.tokki_kbn, KM.shoh_idx, KM.haitatsu_kikakukai, SUM(NY.yotei_ps_sou_su) FROM M_SC_KIKAKU_SHOUHIN KM LEFT OUTER JOIN T_SC_NKO_YOTEI NY ON KM.BTR_CENTER_CD = NY.BTR_CENTER_CD AND KM.SOUKO_CD = NY.SOUKO_CD AND KM.juchuu_kikakukai = NY.juchuu_kikakukai AND KM.tokki_kbn = NY.tokki_kbn AND KM.shoh_idx = NY.shoh_idx AND KM.haitatsu_kikakukai = NY.haitatsu_kikakukai AND KM.shoh_nm = NY.shoh_nm WHERE KM.SHOH_CLS = '1' AND KM.HAITATSU_KIKAKUKAI = '11124' AND NY.nko_yotei_date = '20111215' AND KM.HI_SHUH_FLG = '0' GROUP BY btr_center_cd, souko_cd, juchuu_kikakukai, tokki_kbn, shoh_idx, haitatsu_kikakukai, nko_yotei_date, shoh_nm ORDER BY btr_center_cd, souko_cd, juchuu_kikakukai, tokki_kbn, shoh_idx, haitatsu_kikakukai, nko_yotei_date, shoh_nm DESC
開発環境 OS：CentOS DB：Oracle Database 11g 上で，Pro*Cを使用して，DBにアクセスする関数を作成しました（正確には，してもらいました）． 上記で作成した関数を，別に作成したプロセスから呼び出しているのですが プロセスの挙動が，期待しないものになります(ゾンビにはならないが，以降の動作をしない)． OracleのHPを見ると，Pro*Cは，signalをユーザプロセスに投げるように 読めます（SIGCHLD，SIGPIPE？？）が，それ以上の情報を見つけられていません． おそらく，Pro*Cを利用する場合の「お約束」があるのかと思いますが どの辺を調べればいいかお教えください．
oracle 複数列のデータ中身を別のテーブルの１列にインサートしたい ご存知の方、オラクルプロの方、 若輩者の私にアドバイス等ご指導受けたまりたく存じます。 以下のようなテーブルがあったとします。 テーブルA MID　｜　K1　｜　K2　｜K3 ------------------------- 011　｜ああ ｜いい ｜うう　 012　｜ええ　｜おお　｜かか 特定の列を選択しての、Updateには成功しました。 update テーブルA　set　K1　= (select K1|| ' ' ||K2|| ' '||K3 from テーブルA where MID = '011') where MID = '011'; これを別のテーブルに全行Insertしたいのです。約５千行はあり、環境の制限によりSQL文のみしか使えません。 テーブルB MID　｜K1 ----------------------- 011　｜ああ　いい　うう 012　｜ええ　おお　かか 以下のようなSQLで正しいでしょうか？ insert into テーブルA (K1) select K1|| ' ' ||K2|| ' '||K3 from テーブルB; 上記の方法で実施しましたが、下記のようなエラーメッセージが表示されます。MID項目が主キーのため、NULL不可なことはわかりますが、指定していないMIDが何故でてくるのでしょう？ SQL Error: ORA-01400: テーブルA (MID) にはNULLは挿入できません。 環境情報： Oracle 10g　 検証環境：Oracle SQL Developerあり 本番環境：Oracle SQL Developerなし、SQLのみ使用可
はじめて、質問させて頂きます。 現在、初のＯｒａｃｌｅ構築に携わっております。 ＯＴＮ等で調べても中々わからず、皆様のご助力頂ければと思い投稿させて頂きました。 環境： Oracle　11.2.0.3 RHEL5.5 64bit Oracle_base=/opt/app/oracle single環境 環境はこれで足りるか不明ですが、足りなければ返信にて確認させて頂きます。 現在、負荷テストを行う為、Oracle側でshutdown immediateを実行した際に ロールバック処理が流れると思いますが、そこで5分以上の待機を出させたい状況です。 データファイル等をloop処理でサイズ1M単位の物を数万個作れば、ロールバック処理に 時間をかけられると思っておりますが、単体でデータファイルを作成するのならば コマンドが分かるのですが、loopっ処理等で複数のデータファイルを作成する方法が不明です。 もしよろしければ、ご教授頂けますでしょうか。。 単体作成コマンドとしては、以下で作成しております。 CREATE TABLESPACE ????? DATAFILE 'Locate' SIZE 1m ;
Oracleで大量レコードを削除する場合、 どういった方法を取ればよいですか？ 削除予定レコード数は約2万件です。 以下は使用しているOracleのversionを調べたものです。 Oracle Database 10g Release 10.2.0.2.0 - 64bit Production これだと、partitionが使用できないと思われるので (Enterprise Editionじゃないから)どなたかお力添えをお願いします。
お世話になっています。 現在下記のようなSQLを組んでいます。 ビュー１の集計結果 UNION ALL ビュー2の集計結果 UNION ALL ビュー3の集計結果 実行結果　例 年月 　　　 人数　　金額 201104　　　3 　　　20000 201105　　　2 　　　10000 201104　　　1 　　　5000 GROUP BY句で年月を集計したビューをUNION ALLでつないでいるため、 当然のように同じ年月が何度も出てくるため、テストがしづらくなっています。 やりたいこととしては、さっきの実行結果をさらに年月で集計することを 考えています。 年月 　　　 人数　　金額 201104　　　4 　　　25000 201105　　　2 　　　10000 対策として、下記のように集計したビューをUNION ALLでつないだ結果を さらに集計するSQLを作りました。 SELECT　 FROM（ ビュー１の集計結果 UNION ALL ビュー2の集計結果 UNION ALL ビュー3の集計結果 ） GROUP　BY その結果、下記のエラーが発生しました。 ORA-00935:グループ関数のネスト・レベルが深すぎます。 環境はoracle11gです。 あとは、SQLのFROM句の（）の部分をビューとして作成し、 更にそのビューを呼び出して集計するくらいしか思いつかないです。 今回作ろうとしてるのはテスト用のSQLのため、SQL文と実行結果を残したいので、 できればビューやプロシージャーは作らずに、SQLのみで作成したいと考えています。 何か良い方法はありますでしょうか？ 宜しくお願い致します。
ORACLE 11gExpressEditionをあるPC(WindowsXP)にセットアップし、 ODBC経由でMS Accessで問題なく動作しています。 他のPCでODBC（OracleInstantClientを使用)設定して、 接続テストするとタイムアウトが発生し接続できません。 何か解決のヒントを頂ければ助かります。 ORACLEをセットアップしたPCは他のネットワーク環境では、 他のPCからODBCで使用出来ていました。 しかし、本番のネットワーク(ドメインネットワーク）へ移設した途端 このような状況です。 ただし、他のPCから上記PCのディスクの中は見ることが出来ていますので、 物理的なネットワークの接続は大丈夫なようです。
(1)11g SQL基礎I [11g SQLI](1Z0-051) (2)Bronze SQL基礎I [Bronze SQLI](1Z0-017) の上記の2つがありますが、どう違うのでしょうか？ できれば、将来性のある方を受けたいのですが、 (1)が11g、(2)がが10g、11gに共通すると思って良いのでしょうか？ それであれば(1)の方が将来性があるのでしょうか？ また、この後、11gでは無理だと思いますが、12gが出る頃には SillverやGoldを受けたいのですが、それも視野に入れてご回答 宜しくお願い致します。
マテリアライズドビューの更新時エラーを検知する方法を教えて下さい。 できればマスターサイトで検知したいのですが・・・。
お世話になります。 今回、あるTBL１のフィールド：[氏名]を入力すると同テーブルのフィールド：[社員番号]が自動で セットされるようなトリガーを作成しようとおもっています。 しかし、変更表の更新には複合トリガーを使用しなければ出来ないというのはわかったのですが、 うまいことコンパイルできません。下記に前提条件と自分なりに作成したトリガーをを記載しますので どなたか助けてください。 <前提条件> ・セットされる社員番号はプライマリーキーとなっている。 ・更新される条件はTBL1のフィールド：[データ区分]が2or3のとき <作成したトリガー> CREATE OR REPLACE TRIGGER TRG_SET_AUTO_SHAIN_NO FOR INSERT ON CM_PORTAL_SHAIN COMPOUND TRIGGER REFERENCING OLD AS OLD NEW AS NEW WHEN (NEW.DATA_KBN in (2,3)) DECLARE GRP_CD VARCHAR2(3); SEQ_NO NUMBER(4); NEW_SET_NO VARCHAR2(7); AFTER STATEMENT IS BEGIN IF :NEW.DATA_KBN = 2 THEN select SQ.GROUP_CD,SQ.SEQUENCE_NO + 1 into GRP_CD,SEQ_NO from CM_HAKEN_GROUP_SEQUENCE_MT SQ where SQ.GROUP_CD = '999'; ELSE select SQ.GROUP_CD,SQ.SEQUENCE_NO + 1 into GRP_CD,SEQ_NO from CM_HAKEN_GROUP_SEQUENCE_MT SQ where SQ.GROUP_CD = '888'; END IF; NEW_SET_NO := substr(GRP_CD,LPAD(SEQ_NO,4,0)); INSERT INTO CM_PORTAL_SHAIN (SHAIN_NO,SHIMEI_LOCAL,DATA_KBN) VALUES (NEW_SET_CD,:NEW.SHIMEI_LOCAL,:NEW.DATA_KBN); AFTER EACH ROW IS BEGIN INSERT INTO CM_PORTAL_SHAIN (SHAIN_NO) VALUES (NEW_SET_NO) END; / ちなみにこれでコンパイルするとエラーが発生します・・・ どこがいけないのでしょうか？
完全リカバリのUNDOデータの由来、扱いについて教えて下さい。 完全リカバリの大まかな流れとして、 1.リストア 2.アーカイブ、オンラインREDOログでロールフォワード 3.UNDOでロールバック 4.完了 となるかと思いますが、 UNDOデータはどこから持ってころれるのでしょうか？ もしUNDO表領域から持ってくるのであれば、ロールフォワード分をロールバック出来るだけのUNDOが残ってる保証はないかもしれない、と疑問を持ちました。 (現実的にはまずないのかもしれませんが) となると、完全リカバリが失敗するケースもあるのでしょうか？
データベースを初めて作成します。 11gをインストールまで済みました。 データベースをコンフィグレーションから実行しています。 ただ標準で設定するのではなく、ｃｔｌファイルやsystem、tempファイルなどを 別々のフォルダに設定してほしいとの依頼を受けました。 またEドライブも作成し、アーカイブファイルの二重化で、DドライブとEドライブに作成してほしいおのことでした。 コンフィグレーションでできそうなのですが、よくわかりません。 コンフィグレーションを使用しなくても良いので、設定方法を教えていただけないでしょうか。 もしくは参考になるURLを教えていただきたく思います。
SQL初心者です。 oracle 9iの環境で「あるカラムに英字を含まないレコードを取得する」というのがあります。 私は10gを使用しているのでREGEXP_LIKE(カラム名_NO,'[A-Z]')とするつもりでした。 ところが9iはREGEXP_LIKEをサポートしていないということです。 ではどうすればできるのかというので困っています。 10gのselect文 select * from table_a where regexp_like(item_a,'[A-Z]') これを9i環境ではどのように記述すればよいのでしょうか？
SQLの結合条件について ・table_A ID | ATAI 01 | AAA 01 | XXX 02 | ABC 03 | DEF table_B ID | ATAI 01 | 不要 02 | 必要 03 | 必要 04 | 不要 上記のようなテーブルAとBがあるとします。 やりたいこと １．テーブルAに存在するIDをBのIDから抽出 ２．テーブルAの「ATAI」の値が’AAA’のIDは抽出対象から外す。 ※テーブルAの01IDに’AAA’と’XXX’がありますが、Bの抽出対象から外したい。 ２.がうまくいきません。 select B.ID from table_A A,table_B B where A.ID = B.ID 上記のSQLに２．の条件を足して、結果を02と03にしたいです。 ※CASEは使わずにお願いします。
oracleの関数で 例）項目 ADATA VARCHAR2(100) このADATAには (1)先頭から数字が8桁で次に文字（スペース含む）が入っているケース (2)先頭から数字が14桁で次に文字（スペース含む）が入っているケース (3)先頭の１バイト目から文字 という３つのパターンがあります。 レコードごとに(1)か(2)か(3)かを判別したいのですが、何かスマートな方法ないでしょうか？ ×１文字ずつ数値かどうか比較し、ループする。 ○先頭から数値が何桁続いているか取得し、(1)８　(2)１４　(3)０みたいに取得できる関数はないでしょうか？ どなたかよい方法ご存知の方、ご教授ください。 以上よろしくお願い致します。
お世話になります。 掲題の件ですが、oracle10gでNLS_CHARACTERSETがJA16SJISTILDEのDBから spoolでCSVを出漁kする際にUTF-8にエンコードする方法はありますでしょうか？ ご存知の方がいればご教示いただきたく存じます。 よろしくお願いいたします。
オラクル11g　Bronze DBA を勉強中です。 自宅のPC(Vista Home Premium SP2)にて現在自習中です。 自習のためOracleのインストールを付録のDVDより行いました。 インストールは旨くいったのですが、DB作成時にエラーが発生します。 メモリやディスク領域等は十分あります。 PCがサポート対象外のエディション（VistaはBusiness、EnterpriseおよびUltimateエディションと記載がありました。）です。 なんとか、現在のPC（Vista Home Premium SP2）で試験勉強を出来る環境を 構築したいのですが、良い方法はないのでしょうか？ ご存じの方いらしたらご教授お願いします。
OracleDBサーバのネットワーク上の名前解決が不安定で困っています。 （TNSの名前解決ではありません） 先日、会社でWindowsServer2008＋Oracle11gのサーバーをこしらえました。 そのとき、 １．リモートPCからサーバーにPINGが飛ばない！→サーバーのFirewallの設定で解決。 ２．リモートPCからSQLPLUSでサーバーに接続。いけた！ ３．サーバーのOracleEnterpriseManagerでいろいろと操作・・・。 ４．リモートPCからSQLPLUSで接続できない！PINGも飛ばない！　でもIPアドレス指定ならOK。 ５．Firewallを一旦解除→再び有効に設定。いけた！！ ６．サーバーのOracleEnterpriseManagerで・・・（以下略） 　以降、３．～６．を繰り返し中。。。 という状態になっております。 私は勝手にEnterpriseManagerが怪しいと思ってますが、いずれにせよ対処方法がわからず 困っています。 何かヒントがあればご教授願いたいと存じます。よろしくお願いします。
SQL初心者で仕事でSQL文を考えています。 どのようにすればいいのかよくわからないので教えてください。 現在、商品マスタと価格テーブルがあります。 (商品マスタ) 商品コード　商品名 　0001　　　　商品A 　0002　　　　商品B 　0003　　　　商品C 　0004　　　　商品D (価格テーブル) 　商品コード　価格　　登録日 　　0001 　　　100円　　11/1 　　0001 　　　110円　　11/2 0002 200円 11/1 0002 190円 11/2 0001 105円 11/3 それぞれの商品(商品コード)には毎日価格を登録するようになっています。 今日が11/3である場合、商品コード=0001、商品Aは登録がされていますが その他の商品は登録されていない状況です。 碌このような状況で「今日の価格は全商品登録されているか」 ということをSQLでチェックすることはできるのでしょうか。 2回のSQLに分けて個数を比較するが普通ですか。 たとえば、 (1)select count from 商品マスタ (2)select count from 価格 where sysdate = 登録日 (1)-(2)が0でないのですべて登録できていないと判断する。 複雑すぎてよくわかりません。 よろしくおねがいします。
いつもおせわになります 信頼性が高く大手の企業でよく導入されるオラクルですが フリー版、商用利用可の「Oracle Database XE」が存在します しかし、WEB系のアプリケーションを見ると 殆どがMySQLかPostgeSQLを使っていますが なぜ、「Oracle Database XE」を使わないのでしょうか？ 多くの言語、技術を極めたいというような、学者肌の方たちは別ですが 一般的な、アプリケーションを作るというのが目的の人は、 十分動くのにコストをかけて別の技術を覚えたりしないと思うので それが原因なのでしょうか？ もしくは、「Oracle Database XE」には実戦で運用するのは不都合な点があるのでしょうか？ DBに詳しい方、「Oracle Database XE」を使って実際にWEBアプリケーションを運用したことがあるかた、お教え頂けると幸いです。
初心者です。バッチプログラムの単体テストで、異常ケースでエラーを起こさせたいのですが、どのように実行したらいいのかわからず困っています。プログラムの内容は、Aテーブルのデータを全件、同じ構造をしたBテーブルに登録するというものです。ユニークキーのデータを追加して一意制約エラーをおこすにも、そもそもAテーブルにユニークキーのデータを追加して登録することができないと思うのですが、どのようにやるのですか？
ＯbjectBrowserやＣSEのようなツールを探しています。 要件としては、 「Ｏracle 10gで動作すること」　です。 ※ＣSEを愛用していたのですが、Ｏracle 10g関連でレジストリが汚れてしまい、テーブル一覧が表示されなくなってしまいました。。 あまり関係ないと思いますが、 ＯSはＸP SP2です。
お世話になります。 Ｏｒａｃｌｅ１１ｇで開発をしています初心者です。 下記の様なＳＱＬ文で、 テーブル内の全データが抽出されないのですが 何故でしょうか。 同じ内容の行が複数あっても、１行しか抽出され ないのです。 本当に初心者の質問で申し訳ございませんが、 ご教示頂きたく宜しくお願い致します。 　　　　　　　　　記 SELECT 登録日時,品番,品名,入庫数,NULL AS 出庫数 FROM T入庫 UNION SELECT 登録日時,品番,品名,NULL AS入庫数,出庫数 FROM T出庫
「総務部.受付ID-1」というフィールドを削除したいと思い以下を実行しました。 alter table VISITOR_SCHDULE drop 総務部.受付ID-1 しかしキーワードがありませんというエラーが表示されてしまいます。 フィールド名に.（ドット）と-（ハイフン）が使用されているからなのでしょうか？ 前任者より引継ぎましたので、なぜこのようなフィールド名にしたかは不明です。
現在Oracle11g をインストールした状態です。 （学習用に無料のものをダウンロード） SQLPlusを実行しようとしたのですが、 パスワードの入力がうまくできません。 解決方法を知りたいです。 1.ユーザーの入力は可能。 2.パスワードの入力だけなぜかキー入力が表示されない。 　ALT+半/全を押すと入力は出来るが、ENTERを押した瞬間に入力内容が消える。 3.入力が非表示なだけなのかと思い、 　何度かチャレンジしたがパスワードの入力が行われていない。　 試しにコマンドプロンプトでsqlpllus /nologを叩いてみましたが All rights reserved.と表示されているので 動いてはいるようでした。 何が原因なのかさっぱり分からず、 ネット上で色々調べてみましたが 結局わからず途方に暮れています。 どなたかご教授お願いします。
お世話になります。 Ｏｒａｃｌｅ初心者です。 二つのテーブルから下記の様にデータを抽出 したいのですが、その方法をご教授くださいます様、 宜しくお願い致します。 　　　　　　　　記 テーブル１ 品番　　全長 ａａａ 1111 ｂｂｂ 2222 ｃｃｃ 3333 テーブル２ 品番　　入数 ｂｂｂ 5 ｄｄｄ 6 ｇｇｇ 7 ＳＱＬ結果 品番 全長　　入数 aaa 1111 bbb 2222 5 ccc 3333 ddd 6 ggg 7
Oracle勉強中のものです。 勉強中の未熟者にもかかわらず顧客先へ導入してしまったことで問題が発生し困っております。 経緯と現象は下記の通りです。 環境：Oracle11g 11.2.0 システム導入時にOracle11gを（ほぼ標準設定のまま）インストールをしました。 その後そのシステムが本番稼動し、暫くの間安定稼動をしていたのですが、 ある日、システムがエラーとなって停止したと連絡を受けました。 すぐに顧客先へ駆けつけエラーの内容を確認したところ、 「ORA-28001: パスワードが期限切れです。」がログに出力されていました。 原因はエラーの内容の通り、ユーザーのパスワードが有効期限が切れておりました。 ※11gからデフォルトの有効期限が180日に設定されているとのこと…。 すぐに、システムで使用しているユーザーの有効期限を無期限に設定し、 システムが動作し始めたので、解決ができたつもりでいました。 ところが、それが２次災害を招くことになりました。 上記の障害復旧後しばらく稼動していたのですが、またシステムが停止したと報告を受けました。 確認したところ、出力されていた内容は以下の通りです。 「ORA-00257: アーカイブ・エラーです。解除されるまで内部接続のみにしてください。」 ネットで調べてみると、 フラッシュリカバリファイルの合計容量が設定されている最大サイズを超えているとのこと…。 確認したら、 db_recovery_file_dest='7824M'という設定に対してファイルの合計容量が8100Mとなっておりました。 顧客からはすぐに復旧させるようにと言われていたので、 暫定対応としてdb_recovery_file_dest='80G'に設定を拡張してシステムを復旧させ、その場をしのぎました。 が、なぜ急にリカバリがファイルが確認したところ、 当初リカバリファイルが5日でローテーションしていたにも関わらず、 最初の障害（有効期限切れ）が発生したタイミングで、古いリカバリファイルが削除されなくなり、 無尽蔵にファイルが蓄積されるようになり、制限値をオーバーしてしまった事が判明致しました。 そして、まだこの溜まり続ける現象は解消されておらず、 ファイルのサイズは現在も増え続けているのですが、 どのようにして正常な状態となるのか全く分からず、ほとほと困り果てています。 どうすればリカバリファイルが正常に蓄積されるようになりますでしょうか。 情報が少なく申し訳ございませんが、ご教授をお願い致します。 ※足りない情報があれば、客先へいって情報を収集してきます。
ORACLE更新する際のSQLで困ってますので、SQLを教えてください。 TABLE1の中に項目MEMO（15桁）が存在します。 このMEMOに入っているデータは以下のとおりです。 MEMO 090-XXXX-XXX1 090-XXXX-XXX2 090-XXXX-XXX3 A B C 090-XXXX-XXX4 090-XXXX-XXX5 090-XXXX-XXX6 このデータの中で、上3行のデータ（090-XXXX-XXX1～090-XXXX-XXX3）のデータを 下3行のデータ（ 090-XXXX-XXX4～ 090-XXXX-XXX6）のように 1桁目をスペースする形で統一したいと思います。 更新後のデータは以下のとおりです。 MEMO 090-XXXX-XXX1 090-XXXX-XXX2 090-XXXX-XXX3 A B C 090-XXXX-XXX4 090-XXXX-XXX5 090-XXXX-XXX6 このような場合のSQL作成方法はどのようにしたらいいのでしょうか？ WHERE文については、 WHERE SUBSTR(MEMO,1,1) <> 'A' AND SUBSTR(MEMO,1,1) <> 'B' AND SUBSTR(MEMO,1,1) <> 'C' AND SUBSTR(MEMO,1,1) <> ' ' これでいいのかなと思うのですが、 作成方法について教えて頂きたく思います。 よろしくお願いします。
お世話になります。 商品マスタと商品カラーマスタと商品サイズマスタがあります。 商品マスタの一覧を出したいのですが、 商品に付随しているカラーやサイズも一緒に表示したいのです。 商品マスタ（商品ID・商品名） 商品カラーマスタ（商品カラーマスタID・商品ID・カラーID） 商品サイズマスタ（商品サイズID・商品ID・サイズID） カラーマスタ（カラーID・カラー名） サイズマスタ（サイズID・サイズ） という構成です。 商品カラー、商品サイズは商品に対して複数あります。 表示したい一覧は 商品ID・商品名・カラー・サイズ で 商品１つに対して１行で表し カラー列、サイズ列は「赤・黒・茶」「S・M・L」というように 書きたいのです。 SQLでズバッと取得する方法はありますか？ １行１行、商品ごとに カラー・サイズをループしなくてはいけないのでしょうか？ 教えてください。 よろしくお願いします。
Oracle Client 11gR2 for HP-UX のインストールについて 以下のサイトの「3.3.1 Oracle Universal Installerの実行」によると、 http://download.oracle.com/docs/cd/E16338_01/ins … インターネットに接続できるサーバを使用して、 ./runInstaller -downloadUpdates を実行し、ソフトウェアの最新の更新を動的に取得すると書かれているのですが、 インターネットに接続できる同構成のサーバは用意できないので、他に最新の 更新を取得する方法はないのでしょうか？
お世話になります。 商品マスタがあります。 年・品番・品名のフィールドです。 年が違えば、同じ品番でもデータとしては違うものとして存在します。 2010年の商品マスタをリスト表示したいのですが 2011年にもある品番は省きたいのですが、 どのように書けばいいのでしょうか？ よろしくお願いします。
要領を得ない質問になりますが、よろしくお願いいたします。 尚、『出直して来い』に類する罵倒は甘んじて受けますが、その際にも何等かのご指導を頂ければ幸いです。 ［質問］ 題名にも書きましたが、下に書きました「質問の経緯」から考えて、私はＯｒａｃｌｅマスターのどれを目指せばよいのでしょうか？ 行いたい事を簡単に書けば、『営業部門などからの要求に応じる為に、複数のＤＢにアクセスしてリレーショナルＤＢ構築及び帳票出力』です。 ［私のＤＢに対する現在の能力］ 「ＳＱＬ」や「Ｏｒａｃｌｅ」は触った事が無いので知識レベルはゼロとしてください。 「Access」は「バージョン2003」を使っておりますが、知識レベルは市販されている自習本(富士通オフィース機器)での応用は何とか理解している程度。ＶＢＡは一切勉強しておりません。 ［質問に至る経緯］ 現在、グループ会社内で共通使用している基幹システムはＭｃＦｒａｍｅというパッケージソフトです。 それまではコボル［大半が親会社の担当部署が自社作成したプログラム］で稼動していましたので、コボルを少しかじった程度の私でも初歩的なカスタマイズやホストコンピューターからのデータ取得が行なえましたし、私には対処できない物は親会社の担当部署の人間がプログラムを作ってくれたり、抽出データを自動送信してもらっておりました。 しかしＭｃＦｒａｍｅに切り替わってからは、任意のデータ抽出やプログラムのカスタマイズが自由に行えません［私だけではなく、親会社の担当部署も］。 その理由を親会社の担当部署に問合せた所『色々とあるが、これはＯｒａｃｌｅで作られているので、最低限でも公式資格を取得しないとアクセス権の付与候補者にすることも出来ない。何か変更する度に百万円前後の費用が発生するから我慢して』との返事が返ってきました。 そこで『Ｏｒａｃｌｅマスターを取得すれば、ＤＢへのアクセスは認めてくれますね』と再質問を行い、承諾を取りました。 しかし『ところで、Ｏｒａｃｌｅマスターには色々有るけれど、どれを取ればいいのですか』と聞いても言葉を濁すだけで『ゴールドですかね』としか返事が返ってきませんでした。 Ｏｒａｃｌｅのバージョンも判りません。
仕入明細テーブル 伝票NO　　　インデックス番号　　　部数 出費詳細テーブル 伝票ＮＯ　　出費先　　出費額 以上のデータがあります。 仕入明細テーブルでインデックス番号でグルーピング化して部数の合計値が2000以上のインデックス番号と同じ値の出費詳細テーブルの伝票ＮＯのレコードを削除しなさい。 delete 出費詳細 where 伝票ＮＯ　in (select インデックス番号, sum(部数)　from 仕入明細 　　　　　　　　　　　　group by インデックス番号 　　　　　　　　　　　　having sum(部数) >= 100); これだと出来ませんよね？ sum(部数)が100以上のものを抽出するためにはselectでsum(部数)としなくてはいけないのですが これだとダメですよね？伝票ＮＯと同じか比較するのインデックス番号なので、selectでsum(部数)としないのは可能でしょうか？
毎々お世話になっております。 一時表領域が肥大化してきたため、オンラインで縮小処理をしました。 http://www.roy.hi-ho.ne.jp/montague/lilical-orac … TEMP01を使用していたため、TEMP02を作成しTEMP01をオフラインにしました。 そしてdropしようとすると失敗しました。エラーが出たらしいのですが、後輩が消してしまったため わかりません。またTEMP01の物理ファイルも削除してしまったようです。 今の一時表領域をみるとTEMP02がオンラインになっていました。正常に使用もされていましたが、 TEMP01が中途半端に残っています。TEMP01もオンラインになっていますが、サイズは0MBとなっています。TEMP01をオフラインにするSQLを入力するとオフラインになりましたというメッセージが出ます。しかしDROPしようとすると、使用できない旨のエラーがでます。 解決方法が分からなくて困っています。 バックアップファイルもないため困っています。 このような状況になった方はおられますでしょうか？お手数ですがご教授ください。
Oracle11gのlistener.logについて教えてください。 ＃少し急いでおります、至急回答いただけると幸いです。 Windows2003Server ＋ Oracle11gの環境でシステム稼働中なのですが、 tnslsnr\[ホスト名]\listener\trace\listener.logが 1.5GBになってしまっているので、これを削除したいです。 11gのリスナーロギングの仕組みとして、 \tnslsnr\[ホスト名]\listener\alert\log.xml にログ出力すると同時に、 tnslsnr\[ホスト名]\listener\trace\listener.log にも出力されるということを聞きました。 log.xmlは触らず、listener.logだけ削除してしまっても 問題ないでしょうか？ log.xmlとlistener.logが互いに関連を持っていて、 同期が取れていないと、リスナーサービスに何か問題がでるのでは？ と懸念しています。 調べたところ、 10g以前ではいったんリスナーサービスを停止し、 listener.logのローテートをする記事は見たのですが、 11gから仕組みが変わっているらしく、 同じやり方で良いのか気になり質問させて頂きました。 初歩的な質問かもしれませんが、 よろしくお願いします。
今までPostgreSQLを使用しており、遠隔地に設置してあるデータベースの操作はブラウザ上からphpPgAdminを使用しておりました(例：レンタルサーバーなど)。 このたびOracleを使用するに当たり、同様の事を行いたいと思いましたが、phpPgAdminに相当するツールにどのような物があるかわからなかったため、アドバイスいただける方がいらっしゃいましたら、ご教示の程よろしくお願いします。 以上、よろしくお願いします。
HP-UXにOracle11gRAC R2をインストールして、非同期入出力の検証を行おうと考えています。 http://download.oracle.com/docs/cd/E16338_01/ser … 上記のマニュアルを読むと以下のように書かれています。 1, HP-UX tuscユーティリティを、前述の手順のGlancePlusで選択したものと同じOracleパラレル問合せスレーブにアタッチします。 ↑ これはわかりました。 2, 使用している環境で入出力バウンド問合せを実行します。 ↑ さっぱりわかりません。 マニュアルには入出力バウンド問合せの具体的なやり方について書いておらず、 入出力バウンド問合せが何かも書いていません。 どなたか入出力バウンド問合せの意味や具体的なやり方などをご教示いただけないでしょうか。
カーナビのインチ計算について質問です。 今、僕は７インチのカーナビを使ってます。 それで７インチ縦横のセンチ メートルを教えてください
DBCA を利用した DB 構築の際、OEM の構築に失敗してしまいました。 そこで、emca を利用した再構築を考えています。 しかし何種類かコマンドがあるので、使い分けがわかりません。 どういった場合の使い分けをすればいいのか教えてください。 例えば下記 1 ～ 3 くらいの方法があるのかと思います。 （他にもありそうですが…） (1) emca -config dbcontrol db (2) emca -deconfig dbcontrol db -repos drop 　　emca -config dbcontrol db -repos create 　　 (3) emca -config dbcontrol db -repos recreate
エンタープライズマネージャのステータスで、『エージェント使用不可』となって 各種情報取得が出来ない状態となっています。 何か原因が分かる方、いらっしゃいますか？ 使用済ディスクの割合が実際の使用量と全く違います。 　実際の使用量（約2.5TB/10TB） オラクルインストール先のディスクが大きすぎて正しくパーセンテージを計算 できてないように思うのですが。 oracle:Standard Edition One(11.2.0) OS：Windows Server 2008 R2 Standard(64Bit) メモリ：12GB オラクルインストールドライブ：10TB emagent.logの内容 2011-09-19 18:49:29,401 Thread-5396 EMAgentは正常に起動されました (00702) 2011-09-19 18:49:29,448 Thread-4332 <Upload Manager>アップロード・データが最大許容値を超えました - ファイル数: 2、アップロード・データのサイズ: 0.044804MB、使用済ディスクの割合(): 127.14%。収集は無効になります (00852) 2011-09-19 18:49:29,448 Thread-4332 コレクタ無効化 (00406) emctl status agent コマンドの実行結果 Oracle Enterprise Manager 11g Database Control Release 11.2.0.1.0 Copyright (c) 1996, 2010 Oracle Corporation. All rights reserved. -------------------------------------------------------------------------------- Agent Version : 10.2.0.4.2 OMS Version : 10.2.0.4.2 Protocol Version : 10.2.0.4.2 Agent Home : E:\ORA_SYS\product\11.2.0\dbhome_1\servername_dbname Agent binaries : E:\ORA_SYS\product\11.2.0\dbhome_1 Agent Process ID : 6512 Agent URL : https://servername:3938/emd/main Repository URL : https://servername:1158/em/upload/ Started at : 2011-09-19 18:49:10 Started by user : SYSTEM Last Reload : 2011-09-19 18:49:10 Last successful upload : 2011-09-19 18:49:43 Total Megabytes of XML files uploaded so far : 0.04 Number of XML files pending upload : 0 Size of XML files pending upload(MB) : 0.00 Available disk space on upload filesystem : -27.14% Data channel upload directory : E:/ORA_SYS/product/11.2.0/dbhome_1/servername_dbname/sysman/recv Collection Status : Disabled by Upload Manager Last successful heartbeat to OMS : 2011-09-19 19:36:18 -------------------------------------------------------------------------------- Agent is Running and Ready
お世話になります。 データベース(Oracle10g)に「M150401」や「T050501」のように和暦形式で登録されている生年月日を 西暦に変換（18820401・19160501）したく下記SQL update テーブル名 set 生年月日= to_char(to_date(生年月日,'eyymmdd','nls_calendar = ''Japanese Imperial'''),'yyyymmdd') を実行すると、「ORA-01864：指定した日付は 現行カレンダの有効範囲外です」のエラーが発生し、大正以前の生年月日を西暦に 変換できません。 このようなケースの場合、どのようにすれば西暦変換できるでしょうか？ よろしくお願いします。
OracleでのデータバックアップをSQLにて作成しようとしています。 【処理内容】 売上テーブル(URITBL)から売上累積テーブル(URIRUITBL)へ 　※売上年月がシステム日付より12カ月以上前（2010年8月以前） AND 領収済みのものを 　　売上テーブルから売上累積テーブルへ追加し、 　　売上テーブルにあったデータは削除する 売上明細テーブル(URIMTBL)と売上明細累積テーブル(URIRUIMTBL)へ 　※売上年月システム日付より12カ月以上前（2010年8月以前） AND 領収済みのものを 　　売上明細テーブルから売上明細累積テーブルへ追加し、 　　売上明細テーブルにあったデータは削除する 【テーブル内容】 売上テーブル(URITBL)更新前 　支店CD、顧客NO、売上年月、氏名、TEL、領収済フラグ（※領収済…'1'、領収未…SPACEです） 　STNCOD、KKKNO、URIYM、NAME、TEL、RYOFLG 　001　　　 000012　　201006　　Ａ田太郎　　123-1234　　　1 　001　　　 000012　　201007　　Ａ田太郎　　123-1234　　　　 　001　　　 000012　　201008　　Ａ田太郎　　123-1234　　　1 　001　　　 000012　　201009　　Ａ田太郎　　123-1234　　　1 　001　　　 000012　　201010　　Ａ田太郎　　123-1234　　　1 　002　　　 000101　　201006　　Ｂ田二郎　　345-5678　　　 　002　　　 000101　　201007　　Ｂ田二郎　　345-5678　　　1 　002　　　 000101　　201008　　Ｂ田二郎　　345-5678　　　1 　002　　　 000101　　201009　　Ｂ田二郎　　345-5678　　 　002　　　 000101　　201010　　Ｂ田二郎　　345-5678　　　1 売上明細テーブル(URIMTBL)更新前 　支店CD、顧客NO、売上年月、売上金額 　STNCOD、KKKNO、URIYM、URIKIN 　001　　　 000012　　201006　　　 1,000 　001　　　 000012　　201007　　　 2,000 　001　　　 000012　　201008　　　 3,000 　001　　　 000012　　201009　　　 4,000 　001　　　 000012　　201010　　　 5,000 　002　　　 000101　　201006　　　 500 　002　　　 000101　　201007　　　 1,500 　002　　　 000101　　201008　　　 2,500 　002　　　 000101　　201009　　　 3,500 　002　　　 000101　　201010　　　 4,500 売上テーブル(URITBL)更新後 　支店CD、顧客NO、売上年月、氏名、TEL、領収済フラグ 　STNCOD、KKKNO、URIYM、NAME、TEL、RYOFLG 　001　　　 000012　　201007　　Ａ田太郎　　123-1234　　　 　001　　　 000012　　201009　　Ａ田太郎　　123-1234　　　1 　001　　　 000012　　201010　　Ａ田太郎　　123-1234　　　1 　002　　　 000101　　201006　　Ｂ田二郎　　345-5678　　　 　002　　　 000101　　201009　　Ｂ田二郎　　345-5678　　　 　002　　　 000101　　201010　　Ｂ田二郎　　345-5678　　　1 売上明細テーブル(URIMTBL)更新後 　支店CD、顧客NO、売上年月、売上金額 　STNCOD、KKKNO、URIYM、URIKIN 　001　　　 000012　　201007　　　 2,000 　001　　　 000012　　201009　　　 4,000 　001　　　 000012　　201010　　　 5,000 　002　　　 000101　　201006　　　 500 　002　　　 000101　　201009　　　 3,500 　002　　　 000101　　201010　　　 4,500 売上累積テーブル(URIMTBL)更新後 　支店CD、顧客NO、売上年月、氏名、TEL、領収済フラグ 　STNCOD、KKKNO、URIYM、NAME、TEL、RYOFLG 　001　　　 000012　　201006　　Ａ田太郎　　123-1234　　　1 　001　　　 000012　　201008　　Ａ田太郎　　123-1234　　　1 　002　　　 000101　　201007　　Ｂ田二郎　　345-5678　　　1 　002　　　 000101　　201008　　Ｂ田二郎　　345-5678　　　1 売上明細累積テーブル(URIMRUITBL)更新後 　支店CD、顧客NO、売上年月、売上金額 　STNCOD、KKKNO、URIYM、URIKIN 　001　　　 000012　　201006　　　 1,000 　001　　　 000012　　201008　　　 3,000 　002　　　 000101　　201007　　　 1,500 　002　　　 000101　　201008　　　 2,500 売上テーブル(URITBL)から売上累積テーブル(URIRUITBL)へ追加のSQL、売上テーブル(URITBL)の削除のSQLは以下の2つではないかと思います。 　 INSERT INTO URIRUITBL SELECT * FROM URITBL WHERE RYOFLG='1' AND ( URIYM < ADD_MONTHS (SYSDATE, -12) ) ; DELETE FROM URITBL WHERE RYOFLG=1 AND ( URIYM < ADD_MONTHS (SYSDATE, -12) ) ; ただ、売上明細テーブル(URIMTBL)と売上明細累積テーブル(URIRUIMTBL)へ追加のSQL、売上累積テーブル(URIMTBL)の削除のSQLはどうやってコーディングしたら良いのか悩んでいます。上記と同じように作っていくので大丈夫なのか、それとも別関数を使って作っていくのか、SQLの本などを半日ほど費やして調べてるのですが、いまだ至っておりません。最悪な時は別プログラムでとも考えているのですが、納期間近でできればSQLで解決したいと思いながら苦戦しています。 以前もこちらで教えて頂いてるのでたびたびの質問で恐縮ですが、分かる方がいれば手助けして頂きたいと思い、今回投稿しますのでご教授賜りたく思います。よろしくお願いします。
お世話になります。 Oracle初心者です。 delete文の条件で他テーブルの列の値（列名は両方テーブルとも同じ） と同じ所の行を削除したいと思っているのですが、 コンパイルエラーになります。 基本的な書き方が悪いのでしょうか。 どなたかご親切な方、御教示頂きたく宜しくお願い致します。 　　　　　　　記 delete from ( select 受注NO from T受注明細 where T受注明細.受注NO = D売上.受注NO)
お世話になります。 下記ご存知の方いましたら、ご回答お願いします。 現在、既存でOracle10gをしたC/Sのシステムが稼動しています。 各クライアントには10gのOracleClientがインストールされています。 事情によりサーバーの変更が必要になりOracleのバージョンを11gにあげることになりました。 その際、各クライアントも11gをインストールする必要がありますでしょうか？ クライアントの台数は100台以上あるため、インストール不要であれば10gのままで いきたいと思うのですが、それによる弊害などがあるのなら、クライアント側も 全て再インストールをしなければ、と思います。 お手数ですが、ご教授願います。
UPDATE句をインラインビューを使って実施しようと思い UPDATE ( SELECT A.FLD1,B.FLD2 FROM TBL1 A,TBL2 B WHERE A.KEY1=B.KEY1 AND CONCAT(A.KEY2,A.KEY3)=B.KEY2 AND B.KEY2='12345') C SET C.FLD1=C.FLD2 のようにSQLを書きました。 ORA-01779: キー保存されていない表にマップする列は変更できません のメッセージが出力されました。 CREATE VIEW TEST AS SELECT A.FLD1,B.FLD2 FROM TBL1 A,TBL2 B WHERE A.KEY1=B.KEY1 AND CONCAT(A.KEY2,A.KEY3)=B.KEY2 AND B.KEY2='12345' でビューを作って確認したら select * from user_updatable_columns where table_name='TEST'; OWNER TABLE_NAME COLUMN_NAME UPDATA INSERT DELETA ---------- ----------- --------------- ------ ------ ------ TEST TEST FLD1 NO NO NO TEST TEST FLD2 NO NO NO 確かにUPDATEできないようです。 テーブルはこんな感じです。 TBL1 ------------------------------------------- KEY1 NUMBER 4 PK KEY2 NUMBER 5 PK KEY3 NUMBER 1 PK FLD1 CHAR 6 TBL2 ------------------------------------------- KEY1 NUMBER 4 PK KEY2 NUMBER 6 PK FLD2 CHAR 6 同じように TBL3 ------------------------------------------- KEY1 NUMBER 2 PK KEY2 NUMBER 4 PK KEY3 CHAR 6 PK KEY4 NUMBER 4 PK FLD3 CHAR 6 TBL4 ------------------------------------------- KEY1 NUMBER 4 PK KEY2 CHAR 6 PK FLD4 CHAR 6 でビューを作ったら CREATE VIEW TEST2 AS SELECT A.FLD3,B.FLD4 FROM TBL3 A,TBL4 B WHERE A.KEY2=B.KEY2 AND A.KEY3=B.KEY3 AND A.KEY1='12' AND A.KEY4='1234' OWNER TABLE_NAME COLUMN_NAME UPDATA INSERT DELETA ---------- ----------- --------------- ------ ------ ------ TEST TEST2 FLD3 YES YES YES TEST TEST2 FLD4 NO NO NO 更新可能なようです。 ビューを作ったとき、UPDATEやINSERT文が有効・無効になる違いは何でしょうか？ 毎回一旦ビューを作って select * from user_updatable_columns where table_name='TEST'; のような確認しかできないのでしょうか？ よろしくお願いいたします。
ストアド、ファンクション、viewをあるスキーマ丸ごとエクスポートするのを バッチで（手順化）したいのですが、どのようにすれば可能でしょうか。 テーブルはエクスポートしたくないです。 現在方法がわからないのでobject browserでそれぞれのスクリプトを 指定してエクスポートしています。 どなたか教えていただけないでしょうか。 よろしくお願い致します。
Oracle Database 10g Release 10.2.0.5.0で下記のSQLを 実行するとエラーが発生します。 Oracle Database 10g Release 10.1.0.4.0ではエラーが 発生しません。 何かバージョンによって違いがあるのでしょうか？ -----SQL文-------------------------- SELECT v1.TEST1 AS TEST1, v1.TEST2 AS TEST2 FROM TESTv v1 WHERE v1.TEST4 = '999999' GROUP BY v1.TEST1, v1.TEST2 ORDER BY v1.TEST5 ------------------------------------ ---エラー--------------------------------- v1.TEST5 * 行14でエラーが発生しました。: ORA-00979: GROUP BYの式ではありません。 ------------------------------------------
Oracleのプロシージャについて教えてください。 現在、Aテーブル（カラム１、カラム２、カラム３、カラム４）：件数40万件 　　　　Bテーブル（カラムA、カラムB、カラムC）：件数50件 と言うテーブルがあります。 この中でデータ置換を行う必要があり、 Aテーブルのカラム２とBテーブルのカラムBが一致したらAテーブルの カラム３にBテーブルのカラムCで更新するプロシージャを作成しています。 通常のUpdate文で３０００件単位でCommitを切るようにしていますが時間がかかります。 皆さんはこういう場合どういう手法でやられていますか？ ご教授ください。 ちなみに、 サーバOS：Windows2008SERVER クライアントOS：Windows7 Oracle11 です。
SQLの勉強をしています。 それで自分のパソコンでSQLの練習ができるようにしたいのですが… オラクルのページに行って10g？11g？をインストールしろってウェブに書いてあるのですが… 優しい方手順を教えてくださいm(__)m 回答お願い致しますm(__)m
oracleの初歩的な質問になって申し訳ないのですが教えてください。 以下の(1)～(4)の手順を実行したところ私が予定していた出力結果が表示されませんでした。 (1)DBインストール→インスタンス作成 (2)テーブルの作成 create table test1(line1 varchar2(10),line2 varchar2(10),line number); (3)データの挿入 　insert into test1 values('01','鈴木',40); (4)データの確認 select * from test1; (4)で確認したところ、line2が??????になっていました。想定では「鈴木」となるはずでした。 文字コードに問題があると思うのですが、対処方法がわかりません。 line2に入力した値が入れた値が見れるようにするには何を、どのように修正すればよいのか教えてください。 ※補足 使っている環境はUTF-8です。 ログインシェルには特に文字コードを何も設定していません。 ■show parameterコマンドの確認結果 nls_language string AMERICAN nls_territory string AMERICA
下記のようなSQLがあるとき、最も検索結果が多くなる●（抽出条件）を 取得したいのですが、わかるかたいらっしゃいますか。 （●画面から入力される抽出条件。） select * from A where A.a1 like '●%' or A.b1 like '●%' 質問が簡易ですみませんが、よろしくお願いします。
同じフィールド名[名前]を持つテーブルが複数個あります。 仮にテーブル名を、A、B、C、Dの4個だとします。 それらのテーブルから、フィールド名[名前]のデータを重複なしで取得したいのですが、SQL文が思いつきません。 取得するフィールドは[名前]だけです。 select distinct(名前) from A union select distinct(名前) from B union select distinct(名前) from C union select distinct(名前) from D だと、各表に同じ名前が存在する場合は結果も重複してしまい、期待する結果が得られませんでした。 環境はOracle 9iです。 SQL文を教えてください。よろしくお願いします。
ORACLE環境下、SQLにて以下のような条件でデータを取得したいです。 AテーブルとBテーブルを結合して、Bテーブルから名称を取得する。 <Aテーブル> id (key) 番号1 番号2 A01　　001　　n0001 A02　　null　　n0002 <Bテーブル> code(key) 名前　 番号１ 番号2 c0001　　　太郎　　001　　n0001 c0002　　　次郎　　002　　n0002 (1)A.番号が入力されていれば A.番号1＝B.番号1 AND A.番号2＝B.番号2を条件にする (2)A.番号が入力されていなければ A.番号＝B.番号を条件からはずす。 A.番号2＝B.番号2　のみで検索する。 <欲しい結果> A01→太郎を取得 A02→次郎を取得 入力されていたら条件に加え、入力されていなかったら 条件から外す、というSQLを教えていただけないでしょうか。 よろしくお願いいたします。
はじめまして。 SQLPLUSでご質問ををさせてください。 環境 ＯＳ:Win2003server Oracle：10g バッチから、以下のようにSQLを実行したいと考えています。 バッチファイル sqlplus ID/PASS@インスタンス名 @SQLファイル.sql SQLファイル.sql set trimsool on set pagesize 0 set linsize 2000 set feedback off set colsep ',' spool on spool ABC.txt select * from xxx; spool off exit; ご質問 　バッチファイルからSQLファイル.sqlが呼ばれているのですが、 　接続時にENTERキーを押下しないと、後続の処理が実行されません。 　ENTERキー押下後のメッセージ内容が 　「バージョン情報の表示や、接続されました。」と出力されているため、 　接続時の処理と思われます。 　 　上記でENTERキーを押下せずに、処理を実行させるためにはどうすればよろしいでしょうか。 　初歩的な質問で申し訳ありませんが、宜しくお願い致します。
oracleデータベースの更新履歴が分かる方法について。 8ｉや9ｉで、ある指定したDBにいつアクセス（更新）されたか分かる方法はありますか？その手順含め教えてください。
あるカラムに同じ値を持つレコードの2件目以降を削除するSQLを教えて下さい。 例） テーブル名：T キーカラム名：K 同じ値を持つかチェックするカラム名：S SELECT K,S FROM T; K S ---- 1 a 2 b 3 b 4 c 5 d 6 e 7 e 上記の場合、K=2または3と、K=6または7の２レコードを削除したい。
テーブル＝T） KEY DATA 001　あ 002　い 003　う 004　え 005　お SQL） SELECT DATA FROM T WHERE KEY = 003 ; 上記のSQLでは、「う」のデータしか取得できませんが、 「003」の前後１件、合計３件の「い」「う」「え」を取得する方法を教えて下さい。 ちなみに、 SELECT DATA FROM T WHERE KEY >= 003 AND ROWNUM <= 2 と SELECT * FROM （ SELECT DATA FROM T WHERE KEY < 003 ORDER BY KEY DESC ） WHERE ROWNUM < 1 のUNIONでは上手く行きませんでした。 よろしくお願いします。
あるシステムのDB管理を行うにあたり、 Oracleを使用しているのですが、 Oracleのバージョンの違いにより、 動作に不具合が起こる事などございますでしょうか？ 詳細は以下です。 ローカル環境のシステム Oracle 10g / 10.2.0.3.0 社内環境のシステム Oracle 11g / 11.2.0.1.0 社内環境システムよりバックアップを行い（スクリプト出力）、 ローカル環境に対してスクリプト実行した場合、DBの動作 自体に何か不具合が起こるのでしょうか？
Oracleマスターを受験するため、dbcaやemを実際に動かしたいのですが、otnからOracleのトライアル版のリンクが消えてるようです。 規約等調べてみると、学習目的なら普通に使ってもよさそうな気がしますが、ちょっと自信がないので手をこまねいています。 代替案等あれば、教えてください。 ちなみに環境は、mac book air。lionです。virtual boxで、Linuxのトライアル版を使うつもりでした。
以下のSQLの作成で悩んでいます。 【内容】 抽出元テーブルの中で、あるコードが同じデータは、 ある項目を全て同じ値にして取得したい。 （例） ■抽出元テーブル コード SEQ FLG 　1　　　　1　　　1 　1　　　　2　　 　1　　　　3　　 　2　　　　1　　　0 　2　　　　2 　2　　　　3 　3　　　　1　　　1 コードは同じ物が１つ又は複数あります。 コードが同じ物にはSEQで番号が連番されます。 FLGの項目がありますが、SEQ=1のデータしか設定されていません。 ■求めたい結果 コード SEQ FLG 　1　　　　1　　　1 　1　　　　2　　　1　　 　1　　　　3　　　1 　2　　　　1　　　0 　2　　　　2　　　0 　2　　　　3　　　0 　3　　　　1　　　1 全てのデータでFLGを求めて取得します。 取得の仕方はコードが同じでSEQ=1の値を取ります。 抽出元テーブルと結果のデータ件数は同じになります。 抽出元テーブルと結果の違いは、FLGに値が埋まっているかどうかの違いのみです。 このテーブルのFLGはUPDATEする事は出来ません。 別表なども利用しないで、 selectのSQL文だけで対応したいです。 どのような方法で対応できるでしょうか？ オラクルのバージョンは10gです。 よろしくお願い致します。
親子のデータを展開したVIEWを作成したいのですが、調べてみると 階層問い合わせというものがあるということまで分かりました。 （階層問い合わせ自体よく分かっていません） その内容でSQLを以下のように記述してみたのですが、どうも思惑と 若干違います。思惑は親コードは最上位のものを出して、そこに子供で ぶらさがっているKOCDを全部羅列したいのです。 どのようなSQLにすれば可能でしょうか。ご教授のほど、お願い致します。 記述したSQL SELECT OYACD,KOCD FROM TBL1 START WITH OYACD = 0 CONNECT BY PRIOR KOCD = OYACD TBL1の内容 OYACD KOCD -------------- 1000110002 1000110003 1000120001 2000120002 2000120003 010001　親＝0が最上位の親 SQLの結果 OYACD KOCD -------------- 010001　　 1000110002 1000110003 1000120001 2000120002　　ここと 2000120003　　ここのOYACD　現在はひとつ上の親が出ている このSQLの結果のOYACDで20001が最上位のOYACDの10001として 見えるようなSQLにしたいのですが、どうすれば可能でしょうか。 このように見えて欲しい OYACD KOCD -------------- 010001　　 1000110002 1000110003 1000120001 1000120002　　ここと 1000120003　　ここを最上位の親を表示したい。
テーブル更新中にDBMS_STATSは実行できるのでしょうか。
１台のサーバにOracleのインスタンス（A、B）を複数立てた環境において、 クライアント１からはAインスタンスのみ利用可能、クライアント２からは Bインスタンスのみ利用可能とさせる事は可能でしょうか？ （クライアント２の利用者にAインスタンスのインスタンス名、 　ユーザ名、パスワードが漏れてしまっても、Aインスタンスに 　接続できないように制限できればと思っています。） 宜しくお願いします。
複数社に納入しているC/S型パッケージ業務ソフトを、 ASP化しようと検討しています。 （現状は各顧客先にサーバとクライアントを 　設置していますが、今後はサーバのみ１台に集約して 　データセンタに設置し、顧客側にはクライアントのみ 　設置する予定です。） そこでご相談なのが、Oracleのデータの持たせ方なのですが、 １サーバの中に顧客毎にインスタンス（データベース）を 作成するか、１インスタンスに顧客分ユーザを作成して、 ユーザ毎にスキーマをもたせるか悩んでおります。 セキュリティや個別メンテナンスを考慮すると前者の方が 良いのでしょうが、予算の関係から可能であれば後者を 採用したいと考えております。 そこでそれぞれのメリット・デメリットはどういった事が 考えられるでしょうか？（特に１インスタンスとした場合の デメリットが問題ですが。） よろしくお願いします。
以前に「Oracle9iデータベースのサーバ間移行について」とのことを質問させていただきましたが、 その続きになるかと思います。 Oracle9i(9.2.0.1.0)のデータベースからコールドバックアップにて取得したファイルを他のサーバへ移動するときに移動元のOSが「Windows2003Server 32bit」、移動先OSが「Windows 2003 Server 64bit」となるのですが、なにか問題があるのでしょうか？ マスターの方々、ご教授お願いします。
現在使用しているサーバが古くなった為、新しいサーバを購入しそちらにデータベースの移行を考えております。 そこで、できるだけシンプルに以前の環境を変えずにサーバ間の移行を行いたいのですが、どのような方法がいいでしょうか？ 最初は、エクスポートインポートで行おうとしたのですが、データのみ移動だとチューニングを行った内容まで移行できなそうなので、データと現在の設定まで移行できる方法を探しております。 コールドバックアップというのがあるようなのですが、当方初心者のためいまいちわかりませんでした。 現環境と新環境ともにOS、Oracleのバージョンは同じです。 オラクルスペシャリストの方々ご教授お願いします。 環境 OS：Windows2003Server Oracle：9i (9.2.0.1.0)
OracleのSQLにおいて、 日付の値を指定した文字だけ切り出して取得する方法がわかりません。 例えば、日付型の"9999/01/15"という値から "9999/01/"という値だけ切り出すことは可能でしょうか？ 基本的な質問で申し訳ございませんが、 どなたかご教授いただけませんでしょうか？ よろしくお願いいたします。
テーブルＡ 　伝票No. 　発送日 　到着日（6桁） テーブルＢ 　伝票No. 　送り先 　到着日（４桁） というテーブルがあるとします。 伝票No.が同じデータで、かつ、発送日がシステム日付の場合に ２つのテーブルの到着日を翌日にするには どのようなＳＱＬ文を書けばいいのでしょうか？ よろしくお願いいたします。
お世話になります。 以下のようにOracleにてストアドプロシージャを作成して、 それをＡｃｃｅｓｓからコールしております。 そしてそのDBMS_OUTPUTの結果をファイル出力したいのですが、 試しに「sqlstmt = "BEGIN proc_SeikyuMeisai(:yyyymm); END;"」の部分を 「sqlstmt = "spool aaa.csv BEGIN proc_SeikyuMeisai(:yyyymm); END; spool off"」 や、ストアド側でspoolしてみましたがダメでした。 UTL_FILEを使うしかないのでしょうか？ ご存じの方おられたらご教示いただけますでしょうか？ 宜しくお願い致します。 【Access2003側】 ' セッションの作成 Set OraSession = CreateObject("OracleInProcServer.XOraSession") 'データベースへの接続 Set OraDatabase = OraSession.OpenDatabase("Hoge", "hoge/hoge", ORADB_DEFAULT) '■ ストアド実行 ■ sqlstmt = "BEGIN proc_SeikyuMeisai(:yyyymm); END;" 'バインド変数の設定 OraDatabase.Parameters.Add "yyyymm", 0, ORAPARM_INPUT OraDatabase.Parameters("yyyymm").serverType = ORATYPE_NUMBER '引数設定 OraDatabase.Parameters("yyyymm").value = Forms!F月次データ取込.txt日付1 'SQL文の実行 OraDatabase.ExecuteSQL sqlstmt DoCmd.Hourglass False '砂時計 'バインド変数の削除 OraDatabase.Parameters.Remove "yyyymm" '■ORACLEへの切断■ OraDatabase.Close 'オブジェクトの破棄 Set OraDatabase = Nothing Set OraSession = Nothing MsgBox "正常に出力されました。" 【Oracle10g】 Create or replace procedure Proc_SeikyuMeisai ( P1_YYYYMM IN number ) IS WK_KANID varchar2(10); WK_CODE varchar2(6); WK_SUU varchar2(12); WK_TEN varchar2(9); WK_KAI varchar2(2); -- カーソルタイプの定義 TYPE typeMyCursor IS REF CURSOR; -- カーソル変数の定義 curSeikyutypeMyCursor; curID varchar2(10); curMAX number; curMEISAI varchar2(1000); curTEN number; curKAI number; vSql varchar2(1000); BEGIN vSql := 'select KANNO, MEISAI_MAX, _MEISAI, HOU_TENSUU_KEI, TOTAL_KAISUU from SEIKYUUMEISAI' || P1_YYYYMM; -- カーソルオープン open curSeikyu for vSql; loop fetch curSeikyu into curID, curMAX, curMEISAI, curTEN, curKAI; exit when curSeikyu%NOTFOUND; WK_KANID := curID; for nLpCnt IN 1..curMAX loop WK_CODE := substrb(curMEISAI, 3, 6); WK_SUU := substrb(curMEISAI, 34, 12); WK_TEN := substrb(curMEISAI, 89, 9); WK_KAI := lpad(curKAI, 2, 0); dbms_output.put_line(WK_KANID || ',' || WK_CODE || ',' || WK_SUU || ',' || WK_TEN || ',' || WK_KAI); end loop; end loop; end; /
みなさん。こんにちは。 下記のsqlは、約６６万行をテーブルに挿入します。 しかし、何時間経っても終わらない。 原因はそのsqlでプロシージャー「sp_getEOutSrcRate」を呼び出す ことが分かりました。 しかし、Select分のみを実行すると、すぐに結果が出ます。 なぜinsert時性能は悪いかが分からない。 みなさんがぜひ原因と解決策を教えて頂きたいと思います。 よろしくお願いいたします。 Insert /*+ append */ Into tbl_temp_eoutsrcrate (iengineeringid, ioutsrcassignmentid, ieinstallationtypeid, iprodcategoryid, seoutsourcetypelist, IOUTSRCRATE) Select e.iengineeringid, o.ioutsrcassignmentid, e.ieinstallationtypeid, e.iprodcategoryid, o.seoutsourcetypelist, round(sp_getEOutSrcRate(e.iengineeringid, e.ieinstallationtypeid, e.iprodcategoryid, o.seoutsourcetypelist), 2) rate From tbl_epengineering e, tbl_epoutsrcassignment o Where o.iengineeringid = e.iengineeringid And e.icancelflag = 0
SQLで以下のようなレコードを引くことは出来るでしょうか。 オラクル９です。 フィールド１　　フィールド2　　フィールド3　　フィールド4　　5...　（1～4でキー） A　　あ　　１　　2011/01/01　　... A　　い　　１　　2011/01/01　　... 以上のように、複数のキーの中でひとつだけ違うレコードを出すSQLはどう組めばよいでしょうか。 「あ」と「い」両方出したいのと、「う」があっても「あ」と「い」に限定できれば最高です。 よろしくお願い致します。
DBの勉強を始めたばかりで概念的にわからないことがありましたので、ご教授ください。 "データベースオブジェクト"という言葉についてです。 参考書を見ると、「表やビュー表などの、データベースで扱われるオブジェクトのこと」とあります。 このオブジェクトは表でいうとどの部分をさしているのでしょうか？ ＃インスタンスというのもこのオブジェクトに含まれるという認識でしょうか。。 又、扱われるオブジェクトの種類は、データベースの種類により異なるとあるのですが、 例えば、OracleとPostgresSQLではどのような点が違うのでしょうか？
オラクルマスターの受験を画策中ですが、履修コース（講習）について気になることがある為、質問させていただきます。 履修コース（講習）の講習期間は３日間程度と知りましたが、調べていくうちに講習期間中は１日中拘束での講習のようにみえます。仕事を休まず、履修コース（講習）を受ける方法はないものでしょうか。 何か平日の夜に履修コース（講習）を受講する方法をご存知であればご教授願います。 ちなみに私の状況は」以下の通りです。 勤務形態：客先常駐 勤務地区：東海地方 会社補助なしで個人受験で行うことを予定 以上よろしくお願いします
半角数字ってどうやってだすんですか
Oracle上の2つのテーブルからの条件でマッチする件数をSQLで作成しています。 内容としては、テーブルAの区分＝1　かつ　テーブルBの種別がスペースの件数です。 テーブルAの該当するデータは10件中3件、テーブルBの該当するデータは50件中15件で、本来両方がマッチするのは2件です。 SELECT COUNT(*) FROM テーブルA,テーブルB WHERE テーブルA.区分 = '1' AND テーブルB.種別 = ' ' ; 上記のSQL文で件数をカウントしたのですが、どうも結果では30件とカウントされてしまいます。 なんとか2件として結果を出したく、参考資料を調べているところなのですが、今のところ参考になる文献が見つからず悩んでます。もし簡単にカウントできるSQLがあったり、分かる方がいれば手助けして頂きたいと思い、今回投稿しますのでご教授賜りたく思います。よろしくお願いします。
ORACLE10g　EXISTS文について質問があります。 まず次のようなTBLが存在します。 休業MT 店舗CD | 休業区分 |　 開始日 　| 　終了日　| AAA　　　　　09　　　　 20110311　　20110311 AAA　　　　　09　　　　 20110313　　20110325 AAA　　　　　03　　　　 20110330　　20110330 月売上TR 店舗CD | 　年月　　|　 客数 　| 　売上数　|　稼動タイプ AAA　　　　201103　　　100　　　　　300　　　　特殊 AAA　　　　201104　　　200　　　　　400　　　　フル 月売上TRの稼動タイプの判別を行う場合 以下の条件があります。 ・休業MTに同月、同店舗のレコードが存在しない場合にフルを適用 ・休業MTの休業区分 = 09 且つ その休業日合計が同月内で7日以内場合に稼動タイプにフルを適用。 ・休業MTの休業区分 = 03 である限り、同月に何回休業してもフルを適用 上記の条件をCASE文ですべて実現しようしたとき、 2番目の条件の休業日合計が7以下のものをうまく抽出できません。 CASE文やEXISTS文で集計項目に対して条件をつけることは可能でしょうか? できれば、サンプルSQLを教えていただきたいです。 よろしくお願いします。
お世話になります。 現在、自社のオラクルサーバのパフォーマンスを改善しようと考えております。 そこで、stats_packで情報を取得し、待機イベントの一覧を眺めているのですが、async disk IO　という聞きなれないイベントが出ております。これは、いったいどういった理由により発生するイベントなのでしょうか？ ご存知の方がいらっしゃったら、教えて頂ければ幸いです。
“SQL文を作るSQL”の書き方ってあるのでしょうか？ 例えばなのですが、表同士を大量に結合して条件に当てはまったものをアップデートするようなSQLを書く場合、文法を間違うとエライこちゃ！になる場合がありますよね。 そういう場合って結合するんじゃなくて結合したSELECT文を使って条件だしをして1件1件単純アップデートをした方が安心ですよね。 （定期処理であれば効率が悪いですが・・・だったらプロシージャですか・・・というところになりますがごくたまにや1回きりのデータ変更など） そういったことをやるほうほうはありますでしょうか？ 仕様はSQL99です。
Ｕｂｕｎｔｕに１０ｇのＥｘｐｒｅｓｓをインストールするときはＡｐｔ－ｇｅｔで自動で スタートメニューに自動追加されました。簡単でした。 しかし、Ｏｒａｃｌｅ１１ｇＲ２（３２Ｂｉｔ版）の検証をするために Ｏｒａｃｌｅ　Ｌｉｎｕｘ　３２Ｂｉｔの最新版をダウンロードしたのですが １１ｇのインストーラが文字化けする上に、インストール中にファイルが 無いだのエラーが出ます。しかもインストール後にメニューにＯｒａｃｌｅが追加されず コマンドラインでＤＢの作成が必要で、しかもエラーが頻発し、結局ＤＢを起動できていません。 Ｏｒａｃｌｅ　Ｌｉｎｕｘの最新版は１１ｇＲ２非対応なのでしょうか？ どのＬｉｎｕｘならいいのですか？？
お世話になります。 LONG型のカラムに長い文字列がセットされてるのですが、その文字列の中からある特定の文字列を別の文字に置換したいのです。 SELECT ～ REPLACEを使おうと思ったのですが、LONG型では使えないらしく、PLSQLにて以下のように作成しました。 DECLARE CURSOR CURSOR1 IS SELECT * FROM T_テーブル; HIGH_VALUE_WORK VARCHAR2(32760); BEGIN FOR REC_CURSOR1 IN CURSOR1 LOOP HIGH_VALUE_WORK := REC_CURSOR1.カラム; HIGH_VALUE_WORK := REPLACE(HIGH_VALUE_WORK, 'あああ', '　　　'); REC_CURSOR1.カラム := HIGH_VALUE_WORK; END LOOP; END; / しかしテーブルを確認しても変更されてませんでした。 更新直後に試しにセレクトかけてDBMS_OUTPUTすると正しく更新されてました。 Oracleは10gR2です。 ご存知の方どうかよろしくお願いします。
社会人を初めて日が浅い者です。 先日、会社からオラクルマスターブロンズを受験するように言われ、試験で見事玉砕しました。 データベースという単語を知ったのは、試験を受ける5日前でした。 受験したのはDBAとSQLともに11gで、同時に受験しました。 黒本を買って受験日までに2周読み、なんとか知識をつけていきました。 しかし、本試験は初めて聞く単語や構文がたくさん出題され、どうにもお手上げ状態でした。 試験結果は会社の配属に関わるそうです。 そこで質問です。 １．オラクルマスターブロンズは短期間集中的に勉強すれば合格する資格なのか。 ２．合格するためには、どの程度の知識を身につけなければならないのか。 （３．会社の意図は何か・・・） ３．はスルーして頂いてもかまいません。 よろしくお願い致します。
LinuxOS上（CentOS 5.6）上でOracleの11gR1を使っています。 データベースにアクセスする際にSQLPLUSを使っているのですが、テーブル表示の際にコラムのタイトルが表示されなくなってしまいます。 例： 11:07:07 ORACLE > SHOW HEADING heading ON 11:07:16 ORACLE > SELECT * FROM EXAMPLE; 1||ONE　　　　　　　　　　　　　　　　　　　　　　　←　コラムのタイトルが表示されない 2||TWO 3||THREE ※ORCLE_HOME/sqlplus/admin/login.sqlにてそれぞれTIMEをON,　PROMPTを” ORACLE > ”、セパレーターを”||”に変更してあります。 またsqlplus -R 3 （ファイルシステムの変更を禁止するレベル）で入り、パラメーター関連を読み込まない状態では、 SQL> select * from example; COLUMN_01 COLUMN_02 ---------- ---------- 1 ONE 2 TWO 3 THREE SQL> show heading heading ON とちゃんと表示されます。 インターネットをいろいろ調べていてもHEADINGのパラメーターをONにするぐらいしか見つからず、途方にくれております。 実務に致命的な支障はないのですが、「このテーブルなんだったっけな」と確認したい時にわざわざ「DESC」コマンドを打たなくてはなりません。 是非タイトルを表示できるようにできないでしょうか。 おわかりになる方、同じことを経験された方、どうぞよろしくお願い致します。
いま、同一商品番号の最新日付を利用した条件が うまく作れず悩みながら色々試していますが、 うまくいきません。 やりたいことは、 1，AテーブルとBテーブルの 商品番号が同じ場合は除外します。 2，残されたデータから次はCテーブルの中にある 同一商品番号で、最新の日付が当月の場合はデータを残す。 つまり、前月以前のデータは除外となります。 1まではできています。 Select ＊ from aテーブル where not exists (select 'X' from bテーブル where a.商品番号 = b.商品番号) この先上記sqlにつなげてmax関数くくった最新日付と システム日付を年月のみで比較する等試みましたが、 求めた結果になりません。 上記sqlでビューを作成してといったことは、 今回やらずに一つのsqlのみでできないかと 試行錯誤です。 よきアドバイスございましたら、 宜しくお願い致します。
お世話になっております。 SQLでの質問です。 --テーブル---------- F_1F_2 AAABBB AAACCC BBBXXX CCCDDD DDDYYY １．F_1のAAAを条件にF_2のBBB・CCCを取得し、 F_1のBBB・CCCと、F_2のXXXとDDDを取得します。 ２．次に、取得したF_2のXXX・DDDを条件に、F_1のDDD、F_2のYYYを取得します。 これを1つのSQLで実行したいのですが、副問合せを駆使しても、良いSQLが思い浮かびません。 有識者の方、ご享受頂きたいです。 宜しくお願い致します。
Oracleで簡単な集計処理を作成しているのですが、 集計後の値が倍になってしまいます。 ローカル環境でテストした際には問題なく 集計可能なのですが、テスト環境にアップした際に 倍になる現象が発生しました。 ■ローカル環境 Oracle Database 10g Express Edition Release 10.2.0.1.0 - Product ■テスト環境 Oracle Database 9i Enterprise Edition Release 9.2.0.4.0 DBやテーブルの設定の問題かと思っておりますが、 検討がつかず困っております。 調査の方向性などだけでもご教授いただけましたら幸いです。 よろしくお願いいたします。
今度大学でSQLまたはOracleどちらかの授業、そしてVBの授業を必修でとらなければいけません。が、頭が良いとは言えない私ですのでプログラミング言語やデータベース言語等のコンピューター系言語が関わるシステム系のことは先ほど少し調べてみましたが、さっぱり理解できません。 SQLとOracle、どちらが比較的易しいでしょうか？ クラスネームが[Introduction to SQL][Introduction to Oracle]でしたので、恐らくそんな深く突っ込んだところまではやらない・・・と思いたいです。ですがデザインはすこしぐらいはやるみたいです。VBは[VB 1]です。 大学がアメリカの大学ですので、日本語でも何やらわからないものを英語で・・・となると大きな不安が付きまとうのです。（言語自体はアルファベットですが、説明が・・・） また、SQL（Oracle）とVB、どちらを先に履修すればもう片方が理解しやすいよー。などは無いでしょうか？それとも全く別物だからどっちを先に履修しても違いはない、ということでしょうか？ やるとなれば日本語のサイトを使いながら必死こいてやります。皆さま少しだけアドバイスをください。
はじめましてよろしくお願いします。 ORACLE10gを使用してMARGE文を作成しています。 そこで質問なのですが、下記はサイトで拾ったサンプル文なのですがUSING～で使用している セレクト対象となるUSER_MASTER_IMPORTの変わりにサブクエリを使用したい場合はどうすればよいでしょうか? MARGEしたいサブクエリのVIEWを作成すればよいのでしょうか? <SAMPLE> MERGE INTO USER_MASTER USING USER_MASTER_IMPORT ON ( USER_MASTER.USER_ID = USER_MASTER_IMPORT.USER_ID) -- 既存レコードの更新 WHEN MATCHED THEN UPDATE SET USER_NAME = USER_MASTER_IMPORT.USER_NAME, DEPT_NO = USER_MASTER_IMPORT.DEPT_NO, MODIFIED_ON = SYSDATE -- 新規レコードの作成 WHEN NOT MATCHED THEN INSERT ( USER_ID, USER_NAME, DEPT_NO ) VALUES ( USER_MASTER_IMPORT.USER_ID, USER_MASTER_IMPORT.USER_NAME || '(新人)', USER_MASTER_IMPORT.DEPT_NO ) 識者の方がいればご教示いただきたく存じます。 よろしくお願いいたします。
全く違うサーバに載っているDBのデータ同士を結合するいい手段はないでしょうか？ DBは両者ともOracleですが9と10という違いがあります。 SERVER１に載っているDBは商品管理のためのものです。主キーは「品ID」です。 SVR２に載っているDBは、保証期間の管理をするためのものです。主キーは「品ID＆メーカーID」です。 唯一データのつながりを作れそうなのは両者の主キーのみです。 あとのデータには何にもつながりはありません。 どちらかのサーバに片方のDBのテーブルを作るとかビューを作ればいいかと思いましたが、その方法についてはNGとされています。 （とりあえずその方法でやる場合できますでしょうか？？？） DBに何かを作ることなくデータの結合をさせれないでしょうか？ SQLplusなりSQLクリエイトツールなりどんな方法でもDB自体汚さない限り問題はありません。
PL/SQLを使用して、条件に合致するレコードのみをアップデートしようとした場合 この条件が他のテーブルを参照しなければいけない時どのようなロジックで実現できるでしょうか? 例えば下記のようなアップデート対象テーブルがあります。 トランT 取引先｜　年月　｜店舗区分１　｜売上 　AAA　　 201105　　 　　１　　　　　10000 マスタT 取引先｜　開始日　｜　終了日 　AAA　　 20100501　　20110608 トランTは月別店舗別の売上を管理しているテーブルで マスタTは店舗の休業日数を管理いているマスタテーブルになります。 更新を行いたいのはトランTのフィールド「店舗区分１」でその条件は 前年同月に休業日が発生している店舗の「店舗区分１」を'2'に変更したい場合どのようにすれば これを実現できるでしょうか? やり方は複数あると思うのですがPL/SQLで実現できればと思っています。 しかし、PL/SQL初心者の為これに必要なコマンドや関数などがわかりません。 調べてみてもこのようなケースのサンプルなどが無く困っています。 どなたか詳しい方がいればご教示頂きたく存じます。 よろしくお願いします。
どなたかSQLについてわかる方教えてください。 以前にLike検索は全件検索だから遅いというのを聞いたのですが、 Selectの条件としてWhereに「Like　"A%" and Like "B%"」と設定した時と 「Like　"A%"」と「Like　"B%"」とを設定した処理を２回に分けて検索した時とでは の検索処理速度的にどちらの方が早いのでしょうか？ あと、サーバの負荷はどちらの方がかかるのでしょうか？ よろしくお願いします。
お世話になります。 Oracle9iとｖｂ６を使ってXPの環境で下記の内容のデータ変更のバッチを作りたいのですが、 方法がわかりません。ご教授頂ければ助かります。 ｃｄ１とｃｄ２は特定の場合以外は同じ値が入っている。 Aテーブル　ｃｄ１、ｃｄ２、ｃｄ３ Bテーブル　ｃｄ１、ｃｄ２、ｃｄ６ Aテーブルのｃｄ１とｃｄ２　がBテーブルに存在しない場合はｃｄ３＝０を代入する。 というような内容です。 以上　宜しくお願いします。　
環境は Linux + oracle 10g R2です。 簡単な無名プロシージャを書いていてはまって しまいました。 分かる方でしたら、あっというまに指摘していただけそうなので こちらに質問しました。 無名ブロック内で以下の事を行いたいのですが、うまく動作を確認できません。 ※以下は意味の無い処理となっていますが、今回説明用に短くしてみました。 ◇実現したい事 １．CREATE TABLE文の実行 (ここではEX01テーブルを作成します） ２．CREATE したテーブルにたいしてINSERT ３．CREATE したテーブルのDROP ◇私の実行結果 $ sqlplus scott/tiger@orcl SQL> SELECT TABLE_NAME FROM USER_TABLES WHERE TABLE_NAME ='EX01'; レコードが選択されませんでした。 -- 私の思いでは以下のプロシージャは正常に動作するのでは？ -- と思うのですが、以下の通りエラーとなってしまいます。 -- SQL> BEGIN 2 DBMS_UTILITY.EXEC_DDL_STATEMENT('CREATE TABLE EX01 ( C1 NUMBER,C2 VARCHAR2(10))'); 3 INSERT INTO EX01(C1,C2) VALUES(1,'AAA'); 4 DBMS_UTILITY.EXEC_DDL_STATEMENT('DROP TABLE EX01'); 5 END; 6 / INSERT INTO EX01(C1,C2) VALUES(1,'AAA'); * 行3でエラーが発生しました。: ORA-06550: 行3、列13: PL/SQL: ORA-00942: 表またはビューが存在しません。 ORA-06550: 行3、列1: PL/SQL: SQL Statement ignored -- -- なので、処理を分割して行ってみました。 -- まずはCREATE TABLEのみ -- SQL> BEGIN 2 DBMS_UTILITY.EXEC_DDL_STATEMENT('CREATE TABLE EX01 ( C1 NUMBER,C2 VARCHAR2(10))'); 3 END; 4 / PL/SQLプロシージャが正常に完了しました。 -- -- CREATE TABLEは正常に動作したようです。 -- SQL> INSERT INTO EX01(C1,C2) VALUES(1,'AAA'); 1行が作成されました。 -- -- INSERT文も正常に動作したようです。 -- SQL> BEGIN 2 DBMS_UTILITY.EXEC_DDL_STATEMENT('DROP TABLE EX01'); 3 END; 4 / PL/SQLプロシージャが正常に完了しました。 -- -- なんとDROP TABLEも正常に動作したようです。 -- SQL> SELECT TABLE_NAME FROM USER_TABLES WHERE TABLE_NAME ='EX01'; レコードが選択されませんでした。 SQL> そうなんです。3行まとめて記載するとエラーとなるのですが、 上記の通りそれぞれ分けて実行すると正常に動作するのです。 これはどこが悪いのでしょうか？ 情けない事に、今日の午後はこれでほとんどつぶれてしまいました。 どなたか助けてください。 以上よろしくお願いします。
oracle超初心者です。 sqlplusでINSERT INTOを使用して、以下の文字を挿入したいのですが、 うまく挿入されません。 どうすればいいのか教えてください。 宜しくお願いします。 入力したい文字：AAA&&00 私が書いたsql： INSERT INTO GGGGG ( NO, MOJI, DATE) VALEUS( 1, 'AAA&&00', SYSDATE); 上記だと、MOJIにAAAと挿入されてしまいます。
お世話になります。 SQLで日付の最大値を取得する方法です。 テーブルのデータ内容は以下のようになっています。 | 社員番号 | 社員名 | 日付 | 順序 | +---------+-------+-----------+-----+ | 100 | AAA | 2011/05/01 | 2 |　　　←　このレコードを取得したい +---------+-------+-----------+-----+ | 100 | AAA | 2011/05/01 | 1 | +---------+-------+-----------+-----+ | 100 | AAA | 2011/04/01 | 1 | +---------+-------+-----------+-----+ | 200 | BBB | 2011/04/01 | 2 |　　　←　このレコードを取得したい +---------+-------+-----------+-----+ | 200 | BBB | 2011/04/01 | 1 | +---------+-------+-----------+-----+ 取得したいレコードは、 社員ごとの最大日付の最大順序をもつレコードです。 （上記の1行目と４行目のレコードを取得したい） この場合、 下記のようなＳＱＬを考えます。 --------------------------------- SELECT 社員番号, 社員名, 日付 FROM テーブル名 WHERE 社員番号 = 'xxx' AND 日付 = (SELECT MAX(日付) FROM テーブル名 ) AND 順序 = (SELECT MAX(順序) FROM テーブル名 ) ---------------------------------- 但し、上記の場合、 社員ごとに最大値レコードが取得できません。 どなたかレコード取得方法について 教えていただけないでしょうか？ よろしくお願いいたします。
ORACLE9iのRMANでリカバリの検証をしていますが、 上手くいきません。 RMANに詳しい方、ご教授下さい。 運用時、RMANのバックアップ(フルバックアップ、アーカイブログバックアップ)は日々行っており、 OS丸ごとのバックアップは月ごとに行っています。 それで、HDD障害が起こったときに、OS丸ごとバックアップを利用してバックアップした日(月初)に戻して、 本日のRMANのバックアップを利用して、リストアができるかを検証しています。 [環境] Oracleのバージョン[Oracle9i 9.2.0.7.0] アーカイブモード [検証内容] (1).DBの設定、RMANの設定 -> (2).REDOログのCURRENT確認 -> (3).Windowsの機能でバックアップ -> (4).REDOログが上書きされてアーカイブログがはかれるまでDBのテーブルにデータを追加 -> (5).RMANでバックアップ -> (6).REDOログのCURRENT確認((2)のときのCURRENTが異なるようにした) -> (7).(3)のバックアップを使ってWindowsの機能で復元 -> (8).(5)のRMANバックアップデータ (フルバックアップデータ、アーカイブログバックアップデータ)を置換して、RMANのリストア (2)の時点のREDOログの状態を「select * from v$log」で確認したところ、 GROUP#2がCURRENTでした。 GROUP#SEQUENCE#ARCHIVESTATUS 12YESINACTIVE 23NOCURRENT 31YESINACTIVE (6)の時点のREDOログの状態を確認したところ、 GROUP#3がCURRENTでした。 GROUP#SEQUENCE#ARCHIVESTATUS 111YESINACTIVE 212YESACTIVE 313NOCURRENT (8)のとき、「RMAN> restore database;」のコマンドを打ったとき、下記のエラーが出てきて、 リストアできませんでした。 エラー「ORA-19612:データ・ファイル1はmissing or corrupt dataのためリストアされませんでした。」 CURRENTの状態、位置によってリストアできたりできなかったりするのでしょうか？ SEQUENCE#の値を変更、もしくは、アーカイブログのバックアップから、REDOログをリストア する必要があるのでしょうか？ または、他に必要な設定をする必要があるのでしょうか？ リカバリするときのコマンドは、下記の通りです。 SET ORACLE_SID=<SID名> rman target / catalog rman/rman@RMAN RMAN> STARTUP NOMOUNT RMAN> RESTORE CONTROLFILE; RMAN> ALTER DATABASE MOUNT; RMAN> RESTORE DATABASE; RMAN> ALTER DATABASE OPEN RESETLOGS; 前回、同じようなやり方でリストアしたときは、上手く行きました。 そのときは、下記のような状態でした。 ((4)のときのデータ件数は少し異なり、(6)の時点でGROUP#1がCURRENTでした。) GROUP#SEQUENCE#ARCHIVESTATUS 111NOCURRENT 2 9YESINACTIVE 310YESACTIVE 以上、宜しくお願いします。
SQLの取得方法を考えてます。 テーブルＡ キー番号　利用フラグ　　内容 　　1　　　　　　1　　　　　りんご 　　2　　　　　　0　　　　　みかん 　　3　　　　　　0　　　　　なし 　　4　　　　　　1　　　　　すいか 　　5　　　　　　1　　　　　ぶどう 上記のような５件のデータがあるとします。 出力する時は、１件（縦もち=>横もち）にします。 キー番号が小さい順で、利用フラグが1の物を出力します。 利用フラグが1の物は最大でも3件しかありません。 その為、出力テーブルも3件分しかありません。 利用フラグが1の物が3件無い場合は、ある分だけ出力します。 上記データの時の出力結果想定 テーブルＢ キー番号１　内容１　　キー番号２　内容２　　キー番号３　　内容３ 　　1　　　　　りんご　　　　　4　　　　　すいか　　　　5　　　　　ぶどう これをどのようなＳＱＬで実現できるでしょうか？ 方法がよくわかりません。
お世話になります。 ＳＱＬで特定条件の時に任意の文字列を出力したいです。 表1 NO PRICE ＿＿＿ ＿＿＿ 　1 　 100 2 　 200 3 　 300 NOが1のとき、列名を「CODE」として"aaa" NOが2のとき、列名を「CODE」として"bbb" NOが3のとき、列名を「CODE」として"ccc" 出力結果 NO CODE ＿＿＿ ＿＿＿ 　1 　 aaa 2 　 bbb 3 　 ccc こんな感じの結果を得たいです。 どうぞよろしくお願いいたします。
主キー、副キーの組み合わせでレコード数をカウントして条件にあったものでかつ特定条件のレコードを出したいのですがどのようにしたらいいでしょうか？ 例えば画像のようなテーブルとします。（テーブル名はTANAです） 棚コードが主キー、商品コードが副キーとしたときこの組み合わせでカウントしてレコード数が１つしかないものを抽出します。 select 棚コード, 商品コード from TANA group by 棚コード, 商品コード having count(*) = 1; をすれば 棚コードと商品コードの組み合わせで 「T1」＆「OP123」 「T5」＆「A7777」 が抽出できるかと思います。 この条件に加えて、担当者が「鈴木」か「山田」のものだけを拾い上げるにはどのようなSQLを書けばいいでしょうか？ （例だと山田しか出てきませんが・・・） 詳しい方よろしくお願いいたします。Ora10gが対象です。
Oracle 9iのRMANを使用して、現行のDBサーバから新DBサーバの移行 を考えており、DB移行のテストをしているのですが、上手く行きません。 ※バックアップファイルは、アーカイブモードでオンラインバックアップです。 新サーバーでOracle9iをインストール、RMAN構築、RMANで仮バックアップ、 旧サーバーのRMANのアーカイブ、フルバックアップファイル(ARCH.BUS, FULL.BUS)を 差し替えてリストアしましたが、 RMAN> restore database; で、「ora-196112:データ・ファイル１はmissing or corrupt dataのためリストされませんでした。」とエラーを吐きました。 RMAN> alter database open resetlogs; を入れたところ、 ora-01157、ora-01110を吐き、リストアできませんでした。 そこで、旧DBサーバーのRMANのデータをごっそり新DBサーバーのRMANに置換して、リストアをしようと試みたところ、RMANのスタート時点で、ora-01991というエラーを吐いて、RMAN自体、起動できませんでした。 どなたか、RMANのバックアップを使用して、DB移行を成功した方、ご教授ください。 もしくは、他のDB移行をご存知の方、ご教授ください。 よろしくお願いします。
ＳＱＬについてわからないのでご教授ください。 TABLE AAA コード 適用開始日　　　適用終了日　　　 ------ ----------- ----------- aaa 20100101 99999999 bbb 20100101 20100531 bbb 20100601 99999999 ccc 20100101 20110711 ccc 20110712 99999999 TABLE BBB コード 適用開始日　　　適用終了日　　　 ------ ----------- ----------- aaa 20100101 99999999 bbb 20100101 20100531 ccc 20100101 20110711 ・テーブルBBBの適用終了日が'99999999'のコードは テーブルAAAでは適用終了日が'99999999'の1レコードのみ。 ・テーブルBBBの適用終了日が'20100531'などの'99999999'以外は テーブルAAAでは適用終了日が'20100531'のレコードと、翌日'20100601'が適用開始日に設定され '99999999'が適用終了日に設定されたレコードの2レコードが存在。 上記2つが正常の状態です。 これらの条件に反する異常を検知するようなＳＱＬを作りたいです。 たとえば、テーブルＡＡＡのレコード[bbb 20100601 99999999]がない場合、 実行結果としてコード「bbb」が出力されるようなＳＱＬが欲しいです。 異常がなければ、「なにも選択されませんでした。」でよいです。 条件として、 ・テーブルＡＡＡでは「コード」「適用開始日」がPK ・テーブルＡＡＡでは同じコードの「適用開始日」「適用終了日」の期間がかぶることはない ・テーブルＡＡＡでは同じコードで3レコード以上は存在しない 　　（たとえば20100101～20100531、20100601～20100931、20101001～20101231の3つの期間は存在しない） 実行結果はあくまで私の考えで、 異常を検知できればどのような形でも大丈夫です。 なにかあれば補足します。 どうぞよろしくお願い致します。
PL/SQLの実行計画を取得したいのですが、autotraceを指定しても その結果が表示されません。結果表示のためにはsqlplusと違った 考慮が必要なのでしょうか。oracleに詳しい方、教えてください。 よろしくお願い致します。
複数のSQL条件を設定する方法について以下の内容 を実現したいと思っています (1)番号が17000以上 (2)そのなかで番号がMINの値を持ってくる TBL　作業 品目　　番号　　　　　日時　　　　数量 A　　　　１５０１０　　　０５/２３　　２０ A　　　　１５０２０ ０５/２４　　２０ A　　　　１７０１０　　　０５/２５　　２０←ーー抽出 A　　　　１７０３０　　　０５/２６　　２０ A　　　　１７０８０　　　０５/２７　　２０ B　　　　　　・　　　　　　　・　　　　　・ C　　　　　　・　　　　　　　・　　　　　・ D　　　　　　・　　　　　　　・　　　　　・ ご教授宜しくお願い致します。
「あるオブジェクトに対する権限付与はいつされたのか。」 という事を調べることはできないか悩んでいます。 DBはOracle9iR2です。 テーブルやINDEXですと、XXX_OBJECTSのCREATEDやLAST_DDL_TIME から取得可能であると理解しているのですが、 「権限付与はいつされたのか」という情報はどこから求めれば 良いのでしょうか？ XXX_TAB_PRIVSにCREATEDというカラムがあると良いのですが 見当たりませんでした。 もしかして、そもそもそんな情報は取得できないのでしょうか？ もしご存知の方いらっしゃれば情報提供お願いいたします。
SQLの実行計画について教えていただきたいです。 【現状】 9iと10gそれぞれの環境で /*+ ALL_ROWS */ を使用したあるSQLの 実行計画を出したところ、全く異なった実行計画になっていました。 コストは9iが2000、10ｇが150で、10gでは数秒で結果が返ってくるのに対し、 9iではいつまで経っても結果が返ってきません。 9i環境と10g環境とではテーブルの構造やINDEXは同じですが データの中身は別で、件数は9iが100万件、10gが150万件です。 【教えていただきたいこと】 このように9iと10gとで実行計画や処理の時間が異なる原因は データの中身が違うこと以外では何が考えられるでしょうか。 解決策があれば合わせてお教えいただきたいです。 /*+ ALL_ROWS */を使えば9iでもSQLをコストベースにできると 思っているのですが、それが間違いなのでしょうか。。。 そもそも実行計画がよく分かっていないので申し訳ないのですが、 何かお気づきのことがあればお教えいただきたいと思います。 よろしくお願いします！
SQLで質問です。 下記のようなテーブル(TBL) があったとして、 YMD HIN 20110520 '商品３' 20110520 '商品５' 20110520 '商品６' 20110522 '商品４' 20110522 '商品５' VIEWのみで以下ような形に見せるようなVIEWって VIEWだけで可能でしょうか。 YMD　　　　HIN 20110520　'商品３ 商品５ 商品６' 20110522 '商品４ 商品５' グルーピングキーYMD単位でHIN||' '||HIN||' '||・・・みたいに データが存在するだけ連結していくようなイメージです。 ストアドなどでループして連結していく以外にVIEWのみで実現できるような SQL書けるよという人いましたら教えていただけないでしょうか。 以上よろしくお願い致します。
例えばあるテーブルのbangou（重複はない）という項目が 11 12 13 14 15 16 22 23 24 31 32 このように存在した時に 使用済み番号 11-16 22-24 31-32 このように３行表示するためのＳＱＬってどうすれば可能でしょうか。 ポイントは ・連続した番号は１行で表現したい。 実際はデータが数万行あり、連続しているものが多いが、歯抜けも連続しているためです。 以上よろしくお願い致します。
oracle9iで、SQLServerのようなテーブル変数みたいなものは、ありますか？ 一時テーブルや、テーブル関数(表関数)ではありません。 ストアドパッケージで、一つの条件で使いまわし使用したいので。
ORACLE9iのリカバリ方法を教えてください。 Windows server 2003 R2、Oracle9iを使用しています。 Cドライブにoracleをインストール、Dドライブにoracleのデータを格納しています。 Cドライブのハードディスクが駄目になったので、Cドライブのハードディスクを交換して Windows server 2003 R2をインストールして Windowsの標準機能のバックアップ(バックアップデータには、system stateも含んでいます。)からバックアップしておいたデータを復元させました。 ファイル単位のデータや、オラクルのサービスは復旧したのですが、オラクルのテーブルなどが開きません。 SI ObjectBrowserでオラクルを開こうとしたとき、 「ORA-01219:データベースがオープンしていません。固定の表／ビューに対する問合せのみ可能です。」 というメッセージが表示されます。サービスの再起動をしましたが、同じようなエラーがでます。 SQLPLUSで、alter database openのコマンドを入れてデータベースをオープンさせようとしたところ、 次のようなエラーが出てきました。 ORA-01122:データベース・ファイル８の照合検査でエラーが発生しました。 ORA-01110:データ・ファイル8：'D:ORACLE^ORADATA\SFRES\USER01.DBF' ORA-01207:ファイルが制御ファイルより新しくなっています。-古い制御ファイルです。 どなたか、解決方法をご存知の方、ご教授ください。
正規表現について教えてください。 Oracleで開発を行っている者ですが、ネットや本で調べても わからない箇所がありましたので、ここに質問として挙げさせていただきます。 ご教示いただけると幸いです。 現在、下記のようなデータが入ったテーブルがあります。 ---------------------------------------------------------------------------------- ID | SENTENCE 　　　　　　　　 | REG_EXP ---------------------------------------------------------------------------------- 1 | ＜○○○：ＸＸＸＸ＞ 　　　　 | [^＜][^：]+ ---------------------------------------------------------------------------------- 2 | ＜○○○：ＸＸＸＸ＞→＜△△△：ＸＸＸＸ＞ | ---------------------------------------------------------------------------------- 3 | ■■■■■＜○○○：ＸＸＸＸ＞ | ---------------------------------------------------------------------------------- このテーブルを使って、アプリを作っているのですが、 期待動作としては、SENTENCEの列に入っている文字列を REG_EXPの列に入っているデータ(正規表現のパターン)で マッチした文字列を切り取るようにしたいのです。 例えば、IDが1の場合は○○○が切り取られるのが期待動作です。 (注.この動作は、REGEXP_SUBSTR関数を用いてＳＱＬで実行します。) お聞きしたいのは、IDが2の場合は△△△を、IDが3の場合は○○○を、 配列の最初の要素に入れるには、正規表現をどのように記載すればよいのか、ということです。 ○、△、■、Ｘの部分は英数字、日本語のどれが入るのかはわかりませんが、 ＜や→、：などの全角記号のフォーマットはこのままになります。。 IDが2の正規表現は[^＜：→]+[^＜：→]+[^＜：→]+ で試してみたのですが、 うまく出来ませんでした・・・。 テーブルの線の調整がうまくできず、 表が見づらくて申し訳ありませんが、 正規表現に詳しい方、ご教示をよろしくお願いいたします。
知識不足ですみません。DBサーバーにOracle 11g x64を入れていますが、あるソフトを使用する為に、同サーバーにOracle 11g Client 32bitを入れる必要があるのですが、共存できるものなのでしょうか。可能であれば、インストール時の注意点や参考になるURL等あれば助かります。よろしくお願いします。
TeraTerm上で [ora10gas@doao shell]$ ./get_daisya.csh 上のようにシェルを実行してみたのですが、 /bin/ls: 照合パターンに合いません. と表示されます。 これしか情報が出せませんが、こういうときはどこを確認したら解決できるか ご教授していただけませんか。 以上、よろしくお願いします
管理ツールのodbcで接続プールを設定する際に、 oracle10gデフォルト設定の60秒から、プール時間を変更し、適用ボタンを押して実行しても 再度同設定画面を開くと元の60秒に戻ってしまいます。 なぜでしょうか? 管理者権限が無いからとかの理由で変更が適用されないのでしょうか? ご存知の方がいれば教えていただきたいです。 よろしくお願いいたします。
ORACLEアーカイブログのサイズを調べたのですが、「ブロック単位」の意味がわかりません。 やりたいことは、出力した「ブロック単位のアーカイブログサイズ」を「GBで表したい」です。 ご教授願います。 私の調査結果を記載します。 以下のビューがアーカイブログ情報を保持していると判明した。 【V$ARCHIVED_LOG】 このビューが保持しているカラム「BLOCKS」が、アーカイブのログサイズを持っている。 【BLOCKS NUMBER アーカイブ・ログのサイズ（ブロック単位） 】 ※ここがブロック単位であるため、○GBに変換できない・・・。 上記のカラムの情報をSELECTした結果、「ブロック単位のサイズ」が出力された。 BLOCKS　= 1028995 これをGBに直したいのですが、どうしたらよいのでしょうか？ 参考にしたサイト：http://otndnld.oracle.co.jp/document/products/or …
Oracle(10.2.0.5)のパッチを当てた後、データベースをオープンすることができませんでした。 原因と対処法にについてわかりましたら、教えて頂けますか。 SQL> startup ORACLEインスタンスが起動しました。 Total System Global Area 1258291200 bytes Fixed Size 2067624 bytes Variable Size 318767960 bytes Database Buffers 922746880 bytes Redo Buffers 14708736 bytes データベースがマウントされました。 ORA-01092: Oracleインスタンスが終了しました。強制的に切断されます
OS HP-UX(11.31) Oracle(10.2.0.5)をメディアからインストールしたいと思います。 ただし上記はパッチですので、上記を実行してもエラーが発生します。 元のOracle(10.2.0.1)を実行したところ、(./runInstaller) Oracle Universal Installerを起動中… インストーラ要件の確認中… 6Sバージョンを確認中…必須11.23　実際11.31　失敗しました となり終了してしまいます。 HP-UXのバージョンが11.31と新しいため失敗しているエラー内容みたいですが、 インストールするにはどうしたらよいでしょうか。 HP-UX11.31で、Oracleをインストールする方法を教えてください。
お世話になります。 ORACLEのMAX()関数を使用して、 下記内容を取得するSQLを作成しています。 ・商品テーブルから商品コードを取得したい ・上記の取得条件として、商品テーブルの日付項目が最新日付のレコードのみを 取得したい ・上記の取得条件に加えて、指定したいくつかの商品に該当するもののみを 検索対象としたい 【SQLサンプル】 SELECT 商品コード FROM 商品テーブル WHERE 商品コード IN (101, 102, 103) AND 在庫区分 = '0' AND 日付 = (SELECT MAX(日付) FROM 商品テーブル WHERE 商品コード IN (101, 102, 103) AND 在庫区分 = '0' ) AND ランク = (SELECT MAX(ランク) FROM 商品テーブル WHERE 商品コード IN (101, 102, 103) AND 在庫区分 = '0' ) 上記以外の書き方で何か良い書き方があれば、 ご教授願えますか？　よろしくお願いいたします。
お疲れ様です。 質問をお願い致します。 OS：WindowsXP DB：Oracle10g PL/SQLで、DBより対象データを取得し、MDBファイルの作成、書込み行いたいのですが、可能なのでしょうか。 ネットで調べたところ、MDBファイルに書き込みは可能と分かったのですが、 ファイルの作成の情報が無かったので、質問させて頂きました。 参考になるサイトなどがあれば教えて頂けますでしょうか？ また、こちらでも重複して質問させて頂いております。 http://forums.oracle.com/forums/thread.jspa?thre … どうぞ、宜しくお願い致します。
oracleのStatspackレポートに出てくる9iまでの「Hash Value」もしくは10g以降の「Old Hash Value」について教えてください。 この値は「SQLに固有に振られるID」だと考えていたのですがこの認識はあっていますでしょうか？ ※大文字小文字・スペースの数・改行の位置が異なるだけでも異なる値になり、別のSQLと判断されてしまうということは知っています。また、oracleのバージョンが異なっても同じアルゴリズムが使用されていることも知っています。 「Hash Value」という言葉から連想する私の想像の範囲に過ぎませんが ・SQLの文字列をhash計算により算出しているのだろう ・基本hash値だけで「ほぼ」一意に定まる ・稀に衝突も起こりうる ・実質的には変化する値であり、実は「ID」ではなく、一貫性は保障されない ではないかと思います。 なのですが、一意であると保障されなければ実用性が下がってしまうと思います。 例えば再起動したら変化してしまう可能性があるとかだと。 衝突は絶対にありえないのでしょうか？ どんな状況でも変わることのない値なのでしょうか？ 再起動しても、インスタンスが異なっても変わることはないのでしょうか？ 稀に変化してしまう値なのでしょうか？ この点について教えてください。よろしくお願いします。
いらぬお節介なんですが、ウィンドウｓｑｌサーバーにオラクルを載せる意味、必要は何処にあるんでしょうか
昨日迄の問い合わせへ御協力を賜れました御蔭で、 ”Oracle”の利用の際に、10.10.10.10番のIPアドレスを固定化させている、 という設定の必要性が分かりましたが、 未だに私が理解していない部分もが残っておりますので、 纏めて伺っておきたい、と考えまして、今回の質問を提出させて頂きました。 そこで御尋ねを致します。 『ループバックの時には、たとえWAN側へ抜けていかなくても、 ポート開放の設定もが必要になり得るのでしょうか？』 御忙しい中へ度々に御邪魔を致しますが、 もし宜しければ御指導を御願い申し上げます。
Oracleの参考書を初めて読ませて頂いた時に、 次の疑問にぶつかりましたから、教えて頂けますでしょうか？ VLANの機能が搭載されていないルータの配下に、 其処のDHCPサーバのセグメントとは違うIPアドレスのPCを置いている場合にも、 ループバックは可能なのだろう、と思われますが、 そのループバックは、WAN側へ出て行った後に行われているのでしょうか？ その書籍の中には、"10.10.10.10:1521"番のIPアドレスの固定の必要性が記載されていましたので、VLANの知識さえもが乏しい私の拙い理解では、 違うセグメントのIPアドレスのPCからの送信がルータでブロックされまいか、 と思われまして、その段階で、引っ掛かってしまいました。
エクスポートファイルのインポート時に、CREATE INDEX で "db file scattered read" が発生して大幅な時間が掛かっています。 この事象を回避してcreate indexをより高速に完了させる方法などありますでしょうか？
いつもお世話になっております。 ORACLE SQLで文末にある特定文字を削除する方法が分かりません。 ご存知の方がおられましたら、ご教授頂けますでしょうか。 【ご質問内容】 以下のような文字列がありとします。 (文字列) 今日はいい天気ですね。||明日は晴れますかね。||||| 文末の|を全て削除したいのですが、 どのような方法で実施すればよいのでしょうか？ 文末の|の数は何個になるか不特定です。 文末に|がない時もあります。 よろしくお願いいたします。
お世話になります。 SELECT文で複数の値の中から一致するものを検索する場合に、 以下の内容を満たすかどうかを結果として返したいです。 (1) A、Ｂ、Ｃ の値のうち、Ｃ があるかどうか (2) A、Ｂ、Ｃ の値のうち、いずれかを含んでいるかどうか 上記（１）、（２）のいずれの結果も取得したいのですが、 １つのＳＱＬで結果を取得することは可能でしょうか？ とりあえず、 SELECT 項目名 FROM ＴＥＳＴ WHERE 項目名 IN (A, B, C) で取得件数が０件かどうか（※上記（２））を判断し、 結果をプログラム側（ＶＢ側）に保持させる。 取得件数が１件以上である場合、 取得結果を１件ずつループして Cを含むかどうか調べて、 もしＣがあればその結果をプログラム側で保持しておく。 という方法しかわかりません。 ＳＱＬでこれを実現することは可能でしょうか？ よろしくお願いいたします。
windows7にオラクルクライアント10gを入れたいのですが入りません。サーバがオラクル10gの10.0.2のためクライアントもオラクル10gを入れたいのですがどうしたら入りますか？
以下の条件でのＳＱＬのデータの取得方法が分かりません。 ２つのテーブルがあるとします。 ・テーブルＡ キー　　　項目1 10　　　　　X 20　　　　　Y ・テーブルＢ キー　　項目2　　項目3 10　　　　　5　　　　C 10　　　　　6　　　　D 12　　　　　6　　　　E ここで取得する条件として ■テーブルＡにあるのは、必ず取得します。 ■テーブルＡのキーとテーブルＢのキーは繋がり、繋がったテーブルＢの情報は 　別レコードとして取得します。 ■テーブルＡのキー１つに対して、テーブルＢのキーは無いかも知れないし、 　複数件あるかも知れません。 　無い場合はテーブルＡの情報のみを出力し、複数件ある場合はその全てを出力します。 ■テーブルＢの項目2が同じ値のデータがある場合、テーブルＢを出力したレコードと 　同じレコードに、項目2が同じデータの情報を出力します。 　項目2が同じデータが無い場合はこの情報は出力しません。 　項目2が同じ値のデータは最大2件しかありません。 上記の例の場合に出力したい結果 ・出力テーブルＣ キー　　フラグ　　　項目1　　項目2　　項目3　　　項目2が同じキー　　項目2が同じ値 10　　テーブルＡ　　　X 10　　テーブルＢ　　　 　　　　　5　　　　C 10　　テーブルＢ　　　 　　　　　6　　　　D　　　　　　　　12　　　　　　　　　　　　E 20　　テーブルＡ　　　Y （テーブルＣ のフラグとは、テーブルＡの情報かテーブルＢの情報かを示します） これを出来ればSQL、出来なければPL/SQLで取得したいのですが どちらの場合でも取得の方法に悩んでいます。 どのような方法で取得できるのでしょうか？
Oracle 10gにて、DB内のデータを「指定されたレコード数」だけ増幅したいのですが、実現方法が思い浮かびません。 私が試した実現方法は、以下の通りです。 エクスポートして、EXCELやCSVに出力し、ほしいレコード数に修正することを考えましたが、 EXCELやCSVの最大行数？を超えているため正しく出力されませんでした。。。 ※ちなみに、私はエクスポート＝テーブルの全データを出力と考えています。エクスポートで出力レコード数を指定することはできるのでしょうか？ どうか、ご教授願います。
tnsnames.oraの中の(CONNECT_DATA=に SIDだったりSERVICE_NAMEだったりしますが、どのような違いがあるのでしょうか？ どちらでもつながるのでいいかとは思いますが、何かメリット・デメリットでもあるのでしょうか？ それとも過去の遺物が未だ共存しているだけでしょうか？ SIDはインスタンスにつけられた名前だと知っていますが、SERVICE_NAMEってなんですか？
ロ－カルネイミングパラメタのTNSNAMS.ORAに書き込む内容について教えてください。 CONNECT_DATAにSlDとSERVｌCE＿NAMEとかっていう項目がありますよね これって両方設定しなくてはいけないのでしょうか？ それぞれどういった役目を果たしているのかが理解できてはいないのですが・・・ なぜかわからないのですがHOSTにIPアドレスで書いたときSERVｌCE＿NAMEでDBにつなぐことができるのですが、HOSTにホス卜名で書いたときはつながません。しかし、逆にSlDではつなぐことができます。 さっぱり理由がわかりません・・・ DB以外のことでIPやホスト名を使っても問題なしです。DBにつなぐことだけおかしいです。 DBのデ－タは８I→９I→１０Gと引き継いできています。 サーバはWinR2 2008です。
SQL*Loaderの制御ファイル内で、 以下のような日付データを変換するにはどうしたらよいでしょうか? ・2010-12-06 00:00:00.000 以前は'2010-12-06 00:00:00'の形式だったので "to_char(to_date(:DENPYO_DATE,'YYYY-MM-DD HH24:MI:SS'),'YYYYMMDD')" のようにして変換が可能だったのですが、仕様変更がありましてこれに対応しなければいけなくなりました。 ちなみに安易な考えで以下のようにしたのですがさすがにだめでした... "to_char(to_date(:DENPYO_DATE,'YYYY-MM-DD HH24:MI:SS.000'),'YYYYMMDD')" 方法をご存知の方がいれば是非、ご教示いただきたく存じます。 よろしくお願いいたします。
OracleDBに作成・設定したログオントリガーが、 どの程度データベースのパフォーマンスに対して影響があるかを調査したいです。 テストの手法としては、 フリーの負荷テストツールを使用する事を考えていますが、おすすめのツールを教えていただけないでしょうか。 非同期で、１秒間に１０～２０接続程度を想定しています。 また、OEMでパフォーマンス監視を行っているのですが、テストの際に確認すべき必須項目などもあわせて教えていただけるとうれしいです。 よろしくお願い致します。
SQL*LoaderでCSVをインポートする際に、 次のようなCSVデータがあるとします。 DENPYO_NO ｜ SALES_QTY ｜ PRICE　 1001-01-0001　　　　　1　　　　　　2000 1001-01-0002　　　　　2　　　　　　4000 このデータのDENPYO_NOフィールドの左4桁を取得して別のフィールドにインポートすることは 可能でしょうか? 説明がわかりにくいと思いますが、テーブルに取り込んだ時に以下のようにしたいです。 SECTION ｜ DENPYO_NO ｜ SALES_QTY ｜ PRICE 1001　　　　　1001-01-0001　　　　　1　　　　　　2000 1001　　　　　1001-01-0002　　　　　2　　　　　　4000 要は一つのCSVフィールドを使用して、複数のテーブルフィールドを更新可能か? ということです。また、そのときの制御ファイルのフィールド項目の定義はどのように記述したらよいのでしょうか? よろしくお願いします。
ODBC経由でオラクルデータを参照しています。 通常問題なく参照できるのですが、たまに「Oracle ODBCドライバ接続」 のポップアップ画面が表示されます。 表示される原因がわかりません。 どなたか教えてください。よろしくおねがいします。
以下のCREATE文を実行し、設定されたオプションが正しく設定されていることを確認したいのですが、確認方法がわかりません。どうかご教授願います。 以下のSQLで確認した結果、PCT_USED等が表示されませんでした。 このSQLで上記を確認できる場合、表示されない項目は何か理由があるのでしょうか？ ---------------------------------------------------------------- 確認SQL SELECT OWNER ,TABLE_NAME ,TABLESPACE_NAME ,PCT_FREE ,PCT_USED ,INI_TRANS ,INITIAL_EXTENT ,NEXT_EXTENT ,MAX_EXTENTS ,PCT_INCREASE FROM dba_tables ----------------------------------- CREATE TABLE free_table( old_name VARCHAR2(5), new_name VARCHAR2(5) ) tablespace TESTDAT01 pctfree20 pctused70 initrans1 storage( initial1M next1M maxextents UNLIMITED pctincrease 0 ) ---------------------------------- 確認したい値 tablespace TESTDAT01 pctfree20 pctused70 initrans1 storage( initial1M next1M maxextents UNLIMITED pctincrease 0 ------------------------------ どうかご教授よろしくお願いします。
OracleでAccessからの接続だけをリスナーで拒否したいです。 できるだけパフォーマンスに影響しない方法を模索しています。 何か良い方法は無いでしょうか。 リスナーログからAccessを判別してセッションを切断する方法は考えたのですが、 接続の度にリスナーログを読み込みするのはパフォーマンスに影響しそうなのでＮＧかなと 個人的には思ってます＞＜
oracle9iを使用したWindowsアプリケーションで、ユーロ通貨記号を使いたいです。 DBのNキャラクタセットは、AL16UTF16。NVarchar2(20)列を用意しています。 クライアントは、環境変数NLS_LANG=JAPANESE_JAPAN.JA16SJIS クライアントでOsqleditを使用したときに、 （文字化けしない）データベースにデータ格納の仕方、 （文字化けしない）データベースからデータの取り出し方を教えて下さい。
ある範囲に割り当てられている値を得たいのですが、 どのようなSQLを組めばよいのでしょうか？ 例えば、下記の2つのテーブルがあったときに、 氏名 BMI --------- Ａさん 22.6 Ｂさん 31.1 Ｃさん 16.8 Ｄさん 23.9 開値 終値 判定 -------------- 0.0 19.9 痩身 20.0 23.9 普通 24.0 99.9 肥満 以下の結果が得たいのです。 氏名 判定 --------- Ａ 普通 Ｂ 肥満 Ｃ 痩身 Ｄ 普通 この例では、３つの範囲しか用意していませんが、 実際はもっとたくさんあり if や case では列挙しきれないのです。 SQLに詳しい方、ご教示ください。
先日、PL/SQLの開発について、こんな質問を受けました。 「SQLを組むさい、処理速度を速めるためにやっていることは？」 と。 で、ちょっと考えて 「Selectなら、Indexを考慮してSelect文を作成し、実行します。 処理時間がかかる場合は、実行計画などをみて、 Select文にヒント句をつけて、処理速度を改善します。」 と答えました。 答えたあと、質問者された方は、なんだかがっかりした感じでしたが、 私の回答は不適切だったのでしょうか？ それとも、どういう回答が良かったのでしょうか？ よろしくお願いします。
外部結合に関する質問です。 表A 　 　　　　 　|　　表B ID　　 名前　　　|　　ID　　 所持品 1　　　田中　　　|　　1　　　りんご 2　　　佐藤　　　|　　1　　　バナナ 3　　　鈴木　　　|　　3　　　バナナ このように「誰が、何を持っているか」を表した表AとBがあるとき、 以下の条件でデータを取得したいと考えております。 ・ 所持品がある人は、名前と所持品の組み合わせを表示 ・ 所持品がない人は、名前だけを表示 ・ りんごをもっていない人は、名前と所持品の組み合わせに 　加え名前だけの結果も表示 ・ UNIONは使いたくない ( 欲しい結果 ) 　名前　　　　所持品 　田中　　　　りんご 　田中　　　　バナナ 　佐藤　　　　（空）　　　← 所持品なし 　鈴木　　　　バナナ 　鈴木　　　　（空）　　　← りんごなし SELECT A.名前, B.所持品 FROM A, B WHERE A.ID = B.ID(+) では『鈴木 （ 空 ）』 が取得できません。。。 UNIONを使えばできたのですが、都合上UNIONを使わず 上記のような結果を取得したいと考えています。 どなたかお知恵をお貸しいただけませんでしょうか。 よろしくお願いします。
Oracleデータベースのパフォーマンスが悪いと相談を受けましたがどういった手順調査するのがいいのでしょうか？教えて下さい。
SQL*Plus以外で値を一覧できるツールを探しています。 Oracle SQL Developer や MS-Access、ObjectBrowserなどが無い環境でも、 Oracleのディクショナリビュー含めて値を見たり、 外部キーを見たり、他を見たりして、 ER図を見ているかの如く、さっと対象を選択できるようなツールがあれば、 教えていただきたいと思います。 結局は、SQL*Plusで値を見て判断するしかないでしょうか？ 「動かしてみて、実行計画を見る」とかしかないでしょうか？ よろしくお願いいたします。 OpenOffice（のデータベース）が Oracle社のものになってから結構使えるようになっていたりするでしょうか。
Oracle SQL Developer や MS-Access が無い環境でも、 Oracleのディクショナリビュー含めて値を見たり、 外部キーを見たり、他を見たりして、 ER図を見ているかの如く、さっと対象を選択できるようなツールがあれば、 教えていただきたいと思います。 結局は、SQL*Plusで値を見て判断するしかないでしょうか？ 「動かしてみて、実行計画を見る」とかしかないでしょうか？ よろしくお願いいたします。 OpenOffice（のデータベース）が Oracle社のものになってから結構使えるようになっていたりするでしょうか。
お世話になります。 SQL文で、下記内容のデータを取得する方法がわかりません。 ・TESTテーブルからＡ、Ｂ、Ｃの３項目のデータを取得する。 ・但し、この中のＣ項目については、WHERE句の条件を満たす データの最大値を取得する。 ・項目ＡおよびＢの取得条件は、項目Ｃと同一条件とする。 ・目的は、項目ＡおよびＢに関しては、WHERE句の条件を満たす 　全てのレコードを取得し、項目Ｃにおいては最大値のみ取得したい。 上記内容を取得しようと考えた場合、 現時点で下記のＳＱＬ文を作成して実行しましたが、 うまくデータが取得できません。 SELECT A, B, C FROM TEST WHERE C = (SELECT MAX(C) FROM TEST) AND Z = 'xxxxx' AND Y = 'x' AND X = 'Y' ※項目X, Y, ＺはTESTテーブルのカラムです ※上記ＳＱＬを、Ａ、Ｂのみ取得用とＣのみ取得用に 　 それぞれ分解して実行すると、それぞれの結果は 　 正常に取得できます。 ２つの結果を１つのＳＱＬで取得することは可能でしょうか？ どなたかご教授願えますか？よろしくお願いいたします。
Sql*Loaderを使用してCSVファイルを取り込む際に、取り込むCSVデータが5桁以上の場合はエラーとしたいのですが。 制御ファイルにどのような記述をすればよいかわかりません。どうか、ご教授お願いいたします。 ちなみに　5桁未満の場合は、0埋めを行っております。 具体的には、以下のような結果を出したいのですが。 ○　1　　 ⇒　00001（０埋めして取り込む） ○　00001 ⇒　00001（取り込む） ○　00000 ⇒　00000（取り込む） ×　000001 ⇒　（取り込まない） ------------------------------------------------------------- 現状、以下のソースだと「1234567」のCSVデータをロードすると、 「34567」で取り込まれてしまいます。（エラー発生しない。） 【Sql*Loaderの制御ファイル】 LOAD DATA 　　（省略） TRUNCATE TRAILING NULLCOLS ( No_colum "LPAD(:No_colum,5,'0')" , No2_colum "LPAD(:No2_colum,5,'0')" ) 【tmp_tableの情報】 カラム：No_colum vchar2(サイズ：5) カラム：No2_colum vchar2(サイズ：5) ------------------------------------------------------------- どうか、ご教授よろしくお願いいたします。
Oracle 10gで統計情報が取得されたことを確認するSQL文を教えてください。 統計情報の取得方法としては、 Primary Key、Indexを再作成した後、DBMS_STATS.GATHER_SCHEMA_STATSを使用して統計情報を取得しております。 よろしくお願いします。
以下のVIEWをPROCEDURE内で使用しています。 CREATE OR REPLACE VIEW VW_KAIIN (CODE,NAME,TEL,STARTYMD) AS SELECT * FROM KAIIN WHERE STARTYMD <= TO_CHAR(SYSDATE,'YYYYMMDD') ※STARTYMDには有効な開始日付が入ります。 条件部分でSYSDATEではまずいことになり、 特定の日付を指定しなければならなくなりました。 VIEW自体にパラメータ渡しはできないということで、 CREATE OR REPLACE PROCEDURE TABLE_B_UPDATE (I_YYYY IN TABLE_A.YYYYY%TYPE, I_MM IN TABLE_A.MM%TYPE, I_DD IN TABLE_A.DD%TYPE,) PROCEDURE内でI_YYYY、I_MM、I_DDを条件に変更した VIEWを動的に作成して、処理をしたいのですが、 こういった事は可能でしょうか？ そのまま書いてみましたが、CREATE部分でエラーが出てしまい、コンパイルできませんでした。 もし不可能である場合は、代替案をご教授いただけるとありがたいです。 どうかよろしくお願いします。
"他○件"(○には半角数字)を" 他○件"と半角スペースに変換する正規表現はどうすればいいでしょうか? 前後にも"他"が使われる可能性があるので単純な置換はできません
いつもお世話になっております。 無償版のOracleデータベースの10g XEでCSVファイルを読込み、テーブルを作成しているのですが、 すべての行を読込みできません。 エラーは発生しないです。CSVのファイルサイズは1,971KB、行数は16,436行、列数は28列。 すべての行を読込み、テーブルを作成する方法はないでしょうか？ それとも、XEで制限があるのでしょうか？
ORACLEで各テーブルに設定してある「pctfree」と「PCTUSED」 の値を確認したいのですが、 どこを確認すればよいかわかりません。 目的としては、「CREATE TABLE文で「pctfree」と「PCTUSED」 を設定しているので、これが正しく設定されているかを確認したい。」です。 どうかご教授お願いいたします。
以下の(1)～(9)オプションの意味を、ORACLE初心者でも理解できるレベルで教えていただけないでしょうか？ (1)tablespace AAAAAAAAA ＝表領域名 (2)pctfree10 ＝この割合を超えるとブロックに挿入不可能になる。 (3)pctused80 ＝用済領域のうち、データブロックごとに確保される最小限の割合。この割合を下回ると挿入可能な　ブロックとなる。 (4)initrans1 (5)storage( (6)initial　1M (7)next　1M (8)maxextentsUNLIMITED (9)pctincrease0 ) 自分で調べてはみたものの、理解できませんでした。 わがままな質問で申し訳ございません。 ご教授願います。
いつもお世話になります。 オラクル初心者です。 宜しくお願い致します。 下記の様な、ｆｏｒ～ｌｏｏｐで、 tmpM商品単価（主キーなし）と言う一時表テーブルから M商品単価（主キーは「品番」）へインサートをする際、 tmpM商品単価には、「品番」フィールドにダブった品番 がある為、単価実行日を降順に並べ替え古い行は、 where not exists(～）で、インサートされない様に考えました。 しかし、下記構文では、コミットされる前だからなのか、 ダブった品番の行もインサートされようとされ、エラー となってしまいます。 どなたかご親切な方、ご教授下さいます様、 宜しくお願い致します。 　　　　　記 create or replace procedure dbInsSyouhinmaster ( out_valoutpls_integer ) as cursor c_1 is select 品番,商品分類,売上単価,単価実行日,登録日時,登録者 from tmpM商品単価 a where not exists(select * from M商品単価 b where trim(a.品番) = trim(b.品番)) order by 単価実行日 DESC; begin out_val:=0; for r_emp in c_1 loop if c_1%FOUND then INSERT INTO M商品単価 (品番,商品分類,売上単価,単価実行日,登録日時,登録者) VALUES(r_emp.品番,r_emp.商品分類,r_emp.売上単価,r_emp.単価実行日, r_emp.登録日時,r_emp.登録者) ; end if; out_val := out_val + 1; end loop; end;
こんにちは、外部結合の仕方についてお聞きしたいのですが、 このSQL１で抽出されたデータにさらに TABLE3テーブルのデータを追加したくＳＱＬ２を作成したのですが、 うまくいきません。 ON TABLE1.[Code]=TABLE3.[Code]の部分をどのように記述すればよいのでしょうか？ ＳＱＬ１－－－－－－－－－ TABLE1.[tamp] [Child], TABLE2.* FROM [p].[Price] TABLE1 LEFT OUTER JOIN [p].[Receive] TABLE2 ON TABLE2.[Code]=TABLE1.[Code] ＳＱＬ２－－－－－－－－－－ TABLE1.[tamp] [Child], TABLE2.*, TABLE3.* FROM [p].[Price] TABLE1 LEFT OUTER JOIN [p].[Receive] TABLE2 ON TABLE2.[Code]=TABLE1.[Code] LEFT OUTER JOIN [p].[Product] TABLE3 ON TABLE1.[Code]=TABLE3.[Code]
下記のようなテーブルがある場合に Aテーブル　　　　　Bテーブル 品目(主)　　　　品目(主)　子品目(主)SEQ 　パン１　　　　　パン１　　小麦粉　　　１ 　　　　　　　　　　パン１　　ジャム　　　２ 　　　　　　　　　　パン１　　バター　　　３ 結合条件 　A.品目 = B.品目 この時に１件のみ取得できるようにしたい。 Bテーブルから取得したいのは、SEQ３のデータ。 SELECT A.品目, B.子品目, SEQ FROM　 A,B WHERE A.品目 = B.品目(+) とすると、下記３行のデータが取れてしまう。 パン１　　小麦粉　　　１ パン１　　ジャム　　　２ パン１　　バター　　　３ これを↓だけ取得したいのです。 パン１　　バター　　　３ 外部結合ではそもそも取得できないのでしょうか？ どのようなSQLを書けばいいのか教えてください。
SQL*Loaderでデータを取り込む際に、対象データの左桁をゼロ埋めにする方法を教えてください。 例えば、取り込み対象の項目が、5桁未満の場合はゼロ埋めを行う。 ・取り込み対象：111 ・ゼロ埋め後の結果：00111(この値を取り込む） 上記を実装する方法が分からず困っております。 SQL*Loaderは初めて使用するため、調べる方法も見つけられませんでした。 何か良い方法がありましたら、お教え願えないでしょうか。 また、上記を実装するための参考になるサイト等を教えていただけないでしょうか。 よろしく御願い致します。
Linuxサーバー（Red Hat Enterprise Linux 5.5）にOracle10g（10.2.0.4）をインストールしたのですが、パフォーマンスの問題で、バッファ・キャッシュ・ヒット率が９０％を下回っており、まずはこれを解決する必要があるとのことで、少し調べ始めたのですが、10gではsga_tａrgetで自動管理できるということを知りました。 最終目的は、パフォーマンス最適化を目指していますが、そのために確認しておくべき内容および設定方法を教えてください（あるいは回答にマッチしたサイトがあれば）。sga_tａrgetを攻略すれば達成できるのでしょうか？ 当面の目的はバッファ・キャッシュ・ヒット率を上げることですが、どうすればよいでしょうか？ Oracleド素人ですので、コマンドベースで教えていただけると助かります（^^； よろしくお願いします。
こんにちはみなさん。 現在、Oracle10gR2を使用しています。 そこで、以下のようなテーブルが存在します。 table_A（明細テーブル） denday | cd | suu | kingaku 2011/03/05 | 1| 1| 1000 2011/03/10 | 1| 2| 2000 table_B（マスタ） cd| henkoday | nm 1 | 2011/03/01| testA 1 | 2011/03/02| testB 1 | 2011/03/06| testC 上記マスタはcd、henkodayで管理しています。 上記table_Aとtable_Bを結合したいと思います。 そこで select t1.* ,t2.* from (select * from table_A order by denday) t1, (select * from table_B order by cd,henkoday desc) t2 where t1.cd=t2.cd and t1.denday>=t2.henkoday とした場合、マスタの3件分、明細データの重複ができてしまいます。 それを、直近の該当マスタのみ参照したいのですが、 以下のようなデータ抽出 table_A（明細テーブル）　　　　　table_B（マスタ） denday | cd | suu | kingaku | cd | henkoday | nm 2011/03/05 | 1 | 1 | 1000 | 1 | 2011/03/02 | testB 2011/03/10 | 1 | 2 | 2000 | 1 | 2011/03/03 | testC そのＳＱＬがわかりません。 どうかよろしくお願いします。
緊急ではないけど とても好奇心があります 添付画像の五本の線を描いた順番を当ててください ＋ 解答例： えいあうお
無償版のOracle Database 10g XEを使用しているのですが、 CSVファイルをロードして、テーブルを作成する過程で、テーブル名を付けるところで、 日本語を混ぜて、Shift-JISで「TBL_AAA_第０１表_統計データ」と入力し、次へ進むと、 エラーとなりテーブルを作成できません。「TBL_AAA_第０１表」とすると作成可能ですが、何のテーブルか分からなくなります。 Oracleの文字数制限は30バイトだと記憶しているのですが、入力したテーブル名は計算すると27バイトで制限以内になります。 このテーブル名は使用できないのでしょうか？
tenbinです。 今Oracle DataBaseがサーバーAにインストールされています。 これをサーバーBにまったく同じようにコピーしたいのですが、 どんな方法が一番簡単でしょうか。 サーバーBには同じ設定でオラクルをインストールする必要があると思いますが、 その後、簡単にOracleの設定(ログやバックアップ設定を含む)とデータベース情報を コピーする方法はありますでしょうか？ エクスポートやインポートだと、データベースの情報しかコピーできないと認識しています。 わかる方がいらっしゃいましたら、教えてください。よろしくお願いします。 サーバーA/B コンピューター名とIPアドレス以外環境は同じです。 OS：Windows Server 2008 Oracle：11g ※ラインセンス２つあります。
環境はoracle9iです。 ■テーブルの構成 |年度|月|部署コード|商品コード|金額| ■テーブルの内容 |2010|01|AAA|001|1000| |2010|02|AAA|001|2000| |2010|01|AAA|001|3000| |2010|01|AAA|002|3000| |2010|02|BBB|003|4000| |2010|01|CCC|001|5000| |2010|03|CCC|001|6000| 上記のようなテーブルがあり、 これを年度,月,部署コード,商品コードでサマリした値を表示したいです。 と、ここまでなら上の4つでGROUP BYしてあげれば良いのですが、 そこに年度,部署コード,商品コードでサマリした 「累計金額」列を加える必要があります。(イメージは下記のとおりです。) ■抽出結果の構成 |年度|月|部署コード|商品コード|金額|累計金額| ■抽出結果の内容 |2010|01|AAA|001|4000|6000| |2010|02|AAA|001|2000|6000| |2010|02|BBB|003|4000|4000| |2010|01|CCC|001|5000|11000| |2010|03|CCC|001|6000|11000| GROUP BYと別の集計単位で列を作ることが可能か、 可能であればどのようなSQLを書くべきか、 というところを教えてください。
マスターサイトのテーブルＡＡＡに対して、 マテリアライズドビューを作成したいです。 その際、マテリアライズドビューサイトにテーブルＡＡＡはCREATEする必要がありますでしょうか？ また、以下の手順で足りていますでしょうか？ (1)マスターサイトにマテリアライズドビューログを作成 (2)マテリアライズドビューサイトにマテリアライズドビューを作成 (3)リフレッシュ ORACLE11gです。
社員テーブルと障害テーブルＡ、Ｂがあります。 社員テーブル（社員ID、発見者名、・・・etc） 障害テーブルＡ（障害番号、発生日、・・・etc） 障害テーブルＢ（事象、ステータス、対応内容、・・・etc） 社員ID、障害番号、事象、ステータスのSELECT結果を 一つのcsvファイルとして取得するプログラムを作成したいのです。 「複数のテーブルから」「任意の」列を指定して、 検索結果を「csvに出力」する方法がどうしても分かりません。 どのようなSQLになるでしょうか？ うまく伝わっているでしょうか？ よろしくお願いします。
社員テーブルと障害テーブルＡ、Ｂがあります。 社員テーブル（社員ID、発見者名、・・・etc） 障害テーブルＡ（障害番号、発生日、・・・etc） 障害テーブルＢ（事象、ステータス、対応内容、・・・etc） 社員ID、障害番号、事象、ステータスのSELECT結果を 一つのcsvファイルとして取得するプログラムを作成したいのです。 「複数のテーブルから」「任意の」列を指定して、 検索結果を「csvに出力」する方法がどうしても分かりません。 どのようなSQLになるでしょうか？ うまく伝わっているでしょうか？ よろしくお願いします。
Oracle10gを使用しています。 SQLで、ASCII ( string ) でASCIIコードが取得できるように、 JISコードを取得する方法はないのでしょうか。
オラクルマスターの資格取得を目的として、Oracle 11g の環境を構築したいと考えています。 WinXP Homeで、インストールを試みましたが失敗。VMWare上のCentOSでも失敗してしまいました。 できれば、Oracle 11gがインストールされた仮想マシンなどが配布されていると嬉しいのですが、そういったものは手に入りませんでしょうか？？ 無理であれば、お金をかけずにWinXPか仮想マシン上で11gの環境を構築したいと思います。 何度も失敗していますので、確実に構築できる方法があれば、教えていただけますでしょうか？？ よろしくお願いいたします。
お世話になっております。 今回新たにWEBアプリケーションを作成する予定です。 その際、そのアプリケーションに対しては MySQL か PostgreSQL を利用いたします。 ただ、マスタ関連のデータが、別の Oracle(10g) サーバに格納されています。 この新規のアプリケーションから、Oracle への DBLink を作成し、 選択、登録、更新、削除、の操作は可能でしょうか？ MySQL や PostgreSQL は最新の安定バージョンとなるかと思います。 少し調べてみたところ、MySQL や PostgreSQL に DBLink の機能があるみたいですが、 どれほど実用的でしょうか？ こういった点ができない、または困るなどもありましたら教えていただけますでしょうか？ また、MｙSQL や PostgreSQL から Oracle へ DBLink する場合、 Oracle のライセンスなどが必要になったりはしないでしょうか？ (※単なるクライアント扱い？） もし、ご存知のかたがいらっしゃいましたらご教示よろしくお願いいたします。
Oracle10gはOSがcentOSでも動きますか。
お世話になっております。 以下の場合どのようにSQLを書くかで困っています。 どうかお願いします。 DBはOracle10gです。 テーブルA 区分　　　integer コード　　 integer（上記区分が0の場合は得意先のコード、1の場合は商品のコードが登録されています。） 得意先マスタ コード integer 名称 varchar 商品マスタ コード integer 名称 varchar 上記のテーブルAを読んで、 区分が0の場合は得意先マスタの名称 区分が1の場合は商品マスタの名称 をもってきたいのですがやり方がわかりません。 どうかよろしくお願いします。
お世話になります。 開発経験がOracleの9i以降からとまっているのですが、 9i当時、外部結合する際、 SELECT A.ColumnA2, B.ColumnB2, FROM A,B WHERE A.ColumnA1 = B.ColumnB1(+) などと、(+)や(-)で実装できていたと思いますが、 10/11でも同様の記述方法で取得することが可能でしょうか？ よろしくお願いいたします。
オラクルのヴァージョン違いでデータを移すにはどのようにしたらいいですか？ あるＤＢを運用しています。（Ｗｉｎ２００３） 2台あって一台のヴァージョンは8iでもう一つは9iです。 会社の情シスから古いから新しいヴァージョンにしなさいと催促されています。 特にアプリも変える気がないのでオラクルのヴァージョンアップを実施しようと策を練っていますが、どうせなら11ｇかなと思っていますが情シスから茶々が入り新しすぎて不安だから10ｇにしなさいと言われています。 そこでなのですがヴァージョンアップで気を付けなければいけないこととデータの移行はどのようにすればいいでしょうか？
oracle10g でインデックスを作成すると、インデックスの 統計情報は自動的に取得されているようです。 インデックス作成後にアナライズ（統計情報の取得）は不要という認識で間違いないでしょうか？
Oracle10gで、テーブルにデータを入れた後、以下はどちらを先に実行すべきでしょうか。 ・アナライズ（統計情報の取得） ・プライマリキーとインテックスの作成
以前データ差分の抽出で　Minus 関数を使うと差分が取れることを教えていただいたのですが 抽出に条件が付く場合を教えてください。 Table1 には　営業所、支店、コード、品番が Table2 にも　営業所、支店、コード、品番が入っており Table1.営業所=Table2.営業所 and Table1.支店=Table2.支店 and Table1.コード=Table2.コード で Table1にあってTable2にない品番を取り出したいのです。 お願いいたします。 TABLE 1 営業所支店コード品番 東京世田谷0010010 東京世田谷0010020 東京世田谷0010030 東京世田谷0010040 東京世田谷0010050 東京新宿0010010 東京新宿0020030 大阪難波0010010 大阪難波0020010 大阪難波0030020 大阪難波0040030 TABLE 2 営業所支店コード品番 東京世田谷0010010 東京世田谷0010030 東京世田谷0010050 東京新宿0010010 東京新宿0020030 大阪難波0010010 大阪難波0020010 大阪難波0030020 大阪難波0040030 結果 営業所支店コード品番 東京世田谷0010020 東京世田谷0010040
テーブルA、B、Cとも共通して以下のカラムを持っています。 SAGYO_NO （VARCHAR) SAGYO_DT（DATE型） TANTO （VARCHAR) NAIYO（VARCHAR) SAGYO_NOを指定したA、B、Cのうちで(WHERE SAGYO_NO = '01')、 SAGYO_DTが最新のものの、 SAGYO_DT、TANTO、NAIYOを一回のSQLで取得したいのですが、 うまくできなくて困っています。 いい案がありましたらお願いします。 （例） テーブルA 01 2011/03/01 AAA BBB 01 2011/03/08 CCC DDD テーブルB 01 2011/03/05 EEE FFF テーブルC 01 2011/03/02 GGG HHH ⇒上記の場合、テーブルAの'2011/03/08','CCC','DDD'を取得したいです。 よろしくお願いいたします。
ＤＢ初心者です。 オラクルＤＢでエクセルの置換処理のようなことをＤＢ上で任意のタイミングでやりたい のですがどのような方法がありますでしょうか？ ○詳細内容 変換前(※コードといいながら名称が入っている) ＴＢＬ　製造 日付　　　　　　　　　コード　　　　　　　　　　数量　　　 3/1　　　　　　　　　　品目Ａ　　　　　　　　　　５０　 ＴＢＬ　品目 コード 名前 10001　　　　　品目Ａ 10002　　　　　品目Ａ　 -------->製造ＴＢＬのコードと品目ＴＢＬ名称が同じ物を抽出し、 10003　　　　　品目Ａ　　　　　　　　 品目ＴＢＬのコードのMAXの値に変換 10004　　　　 品目Ｂ 変換後 ＴＢＬ　製造 日付　　　　　　　　　コード　　　　　　　　　　数量　　　 3/1　　　　　　　　　　10003　　　　　　　　　　５０　
お世話になります。 現在、Visual Basic 6.0 にて 開発をおこなっております。 下記内容で DBからデータを取得し、スプレッドシート（GrapeCity社の製品）に データを表示させる必要があるのですが、 実現方法がよくわからず、非常に困っています。 ・スプレッドシートに取得データを表示する際、 すべての行において データがNULLの列に関しては、 その列自体を表示せず、その次の列を前につめて表示させる まず、上記を実現しようとする場合、 1. データ取得時のSQL文にて、上記内容を満たすようなデータを 取得する 2. 全レコードを取得後、Visual Basic側で構造体に格納した各列の値を 保持した変数の中身をひとつひとつNULLかどうかチェックをする の２つの方法を考えているのですが、1回で条件を満たすようなSQL文が 作成可能なのかどうかも、まだはっきりしていません。 また、上記１、２のどちらがより良い方法なのかも、よくわかりません。 （あるいは、それ以外の方法があれば、それをぜひ知りたいのですが、） どなたか、大変申し訳ないのですが、ご教授願えますか？
Oracleのテーブルを作るのに、ある列を自動で「全体の通し番号」みたいなユニーク（一意）な番号を振りたいく、 シーケンス(sequence)を作成しテーブルを作ろうとしているのですがうまくいきません。 どこがわるいのでしょうか。 create sequence "yamaaf_seq"; CREATE TABLE TBL_AFFILIATE_SESS( UNIQ_ID NUMBER(11,0) DEFAULT nextval('yamaaf_seq') NOT NULL, ORG_CODE VARCHAR2(64) NOT NULL, primary key("UNIQ_ID"));
soralisにオラクルをインストールしたサーバがあります。 コンソールから sqlplus接続　→　select文発行　→　sqlplusから抜ける といった動作を１命令でできないでしょうか？ できるらしいと聞いたのですが、調べてもイマイチ見つかりません。 これを発行した後、戻り値を調べて、 正常にデータベースに接続できたか確認するつもりなのですが・・・ 初心者なので、なるべく詳しく教えてください。 お願いします。
C#でOracleデータベースへ接続して データーベースにある全てのテーブル名を取得したいのですが、取得した一覧を変数にする方法が分かりません。 SQL文「SELECT * FROM TAB」で一覧を取得することはわかったのですが、この結果を変数に格納することができません。 何か方法をご存知のかたが居られましたらご教授願えないでしょうか？
Oracle11gでSQL文の質問 merge文を３つ以上の表を使いたいのですが mergeの実行で表Aに表B,表Cの値の挿入はできますか？ mergeは表Aと表Bの２つの表の間のやり取りだけのでしょうか？ よろしくおねがいします
Windows2000サーバにOracle8iをインストールしています。 クライアントからサーバに対して オラクルのインスタンスとリスナーが起動していることを確認したい場合、 oracle.exe と listener.exe が起動していることを確認できれば 「OK」と言えますか？ 「データベースに接続できる状態」と言えるでしょうか？ 毎日の定例作業として行う予定です。 あまりオラクルに詳しくないので、 知識のある方、ぜひ教えてください。
お世話になります。 前提として 次のようなctlファイルがあります。 OPTIONS(ROWS=500,BINDSIZE=700000) LOAD DATA INFILE '/home/oracle/TEST/00_BIN/YOSAN.csv' TRUNCATE INTO TABLE MT_YOSAN ( 日付 TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"', 店舗コード TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"', 予算 TERMINATED BY ',' NULLIF 昨年実績=BLANKS, 昨年実績 NULLIF 昨年実績=BLANKS ) ロード対象のCSVですが、次のようなROWデータになります。 "2011/02/22","01010",30000,25000 テーブル仕様は次のようになっています。 日付 　　　　　VARCHAR2(20)　NOT　NULL 店舗コード　　VARCHAR2(20)　NOT NULL 予算　　　　　 NUMBER(10) 昨年実績　　 NUMBER(10) これを実行した際に昨年実績のカラムに25000の先頭の2しかロードされません。 ログファイルを開くと他のLenは*に対して最後の昨年実績列は１が設定されていました。 この事象の原因と対処法がわかる方がいればご教示いただきたく存じます。 よろしくお願いいたします。 またsqlldr実行時は引数controlとlogのみ指定しています。
ORACLEを使用していますが、 主キーに重複があるレコードの登録は可能でしょうか？ ちなみにＤＤＬには、「ONSTRAINT インデックス名 PRIMARY KEY」の構文を記述しています。 また、登録できないとすれば、どのようにＤＤＬを修正すれば良いでしょうか？
サーバー：windows 2003server oracle10g クライアント：windows xp oracle10g 以下のsqlファイルをbatで起動し、テキストファイルを出力しています。 しかしながら、setのところにヘーダーを出力するよう宣言しているのに もかかわらず、出力されません。 どなたかおわかりになる方、いらっしゃいませんでしょうか？ set echo off set heading on set underline off set termout off set pause off set pagesize 0 set trimspool on set feedback off set termout off set linesize 1000 set lines 30000 spool hoge.txt select aaa||CHR(9)|| bbb||CHR(9)|| ccc||CHR(9)|| ddd from M_JITU; spool off EXIT
条件２つの場合updateがエラーになるのですが 下記ＳＱＬではだめなのでしょうか。 table_AのAdd=table_B.Add で table_B.name=3 の時 table_A.name=2 UPDATE table_A SET table_A.name=2 WHERE　 table_A.Add=table_B.Add AND　 table_B.name=3　->Error
下記のようなデータがあります。 col1 col2 ========== 001 AAA 001 BBB 001 CCC 002 AAA 002 CCC 003 BBB 003 CCC 004 AAA col2 にBBB を持たないレコードを抽出したいのですが どのようにSQLを記述すればよいかご教授ください。 得たい結果 002 004 どうぞよろしくお願いいたします。
ある海外製品のパッケージをインストールしています。Oracle 11gR2をWindows上で使用しています。 パッケージインストール時に、テーブル作成文の他、サンプルデータのinsertスクリプトが付属しているので実行したのですが、「SQLエラー: ORA-01843: 指定した月が無効です。」というエラーになってしまいます。カラムはDATEで定義されていて、挿入データが以下のようになっています。 TO_DATE('28-Jul-1948 12:00:00 AM', 'dd-Mon-yyyy HH:MI:SS AM') OSやOracleデータベースが英語の環境ではこのエラーは発生しなかったので、日本語環境で発生しているものと思われます（キャラクタセットはJA16SJISTILDEです）が、日本語環境にも問題なく上記サンプルデータを挿入するには、スクリプトをどのように修正するとよいでしょうか？ご存じの方、教えてください。宜しくお願いします。
テーブル１のフィールドa テーブル2のフィールドa を比較してテーブル１のフィールドaの中にテーブル2のフィールドaと中と重ならないものをだしたいのですが、ＳＱＬはどう書けばいいでしょうか。 （例題は数値ですが実際は文字列です） テーブル１ A 1 2 3 4 5 6 7 8 9 10 テーブル2 A 1 2 3 4 5 結果 6 7 8 9 10
oracle10g standard 下記のようなsqlでviewをtable化するとvarchar2のカラム長が固定で4000になります。 長さを指定することはできますか？ create table test as select * from view;
Oracle10gを使っています OracleTextの索引はレコードの挿入や更新では自動的に更新されないとのことですが、それではどのタイミングで更新するのが適当なのでしょうか？ サーバーの性能にも左右されるのでしょうが、できればレコードの挿入等の度に索引の再構築をしたいのですがパフォーマンスに問題ありでしょうか。 ちなみに、テーブルは１つ、索引をつけているカラムは６つ、それぞれ５００文字程度の日本語、１時間に10件程度のレコード挿入です。挿入のたびに BEGIN CTX_DDL.sync_index('索引名'); END; を実行します。 また、再構築が同時に発生した場合はなにが起こるのでしょうか。 分かりにくい文章で申し訳ございません。テスト環境がないため本番環境で開発しているので自分で試してみることができず困っています。よろしくお願いします。
オラクル初心者です。 １ EMからバックアアップジョブ作成でそのままバックアップを実行しようとしてもスクリプトの書式などがまちがっていることがあるのでしょうか？ジョブを作成してディクスにバックアップしようとしても失敗したのですが。 ２ rman target / @${script}の形式で実行するscriptファイルの中身は RUN {}　で囲まれた書式のスクリプトでないとエラーになるのでしょうか？ いままで backup device type disk tag '%TAG' database include current controlfile; backup device type disk tag '%TAG' archivelog all not backed up delete all input; allocate channel for maintenance type disk; delete noprompt obsolete device type disk; release channel; のようにコマンドを直書きしていたのですが。
to_dateを以下のように使用した場合、正確なdate値(2011年2月1日)を取得できるのでしょうか。 select to_date('2011/2/01','yyyy/mm/dd') from dual; 自分で検証できる環境が無い(コマンドが叩けない)ので質問させていただきました。 （できればoracle8i環境で分かると助かります。） よろしくおねがいいたします。
データベースで「ＢＥＧＩＮ」、「CREATE_FUNCTION」おかあると思いますが何ができるのでしょうか？ ＳＱＬファイルとかに記述するような感じですか？ 例えば上記のものを使ってシステム日付を取得してＳＱＬを発行して得たデータのファイル名に日付を持たすなんていうこともできますでしょうか？
oracleのsql文の取得制限でrownumがありますがrownumは何順でデータを取得するのでしょうか
商用用のLinuxでOracle RACにてOracleを負荷分散する場合最大何台サーバーを並列に繋ぐことができるのでしょうか。
オラクルSQLの初心者です。 (1)のテーブルから (2)のテーブルを作成する方法はありますか？教えて下さい。 (2)のテーブルを元に他のテーブルの色々な値を取得したいです。 (1) TEMP1 -------------------------- CODE YEAR_START YEAR_END -------------------------- 　01　　　　08　　　　　　　　11 　02　　　　08　　　　　　　　09 　03　　　　11　　　　　　　　11 (2) TEMP2 --------------------- CODE YEAR --------------------- 　01　　　08 　01　　　09 　01　　　10 　01　　　11 　02　　　08 　02　　　09 　03　　　11
Oracleで 「%1○%2○○」 というデータがあり、"%1"や"%2"に対応する値を渡して、メッセージを表示するプログラム（Javaなど）があります。 こういったデータや手法の名前を教えてください。 "%"が原因なのか、ググっても全く情報がありません。
Shellからsqlldrコマンドを実行する際に複数のロードファイル名を引数として渡したい。 しかし、コマンドラインから実行する際にデータ引数は複数指定できないと言われます。 ということは、制御ファイル内のINFILEに複数ファイル名を指定しないといけないと思うのですが、 ロードファイル名は固定ではなく、複数の場合もあれば1つの場合もあります。 詳しく説明させていただきますと、Shellで他のFTPサーバーから取得したCSVのフルパスをすべて取得しそれを制御ファイルのINFILEに渡したいのです。 なにか良い方法はありますでしょうか? ご存知の方がいればご教示いただきく存じます。 よろしくお願いいたします。
掲題のとおりですが、 どのように記述したらよいのでしょうか sqlldr　userid=scott/tigar@DB control=AAA.ctl log=BBB.log ⇒ここでエラーの有無を取得したい どなたかわかる方いればお願いします。
以下のSQLを実行した場合、レコードを1件取得して欲しいのですが、 なぜか上手く取得できません。 ご存知の方がいらっしゃいましたら、教えてください。 -- SQL1 --------------------------------------------------- select 　　MAIN.MAIN_NAME, 　　nvl(SUB1.CODE is NULL, 0) as SUB_CODE1, 　　nvl(SUB2.CODE is NULL, 0) as SUB_CODE2 from 　　MAIN_TABLE MAIN 　　　left join SUB_TABLE SUB1 on MAIN.CODE = SUB1.CODE 　　　　　　　　　　　　　　　　　　　and SUB1.ZYOUKEN = '1'　　　　(1) 　　　left join SUB_TABLE SUB2 on MAIN.CODE = SUB2.CODE 　　　　　　　　　　　　　　　　　　　and SUB2.ZYOUKEN = ''　　　　　(2) where 　　MAIN.CODE = 'XXX' ----------------------------------------------------------- 質問１． どうも、(2)の部分を空文字(?)ではなく何か値を入れると正常に1件 取得できるようなのですが、なぜ外部結合しているにもかかわらず 0件になってしまうのかが良く分かりません。 質問２． やはり条件に空文字を使用するのはよろしくないでしょうか？ ※補足 念のため、以下のSQLを実行したところ、こちらは問題なく1件取得 できているので、抽出条件は間違っていないです。 -- SQL2 --------------------------------------------------- select 　　MAIN.MAIN_NAME from 　　MAIN_TABLE MAIN where 　　MAIN.CODE = 'XXX' ----------------------------------------------------------- 以上です。宜しくお願いします。
SQL*Loaderのコントロールファイル内のパラメータ設定についてですが、 ネットで調べた結果 ロード方法をAPPENDとすると既存データがある場合は新しい行として追加とあるのですが、 これはテーブルのPKが重複していても新しく行がついかされるということでしょうか? 逆にREPLACEはPKが重複しているデータに上書きされるということでしょうか? よろしくお願いいたします。
いつもお世話になっております。 Oracle１１ｇと.NET Ｃ＃で開発をしている初心者です。 下記の様なInsertの構文を書きました。 結果、c_1にInsertするレコードが無かった場合、 out_val := 0； としたいのですが、 その書き方が分かりません。 色々試したのですが、 出来ませんでした。 本当に初歩的な質問なんだと思うのですが、 ご教授頂きたく、宜しくお願い致します。 　　　　　　記 create or replace procedure dbInsD売上予測 ( out_valoutpls_integer ) as CURSOR c_1 is select 注文NO,受注NO,売上日,品番,数量,登録日時,登録者 FROM D売上台帳 a WHERE NOT EXISTS(SELECT * FROM D売上予測 b WHERE a.受注NO = b.受注NO); begin for r_emp in c_1 loop if c_1%FOUND then INSERT INTO D売上予測 ( 注文NO,受注NO,売上日,品番,数量,登録日時,登録者 ) values( r_emp.注文NO,r_emp.受注NO,r_emp.売上日, r_emp.品番,r_emp.数量,r_emp.登録日時,r_emp.登録者 ) ; end if; end loop; out_val := sql%rowcount; end;
現在、ShellでSQL*PLUSを起動し、 テーブルをTruncateしようとしているのですが、 直接コマンドで実行すると可能なんですが、Shellで実行すると接続してすぐに切断されSQLが実行されません。 <Souce> ora_pass=TEST/TEST@DB log_pth=/home/oracle/TEST/04_log/ scrLOG=${log_pth}SHELL.log echo "S" sqlplus $ora_pass <<EOF > $scrLOG truncate table W_BSL_INV; EOF echo "E" ちなみにSelect文はｓｃrLOGに正常に出力されます。
いつもお世話になっております。 Oracle１１ｇとＣ＃.NETで開発している初心者です。 ストアドプロシージャによるテーブルからテーブルへの インサートがうまくいかず悪戦苦闘しております。 下記の様な記述をしており、コンパイルは通ったのですが、 D売上見通台帳のIDをプライマリーキーにしており、 実際.NETで動かしてみると、一意制約違反でエラーとなって しまいます。 どなたかご親切な方ご教授頂きたく、 宜しくお願い申し上げます。 　　　　　　記 create or replace procedure dbInsert台帳追加 ( out_valoutpls_integer ) as cursor cur is SELECT 注文主,受注NO,売上日,品番,品名,数量, 登録日時,登録者 FROM D売上台帳 WHERE 売上日 = TO_CHAR(sysdate,'YYYY/MM/DD') ; cur_rec cur%rowtype; begin open cur; loop fetch cur into cur_rec; exit when cur%notfound; INSERT INTO D売上見通台帳 ( ID,注文主,受注NO,売上日,品番,品名,数量, 登録日時,登録者,更新日時,更新者 ) VALUES ( seqD売上台帳ID.nextval,cur_rec.注文主,cur_rec.受注NO,cur_rec.品番,cur_rec.品名, cur_rec.数量,cur_rec.登録日時,cur_rec.登録者,cur_rec.更新日時,cur_rec.更新者 ) ; end loop; close cur; out_val := sql%rowcount; end;
仕事の関係で、テーブル定義の際にユニークインデックスをどの列の組み合わせにするのか考える必要があるのですが、今までユニークインデックスの存在自体知らず、困っています。 自分自身でネット等で調べた結果以下のことは理解できました。 　１．ユニークインデックスで指定された列は値が一意でなければならない。 　２．主キーの列にはNULL値は不可だが、ユニークインデックスの列はNULL値も可。 　３．主キーは一つのテーブルにつき、一つしか設定できないが、 　　　ユニークインデックスは複数設定できる。（同じ列は指定できない） 　４．主キー設定時、実は暗黙的にユニークインデックスとNOT NULL制約が作成されている。 ここまでは分かったのですが、主キーとは別で、明示的にユニークインデックスを指定する必要性とはなんなのでしょうか？ 主キーとは別で明示的に指定した方が良い場合と、その実例をどなたか教えて頂けないでしょうか？ よろしくお願いします。
オラクルマスターの取得を計画していますが、ゴールド、プラチナの受験の時に気になることがあります。 両資格を取得条件時には、必ずセミナー受講が必須とあります。 ただ、上司の方から聞いた話によりますとセミナー受講は必須ではなく、高い受講料金を払わなくても取得は可能であるとも聞きます。 真意のほどどうなのでしょうか？オラクルマスターの保有者の方はセミナーは受講されたのでしょうか？
内部SQLで使用している「employee」表を「emp」とし、内部SQL実行結果を「emp」としています。 この場合、大外のSQLで使用している「emp」は、「emploheeを指すemp」か、「内部SQL実行結果を指すemp」なのかわかりません。 ご教授よろしくお願いします。 select emp.name, 　 emp.year, emp.day from (select name, year, day from employee emp where ～ GROUP BY name, year, day) emp where ～ GROUP BY emp.name, emp.year, emp.da /
VIEW同士をUNIONすることは可能でしょうか? というより、実行してみたのですが、データ型が一致していない列があり出来ませんでした。 View作成時にのデータ型を設定する方法などはあるのでしょうか? 識者の方がいればご教示いただきたいです。 よろしくお願いいたします。
いつもお世話になっています マテリアライズドビューを作成しました。 抽出等は正しく動作しているのですが、Ｋｅｙ(TBLMV_TENCD,TBLMV_KAICD)に設定した項目以外は NOTNULLが”YES”になってしまっています。 以下の処理をどのように変更すればよいか、教えて頂けないでしょうか？ よろしくお願いします。 （ORACLE10を使用しています） （TBLA、TBLB、TBLC共に全項目NOTNULL＝"NO"になっております） ※ALTERで行うような気がするのですが、もしそうだとしてもどのように変更すればいいのか検討がつきません（新規にALTER文を追加するなら出来そうですが、まとめることが出来ないかと思い質問させて頂きました） CREATE MATERIALIZED VIEW TBLMV BUILD IMMEDIATE USING NO INDEX REFRESH FORCE ON DEMAND AS SELECT TBLA_TENCD AS TBLMV_TENCD , TBLA_KAICD AS TBLMV_KAICD , TBLA_KINGAKU AS TBLMV_KINGAKU, ※NOT Null="YES"→"NO"にしたい TBLA_DATE AS TBLMV_DATE ※NOT Null="YES"→"NO"にしたい FROM TBLA LEFT JOIN TBLC ON TBLA_KAICD = TBLC_KAICD WHERE ・・・・・ UNION ALL SELECT TBLB_TENCD , TBLB_KAICD , TBLB_KINGAKU, TBLB_DATE FROM TBLB LEFT JOIN TBLC ON TBLB_KAICD = TBLC_KAICD WHERE ・・・・・ ; ALTER TABLE TBLMV ADD CONSTRAINT TBLMV_P01 PRIMARY KEY ( TBLMV_TENCD, TBLMV_KAICD ) USING INDEX STORAGE ( INITIAL 1M NEXT 1M MINEXTENTS 1 MAXEXTENTS 10) ;
例えば、下記のようなデータがあるとします。 |店舗CD|　|在庫数| 　01001　　　　1　　 　10001　　　　2 このデータをCASE文で店舗CDがLIKE '0*'のときにはas店舗在庫数へ それ以外の場合にはas倉庫在庫数へ振分けを行いたいですが... 具体的には下記のようなイメージになります。 |店舗CD|　|店舗在庫数|　|倉庫在庫数| 　01001　　　　　　1　　　　　　　　0 　10001　　　　　　0　　　　　　　　2 下記が自分で記述した内容です。 SELECT CASE WHEN MAIN.店舗コード LIKE '0*' THEN MAIN.在庫数 　　　 ELSE 0 END as 店舗在庫数, CASE WHEN MAIN.店舗コード NOT LIKE '0*' THEN MAIN.在庫数 ELSE 0 END 倉庫在庫数 FROM TBL_A これで実行するとすべての在庫が倉庫在庫数へ振り分けられます。 どうすればイメージどおり抽出できるでしょうか? 識者の方がいれば是非ご教示いただきたいです。 よろしくお願いいたします。
Visual Studio2010で、 C#、Windowsアプリケーションで、 Oracleに接続したいと考えています。 ------------------------------- private void button1_Click(object sender, EventArgs e) { string constr = "User Id=scott;Password=tiger;data source=orcl"; OracleConnection con = new OracleConnection(constr); con.Open(); 　MessageBox.Show("接続に成功しました"); } ------------------------------- ■環境 ・OS・・Windows7(64bit) ・Visual Studio2010 Express Edition ・Oracle11g（お試し版） ・グローバル・データベース名：orcl ・データベース・パスワード：manager ------------------------------------- 現状、デバッグ実行すると、 con.Open(); で、「OracleExceptionはハンドルされませんでした。 ORA-12154:TNS:指定された接続識別子を解決できませんでした。」 と表示されてしまいます。 （sqlplusで、 ID・・scott PASS・・tiger で接続は出来ています。） 【サービス】 ・OracleJobSchedulerXE・・・開始（自動） ・OracleMTSRecoveryService・・・開始（自動） ・OracleServiceXE・・・開始（自動） ・OracleXEClrAgent・・・開始（自動） ・OracleXETNSListener・・・開始（自動） *********************************************** 色々と試したのですが、 解決に至りません。 ご存知の方、宜しくお願い致します。
oracle10gをインストールしましたが、 接続できません。現状は、以下のとおりです。 【インストール済み】 ・Oracle Database 10g Express Edition 【サービス】 ・OracleJobSchedulerXE・・・開始（自動） ・OracleMTSRecoveryService・・・開始（自動） ・OracleServiceXE・・・開始（自動） ・OracleXEClrAgent・・・開始（自動） ・OracleXETNSListener・・・開始（自動） ------------------------------------------- 「データベースのホームページに移動」にアクセスしたいです。 http://localhost:8080/apex (127.0.0.1にしてもダメでした。） どうすればよいでしょうか？ 以上、宜しくお願い致します。
お世話になっております。 Oracle初心者です。 下記(1)～(3)までの内容を経て(4)のSELECT文が出来る様に ＦＲＯＭ句や副問い合わせを考えていたのですが、 私にはまだ出来ませんでした。 どなたかご親切な方、ご教示頂きたく宜しくお願い致します。 　　　　　　　　　記 (1)select ID,入庫数 from 入庫台帳 group by ID,入庫数 (2)select ID,出庫数 from 出庫台帳 group by ID,出庫数 (3)現在庫数＝入庫数－出庫数 （入庫台帳のID＝出庫台帳のID） (4)SELECT ID,品番,品名,現在庫数
Oracle10gなどででRECORDLENGTH=65535 としてEXPする人は多い oracleのドキュメントによれば、RECORDLENGTHはブロックサイズの倍数であるほうが よいとされている　しかし65535はブロックサイズの倍数ではない なぜ６５５３５にするのか？
ローカルホストから、他のマスタDBにDBリンクを作成しました。 しかし、DBリンクは作成できなのにいざ参照しに行くと下記のエラーが出ます。 select * from Tablename@Linkname ORA-01017: ユーザー名/パスワードが無効です。ログオンは拒否されました。 どうしてでしょうか、他のサイトにはこれで参照できるといっていたのですが... また、違う質問になりますがこれで参照しにいけるなら なんでSnapshotやマテリアライズドビューなどが存在しているのでしょうか？ 初歩的な質問ですみませんがどなたか教えてください。
Linux（RedHat)データベース（oracle10g）から同じバージョンの新規データベースにDataPumpを使用して移行する方法について教えてください。 移行元のデータベース上にてDatapumpを使用する場合、ディレクトリを作成する必要がありますが、 (1)このディレクトリは移行元のデータベース上に作成するものでしょうか。 (2)それとも、新規データベース先にディレクトリを作成し、dmpファイルの吐き出し先を新規データベース指定するものでしょうか。（ファイルのパラメーターで、別データベースを指定できる？？） (1)の場合、新規データベース上で別途ディレクトリを作成し、移行元のディレクトリに吐き出したdmpファイルをコピーやftp等で、新規データベースに移動させるのでしょうか？ (2)の場合、exportのパラメータでどのように別データベースを指定すればよいでしょうか？ dumpfile=directory_object:【新規DB IPアドレス？？】test.dmp
SQL*LoaderでCSVデータをロードする時に以下のようなデータの場合 "2010年","A/W","01","TOP","02","KNIT","007","長袖","00","無地","01:TOP","無地",,1,689,0,0,0,0,"P","WALK IN",689 Number型(10,2)の列に最後の数値(689)が入りません。 おそらく、終端記号がないのでデータを認識できないと思うのですが、 どうにかしてロードする方法はありますか？
Ｃ＃でＳＱＬ（オラクル）に接続しています。 このinsert文を実行すると「ORA-00984: ここでは列は使用できません。」がでます。 実行した文はこれです↓ "insert into kanri2 values('aaa'," + dateTimePicker1.Text + "," + checkedListBox1.CheckedItems +","+ checkedListBox6.CheckedItems +")"; よろしくお願いします
いつもお世話になっております。 以下のような処理を実現したいのですが、どうしてもいい方法が見つかりません。 実現するINSERT文を教えて頂けないでしょうか？ よろしくお願いいたします ー処理ー TBL_Aを１レコードづつ読み込み、グループ情報のあるVIEWよりview_GRPCD取得し、TBL_Bへ出力する。 但し、グループ情報には、以下のように同一TENCDに対して複数のグループがヒットする為、日付の降順、 グループコードの降順で一番最初にヒットしたレコードのGRPCDを採用する。 【TBL_A】 │TENCD │SYOCD │URIAGE│ ┼───┼───┼───┼ │10100 │ 0100 │1,000 │ │10200 │ 0100 │2,000 │ │10300 │ 0300 │3,000 │ │22200 │ 0200 │2,200 │ 【View】 │NO│GRPCD │TENCD │ YMD │ ┼─┼───┼───┼───┼ │01│ 010 │10100 │02/01 │ │02│ 010 │10200 │02/01 │ │03│ 010 │10300 │02/01 │ │04│ 020 │10200 │01/01 │ │05│ 030 │10100 │05/01 │→TENCD:10100はこれを採用 │06│ 030 │10300 │03/01 │→TENCD:10300はこれを採用 │07│ 040 │10100 │03/01 │ │08│ 040 │10200 │03/01 │→TENCD:10200はこれを採用 │09│ 040 │10300 │03/01 │ │10│ 050 │10400 │05/01 │ 下記のほうに記載しているＳＱＬで作成されるTBL_Bは以下のようになります 【TBL_B】(誤り) │TENCD │GRPCD │SYOCD │URIAGE│ ┼───┼───┼───┼───┼ │10100 │ 030 │ 0100 │1,000 │ │10200 │ 040 │ 0100 │2,000 │ │10300 │ 030 │ 0300 │3,000 │ 本来TBL_Bは以下のようにView上に存在しないTBL_Aのレコードでも出力させたく 以下のような結果を求めたいと思っています。 【TBL_B】(正解) │TENCD │GRPCD │SYOCD │URIAGE│ ┼───┼───┼───┼───┼ │10100 │ 030 │ 0100 │1,000 │ │10200 │ 010 │ 0100 │2,000 │ │10300 │ 010 │ 0300 │3,000 │ │22200 │ 000 │ 0200 │2,200 │※※※このレコードを作成することが出来ません※※※ ※SQLにある「NVL(View_GRPCD,0)」でVIEW上にないレコードの場合、GRPCDにゼロをセットして 　出力できるかと思ったのですが、VIEW上にないレコードは作成されませんでした。 　これを実現する方法を教えて頂きたいと思います。 ■TBL_B(誤り)は作成できるＳＱＬ CURSOR CUR_A IS SELECT TENCD,SYOCD,SUM(URIAGE) FROM TBL_A GROUP BY TENCD,SYOCD ORDER BY TENCD,SYOCD; BEGIN OPEN CUR_A; LOOP FETCH CUR_1 INTO w_TENCD, w_SYOCD, w_URI; EXIT WHEN CUR_A%NOTFOUND; INSERT INTO TBL_B( SELECT w_TENCD, NVL(View_GRPCD,0), w_SYOCD, w_URI FROM (SELECT View_TENCD,View_WRICD,View_GRPCD, RANK()　OVER(PARTITION BY View_TENCD ORDER BY View_YMD DESC, View_GRPCD DESC) w_RANK FROM View WHERE View_TENCD = w_TENCD) WHERE w_RANK = 1); END LOOP; CLOSE CUR_A;
Oracle10gを使用。 EXPコマンドを高速するためにDIRECT=Y RECORDLENGTH=65535 を指定していますが このオプションをつけることで何か弊害は発生しますか？ 弊害がない場合は、なぜデフォルトで上記オプションが指定されていないのか教えてください。
現在、C#とoracle10gを使ってデータベースに接続しようとしておりますが、ora-01017エラーがでます。 SQLコマンドラインで接続は出来るのですが、C#側からのログインができません。 C#ではこのように書いております。 public Meal() { InitializeComponent(); this.m_oDbconn = new OleDbConnection(); } private void Meal_Load(object sender, EventArgs e) { this.m_oDbconn.ConnectionString = "Provider=OraOLEDB.Oracle;" + "Data Sorce=xe;" + "User Id =aaa;" +"Password = aaa;"; this.m_oDbconn.Open(); } よろしくお願いします。
以前質問した内容と似ているのですが、 ロード元のCSV内に小数点2位までの数字が入った項目あるのですが これをNUMBER(10)のテーブルにロードするとエラーが出ます。 なので制御ファイル内のロード先列指定部分で 金額　"trunc(:金額,0)" で小数点を切り捨てようとしたところ数値が無効エラーがでます。 うまいこと小数点を省いてロードするためにはどうしたらいいですか?
",2010/11/27 16:25," このような形式の日付データをsqlldrでテーブルにインポートする際に 制御ファイル内の項目設定部分で 売上日付 "to_char(:売上日付,'YYYY/MM/DD')", とすると数値のエラーが出ます。 テーブル側の当該項目のデータ型はVARCHAR2です。 ちなみに 売上日付 "substr(:売上日付,1,10)", にすると問題なくロードできました。 が、2010/12/3のような形で丸められるため都合が悪いです。 YYYY/MM/DDでロードするにはどうしたらいいでしょうか?
いつもお世話になっています。 UPDATEの書き方について教えて下さい。 以下のようなUPDATE文を作成しました。 処理的には必要な結果を返してくれていますが、もう少しシンプルには ならないでしょうか？ UPDATE文がまだ理解出来ていないのですが、”WHERE EXISTS(”以降に 書いているＳＥＬＥＣＴ文は、ＳＥＴ文の値算出時にも同じＳＥＬＥＣＴ文を書いて いるのですが、それを代用することは出来ないのでしょうか？ （SELECTの結果をWHERE文の中で簡単に呼び出して使えないのでしょうか？） ※うまく内容が伝わってないかもしれませんが、どうぞよろしくお願いします。 ＜＜＜更新処理＞＞＞ UPDATE TBL01 SET( TBL01_MARNO, TBL01_UPDYMD )=( SELECT TBL02_MARNO, TO_NUMBER(TO_CHAR(SYSDATE,'YYYYMMDD')) FROM (SELECT TBL02_TENCD, TBL02_REN, TBL02_MARNO, TBL02_UPDKBN, RANK () OVER (PARTITION BY TBL02_TENCD, TBL02_REN ORDER BY TBL02_YMD DESC, TBL02_DAT DESC ) WRK_RANK FROM TBL02 WHERE TBL02_OKFLG = 1 ) WHERE TBL02_TENCD = TBL01_TENCD AND TBL02_REN = TBL01_REN AND WRK_RANK = 1 AND TBL02_UPDKBN = 2 ) WHERE EXISTS( SELECT 'TRUE' FROM (SELECT TBL02_TENCD, TBL02_REN, TBL02_MARNO, TBL02_UPDKBN, RANK () OVER (PARTITION BY TBL02_TENCD, TBL02_REN ORDER BY TBL02_YMD DESC, TBL02_DAT DESC ) WRK_RANK FROM TBL02 WHERE TBL02_OKFLG = 1 ) WHERE TBL02_TENCD = TBL01_TENCD AND TBL02_REN = TBL01_REN AND TBL02_UPDKBN = 2 AND WRK_RANK = 1 );
現在、oracleの学習を始めようと思い、 「oracle database 11g release1(11.1.0) for windows(30日間トライアル版）」を インストールしました。 これで、準備OKなのかとおもいましたが、 ひとつ疑問がありまして、 「oracle client」というものがあるようですが、 私がインストールしたものと何が違うのでしょうか？ 「oracle client」とはどういった時に必要ですか？ 同じくお試し版のようなものはありますでしょうか？ 又、CSEを入れるといいよと聞いた事がありまして、 ダウンロードしようと思いましたが、 windows7に対応していないようでした。 window7で利用できるもので、CSEに似たような ものはありますでしょうか？ 以上、宜しくお願いします。
oracle sql developerを現場でインストールしました。 現場ではネットは全くつながっておりません。 postgreSQL2005は使用したことがあるのですが、 oracle sql developerは今まで全く使用したことが無く「インストールしてテスト台帳につなげてDB内容確認して」とか言われても正直困っております。 既存で作成されている「テスト台帳」にどうやって接続をすればいいのでしょうか？ 設定方法やコネクトの手順がわかる方いましたらアドバイスをいただけないでしょうか？ 現段階ではoracle sql developerをインストールしただけです。
DBからCSVにしてデータを取り出そうと、ネットで検索して みようみまねでやってみました。（下記の場合カンマ区切りですが） タブ区切りで整列したデータを抽出したいのですが、特に、 (4)のように隣合う項目の間がかなり離れていて見えにくい状態で CSVファイルが作成されてしまいます。 (1)のように整列した形で、タブ区切りのCSVデータを抽出するには、 どのようにしたら宜しいのでしょうか？ (2)、(3)は、試してみた実行ファイルです。 環境は、oracle10g windowsXPです。 (1)目的の結果の表示------------------------------- 653-5689　ZM05　田中太郎　YOKOHAMAS　4　4　　9　097005・・・・・ 以下試してみたbatファイルとsqlで抽出 (2)batファイル---------------------------------- sqlplus ABCD/ABCD@oracle.host1.ser @abc.sql (3)sqlファイル----------------------------------- set echo off set heading off set termout off set pause off set pagesize 0 set trimspool on set feedback off set colsep "," set term off spool hoge.txt select * from T_JUTYU; spool off exit (4)結果--------------------------------- 653-5689 ,ZM05 田中太郎 ,YOKOHAMASI 4, 4, , ,9 ,097005 , 1 ,18 , , , , , 0 ,asahi asahi ,08-12-23,08-12-23, ------------------------------------------------まで結果
について教えて下さい。 ・サインインして、 ・同意し、 ・Oracle Database 10g Release 2 (10.2.0.1) Express Edition for Microsoft Windows ・Oracle Database 10g Express Client 「OracleXEClient.exe」をクリックし保存。 ダウンロードした、ファイルをクリックしたのですが、 （アイコンは、真っ白いファイル） 「ファイルを開くプログラムの選択」ダイアログが出てしまいます。 どうすれば良いのか、教えて頂きたいです。 宜しくお願いします。
自宅のPCに、oracleから諸々、ダウンロードしたいと考えています。 まず、 「今すぐオラクルのアカウントを作成 」をクリックし、 「MyProfileユーザーの作成 」を行ったのですが、 登録できませんでした。 行った内容は以下の通りです。 アカウントを作成時、 「ユーザー名」・・・・・・・gmailのメールアドレスを入力 「パスワード」・・・・・・・・上記、gmailのパスワード 氏名や、住所など必須項目は、 任意の値を入力して、作成ボタンをクリック。 「　「Password」フィールドの検証エラーを解決してください。　」 が表示されました。 どうすれば良いのか、お教えいただきたいです。 宜しくお願い致します。
いつもお世話になっています。 以下の処理を実現するＵＰＤＡＴＥ文を教えて頂きたく、質問にあげさせて頂きました。 ※現在、処理を「実績登録用ＵＰＤＡＴＥ」と「予定登録用ＵＰＤＡＴＥ」のそれぞれ作成すれば 　いけそうなのですが、１つのＵＰＤＡＴＥ文では実現出来ないでしょうか？ 　・・・実績登録用は作成したので、最後に付けています 以上、よろしくお願いします。 【処理】 トランより店マスタの更新を行う。 ・トランの区分が”１"の場合は、店マスタの実績欄へトランの日付情報をセットする。 　※店マスタの実績日は過去３日分を累積している為、　実績２を実績３へ、実績１を実績２へ 　　移してから、トランの日付を実績１欄にセットする 　※区分”１”のレコードは、店コード毎に１件しか存在しない ・トランの区分が”２"の場合は、店マスタの予定欄へトランの日付情報をセットする。 　※店マスタの予定日は、当処理が実行される時点では既にクリアされており、毎回トランに存在する 　　直近３日分を予定欄へセットする 　※区分”２”のレコードは、店コード毎に複数件存在する） 例） トラン（キー：店ＣＤ・日付） 　店ＣＤ　日　付　区分　 ┼───┼───┼──┼ │ 0001 │01/10 │ 1 │→マスタの実績１に登録されます │ 0001 │01/15 │ 2 │ │ 0002 │01/20 │ 2 │→マスタの予定１に登録されます │ 0002 │01/30 │ 2 │→マスタの予定２に登録されます │ 0003 │01/10 │ 1 │→マスタの実績１に登録されます │ 0005 │01/10 │ 1 │→マスタの実績１に登録されます │ 0005 │01/20 │ 2 │→マスタの予定１に登録されます │ 0005 │01/30 │ 2 │→マスタの予定２に登録されます │ 0005 │02/10 │ 2 │→マスタの予定３に登録されます │ 0005 │02/20 │ 2 │→マスタにはMAX３件までしか登録出来ないのでスキップ │ 0005 │03/01 │ 2 │→マスタにはMAX３件までしか登録出来ないのでスキップ マスタ（キー：店ＣＤ） 　店ＣＤ│実績１　実績２　実績３│予定１　予定２　予定３│ ┼───┼───┼───┼───┼───┼───┼───┼ │ 0001 │01/05 │12/30 │12/25 │ │ │ │ │ 0002 │12/30 │12/15 │11/30 │ │ │ │ │ 0003 │01/01 │12/20 │12/10 │ │ │ │ │ 0004 │01/07 │01/06 │01/05 │　　　│ │ │ │ 0005 │01/01 │12/20 │12/10 │ │ │ │ 【希望する結果】 　店ＣＤ│実績１　実績２　実績３│予定１　予定２　予定３│ ┼───┼───┼───┼───┼───┼───┼───┼ │ 0001 │01/10 │01/05 │12/30 │01/15 │ │ │ │ 0002 │12/30 │12/15 │11/30 │01/20 │01/30 │ │ │ 0003 │01/10 │01/01 │12/20 │01/07 │ │ │ │ 0004 │01/07 │01/06 │01/05 │　　　│ │ │ │ 0005 │01/10 │01/01 │12/20 │01/20 │01/30 │02/10 │ ■実績更新用ＵＰＤＡＴＥ UPDATE マスタ SET ( 実績１,実績２,実績３ )=( SELECT 日付,MAX(TRN.実績１),MAX(TRN.実績２),MAX(TRN.実績３) FROM マスタ LEFT JOIN トラン TRN ON 店ＣＤ = 店ＣＤ WHERE 区分 = 1 GROUP BY トラン.店ＣＤ, トラン日付) WHERE EXISTS( SELECT 'TRUE' FROM マスタ WHERE マスタ.店ＣＤ = トラン.店ＣＤ AND マスタ.日付　 = トラン.日付 AND トラン.店ＣＤ = 1 );
いつもお世話になっております。 ビューについて、教えて下さい。 以下のビュー「ＡＢＶＷ」を作成しましたが、ＴＢＬＡやＴＢＬＢの内容が変更された場合、 ビュー上のデータは自動で置き換わるのでしょうか？ CREATE　VIEW ＡＢＶＷ 　SELECT * FROM ＴＢＬＡ UNION ALL SELECT * FROM TBLB 以上、よろしくお願いします。 ※いろいろなサイトではマテビューはリフレッシュ機能のようなものがあると書かれており、 　マテビューを作成しようとしたのですが、ＴＢＬＡ／ＴＢＬＢは”キーなし”が原因なのかは 　わからないのですが、うまく作成できず、普通のビューで行うことにしました。
首記の件、大変困っており、ワラをもつかむ気持ちで質問させていただきました。 Windows2008R2、IIS7（32ビットアプリケーション有効）、FastCGI 上記の環境にPHP（5.3.3）をインストールして使用しております。 PHP.iniを変更し、MySQLやODBCを使用できるようにいたしました。 phpinfoにも表示されておりますし、実際にDBとの接続もできております。 そしてこの度、OCIを利用するため、php.iniから、oci関連のコメントアウトを外しました。 [PHP_OCI8] extension=php_oci8.dll [PHP_OCI8_11G] extension=php_oci8_11g.dll [PHP_PDO_OCI] extension=php_pdo_oci.dll しかし、再起動後もphpinfoには表示されておりません。 OCI関連のパラメータはまだいじっておりませんが、まずは上記コメントアウトした内容が phpinfoに反映されてからと思っております。 この現象について、解決方法をご存知の方がいらっしゃいましたら、ご教示いただきたく。 どうぞよろしくお願いいたします。
お世話になります。 ＳＱＬ初心者です。 ストアドを作成しているのですが、その中の下記の様なインサート分で、 条件を、インサートされる側の売上台帳テーブルにT受信データの受注Ｎｏが ない行のみをインサートさせたいと思っているのですが、どうやって記述 して良いかわからず悩んでいます。 どなたかご親切な方、ご教授下さいます様、宜しくお願い致します。 　　 　　　　　　　　　記 insert into 売上台帳 (支店コード,受注No,伝票No,品番,品名,数量,オーダー宛先,売上日, 住所,電話番号,更新日時,更新者) select支店コード,受注No,伝票No,品番,品名,数量,オーダー宛先,売上日, 住所,電話番号,更新日時,更新者 from T受信データ where 支店コード = 002 ;
64bitOSのwindows7 home editionのパソコンを購入してoracleの express editionで勉強をしようと考えているのですが動作環境について質問 があります。 oracle 10g express editionのサーバー/クライアントの動作環境について自分なり に調べた結果下記のページが検索されました。 http://download.oracle.com/docs/cd/B25329_01/doc … このページを見ると 32-bitのOSしか対応していないのでしょうか。 oracleは64-bitも対応したとどこかのホームページで見た覚えがあるのですが不確かです ホームページに Windows XP Professional Service Pack 1 or laterと書いてあるので windows7　home editionでも動作するでしょうか　professionalじゃないと動作しないでしょうか もしwindows7　home edtionが対応していない場合でもhome edtionの環境でも問題なく動作しますよ という経験がある方はおしえてください。 また、昔ですがoracle9iの体験版をサポートしていないＯＳ　xp home edtionで動作したとい事が以前ありましたので 質問をまとめます（クライントＰＣとサーバＰＣに） １．64bit-osは対応していますか ２．windows7 home edtionは対応していますか ３．もし1、２が製品サポート対象外であった場合でも1,2の環境で動作したよという体験段、経験が 　　あれば教えて下さい。サポートしてないけど動作するからパソコン買ったらというアドバイス等
初めて質問します。 下記のようなデータが存在します。 テーブルA NO DATE GYO 1 2010/12/01 1 1 2010/12/01 2 2 2010/12/01 1 2 2010/12/01 2 2 2010/12/01 3 3 2010/12/02 1　<= 4 2010/12/03 1 4 2010/12/03 2 上記データにて、<=の行の値を取得し変数へ代入したとします。 変数.NO =3 変数.日付 =2010/12/02 変数.GYO =1 上記、変数を元に１件前のレコードを抽出したいのですが SQL文でのいい方法がわかりません。 取得したいレコード 1 2010/12/01 1 1 2010/12/01 2 2 2010/12/01 1 2 2010/12/01 2 2 2010/12/01 3 どうかお願いいたします。
現在、夜間バッチで海外FTPサーバーからCSVファイルをDWHサーバーに格納後、 同DWHサーバー内のOracleテーブルにInsertするという処理の開発をしているのですが、 CSVの取得はDOSバッチとTeratermのマクロで取得しようと思っています。 しかし、CSVファイルのInsert処理はPL/SQLで開発を行おうと考えています。 それは、Insert後にそのテーブルと別サーバーのOracleテーブルを使用してデータの加工を行い、 その結果をDWHテーブルにロードしなければいけないからです。 ちなみに、今まではVBしか触ったことしかなくPL/SQLやバッチの作成はは初めてです。 そこで質問なのですが、PL/SQLで他のサーバーのテーブルとリレーションは出来るのでしょうか? (VBAでは1つのサーバーにしか同時接続できなかったため) またその場合のフローチャートのイメージが出来ないのですが、箇条書き程度で結構ですので教えていただけないでしょうか?(どこでストアドプロシージャに処理が移行するのかなど....) 長い文章でわかりにくいと思いますが、識者の方がいれば教えていただければ幸いです。
データベースはOracle10gです。 あるテーブルAにレコードが登録されたタイミングで、 別のテーブルBにレコードを登録するトリガを作成しようとしています。 トリガ内に全ての処理を記述するとかなりの行数になりそうなので、 登録のプロシージャを作成し、トリガからコールしようと考えています。 Aに登録されたレコードのカラムの一部を、Bに登録するレコードでも使用したいのですが、 プロシージャに引数として渡す際、 使用したいカラムを一つずつ指定しなければならないのでしょうか？ (使用したいカラムは10ほどあります。) トリガに 「REFERENCING NEW ROW R1」と記述して、 このR1を渡すことはできないのでしょうか？
いままではソフト系の開発を行っていたのですが、 今度、DBまわりの業務を行うことになりテーブル設計書を作成しております。 初めてなので、社内のテーブル定義書を参照しながら作成していると 番号、列名、列ID、データ型、桁数、NULL、PKの次から【IX1】...【IX10】という項目が並んでおり Googleで調べましたがインターネットエクスチェンジの略などの基本情報は載っていましたが、 実際にテーブル設計に関係のある項目かどうかは具体的に理解することは出来ませんでした。 識者の方がいれば、テーブル設計書においてこの項目の意図することはなにかを教えていただきたいです。 以上、よろしくお願いします。
下記のような状況では　どのようにSQL文を書けばよいのか教えてください。 例） テーブルA 氏名ID　住所 12345　東京都XXX区XXXX町1-1-1 12346　埼玉県XXX市XXXX町1-2-1 ・・・ テーブルB 住所（詳細に記載されているものもあれば、都道府県レベルのものもある） 東京都XXX区XXXX町 東京都▲▲区○○ 北海道 埼玉県◆◆市 ・・・ テーブルBに書いていある住所で始まる　全ての氏名IDを　テーブルAから取り出したい。
お世話になります。 AテーブルとBテーブルを比較し、Aテーブルにしかないデータ一覧を表示するSQL文を作成しました。 SELECT * FROM Aテーブル WHERE NOT EXISTS(SELECT * FROM Bテーブル WHERE CODE=Aテーブル.CODE AND NAME=Bテーブル.NAME) 下記の場合はどのように記述すればいいのでしょうか？ 検索結果はAテーブルに存在しているが、BテーブルまたはCテーブルには存在していないデータ。 以上よろしくお願いいたします。
現在、WindowsXP環境で、オラクル11g　R2を勉強中です。SQL*Plus でSELECT文を1つ実行し、その後、SAVEコマンドを使ってバッファをファイルに保存しました。ファイルの中身は、メモ帳で開くと、以下のような感じです。 SELECT no FROM student / バッファをクリアして、このファイルをGETコマンドでバッファに読み込み、RUNコマンドで正常に実行できました。 今度は、違うSELECT文を実行します。次に、「SAVE ファイル名 APPEND」で、実行したバッファの内容を、先ほどのファイルに追加しました。ファイルの中身は、メモ帳で開くと、以下のような感じです。 SELECT no FROM student / SELECT no,name FROM student / ところが、バッファをクリアして、上記のファイルをGETコマンドで読み込み、RUNコマンドで実行すると以下のようなエラーになります。 SQL> run 1 SELECT no FROM student 2 / 3* SELECT no,name FROM student / * 行2でエラーが発生しました。: ORA-00933: SQLコマンドが正しく終了されていません。 APPENDで追加する前のSQL文では、問題なかったので、APPENDしたことで、最初のSQL文の終端がおかしくなったようです。気になるのは、SQL文の次の行に挿入されている　/　です。なぜ、このような文字が勝手に挿入されるのでしょうか？これは、Windows 環境が原因でしょうか？それとも、SAVE APPENDのバグでしょうか？ 初歩的な質問で恥ずかしいのですが、原因や対策方法がおわかりの方がいらっしゃいましたら、教えていただけないでしょうか。
Oracleのバージョンは８、自分のＰＣには Oracle８Client（Application User） がインストールされています。 見よう見まねで制御ファイルを記述し、バッチファイルを作成したところ、 （　sqlldr USERNAME/PASSWORD@SID control= test.ctl　） コマンドプロンプトには以下のように表示されました。 「C:\SQL>sqlldr USERNAME/PASSWORD@SID control = test.ctl 'sqlldr'　は、内部コマンドまたは外部コマンド、 操作可能なプログラムまたはバッチファイルとして認識されていません。」 実行できない原因はどこにあるか教えてください。 １．そもそもSQL Loaderを利用できる環境になっていない （そのままでは使えなくて何かしら設定が必要とか） ２．コマンドがまちがっている （test.ctlのパスを記述しないとだめとか、SIDは要らないだとか） ３．制御ファイルがまちがっている どの可能性が一番高いでしょうか？
Oracle9iです。テストデータを作成したいです。 カラムが200くらいあるテーブルに対して、既に登録済みの1レコードの主キーだけ変更したものを10万件登録したいのですが、何かいい方法はないでしょうか？
クライアント側　oracle_Client10.2.3 windows2003 サーバ側　oracle11g(64bit)Windows7(64bit) で接続したいのですが、tnsnameのhostをサーバ側のＩＰに変更しました。 tnspingでTNS_12542のエラーがでます。 リスナーの登録ができていないと思います。 仕方をおしてください。
いつもお世話になっています。 以下の処理を実現するＵＰＤＡＴＥの記述を教えて頂けないでしょうか？ よろしくお願い致します。 （ＯＲＡＣＬＥ９ｉ、ＰＬ/ＳＱＬを想定しています） 【店舗Ｔ】に、【売上Ｔ】の売上区分が”2”のレコードを対象に、予定日が指定日より近い順に 最大５日分設定する。 ※対象となる【売上Ｔ】のレコードは、予定日が指定日以降のみ対象とする ※【売上Ｔ】は各店舗毎に、０件から数十件まで存在する。 ※【店舗Ｔ】の売上履歴は毎回クリアし、売上Ｔより求める 【店舗Ｔ】 │　　│　　　売　上　予　定　情　報　　　　　│ │店舗│直近１│直近２│直近３│直近４│直近５│ ┼──┼───┼───┼───┼───┼───┼ │Ａ店│　　　│　　　│　　　│　　　│　　　│ │Ｂ店│　　　│　　　│　　　│　　　│　　　│ │Ｃ店│　　　│　　　│　　　│　　　│　　　│ │Ｄ店│　　　│　　　│　　　│　　　│　　　│ 【売上Ｔ】 │店舗│予定日│売上区分│ ┼──┼───┼────┼ │Ａ店│12/10 │　2 │○対象 │Ａ店│12/20 │　2 │○対象 │Ａ店│12/30 │　1 │※売上区分が”1”の為、対象外 │Ａ店│12/31 │　2 │○対象 │　　│　　　│　　　　│ │Ｃ店│12/01 │　2 │※指定日(12/10)より前の為、対象外 │Ｃ店│12/05 │　2 │※指定日(12/10)より前の為、対象外 │Ｃ店│12/11 │　2 │○対象 │Ｃ店│12/11 │　1 │※売上区分が”1”の為、対象外 │Ｃ店│12/15 │　2 │○対象 │Ｃ店│12/21 │　2 │○対象 │Ｃ店│12/25 │　2 │○対象 │Ｃ店│12/30 │　2 │○対象 │Ｃ店│12/31 │　2 │※５件を超えた為、対象外 │　　│　　　│　　　　│ │Ｄ店│12/15 │　1 │※売上区分が”1”の為、対象外 │Ｄ店│12/18 │　1 │※売上区分が”1”の為、対象外 ---12月11日の結果--- 【店舗Ｔ】 │　　│　　　売　上　予　定　情　報　　　　　│ │店舗│直近１│直近２│直近３│直近４│直近５│ ┼──┼───┼───┼───┼───┼───┼ │Ａ店│12/20 │12/31 │ │　　　│　　　│ │Ｂ店│　　　│　　　│　　　│　　　│　　　│ │Ｃ店│12/11 │12/15 │12/21 │12/25 │12/30 │ │Ｄ店│　　　│　　　│　　　│　　　│　　　│
いつもお世話になります。 ORACLE9i・PL/SQL上で複雑！？なUPDATE&INSERTがあり、それぞれを別々に 処理することにはしました。 ただ、UPDATE、INSERTをそれぞれ一回で完了させるＳＱＬが掛けません （私には複雑すぎるので・・） どなたか以下の処理を実現する、ＵＰＤＡＴＥ文、ＩＮＳＥＲＴ分を教えて頂けないでしょうか？ 例） 店舗別の【予算Ｔ】があります。 ・予算額欄が、ゼロの場合、ＵＰＤＡＴＥを行う 　(1)【店舗Ｍ】の「業種区分」を求める 　(2)「業務区分」より、【業務分類】の「予算Ｇ」を求める 　(3)「予算Ｇ」より【グループ別予算】の予算額を求める 　(4)求めた予算額で、【予算Ｔ】の「予算額」を更新する。 ・【予算Ｔ】に存在しない店舗の予算レコードのＩＮＳＥＲＴを行う 　(1)【予算Ｔ】に存在しない店舗の「業種区分」を【店舗Ｍ】より求める 　(2)「業種区分」より【業務分類】の「予算Ｇ」を求める 　(3)「予算Ｇ」より【グループ別予算】の予算額を求める 　(4)求めた予算額、店舗の情報を【予算Ｔ】にレコード登録する。 【予算Ｔ】 │店舗│予算額│ ┼──┼───┼ │Ａ店│ 5000 │ │Ｃ店│ 0000 │ │Ｄ店│ 3500 │ 【店舗Ｍ】 │店舗│コード│業務区分│ ┼──┼───┼────┼ │Ａ店│00001 │001 　　│ │Ｂ店│00002 │001 　　│ │Ｃ店│00003 │003　　 │ │Ｄ店│00004 │003 　　│ │Ｆ店│00030 │002 　　│ 【業務分類】 │業務区分│予算Ｇ│ ┼────┼───┼ │ 001 　│　A │ │ 002 　│　A │ │ 003 　│　B │ │ 004 　│　C │ 【グループ別予算】 │予算Ｇ│予算額│ ┼───┼───┼ │ A │10000 │ │ B │05000 │ │ C │05000 │ │ D │03000 │ ーー結果ーー ・ＵＰＤＡＴＥ 【予算Ｔ】 │店舗│予算　│ ┼──┼───┼ │Ａ店│ 5000 │ │Ｃ店│ 5000 │ │Ｄ店│ 3500 │ ・ＩＮＳＥＲＴ後（最終結果） 【予算Ｔ】 │店舗│予算　│ ┼──┼───┼ │Ａ店│ 5000 │ │Ｂ店│10000 │ │Ｃ店│ 5000 │ │Ｄ店│ 3500 │ │Ｆ店│10000 │
以下のテーブル テーブル名：ｔ１(num1,kingaku) ,t2(num1,kingaku2) ここでt1.num1(1,2,3) ,t2.num1(3,4,5) とあった場合num1をキーとしてnum1(1,2,3,4,5)となるようなテーブルを作成したいのですが、 どのようなsqlでできるでしょうか？ dbはoracle,posgre,mysqlなどでお願いします。
お世話になります。 ”SELECT Ａテーブル.* Ｂテーブル.* 　FROM Ａテーブル LEFT JOIN Ｂテーブル ON Ａテーブル.KEY = Ｂテーブル.KEY”を 行った場合、Ａテーブルにしか存在しないデータのＢテーブル側の値は常にNULLに なるようなのですが、この場合ゼロを固定に設定することは出来ないでしょうか？ よろしくお願いします。 ※ＯＲＡＣＬＥ ９ｉ、ＰＬ／ＳＱＬ上での処理を考えています
Oracle XEとC#4とでは、0001/1/1からの日数に少し差があるみたいなんです。何ででしょうか？ Oracle > select '0101' n, date '0101-01-01' - date '0001-01-01' m from dual > union all select '0201' n, date '0201-01-01' - date '0001-01-01' m from dual > ～ > union all select '2001' n, date '2001-01-01' - date '0001-01-01' m from dual > union all select '2010' n, date '2010-01-01' - date '0001-01-01' m from dual C# > static void Main(string[] args) { > 　　DateTime z = new DateTime(0, DateTimeKind.Utc); > 　　foreach (int i in new int[] { 101, 201, 301, 401, 501, 601, 701, 801, 901, 1001, > 　　　　1101, 1201, 1301, 1401, 1501, 1601, 1701, 1801, 1901, 1970, 2001, 2010, }) { > 　　　　TimeSpan s = new DateTime(i, 01, 01, 0, 0, 0, DateTimeKind.Utc) - z; > 　　　　Console.WriteLine("{0:0000}{1, 10}", i, s.TotalDays); > 　　} > 　　Console.ReadLine(); > } | | C# | Oracle | 差 | | 0101/01/01 | 36,524 | 36,525 | -1 | | 0201/01/01 | 73,048 | 73,050 | -2 | | 0301/01/01 | 109,572 | 109,575 | -3 | | 0401/01/01 | 146,097 | 146,100 | -3 | | 0501/01/01 | 182,621 | 182,625 | -4 | | 0601/01/01 | 219,145 | 219,150 | -5 | | 0701/01/01 | 255,669 | 255,675 | -6 | | 0801/01/01 | 292,194 | 292,200 | -6 | | 0901/01/01 | 328,718 | 328,725 | -7 | | 1001/01/01 | 365,242 | 365,250 | -8 | | 1101/01/01 | 401,766 | 401,775 | -9 | | 1201/01/01 | 438,291 | 438,300 | -9 | | 1301/01/01 | 474,815 | 474,825 | -10 | | 1401/01/01 | 511,339 | 511,350 | -11 | | 1501/01/01 | 547,863 | 547,875 | -12 | | 1601/01/01 | 584,388 | 584,390 | -2 | | 1701/01/01 | 620,912 | 620,914 | -2 | | 1801/01/01 | 657,436 | 657,438 | -2 | | 1901/01/01 | 693,960 | 693,962 | -2 | | 1970/01/01 | 719,162 | 719,164 | -2 | | 2001/01/01 | 730,485 | 730,487 | -2 | | 2010/01/01 | 733,772 | 733,774 | -2 | もしかして、どこか間違ってますか？
Oracle11g初心者です。 Windows7でバックアップの際にエクスポートコマンドを実行した場合に、空のテーブル（行数が0行）のテーブルが出力されない現象をどうにかして直したいと思っています。 どうか、ご指導、ご鞭撻のほどをよろしくお願いします。
教えて下さい。 ＡとＢというテーブルが存在し、それぞれ Ａテーブル 社員番号、金額 Ｂテーブル 社員番号、部署コード という項目となっています。 ※　かなり簡単なテーブルに省略してありますが、、、、 上記のＢテーブルの部署コード毎にＡテーブルの金額を集計したいと考えていますが、 そのようなＳＱＬはどのように書くのでしょうか。。。 単純にｆｒｏｍ句で２つのテーブルを指定し、ｗｈｅｒｅ句で社員番号で結合し、ｇｒｏｕｐ　ｂｙ で部署コードを指定してもできなかったものですから。。。 初歩的な質問で申し訳ありませんが、教えて頂ければ幸いです。 よろしくお願いします。
oracle超初心者です。 　会社から“勉強してね”と言われたのですが、何からはじめればよいのかわからず、 とりあえずOracleの黒本のブロンズを購入しましたが、読みはじめですぐ挫折、 ちんぷんかんぷんで...（汗） 　挫折後、「１週間でOracle Masterの基礎が学べる本」を購入し読んで見たのですが、 本の内容がどうやらOracle 11gの内容のようで、違う本を読んでいるんじゃないかと 手を止めてしまいました（汗x2） 自分の環境は、windowsXPです。 すみませんが、どなたかよろしくお願いします。
ローカルにオラクルをインストールして開発をしていました。 しばらく時間があいた後、開発を再開しようとするとDBへの 接続ができなくなっていました。 sqlplusではDB操作可能なので、DBそのものは落ちていないと 思うのですが… リスナーのステータスを確認すると（lsnrctl status SID）下記のエラーが出ます。 (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=MY-PC)(PORT=1521))(CONNECT_DATA=( SERVER=DEDICATED)(SERVICE_NAME=SID)))に接続中 TNS-12535: TNS: 操作はタイム・アウトしました。 TNS-12560: TNS: プロトコル・アダプタ・エラー TNS-00505: 操作タイムアウトです。 32-bit Windows Error: 60: Unknown error 何が問題でどうすればよいのかわからないのですが、何か対応策があれば教えてください。 DBを再構築することも考えたのですが、原因がわからなければ同じ事が起こる（起こす？） ような気がするので。 よろしくお願いします。
お世話になります。 select文でデータを抽出する時、物理ファイルにはない列を追加して 表示する事は可能でしょうか。 また、その追加した列に値（同じ値でいいのですが）も入れて表示 したいと思っておりますがその方法が良く分かりません。 どなたかご親切な方、 ご教授下さいます様、宜しくお願い致します。
インデックスが貼ってあるdate型のカラムがあるのですが、うまくインデックスがあたりません。 検索条件を下記のようにしています。 working_date = TO_DATE('2010/11/26') date型は秒数を保持していることが影響しているのでしょうか？ ファンクションインデックスを貼って、下記のようにすればインデックスは当たってます。 　TO_DATE(working_date,'YYYY/MM/DD') = '2010/11/26' ご存知のかたがおられましたら教えてください。
現在以下の様な状態で、サーバＡのスキーマＡからサーバＢのテーブルを参照しています。 ＤＢＬＩＮＫ（Ａ）を外すとサーバＡのスキーマＡからサーバＢのテーブルをSELECTする事が 出来なくなってしまいますか？ スキーマＡでサーバＢの必要なテーブルが 全てシノニムで定義されていたので、イメージ的に スキーマＢのＤＢＬＩＮＫが残っていれば サーバＡのスキーマＡ→スキーマＢ→サーバＢのテーブルって感じで 参照出来そうな気がするのですが、どうなのでしょうか？ サーバＡのスキーマＡ　→　ＤＢＬＩＮＫ（Ａ）　→　サーバＢ 　↓ シノニム 　↓ サーバＡのスキーマＢ　→　ＤＢＬＩＮＫ（Ｂ）　→　サーバＢ
ora-00907エラー：右かっこがありませんが出ます。なぜでしょうか？？ strSQL = strSQL + "select K.Hiduke 日付,S.Syouhinmei　商品名,S.Tanka　単価,K.Suryou　数量,(S.Tanka * K.Suryou) 金額"; strSQL = strSQL + " from SyohinHyo　S,Kounyurireki K"; strSQL = strSQL + " where K.Syouhinbangou = S.Syouhinbangou and K.Hiduke"; strSQL = strSQL + " between to_date(" + comboBox1 +",'YYYY-MM-DD') and "; strSQL = strSQL + " to_date(" + comboBox2 + ",'YYYY-MM-DD')";
ストアドプロシージャを出力したいと思っているのですが オブジェクトブラウザからですと、対象のSPを選択し、スクリプト出力することで ファイル出力できると思いますが、 sqlplusなどから、同様にファイル出力を行うことは可能でしょうか？ 初歩的なご質問で恐縮ですが ご回答頂けると大変助かります。 よろしくお願い致します。
Oracle１１ｇR2を以下の環境にインストールしましたが、 DB操作ができず困っています。 環境 OS：indows7（64bit） DHCP環境 現象としてはDBCAによりDB作成は完了する間際、リスナーが起動していない という警告文が表示されます。 ただ再度DBCAで確認したところ、DB削除の項目に作成したSIDのDBが 表示されていたため、作成自体は完了しているようです。 リスナー自体はDB作成前にNetConfigurationAssistantにより作成済みです。 またDHCP環境であるため、LoopbackAdapterも作成済みです。 さらにLoopbackAdapterとその他のネットワーク設定のインタフェースメトリックスも 調整して、Loopbackが最小値となるようにしています。 Oracleインストールは初心者でネットを参照しつつやってみましたが ここから先に進めず参っています。 どなたか情報をお持ちでしたら教示願います。 よろしくお願いします。
現在、プライマリＤＢとスタンバイＤＢを１：１で運用しており、 データガードを使ってデータ同期を行っています（１０ｇ）、 今度、新たなサーバーを立て、そこに新たなスタンバイＤＢを追加したいと考えています、 その場合、現在動いているＤＢは停止なしで行えるものでしょうか？ （業務上、本番機を停止できない為） それと、本番機をそのままの状態で、仮に新スタンバイＤＢを空の状態（データが無い）にした場合でも、 既に有るスタンバイＤＢへの同期処理への影響無くアーカイブログによるデータ同期は可能でしょうか？ （本番からのインポートなどをせず、データガードだけでデータの流し込みまで行いたい） スタンバイＤＢは最大９迄可能とは知っているのですが、 後からのスタンバイＤＢ追加というのが全く判らない状況です、 あまりオラクルには詳しく無く、教えていただけないでしょうか？
SELECT COUNT( * ) FROM テーブル１で出たデータを別テーブルの数量に書き込みたいのですがどういう風にＳＱＬを書けばいいですか？？
oracleのupdateについて お世話になっております。 oracleのupdateについて教えてください。 (1)以下のような更新のupdateを実行し、 update dept set updt_flag=1 where id=1111; (2)commitをする間に別ユーザが以下のupdateを実行したとします。 update dept set updt_flag=0 where id=1111; 上記のような状況を再現した際、 (2)のupdateは(1)のcommitが完了するまで待つという結果になりました。 ここで質問なのですが、 最初のupdateが完了するまで別のupdateは待っているというのが 暗黙のルールなのでしょうか？ 初歩的な質問ですみません。 よろしくお願いいたします。
create table 新TABLE as select * from コピー元TABLE; としたい場合に、"コピー元TABLE" に、LONGROW型項目があり、 失敗してしまいます。 何か、回避策はないでしょうか？ 宜しくお願い致します。
あるシステムのDB管理を行うにあたり、 Oracleを使用しているのですが、 Oracleのバージョンの違いにより、 DMPファイルのインポートが行えない事はございますでしょうか？ 詳細は以下です。 ローカル環境のシステム Oracle 10g / 10.2.0.1.0 社内環境のシステム Oracle 11g / 11.2.0.1.0 社内環境システムよりバックアップを行い出力されたDMPファイルを ローカル環境へインポートを試みたところ、 以下のエラーが発生し、インポートができません。 *************************************************************************** 接続先: Oracle Database 10g Release 10.2.0.1.0 - Production IMP-00010: 有効なエクスポート・ファイルではありません。ヘッダーは検証に失敗しました。 IMP-00000: エラーが発生したためインポートを終了します。 接続先: Oracle Database 10g Release 10.2.0.1.0 - Production IMP-00010: 有効なエクスポート・ファイルではありません。ヘッダーは検証に失敗しました。 IMP-00000: エラーが発生したためインポートを終了します。 *************************************************************************** 解決方法をご存知の方がおられましたら ご教示いただけると有難いです。 以上、宜しくお願い致します。
バッチ処理にてCOMMIT間隔が大き過ぎてエクステントの拡張が発生しました。 エクステントを拡張は避けたく、COMMIT間隔を小さくしたのですが、 改善効果を、確認したいと思っております。 他のトランザクションもある試験環境なので、alter文？にてバッチ処理が 使用するロールバックセグメント番号を指定し、改善前／後で、V$ROLLSTATで確認 したいのですが、実施方法をご教授頂けないでしょうか？ ※ロールバック・セグメント番号　＝　V$ROLLSTAT.USN
[注文表] 注文番号　注文商品　注文金額 ======================= 111　　　あああ　　5500 222　　　いいい　　3000 [注文オプション表] 注文番号　オプション ================ 111　　　P1 111　　　P2 222　　　D1 上記のようなテーブルがあります。 これを下記のようにSQLでまとめたいですが可能でしょうか。 もしありましたら、サンプルSQLをご教示いただけませんでしょうか。 [注文一覧] 注文番号　注文商品　注文金額　オプション1　オプション2 ====================================================== 111　　　 あああ　　5500　　　P1　　　　　 P2 222　　　 いいい　　3000　　　D1 お手数をお掛けしますが、なにとぞよろしくお願いいたします。
ＯｒａｃｌｅのＳＱＬについて質問があります。 VARCHAR2をReturnするFunction「GETKANANAME（引数はID）」があるとします。 このとき Update NAMELIST SET kananame = (select GETKANANAME('00001') from dual); とすると、kananameに何も設定されません。 （エラーメッセージなどは何も出ていません。） select GETKANANAME('00001') from dual; だと期待する値が帰ってくるのですが…。 何か間違ったＳＱＬ文なのでしょうか？
Windows2003上のOracle Clientの10.2.0.4のSQLPLUSで、別Ｏｒａｃｌｅ10.2.0.3サーバー上のテーブルの中身を表示しようとすると、CPU使用率が１００％になってしまい困っています。SQLPLUS自体のプロセスが１００％消費しています。 別のクライアントからは、特に問題なく表示されます。このWIndows2003マシンの何が悪いのか、なにか考えられる原因はありますでしょうか？
「１．固定値を含む結合」と「２．複数テーブルの結合」について教えて下さい。 最近oracleを使い始めてSQLで表の結合を書く場面があるんですが LEFT（RIGHT) JOIN を使うのか、(+)を使って書くのかで迷っています。 LEFT(RIGHT) JOINだと固定値を含めて外部結合しようとするとエラーになってしまいます。 それが嫌で(+)を使っていたんですが 今度は複数のテーブルを(+)で結合しようとするとエラーになってしまいます。 （ＡテーブルとＢテーブル、ＡテーブルとＣテーブルなど？） こういう場合はどうすれば良いのでしょうか？ とりあえず副参照をFROMに指定して対処してるんですが 何かきちんとした書き方があるのでしょうか？誰か教えて下さい。
マテリアライズドビューログについて 高速リフレッシュのマテリアライズドビューを作成する際に、マテリアライズドビューログを作成すると思います。それについて３点質問です。 (1)マテビューの作成手順としてはマスタ表作成⇒マテログ作成⇒マテビュー作成だと思いますが、マテログを作成した時点(まだマテビューを作成していない状態)でマスタ表のデータが登録されますでしょうか？ 例えば、マテビューを作成せずマテログを作成したままの状態で容量が増加していくのかどうか疑問に思いました。 (2)マテリアライズドビューを作成すると一番最初は完全リフレッシュされると思いますが、その際はマテリアライズドビューログを使用しますか？ (3)高速リフレッシュが終わった後はマテログ内のログはなくなるのでしょうか？それとも過去の履歴としてどこかに取得しておくのでしょうか。 バージョンは10gです
インサートした日付データについて お世話になります。 Oracle１１ｇと.NET C#にて開発をしております初心者です。 .NET C#側で日付型（yyMMdd）にした変数を引数にして ストアドプロシージャでOracleのテーブルにインサートした 後、テーブルで結果を見てみると、 下記の様になってしまいます。 頭の２０が余計に思います。 考えられる原因としてはどの様な事がありますでしょうか。 テーブルの受けるフィールドの型も日付型です。 ご教授下さいます様、宜しくお願い致します。 　　　　　　　　記 インサート前（Ｃ＃側変数の値確認時）　　　　　インサート後（Oracleテーブル確認） （例）　２０１０１１０５　　　　　　　　　　　　　　　２０２０１０１１　０５：００：００ 　　　
DBの移行について 担当しているシステムのデータベースが、 DB2のV8.1からOracle11gに移行する予定です。 色々と調査してますが、 移行にはSQL関数の違いがネックになるかと考えています。 DB2にはある関数がOracleにはないとか、 同じ関数でも結果が違うとか・・・。 その辺をうまく一覧表に纏めたマッピング表みたいなのって、 ネットにあれば教えて頂ければと思います。 当然、自分でも探してますが、なかなかいいのがありません。 また、Oracleのサイトを覗いてみましたが、 結局問い合わせてくれって事になってます。 （まだまだ調査の段階なので、問い合わせるほどではないんで） よろしくお願いします。
環境がとても古いのですが…。 Win NT server、Oracle 8.0.5という環境でOracleのSYSのパスワードをEnterprise Managerから変更すると、サーバを再起動した際にOracleのインスタンスが起動しなくなるというエラーが発生しています。サービスを停止して開始するだけでも同様の現象が発生します。 SYSのパスワードをどうしても変更する必要があるのですが、変更方法が分かりません。上記のようなエラーを発生させないで変更する方法をご存知の方がいらっしゃいましたらご教示下さい。 宜しくお願い申し上げます。
グループ化による集計 お世話になります。 下記の様にＳＱＬで集計しようと考えています。 品番で小計額を出そうとしているのですが、 下記記述ですと、小計行が何か２行位ダブって表示されてしまっている様です。 どの様に記述したらダブらないで表示されるでしょうか。 私には少し高度な気がします。 どなたかご親切な方、ご教授下さいます様、宜しくお願いします。 　　　　　　　　　　　記 select a.計画ID,a.品番,sum(a.合格本数) as 合格本数,sum(a.不良本数) as 不良本数, grouping(a.品番),TO_CHAR(a.受信日,'YYYY/MM/DD')as 受信日 from 伝票LOG a group by rollup(a.計画ID, a.品番, TO_CHAR(a.受信日,'YYYY/MM/DD')) order by a.計画ID 現在の表示 ID　　　　　　品番　　　合格本数　　　不良本数 　　 grouping(a.品番) 1030-2　　　　yyy 　　　　20　　　　　　　　　　0　　　　　　0 1030-2 　 　　yyy 　　　　　30　　　　　　　　　　0　　　　　　0　　 1030-2 　 　　yyy 　　　　　50　　　　　　　　　　0　　　　　　0　　←この行は余計 1030-2 　 　　yyy 　　 　 　50　　　　　　　　　　0　　　　　　0　　←この行は余計 1030-2 　 　　(null) 　 　　 　50　　　　　　　　　　0　　　　　　1
日付表示について お世話になります。 Ｏｒａｃｌｅ（１１ｇ）と．ＮＥＴ Ｃ＃で開発して いる初心者です。 テーブルをｓｅｌｅｃｔ文で表示する時に、 日付が入っている列があるのですが、表示形式は、 年月日、時間、分までが表示されているのですが、 これを、年月日までの表示や、年月までの表示形式 に変えるにはどの様にすれば宜しいのでしょうか。 ご教授お願い致します。
DECLARE 　　： BEGIN 　　： で始まる無名ブロックと、 CREATE OR RELPLACE PROCEDURE 名前 is 　　　： BEGIN 　　　： で始まる名前つきブロックとは何が違うのでしょうか？ 使い分けることによって、何かメリットがあるのでしょうか？
SELECT cd_title FROM price_table WHERE cd_price<1500 を、cd_title毎に SELECT * FROM cd_table WHERE cd_title = 上記結果 としたいのですが、どうしたらよいのでしょう？
PLSQLについて 時間がきたら動くようなバッチファイルを作成したいのですが、 ソースコードを書く上でわからないあります。 下記は作成したソースコードですが 変数curA_recのデータ型はcurAのROWTYPEになります。 【質問1】dbms_outputの箇所を変更して抜き出したレコードをTAB区切りのtxt形式で出力する際の具体的なステートメントがわかりません。 【質問2】このファイルを任意のディレクトリにおいて時間がきたらファイルを実行するようにしたいのですがデータベース接続のためのConnect文を記述する箇所は一番上のset serveroutputの下に記述していいのでしょうか? どなたか詳しい方お願いします。 <ソース> set serveroutput on declare cursor curA is <SQL文> curA_rec curA%ROWTYPE; BEGIN open curA; LOOP fetch curA INTO curA_rec; exit when curA%NOTFOUND; dbms_output.put_line(curA_rec.伝票番号||' '||curA_rec.伝票日付||' '||curA_rec.出荷先店番||' '||curA_rec.ブランド品番||' '||curA_rec.JANコード||' '||curA_rec.出荷数量||' '||curA_rec.商品単価||' '||curA_rec.商品名||' '||curA_rec.カラー名||' '||curA_rec.サイズ名||' '||curA_rec.ブランド||' '||curA_rec.サブブランド||' '||curA_rec.大分類||' '||curA_rec.中分類||' '||curA_rec.小分類||' '||curA_rec.カラー||' '||curA_rec.サイズ); END LOOP; CLOSE curA; END;
お世話になります。 sql loaderでpostgresqlのbytea型のデータをoracleのraw型にどう取り込むか困っていますが bytea型のデータは8進数のエスケープされた文字（\\313\\314\\263\\244）ですが、raw型のほうは バイナリデータしか入れない仕様なんですが、 どう変換するか、どの関数を使えば、うまく行ける方法をご存知の方がいらっしゃいましたら、是非お願いいたします。
oracle11gで、PL/SQLにてAというテーブル内の項目にCLOB型のデータがあります。 そのCLOB型項目を別テーブルの1、2、3のVERCHAR2型にそれぞれ4000バイトずつに 振り分けたいと考えています。 CLOB型ですと、DBMS_LOB.SUBSTRを使用する方法等があると思いますが、バイト数で振り分ける方法なないものでしょうか？ 教えて頂きますようお願いします。
Oracle 10.2 SE RACにおいて、２つの違うネットワークセグメントをリスニングさせたいのですが、パブリックのセグメントは複数設定できませんでしょうか？
なぜ、WHERE句とHAVING句があるのか？（質問文修正版） SQLを学んでいる時に、疑問に思ったことがあります。 それは、「なぜ、WHERE句とHAVING句があるのか？」ということです。 この２つは、 ・WHERE句 → 表から取り出す行の条件を指定 ・HAVING句 → グループ化した結果から取り出す行の条件を指定 という違いがあることは分かっています。 ですが、おなじ「行のかたまりに対する抽出条件」を指定しているのに、 なぜ、わざわざ２つに分ける必要があったのでしょうか？ 分けないと不都合が生じるのでしょうか。 もし、明瞭簡潔に説明できる方がいらっしゃいましたら、教えていただけないでしょうか。 ※本質問は、質問内容に質問の主旨が変わってしまう大きな誤りがあったため、いったん締め切り後、再掲載させていただきました。
変数が選択リストにありません 下記のコードを実行すると「変数が選択リストにありません」というエラーが出てしまいます。 SELECT文とFETCHのINTOの変数の個数が一致していない場合にこのエラーは出るということらしいのですが、問題ないように思うのです。 下記コードで何が問題になっているのか教えてください。 よろしくお願いします。 set serveroutput on; declare -- 各テーブルの全カラムを取得 cursor curcol (p_tblname user_tables.table_name%type) is select COLUMN_NAME,DATA_TYPE from user_tab_columns where table_name = p_tblname ; v_sql varchar2(1000); -- SQL文 v_col varchar2(1000); -- カラム名 v_val varchar2(1000); -- 取得データ v_tblname varchar2(20); -- テーブル名 v_RstExec integer; v_CursorID integer; begin v_col := ''; v_tblname := 'sample'; -- 取得テーブルのカラムを取得 for rowcol in curcol(v_tblname) loop -- 取得カラムをCSV形式に変換 if v_col is null then v_col := rowcol.COLUMN_NAME; else v_col := v_col||'||'',''||'||rowcol.COLUMN_NAME; end if; end loop; dbms_output.put_line(v_col); -- SQL作成 v_sql := 'select '||v_col||' from '||v_tblname; v_CursorID := DBMS_SQL.OPEN_CURSOR; DBMS_SQL.PARSE(v_CursorID, v_sql, DBMS_SQL.NATIVE); v_RstExec := DBMS_SQL.EXECUTE(v_CursorID); LOOP IF DBMS_SQL.FETCH_ROWS(v_CursorID) = 0 THEN EXIT; END IF; DBMS_SQL.COLUMN_VALUE(v_CursorID, 1, v_val); DBMS_OUTPUT.PUT_LINE(v_val); END LOOP; DBMS_SQL.CLOSE_CURSOR(v_CursorID); end; /
オラクルのデータベースは大変よく使われていますが、フリーのソフトでそれに代わるものはないのでしょうか?
ASP.NETでのオラクルAL16UTF16について OS WindowsXP VisualStudio .NET 2003 + Oracle 10g にてASP.NET 2.0　の 開発を行っています。 オラクルではキャラクタセットでAL16UTF16を指定しています。 ASP.NETでは、web.configで <?xml version="1.0" encoding="utf-8" ?> と <globalization requestEncoding="UTF-8" responseEncoding="UTF-8" /> を指定しています。 このように設定して、特に今のところ不具合があるわけではないのですが オラクルではUTF-16、ASP.NETではUTF-8となっていて 違うものを指定していても不具合等はないのでしょうか。 または、不具合がまだ見つかっていないだけでしょうか。 以上、ご教授をお願いします。
単体テストレベルのテストデータの作成方法 以前、このような質問をさせていただきました。 http://oshiete.goo.ne.jp/qa/4951742.html いまだに同じ悩みを抱えておりまして、皆様どのようにしているのだろうか、あらためてご質問させていただきたいと思います。 あるいは、「このサイトで質問するよりもっと適切ながある」ということでしたら、そのサイトを教えていただけないでしょうか。 より具体的な例で質問させていただきたいと思います。 例えば、次のようなテーブル群があったとします。 ※OracleベースのDDL（適当＆適宜省略(^^;）で示しております。 ※同一カラム名の個所は、それぞれのテーブルにひもづいています。 ※単純な例なので、各テーブルの関連はテーブル名でお分かりになるかと思います... CREATE TABLE 受注テーブル ( 受注ID VARCHAR2(10) PRIMARY KEY, 顧客ID VARCHAR2(10) 受注日 DATE, ); CREATE TABLE 受注明細テーブル ( 受注ID VARCHAR2(10), 製品ID VARCHAR2(10), 数量 NUMBER(10,0), PRIMARY KEY (受注ID, 製品ID) ); CREATE TABLE 顧客マスタ ( 顧客ID VARCHAR2(10) PRIMARY KEY, 顧客会社名 VARCHAR2(100), ); CREATE TABLE 製品マスタ ( 製品ID VARCHAR2(10) PRIMARY KEY, 製品名 VARCHAR(100), 仕入先ID VARCHAR2(10) ); CREATE TABLE 仕入先マスタ( 仕入先ID VARCHAR2(10) PRIMARY KEY, 仕入先会社名 VARCHAR2(100) ); 正常系のテストパターンが（仮に）数十あるものとして、各パターンごとに0件から10件程度のデータを作成したいです。 皆様どのようにテストデータを作成しているのでしょうか。 あるいは、上記の例ではたかだか５テーブルのリレーションではありますが、ここでは省略した各種カラムにひもづく別のマスタ群が多数あるとした場合はどうでしょうか。 上記のテーブルの例で言えば「注文テーブル」用のデータを作成しつつ、それにひもづいた正しい「注文明細テーブル」用データを作成するだけでもしんどいと思ってしまいます。 さらに、関連するマスタ群として「顧客マスタ」や「仕入先マスタ」などなど多数ある場合、それぞれの関連を見ながら「正しいデータ（つまりテストデータ自体が間違っている、という事態を避けたい）」を作成するのが難しいと感じてしまいます。
文字列の連結 select * from test where testcolum=変数名 といった感じで、文字列と変数を連結したいのですがやり方がわかりません。 declare cdata varchar2(20); begin cdata:='sample'; 'select * from test where testcolum=' || cdata; end; 上のように、select文を動的に変更して実行したいのです。 よろしくお願いします。 /
ファイルへの書き込みができない 実行時エラーは表示されないのですが、ファイルへ出力されません。 コードは以下のようにしています。 よろしくお願いします。 declare FILE_HANDLE utl_file.file_type; STR varchar2(1023); begin -- 書き込みモードでファイルオープン FILE_HANDLE := UTL_FILE.FOPEN('c:\tmp','test.txt','W'); STR := 'test'; -- ファイルへ出力 UTL_FILE.PUT(FILE_HANDLE,STR); -- ファイルのクローズ -- UTL_FILE.FCLOSE(FILE_HANDLE); exception when others then dbms_output.put_line('その他エラー'); end; /
SQL　関数ループでデータ取得 オラクルSQLで、FUNCTIONを作成し、その結果データを取得するSQLを作っています。（下記参照） begin buffer := null; for i IN 1..5 LOOP buffer := 【関数A（i）】; END LOOP; return buffer; イメージとしては、シーケンス番号（i）によって異なるデータを１つずつ取得したいのですが、 上記のようにすると、1回のループ毎にbufferが書き換えられ、結局最後のデータしか取得できません。 END LOOP前にreturnをはさんでしまうとその時点で関数が終了してしまうので逆に、最初のデータ しか取得できませんし。 上記のような関数を使う理由は、上記のiを固定（下記で言うi IN 1..5）でなく、 データの個数を可変で取得する仕様を考えているからです。具体的にはMAX関数でシーケンス番号の最大値を用意し、そのデータの個数取得できるようなものを考えています。 固定ならば、下記のようにその個数分関数を記述すればいいですので 【関数A（1）】; 【関数A（2）】; ： 【関数A（5）】; 記述を１行で個数分のデータを取得できる方法はないでしょうか？ SQLに詳しい方、ぜひご教授ください。
oracle 10g 最大SGAサイズを変えたらDBが起動しなくなった デフォルトの最大SGAサイズが１．５GBだったので３．０GBにしたところ DBが起動しなくなりました。元に戻すにはどうしたらいいでしょうか？
デッドロック（ORA-00060）とメモリの関係 以前、 OS：WindowsServer2003 R2 x64 SP2 DB：Oracle 10.2.0.2.0 の環境でデッドロックが発生したのですが、その際にメモリ使用量も全体の85%以上 使用していた状態でした。（メモリサイズは約6.3GB） （※デッドロックは、索引の処理を行うにあたり前処理が不足していたことが原因） そのため、デッドロックと空きメモリの関係を確認したいのですが、 ・空きメモリ不足によりデッドロックが発生する可能性があると考えられるでしょうか。 もしくは、 ・デッドロックが発生したことにより、空きメモリが消費されてしまうと考えられる でしょうか。 ご存知の方がおりましたらお教えいただけないでしょうか。 よろしくお願いいたします。
oracle10g 使用するリスナーを追加する リスナーが２個あってインスタンスを作成するときに片方選択しました。(※1) 後からもう片方でも使えるようにしたいのですが可能でしょうか？ ※ tnsnames.oraとlistener.oraを見直しましたがだめでした。 ※1 database configuration assitanの3/5の工程
データ型について教えてください。 あまり気にする必要がないかもしれませんが、テーブルにフラグ目的でフィールドを作る場合、 データ型は何するのが一般的なのでしょうか？（CHAR OR NUMBER?） ACCESSで言えばBOOLEANになると思うのですが、ORACLEやポスグレはないですよね? 私は、CHAR(1)にしています。 理由は、プログラムでSQLを書くときに''で囲むようにするためです。 その他のフィールドもだいたいテキストか日付ですので、''を囲むフィールドばかりです。 できるだけ''囲むフィールドに統一して、SQLの記述ミスを少なくしようというのが狙いです。 この考え方は間違っていますか？
selectの内容によって、登録するカラムを変えたい selectであるテーブルからある値Aをとってきます。 値Aが1の時は別テーブルの金額1に登録、2の時は金額2に登録、3の時は金額3に登録 という処理を行いたいです。 同一レコードに対して複数の金額がある事があります。 テーブル1（取得テーブル） ------------------ キー　値A　金額 1　　　1　　500 1　　　3　　300 2　　　3　　200 ------------------ テーブル2（登録テーブル） ------------------ キー 金額1 金額2 金額3 1　　　500　　0　　300 2　　　　0　　0　　200 ------------------ いま、 insert into テーブル2 SELECT 項目 from テーブル1 というように１つのSQLで、登録、削除をしようとしていますが 可能でしょうか？。方法がよく分かりません。
oracle8iサーバに対して、windows7、oracle10gクライアントで接続は可能でしょうか？
oracle 9i と SQL SERVER 2005 DBリンクについて とても困ってます。 よろしくお願いします。 仕事で、oracle 9iとSQL SERVER 2005をDBリンクさせて、oracle 9iのTableとSQL SERVER 2005のTableを結合させて、SELECT文を作成したいです。 本番環境は、DBサ―bとWebサーバは別々でとりあえずlocal開発環境を作成しています。 ＜確認したこと＞ ・global_names = Flase ・ODBCの設定はSQL SERVER 2005に接続確認しました。 　→データソース名は、「SQLSRV」です。 ・inithsodbc.oraの設定 　　　HS_FDS_CONNECT_INFO = SQLSRV 　　　HS_FDS_TRACE_LEVEL = OFF ・LISTENER.ORAの設定（編集後再起動しました） 　→ (SID_DESC = (SID_NAME = HSODBC) (ORACLE_HOME = D:\oracle\Ora9IUTF) (PROGRAM = hsodbc) ・TNSNAMES.ORAの設定 HSODBC = (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = TCP)(HOST =localhost)(PORT = 1521)) ) (CONNECT_DATA = (SID = HSODBC) ) (HS = OK) ) ・DBリンク作成(小文字を認識するため、ダブルクォーテーションで囲います) 　　CREATE DATABASE LINK DB_LINK_SQLSRV 　　CONNECT TO "ユーザ" IDENTIFIED BY "パスワード" USING 'HSODBC'; ・SELECT文 　　SELECT * FROM テーブル名@DB_LINK_SQLSRV; 上記の手順ですが、サービス名が解決できません。
他の処理でselectさせないようにしたい。 ある処理AがテーブルXを利用し動作していたとします。 この時、別の処理Bが,テーブルXを検索しただけでエラーにしたいです。 FOR UPDATEは、更新はできないですが、検索は出来そうなのですが、 検索しただけでエラーにする方法はあるでしょうか？ よろしくお願いします。
SQLでSUMなどの関数でデータが無い時に0を返したい。 （例） SELECT SUM(項目) FROM テーブル WHERE 条件 ここで、条件に一致するデータが1件も無かった時ですが、 何かNULLのような物が1件返ってきているようです。 この条件に一致する物が無かった時に、 0を返したいのですが、可能でしょうか？ よろしくお願いします。
DBサーバの構築でマスタをOracle、スレーブをMySQLにて構築することはできるのでしょうか。
データベースの使い方についてご意見ください。 社内のイントラなどをメインにASP(VBScript)-OracleでWEBアプリを開発しています。 近年、これまで紙で行われていたものがシステム化されるという動きが活発化し、開発案件が非常に増えてきています。そのため、自分なりに開発効率を高めるためいろいろな試みを行っています。 例えば、JQUERYを用いることによりかなり開発効率が上がりました。 その他の試みとして、長ったらしいSQLを書く時間を省くために、前もってOracleに全テーブルを連結したVIEWを作っておいて、SQLはWHERE句だけを書き換えてそのVIEWを見にいくようにしました。 このやり方は一般的なものなのでしょうか？ デメリットはなんでしょうか？ 私的にはコードもかなりすっきりしてかなり気にいっています。
処理速度の見積もり時間について。 Oracle 10gを使用し開発を行っています。 処理速度について伺いたいことがあり、投稿致しました。 現在、PL/SQLを使用しCSVファイルよりデータを読み込み、 テーブルをチェックし、条件に合致するようならデータのUPDATEを 行うという処理をしています。 このCSVファイルのデータは何百万件と大量のデータで、 処理速度を懸念しております。 そこで処理速度についてですが、どのようにすれば見積もることが できるのでしょうか？ 具体的な方法をご教授頂けるとありがたいです。 そもそもCSVファイルを一行ずつ読み込んで、テーブルに対し UPDATEを掛けるというやり方自体間違っているのでしょうか？ 一時テーブル等を使用した方が良いのではないかとも思うのですが・・・。 以上、宜しくお願い致します。
現在、VBAにてUNICODEのCSVを出力し、SQL*Loaderでテーブルへ取り込む処理を作成しています。 そこで、文字コードについて質問があります。 作成したCSVで、IBMフォーマットの全角マイナスとWindowsの全角マイナスが あります。これをSql*Loaderにてテーブルへ取り込むと、Windowsの全角マイナスが IBMの全角マイナスへ変換されてしまいます。 これはSql*Loaderの仕様でしょうか？ IBMの文字コードは、E28892(＆H2212)、Windowsの文字コードは、EFBC8D(&HFF0D)です。 Sql*LoaderのCONTROLファイルでCHARACTERSETをUTF16にしています。 宜しくお願いします。
PL/SQLでREPRACE INTO構文と同様の処理を作成 別のテーブルにレコードを投入する処理を実行するトリガを作成したのですが、 プライマリ・キーが重複するレコードの投入時に、一意制約でエラーになってしまいます。 トリガの作為としましては、プライマリキーが重複する際には上書きさせたいのですが、この場合、PLSQLではどのようなコマンドがあるのでしょうか？ （mySQLのREPLACE INTO と同様の処理を行うコマンドを想定しています） ↓下記のINSERT INO の箇所をREPLACE INTOと同様の処理を行うコマンドにしたいと思っております CREATE OR REPLACE TRIGGER TRI_TEST after update of TRI_NAME ,TRI_CALLED on cp_MV_TABLE FOR EACH ROW begin if (:old.TRI_NAME != :new.TRI_NAME or :old.TRI_CALLED != :new.TRI_CALLED ) THEN INSERT INTO TR_RUS_TABLE ( TRI_NO , TRI_DATE , TRI_NAME , TRI_CALLED ) values ( :new.TRI_NO , :new.TRI_DATE , :new.TRI_NAME , :new.TRI_CALLED ); end if; end; /
SQLで集計について分からないことがあります。 まず、次のようなテーブルがあったとして 日付　 店舗コード　ブランドコード　金額 ---------------------------------------- 09-01 | 401101 | 01 | 10000 09-02 | 401101 | 01 | 20000 09-03 | 401101 | 01 | 30000 09-04 | 401101 | 01 | 40000 09-01 | 401101 | 02 | 10000 09-02 | 401101 | 02 | 20000 09-03 | 401101 | 02 | 30000 09-04 | 401101 | 02 | 40000 09-01 | 401101 | | 11111 09-02 | 401101 | | 22222 09-03 | 401101 | | 33333 09-04 | 401101 | | 44444 ブランドコードが'Null'の金額をブランドコードが'01'の金額に 日付をキーにして集計したいんですが、 可能でしょうか？ なにか、良い方法があればお願いします。
Oracle Enterprise Manager 管理画面にアクセスできない Oracle 11gR2 ですが、https://localhost:1158/em/ にアクセスできません。インストールは無事終わり、インストール直後は上記サイトにアクセスでき、sys でログインできていました。 localhost のところはホスト名に変更してもアクセスできないです。 「正常に接続できませんでした。localhost:1158 のサーバへの接続を確立できませんでした」というエラーが Firefox 上に表示されます。 週末にサーバーを落として、今週に至るのですが、Web ページにアクセスできなくなっています。 listener を起動して、sqlplus にログインし、alter database open; コマンドまで成功しているので リスナーとデータベースの起動はできてると思うのですが、他に何が足りないのでしょうか？ ご教授よろしくお願い致します。
お世話になってます。 SQL初心者です。 現在、ORACLEでSQLを作成しているのですが、「ORA-00920」と「ORA-02063」が 発生し困っています。 「ORA-02063」の原因は調べてみると「ORA-00920」が原因の可能性があるみたいです。 「ORA-00920」のメッセージには「関係演算子が無効です。」とありますが、 調べてみてもよくわかりません。 実行するSQLは以下のような感じです。 ■SQL文 with テーブルA as( SELECT文 　　取得カラムA, 取得カラムB, 取得カラムC ), テーブルB as( 　　取得カラムA, 取得カラムB, 取得カラムC ) SELECT * FROM テーブルA A_TABLE, テーブルB B_TABLE WHERE A_TABLE.取得カラムA = B_TABLE.取得カラムA (+) AND A_TABLE.取得カラムB = B_TABLE.取得カラムB (+) AND A_TABLE.取得カラムC = B_TABLE.取得カラムC (+) ***ココマデ*** ビューの作成はうまくいっているのですが、 テーブルAとテーブルBを使用したSQL文でエラーになっているようです。
はじめまして！ ORACLE初心者です。 今、with句で複数のテーブルビュー作成後、出力されたビューからSELECTで値を取得する といった内容のSQLを作っているのですが、「ORA-00928」が発生しうまくいきません。 「ORA-00928」はどういった場合に起こるエラーなのでしょうか？ 苦戦しています、だれか教えてください。
ORACLEへ、ODBC経由でCHAR属性のフィールドへNULL文字(x'0')を INSERTできたのですが、そのフィールドをUPDATEできません。 ODBCのエラーとなります。原因は何でしょうか？ 宜しくお願いします。
１０．２．０．３のインストール時エラーについて ｘ８６(32bit）仕様のWindows2008サーバ(DElL社レイド5)に　オラクル１０．２．０．３をインストールしている時 「TNS　プロトコルアダプタエラー」が発生します。 心当たりの方　アドバイスいただけませんでしょうか。 よろしくお願いいたします。
------------------------------ 　テーブル：TABLE1 ------------------------------ USER_ID TYPE COUNTRY ------------------------------ 001 A JAPAN 002 A UK 003 A USA 004 Z UK ------------------------------ ------------------------------ 　テーブル：TABLE2 ------------------------------ COUNTRY STATUS ------------------------------ JAPAN 001 CHINA 001 UK 002 USA 002 ------------------------------ --------------------------------- 　テーブル：TABLE3 --------------------------------- USER_ID TYPE COUNTRY STATUS --------------------------------- 001 A JAPAN 001 002 A UK 002 003 A USA 002 004 Z UK 999 ←　※１）002から999に変更したい --------------------------------- TABLE1とTABLE2を結合してTABLE3を作成したいと思います。 =========================================================== SELECT a.USER_ID, a.TYPE, a COUNTRY, b STATUS FROM TABLE1 a LEFT JOIN TABLE2 b ON a.COUNTRY=b.COUNTRY =========================================================== そこで、上記のSQL文を作成しましたが、そこに追加で条件を加えたいと考えています。 ※１）のSTATUSの値は、本来は"002"になりますが、TYPEが"Z"の場合は、STATUSの値を強制的に"999"に変更したいです。 SQL文で「TYPEが"Z"の場合は、STATUSの値を強制的に"999"に変更したい」という条件を追加したいのですが、どのような式を書けばよろしいでしょうか？ よろしくお願いいたします。
バックアップの容量と時間の見積り サーバのバックアップの容量と、バックアップ時間にかかる見積りを行なおうとしております。 Oracleで、総容量2.6TBのフルバックアップを週次で取りたいのですが、 どの程度の時間がかかるのかを机上でのみしか計算できないため、 （netvaultを使用して、800GB×8のテープへする予定なのですが、まだ準備されていません） 悩んでいます。 机上計算ができるようなサイトか、どの程度の時間がかかるかお解かりになられる方はおりますでしょうか。 ※必要情報がありましたら、随時載せてゆきます
ＰＬ／ＳＱＬのカーソルについて お世話になります。 Oracle１１gで開発しています。 初心者です。 下記ストアドプロシージャの「zokuseisyutoku」で取得した 値（入数、重量、才数、ロケーション）を受けて、別のストアドプロシージャ 「Hyouji」の変数（irisuu、jyuryou、saisuu、lokesyon）に代入して得られた 内容をGridviewに表示させたいと思っています。 現在は、別々のストアドプロシージャなのですが、 一つに出来るものなら一つのストアドプロシージャにまとめたいの ですが、どなたかご親切な方、ご教授頂きたく宜しくお願い致します。 　　　　　　　記 (1)ストアドプロシージャ１つ目 create or replace procedure zokuseisyutoku ( sItemClassinコード表.品番%type, out_valoutpls_integer, out_cursoroutsys_refcursor ) as begin if sItemClass is null then open out_cursor for select入数, 重量, 才数, ロケーション fromコード表 ; else open out_cursor for select入数, 重量, 才数, ロケーション fromコード表 where品番 = sItemClass ; end if; out_val := 1; (2)ストアドプロシージャ２つ目 create or replace procedure Hyouji ( irisuu in部材表.入数%type, jyuryou in部材表.重量%type, saisuu in部材表.才数%type, lokesyon in部材表.ロケーション%type, out_valoutpls_integer, out_cursoroutsys_refcursor ) as begin open out_cursor for select b.資材名,b.色,b.種類,b.サイズ,b.棚番号 FROM 部材表 a,資材項目 b WHERE a.ID = b.資材ID AND a.入数 = irisuu AND a.重量 = jyuryou AND a.才数 = saisuu AND ロケーション = lokesyon ; out_val := 1; end; end;
バッチ処理を使用して、Oracle10gのデータのバックアップを取ろうとしています。 10gでバックアップする上で先ほどの質問で、アーカイブログモードか ノンアーカイブログモードかの情報を提示していただきました。 http://okwave.jp/qa/q6173983.html もしも、アーカイブログモードを選択した場合は、「バッチ処理によるバックアップ」は 必要ないのではないでしょうか？ 調べた限りでは、「アーカイブログモード」でバックアップを取る場合は、常にREDログ ファイルにバックアップを取り続けるという趣旨の説明が出てきました。 つまり、バッチ処理によるバックアップが必要になるのは「ノンアーカイブモード」の時 だけなのでしょうか？ 以上、よろしくお願いします。
ORACLEの表の列データをチェックするような フリーソフトはありますか？
Oracle SQLIの難易度について お世話になっております。この質問は、 http://oshiete.goo.ne.jp/qa/6168299.html からの派生でございます。 Oracle Bronz取得の為に、 1Z0-051-JPN 11g SQLI　と 1Z0-017-JPN Bronze SQL I　 どちらがよいか（10月からの値上がり前に取得するのに）相談させてください。 「９月末までまだ２０日あるんだから毎日３時間勉強すれば取れない訳がない」 と、思われるかもしれませんが１度落として 「学習の空振り感」を感じて居るの相談致します。 学習方法としては、まず黒本と呼ばれる参考書を読み進めながら学習をしました。 （↓使用書） テーブル作ったり、参考書に書かれているSQLを実行したり。 http://www.amazon.co.jp/Bronze-Oracle-Database-S … その後、参考書だけじゃ不十分というのは散々言われていたので別途問題集で学習。 （↓使用書） http://www.amazon.co.jp/%E5%BE%B9%E5%BA%95%E6%94 … 問題集を大体９割取れる用になったところで、 ５５番の試験（５５問、２時間、６割の方）を受験しましたが 出題された問題の内容は、問題集のそれとは大きく違うものでした。 Oracleの受験が初であった事を差し引いても、 問題集の問題で問われているレベルの内容一つ一つをもっと掘り下げて 細かい違いまで正確に理解していなければ 確信を持って回答できない問題ばかりだったように思えます。 選んだ問題集がはずれだったのか？ そう思い後日何冊かの問題集を立ち読みしてみましたが どれも似たり寄ったりな感触しか受けませんでした。 例として、受験直後の日の時点で http://park14.wakwak.com/~ky1999/ORA/ こちらのサイトのBronze SQL 基礎Iの問題（1-50）をといてみた所 ８割以上をとる事が出来ました。 特別、私の記憶力や理解力が乏しいというわけではない（ハズ…）です。 15000円スッた悔しさから半ば負け惜しみでもありますが、私は 1Z0-051 と 1Z0-017 で、 難易度や出題傾向が大きく違うのでないか？ 自分が今までやってきた学習は1Z0-017向けで、 1Z0-017を受ければすんなり合格できるのではないか？　などと考えています。 それともその認識は間違いで、 1Z0-017も 9iや10gの頃より大きく傾向も難易度も変わり、 問題集を100%理解して当日の試験ではスレスレを辛うじてとる… というのが精一杯の時期になっているのでしょうか？ 最近の（2009年以降の）1Z0-017 を受験してBronzを取得された方など、 もしおられましたら、 http://park14.wakwak.com/~ky1999/ORA/ こちらの問題を見ていただいた上でアドバイスを頂きたく思います。 長文になりましたが、よろしくお願いします。
ＰＬ／ＳＱＬについて お世話になります。 現在Ｏｒａｃｌｅ １１ｇと.Ｎｅｔ Ｃ＃で開発をしている物です。 正直どちらも初心者で悪戦苦闘している日々ですが、 ＰＬ／ＳＱＬのカーソルについて知りたい事があります。 ＰＬ／ＳＱＬでカーソルを作成しました。 そしてその同一ストアドプロシージャ文の中で、 先のカーソルの結果で得られた値から別の新たなカーソル でまた新たな結果を返すと言う様な、二重カーソルの様な 事は可能でしょうか。 どなたかご親切な方、ご教授頂きたく宜しくお願い致します。 出来れば、サンプルや、ＨＰ等ご紹介頂ければありがたく 思います。
バッチファイルを使用したsql@plusの実行及びログ出力について Windows Server 2003上で動作しているOracle10gのDBに対して Windows XP上に配置したバッチファイルをタスクで起動させ、 sql@plusを使用してデータを削除する処理を行いたいと考えています。 ---data_delete.bat--- @echo %date% %time% データ削除開始 >> log.txt sqlplus -S USER/PASS@TNSNAME @data_delete.sql >> log.txt @echo %date% %time% データ削除終了 >> log.txt ---data_delete.sql--- DELETE FROM TABLE WHERE FLG = 1; EXIT; data_delete.batを実行するとlog.txtが出力されます。 ---log.txt--- yyyy/mm/dd hh:nn:ss.xx データ削除開始 XXX行が削除されました。 yyyy/mm/dd hh:nn:ss.xx データ削除終了 この時、log.txtの内容を下記のように変更したいのですが、 その方法が分りません。 ---log.txt--- yyyy/mm/dd hh:nn:ss.xx データ削除開始 yyyy/mm/dd hh:nn:ss.xx データ削除終了 XXX行が削除されました。 できれば[削除件数 XXX 件]と表示させたかったのですが、 自分の調べた限りではできそうにないので、 フィードバックされる文字列をそのまま使う方向で進めています。 上記ログの出力方法ができるようでしたら、 その方法を教えて頂けると嬉しいです。 宜しくお願いします。
特定のカラムが更新されたときのみ、そのレコードを別テーブルへ格納するトリガの作成方法を教えてください・ トリガ名：TEST_UPDATE テーブル名：MV_ORACLE_MV_TEST カラム名：ORAPRIME ORACHANGE ORANAME CHANGENAME 対象カラム：CHANGENAME 格納先テーブル：TRITEST_ORACLE_MV_TEST 作成トリガ： CREATE OR REPLACE TRIGGER TEST_UPDATE after update of CHANGENAME on MV_ORACLE_MV_TEST FOR EACH ROW begin INSERT INTO TRITEST_ORACLE_MV_TEST SELECT MV_ORACLE_MV_TEST.ORAPRIME , MV_ORACLE_MV_TEST.ORACHANGe , MV_ORACLE_MV_TEST.ORANAME , MV_ORACLE_MV_TEST.CHANGENAME FROM MV_ORACLE_MV_TEST where MV_ORACLE_MV_TEST.CHANGENAME = :new.CHANGENAME -- commit; commit; end / テーブルMV_ORACLE_MV_TESTのうち、CHANGENAMEカラムが変更（更新）されたレコードのみを、 TRITEST_ORACLE_MV_TESTテーブルに格納したいと思っております。 この時、他のカラムも一緒に格納することが必要でして、 （もしカラムに変更があった場合、そのカラムも変更する。変更されていない場合は元の値を格納する） そのトリガを上記のように書いたのですが、 コンパイルエラーが発生しました。 どの部分が誤っているのか、ご教授願えませんでしょうか
Oracle Bronz 11g 取得に必要な試験は？ Oracleの資格を取得しようと、学習中です。 OracleのBronz取得にはSQL基礎Iと、 DBA11g（どうせ取るなら最新の11gがよいと思ってます）の 2種の試験に合格する必要があると言うのは判るのですが 前者の「SQL基礎I」に該当する試験は 1Z0-051-JPN 11g SQLI　なのか、 1Z0-017-JPN Bronze SQL I なのか判りません。 黒本の序章などを読みますと 1Z0-017-JPN BronzSQL基礎I 1Z0-018-JPN Bronze DBA11g が並んで書かれているので、 いかにもこの２つを受験すればよいように思えるのですが、 それでは 1Z0-051-JPN 11g SQLI　は何の試験なのでしょうか？ 試験費用も高いので間違えたくありません。 どうかご教授くださいませ。 よろしくお願いします。
oracle ダンプファイルのサイズとインポート先の表領域の使用サイズの関係 あるダンプファイル（2.5GB）をオラクルDBへimportしたら、 そのDBの表領域が10GBほど使用されました。 2.5GBのものをimportしたのに、なぜここまで表領域を消費するのでしょうか？ （これまでこのようなことはありませんでした。） 表領域の使用サイズをもっと少なくするにはどうすればよいのでしょうか？ エクスポート時のコマンド exp aaaa/aaaa file=bbbb.dmp log=exp_cccc.log consistent=y インポート時のコマンド imp aaaa/aaaa file=bbbb.dmp log=imp_cccc.log エクスポート時に「compress=n」をつけたり、 インポート時に「ignore=y」をつけたりしたのですが、 とくに変化はありませんでした。
RDBのテーブル種類の違い ～トランと～ワークの違いってなんでしょうか? 同じようなテーブル構成なのにテーブルの名前が違う気がするんですが。 調べたのですが腑に落ちる内容ではなかったので わかる方がいれば教えていただけるとありがたいです。
DBに新しいTBLを作成した際の初期エクステントサイズ(いわゆるInitial)のデフォルト値に関して、ObjectBrowserなるツールから確認はできるのですが、SQL文から確認できるのでしょうか。 確認できるとしたらどんなSQL文でしょうか。
ORACLEのＤＢへODBC経由でデータアクセスしています。 実行環境はWindows XP,開発言語はCOBOLです。 コンパイルは問題ないのですが、実行しますと、 動的SQLの使い方が間違っていますというようなメッセージが 出力されて異常終了します。（ちなみにカーソルオープンのところで終了） 下記のような動的SQLのコーディングですが、どこが問題なのでしょうか？ 宜しくお願いします。 01 SQL-CSR0-DB21. 03 FILLER PIC X(35) VALUE 'SELECT M.*,ROWIDTOCHAR(M.ROWID) '. 03 FILLER PIC X(35) VALUE ' FROM DB21 M '. 03 FILLER PIC X(35) VALUE ' WHERE M.BCODE = ? 　 '. 78 SQL-CSR0-LEN VALUE 105. 　　　　　　　　　　（中略）　　 INITIALIZE DYNSTMT. MOVE SQL-CSR0-DB21 TO DYNSTMT-ARR. MOVE SQL-CSR0-LEN TO DYNSTMT-LEN. EXEC SQL PREPARE STMT1 FROM :DYNSTMT END-EXEC. EXEC SQL DECLARE CSR0_TN_DB21 CURSOR FOR STMT1 END-EXEC. EXEC SQL OPEN CSR0_TN_DB21 USING :BCODE_HST END-EXEC.
Oracle Database の最適な学習方法、技術が身につく方法とは？ 現在は、Oracle Database 11g　試験の勉強中です。 Bronze⇒Silverと目指してます。Goldは費用の関係で受けないかもしれません。 資格目的は、会社の評価UPと報奨金目的ですが。 勉強中ですが、試験勉強＝役立つ知識、作業で使えるか。 というと、けっしてそうではないと思います。 状況としては、今は11gが無料でインストールできて、問題集にとりくんでます。 ゆくゆくは、現場で使える知識・技術を身につけたいのですが、 どんな方法があるのでしょうか？ 現場で覚えるのが最適ですが、現在の世の中では求人も難しい。 そんななかで、Oracleデータベースの技術を身につけるという意味で、 何か最適な方法はありますか？ まはた、私の勘違いで、 問題集を完璧といえるまで理解しすることが、技術習得への道につながるのでしょうか？ 独自に考えて、EMやSQLPLUSをひたすら操作するしかないですか？ また、このような内容に参考になる書籍やサイトがあればご紹介ください。 よろしくお願いします。
oracle 10g サーバ機のＩＰアドレス変更について oracle 10g サーバ機（ＤＢの入っているＰＣ）のＩＰアドレスを変更した所　サービスの起動時にエラーが発生し 正常に動作しなくなりました。 バージョン８などで「コンピュータ名」を変えるとＮＧとなる認識はありましたが 何かご存知な方　教えてください。 よろしくお願いいたします
oracle 10g ユーザやスキーマごとに文字コード指定 oracle10g使っています sjis sjistilde euctilde eucjptilde など いろいろ文字コードがあります　文字コードごとに　それぞれインスタンスを別に しているのですが　1個のインスタンスに統一したいです ユーザやスキーマやテーブルなどで個別に文字コードを指定することは できないのでしょうか
oracle の各列のデータに対して、 SJISのスペース（X'20'）以下の文字（X'00'～X'19'）が、 データ中に含まれていないかどうかを範囲指定（X'00'～X'19'）で 検索したいのですが、どのようにＳＱＬを作成すれば良いでしょうか？ ＜例＞ データ：X'303132003031320130313219' 例では、X'00',X'01,X'19'が存在するので、これらを検索したい。 宜しくお願いします。
oracle10g eucのblobをsjisのcharに変換したい oracle10gでblob型でeuc_jpの文字列を格納しています これをshift_jisのvarchar2に変換したいのですが 無理でしょうか？ utl_raw.cast_to_nvarchar2では文字化けしました
oracle10g expdbコマンドの文字化けについて 以下のとおり、どうにもならないのでしょうか？ http://otn.oracle.co.jp/forum/message.jspa?messa …
SQLでデータを1件だけ取得したいのですが。 以下のようなテーブルが２つあるとします。 ------------------------------------ テーブルA 　　　 テーブルB 　 値X　　　　　　　　 　 値X　　　　値Y 　　１　　　　　　　　　　　１　　　　２０ 　　２　　　　　　　　　　　２　　　　NULL 　　３　　　　　　　　　　　２　　　　６０ 　　４　　　　　　　　　　　２　　　　７０ 　　　　　　　　　　　　　　４　　　　NULL 　　　　　　　　　　　　　　４　　　　NULL ------------------------------------ ここで、テーブルAの値Xと、テーブルBの値Xをリンクさせます。 テーブルAにデータがあれば、テーブルBに無くても出力します（外部結合イメージ） テーブルAの値Xに対して、テーブルBの値Xは2件以上リンクされる可能性があります。 この場合は1件のみ出力します。 その1件の決め方は、テーブルBの値YがNULLでは無く最大の物です。 但し値Yは全てNULLの可能性もあるので、その場合NULLとして1件出力します。 上記の出力イメージ ------------------------------------ 　値X　　　　値Y 　１　　　　２０　　（１件の場合そのまま出力。1件がNULLでもそのまま出力） 　２　　　　７０　　（NULLではない最大の1件を出力） 　３　　　　NULL　　（テーブルBになくても出力） 　４　　　　NULL　　（値が全てNULLの場合、NULLとして1件出力） ------------------------------------ どのようなSQLを記載すれば実現可能でしょうか？
オラクル10ｇで開発を行っています。文字コードはJA16SJISTILDEです。 現在、テーブルの中には条件なしで様々な文字種類のデータが入っているとします。 全角ひらがな・カタカナ、半角数字・カタカナ、全半角英字・記号等です。 例えば”アイウエオ”を含む文字列を検索するselect文を実行したとき、 以下のようなものがヒットします。 ”アイウエオ” ”アイウエオ” ←半角カタカナ ”あいうえお”　←ヒットしてもしなくてもよい。 例えば”ガギグゲゴ”を含む文字列を検索するselect文を実行したとき、 以下のようなものがヒットします。 ”ガギグゲゴ” ”ガギグゲゴ” ←半角カタカナ ”がぎぐげご”　←ヒットしてもしなくてもよい。 例えば”＆”を含む文字列を検索するselect文を実行したとき、 以下のようなものがヒットします。 ”＆” ”&”←半角記号 要は、何が言いたいのかいいますと、全角文字の文字列で検索を行ったとき、 全角・半角の区別をしないで検索結果を得るＳＱＬ文を考えています。 どのようなＳＱＬにすればよいのかアドバイスをお願いします。 もし、ＳＱＬ文のみでは実現不可能であれば、●●●といった形で検索結果を 得てそのうち△△△に該当するデータを抽出するといった複数ステップを踏む 方式でも構いません。
oracleの表の各列に対して、 不正な文字がないかどうかをチェックする方法として、 select　各列名　from 表名　where文で実施したいのですが、 １文字づつチェックするsql文はどのようにしたら良いでしょうか？ 例：abcXXXefg aからgまでをチェックし、XXX部分の不正文字を抽出する。 宜しくお願いします。
SQLで<>を使用するとき、 Where ブランドコード <> '01'という感じで'01'以外のレコードを抽出するときに 複数の否定条件を指定するにはどうしたらいいのでしょうか？ 初歩的な質問ですみません。 Where ブランドコード <> '01' And　 ブランドコード <> '05'を一文で書きたい時の方法です。 よろしくお願いします。
ORACLE DBへ初期化していない領域のレコードを INSERTで追加した場合、どのような値のデータ（文字コード）が 格納されるのでしょうか？
pl/sqlでselect文の結果をCSV出力しようとしています。(oracle 8.16) そこで以下のようにクエリの結果を出力しようとしているのですが、 SQL文の長さが255バイト(文字？)以下ならば正常に動くのですが、 255を超えると正常な結果が返ってこない状況です。 (エラーは発生しないが、結果が1カラム分しか出力されない。) OPEN c FOR SQL文; LOOP FETCH c INTO vOutputLine; EXIT WHEN c%NOTFOUND; DBMS_OUTPUT.PUT_LINE(SUBSTR(vOutputLine,1,100)); DBMS_OUTPUT.PUT_LINE(SUBSTR(vOutputLine,101,100)); DBMS_OUTPUT.PUT_LINE(SUBSTR(vOutputLine,201,100)); DBMS_OUTPUT.PUT_LINE(SUBSTR(vOutputLine,301,100)); DBMS_OUTPUT.PUT_LINE(SUBSTR(vOutputLine,401,100)); DBMS_OUTPUT.PUT_LINE(SUBSTR(vOutputLine,501,100)); END LOOP; CLOSE c; oracle8だとPUT_LINE などで使用できる一行のバッファサイズが 255 バイトまでという記事があったのでそれが原因かなとおもってのですが、解決方法が分かりません http://www.shift-the-oracle.com/plsql/dbms_output/ 解決方法、もしくは他に原因が検討違いでしたら教えていただけます様お願いします。
nullなどの不正なデータが存在しないかどうかを、 表の全レコード（行）に対して、チェックしたいのですが、 何か簡単で良い方法はありますか？
Oracle SQLの、where句内の条件文について教えてください。 下記SQLの(1)と(2)の記述文を教えてください。 (1)例：owner = sys,admin　ownerがsysまたは、adminを抽出 (2)例：column_name = '*aaa*' column_nameに「aaa」が含まれているデータ SELECT owner, table_name,column_name FROM all_tab_columns WHERE (1)（Ownerを複数指定） 　　and (2)(column_nameに、●●が含まれるデータ）
SQLで取得可能でしょうか 今２つのテーブルがあるとします。 ---------------------- テーブル1 　KEY　　　　項目 　　1　　　テスト１ 　　2　　　テスト２ 　　3　　　テスト３ ----------------------- ---------------------- テーブル２ 　 CD　　名称　 　　1　　　か 　　1　　　き 　　2　　　さ 　　2　　　し 　　2　　　す 　　3　　　た ----------------------- テーブル1のKEYはキーで重複しません。 テーブル2のCDは重複しますが、内容はテーブル1のKEYとリンクします。 今、テーブル1のKEY1件につき、データを1件取得したいのですが、 テーブル2の名称も取得したいです。 データは1件しか取得しない為、名称は、特定文字(例として/）で 区切って取得したいです。 期待したい結果 ---------------------- 　KEY　　名称 　　1　　か/き 　　2　　さ/し/す 　　3　　た ---------------------- このような取得は可能でしょうか？ 尚、SQLの発行は1回のみで行いたいです。 よろしくお願いします。
異常？なカラムのデータについて教えて下さい。 あるテーブルを全件出してみたところ、あぁNULLデータが入っているレコードがあるなーと気づきました。 抽出データには不要だったので“カラム IS NOT NULL”をしてみたのですがNULLデータを持ったレコードが排除できません。 別の方法で “カラム = ''” とか “カラム like '%%'” なんてやってみたのですがデータがNULLになっているものが排除できません。 これは不具合なのでしょうか？
DBに新しいTBLを作成した際に初期エクステントサイズ(いわゆるInitial)を指定しますが、明示的にサイズを指定しない場合、自動的にサイズが付与されるのですが、Oracleは何を元にその値を決定しているのでしょうか??
P/L SQLで値が更新されない。 次のようなプログラムを作成しましたが、ORDER_INFテーブルのKANRYO_DAYの値が更新されません。どこが間違っているのでしょうか。 BEGIN DECLARE CURSOR r_search IS SELECT * FROM ord_search_pattern; BEGIN FOR r IN r_search LOOP UPDATE ORDER_INF t1 SET t1.KANRYO_DAY = r.KANRYO_DAY WHERE t1.ORDER_NO = r.ORDER_NO; COMMIT; END LOOP; END;
SQLの作成について 以下のようなDBがあるとします。 ---------------------- DB1（マスタ） 　区分　　　フラグ　　名称 　　A　　　　1　　　　男 　　A　　　　2　　　　女 　　B　　　　1　　　　車 　　B　　　　2　　　　飛行機 　　B　　　　3　　　　電車 　　C　　　　1　　　　コンビニ 　　C　　　　2　　　　スーパー 　　C　　　　3　　　　百貨店 　　D　　　　1　　　　デスクトップ 　　D　　　　2　　　　ノート ---------------------- ----------------------- DB2 　区分1　フラグ1　名称1　・・・　区分4　フラグ4　名称4 　　A　　　2　　　　　　　　　　　D　　　　1 ----------------------- DB2の区分とフラグから、DB1を参照して 取ってきたDB1の名称をDB2に書き込みたいです。 名称の1つ毎に、SQLを発行し、それぞれ名称を取得するなら where DB1.区分=DB2.区分 and DB1.フラグ = DB2.フラグ みたいな感じでそのまま出来ると思いますが、 今は、１つのSQLでDB2の複数の名称を一気に取得したいと考えてます。 どのようなSQLが良いのでしょうか
Oracle 10g 他スキーマの参照権限をはずす方法 ユーザを２個作成したら、ユーザ名と同一のスキーマが２個できました。 デフォルトで他スキーマの参照権限がついているようです。 この権限をはずす事はできますでしょうか。 以下のSQLでははずせませんでした。 REVOKE ALL ON YAMADA.* TO TANALA;
DBMS_STATS.GATHER_DATABASE_STATSの使い方がわかりません。 PLSQLで下記のように入力して実行しましたが、１時間経っても結果が返ってきません。 　BEGIN 　　DBMS_STATS.GATHER_DATABASE_STATS ( 　　　 OPTIONS => 'GATHER' 　　　,CASCADE => TRUE 　　) ; 　END; 記述が間違っているのでしょうか？ DBMS_STATSの使い方がわかっていないのですが、プロシージャに埋め込まないとダメなものなのでしょうか？
SQLで違うテーブルの値を比較して値に差があるレコードを抽出したいのですがヒントをいただけないでしょうか。 下に例を作ってみました。（テキストに貼りなおしてもらうと見易くなると思います） ＜Aテーブル＞ A1A2A3A4A5 ------- ------- ------- ------- ---------- XXXXXXX XX1ABC32009/05/08 WWCWWCW WW2CCB12008/03/21 DDDDDDD DD1JPN52007/08/08 GGGGGGG GX9SOX21977/01/04 FFFFFFF USJNPB32001/09/11 ＜Bテーブル＞ B1B2B3B4B5 ------- ------- ------- ------- ---------- XXXXXXX XX1ibichaoshimu2002/07/05 XXXXXXX XX1takeshiokada2005/07/15 XXXXXXX XX1kamoshu1857/09/25 WWCWWCW WW2waowao2008/10/22 DDDDDDD DD1uihhh2006/06/30 DDDDDDD DD1jojoj x5xx1999/09/09 DDDDDDD DD1momohara2005/03/07 DDDDDDD DD1itaiu-2003/12/22 DDDDDDD DD1komanogoal2007/04/26 GGGGGGG GX9 damerecord2009/11/14 FFFFFFF USJ ikitai1995/08/15 FFFFFFF USJ sstebuspi2004/01/05 FFFFFFF USJ bbpp2009/08/23 A1とB1は主キー、A2とB2は副キーです。 Aテーブルの「A4」カラムにはBテーブルのレコード数を持っています。（主キー、副キーが同じものの） しかし、よくよく見るとAテーブルの「GGGGGGG」のA4には「2」のはずなのにBテーブルには実際にレコードは１つしかありません。 こういう状態になってしまっているのを割り出したいのですがどのようにA4とBテーブルで数があってないものを抽出できるでしょうか。 よろしくお願いいたします。
Oracle10.2.0.4 のDATE型へのインサートについて 例えば INSERT INTO テーブル名(DATE型の項目) values(TO_DATE('20100819','YYYYMMDD')) で追加した場合、時刻は何時で入るのですか？ ご存知の方、教えて下さい！ 宜しくお願い致します
oracleに資格認定について 以前oracle Bronze SQL 基礎1 [1ZO-017]に合格しました。DBAはまだとっていません。 試験結果レポートに認定申請を3年以内に実施して下さいと書かれていたのですが。 その記載ページを見ても、1ZO-017の科目見当たりません。 (bronze10g、11g単位ではあるのですが) DBAを取得して、bronze11gとなってから認定申請するのでしょうか？ SQL 基礎1だけでも行う必要があるのなら方法を教えて下さい。 宜しくお願いします。
重複するレコードを調べるSQL 初歩的な質問ですみません！ 重複するレコードを調べるために以下のようなSQLを作ったのですが、 遅くて困っています。 もっと速くする方法があれば教えてください！ 異なるカテゴリーでも商品コードが重複しているものがないかを探すSQLです。 SELECT A.商品コード, A.X, B.カテゴリー FROM (SELECT COUNT(商品コード) X, 商品コード FROM テーブルA WHERE 追加年月 = 201008 GROUP BY 商品コード) A, (SELECT 商品コード, カテゴリー FROM テーブルA WHERE 追加年月 = 201008 ) B " WHERE A.X >= 2 AND B.商品コード = A.商品コード
otn がメンテ中なのですみませんどなたか助けてください。 Win2003 R2 Oracle 9i CPUを大量に消費しているユーザーがいたため、プロファイル、コンシューマ・グループで 制限をかけようとしたところ、SYS / SYSTEM でログインしてもSQLが発行できない状態に。 ORA-07454:キュー・タイムアウトの0秒を超えました とメッセージが出て、OEM も使用できず、SQLも発行できない。 プロファイル情報を初期化する、PUPBLD.SQL を実行しろとどこかに書いてあったのですが、 SQLが実行できないため、どうしようもない状態です。 どなたか助けてください。 追加の情報が必要なら記載します。
グループ関数でソート処理は発生しないのでしょうか？ GROUP BY句でグルーピングした後にMIN関数やMAX関数などを使えばソート処理が走るような気がしますが、実行計画を確認したところソート処理が走らずに適切な値が取得できました。 データは300万件あり、インデックスは貼ってないです。 GROUP BYでソート処理は走らないものなのでしょうか？
SQLの作り方についてご教授下さい。 以下のようなDB及び条件があるとします。 ・DB ---------------------- 　No　　　フラグ　　　金額 　　1　　　　1　　　　　100 　　2　　　　0　　　　　200 　　3　　　　0　　　　　700 　　3　　　　1　　　　　500 　　3　　　　1　　　　　400 ---------------------- ・抽出条件 　フラグが1である物のみ抽出対象とします。 　同一Noについては、1件しか出力しません。その1件の決め方は 　フラグが1である事が前提で、金額が大きい物を取得します。 上記の抽出したい結果 ------------------ 　No　　　フラグ　　　金額 　　1　　　　1　　　　　100 　　3　　　　1　　　　　500 ------------------ これを取得するSQLの作成方法が分かりません。 どのように作成すれば良いでしょうか？
SQLローダーCSV取込で、囲み文字がデータ中に入っている場合について お世話になります。 SQLローダーでCSV取込を行っています。 設定は下記のようになっており、区切り文字はコンマ　 囲み文字はダブルコーテーションを指定しています。 LOAD DATA TRUNCATE CONTINUEIF LAST != '"' INTO TABLE WORKTABLE FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"' TRAILING NULLCOLS ( data1 char, data2 char, data3 char ) このように取り込んだところ、下記のような行でエラーが発生しました。 「"data1","data2",""文字列,文字列""」 どうやら元々ダブルコーテーションで囲まれていたデータが CSV出力時にもう１度囲まれた状態のようです。 エラー内容 「TERMINATEDとENCLOSEDフィールドに続く終了記号がありません。」 原因はダブルコートであることはわかっています。 色々試したのですが、うまくいきません。 このデータをうまく取り込む方法はあるのでしょうか よろしくお願いいたします。
実行計画の「COST」と「BYTE」について教えていただきたいです。 書籍には COST・・・・CBOによって見積もられた操作コスト。 BYTE・・・・アクセスされるバイト数のCBOのアプローチによる見積もり。 と書かれていますが、いまいちピンときません。 私は、 COSTは、検索するテーブルのデータ量が多いほうがコスト値が大きくなる。 BYTEは、検索条件に合致して取得できるデータが多いほうがバイト値が大きくなる。 と思っているのですが、正しいでしょうか？
別レコードと比較条件文 下記のテーブルがあります。 ・番号1から始まり番号が2に採番されると、履歴番号に番号1が入ります。 ・履歴番号はひとつ前の番号を持ちます。 ・Aテーブルのレコード数は100以上あります。 Aテーブル ID 番号　履歴番号 A 1　NULL A 2 1 A 3 2 B 1　NULL B 2 1 B 3 2 結果として出力させたいのは、変更回数です。 ・履歴番号は実際のデータですと10桁の複雑な文字列です。 ほしい出力結果 ID 番号　履歴番号 変更回数 A 1　NULL 0 A 2 1 1 A 3 2 2 B 1　NULL 0 B 2 1 1 B 3 2 2 行いたい条件式とは、 一行目：履歴番号がNULLのときは変更回数0とする。 二行目：履歴番号が他レコードの番号と一致する場合、1を持つ。そのレコードの履歴回数がNULLなら判定終わり。 三行目：履歴番号が他レコードの番号と一致する場合、1を持つ。そのレコードの履歴番号が更に他レコードと一致する場合、2を持つ。そのレコードの履歴回数がNULLなら判定終わり。 このようにして変更回数を設定したいのですが、思いつきませんのでご教示お願いできますでしょうか。 試してみたのは、DECODE(履歴番号,'','0',番号,1) とまでためしに作りましたが、同じレコード同士の比較になってしまうため、比較できません。
sqlのチューニングをしていますが、 order by句を使用することにより実行計画のcostが跳ね上がってしまいます。 何が原因なのでしょうか
Oracle10XEをインストールしたがODBCの[ユーザDSN]に追加出来ません。 OSはWindows7です。 また、ドライバにも表示されていません。 解決方法が分かる人は教えてください。
実行計画の「メモリを使用したソート回数」と「ディスクを使用したソート回数」は なにによって変わってくるのでしょうか？ メモリの容量におさまる程度のソートでしたら「メモリを使用したソート回数」で メモリにおさまらないくらいの大量データのソートならば「ディスクを使用したソート回数」と いうことでしょうか？
Group By を使用して任意のカラムの最大値のデータを取得する。 次のようなテーブルデータがあるとします。 　　ID　　　　店舗CD　　　　適用日付 　　A001　　　101　　　　　 20100701 　　A002　　　101　　　　　 20100801 　　A003　　　101　　　　　 20100901 　　B001　　　102　　　　　 20100701 　　B002　　　102　　　　　 20100801 　　B003　　　102　　　　　 20100901 抽出イメージですが、このテーブルデータの店舗コードをGroupByして、MAX(適用日付) としたときにIDが取得できなくなります。 なのでGroupByしたときの日付最大値のデータのIDを取得したいのですがいい方法が浮かびません。 　同じテーブルデータでGroupBy(店舗コード)、MAX(適用日付)としたサブクエリを(店舗CD=店舗CD）、(適用日付=適用日付)とInnerJoinする方法も考えましたが、万が一、適用日付と店舗CDが同一のものがあった場合、店舗CDが重複してしまいます。 　各店舗CDの最大適用日付のID取得したいのです。 なのでイメージはGroupby(店舗CD)とMAX(適用日付)とした時にMAX(適用日付)のIDを取得し、 なおかつ欲をいえば、MAX(適用日付)のIDが複数存在する場合は、１店舗CDにつき一つの適用日付を取得したいです。(この際、IDはなんでもいいです。) 簡単そうなことですごく悩んでいます。 どなたか助けてください。 よろしくお願いします。
Sql developerについての質問 いつもお世話になります。 私はオラクル初心者で、オラクル１１ｇを使用しています。 現在、Sql developerでpl/sql（ストアドプロシージャー）を 作成しています。 そして、躓いておりますのは、select内の構文で条件式を書いて いるのですが、そこでコンパイルエラーになってしまっています。 オラクルは、ifではなくdecodeを使うのか、又は条件式の内容が悪いのか 又は長すぎるのかご教示頂きたく、宜しくお願い致します。 　　　　　　　　　　　　記 decode ((a.最大在庫-(b.場内在庫-b.引当数量))>0, a.最大在庫-((TRUNC(b.場内在庫/b.入数,0))*b.入数)AS 補充数量,'-'), (a.最大在庫-(a.最大在庫-((TRUNC(b.場内在庫/b.入数,0))*b.入数))) AS 補充梱包数量,
オラクルについての質問 いつもお世話になっております。 オラクル初心者でヴァージョンは１１ｇを使用しております。 そしてＳｑｌ ｄｅｖｅｌｏｐｅｒで 現在ストアドプロシージャでカーソルを使った割と単純な ＰＬ／ＳＱＬを作成しているのですが、コンパイルエラー が出ており、その原因が掴みきれないでいるのですが、 例えばステップインの様な機能はないでしょうか。 順を追ってどこにエラー原因があるのかを確認したいのです。 ご教示の程、宜しくお願い致します。
Oracleのarchivelogアーカイブログについて質問です。 全く知識がないにも関わらずシステムの管理者をやることになり日々勉強しているのですが参考書やネットの内容は、難しくなかなか理解することができません。 調べろよと言わず教えてくださいm(_ _ )m とりあえず、archivelogがリカバリに必要なものであることと、データベースの更新や削除のたびにデータを吐き出していることまではなんとか理解できました。 （１）社内のデータベースのarchivelogが合計１０ＧＢくらいあるのですが これは普通なのでしょうか？ ＨＤＤの容量も近くなってきたのでできれば消したいのですが・・・（消し方は調べたので大丈夫です） 設定で数日置きでローテーションかけたりもできるようですが、何日分あればよいのでしょう？1日に1度、ＥＸＰコマンドでダンプを取っているので1日分あればよいのでしょうか？ （２）データベースの更新や削除のたびに、吐き出されているようですが、監査ログとして使えるデータも入っていたりするのでしょうか？（どんなＳＱＬが流れたか等） archivelogはリカバリ以外にも用途はあるのですか？
結合について質問です。 ■テーブル TOIAWASE A KOKYAKU B TOIAWASE_TAISHOU C MOUSIKOMI_INFOMATION D MOUSIKOMI_INFOMATION E KINMU_MASTER F ■結合 A.KOKYAKU_NO = B.KOKYAKU_NO AND　※１：１ A.TOIAWASE_NO = C.TOIAWASE_NO(+)　※１：１ C.MOUSIKOMI_TYPE = D.MOUSIKOMI_TYPE(+)　※１：１ D.OLD_MOUSIKOMI_TYPE = E.MOUSIKOMI_TYPE(+)　※１：１ A.KINMU_CD = F.KINMU_CD(+)　※１：１ ■データ整合性について Aがある場合、Bは必ずあります。 Aがある場合、Cはあるとは限りません。 Cがある場合、Dは必ずあります。 Dがある場合、Eがあるとは限りません。 Aがある場合、Fがあるとは限りません。 Aをもとに問い合わせ一覧を取得したいです。 Aがある場合、Cがあるとは限らないため、それに紐づくテーブルは全て外部結合をするしかありません。 一応、上記SQLでも取得はできるのですが、他に良い（効率の良い）SQLはないのでしょうか？ 宜しくお願いします。
結合SQLに関して ある３つのテーブルが存在し、TABLE1の情報を核として、TABLE2,TABLE3と 結合させて情報を取得しようと考えています。 TABLE1とTABLE2だけであれば　LEFT OUTER JOIN等を駆使すれば、TABLE1を核として 全件表示可能かと思いますが、TABLE3も含めて結果のような形にしたい場合は、 どのようにSQLを記述すれば良いでしょうか。。。。 初歩的な質問で申し訳ありませんが、教えて下さい。 TABLE1 NO 1 2 3 TABLE2 NO,BUSYO_CODE 1,123 2,123 3,456 TABLE3 BUSYO_CODE,BUSYO_NAME 123,総務 456,経理 結果 NO,BUSYO_CODE,BUSYO_NAME 1,123,総務 2,123,総務 3,456,経理 よろしくお願いします。
Oracleで「文字が無効です」のエラーが出ます JavaからOracleに接続して、SELECT文を発行していますが、何度試しても上記のエラーが出ます。 発行しているSELECT文を、SQLPlusから打ち込むとちゃんと実行できます。 何が悪いのか見当がつきません。 お知恵をお貸しください。 ちなみに、対象テーブルの項目はvarchar2とnumberだけの項目ばかりで、日本語は使ってません。 また、Oracle初心者です。 環境 端末：WindowsXP Oracle：10g Express Edition　※文字コードはAL32UTF8 IDE：Eclipse3.5　※設定-一般-ワークスペースのテキストファイルエンコードはUTF-8
オラクルにて オラクルデータベースへ新規テーブルをエクセルからインポートしようと していますが、その中で、●の記号（マーク）しかないフィールドがあり、 このデータ型は何にあたるか教えて頂きたく、もしかしたらこの記号は オラクルへ移行出来ないのかも知れないと思ってもいますが、 ご回答下さいます様宜しくお願い致します。
Oracle ClientをインストールせずにAccessからOracleへ接続する方法はありますか？ Oracle10g Windows XP(クライアント） Access(2003) Windows 2008(サーバー）
大量レコードをTRUNCATEせずにすばやく削除する方法 １００万レコードあるテーブルのうち１万レコードを残して削除したい。TRUNCATEではWHERE句が指定できないので不可。DELETEでは遅すぎる。何かいい方法はないでしょうか？ １万レコードを一時テーブルに退避してTRUNCATE後に１万レコードをINSERTというのは無しです。１万レコードが１秒でもテーブル上から消えてはいけません。 Oracle10g
ORA-14459: GLOBALキーワードがありません。 以下のSQLを実行したところエラーになりました。 GLOBALキーワードとは何でしょうか？原因を教えてください。 SQL> CREATE TEMPORARY TABLE TEST AS SELECT SYSDATE FROM DUAL; CREATE TEMPORARY TABLE TEST AS SELECT SYSDATE FROM DUAL * 行1でエラーが発生しました。: ORA-14459: GLOBALキーワードがありません。 ORACLE 10g Windows 2008
やむをえずOracle10g上でテーブルを全件取得せざるをえない案件があります。 ま、時間がかかるのは承知の上なのですが、少しでも短くするため 1.DB本体はSSD上にのせる 2.GigabitLANでサーバーとクライアントをつなぐ をしております。 上記以外に、ハードウェア的に対処できる方法ってありますでしょうか？
オラクルsql developerにて お世話になります。 単純なsql文だと思うのですが、下記の where句の内容（解釈）が良く理解出来ないのです。 ||が、「または」でその後の'%'がどう言う意味 なのか分からないのです。 どなたか親切な方、ご教授頂きたく、宜しくお願い 申し上げます。 記 where　商品種類　like　'aa10%' || '%'
はじめまして oracleで聞きたいのですが 10gでdba_tablesは使えないのでしょうか？ よろしくお願いします。
oracle10gのインストールについて ２台のPC(WindowsXP Pro (1)(2))に各々、oracle10g Standard Editonをインストールします PC(1)に外付けデイスク(E:ドライブ)を付けPC(1)でDATABASEをE:に作成します PC(2)でINIT.ORAをCONTOROL.ORA(制御ファイル)をE:から参照するように設定すれば PC(2)からでも外付けのDATABASEを参照することができますでしょうか。
ストアドプロシージャからストアドプロシージャを呼ぶことはできるか？ Oracle10g WindowsServer2008 Aというプロシージャ内でEXECコマンドを使ってBというプロシージャを呼ぶようにしたところコンパイルエラーになりました。ストアドプロシージャからストアドプロシージャを呼ぶことはできないのでしょうか？
表領域(users)の中身を整理したい 使用していない表領域(users)にどこのユーザーの何のテーブルが存在するのかを調べる方法は御座いませんか。 select TABLE_NAME, TABLESPACE_NAME from user_tables order by TABLESPACE_NAME 上記の場合、ユーザが主となりどこの表領域を使用しているかの確認になるので、 今回必要としている　”表領域が主となり　どのユーザの何のテーブルが存在するか”ではないため そのほかの方法をご存知の方、お教えください。
Pro*cのfetch open後にfetch closeし忘れた場合、どのような影響があるかどなたか教えていただけませんか。
teraterm上でsqlplusにログインし、ヒストリ機能を利用する方法を教えてください。 業務でsqlplusを利用してDBを管理する際に、Teratermを利用しています。 その時、以前のsqlplusコマンドを利用するために、ヒストリ機能を使いたいのですが、 ↑矢印コマンドを押すと^[[Aと表示され、ヒストリ機能が使用できません。 この事象を回避し、ヒストリ機能を利用することは可能でしょうか。 実施環境は下記のとおりです。 【DBサーバ】 OS：RHEL5 SHELL:bash 文字コード：Japanese_Japan.UTF8 【接続クライアントPC】 OS:WindowsXP SP3 TeratermVersion：4.65 Teratem文字コード：UTF-8 よろしくお願いします。
11gのデータ(dmp)を10gに移行する方法をお教えいただけないでしょうか。可能であれば、exp/impコマンドにて実行したいと考えております。
データソース名および指定された既定のドライバが見つかりません。 オラクルに接続したのですが、上記のエラーが出て接続出来ません。 どなたか力を貸してください。 <環境> WinXP VS2005 Ver8.0.50727.42 Windowsアプリケーション VB言語でオラクルに接続したいと思っています。 こちら（http://support.microsoft.com/kb/310985/ja）を参考に オラクルに接続しようとしています。 Dim cn As OdbcConnection cn = New OdbcConnection("Driver = {Microsoft ODBC for Oracle};" & _ "Data Source=ORA_TEST;uid=UID_TEST;pwd=PWD_TEST") Try cn.Open() MsgBox("Connected") Catch ex As Exception MsgBox("NG") Debug.Print(ex.Message, "Error") ←(A) Finally cn.Close() End Try (A)で「ERROR [IM002] [Microsoft][ODBC Driver Manager] データ ソース名および指定された既定のドライバが見つかりません。」 のメッセージが出ます。 VB2005の「ツール」-「サーバの接続」では接続確認が取れているのですが、 コードで書くとエラーになってします。 何か書き忘れているのでしょうか。。。 すみませんがよろしくお願いいたします。
オラクル　クラサバ環境で動作が遅くなった。 お世話になります。環境は、 サーバー：２００３SERVER、クライアント：XPPro、ORACLE：9i サーバーはDBサーバとしてのみ使用。毎日、２時間ほど電源を切っています。 （自動で定時にシャットダウンして立ちあげている） 現在、クライアント３台にアプリケーションを入れて作業をしています。 ２年ほどは機嫌よく動いていたのですが、２か月程前に作業が遅くなり 現状のデータをバックアップし、サーバーのDBをDROPして バックアップデータをサーバーに再インストールしたところ作業速度も元の戻りました。 ところが数日前からまた、動作が遅くなり始めました。 原因として考えられることをご教授宜しくお願いします。 アプリケーション作業以外は、作業は普通にできます。 以上　宜しくお願いします。
ビュー表等の修正について Access2002とOracle9.2で作成したシステムがあります。 あるレポートを作成するため、ODBCリンクテーブル（ビュー表）を作成してあります。 しかし、レーポートに出力項目を増やしたいため、レポート作成のためのODBCリンクテーブル（ビュー表）に項目(フィールド)を増やしたいのですが、普通にテーブルをデザインで開いて、項目（フィールド）を追加して保存しようとすると「リンクテーブルのプロパティの変更を保存することはできません。」と表示されてしまいます。 初心者なもので、書き込みのしかたに不備があり、質問内容がわかりづらいかもしれませんが、宜しくお願い申し上げます。
DBMS_OUTPUT.PUT_LINEを実行したらすぐに画面表示する方法 Oracle 10g を　SQLPLUS で使っています。 ストアドプロシージャ内に多数のDBMS_OUTPUT.PUT_LINEを記述しておりますが、プロシージャが終了しないとDBMS_OUTPUT.PUT_LINEの出力結果がが画面表示されません。 たとえば10分の処理だと10分後にまとめてDBMS_OUTPUT.PUT_LINEの表示がされるのですが、DBMS_OUTPUT.PUT_LINEが実行されたタイミングでリアルタイムに画面表示する方法はありますか？
Oracle 10g 複数のDELETE UPDATE INSERT文をプロシージャにまとめたところパフォーマンスが落ちてしまいました　1個ずつ適用するのは正直めんどくさいので　プロシージャにまとめて実行しても　パフォーマンスを落とさない方法はありますか？ プロシージャ内ではSQL１つごとにComittしているのでTransactionが原因でパフォーマンスが落ちているということはありません
SQLで抽出可能でしょうか？ Javaでツールを作成しています。 開発環境はjava 1.4、oracle 10gです。 処理の中にデータベースからレコードを取得する箇所があります。 10,000件のデータを保持する社員テーブル(syain_tbl)から 社員番号(syain_no)をキーに社員名(syain_name)を取得します。 現時点で作成したSELECT句は以下のとおりです。 select syain_no, syain_name from syain_tbl where syain_no in ('0001','0002','0003') 仮に'0001'と'0003'のレコードがあり、'0002'のレコードがない場合の結果は syain_no syain_name 0001 テスト太郎 0003 テスト三郎 となります。 ですが、実現したいことは 「条件に指定した社員番号のレコードがなかったとしても、結果として取得したい」です。 つまり求めたい結果としては syain_no syain_name 0001 テスト太郎 0002 (null) 0003 テスト三郎 です。 一時表を作成して外部結合させればうまくいきそうですが、 できればDDLなしで実現させたいです。 上記のSELECT句を修正して結果を求めることは可能でしょうか？ (WHERE句にある社員番号をIN条件にしている箇所は、 一度に複数件のレコードを取得したいので変更はできません)
８ｉで保存したＤＭＰデータの１０ｇでのインポートについて ８ｉで保存したＤＭＰデータの１０ｇでのインポートについて 仕様上はＯＫのはずなのですが　うまく動作できません。 （下記のメッセージとなります） 保存の時かインポートの時に何かオプションがいりますでしょうか。 ＝＝＝＝＝＝=============== 接続先: Oracle Database 10g Enterprise Edition Release 10.2.0.1.0 - Production With the Partitioning, OLAP and Data Mining options インポート・ファイル: EXPDAT.DMP > C:\EXPDAT.DMP 挿入バッファ・サイズを入力してください(最小値8192)。30720> エクスポート・ファイルはEXPORT:V08.01.07によって従来型パス経由で作成されました IMP-00013: DBAのみ別のDBAがエクスポートしたファイルをインポートできます。 IMP-00000: エラーが発生したためインポートを終了します。
OracleのUnion内でそれぞれのOrderBy結果を反映する方法について AテーブルからデータをBの昇順で一覧を取得する際、Bの特定のコードを先頭に持ってこようとしています。 例）金融機関テーブル(BANK)を金融機関コード(BANK_CK)の昇順で並び替えるが、全銀の'9999'を先頭に持って来たい。 (SELECT BANK_CD FROM BANK WHERE BANK_CD = '9999') UNION (SELECT BANK_CD FROM BANK WHERE BANK_CD <> '9999' ORDER BY BANK_CD); としてしまうと、「ORA-00907： 右カッコがありません。」のエラーとなります。 SELECT 0 "PRE_KEY", BANK_CD FROM BANK WHERE BANK_CD = '9999' UNION SELECT 1 "PRE_KEY", BANK_CD FROM BANK WHERE BANK_CD <> '9999' ORDER BY PRE_KEY, BANK_CD; としてやると、値は並び変わりますが、いらない"PRE_KEY"が取れてしまいます。 BANK_CDだけ取得する方法はありますでしょうか？oracle11gです。
Ｏｒａｃｌｅ　８ｉworkgroupServerのインストールについて windows 2000で使用していますが　windows　XPでは不可でしょうか 試みましたが　インストーラ起動後エラー表示もなく先へは進みませんでしたので お伺いします。
ハッシュ結合について (1)駆動表のサイズを調べる方法はあるのでしょうか？ ハッシュ結合は駆動表の大きさがhash_area_size以下の場合有効（処理速度が速い）とあったのですが… (2)また、条件が等価結合の場合とあったのですが WHERE t1.YMD = t2.YMD AND t1.srv_cd = t2.srv_cd AND t1.no < t2.no のような場合どうなるのですか？ 等価部分の条件までで作成されるのか、等価条件以外が入ってしまっているので作成されないのか… 本やネットで調べてみたのですがわかりませんでした（調べ方が悪いだけかもしれませんが）。どなたかお願いしますm(_ _)m
オラクルマスターと小規模ウェブサイト構築の就職について こんにちは。 自分は現在、オラクルマスターのブロンズ（SQL基礎１）の勉強をしていますが、希望としては、30人程度の企業でウェブ作成をしている企業さんにPG,SEとして入りたいと思っています。 MySQLが主流とのことですが、SQLさえできればデータベースは応用が利くと思い、オラクルマスターを取ろうと思ったのですが、実際には、どうなのでしょうか？ 小規模WEBサイトの作成でもオラクルマスターの知識は評価されるのでしょうか？ チケットを買ってしまったので後戻りはできませんがｗｗ 現状を知りたく質問させていただきます。 お詳しい方、是非ご回答お願いします。m（＿＿）ｍ
某大手運送会社関連企業で使用しているＳＱＬツールについて。 私はＳＥを１０年くらいやっています。ＤＢはOracleを使うことが多く、SQLの抽出結果の確認や検証などはPL/SQLなどを使用するか、市販のソフトなどを使用していました。 先日、出向で某大手運送会社のシステム会社にいったときのことです。 「データ○○.xls」（仮名）というEXCELで作られたファイルを渡され、「SQLの確認・検証はこれでやってください」と言われました。EXCELのワークシートにSQL文を貼付け、実行するだけでPL/SQLなど同じような結果が得られ、なおかつワークシートなので使いやすいというものでした。 たしかに抽出するSQL文や検索結果が保存できるのでかなり使いやすかったのですが、１つ疑問に思いました。 この「データ○○.xls」（仮名）というツールがその某大手運送会社のシステム会社の社員の人が独自に作ったらしく、現在都度バージョンアップしながら、どの社員の人も契約社員の人も必項ツールとして使用しています。（非売品です） ただ、このツールってOraceのPL/SQLのように公に認められているツールではないので、これで検証して大丈夫なのでしょうか？ユーザーから「大丈夫か？」と言われる可能性はないのでしょうか？ たしかに某大手運送会社関連のシステム会社で、ユーザーも関連会社がほとんどなのですが、ユーザー側の会社もこのツールを使っているので、誰も不思議に思っていません。 それとも、検証結果がよければ、バグがなければそれでいいのでしょうか？ もちろんわたしも１０年以上ＳＥやってて、全然知らなかったし、そこの社員の人が自作したツールですので、それで検証してもユーザーに認められるのか？と思いました。
oracle ストアアドプロシージャ名の取得変数 oracle10gを使っています たとえばユーザ名を取得する場合はUSERと記述すれば取得できますが、 ストアアドプロシージャ名を取得する変数はありますか？
プライマリキー名からテーブルを特定する方法 Ｏｒａｃｌｅ　１０ｇ　でプライマリキー名からテーブルを特定することはできますか？システム管理者ではないのでＳｙｓｔｅｍ権限は持っていません。
Oracle Master　Bronze 11g を受験するにあたり参考書で迷っています。 本日、ＤＢＡ11gの試験を受けてきたのですが、５４％で合格出来ず。。。 今までＤＢＡ10g黒本と　めざせオラクルマスター　と　ＩＴトレメ を中心にやってきて、それらに載ってた問題はほぼ正解してたのですが、 演習問題以外の記述で細かい部分まで覚え切れていなくて不合格だったって感じです。 例えば、 問：一貫性バックアップが行われるのは ・ＤＢクローズ時でインスタンス停止時 ・ＤＢクローズ時でインスタンス起動時 （選択肢を上記二つまで絞れるけど、ＤＢクローズ時としか覚えてなくその後がわからなかった） 問：期限が切れたバックアップファイルに関する動作 ・フラッシュバックリカバリ領域に格納されていたモノは自動で削除する必要があるかないか ・その他の領域に格納されていたモノは自動で削除するか手動で削除するか 上記のような問題でてこずって、でも10gの黒本を読み返すと、両方ともちゃんと載ってるんですよね。。。 なので、これから１１ｇの黒本買うよりは、10ｇの黒本をもっと読み込んで、 徹底攻略 ORACLE MASTER Bronze DBA11g問題集を買って演習をした方がいいのかな？ と考えたのですが、経験者の方アドバイスをお願いします。 後、SQLの方もこれから参考書を買うのですが、 これも徹底攻略の問題集を・・・と思ってるのですがどうでしょうか？ SQLの方は業務で４～５年やってますので、関数知識や、エラーになる文等直に感じて覚えてる面があるので、問題集だけで大丈夫かなと思ってるのですが。。。 御意見よろしくお願いします。
JOINを使ったSQL文を作成しようとしています。 以下の様な3つのテーブルがある場合のSQL文を教えて下さい ※勉強の為、適当なテーブルを作成しましたが、やりたい事は 　JOINの中に更にJOINさせたSQL文を作成したいと思ってます 表A 　USER_ID(プライマリキー) 　NAME 表B 　USER_ID(プライマリキー) ※表A.USER_IDと紐着く 　BUMON(プライマリキー) 　TERM(プライマリキー) 表C 　BUMON(プライマリキー) ※表B.BUMONと紐着く 　TERM(プライマリキー) ※表B.TERMと紐着く 　MEMBER 【取得したい項目】 　表A.USER_ID 【抽出条件】 　表CのMEMBERの値が'10','20'以外(である表AのNAMEを取得)
はじめまして SQL初心者で先月始めたばかりなのですが "Oracle Enterprise manager" でユーザーを作り、同じDB内のユーザーのスキーマー内にある テーブルをエクスポート/インポートしたいのですがうまくいきません。 エラーとして ”このSQL文は無効です” ”この文字は無効です” ばかり出てきます。もしわかる方いらっしゃいましたらアドバイスよろしくお願いします。 私が打ったSQL文は以下のとおりです↓ 1,エクスポート ====================================== $exp mmmap/mmmap@mmmap file=c:\tableoutput.dmp lows=y tables=(T_FUKUSU_URIBA) ====================================== ユーザー：mmmap パスワード：mmmap ホスト文字列：mmmap ファイルを格納したい居場所：マイコンピューターのC￥ エクスポートしたいテーブル：T_FUKUSU_URIBA 2,インポート ====================================== $imp user01/user01234@mmmap file=c:\tableoutput.dmp log=imp.log fromuser=mmmap touser=user01 ====================================== インポートしたいユーザー：user01 パスワード：user0123 ホスト文字列：mmmap インポートしたいテーブル：T_FUKUSU_URIBA
オラクル　ブロンズとは？ 先日、友人にオラクルのブロンズに受かったと聞かされました。 聞いたこともなかったので本人に聞いてみましたが、非常に用語が多い説明で、いちいち「その単語の意味は？」と話を折る質問が出来なかったので、家に帰って自分で検索してみました。 しかし、自分は大学生で、パソコンは日常で殆ど使いません。なので、よくわかりませんでした。 オラクルという企業、また資格は、一体どういった趣旨で存在しているのか、「ブロンズ」というランク(？)は、どのような価値があるのか知りたいです。 漠然とした質問で申し訳ありません。 どなたかご存知の方、PC初心者でも理解出来るような、平易な解答よろしくお願い致します。 以上です。
ANDとORの正確な理解が出来ません。。 お世話になっております。 現在、翔泳社の黒本を参考書にOracle11gのSQL基礎Iの学習をしております。 １点、どうしても参考書の解説を読んでも理解できない問題がありまして、 質問いたします。 問題：次のSQL文と同じ結果になるものはどちらか選びなさい SELECT * FROM EMP WHERE DEPTNO NOT IN (10,20); a.SELECT * FROM EMP WHERE DEPTNO <>10 or DEPTNO <> 20; b.SELECT * FROM EMP WHERE DEPTNO <>10 AND DEPTNO <> 20; （正答はb.） 問題のSQL文のWHERE句は「DEPTNOが10でも20でもない物」を取ると理解しています。 そしてa.の文は「10でない、または20でない」、 b.の文は「10でない、かつ20でない」、 と理解しています。 テーブルの中にDEPTNOの値が　「5,10,15,20,25」だったとして、 問題文もa.もb.も5,15,25が取られるのではないか？ なぜb.のみが正解なのか？どうしても理解できません。 どういうレコードがあるとき、a.　と　b.の結果は変わるのでしょうか？ 基本的な質問をしてしまいますが、宜しくお願いします。
oracle10g update件数の取得方法 pl sql(stored procedure)で複数のupdate文を適用します。update後にupdateしたレコード件数をログテーブルにinsertしたいのですが、updateしたレコード件数を取得する方法はありますか？
Oracle11gのサーバ版とクライアント版が無料のトライアル版でそれぞれ一つのPCにインストールできると聞きました。 質問としては (1)そもそもクライアント版とサーバ版などの違いは無料版であるのか？ (2)それぞれどこで入手できるのか？ が知りたいです。よろしくお願いします。
内部結合する時の結合条件と制約条件について 下記の例の場合の結合条件と制限条件の書き分けを 教えて下さい。 table1: no|type --------- 1| A 2| B 3| C 4| A 5| C table2: no|type|name|locale ------------------- 1| A |ネコ| ja 2| B |イヌ| ja 3| C |トリ| ja 4| A |cat | en 5| B |dog | en 6| C |bird| en 取得したいデータ： no|type|name ------------- 1| A |ネコ 2| B |イヌ 3| C |トリ 4| A |ネコ 5| C |トリ SQL： SELECT t1.no, t1.type, t2.name FROM table1 t1 INNER JOIN table2 t2 ON t1.type=t2.type AND t2.locale='ja' または SELECT t1.no, t1.type, t2.name FROM table1 t1 INNER JOIN table2 t2 ON t1.type=t2.type WHERE t2.locale='ja' となると思うのですが、 t2.locale='ja'の条件は 結合条件とするのと制限条件とするのとで 違いがあるのでしょうか？ もし違いがない場合はどちらが一般的でしょうか？ よろしくお願いいたします。
Oracle10gで1つのSQLで複数回同じテーブルを結合する場合のパフォーマンス向上 Oracleで1つのSQL内で同じテーブルを2回以上結合すると結果出力にかかる時間が非常に遅くなります。 例：　SELECT * FROM A, B b1, B b2 WHERE a.id = b1.id AND a.id = b2.id (テーブルBを2回結合している) こういう場合にパフォーマンスを落とさない方法はありますか？テンポラリテーブルでテーブルBのレプリカを作成して使用するというのはなしです。あくまで1つのSQLで結果出力できることを前提にパフォーマンスを向上する方法を教えてください。
異なるOracleサーバ上のテーブルを結合する方法 IPアドレスが異なるOracleのテーブルを結合して出力したいのですが可能でしょうか？2つのテーブルをローカルにダウンロードして結合表示するとパフォーマンスが悪いので、2つのサーバから直接データをダウンロードしたいのです。2つのOracleサーバは読み取り権限しか与えられておらず、SELECT文ぐらいしか使えません。 Oracle 10G Windows 2003 Server
SQL　MAX関数を検索条件にする。 わかる方がいれば助けてください。 下記のようなデータのテーブルあります。 　　ID　　　　　　　　品番　　　　　 金額　　　　　　　　　　日付 OUTLET 210　　00182-1080 　　5600　　　　　　　　　20090915 OUTLET 214　00182-1080 　　5600　　　　　　　　　20090916 OUTLET 217　00182-1080 　　5600　　　　　　　　　20090917 OUTLET 50　00182-1080 　　5600　　　　　　　　　20090609 OUTLET 437　00191-1082 　　3300　　　　　　　　　20100305 BLK09SS703　00191-1082 　　5500　　　　　　　　　20090703 OUTLET 141　00191-1082 　　5500　　　　　　　　　20090717 OUTLET 170　00191-1082 　　5500　　　　　　　　　20090806 このテーブルデータの各品番について最新日付のデータのみを出力したいのですが、 方法がわかりません。group byでHAVING検索なども試しましたがうまくいきませんでした。 <抽出したいデータ> 　　ID　　　　　　　　品番　　　　　 金額　　　　　　　　　　日付 OUTLET 217　00182-1080 　　5600　　　　　　　　　20090917 OUTLET 437　00191-1082 　　3300　　　　　　　　　20100305 どなたかお願いします。 前にも同じような質問をさせていただきましたが、 解決できずにこまっています。
SQL　HAVING句？集約関数について 現在、SQLを書いているのですが、集約関数についてわからないことがあります。 下記のようなテーブルについて 　　品番　　　　SEC　　 SUB 倉庫コード 日付 金額 0102A255-****10000141220064201005015700 0102A255-****10000141220064200912267980 0102A255-****10000141220064200910019400 品番をひとつに絞り、かつ最新日付とその金額をもってくるためにはどうしたらいいでしょうか？ ようは一番上のレコードのみ抽出したいということです。 どなたかお願いします。
無料版オラクルがアンインストールできない。 はじめまして、hakuaki21と申します。 このたび、オラクルを勉強しようと思い、無料版のオラクル(OracleXEUniv.exe)をインストールしたのですが、それ以降、ｃドライブにアクセスできなくなってしまいました。 アンインストールをすることもできずに困っています。 アンインストールの仕方がわかる方がいらっしゃいましたら、ご回答よろしくお願いします。 *ちなみにOSはwuindows７です
一度のSQL発行で結果を得るにはどのようなSQLにすれば良いでしょうか？ データベースはOracleです。 二つの履歴テーブルがあり、それぞれ主キーは「連番」です。 連番が最も大きい値の社員番号と社員名を取得しようとしています。 (他にもカラムはありますが質問では省略しています。) 連番は別に管理テーブルがあり、そちらから採番しているので 二つのテーブルで連番が重複することはありません。 【RIREKI_TBL_A】 連番 NUMBER(10) 社員番号 VARCHAR(7) 社員名 NVARCHAR(20) 【RIREKI_TBL_B】 連番 NUMBER(10) 社員番号 VARCHAR(7) 社員名 NVARCHAR(20)
Oracle9i SQLについて 環境：WinXP(SP3),Oracle9i,VB2005 受注のテーブルから未出荷で品番毎に一番早い納期の 受注数を取得したいのですが上手くいきません ご教授願います。 SQL出力結果イメージ 品番　　納期　　 受注数 A 2010/06/01 6 B 2010/05/26 10 C 2010/05/24 1
OracleのSQLについて質問があります。 下記、3つのプログラムを作成する方法が分かりません。 プログラムファイルは、1ファイル、でも、3ファイルでも良い。 (1)A表に存在して、B表に存在しないデータを表示 (2)B表に存在して、A表に存在しないデータを表示 (3)A表とB表どちらにも存在するが、値が違うデータを表示 ※主キーは、A,B A表 | a | b | c | ------------- | 1 | 1 | 1 |→(3)なので表示 | 1 | 2 | 2 |→(1)なので表示 | 1 | 3 | 3 | | 1 | 5 | 5 | B表 | a | b | c | ------------- | 1 | 1 | 0 |→(3)なので表示 | 1 | 3 | 3 | | 1 | 4 | 4 |→(2)なので表示 | 1 | 5 | 5 | 学校の問題なので、自己解決が良いのでしょうが、検討もつきません。 答え、もしくは、ヒントをご教授お願いします。
あいまい条件抽出についてのSQL文について hiroです。 SQL文について、教えてほしいのですが、 下記のようなDatabaseがあったとします。 tableA：カラムA:ABCDE,BCDEA tableB：カラムB:??C?? この場合、例えば、 SELECT * FROM DataBase WHERE tableA.カラムA like tableB.カラムB みたいな感じで、カラムAのABCDEだけを検索するような仕組みを作ることは 可能でしょうか？ ※上のSQL文では引っ張れないのは理解できています。 わかる方がいらっしゃいましたら、SQL文を教えてください。 よろしくお願いします。 環境:Oracle 11g
PL/SQLについての質問です。 カーソルデータ（emp_rec(i)）を、TABLE変数(emp_ins(i))に代入して、代入されたTABLE変数を使用して、DML処理を行うことは可能ですか？ エラーを解読し対処を行っても、エラーが発生してしまいます。 どうか、ご教授お願いします。 下記を実行すると、下記エラーが発生します。 -実行結果------------------------------------ DECLARE * 行1でエラーが発生しました。: ORA-06502: PL/SQL: 数値または値のエラーが発生しました ORA-06512: 行127 -エラー番号解読----------------------------------------- ●エラー名： PL/ SQL: 数値または値のエラーstring が発生しました ●原因： 算術、数値、文字列、変換または制約エラーが発生しました。たとえば、NULL 値をNOT NULL で宣言した変数に割り当てようとした場合、または100 以上の整数をNUMBER( 2) で宣言した変数に割り当てようとした場合にこのエラーが発生します ●処置：値が制約違反をしないように、データ、操作方法または宣言方法を変更してください。 -ソース------------------------------------ DECLARE --カーソル定義 CURSOR emp_cur IS SELECT a,b,c FROM emp TYPE emptabtype IS TABLE OF emp%ROWTYPE INDEX BY PLS_INTEGER; emp_rec emptabtype; /* 処理対象データ格納変数 */ -- insert作業用 emp_ins emptabtype; ins_count NUMBER := 1; BEGIN /* empカーソルオープン・フェッチ・クローズ */ OPEN emp_cur; FETCH emp_cur BULK COLLECT INTO emp_rec; CLOSE emp_cur; /* （挿入）処理対象のデータを、処理対象データ格納変数に格納する。 */ FOR i IN emp_rec.FIRST..emp_rec.LAST LOOP --挿入するレコードを格納 emp_ins(ins_count) := emp_rec(i); ins_count := ins_count + 1; END LOOP; /* DML処理 */ -- 挿入する FOR count_ins IN emp_ins.FIRST..emp_ins.LAST LOOP INSERT INTO temp VALUES(emp_ins(count_ins).a ,emp_ins(count_ins).b ,emp_ins(count_ins).c); END LOOP; COMMIT; END; /
SQL GROUPで件数の一番多いレコードのみ取る ORACLE10です。 次のようなテーブルがあります。 USER -----------テーブル名 ID,NAME,DATA----列名 1,A,any 1,A,any 1,B,any 2,C,any 3,D,any このテーブルから、IDをGROUPにして、さらに、一番使用頻度の多いNAMEを取得したいのです。 表示したいのは、IDとNAMEです。 つまり、取得結果例は次のようになります。 取得結果例 ID,NAME----列名 1,A 2,C 3,D SQL文をどのように作れば可能でしょうか？ ちなみに、IDやNAMEのマスタテーブルはありません。 自分では、「(select ID, NAME, count(*) from USER group by ID, NAME) COUNT」で、COUNTを内部テーブルにして、グループ内で一番多いcount(*)をmaxで取得してみようかと思ったんですが、そこからアイデアが出ませんでした。
上位バージョンへのインポートに関して Oracle8 R8.0.5 から　Oracle10g r 10.20.0.1.0　へ　exp/imp　したいと考えています。 そもそもOracle は、上バージョンへのインポートは可能かと思われますが、これだけバージョン が異なるものへのインポートは可能なのでしょうか？？？ コマンドは単純に、 　Oracle 8 側は、 　 exp user/pass full=y file=c:\パス 　Oracle 10g 側は、 imp user/pass@orcl full=y file=c:\パス としました。 実際にやってみたところ、うまくいかず。。。。 何か方法があれば教えて下さい。 よろしくお願いします。
インポートしたら遅くなった oracle11gにおいて、expし間髪いれずにimpしたところ更新処理が極端に遅くなり困っております。 同じような経験があるかたお教えいただけないでしょうか。 なお、EXPのパラメータはユーザ指定で行い、その他のパラメータは初期値のままです IMPについては、パラメータは初期値のままです ＊IMP実行前にデータはDROPしております
SQL文（クエリ）をご教授ください。 Oracle8において下記のようなテーブルが有り、復数台の装置に関して 毎日365日データを蓄積しています。 日によってデータが採取できない装置があるため、号機に抜けが 生じる事があります。 また実際は装置は14000台程度のデータを収集しています テーブル名：t_temp 号機　　日付　　　基板温度　Disk温度　外気温度 01　　2010/03/01　　50　　　　70　　　　25 02　　2010/03/01　　49　　　　73　　　　25 03　　2010/03/01　　52　　　　72　　　　25 04　　2010/03/01　　49　　　　71　　　　25 01　　2010/03/02　　56　　　　77　　　　26 02　　2010/03/02　　57　　　　75　　　　26 04　　2010/03/02　　55　　　　74　　　　27 01　　2010/03/03　　49　　　　71　　　　24 03　　2010/03/03　　50　　　　72　　　　25 04　　2010/03/03　　48　　　　70　　　　23 　　　　　以下データは続く このテーブルから、以下のような２パターンの検索をしたいと考えています。 １．号機ごとに、基板温度が５０度以上となった最初の日付と基板温度を検索 ２．号機ごとに、基板温度が最高温度の日付と基板温度を検索 参考書なども眺めてみたのですが、糸口が見出せずにいます。 クエリ例と、その説明を説明をいただけると幸いです。 実行環境は、MS-ACCESSからパススルークエリで実行しています。 補足が必要でしたら、ご指摘いただけると幸いです。 皆様のお力を借用したく、お願いいたします。
SQL文の構築について教えてください。 こんばんは。Oracle9iのデータベース検索で、どうしてもSQLが思い浮かばないため、質問させていただきます。 ■Table ID　　　 NUM　　　SIGN 100　　　1　　　　A 100　　　2　　　　A 101　　　1　　　　A 102　　　1　　　　B 103　　　1　　　　B 104　　　1　　　　C 首キーはID、NUMです。 上記のようなテーブルで、 IDが同一かつNUMが最大のもので、 SIGNが同一のレコードで、2件以外のレコードを抽出したいです。 （例表でいうと、ID104のレコードのみが抽出されるようにしたい） すこし急ぎなんですが、SQLが得意でお時間がある方、力を貸していただけないでしょうか。 よろしくお願い致します。
SQL*Plus内でPL/SQL、SQLを実行するシェルスクリプトを書いています。 イメージ sqlplus scott/tiger << EOF 　　declare 　　　　aaa number; 　　begin 　　　　-- *1 　　　　select col1 into aaa from test1; 　　end; 　　/ 　　-- *2 　　define a=1 　　define b=1 　　@test.sql EOF ここで*1にて例えば複数行が返ってくるなどのエラーが 発生した場合、*2以降のSQLを実行せずにSQL*Plusから抜けたいのですが どのようにすればよいかわかりますでしょうか。 whenever sqlerror exit 255 などはPL/SQL内の論理エラーはハンドリングしてくれないようです。 よろしくお願いします。 それかdefineや@マーク指定によるsqlファイルの取り込みを PL/SQLの中で実行できる方法を教えていただく方法でも 当方が実施したいことはできるのでそれでもかまいません。
Oracle移行 exp/imp ブロックサイズ相違　容量オーバー お世話になります。 OracleのDBを9iから10gへ、インポート・エクスポートユーティリティを使用して 移行しようとしているのですが、 9i環境のブロックサイズが4KB、10g環境では8KBであるせいか、 同じ表領域サイズにもかかわらず、容量が全く足らずにインポートできません。 dba_tablesでインポートできた表のブロック数を確認すると9i、10gとも同じサイズとなっております。 ブロック構成はそのままの状態でインポートされるということでしょうか？ ブロックサイズが異なるので、PCTFREEで指定した空き領域分はサイズが大きくなる と思いますが、同じブロック数になるということは、4KB単位でインポートされ、 残りの4KB分は空きができているということでしょうか。 表領域管理は9iではディクショナリ管理、10gはAUTOALLOCATEのローカル管理です。 ご教授いただけると幸いです。 以上、よろしくお願いいたします。
NLS_CHARACTERSETについて Oracle10gStandardEdition＋MiracleLinux4.0にてDBを構築したのですが、 インストール時のパラメータを NLS_LANG=Japanese_Japan.JA16SJIS としても日本語が文字化けしてしまいます。 こちらのサイトも含め調べましたところ、 NLS_CHARACTERSETが「WE8ISO8859P1」となっており、日本語が対応していない ことが判明しました。 こちらの値を「JA16SJIS」に変更して再インストールしたのですが設定が変りません。 値を設定してパラメータを変更するにはどのようにすればよろしいでしょうか。 ご回答よろしくお願いいたします。
テーブルに列やインデックスの変更など、どんな変更しても、インポートすれば、エクスポート時のテーブルの状態に戻るのでしょうか？ 環境：Oracle 10g R2 　　　Windows 2003 Server R2 ユーザー(スキーマ)：userA このスキーマには、３つ作成したテーブルあるとします。 tableA tableB tableC [tableB]のテーブル定義を変更するのですが、失敗した時のために バックアップをとっておき、変更前の状態に復元できるようにしたいと考えています。 テーブル定義の変更は、主キーの削除、インデックスの追加を行ないます。 [変更テーブルのみexp、imp] 1.exp userA/passA file=D:\expUserA_tableB.dmp tables=(tableB) 2.tableBのテーブル定義を変更 <-- 失敗 3.drop table tableB <-- 変更に失敗したテーブルを削除 4.imp userA/passA file=D:\expUserA_tableB.dmp tables=(tableB) 上記の方法で、変更前の状態に戻るでしょうか？ 実行してtableBが変更前の(主キーがあり、作成したインデックスがない)テーブル定義に 戻っていることは確認できるのですが、この戻し方で本当に正しいのか確信がもてません。 例えば、統計情報とか、そのテーブルに紐付いている？情報も全て変更する前の状態に戻っているのでしょうか？ それとも、スキーマ(userA)をエクスポートし、スキーマ(userA)を削除し、 エクスポートしたスキーマをインポートしないと戻らないでしょうか？ よろしくお願いします。
Oracle 11gでリスナーやEMの実行にjavaは必要でしょうか？ いつもお世話になっております。 新規に購入したパソコンにOracle11g R2をインストールして動作させています。 通常のlocalhostによるsqlplusの動作は問題がないのですが、Enterprise Managerからの操作ができず、またリスナーが動作していないようです。管理ツールのサービスでは開始になっているのですが、機能していないようです。 古いマシンでは動作していました。 基本的な知識がなく恐縮ですが、リスナーやEnterprise Managerを動作させるにはjavaの何かのプログラムをインストールする必要はありますでしょうか？ あるいは何か、解決の手段などお教えいただければ幸いです。 何卒よろしくお願いいたします。
こんにちは。 Oralceで差分(新規・更新)があった場合に差分データ(実体)のみ取得を 行おうと下記の手順を行ったのですがうまく行きません。 ・マテリアライズドビューログを作成(デフォルト) ・読み込み専用マテリアライズドビューを作成(デフォルト) ・完全リフレッシュ(初回のみ) (反映後マテビューをTruncate) ・高速リフレッシュ(ここでエラー：ORA-32320) 　以降、高速リフレッシュ間隔で差分データを取り出したい パラメータがおかしい等ご指摘お願い致します。
オラクルＤＢ（R8.1.7）でエクスポートしたＤＭＰデータを(10.2G）にインポートができるかを　まず教えていただけませんでしょうか。 可能であれば　注意点等お聞かせ頂けると助かります。
既存環境としてOracleクライアントが実装されているサーバに 新たに別バージョンのOracleクラインアント環境を実装することは可能 でしょうか？(既存構築：Oracle8i、追加構築：Oracle11g) インストール時のインストール先指定でパスは変更できるかとおもいますが、動作として既存環境のOracleに影響が出ないのか懸念しております。
毎朝DBMS_STATS.GATHER_SCHEMA_STATSにて統計情報を取得しているのですが、ある時からあるテーブルをSELECTするとIndexを利用すれば早く検索できるのに全件検索するようになってしまいました。 突然このような現象におちいるのはよくあることなのでしょうか？ また同様な事象が発生した方がいれば対応策など教えて下さい。 ちなみに、OSは Solaris9 で、Oracleのバージョンは 9i です。
検索させていただきましたが見つからなかったので質問させていただきます。 表題の件、以下の様にコマンドライン実行したとします。 exp parfile=C:\PARFILE.par --ParFile.par内-- userid=XXX/YYY@DB full=y file=C:\EXPFILE.DMP ----------------- 上記の場合、正しく実行されると思います。 質問は次のパターンの場合、正しく機能するのかという所です。 exp parfile=C:\PARFILE.par full=y file=C:\EXPFILE.DMP --ParFile.par内-- userid=XXX/YYY@DB ----------------- このように、parfileを指定しているにも関わらず別のパラメータをコマンドライン上で一緒に指定する事は可能なのでしょうか？ 自分で試す事が出来れば一番良いのですが、手元に環境がなくて困っています。 ご回答よろしくお願いいたします。
RedHatLinux5に対する、 Oracle11gのインストールから データベース作成、インスタンス作成、スキーマオブジェクトの作成など、 詳細に解説している書籍やサイト等はないでしょうか？ OEMやOUI,DBCA等を使えば簡単なのですが 職場環境の制約上、GUIを使用したツールは一切使うことができないので 全てCUI上にて作業する必要があります。
テーブル結合について、下記SQLをANSI結合の書き方で表したい。 select * from (select key from A union select key from B union select key from C) X, A,B,C where X.key=A.key(+) and X.key=B.key(+) and X.key=C.key(+) このSQLをANSI結合の記述で書きたいのですが、 (+)での結合文になれておらず試行錯誤しております。 下記のようなのかなとは模索しておりますが、 手元に実行環境がなくわかりません。 また、要所気付く点などありましたら、ご指摘願います。 select A.*, B.*, C.* from (select key from A union select key from B union select key from C) X, LEFT JOIN A ON X.key=A.key LEFT JOIN B ON X.key=B.key LEFT JOIN C ON X.key=C.key
住所情報がない場合であっても、NULLで抽出してきてほしい。 以前、ここで質問していただき、解決したのですが、 新たな問題が発生したので、改めて質問させてください。 他にも色々なテーブルと連携してSQLで情報を抽出しているのですが、 住所情報の入っているテーブルに住所情報がない人が居ます。 ただし、その人の住所以外の個人情報もピックアップして出力したいので、 住所情報が無い人は、住所の列はNULLで出力したいです。 下記に以前質問した時の情報も載せます。 ・下記テーブルの他にもいろいろなテーブルと結合させています。 ・各テーブルとの結合は個人IDで行っています。 方法はどんな形でも構いません。 もっと細かい情報が欲しい場合は、適宜補足します。 本当は今日中ですが、今週中には仕上げないといけないので、 分かる方がおりましたら、ご回答よろしくお願いします。 ―――以下、前回質問した情報――――――――――――――― 同じ行に、二つの住所を出したい。 下記のような場合、どのようなSQLを組めばよろしいでしょうか。 ★FROM表 個人ID　識別番号　住所 A 1 東京都品川区～ A 2 北海道札幌市～ A 3 青森県弘前市～ B 1 埼玉県川口市～ B 2 福岡県福岡市～ B 3 宮崎県宮崎市～ ・　　　・　　　　・ ・　　　・　　　　・ ・　　　・　　　　・ ★出力結果 A　　　東京都品川区～　青森県弘前市～ B　　　埼玉県川口市～　宮崎県宮崎市～ ↑　　　　↑　　　　　　　　↑ 個人ID　識別1の住所　　　識別3の住所 イメージとしては以下のような感じです。 識別1：現住所、識別2：保証人住所、識別3：本籍住所 上表を例にすると、 Aさんの現住所は東京都、本籍地は青森県 Bさんの現住所は埼玉県、本籍地は宮崎県 といったかんじです。 ただWHERE ANDでは、どちらかしか引っ張って来れないので、 なにか他の方法がありましたら、教えてください。 よろしくおねがいします。
オラクルの会員登録について。 Oracle XEをダウンロードしようと思い、日本オラクルのお客様プロファイルの登録をしたのですが、Oracle XEをダウンロードする際に入力するIDとパスのところでエラーになります（英語のページに切り替わります）。 どこかのページで見たような覚えもあるのですが、日本オラクルの会員登録とオラクル（oracle.com？）の会員登録は別なのでしょうか？　別々に登録しないといけないのでしょうか。確かにOracle XEは英語のページになっています。 ご存知の方よろしければ教えて頂けないでしょうか。また日本オラクルの会員登録時に閲覧したいサイトの登録がありましたが（OTNなど）、閲覧は希望しないにしても見れますが、この登録をすると何が変わるのかもご存知でしたら教えて頂けると嬉しいです。 よろしくお願い致します。
Oracle 11g　R2のインストール要件について たびたび申し訳ありません。 Oracle 11g　R2のインストールに必要な、ハード、ソフトの要件を探してみたのですが、よくわかりません。たとえばCPUの速度やメモリ、OS等の条件です。 どなたか、書いてある場所がわかりましたら、ご教授願えれば幸いです。 どうか、よろしくお願いいたします。
oracleクライアントをインストールし直したら、 今まで正常に接続できていたデータベースにアクセスできなくなりました。 odbc　adminで接続テストを行うと、 ORA-12154: TNS: 指定された接続識別子を解決できませんでした というエラーが表示されます。 原因が分かる方いらっしゃいますでしょうか？ よろしくお願いします。
オラクルマスター　ブロンズのＳＱＬ基礎Iの試験は 自宅で受けることは可能なのでしょうか？ ↓こちらに「Bronze SQL 基礎Iだけは会場に出向くことなく自宅からネットで受験することが可能」と書かれておりますが・・・ http://www.shift-the-oracle.com/tutorial/oracle- … 現在も自宅から試験は受けられるのですか？ また、自宅から試験を受けるのであれば、どのように申し込みを行えばよいのでしょうか？ ｉＳｔｕｄｙで学習しており、試験用のチケットは１回分持っております。
Windows版　Oracle 11g R2 について お世話になります。初心者で、よくわからず申し訳ありません。 現在、Windows版　Oracle 11g R1を利用しているのですが、これをR2にした場合、R1でやっていたことができなくなる、ということは何かあるでしょうか。また、R2はWindows7にも対応しているという話を聞いたのですが、詳細の情報が掲載されているサイトがありましたら、教えていただけないでしょうか。 何卒よろしくお願いいたします。
ORACLEのトリガーについて勉強しているのですが現在詰っています。 トリガーの内容ですが、table1のレコードがUPDATEかINSERTかDELETEが 実行された時にtable2にそのレコードすべてをINSERTしたいのですが CREATE OR REPLACE TRIGGER test_trg After INSERT or UPDATE or DELETE on table1 for each row 　BEGIN 　　if inserting then 　　　insert into (?); 　　elsif updating then 　　　insert into (?); 　　else 　　　insert into (?); 　　end if; 　END; tableを使ってログを残せるようにするためこのトリガーを作ろうとしています。 この様な感じになると思っているのですが、(?)の部分をどう書けばいいのか がよくわかりません。どうしても解らないので教えていただければ幸いです。 何卒よろしくお願いします。
再起SQL が無限ループします。 このようなテーブルのデータがあったときに、 1番上の1レコードを選択して、 中分類か小分類が同じデータを取得したいんです。 大分類　中分類　小分類 -------------------- 4444 |aaaa |0001 4444 |bbbb |0001 4444 |cccc |0002 4444 |dddd |0002 4444 |aaaa |0003 6666 |ffff |0003 ↓このように取得したい 大分類　中分類　小分類 -------------------- 4444 |aaaa |0001 4444 |bbbb |0001 4444 |aaaa |0003 6666 |ffff |0003 再帰SQLのwithを使ってみたのですが、 無限ループしてしまいます。 with rec　(大分類,中分類,小分類)　as (select * from 商品テーブル where rowid=1 union all select * from 商品テーブル h, rec r where(h.中分類=r.中分類 or h.小分類=r.小分類) and not (h.中分類=r.中分類 and h.小分類=r.小分類) ) select * from rec; union all以下のselect条件をxorで取ればいいと 思うのですが、それができていないようです。 withでやる必要はないので、他の方法でも いいのですが、S/Pは使えない事情があります。 アドバイスをお願いします。
当社は、oracle 10g で動く基幹業務システムを使用しています。 このシステムにログインするPCのOSとして、Windows7を採用することは可能でしょうか？ （10gのOracleClientが、Windows7をサポートしない、ということはないでしょうか？）
今、独学でPL/SQLについて学習しているのですが、下記の問題が解けません。。。 考えても、自分の答えが出ないので質問させてください。 ------------------------------------------------------------ 下記の表（temp表）をPL/SQLのカーソルを使い取得しました。 temp表：主キー＝No ------------------ No,ID, 処理, 数値 1 , A, 加算(1), 1000 2 , A, 加算(1), 500 3 , A, 減産(2), 500 4 , A, 加算(1), 100 ----------------- 5 , B, 加算(1), 200 6 , B, 減産(2), 100 7 , B, 加算(1), 50 ------------------ 8 , C, 加算(1), 100 9 , C, 減産(2), 50 ※加算の場合、値は「1」減算の場合、値は「2」です。 (1)その後、取得した値を使って、ID別の数値残高を計算したいです。 「加算」「減算」の区別は、「処理」カラムを使って区別をつけたいです。 例：ID「A」の数値残高 = 1000＋500-500＋100 　　ID「B」の数値残高 = 200＋100-50 (2)１つのIDの計算が終了したら、次のIDの計算が始まる。 例：ID「A」の数値残高が計算終了→ID「B」の残高計算開始→ID「C」の残高計算開始 (3)その後、(2)で計算した値を、ほかのテーブル（answer)に挿入したいです。 例： answer表 ID, 数値残高 -------------- A, 1100 B, 150 C, 50 このような処理をPL/SQLを使って、実装したいのですが。 (1)(2)(3)の処理を教えて頂けないでしょうか？ ※１つのIDあたり、1万レコードを持っています。 パフォーマンス（処理速度）も考えて、プログラミングしたいです。 もし、カーソルを使って表を取得する意外に、よい方法があるならば、そちらの方法でも可能です。 ご教授・ご回答よろしくお願いします。質
oracle10gサーバに対しoracle9iのクライアントインストールしてsql plusで接続確認するとTNS操作タイムアウトが発生します。既にインストールされているoracle9iのクライアントからは問題なく接続できます。ファイアウオールの設定は同じです。やはりoracle10gをインストールしないとだめなのでしょうか。
表をきれいにするために。 SQL> run; 1 select rep.rep_num, first_name, last_name, customer.customer_num, customer_name, credit_limit - balance "Credit_Remaining" 2 from rep, customer 3 where customer.credit_limit - customer.balance > 4 (select AVG(customer.credit_limit - customer.balance) 5 from customer) 6* and rep.rep_num = customer.rep_num RE FIRST_NAME LAST_NAME CUS CUSTOMER_NAME -- --------------- --------------- --- ----------------------------------- Credit_Remaining ---------------- 35 Richard Hull 282 Brookings Direct 9568.5 35 Richard Hull 725 Deerfield's Four Seasons 7252 65 Juan Perez 462 Bargains Galore 6588 65 Juan Perez 608 Johnson's Department Store 7894 この表の横（tuple とattribute）を一列にどうしてもそろえられないのですがどうすれば良いでしょうか？　何かそれをするためのコマンドがありますか？　本を見ても見つかりませんでした。 初めての質問ですがよろしくお願いします。Oracle SQL*Plusを使ってます。 場違いでしたらすみません。
SQLのUPDATE文に関して教えて下さい まだまだ初心者で勉強中なのですが、ご教授をお願い致します。 ２つのテーブルがあり同じ条件になったレコードのある項目を別のもう片方の項目にセットしたいのですが上手くいきません。 具体的には以下の通りです。 【テーブル１】 品番、　規格、　取引先、　日付 A1　　　XXX　　T001　　　2010/01/01 A1　　　YYY　　T002　　　（空白） B1　　　XXX　　T001　　　（空白） C1　　　ZZZ　　T003　　　（空白） 【テーブル２】 品番、　規格、　取引先、　受入日 A1　　　XXX　　T001　　　2010/01/01 A1　　　YYY　　T002　　　2010/03/01 B1　　　XXX　　T001　　　（空白） テーブル１の「日付」が（空白）のレコードを対象に、 テーブル１の「品番＋規格＋取引先」とテーブル２の「品番＋規格＋取引先」が同じな場合、 テーブル１の「日付」項目にテーブル２の「日付」項目をUPDATEしたいと考えています。 結果を以下のようにしたいです。 【テーブル１】 品番、　規格、　取引先、　日付 A1　　　XXX　　T001　　　2010/01/01 A1　　　YYY　　T002　　　2010/03/01　　←ここが今回更新される B1　　　XXX　　T001　　　（空白） C1　　　ZZZ　　T003　　　（空白） 以前この場で教えて頂いたものを参考に以下のような感じで考えていたのですがエラーになります。 update テーブル１ set テーブル１.日付 = テーブル２.受入日 where テーブル１.日付 Is Null and (concat(concat(品番, 規格), 取引先)) in (select (concat(concat(品番, 規格), 取引先)) from テーブル２) ; ERROR at line 1: ORA-00904: "テーブル２"."受入日": invalid identifier set文のところの記述方法がわかりません。 宜しくお願い致します。
こんにちは。 SQLの実行計画を確認するEXPLAIN PLANとAUTOTRACEについて質問です。 先日、仕事でSET AUTOTRACE TRACE EXPで出力された実行計画と EXPLAIN PLANで出力された実行計画が違うということがありました。 なぜこのようなことが起こるのでしょうか？ そしてこのようなことがあった場合、どちらの実行計画がSQL走行時に使われるのでしょうか？
SQLのUPDATE文（WHERE）で教えて下さい SQL初心者なのですが、どなたか教えて頂けないでしょうか・・・。 Oracle10gにSqlPlusで接続してテーブルをUPDATEしようとしています。 【テーブル１】 品番、　規格、　取引先、　日付 A1　　　XXX　　T001　　　2010/01/01 A1　　　YYY　　T002　　　（空白） B1　　　XXX　　T001　　　（空白） C1　　　ZZZ　　T003　　　（空白） 【テーブル２】 品番、　規格、　取引先、　備考 A1　　　XXX　　T001　　　あああ A1　　　YYY　　T002　　　いいい B1　　　XXX　　T001　　　ううう テーブル１の「日付」が（空白）のレコードを対象に、 テーブル１の「品番＋規格＋取引先」とテーブル２の「品番＋規格＋取引先」が同じな場合、 テーブル１の「日付」項目に今日の日付をUPDATEしたいと考えています。 結果を以下のようにしたいです。 【テーブル１】 品番、　規格、　取引先、　日付 A1　　　XXX　　T001　　　2010/01/01 A1　　　YYY　　T002　　　2010/03/19 B1　　　XXX　　T001　　　2010/03/19 C1　　　ZZZ　　T003　　　（空白） これが実現できるSQL文を教えて下さい。 宜しくお願い致します。
お世話になります。 sqlについて教えて下さい。テーブルの中に大区分、小区分があります。小区分は大区分に各々関連付けれれています。大区分１には小区分が５つ、大区分２には小区分が３つあります。 下記の範囲内のデータを抽出したいときはどのようにすればよろしいでしょうか。 大区分コード１の小区分３，４，５と大区分２の小区分１，２のデータを抽出したいのですがどのようにすればよろしいでしょうか。 ご教授のほどお願いします。
自分でパソコンを持っていません。公共施設のパソコンを利用しています。ダウンロードができないみたいですが、それでもそこのパソコンでセミナーを受けることは可能でしょうか。
Oracle10gで他のスキマーのテーブルとjoinする方法 aps.netで開発してます。 同じDB内でのＳＱＬ文に悩んでます。 user:admin , table:adtest user:ora , table:ortest adminでログイン後adtestとoratestをjoinしたいのですが可能ですか？ 何かsampl文を教えて下さい。お願いします。
こんにちは。Oracleに関して質問があります。 現状2台（サーバA、サーバB）のWindows2003Serverがあり、それぞれOracle11.1gが稼動しています。サーバAで動かしているDBをそのままサーバBに持っていきたいと考えています。 Webでサーバ移行やバックアップをキーワードに検索したところ、ほとんどが、障害の発生したサーバにデータをリストアする方法が紹介されており、サーバ移行の観点で書かれた情報が少ないことがわかりました。 また、古いOracleだとexpコマンドやimpコマンドでバックアップ/リストアができるとありましたが、11.1gにはOracleEnterpriseManagerでバックアップが取れるようになっており、この機能を使って、移行できないものかと思っています。 たしかに、エクスポートファイルからのインポートというメニューがあるのですが、このメニューは特定のインスタンス？にWebアクセスした後にでてくるメニューなので、ここでインポートしたら、既存のインスタンスのデータが上書きされてしまう印象を持っています。 サーバBにリストアする場合は、あらかじめ、サーバAと同じインスタンス名でデータベースの入れ物？を作っておき、そこでインポートすればよいのでしょうか？また、この場合、管理ファイルなどが重複してしまうのですが、問題はありませんでしょうか？ つたない表現で申し訳ありませんが、ご存知の方、ご教授お願いします。
異なるテーブルから一括でデータを取得したいと思っています。 現在思いつくのはunionによる結合なのですが、いささかぶさいくではないか？と思ってます。 select a,b,c from x1,y,z where A union select a,b,c from x2,y,z where A ・・・ 上記のように、x1,x2が一定の数字でいくつも対象となります。 fromにはワイルドカードが使えないので、どのようにしたものかと悩んでおります。 ※selectで取得するカラム名は全テーブル同一で、検索条件も同一です。 unionがあるべき姿なのでしょうか？
DELETE 文とEXISTSの使い方について（Oracle10g） 2つのテーブル（A、B）を外部結合して、B側がNULLとなったレコードを A側から削除する、というDELETE文が作りたいのですが、 EXISTS句を使ってみたもののどうも使い方がわからず苦戦しています。 目的は2つのテーブルを同期させる事で このSQLを実行する時点で、常にA＞Bになっています。 目的を達成できるSQLを教えてください。 ＜削除対象レコードをSELECTするSQL＞ SELECT * FROM A, B WHERE A.KEY1 = B.KEY1(+) AND A.KEY2 = B.KEY2(+) AND B.KEY1 IS NULL ; ＜上をDELETE文にしてみたつもりが、削除0件になってしまうSQL＞ DELETE FROM A WHERE EXISTS( SELECT 1 FROM B WHERE A.KEY1 = B.KEY1(+) AND A.KEY2 = B.KEY2(+) AND B.KEY1 IS NULL ) ;
現在データベースの役割について勉強しています。 その中で、データベースの必要性として、以下のような説明があります。データベースが存在する前のデータ管理についてわからない為、 (1)～(3)が理解できません。 (1)～(3)について、具体的に教えてくださいませんか？ よろしくお願いします。 -------------------------------- データベースが存在する前は、プログラムごとにデータを保持している。 以下のような問題点がありました。 (1)冗長性の問題：同じデータが複数のファイルに重複して存在する為、多くのデータ格納領域が必要になります。 (2)整合性の問題：データに変更があった場合、各プログラム毎のデータをすべて変更する必要があります。このため、データの更新漏れが発生しやすくなります。 (3)独立性の問題：プログラムは物理的にデータが格納されている位置を指定して処理していたため、データの構造が変わってしまうとプログラムも変更する必要がありました。
初歩的な質問ですみません。 Oracle9iでsqlplusで接続しています。 「member_accountテーブルのdelete_flag(VARCHAR2)カラムの値が'1'ではない」ものを抽出したいと考えてます。 ただ、正しい結果が返ってきません。 何が問題でしょうか？よろしくお願いいたします。 ============================================================ SQL> select count(ID) from member_account; COUNT(ID) ---------- 16450 SQL> SQL> select count(ID) from member_account where delete_flag='1'; COUNT(ID) ---------- 107 SQL> SQL> select count(ID) from member_account where delete_flag<>'1'; COUNT(ID) ---------- 0 SQL> SQL> select count(ID) from member_account where delete_flag!='1'; COUNT(ID) ---------- 0 ============================================================ よろしくお願いいたします。
Oracle初心者です。 以下のような2種類のSQLをSQLPLUSで実行し、 実行計画を取得しました。 end_timeでfilterをかける際に、"TABLE ACCESS FULL"となっており、貼っているインデックスが使われていないことがわかりました。 ＃これがSQLの遅い主要因と考えています。。。。勘です。 インデックスが活用されていない原因としてはどのようなものが考えられるのでしょうか。 宜しくお願いいたします。 １） set autotrace traceonly select * from t_sample where end_time >= '2009-08-25' and end_time <= '2009-11-26' ２） set autotrace traceonly select * from t_sample where end_time >= to_date('2009-08-25', 'yyyy-mm-dd') and end_time <= to_date('2009-11-26', 'yyyy-mm-dd')
最近ORACEをはじめたのですが Sql*Plusでは接続できるのですが DOSプロンプト「sqlplus system/password@ホスト名」を実行すると 「ORA-12154: TNS: 指定された接続識別子を解決できませんでした。」 が出て接続できません ちなみに、OracleDB10gとOracleClient10gが入っています よろしくお願いします
MAX値を条件にしたSQLで困っています。 以下のようなデータ（例）があります。 部番A、連番1、明細・・・ 部番A、連番2、明細・・・ 部番A、連番3、明細・・・ 部番A、連番4、明細・・・ 部番B、連番1、明細・・・ 部番B、連番2、明細・・・ 部番単位で、連番が最大であるデータのみを取得したいです。 上記の例だと、 部番A、連番4、明細・・・ 部番B、連番2、明細・・・ の2件です。 SQLをご教授ください。 よろしくお願いします。
11ｇを使用して.NetVBでプログラムを開発しているのですが、 プログラム実行途中でORA-12542: TNS: アドレスがすでに使用中です。とのエラーが返されてしまいます。 インサートのプログラムなのですが約4,000件では上記エラーになり 約2,000件ではエラーになりません 解決方法をお教えください
Oracle10gをベースに開発されたPGを、11gの環境に入れて動作したところ、「ORA-12520: TNS: リスナーは、要求したサーバー・タイプに使用可能なハンドラを検出できませんでした。」が一部データを更新するPGにて発生するようになりました。 対応としてprocess数を増やすなどあるようですが、実行時に値を確認しましたが、MAX値までいたっていません。 どなたか同様の経験がおありでしたらご教授いただけないでしょうか。
オラクルのあるテーブルに10万件のレコードがあります。カラム数は30です。 初歩的な話になりますが、(1)と(2)はどちらが速いでしようか。 (1) SELECT x FROM TBL_A WHERE ...AND...AND...AND...AND...AND という複雑なSQLを実行するとします。 これに該当するレコード数は[3千件]です。 これで、 value =RS("x") RS.movenext を3千回実行する。(sqlを実行するのは一回のみ) (2) 同じく複雑なSQLを実行します。 SELECT x FROM TBL_A WHERE ...AND...AND...AND...AND...AND VAL=15 これに該当するレコード数は[1]件です。 value =RS("x") で取得。 また同じSQLを3千回実行する。 上記について初歩的ですが、確認したいです。 sql実行の対象レコードが、数万に上っても、SQLを何回も実行したほうがやはり遅いでしょうか。 また、上記の3千が、100件程度とか少ない場合、速度差が逆転しないでしょぅか。
お世話になります。 環境：Oracle 10.2.0.4.0 インデックス監視をMONITORING USAGE文を使用して行っています。 が、インデックスを使用したSQLまではわかりません。 インデックスを使用したSQL文を記録するような監視コマンドはありませんでしょうか。 できれば対象のインデックスに絞って使用された場合はSQLを記録するような機能があると助かりますが・・・・。 アドバイス宜しくお願いします。
どなたかご教授ください。 あるテーブル(hoge)のカラム(adr)に4つのコードのいづれかが必ず入ります。そのコードごとにカウントを取ろうと思います。 例 adr )1:東京2:神奈川3:千葉4：埼玉 select count(adr) from hoge group by adr カウントを取る時に、例えば3がない場合は出力時に何も出力されずに、結果として1、2、4の件数が表示されます。 この時に、3の結果も「0」と表示させていのですが、どのようにすればよいのでしょうか。 宜しくお願いいたします。
オラクルマスターの受験チケットについて こんにちは、さっそくですが質問させていただきます 先日、サーティファイのJavaプログラミング能力検定２級を受験し、 合格させていただくことができました。 OKWaveで質問させていただき、回答していただいた方々のおかげでもあるかなと、 まずは、この場で、感謝を述べさせていただきます。 ありがとうございました。 それで、質問なのですが、次にどのような資格を受けようか考えたとき、 「基本情報技術者」か「オラクルマスター・ブロンズ」かなと、思ったのですが、 受験料について調べた際、「オラクルマスター」については、チケット方式で、 一科目あたり、一万五千円ぐらいだとわかりました。 もし、「オラクルマスター」を受験して、駄目だった場合、 試験実施日は、ほぼ毎日らしいのですが、その都度、チケットを購入しないと いけないのでしょうか。 もしよければ、回答のほう、よろしくお願いします。
ORACLE で、View のみをバックアップするには、ソースを残すしかないのでしょうか？ EXP/IMP で、view のみを対象にすることはできますか？
SQLでわからないことがあるので質問させていただきます。 例えばの話ですが在庫テーブルというテーブルがあってそこに商品マスタ をLEFT JOINする際に SELECT *　 FROM 在庫テーブル LEFT JOIN 商品マスタ ON 品番 = 品番 として実行すると返ってくる結果は在庫テーブルの全レコードと 品番で結んだ商品マスタに存在するデータってことですか？ 上記のSQLと SELECT * FROM 在庫テーブル で返ってくるレコード件数が違うという時はどういう可能性が考えられるでしょうか？ ちなみに商品マスタの品番レコードはすべてユニークになっていて 色やサイズで品番が複数存在するものではありません。 何回やってもレコード件数が前者のほうが多くなってしまいます。 分かる方がいらしたらぜひ教えていただきたいです。
Oracle10gを使用しています。Oracle8iから特定のテーブルを抽出してOracle10gに入れようとしましたが、Oracle10gのexpコマンドは互換性の問題で8iに対して使えませんでした。そこでOracle8iのexpコマンドを使用しようかと考えましたが、テーブルごとのエクスポートができないとのことで不可（データベースが大きすぎるため、そもそも8iのExpコマンドを実行できる権限を持っていないのでできませんが）。 仕方がないのでExpコマンドはあきらめて、テーブル定義抽出→データをCSVまたはSQLで抽出という手順でデータを移そうかと考えています。データの抽出はできたのですが、テーブル定義の取得は10gで使えるdbms_metadata.get_ddlが使用できないので取得できずにこまっています。8iでテーブル定義を取得するにはどうしたらいいのでしょうか？ なお当方8iのデータベースのSystem/Sys権限を所有していないません。また8iがインストールされているサーバへログインすることもできません。それを考慮した上で実現可能な方法をご提示願います。
select SUB1.品番, SUB1.在庫計上セクション, SUB1.倉庫, SUB1.場所, SUB1.在庫数, SUB2.売価変更日付, SUB2.売変単価 from (select 在庫管理ＲＦ.在庫計上セクション as 在庫計上セクション , 在庫管理ＲＦ.倉庫 as 倉庫, 在庫管理ＲＦ.場所 as 場所, 在庫管理ＲＦ.品番 as 品番, sum(在庫管理ＲＦ.フリー在庫数) as 在庫数 from 在庫管理ＲＦ where フリー在庫数 > 0 group by 在庫管理ＲＦ.在庫計上セクション, 在庫管理ＲＦ.倉庫, 在庫管理ＲＦ.場所, 在庫管理ＲＦ.品番) SUB1 left join (select 売価変更確定ＲＦ.品番 as 品番, max(売価変更確定ＲＦ.売価変更日付) as 売価変更日付, min(売価変更確定ＲＦ.売変単価) as 売変単価 from 売価変更確定ＲＦ group by 売価変更確定ＲＦ.品番) SUB2 上記のSQL文が実行できません。 どこがいけないのかもわかりません。 どなたか詳しい方がいればアドバイスお願いします。 使っているTOOLはOSqlEditです。 ACCESSのクエリデザインで同じようにサブクエリを使って実行すると うまくいきます。 よろしくお願いします。
SQL文を教えてください。 グループ毎にレコード数をカウントして、レコード数が大きい順に並び替えたいです。 番号　枝番　金額 111　1　100 111　2　100 222　1　100 222　2　100 222　3　100 333　1　100 444　1　100 444　2　100 【答え】 番号　件数 222 3 111 2 444 2 333 1 のようにorder by で並べ替えたいです。 SQL一発でできませんか？ SQLに詳しい方、ご教授ください。
Oracle クエリ 元テーブル R1　　R2 A　　リンゴ A　　イチゴ B　　マンゴ C　　イチゴ C　　マンゴ この形のテーブルを R1　リンゴ　イチゴ　マンゴ A　　　１　　　１ B　　　　　　　　　　　１ C　　　　　　　１　　　１ 変更したです。　オラクルSQLを使って、 ちなみに　ORACLE　10G　です。 宜しく御願いします。
oracle 9.0.2は、WindowsXP SP3で動作しますか？
excel VBから直接ODBCにSQLを実行した時にエラーが出ます。 ソースコードは下記のようになっています。 strSQL = strSQL & "SELECT" strSQL = strSQL & " 店舗別売上明細_22.売上年月日" strSQL = strSQL & ",店舗別売上明細_22.抽出用屋号" strSQL = strSQL & ",店舗別売上明細_22.抽出用商品ブランド名" strSQL = strSQL & ",店舗別売上明細_22.出荷取引分類区分名" strSQL = strSQL & ",SUM(店舗別売上明細_22.売上金額) as 合計" strSQL = strSQL & ",店舗別売上明細_22.取引先コード" strSQL = strSQL & " FROM" strSQL = strSQL & " 店舗別売上明細_22" strSQL = strSQL & " GROUP BY" strSQL = strSQL & " 店舗別売上明細_22.売上年月日" strSQL = strSQL & ",店舗別売上明細_22.抽出用屋号" strSQL = strSQL & ",店舗別売上明細_22.抽出用商品ブランド名" strSQL = strSQL & ",店舗別売上明細_22.出荷取引分類区分名" strSQL = strSQL & ",店舗別売上明細_22.抽出用取引先名" strSQL = strSQL & ",店舗別売上明細_22.商品区分" strSQL = strSQL & ",店舗別売上明細_22.取引先コード" strSQL = strSQL & " HAVING" strSQL = strSQL & " 店舗別売上明細_22.売上年月日" strSQL = strSQL & " Between 2010/01/01 And 2010/01/31" strSQL = strSQL & " AND" strSQL = strSQL & " 店舗別売上明細_22.抽出用商品ブランド名 = '****'" strSQL = strSQL & " AND" strSQL = strSQL & " 店舗別売上明細_22.商品区分 <> '05ノベルティ'" GROUP BYを使わずにWHEREで実行するとうまくいきます。 原因がわかりますでしょうか？
いつもお世話になっております。 列の追加や、列の並びの変更について質問があります。 ALTER TABLE tb ADD～　やALTER TABLE tb MODIFY～で表の構造を変更する場合、列の位置を指定することはできないでしょうか。 たとえば最後の位置とか、○番目とか、×列の後のように指定して 列を追加したり、列の位置を変更する、という意味です。 マニュアルを調べてみたのですがわからず困っております。 どうか、よろしくお願いいたします。
Oracle DB初心者です。 set timing で取得したselectにかかる時間と autotrace traceonly で取得した実行計画？の時間が違います。 どうしてか教えていただけませんでしょうか。 また、定期的な検索時間の監視を行うにはどちらが適切でしょうか。 Oracle DB 10g standard editionです 以上、よろしくお願いいたします。
RDBMSの「インデックス」というものについて教えてください。 私の認識ではインデックスは辞書と同じ索引だと思っています。 例えばあるデータの頭文字をすぐに調べるものでしょうか？ そのインデックスがどうなっているかを調べる方法は無いでしょうか？ 例えばインデックスの構成を調べるSQLがあるのかどうかがわかりません。 そういったものはありますか？ また、インデックスというのはどうやって付けていくものですか？ 平易に解説いただけるとうれしいです
SQL初心者です。 ORACLEで、SELECT句に副問い合わせを付けたところ、ORA-00913:値の個数が多すぎますとエラーになってしまいます。 解決法をご教授願います。 同一テーブルの同一項目を複数項目として取得したいのです。 SELECT (SELECT B.DDD ,B.EEE FROM A_MST A ,B_MST B WHERE A.AAA = B.BBB AND A.BBB = CMST.CCC), (SELECT B.DDD ,B.EEE FROM A_MST A ,B_MST B WHERE A.AAA = B.BBB AND A.BBB = CMST.FFF) FROM C_MST CMST WHERE CMST.A_RYAKU = '123'
テーブルへの列の追加についてご教授をお願いいたします。 今、テーブルの列が以下のようにあるとします。 ■追加前の列 A　B　C この列に、Dという列を追加するときに、 ■追加後の列 A　B　C　D にすることはできます。 このDを最後尾ではなく、BとCの間に挿入させるには どうしたらよろしいのでしょうか。 テーブルを削除し、定義をしなおさなければならない のでしょうか？そうすると、テーブルのデータを バックアップし、列を追加したものに対して、 データ修正・挿入という作業も発生します。 効率的に進められる方法について教えて頂けないでしょうか。
oracle11gをインストールしたいのですが前提条件を満たせません。 メッセージは以下の内容です。 ------------------------------------------------- TEMPに十分なディスク領域があるかどうかを確認中... チェックが完了しました。このチェックの全体的な結果: 失敗しました <<<< 問題: インストーラにより、TEMPで使用可能なディスク領域はデータベースを作成するには十分でないことが検出されました。 推奨: TEMPで400MBのディスク領域が使用可能であることを確認してください。 ■試したこと TEMPファイル内の全削除 ■PCスペック vista ローカルディスク空き領域：26.9GB　 メモリ/HDD：2GB/120GB ノートPCなんですが、ノートじゃ厳しいのでしょうか？ 何か解決方法はありませんか？
いつも大変お世話になっております。 すみません。ちょっと変な質問ですが、 下記のようなテーブルがあるとします。 カラムA ======= 1 2 3 4 ここで、select * from テーブル where カラムA in ('1','2','3','5'); とした場合、結果は カラムA ======= 1 2 3 になり、条件で指定した('5')が一致しませんが、 この('5')がないことを、表示することは、当然テーブルに値がないのですから 無理ですよね。。。 普通は、テーブルをもう一つ作って、minusなど使って不一致を出す方法は わかるのですが。。。テーブル単体で、というのはやはり、できませんよね。。 変な質問してすみませんが、お返事お待ちしております。 どうぞよろしくお願いいたします。
社外のホストPCのDBに社内のクライアントPCから接続できない状態です。 ※社外/社内PCは同じネットワーク内にいます 接続はコマンドプロンプトから sqlplus TEST_USER/TEST_USER@192.168.4.11:1521/ORCLとして実行すると ORA-12170: TNS: 接続タイムアウトが発生しました。となります。 試した事 １．クライアントPCから「netsh diag connect iphost 192.168.4.11 1521」 　　を使ってポートが開いてるか確認をしました。 　　結果は「サーバーは次のポートで実行中と思われます [1521]」と返ってきたので 　　ポート開放は問題がないと思います。 ２．コマンドプロンプトで接続文字を存在しない名前で指定すると 　　sqlplus TEST_USER/TEST_USER@192.168.4.11:1521/ORCLsonzaisinai 　　ORA-12514: TNS:リスナーは接続記述子でリクエストされたサービスを 　　現在認識していません。と返ってきます ３．クライアントPCから社内の別のPCにあるDBには繋がる 　　sqlplus SAMPLE_USER/SAMPLE_USER@192.168.3.127:1521/ORCL 　　～に接続されました。 ４．ホストPCが存在してる社内では上記のコマンドで繋がる事が確認されている。 １、２でメッセージが変わるので 社内のクライアントPCから社外のホストPCを何らかの形で見れてるとは思うのですが この場合どういった原因が考えられるでしょうか？
oracle sql SELECT TO_CHAR(sysdate,'eeyy"年 "month" "dd"日"','nls_calendar = ''Japanese Imperial''') as AA FROM DUAL というSQLを記述した際の検索結果は 平成22年 2月 03日 という値になります。 日の部分の前０を消したいのですが、なにか方法はありませんか？ （「03日」→「3日」）
Oracle 10gを使用して勉強をしています。 SQL実行結果の出力が見にくくて困っています。 以下、(1)は自分が実行したSQL文ですが、(2)のように見やすく出力したいです。 どのようにすればよいのでしょうか? また参考となるWEB URLがある場合、頂けたら嬉です。 (1)自分が実行したSQL文 SQL> select 2 sid,serial#,username,osuser,program,machine,terminal 3 from v$session 4 where type = 'USER'; SID SERIAL# USERNAME ---------- ---------- ------------------------------ OSUSER PROGRAM ------------------------------ ------------------------------------------------ MACHINE ---------------------------------------------------------------- TERMINAL ------------------------------ 543 39 SYS oracleuser sqlplus@HOGE-net (TNS V1-V3) HOGE-net pts/1 SID SERIAL# USERNAME ---------- ---------- ------------------------------ OSUSER PROGRAM ------------------------------ ------------------------------------------------ MACHINE ---------------------------------------------------------------- TERMINAL ------------------------------ 544 5 SYS oracleuser sqlplus@HOGE-net (TNS V1-V3) HOGE-net pts/0 (2)こんな感じで出力させたいです。 select sid,serial#,username,osuser,program,machine,terminal from v$session where type = 'USER'; SID　SERIAL#　USERNAME OSUSER PROGRAM 　MACHINE 　　TERMINAL ---- ------- ---------　------ ---------- ---------　　-------- 139　　　　　2 　　　　　TEST Owner　sqlplus.exe 　　HOGE_XP　HOGE_XP 144 　　　　20 　　　SYSTEM 　　　　　ORACLE.EXE　HOGE_XP 　HOGE_XP
お世話になっております。 Oracle10g、11gで、できれば日本語の表名、列名を使用しようと思っております。検索してみると、9iあたりでは問題があるようですが、10g、11gでは該当の記述を見つけることができませんでした。 10g、11gでは、表名や列名に日本語を使っても問題はないでしょうか。 関連した情報の場所等をお教えいただければ幸いです。 どうか、よろしくお願いいたします。
現在オラクルマスター11gの取得に向けて勉強中のものです。 実際に実機を用いて勉強したのですが、以下質問させてください。 (1)商用でなく個人勉強のため使用したいのですが、トライアル版は30日を越えると使用できなくなるのでしょうか？ (2)上記(1)で30日を超えても使用できる場合、個人の勉強のために使うことは何か問題ありますか？ (3)30日後に使用できない場合、アンインストールして再度同じCDからインストールしなおせば使用できるのでしょうか？ (4)上記の(2)ができない場合、違う参考書についているCD(トライアル版)を使えば、また、使用できるのでしょうか？ (5)オラクルマスター(ブロンズ)を黒本で勉強しようと思うのですが、参考書だけでも十分でしょうか？(問題集もあわせて買うと高いので・・) 質問が多いのですかご回答お願いします。
「標準インストールでは、SYS,SYSTEMは、ロック解除されていますが SYSMAN,DBSNMPは、EXPIRED&LOCKED状態です。 Enterprise ManagerをインストールするとSYSMAN,DBSNMPは、OPEN状態です。」とありますが、 これは、OUIのインストールタイプの選択で、Enterprise EditionとStandard Editionのどちらを選択するかで、 ロック状態が違うと書いているのでしょうか？ Enterprise Editionを選択すると、Enterprise Managerがインストールされるのですか？
oracle silverを受験しようと思うのですが、10ｇで受験しようと思います。 もし合格すれば、goldも受けようと思っているのですが、goldは11ｇで受験しようと思っています。 11ｇのgoldって11ｇのsilver保持していないと受験できないとかあるのでしょうか？（10gのsilver受けたいので。） ＃申し訳ありませんが、silverから11ｇ受けたほうが良いというごもっともすぎるつっこみはご勘弁ください。 ご存知の方いらっしゃいましたらご教授ください。 よろしくお願いいたします。
こんにちわ。 会社の研修でJAVAの勉強をしています。 今回、JDBCの勉強のために自分のPCに「oracle10g Express Edition」を落としました。 JdbcDriver等の設定を終えた上で自分のPC（localhst）でDBへの接続はできたのですが、他のPC（社内ネットワークでつながってます）でつなごうとするとタイムアウトで接続ができません。 設定はデフォルトのまま使用しています。 MySqlを使用した時に外部IPから接続するための設定が必要だったのでoracleでも設定しなければいけないのかと思いネットで調べてみたのですが、それらしい情報を見つけることができませんでした。 宜しければ、設定法の関してのアドバイスをお願いいたします。
(1)CATEGORYで、重複したレコードを除いてユニークにしたい (2)重複の比較をする際に、大文字・小文字は区別をせずに比較したい (3)また、前後にスペースが含まれているときはスペースを除いた状態で比較したい (4)重複しているデータは、CREATE_DATEが新しいものを採用したい (5)前後にスペースがある場合は、スペースを削除して出力する SQLを考えてみましたが、(1)と(4)はOKだと思うのですが、それ以外の条件について LOWERとTRIMを使う事になるかと思いますが、SQL文のどこに追加すれば意図した結果 となるのかが分からない状況です。 ------------------------------------------------------- SELECT A.ID, A.CATEGORY, A.CREATE_DATE FROM PRODUCT_LIST A, (SELECT CATEGORY, MAX(CREATE_DATE) as CREATE_DATE FROM PRODUCT_LIST GROUP BY CATEGORY) B WHERE A.CATEGORY = B.CATEGORY AND A.CREATE_DATE = B.CREATE_DATE ------------------------------------------------------- =============================== ■ 元データ ID CATEGORY CREATE_DATE =============================== 1　　　aaa　　　01/01 2　　　bbb　　　01/01 3　　　ccc　　　01/01 4　　　ddd　　　01/01 5　　　aaa　　　02/01 6　　　_bbb　　　02/01 7　　　CCC　　　02/01 =============================== =============================== ■ 希望するデータ ID CATEGORY CREATE_DATE =============================== 4　　　ddd　　　01/01 5　　　aaa　　　02/01 6　　　bbb　　　02/01 7　　　CCC　　　02/01 =============================== （※ スペースをアンダーバーで示しています） よろしくお願いいたします。 (環境はOracle9iです）
<テーブル> 年月日、号機、装置温度、外気温度、時刻 Oracle8において上記のテーブルが有り、復数台の装置に関して 毎日365日データを蓄積しています。 ある一定期間の範囲で、月毎に装置ごとに装置温度の最高、最低、平均、 求めたいのですが、select文はどのように記述したらよいのでしょうか。 select 号機, MAX(装置温度),min(装置温度),avg(装置温度) from テーブル where sdate between '2009/08/01' and '2009/08/02' group by 号機; 上記のような記述で、一定期間における最大、最低、平均は求まりました。 これを月毎に求めたいのです。 結果は以下のように表示させたいと考えています。 号機、8月装置最大温度、8月装置最低温度、8月装置平均温度、9月装置最大温度、9月装置最低温度、9月装置平均温度… よろしくお願いします。
9iのOUIより、10gのコンポーネント(ODP.NET(Version:10.2.0.2.0))を インストールしたいと思います。その際に、9iの環境下で上記ODP.NETを インストールできるものでしょうか？？ インストール時にて、9iのOUIでは、「products.jar」を指定する ことになっており、10g上には上記ファイルがありません。 「products.xml」はありますが、これを指定することが できませんでした。 9iにODP.NET(Version:10.2.0.2.0)を入れる方法について ご教授をお願い致します。
Oracle11gをノートＰＣにインストールしましたが、 ネットワークから切り離してスタンドアロン状態で EnterpriseManagerを実行すると起動ができません。 （IPを持っていない状態） oracledbconsoleorclサービスの実行に失敗しているようです。 SQL*Plusからなら接続できるのでＤＢの起動自体は問題ないようですが。。 外出先でもEnterpriseMangerを利用できる、何かよい解決方法は ございますでしょうか？（ブラウザ版以外とかはないですかね？？）
Oracleのセッション数とどんなセッションがあるか定時毎に収集したいと思っています。 出来るだけサーバに負荷をかけないようにやりたいのですがどのようなログのとり方がお勧めでしょうか？ セッションを管理するにも１セッションはどうしても必要ですよね（汗） 9iの２００３サーバです。
いつもお世話になっております。 次で、PL/SQLで自動的に表tbを作成し、日時を挿入することを試みています。 BEGIN EXECUTE IMMEDIATE 'CREATE TABLE tb (t TIMESTAMP)'; INSERT INTO tb VALUES(SYSTIMESTAMP); END; / 実行すると、tbが作られていない旨のエラーになってしまいます。 INSERT部分がなければ、表tbは作成できます。 表を作成し、データを挿入するにはどのようにすればよろしいでしょうか。 何卒よろしくお願いいたします。
oracleという会社の製品について教えてください。 私の会社では、システムが老朽化して、再構築すべきだという意見が出ているのですが、そこで問題になっていることがあります。 旧システムの開発を業界でも大手のＦ社に依頼したのですが、その結果、システムの端末に使うＰＣやサーバーもすべてＦ社から買うということが続いています。 Ｆ社自体は信用のある会社で問題はないのですが、そのような形で１社のＰＣやサーバーを買うことに制限されるということは今後避けたいという雰囲気があります。 そこである人に聞いたところ「oracleという会社のデータベースに関する製品がある。この会社の製品の仕様は業界標準だから、この仕様に基づいてデータベースを構築すれば１社に縛られることはないと思う。」ときいたのですが本当でしょうか？ また、本当だとすれば、oracleという会社に直接頼むのか、システムを構築しようとするベンダー会社にたいして頼むんかどちらなのでしょうか？ oracleという会社の製品やリレーショナルデータベースマネジメントシステムなるものについてもお教えくださるようお願いします。
失礼します。 先日は似たような質問でお世話になりました。 またPL/SQLについての質問です。 あるTBLに、以下のような感じでレコードが入っていたとします。 TESTtable test1(PK)(NUMVER型) test2(NUMVER型) --------------------------------------- 1 10 2 11 3 12 4 10 ここで以下のSELECT文を実行 SELECT test1 , test2 FROM TESTtable WHERE test2 = IN(10,12) この時、test2が10だったら20の数値に変換後test2として抽出し、 test2が12だったら22の数値に変換後test2として抽出する為には どのようなSELECT文になるでしょうか？ 宜しくお願いします。
Accessで運用していたDBをOracleへ移行したところ、AccessのクエリでMAX()関数など集計系の関数が使えなくなりました。 エラーのSQL例： SELECT MAX(MESSAGE) FROM LOGDATA; ※MESSAGEはVARCHAR(2000) エラーメッセージ： 集計関数の引数(MESSAGE)にメモ型またはOLEオブジェクト型のフィールドを指定することはできません エラーを回避するにはどうすればいいのでしょうか？ Microsoft Access 2003 Oracle 10g R2
掲示板利用させて頂きます。 PGAとUGAがの違いがよくわかりません。 PGAはサーバープロセスごとに割り当てられる、専用のメモリ領域で UGAはセッションに割り当てられる専用のメモリ領域ということなのですが、意味があまりわかりません。 UGAは専用サーバー接続の場合PGAに含まれ、共有サーバー接続の場合はSGAに含まれるとのことですが、ますます？？です。 UGAがセッションに割り当てられる領域ということは、例えばALTER SESSIONなので変更した初期化パラメータの値などが入っているのでしょうか？だとすれば共有サーバー接続時SGAにUGAが含まれると問題があるのでは・・。 どなたかご教示ください；；
こんなSQLを教えてください ＜更新前＞ テーブル１ ｜キー｜コード｜ ｜　１｜　　ａ｜ ｜　２｜　　ｂ｜ ｜　３｜　　ｃ｜ テーブル２ ｜キー｜コード｜ ｜　２｜　　Ｂ｜ ｜　４｜　　Ｄ｜ ＜更新後＞ テーブル１ ｜キー｜コード｜ ｜　１｜　　ａ｜ ｜　２｜　　Ｂ｜ ｜　３｜　　ｃ｜ こんなふうに テーブル１と同じデータがテーブル２にあったら テーブル１を書き換えるUPDATE文を教えてください
Oracle上に既にあるテーブルからCREATE TABLE文を生成する方法はありますか？ Oracle 10g R2 Enterprise Edition Windows 2003 Server Standard R2
こんにちは あるプロジェクトでIDの連番を生成していますが、 年度毎に１から振り直します。 例：2009_001,2009_002... 2010_001... Oracleの順序（シーケンス）を使うとしたら、年度毎にどうやって順序を初期化するのでしょうか？ そもそもこの場合、開発では順序を利用するべきではないでしょうか？ よろしくお願いします。
失礼します。 PL/SQLについて、初歩的な質問をさせてください。 DBに以下のような文字列が入っていて、 それを抽出し変数にセットするとします。 A'1234567'→変数aにセット B'　　１２Ａ３４５Ｂ'→変数bにセット 質問１ Aの文字列を取得した際、'123-4567'のように 間にハイフンを付けて変数aにセットする場合 どのようなPL/SQLの記述になりますか？ 質問２ Bの文字列を取得した際、'12345'のように 左側の空欄と数字以外の文字を取り、 なおかつ数字を半角にして変数bにセットする場合 どのようなPL/SQLの記述になりますか？ お手数お掛けしますが ご回答宜しくお願いします。
現在、仕事で使用する機会がありそうなのでOracleでSQLを勉強しています。 ある教本の練習問題をしていて気になったので質問させてください。 単純な受注に関するデータベースの問題です。 CUSTOMER_TとSLIP_Tというテーブルがあり、 CUSTOMER_Tは顧客コード、顧客の名前、顧客の住所が載っています。 SLIP_Tは受注番号、発注した顧客の顧客コード、受注した日が載っています。 2007年1月10日以降に受注したことのない顧客の名前を出力する問題なのですが私は以下のように解答しました。 SELECT CUST_NAME FROM CUSTOMER_T WHERE CUST_CODE != ALL(SELECT CUST_CODE FROM SLIP_T WHERE SLIP_DATE >= '2007-1-10'); しかし解答は以下でした。 SELECT CUST_NAME FROM CUSTOMER_T WHERE CUST_CODE NOT IN(SELECT CUST_CODE FROM SLIP_T WHERE SLIP_DATE >= '2007-1-10'); 自分で簡単なデータベースを作り試してみたのですが出力結果は同じになりました。 この二つのSQL文の違いにどのような問題があるのでしょうか？よろしくお願いします。
■実現したいこと■ Oracle Database 10g Express Edition (Universal) Oracle Database 10g Express Client を同一筺体にインストールして、コマンドプロンプトからsqlplusを起動してDBを操作する ■行った事■ 「http://127.0.0.1:8080/apex/」の管理者画面からデータベース・ユーザー"HR"（サンプルユーザ）のアカウントステータスを 「ロック済」→「ロック解除済」にした。 ※HRユーザの権限は以下の通りです。 ユーザー権限 ロール:　 CONNECT　　○ RESOURCE　　○ DBA　　　　 ○ 直接付与されたシステム権限: CREATE DATABASE LINK○ CREATE MATERIALIZED VIEW× CREATE PROCEDURE　　　　× CREATE PUBLIC SYNONYM× CREATE ROLE　　　　× CREATE SEQUENCE　　　　 × CREATE SYNONYM　　　　○ CREATE TABLE × CREATE TRIGGER × CREATE TYPE × CREATE VIEW × ■環境■ Windows Vista SP1 上記のようなやってコマンドプロンプトから sqlpulsを起動して、ユーザID(HR)とパスワードを入力した所 「ORA-12560: TNS: プロトコル・アダプタ・エラーが発生しました」 というエラーが出てしまいました。 何か足りない操作があるんでしょうか。それとも元々同一筺体にて使用できないんでしょうか。 どなたかご教授下さい。 よろしくお願い致します。
いつもお世話になってます。 他プロジェクトのまた聞きなのですが。。。。 oracle9iからoracle10gにバージョンアップを行いました。 数日後、数千万件にバインド変数でアクセスするＳＱＬがインデックスを使用せず、フルアクセスしてしまい、トラブルとなりました。 この事象はＣＢＯのデメリットなので、納得なのですが。 １．トラブル発生前は該当ＳＱＬはINDEX RANGE SCANを使用していた。 ２．トラブル対処として、ヒント句を使用すると、INDEX FULL SCANになってしまい、結果として遅くなってしまった。 前置きが長くなりましたが、ヒント句を使用してINDEX FULL SCANになってしまった場合、明示的にINDEX RANGE SCANを適用させる方法はあるのでしょうか？ ネット検索してもそのような方法を見つけることができませんでした。
COL COMMENTS FORMAT A44 SELECT * FROM DICTIONARY WHERE LOWER(COMMENTS) LIKE 'constraint%'; とありますが、検索した結果、TABLE_NAME列とCOMMENTS列が取得されています。 COMMENTS列には'Constraint definition …'というデータが取得されていますが、LOWER関数を使っているのに先頭が大文字になっているのは、なぜでしょうか? また、COL COMMENTS FORMAT A44と指定してから、SELECT を行っていますが、この'COL COMMENTS …'は、DICTIONARY のCOMMENTS列を44バイトに変更しているのでしょうか？ データディクショナリには、ALL～、USER～,DBA～があるとありますが、DICTIONARYもデータディクショナリでしょうか？ ユーザがアクセス可能な情報を格納したものであり、データベース管理者でなくてもアクセス可能な情報なのでしょうか？ 接頭語が付いていませんがALLが付いたようなものでしょうか？
中国語OSからOracle Enterprise Managerにアクセスした場合に、 中国語で表示されてしまいます。 管理しづらいので日本語での表示を行いたいのですが、 何か方法はありますでしょうか。 以上、よろしくお願いいたします。
物理データベースはデータファイル、制御ファイル、REDOログファイルで構成されていますが、 UNDOデータは、REDOログファイルに格納されているのですか？ 変更開始前のデータはREDOログファイルから取り出されるのですか？ それとも、REDOログファイルからデータファイルにUNDOデータを作成して、データファイルから取り出しているのでしょうか？
現在oracle10gでＤＢを構築し、クライアントサーバでアプリケーションシステムを稼働しています アプリケーションはログインするユーザによってＤＢへのアクセス範囲を限定できますが ＳＩＤ，ユーザＩＤ、パスワードを入れてアクセスするオラクルツールではアクセス範囲を限定できません これに制限をかけることは可能でしょうか（たとえばＰＣ側のプロセスを限定するとか） また、このような制限を可能にする良い案があれば御教示ください。
いつもお世話になっております。たびたびの質問で恐縮です。 ストアドプロシージャでのパラメータのデータ型が設定できず困っております。たとえば次はパラメータの文字を表示させるものです。 CREATE OR REPLACE PROCEDURE test(p VARCHAR2(10)) IS t VARCHAR2(10); BEGIN t:=p; DBMS_OUTPUT.PUT_LINE(t); END; / コンパイルエラーになるので、パラメータのデータ型を、VARCHAR2のように(10)を取るとうまくいきます。しかし、変数定義の「t VARCHAR2(10)」の(10)を取ると文字列の制約制限からはずれるとのエラーになります。 VARCHAR2というのは、PL/SQLの変数あるいはパラメータではどのように記述すればよろしいのでしょうか。 基本的なことを理解しておらず、申し訳ありません。 どうか、よろしくお願いいたします。
OracleMasterの勉強をしていてわからないことがあります。 ご存知のかたがおられたら教えていただきたいです。 アーカイブログファイルについて書きのように説明されております。 「アーカイブログファイルはREDOログファイルのオフラインコピーであり、主にデータベースのリカバリに用いられる」 ここでオフラインコピーというのはどういう事なのでしょうか？ オンラインコピーとオフラインコピーの違いがわかりません。
PL/SQL PLS-00103エラーについて 夜分遅くに申し訳ございません。 PL/SQLのコーディングを実施し、コンパイル中にPLS-00103エラーが発生してしまったのですが、 対処方法がわからず困ってしまいました。 ・メッセージ内容：”PLS-00103: 記号"="が見つかりました。” 上記メッセージで指定されていたソース内容（イメージ）↓ -------------------------------------------------------------- ・ ・ BEGIN LV_STEP := '**登録処理開始'　　-- 左記の:=の=部分がエラーメッセージで指定されていました。（LV_STEPはログ出力用の変数） CURSOR AAAA IS SELECT GG.EPLY_NO GG_EPLY_NO ,GG.R_CD GG_R_CD ,GG.S_CARD GG_S_CARD ・ 　　　 ・ 　　　・ FROM GRA_GRA_TR GG ・ ・ ・ ------------------------------------------------------------------ といった感じなのですが、 このPLS-00103エラーの対処方法をどなたかご教示いただけませんでしょうか。 よろしくお願いいたします。
Solaris10、Oracle10の環境です。 Pro*Cでコンパイルを行う為の参考makefileと思われる $ORACLE_HOME/precomp/demo/proc/demo_proc.mk などのファイルがありません。 demo_proc.mkはサーバー上のどこにもありません。 調べてみると、どうも、OracleのCompanionCDの中に 入っているようですが(？)、CDからこのファイルを取得する事は 可能でしょうか？ （今手元にCDが無いのですが、後日取得予定です） 出来れば、ファイルだけ取得して、 インストールや環境等は変えたくありませんが そのような事も可能でしょうか？
いつもお世話になっております。 Oracle11gをクライアントから接続できなくなり、対応がわからず困っております。 昨日まで問題なくクライアントから接続していましたが、サーバーのIPが変更されたせいか「接続タイムアウト」になり接続できなくなってしまいました。 listener.oraには (DESCRIPTION_LIST = (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521)) (ADDRESS = (PROTOCOL = TCP)(HOST = ××)(PORT = 1521)) の記述があり、Enterprise Managerの該当リスナーのページで確認すると(KEY = EXTPROC1521)が選択され、TCPを選択しても、IPCに戻ってしまいます。これは何か問題がありますでしょうか？　またlistener.oraやtnsnames.oraの設定とか、どのあたりを確認すればよろしいでしょうか？ お恥ずかしい限りですが、何卒よろしくお願いいたします。
下記PLSQLを実行した時に（sqlplus上で、@XXXX.SQLと実行） WCOUNT :=WCOUNT + 1;　エラー PLS-00201: 識別子WCOUNTを宣言してください のエラーがでます 宣言をしているのですがわからず、お助けください また、他にもこのエラーを処置したあとに問題と なりそうな箇所があれば指摘お願いします －やろうとしてること (1)テーブルＡ　を、男子を出席順に読み込んでその読み込んだ順番に 1から番号をふり、テーブルＢへ新規追加する (2)テーブルＡからテーブルＢに新規追加していない女子を、出席順に読み込んで 1から番号をふり、テーブルＢへ新規追加する (3)テーブルＢのKEYは順番のみ (4)テーブルＢのINSERT分は、今後機能追加する予定なのでNOT IN使用する －組んだPL/SQL（２つのINSETを１つのファイルに記述しています） DECLARE WCOUNT number; CURSOR カーソル IS SELECT 出席番号,名前,成績 FROM テーブルＡ　 ORDER BY 出席番号; BEGIN FOR r IN カーソル LOOP INSERT INTO テーブルＢ (r.順番, r.名前,r.出席番号) VALUES (WCOUNT,r.名前); COMMIT; WCOUNT :=WCOUNT + 1; END LOO; / END; DECLARE CURSOR カーソル IS SELECT 出席番号,名前,成績 FROM テーブルＡ A WHERE A.出席番号 NOT IN (SELECT B.出席番号 FROM テーブルＢ B) ORDER BY 出席番号; BEGIN FOR r IN カーソル LOOP INSERT INTO テーブルＢ (順番, 名前) VALUES (WCOUNT,r.名前); COMMIT; WCOUNT :=WCOUNT + 1; END LOOP; / END;
たびたびお世話になります。Oracle初心者で、PL/SQLを使ってすでに存在するレコードに順位の値を入れようと思っております。 DECLARE CURSOR カーソル IS SELECT * FROM tb ORDER BY 成績; n number:=0; BEGIN FOR r IN カーソル LOOP UPDATE tb SET 順位=n WHERE 成績=r.成績; n:=n+1; END LOOP; END; FORというもの自体がわからず恐縮です。これは正しく、カーソルで定義したORDER BYの順に動くと考えてもよいのでしょうか。上記を実際にやってみると、うまく順位が入るようなのですが、これはたまたまなのでしょうか。 お恥ずかしい限りですが、どうかよろしくお願いいたします。
ネット等をみるとOracle提供のJDBCドライバで接続する方法が載っていますが、oo4oを利用してJavaのプログラムからOracleにつなぐことは可能でしょうか？ VBやVCの場合、oo4oを推奨していたと思うのですが、言語がJavaの場合はどうなのか調べてもよく分からないため質問させていただきました。 よろしくお願いいたします。
お世話になります。Oracle初心者です。RANK関数による順位付けについて悩み、検索してもわからず困っております。 次のような表tbがあります。 数値，順 ７０ １０ ３０ この「順」のカラムに順位を付けて 数値，順 ７０，３ １０，１ ３０，２ としようとしています。SELECTなら SELECT 数値,rank() over (order by 数値 desc) from tb; が成功します。これでupdateする場合、 (rank() over (order by 数値 desc))をした値を update tb set 順= とすればよいと思うのですが、うまくいきません。 PL/SQLを使わず、SQLでRANK関数を使って順位付けするにはどのようにしたらよろしいでしょうか。 勉強不足だと思い、申し訳なく思います。何卒よろしくお願いいたします。
掲示板利用させていただきます。 現在oracleのDBA1の勉強をしています。 sqlplusへ接続する際、as句を使用する意味がわかりません。 「connect sys/oracle as sysdba」の説明が、「sysdbaとして接続します」と参考書に書いています。 sysdbaは権限なのに、sysdbaで接続するとはどいういう意味なのでしょうか。sysユーザーにはsysdba権限が付与されているので、普通にas句を使わなくてもsysdba権限が必要な操作を実施可能と理解しています。 どなたかご教示いただけますでしょうか。
マニュアルでは、 Oracleインベントリ・グループのデフォルトは「oinstall」 OSDBAグループのデフォルトは「dba」 Oracleソフトウェア所有者ユーザーは通常は「oracle」 ですが、 自分はこれ以外で設定したことが無いのですが、 上記のOSグループとOSユーザーのデフォルト以外で、 （例えば、oinstallでなく、oins1とか、 　　　　　dbaではなく、db1とか、 　　　　　oracleでなく、ora1とか） にしても、問題は無いものでしょうか。 もし、ご存知の方いらっしゃいましたら、教えてください。
・データベース Oracle10g ・プログラム　java 1.6 お世話になっております。業務でOracleを利用して以下のデータをしたいと考えています。 ★やりたいこと ・検索画面から、状態を指定し、次画面の検索結果画面で結果を表示したい。 ・検索条件は、状態のみ(本当はいろいろあるけどここでは割愛) ・ログイン時のユーザー情報を保持しており、画面で指定された'状態’と'ユーザー'をキーにデータを取得する ・係長、一般職、派遣のユーザーは "状態"が"本社承認済み"以降のデータしか見られない ・ただし、自分が登録・申請・承認に関わるデータは"本社承認済み"以前の状態のものも見られる ・上記の結果を一回のSQLで取得したい ■テーブル:予定情報 --------------------------------------------- 登録内容 | 登録者 | 申請者 | 承認者 | 状態・・・・ --------------------------------------------- AAAAAAAA |派遣　　| 課長　 | 部長　 | 登録済み BBBBBBBB |一般職　| 係長 | 申請済み CCCCCCCC |派遣　　| 一般職 | 課長　 | 本社承認済み DDDDDDDD |課長　　| 課長　 | 部長　 | 連携済み EEEEEEEE |派遣　　| 派遣　 | 係長　 | 反映済み ※ユーザーが一般職の場合、登録内容AAAAAAAA以外のデータを取得する 派遣の場合は、登録内容BBBBBBBB以外のデータを取得する 係長の場合は、登録内容AAAAAAAA以外のデータを取得する ■ユーザー(登録者、申請者、承認者のデータ) 以下のユーザーが存在しています。 ・社長 ・部長 ・課長 ・係長 ・一般職 ・派遣 ■画面から指定可能な状態は以下の通り ・すべて ・登録済み ・申請済み ・本社承認済み ・連携済み ・反映済み ★わからないこと 検索画面で状態'すべて'が選択された場合に、 係長、一般職、派遣のユーザーについて状態"が"本社承認済み"以降のデータはすべて表示し、 自分が登録・申請・承認に関わるデータは"本社承認済み"以前の状態のものを取得するというSQL の条件指定をおこない際の構文がわからない。 状態が'登録済み'かつ、ユーザーが'派遣'の場合のSQLは以下ですが、 状態で'すべて'が選択された場合は、どのような構文になるのでしょうか？ Selct * from 予定情報 where 状態 ='登録済み' and 登録者 = '派遣'　and 申請者 = '派遣'　and 承認者　='派遣' なにとぞよろしくお願いいたします。
Solari10、Oracle10環境で Solaris10上でWEBブラウザで接続すると 「/IPアドレス/:との通信中に接続が拒否されました」 とのエラーが発生します。 IPアドレスへのpingは通ります。 dbconsoleは立ち上げてます。 何か分かる所はあるでしょうか？
こんにちは SQLで困っています>_<!! 曖昧検索をしたいのですが、大文字小文字、全角半角 関係なく、文字の並びが一致したら取得するようなことはできるのでしょうか？ StudentテーブルのNAMEカラム↓ あああABCいいい あああAbcいいい あああＡＢＣいいい この時、条件に「NAME like '%ABC%'」としたら 全部引っかかるようにしたいんです。 SQLでこのような取得は無理なのでしょうか？ Javaとうまく組み合わせて使いたいのですが。。 どなたかご指導宜しくお願いします。
DBはoracle10gです。 テーブル(A_TBL)は以下の4つのカラムで構成されています。 seq_no(連番),key_1(個人番号),key_2(更新日),status(状態) key_1が同一のレコードは、 最新のレコード(最新とは更新日の大きいレコード)以外のstatusを'0'から'4'にします。 例として実行前と実行後のテーブルは以下のような状態です。 【実行前】 seq_no,key_1,key_2,status 1,001,20080101,1 2,001,20080102,0 3,002,20080101,0 4,003,20080101,0 5,003,20080102,0 6,003,20080103,0 7,004,20080101,0 8,004,20080102,2 【実行後】 seq_no,key_1,key_2,status 1,001,20080101,1 2,001,20080102,0 3,002,20080101,0 4,003,20080101,4 5,003,20080102,4 6,003,20080103,0 7,004,20080101,4 8,004,20080102,2 以下のようなSQLを作成し、更新しようとしました。 update A_TBL set status = '4' where status = '0' and seq_no not in ( select wk2.seq_no from A_TBL wk2, (select max(key_2) as key_2, key_1 as key_1 from A_TBL group by key_1) wk1 where wk2.key_1 = wk1.key_1 and wk2.key_2 = wk1.key_2 and wk2.status = '0' ) このSQLはin句を使っていますが、 in句を使わずに同様の更新を実現することは出来るでしょうか？
Oracle10をインストールしますが、 OracleベースディレクトリはOFAガイドラインで /mount_point/app/oracle_sw_owner 上記のようなパスを使用するという推奨事項があるようです。 これに全く準拠しないOracleベースディレクトリを設定する予定ですが 何か不都合が発生するような事があるのでしょうか？
SQL初心者のため、初歩的な質問だと思いますが、回答お願いします。 ●健康診断テーブル ID　回数　結果 ――――――― A　　1　　11 B　　1　　22 B　　2　　23 C　　1　　11 C　　2　　22 C　　3　　12 D　　1　　12 E　　1　　31 ●個人情報テーブル ID　所属　 ――――― A　 経理　 B　 総務　 C　 営業　 D　 営業 E　 経理 上のような二つのテーブルがあります。 IDは人物の識別に使うIDで、同じIDなら同じ人を表しています。 健康診断テーブルの結果は、回数を重ねると変わってしまうこともあります。 この二つのテーブルから、所属ごとの結果を表示したいです。 上記の場合、以下のようなデータを出力できるようにしたいです。 所属　結果　人数 ――――――――― 経理　11　　1 経理　31　　1 総務　23　　1 営業　12　　2 どのようにプログラムを組めばいいのでしょうか。 グーグル等で検索しても、自分の理解できる解答は見つかりませんでした。 （自分のプログラムレベルがかなり酷く、わからないがわからないのレベルです） 今は初回･2回･3回と回数を変更するSQL文は作成できています。 すいませんが、回答お願いします。
oracle10gで作成したエクスポートファイルをoracle9iにインポートしたいのですがoracle9i形式でエクスポートファイルを作成することは可能でしょうか。
お世話になります。Oracle11gをWindowsVistaにインストールし、SQL、PL/SQLの勉強をしている初心者です。 ファイル操作の勉強をしようと思い、UTL_FILE_DIRの変更を試みたところ、データベースが起動しなくなってしまいました。databaseフォルダにあるoradim.logを確認したところ、次の記録がありました。 Fri Dec 18 00:30:04 2009 E:\app\taro\product\11.1.0\db_1\bin\oradim.exe -startup -sid orcl -usrpwd * -log oradim.log -nocheck 0 Fri Dec 18 00:30:04 2009 ORA-01078: failure in processing system parameters LRM-00109: ?p?????[?^?E?t?@?C??'E:\APP\TARO\PRODUCT\11.1.0\DB_1\DATABASE\INITORCL.ORA'???I?[?v?????????????B いろいろと検索してみたのですが、復旧方法がわからず困っております。お助けいただければ幸いです。 何卒、よろしくお願いいたします。
sqlplus で テキストファイルにつくったinsert文42行をコピーして　SQLPLUSにはりつけると、28行目で、きれてしまいます。（28行目までinsertできている) なにか、set とかで設定しておかなければならないなどありますでしょうか。 お手数をお掛けしますが、どうぞよろしくお願い申し上げます。
(1)の様なテーブルから結果を(2)の様にしたいのですが どのようなＳＱＬを書いたら表示できるのかわかりません。 アドバイスなどをお願い致します。 （新たにView等を作成するなどでもかまいません。） (1)dept_id / item_id / day / time　（カラム） 1111 / 0001 / 20090101 / 60　（レコード１） 1111 / 0001 / 20090102 / 30　（レコード２） 1111 / 0002 / 20090101 / 40　（レコード３） 1112 / 0001 / 20090101 / 30　（レコード４） (2)dept_id / item_id / time1 / time2 1111 / 0001 / 60 / 30 1111 / 0002 / 40 / 1112 / 0001 / 30 /
お世話になっております。 AIX版で、11.1.0.1をインストール後、 11.1.0.7のバージョンまであげるには、 一旦、PSRで、11.1.0.6に上げてから、 11.1.0.7のPSRの適用が必要なのでしょうか。 わかる方いましたら、教えてください。 よろしくお願いいたします。
Oracle10gのデータベースの移行について質問です。 Oracle10g が稼動しているサーバ機があります。 老朽化の為、新しいハードウェアへ入れ替える事になりました。 ＯＳは、入れ替え前も入れ替え後もWindows Server 2003です。 　ＤＢ：　Oracle10g　→　Oracle10g 　ＯＳ：　Windows Server 2003　→　Windows Server 2003 現行のサーバ上では４つのインスタンスが稼動しています。 新しいサーバ上に、同じ構成でそのまま移行する方法を検討していますが、下記のような方法で大丈夫なものでしょうか？ (1)新しいサーバ上にOracle10gを初期データベースなしでインストールする (2)新しいサーバ上で新規のOracleインスタンスを４つ作成する　（ORADIMツールを使用） (3)現行のサーバ上の各インスタンス・Oracle関連サービスを停止し、オフラインでデータベース関連のファイルのバックアップを取得する (4)現行のサーバから、新しいサーバへ、オフラインで取得したバックアップファイルを転送する (5)新しいサーバ上の各インスタンス・Oracle関連サービスを停止する (6)新しいサーバ上から、(3)で取得したファイルと同じファイルを削除する (7)新しいサーバ上で、バックアップしたファイルを現行のサーバと同じ位置に配置する (8)新しいサーバ上のOracle関連サービスと各インスタンスを起動し、動作を確認する どなたか、回答宜しくお願い致します。
現在、バッチ処理にて毎日、 まずテーブルを空にして、 そのあとインサートを行う作業をしています。 しかし、余りにもインサートに時間がかかってしまい困っています。 (2000万レコード程) 何か方法を探しているとヒント句の/*+ APPEND */を使用する ダイレクトロードインサートというものを知りました。 大量のデータインサートのケースには従来のインサートよりも 処理速度が向上できるのではと感じました。 ただし、注意点が何点かあり、表領域の使用効率が悪いという所が気になっています。 毎日DELETE、もしくはTRUNCATEを行えば問題ないのでしょうか？ また、ダイレクトインサートを使用する上で懸念すべき点が他にあれば ご教授お願い致します。
はじめまして。初めて質問させて頂きます。 現在、システムを作成しています(開発が主業務ではありませんが)。 が、作成途中で詰まっていますので、ご教授願えれば、と思い質問させて頂きます。 いくつかの条件(氏名、内容、レベル)をユーザに入力してもらい、その条件に合致しているデータを抽出するSQLを発行したいのですが、なかなかうまくいきません。 現状では、上記3つの条件を全て入力すれば結果が反映されるのですが、1つずつで絞り込むことができません。 例えば、レベルの選択タブで「2」をユーザが選んだ場合、その条件に合致するあらゆる内容のレベル2の人が出てきてほしいのです。 また、内容で「攻撃」を選んだ場合、攻撃のレベルは関係なく全ての条件が出てきて欲しいのです。 カラオケで選曲をする際に機械を使うと思いますが、あのようなものを作成したいのです。 「ゆず」を検索する際に、「ゆ」を入れた時点で「ゆ」から始まるアーティスト名が抽出され、次に「ず」を入れると抽出件数が減ります。 あのような動作はSQLだけで行えるものなのでしょうか。 ネットで検索してもいまいち理解ができません。 どなたかご教授をお願い致します。
EXCELでODBC接続で外部データを取り込み、クエリテーブルを作成するところまではできるのですが、MicrosoftQueryを使って外部結合をしようとすると、テーブルが３個以上ある場合は外部結合できませんとエラーが表示されます。 直接SQLをさわれば出来るのかと思い、 SELECT フィールド名１, フィールド名２, ... FROM (((TABLE1 LEFT JOIN TABLE2 ON TABLE1.NO = TABLE2.NO)LEFT JOIN TABLE3 ON TABLE1.NO = TABLE3.NO)LEFT JOIN TABLE4 ON TABLE1.NO = TABLE4.NO)LEFT JOIN TABLE5 ON TABLE1.NO = TABLE5.NO を入力したのですが、「ORA-00942: 表またはビューが存在しません」というエラーが発生しました。 いろいろ調べてみたのですが全くの初心者なもので本当に困っております。 どなたかアドバイス等よろしくお願いします。
会社でOracleのデータベースを使用しているので、自宅で勉強しようと思いネットで検索したところ、制限はつくものの無料で使用することができる Oracle 10g Express Editionというものを発見し、早速インストールしてみました。 しかし、会社の研修ではsql plusというもので、操作を行っていたのですがこのOracle 10g Express Editionにはsql plusが入っていませんでした もしかしてこのOracle 10g Express Editionではsql plusは使用することができないのでしょうか？ 参考書として、現場で使えるSQLという本に、Oracleのインストール方法とsql plusの使用方法は書いてあるのですが この本でインストールしているものはoracle database 10g release 2という３０日間のみ使用可能なトライアル版であり 今回私がインストールしたOracle 10g Express Editionの説明ではありません。 この本にはoracle database 10g release 2をインストールすると スタートメニュー→プログラム→oracle -oraclient 10g＿home1→アプリケーション開発→sql plusとう順番でsql plus起動させることができますが、私のPCにはスタートメニューにsql plusはありませんでした。 どなたかOracle 10g Express Editionでsql plusを使用する方法を知っているかたはいないでしょうか？ 長文かつわかりにく文章で申し訳ございませんが教えていただけると幸いです。
Solarisでエクスポートしたdmpファイルを Windowsへインポートしようとしたら IMP-00010：有効なエクスポート・ファイルではありません。ヘッダーは検証に失敗しました。 のエラーが出ました。 ファイルをFTPで取得する時、Windowsのコマンドプロンプトの FTPでそのまま行った為、アスキーモードで転送されたと考えてます。 ここで質問なのですが 1.アスキーモードで転送されたファイルをWindowsへインポート 　すると失敗しますか？ 　失敗する場合、このファイルを何か再変換みたいな事をして 　インポート可能なファイルにする事はできるでしょうか？ 2.アスキーモードで転送されたこのファイルは、 　同じSolarisマシンに対しては、インポート可能でしょうか？ (Solarisのマシンは遠方にある為、再度取得が簡単ではないです。 何か分かりましたら、よろしくお願いします。）
下記のようなテーブルがあり、 マスタの方は「*」が入っていれば、デフォルト行のような扱いをしたいのです。 ・テーブルの１のデータはマスタのＡと完全マッチしているので、Ａの行の値が欲しい。 ・テーブルの２のデータはマスタと完全一致はしないが、列４が「*」なのでＢの行の値が欲しい。 ・テーブルの３のデータはマスタと完全一致はしないが、列３と列４が「*」なので、Ｃの行の値が欲しい。 現在は、マスタを別名で完全一致用(m1)、列４が「*」用(m2)、列３と列４が「*」用(m3)の３つをFrom句に記述し、 Select句にて、m1がNULLなら、m2から取得、m2もNULLならm3から取得するというやり方をとっていますが、 実際の「*」がある組み合わせがたくさんあり、それだけインラインビューを用意すると遅くなっているので、 なんとかインラインビュー１つでなんとかならないものでしょうか？ テーブル ┌─┬──┬──┬─┐ │01│AAAA│X001│YY│←１ ├─┼──┼──┼─┤ │01│AAAA│X001│ZZ│←２ ├─┼──┼──┼─┤ │01│AAAA│X002│YY│←３ └─┴──┴──┴─┘ マスタ ┌─┬──┬──┬─┐ │01│AAAA│X001│YY│←Ａ ├─┼──┼──┼─┤ │01│AAAA│X001│* │←Ｂ ├─┼──┼──┼─┤ │01│AAAA│* │* │←Ｃ └─┴──┴──┴─┘
こんばんは。 複数テーブルの複数カラムをupdateしたいのですが、 うまくいかず困っています。 どなたか助けてください>_< テーブルA(tableA)のoptionAというカラムと、 テーブルB(tableB)のoptionBというカラムを両方更新したいんです。 やりたい内容のイメージとしてはこんな感じです↓ update tableA a, tableB b set a.optionA='OK', b.optionB='OK' where a.student_id=b.student_id and a.name='山田'; どなたかご指導お願いいたします。
Oracle 11gをインストールしたばかりです。 EMの画面からリスナーを選択し、停止ボタンを押そうとしました。 （あくまでも勉強のためです） ユーザー名およびパスワードが正しくありません。 とでてきてしまいました。 sqlplusにログインできるユーザ名/パスワードですが、うまくいきません。 SELECT username FROM v$session WHERE username IS NOT NULL; と打ってみましたが、そこででたユーザー名でも駄目でした。 どうか、ここで使われているユーザ名を確かめる方法を教えてください。 Windows XP SP3
お世話になります。 Oracle10g Express Edition に、NET8経由でOO4Oで接続したいと考えています。 動作確認はできましたが、 ライセンス上の問題はありますでしょうか？ （OTNではライセンスの話題はしないとのことで、こちらで質問いたします） ご存知の方おられましたら、ご教授いただければ幸いです。 よろしくお願いいたします。
お世話になってます。 データの結合ＳＱＬについて教えてください。 以下の２つのテーブルがあります。 <TBL1> KEY A B --- -- -- 111 A1 B1 222 A2 B2 333 A3 B3 <TBL2> KEY COL C --- --- -- 111 1 AA 111 2 BB 222 1 CC 222 2 DD 333 1 EE 333 2 FF 正規化？を行った結果このようになったようなのですが、運用では下記イメージで利用してます。 KEY A B C1 C2 --- -- -- -- -- 111 A1 B1 AA BB 222 A2 B2 CC DD 333 A3 B3 EE FF TBL1とTBL2から、このイメージを取り出すために前任者がPL/SQLの複雑なロジックで実現しているのですが、処理が遅い状態です。 ＳＱＬのみで実現できれば、もう少し早くなるのでは？と考えております。 いろいろ考えてみましたが実現方法が思いつかないため、お知恵をお貸しください。 TBL1は特に規則性もない普通のテーブルです。 TBL2は、TBL1のキーが必ず存在します。 COLは、キーごとに1,2が固定で設定されます。結合イメージのC1,C2項目に該当します。 TBL2の件数はTBL1件数＊２になります。 以上、つたない説明ですが、よい手がありましたら、ご指摘お願いします。
　お世話になります。サーバーとクライアントが同じマシンでOrale Database 11gが動作している状態でOracleの勉強をしていました。今度は、同じネットワーク上にある別のVistaマシン（ultimate）にOrale Database 11g Clientをインストールし、クライアントからsqlplusを動作させようとしています。 　Net Configuration Assistantで、リスナーを追加し、「ローカル・ネット・サービス名構成」でネットワークの設定をしました。 　現在クライアントから「https://サーバー名：1158/em」でEnterprise Managerにアクセスできる状態です。また、Clientのインストール途中での、接続テストには成功しています。 　コマンドプロンプトから「sqlplus」と入力すると、ユーザー名とパスワードが聞かれるのですが、「ERROR:　　　ORA-12560: TNS: プロトコル・アダプタ・エラーが発生しました」と表示され、接続できません。 サービスには、「OracleOraDb11g_home1TNSListenerLISTENER1」などが表示されず、「lsnrctl start」も「lsnrctl status」もコマンド自体が解釈されません。 　初心者でどうしてよいかわからず、大変申し訳ありませんが、お助けいただければ幸いです。どうか、よろしくお願いいたします。
オラクルマスターを取得したいと考えています。 オラクルマスターは下位資格を取得していないと 上位資格を取得する権利はないのでしょうか？ 例えば、１０ｇのゴールドを取得したい場合 １０ｇのブロンズ→１０ｇのシルバー →１０ｇのゴールドと順番に取得するのでしょうか？ 知識があるからといって、いきなりシルバーや ゴールドを受講することは無理なのでしょうか？ また、１０ｇのゴールド資格保有者が１１ｇのゴールドを 取得する場合は、バージョンアップ？の試験（資格）を パスすればよいのでしょうか？ 講習などは再度受けなおす必要はないのでしょうか？
Oracleのパフォーマンスが悪い！といわれたときどういった手順で確認していけばよいのでしょうか？（初心者です） 読み込みも書き込みもなんだか・・・のレベルですが遅い！といわれます。 確かに年々悪化しているようにおいら自身思っているんです。 よくはわからないが何気にパフォーマンスが悪いって言う場合どこから調べればいいですか？ ちなみにOSレベルやネットワークレベルではたぶんだけど悪くなさそうです。 サーバーは２０００３でORAはちょっと前の９です。
共有メモリを拡大するがゆえの弊害ってありますか？ Oracleの設定で共有メモリを１週間前に大きくしました。 大きくした理由はそんなようなエラーメッセージが出たからだけです。 そもそも共有メモリというものに対して知識がそんなにないのにやったのがいけないのかもしれませんがなんだかパフォーマンスが悪くなった気がします。（直感だけですが・・・） 実際どんなんでしょうか？あとバッファキャッシュってなんですか？ ご解説いただけるとうれしいです。
日付の計算で、(日付 - 日付)/数値は期間らしいですが、どのように使っているのですか？実例ありますか？
データベースに限らず、『サマリ』という言葉は、要約とか集約的な 意味で一般的に使われているようなのですが、正直、いまいちわかりません。 データベースを勉強中なのですが、サマリというのは、あるグループにまとめる的なことでつかわれているのは漠然とわかったのですが、説明してみてといわれたら、全く説明できない程度のかなり危うい感じにしか認識できてません。 なにか例をだしてわかりやすく説明していただける方いましたらよろしくお願いします。
仕事でPL/SQLのプログラムを書いています。 開発環境はosqleditです。 自宅でも練習用にPL/SQLをプログラムが組める環境を整えたいです。 まずなにからはじめたら良いのでしょうか。
オラクルの11gのやつなんですが TEMPに十分なディスク領域不足していてインストールが正しくできないです。 処理の仕方がわからず、PCを初期化したのですが、それでもTEMPに十分なディスク領域不足しているということになってしまい、正しくインストールできません。 この対処法を知っている方がおりましたら、教えてください
お世話になっております。 素人質問で申し訳ありませんが、お助けください。 「テーブル内容」に対してSQLを実行すると、「実行結果」のように結果を求めることができるSQLを教えてください。 ■テーブル内容 2007/1/1 2007/12/3 2008/4/4 2008/5/5 2009/6/6 2009/11/11 ■実行結果 2007 2008 2009
Solaris上のOracle9.2.0 でエクスポートしたファイルを Windows上のOracle9.0.1 にインポートしようとしたら 以下のエラーがでました ----------------------------------- IMP-00010：有効なエクスポート・ファイルではありません。ヘッダーは検証に失敗しました IMP-00000：エラーが発生したためインポートを終了します。 ----------------------------------- 原因は、Oracleのバージョン違い(9.2.0から9.0.1へのバージョンダウン）による物でしょうか？。 それとも、SolarisからWindowsにインポートした事による、例えば文字コード等による物でしょうか？ また、原因に対する解決策はありますでしょうか？
UNIX上にOracleをインストールした場合、 ODP.NETは、インストールされるのでしょうか。 ⇒インストールすることができるのでしょうか。 この、UNIX上でOracleをインストールしたときに、 ODP.NETのバージョンは、どのように確認を すればよいか教えて頂けないでしょうか？ ご教授の程、よろしくお願い致します。
Oracle 10.2.0.4のDatebase版(64bit)をWindows Server 2008にインストールすると、なぜかレジストリの『NLS_LANG』の値がデフォルトなっています。これは元々そういう仕様なのでしょうか？ また、DBを作成した際に、SYSユーザ、SYSTEMユーザ等のパスワードをそれぞれ設定できますよね。 その際にパスワードを自分で設定したのですが、 いざコマンドプロンプトからDBに接続する時に、 まず『SQLPUS /NOLOG』 と打ち、 そのあとユーザでDBに接続するために 『CONN SYS/****@SID as sysdba』で接続しようとすると、 *****の部分のパスワードがどんな文字であろうとログインできてしまいます。 （さすがに空文字は駄目ですが） もし理由を知っている方がいたら教えて頂けませんか？ お手数ですが何卒よろしくお願いします。
下記のようにサーバがあります。 ・Aサーバ(Solaris) ・Bサーバ(Windows) 下記のように文字コードが異なります。 ・Aサーバ(JA16EUCTILDE) ・Bサーバ(JA16SJIS) ※Oracleのバージョンは同じです。 AサーバでエクスポートしたdmpファイルをBサーバにインポートしたいと考えています。 文字コードが異なるdmpファイルをインポートするにはどのようにしたらいいのでしょうか。また注意点などあるのでしょうか。 テストする環境が今ないため、試す事ができません。 些細な事でも何でも構いませんのでアドバイスいただけませんでしょうか。 宜しくお願いします。
Oracleをインストールするとexpコマンドとimpコマンドも使用可能になるのでしょうか。 実際にインストールすればいいのですがインストールしていい端末が無い為、確認できません。 インストールの「インストール・タイプ」で変わってくるのでしょうか。 このような質問をして申し訳ありませんがアドバイス宜しくお願いします。
Oracleでいうユーティリティーとは、どういうものと解釈すればいいでしょうか？ また、OPatchとは何でしょうか？ Oracle内で「パッチ」「パッチセットリリース」「OPatch」と出てきますが、どう区別して考えればいいか、いまいち分かりません。 よろしくお願いします。
こんにちは。アべです。 Oracleデータベースを運用しているのですが、 DISK I/O関連のエラーログが大量に出てしまいました。 物理的な問題だと思うのですが、Oracleデータベースが 故障していないか心配であり、それをチェックしたいのですが、 コマンドが分かりません。 なにか、データベースの妥当性をチェックするコマンドなどは あるのでしょうか？ご確認を宜しくお願い致します。 環境 Windows Server 2003 Standard Edition Oracle 10.2 SQLServerでいうdbcc checkdbっぽいものを探しております。 以上
ODP.NETのバージョン確認をしています。 machine.configにて、 <DbProviderFactories> 　　<add name="Oracle Data Provider for .NET" invariant="Oracle.DataAccess.Client" description="Oracle Data Provider for .NET" type="Oracle.DataAccess.Client.OracleClientFactory, Oracle.DataAccess, Version=2.111.6.0, Culture=neutral, PublicKeyToken=89b483f429c47342" 　　/> となっています。 ここで、 Version=2.111.6.0, と記載されていますが、これが、バージョンを 示していると思われます。 このバージョンは、 Oracle Data Provider for .NET 11.1.0.6.20 をインストールしたものと同じ ODP.NETのバージョンになるのでしょうか。 ご教授をお願い致します。
困ってる点があります。 抽出したフィールドの文字列を結合させるにはどうしたら良いでしょうか。 例） studentテーブルに「id」「name」という二つのカラムがあるとします。 抽出したidとnameをスラッシュ(/)を挟んで結合したいです。 select id,name from student →このSQLを実行すると　「001,相沢」が出力されるとすると 「001/相沢」となるように抽出したいと思っております。 SQLが初心者なものでどなたか教えてください。 よろしくお願いいたします。
SGA領域の拡張をしておりますがOS上のメモリーの見方が よく分かりません。 SGAを拡張する前は下記のようになっております。 ●MiracleLinux 2.1 [oracle@svr20 dbs]$ free -m total used free shared buffers cached Mem: 1254 1247 7 233 659 190 -/+ buffers/cache: 397 857 Swap: 2000 0 2000 →見方としては　free7M + buffers659M + cached190M = 856M 　-/+ buffers/cache:とほぼ同じでだいたい856Mあまっている？ 　と言う見方でよろしいのでしょうか？ ●Oracle9.2.0.1 SQL> startup open; ORACLE instance started. Total System Global Area 235999352 bytes Fixed Size 450680 bytes Variable Size 201326592 bytes Database Buffers 33554432 bytes Redo Buffers 667648 bytes Database mounted. Database opened. →SGAは235Mとなっております。 ------------ ここで alter system set sga_max_size = 1024M scope=spfile; 発行して1024Mに拡張しOracleとOSを再起動しました。 SQL> startup open; ORACLE instance started. Total System Global Area 1074861156 bytes Fixed Size 451684 bytes Variable Size 1040187392 bytes Database Buffers 33554432 bytes Redo Buffers 667648 bytes Database mounted. Database opened. →SGAは1Gとなっており増えております。 [root@svr20 /root]# free -m total used free shared buffers cached Mem: 1254 1212 42 236 668 161 -/+ buffers/cache: 382 872 Swap: 2000 73 1926 →872Mあまっている？ 75Mぐらい増やしましたがOS上では減っておりません。 freeは42Mと増えてます。 また、alter system set sga_max_size = 2024M scope=spfile; と拡張しましたら再起動後メモリが足らないのかORA-27123となり起動 できなくなりました。 この場合SGAのメモリ枠は何メガまで拡張できるかどのようにして 判断したら良いか教えてください.
下記のようなAというテーブルがあったとします。 A1 A2 A3 A4 A5 A6 A7 ------- ------- ------- ------- ------- ------- ------- AAAAAAA BBBBBBB CCCCCCC DDDDDDD EEEEEEE FFFFFFF GGGGGGG AAAAAAA BBBBBBB XXXXXXX YYYYYYY EEEEEEE FFFFFFF GGGGGGG ABCSHSM SDIASNA SIASJAO OPPPPPP YGUUUBU NINIINI LPLPLPL この中でカラム「A1」and「A2」and「A5」and「A6」and「A7」が重複しているレコードを抽出させるにはどうしたらいいでしょうか？ いろいろやってみているのですが行値式が使えないDBです。 レコードの数も１０万くらいあるので出来るだけ早めに抽出が出来ればいいのですが・・・ 調べてみてもいるのですがなかなか重複を抽出されている方が少なく（重複の削除→DISTINCTは多いのですが・・・）困っております。 よろしくお願いします。 ちなみにDELETEはしません SELECTのみです。 ９i
Oracle-10gのKROWN 124189の問題を解決するためにパッチを適用したいです。 オラクルのサポートセンターのサイトで下記リンクより入手できることはわかりました。 http://updates.oracle.com/download/5837345.html Metalink IDが必要ということで、アカウント登録をして、ログインしてみたのですが、以下のような英文が出てきてしまいます。 ------------------------------------------------------------ You could not be logged in Use your MetaLink username and password to login to https://metalink.oracle.com to access this site. If you are a Siebel customer login to https://support.oracle.com (formerly https://metalink3.oracle.com) to access this site. First time users need to register for Metalink ----------------------------------------------------- どうすればパッチをダウンロードできるのでしょうか？ Metalink IDの発行をするにはまだ何か登録が必要なのでしょうか？ よろしくお願いします。
Oracle10gとOracle9を利用しています。 SQL文でソートした結果を出力したいのですが、頭文字が大文字・小文字が混在しています。 ORDER BY句を使ってソートをすると、大文字でソート、小文字でソート　という順番で並ぶと思いますが、大文字・小文字を区別せずにソートさせたいと考えています。 大文字・小文字を区別せずにソートさせる方法はありますか？ ------------- TABLE1 ------------- IDNAME ------------- 001Book 002bar 003boy 004Byte ------------- SELECT NAME FROM TABLE1 ORDER BY NAME; ↓実行結果 ------------- Book Byte bar boy ------------- ↓出力した並び順 ------------- bar Book boy Byte ------------- ※「ALTER SESSION ST NLS_SORT=BINARY_CI」としてからソートすればOKという 　情報がネットで見つかりましたが、Webアプリの中で実行させたいため、設定 　は変えずに行いたいと思っています。可能ですか？ よろしくお願いいたします。
はじめまして 当方、初心者で勉強の身です。ご回答頂けたら幸いです。 3つのテーブルから下記条件の項目を取得したのですが どうにも処理速度が遅く困っております。 副問い合わせなどを使い、速度向上を図りたいのですが 良い案はありませんでしょうか。 ＜テーブル＞テーブル名(項目1,項目2・・・) (1)music(項目1～20)総レコード数1万件 (2)data(項目1～12)総レコード数6万件 (3)inside(項目1～18)総レコード数4万件 3テーブルとも3つの同一項目のKeyで構成されています。 ＜条件＞ 今日追加された(1)テーブルのレコードの中で(2)、(3)のテーブル両方ともに存在しないレコードを取得すること。(比較項目は3つのKeyのみ) ちなみに現在のSQLは以下の用になっています。 select DISTINCT a.1, a.2, a.3　(3つともKey項目です。) from music a, data b, inside c where a.4 = 20091118 (該当レコードは10件程度です。) and a.1 != b.1 and a.1 != c.1 and a.2 != b.2 and a.2 != c.2 and a.3 != b.3 and a.3 != c.3 結果として出力されるレコードは5件程度です。 以上です。よろしくお願い致します。
共用のDBサーバに接続したいのですが、コントロールパネル→管理ツール→データ ソース (ODBC)→？。そのあとの手順が分かりません。
OracleMasterの資格を取るべく、学習環境を自マシンに入れようと Oracle11gを下記のサイトよりダウンロードしました。 http://www.oracle.com:80/technology/global/jp/so … 使用するマシンは32BitCPUのWinXP（いわゆる普通のPCです）ですので、 「Examples (11.1.0) for Microsoft Windows (32-bit）」 おそらくはこれが30日経過後も使用できる、無償版なのだろうと 判断し、ダウンロードしました。（上から11番目の物です） ダウンロードしたファイルを解答し、出来たフォルダ「examples」 内にあります「setup.exe」をダブルクリックし、インストールを 進めようとしたのですが、画像のようなエラーが出ています。 手動でチェックを入れますと次に進む事は出来るのですが、 正しくインストールが出来ているとは思えません。 このエラーを解決する為に、どのような操作を行えば良いのか？ それともダウンロードするべき物がそもそも間違えているのではないか？ 自力での解決が難しく、ご教授願いたく質問致します。 よろしくお願いします。
テーブルの結合に関して質問します。 ネットなどでinner joinを使った複数のテーブル結合が参考として 書いてあったのですが(3つまで), 4つテーブルを結合する事は 出来るのでしょうか？ A,B,CテーブルにはID,NAMEがあります。 DテーブルにはA,B,CテーブルのIDがあります。 参考サイトを見て3つのテーブルを結合するSQLが以下になります。 SELECT a.name, b.name, c.name FROM a INNER JOIN (b INNER JOIN c ON b.id = c.id) ON a.id = c.id よろしければアドバイスお願いします。
ORACLE 9i ****************************************************** Aテーブルは、 報告日：REPORT_DATE DATE 店舗名：SHOP_NAME VARCHAR(100) 利益額：PROFIT NUMBER(6,0) で構成されており、 各店舗は報告日(営業日)がバラバラであるため、 REPORT_DATEの値はバラバラとなっています。 この環境で、各店舗の最新のレポートより7日前迄のデータがそれぞれ取得したい場合、どのようなSQL(PL/SQL)文で取得可能でしょうか。 ご教授お願い致します。
質問をご覧いただきまして有難うございます。 初めてストアドプロシージャを作成しており、サンプルでいろいろと作ってみようと思い、作成コードを実行しようとしたんですが、以下のようなメッセージが表示され、正常に実行できません。 ORA-00001: 一意制約(OES4.PK_SITT_IKO_LOG)に反しています ORA-06512: "OES2.PRA002",行16 ORA-06512: 行4 以下はストアドです。 CREATE OR REPLACE PROCEDURE PRACTICE001 IS BEGIN DECLARE --ループ CNT NUMBER; BEGIN CNT := 0; LOOP EXIT WHEN CNT >= 10; CNT := CNT + 1; insert into LOG_TBL values(systimestamp,'test','comments are...'); END LOOP; END; END; テーブル（LOG_TBL）定義は次のようになっています。 LOG_TIME timestamp NOT NULL COMMENT1 varchar2(20) COMMENT2 varchar2(200) タイムスタンプであれば重複もないと思うんですが。。。 原因がよくわからないです。。。 宜しくお願い致します！
文字例の比較について、教えてください。 DELETE_FLAGという項目には、文字列の"1"、もしくはNULLが入っています。 セレクト文でDELETE_FLAGが"1"以外のものを抽出したいのですが、うまくいきません。 以下のSQL文を実行した際に、結果として5件ヒットしてほしいのですが、なぜか0件となってしまいます。 select count(product_id) from hpk_atoz_list_view where delete_flag != '1'; 原因わかりますでしょうか？ よろしくお願いいたします。 ============================================================================ SQL> select delete_flag, product_id from product_list_view; DELETE_FLAGproduct_ID --------------------------------- 　 0002 1 1003 　 0002 1 1003 　 0002 1 1003 　 0002 　 0002 8行が選択されました。 SQL> SQL> select count(product_id) from product_list_view where delete_flag != '1'; COUNT(product_id) ---------- 0 SQL> SQL> select count(product_id) from product_list_view where delete_flag = '1'; COUNT(product_id) ---------- 3 SQL> SQL> select count(product_id) from product_list_view where delete_flag is not null; COUNT(product_id) ---------- 3 SQL> SQL> select count(product_id) from product_list_view where delete_flag is null; COUNT(product_id) ---------- 5 SQL> =====以上=====
基本的な事ですみません。 オラクルのホームページから、 表、索引に必要な領域サイズを見積もった所 あるテーブルが1.8G(表1.4G+索引0.4M)と出たとします。 このテーブルをcreate tableで作成する場合 INITIAL値は1.8Gで設定すればいいのでしょうか？ ちなみにこのテーブルは随時増えています。 あらかじめ1.8G以上、余分に取る方がいいのでしょうか？ MAXEXTENTSは、もうすぐ2Gに達するので UNLIMITEDで設定した方がいいのでしょうか？ (今、MAXEXTENTSを2G以上にするとエラーが発生します）
Ｃ＃（2005）で作成したモジュールからOracle（10ｇ）に接続する方法について質問です。 C# using System; using System.Collections.Generic; using System.Text; using System.Data; using System.Configuration; using System.Collections; using System.Data.SqlClient; namespace ConsoleApplication1 { class Program { static void Main(string[] args) { 　　 SqlConnection sqlcon = new SqlConnection("server=HOST名;database=ORA;user id=admin;password=admin"); SqlCommand sqlcmd = new SqlCommand("SELECT * FROM Table", sqlcon); sqlcon.Open();　　　’ここでエラー’ SqlDataReader sqldr = sqlcmd.ExecuteReader(); while(sqldr.Read()){ Console.WriteLine((string)sqldr["ID"]); } sqldr.Close(); sqlcon.Close(); } } } エラー表示 SQL Server への接続を確立しているときにネットワーク関連またはインスタンス固有のエラーが発生しました。サーバーが見つからないかアクセスできません。インスタンス名が正しいこと、および SQL Server がリモート接続を許可するように構成されていることを確認してください。 (provider: 名前付きパイプ プロバイダ, error: 40 - SQL Server への接続を開けませんでした) 対処済み ＊「SQL＋から「admin」「admin」「ORA」で接続確認。 ＊pingでホスト名 ＊C#よりデーターソースでのDBの接続 ＊SQLserverのセキュリティをリモート接続Ok－＞再起動済
以下のようなTABLE1からTABLE2というテーブルを作成したいと考えております。 元テーブル(TABLE1)は、IDという項目がキーとなってデータが入っており、NAME1とNAME2という項目があります。 （NAME1は必ず値が入っていますが、NAME2は値が入っていない場合もあります） 加工後のテーブル(TABLE2)で、NAME1とNAME2の値を結合した形で結果を出力したいと考えております。 （新たに作成したNAMEカラムは、必ずしもユニークになっているとは限りません。NAMEとIDを組み合わせるとユニークになります） ---------------------------------------------------- ■ TABLE1 IDNAME1NAME1_CATENAME2NAME2_CATE ---------------------------------------------------- 001鈴木A山田B 002山本A 003佐藤A高橋B ---------------------------------------------------- ---------------------------------------------------- ■ TABLE2 IDNAMENAME_CATE ---------------------------------------------------- 001鈴木A 001山田B 002山本A 003佐藤A 003高橋B ・・・ ---------------------------------------------------- いろいろ試していますが、どのようなSQL文を書いたらよいのか分かりません。 現状のSQL（エラーとなります） ====================================================================================== SELECT ID, NAME, NAME_CATE FROM (SELECT ID, NAME1 as NAME, NAME1_CATE as NAME_CATE FROM TABLE1 WHERE NAME1<>NULL) JOIN (SELECT ID, NAME2 as NAME, NAME2_CATE as NAME_CATE FROM TABLE1 WHERE NAME2<>NULL) ====================================================================================== 初歩的な質問になるかと思ってしまうかと思いますが、よろしくお願いいたします。
問題集の答えが腑に落ちないのでどなたかわかりやすく説明いただけますでしょうか？ EMP表 EMPNO　ENAME　　SAL　　　MGR　　DEPTNO -------------------------------------- 1000　　SCOTT　　1000　　NULL　　10 1010　　ADAMS　　2000　　1000　　10 1030　　TAYLOR　 600　　 1000　　30 1050　　MILLER　 800　　 1030　　10 以下の副問い合わせを使ったSELECT文を実行した。検索されるデータ件数を選びなさい。 select empno,ename from emp where empno not in (select mgr from emp); A：０件 B：１件 C：２件 D：３件 解答はAの０件なのですが、なぜ０件なのでしょうか？ 当方の解釈ですと、副問い合わせでmgrが（NULL,1000,1030）となり where empno not in　（NULL,1000,1030） で 「empnoがNULLでも1000でも1030でもない件数」 となり、empnoが1010と1050の行が検索され、cの２件が正解なのでは？ と思っているのですが・・・ 間違いをわかりやすく教えていただけますでしょうか？ 宜しくお願いします。
質問カテゴリが違うかもしれませんが、 DB関連のため、ここで質問させていただきました。 Javaを使用したシステムで insert 処理を行います。 T質問、T回答という2つのテーブルがあります。(Tはトランの意味) T質問とT回答は 1 : n の関係です。 1つの質問に対して複数の回答があります。 T回答の主キーを、質問ID(T質問の主キー)と回答番号(連番)とする場合、 insert の際に回答番号を振る方法としてどのような方法がありますでしょうか。 データ例： 質問ID/回答番号 1/1 1/2 1/3 2/1 2/2 max(回答番号) + 1 という方法もあると思いますが、同時実行性に問題があるかと思います。 Sequence で採番する方法もありますが、質問1つに対する回答番号が 1 から始まらないようになってしまいます。 1/1 1/2 2/3 2/4 このような場合、どのように連番を採番しますか？ アプリケーション側で同期処理を行うべきなのでしょうか。 なにか経験等あればご教示お願いいたします。
環境：oracle9i select insertで、２つのテーブルから値を取得して、１つのテーブルにinsertすることは可能でしょうか？ たとえば、以下の場合、どのようなSQL文を書けばよいか、アドバイスいただけますでしょうか。 よろしくお願いします。 insertしたいテーブル:A Aテーブルの項目:o,p,q,r,s,t 値を取得するテーブル：B,C Bテーブルの項目:o,p,q,r Cテーブルの項目:o,p,s,t oとpが主キーになっていて、それらが一致するBとCのデータを あわせて、Aにinsertしたいと思っています。 insert into A(o,p,q,r,s,t) select このあと、どのように書けばよいのかがわかりません。
SQLの具体的なプログラム方法を教えていただく投稿させていただきました 列１　　　　｜列２ １　　　　　｜１ １以外　　　｜２ 上記の条件で抽出できる条件がわからず、教えていただきたいです。 現行、 IIf([列１]=1,"1","2") と定数なら記述できるのですが、 列２はどちらも列２の値（具体値は不明）が必要なんです。 １以外という行のデータの列２の値を得れなくて・・・・ 最悪な方法として、ＤＢデータを手で増やし、 列１　　　　｜列２ １　　　　　｜１ ２　　　　　｜２ ３　　　　　｜２ ４　　　　　｜２ ・・・・ １０００　　｜２ と変更してしまえば WHERE [列１] = hoge で抽出できるのですが、現実的だと思えなくて・・・・ 良い方法がありましたら、よろしくお願いします。
データとして14桁の値で日付が登録されています。 この14桁の値(YYYYMMDDHHMMSS)を日付(YYYY/MM/DD)に変換できますか？ やりたい事はこの14桁の値から現在の日付から過去1年以内のデータを取得したいと思っていますが・・・ どのようにしたらいいのでしょうか？ 申し訳ありません、アドバイスいただけませんでしょうか？ 宜しくお願いします。
特定のユーザーだけをオラクルの利用不可としたいのですがどのようにしたらよいのでしょうか? ユーザーを特定する方法はOSユーザーでの特定を考えています。 セッション情報は以下のようになりますので、OSユーザーが[USER22]だけ利用不可にしたいということです。 オラクルユーザー = AAA OSユーザー = USER11 オラクルユーザー = AAA OSユーザー = USER22 オラクルユーザー = AAA OSユーザー = USER33 既成のシステムのためプログラム修正が出来ないので、コマンドでの方法をお願いします。
つみきwebのOracleに関するFAQには、「ociw32.dllが格納されているディレクトリにシステムパスが通っているかご確認下さい。」となっているのですが、システムパスの確認、設定はどう行えばよいのですか？
Oracle9がインストールされた旧サーバーと Oracle10がインストールされた新サーバーがあるとします。 Oracle9の方でデータが更新された時に、Oracle10の同期を取る為に Oracle9に対して、データベースリンクとトリガーを 作成しようと思うのですが、 データベースリンクやトリガーって オラクルバージョン違いでも可能なのでしょうか？
Oracle初心者です。 宜しくお願い致します。 MERGE文を１つのテーブルに対して行いたいのですが、エラーになってしまいます。 すみませんが、教えて下さい。 MERGE INTO TEST A USING TEST B ON (A.SEQ_NO = B.SEQ_NO AND A.SEQ_NO2 = B.SEQ_NO2 AND A.SEQ_NO3 = B.SEQ_NO3) WHEN MATCHED THEN UPDATE文 WHEN NOT MATCHED THEN 　　　INSERT文;
1.Oracle9iでエクスポート =>Oracle10iにインポート 2.Oracle10iでエクスポート =>Oracle9iにインポート 1、2はそれぞれ出来るのでしょうか？ (エクスポートは低いバージョンにて実施というような 記載もありました。2は不可能？) 実機が今手元に無い為、試せませんが、 理論的に可能なのかどうか知りたいです。
Oracle9i にて制約をつける際の質問です。 以下のようなテーブル構造の場合に、 NAME列にCASEで分岐してBETWEENでCHECK制約をつけようとしていますが、 エラーとなってしまいます。(ORA-00920: 関係演算子が無効です。) テーブル名：TEST2 ID NUMBER GEND NCHAR(1) NAME NVARCHAR2(100) 制約： ALTER TABLE TEST2 ADD CONSTRAINT NAME_CHK CHECK ( NAME CASE WHEN GEND = '1' THEN BETWEEN 'a' AND 'z' WHEN GEND = '2' THEN BETWEEN 'A' AND 'Z' ELSE BETWEEN '1' AND '9' END ) CASEで上記のような制約をつけることは可能でしょうか？
CASCADE CONSTRAINTSオプション使用時の子表の値について教えてください。 例 子表 　　　　 　　　　　親表 NAME　NUM　　　　　NO　　ADRESS ---------- 　　　　 -------------- AAA 　　 10　　　　　　10　　　DDD　 BBB 　　 20　　　　　　20　　　EEE　 CCC　　 NULL 子表のNUM列が、親表のNO列を参照。 DROP TABLE 親表 CASCADE CONSTRAINTS; を実行すると親表が削除されますが、子表はどうなるのでしょうか。 いろいろ調べてみましたが、はっきりしません。 1.制約だけが削除されて、値は変わらない。 2.参照していた行が削除される。NULLの行は残る？ 3.参照していた列が削除される。 4.その他 以上、よろしくお願い致します。
テーブルTB_Aの項目 NUMBER1,NUMBER2,RESULT_CNT,SUM_CNTがあります 四つの項目は全部画面表示項目です。 ------------------------------------------- (1)NUMBER1がNULLの場合は画面のNUMBER1にNUMBER2を表示したいです。 ------------------------------------------- (2)仮に画面に2レコードが表示されたとしましょう。 　NUMBER1,NUMBER2,RESULT_CNT,SUM_CNT 　100000 200000 50 100 →行１ 100001 200000 50 100 →行２ その時 NUMBER2がNULLではない AND 行１と行２の番号が同じの場合 　行１と行２のSUM(RESULT_CNT)し、SUM_CNTに表示したいです。 　よろしく、お願いいたします。 -------------------------------------------
現在端末にoracle9i cliantとserverを導入しております。 業務の上で10gのcliantとserverを導入する必要があります。 今分かっていることはcliantならば同居は可能であり、環境変数の設定により使いたい方に切り替えが出来る事くらいです。 1台の端末にバージョンの違うserver及びcliantをインストールして使用する事が可能なのか調べましたが、見つけることが出来なかったので相談させて頂いております。 よろしくお願いします
こんばんわ。 VB6とoracle8.0でシステムを組んでいます。 毎日夜間、サーバーにて、VBでツール、oracleのバックアップやファイルのバックアップをとっています。 今はvbでエラーをログにだけかいていますが、それをどう管理者のパソコンに通知するか考慮中です。 なにかよい方法はあるでしょうか。 例えば、メールを送るとか データベースにエラー情報を書いて、それをクライアントアプリ起動時に警告だすか・・・。 以上、よろしくお願い致します。
お世話になります。 VMWareゲストOSにOracle10gがインストールできません。 runInstallerを動かしましたが、以下のように表示され、 インストールせずに終了してしまいます。 ＞[oracle@******** tmp]$ /mnt/cdrom/runInstaller ＞Oracle Universal Installerを起動中です... ＞ ＞インストーラ要件の確認中... ＞ ＞オペレーティング・システムのバージョンを確認中: 必須redhat-2.1, redhat-3, SuSE-9, SuSE-8 or UnitedLinux-1.0 ＞ 問題なし ＞ ＞ ＞すべてのインストーラ要件を満たしています ＞ ＞Oracle Universal Installer$N5/F0$r=`HwCf /tmp/OraInstall2009-10-20_01-10-34PM. お待ちください...[oracle@******** tmp]$ Xlib: connection to ":0.0" refused by serv ＞er ＞Xlib: No protocol specified ＞ ＞Exception in thread "main" java.lang.InternalError: Can't connect to X11 window server using ':0.0' as the value of the DISPLAY variable. ＞ at sun.awt.X11GraphicsEnvironment.initDisplay(Native Method) ＞ at sun.awt.X11GraphicsEnvironment.<clinit>(X11GraphicsEnvironment.java:134) ＞ at java.lang.Class.forName0(Native Method) ＞ at java.lang.Class.forName(Class.java:141) ＞ at java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:62) ＞ at java.awt.Window.init(Window.java:231) ＞ at java.awt.Window.<init>(Window.java:275) ＞ at java.awt.Frame.<init>(Frame.java:401) ＞ at oracle.ewt.popup.PopupFrame.<init>(Unknown Source) ＞ at oracle.ewt.lwAWT.BufferedFrame.<init>(Unknown Source) ＞ at oracle.sysman.oio.oioc.OiocOneClickInstaller.<init>(OiocOneClickInstaller.java:349) ＞ at oracle.sysman.oio.oioc.OiocOneClickInstaller.main(OiocOneClickInstaller.java:2106) ＞ ＞[oracle@******** tmp]$ ・ホストOS：Windows2003Server ・ゲストOS：RedhatLinuxES3.0 インストールの方法をご存知でしたら、お教え下さい。 以上、よろしくお願い致します。
下記のようなテーブルがあるとします。 Aテーブル コード 値 X　10 Y　20 Z　30 Bテーブル コード 値 Y　20 Y　30 Z　30 A.コード＝B.コードとA.値＝B.値という条件に一致しないデータのうち、 Aテーブルのデータのみ取り出したいです。 この場合だと、「X　10」のみ結果として欲しいです。 どのようなSQLを作成すればいいか、分かりません。 考え方の問題なのかもしれませんが、ぜひ教えてください。
オラクルのパージョンは「9.2.0.1.0」です。 オブジェクト権限を指定したロールをパッケージから参照する事はできないのでしょうか。 対象のスキーマにはオブジェクト権限を指定したロールを付与していますがパッケージで下記のエラーが発生して困っています。 「ORA-00942: 表またはビューが存在しません。」 どのようにすればいいのか、恥ずかしながらわかりません。 どなたかご教授お願いできませんでしょうか。 些細な事でも構いませんので宜しくお願いします。
SQL*Loaderの際に固定長ファイルの桁数をチェックすることは可能でしょうか？ 上記を行いたい理由は固定長ファイルで取り込む際に、行ごとに桁数をチェックをし、何桁以外ならエラーとしてはじくという処理を行いたいからです。 Oracleのバージョンは9iです。 よろしくお願いします。
２台のサーバーがあり、それぞれにオラクルがインストールされ テーブルやデータが同じように存在しているとします。 １つのサーバーのデータがプログラムにより 更新(Insert,update,delete）された時に もう１台のサーバーのデータも同じように更新したいのですが、 どのような仕組みで行えば可能でしょうか？ （プログラムはあくまでも１台のサーバーのデータに対して 　更新するという部分は変えれないとして）
create user時にパラメータでquotaの設定ができると思いますが 既に存在するuserで、create user時にquotaを どのように設定したかを確認する事はできるのでしょうか？
皆様、いつも御世話になっております。 OS : Windows 2003 Server 開発環境 : VB6.0 + Oracle9.2 ライブラリ : Microsoft DAO 3.6 Object Library DAOでODBC経由でOracleに接続し、 (接続文字列 DSN=XXXX;UID=XXXX;PWD=XXXX) ヒント句の部分がエラーになって困っております。 発行SQL文---------------------------------------------------- SELECT /*+ index( テーブル名　インデックス名) */ * FROM テーブル名 WHERE 各種条件 ORDER BY 順序指定 ------------------------------------------------------------- 発行したSQL文をコピーし、SQLPLUSで動作させた所、意図したとおりに動作しており、SQLの記述が間違っている訳ではないようです。 VBからのOracle読み込みでは、他の書き方があるのでしょか？ どなたか、ご教授お願いします。
前回3つ以上のテーブルの結合に関しての続きです。 お手数ですが再度アドバイスお願いします。 select * from テーブル１ x,テーブル２ y,テーブル３ z where x.店舗コード=y.店舗コード(+) and x.店舗コード=z.店舗コード(+) and x.店舗コード in (選択したい店舗のカンマ区切りのリスト) この結果を実行したのですが どうやら店舗コードが複数行（実際には2行）抽出されてしまいました。 そこでgrpup句を使用してみましたがエラーになってしまいました。 結合ではグループ化はできないのでしょうか？ 大変お手数ですが対処法を教えて頂けますでしょうか。 また、補足でお願いできましたら 上記のSQL句の（＋）とは何を意味しているのでしょうか？ 私の所有している参考書の結合の箇所には そういった記述がありませんでした。 お手数ですがよろしくお願いします。
SELECT '[' || NAME || ']' FROM B　 の'||'は何と発音しますか？
初心者の質問で申し訳ないのですが。。。。 下記サイトからOracle Database 10g Client Release(10.2.0.3)を ダウンロードしてインストールしました。 (URL) http://www.oracle.com/technology/software/produc … インストール後、Visual Studioの開発環境からデータソースの新規追加を行い、接続テストを試みたところ、 以下のエラーが出力されました。 (Error) ORA-12514: TNS:listener does not currently know of service requested in connect descriptor いろいろ調べていると、上記エラーの発生原因として、tnsnames.oraファイルの内容に誤りがあるのでは？ という認識をもっているのですが、 肝心のtnsnames.oraファイルがOracle Clientのインストール環境下に存在しません。 そもそも、tnsnames.oraファイルというのは、クライアント側で設定するものではないのでしょうか？？ 基本的な質問で本当に申し訳ないのですが、 どなたかご回答をお願い致します。
Create Tablespaceを行った時の内容を知りたいと思います。 select DBMS_METADATA.GET_DDL('TABLESPACE','名称') from dual とした所、 ORA-31600:入力値TABLESPACE(パラメータOBJECT_TYPE、ファンクションGET_DDL)が無効です。 と出ます。 TABLEやINDEXはこの方法で見れましたが、 TABLESPACEはこの方法ではダメでしょうか？ Create Tablespaceを行った時の内容を知る方法はあるのでしょうか? （ちなみにCreate USER を行った時の内容を知る方法もあるのでしょうか?)
御世話になります。 TEST01というユーザーでオラクルに接続して下記のSQL文を実行したら 下記のエラーメッセージが出力されました。 [実行したSQL] SELECT * FROM DBA_ROLES; [出力されたエラーメッセージ] ORA-00942: table or view does not exist ネットで調べていたら「dba_　で始まるシステム表の検索は、権限が必要です」という記事を目にしました。 どの権限、またどのように付与すればいいのでしょうか。 ご存知の方がいましたらアドバイス宜しくお願いします。
[TBL_TEMP] ID 年月1　　年月2 項目A　　項目B -------------------------------------------- 1 200909 200910 aaaa bbbb 2 200807 200809 aaaa bbbb 3 200909 200910 aaaa bbbb 4 200909 200909 aaaa bbbb 5 200807 200809 aaaa bbbb 上記のようなデータがあり、年月1と年月2でグルーピングして、重複しているデータを抽出する場合は、以下のSQLでデータを取得できます。 SELECT MIN(ID),年月1,年月2 FROM TBL_TEMP GROUP BY 年月1,年月2 HAVING COUNT(1) >= 2 上記のSQLの場合、重複データの中でIDが一番小さいもののみが取得されるため、ID＝１、２の２データが取得できます。 これを重複データ全件、つまり、ID＝1,2,3,5のデータを取得するには、SQLをどのように書けばよいのかがわかりません。 どなたかアドバイスを頂けないでしょうか？ よろしくお願いいたします。
テーブル名：グループ表 ID　　　グループ名 ------------------------- 100　　　Aグループ 101　　　Bグループ 102　　　Cグループ 103　　　Dグループ 104　　　Eグループ テーブル名：売上表 ID　　　売上年月日　　　売上額 ------------------------------ 101　　　20090401　　　1000 101　　　20090501　　　2000 102　　　20090401　　　2500 102　　　20090503　　　1500 103　　　20090404　　　3000 103　　　20090506　　　4000 上記の２つのテーブルがあります。 グループごとの売上合計一覧を出します。 ■求めたいSELECT文結果 グループ名　　　合計（売上額） ---------------------- Aグループ　　　　0 Bグループ　　　3000 Cグループ　　　4000 Dグループ　　　7000 Eグループ　　　　0 select グループ名,sum(売上額) 　from (select グループ名,売上額 　　　　from グループ表,売上表 　　　　　where グループ表.ID = 売上表.ID) 　　group by グループ名 では、 グループ名　　　合計（売上額） ---------------------- Bグループ　　　3000 Cグループ　　　4000 Dグループ　　　7000 となってしまい、うまくいきません・・・ どうように書いたらよろしいでしょうか？
はじめて投稿いたします。 いま、黒本でオラクルブロンズのＳＱＬを勉強しております。 しかし、現場でのＳＱＬでの作成などではそれでは不足だと思っており フリーでオラクルの環境ができるのはわかりました。 その環境を作成後での学習方法をわかる方、 方法・本・サイトなど、なんでもかまいません。 回答御願いいたします。
表領域のパーティション分割時のINDEXについて質問があります。 下記の様な構成の時、グローバルINDEXとローカルINDEXはどの様に張るべきでしょうか。 今現在は、下記の<現状の構想>の通りにINDEXを作成しようかと考えています。 しかしながら、検索時に項目B＆項目Cのwhere句で効率よく領域を選択（検索）できるのか悩んでいます。 機器の問題で実際に試す事ができず、悶々としています。 情報の不足がございましたら、ご指摘下しさい。 ご回答お待ちしています。 <前提> ・表Aへのアクセス：where 項目B = n and 項目C = m ・表Aのレコード数は8000万程度 <現状での構想> ・表Aの領域をパーティション分割（項目Bのハッシュ） ・グローバルINDEXは項目B＆項目C ・ローカルINDEXはなし
すみません。１点質問させて下さい。 SQLPLUSでset line 1000 とかを設定した後に select文とかで出力すると 行と行の間で10行位、不要な改行が発生します。 これはなぜでしょうか？ 以前はこのようにならなかった気もするのですが。 現在、Windowsのコマンドプロンプトから SQLPLUSを実行しています。
１つ教えて下さい。 SQLPLUSでselect文で抽出結果をspool等でファイルに 出力したいのですが、 この時、コマンドを打った画面の方には結果を出さないように する事はできるのでしょうか？ 件数が膨大な為、画面にずっと結果が出力され続けており これを止めたいです。
こ、こんばんわ 私は客先でオブジェクトブラウザ（OB)を使って仕事している 新米SEです。 今日OBを使って本番データを操作していたところ、 あやまって一テーブルのデータを全件削除してしまいました。 すぐに気づいて青くなり、気を落ち着けて慎重にロールバックボタンを押したところ、 全データ復活しました。 消えている間そのテーブルに関するバッチプログラムも動いていません。 なので、特に報告もしなかったのですが、 今日のこのミスは報告しなくてもよかったんだろうか といまさら悩んでいます、、。 いったんデリートしたという事実はアーカイブログかなんかで わかるんですよね？ ウツです。。
電話番号がcsvファイルに000-0000-0000　という形で たくさん入っています。これをアクセスのフォームを使って 読み込んで、オラクルサーバーとつなげ、SQLを発行しています。 DB上には電話番後はtel1 000 tel2 0000 tel3 0000 というように、フィールドが分かれてハイフンなしで入っています。 これを抜くためにはどのようなSQLをかいたらいいのでしょうか？ 苦し紛れに書いてみたSQLは select telno1_1||'-'||telno1_2||'-'||telno1_3 as TEL1,* from DB where TEL1 = '" & n1 & "'" というものです。　n1にはcsvから読み込んだ電話番号が000-0000-0000の形で入っています。 どなたか教えてください。 宜しくお願いします。
Oracle初心者です。 DBの全容量や今利用している容量（データが蓄積された分）や 残ってる容量などを確認したいのですが、 どのような方法が適切なのでしょうか？ ネットなどで見ても、今ひとつよく分からなかったので 質問させて頂きました。よろしくお願いします。
　 お世話になります。 Oracle10g R2 には32bit版、64bit版が存在しますが現状稼動しているDBが 32bit版なのか、64bit版なのかを判断する方法（コマンド等）があるでしょうか？ もうひとつ質問があるのですが、 x64対応CPUのPCの仮想環境(VMware)上のSolaris10(64bit版)にOracle10g R2(64bit版)をインストールした環境があります。 これを x64未対応CPUのPCへフォルダごとコピーして動かそうとした場合、やはり正常には動かないのでしょうか？ つまり x64未対応のCPU上でOracle10g R2(64bit版)が正常に動くのかどうかという事です。 ※普通に考えれば動かないとは思いますが・・・。 よろしくお願い致します。 　
select view_name, text from user_views; で、text部分のSELECT文が途中で切れて出力されてしまうのですが、全てのSELECT文が表示されるようにするにはどのようにすれば宜しいでしょうか？
DBの勉強をしようと思い、Net Configuration Assistantを 使用してリスナーを作成しようとしています。 本に載っている手順通りリスナーを作成したのですが、 コントロールパネルの管理ツールのサービスを確認しても リスナーが作成されていませんでした。 使用環境は、WindowsのVISTAです。これはセキュリティソフト などが関係しているのでしょうか？ よろしくお願いします。
こんばんわ。 oracle8の定期的なバックアップをとろうと考えています。 下記のバッチをスケジューラーに登録すればよいと思っています。 exp80 system/manager@orcl file=exp01.dmp tables=T_AAA,T_BBB,T_CCC,T_DDD,T_EEE またこれを過去30日分バックアップをとりたい場合、どのような方法が考えられるでしょうか 例えば、バッチ終了後、このファイルの中身を変更するバッチを走らせるとか・・・。file=の箇所をexp22(22日付)に変えて、翌日exp22で出力し、今度は、exp23に変更する・・・。 もっとよい方法があるかもしれませんが、色々しらべてもなかなかありませんでした。よろしければご教授願います。
いろいろな書籍を見ながら試してみましたが どうも求めている結果が得られませんでした… ヒントでも構いませんのでアドバイスお願いします。 テーブルの仕様 ■テーブル１■ 店舗コード日付フィールド1nフィールド2nフィールド3nフィールド4n ■テーブル２■ 店舗コード日付フィールド5 ■テーブル３■ 店舗コード日付フィールド6 ２つのテーブルの内部結合や外部結合のSQL文は確認できましたが ３つ以上の記述がテキストにありませんでした。 ※もしかしたら２つのテーブルを結合してからかと思いましたが 具体的な方法が思い浮かびませんでした。 オラクルは９g SQL＊PLUS ■その他の条件■ すべてのフィールドが例えNULLでも店舗コードと日付 は表示されるようにする。 INを使用して抽出したい店舗コードのみを表示させたい。 （その場合並び替え順を指定したい場合はINのあとで順番を指定すれば よろしいでしょうか？） フィールド１～４までの「n」は同じ種類のフィールドですが区分が１０ずつ あり算術演算子で合計を求めた値のみを表示させます。 そのためASを使用してフィールド名を短くしたいと考えています。 店舗コードと日付は３つのテーブルに共通してありますが 結合した場合は１つづつの表示にしたいです。 大変申し訳ございませんが 宜しくお願いします。
下記の品番テーブルを元に抽出結果「会社別発売日最新品番一覧」を得るためのSQLがわからなくて困っています。どなたかアドバイスいただけないでしょうか。よろしくお願いします。 品番テーブル 会社品番発売日 -------------------------- 1A2/11 1B8/18 2C3/10 3D7/14 3E8/10 3F9/11 4G1/31 4H6/25 抽出結果「会社別発売日最新品番一覧」 -------------------------- 会社品番発売日 1B8/18 2C3/10 3F9/11 4H6/25
サーバーに、OracleDB10gR2を導入し、リスナーの設定まで完了しています。 クライアントの接続情報の設定を、「Net Configuration Assistant」の 「ローカル・ネット・サービス名構成」を使用し設定を行おうと思っています。 設定が完了するとTNSNAMES.ORAが作成され、以下のような内容になると思います。 net_service_name= (DESCRIPTION= (ADDRESS=(PROTOCOL=tcp)(HOST=test)(PORT=1521)) (CONNECT_DATA= (SERVICE_NAME=service_name))) この後以下のコマンドでデータベースへの接続が可能になると思うのですが、 service_nameというのは、何に使用しているのでしょうか？ また、net_service_nameに設定される値とservice_nameに設定される値の違いを教えてください。 connect user/password@net_service_name 調べると、以下のような記述を見つけたのですが、 Oracle9iまたはOracle8のデータベースに接続する際に必要なのでしょうか？ SERVICE_NAME 用途 パラメータSERVICE_NAMEを使用して、アクセスするOracle9iまたはOracle8データベース・サービスを識別します。値は、初期化パラメータ・ファイルのSERVICE_NAMESパラメータに指定されている値に設定します。
現在ORACLE8iでSYSTEMという表領域で、データを保持しています。 このデータを異なるオラクルサーバの、例えばAAAという表領域にimportさせたいです。 http://www.geocities.jp/principal_focuses/tech/o … 等もみたのですが、少しわかりづらかったです・・・。 一番効率よく、EXPORT及びIMPORT出来る方法はありますでしょうか。 ちなみに、AAAの領域には既にテーブルがCREATEされている状態です。
マテリアライズドビューは、「実態のあるビュー」だと 書かれていたのですが、 これってテーブルとは何がちがうんでしょうか？？ テーブルとマテリアライズドビューをどのように使い分ければ よいのでしょうか？ また、マテリアライズドビューは、Oracle10g 11gなどでも あるのでしょうか？
失礼いたします。 PL/SQLでSJISの文字コードを取得したいのですが可能でしょうか。 文字コードのみを取得したいので、CONVERT関数やCHR関数などの変換関数は不要です（WIN拡張以外の外字判定に使用するため）。 ORACLEは8iです。 どなたかご存知の方、いらっしゃいましたら教えていただけませんでしょうか。 よろしくお願いいたします。
表領域を作成してインポートしたら下記のエラーが出力されて困っています。 表領域の作成の仕方が駄目でエラーが出力されてしまったのでしょうか。 下記のCREATE TABLESPACE文で表領域を作成しています。 ---------------------------------------------------------------------- CREATE TABLESPACE "T_DAT" BLOCKSIZE 8192 DATAFILE 'D:\oracle\oradata\ora92\DAT_01.DBF' SIZE 32767M, 'D:\oracle\oradata\ora92\DAT_02.DBF' SIZE 32767M EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1M SEGMENT SPACE MANAGEMENT AUTO; ---------------------------------------------------------------------- コマンドプロンプトでimpコマンドを実行したら、下記のエラーなどが出力されました。 ---------------------------------------------------------------------- IMP-00003: Oracleエラー1659が発生しました。 ORA-01659: nを超えるMINEXTENTSを表領域T_DATに割当てできません。 IMP-00003: Oracleエラー1658が発生しました。 ORA-01658: 表領域T_DATにセグメント用のINITIALエクステントを作成できません。 ---------------------------------------------------------------------- 何がいけないのかが正直わかりません。 申し訳ありませんがアドバイスいただけませんでしょうか。 宜しくお願いします。
CREATE USER文のACCOUNT句の意味がよくわかりません。 ネットで検索してみたんですが... ACCOUNT句 ユーザー・アカウントをロックしアクセスを禁止するには、ACCOUNT句でLOCKを指定します。UNLOCKを指定すると、ユーザー・アカウントのロックを解除できます。 どういう時にACCOUNT句を指定するんでしょうか。 サルにでもわかるように説明してくれませんでしょうか。 宜しくお願いします。
いつもお世話になっております。 Cで開発経験が少しある程度＋MySQLを少し触った程度の人間です。 今回実機に搭載されているオラクルのテスト環境を構築するよう仰せつかりました。 しかし、オラクルなど触ったことも無く。周囲にもオラクルに詳しい人がおりません。 現在運用サーバで稼動しているオラクルのデータをそのままそっくりテストサーバへ移行しろとのことです。 調べてみたところ、exp/impで出来るという事はわかりました。 そこで以下の手順で作業を行いました。 1)テスト機(Windows 2003のSP1)へのオラクル(10.2.0.1)インストール 2)データベースコンフィギュレーションアシストよりORCL(実機側のデータベースと同名)の名前でデータベースを作成 3)インスタンスの起動 4)実機よりデータベース全体をエクスポート 5)テストサーバで　4)で取得した情報をインポート 6)エクスポートの時間よりかなり早くインポートが終了 7)テストサーバを再起動するとリソースの大半をオラクルが使用している 8)データベースを確認してみたが、サービス再起動を試みても起動せず。 希望としては、実機と全く同内容のデータをテストサーバに存在させたいのですが、 以上のexp/imp手順では不足していたのでしょうか？ データベースを作成する際のテンプレートは汎用を使用し、サンプルスキーマを作成しませんでした。 汎用ではまずいのでしょうか？ また、ユーザーや表はインポートでは移行されないのでしょうか？ 実機の環境もWindows 2003のSP1とオラクル10.2.0.1です。 渡されたマニュアルは『意外と簡単!?Oracle Database　10g』です。 インターネットやこの掲示板でも移行については調べて見ましたが、詳細な部分がわかりませんでした。 勝手がわからず、的外れな質問をしていましたら、申し訳ありません。 周囲の人間に聞いてもわからず困っております。どうか手順や良いサイトなどありましたら、ご教示ください。
oracle11gで sqlplusで接続して、とあるテーブルのselectを100回繰り返したいのですが for文はどう書けばよいのでしょうか ↓selectはこんなのでOKです select * from testtable;
初心者なもので、アドバイスを頂きたく質問させて頂ました。 仮想環境上にテスト環境を構築するため、ORACLEがインストールされているサーバ(サーバーA)のシステム領域(Cドライブ/oracle初期パラメーター含む)のイメージを取得しました。 その後サーバAのデータ領域/Eドライブ(AAA.DBF)をエクスポートし、取得したイメージを仮想環境上に乗せ、サーバーAと同様のドライブパーティションを作成しました。(Eドライブ) そこで質問なんですが、この状態ではインスタンスのマウントまでは上手くいくのですが、データベースをオープンさせる事が出来ません。 本来であればマニュアルを参照し、ある程度勉強した上で質問すべき事だとは百も承知の上ですが、何が必要でどのような作業が必要なのかご教授のほどよろしくお願いします。 【環境】 Windows2000Server SP4 Oracle 9i
はじめまして。 RDBの設計について、基本的な質問になりますが、 宜しくお願いします。 親子関係の表現の仕方について。 以下の２つのテーブルがあったとします。 　・会社マスタ 　・部署マスタ 会社には複数の部署が存在するとして、 これをテーブルにする場合、 パターン(1) (部署マスタのPKに会社CDを含める) 　会社マスタ 　・会社CD（PK） 　部署マスタ 　・会社CD（PK） 　・部署CD（PK） パターン(2) (部署マスタのPKに会社CDを含めない) 　会社マスタ 　・会社CD（PK） 　部署マスタ 　・部署CD（PK） 　・会社CD で親子関係を表現することができると思います。 親子関係を表現する上で、 パターン(1)、(2)のどちらを採用すればよいか、 判断基準が分からず困っています。 パターン(1)と(2)はどのような違いがあり、 どのようなケースに適用すべきなのか教えて頂けないでしょうか？
Oracle初心者です。 Oracle9iの環境と全く同じ環境、Table等で Oracle10i（新サーバー）へ移行したいと考えてます。 Oracle9iの旧環境では、どのようなコマンドや動作や 情報などを集めておく必要があるのでしょうか？
はじめて質問します。 環境等の詳しいことは、全くわからないため、 回答できないかもしれませんが、お願いします。 C/Sで使用している社内サーバのOracleのデータを Webシステムで使用しているレンタルサーバのMySQLへ 取り込みたいのですが、実現方法がわかりません。 詳しい環境がわからないので、「一般的にはこんな方法で可能だ」 というよな考え方でよいので教えてください。 お願いします。
システム運用を仕事にしている者です。 私の下に付いて仕事をしている協力会社の人向けに、 技術向上のためオラクル認定資格（データベース Bronze）取得用の勉強会をしようと思っています。 しかし、どのバージョンでの資格を取得してもらうべきか、迷っています。 現在、運用しているOracleDBのバージョンは9iで、 リプレースの予定は全くありません。 ですので、現状に即するのであれば9iの資格を取るべきなのかなと思うのですが、 例えば11gの試験の内容が、9iの内容を完全に内包するような感じであれば、 わざわざ古いバージョンの資格を取ってもらうのもかわいそうな気がしています。 このような場合、現状システムのバージョンである 9i の資格を取るべきでしょうか。 それとも、最新の 11g の資格を取るべきでしょうか。 なお、私自身は、５年ほど前に、当時のGOLD取得に向け勉強した経験があり（取得はしていません）、 Bronzeレベルの知識は備わっていると思います。
oracle rac構成でのどれに接続されたかを確認する方法はないてのでしょぅか? どこかにログが出てると思うのですが
CREATE TABLE の中で各列にコメントをつける方法はありますか？ できなければ、以下の方法では、 ORACLE Express EditionのSQL実行で、 下記のコメントを一行ずつしか実行できないのですが、 1回で実行する方法はありますか？ □作りたいテーブル CREATE TABLE DB_USER_MST ( DB_USER_IDVARCHAR2(5)NOT NULL, DB_PASSWORDVARCHAR2(5), DB_NAMEVARCHAR2(30), DB_POSTCODENUMBER(7), DB_PREFECTURE_IDNUMBER(2), DB_ADDRESSVARCHAR2(100), DB_TELEPHONENUMBER(11), DB_SEXNUMBER(1), PRIMARY KEY (DB_USER_ID) ) □付けたいコメント COMMENT ON COLUMN DB_USER_MST.DB_USER_IDIS 'お客様ID' COMMENT ON COLUMN DB_USER_MST.DB_PASSWORDIS 'パスワード' COMMENT ON COLUMN DB_USER_MST.DB_NAMEIS 'お名前' COMMENT ON COLUMN DB_USER_MST.DB_POSTCODEIS '郵便番号' COMMENT ON COLUMN DB_USER_MST.DB_PREFECTURE_IDIS '県ID' COMMENT ON COLUMN DB_USER_MST.DB_ADDRESSIS 'ご住所' COMMENT ON COLUMN DB_USER_MST.DB_TELEPHONEIS 'お電話番号' COMMENT ON COLUMN DB_USER_MST.DB_SEXIS '性別'
Order byについて教えてください。 下記の様な状態にOrder Byするにはどのようにしたらよいでしょうか？ ・基本的にはA列でソートする ・BとCの組み合わせで同じ物があれば、そのデータの直下にソートできる A　　　B　　　C ----------------- 111 　123　 001 111 　124 　001 222 　234 　001 333 　234　 001 222 　345　 001 222 　456 　001 333　 135 　001 333 　246　 001
簡易的なテーブルなのですがSYOUHINというテーブル名が存在するとして syouhin_id　　syohin_nm　　price -------------------------------- 　　　 1 　　　 パソコン 　　　100000 　　　 2 　　　 自動車 　　　10000000 　　　 3 　　　 書籍 　　　　　1500 以上のようなテーブルがあった際に SELECTで参照すると SELCT syouhin_id, syouhin_nm, price FROM SYOUHIN ORDER BY syouhin_id; でデータが取り出せるのは分かるのですが、その際、金額を 10,000 10,000,000 1,500 とカンマ付きで表示したいのです。 SQL初心者で申し訳ないのですが、教えて頂けたら幸いです。 宜しくお願い致します。
Oracleがインストールされているマシン上であればリスナーをセットアップせずにsqlplusでOracleに接続できますが、リスナーをセットアップしていないということは、TCP/IP以外で接続しているのだと思いますが、いったいどのような技術で接続しているのでしょうか？
お世話になります。 10gR2データベースで動かしていたPL/SQLプログラム内の、とあるSELECT文が、11gR2環境ではエラーが発生してしまい、動きません。 そのSELECT文をそのまま掲載するのは難がありますので、初期サンプルDBでも動くSELECT文に直したものを掲載させて頂きます。 (本物のSELECT文と同じ構文であることに重点を置いているため、掲載するSELECT文の意味不明さは無視して頂ければ幸いです) ----------- 10g環境：Database10g Enterprise Edition 10.2.0.1.0 11g環境：Database11g Enterprise Edition 11.1.0.6.0 10g:まったく問題なく動作する 11g：エラー(下記エラーメッセージ) 行2でエラーが発生しました。 ORA-03113：通信チャネルでend-of-fileが検出されました。 SELECT文： SELECT A.LAST_NAME FROM (EMPLOYEES A FULL OUTER JOIN DEPARTMENTS B ON (A.DEPARTMENT_ID = B.DEPARTMENT_ID AND ((A.SALARY >11000 AND COMMISSION_PCT IS NULL) OR B.MANAGER_ID = 100))); ----------- エラー番号をインターネットで調べるとオラクルサポートに連絡しなければならないようもののようですが・・・接続や通信関係ではなく、オプティマイザや実行計画に問題がある(仕様変更？)のではないかと思います。 結合内の追加条件を外に出し、SELECT文本体のWHERE句に移動すると動きますが、この現象の原因をご存知の方、ご教示いただければ幸いです。
お世話になります。 次のSQLの結果についてわかられる方がいらっしゃればご回答お願いします。 間違っている部分があるのは承知していますが、ひとまずなぜこういう結果になるのかを教えていただきたいです。 SELECT A.KOUMOKU FROM A, B, C, D WHERE A.KOUMOKUNO = B.KOUMOKUNO(+) AND A.KOUMOKUNO = C.KOUMOKUNO(+) AND A.KOUMOKUNO = D.KOUMOKUNO(+) 各テーブルのデータは次のようにします。 A ------------------- KOUMOKUNO KOUMOKU 1　　　　　　　　　aaa 2　　　　　　　　　bbb 3　　　　　　　　　ccc 4　　　　　　　　　ddd 5　　　　　　　　　eee ------------------- B,C,D ------------------- KOUMOKUNO KOUMOKU 1　　　　　　　　　aaa 1　　　　　　　　　aaa 1　　　　　　　　　aaa ------------------- この場合、結果が31件となります。 調査した結果、次のような計算をもとに結果が返ってきているようなのです。 Aの4件（Aのみ存在）+（3（Bの件数）×3（Cの件数）×3（Dの件数））=29件 なぜ最後の外部結合でB,C,Dの件数が乗算されるのか教えていただきたいのです。 よろしくお願いします。
Oracle 11g + Windows 2008 Serverです。 サーバー上でPL/SQLを使用して JIS第三水準文字をinsertしようとしています。 キャラクターセットはAL32UTF8にしています。 通常の漢字など第一・二水準の文字は問題なく insertできるのですが、「丫丮丯丰」のような 第三水準の文字をinsertすると、エラーにはなりませんが、 selectした場合に「?」と表示されます。 また、lengthbでサイズを確認すると1バイトであるため、 第三水準の文字を認識できずに「?」に変換されているようです。 どのようにすれば問題なくinsertできるのでしょうか。
テーブル名をカラムとして取得する方法はありますでしょうか？ オラクル8とVB6でプログラムを組んでいます。 例 TABLE Aの内容 カラム1 1 2 3 TABLE B カラム1の内容 4 5 6 SQLは簡略化してかきます。下記のSQLを実行した場合、 select A.カラム1 from A union select b.カラム1 from b 1 2 3 4 5 6 を取得できます。 例えば、上記で、SQL実行後、 下記のような値を取得したいです。 1 ,Aのテーブルだよ 2 ,Aのテーブルだよ 3 ,Aのテーブルだよ 4 ,Bのテーブルだよ 5 ,Bのテーブルだよ 6 ,Bのテーブルだよ それぞれのテーブルの名前を別名で結果に格納したいのです。 何か方法はありますでしょうか？ なければ、unionせずに、2回SQLを発行し、それぞれに、 プログラム上で、「Aのテーブルだよ」を後で挿入したいと思っています。
今あるテーブル１のカラムA(number型)と 全く同じテーブルにあるカラムB(varchar型)を つなげて (number型) IS (varchar型) A　IS　B … のように真ん中に『IS』を挟んで データを全て出したいのですが、 SQLの書き方がよくわかりません。 自分では select A ||'(' || IS || ')'|| B from table1 のように書くのでは？と思っていますが、 全く上手くデータをこの形で出すことができません。 このデータを出すためには どういったSQLを書けばよろしいのでしょうか？ よろしくお願いします。
Oracleのパスワードの変更をしようとして 下記コマンドの実行をしました。 alter user ユーザ名 identified by パスワード これでパスワードの変更ができ、無事に新しいパスワードにて 接続が可能となったのですが、簡単な接続は大丈夫なのですが 一部今まで大丈夫だったものが 「内部コードエラー」 となってしまいます。 一度これが起きるとユーザの削除ではダメで、サービスの削除 までしないと回復しません。 何かご存じの方、教えていただけたら幸いです。 よろしくお願いします。 環境 ＯＳ：WindowsXPsp2 ＤＢ：Oracle10.0.2R2 開発環境：VB6sp6、CrystarReport8
PL/SQLのデバッグ機能のみに焦点を当ててお聞きします。 自身が思う最強のクライアントツールはなにですか？ ＊無償、有償問いません。 私は、オブジェクトブラウザを使用しています。 使い勝手は今ひとつですが・・
個人テーブル、身長テーブル、体重テーブルという３つのテーブルがあり、それぞれ以下の通りの構造となっています。 CREATE TABLE T個人 ( 　番号　NUMBER(4,0)　NOT NULL, 　名前　VARCHAR(20)　NOT NULL, ); CREATE TABLE 身長 ( 　番号　NUMBER(4,0)　NOT NULL, 　更新　NUMBER(4,0)　NOT NULL, 　身長NUMBER(4,0)　NOT NULL, ); CREATE TABLE 体重 ( 　番号　NUMBER(4,0)　NOT NULL, 　更新　NUMBER(4,0)　NOT NULL, 　体重NUMBER(4,0)　NOT NULL, ); これら3つのテーブルを用いて以下のようなViewを作りたいのですが… 番号,名前,身長,体重 身長及び体重テーブルに「更新」というフィールドがあり、同じ番号の場合、上書きではなく更新番号を増やしています。 番号,更新,身長 -------------- 0001,0001,0155 0001,0002,0157 0002,0001,0163 0002,0002,0162 最新の情報のみを引っ張るSQL文はどのように記述すれば良いのでしょうか。 番号,名前,身長,体重 ------------------- 0001,NAME,0157,0038 0002,NAME,0162,0044
ORACLEのSQLのREPLACE文について文字間の空白も取り除くことはできますか？
Oracle10gでバックアップを取得する場合、マニュアルには、 Export／Importでバックアップ／リストアをする方法と RMANでバックアップ／リストア・リカバリする方法 （等）があると読みました。 （バックアップファイルを別のディスクにとるか、テープにとるかは 　ここでは問題としません。） それぞれ、どのような場合に向いているバックアップ方法なのでしょうか？
質問させていただきます。 サーバの変更に伴い、データベースをサーバ（Ａ）からサーバ（Ｂ）に移行し、サーバ（Ａ）とサーバ（Ｂ）を全く同じして、クライアントがこれまで通りデータベースを利用できるようにしたいと考えています。 新たに購入したサーバ（Ｂ）に社内にあったマニュアルを元にしてOracle9iをインストールし、ＤＢの作成したところまで進めているのですが、その後のデータの移行がよく分かりません。expやimpコマンドを使って行うとできるらしいのですが、よく分かっていません。 社内のマニュアルには新たにＤＢを作成する方法は書いてあるのですが、データの移行については書いておらず、困っています。 私が全くOracleについて知らないので、質問内容が分かりずらいとおもいますが、回答いただけるとありがたいです。 ●環境 サーバ（Ａ） 　　OS：windows server 2000 oracleのバージョン：oracle9i Database (9.2.0.1.0) サーバ（Ｂ） 　　OS：windows server 2003 oracleのバージョン：oracle9i　Database (9.2.0.1.0) ＯＳの違い以外は社内マニュアルを元にして同じ設定にしてあります。 よろしくお願いします。
fedora11にOracle10gをCDからインストールしようとしたのですが、インストールできません。 CDはオラクルマスター教科書に入っているCDを利用したのですが、 中を見てみますとsetup.exeなので、exeってwindowsで利用する拡張子なので LinuxではCDは使えないと認識してよろしいのでしょうか。
ORACLE MASTER Bronze Oracle Database 11gは取得しました。 次はORACLE MASTER Silver Oracle PL/SQL Developerの資格を取得したいと思います。 ですが、先にORACLE MASTER Silver Oracle Database 11gを取得しておいた方が、PL/SQLの資格を取得するにあたって知識の習得が楽になるのでしょうか？
SI Object Browserを使ってデータベースの接続を行いたいと思います。 設定環境は以下の通りです。 ■PC環境 OS:CentOS(Ver5.3) DB:Oracle XE Linux上に、インストールしたOracle XEのDBに接続したいと 思っています。接続には、SI Object Browserを使います。 SI Object Browserを使って接続をしたいのですが、 設定方法がわからず、接続ができません。 特に、「データベース」の項目に、何を入力したらいいのかが わからず、止まっている状態です。 ご教授の程お願い致します。
お世話になります。よろしくおねがいします。 私は今Oracle11gを勉強したく書店にて入門書、参考書を色々と選んでいるところです。 で、だいたい、どの書籍にも30日間無料体験版がついていますので、 30日間は無料で勉強できますが、30日間が過ぎたらどうなるのでしょうか？ oracleのホームページを見るとライセンスによって価格が設定されているので、個人で勉強するにもライセンスを購入しないといけないのでしょうか？ googleで『Oracle 11g 無料』で検索しても、上手く情報をみつけることができず、『Oracle 無料』で検索すると『10g』に関しては、無料版があることが解りました。 Oracleのホームページも見たのですが、私が情報を見つける能力が無いだけなのか、もしくは11gの無料は存在しないのか、よく解りませんでした(苦笑 『11g』を勉強したい場合はお金がかかるのでしょうか？ 私は、IT関係と全く関係ない会社で働いてますので会社の人に 聞いたりとかできません。 将来、システム開発の仕事がしたく今から勉強をしたいと思っております。どなたか、お解かりになる方よろしくお願いいたします。
以下の2つのSQLを比較してどちらがパフォーマンスが良いでしょうか。 先に抽出して結合した方が良いと昔聞いた事がありましたが 記憶があいまいになってしまいました。 (1) SELECT * FROM A JOIN B ON A.*** = B.*** WHERE A.*** = '0001' (2) SELECT * FROM (SELECT * FROM A WHERE A.*** = '0001') AS A JOIN B ON A.*** = B.***
CREATE TABLE CTRL ( NO　NUMBER　　　 NOT NULL, DT　NUMBER(8,0)　NOT NULL ) CREATE SEQUENCE SQ_CTRLNO 　　START WITH 1 　　INCREMENT BY 1 　　NOMAXVALUE 　　NOMINVALUE 　　CYCLE; というテーブルがあり、トリガにてNOに自動採番します。 この時、現在の最新行を取得する為にシーケンスのCURRVALにて絞り込みを行いたいのですが、１行でSELECTする方法は無いでしょうか。 エラーにはなりますが、やりたい事は以下の通りです。 SELECT NO,DT FROM CTRL WHERE NO=SQ_CTRLNO.CURRVAL; ちなみにシーケンスはCYCLEなので並べ替えは使えません…。
こんばんわ。ORACLEで、 A 平成 番号 種別 ... 21 12 1 ... 21 12 2 ... 22 13 3 ... 21 13 1 ... B 平成 番号 種別 21 12 1 ... 21 12 5 ... 22 13 5 ... というテーブルがあります。 ここから、平成は21(例えば)という条件で、Aにはあって、Bにはない。もしくは、BにはあってAにはないレコードを検索したいです。 結果は、下記となります。 平成 番号 種別 テーブル名 21 12 2 TABLE A 21 13 1 TABLE A 21 13 5 TABLE B 色々考えたのですがよい方法がわかりませんでした。 効率のよいSQLはありますでしょうか？ レコードはA,Bそれぞれ数万件です。 よろしくお願いします。
標記の件に関しまして 私はデータベースに関する知識は全く無いのですが ＳＥが私のクライアントに設定した SQL*PLUSを使用してた売上データベースからのデータの抽出 機能がありまして これとは違う条件でのデータ抽出が必要となり 何とかＳＱＬ文を部分的に加工して目的が達成できるかどうか 調べているところであります。 ■疑問点■ SQL*PLUSのコマンドファイルは既に作成されていて @～でメモ帳ファイルに記述されているＳＱＬ文を 指定すればＳＰＯＯＬでデータが別のテキストファイルに 抽出されるようになっているようです。 この場合に 既存のＳＱＬ文が記述されているメモ帳ファイルの抽出条件を 加工してコマンドにて加工後のファイルを@～で実行すれば 必要としているデータを抽出することができるでしょうか？ あと 現在使用しているＳＱＬで下記の部分が共通して記述されて いるのですがこれはどういった意味でしょうか。 SET ECHO OFF SET HEADING OFF SET PAGESIZE 0 SET FEEDBACK OFF SET LINESIZE 30000 SET TRIMSPOOL ON SPOOL C:ファイルの場所 ■ここに抽出条件があるようです。■ SPOOL OFF EXIT 0; 大変申し訳ございませんが 現在はＳＥから購入したシステムから紙ベースで 出力して手作業で入力を行っているため 何とかデータベースから直接抽出できないか 模索しているところであります。 アドバイス頂けますでしょうか。 宜しくお願いします。
現在、Oracle silver 11gの資格取得に挑戦していますが、 オススメの参考書・問題集等はありますでしょうか？？？ また、勉強法についても合わせて御指南していただけると幸いです。 よろしくお願いいたします。
USER_A 所有のテーブル TABLE_A に対し、 １．ALTER TABLE USER_A.TABLE_A MOVE STORAGE (INITIAL 20M); を実行したあと、 ２．select * from dba_extents where segment_name = 'TABLE_A' and owner = 'USER_A' order by extent_id を実行してみたところ、BYTES列が、全て1048576（つまり、1MB）になっていました。 １．を実行した時点で、InitialExtentのサイズは20MBになっているはずなのだから、 ２．の結果のBYTESのうち、１レコードは20MBになっていないとおかしいのではないか、と感じています。 ※dba_tablesで、USER_A の TABLE_A の INITIAL_EXTENT が 20MB になっていることは確認しています。 dba_extents はエクステント１つ々々に対する情報を表しているのだ、と私は理解していたのですが、 私の理解は間違っているでしょうか。 以上です。 ご回答よろしくお願い致します。
はじめまして、ほんの最近プログラムの世界に入ったキグと申します。 2週間、インターネットや参考書(ポケットリファレンス、PL/SQL入門)などで調べていたのですが分かりませんでしたので質問させていただきます。 ORACLE11gパーソナルエディションでやっています。 (CSEで作成実行しました。) **************************** 作ったSQL文 CREATE OR REPLACE PROCEDURE PRO_1 IS BEGIN (実行確認できたSELECT文) END ※試してみたこと、 SELECT文の列指定はアスタを使わずに書きました。 AUTHID CURRENT_USERをプロシージャ作成のときに入れてみました。　 **************************** EXEC PRO_1 エラー→構文エラーまたはアクセス違反です。 BEGIN PRO_1; END; エラー→オブジェクト'PRO_1'が無効です。 上記エラーが出まして実行できていない状態です。 解決方法が分かる方いらっしゃいましたら、ぜひ回答を お願いしたいです。 以上よろしくお願い申し上げます。
オラクル8.1.7をクライアントでインストールしようと思っていたら 手順書を見誤りデータベース用のインストールをしてしまいました。 そこでアンインストーラー後、HKEY_LOCAL_MACHINE\software下の オラクルフォルダを削除。一度再起動してドライブ下のoracle フォルダを削除しようとしましたが、ocacle内のフォルダが一つ だけ削除できません・・・。レジストリも検索して削除しましたが たくさんありすぎて途中で止めてしまいました。 とりあえずもう一度インストールしてみたところエラーも無く 終わってしまいました。パッチもあててます。 この状態で使用しても大丈夫でしょうか？ データベースが離れた所にあり、動作確認が出来ない状況です。 どなたかご教授いただけると助かります。
update文についてACEESSのクエリのようにテーブル結合することは可能でしょうか？ できない場合、それに変わる方法をご教授いただけないでしょうか？ 現在、ORA-01427　単一行副問合せにより２つ以上の行がもどされます。がでて困っています。 単純にJOINして右から左へ値を移したいだけなのですがやり方が思いつきません。 何卒宜しくお願い致します。
Oracle8.1.6です。 増設アレイディスクの導入に伴い、オンラインREDOログファイルを、本体のディスクから増設アレイディスクに移動したいのですが(ドライブEとか)、どのようにしたらいいでしょうか？ ＳＱＬ　Ｓｅｒｖｅｒだと、デタッチ・アタッチとかで、トランザクションログファイルの 移動が出来るようですが、Oracleはどのようにしたらいいですか？ よろしくお願いします。
先日、開発者求人の面接に行ってきました。 顧客のDBを解析、DBの検索機能を最適化して、パッケージで納品・・・というようなことを行う企業なのですが、 そこで「DBの実行計画にはどんな種類がありますか？」という質問を受けました。 （え？DBの実行計画の種類？ SQL実行する前にEXPLAINとか、で実行計画見て、コストが低くなるように 色々やったことはあるけど、実行計画の種類って？） という感じで何を聞かれているのか見当が付かず、答えられませんでした。 分かる方、教えてください！ 何を聞かれたのでしょう？　また、なんと答えればよかったのでしょう？ ※ちなみに、その企業の扱っているDBはOracle,postgres,SQL server 等 　顧客に合わせて何でも扱うみたいです。
こんにちは。今年の4月から開発系の会社に入った新人です。大学の専攻は情報処理とはまったく関係のない、初心者です・・・。 早速ですが質問させていただきます。 現在Oracle Bronzeの勉強をしており、自分のパソコンにもOracleを導入しようと思いました。 ただインストールは完了したのですが、dbconsoleの起動がうまくいきません(蛇足ですがローカルネーミングメソッドのテスト結果は正常でした)。 ★OS：Windows Vista Home Premium, Service Pack 1です。 さて、コマンドプロンプトにて >set oracle_sid=orcle >emtle start dbconsole とすると ---------------- Oracle Enterprise Manager 11g Database Control Release 11.1.0.6.0 Copyright (c) 1996, 2007 Oracle Corporation. All rights reserved. https://***IPアドレス***:5500/em/console/aboutApplication Starting Oracle Enterprise Manager 11g Database Control ...システム エラー 5 が 発生しました。 アクセスが拒否されました。 ---------------- というエラーがでます。そこで参考書に書いてある、「コントロールパネル」→「管理ツール」→「サービス」から「OracleDBconsoleORACLE_SID」で開始/停止ができるという別の方法に従ったのですが、「OracleDBconsoleorlc」などはあるものの肝心の「OracleDBconsoleORACLE_SID」がありません。これはインストールが失敗しているからでしょうか。 ただ、DBconsoleの起動はうまくいっていないはずが、 「https://***IPアドレス***:5500/em」で、Oracle Enterprise Managerにアクセスすることができます。教科書にはポート番号はデフォルトで1158だと書いてあったのですが、なぜ5500に変更されているのでしょうか。(http://www.shift-the-oracle.com/oracle-net/oracl …などを見てみたのですが理解できませんでした。) 以上、よろしくお願いいたします。
こんにちは、最近データベースを使い始めた初心者です。 実家の仕事を手伝いたくて、決算集計をやりたいなと思っています。 今、毎日下のようなデータが作成されています。 (date型のデータ列, number型のデータ列のテーブルイメージです。) 2007/3/31 , 5 2007/4/1 , 10 2008/3/31 , 5 2008/4/1 , 10 このデータを日本の会計期間(4/1～翌年3/31まで）に合わせて、 次のような形に集計できないものでしょうか？ 2006 , 5 2007 , 15 2008 , 10 何かアドバイス頂けると助かります。 どうぞよろしくお願い致します。
既存のデータベースからCREATE文(表領域、ユーザ等)を作成する事は可能でしょうか？ 何かいい方法がありましたらアドバイスして下さい。 皆さんの力を貸して下さい。 どうか宜しくお願いします。
初めまして。 ちょっとパソコンに詳しいからだけで何故か私が社内システムで使用しているデータベースの移行をする事になってしまいあわあわしています。 景気が悪く業者に頼む為の予算もないとの事で私がデータベースの移行をする事になってしまいました。 行いたい事は旧サーバーのデータベースの状態をそのまま新サーバーの移行したいですができますでしょうか？ ネットで調べていたら「exp」コマンドと「imp」コマンドがありました。 「exp」コマンドでダンプファイルを作成し、「imp」コマンドでダンプファイルを取り込めばいいのでしょうか。 申し訳ありませんが皆さんの知恵を私にお貸し下さい。 些細な事でも、何でも構いませんので宜しくお願いします。 本当に宜しくお願いします。
ネットで調べてもピンとこなかったので・・・ こんな質問をしてすみません。 サルにもわかるようにスキーマとインスタンスを説明してくれませんでしょうか？ 宜しくお願いします。
環境：Ｏｒａｃｌｅ１０ｇ 先輩からエクスポート時に下記のパラメータを設定するようにと アドバイスをいただきました。 　COMPRESS = N このパラメータは、「エクステントをまとめない」ということだと 認識しています。 でも、エクステントはまとめた方がいいのでは？と思うのです。 ※エクスポートしたデータは、同じ環境もしくは別環境に インポートする予定です。 このパラメータを設定したときのメリット／デメリットを 教えてください。 よろしくお願いします。
ORACLEを勉強するにあたって体験版をインストールしようと考えている のですが、Oracleが対応しているOSがわからないためインストールができません そこで質問です。 VISTA HOME BASICをOracleクライアントとOracleサーバにして２台のパソコン （２台ともVISTA HOME BASIC）で利用できるでしょうか。 （ネットワーク経由も勉強したいため２台のパソコンを利用します） インターネットで日本オラクルやOTNのページを見たのですがよくわかりませんでした。
来月から新しいプロジェクトに入ることになりまして、SQLをかなりの本数書かないといけないことになりました。 パフォーマンスを意識したSQLを書けるようになりたいのですが、なにかお勧めの書籍はありますでしょうか？ しっかりと勉強をしたいです。
oracle10g 又は11gどちらでもいいのですが無料体験版をインストールしようと思っています。そこで質問なのですが、無料体験版の体験期間終了後にOSを再インストールしたら再び無料体験版が利用可能になるのでしょうか。
Oracle11gのユーザのパスワード期限を確認する方法ってご存知ですか？ デフォルトが180日だということは確認しているのですが、 前任者が期限を何日間に設定しているか不明だったため、 確認を取りたいと思っております。
昨日からDBを使い始めたのですが、いまいち成果が上がっているのか 客観的に判断できません。 実行結果の通りになるようにコマンドを入力して、学習したことが身についているか、確認したいのですが、そういったサイトってありませんか?
間違えて26,250 円の方を購入してしまいました。 オラクルのホームページを見ると以下の試験が26,250 円で受けれると書いていました。 ・(1Z0-615J) Siebel 7.7 Consultant Core Exam ・(1Z0-202J) Siebel 8 Consultant ・(1Z0-241J) PeopleSoft Application Developer I: PeopleTools & PeopleCode ・(1Z0-205J) JD Edwards EnterpriseOne 8 FIN 正直何の試験なのかさっぱり分からないのでどうしようか迷っています。期限が2009年12月なのでどれか試験勉強してうけてもいいかと思うのですが、どれが一番簡単でしょうか？ また、その際どのように勉強すればいいでしょうか？（本などは出版されていないと思いますので）
オラクルがインストールされているPC(A)から 同じDBを別PC(B)へ移す作業を職場で依頼されたのですが、 やり方が分らず困っています。 Oracle： 9i リリース 9.2 OS：XP モード：ノーアーカイブ 概要として、 1．既存DBの停止 2. バックアップ取得(OSアプリ、エクスプローラー等でバックアップ取得を考えてます) （制御ファイルとデータファイル、REDOログ)が対象!? 3．新PC(B)にオラクルインストール 4．新PCのオラクルでリストア作業(この辺が全くわからないです) と考えました。 DBにお詳しい方の意見、 詳しい処理(考え方は、ともかく実操作)を詳しく紹介しているサイトが あれば情報共有させてください。 ※移行先のドライブ構成は移行元と基本同じですが、 出来ればリストア時に検討したいと思っています。 ※既存DBは自由にDB停止して必要なデータ(バックアップ)は取れるので、 3番と4番の詳しいやり方が分かればうれしい。 そもそも考え方自体間違っているのかも・・・そしたらご指摘お願いします。 ※出来ればRMANは使わない方法がベスト
Oracleのストアドで以下のことを実行したいです。 1.aユーザのaテーブルにあるユーザ情報(=スキーマ名になっています)を取得 2.取得したユーザ情報(=スキーマ名)を元にスキーマ.テーブル名で 　テーブルの情報を参照する 3.スキーマ.テーブル名で参照したテーブルの情報を元に 　他のテーブルのデータを参照する 1については取得できたのですが、2以降を別ストアドで作成して スキーマ名を引き渡そうかと思ったのですが、実行すると 「表またはビューが存在しません」と表示されます。 実現できる方法をご教授ください。 CREATE OR REPLACE PROCEDURE del_datatbl(con_user IN VARCHAR2, del_date IN DATE) IS TYPE cur_typ IS REF CURSOR; v_inv_cursor cur_typ; -- Declare a cursor variable v_inv_query VARCHAR2(200); v_inv_num NUMBER; v_inv_cust VARCHAR2(20); v_inv_amt NUMBER; w_date DATE; BEGIN IF(del_date IS NULL) THEN w_date := ADD_MONTHS(SYSDATE,-18); ELSE w_date := del_date; END IF; v_inv_query := 'SELECT clm_mjres_MSEQ FROM ' || con_user || '.T_MNGJRES' || ' WHERE TO_CHAR(CLM_MJRES_DATE,'|| 'YYYY/MM/DD' || ') <= TO_CHAR(w_date,' || 'YYYY/MM/DD' || ')'; DBMS_OUTPUT.PUT(v_inv_query); OPEN v_inv_cursor FOR v_inv_query USING v_inv_num; LOOP FETCH v_inv_cursor INTO v_inv_num; DBMS_OUTPUT.PUT(v_inv_num); EXIT WHEN v_inv_cursor%NOTFOUND; END LOOP; CLOSE v_inv_cursor; END; . run show errors
こんにちは 今シェルスクリプトを作成し、oracleに対して、ＳＱＬ文を発行したいのですが、ユーザーパスワードを入れた時点で処理が止まります シェルスクリプトからoracleに対して、DROP TABLEを行いたいのですが、この処理は可能ですか？ 可能であれば、実行した際のログも保持し、エラーがあった場合の処理を行いたいです。 ご存知の方いらっしゃいましたらご教授お願いいたします 現在のソース： sqlplus ユーザー名/パスワード # ここまではうまくいきますが、ここで処理がとまります drop table テーブル名
こんにちは 現在oracleでexpdpを使い、目的のテーブルをexportしたいと思っていますが、エラーが出て出来ません。 oracleのバージョンは10.2です 行った作業は下記です １sqlplusにログイン >sqlplus ユーザ名/パスワード@データベース別名 ２．ディレクトリオブジェクトの作成 >create directory ディレクトリオブジェクト名 as 'ディレクトリのフルパス'; ３．使用ユーザにディレクトリに対する読み込み書き込み権限を付ける >grant read,write on directory ディレクトリオブジェクト名 to ユーザ名; ４．sqlplusからログオフし、ディレクトリを作成。rootで入り、chmodで777にディレクトリの権限を変更 expdpを実行　この時のユーザーはgrant権限で読み込み書き込みを与えたユーザー >expdp ユーザ名/パスワード@データベース別名 DIRECTORY=ディレクトリオブジェクト名 DUMPFILE=ダンプファイル名 LOGFILE=ログファイル名 ＝＝ここからエラーが出ます＝＝ ORA-39001: 引数値が無効です ORA-39000: ダンプ・ファイル指定が無効です ORA-31641: ダンプ・ファイル"/xxxx/xxxx.dmp"を作成できません ORA-27040: ファイルの作成エラー、ファイルを作成できません SVR4 Error: 13: Permission denied ご存知の方いらっしゃいましたらエラー退避方法教えていただけないでしょうか？ どうぞよろしくお願いいたします
お世話になります。 環境　ＸＰ　ＯＲＡＣＬＥ　９ｉ 　　　　ＶＩＳＴＡ　ＯＲＡＣＬＥ１０ コーディングは、できるだけ変えずに動かした場合どちらが処理速度は速いでしょうか。（マシンスペックは同じものを使用した場合） 使用している命令や９用にチューニングしているか、ＸＰをＶＩＳＴＡにアップグレードしたか、ＶＩＳＴＡをＸＰにダウングレードしたかで変わるとは思うのですが何か目安となるものをご存知でしたら教えて頂きたくよろしくお願いします。
はじめまして、 今後の業務でORACLEを学ぶ必要性が出てきたのですが、 初心者でも分かるおすすめのスクールなどありましたら、 教えていただけると幸いです。 よろしくお願いします。
はじめまして。 副問い合わせを使ったUPDATE文でわからない点があり、質問させていただきます。 使用しているDBはORACLE10gです。 SALARYとEMPLOYEESという二つのテーブルがあり、SALARY列とEMPLOYEES列には主キーとなるEMPLOYEEID列があります。 ここで、以下のSQLを発行した際に【1】は正しく更新され、【2】は「ORA-01427：単一行副問い合わせにより2つ以上の行が戻されます」というエラーが出ます。 whereを使った結合とjoinを使った結合は同じだと思っていたのですが、なぜこのように結果が異なるのかがわかりません。 どなたかご教示いただけないでしょうか。 【1】 UPDATE SALARY SET SALARY.AMOUNT = SALARY.AMOUNT + (SELECT AMOUNT FROM EMPLOYEES INNER JOIN SALARY s ON EMPLOYEES.EMPLOYEEID = s.EMPLOYEEID) 【2】 UPDATE SALARY SET SALARY.AMOUNT = SALARY.AMOUNT + (SELECT AMOUNT FROM EMPLOYEES WHERE SALARY.EMPLOYEEID = EMPLOYEES.EMPLOYEEID) 説明不足の点があればご指摘ください。よろしくお願いします。
あるデータをグルーピングして取得したと考えています。 ・データ |ユーザーCD|ユーザー名|担当部署| |0000000001|ユーザーA |部署A | |0000000002|ユーザーB |部署B | |0000000002|ユーザーB |部署C | |0000000003|ユーザーC |部署D | |0000000003|ユーザーC |部署E | |0000000003|ユーザーC |部署F | 上記のデータをユーザー単位でグルーピングしたいです。 可能でしょうか？ 下記のように取得したいです。 |ユーザーCD|ユーザー名|担当部署 | |0000000001|ユーザーA |部署A | |0000000002|ユーザーB |部署B、部署C | |0000000003|ユーザーC |部署D、部署E、部署F | すみません、知恵をお借りしたいです。
いつもお世話になっております。 pl/sqlでの処理なのですが、タイトルのとおり テーブルの結合と集計で分からないところがあり、 こちらで質問させていただきました。 処理内容は あるグループでレコードを集計し、 そのグループが重複する他のテーブルと結合したいと 考えております。 【テーブル１】 (班) (回数) (秒) aaa| 10| 100 aaa| 20| 200 bbb| 10| 150 bbb| 20| 100 ccc| 10| 100 ccc| 30| 250 : : : まずこれを集計し、件数を追加して (班) (回数) (秒) (件) aaa| 30| 300| 2 bbb| 30| 250| 2 ccc| 40| 350| 2 : : : : というようにまとめ、 【テーブル２】 (年月) (班) (円) 200904| aaa| 1000 200905| bbb| 1500 200904| ccc| 2000 : : : というテーブルと結合して (年月) (班) (回数) (秒) (円×件) 200904| aaa| 30| 300| 2000 200905| bbb| 30| 250| 3000 200904| ccc| 40| 350| 4000 : : : : : という形にしたいのですが可能でしょうか？ 例に挙げたのは3件しかありませんが テストデータは1万件以上ありそれを処理します。 初心者なので、テーブルの結合の仕方、 集計の仕方が分からず行き詰っております。 どなたか、お力を貸していただけないでしょうか。 よろしくお願いいたします。
初心者です。 oracle11gが入っているPCで、oracle8iとODBC接続したい場合は、どのようにすれば可能でしょうか？ 例えばoracle8iクライアントも共存インストールできるでしょうか。
Oracle10.2を使っています。 全テーブルをトランケートした後、インポートとアナライズをするという処理を何度か実行していますが、最近急に時間がかかるようになり、実行するたびにどんどん所要時間が延びています。 当初は10数分だったのが、直近では9時間です。 延びているのはインポートで、トランケートとアナライズは問題ないようです。 サーバの再起動もやってみましたが、一向に改善しません。 このような現象を経験したことのある方はいらっしゃらないでしょうか？
いつもお世話になります。 表記のsetup.exe実行後、インストーラ要件の確認後、Universal Installer表示後すぐに以下のエラーが発生します。 「Javaw.exeは動作を停止しました 問題が発生したため、プログラムが正しく動作しなくなりました。プログラムは閉じられ、解決策がある場合はWindowsから通知されます。」 「プログラムの終了」ボタンを押すと、終了します。 ご存知の方いらっしゃいましたらご教授いただけませんでしょうか？ 尚、パッチ適用前にOracle関係のサービスは停止しておりますし、イベントビューアにも特に何も記録されておりませんでした。 宜しくお願い致します。 【環境】 OS:Windows Vista Business SP1 DB:Oracle10.2.0.3
現在WindowsSever2003上で稼動しているDBをaixサーバに移行したいのですが、DB単位でのexp/impで可能でしょうか？ exp/impで可能であれば、aixサーバ側でimp前に必要な作業（データファイルの作成、DBの作成？）を教えていただけると助かります。 もっと手軽に出来る方法があれば教えていただけると有難いです。 バージョンはコピー元、コピー先共にOracle10gになります よろしくお願いします。
dmpファイルのインポート時に下記のようなOracleエラーがでて困っています。 IMP-00003: Oracleエラー2304が発生しました。 ORA-02304: オブジェクト識別子リテラルが無効です。 IMP-00017: 次の文は、Oracleエラー2304で失敗しました: エラー内容を調べましたが、具体的に何が原因で何をすれば対処できるのかわかりません。 Oracleのインストールで設定を間違えてしまったのか…とも思っているのですが、ご存知のかたがおられましたら教えてください。
どなたか教えてください。 サポート対象外なので、できないのは分かっているのですが…。 ウィンドウズ２００８サーバーに、オラクル９.２.０を インストールすることにチャレンジした方いらっしゃいますか？ 途中までは行ったのですがＪＶＭ関係のＥＸＥ起動ができずに エラーになってしまいます。 ここさえ回避できれば・・・とか思っていますが。無理ですかね。
いつもお世話になっております。 現在PL/SQLでデータの抽出を行う課題に 取り組んでいるのですが、 期間を指定してデータを取り出す際に 期間はパラメータで渡すのですが、 【例】 2009/1/1～2009/6/30と指定された場合、 日付変数　BETWEEN　20090101　AND　20090630　 上期のですと、6/30の0時0分0秒までですよね? これを6/30　23時59分59秒まで出力するためには どうしたらよいでしょうか？ ちなみに、日付変数には年月日時分秒で入っていて、 期間の指定は出力の際にYYYYMMDDで指定することに なっています。 終了を2009/7/1で指定して1秒引くのかなとも 思ったのですが、できれば、指定された 日付のみを使って抽出ができればと思っています。 もし何か方法がありましたら、教えていただけないでしょうか？ よろしくお願いいたします。
ORACLE ＆ SQL初心者です。 うまい日本語がみつからないのですが、 テーブルAは年月が月ごとに入っていて、 テーブルBには特定の年月しか入っていない状態だとします。 以下のような状況のときに、SQLではどのような表現を 用いるのが正しいのでしょうか？それとも条件？がたりないのでしょうか？ 【テーブルA】 +----------+------------+ |　　年月　|　店名　　　| +----------+------------+ |　200901　|　八百八　　| +----------+------------+ |　200902　|　八百八　　| +----------+------------+ |　200903　|　八百八　　| +----------+------------+ |　200904　|　八百八本店| +----------+------------+ |　200905　|　八百八本店| +----------+------------+ |　200906　|　八百八本店| +----------+------------+ |　200907　|　八百八本店| +----------+------------+ 【テーブルB】 +----------+----------+--------+ |　年月　　|　品名　　|　個数　| +----------+----------+--------+ |　200901　|　みかん　|　６　　| +----------+----------+--------+ |　200905　|　みかん　|　３　　| +----------+----------+--------+ 【結合後】 +----------+------------+----------+--------+ |　　年月　|　店名　　　|　品名　　|　個数　| +----------+------------+----------+--------+ |　200901　|　八百八　　|　みかん　|　６　　| +----------+------------+----------+--------+ |　200902　|　八百八　　|　みかん　|　６　　| +----------+------------+----------+--------+ |　200903　|　八百八　　|　みかん　|　６　　| +----------+------------+----------+--------+ |　200904　|　八百八本店|　みかん　|　６　　| +----------+------------+----------+--------+ |　200905　|　八百八本店|　みかん　|　３　　| +----------+------------+----------+--------+ |　200906　|　八百八本店|　みかん　|　３　　| +----------+------------+----------+--------+ |　200907　|　八百八本店|　みかん　|　３　　| +----------+------------+----------+--------+ ・・よろしくお願いいたします。
メンバーを、各人の点数からグループ分けしたいと 考えています。 グループ分けの基準は、たとえば５０点という尺度があり、 その尺度以上離れていたら別のグループとするというものです。 また、各メンバーの点数は最大と最小が登録されています。 現在は、VBでプログラムを作って対応しましたが、 最近、LAG/LEAD分析関数の存在を知ったので、それをうまく使えば、 SQLだけで対応できるのではないかと思えます。 SQLだけで対応できると、そのVIEWを作ってしまえば、ユーザーに 簡単に引き渡せるので管理が楽になります。 うまいSQLがあれば教えてください。 具体的な処理内容は以下の通りです。 例えば、TABLE1のようなデータで、グループ分けをすると ID=1と３の差が50点以内、３と２の差も50点以内なので、 その３名で１グループできます。 ID=４と５は、他と５０点以上離れているので、それぞれ一人で １グループになります。 ID= 6,7 は、差が50点以内なので、2名で１グループとなります。 結果として、TABLE2のような結果になります。 TABLE 1 ID MIN_SCORE MAX_SCORE 1 100 110 2 190 200 3 120 150 4 300 330 5 400 420 6 670 700 7 600 630 TABLE 2 CLASS MIN_SCORE MAX_SCORE N 1 100 200 3 2 300 330 1 3 400 420 1 4 600 700 2 そこに、TABLE1'のようなデータが加わると ID=4と8は差が50点以内で、７と８も差が50点以内なので、 そこらが全て同じグループになり TABLE 2' の結果となります。 TABLE 1' 8 380 550 TABLE 2' CLASS MIN_SCORE MAX_SCORE N 1 100 200 3 2 300 700 5 以上、よろしくお願いします
ただ今お客様の要望でカラム名、及びテーブル名を日本語で作成しております。accessで情報を見れるよう考えています。 oracle10gで作成したところカラム名、及びテーブル名を英語で作成したときより検索に大幅に時間がかかるようになりました。どなたか原因を知っている方は教えていただきたです。 ちなみにデータ容量は約100万件１．５Ｇ程度です。
Oracle 11g Bronze SQL基礎　の試験を受けようと思っているのですが、翔泳社の黒本に付いてた模擬問題だけで合格できますでしょうか？ やはりI-studyの製品版を買わないといけないでしょうか？
お世話になります。Oracle11gの勉強をしているのですが、わからないところがあるので教えてください。 Oracl EnterPrise Manager で、初期化パラメータ欄に 現行とSPFileという欄がありますが、現行欄に表示されている内容は いったいどこから表示されているのでしょうか？ pga_aggregate_target　が　SPFileでは０なのに現行には112と表示 されているのが不思議です。いまいち初期化パラメータファイルが わかっていないのかもしれないですが、 初期化パラメータファイルには２種類 ・サーバーパラメータファイル ・テキスト初期化パラメータファイル が存在するという認識なのですが、 テキスト初期化パラメータファイルはいったいどこにあるのかまったくわかりません。Oracleをインストールしただけだとできないのでしょうか？Oracleのマニュアルを見ると Oracle_Homeのdatabase配下に init.oraというファイルが出来ると書いてあるようなのですが・・・ どなたか教えてください。
Oracle9iを使用したアプリケーションのOracleのみ11gにバージョンアップしました。 OSはWindowsXP SP2 アプリケーションのほうはVB6.0SP6で作成したもので前と同じものです。 9iを使用していたときは、すぐに応答がある処理も、 11gの場合は、30秒待ってやっと応答するという具合です。 （どのSQLかまだ特定はできてないのですが、単純なSELECT文を使っているところやレコード移動で起こっている気がします） 11gになって、追加された機能とかのせいであれば、いらない機能なので、 OFFにしたりすれば早くなったりするのでしょうか？ なにか思い当たることがあれば教えてください。
ユーザーに導入済みのサーバ(Windows2003Server)にOracle10ｇが 入っています。 仕様改定にて、複数のテーブルの項目の長さを拡張しないと いけなくなりました。 Oracleユーザは１つしか作っておらず、 色々なシステムが同じユーザー名でログインしてきます。 複数のテーブルの項目の長さを拡張した際に、どれだけの システムに影響を与えるか知りたく、以下を調査する方法は ありますでしょうか？ ＜要件＞ １．接続してくるクライアントのコンピュータ名（IPアドレスでも可）の 　　履歴を取りたい ２．１のシステムがどのテーブルを参照、更新しているかの履歴を取りたい ３．１、２の履歴を数週間取りたい。 ４．有料のソフトはできれば使いたくない 以上、ご教示頂きたく、よろしくお願い致します。
オラクルを勉強中の身です。 以下の件で、困っております。ご教授ください。 インデックスの容量が膨れ上がってしまい、現時点で2GB以上あるインデックスが、50個近くあり、今後も拡大が懸念され困っております。 （最大で30GBのが数個あります。） 上司に進言したいと考えておりますが、容量が膨れ上がると、どのような影響があるのか、対策をご教示ください。 （参考サイトがあれば教えてください。） 尚、テーブルについても、2GB以上の数量も同じぐらいあります。 現在、特に目立ったパフォーマンスの劣化がありません。（実際劣化はあるのでしょうが、認識していないのが現状です。） ちなみに、Enterpriseへのバージョンアップは考えておりません。 使用しているオラクル環境は以下になります。 Oracle Database 10g Release 10.2 Standard Edition 以上、宜しくお願い致します。
お世話になります。 Oracle9i 以降のUNDO表領域に関してお聞きしたいのですが。 Create tablespace 文でUndo表領域を作成できますが、 複数作成するメリットなどはどのようなことが考えられるのでしょうか？ インストール時に存在する、UNDO表領域のサイズを大きくすれば いいような気がするのですが。 以上　よろしくお願いします。
oracleのお試し版(10g)をインストールしたら、次の日から起動してIEを開くまでの時間は半端なく遅くなりました。これはメモリを増設したらましなりますかね？今はvistaで1GBです・・・・
いつもお世話になっております。 SQLで３つのテーブルの結合をして、結果を得たいのですが、 空欄があるために表示されないレコードがあります。 どうすれば表示できるか、どなたか教えていただけないでしょうか？ テーブルが Ａ：明細（call_data） Ｂ：業者（m_price） Ｃ：料金（m_cust） とあり、 SELECT c.area_id, m.cust_id, p.price FROM call_data c, m_cust m, m_price p where c.calling_num = m.orig_opn_dgt(+) and m.cust_id = p.cust_id and p.area_id = c.area_id(+) ; としたのですが、Ａ．明細データのarea_idで空欄のレコードは 出力されませんでした。 （＋）を使うと外部結合で片方のデータを出力できると思ったのですが、それができないのは何が原因なのでしょうか？ c_id a_id price １ 111 10.2 ２ 222 15.5 ３ 333 20 １ ４ 111 10.25 ２ 111 13.5 ５ 222 12 ６ 888 ６ 666 17.55 と出て欲しいところが c_id a_id price １ 111 10.2 ２ 222 15.5 ３ 333 20 ４ 111 10.25 ２ 111 13.5 ５ 222 12 ６ 666 17.55 とでます。 分かりづらくて申し訳ありません。 よろしくお願いいたします。
PHPでOracleサーバに接続し、Oracle内のデータを表示させようとしています。 Warning: ocilogon():RA-12541: TNS: リスナーがありません と表示されて、データが表示できません。 何が起っているのでしょうか？ どなたか、ご教示お願いいたします。
リスナー構成時に指定するデータベース識別情報は、グローバルデータベース名です。 と、Oracle 10g bronze dbaの、Oracleネットワークの構成で書かれているのですが リスナーは、複数のインスタンスで共有できるもので、グローバルデータベース名はいらないと思うのですが・・・ listener.oraを見てみましたがそのような記述はありませんでしたし リスナーの構成を実際にしてみましたが、グローバルデータベース名の設定はしませんでした。 この本の正誤表を見ましたが、載っていませんでした。 どなたかご説明いただけないでしょうか よろしくお願いします
端末のアプリケーションからサーバ上のOracleデータベースにアクセスしていたのですが、 下記Ａの作業を行った後に端末のアプリケーションからサーバ上のOracleデータベースへアクセスしたところ、 「サーバと接続できません。ORA-12560：TNS：プロトコル・アダプターエラーが発生しました」 とのメッセージが出ましたが、解消方法がわかりません。 ●Ａの作業 ・Norton Antivirusをインストール ・TCP/IP詳細設定のWINSタブのWINSアドレスに昔のIPアドレス（128～始まる→現在は192から始まるものを使ってます）を削除。 その後、Norton Antivirusが影響しているのかなと思い、削除しましたが症状は変わりません。 なお、 　・OralceServie*** 　・OralceOraHome90TNSListener 　・OralceOraHome90Agent はサービスから起動や停止をしても正常に動作します。 また、OSは2000サーバーSP2ですが、Oracleはヴァージョンの調べ方がわかりません（当方素人）。 サーバ自体は2002年9月頃に購入しており、同時に導入しているようです。 管理者が勝手に退職してしまい、当方を含めて職場にOracleに明るい物がおらず、困っています。 どなたかご教授いただけると幸いです。
oracle10gをfedora10にインストールしてfedora eclipseにDBViewerをプラグインしてoracleに接続しています。 DBViewerでテーブルを作成しようとSQL文を実行してみるとエラーが出てテーブルが作成できません。 エラー内容　ORA-01031:insufficient privileges oracleサイトで検索してみますと権限不足ということなのですが・・・・ DBViewerは接続できているのを確認しEnterprise Managerも起動を確認しています。 DBViewerに接続する時のユーザの権限に問題があるのでしょうか。 よろしくお願いします。
表領域のサイズと使用量を抽出するＳＱＬを作成しています。 上は自動拡張サイズと現サイズを抽出するＳＱＬ、下は現在の使用量を抽出するＳＱＬです。この二つを一つのＳＱＬで作成ってできないでしょうか？？ (1)自動拡張と現サイズを算出 select sysdate syoribi, a.tablespace_name, to_char(sum(a.MAXBYTES)/1024/1024, '999,999,990') jidou, to_char(sum(a.BYTES)/1024/1024, '9,999,990.9') gensaize from dba_data_files a group by a.tablespace_name (2)使用量を算出 select sysdate syoribi, b.tablespace_name, to_char(sum(b.BYTES)/1024/1024, '9,999,990.9') siyoryo from dba_segments b group by b.tablespace_name どうかよろしくお願いします。
Oracle10gを使用してテーブルを作るところなのですが、タイムスタンプをOracle側で自動的に挿入することは可能でしょうか？ つまり CREATE TABLE TEST ( ID NUMBER PRIMARY KEY, NAME VARCHAR(10), ENTRY TIMESTAMP ); というテーブルを作成した場合、データをinsertする際にOracleが勝手にその瞬間の時間を格納するようにしたいです。 insert into test values (1, 'taro'); とすると1, 'taro', 現在時刻がデータベースに格納される。。 初心者ですみませんがご存知の方いらっしゃいましたらご教示下さい。 宜しくお願いします。
お世話になっております。 Oracle SQL*PLUSでデータを打ち込んでいるところなのですが、 表示の仕方で分からないところがあるので、 どなたか教えていただけないでしょうか？ date型で指定して日付カラムを作ったところに TO_DATE('2009-01-02 10:00:10','YYYY-MM-DD HH24:MI:SS'), と入力したのですが、select文でデータを検索したところ DATE -------- 09-01-02 と返ってきました。これを分、秒まで表示させるには どうしたらよいでしょうか？？ よろしくお願いいたします。
以下のSQLの2つの結果は同じでしょうか？ LEFT OUTHERは、ON句の中の左の表を全て取得するというものでしょうか？ SELECT ename, dname, jname FROM emp e LEFT OUTHER JOIN dept d ON (e.deptno=d.deptno) LEFT OUTHER JOIN job j ON (e.jobid=j.deptno); SELECT ename, dname, jname FROM emp e RIGHT OUTHER JOIN dept d ON (d.deptno=e.deptno) RIGHT OUTHER JOIN job j ON (j.jobid=e.deptno)； よろしくお願いします。
お世話になります。教えてください。 Oracle9iのnchar型について詳しく知りたいのですが。 char型の場合、データベースの作成時の文字コードで文字が格納 されますが、nchar型の場合、unicodeで格納されるという 認識でいます。 例えば、SJISには存在しない文字は、char型の列に登録すると、 文字化けするので、 nchar型の列に登録しようと思うのですが、nchar型の列の値を SQLPlusやosqledit,objectbrowserで表示しても '?'　と 表示されます。　正しく nchar型の列の値を表示する にはどうすればいいのでしょうか？ 例えば、VB.netなどのプログラムから取得した場合には、正しく 文字化けせずに取得できるという認識でいいのでしょうか？ 　よろしくお願いします。
約管理みたいな事をしております。 下記のように予約表があります。 区分-開始-終了 A-09:00--10:00 B-10:00--12:00 A-15:00--17:00 A-20:00--22:00 区分別に開始と終了時間(範囲内かどうか)を取得したい 区分Aに対して16:00-16:30は重複と判定し 区分Aに対して08:00-09:30は重複と判定し 区分Aに対して17:00-18:00はOK 区分別に時間が重複しているかどうか 取得できるSQL分を教えてください。
RMANで毎日DB全体をオンラインバックアップしています。 本日DB全体のリカバリが必要となったのですが、 「障害が発生した日の早朝に取得したバックアップをリストアした時点の状態に復旧して欲しい」とお客様から要望が来ました。 RMANで、リストアしただけでDBを起動させる方法ってあるのでしょうか？ restore database;のあと、resetlogsオプションつきでDBを起動させようとしましたが、「不完全リカバリでないためresetlogsは使用できません」とエラーで怒られてしまいました。当然ですよね。。。 ちなみに、コールドバックアップは取得していません。 DB環境は以下の通りです。 OS：Windows2003 R2 SP2 DB：OracleSE 10.2.0.1 なにか良い方法がありましたら教えていただけませんでしょうか。 よろしくお願いします。
再帰的にデータを取得する方法について質問させて下さい。 以下のような「TABLE1」と「TABLE2」があった場合に、 TABLE1 ------------------------ |　ID　|　AID　|　JOB　| ------------------------ |　　1|　　　10|　XXXXX| ------------------------ TABLE2 ------------------------- |　ID　|　PID　|　NAME　| ------------------------- |　　10|　　100|　　　aaa| |　　100|　1000|　　　bbb| |　1000|　10000|　　　ccc| -------------------------- 再帰的に取得したい親階層が2つまで等分かっている場合に、以下のような結果を1度のSQLで取る事は可能でしょうか？ ---------------------------------------------------------------------- |ID|AID|JOB　|AID_NAME|AID_PID_1|AID_PID_NAME_1|AID_PID_2|AID_NAME_2| ---------------------------------------------------------------------- |1|　10|HIRA　|　　　　　aaa|　　　　100|　　　　　　　　bbb|　　　1000|　　　　　　ccc| ---------------------------------------------------------------------- また、上記の結果が取得可能な場合にパフォーマンス的には1度で取得した方が良いのでしょうか？ それともTABLE2の親階層を再帰的に取得するSQLは分割した方が良いのでしょうか？ どうかご教授のほどお願い致します。
bronze sqlの勉強をしているのですが、IN ANY ALLについて分からないことがあります。 not in() <>any() not <>any() <>all() not <> all() など、それぞれ否定した時の動作です。 考えていると、良く分からなくなってしまうのですが、何か規則などないのでしょうか？ 宜しくお願いします。
数社共同のプロジェクトで、各社請負で（離れた場所で）開発してます。 主幹会社が、プロジェクト共通のDDLやPL/SQLのストアドを管理していて、 変更のある都度、それらのSQLファイルを送ってくるのですが、毎回毎回、 エラーが出るファイルを送られてきて困っています。 （ストアドの場合はコンパイルエラーで、DDLの場合はタイプミスでテーブル が作れない内容だったり） こちらとしては、最低限コンパイルエラーのような事はないものと思って、 （一番最初はエラーがなかったので）SQL*Plusでまとめて実行するように していました。 最近は毎回何かしらの部分でエラーが出てまして。 決して少なくない部分で出てます。（数十ファイルでエラーが出てたり） エラーがあった場合は、その会社に伝えなければならないのですがorz 全部で数100ファイルあるので、エラーの有無と、その個所を特定するのが 大変です。 数100ファイルをまとめて実行した時に「ぱっと見」でエラーの有無と その概要が分かるようなツールはないでしょうか。
Oracleの公式HPからwin32_11gR1_databaseをダウンロードして インストールまでは完了しました。 ですが、その後ブラウザに表示された管理者用のページから どうすればSQLが発行できるようになるのかがわからない状態です。 どこかの記事でブラウザからもSQLが発行できると見たのですが 失念してしました。 どうすれば、SQLが発行できるようになるのでしょうか？ 以上です、よろしくお願いします。
既存の表から新しい表を作成する方法について質問させて下さい。 ・作成方法 　既存の表にあるカラムを2つSELECTし、合わせて新しいカラムを1つを作成する。 　CREATE TABLE NEW_TABLE AS (SELECT 　 COLUM_ID_1, 　COLUM_ID_2, 　 'TT' as COLUM_ID_3 　FROM 　 OLD_TABLE 　) 　上記のようにすれば新しいカラムを追加する事ができるようなのですが、 　新しく追加した「COLUM_ID_3」の型定義が"CHAR"となってしまいます。 これをVARCHAR2にする方法はあるのでしょうか。 どうかご教授の程お願い致します。
だれかがOracle10gのあるテーブルの金額データをAccessなどの編集ツールで変更してしまい、問題になっているのですが誰が変更したのか突き止める方法はあるのでしょうか？ また、今回はわからないとしても今後、このようなことがないように変更した人を特定するようにしたいのですがどのようにするのがよいでしょうか？
お世話になります。 AテーブルにBというフィールドがあります。 （Bはvarchar型で、先頭1文字は必ず大文字） このBすべてのデータの先頭1文字目を「○」という 文字に置き換えて更新するためのSQL文を教えていただけますでしょうか。 よろしくお願いいたします。
テストデータ作成のための良いツールはないでしょうか。 今のところ、Oracle SQL Developer や Visual Studio のサーバーエクスプローラー、OSqlGridなど を使って、手作業でテストデータを作っています。 いずれも、グリッド編集的な機能によって、手作業でそれぞれのテーブルに対してデータを入力 しています。 （一度作ったデータは、再度クリーンな状態から再現するために、最終的に SQLのINSERT文に して保存しています） １テーブルあたりのテストデータ件数は10件から50件程度なのですが、 つらいなあ、と思うのは、例えば「テーブルA」の明細レコードとして「テーブルA-1」のような テーブルがあり、テーブルA-1のさらなる明細レコードとして「テーブルA-2」がありまして、 そういった場合、上記のツールを使っている場合、それぞれに紐付くレコードを把握しつつ管理 するのが大変です。 テーブル構成を管理しているのは客先なのですが、カラムが増えたり移動（別のテーブルに移動） したりして、末端の人間としては、既に作成したテストデータを変更するのが大変だ、という 悩みもあります。 テストデータ作成及び管理に良いツールはないでしょうか。 あるいは当該プロジェクトのための専用ツールを作った方が良いでしょうか。
SQL plusでSYSユーザーでログインするにはどうすればよいのでしょうか？ SYSTEMユーザーやSCOTTユーザーではログインできるのですが、SYSユーザーになる方法がわかりません。 お願いします。
昨日、OracleMastar試験(シルバー)に落ちてしまいました。 来週にでも再受験したいのですが、可能なのでしょうか？ 何かで同一試験は２週間の間隔を空けなければ受けれないというルールを聞いたことがある気がするのですが、受験ルールを読み直しすとそんな記述はありません。 私の気のせいだったのでしょうか？
OracleBronzeDBA10gを勉強中です。 Oracle管理経験はありません。 データベースのリカバリ作業のところで躓きました。 従来のリカバリ方法（RedoログファイルとデータファイルのBKファイルのリストアによるリカバリ） とフラッシュバックデータベース機能の違いについてご教授下さい。 従来のリカバリ方法は、復旧までに手間と時間がかかりそうですね。 しかしフラッシュバックデータベース機能を利用すると短時間で復旧できそうです。 http://otndnld.oracle.co.jp/products/database/or … ここには 『 フラッシュバック・データベースを使用するためのパフォーマンス・オーバーヘッドは2%未満です。 本番データベース用のパフォーマンス・オーバーヘッドを少しでも犠牲にしたくない場合は、フラッシュバック・データベースの使用を慎重に検討する必要があります。 ・・・（中略）・・・ （フラッシュバック・データベースには）次のようなメリットがあります。 ●バックアップのリストアにかかる時間が短縮される。 ●スタンバイ・データベースのREDOの適用遅延がなくなる。 ●予期しないエラーの訂正。 』 と載っています。 Oracle10gからの新機能との事ですが、フラッシュバックデータベース機能を利用してリストアするなら、 アーカイブRedoログを取っておく必要はないということでしょうか。 あるいはREDOログによる従来の障害対応にはできるけれど、フラッシュバックデータベース機能には出来ない事があるのでしょうか。
PL/SQLで処理が長時間になるプログラムがあり、 そのプログラムを４回実行する必要があります。 時間短縮のために平行で処理ができるかネット等で調べたのですが、 どうもできそうにない（解決方法を見つけることができなかった）ので質問させていただきました。 複数のプロシージャを一つのメインプロシージャから平行して実行させることは、可能でしょうか。 ORACLEのバージョンは、 10.2.0.1.0　です。
SQLplusで ed コマンドを入力すると 保存ファイル"afiedt.buf"を作成できません と表示されます。 どうしたらよいでしょうか。
SQL plus で文の途中でEnterキーで改行ってできないのでしょうか？ 例えば、 SELECT 社員番号, 社員名, 給与 とまで書いて、社員名の前にカーソルを置いてEnterを押しても、社員名以降の文は改行されずにカーソルだけ２行目に行ってしまいますよね。 ここで社員名以下の文を２行目に移そうとすると、社員名の前にカーソルを置いて、ひたすらスペースキーを押し続けるしかないのでしょうか？ ワープロソフトみたいにキー一発で改行ってできないのでしょうか？
環境は、Windows Server 2003、Oracle 9.2.0.6.0 になります。 userAが持っている表、ビューの参照権限を userBに与えようと思います。 userAでログインし、以下のSQLを発行したところ、 　grant select any table to userB; 以下のエラーが出ました。 　ORA-01031：権限が不足しています。 これは、userAに権限を付与する権限がないのだと 理解しました。 ■疑問１ この現象は、userAに権限を付与する権限がない との理解で正しいでしょうか？ また、userAに「権限を付与する権限」を付与するには どのようなSQLを発行すればよいでしょうか？ ■疑問２ systemユーザでログインし、userBに権限を与える方法も あると思います。 その場合、以下のSQL文になると思います。 　grant select on userA.testtable to userB この場合、表、ビュー1つずつ与える必要がありますが、 　grant select any table to userB; のように、全ての表、ビューを参照権限を与えることはできるでしょうか？
Oracle10gから DROP TABLE で削除された表は、物理的には削除されず表の名前が変更され、表および関連するオブジェクトがリサイクル・ビンに配置されるようになりました。パーティション表も同様ということは理解できました。さてここで疑問に思ったのが ALTER TABLE DROP PARTITION で削除されたパーティション表内の1パーティションもリサイクル・ビンに配置されフラッシュバックできるのでしょうか？
sqlのselectが長時間にわたって終了しないのでヒント句でHASH指定をしたところ、アナライズのサンプルレートにより効いたり、効かなかったりします（実行計画で確認）。こんなことはあるのでしょうか。 ちなみにoracle10G-R2です。
識者の方々、どうかお教えください。 昨日データメンテナンス中に、保守プログラムがとまってしまいました。　サーバーを再起動して、Oracleをスタートしたところ、データベースに接続できなくなっていました。 色々調べましたが、以下の状態から進むことができません。 恥ずかしながらバックアップはとっていませんでした。 なんとか復旧する手だてはあるのでしょうか？ -------------------------------------------- SQL>connect sys/Oracle as SYSDBA アイドル・インスタンスに接続しました。 SQL>startup ORACLEインスタンスが起動しました。 Total System Global Area 1826944268 bytes Fixed Size 70924 bytes Variable Size 49324416 bytes Redo Buffers 77824 bytes データベースがマウントされました。 ORA-01589: データベースをオープンするにはRESETLOGSまたはNORESETLOGSを使用する必要があります SQL> alter database open resetlogs; alter database open resetlogs * 行1でエラーが発生しました。: ORA-01152: ファイル1は十分に古いバックアップからリストアされていません。 ORA-01110: データファイル1: '/opt/oracle/oradata/o10g/system01.dbf' SQL>recover database using backup controlfile until cancel; ORA-00279: 変更 25084677(04/20/2009 12:11:39で生成)にはスレッド１が必要です。 ORA-00289: 検討すべきログライル: D:\ORACLE\ORA81\RDBMS\ARC87062.001 ORA-00280: 変更 258365040(スレッド1)は順序番号 87062に存在します。 ログの指定：[<RET>=suggested | filename | AUTO | CANCEL} auto ORA-00308: ORA-27041: OSD-04002: ファイルをオープンできません。 O/S-Error: (OS 2) 指定されたファイルが見つかりません。 ORA-01547: 警告：RECOVERは成功しましたがOPEN RESETLOGSが次のエラーを受け取りました。 ORA-01194: ファイル1は一貫した状態にするためにさらにリカバリが必要です。 ORA-01110: データ・ファイル１:D:\ORACLE\ORADATA\MYCOMPANY\SYSTEM01.DBF ----------------------------------------------------------
初心者です。 フォームに入力された、EMPNOとEMP_IDに一致するデータ（複数の場合あり）を取得するSQL文なのですが、参考にしようとしているコードがいまいち理解できなくて困っています。特にグループ化と結合のあたりがよくわかりません。どなたか、詳しく教えていただけないでしょうか？よろしくお願いします SELECT EMPINFO_A.EMPNO, EMPINFO_A.EMP_ID, EMPCD_CDA.CDA_NAME || EMPCD_CDB.CDB_NAME AS EMPCD_CDNM, NVL(EMPINFO_MAP_VIRTUAL.EMPINFO_COUNT, 0) AS EMPINFO_MAP_COUNT FROM EMPINFO_A, EMPCD_CDA, EMPCD_CDB (SELECT COUNT(*) AS EMPINFO_MAP_COUNT, EMPNO,EMP_ID FROM EMPINF0_MAP WHERE EMPNO = :P_EMPNO AND EMP_ID = :P_EMP_ID GROUP BY EMPNO, EMP_ID) EMPINFO_MAP_VIRTUAL WHERE EMPINFO_A._EMPNO = :P_EMPNO AND EMPINFO_A.EMP_ID = :P_EMP_ID AND EMPINFO_A.EMPNO = EMPINFO_MAP_VIRTUAL.EMPNO(+) AND EMPINFO_A.EMP_ID = EEMPINFO_MAP_VIRTUAL.EMP_ID(+)
OracleBronzeのSQL基礎の本に 「一般的に主キーの値は変更できない。」 とあるのですがこの一般的にというのは子レコードが存在する場合でしょうか？ 子レコードを持たない主キーをUpdate文で更新してみましたが、すんなり更新できたのですが・・・
DBサーバー(Oracle10g)でCPU使用率が１００％近くとなり、システムを調べたところ、どのSQL文が遅いかを特定する事はできました。 SQL文の見直しはするとして、それでも改善できない場合、高速化にはどのような手立てをするものなのでしょうか？ 自分の考えでは↓を考えています。 ・SQL見直し ・VIEWを使う あらかじめ特定のテーブルを結合しておけば速くなる？と思っています ・ストアドプロシージャーにする すいませんがよろしくお願いします。
accessでoracleとODBC接続しています。access2003です。oracleは最新。 oracleのテーブルの項目数が２５５を超えています。 ACCESSの制限とか（？）で項目が３５０位あるので１００項目くらいがリンクできません。VBAからselect文で（Select　SYA_ID　from　IDOU）起動してもエラーになってしまいます。 何とか後ろのほうの項目を取得する方法は無いでしょうか？ ご指導のほど宜しくお願い致します。
Oracle Mastar Bronze 11gに合格しましたので、次はSilverの勉強をしようと思っています。 しかしSilver11gのテキスト(翔泳社の黒本)はまだ発売されていないようです。 しかたがないので10gで勉強しようと思っているのですが、10gと11gは大きな違いはあるのでしょうか？
お尋ねします。レコードの追加削除を繰り返すと、次に追加する際に主キーＩＤが飛び番になってしまう。ID:1,2,4,6,7 などになりますが、次回、追加する際、飛び番を埋めるIDを 自動で探し出すsql文などあるのでしょうか？ for文などで自分で飛び番を探すしかないのでしょうか？
こんばんわ。 Oracle Mastar Silver DBA 10g試験を来週にも受験しようとプロメトリックにて申し込みを終えたのですが、ふとあるサイトにてSilverを取得するにはBronze資格が必要要件と記載してあるのを見つけました。 色々と検索して調べましたが、確かに必要要件とありますが、申請時にBronze資格のコピーを添付する等具体的なことまでは記載がありませんでしたし、申し込み時にも特に何ら制約を受けませんでした。 どなたかご存知の方いらっしゃいましたらご教授いただけませんでしょうか？ 特に実際に取得した方からご回答いただければ幸いです。 どうぞ宜しくお願い致します。
Oracle9iにてUNDO表領域を自動拡張ではないため手動にて拡張(512M→1024M)しようとしております。 UNDO表領域：/oradata/undotbs01.dbf 表領域をオフライン(alter tablespace '/oradata/undotbs01.dbf' offline;)にすることなく以下のSQL文のみで拡張することは可能でしょうか？ SQL> alter database datafile '/oradata/undotbs01.dbf' resize 1024M; ご教授の程、宜しくお願い致します。
行ないたいこと group by avgのSQLで、0とnull値は、平均値の計算から省きたい 各フィールドの平均値を出力したいのですが、 0とnullの値は、平均値の計算から省いて計算する必要があります。 (分母にカウントしません) 平均値を求めるフィールドが、1つだけなら、条件式を作成することが出来たのですが、同時に３つのフィールドの計算を求める必要があります。 環境：oracle10 -table hoge 日付, a , b, c 5/4 200,null,50 5/5 200,100,0 5/6 200,null,100 期待する値（各フィールドの平均値、だたし0とnullは分母から除外） a = (200+200+200)/3 = 200 b = 100/1 = 100 c = (50+100)/2 = 75 質問1. このようなSQLは実現可能でしょうか？ 質問2. 実現可能であれば、ご教示いただきたいのですが… よろしくお願いいたします。
いつもお世話になります。 GROUP BY ,　MAX の使用法に関して質問です。 USERCDとKYOUTUNOでグルーピングをしてSEQの最大値のレコードを抽出しようとしています。 以下のようなSQL文の場合ですとBIKOUがないレコードを抽出する事が出来るかと思います。 【select USERCD , KYOUTUNO , MAX(SEQ) from テーブル１　group by USERCD , KYOUTUNO】 そこで、BIKOU　も同時に抽出したいのですが、BIKOUを選択列に入れると「GROUP BYの式ではありません。」のエラーが出ます。 「そりゃそうだ」だと思うのですが、どうのようにすればSQL文を作れば結果のようなレコードを抽出出来るのでしょうか？ よろしくお願いします。 ◆テーブル１のデータ USERCD KYOUTUNO SEQ BIKOU ------------------------------------- 100 100 1 あああああ 100 100 2 いいいいい 100 100 3 あいうえお 222 200 1 ＡＡＡＡＡ 222 200 2 ＡＡＡＡＡＡ 3333 100 1 うううううう 44444 100 1 ううううう 44444 100 2 えええ ◆結果 USERCD KYOUTUNO SEQ BIKOU ------------------------------------- 100 100 3 あいうえお 222 200 2 ＡＡＡＡＡＡ 3333 100 1 うううううう 44444 100 2 えええ ■ORACLEのバージョン 　Oracle9i
Oracle初心者です。 ODBC接続したいのですがうまくいきません。 【環境】 win2003サーバ（XPに上にVirtualPCを使ってたてたサーバ）：Oracle9iインストール winXP：Oracle9iのインストールCDからODBCドライバのみインストール 【作業内容】 ○Win2003サーバ ・Net Configuration Assistant で ローカル・ネット・サービス名を登録し 　正常に接続できることを確認。 ・DSNを登録し接続テストを実施　→　成功。 ○WinXP ・DSNを登録し接続テストを実施　→　失敗。 　 　接続できませんでした。 　SQLState=08004 　[Oracle][ODBC][Ora]ORA-12154:TNS：サービス名を解決できませんでした。 　 　という上記エラーメッセージが表示されます。 　何か根本的に間違っているのかもしれませんが解決策がわかりません。 　どうかお力を貸して下さい。 　よろしくお願いします。
Oracle9i Enterprise Edition R2の環境下で 以下のような２つのテーブルをを結合し [Output]の内容を抽出したいと思っております。 Ａ table (顧客) **************************************** ID name A001 Robart A002 Todd Ｂ table (履歴) **************************************** ID name Date B001 A001 08/04/01 B002 A001 09/04/30 B003 A001 09/04/10 B004 A002 09/02/13 B005 A002 09/03/02 [Output] **************************************** A.name B.ID B.Date A001 B002 09/04/30 A002 B005 09/03/02 Ａテーブル単位にＢテーブルの最新日付の レコードを結合して抽出したいのですが、 MAX関数を使い試行錯誤しているのですが、 うまく行きません。どうか結合方法をご教示ください。 宜しくお願い致します。
Oracle/DB2のデータ作成ツールを探しています。 ご存知であれば、教えてください。 要求： Excelで作ったデータを直接DBに登録できること DBからデータを取得してExcelに出力できること PKの関係で自動的にデータを作成することができること 可能であれば、Excelの列単位で自動的に指定されたタイプでデータ作成できること Excelにテーブル定義を取得できること
WITH句を使用して総件数と1～20件までのデータを同時に取得するSQLを組んでみたところ、 WITH TMP AS (SELECT ROW_NUMBER() OVER (ORDER BY NO) AS CHECKROWNUM,NAME FROM TEST_TBL ORDER BY NO) SELECT T1.ALLCNT, T2.* FROM (SELECT COUNT(*) ALLCNT FROM TMP) T1, TMP T2 WHERE T2.CHECKROWNUM BETWEEN 1 AND 20; Oracle10.2.0.3.0のバージョンで ALLCNTが21になってしまう現象が発生してしまいました。 Oracle10.2.0.4.0や9iでは発生せず正しい総件数が取得できるのですが、 バージョンによる不具合は考えられますでしょうか。 それともSQL自体なにか悪い部分があるのでしょうか。 ちなみに T2.CHECKROWNUM BETWEEN 1 AND 100; と帰るとALLCNTが101と帰ってきます。 また、WITH句を使わず下記のようにTMPの部分をWITH句で使用したSQLに 置き換えると正しくALLCNTが取れます。 SELECT T1.ALLCNT, T2.* FROM (SELECT COUNT(*) ALLCNT FROM (SELECT ROW_NUMBER() OVER (ORDER BY NO) AS CHECKROWNUM,NAME FROM TEST_TBL ORDER BY NO)) T1, (SELECT ROW_NUMBER() OVER (ORDER BY NO) AS CHECKROWNUM,NAME FROM TEST_TBL ORDER BY NO) T2 WHERE T2.CHECKROWNUM BETWEEN 1 AND 20;
SELECT文のFROM区にはテーブル名が並びますが、 SELECT … FROM TSCD001, TSCD002 TSCD002_SK, TSCD003 CT1001, TSCD004 TSCD004a WHERE … のように記述されているSELECT文があります。 FROM区の１行目（TSCD001）は理解できますが、 質問(1) ２行目　『TSCD002 TSCD002_SK』のような書き方はどのような 意味をもつのでしょうか？TSCD002はテーブル名だということは 分かっています。TSCD002_SKは何でしょう？ (４行目も同様のパターンのようです）　 質問(2) ３行目　『TSCD003 CT1001』のTSCD003はテーブルであり、 CT001もテーブルでした。このようにテーブルを半角スペースで 並べて書くのはどのような意味があるのでしょうか？
RMANのバックアップ永続設定を検討しています。デフォルト設定の中に「CONFIGURE DEVICE TYPE DISK PARALLELISM 1 BACKUP TYPE TO BACKUPSET; # default」と 「CONFIGURE DATAFILE BACKUP COPIES FOR DEVICE TYPE DISK TO 1; # default」があるのですが、これらの違いは何でしょうか。全く分らず困っております。。。ご教示御願い致します。 また、デフォルト設定の細かい説明を知るには、どのサイトを見れば掲載されておりますでしょうか。
ROW_NUMBER()を使用してORDERした結果の５行目から１０行目を 取得したい場合、どこのサイトを参照しても下記(1)のように NOで並び替えたデータをインラインビューとして WHERE RNUM BETWEEN 5 AND 10 と条件を絞っていますが、(2)のように直接条件を指定した場合と どのような違いがあるのか教えてください。 (1) SELECT NO, NAME FROM ( SELECT NO, NAME, ROW_NUMBER() OVER (ORDER BY NO) RNUM FROM ROWNUM_TEST ) WHERE RNUM BETWEEN 5 AND 10 (2) SELECT NO, NAME,ROW_NUMBER() OVER (ORDER BY NO) RNUM FROM ROWNUM_TEST WHERE RNUM BETWEEN 5 AND 10
WindowsVistaで、Oracle 10.2.0トライアル版をインストールし DBCAでインスタンス作成をしようとしているのですが、エラーとなり作成できません。 グローバルデータベース名　orcl SID orcl エラー内容は、以下の通りです ディレクトリ"E:\oracle\product\10.2.0\db_2\cfgtoologs\dbca\orcl"を作成できません。 e:\oracleフォルダが読み取り専用となっているのが原因だと思うのですが、プロパティを開いて読み取り専用を外し、ＯＫとしてもはずれません。 Vistaにログインしているユーザーの権限は、e:\oracleに対してフルコントロールを与えています。 コマンドプロントで下記のコマンドを試してみましたが、全て「アクセスは拒否されました。」となります。 attrib -r /s /d e:\oracle よろしくお願いします
ＰＫＧ構築において、過去の実績からOracleを 使用する方向で検討中ですが、SQL Serverとの比較 を行った結果を添付するように顧客から依頼がありました。 保守性、可用性、性能、コスト等の視点から、 比較した情報等はありますでしょうか。 このご時世もあり、顧客からは低コストでの構築を依頼 されています。 こちらとしては、Oracleの実績しかなく、Oracleで押して行く 考えですが、根拠となるネタが欲しいです。 色んなサイトで調べては見ましたが・・・ ちなみに、構築環境は OS　：Windows Server 2008 Standard 言語：Microsoft Visual Studio 2008 Professional Edition DB　：Oracle Database 11g です。 親和性を考えたら、SQL Serverにした方が良いと言う声も聞こえて 来そうですが。 情報提供をして頂けたら助かります。 宜しくお願いします。
現在Ｂｒｏｎｚｅの問題を解いているのですが ある問題がどうしても納得できません。 ・接続記述子には、ネットワーク・ホスト名とデータベース・サービス名が含まれる -->これは正解で、理解できましたが ・接続識別子には、ネットワーク・ホスト名とデータベース・サービス名が含まれる。 -->問題の回答ではこれも正解となっているのですが、どうして正解なのかよく分かりません。 接続識別子は、接続記述子を識別する為のものですよね？ tnsnames.ora.sampleの hsagent = (DESCRIPTION= (ADDRESS=(PROTOCOL=tcp)(HOST=localhost)(PORT=1521)) (CONNECT_DATA=(SID=hsagent)) (HS=) ) 接続識別子は、hsagentで 接続記述子は、(DESCRIPTION=・・・) だと思っているのですが・・・ よろしくお願いします。
質問はずばり、SQLを「遅い」と判断する具体的な処理時間・判断基準は？ です。前提は比較的単純なSELECT文とさせてください。 パフォーマンスチューニングする際などにはSTATSPACK reportをみてとりあえず 1回あたりの処理時間が遅いSQLやStatement Totalの 処理時間が長いSQLを ターゲットにしていくものだと思います。 しかし極端な話、単に上位といってもトップのSQLの処理時間が1msec以下だったらそもそも パフォーマンスチューニングは一切必要ないはずです。 逆にTOP10以下でも単純なSQLなのに1秒以上処理時間のかかるものが多数あった場合には 何か問題があるはずと考えチェックしていくべきだと思います。 もちろん、データ数や結合テーブル数・条件の複雑さによって一概には言えないことはわかります。 しかし、大体の目安というものはあるべきかと思います。 私のなんとなくの判断基準は 「軽めのものは0.03秒程度、重めでも0.2秒程度」かなーと思っています。 経験的なものでまったく根拠はありません。経験も大してありません。 なので、もう少し根拠のある数字もしくはもう少し経験のある方のご意見 を伺いたいと思い質問させていただきます。 よろしくお願いします。
ただいまオラクルマスターのブロンズSQL基礎Iを勉強中です。 インデックスについて覚えたのですが、インデックスをつけた状態とそうでない状態の差が実感できません。 大量にデータが存在しないとわからないものだとは思いますが、なにか実感できる手段はないでしょうか？ SQLをたたいてから結果が返ってくる時間をしらべることができれば、ミリセックの違いでも感じられると思うのですが。 よい方法をご存知でしたら教えてください。
こんばんは。 スクラッチで開発を行っているものです。 SQLのレスポンスが悪いので、テーブルにインデックスを追加し、 念のためにsqlにヒント句をつけよう と上司から提案され、SQLのヒント句が正常に読み込まれるか確認を行いました。 しかし、オブジェクトブラウザで動作が遅くなることが確認できた(通常:1秒未満、ヒント句:10秒以上)ヒント句を使用したsql文をプロパティファイルに設定してもレスポンスはヒント句をつける前とつけた後で変わりませんでした。 オブジェクトブラウザで動作が遅くなっていることが確認済ですので、 ヒント句が正しくないためにヒント句が無効になっている と言うわけではありません。 スクラッチでは、ヒント句がコメントとみなされるため、ヒント句自体が意味ないのか、使用しているヒント句がスクラッチで推奨されていない(使用しているヒント区は「FULL(テーブル名)」です。)または、それ以外の理由なのか皆目見当がつきません。 もし、スクラッチでもヒント句を有効にする方法があれば教えていただきたいです。 どなたか、スクラッチにおけるSQL文について詳しい方いらっしゃいましたらお教えください。
FullScanしなければいけないテーブルがあるのですが、ReadOnlyのテーブルなので、キャッシュに乗るなら乗せて高速化したいと思っています。そのようなことは可能でしょうか？ 環境：Linux+Oracle10gR2
お世話になります。 複数レコードのデータを１レコードに集約したいのですが色々試してみましたが上手くいきません。 まず、以下のようなテーブルがあります。 TableA(キーはID) ID NO 1, 2 TableB(キーはIDとNO) ID NO SYU_NO FUKU_NO 1, 1, 1, 1 1, 2, 1, 2 1, 3, 2, 1 2, 1, 1, null 　　　・ 　　　・ TableC(キーはIDとKUBUNとNO) ID KUBUN(SYU or FUKU) NO START END KAKUNIN 1, 1, 1, 20090101, 20091231, 20090310 1, 1, 2, 20090201, 20091130, 20090310 1, 2, 1, 20090401, 20100331, 20090312 　　　・ 　　　・ これを、以下のようなレコードにしたいのですが・・。 ID START(SYU_NO) END(FUKU_NO) START(FUKU_NO) END(FUKU_NO) 1, 20090101, 20091231, 20090401, 20100331 以下のようなselect文を作成しましたが・・。 select A.ID || ',' || case when C.KUBUN = 1 then C.START end || ',' || case when C.KUBUN = 1 then C.END end || ',' || case when (C.KUBUN = 2 and B.FUKU_NO = C.NO) then C.START end || ',' || case when (C.KUBUN = 2 and B.FUKU_NO = C.NO) then C.END end || ',' || from TableA A inner join TableB B on A.ID = B.ID and A.NO = B.NO inner join TableC C on B.ID = C.ID and ((C.KUBUN = 1 and B.SYU_NO = C.NO) or (C.KUBUN = 2 and B.FUKU_NO = C.NO)) ; 以下のような結果が返ってきます。 ID START(SYU_NO) END(FUKU_NO) START(FUKU_NO) END(FUKU_NO) 1, 20090101, 20091231, , 1, , , 20090401, 20100331 実は別サイトでも投稿しておりますが回答がなく大変困っております。 どうか宜しくお願い致します。
アクセステーブル ---------------------------------------------- 機種 回数 アクセス日時 ------ ---------- ------------------- win 1830 2009/03/16 09:10:10 win 1818 2009/03/16 09:10:13 win 1823 2009/03/16 09:10:21 win 1825 2009/03/16 09:10:24 win 1828 2009/03/16 09:11:51 win 1818 2009/03/16 09:11:53 win 1818 2009/03/16 09:11:54 win 1831 2009/03/16 09:11:55 win 1138 2009/03/16 09:11:57 win 1825 2009/03/16 09:11:58 win 1822 2009/03/16 09:12:02 win 1827 2009/03/16 09:12:04 上記のアクセスログを記録するテーブルがあり、 一分間ごとに下記の集計をしたいのです。(例 : 9:11台) (初回は各分の最初の時間の回数、機種はすべてwin) 機種 アクセス日時 初回 最小 最大 最終 ------ ------------------- ---------- ---------- ---------- ---------- win 2009/03/16 09:11 1828 1138 1831 1825 win　　　　以下、12分台と続きます。 これを抽出するSQLはどう書けばよいのでしょうか？ よろしくお願いいたします。 DBはOracle9iです。
オラクルブロンズDBA11gの勉強をしております。 テキスト通りにOracleの操作をしているのですが、つまづいてしまいました。 DatabaseControlからデータベースの優先資格証明がおこなえないのです。 SYSDBAユーザ：SYS SYSDBAパスワード：Oracleインストール時に設定してSYSのパスワード ホストユーザ名：ログインしているユーザ ホストパスワード：ログインしているユーザのパスワード を入力してテストボタンを押すのですが、「ユーザー○○○としての○○○への接続に失敗しました」 とのエラーメッセージが表示されています。 ログインしているユーザはAdministartorsとora_dbaのグループに所属しています。 なにが問題なのか全くわからない状態です。 どうか教えてください。
こんにちは、よろしくお願いします。件名のエラーで困っています。 発生しているのはSQLStudio(1.3.10.443)で、データベース接続時に件名のエラーが発生します。(Oracle10g(10.2.0.1.0)) tnsnames.oraの内容とも合致している様子です。 またNet Managerのテストでは問題なく接続できます。 どなたか同様の経験をお持ちの方、いらっしゃいませんか？ <tnsnames.ora>------------------------------------------ xxx_SVR = (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = TCP)(HOST = server01)(PORT = 1521)) ) (CONNECT_DATA = (SID = sid) ) ) ※server01は、hostsで解決済み <SQL Studioの接続文字列>------------------------------------ Provider=OraOLEDB.Oracle.1;Persist Security Info=False;User ID=userid;Data Source=xxx_SVR ・・・如何でしょうか？ ちなみに同様の設定を行っている「ハズ」の同僚は、問題なく接続できています。
likeで文字列を検索する際に、ひらがなとカタカナの区別を無効にして検索するようなことは可能でしょうか？ よろしくお願いします。 環境：oracle10gR2
オラクルマスターのBronzeSQL基礎の勉強をしております。 テキストでDATE型の説明を読んで「日付、時刻を含む固定長７バイトの日付データ型」と書かれていてアレッと思いました。 日付と時刻はデータベースではどのように持っているのでしょうか？ ご存知のかたがおられましたら教えてください。
ノーアーカイブログモードからアーカイブログモードへ変更する際の手順に関してご教授願います。 (1)shutdown immediate; (2)startup mount (3)alter database archivelog; (4)archive log list;　　←確認 (5)alter database open; (1)～(5)の手順は理解できています。上記以外に 初期化パラメータを変更しなければならないと思うのですが(LOG_ARCHIVE_DEST_n)、initファイルの差し替えはどの段階ですればいいでしょうか？ また、上記手順以外に行うことはありますでしょうか？ 使用しているＯＳはＨＰ‐ＵＸです。
先日、試用版oracleDB 11gを自宅のwindowsにインストールしました。 しかし、Enterprise Managerに接続できません。 リスナー、dbconsole、DBはそれぞれすべて起動していますし、 コマンドプロンプトでEnterprise Manager 11g is runnning　の表示も 確認しています。 しかし、いざブラウザでhttp://localname～に接続しようとすると 上手くいきません。 IEの場合は、ただ真っ白い画面が表示されるだけ。firefoxで試してみても 「emというフォルダをダウンロード」といったわけのわからないサブ画面 が表示されるだけです。 おそらくブラウザかネットワーク設定の問題だと思うのですが、 どなたか解決方法をアドバイスいただけないでしょうか。 宜しくお願いいたします。
Oracle試験の受験を考えていますが、どのレベルを受験するのが良いかアドバイスをお願いします！ ■自分の今のスキル Oracleは全く触ったことがありません。SQL Serverは、まぁまぁ分かります。システム部でシステム管理やメンテナンスをしていますが、プログラミングはさっぱりです（概念ぐらいは分かりますが）。 ■目的 部署異動の希望を出したいと思っています。 そこでやる気を感じさせるため、Oracleの試験に合格していることを示したいと思っています。 なので、今の時点では、ペーパー（実務は分からない）でもいいから、早めに資格を取得したいと思っています。 期間は、1ヶ月ぐらいで結果を出したいので、それくらいの期間で合格できそうな範囲を狙いたいです。勉強時間は、平日1時間、土日6時間ぐらいを考えています。
テーブルＡとテーブルＢは1：Ｎの関係です。 取得したい値が上手く取れないため、テーブルＡにテーブルＢのJOINを２回実行して取得している為、パフォーマンスが悪いです。 １回で取得する方法、もしくはパフォーマンスが良い方法があれば教えてください。 ■テーブルＡ（PKはａ1） ａ1 001 002 003 ■テーブルＢ（PKはｂ1,ｂ2,ｂ3） ｂ1　　ｂ2　　ｂ3　　　ｂ4 001　　1　　　3　　　aaa 001　　1　　　2　　　bbb 001　　1　　　1　　　ccc 001　　2　　　3　　　ddd 001　　2　　　1　　　eee 002　　1　　　1　　　fff 002　　2　　　3　　　ggg 002　　2　　　2　　　hhh ■取得したい結果 ａ1　　　ｂ4-1　　　　ｂ4-2 001　　　　aaa　　　　ddd 002　　　　fff　　　　　ggg
Oracle 10gについて教えてください。 OS:RHEL5 Oracle 10g R2 まったくの素人なのですがRMANについて教えてください Oracleのバックアップでサードパーティのソフトでは バックアップソフトを使用する際、ARCHIVELOGは必須と 書いてあるのとRMANが必須と書いてあるのとそれぞれあり RMANが必須の場合は設定はどこをいじればいいのか というのがよくわかりません。 Oracleインストール時に設定はするまたはされるものなのでしょうか？
現在Oracle10gデータベースにインスタンスが作成してあります。 そこにもう一つインスタンスを追加したいのですが既存のインスタンスを停止する必要があるのでしょうか？ ご回答よろしくお願い致します。
こちらのOracle掲示板に投稿したいのですが、ログインできません。 http://otn.oracle.co.jp/forum/index.jspa?categor … 投稿のためにアカウントを登録したのですが、そのアカウントがログイン時にエラーになってしまいます。 また、以前SQL Developerをダウンロードするためにもアカウントを登録したことがあるのですが、そちらのアカウントでもダメみたいです。 そもそも、機能ごとにアカウントが別々に必要なのでしょうか？ 掲示板に投稿するための条件を教えていただけないでしょうか。
科目別受講時間の構成比をRAITO_TO_REPORT関数を使って求めたいと思っています。 以下ですとWHERE句で利用者を特定しての構成比は求まるのですが、where句を除き例えば全利用者で抽出を行うと当然ですが全体の合計jikanの構成比が求まります。 構成比を個人別にしつつ利用者全員を抽出するSQL文の書き方がわかりません・・・。わかる方どうかお教えてください。 SELECT riyousya, kamoku, sum(jikan), to_char(RATIO_TO_REPORT(sum(jikan)) over() * 100,'90.00') || '%' as kouseihi FROM テーブルA WHERE 　riyousya = yamada GROUP BY riyousya,kamoku
本日からオラクルブロンズDBA11gの勉強をはじめました。 いきなりつまづいてしまったのですが、DataBaseControlを起動するためにOracleDBconsoleORACLE_SID名というサービスを起動しようとしたら、「サービスの開始ができません」というエラーメッセージがでました。 どうもネットワークにつなげていないマシンだったのが原因のようなのですが、Oracle勉強用端末は事情があってインターネットに接続できません。 ローカルだけでDataBaseControlを使う方法はないのでしょうか？
【テーブル：A】 A_Year A_Month A_Day A_No A_CNo --------------------------------- 2009 03 06 1111 01 2009 03 06 1111 02 2009 03 06 1112 01 .. 【テーブル：B】　（CNo1～99までの固定。CNameの中身が時々更新される。） CNo CName ----------- 01 Item1 02 Item2 03 Item3 .. 99 Item99 **************************************** AとBのテーブルから、 Aにある[2009/03/06]の[A_No=1111]に入っているA_Cnoを見て、 テーブルBの[CName]が取得したいのですが Select B.CName from A,B WHERE A.A_Year='2009' AND A.A_Month='03' AND A.A_Day='06' AND A.A_No='1111' AND A.A_CNo=B.CNo では該当のデータはDBにあるのですが、上手く取得できません。 BテーブルにあるCNameはAテーブルに項目を追加しないとダメなのでしょうか？ すいませんがどなたかご教授ください。 環境： Oracle9i＋ExcelVBA(ODBC)
oracle9iのバックアップをoracle10gにリカバリが成功しました。 しかし、oracle10gにoracle9iのバックアップが入っている為、oracle10gとして使用できるのか調査中です。 やりたいことは、oracle9iをoracle10gにアップグレードすることです。 説明が下手で申し訳ごさいませんが、ご教授お願いいたします。
まず、経緯から書きますと、 レコードINSERT処理（Access）にて表領域不足エラーが出たため、 以下コマンドにてデータファイルを追加しました。 ALTER TABLESPACE USERS ADD DATAFILE '/db3/oradata/ora805/datafile09.dbf' SIZE 1000M; ところが、以下のエラーが出ました。 エラー行: 1: エラーが発生しました。 ORA-19510: 207360ブロックのサイズ設定に失敗しました 　　(ファイル"/db3/oradata/ora805/datafile09.dbf"、ブロックサイズ=2048)。 ORA-27059: skgfrsz: ファイル・サイズを削減できません。 SVR4 Error: 28: No space left on device Additional information: 2 ORA-19502: ファイル"/db3/oradata/ora805/datafile09.dbf"の書込みエラー。 　　ブロック番号: 207105(ブロックサイズ=2048) ORA-27063: skgfospo: 読込み/書込みのバイト数が正しくありません。 SVR4 Error: 28: No space left on device Additional information: -1 Additional information: 131072 まず、このエラーの詳細が正確に理解できていない状況なのですが、 なんとなく、これは、空き容量がないところに1000Mのデータファイルを 作成しようとして、大きすぎて作成出来ませんというエラーを返された、 と解釈しました。 それで、sqlplusにてデータファイルの一覧を見てみると、 追加しようとしていたdatafile09.dbfは確認できませんでした。 表領域　ファイル名　　　　　　　　　　　 サイズ　自動追加 ---------------------------------------------------------- USERS /db1/oradata/ora805/datafile01.dbf 4194304 NO 0 USERS /db1/oradata/ora805/datafile02.dbf 2097152000 NO 0 USERS /db1/oradata/ora805/datafile03.dbf 2097152000 NO 0 USERS /db2/oradata/ora805/datafile04.dbf 2097152000 NO 0 USERS /db2/oradata/ora805/datafile05.dbf 1048576000 NO 0 USERS /db2/oradata/ora805/datafile06.dbf 996147200 NO 0 USERS /db3/oradata/ora805/datafile07.dbf 2097152000 NO 0 USERS /db3/oradata/ora805/datafile08.dbf 1887436800 NO 0 ところが、OS（Solaris5.6)に戻って、 /db3/oradata/ora805 フォルダの一覧を確認しますと、 以下のように datafile09.dbf が出来ていました。 -rw-rw---- 1 oracle dba 2097154048 13:52 datafile07.dbf -rw-rw---- 1 oracle dba 1887438848 13:52 datafile08.dbf -rw-rw---- 1 oracle dba 1048578048 14:32 datafile09.dbf ここから、質問なのですが、 １）なぜ、datafile09.dbf は OSでファイルが認識されているのに、 sqlplusでデータファイルを一覧したときには表示されないのか。 ２）datafile09.dbf をいったん消したいのですが、 OSレベルで datafile09.dbf を削除してもオラクルに悪影響は 出ないのでしょうか。正しい消し方がわかりません。 以上です。 どなたかアドバイスいただけないでしょうか？ よろしくお願いいたします。 Ver:Oracle8 OS：SunOS 5.6（Solaris)
SQL*Plusを使ってOracli9iのレコードをdeleteしたのですが、commitを忘れたままパソコンから離れ、パソコンの前に戻ったときにSQL*Plusがデータベースから切断されていたので、もう一度接続して同じレコードのdeleteを実行したのですが、SQL*Plusがフリーズしてしまって削除することが出来なくなっていました。commitしても正常にデータベースにそのレコードの削除が反映されません。どうすればそのレコードを削除出来るようになるのでしょうか？
oracleクライアントのバージョンアップを行いたいのですが、手順がわかりません。 現状は、旧バージョンのアンインストール→新バージョンのインストールを考えておりますが、この方法でよいのでしょうか？ また、注意する点などありましたら教えてください。 Oracleクライアントのバージョンは、8.15→9.20です。 OSはWindowsNT4.0です。 宜しくお願いします。
Oracle Enterprise Manager 10gを使用しています。 バックアップファイルからデータのリカバリを したいのですが、思うようにうまくいかないため、 投稿させていただきます。 Oracle Enterprise Managerの 【メンテナンス】タブ⇒【リカバリ実行】 を選択し、リカバリの実行画面に遷移します。 次に、【データベース全体のリカバリの実行】を選択後、 「リカバリ・ウィザード」画面に遷移し、データベースの起動状態を OPEN状態からMOUNTED状態にします。 数分待ち、【リフレッシュ】を押下し、「データベース・インスタンス」画面に 遷移後、【リカバリの実行】を選択します。 【リカバリの実行：資格証明】画面でユーザー名、パスワードを入力後、 【続行】を選択します。 すると、【リカバリの実行：資格証明】画面へ遷移し、 「エラー」と表示されてしまいます。 エラーの詳細を見ると、 SQL> SQL> ERROR: ORA-01031: insufficient privileges と表示されております。 これが表示されているため、リカバリができず 原因すらわからない状態です。 この対処法について、ご教授していただければと 思っております。 以上、宜しくお願い致します。
SQL初心者です。以下のような商品テーブルの備考欄の文字列をアップデートするＳＱＬですが、ひとつのＳＱＬ文で実行させるにはどのように記述すれば良いかお教えいただけませんでしょうか？ UPDATE 商品テーブル SET 備考フィールド = replace(備考フィールド,'%明太子味',''); UPDATE 商品テーブル SET 備考フィールド = replace(備考フィールド,'のり味',''); UPDATE 商品テーブル SET 備考フィールド = replace(備考フィールド,'みそ味','');
はじめまして 現在、oracle9iを使い、開発しています。 宜しければご回答の方をお願い致します。 スキーマAAAにあるテーブルBBBをテーブルデータは不要として スキーマCCCに同じ定義のテーブルBBBをコピー作成したいと考えています。 どのように行えば、良いのでしょうか。 当方、初心者ですが、何卒ご回答の程、よろしくお願い致します。
突然の書き込み失礼いたします。 現在ORACLE MASTER Bronzeの取得を目指して勉強しようと 思っております。 資格取得に関しましてご質問ありまして書き込みをさせて頂きました。 ORACLE MASTER Bronzeの資格ですが、こちらの取得には (1)「Bronze SQL基礎I　 1Z0-017J 」 もしくは (2)「Bronze SQL基礎I　 1Z0-017J 」　＋　「Bronze SQL基礎I　 1Z0-017J 」 の(1)もしくは(2)に合格している必要が在ると記載がありました。 こちらの資格取得後 「Bronze DBA10g1Z0-041J」を受験しこちらを合格してやっとORACLE MASTER Bronze合格 となるのでしょうか。 また、試験内容ですがプログラミングは問題として出てくるのでしょうか。 極端ですがSQLがまったく知らない人でも、解き進める事は可能でしょうか。 また、ご使用になられました参考書、WEB等御座いましたらお教え頂けましたら 幸いで御座います。 一方的な内容になってしまいましたが、ご回答頂けましたら幸いで御座います。 よろしくお願いいたします。
Oracle 8i ですと、DBA Studioというデータベースを管理するツールがありました。 このツールは、データベースの管理だけでなく、エクセルのようなGUI上で、表のレコードを取得したり、レコードの挿入や、値の更新、レコードの削除も可能です。 Oracle 9i 以降のバージョンでは、DBA Studioがないようです。 代わりのものとして、Oracle Enterprise Managerというものになるのでしょうか？ 操作してみたところ、データベースの管理や、表のレコード取得はできるようですが、エクセルのようなGUIからのレコードの挿入・更新・削除はできないようです。 Oracle Enterprise Managerにも、そのような機能があるのでしょうか？それとも、他にそのような機能を持つツールがあるのでしょうか？
お世話になってます。 Oracle Database 10g Release 2(10.2.0) for Microsoft Windowsをインストール使用したのですが、以下のエラーが発生し実行できません。 この原因は解決できるのでしょうか？ oui.exe　コンポーネントが見つかりません。 ×apphelp.dllが見つからなかったため、このアプリケーションを開始できません。アプリケーションをインストールし直すとこの問題は解決される場合があります。 よろしくお願いします。 OSは、Vistaです。
セッションのtime zoneは、デフォルトでGMTになっているようです。 time zoneを'Asia/Tokyo'にする場合、各セッションで、alter文を使って、セッションのtime zoneを変えればいいのですが・・・ どこかのファイルを変更すれば、デフォルトを'Asia/Tokyo'にしてしまうなんてことはできないものでしょうか?
SQLでグルーピングしてやや複雑な集計する方法 こういうことってやりたい時あるよなーと思いつつ いい方法が思い浮かばないので質問させてください。 日付ごとにタイプなどの条件により集計して、 1行で1日分のデータを並べて出力したいと思っています。 とりあえずイメージを提示します。 テーブルイメージ -------------------------- 日付　　　　　額　タイプ 20090101　　5000　　1 20090101　　1000　　1 20090101　　3000　　2 20090101　　2000　　2 20090101　　-200　　4 20090101　　3000　　4 20090101　　2000　　4 20090102　　1000　　1 20090102　　1000　　2 20090102　　1000　　2 20090102　　-100　　4 20090102　　4000　　4 20090102　　3000　　4 -------------------------- 出力イメージ ----------------------------------------------------- 日付　　　タイプ1　タイプ2　タイプ4(正)　タイプ4(負) 20090101　　　6000　　　5000　　　5000　　　-200 20090102　　　2000　　　2000　　　7000　　　-100 ----------------------------------------------------- 複問い合わせを駆使すればできるような気もするのですが、 日付で集計しなければならないところが難しく感じています。 合計が0(というか対象データが無い場合)の部分は空白でもかまいません。 データベースはOracleですがOracleだけでしか使えない特殊な機能ではなく 普通のSQLの組み合わせで解決したいと思っています。 (でもOracle固有の機能で解決できるのならそれも教えていただきたいです) 基本的に1発のSQLで表形式で帰ってくるSQLの書き方をお願いします。 できれば、SQLそのものを記述していただきたいです。 何回かSQLを発行してあとでエクセルで…とか、他のPG言語でなんとかする という方法は今回はいりません。 よろしくお願いします。
Oracle9.2.0のデータベースにphpから接続を行おうとしているのですが、上手く接続ができません。 ORA-12154: TNS: サービス名を解決できませんでした、とログに表示されます。 ちなみに、sqlplusでの接続は確認できました。 何方か解決策を教えていただけませんでしょうか。
無償版のオラクル「OracleXEUniv.exe」をダウンロードしてWindows Vista Home Premiumにインストールしました。 スタートボタンから「データベースのホームページに移動」を実行したらブラウザに下記のエラーが表示されました。 どうしてでしょうか？ ネットワークがタイムアウトしました 127.0.0.1 のサーバからの応答が一定時間以内に返ってきませんでした。 接続リクエストに対してリクエスト先サーバが応答を返さなかったため、接続を中止しました。 * サーバに負荷が集中したり、一時的に停止している可能性があります。しばらく後で再度試してください。 * 他のサイトも表示できない場合、コンピュータのネットワーク接続を確認してください。 * ファイアーウォールやプロキシでネットワークが保護されている場合、その設定に問題があると正常に表示できなくなることがあります。 * 問題が繰り返される場合、ネットワーク管理者またはインターネットプロバイダに問い合わせてください。 またスタートボタンから「データベースの起動」を実行したら「コマンド プロンプト」が立ち上がり下記のメッセージが表示されました。 C:\oraclexe\app\oracle\product\10.2.0\server\BIN>net start OracleXETNSListener システム エラー 5 が発生しました。 アクセスが拒否されました。 C:\oraclexe\app\oracle\product\10.2.0\server\BIN>net start OracleServiceXE システム エラー 5 が発生しました。 アクセスが拒否されました。 どうしてなのかわかりません。Vistaにはインストールできないのでしょうか？ 申し訳ありませんがアドバイスいただけませんでしょうか？ 宜しくお願いします。
新たに作成したbbsユーザーでSQLPlusでログインしようとするとTNSプロトコルエラーが 発生します。system、scottユーザーではログインできます 以下はユーザー作成に実行したSQLです。 SQL> create user bbs 2 identified by bbs; ユーザーが作成されました。 SQL> col username format a18 SQL> col password format a18 SQL> select username,password 2 from dba_users 3 where username = 'bbs'; レコードが選択されませんでした。 ご教授よろしくお願いします。
失礼します。 oracle10gを使用しています。 今まで普通に自動でoracleのサービスを起動出来ていたのですが、 IPとドメインとフルコンピュータ名を変更して以来、 oracleのサービスが開始中のまま変わらなくなり、 使用出来ない状態になってしまいました。 サービスを手動管理にして、自ら開始させても、 開始中のまま止まってしまい、停止も出来ません。 この場合の対処方法を、よくあるパターンからレアケースまで どんな些細な事でも構いませんので教えて頂けると助かります。 また、tnsnames.oraのhostはちゃんと新しいIPを記述しております。 宜しくお願いします。
オラクル初心者です。 「to_timesｔamp」を使用したデータベースへの書き込みのSQL文が分かりません。 ツールは「つみきWEB」を使用しています。 フィールドの形式は　to_timestamp(yyyy/mm/dd hh24:mi:ss.ff3)です。 行ったコマンドは以下に示します。 update （テーブル名） set （書き込みを行うフィールド） = to_timestamp（'11/11 11:11:11' 、'yyyy/mm/dd hh24:mi:ss.ff3'） WHERE （条件）
10日で覚えるオラクル10gの体験版をインストールしています。OSはvista ultimateです。本に書いてあったとおりに、LoopBackAdapterをインストールし、hostファイルも変更しました。 webのEnterpriseManagerを起動し、ユーザ:system　パス:orcl 接続:normalでログインしました。 しかし、エラーが出ているようで java.lang.Exception: Exception in sending Request :: null と表示されています。 データベースも起動していないようです。 何が原因なのでしょうか。
いつもお世話になります。 WindowsVista Oracle10gの環境にて、以下のようにPL/SQLを作成し、結果を確認しましたが、最終レコードが重複してしまいます。 SQL文が悪いのかと思い、切り出してSQLPlusで確認しましたが正しく返ってきます。 DECLARE type cur_type is ref cursor; souk_cur cur_type; vSql varchar2(2000); BEGIN vSql := ' select ～ from TableA' open souk_cur for vSql; loop fetch souk_cur into p1; dbms_output.putline(p1) exit when souk_cur%notfound; end loop; close souk_cur; END; / ＜結果＞ 1 あああ 2 いいい 3 ううう 3 ううう 試しにorder byで並べ替えると、 ＜結果＞ 3 ううう 2 いいい 1 あああ 1 あああ と、やはり最終レコードが重複します。 どなたかご存知の方おられましたらご教授願えませんでしょうか？ 宜しくお願い致します。
SQL*Loaderを使ってデータをテーブルにロードしたいのですが、その際に、データを加工してロードしたいと考えております。 ◎使用するコントロールファイルのサンプル (項目1)(項目2)(項目3) 12345, abcde, ABCDE ◎使用するコントロールファイルのサンプル Load Data truncate Into Table "Sample" Fields terminated by ',' Optionally enclosed by '"' ( 　項目1, 　項目2, 　項目3, 　項目4 EXPRESSION ":項目1(の下1桁)|| ' ' || :項目2(の下2桁)|| ' ' || :項目3(の下3桁)" ) まず、項目4には、項目1～3のデータを連結したものをロードしたいと考えております。 その際に、 項目4(6桁)＝"項目1の下1桁"＋"項目2の下2桁"＋"項目3の下3桁" となるようにしたいのですが、どのような関数を使ったらよいのでしょうか？ また、連結する関数"EXPRESSION"とどのように組み合わせたらよいのか教えていただけないでしょうか？ 思い当たる様々なキーワードでググってみたのですが、参考になるページを見つけることができませんでした。 「ヒントやるから自分で調べろ」みたいなお返事でも結構ですので、アドバイスをいただけますようお願い申し上げます。
はじめまして。 このたび、サーバー機のリプレイスに伴いexp/impを使ってユーザーデータの移行を行っていますが、 その際にトラブルが発生いたしました。 ■移行元サーバー　（NEC製） Windows 2000 Server Oracle 8i ■移行先サーバー　（IBM製） Windows Server 2003 R2 SP2 Oracle 9i (9.2.0.2) A,B,C（実際の名前ではありません）という3ユーザーのデータをユーザーモードでエクスポートし、 エクスポートは正常終了しました。 しかし、移行先のサーバーでインポートをしたところ、A,Bは正常にインポートできましたが、Cの インポートの際に、特定のテーブルでインポートが停止し、そのままOSがフリーズしてしまいます。 フリーズしたOSは何もできない状態で、Windowsの通常起動もできずセーフモードで立ち上げるしか できません。セーフモードで、OracleServiceDB（※ここでSIDをDBと仮定させていただきます）を サービス設定から、自動起動しない設定にすれば、OSは通常起動でき操作も問題ありません。 Cのユーザーデータをインポートすると、OracleServiceDB　がおかしくなり、これが開始状態だと OSがフリーズしてしまいます。何もできず、タスクマネージャも起動しません。キーボードも反応しません。 ※電源を直接切る以外シャットダウン不可能です 当初は、エクスポートしたCユーザーのダンプファイルの問題かと思いましたが、問題のダンプファイルを、 HP製のWindows Server 2003 R2 SP2　・　Oracle 9i (9.2.0.2)　にインポートすると正常にインポートが 可能でした。そのため、ダンプファイルの問題とも考えにくく、ハードウェアの相違が影響しているのでは ないかと考えられなくもない状態ですが、どうも原因が分かりません。 同様のトラブルを経験された方や、何かしらの対処法をご存知の方がいらっしゃいましたら、アドバイスいた だければ助かります。
いつもお世話になっております。 表題のままなのですが、 Oracleサーバへ接続する際に、「Net Configuration Assistant」を利用して「ローカル・ネット・サービス名」を構成しますが、 それをスクリプトで行うことができないかを調べております。 ここで言うスクリプトとは、バッチプログラムなどをイメージしております。 ご存じの方、ご教授願います。 環境 DBサーバ：Oracle10g クライアント：XP 以上、よろしくお願い致します。
オラクルマスタープラチナを取ったら給料がどれぐらいプラスになりますか？ どの資格と一緒にとったらより効果的になりますか？ これからのＩＴ業界に仕事を従事する場合にまだ重要視される資格と言えますか？
いつもお世話になります。 あるテーブルのカラムに、「ある順番に並び替えた上で」自動連番をふって更新させたいのですが、上手くいきません。 当初はシーケンスを作成して試みたのですが、並び替えた上で連番をふることができず無作為な連番になってしまいました。 そこで、色々考えまして以下のように作成しましたが、、、 update tableA set colC = (select rownum from tableA order by colA, colB); 「ORA-00907:右カッコがありません」が出てきます。 文法が間違っておりますでしょうか？？ それとも他に何か良い方法がありましたらご教授いただけますでしょうか？
オラクルのシーケンスですがCACHEを指定しないときはデフォルト20がとられるとのことですが、NEXTVALで採番したシーケンスがいきなり増分20で返されることはあるのでしょうか。 ex.1からNEXTVAL後21が戻される
オラクルでexp/impするともとのDDLの情報(イニシャルやネクスト）は引き継がれるのでしょうか？
Pro*cのバインド変数で下記のようなwhere句のinでカンマ区切りを指定することはできないのでしょうか？ Oracle9iです。 適当な書き方で申し訳ありませんがよろしくお願いします。 ------------------------ EXEC SQL BEGIN DECLARE SECTION; const char*bindAAA; EXEC SQL END DECLARE SECTION; // bindAAAバインド変数に'1,2,3'という具合に格納 ↓のSQLを実行したい select * from AAA where BBB in (:bindAAA)
もうかなり考えたのですが、なかなか答えが出てきません。 OracleのUPDATE文なのですが、書き換えるデータ自体は固定ですが、その対象行が他のテーブル条件を参照する場合どうすればよいのでしょうか？ うまく書く方法が分からず、INNER JOIN で実現しようとしたらSETキーワードがありません(ORA-00971)になってしまい・・・。 --------- UPDATE テーブル1 INNER JOIN テーブル2 ON テーブル1.ID = テーブル2.ID AND テーブル1.DAT1 = TO_CHAR(テーブル2.DAT + 固定データ) AND TO_CHAR(テーブル2.DAT2 + 固定データ) = 4 SET テーブル1.MONEY4 = 0 WHERE テーブル1.MONEY4 > 0 --------- こんな感じのSQLです。 ようは、書き換えるデータは0なんですが、その該当するカラム条件が別に複数あって、どのように書けばよいのかが分かりません。。。 誰か詳しい人、よろしくお願いいたします。
　トランザクションについてネットでいろいろ調べたのですが、 ピンと来ていないので下記の意味合いで合っているのか、 教えて頂けないでしょうか？ ・トランザクションは、データベースに対してかかる （テーブル単位にかかるわけではない） ・SQLでINSERT、UPDATE、DELETEのようにテーブルに更新処理を 走らせた時、そのテーブルがロックされる ・コミットが終わるまではロックはかかったまま ・失敗すればロールバックでデータを元に戻せる 　…こんな風に考えていますが、 ここまでは合っているでしょうか？ また、下記からが疑問なんですが… ・ロックの種類は、SQLの書き方で決められるみたいですが、 特に指定しなかったらテーブルロックになるものなのでしょうか？ ・SELECT中は、ロックがかかるものなのでしょうか？
UPDATEやINSERT処理をロックをかけて防ぐことはできるんですが、select文も同じように防ぐことってできないんでしょうか？ for updateでロックをしていますが、読み取りはいけるのでselectは発行されちゃいます。 何か良い方法があればよろしくお願いします。
Oracle10gEnterprise EditionサーバRACの構成について教えてください。 【例】 １００のデータがあったとして、サーバ４台のサーバで運用を行います。 （案１）1つのRACで4台のサーバにデータを振り分ける。 （案２）データを50づつに分け、１RACで2台のサーバ（×２）でデータ振り分ける。 案１と案２は、どちらがサーバに負荷をかけずに運用することができるのでしょうか。 案1の場合、RACで4台に振り分ける分、サーバのパフォーマンスを高くなってしまう気がします。 ※この場合のパフォーマンスは、CPUとメモリの事です。 　　　　
Oracle の JA16SJIS の文字集合が何なのかを調べています。 Oracle 9i のグローバリゼーションサポートガイドによる と、JA16SJIS は SJIS とのことで、JIS X 0208 かと思っていたのですが、NEC特殊文字を保持できるため JIS X 0208 ではなさそうです。 そうすると Windows-31J かなと思うんですが、もしご存知の方がいらっしゃったら教えてください。できれば確かなソースも一緒にお願いいたします。
現在オラクル10gでレスポンス改善の勉強をしています。 下記のようなデータ、テーブルがあるとき有効なＳＱＬの書き方が分かりません。 テーブル名；MASTER_CODE カラム名 ・区分コード ・コード ・レベル ・名称 サンプルデータ 区分コード、コード、レベル、名称 1000　10　1　東京本部 1000　11　1　大阪支店 1000　12　1　福岡支店 1000　10　2　営業部　 1000　11　2　開発部 1000　12　2　総務部 1000　10　3　1課 1000　11　3　2課 1000　12　3　3課 1100　10　1　Ａ商事 1100　11　1　Ｂ商事 1100　12　1　Ｃ商事 1100　10　2　Ａ商事の住所 1100　11　2　Ｂ商事の住所 1100　12　2　Ｃ商事の住所 テーブル名；TRAN_TABLE カラム名 ・連番 ・支店コード ・部署コード ・課コード ・得意先コード ・得意先住所コード サンプルデータ 連番、支店コード、部署コード、課コード、得意先コード、得意先住所コード 1　10　12　10　10　10 2　11　11　12　11　11 3　12　10　11　12　12 上記のようなテーブルがあり トランザクショテーブルからマスタを参照し、 コードではなく名称で取得できるVIEWを作成しました。 select * from TRAN_TABLE A, (select　コード、名称 from MASTER_CODE where 区分＝1000　AND　レベル＝1)　SHITEN, (select　コード、名称 from MASTER_CODE where 区分＝1000　AND　レベル＝2)　BUSHO, (select　コード、名称 from MASTER_CODE where 区分＝1000　AND　レベル＝3)　KA, (select　コード、名称 from MASTER_CODE where 区分＝1100　AND　レベル＝1)　TORIHIKISAKI, (select　コード、名称 from MASTER_CODE where 区分＝1100　AND　レベル＝2)　TORIJUSHO WHERE SHITEN.コード(+)＝A.支店コード　AND BUSHO.コード(+)＝A.部署コード　AND KA.コード(+)＝A.課コード　AND TORIHIKISAKI.コード(+)＝A.得意先コード　AND TORIJUSHO.コード(+)＝A.得意先住所コード　 上記のSQLだとレスポンスがよくありません。 （実際はマスターテーブルに多くのデータを登録してあります） 同じMASTER_CODEを使用しているので、もっと良い方法があるのでしょうか？ ご回答宜しくお願いします。
例）索引IX_aaaのカラムbbbにUX（一意制約）が付いているがあるとします。テーブルはccc このUXをPKに変更する場合はどのようなSQL文を書けばいいでしょうか？ 私なりに考えてみたのですが、わからないのでご教授願います。 それと、変更した後で確認するselect文も教えていただきたいです。 (1) Drop index IX_aaa cascade constraint; Create index IX_aaa on ccc(bbb PRIMARY KEY) [TABLESPACE 表領域名]; (2)Alter table ccc MODIFY (bbb PRIMARY KEY);
初めまして。Oracleの知識が薄く困っております。 よろしくお願い致します。 さて、現象ですがPC起動と同時にOracleが起動するように設定しているのですが、 マウントまで行ったり行かなかったりで困っております。 (起動する度に現象が異なります) Ver：ORACLE V10.1.0.2.0 OS ：WindosXP SP2 アラートログを確認しますと、 XXXX started with pid=Y(XXXX=SMONだったりRECOだったり・・・) の直後に、 alter database mount exclusive のコマンドが続く場合は、うまく立ち上がるようです。 しかし、 XXXX started with pid=Y の後に何もない時はマウントできていないようです。 また、 (1) > sqlplus /nolog (2) SQL> connect sys/aaaa@bbbb as sysdba (3) SQL> select status from v$instance; とすると、「STARTED」状態であり、 SQL> alter database mount; SQL> alter database open; とすると、正常に動作するようになります。 oradim.logを確認すると、 　ORA-01012: not logged on 　ORA-24324: service handle not initialized が出ていますが、どこから調査をすればいいのか暗闇の中です。 お助言頂きますようお願い致します。
SQLの質問なんですが 以下のSQLがあるとします。 select カラムA、カラムC from　test_table where in ('AAA','BBB','CCC'); ※条件はカラムAの値を使用しています。 結果が AAA　111 BBB　222 CCC　333 と出るとします。 下のように条件を変えたとき where in ('BBB','CCC','AAA'); BBB　222 CCC　333 AAA　111 と抽出と変わるようにしたいのですが、 （in句の左から順番にレコードが抽出したいです） 何か良い方法はありますでしょうか？ rowid順で出力されてしまうのでしょうか？ 以上です。 よろしくお願いします。
shellからストアドプロシージャにinパラメータを渡し、 outパラメータに値やエラーコード等を戻す際、 shellの変数でそのまま受け取ることは可能でしょうか？ shellでエラーコードなどのoutパラメータを受け取る 一般的な方法を教えてください。
いつもお世話になっております。 他にも質問をしており申し訳ないですが、どうしても困っておりまして新たに質問させていただきます。 UTL_FILEパッケージにて、予め用意しておいた雛形のExcelファイルに対して、入出力モード='A'にて追加書き込みしたいのですが、「PL/SQLプロシージャは正常に完了しました」は表示されますが、実際のファイルには全く追加書き込みされません。 入出力モード='W'にて新たなファイルを作成し、そのファイルに一切触れないまま、入出力モード='A'で書き込みを行うと、最終行に確かに追加されております。ただ、その新たなファイルをオープンして何か加工するとそれだけで追加書き込みができなくなるようです。 そもそも既存のExcelに追加書き込みできるものなのでしょうか？ どなたかご教授いただけませんでしょうか？ 宜しくお願い致します。
いつもお世話になっております。 10gの2003Serverの環境ですが、ある業務パッケージで用意されているインターフェースにて、COBOLソースで25万件程のテーブルをリードして物理ワークファイルにライトし、更にそのファイルより別のオラクルテーブルにライトを行っているのですが、リードで約２時間、ライトに約５時間もかかってしまいます。試しに一人ずつ(350人×700件=約25万)画面にディスプレイしてみると最初の30分で80人分程処理しておりますが途中から急激に遅くなり一人につき5分以上かかってきます。 当然ながらCOBOLの読み書きするロジックに原因があると思っておりソースを追いかけておりますが、不思議なことに他ユーザーの9iの環境で同アプリを実行するとものの15分程で読み書きが終わってしまいます。データの内容は異なるでしょうが件数的にはほとんど変わりません。 従って、平行してオラクル側でも調査したいのですが、具体的に何をどうすればよいのか、情報が少なくて申し訳ないですが、何かヒントでもいただけないでしょうか？ 何卒よろしくお願いします。
--------------------------------- 　元データ --------------------------------- IDCATEGORYCREATE_DATE 001A1002008/10/01 002B1002009/01/01 003C1002009/01/01 004A1002009/02/01 005B1002009/02/01 006A1002009/03/01 --------------------------------- --------------------------------- 　出力したい形式 --------------------------------- IDCATEGORYCREATE_DATE 003C1002009/01/01 005B1002009/02/01 006A1002009/03/01 --------------------------------- 「CATEGORY」でユニークになるようにしたいと思っています。 重複しているものは、最新のデータ（CREATE_DATEが新しいもの）を 優先して取得したいと思っています。 ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ SELECT DISTINCT(CATEGORY) CATEGORY, ID, CREATE_DATE FROM TABLE_NAME ORDER BY CREATE_DATE DESC ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ というSQLを書いてみましたが、「CATEGORY」でユニークになって くれません。 また「CREATE_DATEが新しいもの」という点はORDER BY で行えば 良いのでしょうか？ 以上、よろしくお願いいたします。
Oracleデータベース内のデータを取り出して、SQL（INSERT文）として出力できるツールは無いでしょうか。 例えば TABLE_A というテーブル内に次のようなレコードが入っているものとして、下記のようなINSERT文を生成してくれるフリーの（もしくは安価な）ツールは無いでしょうか。 MY_ID MY_NAME MY_DESC ----- ------- ------- 00001 hoge1 説明1 00002 hoge2 説明2 insert into TABLE_A (MY_ID, MY_NAME, MY_DESC) values ('00001', 'hoge1', '説明1'); insert into TABLE_A (MY_ID, MY_NAME, MY_DESC) values ('00002', 'hoge2', '説明2'); CSV形式で出力するようなツールは見つけたのですが、INSERT文にしてくれるツールがなかなか見つかりませんでした。 「PL/SQL Developer」というものを見つけたので試してみたところ、これはまさにうってつけのツールだったのですが、それなりのお値段（25,000円ほど？）でした。 このような本格的なツールでなくて良いので、フリーソフト（もしくは安価な）で無いでしょうか。 ちなみに Oracle のバージョンは Oracle 10g です。
いつもお世話になっております。 以下のようなファンクションの中でカウント数を戻り値として返したかったのですが、当然「0」の場合は「0」で返したいのですが、当初以下の場合には「ORA-01403: データが見つかりません。」エラーが発生し上手くいきませんでした。 省略 begin select count(colA) into aaa ～～ group by colB; ret = nvl(aaa,0) return ret; end; 調査のためselect文だけを切り取りSQLPlusにて実行したところ、「レコードが選択されませんでした」となっておりました。 今度は試しに、「select count(count(colA)) into aaa ～～ group by colB;」としたところ、「0」で返ってきましたし、1以上の場合も正しい数値で返ってきました。 同じようにselect文だけを切り取りSQLPlusにて実行したところ、以下のような結果となりました。 count(count(colA)) --------------------- これは、nullという意味になるのでしょうか？？ 「レコードが選択されませんでした」との違いはなんなのでしょうか？また、通常PL/SQLにてカウント数=0を返したいときはどのようにするものなのでしょうか？ご教授いただければと思います。 宜しくお願い致します。
Oracleの外部キー(参照整合性)制約に関して質問です。 定義済みの列制約に対して、追加の定義方法がわかりません。 CREATE TABLE TMP (T_COL1 NUMBER(4) CONSTRAINT PK_COL1 PRIMARY KEY, T_COL2 VARCHAR2(10) CONSTRAINT U_COL2 UNIQUE, T_COL3 NUMBER(2) CONSTRAINT FK_COL3 REFERENCES EMP(E_COL1) ); 上記のSQL文を実行した後にT_COL3の制約に"ON DELETE CASCADE" を追加する方法を教えて頂けますでしょうか？
oracle10G(10.2.0.1)をWin2003 SP2環境で使用しています。 あるテーブル（Ａテーブル）のデータ量が８００万件あり、そのテーブルを読み込むＳＱＬ（Ｂ.ＳＱＬ)が4分程度かかっていました。 ある日、Ａテーブルの項目名を変更することになりましたので、すべてのデータをＣＳＶ形式で保存し、テーブルをdropcreate後にsqlローダーにてインポートしたところ、Ｂ．ＳＱＬが１５分かかるようになってしまいました。 Ｂ．ＳＱＬは、項目名を変えただけで、インデックスも削除する前と同じ状態にしてます。 どこから調査すればよいのでしょうか？ よろしくお願いいたします。
いつもお世話になっております。 Oracle9i＋XP（CPU=PentiumCore2Duo,メモリ=2MB）の環境にて、以下のようなSELECT文なのですが、実行結果が出るまでに約４５分もかかってしまいます。 何が悪いのか切り分けるために、以下の副問い合わせのみを切り取ってSQLPLUSで実行してみると15件ずつが約10秒おきに返ってくるという現象が確認できたため、おそらくこの副問い合わせではないかと思っております。 データ件数としては、ZAIテーブルが約6万件、MEISAIテーブルが約12万件、VIEW_ROOM_CALENDERビューが約6千件で、それ以外はしれとります。 一応すべてのテーブルのキーにはインデックスがはられているようです。 色々と調べてautotraceにて実行計画などを見てみましたが正直よくわかりませんでした。 テーブル構造やリレーション、カラム数、レコード長など情報が少なく大変申し訳ないのですが必要であれば提示させていただきますので、SQL文がおかしいとか、ネック部分の調べ方とか、なにかヒントのようなものでも結構ですので、どなたかご教授いただけませんでしょうか？ 宜しくお願い致します。 select D.KANJYA_NO || ',' || D.NAME || ',' || A.BYOU_NAME || ',' || count(COL_PT) || ',' || count(COL_OT) || ',' || count(COL_ST) from ( -- 副問い合わせ select B.KANJYA_NO as KAN_NO, B.KAIKEI_DATE, G.BYOUTOU_NAME as BYOU_NAME, (case when C.MASTER_CODE in ('01017' , '01022' , '01025') then B.TOTAL_KAISUU else NULL end) as COL_PT, (case when C.MASTER_CODE in ('01019' , '01021' , '01023') then B.TOTAL_KAISUU else NULL end) as COL_OT, (case when C.MASTER_CODE in ('01016' , '01020' , '01024') then B.TOTAL_KAISUU else NULL end) as COL_ST from ZAI&1 B inner join MEISAI&1 C on C.NYUUGAI = B.NYUUGAI and C.KANJYA_NO = B.KANJYA_NO and C.ZAI_NO = B.ZAI_NO and C.KAIKEI_DATE = B.KAIKEI_DATE and B.KAIKEI_DATE Like '&1' || '%' and B.NYUUGAI = 2 and B.KANJYA_NO not like '*%' and C.MASTER_CODE in ('01017','01022','01025','01019','01021','01023','01016','01020','01024') inner join NYUUIN_ROOM E on C.KANJYA_NO = E.KANJYA_NO inner join VIEW_ROOM_CALENDER H on E.KANJYA_NO = H.KANJYA_NO and C.KAIKEI_DATE = H.YYYYMMDD and lpad(E.ROOM_NO,'10','0') = TO_NUMBER(H.ROOM_NO) inner join ROOM_TABLE F on E.ROOM_CODE = F.ROOM_CODE inner join BYT_TABLE G on G.BYOUTOU_CODE = F.BYOUTOU_CODE ) A inner join KANJYA D on A.KAN_NO = D.KANJYA_NO group by D.KANJYA_NO, D.NAME, D.BIRTH, A.BYOUTOU_NAME ;
いつもお世話になっております。 Oracle9i+WindowsXPの環境で、以下のようなトリガーをテーブル更新or挿入タイミングで起動させ、更新対象行をログのような形でUTL_FILEパッケージを使用してCSVファイルを作成しようとしておりますが、テーブルを更新してもエラーが発生します。 create or replace procedure kan_proc(aaa in number) is PRAGMA AUTONOMOUS_TRANSACTION; file UTL_FILE.FILE_TYPE; filename varchar2(10); BEGIN filename := 'aaa.csv'; file := UTL_FILE.FOPEN('FILE_PATH', filename, 'w'); UTL_FILE.PUT_LINE(file, aaa); ・ ・ END kan_exp; / create or replace trigger kan_trg after update or insert on t_kan each row aaa number begin if updating then select colA into aaa from t_kan where :new.colA = colA; kan_proc(aaa); else if inserting then ？？？ end; / エラーNo.はちょっと今はわかりませんが、必要であれば提示させていただきます。 全く自信がないのですが更新時上記のようなSQL文で更新対象行がとれるものなのでしょうか？ また、ちょっと別問題ですが、挿入時のコードが思いつきませんが、何か良い方法はありますでしょうか？ 申し訳ありませんがどなたかご教授いただけませんでしょうか？ 宜しくお願い致します。
いつも大変お世話になっております。 会社のパソコンにオラクルをインスールする際、普段はbatファイルを実行するだけでした。 Vista対応のため、検証していたところ、batファイルが上手く動かない状況です。 今までハード関係しか触ってこない為、プログラムの事は全く分りません。 これを機に勉強していこうと思いますが、現在、vistaでインストール出来ない状況を解明する方が先決のため、 恥を忍んでお訊ね致します。 1) pause　explorer　○○　→任意のキーを押した後、○○フォルダが開くという意味だと思いますが XPはフォルダが開いたらコマンドプロンプトが消えていたのですが、Vistaは消えません。 exit　/b　を付け加えても消えませんでした。どうしたら消せますでしょうか。 2) set RUNPATH=%CD% set SPATH1=1.OracleClient9.2.0.1.0 %SPATH1%\install\win32\setup.exe -responseFile %RUNPATH%\%SPATH1%\Response\clientruntime.rsp 上記意味が全く分りません。教えて頂けますでしょうか。 以上、よろしくお願い致します。
SQLLDRで、10M程度のテキストの流し込みを行おうとすると、 レコード1: 拒否されました。- 表DATATABLE,列DATABUFFでエラーが発生しました。 データファイルのフィールドが最大長を超えています となってしまいます。 insert文で行うと問題なくinnsertできています。 制御ファイルなどの記述が悪いのでしょうか？ 制御ファイルは、 OPTIONS(LOAD=-1,SKIP=0,ERRORS=-1,ROWS=-1) LOAD DATA INFILE 'data.csv' BADFILE 'data.bad' APPEND INTO TABLE DATATABLE FIELDS TERMINATED BY "," OPTIONALLY ENCLOSED BY "'" TRAILING NULLCOLS ( DATABUFF ) ご教授ください。 よろしくお願いします。 環境：Oracle10GR2+Linux
只今Oracleの勉強をしています。 抽象的な質問になってしまうかもしれませんが、 Oracleでいう「リストア」と「リカバリ」は何が違うのでしょうか？ Oracleの場合はリストア→リカバリの順番で処理させてる 場合があると思います。 一般的にはリストアはバックアップの対義語でリカバリは 初期状態に戻すようなものだと理解しているのですが、 それだとOracleでは「バックアップファイルを戻してから Oracleインストール時にまで戻す」というような感じに取れて しますのですが実際はどのように動き何が違うのでしょうか？ よろしくお願いします。
oracle10gをwindows2003serverにインストールしました。 oracleは完全な初心者です。 最終目的は、クライアントのエクセル2003からODBCでサーバーのoracleのデータを取り出すということを行う必要があります。 クライアントから接続するためにリスナーの設定を「Net Configuration Assistant」で行っています。 クライアント側からの接続テストで「接続中...ORA-12514: TNS: リスナーは接続記述子で要求されたサービスを現在認識していません テストが失敗しました。」というエラーが出て接続ができません。 tnspingは成功します。リスナーは起動中となっています。 サーバー側にクライアントとしてのローカルネットワーク構成をして試してみても同じ状況でした。 どこに問題があるのでしょうか？ サーバー：windows2003server クライアント：xp
Oracle9iのWindowsXP環境です。 以下のようなPL/SQLを作成しましたが、同じようなselect文の繰り返しなので整理したいのと、レスポンスが悪いのでファンクションにしたいのですが、テーブル名が可変のため上手くいきません。「Table&1」は置換変数で、batファイルからパラメータが渡り、「Table200812」のように変更されます。 【***.bat】 set /p phara sqlplus -s ***/***@*** ***.sql %phara% 【***.sql】 省略 begin select aaa into a1 from Table&1 where code = 'AAAAA'; ・・ select aaa into a2 from Table&1 where code = 'BBBBB'; ・・ select aaa into a3 from Table&1 where code = 'CCCCC'; ・・ 省略 end; / 以下、試しに作成しようとしたファンクションですが、やはり予想どおりですが「表がありません」とコンパイルエラーになります。 create function Func_test(code IN varchar2, Table1 IN varchar2) return number is ret number; begin select aaa into ret from Table1 where code = 'code'; return ret; end; / ※コール側は、「a1 = Func_Test('AAAAA', Table&1);」 そもそもこれが実現できたとしてレスポンスが上がるものなのでしょうか？どちらにせよコードを整理する意味でもファンクションにはしたいのですが。。 宜しくお願い致します。
Windows Vistaへ SQL基礎? 11g の黒本に付属しているトライアル版をインストールしました。 SQL Plus等は問題なく使用できます。 OEMへつなげるべく、下記のアドレスをIE7へ入力し、立ち上げようとしたところ ログイン画面が表示されません。 https://ローカルホスト名:1158/em インストールは正常終了しました。 リスナー・DBコンソール等のサービスは全て起動済みです。 困り果てています。 有識者の方々、ご教授ください。
病気で働けなくなり、やっと働ける様になったら、この不況です 先日、ハローワークに行き、雇用保険の手続きに行き、職業訓練校で マネジメント情報システム科にてサーバー構築の勉強ができるそうですが（Linux基礎・Javaプログラミング・ネットワーク構築・データベース構築・Web作成・総合実習） サーバー構築はこの不況でも求人がたくさんあるので、勉強したいと思ったんですが どれくらいのスキルは勉強する前に必要ですか？ 因みにOfficeは普通に仕事で困らないです
オラクルの勉強をしようと思っています。 オラクルマスターのブロンズの勉強をしようと思って本屋に行ったのですが、「SQL基礎I」と「DBA11g」の２種類がありビックリしました。 基本情報処理の「午前」と「午後」のように、ブロンズの試験も「SQL基礎I」と「DBA11g」の両方に合格しないといけないのでしょうか？ また、受けるならやっぱり新しいバージョンのほうがよいのでしょうか？
お世話になります。 Long型列の先頭250バイトが欲しいのですが Select Substr(FIELD01, 1, 250) from TABLE01 とすると、 ORA-00932 が返ってきてしまいます。 なにかいい方法ありませんでしょうか？ できれば、PL/SQLは使いたくなく、別テーブルをCreate Table as Selectも避けたいです。
オラクル11gの体験版をビスタにインストールしている途中で失敗しました。 下記のフォルダが残ってしまいました。 ┗app 　┗ユーザー 　　┣admin 　　┣ 　　┣ 　　┗product 　　　┗11.1.0 　　　　┗db_1 失敗しているのでアンインストールできません。 一度入れなおせば良いかと思い、もう一度やって、また失敗しました。 ┗app 　┗ユーザー 　　┣admin 　　┣ 　　┣ 　　┗product 　　　┗11.1.0 　　　　┣db_1 　　　　┗db_2 db_? のフォルダの残骸を無駄に増やしただけでした。 失敗したところへ入れようと、今度はdb_3に割り振られたところを手でdb_1と書き換え実行していると、既に存在すると怒られて作業が進みません。 一旦これらを削除したいのですが、どうすれば良いですか？ ┗app ごとバッサリとゴミ箱に放り込もうかと思いましたが、レジストリなどに残った情報との整合性がなくなり、余計に悪くなる気がしてやめました。 以上、よろしくおねがいします。
WindowsXPのOracle9i環境です。 以下のようなトリガーを作成しました。 create or replace trigger kan_trg after update or insert on t_kan declare begin execute immediate 'create or replace view V_test as select ・・ from t_kan with read only'; end; / その後、試しに「insert into t_kan ・・・」　と実行してみましたが、「ORA-04092：トリガーはCOMMITできません」が発生します。 色々調べましたがトリガーの中にCOMMIT文を入れることはできないようです。どのようにすれば解決するか、ご教示いただけませんでしょうか？ 宜しくお願い致します。
ユーザーがPCをガンガン落としたようです。 Oracle10.0にて ログオンにて、1033 Initialization or shutdown in process が出ます。ずっとです。 select * from V$Backup では、すべて NOT ACTIVE でした。 recover dabtabase を行ったところ ORA-00283:エラーによってリカバリセッションは取り消されました。 ORA-12801:パラレル問合せサーバーP000にえらーシグナルが発生しました。 ORA-00600:internal error cose,aurguments:[3020],[27669],[126105],[],[],[],[] ORA-10567:Redo is inconsistent with data block(file# 3, block# 27669) ORA-10564: tablespace SYSAUX ORA-0110:data file3:'C:\ORACLE\PRODUCT\10.1.0ORADATA\xxxx\SYSAUX01.DBF' ORA-10561:block type ' TRANSACTION MANAGED INDEX BLOCK', と出ます。 ここから先、どうしたら良いのでしょうか？ プログラマでORACLEは初心者です。 バックアップは取ってありません、 何としてでも起動させてユーザーDBをOpen出来ないといけないのです。 今日中しか時間がありません。どなたかお知恵をお願いします。
Oracle Diagnostics Packの読み方を教えて下さい。 オラクル　ディアグノスティクス？　パック オラクル　ダイアグノスティクス？　パック 読みがシックリ来ないと内容が頭に入らないので困っています。
oracle9iのpl/sqlでSELECT文を発行し 取得したカーソルを返す処理をしています。 where句が動的になる為 実行するSQL文が長くなり ORA-06502: PL/SQL: 数値または値のエラー: 文字列バッファが小さすぎます。が発生しました のエラーが発生します。 そこで、SQL文の部分をCLOB型にしたり SQL文を「||」でつなげたり してみましたが、どちらもエラーになりました。 長すぎるSQL文を実行するには どうしたらよいでしょうか？ 以下ソースです。(左側の数字は行数です) ----------------------------------- 1 PROCEDURE テスト(O_カーソル IN OUT 情報カーソル) IS 2 TYPE curType IS REF CURSOR; 3 tmpCur curType; 4 sqlStrVARCHAR2(32767); 5 6 7 BEGIN 8 9 sqlStr := 'SELECT ' 10 sqlStr := sqlStr || 'A,B ' 11 sqlStr := sqlStr || 'FROM' <<省略>> 12 OPEN tmpCur FOR sqlStr←エラー発生 13O_カーソル := tmpCur;--取得したカーソルを返す 14 END テスト; ----------------------------------- (1)SQL文をCLOB型にしてみる：コンパイルエラー 4 sqlStrCLOB (2)SQL文を「||」でつなげてみる：文字列バッファが小さすぎますでエラー Dim sqlStr1VARCHAR2(32767); Dim sqlStr2VARCHAR2(32767); Dim sqlStr3VARCHAR2(32767); <<省略>> 12 OPEN tmpCur FOR (sqlStr1 　　　　　|| sqlStr2 　　　　　|| sqlStr3 <<省略>> )
お世話になります。 Oracleをローカルマシンにインストールして勉強しようと思っております。 Oracle Database 11g　はWindowsXPやVistaのHome Editionにはインストールできない旨の記載がありました。 何らかの方法で、Oracle Databaseを WindowsXPやVistaのHome Editionで利用できないでしょうか。 どなたかお助けいただけるとありがたいのですが。 どうか、よろしくお願いいたします。
WindowsXPのOracle9i環境にて、 まず、以下のようにしてユーザ「username」を作成しました。 create user username identified by Password default tablespace tab_space temporary tablespacetemp; grant dba,resource,connect to username; 次にsysユーザにて、CREATE DIRECTORY FILE_PATH as 'd:\temp'; ディレクトリを作成しました。 そして、そのディレクトリに対して、以下のように権限付与しようとすると、「ユーザ"username"が存在しません。」エラーが発生します。 grant READ,WRITE ON directory dir to username; また、grant READ,WRITE ON directory dir to public; とすると、権限付与は成功しますが、ユーザusernameにはディレクトリ参照権限は与えられていませんでした。 何か間違っておりますでしょうか？ それとも何か手順で足らないものがあるのでしょうか？ ご教示いただければと思います。
受注関連のアドオンプログラムを作っていまして、採番(カウンタ、シーケンス)処理で困っているのでお助けください！ 要件を箇条書きにします。 ・納品書１つに対して明細書６つまでしか紐付けない ・明細書が６つを越す場合は、また新たに納品書を生成して、その新たな明細書に残りの明細書を１から発行。 例：明細書が１０あるとすれば、 納品書１　＝　明細書１、２、３、４、５、６ 納品書２　＝　明細書１、２、３、４ このようになります。 採番に関しては定義済みseqを使うことになります。 どなたか例文ロジックをご教授願えませんか？
データベース初心者です。 現在勤務中の会社から早急にBronzeを取得するようにと言われ申込みをしたばかりなのですが、一ヶ月後が試験日となっています。 まったくOracleに触ったことのない初心者が受験をするとして、一か月は無謀でしょうか？ Bronze取得なので、DBAとSQL基礎両方を受験する予定です。
Mysqlでテーブルを作成するステートメントを表示するSQL文 ” SHOW CREATE TABLE テーブル名”に該当する、oracleの SQL文ってありますか？
先輩社員に「このテーブルってトランザクションだよね？」って聞かれました。 トランザクションの意味がわからなかったので答えれず、「トランザクションってどういうことですか？」って聞き返しても「基本的すぎるから」と言われて教えてもらえませんでした。 トランザクションのテーブルとはどういう意味なのでしょうか？ マスタ以外という意味なんでしょうか？ 教えてください。
お世話になります。 ユーザーが発行したSQLのログを閲覧したいのですが、アーカイブログ から閲覧できると他のサイトにあったのですが、どのようにすればよろしいのでしょうか？ LogMiner Viewer を使用して閲覧したいのですが、Enterprise Manager Consoleを起動しても、LogMiner Viewerが見あたりません。 それか、なにか他にツールがございますでしょうか？ よろしくお願いいたします。 Windows版オラクル9i　リリース２です。
独学でoracle 10gを勉強しています。 トライアル版を使いたいのですがどれをインストールしたらよいのですか？ 用途はJAVAや.NETなどのＤＢで利用します。 環境は WInXP pro Core2Duoプロセッサー E8500 メモリ4096MB
いつもお世話になって、大変助かっております。初心者なのですが、お相手ください。 ｓｑｌ文を作成していて、以下のようにデータを編集したいのですが、 左の３つのフィールドを一つに統合することは可能でしょうか？可能であればどのように書けばよろしいですか？ ｆｉｅｌｄ１｜ｄａｔａ１｜ｆｉｅｌｄ２｜ｄａｔａ２｜ｆｉｅｌｄ３｜ｄａｔａ３ －－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－ 　　　１００｜　　あああ｜　　　１００｜　　いいい｜　　　１００｜　ううう 　　　１０１｜　　かかか｜　　ｎｕｌｌ｜　ｎｕｌｌ｜　　ｎｕｌｌ｜　ｎｕｌｌ 　　ｎｕｌｌ｜　ｎｕｌｌ｜　　　１０２｜　　さささ｜　　ｎｕｌｌ｜　ｎｕｌｌ 　　ｎｕｌｌ｜　ｎｕｌｌ｜　　ｎｕｌｌ｜　ｎｕｌｌ｜　　　１０３｜　たたた　 　　　　　　　　　↓↓↓↓ ｆｉｅｌｄ４｜ｄａｔａ１｜ｄａｔａ２｜ｄａｔａ３ －－－－－－－－－－－－－－－－－－－－－－－－－－－－ 　　　１００｜　　あああ｜　　いいい｜　ううう 　　　１０１｜　　かかか｜　ｎｕｌｌ｜　ｎｕｌｌ 　　　１０２｜　ｎｕｌｌ｜　　さささ｜　ｎｕｌｌ 　　　１０３｜　ｎｕｌｌ｜　ｎｕｌｌ｜　たたた 一日中奮闘してみましたが、解決に至りませんでした。 よろしくお願いいたします。
Oracle 10gのクライアント－サーバー環境でSQL*Plusなどから ローカルネーミングで接続しようとするとORA-12154:TNS:could not resolve the connect identifier specifiedが出て接続できません。 サーバー（ホスト名；aspire） VistaHomePremiumSP1 Oracle10gDatabase クライアント XPHomeEditionSP3 Oracle10gClient tnsnames.oraの内容 # tnsnames.ora Network Configuration File: C:\oracle\product\10.2.0\client_1\network\admin\tnsnames.ora # Generated by Oracle configuration tools. ORCL = (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = TCP)(HOST = aspire)(PORT = 1521)) ) (CONNECT_DATA = (SERVICE_NAME = orcl) ) ) oracle.keyの内容 SOFTWARE\ORACLE\KEY_OraClient10g_home1 レジストリの内容 [HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE\KEY_OraClient10g_home1] "ORACLE_HOME"="C:\\oracle\\product\\10.2.0\\client_1" "ORACLE_HOME_NAME"="OraClient10g_home1" "ORACLE_GROUP_NAME"="Oracle - OraClient10g_home1" "ORACLE_BUNDLE_NAME"="Enterprise" "NLS_LANG"="JAPANESE_JAPAN.JA16SJIS" "StatementCacheSize"="0" "OLEDB"="C:\\oracle\\product\\10.2.0\\client_1\\oledb\\mesg" "StmtCacheSize"="0" "SQLPATH"="C:\\oracle\\product\\10.2.0\\client_1\\dbs" "OO4O"="C:\\oracle\\product\\10.2.0\\client_1\\oo4o\\mesg" "ORACLE_HOME_KEY"="SOFTWARE\\ORACLE\\KEY_OraClient10g_home1" "MSHELP_TOOLS"="C:\\oracle\\product\\10.2.0\\client_1\\MSHELP" なお、簡易接続ネーミングでは成功します。 sqlplus scott/tiger@aspire/orcl また、環境変数ORACLE_HOMEを設定すると成功します。 set ORACLE_HOME=C:\oracle\product\10.2.0\client_1 sqlplus scott/tiger@orcl 諸先輩方のアドバイスをお願いいたします。
SQL初心者です。 初歩的なSelect文だと思うのですが、 以下のSQLの書き方を教えてください。 「テーブルAの列Bに入っている文字列のバイト数のうち、 　最大のバイト数の値を返すSQL」 バイト数をすべて取得するのであれば SELECT LENGTHB(B) FROM A になるかと思うのですが、最大のものを 求める書き方がわかりません。 よろしくお願いします。
表題とおりの質問ですが、UTL_FILE.FCOPYにてサーバにあるフォルダからフォルダへファイルをコピーするんですが、、 その対象ファイルがJPGファイルとなっていて、　簡易なプロシージャを作成してオブジェクトブラウザーから実行してみたところ、 コピー先フォルダへはJPGファイルが作成されているんですが、ファイルを開いてみると画像が表示されなかったり、 画像が化けていたりと、正しく表示されません。　テキストファイルでやってみたところ正しく表示されるのですが、 JPGファイルは正しく表示されません。　バイナリファイルはやっぱり駄目なんでしょうか？ また設計者にJPGファイルが正しく表示されないことを確認してもらったのですが、最悪UTL_FILE.FCOPYにて表示されない 場合には、ログファイルにBATで実行できるようにログをはいてくれと言われたのですが、 初心者のためあまりバッチファイルを作成したことが少なく、どうログをはけばいいのかもわかりませんので、 どのようにログにはけばいいか詳しいかたできたらお願いいたします。 ＜簡単な仕様＞ １．テーブル１から社員番号を取得（全件） ２．サーバ（取得先フォルダ.JPGファイルがあるかないか判別）　テーブル１.社員番号　＝　取得先.社員番号.jpg (条件） ３．対象ファイルがある場合に、COPY先フォルダへJPGファイルをコピー。 といった簡単な処理なんですが。 バッチファイルでの実行だと、あまり詳しくないので推測ですいません。 フォルダからフォルダへ。フォルダごとコピーできたりすると思うのですが、 今回はテーブル１にある社員のみコピーしたいので、ログファイルには、 COPY e:\test1\社員番号.jpg　e:\test2\社員番号.jpg　 という具合にテーブル１にある社員分ログを出力すればいいのでしょうか？ 長ったらしい文になってしまいましたが、回答よろしくおねがいいたします。
UTL_FILEパッケージを使用してPL/SQLよりテキスト出力したいのですが上手くいきません。 まずsysdbaにて「create directory aaa as 'd:\'」にてディレクトリを作成しました。 次に以下のようにプロシージャを作成しました。 create procedure kan_exp( fir IN varchar2, filename IN varchar2) is file UTL_FILE.FILE_TYPE; CURSOR tk01_kan_c IS select aaa,bbb from tableCCC begin file := UTL_FILE.FOPEN(dir, filename, 'w'); UTL_FILE.PUT_LINE(file, 'TEST'); UTL_FILE.NEW_LINE(file); for kanrec in tk01_kan_c loop UTL_FILE.PUT_LINE(file, 'TEST'); end loop; END kan_exp; / それを以下のように呼び出しましたが、 execute kan_exp('UTL_FILE_DIR', 'aaa.csv'); 「ORA-29280：無効なディレクトリパスです。」エラーが発生します。 色々と調べてユーザに権限が必要かと思い、「grant read on directory to User」としましたが、ユーザーまたはロール'User'は存在しませんと出てきます。※もちろんUserは存在します。 なにか足りないものがあるのでしょうか？ ご教示いただけますでしょうか？宜しくお願いします。
SQL/PLUSにて作成したファンクションの戻り値で返ってきた文字列をテーブル名として使用するにはどうすればよいのでしょうか？？ まず以下のようにSQL/PLUSにてFUNCTIONを作成しました。 create or replace function FuncXXXXX (inA varchar2) return varchar2 is OutA varchar2; begin select MAX(table_name) into outA from all_tables where table_name like inA || '%'; return outA end; / それを以下省略ですが、テーブルでコールしようとするとエラー（ORA-00905：キーワードがありません）が発生します。このような使い方はできないのでしょうか？ select 　　・ 　　・ from AAAA inner join FuncXXXXX(inA)　※execute FuncXXXXX(inA)でも同様 on 　　・ 　　・ 申し訳ありませんが宜しくお願いします。
OracleのE-Deliveryから以下2ファイルをダウンロードしました。 Oracle? Warehouse Builder 10g Release 2 (10.2.0.1.0) for Microsoft Windows (32-bit) DVD (Part 1 of 2) Oracle? Warehouse Builder 10g Release 2 (10.2.0.1.0) for Microsoft Windows (32-bit) DVD (Part 2 of 2) インストールを進めようとしたところ以下ＵＲＬのインストール画面とは違いOracle Universal Installerが起動しました。ひとまずウィザードどおりに進めたところコンポーネントのインストールはできたのですがリスナーなどのインストールはされず、スタートメニューにＣｏｎｆｉｑｕｒａｔｉｏｎ　Ａｓｓｉｓｔａｎｔも存在しません。 http://otndnld.oracle.co.jp/easy/oracle10gr2/win … 上記のＵＲＬのようなインストール画面を出すにはどうしたらいいのでしょうか。 OS:Windows2003ServerR2
T_地点,T_層,T_回 という三つのテーブルがあります。 それを組み合わせるSQLで下記のようなものがあります。 --------- CREATE VIEW V_地点 AS SELECT T_地点.ＩＤ, TABLE1.1A, TABLE1.2A, T_回.形 FROM T_地点,T_回, ( SELECT T_層.ＩＤ, T_層.点, MAX(DECODE(T_層.コード,'01',1)) 1A, MAX(DECODE(T_層.コード,'02',1)) 2A FROM T_層 GROUP BY T_層.ＩＤ ) TABLE1 WHERE T_地点.ＩＤ = TABLE1.ＩＤ AND T_地点.ＩＤ = T_回.ＩＤ; --------- これをORACLEのビュー作成で実行するとエラーがでないのですが、 sqlplus経由で実行するとエラーがでます。 SP2-0042: 不明なコマンドです("FROM")。行の残りは無視されました。 SP2-0734: "T_..."で開始するコマンドが不明です - 残りの行は無視されました。 どなたかわかるかたがいらっしゃいましたらご教授ねがいます。
こんにちわ。 ID,NO,POINTが同じ値のものを次のように集約させる場合どのような SQLがシンプルでしょうか？ 例 ID NO POINT 番号 内容 内容1 内容2 1 1 1 1 あ ............ 1 2 2 1 い ............ 1 2 2 9 う ............ 1 3 3 1 え ............ 1 3 3 8 お ............ ID,NO,POINTが同じ値の場合、番号の大きいものを抽出 結果1 ID NO POINT 番号 内容 内容1 内容2 1 1 1 1 あ ............ 1 2 2 9 う ............ 1 3 3 8 お ............ ID,NO,POINTが同じ値の場合、番号の小さいものを抽出 結果2 ID NO POINT 番号 内容 内容1 内容2 1 1 1 1 あ ............ 1 2 2 1 い ............ 1 3 3 1 え ............ ご教授頂けたら助かります。
いつもお世話になっております。 今使用している表領域の使用率が高くなってきたため、 不要なテーブルやデータを削除しました。 ですが、少ししか使用率が減らず困っています。 テーブルを削除した際にはPURGE RECYCLEBINで、BIN～のテーブルも 消しています。 何か他に原因があるのでしょうか？
下記のサイトを参照しながらOracle10gをインストールしていますが、 「55. Database Controlへのアクセス」という項目で躓いています。 http://www.fiberbit.net/user/kunyami/oracle/11g- … 【現象】 Oracleのインストール、ＤＢの作成は完了したが ＤＢ作成後に表示されたDataBase ControlのURLのページを参照すると 以下のメッセージのページが表示される。 ============================================================================= 正常に接続できませんでした [URL]のサーバへの接続を確立できませんでした。 サイトアドレスは有効なようですが、接続を確立できませんでした。 ・サイトが一時的に利用できなくなっている場合、再度後で試してください。 ・他のサイトも表示できない場合、コンピュータのネットワーク接続を確認してく 　ださい。 ・ファイアーウォールやプロキシでネットワークが保護されている場合、その設定 　に問題があると正常に表示できなくなることがあります。 ============================================================================= 【環境】 OS:Linux(RedHat5.0) ブラウザ:Firefox3.0.4 Oracle:Oracle11gR1 【備考】 ・Database Controlのページは、インストール直後に一度表示されました。 　その際、何かエラーが発生し(何かは覚えていません…すみません) 　「ほっとく」的な意味のボタンを選択しました。 ・Oracleの設定(？)は何もいじっていないと思います。 ・ＰＣの再起動は何度かしました。 ・アンチウイルスソフトはインストールしていません。 ・ファイアウォールの設定は「無効」です。 ・こちらhttp://oshiete1.goo.ne.jp/qa1862479.htmlを参考に 　Firefoxの「ツール」→「オプション」…から設定をいじってみようと思いましたが 　「ツール」に「オプション」がありません。 ・Firefoxをアンインストールして /root/.Mozilla を削除して再インストールしてみましたが 　現象は変わりません。 上記のことから、DataBase Control のページを表示できないのは 何が原因と考えられるでしょうか？ また、どうすれば表示でぃるようになるでしょうか？ よろしくお願い致します。
いつも拝見させていただいております。 現在、Oracle10gのバックアップの精度について調査しています。 参考値としてOracleが持つバックアップ機能の実測値を知りたいと考えて いるのですが、サイト検索を行ってみても、なかなか見つかりません。 どなたか有益なサイトをご存知か実測値を持っておられる方がいらっしゃいましたら ご教授いただけないでしょうか？ 下記バックアップ機能についての実測値が知りたいです。 また、それぞれの利点、欠点等ご存知でしたら合わせてご教授いただけると幸いです。 １．エクスポート・ユーティリティ ２．Oracle Data Pump ３．RecoveryManager 以上。よろしく御願い致します。
alter tableでカラムにCHECK制約を付けて、エラーとなるようなデータをsqlldrでローディングしたのですが、想定通りにエラーとならなくて困っています。 CHECK制約はこのようなものです。 ALTER TABLE TABLE_XXX ADD( constraint ck_A check (REGEXP_REPLACE(列Ａ, '[0-9]{4}','') = '') ); 列Ａの値が半角数字４桁以外のデータはローディングエラー（別ファイルに出力）にしたいのですが、すんなりとテーブルに格納されてしまいます。 ちなみに同様に付けたprimary key制約は正常に機能しているので、正規表現がいけないのでは？と推測しますが。。。 想定通りにするためには、どのように記述したら良いのでしょうか？ 正規表現、Oracle共に勉強し始めの為、本など読んでいるのですが、なかなか良い資料が手元になく困っています。 よろしくお願いします。
こんばんわ。オラクル初心者です。 オラクル9.1で、下記のようにtable1とtable2を結合して、view1(oracleビュー) を作成したいのですが、どのようなSQLがよいでしょうか。 なかなかうまい方法がなくてこまっています。 table1 no 項目　その他　その他1 1 　 1 1 　2 1 　3 .....省略 table2 no 項目　種別　結果 1 　1　 01　 3 1 　1 　02 　 8 1 　1 　 03 　7 1 　2 　01 　9 1 　2 　 02 　 6 1 　2 　03 　2 1 　3 　01 　 1 ...... view1　良い例 no 項目　結果1 結果2 結果3 1 　 1 　 3 　 8 　 7　　　　←種別01 02 03を順にいれる 1 　 2　 9 　 6　 2 1　 3　 1............ select table1.no,table1.項目,・・・ from table1,table2 where table1.no = table2.no and table1.項目 = table2.項目 ↑おおよそこのような感じになるとは思ってます。 何とか頑張ったのですが、下記のようになってしまうことが 多かったです・・・。どこかSQLがわるいようです。 view1　悪い例 no 項目　結果1 結果2 結果3 1 　1 　 3 　 8　 7 1 　1 　 3 　 8　 7 1 　1 　 3 　 8　 7 1 　 2　 9　 6　 2 1 　 2　 9　 6　 2 1 　 2　 9　 6　 2 1 　 3　 1............ もしご存知の方いらっしゃいましたら、助かります。よろしくお願いいたします。
いつもお世話になっております。 あるシステムの処理で 大量データ挿入⇒統計情報の取得⇒挿入したデータを基にファイル作成 という処理を行っております。 ファイル作成時に失敗した際に、ロールバック処理を行うように 設定しているのですが、既にデータが挿入されてしまっています。 初心者でいまいち統計情報の取得が良く分かっていないのですが、 統計情報を取得するSQL文を流した時点でトランザクションは コミットされるのでしょうか？ よろしくお願い致します。
今後必要になりそうなのでOracleを導入して自宅で学習しようと思います。 そこでいろいろと分からないことが出てきました。 OracleのサイトでFree Downloadというリンクがありました。 http://www.oracle.com/technology/software/produc … これを観てみるとStandard, Enterpriseエディションへのリンクがあり、 そしてなぜか10gのExpress Editionへのリンクもありました。 （Express Editionは10gしかない？） これらのバージョンは全て１ヶ月程度の試用版ということでしょうか？ あるいはダウンロードはできるけど使用にはシリアルなどを入力しないと使えないということなのでしょうか？ それとオラクル10gまたは11gなどを利用する際はVistaのHome PremiumとかXPのHome Editionなどでも使えるのでしょうか？ 私の自宅では無線ＬＡＮなので無線ＬＡＮなどでもオラクルは使えるのか、などいろいろと疑問が出てきてしまいました。
マテリアライズドビューを作成し、selelct文を発行致しましたら、 『"TEST2"：無効な識別子です。』とエラーが出てしまいました。 下記の様に、テーブル、View、マテリアライズドビューを作成した後、 select文を作成しました。 View、マテリアライズドビュー、select文のいずれかで間違いが有ると思うのですが、どの様に修正を行えば良いのかが分かりません。 ですのでエラーを回避する方法を教えて頂きたく思っております。 宜しくお願い致します。 ■テーブル1作成 Create table TEST_TBL1 ( Test1 nchar(6), Test2 nchar(6) ); ■テーブル2作成 Create table TEST_TBL2 ( Test1 nchar(6), Test2 nchar(6) ); ■レコード追加 INSERT INTO TEST_TBL1 (Test1, Test2) VALUES (1,1); INSERT INTO TEST_TBL1 (Test1, Test2) VALUES (2,2); INSERT INTO TEST_TBL2 (Test1, Test2) VALUES (3,3); INSERT INTO TEST_TBL2 (Test1, Test2) VALUES (4,4); ■ビュー作成 create view TEST_VIEW as select A.rowid AROWID,A.Test1 ID,A.Test2 TITLE,3 MARKER from TEST_TBL1 A union all select B.rowid AROWID,B.Test1 ID,B.Test2 TITLE,4 MARKER from TEST_TBL2 B; ■ログ作成 create materialized view log on TEST_TBL1 with sequence,rowid (Test1, Test2) including new values; create materialized view log on TEST_TBL2 with sequence,rowid (Test1, Test2) including new values; ■マテビュー作成 create materialized view TEST_MVIEW REFRESH FAST on demand as select * from TEST_VIEW; ■データ抽出 Select TEST1 FROM TEST_MVIEW WHERE TEST2 = '1'; ご回答の程、宜しくお願い致します。
すみません、どなたかご存知の方教えて下さい。 Oracleで、A列に100バイト以上のデータがあるレコードを抽出したいのですが、方法がわかりません。 アドバイスをお願い致します。
はじめまして。 初心な質問でもうしわけございませんが よろしくお願いします。 業務で、PL/SQLのソースを読んでいたら 「配列の添え字をINTEGER -> BINARY INTEGER に変更する」という コメントがありました。 どうして、そのような変更したのかがわからないし、 作成者がいないので聞く事ができないのですが、 私のほうもBINARY INTEGER とINTEGERの違いが よくわからないので、こちらでお聞きできればと 思ってます。 よろしくお願いします。
iSQL*Plusのログイン時に下記のERRORとなります。 ---------------------------------------------------------- ERROR - ORA-01017: invalid username/password; logon denied ---------------------------------------------------------- ログイン時に入力した文字列は以下の通りです。 ユーザ名: sys パスワード: **** 接続識別子: orcl ちなみに、 SQL*Plusのログイン時には下記を指定し、正常にログインできます。 ユーザ名: sys/****@orcl as sysdba パスワード: ホスト文字列: どなたかERRORの原因について教えて頂けますか？
9iから10gにバージョンアップをした経験のある方で 実際に生じたトラブルの例を教えていただきたいと思っています。 逆にまったく問題が生じなかったという情報もあれば それも教えていただきたいと思っています。 インポートユーティリティのバージョンを適切に使用していない為にエクスポート・インポート時に生じる問題はよくわかっているので、それ以外のことでお願いします。 よろしくお願いします。
下記の２表があり、表AのCAL01～31の値と表BのROOM_NOが紐付いております。 ＜表A＞ ID, CAL01, CAL02, CAL03, CAL04, CAL05, ・・CAL29,　CAL30, CAL31 1, 1, 1, 1, 1, 1, 1, 2, 2 2, 1, 1, 2, 2, 2, 2, 2, 3 ＜表B＞ ID,ROOM_NO,ROOM_CODE,KINGAKU 1, 1, 301, 1000 1, 2, 401, 2000 2, 1, 203, 0 2, 2, 301, 1000 2, 3, 401, 2000 この場合に、ORACLE9iのSQLPLUSにて以下のような結果を返したい場合、どのようなSELECT文にしたら宜しいでしょうか？ ROOM_CODE,ID, TOTAL_KINGAKU 203, 2, 0 ※2(CAL01～02の個数)×0 301, 1, 29000 ※29(CAL01～29の個数)×1000 　　　　　 2, 2000 　　　　　　　　 ※2(CAL01～02の個数)×1000 401, 1, 4000 ※2(CAL30～31の個数)×2000 　　　　　 2, 2000 　　　　　　　　 ※1(CAL31の個数)×2000 宜しくお願いします。
同一VerのREALとBATCHという二つのD/Bがあります。 実表はREAL側にあり、BATCH側にはREALに向けたD/B linkとremote synonymを実表と同名で作成しています。 REALからもBATCHからも同じように結果が得られるような構成です。 しかし、以下のSQLを両D/Bから実行すると結果が異なります。 実表のあるREALの実行結果が正しく、BATCHでの実行結果(0件)は正しくありません。 D/Blinkやsynonymには問題が無い(SQLで呼び出す各表のcountは正しく返す)ので、SQL文自体に禁じ手のような問題があるような気もしますが、SQLに精通しておらず、また作成者不在のため困っております。 select E.契約番号, A.商品番号, A.購入価格 as 商品明細_購入価格, B.購入価格合計 as 商品情報_購入価格, B.商品明細数 from ＥＩＧＹＯ管理情報 E, ＥＩＧＹＯ商品管理情報 C, ＥＩＧＹＯ商品情報 A, (select 商品番号,sum(購入価格) as 購入価格合計,count(*) as 商品明細数 from ＥＩＧＹＯ商品明細 group by 商品番号 ) B where A.商品番号=B.商品番号 and A.購入価格<>B.購入価格合計 and E.契約番号 = C.契約番号 and C.商品番号 = A.商品番号 and E.制御コード IS NULL /
こんにちは 基本的に共有サーバでas sysdba , as sysoperで接続不可だと思いますが、 やってみたら、できましたが、 なぜでしょうか？ SQL> conn sys/oracle@test10g2XDB as sysdba Connected. SQL> select server from v$session where sid=userenv('SID'); SERVER --------- SHARED SQL> sho user USER is "SYS" DB：Oracle 10g R2 OS：Linux ありがとうございます。
ひとつのORACLE_SID（インスタンス）の中に複数のデータベースがあった場合どのようにしてデータベースの接続先を、クライアントのほうから選ぶのですか？？＊
一つのサーバAがあったとします。このサーバに対してデータベース名が1,2,3,4,5というものが5つあったとします。この5つのデータベースに対して一つずつ、ORACLE_SIDが存在し、すべて同じorclだったとします。このようなことは可能でしょうか？また、可能であればクライアントからどのようにして接続先を選ぶのでしょうか？教えてください。
Oracle Developer Tools for Visual Studio .NET with ODAC10.2.0.2.21を OTNのダウンロードサイトより、ダウンロードし、インストールを行ったところ、 約96%終了時点で、エラーが発生してしまい、正常にインストールが行えないのです。 インストールは、Windows2003 Server R2に対し行っています。 インストールログの内容を見たところ、以下のようになっていました。 ちなみに、gacutil.exeは、対象のマシンには見つかりませんでした。 ------------------------------------------------------------------------------------- 【ログの抜粋】 情報: 08/11/21 21:44:33 JST: インストールを開始します。インストール・フェーズ2コンポーネントOracle Data Provider for .NET 2.0 情報: 呼出し中:アクション:SpawnActions10.1.0.2.0 Spawn installcommand = C:\Program Files\Microsoft Visual Studio 8\SDK\v2.0\\bin\gacutil.exe /I C:\oracle\product\10.2.0\client_1\odp.net\bin\2.x\Oracle.DataAccess.dll deinstallcommand = C:\Program Files\Microsoft Visual Studio 8\SDK\v2.0\\bin\gacutil.exe /u Oracle.DataAccess,Version=2.102.2.20 WaitForCompletion = true 情報: Exception occured during spawning :CreateProcess: C:\Program Files\Microsoft Visual Studio 8\SDK\v2.0\\bin\gacutil.exe /I C:\oracle\product\10.2.0\client_1\odp.net\bin\2.x\Oracle.DataAccess.dll error=2 情報: アクションからスローされた例外: Spawn 例外名: RuntimeException 例外文字列: 実行時にエラーが発生しました。 例外の重大度: 0 情報: 例外処理はユーザーにオプションの選択を求めるように設定されています。 RETRY IGNORE ------------------------------------------------------------------------------------- ２週間ほど前に、別のサーバーに対し、インストールしたときには、 正常にインストールされたことがあり、その時のログは、以下の通りでした。 ------------------------------------------------------------------------------------- 【ログの抜粋】 情報: 08/11/06 15:46:48 JST: インストールを開始します。インストール・フェーズ2コンポーネントOracle Data Provider for .NET 2.0 情報: 呼出し中:アクション:SpawnActions10.1.0.2.0 Spawn installcommand = C:\oracle\product\10.2.0\client_1\bin\ODPReg.exe C:\oracle\product\10.2.0\client_1\odp.net\bin\2.x\Oracle.DataAccess.dll deinstallcommand = C:\oracle\product\10.2.0\client_1\bin\ODPReg.exe C:\oracle\product\10.2.0\client_1\odp.net\bin\2.x\Oracle.DataAccess.dll /u WaitForCompletion = null 情報: ------------------------------------------------------------------------------------- 　installcomandの実行ファイル違うので、それが原因と思われるのですが、 　どうしたら、この違いが出るのかが、さっぱりわからないのです。 どなたか、心当たりのある方がいらっしゃったら、コメントをお願い致します。
マテリアライズドビューを作成しましたら、 『複合問合せから高速リフレッシュ・マテリアライズド・ビューを作成できません。』とエラーが出てしまいました。 下記の様に、テーブルを作成し、Viewを作成した後、 マテリアライズド・ビューを作成しました。 Viewを作成するところまでは、現在のシステムの都合上、変更する事が出来ません。 ですので、もし、マテリアライズド・ビューを作成する箇所を修正し、 エラーを回避する方法を教えて下さい。 宜しくお願い致します。 ■テーブル1の作成 (1)Create table TEST_TBL1 ( Test1 nchar(6), Test2 nchar(6) ); ■テーブル２の作成 (2)Create table TEST_TBL2 ( Test1 nchar(6), Test2 nchar(6) ); ■ビューの作成 (3)create view TEST_VIEW(ID, TITLE) as select * from TEST_TBL1 union all select * from TEST_TBL2; ■マテリアライズドビューの作成 (4)create materialized view TEST_MVIEW REFRESH FAST ON DEMAND AS SELECT * FROM TEST_VIEW; ご回答の程、宜しくお願い致します。
Redhat Enterprise Linux 5.2 でのOracle10gR2の初期化パラメータの調査を依頼されたのですが、 手元に Redhat Enterprise Linux 5.2 のインストールされたマシンが無いので、 WindowsにOracle10gR2をインストールして調査しようと思っています。 そこで質問なのですが、Oracleの初期化パラメータは、OSによって 違いがあるのでしょうか？ 私は違いが無いと想像しているのですが、どなたかご教示いただけませんか。
現在のシステムのプログラム(select文）を高速化する為、マテリアライズドビューを使用しようと思っています。 そこで、まずは制約条件を調べて、その制約に引っ掛からないかを調べようと思っています。 しかし、マテリアライズドビューの作成条件について、インターネットで検索してみましたが、なかなか見つかりません。 ですので、制約についてご存知の方がいらっしゃれば教えて下さい。 また、制約について記述しているお勧めのページがありましたら教えて下さい。 宜しくお願い致します。
いつもお世話になっております。 今、指定した年月までのデータを取得するSQL文を考えています。 例：NENGETSU_DATEカラムがDATE型で、 データとして、2008/11/12と、2008/11/18と、2008/12/12が入っているとして、11月だけのデータを取得したい。（今回は、2008/11/12と、2008/11/18を取得） どのようなSQL文を書けばよろしいでしょうか。 よろしくお願いいたします。
はじめまして、よろしくお願いします。 テーブルA、B、Cから情報を取得し、下記のSELECTイメージを表示させたいのですが、 どのようなSQLを記述すれば良いのかわからず、困っております。 どなたかご教示頂けますでしょうか。 SELECTイメージ 　日付　　　　　　キー 　------------　------------- 　9/1　　　　　　AAAAA 　9/1　　　　　　CCCCC 　9/2　　　　　　AAAAA 　9/2　　　　　　CCCCC 　9/3　　　　　　AAAAA 　9/3　　　　　　BBBBB 　9/3　　　　　　CCCCC 　9/4　　　　　　AAAAA 　9/4　　　　　　BBBBB 　9/4　　　　　　CCCCC テーブルA 　日付　　　　　　キー 　-------------　------------- 　8/31　　　　　　AAAAA 　8/31　　　　　　CCCCC テーブルB 　日付　　　　　　キー 　------------　------------- 　9/1　　　　　　AAAAA 　9/3　　　　　　BBBBB 　9/4　　　　　　CCCCC テーブルC 　日付 　------------- 　　・ 　　・ 　　・ 　　8/31 　　9/1 　　9/2 　　9/3 　　9/4 　　9/5 　　9/6 　　・ 　　・ 　　・
初めて質問させていただきます。 オラクルのデータをエクセルにおとしたいのですが、 やり方がわかりません。 回答をお願いします。
シェル初心者です。 宜しくお願い致します。 bashコマンドで起動させると上手く動くのですが、 crontabコマンドで登録すると、全く動いてくれないのです。 ネットで色々調べましたが、原因がさっぱりわかりません。 何卒ご教示お願い致します。 【シェルの内容】 ●オラクルに接続し、hoge.sqlにかかれているsql文を実行するシェルです。 cd /h/ho/hog/hoge/ sqlplus hoge/hoge2@hogehoge @/h/ho/hog/hoge/hoge.sql ちなみにhoge.sqlは、以下のような内容です。 （⇒test.sqlの内容をcsvファイルに出力する） set echo off set heading off set pause off set pagesize 0 set linesize 32767 set feedback off set trimspool on set termout off column log_date new_value log_date_text noprint select to_char(sysdate,'yyyymmddhh24miss') log_date from dual; spool TEST_&log_date_text..csv @/h/ho/hog/hoge/test.sql ※test.sqlはselect文です。 spool off exit 納期が近づいているため、かなり焦っています。 宜しくお願い致します。 ●その他 サーバ：Sun OS 5.9 oracle:9.2.0.1.0 　　　　　　　　　　　　　　　　　　　　　　　　　以上
Oracleマスターシルバーの試験を考えてます。 この試験を受けるにあたって、やはり実際のソフトウェアを 触っておいたほうがよいでしょうか？ フリーだとExpressEditionが使えるらしいですね。 将来的に業務でオラクルを使いたいと思ってますが、 現状では業務でオラクルのソフトを使えないので、 資格だけでも取っておこうと思っています。
Oracleクライアントから、他のどのプロセス（もしくはスレッドか、 コネクションか）がサーバと接続しているかを見たいですが、 クライアントからは可能でしょうか？SQLで実現できますか？ ご教授お願いいたします。
SQL初心者ではじめて質問させていただきます。 SELECT文でテーブルの1つのカラムから上3桁と下2桁を抽出し、別なテーブルのカラムの上5桁をWhere句に条件を入れて検索はできますか？ どなかたお分かりでしたら教えてください。 よろしくお願いします。
Oracle11g StandardEdition Oneを自宅PCにインストールしました。Net Configuration Assistantの「ローカルネット・サービス名構成」の追加の手順を教えてください。特にサービス名、ホスト名、その後のネットサービス名、の入力画面のところでそれぞれの項目にどこの何を入れたらいいのか分かりません。初心者です。すみませんが教えてください。
IPアドレスを検索条件に指定したいのですが、 データベースには下図のようオクテット毎に格納されています。 ComputerName|IPA|IPB|IPC|IPD| ----------------------------- Computer0001| 10|100|200| 1| Computer0002| 10|100|200| 2| IPAddressが"10.100.200.1"のComputerNameを抽出したいのですが WHERE IPA + "." + IPB + "." + IPC + "." + IPD = IPAddress のような記述方法は可能でしょうか？ よろしくお願いいたします。
はじめまして。 IT企業で営業をおこなっています。 今後、自分の勉強のためデータベースを勉強しようと考えています。 オラクルの10gのブロンズを資格目標として勉強しようとしています。 本はすでに購入済みなので、実際にオラクルHPより試用版をダウンロードしてみました。 勉強環境にはWindowsXPプロ（現在使用中）の他にサーバも用意しないといけないのでしょうか？ それともXP　PROのみで勉強環境は作れるのでしょうか？ ご教授よろしくお願いします。
データベースの初心者です。 よろしければ有識者の皆様、ご教授ください。 A表:1000件 B表:100万件 の2つの表があり select 値 from A,B WHERE 条件とした場合と select 値 from B,A WHERE 条件とした場合では応答時間が全く違います。 条件にはA表の絞り込みと２つの表の等価結合の内容を記述しています。 理由が全く分かりません。よろしくお願いいたします。
TBL_A カラム1　｜カラム2　｜カラム3　｜カラム4　｜ ---------｜---------｜---------｜---------｜ 1　　　　｜AAA　　　｜N　　　　｜1　　　　｜ ---------｜---------｜---------｜---------｜ 2　　　　｜AAA　　　｜G　　　　｜1　　　　｜ ---------｜---------｜---------｜---------｜ 3　　　　｜BBB　　　｜N　　　　｜0　　　　｜ ---------｜---------｜---------｜---------｜ 4　　　　｜CCC　　　｜N　　　　｜0　　　　｜ ---------｜---------｜---------｜---------｜ TBL_B カラム1　｜カラム2　｜ ---------｜---------｜ AAA　　　｜2　　　　｜ ---------｜---------｜ BBB　　　｜0　　　　｜ ---------｜---------｜ CCC　　　｜1　　　　｜ ---------｜---------｜ 上記のテーブル、TBL_A、TBL_Bがあるとします。 TBL_Aからカラム3='N'を抽出し、TBL_Bのカラム2でソートしたいのですが、 可能でしょうか？ 結果 ---------｜---------｜ BBB　　　｜0　　　　｜ ---------｜---------｜ CCC　　　｜1　　　　｜ ---------｜---------｜ AAA　　　｜2　　　　｜ ---------｜---------｜ …となって欲しいのですが。。。 select TBL_A.カラム2 from TBL_A, TBL_B where TBL_A.カラム3='N' order by TBL_B.カラム2 では、うまくいきませんでした。 ※ TBL_A、TBL_Bは共にカラム1がキー値です。
バインド値１：2008/10/30 20:00(文字列) DB値A：有効開始日：20081002(char),有効終了日：99991231(char) DB値B：有効開始日：20081010(char),有効終了日：99991231(char) DB値C：有効開始日：20081010(char),有効終了日：99991231(char) DB値D：有効開始日：20081029(char),有効終了日：99991231(char) where句でバインド値１ between 有効開始日 and 有効終了日としました。 単体試験で形式のミスに気付かず、また試験結果も全て取得できていたのですが、先日取得できないレコードがある事が分かりました。 本番環境の取得結果が上記のA,B,Dで、Bと同じデータなのにCが取得できません。 なぜ同じ条件で取得できるレコードとできないレコードがあるのかが 不明です(いっそ全部取れない or 全部取れるなら合点もいくのですが・・・)。 ※実際のSQLはもう少し煩雑ですが、条件式を一つずつ確認して上記の部分が問題である事までは確認しました。 情報がこれでは不足かもしれませんが、宜しくお願い致します。
OracleのINDEX RANGE SCANについての質問です。 私の理解のレベルでは、INDEX RANGE SCANは範囲検索をする時に発生し、 それ自体は効率的にインデックスを利用している状態である、と理解しています。 もっといえば、betweenを使用したり演算子に「>=」などの不等号を使用した とき以外には発生しないはずと思っていました。 しかし先日、条件部分に「=」等号しかないSQLにてINDEX RANGE SCANが発生しました。 INDEX SKIP SCAN ならまだ話はわかるのですが、間違いなくINDEX RANGE SCANでした。 範囲検索で無い場合にINDEX RANGE SCANになる意味がよくわかりません。 ■以下質問です。 範囲検索の場合にINDEX RANGE SCANになるという私の認識はあっているか。 どのような場合に、等価条件だけの場合にINDEX RANGE SCANになるのか。 等価条件だけなのにINDEX RANGE SCANになる場合、検索の仕組みについて。 ■参考情報として記述しておきます。 バージョンは9iです。 1つのテーブルに対するSELECT文で where句には4つのカラムが等価条件で指定されています。 これらのカラムは条件・カラムの値ともにNULLではありません。 関係あるかわかりませんが、カーディナリティが高いにもかかわらず 適切なインデックスが無いSQLでした。 よろしくお願いします。
SQLのSELECTについて質問です。 テーブルA、B、Cから情報を取得し、下記の画面イメージを表示させたいのですが、 どのようにテーブルを結合すればよいか判りません。 どなたかご教示ください・・・。よろしくお願いします。 ＃テーブルCから組名を取得するような処理は画面表示のロジックで行います。 ＃テーブルA、Bの結合についてのみ、教えていただきたいです。 条件 ・氏名と、所属情報の○×を表示したい ・DISTINCT等、重たい処理は避けたい 画面イメージ ｜氏名　　｜赤組｜白組｜青組｜ ------------------------------ ｜山田太郎｜○　｜×　｜×　｜ ｜山田花子｜×　｜○　｜○　｜ テーブルA ｜個人ID｜氏名　　｜ -------------------- ｜000001｜山田太郎｜ ｜000002｜山田花子｜ テーブルB ｜個人ID｜組コード｜ -------------------- ｜000001｜1110　　｜ ｜000002｜1111　　｜ ｜000002｜1112　　｜ テーブルC ｜組コード｜組名｜ ------------------ ｜1110　　｜赤組｜ ｜1111　　｜白組｜ ｜1112　　｜青組｜
はじめまして、よろしくお願いします。 oracle10g R10.1.0.2.0 WinXPPRo プロバイダ：CATV IPアドレスは自動取得 この環境にインストールしようとすると、 「ホストのipアドレスが判断できない場合に発生します」のエラーが出ますがどうすればよいのでしょうか？ すでにインストールしてあったのを、削除（UIから削除して、フォルダ、ファイル類、レジストを削除）しました。 検索で調べてみると「HOSTS」ファイルに「IPアドレス　ホスト名」を追加しましたが。結果は同じでした。 よろしくお願いします。
Oracle DatabaseにSQP*Plusを使って、接続する際に、 接続識別子を入力すると思うのですが、 接続識別子とはどういう役割をしているのでしょうか？ また、接続識別子を使う場合と使わない場合では、どう違うのでしょうか？ 接続識別子がいまいち理解できませんでした・・・
並び替えた後の表を結合したいと思っています。 UNIONを使うと、結合後でソートしてしまうので、これを回避したいです。 1つ目のＳＱＬ 　SELECT ID, NAME FROM A_TABLE WHERE F1 = '10' ORDER BY F2,F3 2つ目のＳＱＬ 　SELECT ID, NAME FROM A_TABLE WHERE F1 = '5' ORDER BY F3,F4 上記の２つの結果を１つにまとめて取得したいのです。 取得順は、１つめのSQLでF2,F3で並び替えられたデータの後、 ２つめのSQLでF3,F4で並び替えられたデータにしたいです。 どうか良い方法を教えてください。
こんにちは。 当方データベース初心者です。ものすごく困っています。 先週orcl10gをインストールしたのですが、 とてもマヌケなことにパスワードを忘れてしまいました。 なんとかログインしようとしていると、さらにアカウントにロックがかかってしまいました。 この状態から、どうすれば、ログインすることができるでしょうか。 どうぞよろしくお願いします。
先日オラクルマスターBronzeDBA11gを取得しました。続いてオラクルSilverDBA11gをとりたいのですが、Silverは10の参考書や問題集ばかりで11gは見当たりません。どの問題集を使えばいいでしょうか？10用でいいでしょうか？
OS：Windows Server 2003 DB：Oracle10g（10.2.0） sqlplusでselect結果をcsvファイルにspoolする際に空白行が出力されて困っています。 以下のsqlを実行した場合、 ----- SET ECHO OFF SET FEEDBACK OFF SET HEADING OFF SET PAGESIZE 0 SET LINESIZE 2000 SET TERMOUT OFF SET TRIMSPOOL ON spool test.csv select '"'||col1||'","'||col2||'","'||col3||'"' from table; spool off ----- 改行を含むカラムを含む行の後に空白行が出力されます。 （2レコード目のcol3は"g"と"h"の間に改行コードがあるデータが格納されているが、何故か2レコード目と3レコード目の間に空白行が出力される） ----- "abc","def","ghi" "abc","def","g hi" "abc","def","ghi" ----- これはsqlplusの仕様でしょうか。 2行目と3行目の間の空白行を削除してspoolする方法はありますでしょうか。 なお、改行を含むカラムの改行を改行以外の文字に置換して出力した場合は、以下のように空白行が出現しません。 ----- "abc","def","ghi" "abc","def","gカイギョウhi" "abc","def","ghi" -----
ORACLEのビューで下記の縦持ちレコードの値を横１列に 表示するビューを作成したいのですが、方法がわかりません。 ビューで作成するのは無理でしょうか？ ご教授ください。 請求番号　請求月　請求金額 　1 　　 4 　　　 1000 1 　　 5 　　　 1500 2 　　 4 　　　 5000 2 　　 5 　　　 2500 ↓ 請求番号　4月　 5月 1 　 1000 　1500 2 　 5000 　2500
SQL*LOADERにて NUMBER(3,0)のフィールドに、小数点以下を含む数値をもったデータをロードすると 四捨五入か何かされて整数でデータがロードされてしまいます。 テーブル、CTLファイル、csvレコード、登録結果は以下のとおりです。 テーブル： CREATE TABLE tbl1 ( CLM001NUMBER(3,0)NOT NULL, CLM002VARCHAR2(30) ) CTLファイル： LOAD DATA INFILE 'tbl1.csv' BADFILE 'tbl1.bad' TRUNCATE INTO TABLE tbl1 FIELDS TERMINATED BY ',' TRAILING NULLCOLS ( CLM001, CLM002 ) csvレコード： 0.9,aaaaa 3.1,bbbbb 登録結果(SQL*LOADER実行結果)： 1,aaaaa 3,bbbbb 小数点を含むデータをロード時にエラーとしたいのですが、何かいい方法ありますでしょうか？ 環境はSQL*Loader: Release 9.2.0.1.0になります。
RedHat ES 4.5 でOracle9.2.0.4をインストールしようとしています。 （インストールしたいのはClientの機能だけです） runInstallerを実行すると、以下のメッセージが出力されます。 ↓↓↓ [oracle@web1 Disk1]$ Initializing Java Virtual Machine from /tmp/OraInstall2008-10-21_10-01-39AM/jre/bin/java. Please wait... Error occurred during initialization of VM Unable to load native library: /tmp/OraInstall2008-10-21_10-01-39AM/jre/lib/i386/libjava.so: symbol __libc_wait, version GLIBC_2.0 not defined in file libc.so.6 with link time reference ↑↑↑ GLIBC_2.0がないと言っていますが、具体的な対処方法を 教えてもらえますととても助かります。 linuxの知識が浅くすみません、お願いします。
VB.NET2005で開発しております。 複数テーブルにある個別フィールドを一度で更新したいと考えておりますが、JOIN等使用してみたところ上手く行かず困っております。 一度で複数テーブルを更新する事は可能でしょうか？ 更新する　　更新する テーブル名　フィールドと値　共通キー table1　　　coulmn2 = A　　 coulmn1 table2　　　coulmn3 = B　　 coulmn1 table3　　　coulmn4 = C coulmn1 -------------------------------- connect = Me.DbConnect command = connect.CreateCommand command.CommandText = "UPDATE TABLE1, TABLE2 ・・・" da = factory.CreateDataAdapter() da.SelectCommand = command ds = New DataSet da.Fill(ds) conn.Close()
あるデータベース兼アプリサーバに接続しているクライアントより、 テスト環境用として構築した全く同じ環境の別サーバに接続させようと思い、 以下のtnsnames.oraの「（HOST=　）」をテスト用サーバのホスト名に変更しましたが、「ORA-12535: TNS: 操作はタイムアウトしました。」が発生します。 AAAAAAA = (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = TCP) (HOST = BBBBBBB) (PORT = 1521) ) ) (CONNECT_DATA = (SERVICE_NAME = CCCCCCC) ) ) AAAAAAA_ADMIN = (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = TCP) (HOST = BBBBBBB) (PORT = 1521) ) ) (CONNECT_DATA = (SERVICE_NAME = CCCCCCC) (SERVER = dedicated) ) ) 他に何か変更するファイルがありましたでしょうか？ ご存知の方がおられればご教示いただけませんでしょうか？ 宜しくお願いします。
＜購入予定テーブル＞ 購入予定年月　　注文NO　　商品名　　個数 ＜購入実績テーブル＞ 購入年月日　　注文NO　　商品名　　個数　　金額　　納品日 このようなテーブルが２つあります。 「年月」と「商品名」を指定すると、 ＜購入実績テーブル＞の購入年月と商品名が一致するデータと ＜購入予定テーブル＞で購入予定年月と商品名が一致し、なお＜購入実績テーブル＞にないデータ（未購入）のデータ「注文NO、商品名、個数」を一覧表示したいと思っております。 どのようなSQL文にしたらよいのでしょうか。
いつもお世話になっています。 select 項目1 from テーブル where 項目1 is null or length(項目1)>=0 質問１ 上記SQLを作成した場合、全レコードが抽出されるのでしょうか？ 疑問１ (1)項目1が空白一つの場合、length(項目1)>=0となる？ (2)nullと空文字の違いがいまいちわからない。 以上、よろしくお願いします。
Oracle9iのSQLPlusにて、日ごとのIDごとの小計をとりたいだけなのですが、 グループ関数の使い方がよくわかっていないのか上手くいきません。 以下のように出力したいと思い、以下のようなSQLを作成しましたが、、、、 ＜最終形＞ 入金日　 ID　　　名前　　請求開始日　請求終了日　合計金額 20080901 252 　あああ　20080701 20080731 17000 20080901 252 空白　　空白　　　　　空白 17000 ←　ID=252の小計 20080901 534 　いいい 20080601 20080630 18000 20080901 534 空白 　　空白　　　　　空白 18000 ←　ID=534の小計 20080901 空白 空白 空白　　 　　　空白　　　 　　35000　←　20080901の小計 ＜SQL文＞ select 入金日,ID,名前,請求開始日,請求終了日,sum(入金額) ～ group by rollup(入金日,ID,名前,請求開始日,請求終了日) ＜現状＞ 入金日　 ID 　 名前 請求開始日　請求終了日　合計金額 20080901 252 あああ 20080701 20080731 17000 20080901 252 あああ 20080701　 空白 　　　　 17000 ←　不要 20080901 252 あああ 空白 空白 17000 　←　不要 20080901 252 空白 空白 空白 17000 20080901 534 　いいい 20080601 20080630 18000 20080901 534 　いいい 20080601 空白 18000 ←　不要 20080901 534 いいい 空白 空白 18000 ←　不要 20080901　空白　空白　　 空白 空白 　 　　35000 上記、SQL文ではrollupにて全項目を指定しているから当然なのかもしれませんが、 試しに、小計対象外を外に出して「group by 名前,請求開始日,請求終了日,rollup(入金日,ID)」としてみたりしましたが上手くいきませんでした。 要はグルーピング対象外および小計対象外の項目の扱い方がよくわかっていないのかと思います。 どなたかご存知の方がいらっしゃれば是非ご教示いただけませんでしょうか？ 宜しくお願いします。
db file scattered readが発生したときsql ordered by gets(statspack)にあがったsqlをチューグする必要があると見たのですがいまいちつながりがわかりません。バッファを多く使うsqlはマルチブロック読み込みを起こす原因のひとつだという考えでよろしいでしょうか？
ヤフーのホームページを利用しているが検索した文字が残っています 子供も同じパソコンを使うので私が何を調べているか知られたくないので削除する方法を教えください
テーブル(A) 　　　 テーブル(B) ID --- 111 　　　　 ID ---111 生年月日 --- 2007/02/18 　　　日付 --2008/10/3 テーブル(A)には、ＩＤ、生年月日があります。 テーブル(B)には、ＩＤ、日付があります。 テーブル(A)の生年月日とテーブル(B)の日付を計算し 表示したいと考えていますが、うまく行きません…。 やりたい事としては、テーブル(B)の値とテーブル(A)の値を計算し 2008 - 2007 = 1なので1才と表示し、 10 - 02 = 8なので、8ヶ月と表示したいと考えています。 やり方として一番どのようなやり方が キレイなSQLを書けるのでしょうか？ 一応http://ayuayuayu01.seesaa.net/article/106439889. …を参考にして やるか、またはSUBSTRで行う方法をイメージしています。 出来れば1回で実行したいので、SUBSTRは向いていないのかなぁっと思っています。
制御ファイルのトレースファイルを使用して、制御ファイルをもとに戻すのは、インスタンスを停止して、スクリプトを読ませるだけで作業としては完了ですか？
Oracle9iを使う事になりました。 これまではSQLServer2005、MSDEなどしか 使用していなかった為、Oracleは初めてです。 インストールしSQLプラスで接続は出来ました。 そこからcreate文でテーブルを作ってSELCTして・・・ とはなんとなく出来るのですが エンタープライズマネージャーで見ると？？となります。 スキーマの考え方などがよく分かりません。 最短でOracleの考え方を理解できるサイトや資料がありましたら 教えてください。 ちなみに今は部品番号：J06245-01というPDFをみてます。
例えばREDOログファイルからアーカイブログファイルに書き込みをしている際（自動に）にエラーが起こったとします。（ORA-00257このエラー？？）こんな場合、エラーメッセージはどのタイミングでユーザに表示をするのですか？？ふつうは何かsql文を発効し、その要求に対してoracle error起こったことが表示されますよね。
Oracle10g を自動でインストールできる (インストール、データベース作成、ユーザー作成まで) ソフトを探しています。(フリーでお願いします) 何か良いものはないでしょうか？ また、調べていくとインストール方法の一つに サイレントインストールと言うものがあるみたいなのですが、 Oracleのサイトで一応やり方は乗っていたのですが、 特にデータベース作成用のレスポンスファイルの作成方法が よく解りません。 (インストール用のレスポンスファイルは記録モードで ある程度作成できたりするみたいですが、 こちらはどうやったら記録モードになるのか 方法もかかれてないですし・・・) それ以降のユーザー作成についてもどのようにしていくのか 解らないのですが、 何か詳しくやり方が載っているサイト、資料等はないでしょうか？ とにかく、自動でインストールからデータベース作成、 ユーザー作成まで行えるようにしたいと思います。 色々な方法を探しておりますので、 よろしくお願いいたします。
ColAには'01'、'02'、'03'のレコードが二件ずつ存在します。 表１は、ColAとColBの組み合わせが合っていますが、 表２は、ColAが'03'のレコードのColBには、'B'が無く'C'が存在します。 以下のようにColAとColBの組み合わせが合っている事が分かるＳＱＬを 組みたいです。 どのようなＳＱＬを組めば良いか教えて頂きたいです。 一応、副問い合わせを使えばどうにかなるのかと思っていますが、 具体的にどう組めばよいのかが分かりません。 どなたか分かる方、教えて下さい。 環境：Oracle10g 表１(正常) ColAColB 01A 01B 02A 02B 03A 03B 表２(エラー) ColAColB 01A 01B 02A 02B 03A 03C
pl/sqlでのパッケージ内のプロシージャ内での例外について質問です。 元となる表、注文表（主キー→年度、注文番号との複合主キー）があります。例えばここに、2008年代のデータしかはいっていないとします。 プロシージャにパラメータ2007を入れて呼び出すと、注文表には2007年代のデータはないのでエラー文”データが存在しません。"と表示したいんです。プロシージャ内に BEGIN SELECT COUNT(*) INTO COUNTER FROM 注文表 WHERE 年度＝パラメータ（ここでは2007) IF COUNTER=0 THEN RAISE ユーザ定義例外; これで実現できますか？？他に何かいい案があれば教えてください
Oracle Database 10gのインデックスについて、 再構築（ALTER INDEX ___ REBUILD ）コマンドの 検証を行うため、意図的にインデックスの断片化を 発生させたいと考えています。 （一般的にはDELETE、INSERT、UPDATEを繰返すうちに 断片化していくものです。） どなたか、インデックスを断片化させる スクリプトのサンプルなどをお持ちでないでしょうか？ よろしくお願いいたします。
こんにちは 【テーブル概要】 テーブルA(会員番号テーブル) ・会員番号(PK) テーブルB(買い物情報テーブル) ・会員番号(PK) ・買い物月(PK) ・商品番号(PK) ・請求金額 【したいこと】 上記のようなテーブルがあった場合に、以下のような出力を行いたいと思っています。 会員番号,商品番号,買い物月(7月)の請求金額,買い物月(8月)の請求金額,買い物月(9月)の請求金額 --------,--------,-----------------------,-----------------------,----------------------- 会員1　 ,商品1　 ,　　　　　　　　　　500,　　　　　　　　　　　 ,　　　　　　　　　　100 会員1　 ,商品2　 ,　　　　　　　　　　　 ,　　　　　　　　　　300,　　　　　　　　　　100 会員2　 ,商品1　 ,　　　　　　　　　 1500,　　　　　　　　　　100,　　　　　　　　　　100 会員3　 ,商品3　 ,　　　　　　　　　　　 ,　　　　　　　　　　　 ,　　　　　　　　　　100 会員3　 ,商品4　 ,　　　　　　　　　　　 ,　　　　　　　　　　200,　　　　　　　　　　　 【試したこと】 一度、テーブルBを買い物月単位に割ってみました。 テーブルB_買い物月(7月) ・会員番号(PK) ・商品番号(PK) ・請求金額 テーブルB_買い物月(8月) ・会員番号(PK) ・商品番号(PK) ・請求金額 テーブルB_買い物月(9月) ・会員番号(PK) ・商品番号(PK) ・請求金額 それからINNER JOINで繋いでいけば、できるかと思ったのですが 実際の買い物月は結構過去まであり(2003年くらい)、ありえない程深いネストになってしまいます。。 どなたかお知恵をお貸し願います。
EMP表 EMPNO ENAME JOBNO SAL DEPTNO ----- ------ ------ ----- ------ 1000 ADAMS 100 1000 10 1010 MILLER 200 1200 10 1020 SCOTT 100 800 30 DEPT表 DEPTNO DNAME EMPNO ----- ------ ------ 10 PERSONNEL 1000 20 ACCOUNT 30 DESIGN 上記表に対して、 [SQLコマンド] select e.empno , e.ename , dname , m.ename from emp e join dept d using(deptno) left outer join emp m on d.empno = m.empno; のSQL文を打つと、 EMPNO ENAME DNAME ENAME ----- ------ ------ ----- 1000 ADAMS PERSONNEL ADAMS 1010 MILLER PERSONNEL ADAMS 1020 SCOTT DESIGN と表示されますが、これが表示される過程がわからないです。 emp表とdep表をdeptno列で結合 from emp e join dept d using(deptno) この結合により EMPNO ENAME DNAME ・・・・・・ ----- ------ ------ ----- 1000 ADAMS PERSONNEL ・・・・・・ 1010 MILLER PERSONNEL ・・・・・・ 1020 SCOTT DESIGN ・・・・・・ となります。この部分は分かりますが、 次の、この表とemp表をempnoで結合 left outer join emp m on d.empno = m.empno; した際に、 EMPNO ENAME DNAME ENAME ----- ------ ------ ----- 1000 ADAMS PERSONNEL ADAMS 1010 MILLER PERSONNEL ADAMS 1020 SCOTT DESIGN となりますが、ENAME(4番目の列)で ADAMSと表示される過程が見えてきません。 この部分の過程について、ご教授の程お願い致します。
オラクルブロンズ取得を目指して勉強しています。とても基本的なことで、いまいち分からないことがあるのですが・・・以下のユーザ、ロール、権限、表領域とも呼べるべきものの位置付けがはっきりしません。 ・SYS ・SYSTEM ・SYSAUX ・SYSDBA ・SYSMAN ・SYSOPER ・DBA DBAなんかはまるでユーザかのように書かれているあいまいな参考書もあり、初心者には混乱の元です。そこで整理してみたんですが、以下のような感じで間違いないでしょうか？ ●表領域：SYS、SYSTEM、SYSAUX ●ユーザ：SYS、SYSTEM、SYSMAN ●スキーマ：SYS、SYSTEM、SYSMAN ●権限：SYSDBA、SYSOPER、DBA ●ロール：SYSDBA、SYSOPER、DBA
こんにちは。OracleのSQLを勉強中の者です。 SELECT文について質問させてください。 下記のテーブルから購入フラグがすべて「1」のユーザ名を抽出したいのですが、SQL文をご教授いただけますでしょうか。 テーブル名：商品購入テーブル ユーザ名　 　商品名　 　　購入フラグ ----------　----------　-------------- 001　　　　　　AAA　　　　　　　1 001　　　　　　BBB　　　　　　　1 001　　　　　　CCC　　　　　　　0 002　　　　　　DDD　　　　　　　1 003　　　　　　AAA　　　　　　　1 003　　　　　　EEE　　　　　　　1 004　　　　　　CCC　　　　　　　0 このテーブルからですと、002と003のユーザが抽出される形となります。 以上、よろしくお願いいたします。
oracleをサーバにインストール後、インターネット経由でOracle Enterprise Manager（OEM）を接続すると、最初に認証？登録？が来てはいをクリックすると認証？登録？されますが、サーバのコンピュータ名を変更する前に行ってしまいました。 コピュータ名を変更して、再登録したいのですが、取り消し方が分かりません。 やり方を教えて下さい。
データベースをコマンドで作成しています。手順としては環境変数設定→oradimでパスワードファイルの作成→PFILEの作成→SPFILEの作成→インスタンス起動→CREATE DATABASEスクリプトとなっていました。しかし、 (1)環境変数設定 (2)PFILE作成 (3)(startup nomountコマンドはしていません）CREATE DATABASE実行 データベースが完成しました。と表示されました。現在はここまでの状態です。（データディクショナリ作成はまだです。） いくつか手順をとばしていることにきづいたのですが、もう一度最初からやり直したほうがいいですか？
SQL（oracle）での並べ替えで質問がございます。 TABLE:AAA NO, NAM,GNo, DATE ------------------ 1, abc, 3, 09/01 2, bcd, 2, 08/25 3, cde, 2, 08/23 4, def, 3, 09/05 5, efg, 1, 09/03 6, fgh, 3, 08/21 のようなテーブルがあったときに、下記条件で並べ替えを したいと思っています。 １．GNo毎に最小のDATEを抽出し、各Gnoの最小のDATEのうち 　　小さいGNoのグループでソート。 ２．１で同一GNo内ではDATEが小さい順にソート。 つまり、上記の例では、各GNoの最小のDATEは、 1・・・09/03 2・・・08/23 3・・・08/21 なので、これからDATEの小さい順に、GNoが 3、2、1の順にソートをします。各GNo毎にもDATEが小さい順に ソートをするので、結果として、 NO, NAM,GNo, DATE ------------------ 6, fgh, 3, 08/21 1, abc, 3, 09/01 4, def, 3, 09/05 3, cde, 2, 08/23 2, bcd, 2, 08/25 5, efg, 1, 09/03 のような順番にしたいのです。この結果のようにするには、 どのようなSQLにすればよいでしょうか？ よろしくお願いいたします。
初歩的質問で申し訳ないのですがご教授下さい。 ※１のような、複数行のSQL文を一括実行し、全てのレコードがエラー発生無い場合のみコミット処理をして、 1行でもエラーがある場合全てをロールバックしたいのですが。 どのようにすれば良いのでしょうか。。 ■DB Oracle9i Enterprise Edition Release 9.2.0.1.0 ※１ INSERT INTO TT_売上明細( 売上番号, 明細番号, 商品コード, 売上数量) VALUES( 6, 4, 1, 1); INSERT INTO TT_売上明細( 売上番号, 明細番号, 商品コード, 売上数量) VALUES( 7, 4, 2, 2); INSERT INTO TT_売上明細( 売上番号, 明細番号, 商品コード, 売上数量) VALUES( 8, 4, 3, 3);
insert into selectについて教えてください。 あるテーブルからselectした値と、連続する値を 同時にinsertするする事はできますでしょうか？ 使用DBはOracle9iです。 例えば、以下のようなテーブルがあった時に テーブルA カラム1 カラム2 カラム3 カラム4 この時に、カラム1,カラム2,カラム3を別のテーブルからselectし、 カラム4には「100001」から順に値を１ずつ増やしてながら セットしたい場合、１つのSQLで実行する事は可能でしょうか？ ヒントなどいただけたらと思います。よろしくお願いします。
Oracleのデータベース設計についてです。なん点かあります。 １.CREATE DATABASE文で表領域の指定の箇所でEXTENT MANAGEMENT LOCAL UNIFORM SIZEとあるのですがここではエクステントの管理方式を指定していると思うのですが、SIZEは何を基準にきめたらよいのでしょうか？データブロックサイズは8KBです。 ２．SYSTEM,SYSAUX,UNDO,TEMP,USERの中で表領域の自動拡張を選ぶときに何か決める基準があれば教えてください。 ３．SYSAUX表領域をCREATE DATABASE文で作成時にサイズを設定する個所では何を基準に決めたらよいですか？ ひとつでも教えていただけたら嬉しいです。
OracleのSQLについて質問があります。 UPDATE文を１度しか使わずに、抽出条件の異なるデータを複数個更新することは可能ですが？ 例えば、 テーブル名：TEST カラム： A B C D UPDATE A B C D 100 010 350 300 → 100 010 200 250 100 020 350 000 → 100 020 200 280 という感じで更新したいのですが、どんなUPDATE文を組み立てればいいのか思いつきません。 なので、何かきっかけになるようなことでも構いませんので、教えてください。 よろしくお願いします。
給料表として属性が社員ID、給料適用開始年度、給料適用開始月、給料があります。例えば、 1行目→101、2008、8、200,000 2行目→101、2008、10、210,000 3行目→102、2007、12、190,000 というデータがあった場合に2008年の9月の社員全体の給料合計を求めたいんです。この場合社員101の人は9月時点の給料は200,000で102の人は190,000のままです。このような場合どうSQL or PL/SQLを書けばこの情報を得ることできますか?
table A A_No, 社員番号, 住所 1 ,0001,'東京都' 2 ,0002,'神奈川県' 3 ,0003,'千葉県' table B B_No,社員番号,履歴番号,日付 1,0001,1,2008/09/11 2,0001,2,2008/09/11 3,0002,1,2008/09/05 4,0002,2,2008/09/11 上記のようなtable A, tableBがあるとします。 社員ごとに今日日付で最小の履歴番号を持つB_Noを取得したいのです。 上記で言えば、今日が2008/09/11 だとして社員0001は 最小履歴番号 1 、社員0002は最小履歴番号 2 の B_Noを取得したいのです。 ただし、フレームワークの仕様によりgroup byが使えません・・・。 なにかいい案はありますか？ どなたか助けてください！ よろしくお願いします。
　 お世話になります。 仮想環境(VMware)上にある Oracle10g for Solaris へクライアントPC(WinXP SP2)からSQL*Plusで 接続を行ったところ問題なく成功するのですが、サーバー機(WindowsServer2003 R2)から接続を行うと ORA-12154 TNS:指定された接続識別子を解決できませんでした というエラーが出て接続できませんでした。 クライアントPCで接続に成功した時と同じユーザー名、パスワード、 ホスト文字列を入力していますのでその辺の間違いではないようです。 サーバー機からOracleがインストールされている仮想環境へのpingは通っています。 サーバー機のブラウザ(IE6)からOracle Enterprise Managerへのログインも成功します。 ※IEのセキュリティ設定の「信頼済みサイト」に追加後に成功。 ちなみにサーバー機は WindowsServer2003 R2 をインストールしたまま （セキュリティ関係の設定は特に変更していない）の状況です。 Windowsファイアウォールも無効になっています。 何か WindowsServer2003 のデフォルトのセキュリティ設定が影響して 接続できないのかと思っているのですが・・・何が原因なのでしょうか？ よろしくお願いいたします。 【環境】 クライアントPCが１台、サーバー機が１台、サーバー機上にVMwareでの仮想環境構築。 仮想環境にはSolaris10、Oracle10g for Solarisがインストール済み。 ●クライアント ：PC_A cpu ：Intel C2D(32bit) os ：WinXP SP2 .net framework ：1.1、2.0 Oracle Client for Win(32bit)導入済み ●サーバー機 ：SVPC_A cpu ：Intel (64bit) os ：WindowsServer2003 R2 .net framework ：1.1、2.0 Oracle Client for Win(32bit)導入済み Windowsファイアウォール無効 ●VMwareでの仮想環境（SVPC_A上に作成） 仮想サーバー ：VMSVPC os ：Solaris10 database ：Oracle10g for Solaris(64bit) 【状況】 クライアントPC(PC_A)のウェブブラウザ(IE6)からOracle Enterprise Managerへのログイン可能。 SQL*Plus での接続も問題なし。 （ログオン時の入力例） 　　ユーザー名：system 　　パスワード：xxxxxxxxxx 　　ホスト文字列：ORCL_VMSVPC サーバー機(SVPC_A)のウェブブラウザ(IE6)からOracle Enterprise Managerへのログイン可能。 SQL*Plus での接続でエラーが発生。 （ログオン時の入力例） 　　ユーザー名：system 　　パスワード：xxxxxxxxxx 　　ホスト文字列：ORCL_VMSVPC
現在使用しているOracle9iについて、 Editionを確認したいのですが確認方法を教えてください。 ・契約書やCD-ROMは参照不可 ・Windows2000SERVER ・Oracle9i Release 9.2.0.4.0 ・インストールされているサーバのオペレーション可 ・下記SQLをsystemで実行した結果 SELECT * FROM v$version; BANNER Oracle9i Release 9.2.0.4.0 - Production PL/SQL Release 9.2.0.4.0 - Production CORE9.2.0.3.0Production TNS for 32-bit Windows: Version 9.2.0.4.0 - Production NLSRTL Version 9.2.0.4.0 - Production これってStandard Editionってことなんでしょうか？？
Object Browserというツールにスクリプト出力（コンパイルされたソースを外部出力する）という機能があります。 これと同じことをSQL *PLUSを使用してできないでしょうか？ ご教授いただきたく存じます。 よろしくお願い致します。
オラクル9iを用いて開発されたクラインアント・サーバ型のアプリケーションAがあります。そして、オラクル10gを用いて開発されたクラインアント・サーバ型のアプリケーションBがあります。 AとBのサーバは異なるハードウェア上で動作しているのですが、同一のクライアントでAとBを動作させたいと思っています。 このクライアントにオラクルクライアント9iと10gを両方インストールし、Aからは9iを、Bからは10gを利用することは可能でしょうか？ よろしくお願いします。
お世話になります。 エラーデータチェックのSQLを作成していますが、 難航しています。 バージョン：Oracle10.2 Aテーブル　 a1 b1 c1 a2 b2 a3 b3 c3 　　 Bテーブル a1 b1 a2 gg a3 上のように2つのテーブルがあるとします。 2つのテーブルの各項目がエラーあるかどうかをチェックします。 上の場合は２行目のレコードがエラーとし、取得したいです。 結合条件はa,b,c。ただどれもNULLの場合があって、３つのうち必ずどれかが値が入っています。A.a1とB.a1があっていれば、正常データとします。 大量データため、WHERE句に否定条件はちょっと厳しいです。 自分が考えたのはMINUS 例：SELECT * FROM Aテーブル LEFT JOIN Bテーブル 　　ON (A.a = B.a OR A.b = B.b OR A.c = B.c) MINUS SELECT * FROM Aテーブル LEFT JOIN Bテーブル ((ON A.a = B.a OR (A.a IS NULL OR B.a IS NULL)) (AND A.b = B.b OR (A.b IS NULL OR B.b IS NULL)) (AND A.c = B.c OR (A.c IS NULL OR B.c IS NULL))) 後々考えたらやっぱり抜けるところがある気がします・・・ どなたかご教授いただけると助かります。 よろしくお願いします。
ローカルPCからSQLplusを使いたいのですがサーバーへ接続するためには何が必要でしょうか？ 初心者ですみません。
PL/SQLを利用して、下記3つのSQLを一括でinsertしたいと思います。 (値は、任意でありません。) PL/SQLに関して、初心者なので、どのように記述してよいか 分かりません。 サンプル的なソースを用いて解説して頂けるとありがたいです。 (1)INSERT INTO tb1(列1, 列2) VALUES('値1','値2') (2)INSERT INTO tb1(列1, 列2) VALUES('値3','値4') (3)INSERT INTO tb1(列1, 列2) VALUES('値5','値6')
Oracle9i クライアントをWindows2008サーバにインストールしたいのですが クライアントはインストールできたのですが、パッチをあてるインストーラが不明なエラーと表示され起動しません。 Windows2008サーバーに９ｉクライアントはインストールすることができるのでしょうか？ 目的はWindows2008でのターミナルサービスにて９ｉ使用のアプリを動かしたいと思っています。 よろしくお願いします
GROUP BYの記述方法について教えてください --------------------- 受注データ(テーブル) --------------------- 品目CD 受注数 00001　　10 00001　　10 00002　　20 00002　　15 --------------------- 品目マスタ(テーブル) --------------------- 品目CD 品目名 00001　　えんぴつ 00002　　けしごむ 00003　　色鉛筆 上記二つのDBから、品目ごとの受注数の合計を取得するときのSQL文として、どうするのが正しいのでしょうか？ --------------------- 欲しい結果 --------------------- 品目CD 品目名 　受注数 00001　えんぴつ　20 00002　けしごむ　35 (考えられるSQL) CASE１：受注データの品目CDと品目マスタの品目名のグループ化 SELECT A.品目CD, B.品目名, SUM(A.受注数) FROM 受注データ A, 品目マスタ B WHERE A.品目CD = B.品目CD GROUP BY A.品目CD, B.品目名 CASE２：受注データをグループ化した結果と品目マスタを結合 SELECT X.品目CD, X.受注数合計, Y.品目名 FROM 　（SELECT 品目CD, SUM(受注数) 　　FROM 受注データ 　　GROUP BY 品目CD）X，品目マスタ Y WHERE X.品目CD = Y.品目CD CASE３：品目マスタの品目CDと品目名のグループ化 SELECT B.品目CD, B.品目名, SUM(A.受注数) FROM 受注データ A, 品目マスタ B WHERE A.品目CD = B.品目CD GROUP BY B.品目CD, B.品目名 レスポンスも含めて教えてください。 よろしく、お願いします。
よろしくお願い致します。 今、ASPによるWebシステムを作成しています。 データはSQLserver・accessによって管理しています。 システムを動作させているサーバをＡとします。 同じネットワーク上のＢというサーバのOracleDB内の、ある情報の入ったテーブルを、Ａ上のaccessからリンク(地球のマーク)しています。 そのリンクテーブルを参照して、ＡのWebシステムを動作させるところ(Select文によるデータ抽出)があります。 しかし、エラー「ODBC--"XXXXX"への接続が失敗しました。」と出てしまいます。 接続にはODBCを利用しており、accessを開いて直接テーブルを見ようとすれば見れます。 しかし、Web上で動作させようとするとエラーが出ます。 何が原因と考えられますでしょうか？ ご教授お願い致します。 補足ですが、 OracleのバージョンはＡ、Ｂ共に同じです。 A:Win2000server 、B:Win2003server tnsnames.oraは修正してあり、テーブルも参照は出来ているので問題ないと思います。 Aのaccess(リンクテーブル)からBのテーブルを参照するにはパスワードが必要ですが、レジストリの設定により入力不要にしています。
みなさん、こんにちは。 以前に、会社のＰＣ（Win XP SP3）に Ocracle 9.2 の クライアント環境をインストールしてもらいました。 必要なくなったのでアンインストールしたいのですが、 インストーラがありません。 下記のような対応で問題ありますか？ ・サービス停止（Oracle ～で始まるサービスすべて） ・パス削除（ネット検索でよく紹介されているもの） ・レジストリ削除（　〃　） ・ＯＳ再起動 ・エクスプローラで Oracle フォルダを丸ごと削除 よろしく、お願いします。
Oracel9 のSQLについて教えてください。 データの削減（サマリ）を狙っているのですが・・・ 下記の様なデータを結合？したいのですが、 どのようにすればいいかわかりません・・・ テーブル名：乗車時間 氏名、乗り物、乗車開始時間、乗車終了時間 Aさん、車、08：15、08：30 Aさん、車、08：30、09：00 Aさん、車、09：00、09：30 このデータを・・・・ 氏名、乗り物、乗車開始時間、乗車終了時間 Aさん、車、08：15、09：30 の一行にしたいのです。 VB6とSQLを組み合わせれば、なんとか行けるのですが、 （大分、VB6に依存してしまう・・・） Oracle側だけの処理で何とかしたいのです。 こうなると、やはりストアドプロシージャーを使用するしかないのでしょうか?? 何卒、皆様のお知恵を貸して下さい。お願いします。
PL/SQLでの開発にあたり、もし良い方法がありましたら教えて下さい。 例外やORACLEエラー発生時、EXCEPTION処理としてUTL_FILEパッケージを使用したログ出力を行っています。 この際に、その処理の中で使用している全ての変数の内容を出力したいのですが、例えばV$テーブル等で、変数の内容を保持しているようなものは無いでしょうか？ 一変数ずつ出力していると大変なので、例えばセッション情報を引数にして、そのセッションで使用されている変数内容を全て出力するようなログ関数を作りたいのです。 以上、よろしくお願いします。
select OBJECT_NAME from USER_OBJECTS where OBJECT_TYPE = 'PACKAGE BODY' ↑で、存在するパッケージの取得は可能ですが、 では、パッケージ中に定義されるファンクションおよびプロシージャの存在チェックは可能でしょうか？ 簡単ではございますが、ご教示頂ける方 何卒宜しくお願い致します。
初めまして。sql初心者です。OracleのSQLについて質問があります。 「update Aテーブル set Aテーブル.構成順 = (select Bテーブル.順番 from Bテーブル where Aテーブル.ID = Bテーブル.ID and Aテーブル.種類 = Bテーブル.種類CD)」 こういった内容のSQLって発行できるんでしょうか。 Bテーブル.種類CDの"種類CD"で「コンポーネント"種類CD"を宣言してください」というエラーになります。 書き方が分かりません。。 すいませんが教えていただきたく思います。 よろしくお願いいたします。
お世話になります。 オラクル11ｇをVistaにインストールしようとしています。 UIを起動して、パスワードなどを入力した後、次へを押すと、 「製品固有の前提条件のチェック」という画面に行きます。 そこで、「ネットワーク構成の用件を確認中」 というチェック項目でエラー（？）が発生しているようで下記のメッセージが表示されます。 問題: インストールによって、システムのプライマリIPアドレスがDHCP割当てであることが検出されました。 推奨: Oracleでは、DHCP割当てのIPアドレスを持つシステムへのインストールがサポートされます。ただし、このようなシステムにインストールする前に、Microsoft LoopBack Adapterをシステムのプライマリ・ネットワーク・アダプタにするように構成してください。DHCPで構成されたシステムへのソフトウェアのインストールの詳細は、インストレーション・ガイドを参照してください。 ======================================================== 上記の推奨のloopback adapterをインストールまではできたのですが、 それをプライマリ・ネットワーク・アダプタに設定する方法がわかりません。 コントロールパネル＞ネットワーク接続を確認すると、 「ローカルエリア接続２」が増えてはいるのですが、 「識別されていないネットワーク」と表示されています。 右クリック＞状態を確認すると、メディアの状態は有効となっています。 お手数ですが、よろしくお願いします。
PG初心者です。 ＳＱＬで下記のような文を実行すると「文字が無効です」というメッセージが出てしまいます。 WHERE句より前は間違っていないようです。 ""で括ったテーブル名等も間違いないことを確認済です(文字は伏せます）。 となると｛ts…以下になると思いますが、何がまずいのでしょうか。 WHERE ("*****"."@@@_@@@@">={ts '1998-07-02 00:00:00'} AND "*****"."@@@_@@@@"<{ts '1998-07-03 00:00:00'})
OS：winXp オラクル　バージョン：10.2 ◎作業 １．testユーザをexpでバックアップ(BK1.dmp)を作成しました。 ２．testユーザのテーブルのレコードを変更、削除追加などを行う ３．testユーザにimpでバックアップ(BK1.dmp)を行ったところ『一意制約エラーが発生します』のエラーが出ます。 (1)そのままのエラーだと思うのですが、この場合testユーザを再作成した方がいいのでしょうか？ (2)１の状態に戻す方法が、他にもあるのでしょうか？
稼動していたORACLEサーバにリモート接続できなくなり、DBにコネクトもできな い状況となりました。原因を追究したいのですが、調べ方がわかりません。 環境は以下の通りです。 <DB Server> OS：Windows Server 2003 R2 Oracle：10.2.0 （設定は、ほぼインストール時のデフォルト設定） <APL Server> OS：Windows Server 2003 R2 IIS 6.0 + VB.net(DbAccessOracleで接続) とりあえず、em-application.logは以下のようになっていました。 このあたりが怪しいと思うのですが、どう解釈していいのかわかりません。 em: genwallet: destroy em: dynamicImage: destroy em: jobrecv: destroy em: upload: destroy em: redirect: destroy em: 9.0.4.1.0 Stopped Stopped (JVM termination) 原因の調査方法を教えてください。 ○○○ファイルのＸＸを見て・・・・・のアドバイス等、助かります。 よろしくお願いいたします。
ＰＬ／ＳＱＬ勉強中なのですが、１つのパッケージの中に同じ名前のプロシジャが２つ書かれているソースを見つけました。 引数の数は違ってました。 実行する時は同じ名前で、引数の数によって動作が変わってくる。 こういう事も可能なんでしょうか？ （実際動いているので可能なんでしょうけど…） 簡単にで結構ですので、少し説明を頂けないでしょうか？ または参考になる良いサイト、本など教えてください。
SQLの表結合についてですが、以下のような２つのテーブルを結合する場合、 表A ID,RENBAN,NO,NO1,NO2 1,1,1,1,0 1,2,2,1,2 表B ID,KUBUN,NO,SYOUSAI_NO 1,1,1,11111 1,1,2,22222 1,2,1,33333 1,2,2,44444 表BのKUBUNが1の場合、 from 表A inner join 表B on 表A.ID = 表B.ID and 表A.NO = 表B.NO 表BのKUBUNが2の場合、 from 表A inner join 表B on 表A.ID = 表B.ID and 表A.NO1 = 表B.NO および from 表A inner join 表B on 表A.ID = 表B.ID and 表A.NO2 = 表B.NO とした場合、以下の最終結果にしたいのですが・・・ ID,RENBAN,NO(SYOUSAI_NO),NO1(SYOUSAI_NO),NO2(SYOUSAI_NO) 1,1,11111,33333, 1,2,22222,33333,44444 そもそもこれは可能なのでしょうか？ 意味わからなければ補足致します。 ご教示いただけますでしょうか？
登録処理、更新処理、削除処理を行う際に 他ユーザからのアクセスを制限するために 登録、更新、削除処理を行う前にロック処理を行おうと思っています。 その際にテーブルのロックがすでにしている場合や テーブルのロックに成功した、テーブルのロックに失敗 した場合に戻り値を返すのでしょうか？ お分かりになる方よろしくお願い致します。 一応イメージとして LOCK TABLE テーブル名称 IN SHARE ROW EXCLUSIVEの処理の後 UPDATE文や、INSERT、削除などを行おうと思っています。 よろしくお願い致します。
会社で「oracle」の勉強をするようにと言われており、 勉強に役立つサイト(練習問題など)などがありましたら教えて頂ければと思います。 とくに会社でなにかを作るなどの目的があるわけではなく、「oracleが使えるようになって仕事の幅を広げる」目的です。 よろしくお願いいたします。
こんにちは 教えてください。 現在.net vb(VS2008)でORACLE10Gを使用しアプリ開発を行っております。 ERツールを使用してDBを構築し使用していますが、画面入力時に処理が重く実装に耐えられない状況です。いったんDBのリレーションやフォーリンキーを外して再度構築した所、パフォーマンスが改善されました。 DBのリレーション（フォーリンキーの設定）はむやみに設定しない方がいいのでしょうか？ よろしくお願いします。
こんばんわ！ Oracle9iのSQLPlusにて、table_Aテーブルの「AAA」に登録されている値ごとにカウントをとりたいだけなのですが、未入力分のカウントも必要になります。そこで以下のようなSQL文を作りました。 select case when AAA IS NULL then '未入力' else AAA end, count(distinct BBB) from table_A group by GROUPING SETS((AAA),()) 結果は以下のように最後の合計行にも未入力が入ってしまいます。 AAA 　　count あ　　　10 い 　　5 う　　　6 え　　　15 お　　　12 未入力　7 未入力　55　←GROUPING SETS関数による合計 いろいろ試してみましたがうまくいきません。 どなたかご教授いただけませんでしょうか？ 宜しくお願い致します。
こんばんわ！ PL/SQLの超初心者なのですが、以下ように「aaa」という変数に一つ目のselect文の結果を代入して、二つ目のselect文のテーブルにその名前を当てはめたいだけなのです。 DECLAER aaa VARCHAR2(30) BEGIN select max(TABLE_NAME) into aaa from ALL_TABLES Like '***'; select * from aaa END; ところが、結果は「表またはビューが存在しません」となります。 このような使い方はできないのでしょうか？ どなたかご教示いただけませんでしょうか？宜しくお願いします。
はじめまして テーブルAとBがあります テーブルAをUPDATEする時にBのフィールドの値を使うのはわかるのですが UPDATE A SET A.フィールド = (SELECT B.フィールド FROM B WHERE Bの条件) ここで、B.フィールドの値が'X'なら、そのまま代入。違う場合は'Y'を入れるような場合、1回のSQLで出来るでしょうか？ 出来るのであれば、どのようなSQLか御教授願います。よろしくお願いします。
以前「売上品で”竹輪”と”胡瓜”を含んだ担当コード」の出し方で教わり出来ました。その節は有難うございました。 今度また困ってしまったのですが同じようにサブクエリを用いて検索しようと思うのですがうまく出来ません。 売上品の竹輪か品コードのどちらかを含むものを検索したいのですがレコードが全く出てきません（エラーにもなりません・・・） 何がいけないのか見当がつきません・・・ 品コードは売上品に紐付けされているコードです。 _____担当_____商品_____売上品_____品コード _____XXXX_____1111______竹輪______T000001 _____XXXX_____1111______胡瓜______K000005 _____XXXX_____1111______西瓜______S000010 _____XXXX_____1111______パン______P000023 _____YYYY_____2222______竹輪______T000001 _____YYYY_____2222______茄子______N456789 _____YYYY_____2222______西瓜______S000010 _____YYYY_____2222______生姜______SH01234 _____YYYY_____2222______柚子______Y100000 _____ZZZZ_____3333______竹輪______T000001 _____ZZZZ_____3333______パン______P000023 _____ZZZZ_____3333______胡瓜______K000005 _____ZZZZ_____3333______冬瓜______T111111 「売上品で”竹輪”と品コードで”K000005”を含んだ担当コード」を抽出したいのですが・・・ SELECT 担当, 商品, 売上品 FROM TableName WHERE 担当 IN (SELECT 担当 FROM TableName WHERE 売上品 = '竹輪') AND 担当 IN (SELECT 担当 FROM TableName WHERE 品コード = 'K000005) AND 売上品 IN ('竹輪','K000005’) 違いますでしょうか・・・・
DB上のデータの真ん中に全角スペースが入ってるのをうまく取得したいのですがどうしたらよいでしょうか？ 例) 北海道 札幌市 青森県 つがる市 鹿児島県 鹿児島市 アメリカ フロリダ州 といった感じです。 セレクトするときにwhere = '北海道札幌市'と繋げて検索したいのですがどうすればよいでしょうか？ TRIMだと左右の空白しか排除出来ませんしDBのデータを一からやり直す訳にもいきません。 どうしたらよいのでしょうか？ ＳＱＬを発行するプログラムの関係上スペースの対処で悩んでいます。 もともとDBの設計ミスだと思いますがいまさら変えることも出来ないので・・・・
Oracle9i Enterprise Edition R2の環境下で 以下のようなトランザクション、マスタテーブルより １SQLにて[Output]の内容を抽出したいと思っております。 ****************************************** [A]テーブル・・・トランザクション(20万件) ID first_name last_name code1 code2 rank ****************************************** [B]テーブル・・・マスタ(10万件) class_name code1 code2 B.code1+B.code2でユニーク ****************************************** [Output]・・・抽出結果 A.ID A.first_name A.last_name B.class_name A.rank 結合のキーはA.code1+A.code2=B.code1+B.code2 [Output]には[A]を全件を出力したい ****************************************** [補足] A.code1(ex.12345)・・・NULL有 A.code2(ex.001)・・・NULL有 B.code1(ex.12345)・・・NULL、ダブリ無 B.code2(ex.001)・・・NULL、ダブリ無 以下、質問です。 A.ID A.first_name A.last_name B.class_name A.rank A.code1||A.code2 = B.code1||B.code2(+) このようなＳＱＬは発行できないことは確認済みなのですが、 これ以外で[Output]のような抽出結果をSQLにて抽出するには どのようにするのが一番効率的でしょうか？ できましたら、INDEXの張り方等も含め、SQL作成のヒントを いただけたら幸いです。
Oracle Application Serverのコールドバックアップに関する質問です。 Windows 2003 環境でのOracle Application Server 10gのコールドバックアップを取得しようと考えています。 基本サービスをすべて停止し、バックアップソフト(Arcserve)にてバックアップを取得すればいいかと思っていますが、問題ないでしょうか？ また、その場合サービスの停止はWindowsのサービス停止で大丈夫でしょうか？ それもともコマンドベースでサービスの停止の必要があるでしょうか？ とても初歩的な質問ですが、ご回答お願いいたします。
知識が乏しくて困っています。 現在以下の仕様を持つシステムと相手システムのDBでデータ連携を行おうと思っているのですが、どのようにして連携するのが適切なんでしょうか？的外れな質問をしているかもしれませんがどうかご教示ください。 自側 Win2003server R2 Orale 10g(10.2.0.1) .net Framework 2.0 相手側 Win2003server R2 InterBase 7.0j ＃ODBC連携だと処理速度が遅いとか。。OLE、ADO.netでは？ ＃すいません、意味がわかってません。
１ヶ月に土日は何日あるかをSQLで調べたいと思ってます。 指定した年月に土曜日が何回あるかがわかるような便利な関数はないでしょうか？ 教えてください。
ＳＱＬで副で問い合わせたときグループバイやＤＩＳＴＩＮＣＴがエラーになってしまいます。 何故なのか検討がつきません。 同じデータを持つ様々なデータベースでやってますがどれもエラーになります。 オラクルやＭＹＳＱＬやpostgreＳＱＬです。 SELECT * FROM TableName WHERE 担当 IN (SELECT 担当 FROM TableName WHERE 売上品 = '竹輪') AND 担当 IN (SELECT 担当 FROM TableName WHERE 売上品 = '胡瓜') AND 売上品 IN ('竹輪','胡瓜') ; これは普通に出来ます。 これに対して… SELECT distinct 担当, 商品, 売上品 from…かGroup By 担当, 商品とやっても何故かエラーが出ます… 何か間違ってますでしょうか？
Windows2003サーバ上でORACLE10g リリース２を使っています。 ORACLEのインストールは、ほぼデフォルト設定にしてあります。 ORACLEのエンタープライズマネージャで表領域を見ると SYSAUX 　サイズが５５０Ｍで使用量が５４０Ｍ、セグメント領域の管理＝自動 SYSTEM 　サイズが５６０Ｍで使用量が５５５Ｍ、セグメント領域の管理＝手動 となっていました。 オーバーフローしないか心配なのですが、セグメント領域を拡張する必要はあるのでしょうか？。 ちなみにテーブルの表領域はUSERS で残りも６０％以上あります。 よろしくお願いいたします。
ＳＱＬでサブクエリを作りましたが結果が複数同じものが出てしまいます。 ＤＩＳＴＩＮＣＴだと一つの行しか見えなくなってしまいます。 レコードの構成自体がそうなっているからなんですが・・・ SELECT 担当, 商品, 売上品 FROM TableName WHERE 担当 IN (SELECT 担当 FROM TableName WHERE 売上品 = '竹輪') AND 担当 IN (SELECT 担当 FROM TableName WHERE 売上品 = '胡瓜') AND 売上品 IN ('竹輪','胡瓜') ; 竹輪と胡瓜の要素を含んでいる担当を出したいのですが”担当”が重複してしまうのを解消したいです。 あとOrder By とGroup Byは併用不可ですか？ _____担当_____商品_____売上品 _____XXXX_____1111______竹輪 _____XXXX_____1111______胡瓜 _____XXXX_____1111______西瓜 _____XXXX_____1111______ハンバーグ _____XXXX_____2222______竹輪 _____XXXX_____2222______茄子 _____XXXX_____2222______西瓜 _____XXXX_____2222______生姜焼き _____XXXX_____2222______柚子 _____XXXX_____3333______竹輪 _____XXXX_____3333______キャベツ _____XXXX_____3333______胡瓜 _____XXXX_____3333______冬瓜
こんにちは。 こんど仕事でOracleに関わることになりました。 情報処理試験で勉強したので、簡単なSQLくらいなら分かるのですが、 Oracle自体については経験がありません。 そこで勉強しようと思ったのですが、、、 出てくる単語の意味が不明で、理解できませんでした・・・。 たとえば、 「スキーマ」とか「シノニム」とか調べてみても、 スキーマはユーザみたいなもの、シノニムは別名、とか書いてあるだけで、 実際のユーザとどう違うのか、どうして別名をつける必要があるのかが分かりません。 Oracle = ただのRDBと思っていたら、 インスタンスとかオブジェクトとか、なんだかオブジェクト指向みたいな単語も出てくるし。 ほかにも、Oracle SIDとかTNSとか、専門用語のオンパレードのようです・・・。 私の中では、 「データベースを作って、その中にテーブルを作って、その中でデータを管理する」 くらいだと思っていたのですが・・・。 そこで、Oracleの初心者に優しくて理解しやすい本やホームページなどがあったら、 教えていただけないでしょうか？ 自分でも探してみたのですが、いまいち難しいものばかりなのです。 宜しくお願いします。
schemaのdefault_tablespaceは、alter userで変更可能だが schema内の全オブジェクトに対しtablespaceを変更させたい。 一つ一つのオブジェクトに対しては、moveというコマンドで 変更できそうだが、全オブジェクトに対しては可能だろうか？ もし、経験や方法をご存知でしたらご教授願います。
はじめまして パスワードファイルを作成後、CREATE DATABASEを実行するべく 以下のようにnomountで起動しようとしたところエラーが発生しました。 OS:HP-UX 11.23　64bit Oracle10gR2 SQL> connect SYS/dbamgr as SYSDBA アイドル・インスタンスに接続しました。 SQL> startup nomount pfile="○○.ora"; ORA-00604: error occurred at recursive SQL level 1 ORA-04030: out of process memory when trying to allocate 312 bytes (PCursor,kglob) SQL> shutdown immediate; ORA-00604: error occurred at recursive SQL level 1 ORA-04030: out of process memory when trying to allocate 312 bytes (PCursor,kglob) SQL> startup nomount pfile="○○.ora"; ORA-01081: cannot start already-running ORACLE - shut it down first SQL> shutdown abort; ORACLEインスタンスがシャットダウンされました。 SQL> ORA-04030がプロセスのメモリ不足だというのは調べてわかったのですが、 どう対応してよいのかわかりません。 ちなみに、 ulimit -a　実行結果（oracleユーザ） time(seconds) unlimited file(blocks) unlimited data(kbytes) 1048576 stack(kbytes) 131072 memory(kbytes) unlimited coredump(blocks) 4194303 nofiles(descriptors) 2048 初期化パラメータ pga_aggregate_target=34952192 sort_area_size=11184128 java_pool_size=21504 large_pool_size=8388608 shared_pool_size=11184128 sga_max_size=89478144 sga_target=89478144 となっています。 初期化パラメータについては、以前Oracle9iで稼動させていたパラメータ値を そのまま流用しています。 （sga_targetは新規で追加していますが） よろしくお願いします。
oracle10gを、ブロンズ受験しようと参考書を４冊も購入し、いざ勉強！とやる気を出していたにもかかわらず、最近オラクル11の資格が新設されたということを知りました。。 果たしてどちらを取得したほうがいいでしょうか？
Oracle8.1.6でのdmpファイルのエクスポートについて御伺いしたい事があります。 現在、dmpファイルのエクスポート時間の高速化を検討しております。 手法の１つとしてdirectコマンドを用いる方法を考えており、 試した結果は処理時間がおよそ１／３程度まで短縮できました。 directコマンドにてエクスポートしたdmpファイルを再度インポートし、問題無かった所まで確認したのですが１つ疑問点があります。 directコマンドの使用有無によってエクスポートしたdmpファイルのサイズが異なっているのは何が違いなのでしょうか？ エクスポートの手法が異なるだけであり、吐き出し情報は相違無いと思っていたので。。 よろしくお願い致します。 EXP ****/****@**** FILE=C:\EXP.DMP FULL=N dmpファイルサイズ=4,345,638(KB) EXP ****/****@**** FILE=C:\EXP.DMP FULL=N DIRECT=Y dmpファイルサイズ=4,318,878(KB)
Oracle9iのSQLPLUSにて、select結果の最終行に合計を出力したいだけなのですが、以下のようにcase when～と、sumを併用した場合に正しい合計値が集計されません。 select AAA,BBB,CCC,sum(DDD),(case when sum(EEE < 0 then sum(EEE-(EEE*2)) else sum(EEE) end) from table_A group by GROUPING SETS(AAA,BBB,CCC),()); AAA,BBB,CCC,270,270 AAA,BBB,CCC,-270,-270 AAA,BBB,CCC,60,60 , , ,60,600 600×⇒60○ もしくは他に最終行にうまく合計値を出力する方法はありますでしょうか？ よろしくお願いします。
初心者です。困っています。 テーブルC 日付_番号_ステータス 1/3____1_____Q 1/5____2_____R 1/6____5_____G 1/7____7_____P 1/20__ 9_____R 2/1___10_____R このようなテーブルを、1.日付順、2.番号順の優先順位で、選択していく為、下記のようなSQLを作成しました。 SELECT 番号 FROM テーブルC WHERE (TO_CHAR([日付],'yyyyMMdd') || [番号]) IN (select MIN((TO_CHAR([日付],'yyyyMMdd') || [番号])) FROM テーブルC WHERE (TO_CHAR([日付],'yyyyMMdd') || [番号]) > (SELECT (TO_CHAR([日付],'yyyyMMdd') || [番号]) FROM テーブルC WHERE [番号]=前回編集した番号)) ユニークなのは番号だけです。 これに、ステータス が RかPの場合 を加えたいだけなのですが、SQLが多くなりすぎて、困難になってしまいました・・・。 どなたかご教授頂ければ幸いです。
オラクルのインスタントクライアントについて教えてください。 インスタントクライアントを入れたいのですがＯＴＮやググって見ても大した説明がなくわからないです。 パスを通しましたが繋がらないです。 基本パッケージをダウンロードし Cドライブへ環境変数のシステムでパスを通しましたが・・・ 無償版なのでサポートを受けられないことくらい分かっていますがどうしてもお金が使ってはいけない事情があるので・・・
以下のようにspoolコマンドにてselectの結果をCSVに出力したいのですが、カンマ区切りしたいため連結していますがエラーが発生します。 spool aaa.csv select AAA || ',' || BBB || ',' || 　　CCC - DDD || ',' || EEE from table_A ・・・ そうすると、引き算が引っかかっているらしく、 「ORA-01722：数値が無効です」エラーが発生します。 連結をやめて、「|| ',' ||」→「,」にすれば正常に終了します。 連結の場合に演算子を使うにはどのようにすればよいのでしょうか？ また、例えば「AAA<0」の場合には、BBBに100を掛けるとかのような 他カラムでの条件により、別カラムの計算結果を変えるといったことは 可能なのでしょうか？ よろしくお願い致します。
Oracle10gかMｙSQLでやることになるとおもいます。ひょっとしたらPostgeSQLかも？？？ _____担当_____商品_____売上品 _____XXXX_____1111______竹輪 _____XXXX_____1111______胡瓜 _____XXXX_____1111______西瓜 _____XXXX_____1111______ハンバーグ _____YYYY_____2222______竹輪 _____YYYY_____2222______茄子 _____YYYY_____2222______西瓜 _____YYYY_____2222______生姜焼き _____YYYY_____2222______柚子 _____ZZZZ_____3333______竹輪 _____ZZZZ_____3333______キャベツ _____ZZZZ_____3333______胡瓜 _____ZZZZ_____3333______冬瓜 上記のようなテーブルがあるとします。 その中から売上品の項目しか分からないとします。売上品で”竹輪”と”胡瓜”を含んだ担当コードを出したいのですが・・・ 例えば一つずつなら select 担当, 商品, 売上品 from TableName where 売上品 = ”竹輪”; _____XXXX_____1111______竹輪 _____YYYY_____2222______竹輪 _____ZZZZ_____3333______竹輪 select 担当, 商品, 売上品 from TableName where 売上品 = ”胡瓜”; _____XXXX_____1111______胡瓜 _____ZZZZ_____3333______胡瓜 ですが売上品で”竹輪”と”胡瓜”を含んだものがほしいので結果としては _____XXXX_____1111______竹輪 _____ZZZZ_____3333______竹輪 _____XXXX_____1111______胡瓜 _____ZZZZ_____3333______胡瓜 となります。和の集合のような感じでしょうか？ANY ALLでしょうか？ 売上品の中で竹輪と胡瓜二つの要素を持った結果だけ欲しいのです。よくわからないので教えて下さい。
現在、オラクル社のＨＰでダウンロードできる Oracle 9iをダウンロードしてインストールしようと したのですが、どうやらapacheが邪魔をして インストールできないようです。 一度、apacheを止めてインストールをしようとしましたが、 途中で画面がストップしてしまいます。 どのようにすればインストールできるでしょうか。
すみません、単純な質問かもしれませんが、どう組み立てたら良いのか悩んでいますので、SQL文について質問させてください。 以下の様な２つのテーブルがあります。 ○テーブル１ ----------------------------------- ID bangou1 bangou2 1 1 2 2 3 4 3 2 4 ○テーブル２ ----------------------------------- ID bangou flag 1 1 1 2 2 1 3 3 0 4 4 1 ●希望する取得結果 テーブル１のID:1,ID:3 bangou1、bangou2は、テーブル２のIDを設定しています。 このとき、テーブル２のflagに0が設定されている場合はbangou1、bangou2のどちらにあってもテーブル１のIDは取得したくありません。 このSQLを組み立てる方法がいまいち思いつきません。 どうかアイデアをお願いします。
以下のテーブルAとテーブルBを結合して結果テーブルを出力したいと考えています。 （テーブルA上のIDのカウントした数をテーブルBに結合して出力したい。） テーブルA ----------- CATEID aaa001 bbb001 ccc003 ddd004 テーブルB ----------- IDNAME 001101 002102 003103 004104 結果テーブル ---------------------- IDNAMECOUNT 0011012 0021020 0031031 0041041 そこで、 =================================== SELECT B.ID, B.NAME, COUNT(A.ID) FROM TABLE_A B, TABLE_B B GROUP BY B.ID, B.NAME, A.ID HAVING A.ID = B.ID =================================== とSQLを書いてみましたが、 0021020 のテーブルAにIDが存在していない列が結果として表示されませんでした。 WHERE句でいう「WHERE A.ID =* B.ID」のようなことを行いたいのですが、どのように行えばよいでしょうか？ よろしくお願いいたします。
SQL初心者です。 CommonSQLEnvironmentを使用して複数行のデータを登録したいのですが、 ****************************************** INSERT INTO KAIIN_MST (NO, FNAME, NAME, YMD, FLG) VALUES ('001', 'ヤマダタロウ', '山田太郎',TO_CHAR(SYSDATE, 'YYYYMMDD'), '1'); INSERT INTO KAIIN_MST (NO, FNAME, NAME, YMD, FLG) VALUES ('002', 'ヤマダハナコ', '山田花子',TO_CHAR(SYSDATE, 'YYYYMMDD'), '1'); ****************************************** この状態で実行すると、『ORA-00911: 文字が無効です。』と出ます。 セミコロン（；）を抜いて ****************************************** INSERT INTO KAIIN_MST (NO, FNAME, NAME, YMD, FLG) VALUES ('001', 'ヤマダタロウ', '山田太郎',TO_CHAR(SYSDATE, 'YYYYMMDD'), '1') INSERT INTO KAIIN_MST (NO, FNAME, NAME, YMD, FLG) VALUES ('002', 'ヤマダハナコ', '山田花子',TO_CHAR(SYSDATE, 'YYYYMMDD'), '1') ****************************************** を実行すると『ORA-00933: SQLコマンドが正しく終了されていません。』と出ます。 ちなみに１行のみ実行で ****************************************** INSERT INTO KAIIN_MST (NO, FNAME, NAME, YMD, FLG) VALUES ('001', 'ヤマダタロウ', '山田太郎',TO_CHAR(SYSDATE, 'YYYYMMDD'), '1') ****************************************** は成功します。 また、 ****************************************** INSERT INTO KAIIN_MST (NO, FNAME, NAME, YMD, FLG) VALUES ('001', 'ヤマダタロウ', '山田太郎',TO_CHAR(SYSDATE, 'YYYYMMDD'), '1'), ('002', 'ヤマダハナコ', '山田花子',TO_CHAR(SYSDATE, 'YYYYMMDD'), '1'); ****************************************** というものも試してみましたが駄目でした。 CommonSQLEnvironmentでの複数行追加の良い方法がありましたら教えて頂ければ幸いです。 宜しくお願い致します。
お世話になります。 ObjectBrowserでエクスポート実行の設定に関する質問です。 テーブルのバックアップをしたいのですが、exp.exeパスの指定の方法で悩んでいます。 ・パスの入力場所はOB/管理/エクスポート/オプション（タブ）の使用ツールで合っているか ・exp.exeはclientの$ORACLE_HOME/bin配下にあるものでいいのか です。 見るところが間違えているのか、clientの$ORACLE_HOME/bin配下にexpではじまるものがありませんでした。 ・となると、hostの$ORACLE_HOME/bin配下にあるexpというものがそうなのでしょうか。 ・またその場合の指定の仕方は環境がunixなので例えば /a00/oracle/bin/exp という記述でいいのでしょうか。 以上、パスの記述場所、記述内容についての質問です。 /a00/oracle/bin/expという記述で実行してみたのですが、 「/a00/oracle/bin/expは実行できません」というエラーのあとに 「ファイル***\EXP.LOGは開けません。指定されたファイルが見つかりません」と出てしまいます。。 心当たりのあるかたがいらっしゃいました、ご回答いただけると幸いです。
これからオラクルの勉強をしようと思っています。 まず、環境の勉強からと思いインストールからですが、アメリカOTNには開発者ライセンスがあり無料で使用できると聞いたのですが本当なのでしょうか？ アメリカOTNに行き探してみたですが、よくわかりませんでした。 お手数とは思いますがどこからダウンロード出来るかまで分かればご教授頂ければありがたいです。よろしくお願いします。
よろしくお願いします。 Oracle10gR2 WindowServer2003です。 単純に、Oracleに表を新規作成した場合、 作成時間というのはどこかに残りますでしょうか。 OracleEnterpriseManagerでは発見できませんでした。 よろしくお願いします。
SQL文で、DELETEとTRUNCATEはどのように違いがあるのでしょうか？？
oracle SQLに関する質問なのですが 社員マスタという表の中に 社員コード、社員名、上司、給料　という列があります。 上司より給料の低い社員名を検索する場合どうしたらよいでしょうか。 列 社員コード→NOT NULL CHAR(5) 社員名→NOT NULL VARCHAR2(20) 上司→CHAR(5)　※上司の社員コードが入ります。 給料→NUMBER(7) よろしくお願いします。
SELECT A.DATA1,A.DATA3 FROM DATABASE A, (SELECT MAX(DATA1) AS DATA1,DATA2 FROM DATABASE GROUP BY DATA2) B WHERE A.DATA1 = B.DATA1 AND A.DATA2 = B.DATA2 DATA2でグループ化した最大のDATA1と同行のDATA3を取得する際に、 上記のように記述しています。 もっと簡単に取得する方法はあるでしょうか？
現在、リアルタイムに自DBから他DBへのデータを反映させる仕組みを Oracle10gSE（Oracle10gSEone)で探しております。 OS:RedhatLinux4 ES Oracle:Oracle10.2.0.1.0SE （Oracle10gEEなら、レプリケーション機能を使って実現できそう かなとは思いますがライセンスまた私のスキルが足りないため 無理です。） 今考えていますのは Oracleのマテリアライズド・ビューを使って一定の間隔 （10秒毎、1時間毎、1日毎）でリフレッシュする方法です。 ●自Oracle -> 　他Oracle ただ、自Oracle内のテーブルは50テーブル近く存在し、 レコードの件数ももっとも多いテーブルで 200万近くに及びます。（しかもカラム数は200・・・） DBサーバへの負荷も考慮し、高速リフレッシュを使うところは 使いたいと思っておりますが、この自Oracleは 他のシステムのDBもバッチプログラム、マテビュー等々で 使っているため、なるべくシンプルにしたいです。 （更新頻度が多いため、MVログを安易に作成したくありません） 設計を見直す上でも、テーブルのデータを他のDBのテーブルへ リアルタイムに（近く）反映させる方法はありませんでしょうか。 Oracleに限らず、さまざまな意見を聞けると大変ありがたいです。 よろしくお願いいたします。
どのようなSQLが処理性能がいいのかなどSQLの処理性能の向上に詳しく書かれている書籍が知りたいのですが詳しく書かれている書籍が本屋になかなかないのでお勧めの書籍などありましたら教えていただけないでしょうか？
10gを使用しています。 先輩からDDL実行後にアナライズが自動実行されると聞いたのですが、どのパラメータを参照して設定を確認すればよいのでしょうか？ optimizer_dynamic_samplingにて設定した場合はDDLに限らず、SQLを実行した際に設定しているレベルで自動実行されるのかなとは思ったのですが。。。 先日indexをdropして再作成を行ったのですが、どうもアナライズはされていないようだったので（アナライズを行ったらレスポンスが著しく改善した） どうぞご教授ください。
お世話になります。 ACCESS上のAテーブルのデータをコピーしてデータを編集後、 再びアクセスからAテーブルにデータを追加したいと思っています。 ところが、「Aテーブルのデータをコピー」する時点でエラーになり、 テーブル内の項目が全て「#Name?」になってしまいます。 その際に表示されるアラートのエラーの内容は、以下の通りです。 -------------------------------------------------------------------------------- ODBC--呼び出しが失敗しました。」 [Oracle][ODBC][Ora]ORA-00932:データ方が一致しません:%sが予想されましたが%sです。 (#932) -------------------------------------------------------------------------------- エラーコードを検索したのですが、どうしたら解決できるのかわかりません。 テーブルにリンクを張る際に何かしなければならなかったのでしょうか。 解決策をご存知の方、ご教示ください。 ちなみにACCESSのバージョンは2000です。
Access始めたばかりの初心者です。 現在Oracle10gのデータベースのとあるテーブルを をAccess2000でリンクし、クエリで抽出したものをレポートに表示 しようとしています。 そのテーブル上に、 Oracle上ではVARCHAR2(6バイト)の日付データがあります。 例) 200806 これをAccessのクエリ上で変換し、 "6月" と表示させたいのですが、 なぜかうまくいきません。 Oracle上の項目名が YM だとすると、 Replace(Right([YM], 2), "0", "") & "月" こういった関数でうまくいきそうなものですが・・ もしかしてOracleのVARCHAR2はリンクすると文字列型以外の型として 扱われるのでしょうか・・ どなたかご存じの方、ご教授くださいませ。
使用環境 WINXPPro　WIN2003SERVER　Oracle10g データベースに数値型の日付があるのですが、これを日付型にして表示しようとすると「ORA-01843: 指定した月が無効です」となってしまいます。 select B01 as 番号,B02 as 注文先, to_DATE(to_char(B10, '000000'),'RRMMDD') as 納期, B03 as 品名,B04 as 型式,B05 as 数量 FROM TYUMON 結果、数件は表示されます 多分、数値が6桁になっているデータだと思います 940101 990201 です。 検索してみて ALTER SESSION SET NLS_DATE_LANGUAGE='AMERICAN'; を実行しても結果は同じでした。 よろしくお願いします
プログラム初心者です。 オラクル(11g)で、10個のPCで10人が、あるテーブルのデータを更新していく、システムを作成(VB2005)しています。 画面は2パターンです。 ・データ一覧表示画面 ・上記からデータを選択し、編集する用の画面 例として下記のようなデータがあります。 テーブルC 日付順 番号はユニーク 日付_番号_ステータス__レコードカウント(Rc) 1/3____1_____Q________0 1/5____2_____R________1 1/6____5_____G________2 (Rc=2) 1/7____7_____P________3 (Rc=3) 1/20__ 9_____R________4 2/1___10_____U________5 動作の流れ 1.まず、この全データをSQLで読込みます。 SELECT * FROM テーブルC ORDER BY 日付 ASC これが一覧表示画面(VB2005のグリッドビュー等)に表示されます。 2.A氏が例えば1/6のレコードを編集したいとします。 そこで、1/6(日付)の列をマウスで選択。このとき列番号(レコードカウント)は2になります。 編集画面フォームに、同じSQL(SELECT * FROM テーブルC ORDER BY 日付 ASC) と、列番号(レコードカウント)2を、引渡しします。 3.編集画面で、引き渡されたSQLを実行し、そのデータを全てDatatblに格納します。 そのデータの3つめ(レコードカウント2)を参照します。 datatabl.Rows(2).Item("ステータス") データは参照後、ある条件によりステータスが変わります。 ステータスが、"Z"になった場合、そのレコードは、テーブルAに移動されます。 4.編集後は、他のテーブルに移動する場合でも、テーブルCがそのまま更新される場合でも、 自動的に次の列のレコードに移行し編集を行う。 今回は例として、1/6のレコードのステータスが"Z"になって A氏は次に1/7(Rc3)のデータを編集作業に入ります。 5. 4.を実行するため、また同じSQLを実行。 SQL実行後、レコードカウントを次に移行すればいいのですが(Rc=2に1を加え、Rc=3とする)、 Rc=3を見ても、1/20のデータが抽出されて しまいます。 (1/6のレコードが移動してなくなってしまった場合) また、他の例として、上記と同様に、A氏が1/6のデータを編集中に、他の人が1/3,1/5のデータを編集移動 してしまった場合、レコードカウントがぐちゃぐちゃになってしまいます。 こうした多くの人がデータを編集、更新・移動する場合のテーブルを、日付順に作業させていく場合は、どのような制御 (またはオラクルの機能)をすれば、可能なのかご指導頂ければ助かります。
もしご存知の方がいればお教えください。 ORACLE PL/SQLで CURSOR cur_a AS SELECT a FROM TBLA とカーソルを宣言し そのカーソルを他のカーソルで 使用することは可能でしょうか？ 以下のような感じで CURSOR cur_B AS SELECT b FROM TBLB,cur_a ご存知の方が居たら どのようなSELECT文を 書けばよいかお教えください よろしくお願いいたします
プログラム初心者です。 オラクル(11g)で、10個のPCで10人が、あるテーブルのデータを更新していく、システムを作成(VB2005)しています。 例として下記のようなデータがあります。 テーブルC 日付順 番号はユニーク 日付_番号_レコードカウント(Rc) 1/3____1_____0 1/5____2_____1 1/6____5_____2 (Rc2) 1/7____7_____3 (Rc3) 1/20__ 9_____4 2/1___10_____5 この全データをSQLで、【【毎回】】読込みます。 A氏が例えば1/6のデータを編集したとします。レコードカウント2(以降Rc2) 【編集したデータは、同テーブルが更新される場合と、他のテーブルに移動するケースがあります。 更新された場合でも、他のテーブルに移動する場合でも、A氏は次に1/7(Rc3)のデータを編集させたいです。】 この場合、更新されたら、レコードカウントを次に移行すればいいのですが(Rc2+1で Rc3)、 1/6のデータを編集後、他のテーブルに移動された場合、Rc3を見ても(SQL再読込後)、1/20のデータが抽出されて しまいます。 なので、このケースは、テーブルが移動された場合、レコードカウントは据え置きで、Rc2をみるという プログラムを作らなくてはいけません・・・・・。 これも問題ですが、さらに大きな問題は、 1/6のデータを編集後、そのデータが移動されたときに、その間にB氏とC氏により、1/3,1/5のデータ更新後移動 されたケースがさらに悩んでいます。 Rc2で据え置きで 1/7のデータを読みに行こうとしたら、1/3,1/5のデータが既になくなっているので、 Rc2をみると、2/1のデータを見ることになってしまいます。 こうした多くの人がデータを編集、移動する場合のテーブルを、日付順に作業させていく場合は、どのような制御 (またはオラクルの機能)をすれば、可能なのかご指導頂ければ助かります。
pl/sqlにて開発を行なっています。 詳細設計書を作成しようと思うのですが、 良いサンプル等ありませんでしょうか。 今まで使用していたものがあるのですが、 文字がつらつらと書いてあるだけで非常に見難い上、 仕様変更があった場合に更新にかなり手間取ります。 参考URL等情報がありましたら教えてください。
初歩的な質問ですみません。 Oracleのsysaux表領域の「sysaux」は 何て読むのかを教えていただきたいです。
Oracleのデータ更新について質問させてください。 SQL文で、ある文字列を含むレコードデータを持つ、テーブルおよびレコード名を知る方法はありますでしょうか？ 具体的には、DBに登録されている"google.co.jp"という文字列を"yahoo.co.jp"という文字列に全てupdateしたいのですが、 "google.co.jp"という文字列は複数のテーブルの不特定のレコードに格納されています。 全てのテーブルを１つ１つselectで見ていくしか方法は無いのでしょうか？
いつもお世話になっております。 仕事でこれからORACLEを使用するかもしれないので、個人的に購入して勉強をしておきたいと思います。そこでORACLEで検索してみると、StandardEditionやPersonalEditionがあるようです。自分はあまりお金を出せないので5万円以内で済めば助かります。 11gについてはどういったものがあり、価格はどれぐらいかを教えていただければともいます。Named User Plusライセンス体系の方が安いようです。 そこで、これは価格が安いけどよく使われるこういった機能がないよなどの補足情報を教えていただければありがたいです。
Oracle 10gを使用しております。 SELECT DISTINCTを使用すると重複している行を 除いた結果を得ることが出来ますが、 逆に重複している行のみを得るには どのようにすればよいのでしょうか？ ご教授お願い致します。
Oracleの1スキーマの全データの入れ替えを exp、impコマンドを使って行いたいと思っております。 その場合 1)スキーマを削除してからスキーマの再作成をしてインポート 2)スキーマ内のオブジェクトを全部削除してインポート 1と2どちらの方がよいでしょうか。 私は、1の場合、ログインしている人がいると削除できないので、 2で行おうと思っております。（テーブルにはpurgeオプションをつけて・・・） みなさんならどちらで行いますか。 メリット・デメリットありましたら 教えていただけると助かります。
Cやjavaなどの言語で、データをテキストファイルか何かに 吐き出すことでも、簡単なデータ管理は実現可能です。 オラクルなどのデータベースを利用することの具体的な利点はなんでしょうか？ データベースの利点がわかるような例えがあれば、併せて教えてください。
はじめまして。Oracle9iでテーブル結合時のあいまい検索を行いたいのですが、エラーが起こってしまいます。 形としては、 SELECT TABLE1.A, TABLE1.B, TABLE1.C, TABLE2.D, TABLE2.E, TABLE2.F FROM TABLE1, TABLE2, WHERE TABLE1.A = TABLE2.D(+) というような形です。ここで、TABLE1のBとCに「%あ%」というあいまい検索をしたいのですが、上記の文に続いて、 AND TABLE1.B LIKE '%あ%' OR TABLE1.C LIKE '%あ%' と続けて実行すると、 ORA-01719: outer join operator (+) not allowed in operand of OR or IN というエラーになってしまいます。 こういった場合はどう対処すればよろしいのでしょうか?SQLについてほとんどわかりませんが、よろしくお願いします。
実行中のプロシージャを中断する方法ですが、 セッションを切るとかしかないのでしょうか。
ＳＱＬの書き方の質問です。 売上Tと商品Mというテーブルがあったとして、 売上Tには商品コード、数量、金額という項目が 商品Mには商品コード、単価という項目が それぞれあったとします。 売上Tの金額＝売上T.数量×商品M.単価 この売上Tの金額を更新するのに、update文でできるだけシンプルに高速に動くＳＱＬ文を作成したいのですが、どのような書き方がよいと思いますか？ 件数は例えば売上が１００万件、商品が１０万件あった場合を想定して。 以上よろしくお願いいたします。
現在Oracle10gとOracle11gのDataBaseLinkを行っているのですが、 DBLinkを作成し、データを取得しようとしたら、 「ORA-01017: invalid username/password; logon denied ORA-02063: 先行のエラー・メッセージを参照してくださいline(XXX.XXXX.CO.JP)。」の様なエラーがおきます。 以下に実行したSQLを書いています。 create database link ****.****.co.jp connect to user identified by **** using '****' ↑に書いたユーザとパスワードで、 「Connect ユーザ/パスワード@Link先DB」をすれば繋がるのは確認出来ています。 色々ネットで調べてみたものの、原因が掴めていません。 何の要因から起こるエラーなのか、分かりません。 何かご存知の方がいらしたら、教えて頂けますか？ 宜しくお願いします。
Oracle Silverの資格を取得しようかと思っています。 知識はSQL分を少しかじった位程度なのでBronzeも考えましたが、 どうせならSilverを受けてみようかと考えています。 そこで， お奨めの参考書やサイトなどがあれば教えて貰えないでしょうか？学習期間は3ヶ月と決めてチャレンジする予定です。 よろしくお願いします。
ＯＲＡＣＬＥの業務システム（パッケージ）を運用しています。 客先の細かな要望等に答えるために、ＯＤＢＣ経由でＡＣＣＥＳＳで対応しようと思い、クライアントにＯＤＢＣを入れましたがうまく動きません。 普通にクライアントにＣＤをセットするだけで動くようにならない様です。 原因と対処を教えてください。
只今、SQL文を作成していますが、方法が分からず困っております。 どなたかスキルのある方で、解決方法を教えて頂けないでしょうか？ 商品名と親コードというカラムがあり、 以下のような文字列があります。 商品名　　　　　　　親コード ----------------------------- 商品名のサンプルＡ　　123456　 商品名のサンプルＢ　　123456 商品名のサンプルＣ　　123456 ◆商品名のサンプルＤ　123456 商品名Ｄ　　　　　　　789012 商品名Ｅ　　　　　　　789012 この中から、親コードで集計して、左側前方から 「商品名の共通部分」だけを抜き出したいのですが、 どのようにＳＱＬ文を書けばよいでしょうか？ 親コード123456の中で、一つだけ例外で◆から始まる 商品名がありますが、それは無視します。 取り出したい結果の例 商品名のサンプル　　123456 商品名　　　　　　　789012 何卒、宜しくお願いします。
タイトルどおりなのですが PL/SQLからDBサーバのローカルにあるExcelVBAの関数を呼出すことは可能でしょうか？ 宜しくお願いします。
こんばんは。初めての投稿です。 Windows Server 2003 R2 Standard Edition(サーバーOS)に Oracle10g 10.2.0をインストールし、 データベースを作成しようとすると このようなエラーが表示されます。 　『次のエラーが原因でEnterprise Managerの構成に失敗しました。 　　Database Controlの起動中にエラー 　　詳細はC:\oracle\product\10.2.0\db_1\cfgtoollogs\dbca\orcl\emConfig.logにあるログファイルを参照してください。 　　C:\oracle\product\10.2.0\db_1\bin\emcaスプリクトを手動で実行することにより 　　後でEnterprise manegerを使用してデータベースの構成を再試行できます。』 　　emConfig.logを確認したところ、 　　「設定: パラメータ○○に値が設定されていません。」というエラーが大量に表示されています。 （MODIFY_SID、DB_UNIQUE_NAME、DBID、ORACLE_HOSTNAME、GLOBAL_DB_UNIQUE_NAME　等々…） また、スプリクトを手動で実行した後 再度データベースを作っても また同じエラーが表示されてしまいます。 全ての設定は「10日でおぼえるOracle10g 入門教室」という参考書を片手にやっているので エラーがでるはずがないと思うので、とても困っています。 何かお気づきの点ありましたら教えてください。
1)クラスタリングの意味 クラスタリングは「複数のコンピュータを全体で一つのコンピュータであるかのように動作させる技術」とDB本にあり、さらにそれはホットとコールドスタンバイの2種類あるとありました。ただ、どちらの場合であっても「共有ストレージ上のDBはひとつ」とあったので、そのひとつのDBに障害があった場合には、復旧させることはできないのではないかと思うのですが… ホットスタンバイとは、障害時にすぐにDBもアプリも何事もなかったように待機サーバに切り替わり通常処理を行えると思っていたのですが、これは認識違いでしょうか？ 2)レプリケーションとの違い 「共有ストレージ上のDBはひとつ」であるとすれば、レプリケーションは「ネットワーク上に同じ内容のデータベースを複数台用意し常に同期される構成」であるので障害時には別のDBを継続使用できるので耐障害ではレプリケーションの方が優れているのではないでしょうか？
初歩的な質問で恐縮ですが、副問合せでたとえば where empno not in (mgr1,mgr2,mgr3,...,null) とあったとき empno<>mgr1 and empno<>mgr2 and ... empno<>null と同じ意味になるというのは分かるのですが、 なぜempno<>nullがあるとwhere以降が全てnullに なってしまうのですか？ ごく普通に考えると「mgr1でもmgr2でもnullでもない」のだから、 empnoはmgr1やmgr2やnull以外の数値（なら何でもよい） というようになると思うのですが…。 このあたりの論理式的な考え方に慣れていないために、 いまいち感覚がつかめません。 どう考えれば分かりやすく理解できるでしょうか？
はじめまして。昨日今日Oracleの世界に足を踏み入れたくらいの初心者で、javarowaと申します。 さっそく質問なのですが、たとえばTest1とTest2という表があり、Test1にはcustomer codeと shop codeの二つの列、Test2にはshop codeとshop nameという二つの列があるとします。ここで主キーは Test1はcustomer codeとshop codeの組み合わせ、Test2はshop codeです。この場合、select文で shop code, shop name,　およびshop codeごとのcustomer codeの数、という三つの情報を得るには どのようにすればよいでしょうか（引っ張った情報はshop codeの昇順でソートします）。shop codeごとのcustomer codeは select distinct shop code, count(customer code) from Test1 group by shop code order by shop code で、また、shop codeに紐づくshop nameは select distinct shop code, shop name from Test1 natural join Test2 order by shop code で、それぞれ出ると思うのですが、この二つを同時に表すにはどうすればよいのかが分かりません。 （あるいはnatural joinだとダメなのでしょうか。そのあたりからしてあやふやです…） 非常に初歩的な質問で恐縮ですが、どなたかお教え願えないでしょうか。
OS:WINDOWSXP SP2 ORACLE:Oracle9i Enterprise Edition Release 9.2.0.1.0 A, B, Cというテーブルがあるとします。 それぞれのテーブルには XXカラムと　YYカラムがあるとします。 2つのテーブルを結合させるには、以下のSQL文を記述すれば良いと考えています。 SELECT A.*,B.* FROM A JOIN B ON A.XX = B.XX 3つのテーブルを結合するには、以下のSQL文を記述しています。 SELECT A.*,B.*,C.* FROM A JOIN B ON A.XX = B.XX JOIN C ON A.XX = C.XX 但し、この記述方法でいきますと、Cテーブルを右側外部結合に指定した場合のみ、 ORA-00904 "C" 無効な識別子です。 というエラーメッセージが表示されます。 SELECT A.*,B.*,C.* FROM A JOIN B ON A.XX = B.XX RIGHT OUTER JOIN C　（←LEFT OUTER、FULL OUTER)なら通ります) ON A.XX = C.XX 何故、右側外部結合のみ不正となるのか不明であり、解決策が見つかりません。 複数のテーブルを結合する為のSQL文の記述方法を教えて頂けますでしょうか？
AセッションがDML文でロックした行に対して、別のBセッションでDML文を発行してしまうと、Bセッションはロック解除待ちとなりますが、通常ですとAセッションのトランザクションが終了するまで、Bセッションは何時間でもずっと待機し続けると思います。 そこで管理面から20秒待機したらBセッションにはエラーを返す、といったような設定は可能でしょうか。セッション単位・文単位などではなく、データベース全体として指定できる初期パラメータなどありましたらご教示ください。現在使用しているのはOracle DB 10gR2です(オラクルのバージョンには依存しない機能かと思いますが念のため)
ORACLE PERSONAL 10.2.0.1.0を使用しています PCにスタンドアロンでセットアップしユーザー等を作成し正常接続を確認後 そのPCをLAN環境につなぎ(LANケーブルを接続し)PCを起動すると接続エラー となります、サービス、リスナーは正常に開始しています ちなみに起動後にLANケーブルをさした場合は接続できます リスナー再構成を試しましたが変化がありませんでした ORACLEのインストール手法に問題があるのでしょうか？ PCはWinXP SP2です どなかた御経験もしくは知識のあられるかたいらっしゃいましたら ご指導お願いいたします
ORACLEをデーターベースとして、MICROSOFTACCESSを使ってフォームやレポートを作ろうと考えています。 ACCESSではフォームのコマンドボタンなどからVBAを入力しなくとも一般マクロで様々な処理をすることができると思います。 　しかし、そうするとORACLEの下記の特徴は実現されなくなるのでしょうか?またレコードソースにせず、フォームを非連結にすれば実現可能なのでしょうか?その場合、どんな感じの手順になるのでしょうか? 特徴 (1)必要なレコードのみを抽出したあとクライアントにデータを送信 (2)バックアップの最中も滞りなくデータベースを稼働 (3)完全な行レベルロック (4)マルチバージョニング読み取り一貫性 (5)ACCESSの約43億倍のデータを扱うことが可能 (6)ACCESSのようにファイル単位ではなく、表などのオブジェクト単位はもちろん、表の行や列単位にまでアクセス制御
DBCAでデータベースを新規作成しました。 インストール時にも作成したので、現在2個あります。 インストール時に作成したDBにはログインできるのですが、 DBCAで作成したほうのデータベースにログインできません。 どうすればよいでしょうか？ リスナーも二ついる事になるのでしょうか？ 1158ポートの次から順にアクセスすればよいみたいな 記述があったので http://127.0.0.1:1159/emとかはためしてみたのですが 何も表示されませんでした。
こんにちは、ＳＱＬについての質問なのですが、 ＰＨＰで以下のように、テキストボックスを指定して、値を検索 するような作りにしています。 print "<table><tr align=center>"; print "<td align=left>◎日付検索<br>"; print "<input type=text name=s_hiduke></td>\n"; print "<td align=left>◎入力者<br>"; print "<input type=text name=s_name></td>\n"; $where = ''; if($s_hiduke != ""){ $where .= $where ? "and s_hiduke~'$s_hiduke' ":"where 　s_hiduke~'$s_hiduke' "; } if($s_name != ""){ $where .= $where ? "and s_name~'$s_name' ":"where 　s_name~'$s_name' "; } if (!$sql) { $sql = "select * from syuhou_table ".$where;} else {$sql = str_replace("\\","",$sql);} 今回日付の部分にテキストボックスをもう一つ追加し、「5/10～5/15」 のように期間指検索が定出来るようにする為以下のようにソースを 変更したのですが上手く動作しません… print "<input type=text name=s_hiduke>～<input type=text name=s_hiduke2></td>\n"; $where = ''; if($s_hiduke != ""){ $where .= $where ? "and s_hiduke~'$s_hiduke', 　s_hiduke2~'$s_hiduke' ": "where s_hiduke between 　 　s_hiduke~'$s_hiduke' and s_hiduke2~'$s_hiduke' "; } 何処を直せば正常に動くのか、お分かりになる方がいらっしゃいま したら、アドバイス頂けませんでしょうか。 長々とした文章になってしまい申し訳ございませんが、よろしく お願いいたします。
Oracle9iを使用しています。 プログラムにはどう探しても記述がないはずなのですが、いつの間にか数件のデータが消えているという現象が起きました。（数回発生） どこから、どういうSQL文が実行されているのかが知りたいのですが、トリガーでdelete文が実行される直前（または直後）にこのSQL文を抜き取る事は可能ですか？ また同時に、実行されているマシン名、ユーザ名、時間等も取れるといいのですが。 既出かもしれませんが、探し出せなかったので質問させていただきました。 よろしくお願いします。
こんにちわ。 日次処理として、毎晩ワークテーブルをTruncateしてInsertしなおすというプログラムを数年前に作りました。 このプログラムはVB6、ADO、OLE DBプロバイダはOracleのものを使っています。 他のテーブルからSelectし、それを元に1レコードずつInsert文を作っては実行を繰り返す処理で正直遅いのですが、このプログラムの動作が不思議です。 日々数十万件のInsertを行っているのですが、ログを確認すると最初の2万件のInsertには40分掛かるわりに最後の2万件は5分で終わるのです。 今まで処理時間の遅さが問題になることもなく、バグもなく動いているしであまり気にしていなかったのですが、最近なぜこのような動きになるのか気になってきました。 最初も最後もSelect結果に偏りはなく、Insert文を作る処理に掛かっている時間は同じようなものかと思います。 とすると、遅いのはDBでのInsert処理か？と考えています。 レコード件数が少ないうちのInsertには時間が掛かるものなんでしょうか？ だとするとそれはなぜ？ 別に処理速度を速くしたいとか言うことではなく、なぜInsertの処理時間にこれほどの差が生じるのかが気になっています。 なおこのテーブルは主キー以外に索引を作っていません。 Insert文を作る際の元になるデータは論理的な単位ごとにSelectします。１回がだいたい数十件ぐらいです。 またその論理的な単位の分のデータをInsertしおわるごとにcommitしています（数十件ごとのcommitになります）。
VB6からOracleにつないでいるのですが、はじめたばかりで意味がよくわかりません。以下のものをフローチャートにおこしたいのです。 '空番号検索 SqlTxt = "" SqlTxt = SqlTxt & "DECLARE " SqlTxt = SqlTxt & " CURSOR C1 IS " SqlTxt = SqlTxt & " SELECT @1 FROM " & MyTable & " WHERE @1 BETWEEN @2 AND @3 ORDER BY CODE; " SqlTxt = SqlTxt & " PREC C1%ROWTYPE; " SqlTxt = SqlTxt & " i NUMBER; " SqlTxt = SqlTxt & " NEWCODE NUMBER; " SqlTxt = SqlTxt & "BEGIN " SqlTxt = SqlTxt & " :RetValue := -1; " SqlTxt = SqlTxt & " I := @2 - 1; " SqlTxt = SqlTxt & " NEWCODE := -1; " SqlTxt = SqlTxt & " OPEN C1; " SqlTxt = SqlTxt & " LOOP " SqlTxt = SqlTxt & " FETCH C1 INTO PREC; " SqlTxt = SqlTxt & " EXIT WHEN C1%NOTFOUND; " SqlTxt = SqlTxt & " i := i + 1; " SqlTxt = SqlTxt & " IF PREC.CODE <> i THEN " SqlTxt = SqlTxt & " NEWCODE := i; " SqlTxt = SqlTxt & " EXIT; " SqlTxt = SqlTxt & " END IF; " SqlTxt = SqlTxt & " END LOOP; " SqlTxt = SqlTxt & " CLOSE C1; " SqlTxt = SqlTxt & " :RetValue := NEWCODE; " SqlTxt = SqlTxt & "EXCEPTION " SqlTxt = SqlTxt & " WHEN OTHERS THEN " SqlTxt = SqlTxt & " :RetValue := -1; " SqlTxt = SqlTxt & "END; " SqlTxt = fChangeStr(SqlTxt, "@1", "CODE") SqlTxt = fChangeStr(SqlTxt, "@2", fSqlStr(t_Code, fSqlStr_Long)) SqlTxt = fChangeStr(SqlTxt, "@3", fSqlStr(SysMaxCode, fSqlStr_Long)) OraDb.ExecuteSQL (SqlTxt) NewCode = fToNumber(OraDb.Parameters("RetValue").Value) OraDb.Parameters.Remove ("RetValue") 暇なときにでもアドバイスいただけたら幸いです。
Oracle database 10g express edition を使っています。 EXTRACT(HOUR FROM CURRENT_TIMESTAMP)で、UTCがでてきます。 JSTは、この方法では取れないのでしょうか? それとも、何か設定が必要でしょうか? よろしくお願いします。
初歩的な質問をさせていただきます。 表示させたいのは以下のような感じです。 Aコード　A名前　A時間　Bコード　B名前　B時間　… ------------------------------------------------ 100 　　　A 　　　　　90 　　　200 　　　　B 　　　100　　… という感じですべて一行で表示させたいのです。 SELECT CODE'Aコード' ,NAME'名前' ,TIME'時間' ,CODE'Bコード' ,NAME'名前' ,TIME'時間' ,CODE'Cコード' ,NAME'名前' ,TIME'時間' FROM (SELECT TARCODE ,MAX(NAME)NAME ,SUM(WORK_TIME)TIME FROM NIP , TAR WHERE NIP.TAR = TAR.CODE AND DDATE BETWEEN '2008/04/21' AND '2008/05/20' GROUP BY TAR) WHERE CODE = 100 サブクエリでは、4/21から5/20までのすべての社員の労働時間を出しています。TARが社員コード、NAMEが社員名、WORK_TIMEが一日の労働時間です。 この中から指定した社員コードの人のデータを１行で表示させたいのです。 一人だけなら、外のWHERE句でコードを100に指定すれば済む話ですが、 ３人となると表示項目名が９つになるのでこの方法ではうまくいきません。コードが200、300の人を１行で表示させるにはどのような方法があるのでしょうか？ ものずごく初歩的な質問で大変申し訳ありません。
条件に当てはまる値を１０件SELECTし、 INSERTしたいのですが試せる環境がなく確認できない状態です。 もしテーブルを全件みて該当データがない場合も処理終了と したいのですが下記のような書き方でよいのでしょうか？ どなたかご助言いただけないでしょうか？お願いします。 BEGIN WHILE (10=i) LOOP SELECT A INTO AA FROM TBL_A WHERE A = "xxx" INSERT INTO TBL_B (A_ID)VALUES(AA) EXIT WHEN (10=i) ; END LOOP; DBMS_OUTPUT.PUT_LINE('呼び出されます'); END;
初めまして。 SQL初心者でわからないことが多くて困っています。 求めたいのは、最も労働時間が長い人の労働時間を表示させる ということです。 以下が自分なりにつくったものです。 SELECT SCODE ,NAME ,MAX(TIME) FROM (SELECT TARSCODE ,MAX(NAME) NAME ,SUM(WORK_TIME)TIME FROM NIP , MTOR WHERE NIP.TOR = MTOR.CODE AND DDATE BETWEEN '2008/04/21' AND '2008/05/20' GROUP BY TAR) サブクエリでは4/21～5/20までで、社員ごとに何時間働いたかを出力したものです。 TARが社員コード、NAMEが社員名、WORK_TIMEが一日の労働時間です。 これは以前作ったものなのでそのまま活かせないかと思ってサブクエリとして使っています。 そして、このサブクエリから出力した労働時間のなかから最大値をMAX(TIME)で表示させたのですが、当然、SCODEとNAMEは「GROUP BY の式ではありません」と怒られてしまいます。かといってこれらにMAX()関数を用いても、ただ単に社員コードが最大のものが表示されるだけで、労働時間が最大の人のコードと社員名が表示されません。 何かいい方法はありませんか？ 長文で大変申し訳ないです・・・
こんにちは 現在ORACLE Bronzeの勉強をしていて、妙に引っかかる部分があるので質問をさせて下さい。 インプレスジャパンが刊行しているBronze DBA10gの問題集の中に以下のような問題があります。 次の中でDDL文では実現できない機能を２つ選びなさい。 A.ユーザーの作成 B.表の削除 C.データ変更の確定 D.ビューの名称変更 E.表データの削除 解答はC・Eだったのですが、ここで頭に？が浮かびました。 TRUNCATE文で表データの削除できるんじゃないの？というものです。 一般にTRUNCATE文の説明には「表の切捨て」や「表データの切捨て」という言葉を使っていますが、以下が質問になります。 １．「表データの削除」と「表データの切捨て」はまったく違う現象なのか。どう違う現象なのか。 ２．結局TRUNCATE文も表のデータを削除してるのではないのか。 以上です。 質問が長くなってしまい申し訳ありませんでした。 認識違いなどありましたらご指摘ください、よろしくお願いします。 参考：http://www.thinkit.co.jp/free/tettei/1/3/1/ の第2問に同じ問題が載っています。
PL/SQLの使用方法を検討しており、下記のようにサンプルを作成しました。 //1. 宣言部 create or replace package Pac is procedure Pro1(p1 in varchar2); end; / パッケージが作成されました //2. 本体 create or replace package body Pac is procedure Pro1(p1 in varchar2) is tempdate DATE; begin select to_char(sysdate, 'yyyy/mm/dd') INTO tempdate from dual; DBMS_OUTPUT.PUT_LINE('引数は' || p1 || 'です。'); DBMS_OUTPUT.PUT_LINE('日付は' || tempdate || 'です。'); end; end; / パッケージ本体が作成されました //3. 実行 execute Pac.Pro1('a'); // エラー内容 行1でエラーが発生しました。: ORA-00900: invalid SQL statement SQLPlusより、上記の[1. 宣言部]でパッケージを作成し、[2. 本体]で本体部分を作成しました。 その後、[3. 実行]を実施しましたが、 エラーが出力されて実行されません。 何がいけないのかお気づきの点がございましたら、 よろしくお願いします。
こんにちは オラクルの試験勉強をしようと ソフトを探しているのですが、 30日間トライアル版はあるようなのですが、 これはインストールして30日過ぎたら もう使えないということなのでしょうか？
こんにちは 私は駆け出しのセールスエンジニアをしているのですが、先の将来データベースの専任か営業＋ＳＥを目指すためオラクルについてかなり興味が出てきました。 率直な「教えて」は １．プログラムのプの字も知らない私がオラクルsilverを取るまでに必要な知識はなんでしょうか？ ２．私自身の頑張りにもよりますがどれくらいで取れますでしょうか？ よろしければお答え願いますでしょうか？
VB6-ORACLEで旧システムの動作環境を作成しているのですが、SELECT句で文字化けが発生しエラーとなってしまいます。 サーバ機よりVBPで実行すると問題ないのですが、サーバ機よりEXEで実行すると「電話番号」というフィールドを参照する際に、「泥錬番号」で参照しに行ってる模様で、「フィールド'泥錬番号'は見つかりません」と出てしまいます。 クライアントより実行すると、VBPでもEXEでも同じ現象が発生します。 Server環境: Windows2000 Server Oracle8.1.6 CHARACTERSET = JA16SJIS Client環境 WindowsXP Pro よろしくお願いします。
テーブル内容 TBL1 T1_ID　T1_NM 100　　T1_1 101　　T1_2 102　　T1_3 103　　T1_4 ---------- TBL2 T1_ID　T2_ID　T2_NM 100　　100　　T2_1 101　　101　　T2_2 101　　102　　T2_3 102　　103　　T2_4 ---------- TBL3 T3_ID　T3_TYPE　T3_NM 100　　T1　　　　T3_1 100　　T2　　　　T3_2 101　　T1　　　　T3_3 101　　T2　　　　T3_4 102　　T1　　　　T3_5 102　　T2　　　　T3_6 ---------- 要求出力結果 T1_NM　　T2_NM　　T3_NM T1_1　　　　　　　　　　T3_1 T1_1　　　T2_1　　　　T3_2 T1_2　　　　　　　　　　T3_3　　　　　　　 T1_2　　　T2_2　　　　T3_4 T1_2　　　T2_3　　　　T3_5 T1_3　　　　　　　　　　T3_6 T1_3　　　T2_4 T1_4 以上のデータ内容で要求出力結果を得たいです。 各テーブルの結合条件としては (T1.T1_ID = T2.T2_ID)(+) AND ( (T1.T1_ID = (T3.T3_ID AND (T3.T3_TYPE = 'T1')(+)) OR (T2.T2_ID = (T3.T3_ID AND (T3.T3_TYPE = 'T2')(+)) ) となります。 もちろんこのままだと外部結合の中にORがあるのでエラーとなります。 UNIONを使用せずに実現できますでしょうか？
お世話になります。 oracleにDDLトリガーを作成したいのですが、エラーが出て作成出来ません。 AFTER DDL on DATABASEのAFTERのところで エラー内容：「ORA-04072: トリガー型が無効です」　が発生します。 試しに、AFTER insert　にするとここの部分は通るのですが、作成したいのはCREATEやDROPの時に起動するDDLトリガーなのです。 ちなみに、AFTER create or drop　としても同じエラーが発生します。 ネットやoracleのリファレンスも見ましたが今だ解決出来ないでおりますので、ぶしつけな質問なのですが、どこが悪いのか教えて戴きたいです。 -- 作成するトリガーは下記となります ------------------------------------- CREATE OR REPLACE TRIGGER SYS.AFTER_DDL_EVENT AFTER DDL on DATABASE WHEN (ora_sysevent not in ('AUDIT','TRUNCATE')) DECLARE VCW_MODULE varchar2(48) := null; NW_CNT number := 0; BEGIN insert into ログ格納テーブル ・・・ if ( ora_sysevent = 'CREATE' ) then ・・・ elsif ( ora_sysevent = 'DROP' ) then ・・・ end if; END; / です。CREATEやDROPが発生した時にログを残したいのです。 oracle8ではDDLトリガーは作成出来ないってことは無いですよねぇ・・・。 環境は、oracle8、windowsNTサーバー 以上、誰か教えて～
現在、ドメインにてポリシーのかかっている端末にてODBCを使用してAcssesよりデータ取得をしようと試みております。 Administratorユーザーでは、問題無くODBC接続→データ取得及び更新が行えるのですが、表題のような端末では、接続時にエラーが出てしまいます。 ODBCの設定でポリシー端末でも接続が可能だと小耳に挟んだのですが方法がわかりません。 ネットで検索してみたのですがヒットせず書き込みさせて頂きました。 （検索ワードが悪かったのかもしれませんが） どなたかご存知の方が居られましたら御教授願います。 よろしくお願い致します。
Oracleの製品についていくつか知りたいことがあります。 OracleMasterの資格取得を目的に、勉強を開始した者です。 本にトライアル版用の付属ＣＤがあり、それをインストールして 実際に動かしながらも勉強してみたいと思いました。 本にはＩＰアドレスがＤＨＣＰ使用の場合,Microsoft LoopbackAdapter を入れ、ＩＰアドレスを設定するようにと書いてあります。 早速「ハードウェアの追加」ウィザードから追加を試みたのですが、 「ロゴテストに合格していません」とか「重大な障害を引き起こすかも」と出てきます。 あとで気が付いたのですがOracle製品はWindowsXP HomeEditionには 非対応のようです。（でも、前提条件のチェックで、「オペレーティ ングシステムの要件の確認」ではなぜか成功しています） 故障しないか怖くて追加・インストールできません。 今回知りたいことは以下の点です ・XPHomeEdition(SP2)で、ループバックアダプタの追加も含め、インス 　トールに成功された方いませんか？ ・SQLServerでデータの抽出に3年以上の経験があります。 　仮にOracle製品がインストールできず試さなくても資格は取得でき 　ますか？　（2，3ヶ月以内にシルバーまではとりたいと考えています） ・インストールできても、30日しか使えないのも不便です。その後も個人のパソコンで使用したい場合どうしたら良いのでしょうか？ 長くなってしまい申し訳ありません。 教えていただけると大変助かります。 どうぞよろしくお願いいたします。
データベースソフトOracle10gを使用してサーバで バックアップを下記運用でとっています。 毎日、ディスクにSQL Plus Expにてフルバックアップをとっています。 質問ですがこの運用から一週間の一日だけフルバックアップをとり あとはすべて差分バックアップというやり方です。 バッチファイルの中身とSQLファイルの差分の書き方を教えてください よろしくお願い致します。
oracleシルバーを受けようと思っています。 しかし、oracleシルバーの中でもなんか、色々あるみたいで、 ・オラクル シルバー フェロー ・オラクルマスター シルバー（オラクル9iデータベース） ・オラクルマスター シルバー（オラクル9i PL/SQL） ・オラクルマスター シルバー（オラクル 9i アプリケーションサーバー） があるようです。しかし、初心者なのでどれをとればいいのかとかが良くわかりません。。。そこで質問ですが、 １．oracleシルバーのどれを取得しても、「oracleシルバー取得した！」と宣言できるのでしょうか？ ２．最終的にゴールドを、短時間の勉強で取得するには、まずはシルバーのどれを取得すればいいでしょうか？
※1 SELECT 　T1.*, 　T2.*, 　T3.* FROM 　TBL1 T1, 　TBL2 T2, 　TBL3 T2 WHERE 　T1.T1_ID = T2.T2_ID(+) AND 　(T1.T1_ID　=　T2.T2_ID(+)　OR　T2.T2_ID　=　T3.T3_ID(+)) 結果としては以下のようにしたいです。 T1_ID　T2_ID　T3_ID 100　　　　　　 300　　←T1とT3の結合結果 101　　　　　 　301　　　　　　” 100　　200　　　302　　←T1+T2とT3の結合結果 101　　201　　　303　　　　　　” 今のままではORによる外部結合でエラーが出てしまうため (T1+[架空のT2_ID]+T3) UNION (T1+T2+T3)という回避策を取っていました。 実際にはT1,T2,T3共に出力カラム数が膨大で、更にT1,T2,T3(※1の結果)及びT4UNIONが存在する等、非常に扱いづらくなってしまっています。 なんとか※1のようにまとめることはできないのでしょうか？
INTERVAL YAER TO MONTH型がよくわかりません。 どんな時に使われるのでしょうか。 何年と何ヶ月（0から11）という形でデータを参照、格納したいときに 便利ということでしょうか？
「10日でおぼえるOracle」という書籍で初めてOracleを勉強しようと している者です。 付属のトライアル版でOracle10ｇをインストールしようとしたら、 「製品固有の前提条件のチェック」において 「物理メモリの要件を確認」のところで警告が出ました。 予期した結果：256MB 実際の結果：247MB 物理メモリーが足りません とのことなのですが、 通常、物理メモリって256MBだと思っていたのですが・・ この場合物理メモリを買って増設したほうが良いのでしょうか？ もし他にも方法があればご教授いただけると幸いです。 （ハードウェアに関してはあまり知識がありません） どうぞよろしくお願いいたします。
ビューでのWITH READ ONLYとWITH CHECK OPTION での動作の違いがよくわからないので教えてください。 またこれはマイクロソフトのSQLでも使えるでしょうか？
多重化の目的はどれか１つが壊れても即データベースが停止にならないようにするためだと思っています。 しかし、制御ファイルは多重化していても１つでも壊れてしまうと データベースは使えなくなります。 では、制御ファイルを多重化する意味はなんでしょうか？ バックアップの代わり程度なんでしょうか？ （確かに常に最新のバックアップが取られるという点では良いのかもしれません）
お世話になります。 オラクルに登録したストアドプロシージャのファイルサイズを調べる手段についてお聞きしたいと思います。 クライアントでテキストファイルに落すこと無く、サーバーで登録してあるプロシージャのファイルサイズを一覧で取得するようなバッチ処理を考えています。 プロシージャのファイルサイズを取得できるのか、よく分からないのですが、ご存知の方、お知らせください。 サーバー環境 windowsNT oracle8
SQLを習いはじめました。 ユーザーIDが１００件あるテーブルの３０件目～５０件目の ユーザIDを抽出し、別テーブルに登録をしたいと思っています。 『このｘｘ件目からｘｘ件目まで』の抽出のしかたがわかりません。 どなたかわかる方がいましたら教えてください。 DECLARE CURSOR cursor_name IS SELECT USER_ID FROM TBL_USERID ; getid VARCHAR2(16); ryear NUMBER := '2008'; ryear2 NUMBER := '08'; rmonth NUMBER; rday NUMBER; usercnt NUMBER; rcnt NUMBER := '0'; --処理開始 BEGIN SELECT count(USER_ID) INTO usercnt FROM TBL_USERID ; OPEN cursor_name ; LOOP FETCH cursor_name INTO getid ; EXIT WHEN cursor_name%NOTFOUND; --月でループ（1～12月） For rmonth IN 1..12 LOOP --日でループ（1～22日） For rday IN 1..22 LOOP --スケジュール１件目 rcnt := (rcnt + 1); INSERT INTO TBL_SCH ( SCHEDULE_ID ,USER_ID ,UPDATE_DATETIME ) VALUES ( ryear || Trim(TO_CHAR(rmonth,'00')) || Trim(TO_CHAR(rday,'00')) || Trim(TO_CHAR(rcnt,'00000000')) ,'getid' ,SYSTIMESTAMP ); END LOOP; END LOOP; END LOOP ; CLOSE cursor_name ; END ;
すみません。初めて質問させて頂きます。 以下のような条件のSQL生成は可能でしょうか。 可能な場合どのようなSQLになるかご教授頂けないでしょうか。 <条件> テーブルA,B,Cで一致する社員コード AND テーブルAの年月日がnull AND テーブルBの区分コードが"01"以外 AND テーブルCの部門コードでテーブルDを検索し 取得した会社コードが"00001" <取得したい項目> テーブルA.社員コード テーブルA.社員氏名 テーブルC.区分コード <テーブルA> 社員コード* 会社コード 年月日 社員氏名 <テーブルB> 社員コード* 会社コード 区分コード <テーブルC> 社員コード* 会社コード 部門コード <テーブルD> 会社コード* 部門コード* *は主キー よろしくお願い致します。
こんにちは。 下記の件につきまして、ご教授お願い致します。 MS-Access から ODBC 経由で oracle のテーブルをリンクしようとしております。 その為、oracle のサイトより [Oracle ODBC Drivers for Oracle 9.2.0] をダウンロードし、 クライアントにインストールしようとしました。 ダウンロードしたEXEファイルを実行すると、解凍先に指定した下記フォルダにファイルが展開されただけで何も起こりませんでした。 「C:\Documents and Settings\ユーザー\Local Settings\Temp」 最終的にはこれだけではインストールできないことが分かり、結局 [Oracle9i Client] をインストールすることにしました。 インストールタイプで管理者を選択すると、Oracle ODBC Driver も自動的にインストールされるとのことですので、 管理者をインストールするつもりです。 前置きが長くなりましたが、ここで問題なのが、先走ってインストールしようとした上記ドライバについてです。 上記のようにEXEファイルを実行した際に作成されたファイルがジャマをして、 Oracle Client のインストールに支障が出るのでは？と思っております。 ですので、これらファイルを削除しようかと思うのですが、手動でこれらファイルを削除してもよいものなのでしょうか？ それとも削除せずとも正常に Oracle Client をインストールすることができるのでしょうか？ また、これとは別に、「C:\Program Files\Oracle」というフォルダもあるのですが、これも関係しているのでしょうか？ ※こちらのフォルダはなんとなく Oracle Client をインストール途中でキャンセルした為に、作成されたものではと思っております。 （インストールタイプを選択する画面でキャンセルしました。） 以上です。宜しくお願いいたします。
データベースのチューニングをします。 その際、事前準備として調査を考えていますが、 何をどのように調査し、その結果を元にどこの設定を変更したらよいわかりません。 チューニングの内容 １．物理的な物の変更は行わない。 ２．ＳＱＬの修正は行わない。 ３．設定ファイルのみの変更 環境： ＤＢ　：9 , 10.1 server：win2000 server 以上の内容で、回答、アドバイス、著書、ホームページがありましたら教えて下さい。
Oracle Database 10g Express Edition を使用しています。 新人教育で外部結合を教えるのに際して、+を使ったOracle方言ではなく、標準で教えたいと思っています。 Oracleの+を使った外部結合ですと、FULL OUTER JOINも素直には書けませんし、Oracleの世界でしか通用しませんので。 そこで、質問なのですが、ネットで検索すると、ISOのOUTER JOIN構文を使うと、Oracleでは色々誤動作が起きるとの記述が見られます。その深刻度、現状、Oracleの対応などについて、情報源はありませんでしょうか?
OracleやSQLについてはまだ初心者のレベルで理解が浅いので言葉足らずかもしれませんがよろしくお願いします。 以下のようなテーブル(名称：TBL)があったとします。 SHOP_CODE------SHOP_NUMBER----MONEY1------MONEY2 A ---------------- 1 ---------------- 100 ------------- 200 B ---------------- 2 ---------------- 300 ------------- 400 C ---------------- 3 ---------------- 500 ------------- 600 D ---------------- 4 ---------------- 700 ------------- 800 例えば、SHOP_CODEがA～Dのどれかの行（レコード）はそのまま抽出して、残った行（レコード）はMONEY1およびMONEY2を0に変更して抽出しようとした場合、 SELECT * FROM TBL WHERE SHOP_CODE =　'ここはA～Dのどれかを代入' UNION SELECT SHOP_CODE, SHOP_NUMBER, 0, 0 FROM TBL WHERE SHOP_CODE <> 'A～Dのどれかを代入' このようなSQL文を考えてみました。 しかし、比較的簡単な例ならばよいのですが、UNION前のSELECT文が複雑になってきた場合のことを考え以下のような文の作りかたができないかと思いました。 SELECT * FROM TBL WHERE SHOP_CODE =　'ここはA～Dのどれかを代入'・・・『この時点で抽出した塊になんらかの名称をつける（例：tbl)』 UNION SELECT SHOP_CODE, SHOP_NUMBER, 0, 0 FROM TBL WHERE SHOP_CODE <> tbl.SHOP_CODE・・・『このようにUNION以前に抽出した塊の名称を利用して条件を作成』 このような方法ができるとした場合、前段階で抽出した塊にどのような方法で名称をつけるのか分かりませんでした。（汗）そもそもできるかどうかもわかりませんが、、、（＾＾； 最初のSQL文がベターな方法なのかも分かりませんが、上記に示した方法で抽出することが可能でしょうか？もしできるのならば、前述したように名称をつけて条件を作成する方法等を教えていただきたいと思います。 おおよそ話を分かっていただければよいのですが、ものすごく簡単に言うと一つのテーブルのある行とある行に別々の処理をして再構成したいというようなイメージです。（今回はMONEYを0にすると仮定しました） できれば上記の方法に沿った考えで回答をいただけると私も助かりますが、もっと良い方法があれば是非伺いたいと思います。お時間の方ありましたらよろしくお願いします。
いつもお世話になっております。 下記、ご教示願います。 Oracle Master SQL基礎Iを受験しようと、Oracle DataBaseトライアル版をインストールしました。 最初はいろいろできたのですが、いつのまにかOracle Enterprise ManagerやiSQL*Plusへのログインができなくなりました。 OracleDBConsoleorclが起動していないことが原因とわかりましたが、 起動しません。 コントロールパネル＞管理ツール＞サービスにて起動を試みていますが、 「ローカルコンピュータでOracleDBConsoleorclを開始できません。詳細についてはイベントログを確認してください。これがMicrosoft以外のサービスである場合は、サービスの製造元に問い合わせて参照してください。」 というエラーメッセージが出ます。 いろいろサイトを検索してみましたが、わかりません。 何卒よろしくお願いします。
（バージョン）oracle9i R2 ある特定のユーザーに対して、全てのテーブルへの全ての操作を監査証跡として残したいです。 書籍やネットで調べた限りでは、１回のAUDIT文で実行する方法は見つかりませんでした。できないのでしょうか？ （全てのスキーマの全てのテーブルに個別設定が必要なのでしょうか？） また、「audit all」という書き方をネットで発見し、全ての操作に対しての監査が対象になると思っていたのですが、 「SELECT TABLEやINSERT TABLEなどの監査オプションは含まれません」という補足が書かれていました。 この「audit all」コマンドについてもネットで調べたのですが、情報がほとんど無く、理解できていません。 有識者の方、ご教授頂けないでしょうか。 宜しくお願いします。
初めまして。Oracle Database10gをインストールについて掲題のような例外を解決できず、ご助力いただきたいと思い投稿させていただきました。 OracleDBのバージョンは10.2.0.1、OSはWindows2003ServerR2(5/2現在までの全てのWindowsUpdate適用済み)です。 インストール先をC:\→D:\(以下のパスは全て変更なし)に変更し、他は全て初期値の設定でOracleをインストールしました。 インストール中にエラーは発生しませんでした。 その後、emにsysユーザでログインすると、java.lang.Exception:Exception in Sending Request :: null という例外が発生しました。 dbconsoleの開始自体は問題なく行えますし、SQL*PlusでDBに接続することは可能です。 調べましたところ、主に次の2つの対策があるようでした。 1)emca -deconfig、emca -configコマンドでdbconsoleを再構築する 2)emctl resetTZでagentのタイムゾーン問題を解決する 上記2つの対応を試したのですが、いずれも実行中に以下のようなエラーとなってしまい、問題が解決できませんでした。 1)emca -deconfig dbcontrol db、emca -config dbcontrol db を実行すると、emca -configを実行したときに 警告: Database Controlのショートカットは作成できません という警告が表示され、emにログインすると同様のExceptionが表示されます。 2)emctl config agent getTZを実行すると、タイムゾーンはGMTになっています。(OSのタイムゾーンは+09:00になっています) dbconsole停止後、emctl resetTZ agentを実行すると、以下のような結果になり、その後emにログインするとやはりExceptionになります。 resetTZ failed. The agentTZRegion in: <agentHome>/sysman/config/emd.properties is not in agreement with what the agent thinks it should be. Fix your environment. Pick a TZ value that corresponds to time zone settings listed in: <oracleHome>/sysman/admin/supportedtzs.lst OracleDBの再インストールも試したのですが、解決できず、途方に暮れています。解決方法に心当たりのある方がいらっしゃいましたら、ご回答いただけると大変助かります。 どうか、よろしくお願いいたします。
「何々でなければ、この値」というような関数を探しています。 こんな感じです。 func(ZZZ, 'A', 'P') ZZZが'A'でなければ'P'を返す イメージ select ZZZ　ｚ, func(ZZZ, 'A', 'P') 　ｆ　from テーブル; ｚ　　　　　ｆ －　　　－ Ａ　　　　Ａ NULL　Ｐ Ｐ　　　　Ｐ Ｂ　　　　Ｐ なお、一つの関数である必要はなく、関数を組み合わせたり、入れ子にしたりするのはかまいません。 もしかすると、次のようにするとできるかもしれません。 NVL2 ( NULLIF('A', ZZZ), 'P', 'A' ) ただ、わかりにくい感じがするので。
レコード登録時にテーブルの件数が規定数を越えているならば、指定件数分の既存レコードを削除したいのですが、方法が見つかりません。 目的のテーブルは以下のような構造になっております。 P-Key１：大枠のID（プライマリキー１） P-Key２：大枠内の序列を表す（プライマリキー２） THRED：登録元スレッド番号（プライマリキー３） FILE：ファイルパスを格納 TIMESTAMP：登録日付、DATE型 TERMID：端末ID（プライマリキー４） この内、削除時に指定するのはスレッド番号と端末IDだけです。 残りのプライマリキーが一つならば、IN句の副問い合わせでできそうな感じですが、２つある為、IN句では指定できませんでした。 以下は、試したSQL文です。ただし、全部失敗しております。 DELETE FROM (select * FROM テーブル WHERE THREAD = 1 AND TERMID = '端末ID' ORDER BY TIMESTAMP) WHERE ROWNUM < 3; DELETE FROM テーブル WHERE P-Key1 IN (SELECT P-Key1 FROM テーブル WHERE THREAD = 1 AND TERMID = '端末ID' AND ROWNUM < 3 ORDER BY TIMESTAMP) AND P-Key2 IN (SELECT P-Key2 FROM テーブル WHERE THREAD = 1 AND TERMID = '端末ID' AND ROWNUM < 3 ORDER BY TIMESTAMP); よろしくお願いします。
OracleでROWNUMを使用すると処理速度はアップするのでしょうか？ （例）TESTテーブル（PK:KOJIN_NO）には、１０万件 (1)ROWNUM　使用 SELECT KOJIN_NO, SHIMEI FROM TEST WHERE KBN = 1 ROWNUM < 101 (2)ROWNUM　未使用 SELECT KOJIN_NO, SHIMEI FROM TEST WHERE KBN = 1 この場合、(1)と(2)ではやっぱり(1)の方が処理速度は速いのでしょうか？ 実際、試したところROWNUMを使用したSQLの方が遅い気がしました。 SQL初心者なので、詳しく分かりません。 お願い致しますm(__)m
Oracle初心者です。 テスト環境作成のために、 Dドライブの直下にOracle10gがあるマシンに 新たに8i（8.1.6）をインストールしたいのですが、 次のエラーメッセージが出てしまい、先に進めません。 -------------------------------------------------- [Oralce ODBC Driverは単独のOracleホーム製品です。 すでにD:\Oracle\product\10.1.0\Db_1にインストールされています。 Oracle Provider for OLE DBは単独のホーム製品です。 すでにD:\Oracle\product\10.1.0\Db_1にインストールされています。 Oracle Objects for OLEは単独のホーム製品です。 すでにD:\Oracle\product\10.1.0\Db_1にインストールされています。] これらの製品を削除することも、単独のホーム製品として同じ位置に製品をインストールすることもできます。 -------------------------------------------------- やったこと (1)マシンがPentium4の場合、本体の画面表示に従ってもインストールができないということで、Cドライブ直下にtemporaryフォルダを作成し、その中にCDの中身を丸々コピー。 (2)作成したディレクトリにある 「oo4o81637\Components\oracle.swd.jre\1.1.7.24\2\DataFiles\Expanded\jre \win32\bin」と 「stage\Components\oracle.swd.jre\1.1.7.24\1\DataFiles\Expanded\jre\win32\bin」 の「symcjit.dll」を「symcjit.old」に変更。 (3)「\install\win32\setup.exe」から実行。 (4)「次へ」ボタンで先に進み、[インストール先]に自作フォルダ（C:\oracle\8i\)を指定、標準インストールを選択。 博学の皆様、ご指南いただけますでしょうか。 よろしくお願い致します。
よろしくお願いします。 表と表領域とデータファイルの関係を一発で導く方法を 教えてください。 今のところ、下記２つに分けているので、１つのSQLとしたいです。 データベースは、Oracle9i(9.2.0.8.0)です。 どうぞよろしくお願いします。 １． －－－－－－－－－－－－－－－－－－－－－－－－－－－－－－ SQL> select table_name, tablespace_name from all_all_tables 2 where table_name = 'SAMPLE' 3 ; －－－－－－－－－－－－－－－－－－－－－－－－－－－－－－ ２． －－－－－－－－－－－－－－－－－－－－－－－－－－－－－－ SQL> select tablespace_name, file_name from DBA_DATA_FILES 2 where tablespace_name = 'USERS' 3 ; －－－－－－－－－－－－－－－－－－－－－－－－－－－－－－
こんにちは、 列別名は二重引用符で囲むのですが、もし列別名自体が二重引用符を使用した場合、SQL文（SELECT）がどうなりますか？
お世話になります。 Oracle9i(9.2.0.8) (Windows Server 2003 SP2)の リカバリ評価について検討中です。 下記、３パターンのの評価を実施しようとしておりますが、 あまりOracleを知らず、評価方法がわからず、困っております。 どのように実施すれ良いでしょうか？ なお、アーカイブログモードにて運用します。 どうぞ、アドバイスのほどよろしくお願い致します。 １．Cドライブ、Dドライブに分散(複製)してREDOログ／アーカイブログを 出力させている場合、一方のメディア障害の際に他方から ファイルをコピーしてリカバリする場合。 ２．Cドライブ、Dドライブに分散(複製)して制御ファイルを 配置している場合、一方のメディア障害時に他方から ファイルをコピーしてリカバリする場合。 ３．Cドライブ、Dドライブに分散(複製)して(ユーザ)データファイルを 配置している場合、一方のメディア障害時に他方から ファイルをコピーしてリカバリする場合。 (もしくはバックアップからリストアする場合)
ORACLE9iを自動UNDO管理モードで使用しています。 マニュアルによるとUNDO_RETENTIONはコミット後のデータの保存期間（目標値）を設定するもので、用途はフラッシュバック問い合わせ、読み取り一貫性の保障であるということですが。 質問：クエリー（SELECT）を投げた時点の対象テーブルの状態（スナップショット）もUNDO表領域に置かれ、UNDO_RETENTIONの期間保存されるのでしょうか？ そうすると「UNDO_RETENTIONはコミット後のデータの保存期間」というのとは少し違ってくるのかと思うのですが。。。 経緯：１時間ほど掛かる問い合わせで発生するORA-01555（スナップショットが古すぎます）のエラー対策の検討をしていところです。 よろしくお願いします。
Oracle9iを使っています。 インスタンス作成時に自動UNDO管理モードで、UNDO表領域を指定しています。(CREATE UNDO TABLESPACE ～) 名前、ファイル、サイズ等は指定しているのですが、「AUTOEXTEND ON|OFF」パラメータを指定していません。 (1)この場合、AUTOEXTENDのデフォルト値はON,OFFどちらになっているのでしょうか？ (2)UNDO表領域を使い切った場合、AUTOEXTENDの値によってどのような動作をするのでしょうか？ よろしくお願いします。
よろしくお願い致します。 テーブルをはじめて設計することになりましてどのように設計すればいいのかわからず困っております。相談できる人が近くには全くいない状況で、皆様のアドバイスを頂きたいと思い質問させて頂きました。 本題ですが、企画の種類がいくつかあったとします。 まず大きくA企画とB企画があります。 A企画の中でも甲企画と乙企画にわかれます。 B企画はまずイ企画とロ企画にわかれます。そしてイ企画、ロ企画それぞれの中で甲企画と乙企画にわかれます。 このときどのような企画種類を表すテーブルを作るのが一番汎用性があるものとなるのでしょうか？ 自分なりに考えたのは提案の階層ごとに【大分類テーブル】【中分類テーブル】【小分類テーブル】【実際のテーブル種類をもつテーブル】の4つを作るというものですが、これだと3階層で固定になってしまいますのでこれではよくないと思うのですが代わりの案が思いつきません。 アドバイスよろしくお願い致します。
Windows 2003 server上でoracle10gを動かす予定です。 それに接続するためのoracleクライアントは9.2.0.1でも動くのでしょうか？ oracleの公式的には9.2.0.4以上でないと動作保障はしない、ということはわかりました。が、実際に動くかどうかを知りたいと思っています。 上記のような環境で動かしたことがある、または実際に運用しているというような事例がございましたら教えていただきたく思います。
Oracle9iのSQLPLUSにて、GROUP BY句で指定した列以外の列をSELECT文の選択結果に表示させたいだけなのですがうまくいきません。 SELECT 列A,列B,列C FROM テーブル１ A INNER JOIN ( SELECT 列A,COUNT(*) FROM テーブル１ GROUP BY 列A HAVING COUNT(*) >= 2 ) B ON A.列A = B.列A 「"B.列A"が無効識別子です」エラーが発生します。 何卒宜しくお願い致します。
Oracleのオンラインバックアップに関する質問で、バージョンやプラットフォームには依存しません。 表領域のオンラインバックアップを取得する際、ALTER SYSTEM ARCHIVE LOG CURRENT文で現在のカレントのREDOログをアーカイブしておくこと、と関連会社から言われたのですがALTER SYSTEM SWITCH LOGFILE文で駄目な理由が分かりません。 一般的にはALTER SYSTEM SWITCH LOGFILE文が知られていると思うんですが、、。
下記のSQLの記述方法について教えてください。 TBL:smp A　　B　　C ------------ XX あ 5 YY え 3 ZZ お 2 XX え 1 のテーブルで、Aの列でグループ化し、Cの列の最大の行を出力したい。 アウトプットとしては、 A　　B　　C ------------ XX あ 5 YY え 3 ZZ お 2 にしたいのですが、A、Bでグループ化すると、上記のアウトプットにはならず、 Aだけでグループ化すると、Bの列が表示されない。 どうしたらいいでしょうか？
現在、Oracle Call Interfaceを使用したWEBアプリを構築中です。 そこで、この「Oracle Call Interface」の利点を知りたく ネットで検索をしているのですが、Oracleの公式HPを見ても 何が利点なのか分かりません。 どなたか、「thin」接続と比べて「OCI」は何が利点になるのか ご教授下さい。
Oracle10gです。 環境作りで、テーブルを作成しています。 作成後、テーブルに grant all on テーブル to XXXX; で権限を付けているのですが、 各テーブルの権限情報って見れたりしないでしょうか？ 解りづらくてすいません。 宜しくお願いします。
Visual Studio 2008とPro*C/C++を使ってOracleのDBを操作するシステムを考えています。 Oracleのバージョンは10gを予定しています。 Visual Studioが最新バージョンのため、Pro*C/C++のプリコンパイ ラがサポートしていないという懸念があります。 問題ないでしょうか？ もし問題があればOracleを11gもしくは、Visual Studioを2005にすれ ばいいでしょうか？ 教えてください。 よろしくお願いします。
こんにちは。PRGで行き詰まってしまい皆様のお知恵を借りたいと思い投稿しました。 まだOracle初心者のへっぽこシステム管理ですが、お上よりDB(Oracel)からある条件でデータを取って来て Excelに出力してほしいと頼まれました・・ 生産実績管理サーバー（Oracel9)の実績テーブルには、 生産日｜工場No.｜商品名｜機械No.｜生産数｜ 4/1｜100｜ケーキ｜A｜100｜ 4/1｜100｜ケーキ｜A｜120｜ 4/1｜100｜チョコ｜A｜150｜ 生産計画目標サーバー（Oracel8)の計画目標テーブルには、 機械で出来る計画能力が入っております 工場No.｜商品名｜機械No.｜計画生産数｜ 100｜ケーキ｜A｜150｜ 100｜チョコ｜A｜150｜ 上記のテーブルのデータをVBでoo4oで接続して、Excelに出力したのです。 Excelへの完成一覧表は、条件で生産日を4/1で、工場を100で、 商品名｜機械No.｜生産数｜計画生産数｜ ケーキ｜A｜220｜150｜ チョコ｜A｜150｜150｜ にしたいのです。 【VB】 Set oraSes = CreateObject("OracleInProcServer.XOraSession") Set ora9 = oraSes.OpenDatabase("実績","実績/実績”,0&) Set ora8 = oraSes.OpenDatabase("計画","計画/計画”,0&) strSQL1 = "select 商品名,機械No.,Sum(生産数) from 実績 " & _ "where 生産日='4/1' and 工場名='100' " "group by 商品名,機械No. order by 商品名,機械No." Set oraDs9 = ora9.DbCreateDynaset(strSQL1,4&) strSQL2 ="select * from 計画目標" Set oraDs8 = ora8.DbCreateDynaset(strSQL2,4&) Excel起動（省略） Excelに書き込む・・・・ これが現在までのPRGなのですが、oraDs9で取得して来た商品名と機械No.をKeyにして Oracel8の計画目標テーブルから計画生産数を取得、それを結合して、一気にExcelに書き出したいのです。 oraDs9の商品名と機械No.を配列変数に入れて、Doでora8へSQL文を回すようなやりかたはあまりしたくないのです。 Oracleで一気に検索して、上記の欲しい一覧表を取得できたら最高なのですが・・・・ またExcelに書き出す方法は、ExcelでoraDs8をDo～Loopで書き出していくしか無いのでしょうか？ 書き出すサンプルソース・参考になるようなものがありましたら教えて下さい。 もしOracelで、一気にExcelに書き出せる方法がありましたら教えて下さい。 色々と聞いてしまって申し訳ございませんが、何卒宜しくお願いします。
こんばんわ、 質問です。 oracle8iを使ったWebアプリケーションがあり oracleのバージョンを10gへアップした際に、web画面で表示させる 項目のソート順が変わってしまいます。 SQLでselectした値を表示させているのですが、表示する値は 同じなのに表示される順序がバージョンアップの前と後で違います。 ちなみにorder by指定してあります。 この事象の原因とoracleのバージョンアップは何か関係があるのでしょうか？ 過去に似たような経験がある方のアドバイスや解決方法をご存知の方がおりましたら何卒ご教示ください。 お願い致します。
普通はwindows serverにoracleをインストールすると思うのですが。 oracle9iをvistaにインストールして問題なく動作するのでしょうか。 ご存知の方いらっしゃいましたらご教授願います。ちなみに　vistaの businessです。
皆様のお力をお貸し頂きたく思います。 Oracleデータベースについてです。 突然、ROWIDの表示が以下の様になってしまいました。 SQL> SELECT ROWID FROM BUSYO; ROWID ------------------ AAAF+0AAFAAAABDAAA AAAF+0AAFAAAABDAAB AAAF+0AAFAAAABDAAC AAAF+0AAFAAAABDAAD 通常なら結果として、 ROWID ------------- 　　　　　　1 　　　　　　2 　　　　　　3 　　　　　　4 と表示されるはずです。 昨日までは数字で表示されていました。 他のカラムに格納されているデータは全く問題ありません。 日本語データも含まれていますが、問題なく表示されています。 TABLEのアナライズ、INDEXの再構築、インスタンスの再起動を 試してみましたが効果なし。 数字の表示に戻す方法を教えて頂きたく思います。 補足情報が必要な場合はお答え致します。 よろしくお願いします。 環境： Solaris 8 Oracle8.1.7
oracle8iからmysql5.0にデータ移行する作業をしています。 まず、oracleからCSVファイルを出力し、mysqlでインポート、という流れです。半角カナ→全角カナ対応もしています。 ただその際、全角漢字が文字化けしてうまくインポートすることができません。 oracle8iからmysql5.0にデータ移行する、という何か分かりやすいツール等、ご存じの方いらっしゃいましたらお願いします。。
私は今、ORACLE 10g Express Editionをインストールして、 操作を試しています。 データベースのホームページにて、新しく"ORAUSER"という名前のユーザーを作成し、すべての権限をチェックし、同ユーザーでデータベースのホームページに再ログインすると、正常にログインできます。 SQLPLUSを起動して、作成した"ORAUSER"でCONNECTコマンドを発行しても正常に接続できます。 ただ、Oracle Sql Developerを利用して接続するとORA 01017エラーになってしまいます。 同ツールを利用してSYSユーザーで接続した場合は、正常に接続できます。 なんども試した為、パスワードの記述に間違いは無いとおもうのですが、 何か問題があるのでしょうか。 ご教授よろしくお願い致します。 環境 Oracle Database 10g Express Edition Release 10.2.0.1.0 - Product Oracle SQL Developer Version 1.2.1 Build MAIN 32.13 OS Windows XP Home Edition
質問させて頂きます。 DB運用経験を積むために何らかのシステムを構築し、 自宅で運用したいと考えています。 目的はあくまで「Oracle10g運用経験」です。 勤務先で将来Oracle10g運用等を担当する見通しです。 「本より実際に動かさないと意味が無いハズ」と考えました 自宅でOracle10gと実際に利用できるシステム（or構築ガイド） 　・DB：Oracle10g ExpressEdition 　・OS：Windows2000 　・言語や他ソフト（Apache,PHPなど）の追加は問いません 　・無償が望ましいです 　・WEBの使用は必須では無いです 　・例えばLogが良く溜まるシステムは運用経験向き？等 はありませんでしょうか？ 宜しくお願い致します。
下のSQL文がパフォーマンスが非常に悪いです。 何かチューニングする方法ありませんか。 Oracle8.1.7　 OSはWin2000serverSP2 ◇SQL文 SELECT A.HINCD , B.TANCD ,A.SIZE,A.COLOR FROM TB_TBLA A ,TB_TBLB B WHERE A.KA_CD = B.KA_CD(+)" AND A.HINCD = B.HINCD(+) AND A.JIGYOCD = 1 AND A.BRCD = 20 AND A.BUCD = 300 TB_TBLAの主キーは、JIGYOCD、BRCD、BUCDです。 TB_TBLBの主キーは、KA_CDです。 また、TB_TBLAの件数は、約10万件、TB_TBLBは3万件だとしたら、 読み込み件数は10万*3万件となるのでしょうか。 よろしくお願いします。
oracle9i standard Edition（以下：oracle）のインストール中にフリーズしてしまいます。 環境は以下の通りです。 OS:　　　 Windows XP メモリ：　512M CPU：　　 2G　 状況： インストール画面→ようこそ画面から「次へ」を選択 ファイルのインストール場所をしてい「次へ」を押すと フリーズしてしまいます。 エラーなどの表示は一切なく２０分ほど経っても何も起きませんでした。 情報が少なくて申し訳ありませんが 以上のようなケースに覚えがあればご教授願えないでしょうか？ 宜しくお願いします。
SQLの外部結合についての質問です。 今テーブルA,B,Cがあるとします。 AはBに対して外部結合。BはCに対して外部結合 というようにする事は出来ますでしょうか。 SQLを実行してもエラーになります （例） select A.* from A,B,c where A.項目1 = B.項目1 (+) and B.項目2 = C.項目2 (+)
こんにちは。 データベース管理者(DBA)という仕事に興味を持っている学生です。 将来的にデータベース管理業務で独立したいと思っているのですが、 ２点だけ質問させて下さい。 ・DBAとして独立している人のおおよその収入（多い人で幾ら貰えるのか） ・将来性（DBAの需要） について教えて下さい。 回答待っています。
SQLについて教えてくださいぃ～使用しているのは、”Oracle SQL+”です自分はある工場のへっぽこシステム管理者ですが、お上よりSQLを駆使して下記の条件の表を作ってと頼まれました... <生産>,<不良>,<不良内容>テーブルを使用して表を作りたいのですが・・ <生産>テーブル 日付　|生産工場No.|機械No. | 商品名 |生産数 | 2008/3/29　|　100　 | A　 | チョコ |300 | 2008/3/29　|　100　 | A | チョコ |450 | 2008/3/29　| 100　 | B | 板チョコ |600 | <不良>テーブル 日付 | 生産工場No. |機械No. |商品名 |不良モード |停止時間（分）| 2008/3/29 | 100| A |チョコ | カケ |4 | 2008/3/29 | 100| A |チョコ | カケ |8 | 2008/3/29 | 100| A |チョコ | 曲げ |10 | 2008/3/29 | 100| A |チョコ | 汚れ |5 | 2008/3/29 | 100| B |板チョコ | カケ |4 | 2008/3/29 | 100| B |板チョコ | カケ |8 | 2008/3/29 | 100| B |板チョコ| キズ |8 | <不良モード>テーブル 生産工場　| 不良モード | マシン要因 | 人的要因 | 100 | カケ | ☆ | | 100 | 曲げ | | ☆ | 100 | 汚れ | | ☆ | 　100 | キズ | | ☆ | 100 | 溶け | | ☆ | 100 | 割れ | ☆ | | 100 | ヒビ | ☆ | | 上記３つのテーブルを使って下記の表のように集計したいのです。 ↓↓↓ 機械No. |商品名 |生産数 |カケ停止時間（分）| 人的要因での停止時間（分）| A |チョコ | 750 | 12| 15 | B |板チョコ| 600| 15| 8 | 【条件】 (1)　製造工場が’100’ (2)　日付が’2008/03/29’ 各テーブルにおいてのクエリは出来たのですが、結合すると集計が・・・・・・ <生産>にて、 select 機械No.,商品名、sum(生産数) from 生産 where 製造工場='100' and 日付='2008/03/29' group by 機械No.,商品名 order by 機械No.,商品名 <不良>にて、 select 機械No.,商品名、sum(停止時間) from 不良 where 製造工場='100' and 日付='2008/03/29 and 不良モード='カケ' group by 機械No.,商品名 order by 機械No.,商品名 <不良>　<不良内容>にて、 select 機械No.,商品名、sum(停止時間) from 不良,不良モード where 製造工場='100' and 日付='2008/03/29 and 不良モード<>'カケ' and 人的要因='☆' group by 機械No.,商品名 order by 機械No.,商品名 この３つのテーブルを使って、一覧が一度に出来れば助かるのですが、せめて <生産>,<不良>のテーブルで機械No.,品名,生産数,カケ停止時間（分）までは出力したのです。 まだ未熟者ですので、皆様の御力を借りれれば幸いです。お願いします ※図の方が判りづらくて申し訳ございません。
SQLについて質問があります。 以下のようなデータがあったとします。 項目1　項目2　項目3　項目4 ---------------------------- 　　1　　　A　　　300　　　1 　　2　　　A　　　400　　　1 　　3　　　A　　　300　　　0 　　4　　　B　　　200　　　1 　　5　　　B　　　200　　　1 　　6　　　B　　　100　　　0 　　7　　　C　　　200　　　0 　　8　　　C　　　300　　　0 　　9　　　C　　　600　　　1 ここから「項目4 = 1」のレコードを「項目2」で集約し 「項目3」のサマリを求めると 項目2　項目3　 -------------- 　 A　　 700　　 　 B　　 400　　 　 C　　 600　　 となりここからさらに「項目3 >= 500」となる、 元のレコードを抽出したいのですが このような複雑な処理を１度のSQL可能なのでしょうか？ ご存知の方がいらっしゃいましたら、よろしくお願いいたします。 ・期待する結果 項目1　項目2　項目3　項目4 ---------------------------- 　　1　　　A　　　300　　　1 　　2　　　A　　　400　　　1 　　9　　　C　　　600　　　1
Oracle８ WorkGroup Serverをインストールしています。 DBをCSV出力したいのですが、初心者でも簡単にできる方法があれば教えてください。
varchar(40)でCREATE TABLEしたテーブルから、40という部分を取得する方法を教えてください。 rsを利用して40を取得できないでしょうか？ sql = "CREATE TABLE shain (usrname varchar(40),,," dbc.Execute(sql) sql = "SELECT * FROM shain" set rs = dbc.Execute(sql)
初歩的質問ですみません。教えてください。 環境 DB:Oracle 8i OS:WinXp testDBの中に以下の用にスキーマがわかれていて、testDBににあるsampleTBLとういテーブルをBschemaから参照可能にする為にAschemaでログインして grant select on sampleTBL to Bschema と入力して実行するとエラー無しで処理が完了するのですが、Bschemaから、sampleTBLが見えません・・・ Aschemaでログインした場合は参照更新ともに可能で、sampleTBL以外のテーブルに関して は上記のgrant文の実行で、Bschemaからみえるように なったのですがこのsampleTBLというテーブルだけ権限付与できません。 sampleTBLがCerateされた段階で制約などがかかっているのでしょうか？ またもしそうだとしたら、制約解除の方法、また確認方法をご教授していただきたいと思います。すみませんがお願いします。 データベース名：testDB スキーマ名： ・Aschema ・Bschema
お客様に納めているDBの表領域がもうすぐで 100%使用済み状態になります。 そこでなんらかの対応をしなくてはなりません。 みなさんならどのように対処しますか？ 私の考えは 削除できるデータ（テーブル）があれば 削除して使用率を下げます。 もし、削除できるデータがない、または たいして空き領域が増えなければ 表領域を拡張しようと思っています。 ■表領域拡張のメリット・デメリット ・メリット 使える領域が増える ・デメリット バックアップファイルが大きくなる。 バックアップに時間がかかる。 ※データベースファイル ※expコマンドのダンプファイル ※Oracleのバックアップファイル 表領域を拡張するを嫌う方もいらしゃると思います。 技術者みなさんのいろいろ考えが知りたいです。 よろしくお願いいたします。
まちがってOracle10ｇの評価版を2つインストールしてしまいました。 プログラムの追加と削除にもでてきませんし、アンインストールするにはどうすればよいでしょうか？
9iです。お世話になります。 次のSQLをどう書けばよいのか分かりませんのでご教示願います。 【テーブルA】 id code 1　1 2　2 3　(null) … 【マスタテーブルB】 code name 1　　　あ 2　　　い 【ほしい結果】 id name 1　　あ 2　　い 3　(null) … 要するにcodeがnullの所はnameをnullにして、nullでないところは、マスタから引っ張ってくるということがやりたいです。 宜しくお願いします。
マスタとテーブルの違いについて教えてください。 DBにおける、 「マスタ」と「テーブル」の違いはなんなのでしょうか？ 両方とも「テーブル」であるのにも関わらず、 どうしてある特定の「テーブル」には「マスタ」という別名が付けられているのでしょうか？ [参考サイト様] ttp://homepage1.nifty.com/silabel/it/master_table.html 下記のような概念の認識、分け方で合っていますでしょうか？ ■マスタ 　・DBを使用するに当たって、主体となるテーブルがマスターである。 　・主に他のテーブルに対して、登録・参照処理が行われた場合に、 　　マスタと位置づけされたDBがWhere条件に入る。 　・システム上で良く使用するDBである。 　これらによって「マスタ」と付けられている。 ■テーブル 　・あるDB上の用途によって、ジャンル分けされたデータが格納された情報の箱。 　・リレーショナルデータベースでは二次元の表として扱われる。 　 　テーブルとはDB上でデータを格納する為の箱である。 　　 　「マスタ」と「テーブル」の違いについて、このような認識、分け方で合っていますでしょうか？
SQLについてです。 テーブルA ID 価格 タイプ 01 1,000 A01 02 2,000 B02 テーブルB ID 名前 種別 01 test a 03 aiue b 上記のようなテーブルがあったとして テーブルAとテーブルBを外部結合し 紐づくレコードがあった場合、さらに 種別=a　で検索を行いたいのですが 書き方がよくわかりません。 外部結合で検索し、紐づくレコードがあった場合に さらに検索条件を絞る場合には どう書いたらいいのですか？ よろしくお願いします。
SQLに関して質問です。 以下のようなテーブルＡ、Ｂがあった場合、 【テーブルＡ】 　カラム１　　カラム２ 　------------------------ 　ＡＡＡ　　　ＣＣＣ 　ＢＢＢ　　　ＤＤＤ 【テーブルＢ】 　カラム３　　カラム４ 　------------------------ 　ＡＡＡ　　　１ 　ＢＢＢ　　　２ 　ＣＣＣ　　　３ 　ＤＤＤ　　　４ 次のような結果を得るにはどのようなSQL文を記述すれば良いでしょうか？ 【求める結果】 　カラム１　　カラム２　カラム４(1)　カラム４(2) 　--------------------------------------------------- 　ＡＡＡ　　　ＣＣＣ　　　　１　　　　　　３ 　ＢＢＢ　　　ＤＤＤ　　　　２　　　　　　４ 非常に初歩的な質問かもしれませんが宜しくお願いいたします。
お世話になります。 SQL文でご質問があります。 たとえば以下のようなデータがあったとします。 項目1,　項目2,　項目3,　項目4 -------------------------------- 1　　,　　A　　,　　0　　,　　10 2　　,　　A　　,　　0　　,　　20 3　　,　　B　　,　　1　　,　　30 4　　,　　B　　,　　0　　,　　40 5　　,　　C　　,　　0　　,　　50 6　　,　　C　　,　　0　　,　　60 7　　,　　D　　,　　1　　,　　70 8　　,　　D　　,　　1　　,　　80 9　　,　　E　　,　　0　　,　　90 10　　,　　E　　,　　1　　,　　100 ここから[項目3] = 1 のレコードが含まれているもの に限り[項目2]でグループ化し、 [項目4]の合計値を求めて 項目2 　　,　　 項目4 --------------- B　　,　　70 D　　,　　150 E　　,　　190 と取得したいのですが、１回のSQL文で取得できるのでしょうか？ ご存知のかたがいらっしゃいましたら、どうかご教授ください。m(__)m
drop user *** cascade;でユーザをドロップしようとしても、「ORA-01940: cannot drop a user that is currently connected」というメッセージが表示されて一向に削除できません。 この現象は数週間前からで、その間PCを再起動したりサービスを再起動したりしていますが一向にできません。 他のユーザは削除できました。 どうしたらよいでしょう？
　初めまして。Harupondeです。 現在、物凄く困っていることがあります。 今回下記の環境にとあるシステムを移行することになりました。 ********************************** OS：WindowsVistaBusiness DBServer：Oracle10g ********************************** しかし、VistaにOracle10gをインストールすることは出来たの ですが、administrator以外のユーザーだとSQLplusとOBJECTBROWSERと ODBCにも接続できない状況です。 何か方法はありませんか？ ユーザの希望では、PowerUserで動かしたいとのことで、 admin権限を与えることは不可能です。 因みに、移行前の環境は下記の通りです。 ********************************** OS：WindowsXPProfessional DBServer:Oracle9i ********************************** 　よろしくお願いします。
最初の値から次の行の値まで を同一に取れるようにしたいと思っています。 LAGやDECODEを用いてやってみましたが うまく行きません。 ID CODE ------------ 1　　100 2　　 3　　 4　　 5　　200 6　　 7　　300 8　　400 9　　 10　 期待する値 ID CODE ------------ 1　　100 2　　100　 3　　100 4　　100 5　　200 6　　200 7　　300 8　　400 9　　400 10　 400 どなたか宜しく御願いします。
ご存知の方、どうかおしえて下さい。データベースの中の指定した文字列を検索して、どのテーブルのどのカラムに格納されているかがわかるフリーのソフトはないでしょうか？ 環境 ： Win XP 利用DB：Oracle8i 宜しくお願いいたします
このたび、Oracle Database 10g の「Oracle Standard Edition One」を購入する予定ですが、搭載サーバーのCPUは１つ（ただし2CPUまで搭載可能）で、OSはWindows2003Serverです。適用可能かどうか教えてください。宜しくお願いします。
WindowsのサーバーにOracleのDatabase Server(10g)とApplication Server(10g R10.1.2.X)を共存（一台のサーバーにDatabaseとApplication Serverを導入）させている場合、 サーバーのリブートを行うと、サーバーエラーになります。 おそらくApplication Serverが先に起動して、エラーになるのではないかと推測しています。 何か対策はありませんか？
ご存知のかたご教授下さい。 select文で 3つ以上の文字列を連結して抽出したいのですが 適切な関数 方法がわかりません。初歩的質問ですみませんが困ってますのでご教授ください。 私の浅い知識だと 下記のようなconcat 関数を連続で記載する方法しかわかりませんでした。 select concat((concat (column1 ,column2)),column3) from sample_tbl;
お世話になります。 新規DBをDBCAで作成し、その後、Oracle Net Managerで、listener.oraファイルを設定したところ、外部プロシージャ定義（extproc関連）が 作成されてませんでした。 利用環境：DBサーバー（solaris8、Oracle10gR1）、クライアントPC（winXP、Access2003のアプリ） 複数のクライアントPCからLANを経由してDBサーバーへアクセスします。 質問 １．外部プロシージャ定義はどのような場合に記述するのでしょうか？ ２．とりあえず記述しておいた場合に何か問題が起こる可能性はありますでしょうか？ ３．記述場所は以下でよろしいでしょうか？ SID_LIST_リスナー名 = (SID_LIST = (SID_DESC = (GLOBAL_DBNAME = DBネーム) (ORACLE_HOME = オラクルHOME) (SID_NAME = オラクルSID) ) ---以下外部プロシージャ定義(1)--- (SID_DESC = (GLOBAL_DBNAME = PLSExtproc) (ORACLE_HOME = オラクルHOME) (SID_NAME = extproc) ) ---(1)以上---- ) リスナー名 = (DESCRIPTION_LIST = (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = プロトコル)(HOST = ホスト名)(PORT = ポート番号)) ) ---以下外部プロシージャ定義(2)--- (ADDRESS_LIST = (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC)) ) ---(2)以上--- ) 宜しくお願い致します。
お世話になります。 テーブルに 顧客名　括り番号　番号 あああ　100　　　　200 あああ　100　　　　201 あああ　100　　　　202 いいい　101　　　　203 いいい　101　　　　204 あああ　102　　　　205 とデータがあるとします。 顧客名　括り番号　番号 あああ　100　　　　200～202 いいい　101　　　　203～204 あああ　102　　　　205 とデータを取得したいとき、 １回のSQLで取得できますか？ 教えてください。
オラクル初心者で、はじめて、バックアップを行います。 わかりにくい文章ですが、宜しくお願いします。 現在、Oracle9iをアーカイブログモードで運用しています。 そこで、下記のように、OSコマンドによる差分バックアップを計画しております。 日～金がオンラインバックアップ（ホットバックアップ）：差分 土曜日はオフラインバックアップ（コールドバックアップ）：フル オンラインバックアップでは、オンラインREDOログファイルのアーカイブ（alter system archive log current）を実行後に,アーカイブログのみ取得しようと考えておリます。 リカバリについては、土曜日のオフラインバックアップで取得したバックアップにオンラインバックアップで取得したアーカイブログを適用しようと考えております。 そこで質問になります。 (1)アーカイブログを取得する際に、バックアップモードの変更・解除はいらないという認識でよろしいでしょうか？ （いろんな資料を見ると、バックアップモードについては書かれていないので、不安で質問いたしました。） (2)オンラインバックアップでの制御ファイルのバックアップは必要ないということでよろしいのでしょうか？ (3)オンラインREDOログファイルのアーカイブ（alter system archive log current）を実行についても、注意点等あれば、ご教授ください。 そのほかに、気になる点があれば、ご指摘ください。 また、関連するホームページなどありましたら教えてください。 説明不足な点があるかもしれませんが、宜しくお願い致します。
tnsnames.oraの中の(CONNECT_DATA=に SIDだったりSERVICE_NAMEだったりしますが、どのような違いがあるのでしょうか？
oracleなどのデータベースのブロック管理について ブロック内はブロック管理用領域と行データとで構成されてますが 更新後のブロック内の行データはどのように管理されているか教えてください。 １AAAA２BBBB３CCCC４・・・・・と順編成で行データが入れられていって 途中で２行目のデータをBBBBRRRRと更新する場合、２BBBBの後ろに挿入されず離れた場所の、空き領域にRRRRが書かれる状態で管理されるのでしょうか？１AAAA２BBBB３CCCC４・・・・・空き領域２RRRR それとも１AAAA２BBBBRRRR３CCCC４・・・・・ と3行目以降をずらしてBBBBの後ろに挿入するように更新されるのでしょうか？
こんにちは。おせわになっております。 とあるファイル出力バッチをつくります。 バッチは1時間毎に起動し、前回のバッチ起動～今回バッチ起動の間に 画面の操作により更新された情報（差分データ）を抽出するのが要件です。 この場合の一般的なやり方を知りたく、投稿しました。 現在の案としては (1)バッチは、起動ごとに「バッチ起動開始日時」（DATE）を保持 (2)画面は、データを更新するときに「更新日時」を更新 (3)バッチは、以下の条件でデータを抽出 　テーブルの「更新日時」＞＝　前回の「バッチ起動開始日時」 この場合の懸案は、絶妙のタイミングで画面操作とバッチ起動が競合した場合、 抽出からすり抜けてしまうデータがあるのではないか？ということです。 (a)画面は「更新日時」をUPDATE　2008/03/02 10：00：00 (b)バッチは「起動開始時間」を取得　2008/03/02 10：00：01 (c)画面は「更新日時」をCOMMIT (d)バッチは差分データ抽出の処理実行 (e)バッチは「起動開始時間」をUPDATE、COMMIT →次回のバッチ起動では、(a)のデータは抽出対象外になってしまう 上記を避けるための手段は何でしょうか？ 比較を「分」レベルまでで行うことで回避可能な気がしているのですが、 他にスマートな方法がありましたらご教授ください。
お世話になります。 Oracle10gをDBとして扱っていますが、掲題の件について 教えて下さい。 テーブルは以下の構成です。 Cutom_cd　num(5) StrDate　 DATE StrHH　　 varchr2(2) StrMM　　 varchr2(2) EndDate　 DATE EndHH　　 varchr2(2) EndMM　　 varchr2(2) 上記のように開始日時と終了日時を 日付(YYYY/MM/DD)、時間(HH)、分(MM)で分割して項目を 持っています。 この場合の範囲の絞込み方法を教えて下さい。 24時間(22時⇒1時など)の考慮も入れて教えて頂けると 助かります。 宜しくお願い致します。
olacleを勉強して５時間の超初心者です。 sqlplusでselect文を入力したいのですが、 日本語が表示できません。 なにか設定があるのでしょうか？ 手元にある本をみても何も書いていないのですが。。。 select name from table1 これはいけます！ でも select nama as 名前 from table1 とsqlplusで入力できないのです。 「名前」という日本語入力ができないんです。 テキストにselect nama as 名前 from table1 と記入し、コピーペーストしようとしても コピーペーストもできません。 何か設定があるのでしょうか？
あるファイル(ABC.csv)を取り込む時には、 手数料種別の登録を行わず、代理店登録に飛びたい場合は どのようにしたら良いでしょうか？ 教えて下さい。（読みづらくて申し訳ありません。） Public Function F_新規マスタデータ登録(StrFName As String) On Error GoTo Err Dim StrSal As String F_新規マスタデータ登録 = False '手数料種別の登録 StrSql = "INSERT INTO TW_手数料種別マスタ ( " StrSql = StrSql & "手数料種別, " StrSql = StrSql & "手数料種別名称) " StrSql = StrSql & "SELECT " StrSql = StrSql & StrFName & ".手数料種別, " StrSql = StrSql & StrFName & ".手数料種別名称 " StrSql = StrSql & "FROM " & StrFName & " " StrSql = StrSql & "LEFT JOIN T_手数料種別マスタ " StrSql = StrSql & "ON " & StrFName & ".手数料種別 = T_手数料種別マスタ.手数料種別 " StrSql = StrSql & "WHERE T_手数料種別マスタ.手数料種別 Is Null " StrSql = StrSql & "GROUP BY " StrSql = StrSql & StrFName & ".手数料種別, " StrSql = StrSql & StrFName & ".手数料種別名称 " CurrentDb.Execute StrSql '新規代理店の登録 StrSql = "INSERT INTO TW_代理店マスタ ( " StrSql = StrSql & "代理店, " StrSql = StrSql & "代理店名称, " StrSql = StrSql & "新規データ, " StrSql = StrSql & "全件出力, " StrSql = StrSql & "選択出力) " StrSql = StrSql & "SELECT " StrSql = StrSql & StrFName & ".代理店, " StrSql = StrSql & StrFName & ".代理店名称, " StrSql = StrSql & "True, " StrSql = StrSql & "False, " StrSql = StrSql & "False " StrSql = StrSql & "FROM " & StrFName & " " StrSql = StrSql & "LEFT JOIN T_代理店マスタ " StrSql = StrSql & "ON " & StrFName & ".代理店 = T_代理店マスタ.代理店 " StrSql = StrSql & "WHERE T_代理店マスタ.代理店 Is Null " StrSql = StrSql & "GROUP BY " StrSql = StrSql & StrFName & ".代理店, " StrSql = StrSql & StrFName & ".代理店名称, " StrSql = StrSql & "True " CurrentDb.Execute StrSql
pro*cを使ってoracle 10g　へinsert処理を行った際の戻り値はコミット処理が終わってから生成されるのかチェックポイントを発生させてから返されるのかどちらになるかわかる方いらっしゃいましたらご教授ねがいます。
SQLでlike検索する際、検索キーワードを副問い合わせの結果文字列とする方法があればご教示下さい。 イメージでは、、、 select A1列 from A表 where A1列 like '(select B列 from B表 where 条件)'; みたいなのが可能であればいいのですが。。。（ 宜しくお願いします。
OracleのSQL文について質問させて頂きます。 以下のようなテーブルが存在するとします。 ID 　品名　　個数 001　みかん　1 002　りんご　2 003　ぶどう　2 このテーブルから、以下のような結果を取得したいのです。 ID 　品名　　個数 001　みかん　1 002　りんご　2 002　りんご　2 003　ぶどう　2 003　ぶどう　2 個数の数だけレコードを返す形です。 どういうSQLを組めばよいのか、わかりません。 お手数ですが、どなたかわかる方いらっしゃいましたら ご回答頂けますと幸いです。よろしくお願い致します。
SQLについて質問させてください。 以下の金額負担部所テーブル（kingaku_futan_busho）があります。 ID |busho|pict -----+-----+--- ID01 |AAA |100 ID02 |BBB |20 ID02 |CCC |50 ID02 |DDD |30 ID04 |DDD |50 ID04 |EEE |50 これを以下のように並べ替えて表示したいと思います。 bushoの数は10を超える事はありません。 ID |busho1|pict1|busho2|pict2|busho3|pict3| -----+------+-----+------+-----+------+-----+--- ID01 |AAA |100 | | | | | ID02 |CCC |50 |DDD |30 |BBB |20 | ID04 |DDD |50 |EEE |50 | | | 行のソート順は、可能なら pict の大きい順にしたいです。 不可能であれば pict の項目が無い、列の項目が意図通りでない等でも構いません。 Accessでのクロス集計を使った方法でも構いません。 よろしくお願いします。
お手数ではございますが、ご回答をお願いしたい件があります。 ●.mts拡張子と.m2ts拡張子の違いというのは何でしょうか？ .m2ts拡張子が「H.264/MPEG-4 AVC」形式で保存された動画ファイルに つく拡張子という事は調べてわかったのですが、.mts拡張子が どういったものなのか、また、双方の違いが理解できません。 宜しくお願い致します。
いつもお世話になっております。 タイトル通りなんですが、 どこがどう違うかの一覧表の様なものって インターネット上に存在しないものでしょうか？
PostgreSQLのvacuuやMySQLのoptimize tableのようなものは、Oracleに存在するのでしょうか？ DBを本格的に使ったことが無いので、全体像がわかりませんが、 オラクルを運用する上で、最適化？など重要事項などまとめた書籍などありますか？ オラクル運用者で、作業の大半を占めるものは何でしょうか？
先日サーバーのOSが崩れて（レジストリが壊れたようです）、サーバーの起動ができなくなりました。 OSを再インストールせずに、レジストリの復旧を試みていますが、最悪の場合OSの再インストール、Oracleの再インストールも念頭にいれています。 SQL Serverの場合、データベースのアタッチをすれば現存のDBを動かすことができます。 Oracleの場合は、どのような方法でデータベースを復旧するのでしょうか？ リスナーの再構築でよろしいのでしょうか？ OS:Windows Server 2000 DB:Oracle 8 よろしくご教授のほどお願いします。
先頭行がフィールド名をあらわしたCSVファイルがあるのですが、これをOracle10gXEにインポートさせるにはどうしたらよいのでしょうか？ 文字コードも気にする必要がありますか？現在SJISファイルのCSVファイルがあります。
VARCHAR2とNUMBERだけのフィールド型で開発している会社をたまに見ますが、これは何を意図しているのでしょうか？ DATE型やCHARを使わずにしている理由が知りたいです。 オラクルの達人にメリットデメリットを聞きたいです。
OracleInstantClient10.2.0.3をLinuxにインストールしたのですが、 これのエラーログは、どこに出力されるのでしょうか？ または、エラーログの設定は、どのようにすればよいのでしょうか？ よろしくお願いします。 環境：Oracle10g+Php5.2.3+Apache2.0+Linux
お世話になります。 昨日、DBサーバ(raid1)のハードディスクが壊れたため、 ディスク交換を行いました。 サーバ自体は復旧したのですが、oracleだけ接続できず、 Enterprise Manager Consoleにも接続できません。 リスナーやサービス自体は起動しているのですが、何か やらなければいけない作業があるのでしょうか？
こんにちは。 oracle(9i)のテーブルにinsertを行おうと思っているのですが、 困っているので質問させていただきます。 Aテーブルに5カラムあるとします。 カラム1はプライマリキーです。 例えば、1レコードが下記のようになっているとします。 カラム1 カラム2 カラム3 カラム4 カラム5 ---------------------------------------------- 001 あああ いいい ううう えええ プライマリキーに1を足して、他のカラム2から5までは同様の内容で insetをしたいと思っています。 つまり、下記のようなレコードになります。 002 あああ いいい ううう えええ 003 あああ いいい ううう えええ このようにプライマリキーのみを変更して200レコードくらいを insertしたいと思いますが、どのようにすればよいでしょうか。 できれば、PL/SQLかSQLのスクリプトで実行したいと思います。 ご存知の方、ご教授願います。 よろしくお願いいたします。
Table A koumokuA1　　　koumokuA2 1　　　　　　　　　　　2 2　　　　　　　　　　　1 Table B koumokuB1　　koumokuB2　　koumokuB3 001　　　　　　　　1　　　　　　　　男 001　　　　　　　　2　　　　　　　　女 002　　　　　　　　1　　　　　　　　会社員 002　　　　　　　　2　　　　　　　　学生 Table Bは、各種コードに対する名称が登録されており、 koumokuB1、koumokuB2がキーとなっているという、 上記のような２テーブルがある場合、SQLにて koumokuA1　　koumokuX1　　koumokuA2koumokuX2 1　　　　　　　　　男　　　　　　　　 2　　　　　　　学生 2　　　　　　　　　女　　　　　　　　 1　　　　　　　会社員 という結果を導くことは可能でしょうか？ ご教授下さい。
ISO規格の年＋週（TO_DATEの書式のIYYY+IW）から実際の日付を取得する方法に苦戦しています。 例えば「2008年1週」という値を受け取ると、週の開始日「2007/12/31」または終了日「2008/1/6」という値を返すようにしたいのです。 これをSQLまたはPL/SQLで実現したいのですが、いいヒントがありましたらご教授願います。 ORACLE10を使っています。
お世話になります。 SQL文の作成に難航しています。 どうか知恵を貸してください。 環境：VS2005　Oracl10g 言語：VB.Net A_TABAL NO |GroupNO| 1 |A_1 1 |A_1 1 |A_1 B_TABAL NO |K_NO|K_N 1　|K_1 |項目名１_あ 1　|K_1 |項目名１_い 1　|K_2 |項目名２_あ 1　|K_1 |項目名１_う 1　|K_2 |項目名２_あ 1　|K_2 |項目名２_あ AテーブルとBテーブルのNOが一致するもので、K_NOがK_1であれば、 項目名１というカラムにいれる。 （複数の場合はカンマ区切りでいれる） K_NOがK_2であれば、項目名2というカラムにいれる。 （Bテーブルでは K_1とK_2のレコード数は同じ、実際とってくるときは、NOが同じであれば、重複なものは消すと） 求めたい結果 NO　｜GroupNO　　|項目名１　　　　　　　　　　　　　　　｜項目名２ 1　 ｜A_1　　　　　|項目名１_あ,項目名１_い,項目名１_う｜項目名２_あ
お世話になります。 「オラクルについて。」 ＤＢはオラクルだけが経験ありません。 参考になる本などありましたら 教えていただけないでしょうか。
DB初心者です。 DISTINCT句を使わずに、group by句を使って 重複データを除いたレコード総計を求めたいと思い、 下記の用にSQL文を書いたのですがうまくいきません。 oracleではなく、DB2を使っているのですがSQL文として 可能なのか教えていただければと思い質問を致しました。 ＜例＞ テーブル名：商品DB 商品名 a a b b c だったら、重複を除いたレコード数は3になりますが、 select count(*) from 商品DB group by 商品名 とすると 2 2 1 となり、それぞれの商品の合計数が出てしまうので select count(*) from ( select 商品名 from 商品DB group by 商品名) と副問合せ（でよいのでしょうか？）をしてみると 入力が予想されるトークンには "AS" が含まれている可能性があります。とエラーになってしまいました。
DB：Oracle9i SQLのIN句のカッコ内は、何個まで書けるなど、制限はあるのでしょうか？ PRO_KEY = IN (no1, no2, no3・・・)など、カッコ内が可変で、数百個、もしくは数千個ある場合、IN句を使用しデータを一度に取得するのではなく、PRO_KEY = no1のSELECT処理を発行、PRO_KEY = no2のSELECT処理を発行・・・し、ARRAYに検索結果を１つずつ詰めていく方が良いのでしょうか？ 初心者で恐縮ですが、どなたかご教授ください。
新しいWINDOWSマシン（WINDOWS XP）に Oracle・SQL Plusをインストールしましたが、 以下のエラーがでて、接続できません。 > ORA-12154: TNS:could not resolve the connect identifier specified 考えられる原因、解決方法などありましたら、お願いします。 尚、TNSNAMES.ORA　、　SQLNET.ORA は設定済みであり、 SQL Plus の代わりに、Oracle Net Manager　を使って、 表示されているツリーから、 ■Oracle Netの構成　　の下の ■ローカル　　の下の ■サービス・ネーミング　　 の下に表示されている、該当のサービス名を選んで、 ”サービスのテスト（接続のテスト）”を実行すると、 「接続テストに成功しました。」 という結果になります。 ので、クライアント　－　サーバ間　のネットワークの通信そのものは、問題ないと思います。 感じとしては、TNSNAMES.ORA　の記述内容がSQLPLUSから認識できていない様な気がします。 クライアント、サーバのOS、Oracleのバージョンは以下の通りです。 クライアントOS　：　WindowsXP　SP2 クライアントのOracle製品　：　10.2.0 サーバOS　：　Solaris8 Oracle　：　8.1.7
Oracle Pro*Cで静的SQLを利用している場合であっても、 SQLインジェクション対策は必要でしょうか？ また対策が必要な場合、どう対処すれば良いのでしょうか？
いつもお世話になっております。 Solaris9、oracle9iでの質問です。 現在DBサーバの処理能力を試算するための指針を考えています。 対象となるテーブルの大きさやサーバスペックに依存する部分もあるかと思いますが、 一般的な処理速度を40μs/件としている企業様の情報を基準にしようかと考えました。 しかし、検索処理と更新処理では性質が違い処理時間に差が出るので、 selectを10μs/件 insertを30μs/件 deleteを30μs/件 truncateを30μs/件 と考える事にしました。 ここで皆様に質問なのですが、これは現実的なのでしょうか？ またこれが現実的で無い場合は、どのくらいの処理時間を見込めば良いのでしょうか？
Oracle10.2をRed hat Linux ES4にインストールしました。 インストール後、環境変数（NLS_LANG、ORACLE_HOME等）を 設定し、SQLPLUSを実行しました。 インストールしたOSのユーザ（oracle）でない 他のOSユーザから（user1）からSQLPLUSを実行をしようとすると 実行ができません。この問題は、実行ファイル等に 読み取り、実行権限（rx）ないということまでわかりました。 インストールしたユーザのグループに追加してもSQLPLUSを 使うことはできませんでした。 通常、インストールしたユーザ以外のユーザからSQLPLUS （exp、imp等 $ORACLE_HOME/binにある実行ファイル）を 使うにはどのように設定すればよいのでしょうか？？
Oracle10gの参考書に「ユーザーにバッチジョブとしてログオン権限を与えなければEMを十分に使用することはできない」と書いていました。 WindowsXPHomeEditionのパソコンを使用しているのですが、「管理ツール」の中に「ローカルセキュリティポリシー」アイコンがありません。この場合、どうやってユーザにバッチジョブとしてログオン権限を与えたらよいのでしょうか。 宜しくお願いします。
以前XEをインストールしていたマシンがあるのですが、そのマシンを別の用途に使うため、オラクルのデータのみバックアップしたいのですが、 MySQLでいうところのmysqldumpのようなコマンドはありますか？ オラクル超初心者で、何もわかっていませんが、オラクルの場合、シーケンスや$Vなど正しくバックアップできるのでしょうか？ 別のマシンに簡単に移し変えたいです。
oracle Enterprise Managerへのログインについておしえてください。 Enterprise Managerへアクセスしたのですが、以下のメセージが表示されました。 -------------------------------------------------------------- 現在、データベース・ステータスは使用不可です。データベースがマウント状態または非マウント状態である可能性があります。「起動」をクリックして現在のステータスを取得し、データベースをオープンしてください。データベースをオープンできない場合、「リカバリの実行」をクリックして適切なリカバリ操作を実行してください。 ------------------------------------------------------------- 起動ボタンを押下し、起動/停止:ホストとターゲット・データベースの資格証明の指定という画面が表示されている状態です。 ・ホスト資格証明 ・データベース資格証明 この欄でのユーザー名、パスワードはデフォルトで特に設定変更はしておりませんが、忘れてしまった場合の調べ方をご教授下さい。 宜しくお願いいたします。
SQL*Plusから、スキーマー・データベースの一覧やテーブル一覧など全ての情報を表示させる方法が知りたいです。 MySQLでいうところの、show databasesのようなコマンドです。 あと、Oracle Sql Developerの日本語バージョンのダウンロードサイトが知りたいです。 無ければ英語版でも構いません。 というより無料で手に入るのでしょうか？
SQLPLUSを使用し、データをインサートしました。 そしてそのレコードを検索すると、全角スペース等がある場合、それ以降の文字が文字化けしてしまいます。 なお、ファイルからSQLスクリプトを実行しインサートした場合は正常でした。 どのデータベースに接続しても同じ結果で、別のマシンだと正常にできます。 私のPCに原因があるのだと思いますが、どこを確認したらよいかわかりません。 この件について理解されている方、よろしくお願い致します。
Oracle8.1.6+WindowsNT4.0Serverで構成されているシステムがあります。 この度、ハードウェアの老朽化により、移行が必要となりました。 以下の３つを考えているのですが、安全な手段はどれでしょうか？ Oracleの知識があまりないのと、当時の開発スタッフはいないため、リスクは負いたくないです。 １）Oracle8.1.6+Windows2000Server ２）Oracle9i+WindowsServer2003への移行 ３）SQLServer2005+WindowsServer2003への移行 ※１）はサポートしてくれるハードウェアの購入先が見つかっていないのです
レコードが１行しか存在しないテーブルがあります。 このテーブルのレコードをSELECTして、同一行を複数行取得したいと思っています。 １回のリクエストで、このような結果を取得する方法はあるでしょうか？ DBはORACLE10gです。 よろしくお願いします。
オラクルのデータベース容量を減らす為に、SQL PLUSにてDELETE文を実行（テーブル別に）しました （テーブルの中身、全件削除ではなく条件に一致した不要なデータのみ削除） 条件に該当するデータは消えましたが、オラクルデータベース自体の容量が逆に増えていました 正しいデータの削除方法を教えて頂きたいのですが。宜しくお願いいたします データベース：ORACLE 9I DATABASE
はじめまして Oracle10gで、今度新しいデータベースが始動します。 問題なのが、管理者向けに発行するIDと、一般ユーザ向けに発行するIDの違いです。 管理者には参照・更新、参照権限付与・更新権限付与。 一般ユーザには参照、更新(それぞれテーブルごとに申請を出してもらう)、管理者から権限をもらう。 という仕組みになりました。 月に3度から4度、新しいテーブルができます。そのたびにgrantオプション付で管理者に権限付与するのも大変です。 select anyでは、テーブルごとの切り分けができません。 Oracle10gには詳しくないのですが(そもそもOracleにそんなに詳しくないのですが)、何かOracle10gの新機能など、使えそうなものはないでしょうか。 よろしくお願いいたします。
今、仕事で既存の処理のレスポンス調査をしているのですが、 行き詰ってしまったので質問させていただきます。 本番環境とテスト環境で全く同じ処理を実行した所、テスト環境では １分程度で処理が正常終了するのに本番環境だと ２時間経過しても処理が終わらず、なぜ同じ処理なのに本番環境と テスト環境で処理時間に違いがありすぎるのか分からず困っています。 処理としては２５万件程あるデータ（テキストベース）を PL/SQLで読み込みTable_AにInsert または キーが同じデータが 存在しているならUpdateをし、 それと同時にトリガーで更新前と更新後の値を Log_TableにInsertします。 検証したときの手順としては、 (1)Table_AとLog_TableをCreate (2)トリガーのコンパイル (3)Table_Aのインデックスの作成 (4)PL/SQLのコンパイル (5)Table_AとLog_Tableの統計情報の取得 となっております。 ちなみに、テスト環境と本番環境の両方について、 実行されたSQLの実行計画を取得し比較したのですが、 同じ実行計画になっていました。 また、統計情報を取らずに処理を実行した場合は、テスト環境でも ２時間経過しても処理が終わりませんでした。
SET LINESIZE 2000 SET PAGES 0 SET AUTOTRACE TRACEONLY と実行してから実行計画を取っているのですが、実行計画が途中で折り返されてしまい、非常に見にくいです。 折り返さずに出力する方法を教えてください。 他の環境で、うまく出力されている友人にシステム変数の「SHOW ALL」で出力してもらい、それに合わせて設定したのですが、どうしてもうまく行きません。 SERVEROUTPUTやTABが原因かと思いやってみましたがうまく行きません。 ご存知の方がいらっしゃいましたら、ご教授願います。 よろしくお願い致します。
テーブルに格納されているカラム情報（カラム名、主キー、データ型、データの桁数）を取得したいと考えています。 主キー情報とそれに付随するカラム情報は現在下記のSQL文で取得しています。 SELECT C.TABLE_NAME , COL.COLUMN_NAME, C.CONSTRAINT_TYPE, COL2.DATA_TYPE, COL2.DATA_LENGTH FROM USER_CONSTRAINTS C, USER_CONS_COLUMNS COL, USER_TAB_COLUMNS COL2 WHERE C.TABLE_NAME = COL.TABLE_NAME AND C.CONSTRAINT_NAME = COL.CONSTRAINT_NAME AND C.TABLE_NAME = COL2.TABLE_NAME AND COL.COLUMN_NAME = COL2.COLUMN_NAME AND C.CONSTRAINT_TYPE = 'P' AND UPPER(C.TABLE_NAME) = UPPER('テーブル名') ORDER BY C.TABLE_NAME, COL.POSITION ここで、主キー以外のカラムに対しても同様にカラム情報を取得したいのですが、どのように取得すればよろしいでしょうか？ ※カラム名、主キー有無、データ型、桁数　でカラム情報を取得できれば最も良いのですが、 主キー情報を除いた全体のカラム情報を取得する事ができれば、こちらの情報でも助かります 宜しくお願い致します。
version:ORACLE9iR2 セキュリティーの観点から不要ユーザーのアカウントロックを検討しています。 デフォルトで作成されるユーザーの内、「SYS」「SYSTEM」以外のユーザは不要であると認識しています。 「SYS」「SYSTEM」以外をロックして動作に問題無いでしょうか？ オラクルの機能を使いこなせていないのが現状で、「使っていないと思っているデフォルトユーザーが実は、ある機能で必要であった」 という事が無いか、心配しています。 有識者の方、よろしくお願いします。
ご覧頂きありがとうございます。 サーバーの移行がうまくいかず困っているのでご質問させていただきます。 やりたいことは、本サーバーにあるOracleデータベースのデータをエクスポートして、開発環境にインポートさせようと思っています。 以下、行った作業です。 windowsのコマンドプロンプトから以下のコマンドを実行してエクスポート C:\>emp sadmin/password@sid file=C:\ora_data\empsid.dmp consistent=y owner=sadmin 開発環境にて、表領域の作成とユーザの作成、権限の付与を行う。 SQL>CREATE TABLESPACE HOGE datafile 'C:\temp\HOGE1.dbf' size 800M reuse logging online segment space management auto; SQL>CREATE TEMPORARY TABLESPACE HOGE_TEMP tempfile 'C:\temp\HOGE_TEMP1.dbf' size 800M extent management local uniform size 10M; SQL>CREATE USER sadmin IDENTIFIED BY hogehoge DEFAULT TABLESPACE HOGE TEMPORARY TABLESPACE HOGE_TEMP QUOTA UNLIMITED ON HOGE; SQL>GRANT DBA TO sadmin; GRANT IMP_FULL_DATABASE TO sadmin; 以下のコマンドを実行して、windowsのコマンドプロンプトからインポート。 C:\>imp sadmin/password@sid file=C:\ora_data\empsid.dmp log=C:\ora_data\impsid.log fromuser=sadmin touser=sadmin ignore=y 状況としましては、エクスポートは問題なく終了しています。（確信はありませんが（汗）） インポート実行時、トリガーの箇所だと思うのですが処理が止まってしまいインポートが完了しません。 画面上では、「制約を使用可能にします・・」と表示されて止まってしまいます。 ログには以下のようなエラーが出ています。 IMP-00003: Oracleエラー439が発生しました。 ORA-00439: 機能は有効ではありません: Partitioning IMP-00041: 警告: オブジェクト作成の際、コンパイル・エラーが発生しました。 DBを見てみると、データのインポートはできているようなのですが、トリガーのインポートができていないみたいです。 当方Oracleを触るのは初めてで、書籍やGoogle検索などで調べているのですが、原因解明できず途方にくれています。 どなたかご助言頂けないでしょうか？ 宜しくお願いします。
OracleのDatabase ServerとApplication Serverを共存（一台のサーバーにDatabaseとApplication Serverを導入）させている場合、 サーバーのリブートを行うと、Application Serverのサービスが先に起動して、サーバーエラーになります。 何か対策はありませんか？
オラクル10gを自宅サーバーに入れて使おうと思うのですが、 ライセンスなどわからないので、詳しい方にお聞きします。 以下のソフトのどちらかを入れようと思うのですが可能でしょうか？ ライセンス契約を結ばないといけないなど聞いたことがあるのですが個人でもそうなのでしょうか？ 目的は関係なく、どうしてもＤＢはオラクルがしたいです。 ●Oracle Standard Edition One for Win (5 Named User Plus) (Oracle Database 10g R2 (10.2.0) Standard Edition One for Win (32-bit)) DP v7 http://www.amazon.co.jp/exec/obidos/ASIN/B000RWS … ●Oracle Database Personal Edition for Win (1 Named User Plus) (Oracle Database 10g R2 (10.2.0) Personal Edition for Win (32-bit)) DP v7 http://www.amazon.co.jp/exec/obidos/ASIN/B000RWS …
Oracleを勉強し始めました。 今まではWebアプリにAccessを使っていて、Oracleに移行したいと思います。 とりあえず、データベースを作成するのだと思ったのですが、 インストールを終えた状態で、orclというデータベースがすでに出来ていました。（インストールは、マシンを設置した部署の方がしました。） 今後は他の部署もこのOracleにデータを保存するという予定らしいです。Oracleのインストールしたサーバーには、リモート接続が可能で、 管理者権限のパスワードも教えてもらっています。 もし、私がアクセスの住所録というデータベースファイル（jyuushoroku.mdb)を移行したいとすると、jyuushoroku というデータベースを新たに作成するのですよね？　データベースは複数にあっても構わないのですか？アクセスと違い、データベースを作成する時にとても大掛かりなのでとまどってしまいました。 インストール時に作成したorclというデータベースには、パスワードが 設定されていて、接続ができません。自分の作成したデータベースには、独自のパスワードを設定して、それを使って接続すればいいのですか？ほんとに初歩的な概念がわからずに申し訳ないです。 よろしくお願いします。
お世話になります。 VLMの設定について教えて下さい。 OS：RHEL ES3.0(Update9) Oracle:10g Release2 32bitCPUを利用し、メモリを8G積んでいます。 VLMの資料を確認し設定を行いました。 /dev/shmはデフォルトで設定されていました。 init[sid].oraファイルに *.use_indirect_data_buffers=TRUE　を追記し db_cache_size、db_recycle_cache_size、db_keep_cache_size、db_nk_cache_sizeの項目を確認した後に create spfile from pfile; にて、SPファイルを作成後 startup を行なった所、以下のエラーが発生しました。 ORA-00385: cannot enable Very Large Memory with new buffer cache parameters 該当のエラーは、cacheのパラメータを削除するとありましたが 前述の通り、全て削除しております。 他に何か必要な項目はありますでしょうか？ #そもそも、SGAの設定は必要無いのか？？不明です。
バッチファイルにて実行するSQLファイルで以下の処理を行っています。 --------------------------------------- SELECT COUNT(*) as count_num FROM TEST_TABLE if(count_num)=0 then EXIT; --------------------------------------- 上記の処理でSQLエラー発生時はEXITするといった 処理にしたいのですが、エラーコード取得方法が わかりません！ どなたかご教授お願い致します。 －環境－ WindowsXP SP2 Oracle 10.1.0.2
新サーバーのOracleにTABLESPACEを作成したのですが、旧サーバーで保管したデータをインポートしようとすると一部件数の多いテーブルでエラーが発生します。内容は IMP-00003:Oracleエラー：1562が発生しました。 ORA-01562:ロールバックセグメント番号：2を拡張できません。 ORA-01628:最大エクステント：121に達しました（ロールバックセグメント:RB1)。 IMP-00028:前の表の部分インポートがロールバックされました（XXXXX行）。 データ用TABLESPACEはサイズ5GBで DEFAULT STORAGE(INITIAL 1024K NEXT 1024K MINEXTENTS 1 MAXEXTENTS 121 PCTINCREASE 50) TEMP用とROLLBACK用TABLESPACEはそれぞれサイズ500MBで DEFAULT STORAGE(INITIAL 1M NEXT 1M MINEXTENTS 1 MAXEXTENTS 512 PCTINCREASE 50) ロールバックセグメントは３つ作成し、それぞれ initial 3M　next 3M　optimal 50 M　 で作成しました。 Oracleは7.3です。設定の間違いや、対策はないでしょうか？
バッチファイルにて、 sqlplusコマンドにより*.sqlファイルを実行し、 SQL文を発行していますが、 実行結果（処理件数）をコマンドプロンプト上 に表示したいのですが、どなたか。手法をご存知では ないでしょうか？
ご存知の方がおられましたら、教えて下さい。 下記のように、親テーブルと親子を管理するための親子管理テーブルがあります。 条件として、CD1の1が指定された時、親テーブルよりNOが2のレコードと(これは親子関係がないレコード) 親子関係のレコードの親レコードであるNOが1のレコードと子レコードであるNOが11の３レコード を１つのSQL文で取得したいのですが、可能でしょうか？ ご存知の方がおられましたら、ご教授のほどよろしくお願い致します。 親テーブル(OYA_TBL) NO,BN1,CD1 ------------- 1,4,NULL 2,NULL,1 3,NULL,NULL 11,4,1 12,4,2 13,4,NULL 親子管理テーブル(OYA_KO_TBL) GOODS_NO,PACK_GOODS_NO ------------- 1,11 1,12 1,13 ↓ ［取得結果］ NO,BN1,CD1 ------------- 1,4,NULL 2,NULL,1 11,4,1
下記のようなテーブルに対して、KEKKAフィールドにSIKIの計算結果を入れたいと思っています。 --- 【TABLE_A】 SIKI VARCHAR(16) KEKKA NUMBER(5,2) SIKIには「1+(2*3)-4」といった数値計算式が入っています。 普通にselect 1+(2*3)-4 from dual とすれば返ってくる値をKEKKAに入れたいと思っています。また、SIKIフィールドには同じ値を持つレコードは存在しません。 いい方法があれば、ご教授ねがいます。
お世話になります。今回初めてPL/SQLに触れているのですが…一度のプロシージャの呼び出しでSELECTを二度行う事は可能なんでしょうか？ 一度UPDATEしたのちに同じテーブルの違う値を更新するという作業を行いたくそのためには更新した後もう一度SELECTを行いたいのです。時間の許す限り調べはしたのですが…余裕がなくなってしまったのでここで質問させて頂くことにしました。どなたかご指導よろしくお願い致します。
テーブルA ○id data テーブルB ○subId id userId ○は、プライマリ 上記のようなテーブルがあります。 テーブルBのuserIdと テーブルAのid(=テーブルBのId)を指定して テーブルA,Bのデータを取得したいです。 ただし、テーブルBに該当データ(指定したuserId)に該当する データがない場合、テーブルAのデータのみ取得したいと考えています。 一発のSQLで取得できますでしょうか？ ご教示お願いいたします。
Oracle8iサーバ（サービス名：Ａサーバ）と Oracle10gサーバ（サービス名：Ｂサーバ）があります。 Ａサーバに作られた、ａスキーマに、test_tableというテーブルがあります。 そのtest_tableをＢサーバに作られた、ｂスキーマから参照する為に、 ＤＢリンク：BA_linkを作成しました。 実際に、ｂスキーマから参照する場合は、 同スキーマに、 CREATE SYNONYM test_table FOR test_table@BA_link; のように作られたシノニムを利用して、参照します。 抽出に時間がかかるので、インデックスを作成しようと思うのですが、 どのスキーマにどのように作成すればよいのでしょうか？ ちなみにインデックスの対象にしたい項目は、 VAR_ITEM VARCHAR2(10) NUM_ITEM NUMBER(5) とします。 ちなみにｂスキーマにて、 CREATE INDEX test_table_IX1 ON test_table (VAR_ITEM, NUM_ITEM); と実行したところ、 ORA-02021: リモート・データベースに対するDDL操作が無効です・ というエラーが発生しました。 ＤＢリンク先自身に、作成すべきということはなんとなく予想が つくのですが、そのインデックスはＤＢリンク経由でも有効なのでしょうか？
SQLserver格納データをoracleDBへ自動格納する方法を探しております。どのような方法があるか皆さまお教えいただけませんでしょうか？ 連携手法として同期・非同期は問わないのですができるだけ自動化したいと思っております。(上記でDB間のデータ格納と書きましたが、リンクテーブル等Oracle上で参照できればＯＫです。） 当方環境としましてはWindows2003Server /Oracle10g・SQLServer2000となります。
あいまい検索(部分一致)検索をする際に、あいまい検索だとインデックスも効かないので、インデックスを張ってパフォーマンス向上という訳にもいかず、パフォーマンスが非常に悪くて困っています。 状況としては、WEBアプリケーションで、検索画面から検索条件を入力し、「Find」ボタンを押下するとJavaでSQLを発行し、Oracleへ接続するという仕組みのシステムです。 下記のようなケースで、後者のSQLに変更するとガツンとパフォーマンスが向上したのですが、偶然でしょうか? 【もともとのSQL】 select name ,age ,sex ,blood_type ,address from TABLE1 where age >= 20 and age < 30 and blood_type = 'A' and name like '%山%' and address like '%中央区%' / 【パフォーマンスが向上したSQL】 select * from (select name ,age ,sex ,blood_type ,address from TABLE1 where age >= 20 and age < 30 and blood_type = 'A' ) where name like '%山%' and address like '%中央区%' / というふうに、あいまい検索部分を別出ししました。 WHERE句の条件をANDでたくさんつなげる際に、2度の問い合わせにはなりますが、一度あいまい検索以外の条件で絞り込んで、それから再度その結果に対してあいまい検索を実施した方が早いのではないかと思ってやったところ実際に早くなったのですが、これは偶然でしょうか? 件数が増えると逆に遅くなるとかだと、逆効果なので、理論的にはどうなのか、ご存知の方がいらっしゃったら教えてください。 また、実際にはテーブルではなく、VIEWに対しての検索で実施しました。 よろしくお願い致します。
「所有していないマテリアライズド・ビューのマスター表にアクセスする場合は、各表に対するSELECTオブジェクト権限またはSELECT ANY TABLEシステム権限が必要です。」 ということから、selectオブジェクト権限をつけた『ビュー』をもとに、マテリアライズドビューの作成はできないのでしょうか？ 例）Ａスキーマが所有するTESTビュー表をもとに、Ｂスキーマでマテリアライズドビューを作成する。 create materialized view mview as select * from A.TESTビュー; create materialized view 権限は付与しました。 A.TESTビューに対するSELECTオブジェクト権限は付与しました。 結果としては、表またはビューがありません。とエラーがでます。 しかし、Ａスキーマが所有するテーブルに対しては、問題なくマテリアライズドビューの作成はできます。 異なるスキーマの『ビュー』を元にマテリアライズドビューの作成は できない。といった記述はないのですが、実際に作成ができません。 ご教授ください。
実行計画や統計情報を取得した結果の 簡単な見方があればサイトなど教えてください。 実行計画を取得して どんなSCANやINDEXの利用されているかがわかっても、 何SCANなら速いとかがわからないので、 結局、何を採用すればいいかわかりません。 統計情報でもconsistent getsが ブロックに対する読み込み一貫性が要求された回数とわかっていても、 その値が少なければいいのか、 どの値を優先的に見ればいいのかがわかりません。 情報の取得は出来ても分析の仕方がわからない状態です。 簡単にわかる方法があれば教えてください。
Oracle 10g Enterprise Edition(Windows)をインストールして勉強中のものです。 質問内容はタイトルの通り、IPアドレス制限についてです。 ウィザードの流れにそってインストールするとEMのアドレスは https://ホスト名:1158/em/ となると思います。 ただ、他のPCからhttps://IPアドレス:1158/em/でアクセスしてみると当然のように見れてしまいました。これは正直困ります。 (Apacheを入れてなければ外部からはみれないと勝手に思っていたのですが違うんですね…) oracleには自分のPCからしかアクセスできないようにしたいのですが、方法がわかりません。 ネットで調べてsqlnet.oraに tcp.validnode_checking=YES tcp.invited_nodes=(自分のIPアドレス) という記述を加えてリスナーを再起動してみたんですが、制限はかかっていませんでした。 ご教示お願い致します。
OracleデータベースからXML形式でデータを取得したいと思うのですが、うまくいきません。SQLのオプションで出力可能なのでしょうか？ ちなみにOracle 9iを使用しています。 ご存知の方がいらしたら、教えていただけないでしょうか？
テーブルＡ、テーブルＢ、テーブルＣがあります。 テーブルＡ　テーブルＢ テーブルＣ --------------------------------- 個人ＩＤ　　個人ＩＤ　　なし --------------------------------- テーブルＡに等しい個人ＩＤをテーブルＢから 削除をし、テーブルＣにテーブルＡのＩＤが存在すれば テーブルＣを削除し、存在しなければテーブルＡ、テーブルＢ の個人ＩＤを削除しようと考えています。 SQLでテーブルＡとＢを比較して削除をし テーブルＡとテーブルＣを削除すれば出来ると思うのですが 他にいい方法があればご教授お願い致します。
質問が二つあります。 質問1)会社の先輩に、sql/plusでORACLEのDBに接続し、以下の命令を実行するとselectした結果をcsv形式でファイル出力できると教えてもらいました。 set num 18 set linesize 1000 set pagesize 0 set trimspool on set colsep ',' 上記の「set num 18」の意味を「sqlリファレンス」で調べても載ってなく分かりませんでした。ご存知の方は教えて下さい。また、どのようなマニュアルに載っているのかも教えて下さい。 質問2）上記命令を実行後に、名前＝「NAME_KANJI」、属性＝VARCHAR2(60)のカラムをselectすると次の様に出力されました。「～,ＸＸＸＸ…(この後空白が続く),～」次に、trim(NAME_KANJI)、substr(NAME_KANJI,1)、substr(NAME_KANJI,length(NAME_KANJI))などで出力すると「ＸＸＸＸ］の後の空白が更に長く出力されまました。substr(NAME_KANJI,1,4)なら「ＸＸＸＸ］の後の空白がなくなるのですが、登録されている文字数は不定のため、文字数に応じて空白を除いて出力する方法はあるのでしょうか、あればその方法を教えて下さい。よろしくお願いします。
勉強し始めて間もない者です。 教えてください。 users01表領域にemp表を作成する場合、どのように書けばusers01表領域に作成することができるのでしょうか？
SQL*LOADERのダイレクトパスロードで約700万件のデータをロードしたところ、約１時間２０分かかり、従来型パスロードより、２０分ほど長くなりました。何か考えられることはあるでしょうか。ちなみにTRUNCATE後、APPENDでロードしています。
VB6 で oo4o を使って Oracle DB開発をしています。 Oralce 8.1.6 から Oracle10.2.0 にサーバを切り替えました。 bというテーブルがあって、 a c d ---- ------ ----- 10 2 1 20 3 1 30 4 1 40 5 1 50 6 2 というデータがあったとします。 Select MAX(a) as a from b WHERE d=1 のようなSQLをVBから発行したときに SQL*PLUSでは、 a ---- 40 という結果が返ってくるのですが、VBでは、 a --- 10 20 30 40 のように複数行のレコードセットが帰ってきます。そのため、最大行を取得できません。Oracle8 のときは、SQL*PLUSと同じ結果が返ってきていました。ちなみに Select MAX(a) as a from b WHERE d=1 GROUP BY d ~~~~~~~~~~ と、GROUP BYを付けると、ただしい（SQL_PLUSと同じ値）値が取得できます。 Oracle10.2.0の問題か、oo4oの問題かと考えています。 ちなみにoo4oのオブジェクトは、 CreateObject("OracleInProcServer.XOraSession") で作成していて、クライアントのバージョンは 9.2.0.4.4です。 長文で失礼しますが、どなたかSQLを変更せずに解決する方法をご存じないでしょうか？
Oracle10gでのSQL文の違いについて教えて下さい。 前回の質問は、ストアドプロシージャに記述 されていて、バッチとして動かしています。 と書きましたが、ビューの場合のパフォーマンスの違いは どうなるのでしょうか？ビューの場合も同じような現象です。 下記の２つのSQL文は外部結合ありと外部結合なしの違いだけで、 他は変わりありません。 外部結合ありのほうは 結果がすぐに返されるのですが、外部結合なしのほうは 結果が返ってこない、あるいはかなり時間がかかるという 現象が起きています。 SQL文は簡略して記述していますが、SELECT句には、 TO_CHAR()やSUM(CASE WHEN ...THEN ...ELSE...)が使用してあり 少し重くなる処理も含まれています。 この２つのSQL文でパフォーマンスに影響している原因は 何なんでしょうか？オプティマイザとか実行計画とかの 説明を読んだのですが、いまいちよく解りません。。 自分では中級者以下だと思っていますので、わかりやすく 説明して頂けたら助かります。宜しくお願い致します。 (外部結合ありのSQL) SELECT 　a.項目１, 　a.項目２, 　a.項目３, 　a.項目４, 　a.項目５ FROM 　TBL_A a, 　TBL_B b WHERE 　a.項目１ = b.項目１(+) AND 　a.項目２ = b.項目２(+) AND 　a.項目３ = b.項目３(+) AND 　a.項目４ = b.項目４(+) AND GROUP BY 　a.項目１, 　a.項目２, 　a.項目３, 　a.項目４, 　a.項目５ (外部結合なしのSQL) SELECT 　a.項目１, 　a.項目２, 　a.項目３, 　a.項目４, 　a.項目５ FROM 　TBL_A a, 　TBL_B b WHERE 　a.項目１ = b.項目１ AND 　a.項目２ = b.項目２ AND 　a.項目３ = b.項目３ AND 　a.項目４ = b.項目４ AND GROUP BY 　a.項目１, 　a.項目２, 　a.項目３, 　a.項目４, 　a.項目５
オラクルマスターの資格に有効期限があったと記憶しているのですが、この事について、詳細に書かれたＨＰのＵＲＬを教えてください。 ＃確か２年だったと思うのですが、GOLDを受ける場合は、２年以内にBronze、Silverと取得しなければならないのでしょうか？ 宜しくお願い致します。
SQLのinsert文で一気に複数のレコードを挿入する方法ってありますか？ SQL*LoaderとPL/SQL以外でお願いします。
このスレでいいのかちょとわからなかったのですが、 ＳＱＬの書き方のなのでこちらで質問をさせて頂きます。 (VB.NET) □ Ａ　□　Ｂ　□　Ｃ チェックボックス（Ａ，Ｂ，Ｃ）があります。 例えば（Ａ、Ｂ，Ｃ）どれか一つ選択された場合 SELECT文でテーブルＡ、Ｂ、Ｃからデータを抽出するイメージは わくのですが、チェックボックスで（Ａ、Ｃ）など複数 選択された場合には、SELECT文でテーブルＡを抽出し 終わった後、SELECT文でテーブルＣを抽出するのは 問題があるのではないかと思います。 ただイメージがわきません…。ヒントでもいいので もしよろしければアドバイスよろしくお願い致します。
SQLの連結演算子である'||'って何て読みますか？ '|'だとパイプラインですよね。 ダブルパイプラインとでも読めばいいでしょうか。
現在システム開発の仕事でORACLEを扱っていますが、「alter view ～ compile」や「alter synonym ～ compile」というsql文があります。ORACLEのSQLリファレンスで調べても「compileする」としか説明がなく、自分は「プログラミング言語をcompileする＝機械語に翻訳する」ということは経験上理解できるのですが、データベースでcompileするというイメージが沸きません。どなたか教えて下さい。
SELECT FOR UPDATE ですが、該当レコードのみ ロックすると思うんですが、 該当レコードがない場合は、 ロックできないんでしょうか? たとえば、(COLUMN_BBB が PK として) SELECT * FROM TABLE_AAA WHERE TABLE_AAA.COLUMN_BBB = 'BBB' FOR UPDATE で、そもそも SELECT * FROM TABLE_AAA WHERE TABLE_AAA.COLUMN_BBB = 'BBB' となるレコードがない場合でも、 他トランザクションによる 該当レコードの INSERT を排他防御できるのか無理なのか、 教えていただけたらありがたいです。 すみません、時間的余裕があまりないので、 (すぐに回答ほしいです)でアップします。
SQL初心者です。ご質問させていただきます。 得意先マスタ（得意先CD、得意先分類CD、得意先名）←Ｔ　[得意先分類CDは重複] 得意先分類マスタ（得意先分類CD、得意先分類名）←Ｂ 売上履歴（得意先CD、売上金額）←Ｕ というようなマスタが存在した場合に得意先分類CDで集計して、 （得意先分類CD、得意先分類名、売上金額）というようなデータを抽出したくて、下記のようなSQLを作成したのですが、うまくいきません。 SELECT U.得意先分類CD,B.得意先分類名,U.売上金額 FROM T,B,U WHERE T.得意先CD = U.得意先CD AND T.得意先分類CD = B.得意先分類CD　GROUP BY B.得意先分類CD　 よろしくお願いいたします。
あるテーブルＡＢＣ に項目aとbとc があるとします。 今、抽出の条件が 仮にa=1,b=2 として、 この条件で複数件のデータが抽出され その中からcが最大のデータ1件のみを抽出するとします。 このＳＱＬを作成する場合、 どのような方法がありますでしょうか？ select文で、1度cのmax値を求めないといけないでしょうか？
テーブルの改行コードを検出するSQLを教えてください。 カラム別のものは下記でよいかと思うのですが、 select count(*) from テーブル名 where nvl( instr((カラム名), chr(10)), 0 ) > 0; テーブル単位で、対象テーブルの全項目について 一気にチェックするようなSQLはありませんか？
はじめまして。 現在oracleについて学習しているプログラマーの卵です。 過去ログも見させていただきましたが 正直よく理解できませんでしたので質問させていただきます。 私は自宅でもorcleについて学習していきたいと思っています。 webでいろいろ検索しましたがいまいちよいものがみつけられませんでした。 なにかおすすめのアプリはありますでしょうか？ できれば設定等が簡単なものが望ましいです。
<現在の環境> 　[Server] 　　OS：Windows 2000 Server 　　Oracle：8i(8.1.6) 　[Client] 　　OS：Win98・2000・XP 　　　↓↓↓ <アップグレード後の環境> 　[Server] 　　OS：Windows 2003 Server 　　Oracle：10g(10.2.0) 　[Client] 　　OS：Win2000・XP ※98は10gClientに対応していないため 　上記の<現在の環境>にて、VB6で作成したアプリケーション(exeファイル)とAccessを使用したシステムを構築・運用しております。 　<アップグレード後の環境>のようにOracleのバージョンを8iから10gにアップグレードしたいと考え、障害などについて調査をしている段階です。 　OracleのヘルプやWebなどを参考にしたり、実際にデータを8iからExport→10gへImportして動作させたりして調査しています。 　しかし、実際に行ったことの有識者にアドバイスをいただけたらと思いこちらへ質問させていただきました。 　何か参考になるサイトや、実際に行った方の注意点を教えていただけたらと思います。よろしくお願いします。
オラクルは独自にJAVAアプリケーションを持っているのに、今更なぜBEAを買収しようとしているのでしょうか？People Softの時もオラクルとかぶった商品を持っているPeople Softを買収したし、それなりに利益があると判断しての買収でしょうが、私には何がしたいかわかりません。買収してそこの優秀な技術者を取って、必要そうな技術も吸収して、その他の物はお払い箱にする。そしてライバルが減れば自社の売り上げもあがるとかそういう考えなんでしょうか？
Oracle10gを用いて下記のようなデータベースを作成し、それをWebアプリケーション上でサーブレットにより、さまざまな処理をするプログラムを作っています。 下記のような顧客リストがあるとします。 ------------------------------------------ | 客先コード | 客先名 | 客先名カナ | |----------------------------------------| | 000000001 | 加藤商店 | カトウショウテン | |----------------------------------------| | 000000002 | 河東商店 | カトウショウテ2 | |----------------------------------------| | 000000003 | 木村商事 | キムラショウジ　 | |----------------------------------------| 　　　・ 　　　・ 　　　・ ～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～ 例えば、この中からカナ前方一致検索で「カトウ」と入力すると 0001　加藤商店　カトウショウテン 0002　河東商店　カトウショウテ2 と表示され、上記「加藤商店」、「河東商店」にリンクを張りたいと思ってます。 これを実現するには、jspであれば、Jakarta TaglibsプロジェクトのJSTLの<c:url></c:url>タグを用いれば、各項目を別々のリンクにすることを実現できるように思います。 今回のような処理をJSTLを用いずに実現する方法を探しています。 説明がわかりにくいとは思いますが、ご教示いただけると幸いです。
Oracle10gを使用しており、以下のサービスが立ち上がらない状態で困っています。データのバックアップだけは取りたいのですがサービスが立ち上がっていない状態で行うことは可能でしょうか。 ・OracleOraDb10g_home1SQL*Plus ・OracleOraDb10g_home1TNSListener
SQLのORDER BY句について質問です。 項目A,B,Cがあり、 　項目AがNULLの場合　　　→　ORDER BY 項目B,項目C 　項目AがNULL以外の場合　→　ORDER BY 項目A,項目C としたいのですが、どう指定すればいいでしょうか？ 色々と調べたところ、CASE文を使用する？のかなと思って いるのですが、具体的には回答を得ていません。 お手数ですが、ご回答宜しくお願い致します。 ※使用DBはOracle10です。
RedHat Linux ES4にOracleDB10gR2インストールする際にOUIが文字化けする問題で、 KROWN#108839[Red Hat Enterprise Linux 4.0 環境で Java アプリケーションの文字化けが発生]には [Red Hat Enterprise Enterprise Linux AS/ES Update2以上のメディアを使用してOSをインストールします。 Red Hat Enterprise Enterprise Linux AS/ES または Update1 の環境に対してUpdate2を適用する場合には、 fonts.dirを作成しなおしてください。fonts.dirの作成方法はOSのマニュアル等を参照してください。 一般にはttmkfdirコマンド(3.0.9-14.1.EL)を利用します。] と出ています。 調べたところfonts.dirの再作成コマンドはttmkfdirではなく、mkfontdirであることが判明しました。 そこで (1)RedHatNetworkに接続してupdate2をあてる (2)mkfontdirコマンドを実行してfonts.dirを再作成する ことにしました。 しかしOSの具合が悪いのかUPDATE2をフルでダウンロード＆インストールすると、 Linuxが立ち上がらなくなってしまいます。 そこで教えていただきたいのは文字化け解消に最低限必要なパッチがどれかということです。 ご存知の方、ご教示ください。よろしくお願いします。
Intra-mart　バージョン　Ver6.0 Oracle Database 10g Enterprise Edition Release 10.2.0.2.0 - 64bit Production を使用してます。 Oracle上でセッションを確認したいのですが、下記SQLでは正しく表示がされていないような気がしています。 正しくOracle-10gRACでノードが振り分けられているか確認したいです。 下記三つを参考にして検索するSQLを組んでいます。 gv$session , gv$process , gv$sqlarea 見る方法のSQLや、方法を教えてくださいｍ（＿＿）ｍ
こんにちわ。質問させていただきたいことがあります。 OS:ローカルデバッグ環境　WindowsXP+SP2 (実際はWindowsServer2003 R2) 開発環境:VS2005(VB.net) .net:2.0.50727 Oracle:10g(10.2.0.1.0) 現在、VB.net+ODP.netで開発を進めております。VS2005でデバッグするため WindowsXPにIISをインストールして環境を作成しました。 最初にOracleClient 10.2.0.1.0のみをインストールして製造作業をすすめており 以下のようなコードで記述し、問題なく動作しておりました。 この場合特に「ODP.net」というコンポーネントをインストールした覚えはありません。 --------------------------------------------------------------------------------------- Imports Microsoft.VisualBasic Imports Oracle.DataAccess.Client Imports Oracle.DataAccess.Types Imports System.Configuration Private cnn As New OracleConnection Private trans As OracleTransaction Dim connectionString As String = "Data Source=xxxx;User ID=xxxx;Password=xxxx" cnn.ConnectionString = connectionString cnn.Open() ------------------------------------------------------------------------------------------ ところが、いろいろなページを参照すると「ODP.net」はインストールが必要とのことだったので、 「ODTwithODAC1020221.exe」というファイルをダウンロードしてインストールしました。 すると参照の追加に「Oracle.DataAccess 2.102.2.20」という行が現れこれを選択すると 「OracleConnection' は、名前空間 'Oracle.DataAccess.Client' では不適切です。」 というエラーが発生して接続できなくなりました。 教えていただきたいポイントとしては 1.ODP.net接続をする場合は別途インストールする必要があるのでしょうか？ それともOracleClientに含まれているのでしょうか？ またもし別途インストールする必要があるなら、最初に接続に成功していた場合 はODP.netでは接続していなかったということになるのでしょうか？ 2.「ODTwithODAC1020221.exe」というファイルはODACとしてまとめられていますが これがインストールされている場合は逆にOracleClientは必要ないのでししょうか(混在可？)？ 3.この発生しているエラーは何を意味しているのでしょうか？ ちょっと乱文になりましてすみません。今回オラクルは初めてでいろんなコンポーネント があり、混乱しているようです。 ご教示いただけるかたいらっしゃいましたらお忙しいところすみませんがよろしくお願いいたします。
oracle9iでPL/SQLを使用できるようにする場合、DBCAでデータベースを構築した場合デフォルトで使用できるようになりますでしょうか？現在環境がなく検証できない状況で困っています。
お世話になります。 タイトルのとおりなのですが、Oracleに接続する際にOS認証をするか、パスワードファイル認証にするか検討しているのですが、ネットサービスガイドマニュアルには、セキュリティで保護されていないリモート接続はOS認証でないといけないという記述がありました。 セキュリティで保護されていないというのは、何を指すのかご存知の方がいらっしゃればお教えください。 また、参考になるサイトなどの情報でも構いませんのでよろしくお願いします。
10gのトライアル版かExpress版で構築の勉強を考えています。 当方は7の時に業務で触った程度で構築の知識はありません。 fedora6+MySQLの構築経験はあるのですが、fedora6だとオラクルサポート外（ナニしてナニすればできるようですが）らしいのでどのUNIXがいいのか迷っています。 無償有償問わずおすすめがありましたらお教え頂けると嬉しいです。
PL/SQLを勉強し始めたのですが、テーブルを作成してから、データを流し込むという処理をしたいのですが、テーブルの作成に失敗しらたら、処理を終了させるという処理はできないのでしょうか？ それとも、考え方が違うのでしょうか？アドバイスお願いします。 次のようにPL/SQLを作成しています。 例） declare curHandle1 INTEGER; begin curHandle1 := DBMS_SQL.OPEN_CURSOR; DBMS_SQL.PARSE(curHandle1, 'create table xxx as select * from xxx where ID=-1', DBMS_SQL.V7); DBMS_SQL.CLOSE_CURSOR(curHandle1); exception when OTHERS then エラーになったら、処理終了したい（次のブロックにいきたくない） end; declare begin 　　　　　insert into xxx NOLOGGING values (1,'test'); end; よろしくお願いします。
Oracleデータベースをプログラミング言語から利用する方法としてどんな方法がありますか？ 例）C言語からOCIを利用する　など よろしくお願いします。
Ｏｒａｃｌｅ７で以下のような結果を得るにはどのようなＳＱＬが あるでしょうか？ 見積もりテーブル 見積ＮＯ　枝ＮＯ　件名　金額 ０００１　００　　ああああ　10000 ０００２　００　　いいいい　15000 ０００１　０１　　あああい　11000 ０００１　０２　　あああう　12000 ０００３　００　　うううう　20000 ０００２　０１　　いいいう　16000 ０００２　０２　　いいいえ　17000 結果 見積ＮＯ　枝ＮＯ　件名　金額 ０００１　０１　　あああい　11000 ０００１　０２　　あああう　12000 ０００２　０１　　いいいう　16000 ０００２　０２　　いいいえ　17000 ０００３　００　　うううう　20000 同一見積ＮＯに変更した回数分枝ＮＯがつくデータで、 最新とその一つ前のデータのみを抽出したいのです。 最新であれば副問い合わせでＭＡＸを利用すればできそうですが、 その一つ前となると、やり方がわかりません。 また、データ量が多いので毎回ＭＡＸを副問い合わせしていると 検索に時間がかかりすぎる予感もするのですが・・・ よろしくお願いします。
Oracle7で以下のような要求にあうようなＳＱＬは可能でしょうか？ 見積データ データＮＯ　品目　金額 １ ああ　1O ２　　　　　いい 11 ３　　　　　うう 12 受注データ データＮＯ　品目　金額 ２　　　　　いい 11 ３　　　　　ええ 13 ４　　　　　おお 14 納品データ データＮＯ　品目　金額 ３　　　　　かか 15 ４　　　　　おお 14 ５　　　　　きき 16 上記のような３つのテーブルがあります。 データＮＯは、見積データ作成時に連番になり、受注、納品のデータＮＯはその番号を引き継ぎます。 ところが、受注データからしか発生しないデータもあり、同様に納品データから発生する場合もあります。 （ちゃんと見積もりしてから受注して納品ではなく、いきなり受注したり納品したりする場合があるので） また、見積時とは明細がことなる場合もあります。 データＮＯでそれらを追いたいので、この３つの表を以下のような結果にしたいのです。 結果テーブル データNO　見積品目　見積金額　受注品目　受注金額　納品品目　納品金額 １　　　　ああ　　　　10　　　　 ２　　　　いい　　　　11　　　いい　　　　11　　　 ３　　　　うう　　　　12　　　ええ　　　　13　　　かか 15 ４　　　　　　　　　　　　　　おお　　　　14　　　おお 14 ５　　　　　　　　　　　　　　　　　　　　　　　　きき 16 レイアウトや説明がわかりずらいかと思いますが、よろしくお願いします。
以下の様なテーブルから SELECT分で条件をWHERE CODE = '0001' の様に指定して 求まった結果を１つの文字列にしたいのですが 良い方法がありましたら、教えて下さい。 SELECT * from testtbl; CODE NAME ------------------------------- 0001 AAAA 0001 BBBB 0002 CCCC 0003 DDDD この例だと、 SELECT NAME FROM testtbl WHERE CODE = '0001'の様な形で NAMEの部分の結果として,'AAAA,BBBB'の文字列を取得したいです。 ファンクションとかで実現できるでしょうか？
１つのSQLファイルの中で、複数のSQLファイルの実行するようになっていて、それを１度に実行するようにしているのですが、途中でエラーが発生している状態です。 どのSQLファイルでエラーが出ているか一目で分かるようにしたいのですが、SQLファイルの名前を実行結果と一緒にテキストファイルに出力したりできないでしょうか？ sqlplusのspool機能では実行結果のみ出力されますが、複数のSQLファイルを実行した場合にどの段階でエラーが出ているのか分かりづらいのでよい方法があれば教えてほしいです。 よろしくお願いします。（DBはOracle 10gです。）
Ceate table test( field1 date ) insert into test values(current_timestamp); 上記の処理でDate型の列にcurrent_timestampデータを入れても、年月日までしかはいらないのですが、yyyy/mm/dd hh24:mi:ssの形で はできないのでしょうか？oracleは10gです。
ORACLE8.1.7をWINDOWS２０００SERVER クライアントを２０００・XP・VISTA環境で使用しています。 ORACLEで使用するときに 株式会社　→　(株) 有限会社　→　(有) 財団法人　→　(財) 社団法人　→　(社) ・ ・ ・ このような特殊文字列？？を使うと問題あるのでしょうか？ また、そのほかにも使用しないほうがいい文字列などありますでしょうか？ よろしくお願いします。
手元にOracleがなく、実際にクエリーを投げて試すこともできず困っています。以下について教えて下さい。 １．Oracleにて、自分で作ったテーブルの名前の一覧を取得するクエリーを教えて下さい。 ２．各テーブルにおいて、定義情報（カラム名、カラムサイズetc）を取得するクエリーを教えて下さい。 よろしくお願いします。
先日ひょんなことで、MSAccessは末尾に半角空白を含むデータは、 結合の際に半角空白を無視して結合することに気付きました。 つまり結合条件でWHERE TBL1.COL1=TBL2.COL1 と記述した場合、 TBL1.COL1が '0001' でTBL1.COL2が '0001 ' であっても問題なく 結合されるということです。 それでORACLEの場合はどうだろうと疑問に思ったのですが、環境が 無いため試せずにいます。環境をお持ちの方は結果を教えてください。 お手数ですが、実験したORACLEのバージョンも教えてください。
次のようなSQLが知りたいです。細かいですがお願いします。 「使用テーブル」　Orderテーブル、Order明細テーブル、価格テーブル 「各表の列」　Orderテーブル　[OrderNo]　売り先 　　　　　　　Order明細テーブル　[OrderNo] [商品名]　個数 　　　　　　　価格テーブル　［商品名］[売り先] 価格 [　]が主キーです。 つまり価格は売り先によって値段が違います。 ３つのテーブルを結合してSELECTしOrderNo,商品名,価格を出したいです。 条件は各OrderNoについて個数が一番多い商品名とその価格を表示。 もし個数が同じなら、さらに商品名の文字列順序の早い方で１つ選択。 OrderテーブルにはOrderNoがあるが明細がない場合は、OrderNo以外ブランク。 価格テーブルに商品の価格が登録されてなかったら、価格部分はブランク。 次がややこしいです。 価格テーブルである商品について、すべての売り先に対して 同じ価格なら売り先に'*****’が入ります。 つまり、価格テーブルで１つの商品について個別の売り先で値段が 設定されてなくても、'*****'ならその商品の価格がわかることになります。 '*****'も個別の売り先も登録されていなかったら、その商品の値段がわかりません。 もし、価格テーブルに同じ商品について売り先が '*****'と個別の売り先名の両方で登録されていたら個別の方の価格を選択。 以上です。 Orderテーブルに100件あれば、上のようにすれば100件でると思います。 よろしくお願いします。
Oracle9iを使用しています。 参考URLなどを基に、oracleの監査設定をしたのですが失敗します。 質問：「init.ora」に”audit_trail=DB”を追記すると参考URLに書いてあるのですが、どこに追記すれば良いのか分かりません。 以下は、私のPC環境の [C:\oracle\admin\orcl\pfile] に保存された「init.ora.1022007114158」ファイルです。 ############################################################################## # Copyright (c) 1991, 2001, 2002 by Oracle Corporation ############################################################################## ########################################### # MTS ########################################### dispatchers="(PROTOCOL=TCP) (SERVICE=orclXDB)" ########################################### # Redo Log and Recovery ########################################### fast_start_mttr_target=300 ########################################### # Miscellaneous ########################################### aq_tm_processes=1 compatible=9.2.0.0.0 ########################################### # Instance Identification ########################################### instance_name=orcl ########################################### # Optimizer ########################################### hash_join_enabled=TRUE query_rewrite_enabled=TRUE star_transformation_enabled=TRUE ########################################### # Cursors and Library Cache ########################################### open_cursors=300 ########################################### # Cache and I/O ########################################### db_block_size=8192 db_cache_size=16777216 db_file_multiblock_read_count=32 ########################################### # System Managed Undo and Rollback Segments ########################################### undo_management=AUTO undo_retention=10800 undo_tablespace=UNDOTBS1 ########################################### # Job Queues ########################################### job_queue_processes=10 ########################################### # Security and Auditing ########################################### remote_login_passwordfile=EXCLUSIVE ########################################### # Sort, Hash Joins, Bitmap Indexes ########################################### hash_area_size=1048576 pga_aggregate_target=33554432 sort_area_size=1048576 ########################################### # Database Identification ########################################### db_domain="" db_name=orcl ########################################### # File Configuration ########################################### control_files=("C:\oracle\oradata\orcl\CONTROL01.CTL", "C:\oracle\oradata\orcl\CONTROL02.CTL", "C:\oracle\oradata\orcl\CONTROL03.CTL") ########################################### # Processes and Sessions ########################################### processes=150 ########################################### # Pools ########################################### java_pool_size=33554432 large_pool_size=8388608 shared_pool_size=50331648 ########################################### # Diagnostics and Statistics ########################################### background_dump_dest=C:\oracle\admin\orcl\bdump core_dump_dest=C:\oracle\admin\orcl\cdump timed_statistics=TRUE user_dump_dest=C:\oracle\admin\orcl\udump 参考URL http://www.cisco.com/japanese/warp/public/3/jp/s … http://oracle.na7.info/21_kansa.html http://www005.upp.so-net.ne.jp/khayashi/platinum … http://www.insight-tec.com/mailmagazine/ora3/vol …
Pen4(2003Server)にoracle8iClientを入れたのですが、Net8 Configuration Assistantが起動しません。 http://www.iceprobe.net/database/oracle/oraoraad … ↑こちらを参考にさせていただき、 elogin.cl、owm.cl、IFA.cl、netasst.cl、netca.cl　の各ファイルに"-nojit"を入れたのですが、動きません。 これ以外に、何かしなくてはならないことはありますでしょうか？ また、最後の手段として、自力でネット・サービス名の構成を作るのは難しいでしょうか？ （Oracleの環境構築は、今回がほぼ初めてですが） すでに運用中のもので、開発用に構築するところなのですが、 当時の担当者とはすぐには連絡が取れない状態でしたので、質問させていただきました。 ご存知の方がいらっしゃいましたら、よろしくお願いします。
oracle 10gとPHP5の接続が出来ません。。 192.168.1.12:1521に接続する場合、 oci_connect('hoge', 'hoge', 'scott/tiger@//192.168.1.24:1521'); これであってますでしょうか？ 間違っている場合、ヒントお願い致しますm(_ _)m
お世話になります。 現在、Oracleの検索速度の違いで、少し気になっています。 Select文に、Where比較条件を入れました時に、「AND」だけの複数条件 と、「OR」を混ぜた時の検索時間に、違いがあるように感じていました。 例えば、ORの条件をつけずに、 『where abc='a'』 と　『where　abc='b'』のSelect文を2回実行することより、 『where abc='a' or　abc='b'』と実行した方が大きく時間がかかってしまう様な ことは、起きるのでしょうか。 よろしくお願いいたします。
Oracle11gの体験版がないかなと思いoracleサイトに行ってみて気づいたのですが、oracle11gってlinux版から発売でした。オラクルがlinuxに力をいれているのは知っていましたが、シェアからいくとウィンドウズ、Unixが圧倒的に多いと思います。それをなぜウィンドウズ版から発売するのではなく、linux版から発売したんでしょうか？
SQLの勉強をしています。 仕事の研修で習っているのですが、基礎的なものを学習しましたが 応用したパターンが全く理解ができません。 例としまして ・AテーブルとBテーブルを結合して、データを抽出する ・Aテーブルに存在しているのに、Bテーブルに存在していないデータも抽出する ・しかし、Aテーブルに存在していないのに、Bテーブルに存在しているはデータは抽出しない ☆抽出方法に二パターン存在する 1つ目も全く見当つかずです。ヒントでよいので教えていただけたらと思います。 意味が分からなかったらすみません。何を描き足したらよいか教えて下さい。 宜しくお願いしたします。
SQLの勉強をしています。 仕事の研修で習っているのですが、自宅でもPCを使い学習したいのですが 無料でSQLを使えるものはないでしょうか？ 研修ではOracleを使用しています。 宜しくお願いいたします。
初めて投稿させていただきます。 プログラム暦半年の者です。 今年の春から未経験でソフト開発の会社で研修を受けたり雑用したりしています。 現在開発言語にVB6.0、データベースにORACLE8を使って個人的に家計簿ソフトを作っています。 コンボボックスやテキストボックスを使い ・登録日 ・明細区分(入金or出金)　 ・グループ(入金→給与,仕送　/ 出金→家賃,光熱費) ※別マスター登録プログラム有り ・備考 ・金額 を入力し、SPREADシートに追加していき、登録日の入金合計、出金合計、残高を計算して登録するという簡単なプログラムです。 テーブル構成は Ｍ明細区分(detailkbn_no, detailkbn_name) Ｍグループ(detailkbn_no, group_no, group_name) Ｄ日付データ (target_day --登録日, get_total 　--入金合計, spend_total --出金合計, balance --合計 ) Ｄ明細 (target_day --登録日, detail_no --明細No, detail_kbn --明細区分No, group_no --グループNo, note --備考, amount --金額 ) という感じです。 メインのフォームでは Ｄ日付データ Ｄ明細 にデータを登録するのですが,残高の計算は現在 前登録日残高 + (現登録日入金合計 - 現登録日出金合計) としています。 しかしこれでは残高が過去の残高に依存しているので、過去の残高を修正したり過去のデータを登録したりすると現在のデータが変わってしまいます。 こーいう場合はどのように処理したらよいのでしょうか？？ 過去の残高を修正した場合はそれ以後のデータの残高を一つ一つ再計算して登録し直すしかないのでしょうか？？ （データ件数が増えた場合に非常に時間がかかってしまいそうです…）　 データベース上で一発でそれ以降のデータの残高を書き換えるなんてことは不可能なのでしょうか？？ そもそもＤ日付データテーブルに残高というフィールドをもたせたことに無理があるのでしょうか？？ (登録日でグループ化したSUM(入金合計)-SUM(出金合計)を残高として表示させるだけにするとか…) 長々と申し訳ありませんでした。 説明が足らない部分も多々あるとは思いますが理解できる範囲で結構ですのでどなたかご教授いただけると助かります。 よろしくお願いします。
oracle初心者の為教えてください。 現在DBサーバーでoracle10gSEを使用しています。 新たにDBサーバーを導入しoracle10gSEをインストールしますが サーバー間同士で同期を取るためになぜRACやレプリケーションという手法をとらなくてはならないのでしょうか？ その必要性を問われ回答に困っています。 SEにはもとからその機能がないと回答すればよいのでしょうが それでは納得してくれそうにありません。 どうかご教示願います。
先ほど書き込みしたものの回答が得られないので、 質問内容を少し変えます。 トリガーを作成する際に WHEN句に書き込める制限などはあるのでしょうか？ 試しに CREATE OR REPLACE TRIGGER INS_01 AFTER INSERT ON A_TBL FOR EACH ROW WHEN(NEW.ID = (SELECT ・・・)) BEGIN ・・・・ END; / と書いたところ ORA-02251: ここでは副問合せは使用できません。 と怒られました。 また:NEWや:OLDの使えるはどの値を持ってくるのでしょうか？ 自分はINSERT時には:NEWはVALUESの値、:OLDはNULL。 UPDATE時は:NEWはSETした値、:OLDはWHERE句で指定したレコードの値だと思っています。 間違いや補足ありましたら教えていただけると幸いです。 宜しくお願いします。
宜しくお願いします。 Oracle9iを使っております。 contains関数の使い方や、引数の意味を教えてください。 引数は3つあって、恐らく1つ目は検索対象列名で、2つ目は検索式、3つ目はまったく分かりません。2つ目の検索式の書き方例と、3つ目の引数の意味を教えてください。 改めて宜しくお願いします。
超初心者です。 うまく説明できないかも知れませんが助けて下さい。 うまく動作しない処理は、 [A_TBL]が更新時に履歴あり・なしにそれぞれトリガーを用意しているのですが、 履歴なしの場合は[A_TBL]がUPDATEされるだけなので、 『[A_TBL]がUPDATEされたタイミングで[B_TBL]もUPDATEする』 という起動条件にしています。 履歴ありの場合は[A_TBL]のデータをUPDATEで無効化(FLGを立てます)し、 その後、更新データをINSERTで登録しようと思っています。 そのためトリガーの起動条件を、 『[A_TBL]がINSERTされたタイミングで[B_TBL]のデータをUPDATEする』 としていますが、 [A_TBL]に新規登録時のトリガーの起動条件が、 『[A_TBL]にINSERTされたタイミングで[B_TBL]にもINSERTする』 としているので、 [A_TBL]にINSERTされると両方のトリガーが起動してしまい、 怒られました。 自分の作ったトリガーを書いておくので どのようにしたらよいのか教えていただけませんでしょうか？ トリガーの書き方におかしな点があったらご指摘もお願い致します。 よろしくお願いしますm(_ _)m 新規登録のトリガー CREATE OR REPLACE TRIGGER INS_01 AFTER INSERT ON A_TBL FOR EACH ROW BEGIN INSERT INTO B_TBL( ID, 姓, 名, 住所, 本籍, 電話番号, 郵便番号 )VALUES( :NEW.ID, :NEW.姓, :NEW.名, :NEW.住所, :NEW.本籍, :NEW.電話番号, :NEW.郵便番号 ); END; / 更新のトリガー CREATE OR REPLACE TRIGGER UP_01 AFTER INSERT ON A_TBL FOR EACH ROW BEGIN UPDATE B_TBL SET 姓 = :NEW.姓, 名 = :NEW.名, 住所 = :NEW.住所, 本籍 = :NEW.本籍, 電話番号 = :NEW.電話番号, 郵便番号 = :NEW.郵便番号 WHERE ID = :NEW.ID ; END; /
社内のあるdmpデータをオラクル10gにインポートするようにと指示があり、ネット検索で得た情報を元にコマンドからdmpデータを何とかインポートできましたが、オラクル上でそのデータを確認する方法がわかりません。 ●Oracle10gは３日前に下記サイトの「第1章 データベース構築の基礎編 」を参考にしてインストールしたものです。 http://otn.oracle.co.jp/easy/oracle10gr2/Windows … ●今回インストールした際のユーザーは「sysman」です。 初歩的な質問で申し訳ございませんがどなたかどうぞ回答をお願いしますm(__)m。 因みに社内にOracle10gのマニュアル本はありません。
OSもOracleのバージョンも同じ環境で、データベースを移行したいと思っています。 　　　OS：WindowsXP Pro SP2 　　　Oracle：9i (9.2.0) 新しいマシンは、Oracleをインストールしただけの状態です。 インストール時に自動で作成されたデータベースだけがあります。 （ユーザはまだ作成していません） この状態で、現状のマシンにあるデータを全て丸ごとエクスポート・インポートは可能なのでしょうか？移行したいデータベースには、3つのユーザが存在しますが、この3つのユーザを一度にインポートできないかと思っています。 EXPに、FULL というパラメータがありますが、ここで [ Y ] を指定した場合、3つのユーザのデータを丸ごとエクスポートできるのでしょうか？その場合、USERIDのパラメータには、どのユーザ名を設定すれば良いのでしょうか？ エクスポートできれば、そのDMPファイルをインポートすれば良いだけだと思っているのですが・・・ （ちなみにデータベースを、あと2つ作成して、同じようにインポート・エクスポートしたいと思っています） Oracle初心者です。質問内容もまとまっていないかもしれません。 不足などがあれば補足要求下さい。 よろしくお願い致します。
Linuxサーバー(Oracle(10.1)＋Apache(2.0.52)＋PHP(5.0.5)) からデータを参照し、ブラウザで表示するものを作成しようとしています。 PHPからオラクルへ接続テストをしたところ、うまくいきませんでした。 $conn=oci_connect($user,$pass,$db); これがORA-12514のエラーになります。 エラーの原因がわかりません。どういうことを確認すればいいですか？ tnsnames.oraとlistener.oraの"HOST"はIPアドレスにしていますが、 リスナーのステータス(コマンド:lsnrctl status) で見た"HOST"は<*.co.jp>というふうになっています。 これは問題ないのでしょうか？ (tnsnames.ora) <$DB> = (DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = <IPアドレス>)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME =<$db>) ) ) (listener.ora) LISTENER = (DESCRIPTION_LIST = (DESCRIPTION = (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1)) ) (DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = <IPアドレス>)(PORT = 1521)) ) ) (リスナーのステータス) リスニング・エンドポイントのサマリー... (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1))) (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=<$db.**.co.jp>)(PORT=1521)))
Windows NT4.0 SP3（Server）にてOracle7のデータベースの入っているフォルダを圧縮（フォルダのプロパティよりフォルダごと圧縮するにチェック）した場合にデータベースが壊れてアクセスできなくなることはありますか。 （Windowsの圧縮機能はファイルを壊すことがあると聞いたので不安になってます。） データベースにアクセスする時間が掛かる（レスポンスが悪くなる）ことは、承知の上です。
BLOB型の項目を持つTableに対して、SQLのSELECT文でBLOB型項目がNull(未設定)のレコードを抽出したいと思っています。 どのようなSELECT文を組めば良いのでしょうか？ 方法がわからず困っています。 御教授下さい。 DBはOracle8.1.6、 OSはWindowsサーバ2003です。よろしくお願いします。
oracle9iを使用しています。 あるテーブルに新しい列を新規追加し、そのカラムに既存列のデータをそっくりそのままコピーしたいのですが、どのようなSQLを流せばよいのでしょうか？ 初心者丸出しな質問で申し訳ありませんが、ご教授頂けましたらありがたいです。 よろしくお願い致します。
たとえば、 「あ」 を 「+MEI-」 に変換する　また　その逆をする関数はありますか？
副問合せなどを使って、検索すると、よくパソコンがフリーズしてしまいます。処理が重たくてフリーズしたのだと思いますが、どうしたらよいでしょうか。よい解決方法をしっている人がいたら、教えていただけないでしょうか。
java(servlet）で作成したアプリケーションのSQLトレースを取得したいのですが、トレースファイルに出力されません。 ご教授お願いします。 【環境】 ・oracle 9i（10gでも確認しましたが同様の結果でした） ・java(servlet）の実行環境はwindows server 2003 【設定、操作方法】 ●SQLPLUSより １．ALTER SESSION SET sql_trace = true; ２．timed_statistics は true になっている事を確認 ●ブラウザより ３．アプリケーションを動かす（内部でSQLが発行される操作を行う） ●コマンドプロンプトより ４．tkprof より出力内容を確認 出力結果にアプリケーションで発行しているＳＱＬの解析情報が全く入っていません。 上記の操作に問題があるのでしょうか？それとも何か他に設定が必要なのでしょうか？ よろしくお願いします。
Solaris の画面上から lsnrctlでコマンドを打った場合、メッセージが出力されますが、このメッセージを停止する事は出来ますでしょうか？
SQLの初歩的な質問す。 create view　testview as select a,b from testtable ; というようにtestviewを作成して、 insert into testview ( a,b )values( 'aaa','bbb' ) というようにtestview にデータを作成したとき、 testtableの値も更新されるのですか？ よろしくお願いします。 以上
当方　Oracle10i　を使用しています。 キャラクターセット　UTF-8/UTF-16を使用しています。 KeySQLを使用して検索を考えています。 KeySQLでUTF-8/UTF-16は対応していますか？
お世話になります。 セールスガイドから得た情報では インスタンスが立ち上がっているなら ライセンスは必要というような認識だったのですが 同期の以外のワークロードが発生しなければ ライセンスは要らないという話も耳にしました。 例外的にライセンス料が 必要なくなるパターンというのは存在するのでしょうか？ ご存知の方がおられましたらご教示いただきたくおもいます。 ※例えばOracle10gEEでマルチマスター(非同期)をしてるとき 同期以外の処理をしない待機系側のライセンスは 必要かどうかを知りたいと思っております。 宜しくお願いいたします。
こんにちわ。 質問タイトルが間違っているかもしれませんが、やりたい事は以下のようなことです。 列「商品番号」に、任意の値をセットしたテーブルを作りたい。 といっても、「CREATE TABLE文」でなく、 SELECT文（副問合せ）で作りたいのですが、 例えば、1行だけならば、 (SELECT '000001' AS 商品番号 FROM DUAL) TABLE_A のようにできると思うのですが、 これを複数行作成する方法がありますでしょうか？ ご教授お願い致します。 ちなみに、Oracle10gです。
こんにちは vb2005で作成したアプリケーションソフトをwebサービス（asp.net）を使用してoracle10gに接続してデータの取得、更新処理を するシステムを開発しています。 現在、複数の端末から同時にファイル更新を行うと、下記のようなメッセージが出力され大変困っています。 ・この操作に対して接続がオープンされている必要があります。 ・サーバは要求を処理できませんでした。－－＞オブジェクト参照がオブジェクトインスタンスに設定されていません ・リモートサーバーに接続できません。 複数で同時アクセスするような場合、何か他の設定が足りないのでしょうか。 以上、宜しくお願いします。
いつもお世話になっています。 オラクルではないのですが、ＳＱＬの質問が多く感じたため、質問させていただきました。 タイトルの通り、相関サブクエリはグループ化した状態で行えるのか教えていただきたいんです。 課題は、売上表(Sales)から、売上数量(Quantity)の平均の１０倍よりも売上数量(Quantity)の最大の方が大きい商品ＩＤを見つけ出す。というものです。 考えたＳＱＬは SELECT __S1.ProductID FROM __Sales AS S1 GROUP BY __ProductID HAVING __AVG(Quantity) * 10 < (SELECT 　　 __MAX(Quantity) 　　 FROM 　　 __Sales AS S2 　　 GROUP BY 　　 __ProductID 　　 HAVING 　　 __S1.ProductID = S2.ProductID) です。考え方として 相関サブクエリで、現在の商品ＩＤ（HAVING　S1.ProductID = S2.ProductIDのところ）の商品数量の最大値を比較として返そうと思いましたが、どうもうまくいきません。 こういった相関サブクエリは作れないのでしょうか？
以下のようなsqlを書いた場合、 （入れ子になった内側でorderbyを記述している） 6行目に書いたorderbyの動作（ソートキーの降順に並ぶこと）は oracle,sql server等、各環境で保障されるのでしょうか？ 以下の例ではうまく動作していたのですが（oracle） 入れ子が多くなった場合もうまくうごくのでしょうか？ -------------------- select a.* from ( 　　select a.ソートキー from テーブル a 　　union all 　　select a.ソートキー from テーブル b 　　order by ソートキー desc ) a -------------------- 自分は、order by は最後に書くものだと思っていたのですが、 たまたま上記のような入れ子になった内側でソートしているソースを見ることがあり みなさんにお話をうかがいたく質問させていただきました。 よろしくお願いいたします。
ORACLE10Gを使用したアプリ開発中です。 アプリ中、１テーブルに対して全く同じ条件で 複数レコードを悲観的ロック(for update)しながら取得し、 項目を更新するＳＱＬを発行します。 単発では問題なかったのですが、処理時間の関係で パラレルで実行された場合にデッドロックを検出することがあります。 ORACLEのudumpの中を確認すると全く同じSELECTのSQL同士で デッドロックが発生したと表示されています。 こういった場合、どういう原因が考えられるでしょうか？ （同じ条件による悲観的ロックであれば多重実行でも 　処理待ちをするだけだと思っているのですが・・・） よろしくお願いします。
環境：Oracle9i 9.2.0.1.0 言語：VB6 DBのバックアップ体制が問題になり今後はARCserveというツールとOracleのRMANというツールを絡めた機能で運用することになり、Oracle側ではさらにアーカイブログの運用でいくことになりました。 アーカイブログで運用しているシステムで仮にOracleがダウンしてしまった場合の復旧について必要なファイルは (1)全体バックアップのDATファイル (2)(1)以降のアーカイブログファイル と認識していますが、(1)のバックアップをオンラインバックアップで取得しても以下の(1)の理由で問題ないということになるのでしょうか？ (1)アーカイブログをとっているから アーカイブログはコールドバックアップをしないと意味がないのでしょうか？
環境：Oracle9i 9.2.0.1.0 言語：VB6 OLTPの処理を行っている販売管理システムです。 夜間にバッチ処理を行っています。 最近アーカイブログモードに変更しましたが、夜間の一部のバッチによる影響でアーカイブログのサイズがかなり大きくなっています。 そのバッチ自体は一時的に作成されるテーブルがあり、そのテーブルが大きく影響しているものと思われます。 そこでご質問なのですがREDOログの書込みを上記テーブルは対象外にするように変更できないものでしょうか？ また、アーカイブログのサイズがかなり大きくなる問題についてなにか解決策などがありましたらアドバイスお願い致します。 ちなみに今の現行システムでは１週間で３０GB程度まで大きくなっています。 手動でアーカイブログファイルを別のディスクに移動しています。
失礼します。 datファイルに、登録した日付を書き込む ストアドプロシージャを作成中です。 しかし、現在「to_char(sysdate,'YYYYMMDD hh24:mm:ssss')」 のように記述しテストをしてみると、 20070824 14:08:3737 20070824 14:08:4949 20070824 14:08:3030 のように出てしまい、ssssの特徴である"真夜中を過ぎた秒(0-86399)" が上手く出てくれません。(ssが２回連続で出てしまっているようです。。) 正確な記述方法を教えて頂けると助かります。 宜しくお願いいたします。
bdump やudump でログファイルを出力中に そのログファイルを削除した場合、 その後のログの出力はどうなるのでしょうか？
題名通りなのですが、実際に CREATE TABLE テーブル名 (各種列作成, 制約） USING INDEX　～ USING INDEX以降に列と関係のないものをごちゃごちゃと置いていて 何をやっているかがいまいちよく分かりません。 色々とサイトなど調べたのですがいまいちよく分かりませんでした。 分かる方いらっしゃいましたら、教えていただけると幸いです。 どうかご教授よろしくお願い致します。
最大同時接続数(35件)より少ない数(5件)の同時接続を行った時「ORA-00019: 最大セッション・ライセンス数を超えました」が発生しました。 V$LICENSEで確認したところ何故かSESSIONS_MAX<SESSIONS_CURRENTとなっており、古いセッション情報が残っていました。 これら古いセッション情報のステータスはINACTIVEとなっていたので新しい接続がきた場合、リプレースされるものと思っていましたが同時接続を試みると上記エラーとなります。（単一で接続するとリプレースされます） そもそも古いセッション情報は一定時間が経過すると削除されるとの認識でいましたが、削除されない条件（ステータス以外）とは何なのでしょうか？ 何方かご教授下さい。
毎度お世話になります。 この度はじめて、 フラグメンテーションが激しくなっている表を きれいにしようと考えております。 参考書を開いて調べたところ Export ⇒ 表をDROP ⇒ Import といったような感じでやれるようであるところまでは大体わかりました。 そこで気になるのが外部キーとかで参照されている表だった場合 そもそもDROPなどができないのではないかというところです。 制約などをいったんOFFにするばいけるのかとも思うのですが まとめてOFFにする方法も思いつきません。 以下の2点ご教示いただけないでしょうか？ 1.他に上手い方法があるか？ 2.制約をまとめてOFFなり、いったん削除なり、できる方法があるか？ 宜しくお願いいたします。
お世話になっております。 UNIXの自ノード内OracleDBにODBCにてアクセスするアプリケーションがあるのですが、これを他ノードに移設したいと考えております。 この際、他ノードからのOracleへのアクセスに必要な設定は何がありますでしょうか？（ORACLE_SID等） アプリケーションはProCで作成したものです。 よろしくお願いします。
SGA値が不足している場合、一般的にディスクへのI/Oが増えると考えてよろしいでしょうか？
ＯＥＭ画面からでも、ログからでも何からでもいいので SGA値の遷移を確認し、SGA不足かどうかのチェックを行いたいのですが どのように行えばよろしいでしょうか？
oracleとは何か、またoracleの基礎などを学びたいのですが、無料で講習・研修などはありますでしょうか？ ご存知の方いらっしゃいましたら教えてください。 会場は東京近辺を希望します。 よろしくお願いします。
サーバーを再起動したらOracleが起動しない ということで保守を依頼されました。 Oracleを実行しているにもかかわらずシステム日付を数分ですが 過去に戻してしまったことで、それがが原因であろうと思われます。 恥かしながら復旧方法がわからないのですが どのような復旧方法があるかご教授お願い致します。 幸い再起動直前にエクスポートを行っており データのバックアップはあるようです。 環境は以下の通りです。 WindowsNT 4.0 Server Oracle 7.3 よろしくお願いします。
和集合と積集合の違いが知りたいです。 件数を調べるとどちらも同じ値になるし、 共にALLをつけなければ、和集合は二つのテーブルをあわせて重複の無いレコード、積集合は二つのテーブルで同じレコードという意味で理解しているのですが、詳しい方教えていただけますか？ SQLについて、このあたりについて詳しく書かれている書籍などもご存知の方もよろしくお願いします。
インスタンスの再作成について教えてください。 HP Integrityサーバ+HP-UX 11i v2(11.23)にoracle10gR2をインストールし、データベースの構築を行ったのですが、文字コートの設定を間違ってしまい、データをインポートできず、インスタンスを再作成しないといけなくなりました。 データベースはＤＢＣＡを使い作成しました。 今あるインスタンスを削除して、新しいインスタンスを再作成するのですが、同じ名前でインスタンスを作成したいと思っています。今あるインスタンスの削除はどのように行うのかご存知の方がいらっしゃいましたら教えていただけないでしょうか？ ディレクトリを消すだけでよいのでしょうか？
Solaris系のサーバーを利用しています。 LSNRCTLでstatusとすると以下のようなエラーが出力されます。 原因を教えて下さい。 ----------------------------------------- LSNRCTL> status (ADDRESS=(PROTOCOL=tcp)(HOST=)(PORT=1521))に接続中 TNS-12541: TNS: リスナーがありません。 TNS-12560: TNS: プロトコル・アダプタ・エラー TNS-00511: リスナーがありません。 Solaris Error: 146: Connection refused LSNRCTL> -----------------------------------------
SQLは初心者なんで、プログラムで実装するしかないかの判断もできなく相談しています。 CTRL_TBL は以下のとおりです NO COLNANE 1 FIRSTNAME 2 LASTNAME 3 ADDRESS 4 YEAR DATA_TBLは FIRSTNAME LASTNAME ADDRESS YEAR TARO YAMADA CHIBA 23 JIRO SASAKI GUNMA 32 HANAKO SATO SAPPORO 25 CTRL_TBLで動的に指定したNOの列を表示したいのです 例として、NO IN (1,4)の場合には結果に FIRSTNAME YEAR TARO 23 JIRO 32 HANAKO 25 SELECT ( SELECT COLNANE FROM CTRL_TBL WHERE NO IN (1,4) ) FROM DATA_TBL; 上記では当然エラーとなります。 実現可能なsqlは作成可能でしょうか？
SQLの書き方について質問です。 マスタにある項目CDはすべて表示。そこにデータ項目を表示させる。マスタにある項目CDがデータにない場合は、表示できない部分以外はNULLで表示させるにはどうしたらよいのでしょうか？ 思うようにデータが取得できません。ORACLE8iです。 例えば select * from マスタ where データCD = '0009' の結果が +-------------------------------------+ + データCD | SEQ番号 | 項目CD | 項目名 | +-------------------------------------+ 0009 | 1 | 05000 | 名称１ 0009 | 2 | 05100 | 名称２ 0009 | 3 | 05200 | 名称３ で、 select * from データ and データ.本支所CD = '999' and データ.部門CD = '99' の結果が +------------------------------------------+ + 本支所CD | 部門CD | 項目CD | 発生額07月 | +------------------------------------------+ 999 | 99 | 05000 | 1,234 999 | 99 | 05100 | 1,235 だった場合、 select SEQ番号, 本支所CD, マスタ.項目CD, マスタ.項目名, 発生額07月 from マスタ,データ where マスタ.データCD = '0009' and マスタ.項目CD = データ.項目CD and データ.本支所CD = '999' and データ.部門CD = '99' を実行すると、 +--------------------------------------------------------+ | SEQ番号 | 本支所CD | 部門CD | 項目CD | 項目名 | 発生額07月 | +--------------------------------------------------------+ | 1 | 999 | 99 |05000 | 名称１ | 1,234 | 2 | 999 | 99 |05100 | 名称２ | 1,235 +--------------------------------------+ と結果が返ってきますが、 +-------------------------------------------------------+ | SEQ番号 | 本支所CD | 部門CD | 項目CD | 項目名 | 発生額07月 | +-------------------------------------------------------+ | 1 | 999 | 99 |05000 | 名称１ | 1,234 | 2 | 999 | 99 |05100 | 名称２ | 1,235 | 3 | 999 | 99 |05200 | 名称３ | NULL +--------------------------------------+ とするためには どういうSQLを作成したらよいのでしょうか？ 「where マスタ.データCD(+) = '0009' and マスタ.項目CD = データ.項目CD(+) and データ.本支所CD(+) = '999' and データ.部門CD(+) = '99' 」 にしてもだめでした。 ※「マスタに存在して、データに存在しない項目コードがありますが、 それも発生額07月はNULLでよいので、それ以外の項目をすべて表示したい」のです。 説明不足だとは思いますが、どなたかご教授のほどよろしくお願いいたします。相当行き詰ってます。
PL/SQLで開発しています。 一つのテーブルで検索条件（引数）によって検索するカラムを切り替えたいのですが、 カーソルをいくつも作らず、 一つのSELECT文で書く方法ってないのでしょうか？ OR条件などを使って考えたのですが、うまくいきません。。 （例） SELECT　* FROM 売り上げ情報 WHERE (品番 = 引数１ OR 商品名 = 引数２) 引数が無い時は"引数1"・"引数2"がNULLになるので、 カラムがPKなどになっていれば引数が片方しかなくてもうまく動作するのですが、 制限などがかかっていなくNULLで登録されているデータが存在すると余計なデータまでとれてしまいます。 DECODEなどでカラムに存在しない値に変換しようかとも思ったのですが、 なんか不自然な気が＠＠； いい方法があれば教えてください。
ORACLEからSPOOLで表をCSV出力したのですが、なぜかある列だけの文字列が日付け型になってしまいます。 列のデータ型はVarchar2です。 TXTファイルにすると文字列で表示されます。 ファイルを開くExcel側に問題があるのでしょうか？ 環境はORACLE9i、office2003です。
リスナーログをシェルで自動で消したいです。 ただ、ログは一切消失できません。 おおよそ #lisnctl LSNRCTL> set log_file listener.tmp.log # mv listener.log listener.old LSNRCTL> set log_file listener.log # cat listener.old listener.tmp.log > listener_YYYYMMDD.log のようなイメージを考えていますが、 これをシェル化（シェルでなくても自動化） する事は可能でしょうか？
こんにちは。 oracleのインストールにおいて、タイトルのようなjavaExceptionが発生して、OUIが落ちてしまい困っています。 【環境】 OS:IBM AIX 5L 5.3 (メンテナンスレベル、パッチ等はOracleインストール要件を満たしています） ※LANGはJa_JP、文字コードはShift_JISだと思われます。 Oracle:Oracle Database 10g for AIX-Based Systems(64bit) 【前提】 OSのHARDWARE_BIDMODEは当然64です。 JDKはIBM 32-bit SDK for AIXを使用しています。 oinstall,dbaグループおよびoracleユーザは作成済。 oracleユーザに対してJAVA_HOME,PATH等は設定済。 Oracleコンポーネントインストールディレクトリ(ORACLE_BASE)は /opt/oracleを用意し、オーナーをOracleに変更済。 データベースファイル用ディレクトリは、/xxxx/oradataを用意し、 オーナーをOracleに変更済。 【エラー内容】 上記前提のもとに、DVDからrunInstallerを起動するとOUIが立ち上がるので、必要情報（Oracleホームやインベントリ証明等）を設定し、 「インストール」を押下して開始した直後に、「内部エラー」が発生しました、となりOUIが落ちてしまいます。 ログから拾ったエラー内容は以下になります。 ・stderrの内容 Exception java.lang.ArrayIndexOutOfBoundsException: 8192 occurred.. java.lang.ArrayIndexOutOfBoundsException: 8192 at com.ibm.nio.cs.DBA_Encoder.encodeArrayLoop(DBA_Encoder.java(Compiled Code)) at com.ibm.nio.cs.DBA_Encoder.encodeLoop(DBA_Encoder.java(Compiled Code)) at java.nio.charset.CharsetEncoder.encode(CharsetEncoder.java(Compiled Code)) at sun.nio.cs.StreamEncoder$CharsetSE.implWrite(StreamEncoder.java(Compiled Code)) at sun.nio.cs.StreamEncoder.write(StreamEncoder.java(Compiled Code)) at java.io.OutputStreamWriter.write(OutputStreamWriter.java:211) at java.io.BufferedWriter.flushBuffer(BufferedWriter.java:126) at java.io.BufferedWriter.write(BufferedWriter.java:221) at java.io.PrintWriter.write(PrintWriter.java:241) at java.io.PrintWriter.write(PrintWriter.java:258) at java.io.PrintWriter.print(PrintWriter.java:389) at java.io.PrintWriter.println(PrintWriter.java:526) at oracle.sysman.oii.oiix.OiixFileOps.copyFileAsText(OiixFileOps.java:1630) at oracle.sysman.oii.oiij.OiijFastCopyPhase.copyFilesToScratch(OiijFastCopyPhas e.java:1454) ～以下略～ ・インストールログの内容 ～略～ INFO: ファイル'oracle.server_EE_1.xml'の情報に基づいて高速コピーを実行中です。 INFO: ファイル'setperms1.sh'の情報に基づいて高速コピーを実行中です。 SEVERE: プログラムの異常終了。内部エラーが発生しました。 ～略～ となっております。 JavaExceptionの内容が意味不明で（なんで配列の未指定部分を読みに行ってのエラーなのか）、究明が進んでおりません。 もし何らかの情報をお持ちの方がおりましたら、何卒回答をよろしくお願い致します。
MSのCMD.EXEのプロンプトよりSQLplusを実行し「ログイン」した後に、あるコマンドを入力すると、 netのセッションを切らずに、CMD.EXEのプロンプトに戻ったり、SQLplusのプロンプトにまた行ったりできる機能があったと思うのですが、そのコマンドが思い出せません。 ・そんな機能はなく私の思い違いなのでしょうか？ ・類似の機能と勘違いしているのでしょうか？ ・Windowsのコマンドプロンプトではなく、他の環境でできる話なのでしょうか？ どなたか診断お願い致します。
Oracleマスターブロンズ、シルバーを取得予定なのですが Oracle Database 11gが発売するのを待ち新資格形態になってから 受講した方がいいでしょうか？
タイプオブジェクト　という言葉がでてきます。 その説明をしないといけません。 タイプオブジェクトって何でしょう？ (IEで検索しても解説がでてきません。)
Oracle 9iを使用しています。 Win2000上で標準パラメータでDBを作成し、アプリケーションを稼動しています。このEXPORTファイルを使用して Win2003で、同じく標準パラメータでDB（同じくOracle9i)を作成し、 DBをインポートするとアーカイブログの空きがない、のエラーとなり、 IMPORTコマンドは異常終了してしまします。 同じOracle 9iでも稼動しているOSにより、各種領域設定はことなるのでしょうか？
SELECTしたものを飛ばしてからINSERTしたいのですが、 どうしたら良いですか？ CURSOR A is 　SELECT～～～ BEGIN 　FOR rec IN cur_z LOOP 　　項目追加(Arec); 　END LOOP; END; PROCEDURE 項目追加(rec) IS　←ここでエラー BEGIN　　 　INSERT～～～～ END 項目追加; としてあるのですが、 PLS-00103: 記号"PROCEDURE"が見つかりました。 PLS-00103: 記号")"が見つかりました。 のエラーが出ます。
以下のようなSQL文を作成し、Oracle10gで実行したところ、正常に実行されていたのですが、同一のSQL文をOracle9iで実行したところ、 ORA-00905: キーワードがありません。 とエラーがでてしまいました。 merge文はOracle9iから追加された？ものだったと記憶しているですが、思い違いでしょうか？ それともOracle9i、Oracle10gで何か違いがあるのでしょうか？ Oracleのバージョンはそれぞれ以下の通りです。 Oracle10g：10.1.0.2.0 Oracle9i：9.0.1.1.1 よろしくお願い致します。 ＜やりたいこと＞ A表のa列とb列が、B表のa列とb列と一致したものレコードのみ、B表のc列の内容にA表のc列をアップデートする。(インサートはしない) merge into 表A A using 表B B on (A.a = B.a and A.b = B.b) when matched then update set A.c = B.c /
お世話になります ストアドパッケージにて ORA-01013: ユーザーによって現行の操作の取消しが要求されました。 のエラーが出ています ODBCやADOでタイムアウトの調整等はよく聞くのですが ストアドパッケージでこのエラーの対処法はありませんでしょうか？ OS：Windows2003Server DB：Oralce9i よろしくお願いいたします
Win2003Serverに 10gのClientをインストールしました。 SQLPlusを起動しようと、スタートメニューから辿っていっても SQLPlusのショートカットが存在しません。 [スタート]-[Oracle - OraClient10g_home1]-[アプリケーション開発] の下に存在するはずだと思うのですが、何か設定があるのでしょうか？ 宜しくお願いします。
たびたびお世話になります。 エクセルファイル内のデータを DB上に先に作成したテーブルの各項目に 入れていくという処理をしたいのですが、 エクセルをCSVファイルに変換して　←現在ここです コントロールファイルを作成。ということらしいのですが 色々なサイトをみてもどうもよくわからない次第です。 どなたかわかりやすく教えては頂けないでしょうか？ また、コントロールファイルが作成できたとして 流すのはSQL Plusで流すことは可能でしょうか？ あわせて回答よろしくお願いします。
10gEXで文字エンコードが「UTF-8」となり全角文字が3バイトでカウントされ困っています。 HLM上でエンコードを変更しても戻ってしまいます。 コマンドプロンプトより実行した場合もどうやら３バイトカウントされているようです。 どうにかエンコードを変更したいのですがどのようにすればよろしいでしょうか。
Oracle８i環境のデータベースで文字化けが発生しています。 データベース作成時に、管理者が文字コードを指定するのを忘れてしまい、 NLS_CHARSETが US7ASCII となっています。 (本来はJA16SJISが正しい) 既にテーブルも作成され、データも挿入されているので、 なんとかデータベースの再作成は避けたいのですが、 何か方法がありますでしょうか？ (例えばALTER DATABASE文などで・・・) よろしくお願いいたします。
SQLでの集計方法について質問です。 Oracle8iを使用しています。 あるテーブルに以下のようなレコードがあります。 ID　回数　値 1　　　1　　100 1　　　2　　200 1　　　3　　300 2　　　1　　150 2　　　2　　550 .... この登録されている値をそのIDごとに、その回数まで回数ごとにサマリーした結果を出力したいのですが どうすればよいでしょうか。 ID　回数　値 1　　　1　　100　　・・・(100) 1　　　2　　300　　・・・(100+200) 1　　　3　　600　　・・・(100+200+300) 2　　　1　　150　　・・・(150) 2　　　2　　700　　・・・(150+550) 宜しくお願いします
oracle10gの文字コードを変更したいのですが、どうすればよいでしょうか？ 現在は、UTF8になっていますが、EUCにしたいと思っています。 よろしくお願いします。
現在はアクセス制限していないAccessからのODBC接続による処理が多数あるのですが、セキュリティの観点から同一SQLを実行した場合でもユーザにより表示される項目を抑制したいと思っています。 重要情報のカラムは、管理者はデータ値で見えるけど、一般ユーザは「表示不可」とかにしたいです。（具体的には下記イメージ） これを実現する上で、既存のAccessに手を加えることなく実現できる方法は無いかを探しています。 テーブル：TBL01（所有者：u01）に、「氏名」と「口座番号」のカラムがあるとし、 Select * from TBL01;を実行した場合、 ＜管理者＞　　　　　　　　＜一般ユーザ＞ 氏名　口座番号　　　　　　氏名　口座番号 －－　－－－－　　　　　　－－　－－－－ Ａ氏　12345678　　　　　　Ａ氏　表示不可 Ｂ氏　99999999　　　　　　Ｂ氏　表示不可 となるようにしたい 所有者u02,u03で夫々以下の様なViewを作り、実行ユーザにViewのSelect権限を与えれば出来るかと考えました。 u02で： create view u02.TBL01 (氏名,口座番号) as select * from u01.TBL01; u03で： create view u03.TBL01 (氏名,口座番号) as select 氏名,'表示不可' from u01.TBL01; Viewのselect権限付与： 管理者（u04）と一般ユーザ（u05)に対して grant select on u02.TBL01 to u04; grant select on u03.TBL01 to u05; とすれば、上手くいくのではないかと考えていました。 しかしAccessからのODBC接続の場合、'所有者'.'オブジェクト'（例にそうとu01.TBL01）という形でSQLが格納される様なので、上記の方法では実現できません。 違った視点から、カラムの暗号化が使えないか？とか、一般ユーザのselect権限にカラム指定をしてアクセス不可のカラムを外すとかも考えましたが、出来そうもありませんでした。 面倒な質問で申し訳ございませんが、良い案をご教授いただければ助かります。
oracle10g でcreate databaseをしたいのですが、 ERROR at line 1: ORA-01501: CREATE DATABASE failed ORA-01100: database already mounted となってしまいます。 create文は以下のようになります。 ご教授下さい SQL> CREATE DATABASE testdb MAXINSTANCES 8 MAXLOGHISTORY 1 MAXLOGFILES 16 MAXLOGMEMBERS 3 MAXDATAFILES 100 DATAFILE '/opt/oradata/testdb/system01.dbf' SIZE 300M REUSE AUTOEXTEND ON NEXT 10240K MAXSIZE 2000M EXTENT MANAGEMENT LOCAL SYSAUX DATAFILE '/opt/oradata/testdb/sysaux01.dbf' SIZE 120M REUSE AUTOEXTEND ON NEXT 10240K DEFAULT TEMPORARY TABLESPACE TEMP TEMPFILE '/opt/oradata/testdb/temp01.dbf' SIZE 20M REUSE AUTOEXTEND ON NEXT 640K MAXSIZE UNLIMITED UNDO TABLESPACE "UNDOTBS1" DATAFILE '/opt/oradata/testdb/undotbs01.dbf' SIZE 200M REUSE AUTOEXTEND ON NEXT 5120K MAXSIZE UNLIMITED CHARACTER SET AL32UTF8 NATIONAL CHARACTER SET AL16UTF16 LOGFILE GROUP 1 ('/opt/oradata/testdb/redo01.log') SIZE 10240K, GROUP 2 ('/opt/oradata/testdb/redo02.log') SIZE 10240K, GROUP 3 ('/opt/oradata/testdb/redo03.log') SIZE 10240K USER SYS IDENTIFIED BY syspass USER SYSTEM IDENTIFIED BY systempass;
今度(というか明日)オラクルマスターBronze SQL基礎1を受験するのですが，ひとつ分からないことがあるので教えてください． 使っている参考書ですが ・翔泳社さんの黒本「オラクルマスター教科書」http://www.seshop.com/detail.asp?pid=5549 ・インプレスジャパンさんの「徹底攻略ORACLE MASTER 問題集」http://bookweb.kinokuniya.co.jp/htm/484432067X.h … の二つの本を使って勉強したのですが，二つの本で食い違う部分があったので，どなたか分かる方教えてください． インプレスジャパンさんの問題2-18番の解説では，「DISTINCTとUNIQUEは同義です．（DISTINCTとUNIQUEは同じように使える）」と書いてあるのですが， 翔泳社さんの模擬問題5番の解説では，「UNIQUEというキーワードを使用して表示する行の重複を省くことはできません．（DISTINCTと同じようには使えません）」 と書いてあります． インターネットで調べても，DISTINCTだけで説明されていたり，両方使えるように説明してあったりするのですが， 「UNIQUEは使えません」という記述が見つからないため，いまいちよく分かりません． 実際はどちらが正しいのでしょうか？ オラクルが使える環境があれば，実際に実行してみたら早いのですが，私のPCには環境が入っておらず，また時間がないため，どなたか分かる方教えてください． 宜しくお願いします．
SQL*Loaderを用いてOracleのテーブルにデータを格納 しようと思っています。 格納するデータはカンマ区切りのCSVファイルです。 入力CSVファイルは他テーブル用のファイルなので、 ローダーで落とし込むテーブルとは列数が異なります。 ですので、「CSVの5列目の値をテーブルのAA_NOというフィールドに 格納する。ということが可能なのでしょうか？」 CSVファイルのある行が a,b,c,d,e,f というデータの場合、テーブルには a,e,f とインポートしたいのです。 よろしくお願いします。
Oracle9iです。(厳密にはVB6も絡んでいます) 説明の便宜上、若干簡略化しています。 テーブルtestがあります。 SQL> desc test; 名前 NULL? 型 --------- -------- ---------------- ID VARCHAR2(10) です。 (1)testテーブルのデータが、 SQL> select id from test ; ID ---------- 3 5 11 551 のとき、select id from test where id between 1 and 4;を実行すると、 ID ------- 3 select id from test where id between '1' and '4';を実行すると、 ID ------- 3 11 となってしまいます。 別のケースで、 SQL> select id from test ; ID ---------- 3 5 11 551 C44433 aaa 6行が選択されました。 のデータの場合、 select id from test where id between 1 and 4;はORA-01722:数字が無効です　のエラーとなり、 select id from test where id between '1' and '4';だと ID ------- 3 11 となってしまいます。 自分の希望としては select id from test where id between '1' and '4'にて、 ID ------- 3 のみ表示をさせたいです。 (2)SQL> select id from test ; ID ---------- 3 5 11 551 C44433 aaa のとき、たとえば、 select id from test where id between '12' and 'DD'; を実行し、12以上でDD以下のデータを取得したいのですが、 (理想) ID ---------- 551 C44433 実際は、 ID ---------- 3 5 551 C44433 と出てしまいます。 仕様は上司が考えてるので、 テーブル構造にそもそも問題があるのならそれ相応の説明をしたいと思っています。 ですが、基本的にはSQLの条件文を変更したいのですが、 アドバイスをいただけたらと思います。 ちなみに説明の簡略化のためフィールドを少なくしていますので select RPAD(id , 10) from test where ～　のように select のあとに変換するのはできません。 実環境は基本的には select * from ～としたいので。 よろしくお願いいたします。
Oracleマスターのゴールドまでの資格を取得しようと一念発起して OracleのサイトのOracleマスター完全ガイドを読んでみたんですが、 まず、資格制度がなんだか複雑で、どうしたら良いのだかよくわかりませんでした。 あと、費用が凄い高い気がしますが・・・(Bronze の研修コース3日間で20万円とか？？？？)こんなに費用がかさむ資格なんでしょうか？ 合計するとゴールド取得までに100万円近くかかります？ひょっとして…。 ちょっとそれだと資金的に無理なんで諦めようかと思うんですが。
環境　vb6、access2000、oracle10g、OS:WinXP Pro accessの中にある30,000件のレコードをvb6でoracle10gに日常的にinsertしようと考えてます。(ボタンクリック時etc) insert into 『oracleのテーブル名』 select * from 『accessのテーブル名』 とは記述できないと思うのですが、30,000回 loop→insertさせると 15分くらい掛かります。何か処理速度を早くなる良い方法はありませんか？　　お知恵をお貸し下さい。宜しくお願い致します。
SQLの書き方について質問です。 VIEW（SQL）を作成した時に結果が以下のようになりました。 -------------------------------------- SEIHIN_CD　KOJO_CD　CAL_DATE　KEIKAKU -------------------------------------- 001111　　　　430　　　　20060724　　　　1000 001111　　　　430　　　　20060724　　　　0 001111　　　　430　　　　20060725　　　　0 001111　　　　431　　　　20060724　　　　0 本来なら、SEIHIN_CD,KOJO_CD,CAL_DATEの3つを主キーとしたいので 表の一番上の2行のうちKEIKAKU=1000の方を残しKEIKAKU=0の方を削除したいと思います。 （重複キーの一番上の行のみ残します） 削除したいというよりは本来なら下記のような抽出を行いたいです。 -------------------------------------- SEIHIN_CD　KOJO_CD　CAL_DATE　KEIKAKU -------------------------------------- 001111　　　　430　　　　20060724　　　　1000 001111　　　　430　　　　20060725　　　　0 001111　　　　431　　　　20060724　　　　0 SQL（PL/SQL？）の書き方が解らないのでどなたか教えていただけますと助かります。 文字制限がありますので説明が簡素になりますが、こちらのページを見てSQLを作成しています。 http://oraclesqlpuzzle.hp.infoseek.co.jp/7-64.html 以下が作成したSQLになります。 SELECT distinct a.SEIHIN_CD,a.KOJO_CD,b.CAL_DATE,decode(a.YMD,b.CAL_DATE,a.KEIKAKU,0) as KEIKAKU,b.CAL_WEEK,b.CAL_KBN from (select SEIHIN_CD,KOJO_CD,KEIKAKU,YMD from T_SEISAN_KEIKAKU) a,M_00_CALENDER b order by seihin_cd,kojo_cd,cal_date,keikaku desc カレンダーのテーブル=M_00_CALENDER 売上テーブル=T_SEISAN_KEIKAKUとなっています。 以上となりますがよろしくお願いいたします。
Oracle9i+VB6.0で開発をしています。 各店舗毎のデータを以下のように持っています。 T_詳細データ ============== 店舗CD｜項目CD｜売上 －－－－－－－－－－－ ００１｜００１｜１００ ００１｜００２｜８００ ００１｜００３｜２００ ００２｜００１｜７１０ ００２｜００２｜１１０ ００２｜００３｜２１０ ００２｜００４｜１００ ００３｜００１｜１２０ ００３｜００３｜１１０ ００３｜００４｜６２０ 店舗CD毎の最大売上の項目CDを取得したいのです。 店舗CD｜項目CD｜売上 －－－－－－－－－－－ ００１｜００２｜８００ ００２｜００１｜７１０ ００３｜００４｜６２０ SELECT 　店舗CD , 　MAX(売上) FROM 　T_詳細データ GROUP BY 　店舗CD としてしまうと、どうしても項目CDが取得できません。 （当たり前ですが・・・） MAX() OVER(...)というのを使うのかな、と思ったのですが うまくできませんでした。 アドバイスよろしくお願いいたします。
Oracle 10g SQL の再受験を数日後に控えています。。 要点ポイントなどがのっていたりする、試験前にチェックするといい お勧めのサイトはありますか？ よろしくお願いします。
表領域内のテーブルの使用容量がしりたいのですが（割り当て容量はわかるのですが）、実際に使用されている容量はどうすればわかりますかおしえてください。
Oracle10gのインストールについてご質問ですが インストール時に「Standard Edition」、「Enterprise Edition」の 選択があるのですがこれはどちらを選択すればよいのでしょうか？ 「Standard Edition」で購入しても「Enterprise Edition」で インストールってできちゃいますよね？
いつも世話になっています。 SQLLOAERでTABLEにデータをロードさせたいのですが SQL*Loader-350: 行64に構文エラーがあります。 ","または")"ではなく"("が見つかりました。 とエラーになりロードすることができません。 CTLファイルは FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"' TRAILING NULLCOLS ( AAA, bbb, ccc, ccc(ddd), ) このような記述になっています。 おそらくccc(ddd)の「括弧」が原因だと思うのですが解決方法が分かりません。 どなたかご教授願います。
はじめまして、ご存知の方ご教示ください。 当方、Oracleの勉強の為、OracleのDBを作成してみようと思いやってみました。 苦労して何とかテーブルまで作成できたつもりなのですが、VB６で OpenDatabaseの関数を使用後下記のエラーが発生してしまいます。 　オラクルセッションおよびデータベースオープン時にエラーが発生しました。 　エラー番号:440 　エラー内容：接続できません。ORA-12154:TNS:接続された接続識別子を解決できませでした ソースは Dim A_OSE As Object Dim A_ODB As Object Set A_OSE = CreateObject("OracleInProcServer.XOrasession") Set A_ODB = A_OSE.OpenDatabase("EMP", "SCOTT/tiger", 0) です。詳しい方ご教示いただけないでしょうか？ 何かDBの方でも確認する個所がありましたらご教示いただけないでしょうか？ 尚、フリーのツールで接続を行うと接続できて、各データの内容も参照でします。 よろしくお願いします。 ユーザー名：SCOTT パスワード：tiger オブジェクト名:EMP バージョン OS:Win2000ProSP4 VB6 SP6 Oracle Database 10g Enterprise Edition Release 10.2.0.1.0
select A,B from tableC group by A, B として、最後の1行に合計を出すSQLを作りたいのですが、 可能でしょうか？
ZAA.SQLというsqlファイルを作成し、 sqlplusでその作成したファイルを流し, DB上に新しいテーブルを作成という処理をしたいのですが、 splplus上でどう記述すればいいのかわかりません。 自分なりに調べながらやってはいるのですが 現在もわからす、ここに書かせていただきました。 宜しくお願いします。
質問のタイトルどおりなのですが、Oracle10gのリリースの確認の仕方をどんな方法でも、いくつでもいいので教えてください＾＾； お願いします(;´д⊂)
毎度お世話になります。 2つの異なるテーブルから 同じような結果をselectするのですが 可能ならば一発のSQL文で結果を得たいと考えております。 以下のように繋がった結果を得ることは可能でしょうか？ ご教示いただければ幸いです。 宜しくお願いいたします。 A表へのselect結果１ あ | い ------------- (1) | (1) (1) | (1) B表へのselect結果２ あ | い ------------- (2) | (2) (2) | (2) 本来ほしい結果 あ | い ------------- (1) | (1) (1) | (1) (2) | (2) (2) | (2) ※単純に繋がった結果を得られれば満足です。
ORACLE 10g SQLをはじめて受験して失敗しました。 勉強は istudyでは全問100% 有名なwebサイトの問題でも90%以上　とれるくらいまで繰り返し学習しました。 受験しての成績は　26点・・ 後2問・・・。 勉強方法を見直そうと考えているのですが、良い勉強法はありますか？ 今回は黒本を使っていました。（参考書として）
PL/SQLについて、何点か質問があります。 どれかひとつでも構わないので、皆さんのお知恵をお貸しください。 (1)ある配列変数に格納されている要素を全てDBMS_OUTPUT.PUT_LINE();で表示することってできますか？ （PHPのecho var_dump();のような感じで) (2)ある配列変数に使用されている添え字（もしくは添え字の数）を取得することってできますか？ (3)ORA-01403エラーはカーソルのデータが存在しない場合に、発生するケースはありますか？ よろしくおねがいします。
plsqlのコレクション(table)を使用してテーブルの更新を行う場合に、 コレクションのレコードを構成する項目数が多かったり、レコード件数 自体が多かったりすると、更新時のパフォーマンスが著しく低下する のですが、コレクションに大量にデータを追加するのはあまりいい 方法ではないのでしょうか？
みなさん、こんにちは。 殆ど素人に近いレベルですが、下記の様な事を実施したいと思い色々 検索しています。 過去事例を参照しましたが、見つかりませんでした。 どこか良いリンク先等あれば教えていただきたいと思います。 （現状) 自分のpcからms-Accessでデータベースサーバーのデータを参照しています。 pc:xp db:ortacle10g(windows 2003サーバー) (やりたいこと) Accessでは無くWebで参照したい。（参照のみで書き込みは不要です） （やったこと) 自分のpcに Apache2.2とPHP5をインストールしました。 index.htmlを作成しhtmlを少し勉強しました。 ホームページらしいのは動作を確認しました。（リンク集の画面） またindex.phpも正常に動作しています。 （次のステップ） htmlからoracleDBのテーブルを読み込み、Webで表示させたい。 sqlで複雑な問い合わせは取り合えづ次にして、なんとか指定した tableのデータを表示したい。 何か参考になるホームページ等ご存知であれば教えてください。 よろしくお願いいたします。
OSがWindows2000プロフェッショナルとXPプロフェッショナルのPCがそれぞれあります。今回はWindows2000の方へオラクルをインストールしました。 ブラウザで閲覧可能なDatabase Controlを利用したいのですが、http://ホスト名：ポート番号/emを指定しても表示されませんでした。 portlist.iniを調べ同じようにURLを入力してもできません。 ローカル環境ではDatabase Controlは使用できないのでしょうか？ ローカル環境で設定し、Database Controlを使用できるのであれば、その設定のコツ、注意点等をご教授願えませんでしょうか。よろしくお願いいたします。
いつも利用させて頂いています。 ある業務でAccessの.mdbファイルを Oracle8.1.7への移行作業をしているのですが、 Accessの各データ型に対する Oracleのデータ型を選ぶのに、どれがいいのか判断がつきません。 またフィールドサイズ等の決め方もわかりません。 Oracle Migration Workbenというツールを使ってもいいのですが、 自動で判別される為に、説明を求められると出来ないので 自分でテーブル定義を決めて行きたいと考えています。 Oracle使い始めてまだまだ勉強不足ですが、 上記のような移行に関しての記述されているURLがあれば教えて下さい。 (Oracle8i～Oracle10gであれば嬉しいです。) また、移行に関しての注意点があればあわせてご教授ください。 宜しくお願い致します。
インテルのクワッドコアのＣＰＵが価格改定により安くなりましたので 新たにCore 2 Quad Q6600搭載のＰＣを購入しORACLE9.2でＤＢサーバーとして使用しようと思っているのですが、ORACLEのみの使用ではクワッドコアの恩恵を受けられないでしょうか？ おなじくらいの値段のデュアルコアのCore 2 Duo E6850の方が高速に動作するでしょうか？ また、サーバー用途にはやはりXenon等のサーバー用ＣＰＵ搭載機の方がいいのでしょうか？ 社内テストサーバーにする予定なのでサーバー用じゃないマシンでもいいような気がするのですが・・・。
いつもお世話になります。 oracle8.1.7がインストールされている Linux サーバに関して、現在メモリ使用量が逼迫しているためか、 時々OSの処理が重くなり、応答が無くなる事が多々発生して困っています。 Database:Oracle 8.1.7 Enterprise Edition Linux:RedHat Linux 6.2 freeコマンドで調べたところ、 --------------------------------------------------------------------------- [root@sample dir1]# free total used free shared buffers cached Mem: 2073296 1996752 76544 1575952 112904 813364 -/+ buffers/cache: 1070484 1002812 Swap: 2097136 2536 2094600 --------------------------------------------------------------------------- topコマンドで調べたところ(Shift + M でメモリ使用順としました) --------------------------------------------------------------------------- 6:05pm up 5:06, 2 users, load average: 0.22, 0.11, 0.10 69 processes: 66 sleeping, 1 running, 0 zombie, 2 stopped CPU states: 17.3% user, 1.4% system, 0.0% nice, 81.1% idle Mem: 2073296K av, 1996832K used, 76464K free, 2385012K shrd, 110684K buff Swap: 2097136K av, 2632K used, 2094504K free 816100K cached PID USER PRI NI SIZE RSS SHARE STAT LIB %CPU %MEM TIME COMMAND 1672 oracle 0 0 848M 848M 847M S 604M 0.0 41.9 13:47 oracle 1710 oracle 4 0 458M 458M 456M S 445M 1.5 22.6 13:03 oracle 1767 oracle 6 0 350M 350M 348M S 337M 2.3 17.3 10:17 oracle 1764 oracle 6 0 347M 347M 342M S 331M 2.3 17.1 4:38 oracle 1915 oracle 16 0 84564 82M 80532 S 68M 29.2 4.0 0:59 oracle 1688 oracle 0 0 74804 72M 73592 S 71M 0.0 3.5 0:36 oracle 1677 oracle 0 0 62808 61M 61100 S 46M 0.0 3.0 0:44 oracle 848 oracle 0 0 39160 38M 37960 S 36M 0.0 1.8 0:01 oracle 854 oracle 0 0 30092 29M 29632 S 25M 0.0 1.4 0:01 oracle 852 oracle 0 0 14592 14M 14144 S 9.8M 0.0 0.7 0:02 oracle --------------------------------------------------------------------------- 　※10件のみとしました 上記となり、恐らくoracleがメモリ使用量を圧迫し、Swap領域も逼迫した場合にサーバ処理の 応答が無くなると推測しています。 上記を改善するために、init.ora 内の以下の項目を編集しようと考えていますが、数値を決めかねています。 サーバがフリーズ状態(僅かながらもゆっくり動いている)原因について、 何でも結構ですので、アドバイスいただけたらと思います。よろしくお願いいたします。 open_cursors = 1000 max_enabled_roles = 30 db_block_buffers = 64000 shared_pool_size = 524288000 large_pool_size = 1048576 java_pool_size = 0 log_checkpoint_interval = 10000 log_checkpoint_timeout = 1800 processes = 150 log_buffer = 532480 db_block_size = 8192 sort_area_size = 1048576 sort_area_retained_size = 1048576
毎日決まった時間に同じＳＱＬを実施したいと考えてます。 スケジュール登録みたいなイメージなのですが、 どのように実施すればよろしいのでしょうか？ ＯＳは、ソラリスです。
select max(COL_1) from TBL where COL2 = 'hoge'; というようなSQLがあり、この条件での選択されるレコードが存在しないとき max(COL_1)の値を"0"(ゼロ)にしたいのですが。。。 select nvl(max(COL_1),NULL,0) from TBL where COL2 = 'hoge'; と修正しても結果は変わらず「レコードが選択されませんでした。」 となってしまいます。 他にdecodeや、countも試したのですが、力量不足のため、上手くいきません。。 どなたかご教授願います。 Oracle 9i で SQL*Plus 使用しています。
これからSQLを学習する人（初心者）にとって最も学習しなければならない重要な部分について、課題を作成する上で考えているのですが、実務で重要な学習はどういった部分になるのでしょうか？ 私自身、実務経験がありませんのでいまいち実務で使われるSQL文というのが分からないので、経験のある方のご意見をいただけると幸いです。 よろしくお願い致します。
Oracle10gのテーブルをODBC経由でAccess2002にリンクテーブルを作成しようとしました。 しかし、「テーブルのリンク」画面に複数あるはずのテーブルが１つしか表示されずリンクテーブルが作成できません。 Oracle9iのテーブルは正しく表示されます。 Access2000の環境下で同様の不具合が発生した人がおり、その人はOffice2000のサービスパック（１・２・３）をあてることで不具合が解消されたそうです。 同様にOfficeXPのサービスパック（１・２・３）をあてたのですが不具合は解消されませんでした。 誰かご存知の方はいらっしゃらないでしょうか。 よろしくお願いします。 動作環境 　OS：Windows XP Pro 　Oracle Client：10g 　Access(Office)：2002(XP)
初心者です。　宜しくお願いいたします。 Accessで選択クエリーでORACLEのDBを表示してデータの修正をやっていますが、選択クエリーで複数をリンクさせると更新ができません。更新は１つのＤＢなのですが、なにか方法があるのでしょうか。更新クエリーならできるのでしょうか。　例）ＡとＢをリンクしてＢに更新。
こんにちは。 最近ずっと仕事でシステムのレスポンスの改善を行っています。 ログをとり、VIEWが遅いのはわかりました。 INDEXを貼ってみたりヒント文を使ってみたりしたのですが、 なかなか早くなりません。 コストが現在2693あります。 これを100未満にしたいのですが・・・ 使っているテーブルは２つあり、 両方ともデータ件数は100万件ほどあります。 それぐらいの件数になると、コストはどうしても増えてしまうのでしょうか？ こうしたら早くなるのでは？等の 案があったら教えてください、お願いします。 VIEWの中のSQL部 SELECT TP.STATUS , TP.DENPYO_NO, TP.EDABAN, JH.USER_ID FROM (SELECT P.DENPYO_NO, P.EDABAN, P.STATUS FROM TBL_CHOHYO_KANRI P WHERE P.HAKO_KBN = '99') TP ,(SELECT J.DENPYO_NO, J.EDABAN FROM TBL_DENPYO_RIREKI J) JH WHERE JH.DENPYO_NO = TP.DENPYO_NO AND JH.EDABAN = TP.EDABAN ; 実行計画 ---------------------------------------------------------- 0 SELECT STATEMENT Optimizer=ALL_ROWS (Cost=2693 Card=33854 By tes=1117182) 1 0 HASH JOIN (Cost=2693 Card=33854 Bytes=1117182) 2 1 TABLE ACCESS (FULL) OF 'TBL_CHOHYO_KANRI' (TABLE) (Cost=2 027 Card=127611 Bytes=2424609) 3 1 INDEX (FAST FULL SCAN) OF 'IDX$$_2CCE0006' (INDEX) (Cost =157 Card=203124 Bytes=2843736) 統計 ---------------------------------------------------------- 11 recursive calls 0 db block gets 9812 consistent gets 11039 physical reads 0 redo size 7925659 bytes sent via SQL*Net to client 147915 bytes received via SQL*Net from client 13403 SQL*Net roundtrips to/from client 0 sorts (memory) 0 sorts (disk) 201021 rows processed
oracle9iのデータを外部ファイルにはきだしてバックアップをとりたいです。 基本的な質問なのですがoracleではける外部ファイルはどのようなものがあるのでしょうか？ CSV以外にも色々とあるものなのでしょうか？
Access上でオラクルのテーブルのリンクを設定しようと していますが、「ORA-12504」のエラーが表示されてしまい 接続できず、困っています。 【エラー詳細】 ODBC-呼び出しが失敗しました。 [Oracle][ODBC][Ora]ORA-12154 TNS～ (#12154)[Microsoft][ODBC Driver Manager]ドライバのSQLSetConnectAttrは失敗しました。(♯0)[Microsoft][ODBC Driver Manager]ドライバのSQLSetConnectAttrは失敗しました。(#0) なお、SQLPlusで接続ができていますし、ODBCアドミニストレータ の接続テストも成功します。 Accessで問題があるのでしょうか？ 【環境】 OS：WinXP x64 Access：003 Oracle：サーバ　10g（10.2.0.1） for 64-bit 　　　：クライアント　10g（10.1.0.2）　for 32-bit 　　　　※64-bitのオラクルクライアントはAccessが 　　　　　ドライバを認識しないため使用できませんでした。 何かわかりましたらご教授ください。 よろしくお願いします。
Ａ　Ｂ　　Ｃ －－－－－－－－－ １　１０　００１ １　１０　００５ １　１０　００９ １　２０　００１ １　２０　００２ １　２０　００４ １　２０　００７ のようなテーブルがあって、ＳＱＬ文で集計し、 count ３ count ４ というように、値を出したいのですが、 どういうｓｑｌ文を書けばよいでしょうか？ アドバイスお願いします。
表結合で左の表に無いフィールドを表示させるために右の表を使って表示させるSQLですが まず件数を調べてみたところ件数が下の表結合が多かったのでびっくりしました。 左にないフィールドを表示させたいだけなので、どうして増えるのかもわからず困っています。 select count(*) from l_hyo; select count(*) from l_hyo l left join r_hyo r on l.cd=r.cd;
環境：Oracle9i 9.2.0.1.0 規模：１日の最大セッション数が１２０程度 　　　２４H稼動 データファイルの拡張を行いましたが以下のエラーで拡張できませんでした。 ORA-01144「ファイル・サイズ（7208960ブロック）が最大値4194303ブロックを超えています。」 調査したところ、ブロックサイズが８KBだったこととデータファイルのリサイズが50GBにしようとしていた為に発生したエラーでした。 対応としては１つの表領域に同じサイズのデータファイルを追加することで対応しようと思っています。 今回の拡張では調査不足ということになりました。。 次回の拡張では不足がないようにしたいのですがデータファイルの追加でなにか問題がありますでしょうか？（サイズは30GBです） いろいろ調べているとデータファイルサイズが４GBの倍数だとデータが破壊されるなどの恐ろしい情報があり、非常に不安です。 小さなことでも結構ですので事例などがありましたらご教授お願いします。
こんにちわ、いつもお世話になっております。 私は今ＯＲＡＣＬＥを学んでいるのですが、ObjectBrowser　上で、更新時間を指定して、その時間内に更新されたデータを検索する方法・もしくはソフトを探しています。 例えば Ａ,Ｂ,Ｃ,Ｄ,Ｅ という５つのテーブルがあったとします。 12時10分に　Ａ,Ｃ　を登録/更新。 12時20分に　Ｅ　を登録/更新。 この場合、検索条件を　12:00~12:30　とした場合に、Ａ,Ｃ,Ｅのテーブルが検索される感じです。 知っている方がおりましたら、よろしくお願いします
次のようなＳＱＬ文で、テーブル名を変更しようと思っているのですが、誰かがアクセス中（selectなど）だった場合は、どうなるでしょうか？ alter table XXX rename to YYY; また、このような場合の、テストはどうすればよいでしょうか？ よろしくお願いlします。
ORACLEのデータベースをACCESSを使用してODBCで リンクを張り、テーブルの管理をしています。 環境は OLACLE 10g 10.1.0.2.0 ACCESS 2007 WinXP SP2 ODBC:Oracle in OraClient10g 10.01.00.02 OLACLEのテーブルにNVARCHAR2,CLOB型のフィールドを作成し ACCESSでリンク後に、そのフィールドにデータを入力すると 「ORA-01461:LONG値はLONG列にのみバインドできます。」 というエラーがでます。 テーブル定義は CREATE TABLE test( id NUMBER(5) PRIMARY KEY, data1 NVARCHAR2(1000), data2 CLOB ) といった感じです（実際はもっと多いですが・・・） このテーブルでdata1のフィールドに 「あああ」と入力するとエラーがでるのですが、 「aあ」と入力するとエラーはでずに、保存可能です。 「aああ」だと同じくエラー、 「aaああ」だとＯＫ （「a」は半角) 調べたところMicrosoftのODBCはNVARCHAR2型やCLOB型には 対応していない、と言うことはわかったのですが、 ORACLEのODBCでもダメなのでしょうか・・・？ UNICODEを使用するので、どうしてもNVARCHAR2が必要なのですが、 対応策をお願いします
desc テーブルで表示されるのは、フィールド名と型だけですが、default値やキーなどを表示させる方法が知りたいです。
フィールドをデフォルト0にする方法が知りたいです。 以下のようなサンプルがります。 drop table test_a; create table test_a ( namevarchar2(10), anumber(1), bnumber(1), cnumber(1) ) insert into test_a (name) values ('AAA'); insert into test_a (name,a) values ('BBB', NULL); insert into test_a (name,a,b) values ('CCC', NULL,NULL); select * from test_a; この状態では、a,b,cはNULLですが、a,b,cの値をデフォルト値で0にしたい為、 update test_a set a = 0, b = 0, c = 0; として、データを直して、次回から insert into test_a (name) values ('DDD'); とすると、nameがDDDの時もa,b,cが0となるようにテーブル定義を変えたいのですが 既存のテーブルをそのままで、途中から変更する方法が知りたいです。
はじめまして。 環境 WinXP(Pro)/Oracle9i まず、やりたいことは和暦の年号と日付で別々になっているフィールドをファンクションで西暦に直し、その対象とする西暦をカーソル処理で１行つかって抽出したいのです。 具体的には以下の例ですが ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^(ファンクション FUNCTION FNCWSDATECNV(STRGEN IN VARCHAR2) RETURN DATE IS (一部省略しますが、A.WGENを和暦のアルファベット記記号に変換編集する[M/T/S/H]。 　　　そして、文字列形式に連結してS10/12/10として西暦に変換して戻り値にセット ([S10/12/31 -> 1935/12/31]となる。) --------------------------------(カーソル処理定義 DECLARE SELYMD DATE; CURSOR CRSL1 IS SELECT A.SELID,A.SELNAME FROM KOJIN A WHERE FNCWSDATECNV(A.WGEN, A.WDATE) < SELYMD; ---------------------------------(実行 BEGIN SELYMD := GET_SELYMD; -- パラメータから得られた変数 OPEN CRSL1; FETCH CRSL1 INTO VAL_SID, VAL_SNAME; LOOP EXIT CRSL1%NOT FOUND; (省略) END LOOP; END; --------------------- 初回のときは、データは50件ならばうまく抽出できましたが、２０万件あるとFETCHしたときには時間がかかると思うので、 CREATE INDEX KOJIN_IDX ON KOJIN(SELID); としておくことで通常SELECTすると早くなりましたが、 上記の定義したカーソルにはファンクションが効かず、０件として終わってしまいます。 また、カーソル１行ずつ読み込むのは別テーブルへ追加する際、必要なデータを対象とする別表に参照するためです。 カーソル上でTO_CHAR(DECODE(A.WGEN,0,'M',・・・),'JAPANESE・・・ というような形式にしてもうまくいきませんでした。(カレンダによるエラー) どうしたらよいのでしょうか？よろしくお願いします。
基本的な質問ですが ライブラリオブジェクト　って何でしょうか？ 他のＨＰを見ても、今ひとつよく分かりませんでした。
ASPで作成したページからストアドプログラムを呼ぶ プログラムを作成しているんですが、 ファンクションの引数で指定するOUTの使い方がわかりません。 OUTに指定した引数(変数)？に値を代入しておくと、 ファンクションの呼び出し元にその値が返るっていう感じ なんでしょうか？ 大体でいいので説明してくれる方お願いします。 参考になるサイトなどでもいいのでお願いします。
こんばんわ。 いまORACLE9iで， DOSコマンドでエクスポートを実行しています。 ところが不必要なテーブルまですべてエクスポートしてしまっていて， 時間がかかりすぎています。 実行途中でDOSを強制終了したら， ORACLEのほうに影響(障害?)が出るでしょうか? それとも何も影響がないでしょうか? 教えてください。よろしくお願いします。
こんばんは。質問です！ 例えば、 テーブルを結合して、以下の様な結果が返ってくるとして、 製品コード　　取扱店 ------------------------- 001　　　　　　あああ 001　　　　　　いいい 001　　　　　　ううう これを 製品コード　　店１　　　　店２　　　　　店３ ---------------------------------------------- 001　　　　　　あああ　　　　いいい　　　ううう と１レコードにするにはどうしたら、いいでしょうか？？ 困っています。お願い致します！
たとえば、以下のA01KINGAKUテーブルがあったとして KAISHA CHAR(2) (主キー) KINGAKU NUMBER(15) このテーブルに1万件のデータが入っていて 各レコードのKAISHA項目は、全て 'A1' だったとしたとき Select * from A01KINGAKU where KAISHA = 'A2' としたときに、 インデックスをみれば、A2が存在しないというのは すぐにわかりそうなものですが、 Oracle 10gで、これをしたら、全件検索されてしまいました。 （統計情報は直前に取得済みです） たぶん、インデックスの値に散らばりがないので インデックスを使わないという判断になったのだと思いますが インデックスを強要する術はないでしょうか？ /*+index(A01KINGAKU インデックス名)+*/ とすればよいのでしょうが こうしたことを多数のテーブルについてやりたく いちいちインデックス名を調べるのがわずらわしく インデックス名がいらないヒントの方法あるいは ヒントとはまったく違った方法を探しています。 (そもそもそんなもの主キーにするなとか、質問の意図が読めないというご意見もあるかと思います。 元は、ALLKINGAKUテーブルという複数のKAISHAコードを扱うテーブルがあって、これを処理速度向上のため、 KAISHAコードごとにテーブルを分割し、 ALLKINGAKUテーブルを廃止して、代わりに select * from A01_KAISHA union all select * from A02_KAISHA ... としたALLKINGAKUビューを作成したと思ってください。 この時、Select * from ALLKINGAKU where KAISHA = 'A02'としたときに、ビュー上で、A01_KAISHAまで全件検索されてしまったことに 端を発している質問です）
お世話になります。 お恥ずかしい話、パッチは定期的に当てているものの 長年(5年?)放置しているDBサーバがありまして 最近特に動きが遅くなって来たとの話になっております。 何から手を付けたらよいのかもよく分かりませんが "v$"や"DBA_"で始まるテーブルなどを見ると 断片化とかいろいろな状態を判別できるようなので 幾つかにselectをかけてみたのですがデータが入っておりませんでした。 動き始めてこの方、 統計情報をとった事がないせいかとも思いますが あまりanalyzeはかけない方がいいとも聞くので どうしたものかと困窮しております。 ▼以下の2点ご教示いただけますでしょうか？ ・とりあえず統計情報を取得して、判断材料を集めるのがよいでしょうか？ ・こういった状態のDBを、今後はきちんとメンテナンスするとして 　どういったことを行ってゆけばよいでしょうか。 　※参考になりそうなURLもあれば幸いです。 宜しくお願いいたします。　
Oracleではビットごとの論理演算はできるでしょうか？ たとえば、 select * from xxx where (flags & 32)=0 というようなことをやりたいのですが、可能でしょうか？
Oracleでは、テーブルの各項目にコメントは付けられないのでしょうか？ 例えば、SYOUHIN_C には「商品コード」というコメントを振って、 後でテーブルレイアウト表を作成する際に、取得したいのです。 CREATE TABLE時 や 後からALTER でも構いません。 よろしくお願いします。
WindowsXPに Oracle10gの無料版が入っています。 テーブルは既に作成しているのですが、データをインポートさせたく SQLを列記してDOSプロンプトから一度に登録させたいのですが、どのようにコマンドすればよいのでしょうか？ sqlplusでログイン create table yaoya ( namae varchar2 (100) shohin varchar2 (100) num number (8,2) ); でテーブル作成している。 test.sqlを以下のように作成しました。 insert into yaoya (namae, shohin, num) values ('田中', 'りんご', 10); insert into yaoya (namae, shohin, num) values ('田中', 'みかん', 8); insert into yaoya (namae, shohin, num) values ('田中', 'バナナ', 15); insert into yaoya (namae, shohin, num) values ('伊藤', '梨', 12); insert into yaoya (namae, shohin, num) values ('伊藤', 'イチゴ', 20); insert into yaoya (namae, shohin, num) values ('伊藤', 'メロン', 1); insert into yaoya (namae, shohin, num) values ('松田', 'スイカ', 3);
RMANのlist backup コマンド で バックアップ・セットのリストが表示されます。 この量が多いようなので、減らしたいと考えてます。 手動では無く、自動で減らしたいです。 どのようにすれば減らせるか教えて下さい。 設定ファイル等で減らせる？？
SQLPLUSでローカルのOracle10gに接続を試みているのですが コマンドプロンプトで sqlplus USER/PASS では接続できるのですが、 sqlplus USER/PASS@HOST で接続できないんです。 環境は下記となっております。 Windows XP Oracle10g（10.1.0） ======【エラー内容】================================== C:\Documents and Settings\XXXX XXXX>sqlplus USER/PASS@orcl SQL*Plus: Release 10.1.0.2.0 - Production on 火 7月 3 01:56:57 2007 Copyright (c) 1982, 2004, Oracle. All rights reserved. ERROR: ORA-12523: TNS:listener could not find instance appropriate for the client connection ======【listener.ora】================================== # listener.ora Network Configuration File: C:\oracle\product\10.1.0\Db_1\network\admin\listener.ora # Generated by Oracle configuration tools. SID_LIST_LISTENER = (SID_LIST = (SID_DESC = (SID_NAME = PLSExtProc) (ORACLE_HOME = C:\oracle\product\10.1.0\Db_1) (PROGRAM = extproc) ) (SID_DESC = (SID_NAME = ORCL) (ORACLE_HOME = C:\oracle\product\10.1.0\Db_1) (PROGRAM = oracle) ) ) LISTENER = (DESCRIPTION_LIST = (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC)) ) (ADDRESS_LIST = (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521)) ) ) ) ======【sqlnet.ora】================================== # sqlnet.ora Network Configuration File: C:\oracle\product\10.1.0\Db_1\network\admin\sqlnet.ora # Generated by Oracle configuration tools. SQLNET.AUTHENTICAION_SERVICES=NONE NAMES.DIRECTORY_PATH= (TNSNAMES, EZCONNECT) ======【tnsnames.ora】================================== # tnsnames.ora Network Configuration File: C:\oracle\product\10.1.0\Db_1\network\admin\tnsnames.ora # Generated by Oracle configuration tools. ORCL = (DESCRIPTION = (ADDRESS = (PROTOCOL = TCP) (HOST = localhost) (PORT = 1521) ) (CONNECT_DATA = (SERVER = SHARED) (SERVICE_NAME = orcl) ) ) ======【tnsping】================================== Used TNSNAMES adapter to resolve the alias Attempting to contact (DESCRIPTION = (ADDRESS = (PROTOCOL = TCP) (HOST = localhost) (PORT = 1521)) ( CONNECT_DATA = (SERVER = SHARED) (SERVICE_NAME = orcl))) OK (40 msec) ======【LSNRCTL>status】================================== Listening Endpoints Summary... (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(PIPENAME=\\.\pipe\EXTPROCipc))) (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=127.0.0.1)(PORT=1521))) Services Summary... Service "ORCL" has 1 instance(s). Instance "ORCL", status UNKNOWN, has 1 handler(s) for this service... 実は当初PHPから接続しようと色々やっていたのですが、sqlplusで まともに接続できていないことが判明し、自分でも色々調べてみた のですが、どうしてもうまくいかず質問させていただいた次第です。 初心者ですが、どうかよろしくお願いいたします。
Oracle MasterのSilver 10gを取得しようと思っているのですが、 取得までの流れについて教えてください。 Silver 10gを取得するためにはBronze 10gの科目も取得する必要が あるのでしょうか。 Silver DBA10g一つを取得すればSilver 10gに認定されるのでしょうか。 よろしくお願いします。
サーバのOSにwindows 2003 serverの英語版を使用しているのですが、そのサーバにOracleを導入する予定です。Oracleについて初心者なので教えてください。 (1)Oracleにも英語版や日本語版といったものがあるのでしょうか？ (2)(1)がyesの場合、OSとあわせて英語版にする必要がありますか？ (3)(2)がyesの場合、Oracle英語版に関するマニュアルや操作方法の本で日本語でかかれたものがあれば教えてください
PL/SQLで、Functionの中で実行するselect文のWhereに、Functionの 引数で受けとった値をセットしようとしています。 この引数が文字列(VARCHAR2型)の場合、どのようにWHEREで、記述したらよいのでしょうか？ ご教授のほどをよろしくお願いします。 CREATE OR REPLACE FUNCTION Fn_TBL_AAA (psCODEIN VARCHAR2) IS CURSOR TBL_AAA_CUR IS SELECT * FROM TBL_AAA WHERE BBB = psCODE ; TBL_AAA_REC TTBL_AAA_CUR%ROWTYPE; 　　　　　　： 　　　　　　： ※上記のように記述すると、実行ではエラーが発生しないのですが、 　取得したい結果が返ってきません。TABLE(TBL_AAA)のBBBは、 　VARCHAR2なので、通常のSQL*PLUSのSELECT文ではBBB = psCODE 　はBBB = 'psCODE'のように [']で括るのですが、PL/SQLの 　FUNCTION内ではどのように記述すればよいのかが 　わかりません。 以上、よろしくお願いいたします。
みなさん今日は。 掲題の通り、PL/SQLでDELETEを行った際に、削除された行数を変数に 格納したいのですが、方法がわかりません。。 どなたかご教授願えますでしょうか。 「事前にカウントした件数」と「削除した件数」が 一致していれば、commitを行うという仕様を実現する必要があるためです。 いろいろ調べた結果、下記ページが参考になりそうなのですが 如何せんPL/SQLは初心なもので、一朝一夕には読み解くことができませんでした。；＿； <http://www.gopython.net/doc/pos823/plpgsql-state … なお当方、CやJAVA、シェルの経験はあるので、プログラミングに関してはある程度理解しています。 宜しく御願いいたします。
大量にデータを更新するテーブルの統計情報の取得タイミングについてついて質問があります。 該当のテーブルはワークテーブルでテーブルの1/3程の大量データを毎回delete,insert,selectの順番で処理をおこなっています。 大量のデータを毎回更新しているのでselect文の際に統計情報が古いため実行計画が正しくなく処理が遅くなる可能性があるのでは無いかと心配しております。 統計情報は、取るべきでしょうか？取る場合は何時のタイミングで取るべきでしょうか？ Oracle 9iを使用しています。 宜しくお願い致します。
はじめまして。お世話になります 環境：oracle10g、ObjectBrowser 実行したいこと： ACCESSのmdbファイルのテーブルをoracleに移したいです。 データに関しては別の方法で可能なのですが テーブル定義の移行がうまくいかずに悩んでいます ObjectBrowserのインポート機能では移すことはできないのでしょうか？ mdb、mdeで試してみましたがうまくいきませんでした。 ログにはエラーとして IMP-00037: キャラクタ・セット・マーカーが不明です とでます。 ご存知の方ご教授お願いします。
otn見れます？
質問させていただきます。 sql*plusを使用して以下のような簡単なテーブルを作成しました。 　create table XXX_TBL ( NUM NUMBER(3), NAME CHAR(5)); データをINSERT後、SELECT * FROM XXX_TBLで内容を表示したところ、 以下のように表示されました。 　NUM　　　　　　　　　　　　　　NAME 　－－－－－－－－－－　－－－－－－－－－－－－－－－ 　　　　　　　　　　　　　　　1　　test NAMEはCHAR(5)で作成したにもかかわらず、－－－の 数が15もあります。 oracle9iでは、CHAR(5)の場合の－－－の数は5でした。 上記例では、2項目しかないためsql*plusで出力しても 気になりませんが、項目数を増やし、またカラムサイズを 大きくした場合に、見づらくなってしまいます。 何らかのパラメータの設定を変更すればよいのかと思い、 いろいろと調べて見ましたがわかりませんでした。 ご教授願います。
文字列の前後の全角空白を除去するのに trimが使えると思っていたのですが、できませんでした。 （半角なら取れるのですが・・・） select trim('　あいうえお　') from dual; 何とか前後の全角空白を除去したいのですが、 何か方法はないでしょうか。
初期化ファイルに関して質問です。 環境は、 Oracle10g Enterprise Edition Release 10.1.0.2.0 です。 [OracleHome]\Admin\[SID名]\pfile 配下に、init.ora があると書いてあったのですが、 その配下に実際にあったのは、 init.ora.75200594013 と、言うファイル名のファイルでした。これを書き換えればいいのでしょうか？ また、実際に変更したい初期化パラメータは LOG_BUFFER の値だったんですが、このファイルの中にありませんでした。 このファイルのほかに、初期化パラメータを指定できるような方法があるんでしょうか？
こんにちは。 Oracleのチューニングについてお伺いします。 本番データをImportしてテスト環境を作成し、 SQL文を変更しての速度アップのチューニングを行っています。 テスト環境では問題なく速度向上ができましたが、 本番でやったところ思ったような速度向上ができませんでした。 実行計画を見るとやはり違っていますので、ここらへんが問題とは思いますが、原因不明のため本番でのテストも仕方なくしています。 この先PL/SQLなど複雑に呼び出している部分があり、この部分に踏み込まなければいけない状況まできていますが、本当はテスト環境で何とかしたく思っています。 そのような状況ですが、テスト環境を使っての何か良いデバック方法や対策などご存知の方いましたらご教授願いたく思っております。 Oracle8i/VB6.0環境です。
select A.NO, A.NAME, count(B.TEN) FROM T1 A, T2 B GROUP BY A.NO ORDER BY 3 DESC 結果として以下のようになってほしいのですが、どのようにSQLを書けばよいのでしょうか？ 結果 NO | NAME | TEN ---+------+----- 3 + 上村 + 40 1 + 吉田 + 11 2 + 浅野 + 6 T1テーブル NO | NAME ---+-------- 1 + 吉田 2 + 浅野 3 + 上村 T2テーブル NO | TEN ---+-------- 1 + 10 2 + 5 3 + 0 1 + 1 2 + 1 3 + 40
データベースに接続できません！！ 「tnsnames.ora」、「listener.ora」、「sqlnet.ora」の内容は以下になっております。いろいろ調べてみて、これでいいとは思うのですが、「ORA-12545 ターゲット・ホストまたはオブジェクトが見つかりません。」というエラーが出てしまい接続できません。 DBはOracle10g Release1を使用しています。 【tnsnames.oraの内容】 ORCL = (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521)) ) (CONNECT_DATA = (SERVICE_NAME = orcl) ) ) EXTPROC_CONNECTION_DATA = (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC)) ) (CONNECT_DATA = (SID = PLSExtProc) (PRESENTATION = RO) ) ) 【listener.oraの内容】 SID_LIST_LISTENER = (SID_LIST = (SID_DESC = (SID_NAME = PLSExtProc) (ORACLE_HOME = G:\oracle\product\10.1.0\Db_1) (PROGRAM = extproc) ) (SID_DESC = (GLOBAL_NAME = orcl) (ORACLE_HOME = G:\oracle\product\10.1.0\Db_1) (SID_NAME = orcl) ) ) LISTENER = (DESCRIPTION_LIST = (DESCRIPTION = (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC)) ) (DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521)) ) )
毎度お世話になります。 SQL文の実行結果を変数に格納する方法がわからず困っております。 ご存知の方が居られましたらご教示いただきたい所存です。 常に1つの値しか返さないようなSQL文なので 変数V number := 'select count(B列) from B表'; みたいな書き方はで 入るか見てみようと思ったのですが コンパイルはできるものの、 実行すると「文字から数値への変換エラー。が発生しました」と なって上手くいきませんでした。 'select count(B列) from B表'が単なる文字列として解釈されて エラーになっているのだとは思うものの 正しい書き方がわからないのでよろしくお願いいたします。
Oracleに疎いので教えてください。 RMANでリカバリカタログはターゲットDBとは別DBが推奨になってますが、 ターゲットDBサーバ内でターゲットDBとは別にDBを作成すれば？ってことなのでしょうか？ Oracleで１サーバ内に２つDBが存在するのってどうってことないことなのでしょうか？ また、別サーバにリカバリカタログを作成するとしたら、 リカバリカタログのためだけにOracleをインストールする必要があるってことでしょうか？ ということはライセンス料とかがまた追加されるってことでしょうか？ それって普通なのでしょうか？
こんにちわ。 当方、IT業界歴5年、主にVBとOracle、その他のRDBを使用した プログラミング側を担当してきました。 このたび、既に動いているシステムのDBレスポンスが物凄く悪いので、 システム改修を依頼されました。 プログラム側とSQL文の改造は、何とかなりそうなんですが、 DBのインフラレベルから見直しをする必要があり、そちら方面は さっぱりで困っています。 そこでOracleの物理的設計、パラメータの設定、統計情報の取り方、見方等のチューニングに関する 参考書籍を購入しようと考えているのですが、お勧めの書籍などありませんでしょうか？
NUMBER(13.3)で定義されている項目に値1234567890.999を追加しました。 これをsqlplus 経由でselect文を発行して確認すると 1234567891　と表示されす。 また、PROCで確認すると 1234567890.00000　と表示されます。 これらを精度部分も正確に1234567890.999と取得する方法はあるのでしょうか？ OS　：　RedHat Linux ES4（update3） Oracle:10g
パフォーマンスを上げるためストアドプロシージャ内で 平行処理を実装できるかどうか調査しています。 以下のように（文法は間違ってますが）Select文を実行し取得した 情報をSPに渡しシーケンスで処理しています。 子SP内で重いロジックを処理しレコードをインサートしています。 セレクトした後に子SPを非同期でパラレルで呼びたいのですが可能でしょうか？ CREATE OR REPLACE PROCEDURE Sp_AAA CURSOR cur1 IS SELECT para1, para2 FROM AAA FOR cur1 LOOP SP_LOGIC_AND_INSERT(para1, para2); END LOOP; END;
お世話になっております。 Oracle10gで　テーブル単位でTemporary Tableが出来ないか 試行錯誤しております。 要件として、Webアプリケーションで100万件のデータをSelectします。 その際、全データを取得するには、遅すぎるので、分割して取得しています。 現在では、C#で、サーバ側で取得Temporary Table　Insertして、そのデータを参照するようにしているのですが、 Insertが遅いのと、C#に一度持ってきていますので、メモリが不安な状態です。 これを、create global temporary table CRE_TABLE_NAME as select * from TABLE_NAME にして、CRE_TABLE_NAMEを参照したいのですが、dropタイミングがつかめませんでした。 そこで、このテーブルが自動的にdropしたいのですが、何か良い案はありませんでしょうか？ 思いついたのが、temporary tableにテーブル情報を保持して、sessionが切れた、時点で消えるのを利用して、テーブルdropのトリガーを記載しようと思ったのですが、そのトリガーを思いつきませんでした。 どなたか、代替案または、実装したことがある方、よろしくお願いします。
ORACLEのDATABASEフォルダをコピーしてデータベースサーバーを移設しようとしております。 Listnerやtnsnameを設定し、下記のコマンドでSIDとサービスの登録を行いました。 Set ORACLE_SID=SID名 oradim80 -new -sid SID名 -intpwd ORACLE -startmode auto -pfile ～\initSID名.ora これでサービス起動し、接続も出来ました。 しかし、DOSプロンプトからSVRMGR30を実行するとまず接続出来ないと出て、その後にconnect internal/oracleとすると接続出来ませんでした。 試しに、初めにSet ORACLE_SID=SID名をしてからSVRMGR30を起動すると接続出来ました。 DATABASEフォルダをコピーしてくる方法ではSIDの設定は保持されないのでしょうか？こんな経験がありましたらどうか教えて下さい。 よろしくお願いします。 WindowsNT Oracle8.0.4
こんにちは。 Oracleの資格でお聞きしたい事があります。 ・Oracleno資格の種類を教えて下さい。 ・Oracle資格の受験費用を教えて下さい。 ・Oracle資格の受験日程を教えて下さい。 ・Oracle資格の受験手順を教えて下さい。 OracleのHPをみたんですが、いまいち意味が分かりませんでした。 調査を頼まれたのですが、私がド素人の為…。 分かりません。 すまません。宜しくお願い致します。
sqlのselect ～where等で以下のデータが抽出できますでしょうか。 テーブルに以下のデータが格納されています。 県コード 　コード　商品名　　　　　　　　単価 ------------------------------------------------------------ 01 　　　　 1000 カメラ（中国製）　　　10,000円 01 　　　　2000 カメラ（日本製）　　　30,000円　　 01 　　　　 3000 カメラ（アメリカ製）　40,000円 ------------------------------------------------------------ 02 　　　　 1000 カメラ（中国製）　　　10,000円 02 　　　　 3000 カメラ（アメリカ製）　40,000円 ------------------------------------------------------------ 上記のようなデータのなから、一つの県から、1つの商品（コード：2000(カメラ（日本製）)、3000（カメラ（アメリカ製））、1000（カメラ（中国製））の優先順位で1つを選択）をselect文で抽出可能でしょうか。上記のデータならば、以下のデータを抽出したいのですが。 01 　　　　2000 カメラ（日本製）　　　30,000円 02 　　　　 3000 カメラ（アメリカ製）　40,000円 ２件のみを抽出できますか。
oracle10gのリカバリマネージャーで自動的にバックアップを取ろうと思います。アーカイブログモードで、スケジュールからまずレベル0のバックアップをとって、日時で増分バックアップを取るように設定できたのですが、アーカイブログが延々たまっていくようでこまっています。増分バックアップとアーカイブログでディスクがそんなに遠くないうちにMAXになりそうです。不必要なアーカイブログをスケジュール的に削除してくれるような設定(スクリプト？)などはあるのでしょうか？
Oracle のTEMP表領域の使用率で質問があります。 サービスを再起動したときに、使用されていたTEMP表領域が開放されて、 再利用可能になるという事までは理解しました。 そこで、質問があるのですが、 1) 再利用可能になると、再利用可能になった分だけ、エンタープライズマネージャの データベース → サービス名 → 記憶域 → 表領域 を参照した時の、 使用量、使用率が減る・・・と、言う解釈で間違いないでしょうか？ 検証環境で、再起動を行いこの値を確認してみたのですが、再起動前と再起動後で値の変化がありませんでした。 2) また、TEMP領域の自動拡張がOFFになっていた場合で、TEMP領域を使用するような状況が発生した場合、 どうなるのでしょうか？ よろしくお願いします。
お世話になります。Oracle初心者です。 当方、Oracleの管理の担当になる予定で、分からないなりにですが打合せに参加しております。 そこで「表領域不足でエラーになった事がある」という事を聞きました。 Oracleユーザーなら皆経験するような事かもしれないですがそこでSQL*Plusなどを立ち上げて視覚的に確認するのではなく、メールやメッセージで管理者に知らせるような方法、もしくは他の方法で皆さんは行っているのではないかと思ったので質問させて頂きました。 どうかご教授下さいませ。 宜しくお願いいたします。
かなり初歩的なことですみません。 データベースはAccessが使える程度です。 オラクルも勉強しようと思い、無料版（Oracle Database 10g Express Edition）をダウンロードしました。 デスクトップに「Oracle Database 10g Express Editionのスタート・ガイド」といアイコンが出てきて、それをクリックするとログイン画面が出てきます。しかし表示されているユーザー名とパスワードがわかりません。 覚えあたるのはダウンロードした際のユーザー名とパスワードを入れてみましたが違いました。 オラクル社に登録をお願いしなきゃ駄目なんでしょうか？ 新規に登録する方法があれば教えてください。 よろしくお願いします。
RMANのlist backup コマンドで表示される バックアップリストが存在します。 このリストを削除する場合の正しい削除方法は どのように行えばよろしいのでしょうか？
率直な質問ですが、 リカバリ・カタログ・データベースって何ですか？ また、リカバリ・カタログ・データベースを再作成すると どのような動作、影響が発生するのでしょうか？
DBに関しては勉強中のほぼ初心者です。よろしくお願いします。 あるシステムがありまして、Oracle内にたくさんのテーブルがあります。 このテーブルを用途別に管理することはできるでしょうか。 管理というか、分かりやすく分類整理をOracle上でしたいのです。 例えばWindows上であれば、分類毎にフォルダを作ってそこに入れるなどが できます。 Oracle上でこのようにフォルダに相当するような分類の仕方はできないのでしょうか？ よろしくお願いします。
こんにちは。 Oracleの調整を行っています。 テーブルに対して索引を追加して、実行速度の改善を図ろうとしていますが、追加された索引がSQL文発行後に、正しく利用されているのかを確認したいと思っています。 暫く触っていなかったので、記憶だけですがDBA Studioにて確認できたと思って探していますが見当たりません。 別の方法での確認方法でも構いませんので、ご存知の方教えて頂けないでしょうか。 Oracle8iです。宜しくお願い致します。
あるSQLの実行結果がどうも納得できないのです。 こちらで詳しい方に解説していただけたらと思い投稿しました。 以下SQL１の実行結果ですが、なぜ'A'の後ろに半角スペースが入ってしまうのでしょうか？ とりあえず私はSQL２のように書き直して本番のSQLは対応しました。 しかし、なんともスッキリできないのです・・・。 （前提条件） customerテーブルは１０件あるとします。 （SQL1） select 'A'|| (select to_char(count(*),'000') from customer) expr1 from dual; （SQL1結果） 'A'の後ろになぜか半角スペースが入ります。 expr1 ------- A 010 （SQL2） select 'A'|| trim((select to_char(count(*),'000') from customer)) expr1 from dual （SQL2結果） 'A'の後ろに半角スペースは入りません。 expr1 ------- A010 以上よろしくお願いします。
DB(Oracle9)のテーブルをドロップしたら変なものが出来ました。 テーブル一覧にこんなものが BIN$ANCbPZXHQJyThN1/cukAow できたんですがどうやって削除すればいいんですか？ エラーは下記の様になっていました。 ORA-00933: SQL command not properly ended よろしくお願いします。
CSEを使って作業をしているのですが ある日からSQLエクスプローラやDBエクスプローラが チェックしているのに表示されなくなりました。 「初期状態に戻す」を使っても元に戻らず いまはコンソールしか表示されません。 最新のものをダウンロードしても古いものをダウンロードしても 今使っているPCで展開すると同じような事象がおきてしまいます。 どうしたら表示されるようになるか教えてください。
Oracle 8.1.7.0.0 のWindows用のCDがあります。 WindowsXP Professional Service Pack2に NLS_CHARACTERSETがJA16EUCの環境を作りたいのですが、 インストール時のGUIに変更出来るような箇所がありませんでした。 もしかして、8iではWindows用はJA16SJISって決まってしまっているのでしょうか？ 何か情報を頂けたら幸いです。
ここでも質問させてもらっている者です。 http://okwave.jp/qa3078771.html 自分はまだOracle勉強中の身なのですが、 テーブル作成依頼が度々来る職場にいます。 テーブル設計について初心者でもわかりやすく説明してある書籍・参考書等、 ありましたしたら教えてください。 （もちろん基礎知識の勉強から入っています） よろしくお願いします。
Oracle勉強中です。皆様の知恵をお貸し下さい。 テーブル作成の最適なパラメータを調査したいと思っています。 調査対象項目は以下です。 「PCTFREE」「PCTUSED」「INITIAL」「NEXT」 「PCTINCREASE」「MAXEXTENTS」 【構成】 DATANO　　　　VARCHAR2(16)　　NOT NULL START_DATE　　DATE END_DATE　　　DATE INFO　　　　　VARCHAR2(256) ・データ件数…MAX10000件 ・INSERT、UPDATEが月に10000件発生(MAXで) ・DELETEも月に10000件発生(MAXで) ・月次バッチで１ヶ月以上前のレコードを削除 自分なりに出してみたのですが… ・「PCTFREE」→20　更新処理が発生する為 ・「PCTUSED」→50　削除処理が発生する為 ・「MAXEXTENTS」→4096　今後TABLEサイズが大きくならない為にデフォルトを設定（自信ナシです） …正しい値が出せてますでしょうか？ 他のパラメータ値の設定方法も合わせてご回答頂ければと思います。 足りない情報等、ご指摘頂ければ補足致します。 よろしくお願いします。
オラクル10を使っています。 select NAMAE max(TEN) from KYOUKA WHERE OK=1 and CLASS IS ('A', 'B', 'C'); で単一グループのグループ関数ではありません。 というエラーになります。 CLASS | OK | NAMAE | TEN | -------------------------- A 1 a01 50 A 1 a02 60 B 1 b01 10 C 1 c01 70 C 0 c02 100 a02 60 b01 10 c01 70 という結果になってほしいです。
SQL(Oracle)のSELECT文で、以下の様なCOL1列において、 COL1 ---------- abc_def g_hi_jk 最初の_以降を削除して、 COL1 ---------- abc g の様に表示させるにはどうすればよいのでしょうか。 「abc_def」→「abc」 は、無理矢理(?)これでできたのですが… select replace('abc_def',substr('abc_def',instr('abc_def','_'))) from dual;
Oracle8iにおいて、日付1（date1）カラムは2007年6月5日12時25分20秒というようにvarchar2(14)で定義されており、時分秒でデータを持っています。 それを年月単位で件数をカウントしたいため、 to_dateで変換をかけているのですが（以下のSQL参照）、ORA-1830の エラーが発生してしまいます。 以下のSQLをどのように修正すれば正しく結果が得られるのでしょうか？ご教示下さい。 select to_date(date1,'YYYYMMDD'),count(*) from tableA where date1 >= '20070501000000' group by to_date(date1,'YYYYMMDD') ちなみに、to_dateのところを、to_charにしてみると、ORA-1481が発生してしまいます。
ＳＱＬの実行に失敗した際に出力される「SP2-」で始まるエラーは何があるか調べています。「ORA-」や「PLS-」のようにエラーメッセージ集のようなドキュメントはないのでしょうか。OTNで探したのですが見つかりませんでした。
こんにちは。 ほぼ何もわからないまま、システム担当になってしまった者です。 自社のシステムは以下の通りです。 　Windows 2003サーバ＋Oracle9i 今後管理していく上でひとつ困った事があるので教えてください。 現在Oracle社よりいくつかパッチが出ているようなので パッチをあてるつもりでいますが、 今現在、どこまでのパッチがあたっているのか不明なのです。 どうすればパッチの適用状況がわかるのでしょうか？ （以前の担当者からこのあたり何も聞かないで引き継いでしまい困っているのです。しかも以前の担当者は２ヶ月前に退職してしまいました） どなたかアドバイスよろしくお願いします。
PROCでSQLDAを使ってFETCHした結果、V変数を見るとオラクルテーブルのVERCHAR2の値に「ゴミ」が付加される場合があります。 例）「AL」→「AL8b」※8bが付加されている。 いつも起きているわけではないのですが、原因を調査する方法が あれば教えてください。 OS　：　RedHat Linux ES4（update3） Oracle:10g
画面でYYMM形式で入力した日付を、内部でYYYYMM形式に変更したいです。 例)　0706→200706 そういうプログラムを組むのではなく、一発で簡単に変換したいのですが、 何か良い方法はありませんでしょうか？ (oracle関数等で実現出来たりするんでしょうか？) 宜しくお願いします。
性能問題について対応しています。 約２０００万件のマスタと付随する各テーブルを結合して、検索条件に一致するデータを抽出するSQLを開発していますが、これらのパターン（曖昧検索：前方一致）において、前述の２０００万件のマスタが駆動表となり、且つフルスキャンが走るものがあり、改善策を検討しています。 つきましては、HINT指定で駆動表を強制的に各テーブルに変更する方法（SQLのHINT指定内容）についてお教え願います。 　→曖昧検索条件にもっとも絞られる対象のテーブルを駆動表とし、マスタテーブルはその駆動表とプライマリーキーで結合した形でアクセス（フルスキャンを避ける）ような実行計画となるSQLに改善をしようとしています。 以上です。　
表1・・・商品ID 表2・・・商品ID、賞味期限、価格ID 表3・・・価格ID、商品価格 このような表があるとします。 ここで、商品価格ごとにもっとも賞味期限の古い商品IDを表示させてい場合、どのようなSQL文を書けばよいでしょうか？ また、オラクル8でお願いします。 例題となるテーブルとレコードが紛らわしいですが、よろしくお願いいたします。
SELECT DISTINCT 列名、・・・FROM テーブル名は 重複した行を取り除いた結果を得ることができますが、 逆の重複した行をのみを得ることは出来るのでしょうか。 もし出来るとしたらどのような関数なのでしょうか？ ご教授お願い致します。
カテ違いかも知れませんが 年金問題 5000万件の個人の名寄せ方法ってどうやるのでしょうか
ORACLE の　ＳＱＬの質問です。 現在 名称　　銘柄 　単価　甘さ　ビタミン りんご　 , 1 , 50 , 5 , 5 りんご , 1 , 40 , 4 , 4 りんご , 1 , 30 , 3 , 3 りんご , 2 , 100 , 5 , 5 りんご , 2 , 80 , 4 , 4 りんご , 3 , 50 , 2 , 5 りんご , 3 , 40 , 2 , 4 メロン , 1 , 1000 , 10 , 3 というテーブル　果実 があり、りんごの　銘柄ごとの　平均単価、平均甘さ、平均ビタミンを 出したいんですが、 SELECT AVG(単価) AS 平均単価, AVG(甘さ) AS 平均甘さ, AVG(ビタミン) AS 平均ビタミン FROM 果実 WHERE 銘柄 = (SELECT DISTINCT 銘柄 FROM 果実) AND 名称 = ‘りんご’ ORDER BY 銘柄 というSQLを考えたのですが、どうしても、WHERE 句の後の銘柄のＳＱＬで「式がありません。」のエラーが出てしまいます。できるだけ * ワイルドカードは使いたくないのですが、もし、どなたか、教えていただける方いましたら、ご教授ください。お願いいたします。
Oracle 10g R2 を使用し、開発を行っていますが、 パフォーマンス改善という壁にぶつかっており、 お助けいただきたいと思いました。 要求定義の段階で、可変長のバイナリデータを扱う必要があり、 テーブル内には BLOB フィールドを用意しております。 レコード件数にすると、全体でおおよそ 500,000 ～ 1,000,000 件に なります。（導入先によって上記範囲内で変動する） データはさらに区分によって判別されるようになっております。 プログラムから投入する SQL 文については、 最適化を行っておりまして、最高のパフォーマンスが得られる であろう構文になっておりますし、テーブルの設計についても、 検索条件となる項目へのインデックス設定を行っています。 現状としてプログラムの中でボトルネックとなっているのは、 BLOB データを Fetch するタイミングなんです。 開発環境は、C#.NET＋ODP.NET なんですけど、ミドルウェアは、 oo4o を使った場合でも、Microsoft の Oracle のドライバを 使用したときでも同じ部分でボトルネックになっていました。 ちなみに、BLOB をやめて、CLOB にした場合も、 CLOB データを Fetch する部分がボトルネックになっていました。 テスト段階なのでバイナリデータが 4 KB 未満ですが、 これを VARCHAR2(4000) のフィールドに Base64文字列などで 格納した場合は、LOB データの Fetch はありませんので、 かなり高速な処理が実現できるのですが、実際の運用では、 4 KB を超えるようなバイナリデータが普通に現れてきます。 なので、VARCHAR2 でのデータベース設計ができない状態です。 そもそも、この BLOB フィールドや CLOB フィールドのデータを Fetch する速度を向上させること、というのは可能なのでしょうか？ ちなみに、Oracle サーバ側の設定は一切行っておりません。
ＰＬＳＱＬで和暦で一年前の値を求めるためにadd_monthsを使いたいのですがoracle10ではうまく機能しません。 to_char(add_months(1803,-1),yymm) 1703という値を取得したいのですがどうすればよいのでしょうか？
はじめまして。 通常FROM区には抽出するテーブル名を列挙すると思いますが、 ここにテーブル名の変わりに変数名（レコードの配列）などを使うことは可能でしょうか？ やりたいことは、最初にプログラム内で頻繁に使用するクエリ結果を保存しておき、その後保存しておいた結果をプログラムのいろいろなクエリで使用します。 諸事情により一時表などは使えません。 よろしくお願いします。
dispatchers の数を複数にすることによって 何かメリットがあるのでしょうか。
はじめまして。 いきなりですが質問させてください。 Accessからoracleのデータベース内に有るストアドプロシージャを使いたい（ボタンを押したらoracleのプロシージャが起動するイメージ）のですがAccessのVBAからはどのようにすれば使用できるのでしょうか？ 色々調べて見たのですがVBからのはよく有るのですがVBAからは見つけられませんでした。 ODBCで繋げて呼び出しが出来たらなと思っています 無理ならば他の方法でも構いません。 よろしくお願いします。 使用環境 Access:2002 oracle:Oracle9i Enterprise Edition Release 9.2.0.1.0
【明細データ】と【変換テーブル】で、変換後明細データを作成 して、その結果を集計したいのですが、、、 下記の結果を求めるためにはSQLひとつで可能でしょうか？ ※(3)の表まではunionで可能でしたが、unionでは集計はできないですよね。。。。 (1)【明細データ】 CODE VALUE AMOUNT A 1000 10000 B 2000 20000 C 3000 30000 D 4000 40000 E 1001 10000 F 2001 20000 G 3000 30000 H 4000 40000 (2)【変換テーブル】 VALUE1 VALUE2 1000 1001 2000 2001 (3)【変換後明細データ】 CODE VALUE AMOUNT A 1001 10000 B 2001 20000 C 3000 30000 D 4000 40000 E 1001 10000 F 2001 20000 G 3000 30000 H 4000 40000 (4)【SQL抽出結果】が欲しい VALUE AMOUNT 1001 20000 2001 40000 3000 60000 4000 80000
たとえば、次のSQLがあったとして、 select キー1, キー2, sum(金額) ( 　select A.キー1 , A.キー2 , A.金額 　　from (select * from ～ where ...) A 　union all 　select '' , A.キー2 , A.金額 　　from (select * from ～ where ...) A 　union all 　select A.キー1 , '' , A.金額 　　from (select * from ～ where ...) A 　union all 　select ''　　 , '' , A.金額 　　from (select * from ～ where ...) A ) group by キー1, キー2 一番内側の副照会は、 (select * from ～ where ...) A は、4箇所とも同じSQL文で、とても長いのですが 2箇所目以降は、1箇所目と同じSQL文ということで 記述を省けたりするような構文があったりしないでしょうか？ そこを、ビューにしろといわれるとその通りなのですが ビューにしたくないです。（プログラムで動的にここの副照会部分を パラメータに応じて作っているので、ビューにするとビューがいくつも できて、きりがない） Oracle9iで、利用しています。
初めて投稿させていただきます、たかといいます。よろしくお願いします。 タイトルの件に関してなのですが、テーブルに関しては多くの場所で、 簡単な見積もり方法(アナライズコマンドよりUSER_TABLEを使用)を探し実践しているのですが、 INDEXに関してはアナライズコマンドより出てきた USER_INDEX を使用しうまく見積もることはできないのでしょうか？ それらしい数字は多く出ているのですが、 実際に　INITIAL、NEXT 等にどれを使っていいのかわからない状況です。 わかる人がいましたらご指導のほうよろしくお願いします。
ORDER BY 句で、NULLS FIRSTは、ORACLEのどのバージョンから 使えるようになった機能ですか？
Oracleのパラメータ値について教えてください。 「Sessions」と「Processes」の２つはセッション関係のパラメータ値 だと認識しております。 Enteprise Managerに説明が載っていましたので見ましたが、「オペレーティング・システム・ユーザー・プロセスの最大数」などと載っておりましたが、初心者の私にはよくわかりませんでした。 もう少し噛み砕いて簡単に教えていただける方がおりましたら、 是非、ご教授をお願いいたします。
Oracle RAC構成の場合、DBサーバの前段に不可分散装置などが別途、必要となるのでしょうか？
現在、大量データを扱うマスタDB（oracle）に対し、オンライン業務にて曖昧検索を実施する機能を開発しています。 性能を十分に考慮したsqlを組む必要があり、以下のいづれを選択するか判断しかねています。 それぞれの意味合いを十分に理解できておらず申し訳ございませんが、どなたかご教示をお願いします。 ■要件 　曖昧検索をして検索を行う。 　例）漢字氏名が”林”で始まるお客様を一覧表示 ■実現するためのSQL文 　案１）select～　where　漢字氏名　like　’林%’;　 　案２）select～　where　substr（漢字氏名,0,2）=’林’; 　※漢字氏名の型はvarchar2です。 処理時間（oracleのコスト的には）どちらも変わりませんかね？ 以上、宜しくお願いいたします
いつもお世話になっています。 ASPでのOracleへの接続について質問させていただきます。 ASPファイルの中でOracleへ接続し、テーブルを更新するストアドファンクションを呼び出す処理を作成しているんですが、そのASPファイルを開くと 次のようなエラーが表示されてしまいます。 //////////////////////////////////////////////////////// エラー タイプ Microsoft OLE DB Provider for Oracle (0x80040E14) ORA-06550: 行1、列7: PLS-00221: 'TEST_T_FUNC'がプロシージャではないか、または未定義です。 ORA-06550: 行1、列7: PL/SQL: Statement ignored /test_asp.asp, line 113 //////////////////////////////////////////////////////// 呼び出し先がプロシージャの場合はテーブルは正常に更新されますが、 ファンクションだと上のエラーが起こってしまうようです。 ファンクションを呼び出しても正常に更新されるようにしたいのですが どのようにすればいいでしょうか？ よろしくお願いします。
以下の２つのテーブルがあります。 テーブルＡ（KEY=日付） 日付 2007/05/20 2007/05/21 2007/05/22 2007/05/23 2007/05/24 テーブルＢ（KEY=日付+名前） 日付 名前　　内容 2007/05/22　　BILL　　野球 2007/05/21 SMIS　　野球 2007/05/21 BILL　　サッカー 以上テーブルを利用して、テーブルＡの全日付に対して テーブルＢの名前がBILLのみのリストを出したいのですが どのようにすれば良いでしょうか。 以下の一覧が希望です。 日付 名前 内容 2007/05/20 2007/05/21　　BILL　サッカー 2007/05/22 BILL 野球 2007/05/23 2007/05/24 ご教授お願い致します。
SolarisへOracle10gをインストールするのですが、 コマンドラインベースでインストールすることは可能なのでしょうか？ XWindowでインストーラを立ち上げてインストールすることは普通に できますが、ラックアマウントなどフレームバッファを搭載していない 機種などでは、フレームバッファのない機種単体でインストールできるものなのでしょうか？ 仕方なくフレームバッファ搭載機種へXをとばしてインストールする 事しかできません。
Oracle10で似たようなテーブルＡとＢがあります。ＢからＡに転記したいのですが、フィールドが正しく対応してインサートするか心配です。 ＡとＢは現在Ｂの方のみrikaが多くあり、今回新たに一時テーブルＢだけsyakaiテーブルを追加して、同じことをさせるのですが、 Ａテーブルにkai namae kokugo sansuまで正しく入るかのかお聞きしたいです。 フィールド追加した場合の順番もどうなるか知りたいです。 テーブルA(メイン) kai namae kokugo sansu テーブルB(一時的) kai namae kokugo sansu rika (syakai) ＢからＡへ転記するSQL文 insert into A select kai, namae, kokugo, sansu, rika, syakai where kai = 2;
DATE型(YYYY/MM/DD HH24:MI:SS)の値を取り出し、 VARCHAR2(8)型の文字列YYYYMMDDにしたいと思っています。 TO_CHAR(DATE型,'YYYYMMDD')としても、YY-MM-DDと表示されてしまいます。 YYYYMMDDと文字型で表示させるにはどうすればよいのでしょうか。 宜しくお願い致します。
お世話になります。 oracleのMERGE文で アンマッチ時のインサート文にSELECTで 引いた値を入れたいのですが、 ORA-00926エラーになってしまいます。 MERGEのインサート文にSELECTは使えないのでしょうか？ 尚、INSERT文単体ではエラーなく挿入できます。 以上、よろしくお願いいたします。 以下、SQLです。 MERGE INTO USER_MASTER　UM USING USER_MASTER_IMPORT UI ON ( UM.USER_ID = UI.USER_ID) -- 既存レコードの更新 WHEN MATCHED THEN UPDATE SET USER_NAME = USER_MASTER_IMPORT.USER_NAME -- 新規レコードの作成 WHEN NOT MATCHED THEN INSERT ( USER_ID, USER_NAME, NO ,SHOZOKU_NAME) SELECT UI.USER_ID, UI.USER_NAME, UI.NO, SH.SHOZOKU_NAME FROM USER_MASTER_IMPORT UI LEFT JOIN SHOZOKU SH ON(UI.USER_ID = SH.USER_ID)
Oracleの数値型で1以下の値をセットすると、取り出すときに.15のように頭に0がつかない表記になります。デフォルトでこうなっているのでしょうか？ プログラム側で変更すれば済む話ですが、DB側で設定する方法はあるのでしょうか？
ラッチ という言葉があると思いますが、 どのような意味なのでしょうか。 ググって見たのですが、明確な説明を書いてあるものが なくって質問させていただきました。
こんにちわ。 最近プロジェクトでOracleを使うシステムの構築を行うことになって、ふと疑問があって投稿しました。 自分は試験環境の構築担当なのですが、 サーバ台数が少ないので、 1つのサーバで3チームくらいで 試験できるようにする必要があります。 そのとき、AチームがデータベースAを使って、 BチームがデータベースBを使うとして、 AチームにはデータベースBを使わせたくありません。 この場合、Oracleはどうやって構築するのがベスト なのでしょうか。 よろしくお願いいたします。
SQL92での特殊文字以外にオラクル独自の特殊文字は何かありますか？ ”’（）等以外にありましたっけ？
お世話になっています。 以前 http://oshiete1.goo.ne.jp/qa3001732.html の質問をしたものです。 上記の質問は解決することが出来ましたが、同じような問題が生じたため再度質問させていただきます。 以前の質問では、INSERT文の中にSELECT MAX(列名)文をいれて、ある表の特定の行、列から値を取得しましたが、今回はある表の特定の行、列から1つの 値を取得し、変数に格納し保持するという方法を探しています。 漠然とした質問ではありますが方法など教えてくださる方お願いします。
あまり詳しくないので教えて下さい。 Ａテーブル Ｂテーブル　があり Ｂに存在してＡに存在しないＢのデータを削除する ＳＱＬ文を教えて下さい。 （Ｂのみのデータが削除したい） ＡとＢのテーブルはKEY1で紐付いています。 知っている人には簡単なものかも知れませんが よろしくお願いします。
スタンドアロンでサーバ兼クライアントとして稼働している端末のＩＰアドレスが変更されたので、tnsname.oraおよびlistner.ora等の記述をNet8Assistantで変更したところ、タイトル通りのエラーが出てしまいます…。 変更前は、通常に動作していたためWindowsファイアウォール等の設定ではないと思います。原因としてはどのようなことが考えられるのでしょうか？
サーバーAからサーバーBにDB_LINKを作成し、サーバーBのテーブル(参照権限付与済)を参照しにいったところ、『ORA-01017: ユーザー名/パスワードが無効です。ログオンは拒否されました。』となってしまいました。 またサーバーCにDB_LINKを作成したら何のエラーも発生しませんでした。 ちなみにSQLPLUSからサーバーBにログインは可能で、前述のテーブルも参照できました。しかしSQLPLUSからDBLINKを介しての参照は同じエラーになってしまいます。 ちなみに固定ユーザーでプライベート接続でリンクを作成しました。 相手サーバーにユーザーもIDも登録済みです。 いろいろ調べてみたのですが、全然わかりません。 ご存知の方がいらっしゃったら教えて下さい。 宜しくお願いします。
こんにちは、Oracle初心者です。 ユーザーＡで作成したテーブルを、ユーザーＢで照会する方法を 教えてください。 新規に作成したユーザーＢにDBA権限を与え、Oracleログイン後、 SELECT * FROM A.TABLE_NAME とすると問題ないのですが、 SELECT * FROM TABLE_NAME と、OWNER名を省略するとエラーが発生します。 （テーブルが存在しないというエラー） OWNER名を指定せずにテーブルを検索するにはどうすれば良いでしょうか？幼稚な質問で申し訳ございませんが、宜しくお願いします。 現在Oracle9iを使用しております。
会計のデータベースを作成していて、上司から セレクト文において下記のようなＳＱＬ文を理解せよと言われたのですが、 C1.FINANCEPOINT_C(+) = A.FEEPOINT_C　の （＋）にはどのような効果が、 あと、同じテーブルをＢ１、Ｂ２など分けるのはどのような 利点があるのでしょうか。 ネットや本でも、合致するものがなかなか探せないでいます。 よろしくおねがいたします。 SELECT A.TOTALNO ,A.RENTALPART_C ,B2.RENTALPART ,A.RENTALPOINT_C ,C2.RENTALPOINT ,A.RENTALHELP ,D2.RENTALHELP ,A.FEEPART ,B1.FEEPART ,A.FEEPOINT_C ,C1.FEEPOINT ,A.FEEHELP_C ,D1.FEEHELP ,A.DAY ,A.TIME FROM HELP_DATA D2,HELP_DATA D1 ,POINT_DATA_C2,POINT_DATA C1 ,PART_DATA B2,PART_DATA B1 ,DETAIL A WHERE C2.FINANCEPOINT_C(+) = A.RENTALPOINT__C AND C1.FINANCEPOINT_C(+) = A.FEEPOINT_C AND D2.FINANCEHELP_C(+) = A.RENTALHELP_C AND D1.FINANCEHELP_C(+) = A.FEEHELP_C AND B2.FINANCEPART_C(+) = A.RENTALPART_C AND B1.FINANCEPART_C(+) = A.FEEPART_C AND A.TOTALCODE = '22222' AND A.PRIVATE = '1111'
OracleのPL/SQLを勉強し始めたものですが、質問させていただきます 。 あるテーブルにINSERT文を使ってデータを追加するストアドファンク ションを作成しています。 そのINSERT文の中に、ある列(NUMBER型)の今現在の最大値にプラス1し て新規にレコードを追加するという処理を入れる方法を探しています 。 BEGIN INSERT INTO USER.テーブル1 VALUES (項目1, 項目2, 項目3 ); END 項目2に対応するテーブルの列の最大値を取得し、項目2に値を入れるには どのような方法があるでしょうか？ 方法や手順等を教えてくださる方お願いします。
シェルスクリプトから、SQL*PLUSを呼んでいますが、 sqlplusコマンドを実行したとき、 PL/SQLプロシージャが正常に完了しました。 SQL> と入力待ちになってしまいます。 この入力待ちで止まってほしくないのですが、 どうすればよいでしょうか。 ご教示お願いいたします。
お世話になります。 Oracle 9iで特定のテーブルを高速に削除したいのですが Truncateを使うと、Insertが完了し、Commitするまでの間に 読み取り一貫性が崩れるので、使いたくありません。 （他のセッションからは、当該テーブルは0件と映るのではなく 削除前の状態が見えてほしい。） なにか逃げ道ありませんでしょうか？
オプティマイザには、 　1)ルールベース・オプティマイザ(RBO) 　2)コストベース・オプティマイザ(CBO) があります。 RBO は、決められたアクセスパスの優先順位に従って 実行計画を選択することが分かりました。 CBO は、最適なアクセスパスを選択する為に、 オプティマイザ統計を取得し、実行計画のコストを 見積もることが分かりました。 ★このオプティマイザ統計に関して、質問があります。 　オプティマイザ統計は、ANALYZE や DBMS_STATS パッケージを 　使用することで取得する統計情報ということが分かりました。 　しかし、統計情報を取得することでどのように実行計画が 　改善されるのか、この部分のイメージが掴めません。 ================================================================ 例えば、表の統計情報を取得すると、以下のようになりました。 SQL> select NUM_ROWS,BLOCKS,EMPTY_BLOCKS,AVG_SPACE,CHAIN_CNT 2 ,AVG_ROW_LEN 3 from user_tables where table_name='EMP'; NUM_ROWS BLOCKS EMPTY_BLOCKS AVG_SPACE CHAIN_CNT AVG_ROW_LEN ---------- ------ ------------ --------- ---------- ----------- 　 15 5 0 0 0 35 ================================================================ 　それぞれのカラムの意味は以下であることが分かりました。 　　《上記のカラムの説明》 　　NUM_ROWS　　 = 行数 　　BLOCKS 　　　= 使用ブロック数 　　EMPTY_BLOCKS = 未使用ブロック数 　　AVG_SPACE 　= 空き領域の平均サイズ(bytes) 　　CHAIN_CNT 　 = 行連鎖・行移行の行数 　　AVG_ROW_LEN　= 行の平均長(bytes) 　 　上記の統計情報を取得することで、どのように実行計画を定めているのでしょうか。 　統計情報を取得することで、どのような意味があるのでしょうか。 　宜しければ、教えて頂きたいと思います。
oracle10gをインストールしているサーバがあるのですが、インストール形式が　standard edition なのか enterprize editionなのかわからずに困っています。どうすれば確認できるのでしょうか？
お世話になってます。オラクル入門者です。 Oracle9iをインストールしてデータベース作成しました。 ここまではよかったのですが、Enterprise Managerを使って作成したデータベースの中身(表領域など)を見ようと以下の手順をしました。 1.Oracle Enterprise Managerコンソール 2.スタンドアロンで起動 しかし、データベースは表示されませんでした(ネットワークだけ）。 データベースは作ったのに表示されないのはなぜなのですか？ 誰かオラクルに詳しい方教えてください。 この場合OEMで追加が必要なのですか？ よろしくお願いします。
OPEN cA; OPEN cB; <<outer_loop>> LOOP FETCH cA INTO vA; EXIT outer_loop WHEN cA%NOTFOUND; <<inner_loop>> LOOP FETCH cB INTO vB; EXIT inner_loop WHEN cB%NOTFOUND; IF vA.Pa != vB.Pb THEN --11桁で検索 vB.Pb := SUBSTR( vB.Pb, 1, 11 ); IF vB.b != vA.Pa THEN -- ログ出力 ELSE EXIT inner_loop; END IF; ELSE EXIT inner_loop; END IF; END LOOP inner_loop; 処理exec; END LOOP outer_loop; テーブルのデータはA,Bとも1件だけ作ってやっているのですが、 A.Pa = B.Pbのデータではうまく行きますが、 A.Pa != B.Pbの場合だと、処理execが行われてはいけないのに、 execが行われてしまいます。 うまく動作させるにはどういうアルゴリズムを組めばよいでしょうか？ どうぞ宜しくお願いいたします。
SQL*PLUSにて, SQL> となっているところに、別ファイルに記述してあるPL/SQLのコードを 丸々コピーして貼り付けると、 大体100行程度までコピーしたところで止まってしまいます。 止まった後、未コピー分を再びコピーし、 さらに100行程度進んだところでまた止まり、続きの分を再びコピーして貼り付ける… として全てのプロシージャを貼り付け、そしてEXECUTEで実行して デバッグしているのですが、 別ファイルに書いてあるPL/SQLコードを１度に登録する方法は ないのでしょうか？ SQL*PLUSのウィンドウのオプション→環境の画面バッファの値を いじってみたのですが何も変わりません。 どなたかいい方法をご存知ないでしょうか？
Oracle のDatabase8.1.5（という書き方でいいのかな…） に対応しているＯＳが分からなくて困っています。 分かる方いましたら、教えてください＞＜
オラクル10で特定のレコードの複写を行うSQLはあるのでしょうか？ レコードにはユニークキーがあるので、そのまま複写はできないと思いますが、 この場合は他の言語で素直にそのレコードを変数に読み込んで、ユニークキーをセット後、 INSERTで発行する手段しかないのでしょうか？
CREATE OR REPLACE FUNCTION hoge(str IN VARCHAR2) ～ を作成した後、 PL*SQLにてSQL> exec hoge('fuga'); を実行すると、 行1でエラーが発生しました。: ORA-06550: 行1、列7: PLS-00221: 'hoge'がプロシージャではないか、または未定義です・ ORA-06550: 行1、列7: PL/SQL: Statement ignore と言われます。 どうすればエラーを解決できますでしょうか？ 助言を宜しくお願い致します。
shスクリプトからplsql ID/PASSWORD@SID @plsql.sql コマンドにてplsql.sqlファイルに記述したPROCEDUREを実行しようと すると、 プロシージャが作成されました。 SQL> となって入力待ちとなり、実行されません。 ごく基本的な質問かもしれませんが、 どうやったらPROCEDUREを実行できるのでしょうか。
10GBのメモリを積んでいるサーバに、Oracle Database 10g Enterprise Edition (10.1.0.5)をインストールしてデータベースを作成しているものです。 スクリプトを自分で作成しているのですが、SAG=2000Mにしたところ以下のエラーが出てエラーになってしまいました。 　　「out of memory」 SGA=1500Mにした所エラーになりませんでした。 10GBもメモリーがあるので、最低でも5GBほどSGAサイズをとりたいのですが、何か特殊コマンドが必要なのでしょうか。 それともSGAサイズの上限はきまっているのでしょうか。
こんにちは 中国語の開発環境を構築していますが、日本で購入したOracle9iを中国のWindowsにインストールし、使用は問題ないでしょうか？ ご教示のほどお願いします。
何も考えずにポンポンとインストールをしていったら Database ControlのURLをメモしておくの忘れてました。 ネットで調べてみると　 http://ホスト名:ポート番号/em となっていますが、自分のホスト名とポート番号がわかりません。 どうやったら調べられますか？
掲示板を作っています。 DBには掲示板の情報が入っており、 記事番号にはスレッドの番号、サブ記事番号には0が親記事、1以降が子記事と言う風にデータが入っています。 最新の投稿は一番上に表示され、スレッドの下にレスがついてくるタイプの掲示板を作成しようとしています。 このようなタイプの掲示板の場合どういう風にSQLを書いたらいいのでしょか？
プロシージャ定義・宣言時、引数を使わないので、引数なしで宣言したいのですが、できるのでしょうか？ どう定義・宣言すればいいのでしょうか？ よろしくお願いいたします。 PROCEDURE A(); やPROCEDURE A;でも駄目なので、 PROCEDURE A() IS～やPROCEDURE A IS～も駄目でした。
Oracle10でFOREIGN KEYなど制約の定義を見る方法が知りたいです。 Oracleでは覚えることが多そうですが、皆さんはどのように学習を進めていますか？
市販で販売されている参考書に付いてあるCDで Oracleの環境を設定しようと思っているのですが CDにはトライアル30日間と書かれています。 これは30日を越えてしまうとOracleが使えなくなって しまうのでしょうか…？ また出来れば参考書じゃなくタダでインストールを したいのでインストールできるサイトを知っている方 よろしくお願いします。（自分で調べた限りやっぱりトライアル 期間があったので…)
Oracle10gでA,B,Cという表があり、Aは50万件で80列、Bは50万件で15列、Cは30万件で15列という表があります。まず表Bを全表走査してGroup　Byし、A,CとINNER JOINしてさらにA,B,CとINNER JOINして、ソートしています。諸事情があり、この方法以外選択肢はありません。 実稼働しており、あとはチューニングとしてパラメータの調整と物理的な配置の調整をするチャンスが1回だけあります。 DBサーバのCPUは２つで、ディスクはRAID1でEドライブのみ使用して、I/Oの分散はできません。インデックスは検索・結合列にすべて張っています。 特に気になるのは表Aの列が80列あり、2000文字格納する列も複数あって、列が長いです。DB_BLOCK_SIZEは8Kですがなんとか１ブロックに１レコードは収まっています。 このようなクセのある検索に効果のあるチューニングはありますでしょうか？
OSはWindows2000Server Oracle9.2 なのですが、setup.exeを起動してもouiがでてこず、ウンともスンともいいません。 TEMPディレクトリを調べてみると、とりあえずouiに必要なファイルは展開されているようなのですが、まったくouiが立ち上がる気配がありません。 IISがインストールされているからかな？と思ってIISを削除したのですが、結果はまったく変わりませんでした。 エラーがでないので、なにが悪いのか目星がつきません もし、同じような症状に遭遇されて解決された方がいらっしゃったらご教授よろしくお願いします。
perlのプレースフォルダを使ってOracle10のData型にデータをセットしたのですが、以下のエラーメッセージが表示されます。 Cannot execute. DBD::Oracle::st execute failed: ORA-01830: 日付書式の変換で不要なデータが含まれています データは、"2007/04/30 17:39:55"という文字列をbind_paramしているのですが、オラクルでは、DATE型をエラーなしでセットするにはどうしたらよいのでしょうか？
oracle Database 10g bronzeの黒本についているoracle database 10g 30日間トライアル版をインストールして、sql plusを起動しました。log on画面が表示されて・user name ・password ・Host stringを入力しなければならないのですが、何を入力すればいいのか分かりません。トライアル版のインストール中に、sql plusのログイン方法の説明はなく、cdのどのファイルを読めばいいのかも分かりません。分かる方がいらっしゃいましたら教えてください。よろしくお願いします。
オラクル１０でフィールドが分かれたデータを１つのキーで検索したようにするにはどうしたらよいのでしょうか？ 以下のようなテーブルがあり、氏名で検索したいのですが どのようなSQL文を書けばよいのでしょうか？ 氏名＝松本徹でレコードを抽出させたいです。 苗字|名前 --------- 岡田|武 松本|徹 池山|陽一
オラクル10で、perlのプレースフォルダーで日付型のデータを入れようとしていますがどのようにすればよいのでしょうか？ オラクルのSYSDATE値と名前をインサートしたいのですが 以下の、[]の２つの部分がかわりません。 REGはDATE型です。 [オラクルのSYSDATE値の取得する] my $datetime = [オラクルのSYSDATE値をセットする]; my $sql = qq{insert into TEST (REG, NAMAE) VALUES (?, ?)}; my $sth = $dbh1->prepare( $sql ); $sth->bind_param(1, $datetime ); $sth->bind_param(2, "山田" ); $sth->execute(); よろしくお願いいたします。
タイトル通りなのですが サーバを移行したのですが 古い環境に新しい環境で作成したデータを 入れたいのですが可能でしょうか？
Oracle9iをインストールしていた環境にODP.NET 10をインストールしました。他のPCにインストールされているデータベースにアクセスしようとするとODP.NET 10で設定したネットサービス名で接続しかできません。9iで設定したネットサービス名で接続したい場合はどのようにすれば良いのでしょうか？ いろいろ調べたらホームセレクターで変更できるような記事を見つけたのですが，ホームセレクターを起動しても選択するデータベースが無いと言われ選択できません。 主導でもいいので変更する方法を教えてください。よろしくお願いします。
度々お世話になります。 初歩的な感じがする質問で恐縮ですが 2つの異なるDBがありまして 同じ構成のテーブルを持っております。 片側にしか更新がかからないので その差分をもう片方に反映させたいと考えております。 ※深夜に一回反映するようなイメージでおります。 何か簡単な方法でデータを持ってくる方法はありませんでしょうか。 マテリアライズドビューでの レプリケーションをやる予定のテーブルもあるので いったんコピー先の表を削除して マテビューでレプリカを作るというのも視野に入れております。 ※アプリ側に影響が出そうなので、あまりやりたくないのが実情です。 ※クエリーリライトなる機能を使えば、問題ないのでしょうか…？？ 一日15万レコードほど増えるような大きいの表なので いくつか種類があればパフォーマンスの面からみて よさそうなものを検討したいと考えております。 何卒宜しくお願いいたします。
こんにちは オラクルマスターブロンズが取りたいと思いますが、 試験科目Bronze SQL基礎IとBronze DBA10gですよね。 まったく初心者なので、お勧めの参考書やサイドがありましたら、 教えてください。 よろしくお願いします。
はじめて質問します。 現在Oracle9iで開発を行っているのですが下記のようなことができるかどうかをお教え下さい。 Oracle9i ServerがインストールされているPCとは別のPC上の共有フォルダ内に新規の表領域を作成したい。 具体的にはOracle ServerがインストールされているPCがSV1、 新規表領域を作成したい別のPCがCL2、CL2の共有フォルダがORA_DATA としてSV1とCL2はLANで繋がっておりSV1からCL2の共有フォルダは閲覧できる状態です。 この状態で CREATE TABLESPACE USERS2 DATAFILE '\\CL2\ORA_DATA\USERS02.DBF' SIZE 10M LOGGING ONLINE と実行すると ORA-01119: データベース・ファイル'\\CL2\ORA_DATA\USERS02.DBF'の作成中にエラーが発生しました。 ORA-27040: skgfrcre: 作成エラーが発生しました。ファイルを作成できません。 OSD-04002: ファイルをオープンできません とエラー表示され作成に失敗してしまいます。 ディスクの容量は50G以上空いており容量不足とは考えにくいです。 やはり'\\CL2\ORA_DATA\USERS02.DBF'といった書き方がマズイのでしょうか？ それともOracleでは根本的にこういったことは許可されていないのでしょうか？ もう何日も行き詰まっている状態ですのでどうかご助力下さい。
こんばんは。 現在、バッチジョブからSQLPlusを起動してSQLファイルの SQL文を実行して以下の処理をしたいと考えておりますが 技術敵には可能でしょうか？ １．３つのパラメータをユーザが入力 ２．１つの値についてマスタを検索して存在しない場合はエラー。 ３．２でマスタに存在した場合、パラメータで他のテーブルを更新。 現時点では入力されたパラメータで更新処理はできたのですが マスタをチェックして存在の有無の戻り値を取得して 処理を分岐するといったことができるのかよくわかりませんので どなたかご教授ください。
どうもこんにちは。 WindowsXPを使用し、Oracle10のOracleクライアントの設定を行っていますが、TNS？の設定で疑問なところがあります。 接続するデータベースを識別するために、サービス名（グローバル・データベース名）かSIDを指定するそうですが、これはどちらを指定すればいいのでしょうか？ サービス名を指定してもSIDを指定しても動くのですが、OracleNetManagerを使用すると、「Oracle8以前ではSIDを使用し、Oracle8以上ではサービス名を指定する」というような記述があります。 これは、「SIDを指定する方法はOracle8以前との互換性を保つために用意されており、Oracle8以降はSIDではなくサービス名を指定すべき」ということなのでしょうか？ あるいは、「Oracle8以降ではどちらでも指定できる」ということなのでしょうか？ web検索など利用していますが、なかなか情報が見つかりません。
LinuxにOracle10のExpress無料版をインストールするために rpm -Uvh oracle-xe-univ-10.2.0.1-1.0.i386.rpm としましたが、 エラー：依存性の欠如： libaio >= 0.3.96 は oracle-xe-univ-10.2.0.1-1.0.i386に必要とされています。 と依存関係でエラーになりました。 どうすれば良いのでしょうか？
oracle10gで、データベースのバックアップを行いたいのです。 初めてで心配なのでお知恵を貸してください。 1　丸ごとバックアップ PostgreSQLでいう pg_dumpのようなもの。 2 テーブル毎（順序も含めて）にSQLで吐いたもの。 　 この場合、表やビュー、順序など全てをsqlplusで定義やデータを見ることが可能でしょうか？また、sql形式でファイル化する方法などもです。 要は、他のマシンにあるオラクルDBのデータを全て別のマシンに移したいのですが、一括方法と、表や順序など個別で細分化して移すファイルが巨大にならないようにできる方法など知りたいです。
業務で開発中、どうしてもわからなかったので質問させていただきます。 あるテーブルから「データを抽出する日の１４時までにできたデータのみを抽出する」というSQLですが、 データを抽出する日→SYSDATEでYYYYMMDDまでを取得する考えです。 このあとの１４:００:００という条件をつけるSQLの書き方がわかりません。 このような書き方ではだめでしょうか? SELECT * FROM T_TEST WHERE DATAYMD < TO_CHAR(SYSDATE '14:00:00','YYYYMMDD HH24:MI:SS'); DATAYMDはCHAR型で8バイトで入っています。 よろしくお願いいたします。
Oracle 10gで順序sequenceの作成（定義）した内容を見るにはどうしたらよいのでしょうか？ desc sequence_nameでは SP2-0381: DESCRIBE sequenceは使用できませんと表示されます。
タイトルの通りで、もう５０回くらい翔泳社の 「やさしいＰＬ／ＳＱＬ入門」を読んでいるのですが、 最初の変数の段階でもう頭が付いていけません（大涙 だからもう、みなさんにすがることにしました。 基本のキを優しく教えて下さい。 もちろん実際は違いますが単純化します。 表名はTBL_1 品名（CHAR）,数量（NUMBER）,販売日（DATE） COKE,100,07-04-01 COKE,250,07-04-01 PEPSI,150,07-04-01 PEPSI,300,07-04-02 ・・・ ・・・ （旨く表示できないのでカンマで区切りました） 品名毎の日別販売量を把握するには SELECT 販売日,品名,SUM(数量) FROM TBL_1 WHERE 販売日 = 07-04-** GROUP BY 販売日,品名; で良いと思うのですが（違ったりして・・・）、やりたいことは、 １．SYSDATEにて日付を取得し、その前日（つまりは昨日）の分だけを毎日取りたい。 ２．且つ実行結果をSPOOLでテキストに吐き出したい。 の２つです。 これをPL/SQLで実現するにはどうしたらいいのでしょう？ ダイレクトなお答えをいただけるとうれしいです。 いただいた回答を基に、もう一度本を読み直してみます。 SYSDATEを、宣言した変数に格納し、その変数をSELECT文にあてはめる （上記例の07-04-**の部分）、という考えから抜け出せないのです。 何故にカーソルという物が必要なのかが理解できないのです。 きっとエクセルVBAしか知らないからなのです。
お世話になります。 他人の書いたSQLを解析して以下のようなコードを見つけました。 CREATE TABLE OYA ( IDNUMBERNOT NULL, NAMEVARCHAR2(10) ) / CREATE TABLE KO ( IDNUMBERNOT NULL, OYA_IDNUMBERNOT NULL, NAMEVARCHAR2(10) ) / INSERT INTO ( SELECT ID ,OYA_ID ,NAME FROMKO WHEREEXISTS ( SELECT ID FROM OYA WHERE NAME LIKE '%1' ) ) VALUES ( 1 ,1 ,'KODOMO-1' ); INSERT文でテーブル名を指定するかわりにSELECT文を指定しています。 SELECT INSERT文は知っていますが、このような表記は初めてです。 （文法エラーにならないのに驚きました） おそらく意図するところは、ある条件に一致したOYAが存在する場合に、KOをインサートするのだと思いました。 実際は、OYAがなくてもINSERTは実行されてしまいますが。。。 このような表記のINSERT文の説明が書いてあるサイトをご存知の方がいらっしゃいましたら、よろしくお願いします。
viewを作成しようとしています。 asの後ろのselect文でひとつのテーブルを二度使って、 viewの列を二つ作りたいのですが、 「「ORA-00942: 表またはビューが存在しません。」」というメッセージが出てしまいます。 どういうことでしょうか。 具体的には下記のようなことです。 create or replace view tmp (a1,a2,b1,b2) as select abc.a1 as a1, abc.a2 as a2, abc.a1 as b1, abc.a2 as b2 from ABCtble abc よろしくお願いします。
ID・名前・カナ・備考の4項目をもつ氏名テーブルがあり、同じ名前・カナのレコードはまとめてしまいたいと考えています。 IDは最小のものを、備考は全レコードをくっつけて一つのレコードにする予定です。 Group Byしてcount(*)>1の名前・カナを抜き出し、抽出した名前・カナでWhereしてMIN(ID)や備考をSELECTしたいのですが、カナ=NULLの場合があり、Group ByまではできてもWhereでSelectすることができません。 nvl(カナ,'999999')=nvl(抽出したカナ,'999999')だとWhereで取得することもできるのですが、カナ='999999'と入力されているとNULLとの区別がつかなくなります。 Is NULLを使わず、NULL項目をWhere条件で取得する方法をご存知の方、教えてください。よろしくお願いします。 サンプルとして単純なテーブルを例にあげましたが、実際は数十の列項目をもつ数十のテーブルです。列項目の中には4000バイトのものもあります。 完璧にやるのならGroup Byせず、全レコードをOrder Byしてキーが変わったら更新するというやり方が望ましいのでしょうが、レコード数が多く、パフォーマンス的にあまり望ましくありません。 できるだけ作業が簡単な方法だと助かります。
環境は、OS：Windows 2000Server　DB：ORACLE　8.1.7です。 SQL/PLUSにてINDEXを追加すると、表領域がINDEX１つ毎に１２８メガ 増えてしまいます。INDEXは200個ぐらい使用したいのですが、このまま では、ディスク容量が足りません。 また、表をINDEX無しでインポートすると、データ量で変わるのかどうか解りませんが表領域が、 Ａファイルは２５６メガ（１２８×２） Ｂファイルは３８４メガ（１２８×３） と１２８×○メガずつ増えてしまいます。 よって、総表領域が３０ギガになっています。 このＤＭＰを別の同じ環境のパソコンにＩＭＰすると、１０ギガ しか表領域が増えません。 何か設定で、１２８メガずつ増える表領域を、１２８メガ以下にすることはできないでしょうか？ 早急に対応したいので、申し訳ございませんが、教えて下さい。 宜しくお願いします。
お世話になります。 双方10gSEのDBで不可分散を目的としてレプリケーションを行いたいと考えております。 　参照のみでよいので5分に1回ぐらいの同期間隔で、読み取り専用のマテリアライズドビューサイトを作成すれば事足りそうである。と調べをつけたのですがいざ設定方法が良く分かりません。 　EnterpriseManagerコンソールからウィザードが走るみたいなので、これを採用して作業しようとしています。 何も考えずにウィザードに従うと…。 　・マテリアライズドビューサイトの作成 　・マスターサイトの指定 　・管理用ユーザの作成 　・スキーマの指定 という感じで進んでなにやら正常終了したっぽいのですが、ウィザードが何事もなく終了してしまい、この後何をすればいいのか良く分かりませんでした。コンソールのツリーの中を覗いてもスケジュールのようなモノが増えているだけで変わったことが起きた様子を感じ取れません…。 　10gでの設定方法をご教示いただけませんでしょうか、宜しくお願いいたします。
Oracle10gにて表領域Aを1GBで作りました。 そのあとにテーブルBを表領域AにStorageのInitialを10MB、 テーブルBを同じく表領域Aに30MBでつくりました。 そしてテーブルB,テーブルCにそれぞれ1MBほどのデータをいれました。 テーブルB,テーブルCのセグメントのエクステント数は1になるはずなの ですが、なぜかエクステント数が50とか30になってしまいます。 Storage句に大きめのInitialをCreate Table文でしていするだけでは Initialが1にならないのでしょうか？
今、オラクルマスターのブロンズの資格を取ろうと思っています。 でも、どの本で使って勉強していいのかわかりません。 なにかおすすめの本があれば教えてください。 また、合格の目安としてどれぐらい勉強すればよいですか？
ORACLEのパフォーマンス改善方法についてご教授下さい。 VMware上のOS(Windows2003server)からSANのORACLEを操作していますが、ローカルにORACLEをもつテスト用Serverよりもパフォーマンスが出ません。 VMwareのCPUを2つに増やしたのですが、ここでもパフォーマンスは改善されず・・・。 　・OSのCPUを増やした場合、ORACLE上で何か設定は必要でしょうか？ また、 　・ORACLE自体のパフォーマンス改善方法にはどのようなものがあるでしょうか？ 　　その操作方法はどのようにしたらよろしいでしょうか？ パフォーマンスログなどを確認しているのですがまったく糸口がつかめずワラにもすがる思いです。思いつくことがあれば何でも良いのでご教授下さい。m(__)m 　
Oracle8.1.6のチューニングについてお伺いした事があります。 既存のOLTP系システムのＤＢ専用サーバがハード交換となり、 新しいサーバにてＤＢを再構築する事となりました。 これを機に以下のチューニングを行い、パフォーマンス向上を考えております。 現在検討している手段は以下となっております。 ・ANALYZEによる全表の統計情報の取得 ・SGAメモリ割り当ての見直し 上記以外でレスポンス全般に大きな影響を与える箇所というのは ありますでしょうか？(Windwsの設定等も含む) また、割り当て直したSGAメモリの主要となる値を記載させて頂きますのでご指導頂けますでしょうか？ db_block_buffers = 64 (MB) shared_pool_size = 512 (MB) log_buffer = 3 (MB) sort_area_size = 1 (MB) db_block_size = 8 (KB) サーバスペックは以下となっております。 OS ：Windows2003 Server CPU：Inter(R) Xeron(TM) CPU 3.40GHz, 3.39GHz メモリ：6GB(物理) Oracle8.1.6 Oracleへの同時接続セッション数：50～100(最大時) 上記以外に必要な情報があれば、ご指示願います。 長々となりましたが、よろしくお願い致します。
windowsでしようしているのですが、環境変数の設定するところで行き詰りました。 どこからどのようにして設定することが出来るのでしょうか？
手元にマニュアルがないため起動の仕方もわからないので、どなたか教えてはいただけないでしょうか？ とにかく、まずは起動がしたいのですが・・・
SQLがうまくいかない！ SQLについて、調べたんですが、わからないので教えてください！ last_year(日付データ)関数 と round(日付データ,'書式')関数についてのご質問です。 select last_year('2007-01-01') from 表名; とやるとうまくいくのに 、 select round('2007-01-01','month') from 表名; とやるとエラーになってしまいます。 last_year関数では、'2007-01-01'は日付データとして扱われるのに、round関数では日付データとして扱われないのはなんででしょう？ ちなみに、 select round(to_date('2007-01-01','yy-mm-dd'),'month') from 表名; とやるとうまくいきます・・・SQLの仕様ですか！？ どなたか教えてください！宜しくお願い致します。
オラクル10を使っています。 以下のようにデータを抽出した場合、seito_cd条件ごとにレコードセットが並んでほしいのですが、 このままでは、データベースの登録順に抽出されます。 何か方法はあるのでしょうか？ select seito_name from g_class where seito_cd = '04' or seito_cd = '01' or seito_cd = '05' or seito_cd = '10' or seito_cd = '07' or seito_cd = '09'
Ver. Oracle9i R2 OS Win2k AS 以上の環境にて、インストール時に設定したキャラクタ・セットを後から確認する方法をどなたかご存知でしょうか。 よろしくお願いします。
PerlのDBIで質問があります。 以下のようなDBがあり、プレースフォルダを使っているのですが 0,2件のマッチはエラーとなり、1件を変数(@hozon)に入れる処理をしたいのですがどのように 記述したらよいのでしょうか？ @hikaku = qw(国語 算数 理科 保健); @hozon = (); FLD1 FLD2 ----------- 50 国語 0 国語 60 算数 70 理科 80 社会 $query = qq{select FLD1 from TBL1 where FLD2=?;}; $sth = $dbh->prepare( $query ) or die "Cannot preprae. $query" . $dbh->errstr(); for($i=0; $i<=$#hikaku; $i++){ $sth->bind_param(1, $hikaku[$i]); $sth->execute() || die $sth->errstr; # 0,2件のマッチはエラーとなり、1件を変数(@hozon)に入れる処理をしたいのですがどのように # 記述したらよいのでしょうか？ ？？？？ }
いつもお世話になっております。 さて、タイトルに書いてあるように、 pl/sqlが学習できるようなツールなどありますでしょうか？ SQLServerのManagement Studioようなものが僕の中では 理想なのですが・・・。(CSE以外で・・・) 宜しく御願いします。
素人な質問ですみません。 環境：ORACLE 10g ストアドである値をINSERTする場合、 キー重複でEXCEPRIONに飛ばすのと、SELECTで同キーの件数(0 or 1)を取得して、 O件の場合のみ処理を行うのではどちらのほうが速度は上なのでしょう？ ちなみに登録されるテーブルのレイアウトは、 項目(1)NUMBER(8)　　　PK, 項目(2)NUMBER(8)　　　PK, 項目(3)VARCHAR2(256)　PK, 項目(4)NUMBER(2)　　　PK, 項目(5)NUMBER(8) って感じです。 よろしくおねがいします。
ORACLE10gを使用しています。 有効開始-終了日に該当する取引先レコードが複数件あった場合のみ フラグに'Y'が入っている取引先レコードを抽出したいです。 シンプルなSQLで実現したいので、アドバイスを宜しくお願いします。 SELECT a.SEIHIN_CD,a.TORI_CD FROM 製品取引先マスタ a SYSDATE>=a.有効開始日 AND SYSDATE<=a.有効終了日 GROUP BY a.SEIHIN_CD
昨日、下記のurlで質問をした者です。 http://oshiete1.goo.ne.jp/qa2899365.html HDDが止まりません プロセスとめて、その後アンインストールもしたのですが、 PC再起動後にoracle.exeが動いてPCの大量のメモリを消費してしまいます。アンインストールしたはずなのになぜ？ どうすればoracle.exeを削除することができるのでしょうか？ よろしくお願いします。
ある実績テーブルがあるとします。 日々、ロードされるデータ量にばらつきがあるとします。 (ロードされない日もあれば、一日に数日分ロードされる場合もある) こういった場合、最大日数分ロードされるデータ量にあわせて テーブルのSTORAGE句のNEXTサイズを大きく取るのか、 1日分のデータ量に合わせて、小さくNEXTサイズを取るのか どちらが適当なのでしょうか? 大きく取ると拡張の時に時間がかかるような気がしますし、 小さく取ると、最大日数分のデータが来たとき、 拡張の繰り返しで遅くなりそうな気もします。 このような時、どうするのがよい策でしょうか? またNEXTサイズの最大サイズの目安とかありますでしょうか?
sqlplusから実行したSQLの結果をシェルで判定するにはどうすれば良いですか？ SQLコードかなんらかのステータスコードを拾いたいのですが。。 #!/bin/sh # sample1.sh top sqlplus user/pass@db @sqlfile.sql # ここにステータス判定を入れたい # sample1.sh bottom ----- sqlfile.sql ----- create table tb1 (it1 varchar(1) ); quit; ----- sqlfile.sql -----
Oracle初心者です。 表領域 TEST_TABLESPACEがあるとします。 (サイズは、1024Mと仮定) (1)この表領域に一つのテーブル TEST_TABLEを作成します。 (サイズは、INITIAL 512M NEXT 512M) ここで質問なのですが、例えば上記でテーブルの NEXTを600Mとかにすると、データが512M以上入って NEXTのサイズが拡張された場合、エラーが発生するのか それとも、最大の512Mが拡張され、1024M分のデータが 入らない限り、エラーが発生しないのか? 教えていただけますか? (2)テーブル作成のDDL内でSTORAGE句指定しない場合、 INITIALとかNEXTは、どう設定されますか? 長々と申し訳ないですが、よろしくお願いいたします。
すみません。。重複レコードの取得方法に困っています。 やりたいのは以下です。 テーブルA 項目１｜　項目２｜　項目３｜ １１　｜　１１　｜　０１　｜ １２　｜　１１　｜　０２　｜ １３　｜　１１　｜　０４　｜ １４　｜　１１　｜　０４　｜ 上記の項目１は主キーです。 抽出したいのは下記のみです。 項目１｜　項目２｜　項目３｜ １３　｜　１１　｜　０４　｜ １４　｜　１１　｜　０４　｜ 色々SQLを組んで試しては見てるのですが。。。。 select * from テーブル where ((項目３) in (SELECT 項目３ FROM テーブル　GROUP BY 項目３　having count(*)>1)) 上記SQLだと項目３を主キーごとにカウントしてるみたいなので 意図した結果が抽出されないのです・・・・・。 項目２と項目３を結合して重複のチェックをすればよいのか？？ とも思いますがSQL自体が1本で完結したいので よく分からなくなってしまいました。。。。。 皆さんご教示宜しくお願い致します。
BLOB型を用いたテーブルを作成したいのですが、 create文を発行したところ、エラーが発生しました。 ORA-00907右カッコがありません。 と出てしまいます。 わかるかたがいらっしゃいましたらご教授いただきたいです。 よろしくお願いします。 CREATE TABLE BLOB_BOOK ( ID NUMBER(5) NOT NULL, TITLE VARCHAR2(100), AUTHOR VARCHAR2(30), PRICE NUMBER(9), EVALUATION VARCHAR2(1), URL VARCHAR2(255), FILENAME BLOB(4M), CONSTRAINT BLOB_BOOK_IDX0 PRIMARY KEY ( ID ) )
Oracle9iでの表領域名の変更方法について教えていただけませんでしょうか。 通常のデータを格納している表領域です。（一時やsystemではありません） 宜しくお願いします。
oracleのテーブル名を変更します。 運用上ネーミングルールとしてプライマリ・キー名はpk_テーブル名としていますので、 プライマリ・キー名もこの時に変更したいのですが、適切な手順を教えてください。 旧テーブル名：table_a 旧プライマリ・キー名：pk_table_a 　↓　↓　↓ 新テーブル名：table_b 新プライマリ・キー名：pk_table_b
いつもお世話になっています。 pga_aggregate_targetを指定した場合、空いていれば指定した値一杯までpga領域として１SQLで使用できるのでしょうか？ それとも、１SQLや１処理（ソートやハッシュジョイン）で上限があるのでしょうか？ OS：solaris9 DBMS：Oracle Database 10g Enterprise Edition Release 10.1.0.5.0 以上、宜しくお願いします。
はじめまして。 oracleの勉強をしていたところ、以下の記述がありました。 ---------------------------------------------------- データベース・バッファ・キャッシュ上で更新された データ・ブロックは、COMMIT時には、データ・ファイルに 書き込まれません。 ---------------------------------------------------- 具体的に書き込まれるタイミングはいつなのか疑問を 持ちました。 ご存知のかたがいらっしゃいましたら教えていただけたら と思います。 よろしくお願いします。
SQL*Plusの終了はquitでもexitでも どちらを入力しても終了できます。 対話式でコマンド入力の時は好きな方を使えば良いと思いますが、 バッチで記述する場合、各自が好き勝手にするより統一したいものです。 どちらにするべきですか？ 好き嫌いのアンケートではありません。 quit、exit、どちらでも良い いずれにしても人に聞かれた時に説明できる理由が欲しいです。 以上、よろしくおねがいします。
現在where句でNot(A is not null and B is not null)という条件をしているSQLがあるのですが、この表現をNot句を使わずに表現するとなるとどのように表現したら良いのでしょうか？ SQL以前の問題だと思うのですが、上手く表現できずに件数が合わずに困っています。どなたか助言お願い致します。
お世話になっております。 select文で１レコード全てを抽出したいのですが、set lineで設定できる長さを超えているようで、１レコードが改行されてしまいます。 文字列の項目から空白を削除などしても、項目名(下記の(1))が長くとられるため、あまり意味がありません。 ※項目名とは、各フィールドのタイトルです。 　　　　　　ID 　　RTRIM(MOJIRETSU)　←　(1) －－－－－ 　－－－－－－－－－－－－－－－－－－－－－－－－－ たぶん、この項目名(1)をmaxlength文だけの長さ表示することができれば、改行しないで１レコードが表示できると思います。 項目名(1)の長さを短くする方法を教えて頂けないでしょうか。 よろしくお願いします。
SPLIT PARTITION後にそのパーティションに対応する ローカル索引パーティションは、ステータスが 9iまでは、UNUSABLEになると思っていたのですが、 現在、10gで確認してみたのですが、UNUSABLEにならないようです。 10gからは、UNUSABLEにはならなくなったのでしょうか? ご存知の方、教えていただけますか?
環境 Oraccle9i 9.2.0.1.0 新たに支社ができて支社から本社にあるDBサーバーに接続を試みましたが接続できませんでした。 ネットワーク環境はフレッツのグループアクセスプロというVPN経由で接続しています。各種設定を行い、PINGは通るようになっています。 ポートもDBサーバはデフォルトなので1521を空けています。 ちなみに遠隔地から接続するのは今回が初めてです。 本社内ではTNSPINGも通っておりOracleサーバで設定が足りないということはないと思うのですが。。 現在Oracleの設定の問題なのかネットワーク設定の問題なのかの切り分けもできていない状況です。 どなたかご教授お願い致します。
現在正規化されていないテーブルを、PL/SQLを使って集計したいと考えています。以下のような構造にしたいと思うのですが、可能でしょうか? １．正規化されていないテーブルのデータを正規化されたテーブル（テンポラリーテーブル）へ転記 ２．テンポラリーテーブルテーブルのデータを集計（GROUP BYなどで） ３．２の結果を戻す 上記１～３までをすべてPL/SQLで実行し、その結果を取得したいです。 なお取得する結果としては、 　キー,集計値1,集計値2 　　　・ 　　　・ 　　　・ というような構造で、複数レコードあります。 つまり、通常のSELECT文で返ってくる値を、PL/SQLで戻したいと考えています。
Oracle9i(9.0.2)を利用しています。 現在パフォーマンス低下のため、抽出効率の悪いSQLを探していますが、どのSQLが効率が悪いのか分かりません。 本番環境なのでSTATSPACKを利用することもままならず、どうにかV$ビューを利用して解決したいです。 どなたかご存知でしたらどの項目がどの項目より大きければチューニング対象のSQL　などと言う指標をご教授願えませんでしょうか？ 私としてはV$SQLがどうも使えそうかと考えておりますが、カンであって実際にどの項目を利用すれば良いのか見当がついていないレベルです。 よろしくお願いいたします。
Oracleデータベースをインストールする途中に勝手に落ちてしまいます。対策をご存知の方おりましたらお願いします。 詳細は下記です。 OS：Windows Professional XP Service Pack2 Oracleバージョン：Oracle Database 10g 10.1.0.2.0 【現象が起こるまでのステップ】 １．OUIを立ち上げる ２．カスタムインストールを選択 ３．インストール先は規定値のまま次へ ４．Enterprise Editionを選択 ５．情報を読み込む途中の66%で現象が発生 【全然原因がわかりません】 過去に10gをインストールしたときはうまくインストールでき、一度10gを消して、9iを入れてさらに消しました。 その後、10gを入れようとしたらうまくいきません。 アンインストールする時はレジストリ情報も全て消してるはずなので、何が原因か全くわかりません。イベントビューアにも落ちた記録が残ってませんし・・・。 誰か教えてください！
pro*cでバイナリデータをRAW型で登録したいと思っています。 その際に、 ホスト変数をunsigned char aa[100]; insert時にutl_raw.cast_to_raw で変換して行うと、データに0x00が途中ではいると、その前データまでしかinsertできません。 何かよい方法があればご教授願います。
sqlplusのspoolコマンドでログを追記したいのですが方法はありますか？ ご存知の方がいらっしゃいましたら教えていただけるとありがたいです。よろしくお願いいたします。
今回で２度目なのですが、ORA-12514のエラーがでる様になりました。 前回は仕方なくフォルダを削除して再インストールしたら直りましたが、 ＰＣで作業している内に再び同じ現象になりましたので、 原因と再インストール以外の対処法があればと思い書き込みさせて頂きました。 環境はWindows2000でOracle10gです。 Oracleを入れたPCと作業しているPCは同じPCです。 前回と今回の違いは、 前回は「XYZ」の作成をしていない。 サービスのOracleOraDb10g_home1TNSLitenerが開始できなかった。 （一応コマンド入力でもダメでした） （リスナーの起動を試すみたいなのがインターネットで検索してる時に書いてあったので参考にしました） の２点です。 現在は「XYZ」が作成されているのと、 OracleOraDb10g_home1TNSLitenerが停止したり開始したりすることができます。 自分で作成したオラクルは初めてで、 最初にエラーが出た時もインターネットで検索したりして、 原因を探そうと思いましたが難しくて断念し再インストールといった感じでした。 どうかよろしくお願いします。 listener.oraとtnsnames.oraは下記の通りです。 # listener.ora Network Configuration File: g:\oracle\product\10.1.0\Db_1\network\admin\listener.ora # Generated by Oracle configuration tools. SID_LIST_LISTENER = (SID_LIST = (SID_DESC = (SID_NAME = PLSExtProc) (ORACLE_HOME = g:\oracle\product\10.1.0\Db_1) (PROGRAM = extproc) ) ) XYZ = (DESCRIPTION_LIST = (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = TCP)(HOST = abc)(PORT = 1521)) ) ) ) LISTENER = (DESCRIPTION_LIST = (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC)) ) (ADDRESS_LIST = (ADDRESS = (PROTOCOL = TCP)(HOST = abc)(PORT = 1521)) # tnsnames.ora Network Configuration File: g:\oracle\product\10.1.0\Db_1\network\admin\tnsnames.ora # Generated by Oracle configuration tools. XYZ = (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = TCP)(HOST = abc)(PORT = 1521)) ) (CONNECT_DATA = (SERVICE_NAME = orcl) ) ) ORCL = (DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = abc)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = orcl) ) ) EXTPROC_CONNECTION_DATA = (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC)) ) (CONNECT_DATA = (SID = PLSExtProc) (PRESENTATION = RO) ) )
Oracle9i DBサーバーをＰＣにインストールしたのですがPCが少し重くなってしまいました。 普段使用しないときにはサービスを無効にしておけばインストール前と同じくらいになりますでしょうか？ また、oracleで使用しているサービスなどのそれぞれの説明やどれを向こうにすれば軽くなるかなど教えてください。 最後に一括でサービスの状態を変更できるツールや方法などありましたら教えてくださいよろしくおねがいします。
Oracleインストール時に、「推奨の前提条件チェックの一部が失敗しました。インストール中にエラーが発生する可能性があります。続行しますか」というエラーが表示されます。そして、「データベース・コンフィギュレーション・アシスト」の進行中４５％のところで必ずフリーズします。 エラーの原因は何が考えられますか。宜しくお願いします。 OS：windowsXP メモリ：512M ハードディスク：100G DB：Oracle10g
Oracle9iのClientをアンインストールをしようとすると削除できない旨のメッセージが表示されます。 ＜手順＞ 　1.[スタート]⇒[Oracle Installation Product]⇒ 　　[Universal Installer]を起動 　2.Oracle Universal Installerで製品の削除を押下 　3.削除する製品にチェック(製品一覧は以下の通りです) 　　+独立した製品 　　-Oracleホーム 　　　　-OraHome92 　　　　　　+□Oracle9i Client9.2.0.1.0　　←チェック 　　　　　　+Oracle9iR2 Path Set9.2.0.6.0 　　　　　　+□Oracle Object for OLE9.2.0.4.8　←チェック 　　　　　　+□Oracle Universal Installer 10.1.0.3.0 　4.削除ボタン押下（確認ダイアログで「はい」を押下） 　5.エラーメッセージの表示 　　選択したコンポーネントのうち、インストーラーバージョン 　　10.1.0.2.0を使用してインストールされているために削除 　　できないものがあります。バージョン10.1.0.2.0以降のイン 　　ストーラーを使用してください。 ちなみに、エラーメッセージ中に表示されているバージョン10.1.0.2.0 というのは・・・Oracle10gのインストーラーを使用しなさいという事ですか？？ ご存知の方がおりましたらご教授お願い致します。
教えてください。 DB作成時にデフォルトで作成されていた「TEMP」と「CWMLITE」の表領域に誤ってデータファイルを追加してしまいました。 （TEMP02.dbf、CWMLITE02.dbfという風に） 追加したファイルを削除するには該当のデータファイルを オフラインにして実際にOS上からファイルを削除するという 手順で問題無いのでしょうか？ それともOracle側でさらに処理が必要でしょうか？
いつもお世話になっております。 Oraleを１から学びたいと思うのですが、右も左もわかりません。 google等で「Oracle 入門」等で検索すると、講座の紹介ばかりヒットしてしまいます。 どこかに初心者向けのOracleのサイトはないでしょうか？ できれば開発言語としては、ASP & Oracle9i だとありがたいです。 よろしくお願いいたします。
Oracle8iのストアドプロシジャを作成しています。 SELECT　SYSDATE で取得したシステム時間から任意時間前の時刻を算出し、CHAR(16)の文字列（YYYYMMDDHHMMSSMS）にしたいのですが、 うまくいきません。 次のようなやり方をしています。 (1)システム時刻を取得し、CHAR型変数へ格納。 (2)時、分、秒ごとにCHAR型の変数へセット。 (3)TO_NUMBER関数でNUMBER型へ変換して、NUMBER型変数に格納。 (4)任意時間前の時刻の算出。 SQLPLUSの標準出力にログを出して確認したところ、分や秒（W_CHECK_SS ）がマイナスになってしまいます。 どのようにすればうまくいくのかアドバイスをいただけたらと思います。 今は以下のように書いています。 CREATE OR REPLACE PROCEDURE TESTSP ( IN_KIJUN_TIMEINNUMBER--監視基準時間（秒） ) IS W_CURRENT_TIME16CHAR(16);--システム時刻(１６桁） W_CURRENT_TIME14CHAR(14);--システム時刻（１４桁） W_CURRENT_YYYYMMDDCHAR(8);--システム時刻（ＹＹＹＹＭＭＤＤ） W_CURRENT_HHNUMBER(2);--システム時刻（ＨＨ） W_CURRENT_MMNUMBER(2);--システム時刻（ＭＭ） W_CURRENT_SSNUMBER(2);--システム時刻（ＳＳ） W_CURRENT_HH_STRCHAR(2);--システム時刻（ＨＨ）ＣＨＡＲ型 W_CURRENT_MM_STRCHAR(2);--システム時刻（ＭＭ）ＣＨＡＲ型 W_CURRENT_SS_STRCHAR(2);--システム時刻（ＳＳ）ＣＨＡＲ型 W_CHECK_SECNUMBER(5);--基準前時刻（計算用） W_CHECK_HHNUMBER(2);--基準前時刻（ＨＨ） W_CHECK_MMNUMBER(2);--基準前時刻（ＭＭ） W_CHECK_SSNUMBER(2);--基準前時刻（ＳＳ） W_CHECK_HMSCHAR(16);--基準前時刻(１６桁） BEGIN /*-- システム時刻の取得 --*/ SELECT TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') INTO W_CURRENT_TIME14 FROM DUAL; -- ◆DEBUG START DBMS_OUTPUT.PUT_LINE('・システム時刻14 = ' || W_CURRENT_TIME14); -- ◆DEBUG END /*-- 基準前時刻の計算 --*/ W_CURRENT_YYYYMMDD := SUBSTR(W_CURRENT_TIME14,1,8); W_CURRENT_HH_STR := SUBSTR(W_CURRENT_TIME14,9,2); W_CURRENT_MM_STR := SUBSTR(W_CURRENT_TIME14,11,2); W_CURRENT_SS_STR := SUBSTR(W_CURRENT_TIME14,13,2); W_CURRENT_HH := TO_NUMBER(W_CURRENT_HH_STR); W_CURRENT_MM := TO_NUMBER(W_CURRENT_MM_STR); W_CURRENT_SS := TO_NUMBER(W_CURRENT_SS_STR); -- W_CHECK_SEC := W_CURRENT_HH * 3600 + W_CURRENT_MM * 60 + W_CURRENT_SS - IN_KIJUN_TIME; W_CHECK_HH := W_CHECK_SEC / 3600; W_CHECK_SEC := W_CHECK_SEC - (W_CHECK_HH * 3600); W_CHECK_MM := W_CHECK_SEC / 60; W_CHECK_SS := W_CHECK_SEC - (W_CHECK_MM * 60); W_CHECK_HMS := W_CURRENT_YYYYMMDD || W_CHECK_HH || W_CHECK_MM || W_CHECK_SS || '00'; -- ◆DEBUG START DBMS_OUTPUT.PUT_LINE('・W_CHECK_HH = ' || W_CHECK_HH); DBMS_OUTPUT.PUT_LINE('・W_CHECK_MM = ' || W_CHECK_MM); DBMS_OUTPUT.PUT_LINE('・W_CHECK_SS = ' || W_CHECK_SS); -- ◆DEBUG END （以下省略） 【標準出力】 SQL> EXEC TESTSP(60); ・引数：監視基準時間（秒） = 60 ・システム時刻14 = 20070308222543 ・システム時刻(YYYYMMDD) = 20070308 ・W_CHECK_HH = 22 ・W_CHECK_MM = 25 ・W_CHECK_SS = -17 ※システム時刻[22：25：43]の60秒前は22：24：43なので、 [2007030822244300]という文字列を作成したいのです
あるセレクト文のパフォーマンスを測定するためにループで複数回実行し時間を測定したいのですが、select 変数 into をしないとコンパイルできず実行できません。 同じセレクト文を複数回実行し時間を測定するのに良い方法は無いでしょうか？ CREATE OR REPLACE PROCEDURE test IS BEGIN DBMS_OUTPUT.PUT_LINE(TO_CHAR(sysdate(),'YYYY/MM/DD HH24:MI:SS')); FOR i IN 1..100 LOOP SELECT a,b,c,d,e FROM tbl; END LOOP; DBMS_OUTPUT.PUT_LINE(TO_CHAR(sysdate(),'YYYY/MM/DD HH24:MI:SS')); END;
カーソルでレコードを検索し、フェッチします。 その後、INSERTする共通関数を呼ぶのですが、 フェッチしたレコードの値でINSERTしたいのです。 引数で１コずつ渡すと数が多いので、フェッチしたレコードごと引数で渡せないかと それって可能ですか？
数件単位で合計した集計をしたいのですが、良い案が思い浮かびません。 例えば、100件のレコードがあった場合、ID.1～10までの合計、 ID.11～20までの合計、・・ID.91～100までの合計といった感じです。 ○集計対象のテーブル ID　　値 ---------------------------- 1　　10,000 2　　9,000 3　　8,000 : 99　　100 100　　10 ○集計結果イメージ ID 　　　　　　　値 ---------------------------- (1～10の合計値)　　　50,000 (11～20の合計値)　　 25,000 　： (91～100の合計値)　　5,000 以上、宜しくお願い致します。
こんにちわ。Oracle初級者です。 現在Oracle9iのインストールを実施しているのですが、 Oracle9.2.0.1インストール⇒PSR 9.2.0.4インストール⇒CPU 3811887の順番で行い、最後のCPU適用で『OPatch succeeded』となるのですが、 $ opatch lsinventory を実行したときの表示に、適用されているパッチ情報がでてきません。 ログを確認すると以下のメッセージを見つけました。 --------------------------------------------------------------- Exception in thread "main" java.lang.NoClassDefFoundError: javax/xml/transform/Source at opatch.LsInventory.getOneOffList(LsInventory.java:671) at opatch.LsInventory.main(LsInventory.java:243) Result: There is no Interim Patch OPatch succeeded. ---------------------------------------------------------------- このメッセージが原因で、表示されないのではないかと考えています。どなたかご教授をお願いします。
Oracle9iのデータベースをＤドライブからＥドライブに移動させたいのですがどういうやり方があるのでしょうか？Oracle本体は今のドライブのままでいいのですがデータベースだけ移動できるのでしょうか？
VB2005の試用版とOracle10gの試用版でプログラミングの 勉強をしたいと思っています。 マシンはPC1台のみです。 正直知識はあまりありません。。 VBの試用版は入ったのですが、Oracleのインストールでつまづいています。 質問としては、 １．サーバーとクライアントの形でないとOracleやSQLServerは使えない？ 　（ネットで読んだ感じでは１台のPCでも大丈夫のように思ったのですが） ２．インストール時の警告が1件出て 　「問題: インストールによって、システムのプライマリIPアドレスが 　DHCP割当てであることが検出されました。 　推奨: Oracleでは、DHCP割当てのIPアドレスを持つシステムへの 　インストールがサポートされます。ただし、このようなシステムに 　インストールする前に、Microsoft LoopBack Adapterをシステムの 　プライマリ・ネットワーク・アダプタにするように構成してください。 　DHCPで構成されたシステムへのソフトウェアのインストールの詳細は、 　インストレーション・ガイドを参照してください。」 と出ましたのでガイドを見たのですが、 ＜ガイド内の説明より＞ SYSTEM_DRIVE:\WINNT\system32\drivers\etc\hostsファイルで、localhost行の直後に次の形式の行を追加します。 IP_address hostname.domainname hostname 各項目の意味は次のとおりです。 IP_addressは、手順14で入力したルーティング不能IPアドレスです。 hostnameは、コンピュータ名です。 domainnameは、ドメイン名です。 次に例を示します。 10.10.10.10 mycomputer.mydomain.com mycomputer のドメイン名に何を設定すればいいか分かりません。 宜しければアドバイスを頂けないでしょうか。 宜しくお願い致します。 ------------------------------------------------------ 環境 マシン：Celelon1.7GHｚ OS：Windows2000Pro DB：Oracle10gリリース2試用版 フルコンピュータ名：usr-m ワークグループ：WORKGROUP
SQL*PLUSでORACLEデータを単純にテキストファイルに書き出したいのですが、項目内に「改行」があるとレコードが複数行に分かれていまい、上手くいきません。 項目内の「改行」のみ（レコード終端の本来の「改行」は残す）を削除して前詰めする（または空白に置き換える）方法をご存じの方ご教示いただけないでしょうか。 例） SET COLSEP ',' SPOOL D:\出力ファイル.txt SELECT　　　　　　項目１ ||項目２ ||項目３ FROM テストテーブル ; SPOOL OFF;
こんにちわ。 いまORACLE9iで開発している者です。 SQL*PLUSを使用していますが， 普通に「SQL*PLUS」を起動する場合と， MS-DOSから起動する場合があります。 MS-DOSから起動するときのメリットというのは あるのでしょうか？ 教えてください。 よろしくお願いします。
基幹システムの開発で郵便局サイトからダウンロードする CSVファイルを利用することになりました。 テーブルレイアウトは基本的にCSVレイアウトに準ずると決定しています。 （不必要な列を削除するのではなく全データを取り込むという意味） しかし、列の長さをどうすればよいのか分かりません。 特に「フィールド９」(町域）についてです。 ネットで少し調べてみましたが256byteとしたサンプルソースも有りました。 しかし、256byteを超えるデータは将来においてもあり得ない、 というような保証のような記述は有りません。 ちなみにデータ上の最長は74byteでした。 結構このCSVを利用するというのはあるようですが、 型はどのようにして定義されましたか？ また、根拠となる情報があれば ユーザーに説明が出来ますので、 ご紹介をお願いいたします。
エクスポートしたファイルを別テーブルへインポートする方法を教えてください。 perlでテーブル名称だけを置換する方法を考えたのですが、ダンプファイルのレコード数が多いため、時間がかかりすぎてしまいます。 うまくデータ部分以外のヘッダ部分のテーブル名を変えるか、それ以外の方法ってないのでしょうか？
質問があります。 oracle初心者です。 oracle8.1で insert文によってデータを登録すると 一番最後のレコードに表示されません。 select文（select * from "テーブル名"）を 書いて全レコードを抽出すると、中途半端な位置に 最新レコードが表示されます。 デフォルトでテーブルのデータが表示される位置に 決まりというのはあるのでしょうか MYSQLでは最後の行に最新レコードが表示されるはずですが、 オラクルでは違うのでしょうか。 もちろん、文字コード順や数値の順番ではないみたいです。 困っていますご回答よろしくお願いします。
データベースの監査証跡表（スキームSYS.AUD$表）に監査レコードが格納されるように、AUDIT_TRAILパラメータを変更したいのですが、方法がわかりません。参考URLを見る限り、設定値をDBするようですが、どこの値をDBに設定すれば良いのかわかりません。 宜しくお願いします。 参考URL http://www.atmarkit.co.jp/fsecurity/rensai/dbsec …
SELECT A.商品名 B.商品名 FORM A,B WHERE ((A.店コード IN (引数.店コード)) and (A.商品コード IN(引数.商品コード)) AND (A.店コード = C.店コード) AND ((A.商品コード = D.商品コード) AND (A.店コード = D.店コード)) というSQLに下記条件を追加したいのですが、集計関数の使用方法がわかりません。 SELECT Sum(金額) FROM Q WHERE Q.店コード = A.店コード AND Q.商品コード = A.商品コード GROUP BY Q.店コード, Q.商品コード Qテーブルは　店コード、商品コード、メニューコード　がKEYなのですが、 店コードと商品コードだけで集計した値をSELECTしたいのです。 恐れ入りますが、ご教授頂けますよう宜しくお願いします。
SQLの構文でご教授願います。 テーブル１（顧客マスタ） 顧客番号 　住所コード 1　　　　　　　　01 1　　　　　　　　02 1　　　　　　　　03 テーブル２（住所マスタ） 住所コード　住所 01　　　　　　　ううう 02　　　　　　　いいい 03　　　　　　　あああ 上記２テーブルを連結し、 「顧客番号」と「同一顧客内の最小の住所コード」と「その住所コードの住所」を取得したいのですが、、、 SELECT 顧客マスタ.顧客番号,MIN(住所マスタ.住所コード) AS 住所コード,MIN(住所マスタ.住所) AS 住所 FROM 顧客マスタ INNER JOIN 住所マスタ ON 顧客マスタ.住所コード = 住所マスタ.住所コード GROUP BY 顧客マスタ.顧客番号; と発行すると、 顧客番号 　住所コード　住所 1　　　　　　　　01　　　　　　あああ となってしまいます。 これを、 顧客番号 　住所コード　住所 1　　　　　　　　01　　　　　　ううう のように取得したいのですが、 どのようなSQL文を書けばよいのでしょうか。 ちなみに、VIEWは使いたくなく、複雑なSQL文でもかまわないので、 一度で持ってこれるような構文はないでしょうか？ 宜しくお願いいたします。
お試し版は30日で使えなくなるので、PHP,VB6やVB.NETやJavaの開発環境で一番安く購入できるオラクルのライセンス形態と価格が知りたいのです。 またオラクルとMySQLでは機能面の違いなど知りたいです。
オラクルを勉強したいのですが、なにかテーブル作成のsqlサンプルが載っているHPなどありましたら、ご教授頂けないでしょうか？
Oracle10gで同一主キーに対してINSERT処理をした場合に出力されるエラーメッセージを教えてください。 今確認できる環境がないため、宜しくお願いします。
いつも参考にさせて頂いています。 初歩的な質問なのですが、宜しくお願いします。 スキーマという概念がわかりません。 ネットや本で調べてみても、概念的なことしか書いていないものが多いみたいです。 ユーザと同じ？と思ったりもしたのですが何かが違う思い質問させて頂きました。噛み砕いて教えて頂けるとうれしいです。 あとスキーマというのはどういう時に使用（作成）するのでしょうか？ スキーマについてご教授宜しくお願いします。
文字型を日付型に変えるTO_DATE関数ってありますよね。 もともとのデータは数値型（NUMBER型）だったとしたら、 その数値型を日付型に変換するためには、 例）TO_DATE(TO_CHAR(20001201),'YYYY/MM/DD'))で実行すれば、 結果は、「2000/12/01」になりますよね？ しかし、ここで問題なのがもともとのデータの数値型の初期値が０で設定されていて、なおかつその行も結果として出したい場合どうしたらいいのかわかりません。 例が解りにくくてすいません！ 何か解決法がありましたらぜひ教えて下さい！
唐突で申し訳ありませんが、oracle の count について質問があります。 現在、複数のテーブルに各データ（レコード）が入っているのですが、 select 文でテーブル名を指定せず、登録されている全テーブルに対するレコード件数をカウントしたいのですが、どなたか教えていただけないでしょうか？よろしくおねがいします。。ｍ（＿＿）ｍ ＜出力イメージ＞ TABLE_NAME　　　COUNT(*) －－－－－－－ －－－－－ 商品名　　　　　　　　1250 連絡先　　　　　　　　8700
OracleSQLどころかSQLが初めてなのですが、以下のような事がしたいんです。 金額テーブル　　　　　　　品名マスタ 品名コード　品名　金額　　品名コード　品名コード名 1　　　　　　○○　\100　　　1　　　　　　1の名前 1　　　　　　○×　\250　　　2　　　　　　2の名前 2　　　　　　△△　\200　　 この２つを使用して 品名　品名コード1の金額　品名コード2の金額　 というテーブルをSQL上で書きたいのですが、可能でしょうか？ 可能であればどういう書き方にするといいのかご指導宜しくお願いします。
ASPでoracleのデータを集計しようとしたところ、SQL文でエラーが発生してしまいました。 (ORA-00911: 文字が無効です。) 同じSQL文を「SQLPlus Worksheet」で実行してみたら、問題なく実行できました。 エラーの原因を教えてください。 SELECT CASE WHEN 処理CD = '1' AND 集計F = 'Y' THEN '1Y' WHEN 処理CD = '1' AND 集計F <> 'Y' THEN '1N' END AS kubun, COUNT(連番) AS kensu SUM(金額) AS kingaku FROM aaa WHERE 日付 = '200701' GROUP BY CASE WHEN 処理CD = '1' AND 集計F = 'Y' THEN '1Y' WHEN 処理CD = '1' AND 集計F <> 'Y' THEN '1N' END kubun毎に金額の合計値などを集計したいというような感じです。 よろしくお願い致します。
Aテーブルの日付フィールドを見て、引数の日付から過去7日間のデータを取得したいのですが、 その際に Bテーブルの日付と取得不可フラグを参照し、取得しようとしている日付（引数から過去7日間）に取得不可フラグ=1がたっていれば、Aテーブルの日付7日間のカウントに含めない としたいのですが、その判断を1回のSQLで取得することは可能でしょうか。 MINUSを使用しようとしましたが上手くいきませんでした。 お手数ですが、ご回答いただけますでしょうか。 宜しくお願いします。
Oracle９を利用しています。 テキストにSQLを記述し、SQLPLUSで実行させる方法はありますでしょうか。 また実行させた際、その結果をテキスト形式で出力する方法もありますでしょうか。 よろしくお願いいたします。
ただいま、会社にてOracleとVBを使って「社員コードを入力すると、２つの表からデータを取得する」というような外部結合などを勉強中なのですが、SQL構文が今一理解できません。 何か詳しく分かり易いおすすめのOracleの書籍とかないでしょうか？
SQL*Plus　を使用して、作業した後、 接続先は同じままユーザを変える時 connect ユーザ/パスワード@接続先 と入力しますが、この接続先を毎回入力するのが煩わしいので、 なんとか省略できないものかと思ってます。 ユーザ名を引数として受け取り、現在の接続先を自動的に取得して、 同じ接続先に　connect　するSQLファイルを作成しようとしているのですが、 現在の接続先を取得するにはどうしたらよいのでしょうか？
こんにちは。 Oracle 9iで開発をしているのですが、 PL/SQLで引数にテーブル名（物理名）を渡せば そのテーブルのデータを全件ファイルに出力するような 処理は書けるでしょうか？ お力を貸してください。 よろしくおねがいします。
１ヶ月後に転職を控えています。 今まではＰＧだったのですが、転職先ではＤＢエンジニアとして働く予定です。 で、Solaris＋Oracleの構築を行う事が多いようなので、その環境で学習をしたいと思っています（Unixは全く触れた事がなく、OracleもWindows環境で体験版で触れた事しかないのですが・・）。 オラクルのＨＰには、windowsとLinux用しかないのですが、Solarisの場合、Linux用のをインストールするのでしょうか？ 初歩的な質問で恥ずかしい限りですが、アドバイスよろしくお願い致します。
お世話になっております。 Linuxで、Oracle10gをインストールしたいのですが、インストール時に、 データベース作成を選択すると、固まってしまいました。 そこで、質問なのですが、インストール時にデータベース作成を 選択すると、DBCAからデータベースを作成するときに表示する画面 (例えば、DBのサイズ選択)と同じ様な画面・同じ様な手順でDBを 作成するのでしょうか。 データベース作成を選択しても、結局は、DBCAが必要になるのかなど、 ちょっと気になりました。 宜しくお願いします。
仕事で、Oracleのデータベースを使用してSI OBJECT BROWSERからSQLを書いて実行結果を試し、正しく動くようならプログラムの方に使っています。これは仕事の環境で、やりたい事というのは自宅でSQLの練習をする事なのですが、この環境は簡単に作れないので悩んでいます。データベースはエクセルに出力したものがあるのでそれを使用してOracleSQLの実行結果を試す方法はありませんか？ご存じの方教えて下さい。お願い致します。
Oracle8.1.5上で現在稼動している順序があります。 わけあってこの値をスタート時の値１にリセットしたいのです。 どのような方法があるでしょうか？ DROP SEQUENCEしてCREATE SEQUENCEは避けたいのですが どなたかご存知の方お願いします。
上司に「SQL入門」資格の取得を勧められました。 オラクルのブロンズ資格みたいなものかなと思っているのですが、 調べても、SQL入門という資格についての詳細な情報がわからず 困っています。 SQL入門資格について、取得までのプロセス、費用など、詳しい 情報を教えていただけないでしょうか？
あるDBで全データをEXPORTしようと思っています。 ただし、その中の1つのテーブルだけ範囲指定をしたいです。 （他のテーブルは範囲指定はしないで） queryオプションを使えばそういったEXPORTは 可能なのでしょうか？ それともqueryオプションを使う時点で EXPORTできるのは1つのテーブルだけとなるのでしょうか？ お解りになる方どなたか教えてください。
たびたびお世話になります。 PL/SQLで以下のような検索をしたいのですが、 １つのSQLで実現するにはどのようなSQL文を 書けばいいですか？初心者ですが、よろしくお願いします。 ちなみに、Indexはありません。TABLE_AとTABLE_Bの列は同じです。 ・COL1='plan'、COL2='hokan'でTABLE_Aを検索し、 　(1)データがあればTABLE_AのCOL3,COL4をTABLE_Bの 　　COL3,COL4と結合してTABLE_BのCOL0の値を取得 　(2)データがなければCOL1='plan'、COL2='hokan'で 　直接TABLE_Bを検索しCOL0の値を取得 よろしくご教示ください。
SQL初心者ですが、教えてください。 （oracle10g を使用します） 下記の様なテーブルがあります。 テーブル名 　カラム名 MEIBO　　　　NAME, TYPE, HOME_CODE, OFFICE_CODE HOME　　　 　HOME_CODE, HOME_ADR, HOME_TEL OFFICE　　 　OFFICE_CODE, OFFICE_ADR, OFFICE_TEL MEIBOテーブルのTYPEが1の場合、HOME_CODEをキーとして、HOMEテーブルより HOME_ADRとHOME_TELを取得、 MEIBOテーブルのTYPEが2の場合、OFFICE_CODEをキーとして、OFFICEテーブルよりOFFICE_CODE,OFFICE_ADR,OFFICE_TELを取得し、 下記のイメージのように出力をしたいです。 NAME TYPE　　 ADR　　　 TEL -------------------------------------- 山田　　1　　　　東京都…　03-XXXX-XXXX 鈴木　　2　　　　神奈川県　045-XXX-XXXX 以上です。 ご存知の方いらっしゃいましたら よろしくお願い致します。
select 1+1; というようにfromが無い文はエラーになりますが エラーを避けるために select 1+1 from ?; としますが ？の部分に入るのはどういう文字でしょうか？ SQLplulsを大分前に少し使っただけだったので 度忘れしてしまいました
Ｏｒａｃｌｅのパフォマンスチューニングを考えています． STATSPACKを実施してレポート内容を確認しようと思ったのですが、レポート内容が良く分からないので、詳しく解説・分析方法が分かるＨＰ等はありますか？
こんにちわ。 データ移管の件で悩んでいます。 AとBというテーブルがあり、違いは名前だけで構造は全く一緒です。 Aには大量のデータが入っており、Bにはデータが全く入っていません。 今、このテーブルにAのデータを一度エクスポートして、後でBのテーブルに移管したいと考えています。 しかし、 exp ID/PW file = (エクスポートしたファイル名) table = A でデータをエクスポートし、 imp ID/PW file = (エクスポートしたファイル名) tables = B でデータを入れようとしたのですが、 IMP-00033: 警告: 表"B"がエクスポート・ファイルにありません というエラーになります。 AからエクスポートしたデータをBにインポートするにはどのようにすれば宜しいのでしょうか？ 尚、今回は事情があり、create table B as select ... という方法は使えません。 宜しくお願いします。
こんにちわ 現在Aというサーバーにおいて、とあるテーブル（他のテーブルとのリンク等無し）がサーバーの容量を圧迫するぐらいに肥大してしまったので、このテーブルのデータを一度別のサーバBにエクスポートしてバックアップをとり、このテーブルにTruncateをかけてインデックスを再構築し、データを戻すということを考えています。 しかし、別のサーバーにデータをエクスポートする方法がわかりません。実の事を言えばexpコマンド自体、あまり分かっていません exp ユーザー/パスワード file=エクスポートファイル名、パス table=DB名.テーブル名 という所までは分かっているのですが、この後、どのようなオプションや記述をすれば良いのかが分かりません。 すみませんが、どのようにすれば別のサーバーにファイルをエクスポートできるのでしょうか？ 尚、一度サーバーAにおいてFTPでBに移すという方法は、既にサーバーの残り容量が少ない為、不可能な状態です。 OSはSolaris、Oracleのバージョンは9iです。 お手数をおかけしますが、宜しくお願いします。
先期末の日付を求めるＳＱＬで、もっともイケてるのを教えてください。 期は 4月～9月、10月～3月で 2007年2月5日 なら先期末の日付は 2006年9月30日 です。
こんにちは、よろしくお願いします。 Oracle10gのテーブルの日付型の[SYSTRK_DT」フィールドに、 SQL/Loaderにて、ロードした当日の年月日時分秒をセットする文を 書いておりますが、以下の分で年月日はセットできたのですが、 時分秒までセットする方法をご存知の方いらっしゃいますでしょうか？ このような感じにしたいです→[20060105111353] できれば２４時間表記が良いのですが。。 よろしくお願いします。 LOAD DATA APPEND INTO TABLE TEST_MST ( ～～ SYSTRK_DT "TO_CHAR(SYSDATE,'yyyymmdd')" ～～ )
PL／SQLでトリガーを使って下記処理をしたいのですが教えてください。 処理内容 a在庫数テーブルの在庫数がUPDATE（After UPDATE）するたびに b在庫数テーブルにa在庫数の店CD(KEY1)と商品CD(KEY2)と取引日と当日売上日と在庫数を追加(INSERT) この時、 b在庫数テーブルのkey店CD(KEY1)と商品CD(KEY2)と取引日(KEY3)が同じ場合、在庫数のみを更新(UPDATE)する。 上記の事柄のトリガー機能・処理分を教えてください。 よろしくお願いします。
Oracle初心者です。 WinXpからOracle7の接続を試みているのですが、うまく接続できません。WinXPにOracle7のODBC(対応OS:Win95)をインストールして、ODBCテストするとエラーが返ってきます。オラクル社へ問い合わせすると、WinXP用のOracle7ODBCドライバがないとの返答です。 開発はVBを利用しようと考えています。ADO接続でアクセスはできないような話を聞いたことがあり、ほかの方法でアクセスを考えているのですが、思いつきません。わかる方教えてください。 宜しくお願い致します。
先日、Accesssのオフィスマスターを取得しました。 スキルアップのためにOracleを勉強しようと思っているのですが Accessをちゃんと使いこなせていないので、まだOracleに入るのは早いでしょうか？ Oracleを勉強するのにどういった準備や費用がいるかも全く理解していません。 Javeの勉強を始めようと思っているすが、データベースとどちらから入る方が理解が早いでしょうか？ 年齢も33歳ですし、Javaを覚えてプログラマになる気も（なれるわけ）ないのに Javaの勉強は遅すぎるかな？とも感じています。(他の職業をしています。) 言語はいずれ覚えなくてはならないので良いのは良いのですが・・ データベース＝シスアド　プログラミング＝基本情報 の勉強に繋がるイメージがあるのですが・・ 先日、あるスクールにJavaコースを申し込んでしまいました。 もうデータベースコースに変えれないそうです。 データベースコースにも申し込もうかと悩んでいますが費用もかさみますし、 一気に勉強をしても中々頭にしっかりと入らない不安もあるのです（困） あ！オフィスマスターはなんとか独学で取得しました☆ Javaコースをスクールでしっかり勉強すれば、Oracleは独学でゆけるかな？と甘い考えもあるのです。 なにかアドバイスがあれば書き込みをお願いしたいのですが、宜しくお願い致します！！
perl（DBIモジュール）でのoracleアクセスを実験しようとしています。環境準備として、サーバにDBD-oracle（ORACLEドライバ）を生成しようとした際、下記エラーが出てしまい、DBI＋DBD環境がうまく作成できていません。つきましては、考えられる原因と対処についてお教え願います。 ＃perlを作り直す必要があるのでしょうか？？ ＃エラー原文添付につき長文となりましたが、ご容赦願います。 ■環境 　OS:UP-UX(11.0） 　DB：Oracle9.2.0.6 　Perl：5.8.3 　DBI：1.48 ■エラー内容 # perl Makefile.PL (中略） Configuring DBD::Oracle ... >>> Remember to actually *READ* the README file! Especially if you have any problems. Using Oracle in /home/oracle DEFINE _SQLPLUS_RELEASE = "902000600" (CHAR) Oracle version 9.2.0.6 (9.2) Found /home/oracle/rdbms/demo/demo_rdbms.mk Found /home/oracle/otrace/demo/atmoci.mk （中略） Warning: Oracle is built with multi-threading libraries You will most likely need to rebuild perl from sources with the following libraries: -lcl -lpthread Warning: Stripping `cat /home/oracle/lib32/ldflags` `cat /home/oracle/lib32/sysliblist` from link command, because it contains libraries not compiled with +z or +Z (PIC) causing link to fail. Furthermore, we should have already grabbed these libraries Found header files in plsql/public rdbms/public rdbms/demo. *** *** Warning: If you have trouble, see README.hpux... you may have to build your own perl, or go untingforlibraries *** Warning: If you have trouble, try perl Makefile.PL -l *** Checking for functioning wait.ph System: perl5.008003 hp-ux bertha b.11.00 u 9000800 136901587 # 以上
今、会社ではセキュリティソフトを入れており、機能の一つとして端末操作のログを残してます。 そのログを精査してDBに入れたいと考えています。そこでSQLLOADERでデータをアップしようとしたのですが、データにあまりにも重複分があるためエラーになります。調べてみると許容エラー数は50だそうです。 単純にテーブル側で一意キーを設定したら重複分はアップされるときに精査されると思いましたがそうでもないようです。 ログは一週間で消えますので日々保存し日々アップを考えてますので重複分のデータの方が多いです。 なんとか精査してDBにいれることはできないでしょうか？
タイトルどおりですが、「論理読み込みブロック数」とはいったい なんでしょうか？データベース経験が全く無いので、分かりやすい 説明をしていただけると幸いです。 よろしくお願いいたします。
OracleのPatch適用時についての質問です。 現在、Oracle9.2.0.8環境にPatch3を適用しようとしていますが、 Opatchを使用してインストール中に以下の様なメッセージが出力されます。 『ERROR: OPatch failed as verification of the patch failed. OPatch returns with error code = 240』 Opatchのエラーは検索しても引っかからない為、大変困っています。 ご存知な方がいらっしゃいましたら対策を教えて頂けませんでしょうか。 宜しくお願い致します。
表記の件ですが、SUM関数はフィールドが同じで違うレコードを集計していくのですが、そうではなく、違うフィールド同士を集計したいのですが、どうしたらいいのかわかりません。 （※アクセスなら可能なのかもしれませんが。） a b c 100 200 300 上記の場合、a+b+c= 600 という戻り値が欲しいのです。 恐れ入りますが、どなたか（可能不可能でもOK）ご教授ください。 よろしくお願いします。
PL*SQLを作成しているのですが うまくいかず質問させていたたくことにしました。 SQL初心者ですがよろしければご教示ください。 テーブル名 カラム名 TMP　　　　　DATA,TIME LIST　　　　　NO,WNO BOOK　　　　SNO,TITLE 上記をふまえた上で DATAへNOをUPDATEかけたいのですが その条件は ・BOOK.SNO=LIST.WNOかつTMP.TIME=LIST.WNOのLIST.NOの抽出 ・TMP.TIME is not null ・BOOK.TITLE is not null ・distinct TMP.DATA ・TMP.DATA is not null 以上です。 どなたかよろしくお願いしますm(_ _)m
VB6とOracle9iのOO4Oにてシステムを構築しておりますが、一つ解らないことがありましたので、どなたかご教授願います。 あるPG(通常のEXEです)よりActiveX DLLを呼び出してOracleの表へデータを挿入する処理があります。呼び出し元となる通常のEXEはまずOracleの接続処理を記述しています。正常に接続が完了したならトランザクションを開始し、表のDeleteを実行します。その後ActiveX DLLを呼び出して表のInsertを実行しています。再び通常のEXEに制御が戻り、トランザクションの完了(COMMIT)または破棄(ROLLBACK)を行います。しかし、最後のトランザクションのCOMMIT(ROLLBACK)を行うと『コッミト(ロールバック)時にアクティブなトランザクションがありません』というエラーが発生してしまいます。正しくBegin Transactionを実行しているのに、これはどういうこと何のでしょうか。ご存知の方がいらっしゃましたら教えてください。
こんばんわ、よろしくお願いします。 Oracle10g上でＳＱＬを叩いているのですが、 ある列をUPDATEする時に、 NUMBER型のフィールドは毎回+1する方法って どうやるんでしたでしょうか？ たとえば、カウントというNUMBER型のフィールドに 10が入っていたら、UPDATEを発行したら11にする。 といった感じです。 非常に簡単だった覚えがあるのですが、 どう書くのか忘れてしまいました。。 ググってもいまいち検索キーワードが思いつかず、、。 よろしくお願いします。
はじめまして、似た質問があったのですが解決には至らなかったので質問させていただきます。 表A 列1…主キー 列2 --中略-- 列8 表B 列1…主キー 列 --中略-- 列8 このような二つの表があり、列1は表Bにあるものはすべて表Aにありますが、 表Aの列1には表Bの列1にはないものがあります。 それ以外の列構造は同じですがデータはすべて異なっています。 表AとBの列１の値が同じものは、表Aの列8を表Bの列8で上書きをしたいです。 UPDATE 表A SET 表A.列8 = (SELECT 表B.列8　FROM 表B WHERE 表A.列1 = 表B.列2) WHERE 表A.列1 =ANY(SELECT 表B.列1 FROM 表B) このUPDATE文を実行すると、 ORA-01427: 単一行副問合せにより2つ以上の行が返されます。 というエラーになってしまいます。 検索などして、調べてみたのですが、このエラーから抜けることができません。 アドバイスをいただけたらと、投稿させていただきました。 よろしくお願いします
Oracle初心者です。 Oracle9.2iのDATE型にNULLをセットする方法を教えてください。 UPDATE及びPL/SQLでセットする方法 ちなみに.net2005 VBの言語で、DATE型にNULLをセット方法も同時に教えてください。
PHPを使って、Oracleに接続したいのですが 接続方法がよく分かりません。 初めに、何から始めればいいのか？？ 初歩的な事も分からない状況です。 ＜環境＞ 　OS :Windows XP Profesional 　DB ：Oracle9i Enterprise Edition Release 9.2.0.1.0 　Webサーバ：apache http server 2.0.53 　WEB ：PHP 5.0.4 どうぞ、よろしくお願いします。
質問するカテゴリが間違っていたら申し訳ありません。 oracleを使用しWEBアプリを開発しています。 DB連携を行っていて、 WEB--DB--DB処理という形になっています。 言語はWEB側が java1.5（struts1.2）コンパイルは1.4準拠 DB処理が Cです。（PRO C？） WEB側で値を格納し、DB側で入力値によって処理を 行い結果を格納するのですが、たまにORA-1403のエラーが発生し 正しく処理ができません。 例 tbl_master A001（PK）,　A002　　　,　A003 ID　　　　,　linkcode　,　結果 tbl_link001 A001（PK）,　A002　　,　A003 ID　　　　,　値１　　,　値２ WEB側でDB格納する際にDB接続からリリースまでのメソッドに synchronizedをかけていますが、これが影響しているのでしょうか？ DBのロックではないので問題は無いとは思っているのですが・・・。 ご存知の方がいらっしゃいましたらご教授いただけますでしょうか。 お願いします。
いつもお世話になっています。 insert文の副問い合わせのことでお聞きしたいのですが、 ■通常のinsert文 insert into AAA values(aaa,bbb,ccc); 上記のsqlを副問い合わせにした場合(aaaに別テーブルからの検索結果を入れたい場合)どういうSQL文になるでしょうか。 参考書等を参照すると、副問い合わせの場合はvaluesを省略する(使えない？)と記述がありました。 insert into AAA values ( aaa IN (SELECT bbb from BBB where ccc = ddd),bbb,ccc); とはできないみたいですので… どうかご教授宜しくお願いします。
いつもおせわになります。 AM03001の型は20桁のcharacter型です。20 spacesより以上の条件で、すべてのAM03001の照会ができますか Select AM03001 from RAM03SHOH where AM03001 >= ' ' order by AM03001
先日SQL-LOADERについて質問させてもらいましたが、もう1つ教えて欲しいことがあります。 SQL-LOADERの逆のものはないのでしょうか？ 200万件のテーブルのデータを、条件毎に高速エクスポート（固定長テキスト）したいのですが。 つまりSQL-WRITERというものは無いかな～、、、と、、、(笑) 最悪、PL/SQLで200万件をまわして、テキスト出力させようと思っていますが、多分時間が相当かかると思うので、、、、 なにか良い方法があったら教えてください。
EXPORTされたダンプファイルをそのままIMPORTすると 数時間もかかってしまいます。（ORACLE９i）（エラーは出ません） 原因はあるテーブルの件数がかなりの件数に達しているためのようなのですが、IMPORT処理を速くする方法というのは何かあるのでしょうか？ もしくはIMPORTする際にデータの範囲指定のようなことはできるのでしょうか？
データベースにoracle9iを使用しているのですが クライアントのoracle9.2からexpコマンドを発行してもエラーで 落ちてしまいます。 うまくエクスポートする方法ありましたら宜しくお願いします。
SQL-LOADERで質問があります。 あるファイルをSQL-LOADERで取り込もうとしたとき、先頭の1バイトが'1'の場合Aテーブルに、'2'の場合Bテーブルにinsertさせることは可能でしょうか？ ご存知の方がいましたら、教えてください
今回急遽Oracle（8.1.6です。）の運用保守を担当する事になったものです。 ここ１ヶ月あたり自分なりに必死でいろいろ情報を 集めているつもりなのですがどうしても分からない事があります。 アクセスパスを選択するにあたり、 CBO,RBOの２種類があると理解していますが、 実際にその設定はどこに定義されているのでしょう？ 現在どちらが採用されてアクセスパスが導かれているか を調べるにはどうすればよいのでしょうか？ 実行されるSQLが使用しているテーブルや、IndexのANALYZEが 行われていたら自動的にCBOになるのでしょうか？ それともヒント文を記載しなければCBOになるのでしょうか？ どなたか教えてください。
いつもお世話になっております。 今回は標題の件について、ご教授下さい。 カラム「XXX_CODE」はCHAR(3)の項目です。 この項目が半角スペース(△)のものを条件としてレコードを引き当てたいときに、以下のSQLではうまくデータが取得できません。 trim関数の使い方に誤りがあるのでしょうか。 ◆データ XXX_NO　　　　XXX_CODE -------------------------------- 111　　　　　100 222　　　　　△△△ 333　　　　　200 ◆SQL select XXX_NO from hoge where trim(XXX_CODE) = '' ◆結果 該当レコードなし (本来なら「XXX_NO = 222」のデータを取得したい) 初歩的なことかも知れませんが、ご回答頂ければ幸いです。 よろしくお願いいたします。
OracleのXEを初めて使ったのですがインターフェースはブラウザなのでしょうか？SQLサーバーに比べ使いにくいなと感じたのですが、OracleのGUIはみんなそうなのでしょうか？
Aテーブルから日付が最大のレコードを取得し（AAとする） AAに対して、さらに抽出条件を加えたいです。 Aテーブル： 商品名│日付　　　│ あああ│2007/01/01│ いいい│2007/01/02│←このレコード ううう│2007/01/01│ おおお│2007/01/02│←このレコード 上記の場合、商品名＝「いいい」「おおお」の レコードを取り出したいのです。 さらにはそのレコード達に対して抽出を行いたいのですが まずは、この取り出し方をご教授ください。 （※grpup句やMAXを使用してみましたが、うまくいきません。。） よろしくお願いします。
サーバを設置する際、簡易なサーバーならMySQLなどでいいと聞きました。 どの程度の規模のシステムからOracleやDB2などを使用する必要があるのでしょうか？具体的な場所（銀行とか大会社のシステムとかAmazonとか）なども教えていただけるとありがたいです。 また、ユーザ数（接続数）なども教えていただけるとありがたいです。 また、ここ（教えてgoo）は、なんのデータベースを使っているのでしょうか？ 分かる方、教えてください。よろしくお願いします。
オラクル初心者です。宜しくお願いします。 AAA、BBB、CCCというテーブルがあると仮定します。 画面から入力された値(ddd)をキーとして、CCCテーブルから該当するレコードをセレクト文で引っ張り、eeeという値を抜き出したとします。 そのeeeという値をキーにAAA、BBBテーブルのレコードを削除するにはどういうSQLを発行すればよろしいでしょうか？ "delete from AAA, BBB where eee = (select eee from CCC where fff = ddd);" では駄目でした。 質問が下手でわかりにくいかもしれませんが、どうかご教授お願いします。
以下のような２つのテーブルがあったとして、 ２つともに存在する「店コード」を抽出するのはSQLは分かるのですが、 片方に存在しない「店コード」（以下の例の場合、「2」）を抽出するSQLを 一文で書くにはどうすればいいのでしょうか？ ＜店テーブル＞ 店コード住所・・・（その他、基本情報） 1aaa 2bbb 3ccc ＜販売テーブル＞ 店コード販売品目・・・（その他、販売数など） 1xxx 3zzz
HP-UNIXからLinuxへ移行作業をするのですが、 同時に、LinuxにOracle10gをインストールします。 LinuxとOracleのバージョンは以下のとおりです。 　・RedHat Linux Enterprise3 　・Oracle10g Database Relese2 <以降が質問内容です。> インストール作業で、シェル制限を行う手順があると思いますが、 その際、HP-UNIXの.chrcの内容をLinuxのcsh.loginにコピーして も、問題ないでしょうか。 コピーが問題なければ、コピー後に、シェル制限を行うロジックを Linuxのcsh.loginに追加しようと思っています。
こんにちは。初めて投稿させていただきます。 oracle database10gについて質問です。 PL/SQLでOSファイルの入出力を行う際、9iまではUTL_FILEパッケージを使用して行っていましたが、10gではそれに代わる機能があると以前になにかで小耳に挟んだことがあります。 ですが、WEBで検索しても、それらしきものを発見することが出来ませんでした・・・。 10gでPL/SQLからファイルを入出力する際にも、やはりUTL_FILEパッケージを使うしかないのでしょうか？ OSはwindows32bitを想定しています。 つたない質問で申し訳ありませんが、回答お願いいたします。
あるソフトから送信されるログをオラクル側で受ける設定をした後、 そのログをデータベースで確認したいのですが、 「Object Browser」以外にお勧めのソフトはありますか？ 宜しくお願いします。
Windows2000サーバー上にあるアクセスファイル（別のOracle9サーバーにODBCリンクしている）をWindowsXpパソコンにコピーしましたが、「ODBC-xxxxへの接続が失敗しました」と表示されOracleデータを参照できません。 WindowsXpには、Oracleクライアントはインストール済み、DSNにもMicrosoft ODBC for Oracleを登録済みです。新規にODBCリンクすることは可能です。 エラーなく参照できるようにするにはどうすればいいでしょうか。
いつも楽しく拝見させて頂いています。 オラクル(oracle9iDatabase)をインストール中に「oci.dll書込み中にエラーが発生しました」とダイアログ表示され、インストールできません。 ログを見たところ、「プロセスで使用中されています」となっています。どのプロセスを終了したら解決できるのかわかりません。それとも全く別の問題でしょうか？どうか宜しくお願いします。 OS：WINDOWS　XP　HOMEエディション oracleバージョン：oracle9.2.0.1.0
ご存知の方、教えてください。 今、サーバーにORACLEが入っているのですが、 AとBという二つのデータベースがあります。 INTERNALユーザーで接続してAのデータベースをシャットダウンしたいのですが、デフォルトインスタンスのBにつながってしまいます。 INTERNALユーザーの接続先データベースを変更することは可能でしょうか？ ご回答、よろしくお願いいたします。
基本的なことかもしれませんが、教えてください。 DB2, Sybase とかですと、Create Table 文をテーブル自体から抽出できます。 Oracle の場合、実際に存在するテーブルから、Create Table 文を生成する ことは可能なのでしょうか？ よろしくお願い致します。
初心者ですが、よろしくお願いいたします。 Windows2003サーバからRedHatLinuxES3のOracle10.2.0.1.0にたいして impコマンドを実施したところ、以下のエラーで接続できません。 調べてみたのですが、有効な情報が得られなかったのでどなたか教えてください。 IMP-00058: Oracleエラー6550が発生しました。 ORA-06550: line 1, column 33: PLS-00302: component 'SET_NO_OUTLINES' must be declared ORA-06550: line 1, column 7: PL/SQL: Statement ignored IMP-00000: エラーが発生したためインポートを終了します。
ACCESSのプロジェクト（帳票印刷など）ですが、データはORACLEに置いています。 ORACLEのクライアントをインストールしないで、ODBCを経由して、接続できますか？
こんにちは,よろしくお願いします。 日々の業務アプリでOracleDB上にCreateされる無数の ワークテーブルを、一日一回dropするDOSバッチを考えております。 テーブルの先頭文字列は「WAK」なのですが、それ以降 年月日字分秒を付加しているために、dropするにもテーブル名を 特定できません。 テーブル名称例） WAK20060112122354 WAK20060112144852 ・・・・ drop table コマンドで、ワイルドカードのようなものを 指定できますでしょうか？ イメージとしては、「drop table WAK%1*」(%1はYYYYMMDD)の ような感じです。 環境はWin2003R2にOracle10g(10.1.0)を乗せています。 よろしくお願いします。
質問１ オブジェクトブラウザ8から管理→ロード→「DB→ファイル」タブで制御ファイル、データファイルを実行する操作をコマンドで実行する方法を教えてください。 質問２ 上記操作を抽出条件を指定して実行する方法はありますでしょうか？ アドバイスお願い致します。
専用サーバ接続だと、問題なく接続できるのですが、 共有サーバ接続にするとora-12523でエラーとなってしまいます。 tnsnames.oraに (CONNECT_DATA = (SERVER = SHARED)) としてローカル環境で接続しています。 同じような現象をご存知が見えましたら、ご教授願います。 os : miracle linux 2.4.9-e.9.30ml db : oracle 10.1.0.2
DECLARE CURSOR EMP_CUR IS SELECT SALARY FROM EMP WHERE DEPT_NO = 10 FOR UPDATE; BEGIN FOR EMP_REC IN EMP_CUR LOOP DBMS_OUTPUT.PUT_LINE( '変更前：' || EMP_REC.SALARY ); --SALARYが2500以下なら100を加える IF EMP_REC.SALARY < 2500 THEN UPDATE EMP SET SALARY = SALARY + 100 WHERE CURRENT OF EMP_CUR; DBMS_OUTPUT.PUT_LINE( '処理件数：' || SQL%ROWCOUNT ); END IF; DBMS_OUTPUT.PUT_LINE( '変更後：' || EMP_REC.SALARY ); END LOOP; END; / 上記のようなSQLで、 変更前のSALARYと変更後のSALARYを出力したいのですが、 変更前と変更後のEMP_REC.SALARYで、同じ値が出力されました。 処理の前後でSELECTする事は可能であると思いますが、 カーソル内でまとめて行いたいです。 カーソル内でIF文の前後の値を出力する事は可能でしょうか？ また、もう1点質問があります。 それは、SALARYの値が、どちらも更新された値が出力される事についてです。 例：DEPT_IDが10で、SALARYが1000の従業員が居た場合。 　　変更前：1100 　　変更後：1100 EMP_REC.SALARYの値が、DECLAREで定義されたカーソルのデータならば、 1000が出力されると考えたのですが、 どちらも更新後の値が出力されるのは何故でしょうか？ お手数をお掛け致しますが、よろしくお願い致します。
行ロックされているROWIDを見れるようなビューは存在するのでしょうか? また、V$LOCKビューのタイプがTXの行のID1、ID2は何を指しているのでしょうか? ご存知の方が見えましたら、ご教授願います。
オラクルの勉強をしたいと考え「Oracle Database Lite Release 10.2.0」をインストールしている最中です。 インストールがある程度進み、「モバイル・サーバー・リポジトリ・ウィザード」という 画面になっております。 ここで「ユーザー名」と「パスワード」を入力したのですが「I/O例外です。Invalid number format for port number」 というエラーが出ます。 「ユーザー名」と「パスワード」の入力に複数パターンの8文字前後の半角小文字で入力しましたが、 同じエラーが出ます。どうしたら良いのか見当が付きません。 入力にはルールがあるのでしょうか？ 途中までの設定に問題があるのでしょか？
現在の環境：Oracle9i 9.2.0.1.0 データベースを国際化対応にする場合に現行のDBがSHIFT_JISが設定されています。このような場合に例えばAL16UTF16に統一したDBを構築するとなるとSHIFT_JISで使用されていた今までのデータはインポートできるのでしょうか？
1月は検査入院のため約1ヶ月ほど入院して2月からJavaを勉強する予定です。 入院している間、パソコンは使えないけれど暇な時間はかなりあると聞いています。 それでその時間を使ってJavaに関連する資格として 10gのBronzeSQL基礎の勉強をしようかなと考えているのですが 全くOracle経験なしの人がパソコンを使わずに 教科書だけで合格するのは無謀な挑戦でしょうか？
遊びで使用する（自分専用）インターナルのDBにグローバルからアクセスしてテキストファイルや文字列など検索するシステムを構築したいと思っています。 ・この場合DBソフトとしてOracleを使用することはMySQLに比べて適切でしょうか？ ・また使用OSとしてunix,Linux、言語としてJava、PHPなどとして、インタフェースとしてブラウザを使用するほうがよろしいでしょうか？ それとも使用OSとしてWindows2003server、言語としてASP(vbscriptなど)として、インタフェースをしてC#.NETなどで作成したツールとしたほうがよろしいでしょうか？（こちらは一般的に企業内で使用されている場合が多いと思います。外部からは向かない？） 開発のし易さ、検索スピードの速さ、メンテナンスの容易さ、セキュリティの総合力のバランスを重視したいと思っています。 ご存知の方いらっしゃいましたら、アドバイスをお願い致します。
SQL文で「SELECT ＊ FROM テーブル名 WHERE 列名 LIKE = '&%'」で実行するとレコードは選択されませんとなり、変数をの入力もできません。 置換変数とLIKE条件は一緒に使えないのでしょうか？
オラクルのテーブルを作成する時の項目名称なのですが、 日本語の名称と英語の名称とでは、パフォーマンスや、使用容量などが かわるのでしょうか？ オラクルは10ｇです。 初心者の質問で申し訳ありませんが、ご回答宜しくお願いいたします。
表A、B、Cの3つがあり、Aのすべての行を出力したいと考えています。 外部結合を用いるのだとは思うのですが、3つの表に対して行う場合の 書き方がわからず困っています。 ご教授いただけないでしょうか？ select * from a,b,c where a.商品ID =b.商品ID (+)　and b.商品ID (+) =c.商品ID (+) としてみましたが、うまくいきませんでした。
こんにちわ。 いまORACLE9iを使用している者です。 ACCESSでは SELECT TOP 1 項目名 FROM テーブル名 ORDER BY 項目名; で並べ替えたデータ群のうち，先頭の１件だけを 取ることができますが， ORACLEでそのような機能(SQL)はあるでしょうか？ 教えてください。 よろしくお願いします。
表領域をオフラインにした場合、オフライン前に開始されたトランザクションは有効ですが、オフラインのまま、コミット、または、ロールバックして、表領域をオンラインにしても、整合がとれるのはなぜなのでしょうか。 コミットするか、ロールバックするかの情報はどこに保持してるのか疑問です。 (オフラインにしてから、ファイルをリネームし、 トランザクションをロールバックして、 ログをアーカイブし、DB再起動後に、ファイル名を戻して、 オンラインにすると、ちゃんとロールバックされています。 同じ操作で、コミットするとちゃんとコミットされています。 知っている方には当然なのでしょうが、私にとっては、不思議です) 詳しい方がみえましたらご教授お願いいたします。
こんにちは。 近々Oracle Bronze DBA10g の試験を受けるのですが、合格ラインは「41問中22問正解」でよろしいのでしょうか？何かで、Bronze SQL に関する記述でもないのに「41問中28問正解で合格」というものを見た気がするので。 それと、試験時間は60分でいいんですよね？ よろしくお願いいたします。
select a.keino,c.keinaj1,b.kumino from gassan a,kumiai b,keiotr c where a.keino=b.daichono and b.daichono = c.keino 以上のような記述をしたところ、レコードが選択されないと 出てしまいます。 それぞれのkeino、daichonoには同じ値が入っているのですが 条件の指定の仕方がよくないのでしょうか？ 3つ以上のテーブルの結合は始めてなので、教えていただけると ありがたいです。 よろしくお願いします。
こんにちわ。 いまORACLE9iを使用している者です。 SELECT句で"DECODE"を使って， ある項目の値がAとBの間にあるかどうか，という条件で 取得する値を切り替えたいと思い， 下記のようなSQLを書きましたが， エラーになってしまいます。 SELECT DECODE(項目名，BETWEEN A AND B, '2', '1') FROM テーブル名; PLSQLを使用しないで， このようなケースを実現したいのですが， どうすればよいでしょうか？ 教えてください。 よろしくお願いします。
お世話になります。 仕事でＯｒａｃｌｅ、ＳＱＬを使用することになりました。 なかなか慣れないので、問題やクイズ（？）を配信してくれるサイトを 探しています。 おすすめサイトをご存知でしたら教えてください。 ポイントは発行いたしますのでよろしくお願いいたします。
をFedoraCore5Linuxにインストールしたいのですが 以下のうちどれをインストールすべきなのかを教えてください とりあえずJava EditionをDLしてみたのですがこれでいいのでしょうか? また以下ものの違いを教えてください Studio Edition Oracle JDeveloper 10g (10.1.3.1.0) Studio Edition 2006/11/13 J2EE Edition Oracle JDeveloper 10g (10.1.3.1.0) J2EE Edition 2006/11/13 Java Edition Oracle JDeveloper 10g (10.1.3.1.0) Java Edition 2006/11/13
プロシージャやファンクション、パッケージ等のソース内に書かれたDMLは基本的に自分のスキーマが参照対象なので、（ユーザは異なるが）同一構造のスキーマが複数存在する場合はスキーマ毎に同じプロシージャ等を用意する必要がありますが、このソースを（動的SQLを使わずに）一つのスキーマで一元管理することはできないでしょうか。たとえば下記の状態で、スキーマＡ（またはＢ）から、スキーマＣのTEST_FUNCTIONを呼び出し、実際はスキーマＡ（またはＢ）のTEST_TABLEを参照したい場合です。大変お手数ですが、宜しくお願い致します。 --------------------------------------------- スキーマＡ 　　TEST_TABLE 　　ファンクション無し スキーマＢ 　　TEST_TABLE 　　ファンクション無し スキーマＣ 　　TEST_TABLE 　　TEST_FUNCTION create function TEST_FUNCTION return NUMBER is 　　nRET NUMBER; begin 　　SELECT COUNT(*) INTO nRET FROM TEST_TABLE; 　　return nRET; end;
やりたいことは、TBL001にレコードを追加・更新したいので、 以下のようなSQLを作ってみたのですが、 UpdateはうまくいくのですがINSERTがうまくいきません この書き方では、まずいのでしょうか？ MERGE INTO TBL001 S USING TBL001 N ON ( S.D_DAY=N.D_DAY AND S.V_NO=N.VNO AND N.D_DAY='2006/12/01' AND N.V_NO='003001') WHEN MATCHED THEN UPDATE SET S.VRNR_SKZY_FLG='0' ,S.NUPD_CNT= DECODE(S.NUPD_CNT,999,1,S.NUPD_CNT + 1) ,S.DUPD_NTJ=SYSDATE WHEN NOT MATCHED THEN INSERT( DJUJU_DAY /*日*/ ,VJUJU_NO /*番号*/ ,VRNR_SKZY_FLG /*論理削除フラグ*/ ,NUPD_CNT /*更新カウンタ数*/ ,DUPD_NTJ /*更新日時*/ ) values ( '2006/12/01' /* 日 */ ,'003001' /* 番号 */ ,'0' /* 論理削除フラグ */ ,'1' /* 更新カウンタ数 */ ,SYSDATE /* 更新日時 */ ) Oracle初心者の僕にはお手上げで、助けてください。
失礼します。 oracleにclob型がありますが、 excelファイルにある行毎の文章を オブジェクトブラウザを利用して簡単に oracleＤＢに入れたいと思っています。 他の型ですとコピー＆ペーストでいけますが、 clob型だと上手くいきません。 同じくらい簡単な方法で何か良い方法があったら教えて下さい。
テーブルA　 料理　　　値段 ------------- 　　　　　 カレー　　500 ラーメン　200 うどん　　500 テーブルB 予算　　　値段 ----------------- 1000　　　500 500　　　　200 1000　　　500 上のようなA、B、2つのテーブルがあります。 任意に予算を入れたら、紐付いている値段の料理が出力されるような SQL文を書きたいと考えています。 select * from テーブルA　where 値段 = (select 値段 from テーブルB where 任意の予算) というようなSQLを書いてみたのですが、これだと予算が500円ならば 出力されますが、1000円だと2つレコードがあるので、うまく 表示されません。 これを、予算が1000円のものという条件を指定することで、 カレーとうどんが出力されるようなSQLを作るにはどうしたら 良いでしょうか？ ご教授ください。
Oracle9の統計情報なしのデフォルトを使用してSQLを実行しているのですが、この「統計情報なしのデフォルト」とはどのようなものかご存知の方、あるいは参考情報を頂けないでしょうか？ デフォルトと言うものはある程度の統計情報を計算してくれるものなのでしょうか？ 現在、あるSQLの速度が遅いのですが、SQLの構成を替える前に「統計情報なしのデフォルト」から「統計情報を取る」に変更すべきか分かりません。 宜しくお願い致します。
データベースにORACLEを使用してVB6にて開発を行っています。 あるテーブルにIDというchar型のデータがあり、ID>='100'andID<'200' の条件（100番台のデータを取得）にてデータを抽出したいと考えています。 ただ、IDには数値だけでなく、A01やB05などの半角アルファベットを含む データも混在しています。 イメージとしては下記のようなSQLが発行できればと思っているのですが、 select * from テーブル名 if trim(ID) is numeric then where ID >= '100' and ID < '200' end if; if trim(ID) is numeric then部分がSQL文として不正確なため動きません。 ORACLEでの開発は初心者のため、どなたかに教えていただければ幸いです。 お手数おかけしますがよろしくお願いします。
こんにちは。 Oracle Bronze の勉強中なのですが、iStudyをやっていたら、「インスタンスリカバリ」と言う言葉が出てきました。黒本で調べたのですが、そういう言葉は載っていませんでした。 メディアリカバリとは、完全・不完全リカバリ等のことをいうのですよね？では、インスタンスリカバリとはどういう意味なのでしょうか？ わかりやすく教えていただければありがたいのですが。 よろしくお願いいたします。
oracle初心者です。 DBMS_OUTPUT.PUT_LINEでデバック用の出力ができると思いますが、これの入力版はないのでしょうか？ Ｃ言語で言うscanf()です。 getch()のようなものでもＯＫです。 環境は Oracle8.?? SQL Plus（コマンドプロンプトみたいなもやつ）でいつも実行しています。 よろしくお願いします。
超初心者です。 ２つの編集ワークを宣言して、WORKにカンマ区切りのレコードを作成します。 そしてWORKの「matumoto」だけを取り出してRECORDに入れたい場合、どうしたらいいのでしょうか？ そのまま「matumoto」を放り込めとか言われそうですが、実際はSELECTして取り出してきたデータもろもろをカンマ区切りでWORKに１レコード放り込んで、必要なものだけをRECORDに入れるという動きをさせています。 質問させていただくにあたってこういう記述にさせていただきましたのでご了承ください^^; よろしくお願いします。 /* 宣言　*/ WORK VARCHAR2(1000); RECORD VARCHAR2(1000); WORK := ''; RECORD := ''; WORK := WORK || '"' || aoki || '",'; WORK := WORK || '"' || matumoto || '",'; WORK := WORK || '"' || yosida || '"'; WORK(中身はこんな感じ)→"aoki","matumoto","yosida"
Oracleの再インストールの際にoraclient.dllが見つからないというエラーが出てしまいます。 一応マニュアル通りにレジストリの削除など行っているのですが何度やってもそのエラーで先に進めません。 詳しい方いらっしゃいましたら教えてもらえればと思います。
Oracleの30日無料版のインストール(Windows)が成功したのですが、Enterprise Managerを起動した後のIDとPassが分からず入ることが出来ません。 インストール直前に聞かれたPassでは駄目でした。 簡単な質問かもしれませんが、知っている方がいれば教えていただけたらと思います。
where句に、次のような条件を指定したいのですが、どのようにすればよいでしょうか？教えてください。 SQL文を実行した日の03:00:00より新しいレコード SQL文は周期的に実行するので、実行した日は変わります。
次のような2つのテーブルA、Bがあるとします。 テーブルA ID, FLG, DATE 01, Y, 2006-10-10 02, N, 2006-11-11 03, N, 2006-12-12 テーブルB ID, DATE 01, 2006-10-10 02, 2006-11-11 DATEが '2006-10-10' 以降でテーブルA.FLGが 'N'、かつ、テーブルBに存在するレコードを検索するにはどうすればよいでしょうか？
こんばんわ 以下のカードテーブルから、重複しているカードidの個数をカウントし、そのカウント分だけ、ほかの重複カードテーブルにもっていきたいです。以下のように重複してない'11111100'以外をもっていく。 処理の手順としては、以下のようになります。 １．カードテーブルの重複しているカードの個数をカウントする。 　　今回は、'11111200'が２つ、'11111300'が３つで、計５個。 　　もしくは、重複しているカードだけ抽出する。 ２．１の５個を引数にして、重複カードテーブルに５レコード分 　　代入する。 カードテーブル カードid 名前　期限 11111100 yano 2006/10 11111200 sano 2006/10 11111200 mayu 2006/10 11111300 saka 2006/10 11111300 koi 2006/10 11111300 mai 2006/10 　　　　↓ 重複カードテーブル 11111200 sano 2006/10 11111200 mayu 2006/10 11111300 saka 2006/10 11111300 koi 2006/10 11111300 mai 2006/10
WebアプリケーションとOracleDBをJDBCでコネクトしています。 このJDBCによる通信は、データを暗号化しているのでしょうか？あるいは、暗号化するための設定があるのでしょうか？
Oracle8(Aとします)のデータベースから8iのデータベース(Bとします)へのデータベースリンクを作成したいと思っております。 その準備段階としてAからBへの接続の設定をNet8 Assistantで行っております。 リスナーのデータベースサービス、リスニング位置についての設定は行い、tnsnames.oraにもBの記述があるのは確認しています。 その状態でSQL*Plusにてユーザ/パス@Bのホスト文字列とすると ORA-12545： 接続に失敗しました。ターゲット・ホストまたはオブジェクトが存在しません。 と接続が出来ず、エラー後はリスナーのサービスが停止してしまいます。 Net8 Assistantでの設定でのBグローバルデータベース名やSIDはBの管理者に確認してもらい正常なことを確認しております。 どこの設定を直したら良いのか分からない状態です。どうか助言をお願い致します。
カーソルってオープン時に該当データの全レコードセットを取得するんでしょうか？。 PL/SQLでVIEWのカーソルをオープンし、ループ処理を行っているんですが、処理速度からして１フェッチごとに毎回SELECT文を発行しているように見受けられます・・・。 ソースはこんな感じです↓。 declare cursor cur_tb_1 is select * from ビュー; begin for rec_tb_1 in cur_tb_1 loop ...処理いろいろ end loop; end; また、このようなケースの場合、VIEWのSELECT結果を一時テーブルにINSERTし、そのテーブルをSELECTするカーソルを使用するほうが 作法的によいのでしょうか？
無償版のＯＲＡＣＬＥ Oracle10g Express Edition（XE）を使用しようとおもっています． メモリーが１Ｇまで データベースが４Ｇまで等は調べたのですが、 他なにか制限はありますか？ ｏｒａｃｌｅの機能は、どこまで使用できるのでしょうか？ 詳細情報がのっているＨＰ等はありますか？
データベースから yyy/mm/dd/形式 で取得するｓｑｌ文を教えて下さい サーバ 19991111 ↓ 表示 1999/11/11 すいませんなぜが自分が実行すると エラーになります
以下のようなカラムをもつテーブルがあるとして、 ID, DATE 0001, 2006-12-07 00:00:00 00011, 2006-12-07 11:11:11 IDとDATEを整形して、次のような値をSELECT文で表示したいのですが、どのように指定すればよいでしょうか。 2006120700000000001 2006120711111100011 DATEは、-、スペース、：を削除し、IDは5桁として連結する。IDが4桁であれば先頭に0詰めする。
OracleのJDeveloper 10gを使用し、XMLのスキーマ設計を行った場合について質問になります。 XMLスキーマを設計した場合、下のタブに「設計」「ソース」「履歴」と３つのタブが現れます。「設計」では、グラフィカルにXMLスキーマの設計状況を表現し、「ソース」ではXMLスキーマのソースが表示されます。この時、「ソース」を印刷することは可能なようなのですが、「設計」を印刷することがいまだにできません。経験された方がおられましたら、また手法が別にありましたら教えていただけますでしょうか。
こんにちは Oracleサーバ負荷試験のため、下記2つの試験をやりました。 １、Commitなしで５００万件のレコードをDBにINSERTしました。 ２、Commitありで４００万件のレコードをDBにINSERTしました。 その後、Delete from TABLEで中身を削除しましたが、 そのテーブルのSELECTがすごく重くなっているのは変わりませんでした。 心当たりがある方、解決法を教えていただけませんか？ ちなみに、関係あるかどうか分かりませんが、そのテーブルの初期化サイズが７１００KBぐらいなっています。ほかのテーブルは６４KBぐらいですが、もしそれが原因だったら、最適化する方法ありますでしょうか？ （できれば、テーブルの削除・再作成を避けたいです。）
検索すればそれ相応のページもありそうなのですが、ちょっと至急なので、こちらで質問させてください。 以下のようなテーブルで、以下の結果を出す場合のSQL文をお教えいただきたいのですが・・・ 　　　Ａ　　　Ｂ　　　Ｃ １　　イ　　　ａ　　　５ ２　　イ　　　ｂ　　　２ ３　　ロ　　　ａ　　　１ ４　　ハ　　　ａ　　　３ ５　　ハ　　　ｂ　　　６ ６　　ハ　　　ａ　　　４ Ａ列は重複ありで内容も多種 Ｂ列は重複ありのａｂのみ Ｃ列は重複なしの数値（時間） このような状態のときに、 WHERE文でＡ＝'ハ'とした時に、 Ｃの中で最大値である'６'のＢ段である'ｂ'だけ持ってきたいんです。 　　　Ｂ １　　ｂ こういう結果を出したいんですが、どういったSQL文を書けばいいのか途方にくれています。今日中に何とかしたいのですが、どなたかお教えいただけますでしょうか。 よろしくお願いします。
タイトルの通り、 ・Oracle ・DB2 ・SqlServer この3つのデータベースのフィールド数の限界を教えて頂きたいです。 また、それぞれのRDBMSの文字列型の最大の長さを教えて頂きたいです。 ご存知の方、よろしくお願いします。
oracle10EXをインストールしました。早速SQL文でdecribeを使ってみましたが、サーバーにつなげませんでした。サーバーに接続するには権限が居るのでしょうか？ 誰にでも接続できる公開されたサーバー（データベース）はないでしょうか？
大雑把すぎるかもしれませんが、 アプリケーションチューニング パラメータチューニング SQLチューニング のポイントみたいなのがあれば、教えてください。 よろしくです。 それと、 作成したオブジェクトのシンプルな確認方法も知っておきたいと思います。 オブジェクト作成時に、エラーメッセージが返ってこなかったので「それでよし」ということではなく、 例えば、シノニムを作成したら、スキーマ指定なしで見れるとか、 シーケンスを作成したら、..... パッケージを作成したら、..... インデックスを作成したら、など、種類に応じて、妥当な確認方法があると思います。
sqlのチューニングが得意なOracle Master所有者です。 ちょっとわからないことがあるので教えてください。 KEY1, KEY2でソートし、 ・先頭レコード ・最終レコード ・項目A1～A100の値が変わったレコード を出力したいのですが、どうすればよいでしょうか？ レコード数は約7万で、「SQLで」驚速で処理したいです。 中間テーブルを使用して、特別なインデクスや編集を使用する例でも構いません。 例）★が出力するレコード KEY1 KEY2 A1 A2 A3 ... A100 A 1 0 1 0 0 ★ A 2 0 1 0 0 A 3 0 2 0 0 ★ A 4 0 2 0 0 A 5 0 1 0 0 ★ A 6 0 2 0 0 ★ ... A 60 0 2 5 0 ★ B 1 0 1 0 0 ★ B 2 0 1 0 0 B 3 0 0 0 0 ★ B 4 0 0 1 0 ★ B 5 0 0 1 0 ... B 70 0 2 5 0 ★ C 略
初めて質問させていただきます。 Oracleの初心者です。 仕事でOracleインスタンスを複数にして欲しいと言われ方法を 検索したのですが、なかなか見つかりません。。 どうしたら、インスタンスを複数にできますか？ 初歩的（？）なことで恥ずかしいのですが分からなくて困っています。 回答よろしくお願い致します。
コメントあれば、よろしくお願い致します。 0 recursive calls 0 db block gets 7,800,000 consistent gets --select文でアクセスしたバッファキャッシュのブロック数。ディスクとメモリへの総アクセス数　A 3,500,000 physical reads --ディスク上のデータファイルにアクセスしたデータ要求の総ブロック数　B 0 redo size 219,000,000 bytes sent via SQL*Net to client 7,100,000 bytes received via SQL*Net from client 500,000 SQL*Net roundtrips to/from client 100 sorts (memory) --メモリ内でソートした回数　C 0 sorts (disk) 9,200,000 rows processed --処理対象となった行数　D 一番、重視しなければいけないのは、A だと思っています。 780万回もアクセスされていますが、 ブロック数が 8K に設定されている環境であったとして、 1024*8*780万 = 63,897,600,000約 63GB の i/o が一つのSQLで発生 B に関しても一応計算してみると、 1024*8*350万 = 28,672,000,000約 28GB の i/o が一つのSQLで発生 D に関しては、920万行という結果は分かるが、1行辺りの幅が分からないので、 幅を別途SQLから計算し、どういった負荷を与えている文なのかを分析する必要がある。 select statement optimizer=choose からの数十行には、 (FULL)が、(UNIQUE INDEX)に比較して、10倍ぐらい表示されていると仮定します。 それぞれの検索テーブルの件数ははっきりしていたとして(1件～2000万件ぐらい(400万件以上が5テーブル))、 何をどうするのがSQLチューニングでしょうか。
SQLのスクリプトで、すべてのテーブルの参照制約を解除して、 いつでも全テーブルを消せるようにすることはできるんでしょうか？ 前にカーソルを使ったEXECUTE IMMEDIATE文で無理やりTRUNCATEしようとしたんですが、 参照制約の関係でやっぱりエラーが返ってきました。 どんなテーブル構成でも参照制約をすべて自動解除できればいいのですが・・・。
以下のsql文はオラクルで「ORA-00907: 右カッコがありません」のエラーが起きました。 SELECT LOWER(TRIM('H' from 'Hello World')) FROM dual; SQL> SELECT LOWER(TRIM('H' from 'Hello World')) FROM dual; SELECT LOWER(TRIM('H' from 'Hello World')) FROM dual * 行:1でエラーが発生しました。 ORA-00907: 右カッコがありません。 宜しくお願いします。
Oracleで、先頭からではなく、任意の範囲だけレコードを取り出したいが、 limitとoffsetのような方法がありますか。
RedHat6.2にoracle8.1.6をインストールし、dbassistを起動してデータベースを作成しました。 その後sqlplus を実行したいのですが、Oracleインストールユーザだと実行できますが、 その他のユーザだと sqlplus を実行した際にcommand not found と出てきます。 どこかにパスを書き込めばよい・・と聞いたのですが、それがどのファイルなのか分かりません。 Oracleインストールユーザ以外がsqlplus を実行できるようにするにはどうしたら良いでしょうか。 すみません、宜しくお願いします。
集計で困っています。 助けてください。 uriage_date(date型)　uriage_kingaku 2005/01/01 00:15　　　2000 2005/01/01 12:20　　　2500 2005/01/02 00:00　　　1000　←ここは前日分(2005/01/01)に 2005/01/02 05:15　　　1800 2005/01/04 12:30　　　2300 ～ 2005/12/31 20:20　　　5000 2005/12/31 22:45　　　1200 上の様なテーブルから 売上合計（1月分） uriage_date　　　　　goukei_kingaku 2005/01/01　　　　　　5500 2005/01/02　　　　　　1800 2005/01/03　　　　　　0 ～ 2005/01/31　　　　　　9000 この様に1日毎(当日00:01～翌日00:00)の売上の合計金額 を一ヶ月単位で集計したいのですが、ＳＱＬ文が解りません。 00:00の売上は前日の合計に入れたいです。 データの無い日も0円として欲しいです。 よろしくおねがいします。
SQL*PlusでSPOOLコマンドを使用してログファイルを出力する場合に、 フォルダ名を指定したいのですが、フォルダ名にSpaceがある時に エラーになってしまいます。 (エラーがでる例) SQL>SPOOL C:\Documents and Settings\All Users\デスクトップ\TEST.log SP2-0333: 不正なスプール・ファイル名: "C:\Documents and Settings\All Users\デスクトップ"(不正文字: ' ') フォルダ名とファイル名全体を、''で囲んでも同じエラーがでます。 よろしくお願いします。
ＷＩＮ２００３＋ｏｒａｃｌｅ９．２＋ＡＳＰでＷＥＢのシステム を業者に頼んで構築してもらいました。 日によって変わるのですが２０００レコードほどの商品情報を１００ 人ほどの顧客に閲覧して頂き購入していただくシステムなのですが、 時間帯で表示速度にむらがあります。早い時で１０秒、遅い時は１分 前後かかりお客様から遅すぎるとクレームがあいつぎ、改善を余儀な くされています。背景的な説明はここまでで、質問です。 お客様によって回線速度はまちまちなのですが、回線速度が遅いお客 様のリクエストは他の回線速度が速いお客様の処理のボトルネックに なり得ますか？例えば遅い端末のＳＱＬリクエスト結果を通信中に早 い端末のＳＱＬリクエストを受けた場合、遅い端末の処理が未完でも 早い端末の処理は同時並行的に進むのでしょうか？それとも遅い端末 の処理が終了してから処理されるのでしょうか？素人質問で申し訳あ りませんが宜しくお願いします。ちなみに外向きの回線は現在ＮＴＴ 光です（これが一番ネックのような・・）。
オラクルの勉強しようと、期間限定なしで無償使用できる、表題のソフトを考えています。 説明文にOSがWinXPの場合、Professinal版と書いてありました。Home Edtionでは、インストールしても動かないのでしょうか？ もし、動かないのであれば、Home Edtionでも使用可能なオラクルソフト（無償版）は、ないのでしょうか？ どなたか、ご存知の方が居れば、お教えください。
こんにちわ、このカテゴリには、初めて投稿します 現在ORACLE 9i DBAIの勉強をしておりまして 教本を読んで、重点箇所をまとめて、 問題集を解いて、間違えた箇所をまとめた後、 自身満々でiStudyに挑んだのですが、 iStudyで１章～３章を選らんで、試験をした結果、 自身を砕かれた感じです。。。 結論からiStudyで間違えた箇所を補強して覚えるしか無いと 思ってますが、手間と時間が掛かるので、 もっと効率の良い勉強方法とか無いかな？？ と模索してます ORACLE 9i DBAIを取得した方、または取得中の 同志の方、効率の良い勉強方法など （参考になるHPなど） 御座いましたらアドバイスして下さい。 また当然、自力で取りたい（お金を掛けたくない）ので セミナーなどで勉強する気は有りません （皆様、個人努力でなんとかしてますよね？） 宜しくお願いします m(__)m
オラクルでエラーが発生し、そのエラー番号が表示されているのですが、そのエラー番号の内容はどこを見たら判りますか？ オラクルのツールのヘルプにも見当たらないし。 オラクルのホームページにも見当たらないし。 どこで、このエラーの内容が分かりますか？ よろしくお願い致します。
データベースのすべての表をけしたくてSQLPLUSでTRUNCATEしようとするんですが、 表には使用可能な外部キーによって参照される一意キー/主キーが含まれています。 というエラーメッセージがでることがあります。 DBA STUDIOですとテーブル名を選択してDELキーですんなり消せるのですが・・・。 キーの参照設定とかを消したりすればよいのでしょうか？ 具体的には、TRUNCATEを行う前にどのようなSQLPLUSコマンドを打てばいいのでしょうか。
初めまして。 Oracleのパッチ適用について質問させてください。 Solaris 9をセットアップし、Oracle 9.2.0.1を導入しました。 Oracle 9iをインストール直後に9.2.0.2のパッチを適用しようと runInstallerを実行すると、下記エラーが発生してパッチ適用が 行えませんでした。 Error occurred during initialization of VM java/lang/NoClassDefFoundError: java/security/ProtectionDomain これはどのような原因で発生するエラーなのかご教授願います。 また、回避策も教えていただければ幸いです。
OracleでLIKEを使用したレコード抽出で困っています。 あるテーブル(TAB_A)が以下のような属性だとします。 ------------- COL1　CHAR(5) COL2　CHAR(5) このとき、このテーブルに次のようにデータが格納されています。 COL1 　COL2 -------------- ABC== 　12345 [=]は便宜上1バイトスペースを表す このテーブルを対象として (1) SELECT * FROM TAB_A WHERE COL1 LIKE 'ABC%'; (2) SELECT * FROM TAB_A WHERE COL1 LIKE 'ABC=='; 　　([=]は便宜上1バイトスペースを表す) (3) SELECT * FROM TAB_A WHERE COL1 LIKE 'ABC'; というSQLを発行した場合に、いずれもレコードが抽出されてしまいます。(1)(2)の場合は当然だとは思うのですが、(3)でもレコードが抽出されることが理解できません。このようなことが起こり得るのでしょうか。
ＡＣＣＥＳＳ（２００２）のＯＤＢＣを使用してoracle XEのテーブルリンクして、テーブルの中身を表示すると#Deletedと表示されます。 テーブル名は、英名で、項目名は日本語名称を使用していますが、 そのあたりが原因になっているのでしょうか？ 解決策をご存知の方教えてください。
PL/SQLの例外処理で、 プロシージャからファンクションをコールしてデータを取得しています。 ファンクションでデータを取得できたのか、NO_DATA_FOUNDだったのか、WHEN OTHERS THENブロックに入ったのか、呼び出し元に通知したいのです。 ・データが取得できた場合、RETURN TRUE ・NO_DATA_FOUND、またはWHEN OTHERS THENブロックに入ってきた場合にRETURN FALSE とすると、呼び出し元のプロシージャで区別が付かないのです。 ファンクションでWHEN OTHERS THENブロックに入った場合、プロシージャのWHEN OTHERS THENブロックに飛ばしたいと思います。 この場合の方法ですが、ファンクションのWHEN OTHERS THENでRAISE 独自例外Aとし、プロシージャのEXCEPTIONでWHEN 独自例外A THENとすると、 プロシージャのファンクション呼び出し以降の処理は行なわれず、処理は終了しますか？ この方法ができるかどうかと、他に方法があれば教えてください。
いつもお世話になります。 SQLについて質問です。 以下の2つのSQLがあります。同じ結果が得られると思ったのですが、 結果がまたくことなりました。何故か理由を教えて下さい。 (1) SELECT count(*) FROM uriage WHERE subsystem_cd = 'ABC' AND store_name = 'MISAWA' AND opend_dt = 20061130 or　opten_dt = 19000101 AND id <> 108 AND begin_dt <= 20061122 (2) SELECT count(*) FROM uriage WHERE subsystem_cd = 'ABC' AND store_name = 'MISAWA' AND opend_dt in (20061130,19000101) AND id <> 108 AND begin_dt <= 20061122 ※(1)のorのところを１つずつにして実行(SQL文を2つ作成)し、その結果を合計すると(2)の結果と同等になります。
１．PL/SQLでテーブルのインポート（ＩＭＰ）をしたいのですが どのような記述をすればよろしいでしょか？ また、無理であればお、.NET VBでテーブルのインポート（ＩＭＰ）をしたいのですが、どのような記述をすればよろしいでしょか？ ２．上記の質問で、SQLLDRで行う場合はどうすればよいか？ 大変申し訳ございませんが、よろしくお願い致します。
以下の３選手のジャンプの結果、各選手のベストジャンプと その時間帯を抽出させたいのですが、どんなSQLを書けばできるでしょうか？ 　　　　ジャンプcm 時間 田中　 750 10:00 田中 800 10:30 菊池 600 10:05 菊池 0 10:20 東郷 780 10:10 東郷 780 10:03 抽出データ ↓ 田中 800 10:30 菊池 600 10:05 東郷 780 10:03
あるシステムを構築する上で、教えていただきたいのですが・・・。 Ａシステムは日々の業務で毎日使用しなければならない。 Ａシステムよりデータベースへ読み書きを行っている 何らかの障害によりサーバがダウンした場合に即座に切り替え 別のサーバで支障なく業務を行う。 いろいろ調べましたが、オラクルデータベースでは リアルアプリケーションクラスタ機能があり、それを使えば可能かなと 思いますが、こういった場合、オラクルデータベース自体はどのサーバにインストールすればいいのでしょうか？ ２台あるサーバ以外に共有ストレージ（ディスク）が必要なのでしょうか？ ２台の一方にデータベースとリアルアプリケーションクラスタ機能インストールするのでしょうか？ お願い致します。
ＤＢはMySQL/PostgreSQLがメインで、はじめてOracleを触っています。 現在、70万件のデータのあるテーブルを select count(*) from テーブル名 と SQL*Plusで実行してみたところ、結果がかえってくるまで ７秒近くかかってしまいました。 (*)が悪いのかな、と思って count(hoge) にしてみましたが、 大差がありません。。。。 テーブルは、number型の項目が10個、varchar型の項目が２個と それほど大きくはなく、そのうち５つのnumber型の項目に インデックスが貼られています。 count(hoge)で、hogeにインデックスの貼られている項目、貼られていない項目をそれぞれ試してみましたが、これも大差のない時間がかかっていました。このＤＢはもちろん、オラクルに接続しているのは私１人のみ、という状況です。 ７０万件というデータ数は決して多い数字ではないと思うのですけれど、オラクルだとこんなものなのでしょうか？オラクルは始めてで、びくびく触っていることもあって、何から手を付けていいのかもさっぱりです。どんな点を見直せばいいのか、教えてください(_ _)
初心者なのですが、上司からoracleサーバのインストールを依頼されました。 メディアからインストールまでは、できそうなのですが、その後何をすればよいのかわかりません。 インスタンスの管理や、ユーザーの管理、他にも多数、どのようにすればよいのでしょうか。教えてください。 そのような、URLでも結構です。 どうか、お願いします。
お疲れ様です。毎回困った時にはこのコミュニティを参考にしているものです。下記のような事ができるかご存知であれば教えて頂けると助かります。 ＊＊質問＊＊ 以下のテーブルがあります ID ||　BOX_ORDER　||　　INSIDE_ORDER||　　DISP_NAME 001 ||　　1　　　　　　||　　　　1　　　　　||　表示名１－１－１ 001 ||　　1　　　　　　||　　　　2　　　　　||　表示名１－１－２ 001 ||　　2　　　　　　||　　　　1　　　　　||　表示名１－２－１ 002 ||　　1　　　　　　||　　　　1　　　　　||　表示名２－１－１ 003 ||　　3　　　　　　||　　　　1　　　　　||　表示名３ 上記テーブルをSQLを使用し以下のように取得するのは可能でしょうか？ (希望実行結果) ID || BOX_ORDER1 || BOX_ORDER2 ||BOX_ORDER3 001 || 表示名１－１－１ <br> ||表示名１－２－１|| || 表示名１－１－２ || || 002 || 表示名２－１－１ || || 003 || || ||表示名３ ポイント ・ＩＤ及びBOX_ORDERが一致するデータはIDの行のBOX_ORDER1～BOX_ORDER3の各列に表示名を格納。BOX_ORDERが同一のものが複数件ある場合は<br>(文字列)を結合して同列に格納する。 ・BOX_ORDER1～BOX_ORDER3は固定 煩雑に書いて分かりにくいかもわかりませんが、御助力頂けたら助かります。よろしくお願い致します。
さきほどと似たような質問ですみません。 SQLコマンドであるデータベースの全テーブルを削除したいんですが、 truncate一文ですませる方法はないでしょうか。 それとも、一行ずつ truncate tableA truncate tableB .... とやっていくしかないのでしょうか？
下記のCASE式の中で質問があります。　 ****CASE式の使用例*************************************** 　SQL> set serveroutput on 　SQL> DECLARE 　2 v_selecter CHAR(1) := '&ランク'; 　3 v_result VARCHAR2(40); 　4 BEGIN 　5 v_result := CASE v_selecter 　6 WHEN 'A' THEN '合格！' 　7 WHEN 'B' THEN 'ぎりぎり合格！' 　8 WHEN 'C' THEN 'もっと勉強せよ！' 　9 ELSE 'ランク外。。。' 　10 END; 　11 DBMS_OUTPUT.PUT_LINE('評価：' || v_result); 　12 END; 　13 / 　ランクに値を入力してください: c 　旧 2: v_selecter CHAR(1) := '&ランク';　 　新 2: v_selecter CHAR(1) := 'c';　 　評価：ランク外。。。 　PL/SQLプロシージャが正常に完了しました。 　******************************************************* 変数宣言部分「v_selecter CHAR(1) := '&ランク';」なんですが 「'&ランク'」では一体どのような処理行われているのですか？？？ 「＆」が何かのキーワードであるはずで それを参考本などから調べてもどれも「＆」には触れず サラッと流れているんです(T□T；) なぜ値の入力が求められてくるのですか？ どなたかこの処理内容をを教えてください！
まったく同じテーブル構造のデータベースを２つ用意してまして、 Ａ：ＷＥＢ画面表示用 Ｂ：更新用 とし、更新作業はＢに対して行い、更新が一通りすんでから、Ｂの内容をＡにコピーする、というやり方をしています。 そのコピーをするとき、 １．Ｂをエクスポートする ２．Ａの表をすべて消す ３．ＢをＡにインポートする というやり方をとっており、１と３はＤＯＳのコマンドラインで行うことができるんですが、２はＤＯＳコマンドでできないものでしょうか？ この１～３の作業をまとめて行えるバッチファイルを作りたいのです。 それが無理なら、ほかにたとえばＪＳＰなどの言語で１～３をまとめてＷＥＢ上でボタンをクリックすれば一気にやってくれるものを作ろうと思っております。 やり方をご存知の方がいましたら教えていただけないでしょうか。
最近、ＩＴ関連の仕事についたんですが、ど素人の為、サーバーとデータベースの違いがよく分からないので、教えてください。 私の会社では、一人一台のＰＣが与えられて必要なデータなどは社内のサーバーにアクセスして取得しています。ただ、私のイメージだとデータはデータベースにあるのではないのかな？って思って混乱しています。 もしできれば、データを取得する際の自分のＰＣと社内のサーバーとデータベースの関連性なんか教えてもらえると助かります。 関係あるかは分かりませんが、私のＰＣにはＯｒａｃｌｅ９iをインストールしてあります。 よく分かりにくい質問して申し訳ありませんが、よろしくお願いいたします。また、この辺の事を理解する際に有用な書籍やホームページなどがありましたら、教えてもらえると助かります。
「テーブルの特定の項目を、別のテーブルを参照した値でupdateできない」問題で悩んでいます。 以下の２つのテーブルがある場合、 select * from TAB_A COL001 COL002 COL003 ------ ------ ------ 00001 YYY ＤＥ 00002 YYY ＦＧ 00003 YYY ＨＩ select * from TAB_B COL001 COL002 COL003 ------ ------ ------ 00001 YYY ＳＴ 00002 YYY ＵＶ 00003 YYY ＷＸ TAB_AのCOL01とCOL02 を条件に TAB_BのCOL03を検索して、TAB_AのCOL03を更新するために update TAB_A set TAB_A.COL003 = ( select TAB_B.COL003 from TAB_A,TAB_B where TAB_A.COL01 = TAB_B.COL01 and TAB_A.COL02 = TAB_B.COL02 ) と、記述すると、 ORA-01427: 単一行副問合せにより2つ以上の行が返されます。 とのメッセージが表示される場合があります。 なにか良い解決策はあるでしょうか？ 「SQLは、実はテーブルの特定の項目を、別のテーブルを参照した値でupdateできない」のだ、との噂も聞きますが.... なお、使用しているDBは Oracle10gです。
いつも多くの方々にお世話になっております。 どうしても解決できなかったので、質問を書き込ませていただきました。 大量データのテーブルをDataPump の Impdp でインポートしようとした際に、 UNDO表領域やTEMP表領域不足によりインポートが中断されてしまうので、 その解消法を探しています。 単純にTEMP表領域やUNDO表領域のサイズを大きくすれば解決できるのですが、 ディスクの容量に限りがあり、TEMP表領域やUNDO表領域のサイズを700MBのまま、 大量データをImpdp でインポートできるようにしたいのですが、そうするとうまくいきません。 以前からあったImport の場合でしたら、「COMMIT=Y」としていすれば、 大量データであっても、TEMP表領域やUNDO表領域のサイズを700MBのまま、インポートできました。 しかし、Impdp には「COMMIT=Y」がサポートされなくなったとOTNのドキュメントにも書かれていました。 従来のImport を使えばインポートできるのですが、非常に時間を要するため、 TEMP表領域やUNDO表領域のサイズを気にせずとも Data Pump のImpdp を用いてインポートできる方法を ご存知の方がいらっしゃいましたら、ご教授願えませんでしょうか？
PL/SQLに関しての質問です。 １、プロシージャの内部にファンクションをネストするなどということはできるのでしょうか？ （内部ファンクションのような感じで） ２、プロシージャからファンクションを呼び出し、ファンクションの戻り値をレコード型変数にした場合、ファンクションでSELECTしたレコード件数が０件であった場合、例外ブロックのWHEN no_data・・・THEN で、RETURN NULLで戻すことはできるでしょうか？ （呼び出し側で、レコード型変数にNULLを代入できますか？） ３、ObjectBrowserからストアドプロシージャを実行するとき、引数ありのストアドプロシージャを実行する方法を教えてください。（または参考WEBサイトを教えてください。） いずれも、試す環境が今ないため、ご回答のほどよろしくお願いします。
oracle を勉強して宝くじのロトのデータベースなどに接続して予想を立てたいです。oracle 9i の何を買えばよいでしょうか？ またいくらしますか？
Oracle10gのSQL文についての質問です。 [A]テーブルに CODE(key) NAME と、フィールドがあります。 A NAME-A B NAME-B C NAME-C D NAME-D E NAME-E と、データが入っています。 [B]テーブルに CODE(key) LINE(key) BIKO と、フィールドがあります。 A 1 BIKO-A-1 A 2 A 3 BIKO-A-3 B 1 B 2 B 3 C 1 C 2 BIKO-B-2 C 3 D 1 BIKO-D-1 D 2 BIKO-D-2 D 3 BIKO-D-3 E 1 E 2 E 3 BIKO-E-3 と、データが入っています。 結果が CODE(key) LINE(key) BIKO と、フィールドがあります。 A 1 BIKO-A-1 A 2 BIKO-A-1 A 3 BIKO-A-1 B 1 (null) B 2 (null) B 3 (null) C 1 BIKO-B-2 C 2 BIKO-B-2 C 3 BIKO-B-2 D 1 BIKO-D-1 D 2 BIKO-D-1 D 3 BIKO-D-1 E 1 BIKO-E-3 E 2 BIKO-E-3 E 3 BIKO-E-3 と、したいのです。 つまり、[B]テーブルのLINEが一番小さいBIKOが欲しいのです。 色々と考えてみましたが、解りません。 宜しくお願い致します。
オラクル初心者です。 オラクル8.1.7クライアントが導入されているWindows XP のPCに、オラクル9.2クライアントをインストールし、バッチプログラムで9.2用のorahomeを見に行くように設定してから、あるプログラムを起動させたところ、「ORA-12154: TNSサービス名を解決できませんでした」というエラーメッセージが出てしまいました。 TSNPINGを行ったのですが、問題なく通りました。 どなたか、解決方法を教えてください。お願いします。
DWHで使用しているDB(Oracle8)についての質問です。 ユーザーオブジェクトを格納している非SYSTEM表領域が自動拡張の末がDisk容量を圧迫してきています。サーバーのDisk容量に余裕がなくデータファイルを追加することでの対策は打てません。 大容量のTABLEの作成や削除をしていたので実際に使用している容量は多くないはずなので、一度リフレッシュ(使っていない表領域を開放)したいのですが、Oracle8で可能でしょうか？ 可能であれば手順についてもご教授いただきたく、宜しくお願い致します。
SQL*Plusに下記のコードを記述したところ 「警告～」という内容のエラーが起こってしまいました。 どうしてコンパイルがうまくいかないのでしょうか？ 初めてPL/SQLを勉強しているのでひとりで長いこと悩んでます。。。 どなたかご協力お願いします！ SQL> CREATE OR REPLACE PROCEDURE ProcA( 2 i1 IN NUMBER, 3 i2 IN NUMBER, 4 o1 OUT NUMBER) IS 5 BEGIN 6 o1 = i1 + i2; 7 RETURN; 8 END; 9 / 警告: プロシージャが作成されましたが、コンパイル・エラーがあります。
PL/SQL参考本を読み始めているのですが 「コンポジット型の変数」というとろこで質問があります。 コレクションを使った変数定義というのを見ているのですが その定義内容について教えてください。 参考本では下記のような定義を行っていました。 DECLARE TYPE hosttable_type IS TABLE OF VARCHAR2(15) 　　　　　INDEX BY VARCHAR2(32);　・・・(1) host_table hosttable_type;　・・・(2) 「コレクションとは一般的なプログラミング用語の配列にあたる」 との解説がありましたが 上記の変数定義でどの部分が配列変数の宣言にあたるのですか？ (1)が配列変数の宣言部分で (1)の「INDEX BY VARCHAR2(32)」では添字の長さを指定し 「TYPE hosttable_type IS TABLE OF VARCHAR2(15)」では 実際配列に格納する値の長さを指定してる という意味なのでしょうか？？？ サイトなどを調べてみてはいるのですが 自分ひとりではどうも解決できなくて。。。 どなたかお力をお貸しください！
oracle9iでマスターサイトとマテリアライズドビューの レプリケーション環境を構築していますが、 主キーがないマスター表に対して "DBMS_REPCAT.GENERATE_REPLICATION_SUPPORT"を 実行すると"主キーなし"エラーになります。 この場合、必ずエラーとなるのでしょうか？ もしくは"DBMS_REPCAT.GENERATE_REPLICATION_SUPPORT"自体 実行する必要がないのでしょうか？
今日からPL/SQLの本を読み始めたド素人です。。。 ありえない質問かもしれませんがどなたか助けてください！ 今SQL*Plusに参考本の通り以下のコードを記述したところ エラーが発生してしまいました。 通常のSQL文とは違い普通にSQL*Plus上にコーディングするだけでは うまく機能しないのですか？ それとも何か設定が必要だったりするのでしょうか？ 参考本には特にそのような記述もなくサイトなどから調べても 自分ひとりではどうも解決できません。 ご協力よろしくお願いします！ SQL> PROCEDURE PROC_A( 2 a IN NUMBER 3 b IN NUMBER, 4 c OUT NUMBER) 5 / 　↓　　エラー内容　　↓ PROCEDURE PROC_A( * 行1でエラーが発生しました。: ORA-00900: SQL文が無効です。
functionを作成しています。 AAA 　BBB　 　　 BBB　 ====　====　→　====　 001　　100　 　 　 200 001　　101　 　　 　 200 002　　102　 　　　 201 003　　103　　　　　 202 update TABLE_NAME set BBB = function (BBB); のように呼び出されています。 現在はfunctionで連番がふられているため、BBBのカラムは 全て違う値に更新されてしまうのですが、 AAAで同じ値のものには同じ値を返しBBBのカラムを更新したいのですが どのように作成したらいいのか教えてください。お願いします。
ご存知でしたら、教えてください。 列値に、任意のカンマ区切りの文字列がある時（コードと名称）、 それを２つの列に分解（コード列と名称列）して出力する方法がありましたら、教えてください。 例) INPUTテーブル FLD1 1:AAA,2:BBB,3:CCC 1A:XXX,2A:YYY,3A:ZZZ ↓ OUTPUTテーブル FLD1 FLD2 1,2,3 AAA,BBB,CCC 1A,2A,3A XXX,YYY,ZZZ よろしくお願いします。
質問させていただきます。 現在、ネットで学びながらPL/SQLで開発を行っています。 演算子についてなのですが、 連結演算子(||)と結合演算子(=>)は、どのような差異があるのでしょうか？ ご存じの方がいらしたら、よろしくお願いします。
こんばんは。 以下のようなことをするのにどう記述していいのか わかりません。 入力パラメータ test1,test2に一致するテーブル1のレコードの 項目1と項目2の値と test1,test2に一致するテーブル2のレコードの カウントを 返したいと考えていますがどう記述したら テーブル2のカウントを返せるのかわかりません。 以下、考え中の内容を記述したものです。 テーブルTBL_AとテーブルTBL_Bがある。 TBL_Aの項目はFLD_1,FLD_2,FLD_3 TBL_Bの項目はFLD_1,FLD_2,FLD_3,FLD_4 TBL_AとTBL_Bには同一のフィールドFLD_1,FLD_2があり、 select FLD_1,FLD_2,FLD_3 FROM TBL_A WHERE FLD_1 = test1 AND FLD_2 = test2(select文1) 上記のSQLでTBL_AのFLD_1,FLD_2を取得する ここに、 select count(*) FROM TBL_B WHERE FLD_1 = test1 AND FLD_2 = test2(select文2)　このselect文2で取得した値を select文1に接続して値を戻したいのですが やり方がわかりません。 戻したい値はTBL_AのFLD_1,FLD_2,FLD_3とTBL_Bのカウントです。 お分かりになる方教えてください。よろしくお願いします。 なおoracleは9iを使っています。
IDとパスワードを入力し、オラクルのDBにあるIDとパスワードだったら次の画面を開くというプログラムを作りたいです。 オラクルへの接続がうまく行ってないようで画面が固まってしまいます。 プログラムの不具合を教えていただけないでしょうか？ よろしくお願いします。 Public Class Form1 Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click Dim cn As New OleDb.OleDbConnection() Dim cmd As New OleDb.OleDbCommand() Dim rs As OleDb.OleDbDataReader cn.ConnectionString = "Provider=OraOLEDB.Oracle;Data Source=*;User ID=*;Password=*;" cn.Open()　'←ここで、エラーになります。 cmd = cn.CreateCommand() cmd.CommandText = "Select ID from abc" rs = cmd.ExecuteReader() While rs.Read() If TextBox1.Text = cmd.CommandText Then MessageBox.Show("パスワードを受付けました。") Dim frm2 As New Form2 frm2.Show() TextBox1.Clear() TextBox2.Clear() Else MessageBox.Show("パスワードが違います。") TextBox1.Text = "" TextBox1.Focus() TextBox1.Clear() TextBox2.Clear() End　if 　　　　End While cn.Close() rs.Close() End Sub Private Sub Button2_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button2.Click Me.Close() End Sub End Class
ORACLE10gを使用しています。 似た内容の質問があったので QNo.1828920：検索対象のデータが「複数レコード」を「１レコード」として獲得するSQL も見てみたのですが、実際には他にも抽出条件や抽出項目が多いので、 できればGROUP BYは使いたくないと思い、質問させていただきます。 ・TABLE)イメージ CD|NO|NM 10 | 0 | あ 10 | 1 | い 10 | 2 | う 10 | 3 | え ・前提 画面でCD:10およびNO:0～NO:2と範囲指定します。 ・求める結果 下記のように範囲指定したNO分、NMを横並びに抽出したいです。 10,あ,い,う ・考えた内容 VBを使用しているのでプログラム中で動的に抽出項目、FROM句、WHERE句を 追加しようと考えました。 TABLE.NOは2桁なので最大指定で0～99になる可能性があります。その場合FROM句のTABLE別名が99個に なってしまいますが、書き方として問題ないのか不安です。 何かアドバイスがありましたらお願いします。 ・SQL案 SELECT TABLE0.CD, For I = 0 To 2 TABLE & I.NM AS NM & I, Next K FROM For J = 0 To 2 TABLE TABLE & I, Next K WHERE TABLE0.CD = 10 AND For K = 0 To 2 TABLE & K.NO = K AND Next K
SQL*Plusからデータベース作成を行おうとしたところ 「CREATEコマンドは無効です」 との表示が出てきてしまいます。 サイトなどから色々調べてみてはいますが 一人ではどうしても原因の解明にこぎつけません(T□T) 何か必要な設定があるのでしょうか？ どなたかお助けください！！
SQL文で質問です。 テーブルA X NUMBER型 Y DATE型（年月日と時間） テーブルB Z NUMBER型 W DATE型（年月日） A,BをAを主テーブルとして外部結合し、同じ年月日でBには無いデータ を取得したいのですが、 SELECT A.X FROM A,B WHERE A.X = B.Z(+) AND A.Y = B.W(+) AND B.Z IS NULL; というSQL文を実行すると、テーブルAには時間まで登録されているので 実際には取得したいデータが存在しても 「レコードが選択されませんでした」 になってしまいます。このため、 SELECT A.X FROM A,B WHERE A.X = B.Z(+) AND TO_DATE(A.Y,'YYYY/MM/DD') = TO_DATE(B.W,'YYYY/MM/DD')(+) AND B.Z IS NULL; としてみたところ、今度は３行目で 「ORA-00936: 式がありません」 というエラーになってしまいます。 外部結合にしたことがエラーの原因のようなのですが、DATE型の項目を キーにして外部結合にするにはどうすれば良いのでしょうか？
表領域の拡張について教えてください。 以前、以下のようなSQL文で表領域（WEB_DATA）を作成しました。 -------- CREATE TABLESPACE WEB_DATA DATAFILE '/home1/oracle/app/oracle/oradata/orcl/WEB_DATA.dbf' SIZE 500M REUSE AUTOEXTEND ON NEXT 1M MAXSIZE 1000M EXTENT MANAGEMENT LOCAL AUTOALLOCATE; -------- 最近データ容量も増えており以下のように約800Mほどとなっております。 -------- -rw-r----- 1 oracle oinstall 806363136 11月 6日 08:18 WEB_DATA.dbf -------- よって表領域の拡張を考えております。 そこで、考えられる方法として以下の2つがあると思われますが、どちらを選択するほうが良いのでしょうか？ (1)alter tablespace文の add datafile句 (2)alter database文の resize句 両者のメリット・デメリットがイマイチよく分かりません。 （パフォーマンス的にどちらが良いなどもあるのでしょうか？） また表領域のmazsizeの上限値は通常どれほどにしておくべきなのでしょうか？ 環境は以下の通りです。 OS:Solaris8 DB:Oracle9i 以上、宜しくお願い致します。
USER.TABLE_LNK_TRG.shにて、トリガ作成スクリプトUSER.TABLE_LNK_TRG.sqlをコンパイルしようとしています。 USER.TABLE_LNK_TRG.shとUSER.TABLE_LNK_TRG.sqlともに 変数ORACLE_SID_1の値としてdb1、 変数ORACLE_SID_2の値としてdb2 が入っているはずなのですが、USER.TABLE_LNK_TRG.sql内では ${ORACLE_SID_1}と${ORACLE_SID_2}がそのまま文字列として解釈され (変数の値であるdb1、db2にはならない)、コンパイルに失敗します。 逆にUSER.TABLE_LNK_TRG.sql内で、${ORACLE_SID_1}と${ORACLE_SID_2} を使わず、直接db1、db2と記述すると成功します。 トリガ作成スクリプトUSER.TABLE_LNK_TRG.sql内で、${変数}は使えないのでしょうか？ 環境はOSはSolaris、DBはOracle9i、シェルはBシェルです。 _______________________________________________________________ ～USER.TABLE_LNK_TRG.sh～ #!/bin/sh ORACLE_SID_1="db1" ORACLE_SID_2="db2" #トリガコンパイル sqlplus aaa/aaa <<-EOF @USER.TABLE_LNK_TRG.sql quit EOF exit ______________________________________________________________ ～USER.TABLE_LNK_TRG.sql～ CREATE OR REPLACE TRIGGER USER.TABLE_LNK_TRG BEFORE UPDATE ON USER.TABLE FOR EACH ROW declare begin update TABLE@${ORACLE_SID_1}_lnk set col = :new.col; update TABLE@${ORACLE_SID_2}_lnk set col = :new.col; exception when others then null; end; / _______________________________________________________________ ※${ORACLE_SID_1}、${ORACLE_SID_2}のままコンパイルされるので、 　${ORACLE_SID_1}_lnkのDB環境、${ORACLE_SID_2}_lnkのDB環境が存在せずコンパイルエラー。 　逆に直接db1、db2と記述するとdb1_lnkのDB環境、db2_lnkのDB環境が存在するので正常にコンパイル。
初期化パラメータの「DISPATCHERS」を変更したところ、設定をミスしたためDBが起動できなくなりました。起動できない場合の初期化パラメータの変更方法を教えていただけないでしょうか。 DBの管理コンソールや、Configration Assistantも、DBにログインできないと使えない状態です。 よろしくお願いいたします。
SQL文を教えて下さい 以下の２つのテーブルがあります。 TABLE1 --------------- ID,NAME,PRICE --------------- 1,部品A,100 2,部品B,200 3,部品C,300 TABLE2 --------------- ID,NAME,PRICE --------------- 1,部品Aのサブ1,1 1,部品Aのサブ2,2 2,部品Bのサブ1,5 2,部品Bのサブ2,5 --------------- SELECT TABLE1.NAME TABLE2.NAME TABLE1.PRICE TABLE2.PRICE WHERE TABLE1.ID= TABLE2.ID(+) TABLE2.PRICE = (SELECT MAX(?) ?) 期待する結果 ・TABLE1.NAME = 部品Aの場合 --------------- 部品A,部品Aのサブ2,100,2 ・TABLE1.NAME = 部品Bの場合 --------------- 部品B,部品Bのサブ1,200,5 TABLE1.NAME = 部品Cの場合 --------------- 部品C,,300, ・TABLE1のNAMEに、TABLE2のNAMEが関連付く(付かないものもある) ・外部結合とMAX関数を用いたい。 ・TABLE2のPRICEが大きい方を取得（同一の場合は、どちらかを取得）
SELECTのスピードでどの方法が 検索スピードが速いのか教えてもらいたいのですが Aのテーブル DENNO CODE Bのテーブル CODE NAME Aのテーブルを主にAのCODEでBのテーブルを参照したい時 (1) SELECT A.DENNO,A.CODE, (SELECT B.NAME from B where A.CODE=B.CODE) AS NAME from A (2) SELECT A.DENNO,A.CODE,B.NAME FROM A LEFT JOIN B ON A.CODE=B.CODE (3) SELECT A.DENNO,A.CODE,B.NAME FROM A , B WHERE A.CODE=B.CODE(+)
Oracle EBSとは、どういう代物なのでしょうか？ どなたかご存知の方、教えて下さい。 何卒宜しくお願い致します。
はじめまして。 DBにORACLEを使って業務システムを開発している者です。 現在の環境は サーバ OS:Windows2003 Server DB:Oracle9i Release 2 クライアント 　OS:WindowsXP DB:Oracle8.0.5 となっているんですが、Oracle9iに対してOracle8.0.5から データのエクスポートは可能なのでしょうか？ 現段階ではサーバから直接エクスポートする方向で考えているんですが・・・ 宜しければ助言の方をお願い致します。
こんにちわ。 いまORACLE19gのPLSQLでストアドプロシジャを作成しています。 そこでつぎのようなことをしたいのですがうまくいきません。 TO_CHAR(vCnt, '00000') vCntの値をLOOPで加算していって， vCntの値が1のときは'00001'， vCntの値が2のときは'00002'， vCntの値が10のときは'00010'というふうにしたいのですが， 上記のTO_CHARの結果， vCntの値が1のときは' 00001'というふうに， 頭に1バイトのスペースが入ってしまいます。 どうすればvCntの値が1のときは'00001'と 変換できるでしょうか？ 教えてください。宜しくお願いします。
こんにちわ。 いまORACLE10gのPLSQLでストアドプロシジャを作成しています。 CREATE OR REPLACE PROCEDURE procXXXXXXXX ( oCNT1 OUT NUMBER , oCNT2 OUT NUMBER , nRET OUT NUMBER ) IS ～ というものですが，これをSQL*PLUSでテストとして実行したいのですが，変数定義などどうすれば良いでしょうか？ 教えてください。よろしくお願いします。
JavaとOracleを使って業務システムを開発しています。 ビジネスロジックをどこに持ってくるか悩んでいます。 ストアドプロシージャにビジネスロジックを実装した方がパフォーマンスもよくなると思うのですが、社内的には反対意見も多いです。 ストアドプロシージャにビジネスロジックことがある方、検討したことがある方、利点や弊害など教えてください。 逆にJava側に乗せた方がよいという方も、ご意見頂戴できればありがたいです。 よろしくお願いいたします。
こんにちわ。 いまOracle10gを触っている者です。 autotrace機能を使おうと思い，ネットで調べて plustrce.sqlを実行し、PLUSTRACEロールを作成しようとしました。 ところがplustrce.sqlのなかにある， 「v_$sesstat」，「v_$statname」，「v_$mystat」がない， ということでそれぞれの実行箇所で 「ORA-00942: 表またはビューが存在しません。」というエラーが 出てしまいます。 したがって正常にロールが生成されていないようで， このままあるユーザに権限を付与して， "set autotrace on"としても， 「SP2-0618: セッション識別子が見つかりません。PLUSTRACEロールが有効かを確認してください。 SP2-0611: STATISTICSレポートを使用可能にするときにエラーが発生しました。」というエラーが出てしまいます。 おそらくはじめのエラーが障っていると思います。 どうすればエラーが取れるでしょうか？ 教えてください。よろしくお願いします。
現在1000万件近くデータがあるテーブルをパフォーマンス向上のため、パーティション化することを考えています。 環境は、Oracle10gです。 一旦、パーティション・テーブルを作成した後、データを移行する必要がありますが、 その方法に以下を考えました。 　・Accessのクエリを使って「追加」 　・ObjectBrowserでInsert文を出力し、それでInsert 膨大な件数ですので、どちらにしろ時間がかかります。 どちらかというと、後者のほうがいいのかなぁと思いましたが…。 もしこれ以外に有効な方法（10gに用意されているツール等）がありましたら、ご教授願えませんでしょうか？
CREATE TABLEで作ったテーブルのデータ型を確認したいのですがどうすればいいですか？
データベースをOracle8i→Oracle10gへ移行しました。 10gのデフォルトであるローカル管理で表領域を管理していますが、 これまでディクショナリ管理にしか接していなかったため困っています。 で、疑問が出てきました。 ローカル管理でも、フラグメンテーションは発生するとは思いますが それに対してはどのように対応したらよいでしょう。 データをDrop/Createすればデータの並びはきれいになると思いますが もし、そのように対応するならどのような基準で対象となるテーブルを選んだらよいでしょうか。 もちろん、簡単に対応する方法があったら教えてください。 これまでは複数エクステントにデータがまたがっているテーブルをディクショナリからSelectし、 第1エクステント内にデータが収まるようテーブルをDrop/Createして データをインポートしていました。 サーバ環境は OS:Windows2003Server StandardEdition DB:Oracle Database 10g 10.2.0.1.0 StandartEdition
下記の２つの表があり、 表Aから伝票番号毎に集計したTAXで、 同じ伝票番号をもつ表BのTAXを、一括更新しようと考えています。 表Bについては、伝票番号の中で最小の明細番号の行のみ 更新しなければなりません。 SQL-SERVERでは、下記のSQLでどうやら大丈夫そうなのですが、 Oracleでは、更新どころかエラーが発生してしまい、 途方に暮れています。 どなたか、ご教授頂けないでしょうか？ よろしくお願い致します。 update B set 税額 = AA.税額合計 from B inner join (select 伝票番号, min(明細番号) as 最小明細番号 　 from B group by　伝票番号) as BB on BB.伝票番号 = B.伝票番号 and BB.最小明細番号 = B.明細番号 inner join (select 伝票番号, sum(税額) as 税額合計 from A group by 伝票番号) as AA on AA.伝票番号 = B.伝票番号 （表A） ・伝票番号 ・明細番号 ・TAX （表B） ・伝票番号 ・明細番号 ・金額 ・TAX
ド忘れ＆すぐにＤＢに触れない状態で困ってます。 日付型 - 日付型 の値をHH24:MI:SS形式で求める方法を教えてください。 例. 日付Ａ = TO_DATE('20060101100000','YYYYMMDDHH24MISS') 　　日付Ｂ = TO_DATE('20060101090000','YYYYMMDDHH24MISS') の時に、日付Ａ - 日付Ｂの値を、'1:00:00'として求めたいのです。 分かりずらい説明ですみません。 ちなみにOracle8iです。
SQL分についての質問です。(ORACLE10g) データが CODE(KEY) CODE2(KEY) LINE(KEY) MONEY A B 1 100 A C 2 200 A B 3 300 と、します。 結果が A B 100 400 A B 300 400 A C 200 200 と、したいのです。つまり、MONEYとMONEYの合計が ほしいのです。 色々と頑張ったのですが、解りません。 宜しくお願い致します。
あるWebアプリケーションの一部の処理が、最近極端に処理が遅くなったと感じているものがあります。 アプリケーションの仕様も変えていない（確実とは言えません）と思いますので、OracleDB側（チューニング）の問題ではないかと疑っております。 いろいろチューニングについて調べたところ、まず「データ・ブロック数を減らす」という点を確認しようと思っています。 無駄なブロック数を減らそうとした場合、暫定的な対応にはなりますが、一度データをtruncateしてからデータを再挿入すると、きれいな状態でデータブロックが再生成される、という認識でよいのでしょうか？ （一度truncateしても処理スピードが変わらない場合は、「データブロック」の問題ではない、という判断で良いでしょうか？） 逆に上記で変わらない場合は、DB側で確認すべき点・何か原因として怪しいと考えられる点はありますでしょうか？ 宜しくお願い致します。
運用中でアクセスがあるテーブルに ALTER　TABLEで項目を追加したいのですが 問題ありますでしょうか？ オラクル９ｉです。 宜しくお願い致します。
whenever oserror exit failure whenever sqlerror exit failure を付けていても startupコマンドもしくはshutdownコマンドを実行してエラーが発生した場合、リターンコードは0になってしまいます (alter database openのようにalter文を使うと、リターンコードは0以外になります)。 これは仕様なのでしょうか？ [環境] OS:Solaris9 DB:Oracle9i
「無効なSQL文です。」というエラーで出てしまいました。 具体的にどんなSQL文が無効なのか、教えていただけますでしょうか。 漠然とした質問で申し訳ないのですが、よろしくお願いいたします。
MS-AccessをクライアントとしてOracleとODBC接続（DAO使用）を行っています。 １）パススルークエリを使用してレコードセットを取得 ２）レコードセット内の値をローカルテーブル（AccessMDB）へ登録 という動作をさせているのですが、Microsoft ODBC Driver for Oracle（2.575.1117.00）を使用した場合、１）で取得したレコード（208レコード）のうち、10レコードしか２）の動作で登録してくれません。 これはどうしてなのでしょうか？ ちなみに、ODBCドライバをOracle ODBC Driver(10.1.0.1.0)にすると正常に動作します。ODBC接続を使用したときのロックの動作でOracle製のものは正常に動作しませんでしたので、MS製のものを使用しようと検討しています。 解決策、現象について、ご教授お願いいたします。
次のように、コードＡとコードＢの並び順にＮｏをＳＱＬで更新するにはどうすれば良いでしょうか？ ＮｏはコードＡが変わると１から振りなおしです。 コードＡ　コードＢ　Ｎｏ Ａ１　　　Ｂ１　　 Ａ１　　　Ｂ２　　 Ａ１　　　Ｂ３　　 Ａ２　　　Ｂ１　　 Ａ２　　　Ｂ２　　 Ａ２　　　Ｂ３　　 ↓ コードＡ　コードＢ　Ｎｏ Ａ１　　　Ｂ１　　　１ Ａ１　　　Ｂ２　　　２ Ａ１　　　Ｂ３　　　３ Ａ２　　　Ｂ１　　　１ Ａ２　　　Ｂ２　　　２ Ａ２　　　Ｂ３　　　３
先日、副問い合わせを用いたSELECT文で特定の属性を表示しようとしたところ、同じ参照結果が表示され続けるという現象がおきてしまいました。 SELECT文の結果が表示され続け、コマンドが入力できなかったため、その時はSQL*Plusを強制終了してセッションを切ったのですが、 SELECT文の表示を途中で強制終了させるようなことは可能でしょうか？ DB等の環境は以下のようです。 DB:Oracle10g release2 DBクライアント:SQL*Plus
ORACLE10gを使用しています。下記の●考えたSQLを作成しましたが、エラーにこそなりませんがレスポンスが返ってきません。 4つの参照テーブルのうち2テーブルが外部結合の場合の効率的な書き方のアドバイスをお願いします。 ●やりたいこと ・AとB(主テーブル)から該当データ抽出 ・Bの品番・得意先でCが存在すればCからコードを抽出し、Dが存在すればそのコードの名称をDから取得 ・すごく簡単に書くと下記みたいなイメージです。エラーになりますが。 SELECT A.*,B.*,C.CD1,D.CD1NM,C.CD2,D.CD2NM,・・・ FROM A,B,C,D WHERE A.KEY1 = B.KEY1 AND A.KEY2 = B.KEY2 AND B.TOK_CD = C.TOK_CD(+) AND B.HIN_CD = C.HIN_CD(+) AND C.CD1 = D.CD1(+)・・・ ●考えたSQL SELECT A.*,B.*,C.CD1,D.CD1NM,C.CD2,D.CD2NM,・・・ FROM A,B,C,D ( SELECT C.MAKER_CD, C.HIN_CD, C.CD1, C.CD2, C.CD3 FROM A,B,C WHERE A.KEY1 = 画面.指定 AND A.KEY2 = 画面.指定 AND B.MAKER_CD=C.MAKER_CD AND B.HIN_CD = C.HIN_CD )SUB_Q WHERE A.COL1 = 画面.指定 AND A.COL2 = 画面.指定 AND A.KEY1=B.KEY1 AND A.KEY2=B.KEY2 AND B.MAKER_CD = SUB_Q.MAKER_CD(+) AND B.HIN_CD = SUB_Q.HIN_CD(+) AND D.CD1(+) = SUB_Q.CD1 AND D.CD2(+) = SUB_Q.CD2 AND D.CD3(+) = SUB_Q.CD3 ○参考 Dテーブルは大分類・中分類のような分類コードとその名称を管理するテーブルでCD1のみ値が入っていればそのレコードは大分類レコードでNAMEの値は大分類名という使用方法です。実際のSQLではDテーブルに別名を付けて、D1.CD1=** AND D1.CD2 IS NULL AND D.CD3 IS NULL ・・・とひとつずつ記述しますがここでは簡略化しています。 <レイアウトイメージ> CD1|CD2|CD3|CD4|CD5|NAME ----------------------- A|NULL|NULL|NULL|NULL|電化製品 A|a|NULL|NULL|NULL|冷蔵庫
下記のように外部結合とOR条件を同時に使用するとエラーになってしまいます。 FROM句で記述する必要があると思いますが、 下記と同様の仕様を実現するにはどう書けばよいでしょうか？ アドバイスお願いします。 SELECT A.* FROM A, B WHERE ((A.AAA = 0 AND A.BBB = B.BBB(+)) OR (A.AAA = 1 AND B.BBB(+) = 0)) ●実現したいこと A.AAAが0の場合：A.BBB= B.BBBのデータ　または A.AAAが1の場合：B.BBB=0のデータを抽出したい ●前提 ・Bテーブルに存在しなくともAテーブルを抽出したい ・実際は他にも抽出条件・参照テーブルはあります
データがあるカラムを削除したいのですが、出来ません！ drop column column_name だとデータ無しの場合しか通用しなくて・・・。 削除対象のカラムのデータだけを消そうかと、 delete from table_name where column_name=値; も考えたのですが、 where句で引っ掛かったレコードが全部消えてしまいます・・・。 1カラムだけ削除する方法を教えて下さい（＞＜） 宜しくお願いします。
次のテーブルＷ、Ｙがあります。 テーブルＹの内容をテーブルＷに更新するＳＱＬを教えてください。 カーソル処理はＮＧ、ＤＢはORACLE9です。 よろしくお願いいたします。 更新方法は、 (1)コードＡで結合する (2)テーブルＹのコードＢ以上の値を持つ、テーブルＷのレコードを更新する (3)テーブルＷの更新先項目は、コードＢの値に対応した数とする 　(例 (1)Y.コードＢ=11 なら、W.コードＢ=11～の項目「数11」を更新する 　　　(2)Y.コードＢ=15 なら、W.コードＢ=15～の項目「数15」を更新する) 【更新前】 ■テーブルＹ(更新元) コードＡ　コードＢ　数 AAA　　　　11　　　　20 AAA　　　　15　　　　26 ■テーブルＷ(更新先) コードＡ　コードＢ　日にち　数11　数12　数13　数14　数15 AAA　　　　11　　　　20060703　0　0　0　0　65 AAA　　　　12　　　　20060710　0　0　0　0　65 AAA　　　　13　　　　20060718　0　0　0　0　65 AAA　　　　14　　　　20060724　0　0　0　0　65 AAA　　　　15　　　　20060731　0　0　0　0　0 ↓ ↓ ↓ 【更新後】 テーブルＷ コードＡ　コードＢ　日にち　数11　数12　数13　数14　数15 AAA　　　　11　　　　20060703　20　0　0　0　65 AAA　　　　12　　　　20060710　20　0　0　0　65 AAA　　　　13　　　　20060718　20　0　0　0　65 AAA　　　　14　　　　20060724　20　0　0　0　65 AAA　　　　15　　　　20060731　20　0　0　0　26 テーブルＹ(更新元)を「横持ち」にしておくと楽になるでしょうか？ ■テーブルＹ(更新元) コードＡ　コードＢ　数11　数12　数13　数14　数15 AAA　　　　11　　　　20　0　0　0　0 AAA　　　　15　　　　0　0　0　0　26
Oracleを扱うようになって間もない者です。 先日Oracle8iがインストールされている環境に、さらにOracle9iをインストールしました。 これってイイレギュラーなことですよね？ 結果は、Oracleに接続できなくなりました。（sqlplusを使用したかったのですが、リスナーが何とかのエラーが返ってきます。） こういった場合、Oracle9iのみアンインストールをしたらOracle8iは使用(接続)可になるのでしょうか？ Oracle9iのみアンインストールということが出来るのでしょうか？ それとも、この状況は8i,9iともに使用(接続)不可で、両方アンインストールするしかないのでしょうか？ 心優しい技術者・経験者の方、是非教えてください。 結構困っています。
TASC_DATA表領域にインポートしたいのだが、 CREATE USER　で　間違ってますか？ CREATE USER TASC_USER IDENTIFIED BY TASC_USER DEFAULT TABLESPACE TASC_DATA TEMPORARY TABLESPACE TASC_TEMP PROFILE DEFAULT / GRANT CONNECT TO TASC_USER / GRANT RESOURCE TO TASC_USER / GRANT CREATE ROLE TO TASC_USER / GRANT EXECUTE ANY PROCEDURE TO TASC_USER / GRANT UNLIMITED TABLESPACE TO TASC_USER /
こんにちは。 SQLで分からない事があります。 大変申し訳ございませんが、ご存知の方おられましたら アドバイスをよろしくお願い致します。 SQLで無理な場合はPL/SQLでも構いません。 (質問内容) SELECT文で、カラムに入っている値を半角英字or数字だけ取り出して SELECTをしたいのですが、どのようにすればよいのでしょうか？ 例）カラムに値にABC-!123が設定されている場合、 　　ABC123がSELECTできるようにしたい。 　※カラムには何が設定されているかわかりません。 　　(NULLという事は、ありません。) 以上です。 よろしくお願い致します。
以前に質問して、テーブルスペースを指定してインデクスを作成する事に成功しました。 また、以下の文を用いて、インデクスが作成されている事を確認できました。 select owner,object_name,object_type as owner from all_objects where owner = 'username' ただ、インデクスが作成できた事は解ったのですが、それが本当に指定したテーブルスペースに作られているか確認する方法が見つからないのです。 オーナー名を表示するような感覚なのかと思って調べているのですが、糸口が見えません。 Oracle9iのSQLリファレンスを確認しているのですが、テーブルスペースに関してはCreate文しか見つかりません。探し方が悪いのでしょうか・・・。もしかしたら、違う名前で検索するべきなのかも知れません。 どなたか、お分かりになりましたら教えて頂けないでしょうか。
以下のようにテーブルを作成しようとしてます。 CREATE TABLE TEST_USER.M_USER ( ID char(4), NAME varchar2(40) NOT NULL), CONSTRAINT PK_USER PRIMARY KEY(ID) ); さて、プライマリキーを定義しているので、インデクスが作成されるはずです。 この作成先のテーブルスペースを指定したいのですが、方法が解りません。 CREATE TABLEの紹介をしているサイトにものっていなくて、途方にくれています・・・。 CONSTRAINT句を使えばいいのでしょうか？
お世話になります。 オラクル初心者です。よろしくお願い致します。 SQL Plusですが、オラクルをインストール直後は普通の速度だったのですが、 その日の内に急激に重くなりました。再起動を何度か行うとたまにですが、 通常の速度になります。 select文でcountするだけでも数分かかってしまいます。(通常時だと数秒です) なにが原因なのかアドバイスを頂ければと思います。 環境 oracle9.0.1.0.0
Oracle初心者なのですみません 助けてください。 TBL 日付,区分,開始番号,終了 2006/10/11 ,A,1,10 2006/10/11 ,B,20,22 見たいなTBLがあって、日付を指定すると 開始・終了の範囲を出力するSQL文を書きたいのですが・・・ 出力イメージは 2006/10/11,A,1 2006/10/11,A,2 2006/10/11,A,3 2006/10/11,A,4 | 2006/10/11,A,10 でこれをそのまま、新規TBLに追加したいのですが・・・・
タイトルのとおりです。セレクト分で 特定の日付（たとえば2006年10月10日）は 10月の第何週であるかを取得するにはどうすれば よいでしょうか？初歩的な質問ですいません。 select to_char(sysdate,'w') from dual; 上記ではシステム日付の週は取得できました。 よろしくお願いいたします。
はじめまして お世話になります。 OracleDatabase10gの導入を検討しておりますが、 導入にあたり、CPU、メモリ等を決定するための サイジング指標を探しております。 参考となる資料がありましたら 教えていただきたく よろしくお願いいたします。
AのデータをBにコピーをしたいのですが、AからBにうつすときはその日の一番新しいものだけにしたいのです。 例えば、昨日と一昨日のデータの一番新しいやつをコピーしたいのです。今日のデータが入っているので単純にMAXで取り出せないのです。 INSERT INTO B (DATE,NAME,ID) SELECT (DATE,NAME,ID,更新日時) FROM B WHERE DATE = (SELECT MAX(DATE) FROM A WHERE DATE BETWEEN 一昨日 AND 昨日); 根本的に違っているんでしょうか
大変困っています。 サーバにOracleの10g、クライアントに下位バージョンの オラクルを入れて使用しています。 通常は問題なくクライアントからOracleに接続できているのですが、急に「ORA-12637」エラーが出て接続ができなくなります。時間が経つと問題なく接続できるようになるのですが、考えられる原因、対策はありませんか？
お世話になっております。 oracleについて 一点質問させてください。 プロシージャーを変更する前に プロシージャーのファイルを バックアップすることは可能でしょうか？ また、もし可能でしたら、 そのコマンドをお教えください。 よろしくお願いします。
基幹システムのレスポンス悪化の要因が解明できず困っています。 PKGソフトを使用していますが保守にも入っていないので業者もあてにできない状態です。 状況を列挙すると以下のようになります。 何かアドバイスがあればお願いします。 1.表領域には充分な空がある。 2.サーバーの再起動は何度か行った。 3.インデックスの破損はない。 4.アナライズは正常に行われている。 5.ネットワークのスピードは一定の状態を保っている。 6.アラートログの出力先のドライブに空がない状態が数ヶ月続いており本来出力されるべきログが出力されていなかった。 7.アラートログにはログスイッチ発生によるものと思われるメッセージが大量に出ている。 REDOログに関してはシステム導入当初より約3年間、サイズは1024Kで3つとなっている。 環境 C/S システム (クライアント数 200程度) VB 6.0 ORACLE 8.1.7
現在Win2000に8iクライアントをPCにインストールして、8iサーバーとネットワーク接続して使用しています。 新しいシステムの資料作成の為に、このPCに10gサーバーとクライントを追加でインストールしたいと考えています。 どのような方法があるか教えてください。 ポイントは以下の通りです。 ・8iクライアントはサーバーとネットワーク接続して継続使用したい。 ・PCに10gクライアントはPCにインストールした10gサーバーとの接続のみ。 ・OSはWIN2000またはXP。 ・HDのフォーマットから行うのもOK。 ・資料作成が目的なので、パフォーマンスが落ちても可。 ・できるだけシンプルな方法 （一番良いのは、10g用にPCを1台追加すれば良いと思うのですが、諸事情でPCを用意できない状況です。） よろしくお願いします。
すみません。 以下のSQLを実行した後、登録した内容を 画面上で表示した時、 「あ～お」が「あ？お」となってしまいました。 「～」文字を登録する場合はSQLで何か処理しないといけないのでしょうか。 INSERT INTO TEST (A,B,) VALUES(1,'あ～お') よろしくお願いします。
はじめて投稿させていただきます。 Oracle をWinクライアント(SQL Plus)でずっと使用しておりましたが、新しい会社に来てMac Terminal より使用することになりましたが、まだなれていないこともあり、@ (start ) file_name などのファイルコマンドを使用したくても使えずに途方に暮れています。UNIX(Sun 5.0) 上の環境設定が問題になっていると思われますが、どなたかお詳しい方、どうぞご享受くださいませ。
テーブル更新時にORA-01631(最大エクステント数に達した・・）というエラーがでました。 該当のテーブルに対して、データを削除しましたが (1)最大エクステント数の広げる方法 (2)エクステント数が最大に近づいているテーブルの調べ方 を教えて下さい。 よろしくお願いします の対応方法について
どなたかお判りになる方、ご教示ください。 ★やりたいこと PL/SQLにて、マスタから取得した値をORDER BY句に指定したい。 （例）以下のようなマスタがあるとします。 -------------------------- ソートマスタ　SORT_MST ソート順　SORT_ORDER ソート項目　SORT_ITEM ソート種別　SORT_SBT -------------------------- この「ソートマスタ」の「ソート項目」には、以下のトランザクションテーブルの物理カラム名が格納されています。 -------------------------- トランTRN 商品種別　ITM_SBT 商品コードITEM_COD 商品名　ITEM_NM 金額　　ITM_AMN -------------------------- PL/SQLにて「ソートマスタ」から値取得後、「ITEM_COD　ASC,ITM_AMN ASC」という文字列を作成し、「トラン」検索時にORDER BY句に指定したのですが、ORDER BY句が全く効いてくれません。 お忙しいところ恐れ入りますが、ご存知の方、よろしくお願い致します。
環境：Oracle9i 9.2.0.1.0 言語：VB6 ネットワーク：VPN DBサーバは本社に１つしかなくクライアントは全国数社から動作している受注システムですが突然DBサーバが接続できなくなってしまいました。 そのとき行ったイベントとしては１つの支社にVPNを接続しようとしていたらしくルータの変更等をしていた模様です。限りなくネットワークの設定で障害が発生したんじゃないかと思われるのですが障害中のとき、社内でDBサーバのIPは接続できており、クライアントからSQLPLUSで接続しようとしても接続できない状態でした。ということでORACLEの問題じゃないのかと疑われています。 しかし、そのときORACLEでは何もしていないため、誤解を説明したいのですがORACLEではないと証明するためにはどうすればよいでしょうか？ SQLNET等の設定を変更していないからORACLEの問題ではないと言えばいいのかどう説明したら理解してもらえるか悩んでいます。 情報不足で申し訳ありませんがアドバイスお願い致します。
初心者です。 以下のSQL文の違い及びcount(1)の1が何を表しているのか 教えて頂けないでしょうか？ select count(*) from table select count(1) from table また、参考しやすいサイト等ありましたら教えて頂けないでしょうか？
oracle8.1ｉを利用しています。 テーブル毎に、現在件数、最大格納件数、 ディスク容量を知りたいのですが、どのように 調べたらよいでしょうか？
データを抽出したいのですが、 ・A条件 ・B条件 ・AB条件以外 ・上記抽出条件から除外する条件 この様な場合、どうすればよいのでしょうか？ OR,AND条件の組み合わせでできない事は無いのですが 複雑になってしまいます。
　お世話になっております。 　顧客にC/Sで業務システムを導入済みですが、帳票で枠だけが印刷されてしまう問題が発生しております。 [開発環境] ＜サーバ＞ Windows Server 2003 Oracle 9i Server ＜クライアント＞ Windows XP SP2 VB.NET 2002 (+ Crystal Report) Oracle 9i Client [顧客側環境] ＜サーバ＞ Windows 2000 Server Oracle 9i Server ＜クライアント＞ Windows XP SP2 Oracle 9i Client 　業務システムの概要は、VBで作成した画面の[印刷]ボタンを押せば、ワークテーブルを一旦クリア(DELETE)し、その後、該当レコードをINSERTし、そのワークテーブルを参照している帳票4種類が印刷されるようになってます。 　問題は、4番目の帳票で、レコードが入ってない枠だけの紙が印刷されることが時々あります。(昨年は1回。今年はここ2ヶ月で5回ほどに増えてます。) 　考えられる原因としては、[印刷]ボタンを素早くクリックすると、一回目のクリックで作成されたレコードが、二回目のクリックでクリアされてしまうためと思いましたが、顧客はそのような操作はしてないと言ってます。 　原因を特定させることができずに困ってます。 　もし同様の症例で解決された方、ご教授下さい。 　よろしくお願い致します。
windows2003serverでoracleを起動していました。OEMよりアクセスし、oracleを停止しました。起動しようとOEMでアクセスしようとしたら【見つかりません】等のえらーが出たので、コマンドプロンプトでemctlコマンドを実行し、agentとmanagement serviceを実行しました。しかし、【Environment variable ORACLE_SID not defined. Please define it.】というエラーが出て起動できないじょうたいになっています。 なにが悪いのでしょうか？ ご存知の方よろしくお願いします。
お世話になります。 長時間トランザクション処理を行おうと思うのですが、 （３０００万件のデータを２つのテーブル間でコピーします。 　トランザクション処理中、継続して論理ログのバックアップを行います） ロングトランザクション（そのまま？）という用語があり、 長時間のトランザクション処理には問題があると聞きました。 ロングトランザクションの問題について、ご存知の方、教えてください。 よろしくお願い致します。
ネットサービス名とグローバルデータベース名はどう違うのでしょうか？お願いします。
Oracle8i databaseに対するSQLについて教えていただきたく。 Table A(従業員)のRow_IDをキーにして3つの Table B(性別)、C(年齢)、D(部署)がそれぞれB.emp_id、C.person_id、D.target_id で関連付けられる場合に Table B、C、Dのどのテーブルにも関連付けられない宙ぶらりんなTable AのRow_IDの調べ方が分かりません。 尚、Table Aはマスター表でRow_IDの重複はありませんが、B、C、Dに関してはTabele Aのレコード1行に対してN行存在します。 誤ったレコードをTable Aに挿入してしまいメンテを行う為に宙ぶらりんになっているTable Aのレコードを調査したいのです。 どうか宜しくお願い致します。
CSE(Common SQL Environment)の操作方法について教えてください。 ショートカットキーで、 Ctrl+W　データ書き込み Ctrl+K　コミット Ctrl+R　ロールバック というのがあるかと思いますが、上記の他にもショートカットキーがありましたら教えてください。
Oracle10gのデータベースでテーブル等を削除した際にできる フラッシュバックを削除したいのですが、 10gより前のバージョンのSQL*plusから 　PURGE RECYCLEBIN を実行すると、 　SP2-0734: "PURGE RECY..."で開始するコマンドが不明です - 残りの行は無視されました。 などとなります。 10gより前のバージョンのSQL*plusから、 RECYCLEBINの中身を削除する方法はないのでしょうか？ ないなら、削除する際にフラッシュバックテーブルを作成しない方法はありますでしょうか？
よろしくお願い致します。 SQL*Plusで、 select kou1,kou2,kou3 from tableA where kou1='A' union all select kou1,kou2,kou3 from tableA where kou1='B' という検索を行った結果が、 kou1 kou2 kou3 ---- ---- ---- A　 0 AAAA B 　　 0 　BBBB というようになって、項目の値が綺麗に縦方向に並びません（出力する項目数が多いと見にくく分かりません） どうすれば、各項目ごとに綺麗に縦に並んだ表示が出来るのでしょうか？ 初歩的な質問で申し訳ありませんがよろしくお願い致します。なお各項目はchar型（not nullにしています）です。
Oracle8.1iでの質問です。 クライアントからサーバへなんらかのSQL文を 投げた場合、サーバで処理をし、クライアントに 結果を返すと思いますが。 サーバ側でのＳＱＬ文の処理開始時刻と処理終了時刻を知りたいのですが、どのような システムテーブルを見ればよいのかご存知の方 教えてください。ＳＱＬ文まで、分かれば助かります。
初心者の質問で申し訳ないです。OracleのDBの定義で配列は使用できるのでしょうか？
SQLPlusで、MS-DOSコマンドプロンプトを使用する場合、SELECT分の抽出があいまいすぎて大量のデータが結果として表示される場合、途中でキャンセルはできないのでしょうか？現状、出力が終えるまでぼけーって待ってます。 今回の質問のようにMS-DOSコマンドプロンプトのコマンドが他にもありましたら教えてください。
巨大なテーブル同士を結合する際に、みなさんはどのように結合されますか？もっともパフォーマンスのある方法を模索しているところです。 テーブルA：約900万件 テーブルB：約400万件 テーブルAのインデックスはカラム：idです。 テーブルBにはインデックスはありません。 取得したいのはBテーブルに含まれるAテーブルのidの件数です。 select 　count(id) from B where A.id = B.id なんてやると、数時間かかります。 select count(id) from B where exists(select * from A where A.id = B.id) ですと、約3hぐらいかかりました。 inで実行すると等価結合したときと変わらないぐらいになります。 こういう場合、皆さんはどう結合されていますか？ お知恵を拝借できると幸いです。 ちなみにoracle 8iです。 よろしくお願いいたします。
(TBL_A) A1　　A2 ----------- 1　　100 2　　200 3　　300 4　　400 5　　500 (TBL_B) B1　　B2 ----------- 1　　100 3　　300 4　　400 上記のようなテーブルＡとＢがあったとして 次のようなＵＰＤＡＴＥ文を実行することはできますか？ できない場合、ＳＱＬ１発で更新する他の方法はありますでしょうか？ UPDATE TBL_A A SET A.A1 = A.A1 + B.B1 A.A2 = A.A2 + B.B2 WHERE EXISTS (SELECT 'X' FROM TBL_B B WHERE A.A1=B.B1) 【更新後のTBL_A表】 A1　　A2 ----------- 1　　200 <= (*)更新される 2　　200 3　　600 <= (*)更新される 4　　400 5　 1000 <= (*)更新される 【やりたいこと】 TBL_A表のA2列のデータにTBL_B表のB2列のデータを加算したい。 その場合の更新条件として「A1がB1に存在している場合のみ」という条件を加えたいのです。 すいませんが、よろしくおねがいします。
MAINとSUBと言うスキーマを作成し、MAINスキーマにSUBスキーマにある テーブルを使用してVIEWを作成したいのですがうまくいきません。
かねやんMySQLAdminは便利ですが、オラクル用のフリーのものはありますか？ 今、お試し版10をダウンロードしている最中ですが、押入れからOracle7 Enterprise Server7が出てきたのですがこれもWindowsXPで使えますか？
PHPとオラクルDBでテストしてみたいのですが、PHPはフリーで手に入るのですが、Windows環境でオラクルを無料（お試し）や安い価格で手に入れることは可能でしょうか？ また、最近のMySQLなどは、実行EXEファイルをダブルクリックして次へ次へと進めていけば、簡単にインストールできますが、Oracleはどうなんでしょうか？ Oracleユーザーの方、教えてください。
こんにちわ 質問なんですが、oracleのデータを他のマシンに移行するためにテーブルをエクスポートしようと思うのですが、エクスポートする際、シーケンスもいっしょにエクスポートすることは可能なのでしょうか?
●趣旨 下記のテーブルを参照しデータを抽出したいのですが、うまくいきません。 前回の質問に近い内容ですが是非アドバイスをお願いします。 【在庫ファイル】 品番 メーカー 0001 A 0001 B 【棚卸ファイル】 棚卸日 品番 メーカー 2005/10/10 0001 A 2006/10/10 0001 B 【商品情報M】 品番 メーカー 適用日 原価 0001 A 2004/01/01 500 0001 A 2005/01/01 1000 0001 A 2006/01/01 2000 0001 C 2005/01/01 5000 ☆画面でメーカー指定：A～B 【求める結果】 品番 メーカー 原価 0001 A 1000(棚卸ファイル.棚卸日以前のデータ内でMAX(適用日)の原価) 0001 B 0(←商品情報に存在しない場合は0にする) SELECT 在庫ファイル.品番, 在庫ファイル.メーカー, NVL(商品情報.原価,0) FROM 商品情報M, 在庫ファイル, 棚卸ファイル, ( SELECT 品名情報M.品番, 品名情報M.メーカー, MAX(品名情報M.適用日) MAX日付 FROM 商品情報M, 在庫ファイル, 棚卸ファイル WHERE 在庫ファイル.メーカー = 商品情報M.メーカー AND 在庫.品番 = 商品情報M.品番 AND 棚卸ファイル.棚卸日 >= 商品情報M.適用日 )SUB_Q WHERE SUB_Q.MAX日付(+) = 商品情報M.適用日 AND 在庫ファイル.メーカー = SUB_Q.メーカー(+) AND 在庫ファイル.品番 = SUB_Q.品番(+) ●やりたいこと ・在庫ファイル・棚卸ファイルを主テーブルとして、対象の品番・メーカーを抽出し、 その品番・メーカーの原価を結果として返したいです。 ・原価は棚卸日以前のMAX(適用日)のものを取得したいです。 ●現状 上記のようなSQLを作成したのですが、結果は 主テーブルに存在しないメーカーCの原価を取得してしまい、 原価だけが異なる複数レコードが取得されてしまいます。
